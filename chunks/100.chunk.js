"use strict";(self.k9ivgwsw3f=self.k9ivgwsw3f||[]).push([[100],{16161:(Y,b,C)=>{C.r(b),C.d(b,{FlowGraphThrottleBlock:()=>E});var R=C(14424),q=C(14466),A=C(12790);class E extends q.d{constructor(Y){super(Y),this.reset=this._registerSignalInput("reset"),this.duration=this.registerDataInput("duration",R.q),this.lastRemainingTime=this.registerDataOutput("lastRemainingTime",R.q,NaN)}_execute(Y,b){if(b===this.reset)return this.lastRemainingTime.setValue(NaN,Y),Y._setExecutionVariable(this,"lastRemainingTime",NaN),void Y._setExecutionVariable(this,"timestamp",0);const C=this.duration.getValue(Y);if(C<=0||isNaN(C)||!isFinite(C))return this._reportError(Y,"Invalid duration in Throttle block");const R=Y._getExecutionVariable(this,"lastRemainingTime",NaN),q=Date.now();if(isNaN(R))return this.lastRemainingTime.setValue(0,Y),Y._setExecutionVariable(this,"lastRemainingTime",0),Y._setExecutionVariable(this,"timestamp",q),this.out._activateSignal(Y);{const b=q-Y._getExecutionVariable(this,"timestamp",0),R=1e3*C;if(R<=b)return this.lastRemainingTime.setValue(0,Y),Y._setExecutionVariable(this,"lastRemainingTime",0),Y._setExecutionVariable(this,"timestamp",q),this.out._activateSignal(Y);{const C=R-b;this.lastRemainingTime.setValue(C/1e3,Y),Y._setExecutionVariable(this,"lastRemainingTime",C)}}}getClassName(){return"FlowGraphThrottleBlock"}}(0,A.g)("FlowGraphThrottleBlock",E)}}]);