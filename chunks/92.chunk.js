"use strict";(self["6xhfpmwgjr5"]=self["6xhfpmwgjr5"]||[]).push([[92],{16469:(P,a,R)=>{R.r(a),R.d(a,{FlowGraphInterpolationBlock:()=>j});var S=R(14549),A=R(14524),Z=R(12909),p=R(12376);class j extends S.e{constructor(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(P),this.keyFrames=[];const a="string"===typeof(null===P||void 0===P?void 0:P.animationType)?(0,A.J)(P.animationType):(0,A.F)((null===P||void 0===P?void 0:P.animationType)??0),R=(null===P||void 0===P?void 0:P.keyFramesCount)??1,S=this.registerDataInput("duration_0",A.p,0),Z=this.registerDataInput("value_0",a);this.keyFrames.push({duration:S,value:Z});for(let p=1;p<R+1;p++){const S=this.registerDataInput(`duration_${p}`,A.p,p===R?P.duration:void 0),Z=this.registerDataInput(`value_${p}`,a);this.keyFrames.push({duration:S,value:Z})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[R].value,this.easingFunction=this.registerDataInput("easingFunction",A.c),this.animation=this.registerDataOutput("animation",A.c),this.propertyName=this.registerDataInput("propertyName",A.c,null===P||void 0===P?void 0:P.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",A.c)}_updateOutputs(P){const a=P._getGlobalContextVariable("interpolationAnimations",[]),R=this.propertyName.getValue(P),S=this.easingFunction.getValue(P),A=this._createAnimation(P,R,S);if(this.animation.setValue(A,P),Array.isArray(A))for(const Z of A)a.push(Z.uniqueId);else a.push(A.uniqueId);P._setGlobalContextVariable("interpolationAnimations",a)}_createAnimation(P,a,R){var S;const A=this.initialValue.richType,p=[],j=this.initialValue.getValue(P)||A.defaultValue;p.push({frame:0,value:j});const U=(null===(S=this.config)||void 0===S?void 0:S.numberOfKeyFrames)??1;for(let Z=1;Z<U+1;Z++){var Q,h;const a=null===(Q=this.keyFrames[Z].duration)||void 0===Q?void 0:Q.getValue(P);let R=null===(h=this.keyFrames[Z].value)||void 0===h?void 0:h.getValue(P);Z===U-1&&(R=R||A.defaultValue),void 0!==a&&R&&p.push({frame:60*a,value:R})}const l=this.customBuildAnimation.getValue(P);if(l)return l(null,null,P)(p,60,A.animationType,R);if("string"===typeof a){const P=Z.e.CreateAnimation(a,A.animationType,60,R);return P.setKeys(p),[P]}return a.map((P=>{const a=Z.e.CreateAnimation(P,A.animationType,60,R);return a.setKeys(p),a}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,p.d)("FlowGraphInterpolationBlock",j)}}]);