"use strict";(self.bbj0x35f849=self.bbj0x35f849||[]).push([[93],{14514:(N,q,C)=>{C.r(q),C.d(q,{FlowGraphJsonPointerParserBlock:()=>t});var d=C(12825),U=C(12831);const W=new RegExp(/\/\{(\w+)\}(?=\/|$)/g);class a{constructor(N,q){this.path=N,this.ownerBlock=q,this.templatedInputs=[];let C=W.exec(N);const a=new Set;for(;C;){const[,F]=C;if(a.has(F))throw new Error("Duplicate template variable detected.");a.add(F),this.templatedInputs.push(q.registerDataInput(F,U.g,new d.b(0))),C=W.exec(N)}}getAccessor(N,q){let C=this.path;for(const d of this.templatedInputs){const N=d.getValue(q).value;if("number"!==typeof N||N<0)throw new Error("Invalid value for templated input.");C=C.replace(`{${d.name}}`,N.toString())}return N.convert(C)}}var F=C(11076),w=C(11122),A=C(11167),n=C(14333);class t extends n.e{constructor(N){super(U.b,N),this.config=N,this.object=this.registerDataOutput("object",U.b),this.propertyName=this.registerDataOutput("propertyName",U.b),this.setterFunction=this.registerDataOutput("setFunction",U.b,this._setPropertyValue.bind(this)),this.getterFunction=this.registerDataOutput("getFunction",U.b,this._getPropertyValue.bind(this)),this.generateAnimationsFunction=this.registerDataOutput("generateAnimationsFunction",U.b,this._getInterpolationAnimationPropertyInfo.bind(this)),this.templateComponent=new a(N.jsonPointer,this)}_doOperation(N){var q,C,d;const U=this.templateComponent.getAccessor(this.config.pathConverter,N),W=U.info.get(U.object),a=null===(q=(C=U.info).getTarget)||void 0===q?void 0:q.call(C,U.object),F=null===(d=U.info.getPropertyName)||void 0===d?void 0:d[0](U.object);if(!a)throw new Error("Object is undefined");return this.object.setValue(a,N),F&&this.propertyName.setValue(F,N),W}_setPropertyValue(N,q,C,d){var U,W;const a=this.templateComponent.getAccessor(this.config.pathConverter,d),F=a.info.type;F.startsWith("Color")&&(C=V(C,F)),null===(U=(W=a.info).set)||void 0===U||U.call(W,C,a.object)}_getPropertyValue(N,q,C){const d=this.templateComponent.getAccessor(this.config.pathConverter,C),U=d.info.type,W=d.info.get(d.object);return U.startsWith("Color")?function(N){if(N instanceof A.Oq)return new w.Jq(N.r,N.g,N.b);if(N instanceof A.md)return new w.Vector4(N.r,N.g,N.b,N.a);throw new Error("Invalid color type")}(W):W}_getInterpolationAnimationPropertyInfo(N,q,C){const d=this.templateComponent.getAccessor(this.config.pathConverter,C);return(N,q,C,U)=>{var W;const a=[],F=d.info.type;return F.startsWith("Color")&&(N=N.map((N=>({frame:N.frame,value:V(N.value,F)})))),null===(W=d.info.interpolation)||void 0===W||W.forEach(((q,W)=>{var F;const w=(null===(F=d.info.getPropertyName)||void 0===F?void 0:F[W](d.object))||"Animation-interpolation-"+W;let A=N;C!==q.type&&(A=N.map((N=>({frame:N.frame,value:q.getValue(void 0,N.value.zd?N.value.zd():[N.value],0,1)}))));const n=q.buildAnimations(d.object,w,60,A);for(const N of n)U&&N.babylonAnimation.setEasingFunction(U),a.push(N.babylonAnimation)})),a}}getClassName(){return"FlowGraphJsonPointerParserBlock"}}function V(N,q){return N.getClassName().startsWith("Color")?N:"Oq"===q?new A.Oq(N.x,N.y,N.z):"md"===q?new A.md(N.x,N.y,N.z,N.w):N}(0,F.h)("FlowGraphJsonPointerParserBlock",t)},14333:(N,q,C)=>{C.d(q,{e:()=>F});var d=C(12856),U=C(12831);const W="cachedOperationValue",a="cachedExecutionId";class F extends d.d{constructor(N,q){super(q),this.value=this.registerDataOutput("value",N),this.isValid=this.registerDataOutput("isValid",U.e)}_updateOutputs(N){const q=N._getExecutionVariable(this,a,-1),C=N._getExecutionVariable(this,W,null);if(void 0!==C&&null!==C&&q===N.executionId)this.isValid.setValue(!0,N),this.value.setValue(C,N);else try{const q=this._doOperation(N);if(void 0===q||null===q)return void this.isValid.setValue(!1,N);N._setExecutionVariable(this,W,q),N._setExecutionVariable(this,a,N.executionId),this.value.setValue(q,N),this.isValid.setValue(!0,N)}catch(d){this.isValid.setValue(!1,N)}}}}}]);