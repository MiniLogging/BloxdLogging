"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[93],{15896:(z,u,U)=>{U.r(u),U.d(u,{FlowGraphJsonPointerParserBlock:()=>d});var J=U(14192),v=U(14196);const f=new RegExp(/\/\{(\w+)\}(?=\/|$)/g);class g{constructor(z,u){this.path=z,this.ownerBlock=u,this.templatedInputs=[];let U=f.exec(z);const g=new Set;for(;U;){const[,w]=U;if(g.has(w))throw new Error("Duplicate template variable detected.");g.add(w),this.templatedInputs.push(u.registerDataInput(w,v.l,new J.e(0))),U=f.exec(z)}}getAccessor(z,u){let U=this.path;for(const J of this.templatedInputs){const z=J.getValue(u).value;if("number"!==typeof z||z<0)throw new Error("Invalid value for templated input.");U=U.replace("{".concat(J.name,"}"),z.toString())}return z.convert(U)}}var w=U(12875),P=U(12914),R=U(12967),S=U(15724);class d extends S.c{constructor(z){super(v.e,z),this.config=z,this.object=this.registerDataOutput("object",v.e),this.propertyName=this.registerDataOutput("propertyName",v.e),this.setterFunction=this.registerDataOutput("setFunction",v.e,this._setPropertyValue.bind(this)),this.getterFunction=this.registerDataOutput("getFunction",v.e,this._getPropertyValue.bind(this)),this.generateAnimationsFunction=this.registerDataOutput("generateAnimationsFunction",v.e,this._getInterpolationAnimationPropertyInfo.bind(this)),this.templateComponent=new g(z.jsonPointer,this)}_doOperation(z){var u,U,J;const v=this.templateComponent.getAccessor(this.config.pathConverter,z),f=v.info.get(v.object),g=null===(u=(U=v.info).getTarget)||void 0===u?void 0:u.call(U,v.object),w=null===(J=v.info.getPropertyName)||void 0===J?void 0:J[0](v.object);if(!g)throw new Error("Object is undefined");return this.object.setValue(g,z),w&&this.propertyName.setValue(w,z),f}_setPropertyValue(z,u,U,J){var v,f;const g=this.templateComponent.getAccessor(this.config.pathConverter,J),w=g.info.type;w.startsWith("Color")&&(U=mz(U,w)),null===(v=(f=g.info).set)||void 0===v||v.call(f,U,g.object)}_getPropertyValue(z,u,U){const J=this.templateComponent.getAccessor(this.config.pathConverter,U),v=J.info.type,f=J.info.get(J.object);return v.startsWith("Color")?function(z){if(z instanceof R.Tu)return new P.Eu(z.r,z.g,z.b);if(z instanceof R.wg)return new P.Vector4(z.r,z.g,z.b,z.a);throw new Error("Invalid color type")}(f):f}_getInterpolationAnimationPropertyInfo(z,u,U){const J=this.templateComponent.getAccessor(this.config.pathConverter,U);return(z,u,U,v)=>{var f;const g=[],w=J.info.type;return w.startsWith("Color")&&(z=z.map((z=>({frame:z.frame,value:mz(z.value,w)})))),null===(f=J.info.interpolation)||void 0===f||f.forEach(((u,f)=>{var w;const P=(null===(w=J.info.getPropertyName)||void 0===w?void 0:w[f](J.object))||"Animation-interpolation-"+f;let R=z;U!==u.type&&(R=z.map((z=>({frame:z.frame,value:u.getValue(void 0,z.value.jf?z.value.jf():[z.value],0,1)}))));const S=u.buildAnimations(J.object,P,60,R);for(const z of S)v&&z.babylonAnimation.setEasingFunction(v),g.push(z.babylonAnimation)})),g}}getClassName(){return"FlowGraphJsonPointerParserBlock"}}function mz(z,u){return z.getClassName().startsWith("Color")?z:"Tu"===u?new R.Tu(z.x,z.y,z.z):"wg"===u?new R.wg(z.x,z.y,z.z,z.w):z}(0,w.f)("FlowGraphJsonPointerParserBlock",d)},15724:(z,u,U)=>{U.d(u,{c:()=>w});var J=U(14218),v=U(14196);const f="cachedOperationValue",g="cachedExecutionId";class w extends J.b{constructor(z,u){super(u),this.value=this.registerDataOutput("value",z),this.isValid=this.registerDataOutput("isValid",v.h)}_updateOutputs(z){const u=z._getExecutionVariable(this,g,-1),U=z._getExecutionVariable(this,f,null);if(void 0!==U&&null!==U&&u===z.executionId)this.isValid.setValue(!0,z),this.value.setValue(U,z);else try{const u=this._doOperation(z);if(void 0===u||null===u)return void this.isValid.setValue(!1,z);z._setExecutionVariable(this,f,u),z._setExecutionVariable(this,g,z.executionId),this.value.setValue(u,z),this.isValid.setValue(!0,z)}catch(J){this.isValid.setValue(!1,z)}}}}}]);