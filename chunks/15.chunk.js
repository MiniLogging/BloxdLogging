"use strict";(self.lfntwv94xlc=self.lfntwv94xlc||[]).push([[15],{13813:(m,S,h)=>{h.r(S),h.d(S,{_IESTextureLoader:()=>b});var l=h(11359);function M(m){return m.split(" ").filter((m=>""!==m)).map((m=>parseFloat(m)))}function O(m,S,h){for(;h.length!==S;){const S=M(m.lines[m.index++]);h.push(...S)}}function u(m,S,h){let M=0,O=0,u=0,b=0,q=0,Y=0;for(let l=0;l<m.numberOfHorizontalAngles-1;l++)if(h<m.horizontalAngles[l+1]||l===m.numberOfHorizontalAngles-2){O=l,u=m.horizontalAngles[l],b=m.horizontalAngles[l+1];break}for(let l=0;l<m.numberOfVerticalAngles-1;l++)if(S<m.verticalAngles[l+1]||l===m.numberOfVerticalAngles-2){M=l,q=m.verticalAngles[l],Y=m.verticalAngles[l+1];break}const V=b-u,I=Y-q;if(0===I)return 0;const Z=0===V?0:(h-u)/V,C=(S-q)/I,B=0===V?O:O+1,D=(0,l.Lerp)(m.candelaValues[O][M],m.candelaValues[B][M],Z),E=(0,l.Lerp)(m.candelaValues[O][M+1],m.candelaValues[B][M+1],Z);return(0,l.Lerp)(D,E,C)}class b{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(m,S,h){const l=function(m){const S={lines:new TextDecoder("utf-8").decode(m).split("\n"),index:0},h={version:S.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(S.index=1;S.lines.length>0&&!S.lines[S.index].includes("TILT=");)S.index++;S.lines[S.index].includes("INCLUDE"),S.index++;const l=M(S.lines[S.index++]);h.numberOfLights=l[0],h.lumensPerLamp=l[1],h.candelaMultiplier=l[2],h.numberOfVerticalAngles=l[3],h.numberOfHorizontalAngles=l[4],h.photometricType=l[5],h.unitsType=l[6],h.width=l[7],h.length=l[8],h.height=l[9];const b=M(S.lines[S.index++]);h.ballastFactor=b[0],h.fileGenerationType=b[1],h.inputWatts=b[2];for(let M=0;M<h.numberOfHorizontalAngles;M++)h.candelaValues[M]=[];O(S,h.numberOfVerticalAngles,h.verticalAngles),O(S,h.numberOfHorizontalAngles,h.horizontalAngles);for(let M=0;M<h.numberOfHorizontalAngles;M++)O(S,h.numberOfVerticalAngles,h.candelaValues[M]);let q=-1;for(let M=0;M<h.numberOfHorizontalAngles;M++)for(let m=0;m<h.numberOfVerticalAngles;m++)h.candelaValues[M][m]*=h.candelaValues[M][m]*h.candelaMultiplier*h.ballastFactor*h.fileGenerationType,q=Math.max(q,h.candelaValues[M][m]);if(q>0)for(let M=0;M<h.numberOfHorizontalAngles;M++)for(let m=0;m<h.numberOfVerticalAngles;m++)h.candelaValues[M][m]/=q;const Y=180,V=360,I=new Float32Array(64800),Z=h.horizontalAngles[0],C=h.horizontalAngles[h.numberOfHorizontalAngles-1];for(let M=0;M<64800;M++){let m=M%V;const S=Math.floor(M/V);C-Z!==0&&(m<Z||m>=C)&&(m%=2*C,m>C&&(m=2*C-m)),I[S+m*Y]=u(h,S,m)}return{width:180,height:1,data:I}}(new Uint8Array(m.buffer,m.byteOffset,m.byteLength));h(l.width,l.height,!1,!1,(()=>{const m=S.getEngine();S.type=1,S.format=6,S._gammaSpace=!1,m._uploadDataToTextureDirectly(S,l.data)}))}}},11359:(m,S,h)=>{function l(m){return parseInt(m.toString().replace(/\W/g,""))}function M(m,S){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(m-S)<=h}function O(m,S,h){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return m<S-l||m>h+l}function u(m,S){return m===S?m:Math.random()*(S-m)+m}function b(m,S,h){return m+(S-m)*h}function q(m,S,h){let l=E(S-m,360);return l>180&&(l-=360),m+l*Z(h)}function Y(m,S,h){let l=0;return l=m!=S?Z((h-m)/(S-m)):0,l}function V(m,S,h,l,M){const O=M*M,u=M*O;return m*(2*u-3*O+1)+h*(-2*u+3*O)+S*(u-2*O+M)+l*(u-O)}function I(m,S,h,l,M){const O=M*M;return 6*(O-M)*m+(3*O-4*M+1)*S+6*(-O+M)*h+(3*O-2*M)*l}function Z(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(h,Math.max(S,m))}function C(m){return m-=2*Math.PI*Math.floor((m+Math.PI)/(2*Math.PI))}function B(m){const S=m.toString(16);return m<=15?("0"+S).toUpperCase():S.toUpperCase()}function D(m){if(Math.log2)return Math.floor(Math.log2(m));if(m<0)return NaN;if(0===m)return-1/0;let S=0;if(m<1){for(;m<1;)S++,m*=2;S=-S}else if(m>1)for(;m>1;)S++,m=Math.floor(m/2);return S}function E(m,S){return m-Math.floor(m/S)*S}function n(m,S,h){return(m-S)/(h-S)}function L(m,S,h){return m*(h-S)+S}function U(m,S){let h=E(S-m,360);return h>180&&(h-=360),h}function H(m,S){const h=E(m,2*S);return S-Math.abs(h-S)}function R(m,S,h){let l=Z(h);return l=-2*l*l*l+3*l*l,S*l+m*(1-l)}function y(m,S,h){let l=0;return l=Math.abs(S-m)<=h?S:m+Math.sign(S-m)*h,l}function o(m,S,h){const l=U(m,S);let M=0;return M=-h<l&&l<h?S:y(m,S=m+l,h),M}function s(m,S,h){return(m-S)/(h-S)}function v(m,S,h){return(h-S)*m+S}function T(m,S){const h=m%S;return 0===h?S:T(S,h)}h.r(S),h.d(S,{Clamp:()=>Z,DeltaAngle:()=>U,Denormalize:()=>L,ExtractAsInt:()=>l,Hermite:()=>V,Hermite1stDerivative:()=>I,HighestCommonFactor:()=>T,ILog2:()=>D,InverseLerp:()=>Y,Lerp:()=>b,LerpAngle:()=>q,MoveTowards:()=>y,MoveTowardsAngle:()=>o,Normalize:()=>n,NormalizeRadians:()=>C,OutsideRange:()=>O,PercentToRange:()=>v,PingPong:()=>H,RandomRange:()=>u,RangeToPercent:()=>s,Repeat:()=>E,SmoothStep:()=>R,ToHex:()=>B,WithinEpsilon:()=>M})}}]);