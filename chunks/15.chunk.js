"use strict";(self.nyfa010khv=self.nyfa010khv||[]).push([[15],{14585:(L,r,p)=>{p.r(r),p.d(r,{_IESTextureLoader:()=>z});var J=p(12154);function i(L){return L.split(" ").filter((L=>""!==L)).map((L=>parseFloat(L)))}function n(L,r,p){for(;p.length!==r;){const r=i(L.lines[L.index++]);p.push(...r)}}function j(L,r,p){let i=0,n=0,j=0,z=0,G=0,C=0;for(let J=0;J<L.numberOfHorizontalAngles-1;J++)if(p<L.horizontalAngles[J+1]||J===L.numberOfHorizontalAngles-2){n=J,j=L.horizontalAngles[J],z=L.horizontalAngles[J+1];break}for(let J=0;J<L.numberOfVerticalAngles-1;J++)if(r<L.verticalAngles[J+1]||J===L.numberOfVerticalAngles-2){i=J,G=L.verticalAngles[J],C=L.verticalAngles[J+1];break}const t=z-j,E=C-G;if(0===E)return 0;const x=0===t?0:(p-j)/t,w=(r-G)/E,g=0===t?n:n+1,b=(0,J.Lerp)(L.candelaValues[n][i],L.candelaValues[g][i],x),c=(0,J.Lerp)(L.candelaValues[n][i+1],L.candelaValues[g][i+1],x);return(0,J.Lerp)(b,c,w)}class z{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(L,r,p){const J=function(L){const r={lines:new TextDecoder("utf-8").decode(L).split("\n"),index:0},p={version:r.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(r.index=1;r.lines.length>0&&!r.lines[r.index].includes("TILT=");)r.index++;r.lines[r.index].includes("INCLUDE"),r.index++;const J=i(r.lines[r.index++]);p.numberOfLights=J[0],p.lumensPerLamp=J[1],p.candelaMultiplier=J[2],p.numberOfVerticalAngles=J[3],p.numberOfHorizontalAngles=J[4],p.photometricType=J[5],p.unitsType=J[6],p.width=J[7],p.length=J[8],p.height=J[9];const z=i(r.lines[r.index++]);p.ballastFactor=z[0],p.fileGenerationType=z[1],p.inputWatts=z[2];for(let i=0;i<p.numberOfHorizontalAngles;i++)p.candelaValues[i]=[];n(r,p.numberOfVerticalAngles,p.verticalAngles),n(r,p.numberOfHorizontalAngles,p.horizontalAngles);for(let i=0;i<p.numberOfHorizontalAngles;i++)n(r,p.numberOfVerticalAngles,p.candelaValues[i]);let G=-1;for(let i=0;i<p.numberOfHorizontalAngles;i++)for(let L=0;L<p.numberOfVerticalAngles;L++)p.candelaValues[i][L]*=p.candelaValues[i][L]*p.candelaMultiplier*p.ballastFactor*p.fileGenerationType,G=Math.max(G,p.candelaValues[i][L]);if(G>0)for(let i=0;i<p.numberOfHorizontalAngles;i++)for(let L=0;L<p.numberOfVerticalAngles;L++)p.candelaValues[i][L]/=G;const C=180,t=360,E=new Float32Array(64800),x=p.horizontalAngles[0],w=p.horizontalAngles[p.numberOfHorizontalAngles-1];for(let i=0;i<64800;i++){let L=i%t;const r=Math.floor(i/t);w-x!==0&&(L<x||L>=w)&&(L%=2*w,L>w&&(L=2*w-L)),E[r+L*C]=j(p,r,L)}return{width:180,height:1,data:E}}(new Uint8Array(L.buffer,L.byteOffset,L.byteLength));p(J.width,J.height,!1,!1,(()=>{const L=r.getEngine();r.type=1,r.format=6,r._gammaSpace=!1,L._uploadDataToTextureDirectly(r,J.data)}))}}},12154:(L,r,p)=>{function J(L){return parseInt(L.toString().replace(/\W/g,""))}function i(L,r){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(L-r)<=p}function n(L,r,p){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return L<r-J||L>p+J}function j(L,r){return L===r?L:Math.random()*(r-L)+L}function z(L,r,p){return L+(r-L)*p}function G(L,r,p){let J=c(r-L,360);return J>180&&(J-=360),L+J*x(p)}function C(L,r,p){let J=0;return J=L!=r?x((p-L)/(r-L)):0,J}function t(L,r,p,J,i){const n=i*i,j=i*n;return L*(2*j-3*n+1)+p*(-2*j+3*n)+r*(j-2*n+i)+J*(j-n)}function E(L,r,p,J,i){const n=i*i;return 6*(n-i)*L+(3*n-4*i+1)*r+6*(-n+i)*p+(3*n-2*i)*J}function x(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(p,Math.max(r,L))}function w(L){return L-=2*Math.PI*Math.floor((L+Math.PI)/(2*Math.PI))}function g(L){const r=L.toString(16);return L<=15?("0"+r).toUpperCase():r.toUpperCase()}function b(L){if(Math.log2)return Math.floor(Math.log2(L));if(L<0)return NaN;if(0===L)return-1/0;let r=0;if(L<1){for(;L<1;)r++,L*=2;r=-r}else if(L>1)for(;L>1;)r++,L=Math.floor(L/2);return r}function c(L,r){return L-Math.floor(L/r)*r}function P(L,r,p){return(L-r)/(p-r)}function O(L,r,p){return L*(p-r)+r}function h(L,r){let p=c(r-L,360);return p>180&&(p-=360),p}function U(L,r){const p=c(L,2*r);return r-Math.abs(p-r)}function W(L,r,p){let J=x(p);return J=-2*J*J*J+3*J*J,r*J+L*(1-J)}function B(L,r,p){let J=0;return J=Math.abs(r-L)<=p?r:L+Math.sign(r-L)*p,J}function F(L,r,p){const J=h(L,r);let i=0;return i=-p<J&&J<p?r:B(L,r=L+J,p),i}function Q(L,r,p){return(L-r)/(p-r)}function e(L,r,p){return(p-r)*L+r}function v(L,r){const p=L%r;return 0===p?r:v(r,p)}p.r(r),p.d(r,{Clamp:()=>x,DeltaAngle:()=>h,Denormalize:()=>O,ExtractAsInt:()=>J,Hermite:()=>t,Hermite1stDerivative:()=>E,HighestCommonFactor:()=>v,ILog2:()=>b,InverseLerp:()=>C,Lerp:()=>z,LerpAngle:()=>G,MoveTowards:()=>B,MoveTowardsAngle:()=>F,Normalize:()=>P,NormalizeRadians:()=>w,OutsideRange:()=>n,PercentToRange:()=>e,PingPong:()=>U,RandomRange:()=>j,RangeToPercent:()=>Q,Repeat:()=>c,SmoothStep:()=>W,ToHex:()=>g,WithinEpsilon:()=>i})}}]);