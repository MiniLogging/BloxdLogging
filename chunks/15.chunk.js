"use strict";(self.a14qw1h7fq=self.a14qw1h7fq||[]).push([[15],{13626:(R,J,B)=>{B.r(J),B.d(J,{_IESTextureLoader:()=>r});var Q=B(11201);function h(R){return R.split(" ").filter((R=>""!==R)).map((R=>parseFloat(R)))}function y(R,J,B){for(;B.length!==J;){const J=h(R.lines[R.index++]);B.push(...J)}}function N(R,J,B){let h=0,y=0,N=0,r=0,q=0,e=0;for(let Q=0;Q<R.numberOfHorizontalAngles-1;Q++)if(B<R.horizontalAngles[Q+1]||Q===R.numberOfHorizontalAngles-2){y=Q,N=R.horizontalAngles[Q],r=R.horizontalAngles[Q+1];break}for(let Q=0;Q<R.numberOfVerticalAngles-1;Q++)if(J<R.verticalAngles[Q+1]||Q===R.numberOfVerticalAngles-2){h=Q,q=R.verticalAngles[Q],e=R.verticalAngles[Q+1];break}const D=r-N,l=e-q;if(0===l)return 0;const E=0===D?0:(B-N)/D,O=(J-q)/l,n=0===D?y:y+1,P=(0,Q.Lerp)(R.candelaValues[y][h],R.candelaValues[n][h],E),A=(0,Q.Lerp)(R.candelaValues[y][h+1],R.candelaValues[n][h+1],E);return(0,Q.Lerp)(P,A,O)}class r{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(R,J,B){const Q=function(R){const J={lines:new TextDecoder("utf-8").decode(R).split("\n"),index:0},B={version:J.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(J.index=1;J.lines.length>0&&!J.lines[J.index].includes("TILT=");)J.index++;J.lines[J.index].includes("INCLUDE"),J.index++;const Q=h(J.lines[J.index++]);B.numberOfLights=Q[0],B.lumensPerLamp=Q[1],B.candelaMultiplier=Q[2],B.numberOfVerticalAngles=Q[3],B.numberOfHorizontalAngles=Q[4],B.photometricType=Q[5],B.unitsType=Q[6],B.width=Q[7],B.length=Q[8],B.height=Q[9];const r=h(J.lines[J.index++]);B.ballastFactor=r[0],B.fileGenerationType=r[1],B.inputWatts=r[2];for(let h=0;h<B.numberOfHorizontalAngles;h++)B.candelaValues[h]=[];y(J,B.numberOfVerticalAngles,B.verticalAngles),y(J,B.numberOfHorizontalAngles,B.horizontalAngles);for(let h=0;h<B.numberOfHorizontalAngles;h++)y(J,B.numberOfVerticalAngles,B.candelaValues[h]);let q=-1;for(let h=0;h<B.numberOfHorizontalAngles;h++)for(let R=0;R<B.numberOfVerticalAngles;R++)B.candelaValues[h][R]*=B.candelaValues[h][R]*B.candelaMultiplier*B.ballastFactor*B.fileGenerationType,q=Math.max(q,B.candelaValues[h][R]);if(q>0)for(let h=0;h<B.numberOfHorizontalAngles;h++)for(let R=0;R<B.numberOfVerticalAngles;R++)B.candelaValues[h][R]/=q;const e=180,D=360,l=new Float32Array(64800),E=B.horizontalAngles[0],O=B.horizontalAngles[B.numberOfHorizontalAngles-1];for(let h=0;h<64800;h++){let R=h%D;const J=Math.floor(h/D);O-E!==0&&(R<E||R>=O)&&(R%=2*O,R>O&&(R=2*O-R)),l[J+R*e]=N(B,J,R)}return{width:180,height:1,data:l}}(new Uint8Array(R.buffer,R.byteOffset,R.byteLength));B(Q.width,Q.height,!1,!1,(()=>{const R=J.getEngine();J.type=1,J.format=6,J._gammaSpace=!1,R._uploadDataToTextureDirectly(J,Q.data)}))}}},11201:(R,J,B)=>{function Q(R){return parseInt(R.toString().replace(/\W/g,""))}function h(R,J){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(R-J)<=B}function y(R,J,B){let Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return R<J-Q||R>B+Q}function N(R,J){return R===J?R:Math.random()*(J-R)+R}function r(R,J,B){return R+(J-R)*B}function q(R,J,B){let Q=A(J-R,360);return Q>180&&(Q-=360),R+Q*E(B)}function e(R,J,B){let Q=0;return Q=R!=J?E((B-R)/(J-R)):0,Q}function D(R,J,B,Q,h){const y=h*h,N=h*y;return R*(2*N-3*y+1)+B*(-2*N+3*y)+J*(N-2*y+h)+Q*(N-y)}function l(R,J,B,Q,h){const y=h*h;return 6*(y-h)*R+(3*y-4*h+1)*J+6*(-y+h)*B+(3*y-2*h)*Q}function E(R){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(B,Math.max(J,R))}function O(R){return R-=2*Math.PI*Math.floor((R+Math.PI)/(2*Math.PI))}function n(R){const J=R.toString(16);return R<=15?("0"+J).toUpperCase():J.toUpperCase()}function P(R){if(Math.log2)return Math.floor(Math.log2(R));if(R<0)return NaN;if(0===R)return-1/0;let J=0;if(R<1){for(;R<1;)J++,R*=2;J=-J}else if(R>1)for(;R>1;)J++,R=Math.floor(R/2);return J}function A(R,J){return R-Math.floor(R/J)*J}function u(R,J,B){return(R-J)/(B-J)}function S(R,J,B){return R*(B-J)+J}function f(R,J){let B=A(J-R,360);return B>180&&(B-=360),B}function a(R,J){const B=A(R,2*J);return J-Math.abs(B-J)}function s(R,J,B){let Q=E(B);return Q=-2*Q*Q*Q+3*Q*Q,J*Q+R*(1-Q)}function x(R,J,B){let Q=0;return Q=Math.abs(J-R)<=B?J:R+Math.sign(J-R)*B,Q}function I(R,J,B){const Q=f(R,J);let h=0;return h=-B<Q&&Q<B?J:x(R,J=R+Q,B),h}function V(R,J,B){return(R-J)/(B-J)}function M(R,J,B){return(B-J)*R+J}function H(R,J){const B=R%J;return 0===B?J:H(J,B)}B.r(J),B.d(J,{Clamp:()=>E,DeltaAngle:()=>f,Denormalize:()=>S,ExtractAsInt:()=>Q,Hermite:()=>D,Hermite1stDerivative:()=>l,HighestCommonFactor:()=>H,ILog2:()=>P,InverseLerp:()=>e,Lerp:()=>r,LerpAngle:()=>q,MoveTowards:()=>x,MoveTowardsAngle:()=>I,Normalize:()=>u,NormalizeRadians:()=>O,OutsideRange:()=>y,PercentToRange:()=>M,PingPong:()=>a,RandomRange:()=>N,RangeToPercent:()=>V,Repeat:()=>A,SmoothStep:()=>s,ToHex:()=>n,WithinEpsilon:()=>h})}}]);