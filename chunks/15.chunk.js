"use strict";(self.vfdo5lmva5i=self.vfdo5lmva5i||[]).push([[15],{14236:(w,o,H)=>{H.r(o),H.d(o,{_IESTextureLoader:()=>t});var h=H(11729);function E(w){return w.split(" ").filter((w=>""!==w)).map((w=>parseFloat(w)))}function e(w,o,H){for(;H.length!==o;){const o=E(w.lines[w.index++]);H.push(...o)}}function D(w,o,H){let E=0,e=0,D=0,t=0,X=0,L=0;for(let h=0;h<w.numberOfHorizontalAngles-1;h++)if(H<w.horizontalAngles[h+1]||h===w.numberOfHorizontalAngles-2){e=h,D=w.horizontalAngles[h],t=w.horizontalAngles[h+1];break}for(let h=0;h<w.numberOfVerticalAngles-1;h++)if(o<w.verticalAngles[h+1]||h===w.numberOfVerticalAngles-2){E=h,X=w.verticalAngles[h],L=w.verticalAngles[h+1];break}const A=t-D,y=L-X;if(0===y)return 0;const z=0===A?0:(H-D)/A,C=(o-X)/y,Q=0===A?e:e+1,M=(0,h.Lerp)(w.candelaValues[e][E],w.candelaValues[Q][E],z),i=(0,h.Lerp)(w.candelaValues[e][E+1],w.candelaValues[Q][E+1],z);return(0,h.Lerp)(M,i,C)}class t{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(w,o,H){const h=function(w){const o={lines:new TextDecoder("utf-8").decode(w).split("\n"),index:0},H={version:o.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(o.index=1;o.lines.length>0&&!o.lines[o.index].includes("TILT=");)o.index++;o.lines[o.index].includes("INCLUDE"),o.index++;const h=E(o.lines[o.index++]);H.numberOfLights=h[0],H.lumensPerLamp=h[1],H.candelaMultiplier=h[2],H.numberOfVerticalAngles=h[3],H.numberOfHorizontalAngles=h[4],H.photometricType=h[5],H.unitsType=h[6],H.width=h[7],H.length=h[8],H.height=h[9];const t=E(o.lines[o.index++]);H.ballastFactor=t[0],H.fileGenerationType=t[1],H.inputWatts=t[2];for(let E=0;E<H.numberOfHorizontalAngles;E++)H.candelaValues[E]=[];e(o,H.numberOfVerticalAngles,H.verticalAngles),e(o,H.numberOfHorizontalAngles,H.horizontalAngles);for(let E=0;E<H.numberOfHorizontalAngles;E++)e(o,H.numberOfVerticalAngles,H.candelaValues[E]);let X=-1;for(let E=0;E<H.numberOfHorizontalAngles;E++)for(let w=0;w<H.numberOfVerticalAngles;w++)H.candelaValues[E][w]*=H.candelaValues[E][w]*H.candelaMultiplier*H.ballastFactor*H.fileGenerationType,X=Math.max(X,H.candelaValues[E][w]);if(X>0)for(let E=0;E<H.numberOfHorizontalAngles;E++)for(let w=0;w<H.numberOfVerticalAngles;w++)H.candelaValues[E][w]/=X;const L=180,A=360,y=new Float32Array(64800),z=H.horizontalAngles[0],C=H.horizontalAngles[H.numberOfHorizontalAngles-1];for(let E=0;E<64800;E++){let w=E%A;const o=Math.floor(E/A);C-z!==0&&(w<z||w>=C)&&(w%=2*C,w>C&&(w=2*C-w)),y[o+w*L]=D(H,o,w)}return{width:180,height:1,data:y}}(new Uint8Array(w.buffer,w.byteOffset,w.byteLength));H(h.width,h.height,!1,!1,(()=>{const w=o.getEngine();o.type=1,o.format=6,o._gammaSpace=!1,w._uploadDataToTextureDirectly(o,h.data)}))}}},11729:(w,o,H)=>{function h(w){return parseInt(w.toString().replace(/\W/g,""))}function E(w,o){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(w-o)<=H}function e(w,o,H){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return w<o-h||w>H+h}function D(w,o){return w===o?w:Math.random()*(o-w)+w}function t(w,o,H){return w+(o-w)*H}function X(w,o,H){let h=i(o-w,360);return h>180&&(h-=360),w+h*z(H)}function L(w,o,H){let h=0;return h=w!=o?z((H-w)/(o-w)):0,h}function A(w,o,H,h,E){const e=E*E,D=E*e;return w*(2*D-3*e+1)+H*(-2*D+3*e)+o*(D-2*e+E)+h*(D-e)}function y(w,o,H,h,E){const e=E*E;return 6*(e-E)*w+(3*e-4*E+1)*o+6*(-e+E)*H+(3*e-2*E)*h}function z(w){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(H,Math.max(o,w))}function C(w){return w-=2*Math.PI*Math.floor((w+Math.PI)/(2*Math.PI))}function Q(w){const o=w.toString(16);return w<=15?("0"+o).toUpperCase():o.toUpperCase()}function M(w){if(Math.log2)return Math.floor(Math.log2(w));if(w<0)return NaN;if(0===w)return-1/0;let o=0;if(w<1){for(;w<1;)o++,w*=2;o=-o}else if(w>1)for(;w>1;)o++,w=Math.floor(w/2);return o}function i(w,o){return w-Math.floor(w/o)*o}function s(w,o,H){return(w-o)/(H-o)}function V(w,o,H){return w*(H-o)+o}function r(w,o){let H=i(o-w,360);return H>180&&(H-=360),H}function k(w,o){const H=i(w,2*o);return o-Math.abs(H-o)}function P(w,o,H){let h=z(H);return h=-2*h*h*h+3*h*h,o*h+w*(1-h)}function l(w,o,H){let h=0;return h=Math.abs(o-w)<=H?o:w+Math.sign(o-w)*H,h}function O(w,o,H){const h=r(w,o);let E=0;return E=-H<h&&h<H?o:l(w,o=w+h,H),E}function T(w,o,H){return(w-o)/(H-o)}function S(w,o,H){return(H-o)*w+o}function c(w,o){const H=w%o;return 0===H?o:c(o,H)}H.r(o),H.d(o,{Clamp:()=>z,DeltaAngle:()=>r,Denormalize:()=>V,ExtractAsInt:()=>h,Hermite:()=>A,Hermite1stDerivative:()=>y,HighestCommonFactor:()=>c,ILog2:()=>M,InverseLerp:()=>L,Lerp:()=>t,LerpAngle:()=>X,MoveTowards:()=>l,MoveTowardsAngle:()=>O,Normalize:()=>s,NormalizeRadians:()=>C,OutsideRange:()=>e,PercentToRange:()=>S,PingPong:()=>k,RandomRange:()=>D,RangeToPercent:()=>T,Repeat:()=>i,SmoothStep:()=>P,ToHex:()=>Q,WithinEpsilon:()=>E})}}]);