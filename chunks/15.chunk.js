"use strict";(self.agop5zpabxv=self.agop5zpabxv||[]).push([[15],{14730:(H,u,J)=>{J.r(u),J.d(u,{_IESTextureLoader:()=>g});var O=J(12349);function U(H){return H.split(" ").filter((H=>""!==H)).map((H=>parseFloat(H)))}function h(H,u,J){for(;J.length!==u;){const u=U(H.lines[H.index++]);J.push(...u)}}function w(H,u,J){let U=0,h=0,w=0,g=0,B=0,b=0;for(let O=0;O<H.numberOfHorizontalAngles-1;O++)if(J<H.horizontalAngles[O+1]||O===H.numberOfHorizontalAngles-2){h=O,w=H.horizontalAngles[O],g=H.horizontalAngles[O+1];break}for(let O=0;O<H.numberOfVerticalAngles-1;O++)if(u<H.verticalAngles[O+1]||O===H.numberOfVerticalAngles-2){U=O,B=H.verticalAngles[O],b=H.verticalAngles[O+1];break}const d=g-w,G=b-B;if(0===G)return 0;const P=0===d?0:(J-w)/d,mH=(u-B)/G,l=0===d?h:h+1,r=(0,O.Lerp)(H.candelaValues[h][U],H.candelaValues[l][U],P),p=(0,O.Lerp)(H.candelaValues[h][U+1],H.candelaValues[l][U+1],P);return(0,O.Lerp)(r,p,mH)}class g{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(H,u,J){const O=function(H){const u={lines:new TextDecoder("utf-8").decode(H).split("\n"),index:0},J={version:u.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(u.index=1;u.lines.length>0&&!u.lines[u.index].includes("TILT=");)u.index++;u.lines[u.index].includes("INCLUDE"),u.index++;const O=U(u.lines[u.index++]);J.numberOfLights=O[0],J.lumensPerLamp=O[1],J.candelaMultiplier=O[2],J.numberOfVerticalAngles=O[3],J.numberOfHorizontalAngles=O[4],J.photometricType=O[5],J.unitsType=O[6],J.width=O[7],J.length=O[8],J.height=O[9];const g=U(u.lines[u.index++]);J.ballastFactor=g[0],J.fileGenerationType=g[1],J.inputWatts=g[2];for(let U=0;U<J.numberOfHorizontalAngles;U++)J.candelaValues[U]=[];h(u,J.numberOfVerticalAngles,J.verticalAngles),h(u,J.numberOfHorizontalAngles,J.horizontalAngles);for(let U=0;U<J.numberOfHorizontalAngles;U++)h(u,J.numberOfVerticalAngles,J.candelaValues[U]);let B=-1;for(let U=0;U<J.numberOfHorizontalAngles;U++)for(let H=0;H<J.numberOfVerticalAngles;H++)J.candelaValues[U][H]*=J.candelaValues[U][H]*J.candelaMultiplier*J.ballastFactor*J.fileGenerationType,B=Math.max(B,J.candelaValues[U][H]);if(B>0)for(let U=0;U<J.numberOfHorizontalAngles;U++)for(let H=0;H<J.numberOfVerticalAngles;H++)J.candelaValues[U][H]/=B;const b=180,d=360,G=new Float32Array(64800),P=J.horizontalAngles[0],mH=J.horizontalAngles[J.numberOfHorizontalAngles-1];for(let U=0;U<64800;U++){let H=U%d;const u=Math.floor(U/d);mH-P!==0&&(H<P||H>=mH)&&(H%=2*mH,H>mH&&(H=2*mH-H)),G[u+H*b]=w(J,u,H)}return{width:180,height:1,data:G}}(new Uint8Array(H.buffer,H.byteOffset,H.byteLength));J(O.width,O.height,!1,!1,(()=>{const H=u.getEngine();u.type=1,u.format=6,u._gammaSpace=!1,H._uploadDataToTextureDirectly(u,O.data)}))}}},12349:(H,u,J)=>{function O(H){return parseInt(H.toString().replace(/\W/g,""))}function U(H,u){let J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(H-u)<=J}function h(H,u,J){let O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return H<u-O||H>J+O}function w(H,u){return H===u?H:Math.random()*(u-H)+H}function g(H,u,J){return H+(u-H)*J}function B(H,u,J){let O=p(u-H,360);return O>180&&(O-=360),H+O*P(J)}function b(H,u,J){let O=0;return O=H!=u?P((J-H)/(u-H)):0,O}function d(H,u,J,O,U){const h=U*U,w=U*h;return H*(2*w-3*h+1)+J*(-2*w+3*h)+u*(w-2*h+U)+O*(w-h)}function G(H,u,J,O,U){const h=U*U;return 6*(h-U)*H+(3*h-4*U+1)*u+6*(-h+U)*J+(3*h-2*U)*O}function P(H){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(J,Math.max(u,H))}function mH(H){return H-=2*Math.PI*Math.floor((H+Math.PI)/(2*Math.PI))}function l(H){const u=H.toString(16);return H<=15?("0"+u).toUpperCase():u.toUpperCase()}function r(H){if(Math.log2)return Math.floor(Math.log2(H));if(H<0)return NaN;if(0===H)return-1/0;let u=0;if(H<1){for(;H<1;)u++,H*=2;u=-u}else if(H>1)for(;H>1;)u++,H=Math.floor(H/2);return u}function p(H,u){return H-Math.floor(H/u)*u}function a(H,u,J){return(H-u)/(J-u)}function k(H,u,J){return H*(J-u)+u}function C(H,u){let J=p(u-H,360);return J>180&&(J-=360),J}function j(H,u){const J=p(H,2*u);return u-Math.abs(J-u)}function M(H,u,J){let O=P(J);return O=-2*O*O*O+3*O*O,u*O+H*(1-O)}function L(H,u,J){let O=0;return O=Math.abs(u-H)<=J?u:H+Math.sign(u-H)*J,O}function Z(H,u,J){const O=C(H,u);let U=0;return U=-J<O&&O<J?u:L(H,u=H+O,J),U}function Y(H,u,J){return(H-u)/(J-u)}function F(H,u,J){return(J-u)*H+u}function s(H,u){const J=H%u;return 0===J?u:s(u,J)}J.r(u),J.d(u,{Clamp:()=>P,DeltaAngle:()=>C,Denormalize:()=>k,ExtractAsInt:()=>O,Hermite:()=>d,Hermite1stDerivative:()=>G,HighestCommonFactor:()=>s,ILog2:()=>r,InverseLerp:()=>b,Lerp:()=>g,LerpAngle:()=>B,MoveTowards:()=>L,MoveTowardsAngle:()=>Z,Normalize:()=>a,NormalizeRadians:()=>mH,OutsideRange:()=>h,PercentToRange:()=>F,PingPong:()=>j,RandomRange:()=>w,RangeToPercent:()=>Y,Repeat:()=>p,SmoothStep:()=>M,ToHex:()=>l,WithinEpsilon:()=>U})}}]);