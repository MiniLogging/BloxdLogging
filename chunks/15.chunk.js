"use strict";(self["269hv5nclphh"]=self["269hv5nclphh"]||[]).push([[15],{14827:(E,H,d)=>{d.r(H),d.d(H,{_IESTextureLoader:()=>l});var n=d(12406);function Z(E){return E.split(" ").filter((E=>""!==E)).map((E=>parseFloat(E)))}function I(E,H,d){for(;d.length!==H;){const H=Z(E.lines[E.index++]);d.push(...H)}}function g(E,H,d){let Z=0,I=0,g=0,l=0,r=0,t=0;for(let n=0;n<E.numberOfHorizontalAngles-1;n++)if(d<E.horizontalAngles[n+1]||n===E.numberOfHorizontalAngles-2){I=n,g=E.horizontalAngles[n],l=E.horizontalAngles[n+1];break}for(let n=0;n<E.numberOfVerticalAngles-1;n++)if(H<E.verticalAngles[n+1]||n===E.numberOfVerticalAngles-2){Z=n,r=E.verticalAngles[n],t=E.verticalAngles[n+1];break}const S=l-g,M=t-r;if(0===M)return 0;const V=0===S?0:(d-g)/S,C=(H-r)/M,w=0===S?I:I+1,R=(0,n.Lerp)(E.candelaValues[I][Z],E.candelaValues[w][Z],V),Q=(0,n.Lerp)(E.candelaValues[I][Z+1],E.candelaValues[w][Z+1],V);return(0,n.Lerp)(R,Q,C)}class l{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(E,H,d){const n=function(E){const H={lines:new TextDecoder("utf-8").decode(E).split("\n"),index:0},d={version:H.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(H.index=1;H.lines.length>0&&!H.lines[H.index].includes("TILT=");)H.index++;H.lines[H.index].includes("INCLUDE"),H.index++;const n=Z(H.lines[H.index++]);d.numberOfLights=n[0],d.lumensPerLamp=n[1],d.candelaMultiplier=n[2],d.numberOfVerticalAngles=n[3],d.numberOfHorizontalAngles=n[4],d.photometricType=n[5],d.unitsType=n[6],d.width=n[7],d.length=n[8],d.height=n[9];const l=Z(H.lines[H.index++]);d.ballastFactor=l[0],d.fileGenerationType=l[1],d.inputWatts=l[2];for(let Z=0;Z<d.numberOfHorizontalAngles;Z++)d.candelaValues[Z]=[];I(H,d.numberOfVerticalAngles,d.verticalAngles),I(H,d.numberOfHorizontalAngles,d.horizontalAngles);for(let Z=0;Z<d.numberOfHorizontalAngles;Z++)I(H,d.numberOfVerticalAngles,d.candelaValues[Z]);let r=-1;for(let Z=0;Z<d.numberOfHorizontalAngles;Z++)for(let E=0;E<d.numberOfVerticalAngles;E++)d.candelaValues[Z][E]*=d.candelaValues[Z][E]*d.candelaMultiplier*d.ballastFactor*d.fileGenerationType,r=Math.max(r,d.candelaValues[Z][E]);if(r>0)for(let Z=0;Z<d.numberOfHorizontalAngles;Z++)for(let E=0;E<d.numberOfVerticalAngles;E++)d.candelaValues[Z][E]/=r;const t=180,S=360,M=new Float32Array(64800),V=d.horizontalAngles[0],C=d.horizontalAngles[d.numberOfHorizontalAngles-1];for(let Z=0;Z<64800;Z++){let E=Z%S;const H=Math.floor(Z/S);C-V!==0&&(E<V||E>=C)&&(E%=2*C,E>C&&(E=2*C-E)),M[H+E*t]=g(d,H,E)}return{width:180,height:1,data:M}}(new Uint8Array(E.buffer,E.byteOffset,E.byteLength));d(n.width,n.height,!1,!1,(()=>{const E=H.getEngine();H.type=1,H.format=6,H._gammaSpace=!1,E._uploadDataToTextureDirectly(H,n.data)}))}}},12406:(E,H,d)=>{function n(E){return parseInt(E.toString().replace(/\W/g,""))}function Z(E,H){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(E-H)<=d}function I(E,H,d){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return E<H-n||E>d+n}function g(E,H){return E===H?E:Math.random()*(H-E)+E}function l(E,H,d){return E+(H-E)*d}function r(E,H,d){let n=Q(H-E,360);return n>180&&(n-=360),E+n*V(d)}function t(E,H,d){let n=0;return n=E!=H?V((d-E)/(H-E)):0,n}function S(E,H,d,n,Z){const I=Z*Z,g=Z*I;return E*(2*g-3*I+1)+d*(-2*g+3*I)+H*(g-2*I+Z)+n*(g-I)}function M(E,H,d,n,Z){const I=Z*Z;return 6*(I-Z)*E+(3*I-4*Z+1)*H+6*(-I+Z)*d+(3*I-2*Z)*n}function V(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(d,Math.max(H,E))}function C(E){return E-=2*Math.PI*Math.floor((E+Math.PI)/(2*Math.PI))}function w(E){const H=E.toString(16);return E<=15?("0"+H).toUpperCase():H.toUpperCase()}function R(E){if(Math.log2)return Math.floor(Math.log2(E));if(E<0)return NaN;if(0===E)return-1/0;let H=0;if(E<1){for(;E<1;)H++,E*=2;H=-H}else if(E>1)for(;E>1;)H++,E=Math.floor(E/2);return H}function Q(E,H){return E-Math.floor(E/H)*H}function L(E,H,d){return(E-H)/(d-H)}function D(E,H,d){return E*(d-H)+H}function e(E,H){let d=Q(H-E,360);return d>180&&(d-=360),d}function s(E,H){const d=Q(E,2*H);return H-Math.abs(d-H)}function i(E,H,d){let n=V(d);return n=-2*n*n*n+3*n*n,H*n+E*(1-n)}function p(E,H,d){let n=0;return n=Math.abs(H-E)<=d?H:E+Math.sign(H-E)*d,n}function f(E,H,d){const n=e(E,H);let Z=0;return Z=-d<n&&n<d?H:p(E,H=E+n,d),Z}function P(E,H,d){return(E-H)/(d-H)}function j(E,H,d){return(d-H)*E+H}function X(E,H){const d=E%H;return 0===d?H:X(H,d)}d.r(H),d.d(H,{Clamp:()=>V,DeltaAngle:()=>e,Denormalize:()=>D,ExtractAsInt:()=>n,Hermite:()=>S,Hermite1stDerivative:()=>M,HighestCommonFactor:()=>X,ILog2:()=>R,InverseLerp:()=>t,Lerp:()=>l,LerpAngle:()=>r,MoveTowards:()=>p,MoveTowardsAngle:()=>f,Normalize:()=>L,NormalizeRadians:()=>C,OutsideRange:()=>I,PercentToRange:()=>j,PingPong:()=>s,RandomRange:()=>g,RangeToPercent:()=>P,Repeat:()=>Q,SmoothStep:()=>i,ToHex:()=>w,WithinEpsilon:()=>Z})}}]);