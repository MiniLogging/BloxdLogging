"use strict";(self.fkqm0epoq5=self.fkqm0epoq5||[]).push([[15],{14111:(D,l,G)=>{G.r(l),G.d(l,{_IESTextureLoader:()=>X});var V=G(11728);function N(D){return D.split(" ").filter((D=>""!==D)).map((D=>parseFloat(D)))}function M(D,l,G){for(;G.length!==l;){const l=N(D.lines[D.index++]);G.push(...l)}}function b(D,l,G){let N=0,M=0,b=0,X=0,t=0,R=0;for(let V=0;V<D.numberOfHorizontalAngles-1;V++)if(G<D.horizontalAngles[V+1]||V===D.numberOfHorizontalAngles-2){M=V,b=D.horizontalAngles[V],X=D.horizontalAngles[V+1];break}for(let V=0;V<D.numberOfVerticalAngles-1;V++)if(l<D.verticalAngles[V+1]||V===D.numberOfVerticalAngles-2){N=V,t=D.verticalAngles[V],R=D.verticalAngles[V+1];break}const n=X-b,g=R-t;if(0===g)return 0;const j=0===n?0:(G-b)/n,e=(l-t)/g,K=0===n?M:M+1,F=(0,V.Lerp)(D.candelaValues[M][N],D.candelaValues[K][N],j),d=(0,V.Lerp)(D.candelaValues[M][N+1],D.candelaValues[K][N+1],j);return(0,V.Lerp)(F,d,e)}class X{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(D,l,G){const V=function(D){const l={lines:new TextDecoder("utf-8").decode(D).split("\n"),index:0},G={version:l.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(l.index=1;l.lines.length>0&&!l.lines[l.index].includes("TILT=");)l.index++;l.lines[l.index].includes("INCLUDE"),l.index++;const V=N(l.lines[l.index++]);G.numberOfLights=V[0],G.lumensPerLamp=V[1],G.candelaMultiplier=V[2],G.numberOfVerticalAngles=V[3],G.numberOfHorizontalAngles=V[4],G.photometricType=V[5],G.unitsType=V[6],G.width=V[7],G.length=V[8],G.height=V[9];const X=N(l.lines[l.index++]);G.ballastFactor=X[0],G.fileGenerationType=X[1],G.inputWatts=X[2];for(let N=0;N<G.numberOfHorizontalAngles;N++)G.candelaValues[N]=[];M(l,G.numberOfVerticalAngles,G.verticalAngles),M(l,G.numberOfHorizontalAngles,G.horizontalAngles);for(let N=0;N<G.numberOfHorizontalAngles;N++)M(l,G.numberOfVerticalAngles,G.candelaValues[N]);let t=-1;for(let N=0;N<G.numberOfHorizontalAngles;N++)for(let D=0;D<G.numberOfVerticalAngles;D++)G.candelaValues[N][D]*=G.candelaValues[N][D]*G.candelaMultiplier*G.ballastFactor*G.fileGenerationType,t=Math.max(t,G.candelaValues[N][D]);if(t>0)for(let N=0;N<G.numberOfHorizontalAngles;N++)for(let D=0;D<G.numberOfVerticalAngles;D++)G.candelaValues[N][D]/=t;const R=180,n=360,g=new Float32Array(64800),j=G.horizontalAngles[0],e=G.horizontalAngles[G.numberOfHorizontalAngles-1];for(let N=0;N<64800;N++){let D=N%n;const l=Math.floor(N/n);e-j!==0&&(D<j||D>=e)&&(D%=2*e,D>e&&(D=2*e-D)),g[l+D*R]=b(G,l,D)}return{width:180,height:1,data:g}}(new Uint8Array(D.buffer,D.byteOffset,D.byteLength));G(V.width,V.height,!1,!1,(()=>{const D=l.getEngine();l.type=1,l.format=6,l._gammaSpace=!1,D._uploadDataToTextureDirectly(l,V.data)}))}}},11728:(D,l,G)=>{function V(D){return parseInt(D.toString().replace(/\W/g,""))}function N(D,l){let G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(D-l)<=G}function M(D,l,G){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return D<l-V||D>G+V}function b(D,l){return D===l?D:Math.random()*(l-D)+D}function X(D,l,G){return D+(l-D)*G}function t(D,l,G){let V=d(l-D,360);return V>180&&(V-=360),D+V*j(G)}function R(D,l,G){let V=0;return V=D!=l?j((G-D)/(l-D)):0,V}function n(D,l,G,V,N){const M=N*N,b=N*M;return D*(2*b-3*M+1)+G*(-2*b+3*M)+l*(b-2*M+N)+V*(b-M)}function g(D,l,G,V,N){const M=N*N;return 6*(M-N)*D+(3*M-4*N+1)*l+6*(-M+N)*G+(3*M-2*N)*V}function j(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(G,Math.max(l,D))}function e(D){return D-=2*Math.PI*Math.floor((D+Math.PI)/(2*Math.PI))}function K(D){const l=D.toString(16);return D<=15?("0"+l).toUpperCase():l.toUpperCase()}function F(D){if(Math.log2)return Math.floor(Math.log2(D));if(D<0)return NaN;if(0===D)return-1/0;let l=0;if(D<1){for(;D<1;)l++,D*=2;l=-l}else if(D>1)for(;D>1;)l++,D=Math.floor(D/2);return l}function d(D,l){return D-Math.floor(D/l)*l}function H(D,l,G){return(D-l)/(G-l)}function h(D,l,G){return D*(G-l)+l}function x(D,l){let G=d(l-D,360);return G>180&&(G-=360),G}function r(D,l){const G=d(D,2*l);return l-Math.abs(G-l)}function o(D,l,G){let V=j(G);return V=-2*V*V*V+3*V*V,l*V+D*(1-V)}function L(D,l,G){let V=0;return V=Math.abs(l-D)<=G?l:D+Math.sign(l-D)*G,V}function u(D,l,G){const V=x(D,l);let N=0;return N=-G<V&&V<G?l:L(D,l=D+V,G),N}function B(D,l,G){return(D-l)/(G-l)}function I(D,l,G){return(G-l)*D+l}function W(D,l){const G=D%l;return 0===G?l:W(l,G)}G.r(l),G.d(l,{Clamp:()=>j,DeltaAngle:()=>x,Denormalize:()=>h,ExtractAsInt:()=>V,Hermite:()=>n,Hermite1stDerivative:()=>g,HighestCommonFactor:()=>W,ILog2:()=>F,InverseLerp:()=>R,Lerp:()=>X,LerpAngle:()=>t,MoveTowards:()=>L,MoveTowardsAngle:()=>u,Normalize:()=>H,NormalizeRadians:()=>e,OutsideRange:()=>M,PercentToRange:()=>I,PingPong:()=>r,RandomRange:()=>b,RangeToPercent:()=>B,Repeat:()=>d,SmoothStep:()=>o,ToHex:()=>K,WithinEpsilon:()=>N})}}]);