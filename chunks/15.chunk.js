"use strict";(self.g111kvdsqxc=self.g111kvdsqxc||[]).push([[15],{13715:(K,H,M)=>{M.r(H),M.d(H,{_IESTextureLoader:()=>h});var q=M(11307);function w(K){return K.split(" ").filter((K=>""!==K)).map((K=>parseFloat(K)))}function u(K,H,M){for(;M.length!==H;){const H=w(K.lines[K.index++]);M.push(...H)}}function y(K,H,M){let w=0,u=0,y=0,h=0,W=0,I=0;for(let q=0;q<K.numberOfHorizontalAngles-1;q++)if(M<K.horizontalAngles[q+1]||q===K.numberOfHorizontalAngles-2){u=q,y=K.horizontalAngles[q],h=K.horizontalAngles[q+1];break}for(let q=0;q<K.numberOfVerticalAngles-1;q++)if(H<K.verticalAngles[q+1]||q===K.numberOfVerticalAngles-2){w=q,W=K.verticalAngles[q],I=K.verticalAngles[q+1];break}const f=h-y,z=I-W;if(0===z)return 0;const G=0===f?0:(M-y)/f,a=(H-W)/z,v=0===f?u:u+1,O=(0,q.Lerp)(K.candelaValues[u][w],K.candelaValues[v][w],G),L=(0,q.Lerp)(K.candelaValues[u][w+1],K.candelaValues[v][w+1],G);return(0,q.Lerp)(O,L,a)}class h{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(K,H,M){const q=function(K){const H={lines:new TextDecoder("utf-8").decode(K).split("\n"),index:0},M={version:H.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(H.index=1;H.lines.length>0&&!H.lines[H.index].includes("TILT=");)H.index++;H.lines[H.index].includes("INCLUDE"),H.index++;const q=w(H.lines[H.index++]);M.numberOfLights=q[0],M.lumensPerLamp=q[1],M.candelaMultiplier=q[2],M.numberOfVerticalAngles=q[3],M.numberOfHorizontalAngles=q[4],M.photometricType=q[5],M.unitsType=q[6],M.width=q[7],M.length=q[8],M.height=q[9];const h=w(H.lines[H.index++]);M.ballastFactor=h[0],M.fileGenerationType=h[1],M.inputWatts=h[2];for(let w=0;w<M.numberOfHorizontalAngles;w++)M.candelaValues[w]=[];u(H,M.numberOfVerticalAngles,M.verticalAngles),u(H,M.numberOfHorizontalAngles,M.horizontalAngles);for(let w=0;w<M.numberOfHorizontalAngles;w++)u(H,M.numberOfVerticalAngles,M.candelaValues[w]);let W=-1;for(let w=0;w<M.numberOfHorizontalAngles;w++)for(let K=0;K<M.numberOfVerticalAngles;K++)M.candelaValues[w][K]*=M.candelaValues[w][K]*M.candelaMultiplier*M.ballastFactor*M.fileGenerationType,W=Math.max(W,M.candelaValues[w][K]);if(W>0)for(let w=0;w<M.numberOfHorizontalAngles;w++)for(let K=0;K<M.numberOfVerticalAngles;K++)M.candelaValues[w][K]/=W;const I=180,f=360,z=new Float32Array(64800),G=M.horizontalAngles[0],a=M.horizontalAngles[M.numberOfHorizontalAngles-1];for(let w=0;w<64800;w++){let K=w%f;const H=Math.floor(w/f);a-G!==0&&(K<G||K>=a)&&(K%=2*a,K>a&&(K=2*a-K)),z[H+K*I]=y(M,H,K)}return{width:180,height:1,data:z}}(new Uint8Array(K.buffer,K.byteOffset,K.byteLength));M(q.width,q.height,!1,!1,(()=>{const K=H.getEngine();H.type=1,H.format=6,H._gammaSpace=!1,K._uploadDataToTextureDirectly(H,q.data)}))}}},11307:(K,H,M)=>{function q(K){return parseInt(K.toString().replace(/\W/g,""))}function w(K,H){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(K-H)<=M}function u(K,H,M){let q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return K<H-q||K>M+q}function y(K,H){return K===H?K:Math.random()*(H-K)+K}function h(K,H,M){return K+(H-K)*M}function W(K,H,M){let q=L(H-K,360);return q>180&&(q-=360),K+q*G(M)}function I(K,H,M){let q=0;return q=K!=H?G((M-K)/(H-K)):0,q}function f(K,H,M,q,w){const u=w*w,y=w*u;return K*(2*y-3*u+1)+M*(-2*y+3*u)+H*(y-2*u+w)+q*(y-u)}function z(K,H,M,q,w){const u=w*w;return 6*(u-w)*K+(3*u-4*w+1)*H+6*(-u+w)*M+(3*u-2*w)*q}function G(K){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(M,Math.max(H,K))}function a(K){return K-=2*Math.PI*Math.floor((K+Math.PI)/(2*Math.PI))}function v(K){const H=K.toString(16);return K<=15?("0"+H).toUpperCase():H.toUpperCase()}function O(K){if(Math.log2)return Math.floor(Math.log2(K));if(K<0)return NaN;if(0===K)return-1/0;let H=0;if(K<1){for(;K<1;)H++,K*=2;H=-H}else if(K>1)for(;K>1;)H++,K=Math.floor(K/2);return H}function L(K,H){return K-Math.floor(K/H)*H}function S(K,H,M){return(K-H)/(M-H)}function B(K,H,M){return K*(M-H)+H}function C(K,H){let M=L(H-K,360);return M>180&&(M-=360),M}function i(K,H){const M=L(K,2*H);return H-Math.abs(M-H)}function Z(K,H,M){let q=G(M);return q=-2*q*q*q+3*q*q,H*q+K*(1-q)}function E(K,H,M){let q=0;return q=Math.abs(H-K)<=M?H:K+Math.sign(H-K)*M,q}function l(K,H,M){const q=C(K,H);let w=0;return w=-M<q&&q<M?H:E(K,H=K+q,M),w}function s(K,H,M){return(K-H)/(M-H)}function D(K,H,M){return(M-H)*K+H}function V(K,H){const M=K%H;return 0===M?H:V(H,M)}M.r(H),M.d(H,{Clamp:()=>G,DeltaAngle:()=>C,Denormalize:()=>B,ExtractAsInt:()=>q,Hermite:()=>f,Hermite1stDerivative:()=>z,HighestCommonFactor:()=>V,ILog2:()=>O,InverseLerp:()=>I,Lerp:()=>h,LerpAngle:()=>W,MoveTowards:()=>E,MoveTowardsAngle:()=>l,Normalize:()=>S,NormalizeRadians:()=>a,OutsideRange:()=>u,PercentToRange:()=>D,PingPong:()=>i,RandomRange:()=>y,RangeToPercent:()=>s,Repeat:()=>L,SmoothStep:()=>Z,ToHex:()=>v,WithinEpsilon:()=>w})}}]);