"use strict";(self.ksd6jhs1yr=self.ksd6jhs1yr||[]).push([[15],{14877:(C,c,d)=>{d.r(c),d.d(c,{_IESTextureLoader:()=>R});var b=d(12418);function X(C){return C.split(" ").filter((C=>""!==C)).map((C=>parseFloat(C)))}function P(C,c,d){for(;d.length!==c;){const c=X(C.lines[C.index++]);d.push(...c)}}function V(C,c,d){let X=0,P=0,V=0,R=0,p=0,j=0;for(let b=0;b<C.numberOfHorizontalAngles-1;b++)if(d<C.horizontalAngles[b+1]||b===C.numberOfHorizontalAngles-2){P=b,V=C.horizontalAngles[b],R=C.horizontalAngles[b+1];break}for(let b=0;b<C.numberOfVerticalAngles-1;b++)if(c<C.verticalAngles[b+1]||b===C.numberOfVerticalAngles-2){X=b,p=C.verticalAngles[b],j=C.verticalAngles[b+1];break}const g=R-V,k=j-p;if(0===k)return 0;const Z=0===g?0:(d-V)/g,U=(c-p)/k,A=0===g?P:P+1,u=(0,b.Lerp)(C.candelaValues[P][X],C.candelaValues[A][X],Z),q=(0,b.Lerp)(C.candelaValues[P][X+1],C.candelaValues[A][X+1],Z);return(0,b.Lerp)(u,q,U)}class R{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(C,c,d){const b=function(C){const c={lines:new TextDecoder("utf-8").decode(C).split("\n"),index:0},d={version:c.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(c.index=1;c.lines.length>0&&!c.lines[c.index].includes("TILT=");)c.index++;c.lines[c.index].includes("INCLUDE"),c.index++;const b=X(c.lines[c.index++]);d.numberOfLights=b[0],d.lumensPerLamp=b[1],d.candelaMultiplier=b[2],d.numberOfVerticalAngles=b[3],d.numberOfHorizontalAngles=b[4],d.photometricType=b[5],d.unitsType=b[6],d.width=b[7],d.length=b[8],d.height=b[9];const R=X(c.lines[c.index++]);d.ballastFactor=R[0],d.fileGenerationType=R[1],d.inputWatts=R[2];for(let X=0;X<d.numberOfHorizontalAngles;X++)d.candelaValues[X]=[];P(c,d.numberOfVerticalAngles,d.verticalAngles),P(c,d.numberOfHorizontalAngles,d.horizontalAngles);for(let X=0;X<d.numberOfHorizontalAngles;X++)P(c,d.numberOfVerticalAngles,d.candelaValues[X]);let p=-1;for(let X=0;X<d.numberOfHorizontalAngles;X++)for(let C=0;C<d.numberOfVerticalAngles;C++)d.candelaValues[X][C]*=d.candelaValues[X][C]*d.candelaMultiplier*d.ballastFactor*d.fileGenerationType,p=Math.max(p,d.candelaValues[X][C]);if(p>0)for(let X=0;X<d.numberOfHorizontalAngles;X++)for(let C=0;C<d.numberOfVerticalAngles;C++)d.candelaValues[X][C]/=p;const j=180,g=360,k=new Float32Array(64800),Z=d.horizontalAngles[0],U=d.horizontalAngles[d.numberOfHorizontalAngles-1];for(let X=0;X<64800;X++){let C=X%g;const c=Math.floor(X/g);U-Z!==0&&(C<Z||C>=U)&&(C%=2*U,C>U&&(C=2*U-C)),k[c+C*j]=V(d,c,C)}return{width:180,height:1,data:k}}(new Uint8Array(C.buffer,C.byteOffset,C.byteLength));d(b.width,b.height,!1,!1,(()=>{const C=c.getEngine();c.type=1,c.format=6,c._gammaSpace=!1,C._uploadDataToTextureDirectly(c,b.data)}))}}},12418:(C,c,d)=>{function b(C){return parseInt(C.toString().replace(/\W/g,""))}function X(C,c){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(C-c)<=d}function P(C,c,d){let b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return C<c-b||C>d+b}function V(C,c){return C===c?C:Math.random()*(c-C)+C}function R(C,c,d){return C+(c-C)*d}function p(C,c,d){let b=q(c-C,360);return b>180&&(b-=360),C+b*Z(d)}function j(C,c,d){let b=0;return b=C!=c?Z((d-C)/(c-C)):0,b}function g(C,c,d,b,X){const P=X*X,V=X*P;return C*(2*V-3*P+1)+d*(-2*V+3*P)+c*(V-2*P+X)+b*(V-P)}function k(C,c,d,b,X){const P=X*X;return 6*(P-X)*C+(3*P-4*X+1)*c+6*(-P+X)*d+(3*P-2*X)*b}function Z(C){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(d,Math.max(c,C))}function U(C){return C-=2*Math.PI*Math.floor((C+Math.PI)/(2*Math.PI))}function A(C){const c=C.toString(16);return C<=15?("0"+c).toUpperCase():c.toUpperCase()}function u(C){if(Math.log2)return Math.floor(Math.log2(C));if(C<0)return NaN;if(0===C)return-1/0;let c=0;if(C<1){for(;C<1;)c++,C*=2;c=-c}else if(C>1)for(;C>1;)c++,C=Math.floor(C/2);return c}function q(C,c){return C-Math.floor(C/c)*c}function B(C,c,d){return(C-c)/(d-c)}function t(C,c,d){return C*(d-c)+c}function e(C,c){let d=q(c-C,360);return d>180&&(d-=360),d}function n(C,c){const d=q(C,2*c);return c-Math.abs(d-c)}function W(C,c,d){let b=Z(d);return b=-2*b*b*b+3*b*b,c*b+C*(1-b)}function E(C,c,d){let b=0;return b=Math.abs(c-C)<=d?c:C+Math.sign(c-C)*d,b}function N(C,c,d){const b=e(C,c);let X=0;return X=-d<b&&b<d?c:E(C,c=C+b,d),X}function r(C,c,d){return(C-c)/(d-c)}function M(C,c,d){return(d-c)*C+c}function K(C,c){const d=C%c;return 0===d?c:K(c,d)}d.r(c),d.d(c,{Clamp:()=>Z,DeltaAngle:()=>e,Denormalize:()=>t,ExtractAsInt:()=>b,Hermite:()=>g,Hermite1stDerivative:()=>k,HighestCommonFactor:()=>K,ILog2:()=>u,InverseLerp:()=>j,Lerp:()=>R,LerpAngle:()=>p,MoveTowards:()=>E,MoveTowardsAngle:()=>N,Normalize:()=>B,NormalizeRadians:()=>U,OutsideRange:()=>P,PercentToRange:()=>M,PingPong:()=>n,RandomRange:()=>V,RangeToPercent:()=>r,Repeat:()=>q,SmoothStep:()=>W,ToHex:()=>A,WithinEpsilon:()=>X})}}]);