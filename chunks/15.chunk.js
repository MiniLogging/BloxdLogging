"use strict";(self["9s4i8ue3jq"]=self["9s4i8ue3jq"]||[]).push([[15],{15206:(a,c,o)=>{o.r(c),o.d(c,{_IESTextureLoader:()=>p});var s=o(12824);function q(a){return a.split(" ").filter((a=>""!==a)).map((a=>parseFloat(a)))}function t(a,c,o){for(;o.length!==c;){const c=q(a.lines[a.index++]);o.push(...c)}}function i(a,c,o){let q=0,t=0,i=0,p=0,G=0,T=0;for(let s=0;s<a.numberOfHorizontalAngles-1;s++)if(o<a.horizontalAngles[s+1]||s===a.numberOfHorizontalAngles-2){t=s,i=a.horizontalAngles[s],p=a.horizontalAngles[s+1];break}for(let s=0;s<a.numberOfVerticalAngles-1;s++)if(c<a.verticalAngles[s+1]||s===a.numberOfVerticalAngles-2){q=s,G=a.verticalAngles[s],T=a.verticalAngles[s+1];break}const C=p-i,j=T-G;if(0===j)return 0;const L=0===C?0:(o-i)/C,e=(c-G)/j,g=0===C?t:t+1,M=(0,s.Lerp)(a.candelaValues[t][q],a.candelaValues[g][q],L),N=(0,s.Lerp)(a.candelaValues[t][q+1],a.candelaValues[g][q+1],L);return(0,s.Lerp)(M,N,e)}class p{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(a,c,o){const s=function(a){const c={lines:new TextDecoder("utf-8").decode(a).split("\n"),index:0},o={version:c.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(c.index=1;c.lines.length>0&&!c.lines[c.index].includes("TILT=");)c.index++;c.lines[c.index].includes("INCLUDE"),c.index++;const s=q(c.lines[c.index++]);o.numberOfLights=s[0],o.lumensPerLamp=s[1],o.candelaMultiplier=s[2],o.numberOfVerticalAngles=s[3],o.numberOfHorizontalAngles=s[4],o.photometricType=s[5],o.unitsType=s[6],o.width=s[7],o.length=s[8],o.height=s[9];const p=q(c.lines[c.index++]);o.ballastFactor=p[0],o.fileGenerationType=p[1],o.inputWatts=p[2];for(let q=0;q<o.numberOfHorizontalAngles;q++)o.candelaValues[q]=[];t(c,o.numberOfVerticalAngles,o.verticalAngles),t(c,o.numberOfHorizontalAngles,o.horizontalAngles);for(let q=0;q<o.numberOfHorizontalAngles;q++)t(c,o.numberOfVerticalAngles,o.candelaValues[q]);let G=-1;for(let q=0;q<o.numberOfHorizontalAngles;q++)for(let a=0;a<o.numberOfVerticalAngles;a++)o.candelaValues[q][a]*=o.candelaValues[q][a]*o.candelaMultiplier*o.ballastFactor*o.fileGenerationType,G=Math.max(G,o.candelaValues[q][a]);if(G>0)for(let q=0;q<o.numberOfHorizontalAngles;q++)for(let a=0;a<o.numberOfVerticalAngles;a++)o.candelaValues[q][a]/=G;const T=180,C=360,j=new Float32Array(64800),L=o.horizontalAngles[0],e=o.horizontalAngles[o.numberOfHorizontalAngles-1];for(let q=0;q<64800;q++){let a=q%C;const c=Math.floor(q/C);e-L!==0&&(a<L||a>=e)&&(a%=2*e,a>e&&(a=2*e-a)),j[c+a*T]=i(o,c,a)}return{width:180,height:1,data:j}}(new Uint8Array(a.buffer,a.byteOffset,a.byteLength));o(s.width,s.height,!1,!1,(()=>{const a=c.getEngine();c.type=1,c.format=6,c._gammaSpace=!1,a._uploadDataToTextureDirectly(c,s.data)}))}}},12824:(a,c,o)=>{function s(a){return parseInt(a.toString().replace(/\W/g,""))}function q(a,c){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(a-c)<=o}function t(a,c,o){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return a<c-s||a>o+s}function i(a,c){return a===c?a:Math.random()*(c-a)+a}function p(a,c,o){return a+(c-a)*o}function G(a,c,o){let s=N(c-a,360);return s>180&&(s-=360),a+s*L(o)}function T(a,c,o){let s=0;return s=a!=c?L((o-a)/(c-a)):0,s}function C(a,c,o,s,q){const t=q*q,i=q*t;return a*(2*i-3*t+1)+o*(-2*i+3*t)+c*(i-2*t+q)+s*(i-t)}function j(a,c,o,s,q){const t=q*q;return 6*(t-q)*a+(3*t-4*q+1)*c+6*(-t+q)*o+(3*t-2*q)*s}function L(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(o,Math.max(c,a))}function e(a){return a-=2*Math.PI*Math.floor((a+Math.PI)/(2*Math.PI))}function g(a){const c=a.toString(16);return a<=15?("0"+c).toUpperCase():c.toUpperCase()}function M(a){if(Math.log2)return Math.floor(Math.log2(a));if(a<0)return NaN;if(0===a)return-1/0;let c=0;if(a<1){for(;a<1;)c++,a*=2;c=-c}else if(a>1)for(;a>1;)c++,a=Math.floor(a/2);return c}function N(a,c){return a-Math.floor(a/c)*c}function y(a,c,o){return(a-c)/(o-c)}function k(a,c,o){return a*(o-c)+c}function n(a,c){let o=N(c-a,360);return o>180&&(o-=360),o}function f(a,c){const o=N(a,2*c);return c-Math.abs(o-c)}function J(a,c,o){let s=L(o);return s=-2*s*s*s+3*s*s,c*s+a*(1-s)}function w(a,c,o){let s=0;return s=Math.abs(c-a)<=o?c:a+Math.sign(c-a)*o,s}function Z(a,c,o){const s=n(a,c);let q=0;return q=-o<s&&s<o?c:w(a,c=a+s,o),q}function h(a,c,o){return(a-c)/(o-c)}function U(a,c,o){return(o-c)*a+c}function S(a,c){const o=a%c;return 0===o?c:S(c,o)}o.r(c),o.d(c,{Clamp:()=>L,DeltaAngle:()=>n,Denormalize:()=>k,ExtractAsInt:()=>s,Hermite:()=>C,Hermite1stDerivative:()=>j,HighestCommonFactor:()=>S,ILog2:()=>M,InverseLerp:()=>T,Lerp:()=>p,LerpAngle:()=>G,MoveTowards:()=>w,MoveTowardsAngle:()=>Z,Normalize:()=>y,NormalizeRadians:()=>e,OutsideRange:()=>t,PercentToRange:()=>U,PingPong:()=>f,RandomRange:()=>i,RangeToPercent:()=>h,Repeat:()=>N,SmoothStep:()=>J,ToHex:()=>g,WithinEpsilon:()=>q})}}]);