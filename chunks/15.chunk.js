"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[15],{13623:(B,I,C)=>{C.r(I),C.d(I,{_IESTextureLoader:()=>L});var M=C(11212);function x(B){return B.split(" ").filter((B=>""!==B)).map((B=>parseFloat(B)))}function y(B,I,C){for(;C.length!==I;){const I=x(B.lines[B.index++]);C.push(...I)}}function f(B,I,C){let x=0,y=0,f=0,L=0,e=0,g=0;for(let M=0;M<B.numberOfHorizontalAngles-1;M++)if(C<B.horizontalAngles[M+1]||M===B.numberOfHorizontalAngles-2){y=M,f=B.horizontalAngles[M],L=B.horizontalAngles[M+1];break}for(let M=0;M<B.numberOfVerticalAngles-1;M++)if(I<B.verticalAngles[M+1]||M===B.numberOfVerticalAngles-2){x=M,e=B.verticalAngles[M],g=B.verticalAngles[M+1];break}const N=L-f,R=g-e;if(0===R)return 0;const H=0===N?0:(C-f)/N,F=(I-e)/R,k=0===N?y:y+1,q=(0,M.Lerp)(B.candelaValues[y][x],B.candelaValues[k][x],H),S=(0,M.Lerp)(B.candelaValues[y][x+1],B.candelaValues[k][x+1],H);return(0,M.Lerp)(q,S,F)}class L{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(B,I,C){const M=function(B){const I={lines:new TextDecoder("utf-8").decode(B).split("\n"),index:0},C={version:I.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(I.index=1;I.lines.length>0&&!I.lines[I.index].includes("TILT=");)I.index++;I.lines[I.index].includes("INCLUDE"),I.index++;const M=x(I.lines[I.index++]);C.numberOfLights=M[0],C.lumensPerLamp=M[1],C.candelaMultiplier=M[2],C.numberOfVerticalAngles=M[3],C.numberOfHorizontalAngles=M[4],C.photometricType=M[5],C.unitsType=M[6],C.width=M[7],C.length=M[8],C.height=M[9];const L=x(I.lines[I.index++]);C.ballastFactor=L[0],C.fileGenerationType=L[1],C.inputWatts=L[2];for(let x=0;x<C.numberOfHorizontalAngles;x++)C.candelaValues[x]=[];y(I,C.numberOfVerticalAngles,C.verticalAngles),y(I,C.numberOfHorizontalAngles,C.horizontalAngles);for(let x=0;x<C.numberOfHorizontalAngles;x++)y(I,C.numberOfVerticalAngles,C.candelaValues[x]);let e=-1;for(let x=0;x<C.numberOfHorizontalAngles;x++)for(let B=0;B<C.numberOfVerticalAngles;B++)C.candelaValues[x][B]*=C.candelaValues[x][B]*C.candelaMultiplier*C.ballastFactor*C.fileGenerationType,e=Math.max(e,C.candelaValues[x][B]);if(e>0)for(let x=0;x<C.numberOfHorizontalAngles;x++)for(let B=0;B<C.numberOfVerticalAngles;B++)C.candelaValues[x][B]/=e;const g=180,N=360,R=new Float32Array(64800),H=C.horizontalAngles[0],F=C.horizontalAngles[C.numberOfHorizontalAngles-1];for(let x=0;x<64800;x++){let B=x%N;const I=Math.floor(x/N);F-H!==0&&(B<H||B>=F)&&(B%=2*F,B>F&&(B=2*F-B)),R[I+B*g]=f(C,I,B)}return{width:180,height:1,data:R}}(new Uint8Array(B.buffer,B.byteOffset,B.byteLength));C(M.width,M.height,!1,!1,(()=>{const B=I.getEngine();I.type=1,I.format=6,I._gammaSpace=!1,B._uploadDataToTextureDirectly(I,M.data)}))}}},11212:(B,I,C)=>{function M(B){return parseInt(B.toString().replace(/\W/g,""))}function x(B,I){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(B-I)<=C}function y(B,I,C){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return B<I-M||B>C+M}function f(B,I){return B===I?B:Math.random()*(I-B)+B}function L(B,I,C){return B+(I-B)*C}function e(B,I,C){let M=S(I-B,360);return M>180&&(M-=360),B+M*H(C)}function g(B,I,C){let M=0;return M=B!=I?H((C-B)/(I-B)):0,M}function N(B,I,C,M,x){const y=x*x,f=x*y;return B*(2*f-3*y+1)+C*(-2*f+3*y)+I*(f-2*y+x)+M*(f-y)}function R(B,I,C,M,x){const y=x*x;return 6*(y-x)*B+(3*y-4*x+1)*I+6*(-y+x)*C+(3*y-2*x)*M}function H(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(C,Math.max(I,B))}function F(B){return B-=2*Math.PI*Math.floor((B+Math.PI)/(2*Math.PI))}function k(B){const I=B.toString(16);return B<=15?("0"+I).toUpperCase():I.toUpperCase()}function q(B){if(Math.log2)return Math.floor(Math.log2(B));if(B<0)return NaN;if(0===B)return-1/0;let I=0;if(B<1){for(;B<1;)I++,B*=2;I=-I}else if(B>1)for(;B>1;)I++,B=Math.floor(B/2);return I}function S(B,I){return B-Math.floor(B/I)*I}function o(B,I,C){return(B-I)/(C-I)}function U(B,I,C){return B*(C-I)+I}function G(B,I){let C=S(I-B,360);return C>180&&(C-=360),C}function V(B,I){const C=S(B,2*I);return I-Math.abs(C-I)}function c(B,I,C){let M=H(C);return M=-2*M*M*M+3*M*M,I*M+B*(1-M)}function t(B,I,C){let M=0;return M=Math.abs(I-B)<=C?I:B+Math.sign(I-B)*C,M}function r(B,I,C){const M=G(B,I);let x=0;return x=-C<M&&M<C?I:t(B,I=B+M,C),x}function A(B,I,C){return(B-I)/(C-I)}function D(B,I,C){return(C-I)*B+I}function J(B,I){const C=B%I;return 0===C?I:J(I,C)}C.r(I),C.d(I,{Clamp:()=>H,DeltaAngle:()=>G,Denormalize:()=>U,ExtractAsInt:()=>M,Hermite:()=>N,Hermite1stDerivative:()=>R,HighestCommonFactor:()=>J,ILog2:()=>q,InverseLerp:()=>g,Lerp:()=>L,LerpAngle:()=>e,MoveTowards:()=>t,MoveTowardsAngle:()=>r,Normalize:()=>o,NormalizeRadians:()=>F,OutsideRange:()=>y,PercentToRange:()=>D,PingPong:()=>V,RandomRange:()=>f,RangeToPercent:()=>A,Repeat:()=>S,SmoothStep:()=>c,ToHex:()=>k,WithinEpsilon:()=>x})}}]);