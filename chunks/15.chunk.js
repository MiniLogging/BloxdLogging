"use strict";(self.zcqpiao938m=self.zcqpiao938m||[]).push([[15],{14223:(C,U,K)=>{K.r(U),K.d(U,{_IESTextureLoader:()=>e});var m=K(11846);function O(C){return C.split(" ").filter((C=>""!==C)).map((C=>parseFloat(C)))}function X(C,U,K){for(;K.length!==U;){const U=O(C.lines[C.index++]);K.push(...U)}}function A(C,U,K){let O=0,X=0,A=0,e=0,t=0,z=0;for(let m=0;m<C.numberOfHorizontalAngles-1;m++)if(K<C.horizontalAngles[m+1]||m===C.numberOfHorizontalAngles-2){X=m,A=C.horizontalAngles[m],e=C.horizontalAngles[m+1];break}for(let m=0;m<C.numberOfVerticalAngles-1;m++)if(U<C.verticalAngles[m+1]||m===C.numberOfVerticalAngles-2){O=m,t=C.verticalAngles[m],z=C.verticalAngles[m+1];break}const j=e-A,p=z-t;if(0===p)return 0;const E=0===j?0:(K-A)/j,u=(U-t)/p,b=0===j?X:X+1,v=(0,m.Lerp)(C.candelaValues[X][O],C.candelaValues[b][O],E),Q=(0,m.Lerp)(C.candelaValues[X][O+1],C.candelaValues[b][O+1],E);return(0,m.Lerp)(v,Q,u)}class e{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(C,U,K){const m=function(C){const U={lines:new TextDecoder("utf-8").decode(C).split("\n"),index:0},K={version:U.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(U.index=1;U.lines.length>0&&!U.lines[U.index].includes("TILT=");)U.index++;U.lines[U.index].includes("INCLUDE"),U.index++;const m=O(U.lines[U.index++]);K.numberOfLights=m[0],K.lumensPerLamp=m[1],K.candelaMultiplier=m[2],K.numberOfVerticalAngles=m[3],K.numberOfHorizontalAngles=m[4],K.photometricType=m[5],K.unitsType=m[6],K.width=m[7],K.length=m[8],K.height=m[9];const e=O(U.lines[U.index++]);K.ballastFactor=e[0],K.fileGenerationType=e[1],K.inputWatts=e[2];for(let O=0;O<K.numberOfHorizontalAngles;O++)K.candelaValues[O]=[];X(U,K.numberOfVerticalAngles,K.verticalAngles),X(U,K.numberOfHorizontalAngles,K.horizontalAngles);for(let O=0;O<K.numberOfHorizontalAngles;O++)X(U,K.numberOfVerticalAngles,K.candelaValues[O]);let t=-1;for(let O=0;O<K.numberOfHorizontalAngles;O++)for(let C=0;C<K.numberOfVerticalAngles;C++)K.candelaValues[O][C]*=K.candelaValues[O][C]*K.candelaMultiplier*K.ballastFactor*K.fileGenerationType,t=Math.max(t,K.candelaValues[O][C]);if(t>0)for(let O=0;O<K.numberOfHorizontalAngles;O++)for(let C=0;C<K.numberOfVerticalAngles;C++)K.candelaValues[O][C]/=t;const z=180,j=360,p=new Float32Array(64800),E=K.horizontalAngles[0],u=K.horizontalAngles[K.numberOfHorizontalAngles-1];for(let O=0;O<64800;O++){let C=O%j;const U=Math.floor(O/j);u-E!==0&&(C<E||C>=u)&&(C%=2*u,C>u&&(C=2*u-C)),p[U+C*z]=A(K,U,C)}return{width:180,height:1,data:p}}(new Uint8Array(C.buffer,C.byteOffset,C.byteLength));K(m.width,m.height,!1,!1,(()=>{const C=U.getEngine();U.type=1,U.format=6,U._gammaSpace=!1,C._uploadDataToTextureDirectly(U,m.data)}))}}},11846:(C,U,K)=>{function m(C){return parseInt(C.toString().replace(/\W/g,""))}function O(C,U){let K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(C-U)<=K}function X(C,U,K){let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return C<U-m||C>K+m}function A(C,U){return C===U?C:Math.random()*(U-C)+C}function e(C,U,K){return C+(U-C)*K}function t(C,U,K){let m=Q(U-C,360);return m>180&&(m-=360),C+m*E(K)}function z(C,U,K){let m=0;return m=C!=U?E((K-C)/(U-C)):0,m}function j(C,U,K,m,O){const X=O*O,A=O*X;return C*(2*A-3*X+1)+K*(-2*A+3*X)+U*(A-2*X+O)+m*(A-X)}function p(C,U,K,m,O){const X=O*O;return 6*(X-O)*C+(3*X-4*O+1)*U+6*(-X+O)*K+(3*X-2*O)*m}function E(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(K,Math.max(U,C))}function u(C){return C-=2*Math.PI*Math.floor((C+Math.PI)/(2*Math.PI))}function b(C){const U=C.toString(16);return C<=15?("0"+U).toUpperCase():U.toUpperCase()}function v(C){if(Math.log2)return Math.floor(Math.log2(C));if(C<0)return NaN;if(0===C)return-1/0;let U=0;if(C<1){for(;C<1;)U++,C*=2;U=-U}else if(C>1)for(;C>1;)U++,C=Math.floor(C/2);return U}function Q(C,U){return C-Math.floor(C/U)*U}function V(C,U,K){return(C-U)/(K-U)}function f(C,U,K){return C*(K-U)+U}function F(C,U){let K=Q(U-C,360);return K>180&&(K-=360),K}function Z(C,U){const K=Q(C,2*U);return U-Math.abs(K-U)}function P(C,U,K){let m=E(K);return m=-2*m*m*m+3*m*m,U*m+C*(1-m)}function H(C,U,K){let m=0;return m=Math.abs(U-C)<=K?U:C+Math.sign(U-C)*K,m}function d(C,U,K){const m=F(C,U);let O=0;return O=-K<m&&m<K?U:H(C,U=C+m,K),O}function T(C,U,K){return(C-U)/(K-U)}function y(C,U,K){return(K-U)*C+U}function a(C,U){const K=C%U;return 0===K?U:a(U,K)}K.r(U),K.d(U,{Clamp:()=>E,DeltaAngle:()=>F,Denormalize:()=>f,ExtractAsInt:()=>m,Hermite:()=>j,Hermite1stDerivative:()=>p,HighestCommonFactor:()=>a,ILog2:()=>v,InverseLerp:()=>z,Lerp:()=>e,LerpAngle:()=>t,MoveTowards:()=>H,MoveTowardsAngle:()=>d,Normalize:()=>V,NormalizeRadians:()=>u,OutsideRange:()=>X,PercentToRange:()=>y,PingPong:()=>Z,RandomRange:()=>A,RangeToPercent:()=>T,Repeat:()=>Q,SmoothStep:()=>P,ToHex:()=>b,WithinEpsilon:()=>O})}}]);