"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[15],{13652:(o,H,n)=>{n.r(H),n.d(H,{_IESTextureLoader:()=>Y});var E=n(11205);function k(o){return o.split(" ").filter((o=>""!==o)).map((o=>parseFloat(o)))}function g(o,H,n){for(;n.length!==H;){const H=k(o.lines[o.index++]);n.push(...H)}}function O(o,H,n){let k=0,g=0,O=0,Y=0,y=0,S=0;for(let E=0;E<o.numberOfHorizontalAngles-1;E++)if(n<o.horizontalAngles[E+1]||E===o.numberOfHorizontalAngles-2){g=E,O=o.horizontalAngles[E],Y=o.horizontalAngles[E+1];break}for(let E=0;E<o.numberOfVerticalAngles-1;E++)if(H<o.verticalAngles[E+1]||E===o.numberOfVerticalAngles-2){k=E,y=o.verticalAngles[E],S=o.verticalAngles[E+1];break}const G=Y-O,c=S-y;if(0===c)return 0;const A=0===G?0:(n-O)/G,l=(H-y)/c,x=0===G?g:g+1,z=(0,E.Lerp)(o.candelaValues[g][k],o.candelaValues[x][k],A),V=(0,E.Lerp)(o.candelaValues[g][k+1],o.candelaValues[x][k+1],A);return(0,E.Lerp)(z,V,l)}class Y{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(o,H,n){const E=function(o){const H={lines:new TextDecoder("utf-8").decode(o).split("\n"),index:0},n={version:H.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(H.index=1;H.lines.length>0&&!H.lines[H.index].includes("TILT=");)H.index++;H.lines[H.index].includes("INCLUDE"),H.index++;const E=k(H.lines[H.index++]);n.numberOfLights=E[0],n.lumensPerLamp=E[1],n.candelaMultiplier=E[2],n.numberOfVerticalAngles=E[3],n.numberOfHorizontalAngles=E[4],n.photometricType=E[5],n.unitsType=E[6],n.width=E[7],n.length=E[8],n.height=E[9];const Y=k(H.lines[H.index++]);n.ballastFactor=Y[0],n.fileGenerationType=Y[1],n.inputWatts=Y[2];for(let k=0;k<n.numberOfHorizontalAngles;k++)n.candelaValues[k]=[];g(H,n.numberOfVerticalAngles,n.verticalAngles),g(H,n.numberOfHorizontalAngles,n.horizontalAngles);for(let k=0;k<n.numberOfHorizontalAngles;k++)g(H,n.numberOfVerticalAngles,n.candelaValues[k]);let y=-1;for(let k=0;k<n.numberOfHorizontalAngles;k++)for(let o=0;o<n.numberOfVerticalAngles;o++)n.candelaValues[k][o]*=n.candelaValues[k][o]*n.candelaMultiplier*n.ballastFactor*n.fileGenerationType,y=Math.max(y,n.candelaValues[k][o]);if(y>0)for(let k=0;k<n.numberOfHorizontalAngles;k++)for(let o=0;o<n.numberOfVerticalAngles;o++)n.candelaValues[k][o]/=y;const S=180,G=360,c=new Float32Array(64800),A=n.horizontalAngles[0],l=n.horizontalAngles[n.numberOfHorizontalAngles-1];for(let k=0;k<64800;k++){let o=k%G;const H=Math.floor(k/G);l-A!==0&&(o<A||o>=l)&&(o%=2*l,o>l&&(o=2*l-o)),c[H+o*S]=O(n,H,o)}return{width:180,height:1,data:c}}(new Uint8Array(o.buffer,o.byteOffset,o.byteLength));n(E.width,E.height,!1,!1,(()=>{const o=H.getEngine();H.type=1,H.format=6,H._gammaSpace=!1,o._uploadDataToTextureDirectly(H,E.data)}))}}},11205:(o,H,n)=>{function E(o){return parseInt(o.toString().replace(/\W/g,""))}function k(o,H){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(o-H)<=n}function g(o,H,n){let E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return o<H-E||o>n+E}function O(o,H){return o===H?o:Math.random()*(H-o)+o}function Y(o,H,n){return o+(H-o)*n}function y(o,H,n){let E=V(H-o,360);return E>180&&(E-=360),o+E*A(n)}function S(o,H,n){let E=0;return E=o!=H?A((n-o)/(H-o)):0,E}function G(o,H,n,E,k){const g=k*k,O=k*g;return o*(2*O-3*g+1)+n*(-2*O+3*g)+H*(O-2*g+k)+E*(O-g)}function c(o,H,n,E,k){const g=k*k;return 6*(g-k)*o+(3*g-4*k+1)*H+6*(-g+k)*n+(3*g-2*k)*E}function A(o){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(n,Math.max(H,o))}function l(o){return o-=2*Math.PI*Math.floor((o+Math.PI)/(2*Math.PI))}function x(o){const H=o.toString(16);return o<=15?("0"+H).toUpperCase():H.toUpperCase()}function z(o){if(Math.log2)return Math.floor(Math.log2(o));if(o<0)return NaN;if(0===o)return-1/0;let H=0;if(o<1){for(;o<1;)H++,o*=2;H=-H}else if(o>1)for(;o>1;)H++,o=Math.floor(o/2);return H}function V(o,H){return o-Math.floor(o/H)*H}function J(o,H,n){return(o-H)/(n-H)}function N(o,H,n){return o*(n-H)+H}function h(o,H){let n=V(H-o,360);return n>180&&(n-=360),n}function Q(o,H){const n=V(o,2*H);return H-Math.abs(n-H)}function p(o,H,n){let E=A(n);return E=-2*E*E*E+3*E*E,H*E+o*(1-E)}function j(o,H,n){let E=0;return E=Math.abs(H-o)<=n?H:o+Math.sign(H-o)*n,E}function m(o,H,n){const E=h(o,H);let k=0;return k=-n<E&&E<n?H:j(o,H=o+E,n),k}function P(o,H,n){return(o-H)/(n-H)}function b(o,H,n){return(n-H)*o+H}function e(o,H){const n=o%H;return 0===n?H:e(H,n)}n.r(H),n.d(H,{Clamp:()=>A,DeltaAngle:()=>h,Denormalize:()=>N,ExtractAsInt:()=>E,Hermite:()=>G,Hermite1stDerivative:()=>c,HighestCommonFactor:()=>e,ILog2:()=>z,InverseLerp:()=>S,Lerp:()=>Y,LerpAngle:()=>y,MoveTowards:()=>j,MoveTowardsAngle:()=>m,Normalize:()=>J,NormalizeRadians:()=>l,OutsideRange:()=>g,PercentToRange:()=>b,PingPong:()=>Q,RandomRange:()=>O,RangeToPercent:()=>P,Repeat:()=>V,SmoothStep:()=>p,ToHex:()=>x,WithinEpsilon:()=>k})}}]);