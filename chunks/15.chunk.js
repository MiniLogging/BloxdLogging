"use strict";(self.dwifukwnts=self.dwifukwnts||[]).push([[15],{14015:(U,X,b)=>{b.r(X),b.d(X,{_IESTextureLoader:()=>z});var F=b(11608);function E(U){return U.split(" ").filter((U=>""!==U)).map((U=>parseFloat(U)))}function w(U,X,b){for(;b.length!==X;){const X=E(U.lines[U.index++]);b.push(...X)}}function Q(U,X,b){let E=0,w=0,Q=0,z=0,q=0,p=0;for(let F=0;F<U.numberOfHorizontalAngles-1;F++)if(b<U.horizontalAngles[F+1]||F===U.numberOfHorizontalAngles-2){w=F,Q=U.horizontalAngles[F],z=U.horizontalAngles[F+1];break}for(let F=0;F<U.numberOfVerticalAngles-1;F++)if(X<U.verticalAngles[F+1]||F===U.numberOfVerticalAngles-2){E=F,q=U.verticalAngles[F],p=U.verticalAngles[F+1];break}const S=z-Q,R=p-q;if(0===R)return 0;const n=0===S?0:(b-Q)/S,a=(X-q)/R,J=0===S?w:w+1,m=(0,F.Lerp)(U.candelaValues[w][E],U.candelaValues[J][E],n),x=(0,F.Lerp)(U.candelaValues[w][E+1],U.candelaValues[J][E+1],n);return(0,F.Lerp)(m,x,a)}class z{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(U,X,b){const F=function(U){const X={lines:new TextDecoder("utf-8").decode(U).split("\n"),index:0},b={version:X.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(X.index=1;X.lines.length>0&&!X.lines[X.index].includes("TILT=");)X.index++;X.lines[X.index].includes("INCLUDE"),X.index++;const F=E(X.lines[X.index++]);b.numberOfLights=F[0],b.lumensPerLamp=F[1],b.candelaMultiplier=F[2],b.numberOfVerticalAngles=F[3],b.numberOfHorizontalAngles=F[4],b.photometricType=F[5],b.unitsType=F[6],b.width=F[7],b.length=F[8],b.height=F[9];const z=E(X.lines[X.index++]);b.ballastFactor=z[0],b.fileGenerationType=z[1],b.inputWatts=z[2];for(let E=0;E<b.numberOfHorizontalAngles;E++)b.candelaValues[E]=[];w(X,b.numberOfVerticalAngles,b.verticalAngles),w(X,b.numberOfHorizontalAngles,b.horizontalAngles);for(let E=0;E<b.numberOfHorizontalAngles;E++)w(X,b.numberOfVerticalAngles,b.candelaValues[E]);let q=-1;for(let E=0;E<b.numberOfHorizontalAngles;E++)for(let U=0;U<b.numberOfVerticalAngles;U++)b.candelaValues[E][U]*=b.candelaValues[E][U]*b.candelaMultiplier*b.ballastFactor*b.fileGenerationType,q=Math.max(q,b.candelaValues[E][U]);if(q>0)for(let E=0;E<b.numberOfHorizontalAngles;E++)for(let U=0;U<b.numberOfVerticalAngles;U++)b.candelaValues[E][U]/=q;const p=180,S=360,R=new Float32Array(64800),n=b.horizontalAngles[0],a=b.horizontalAngles[b.numberOfHorizontalAngles-1];for(let E=0;E<64800;E++){let U=E%S;const X=Math.floor(E/S);a-n!==0&&(U<n||U>=a)&&(U%=2*a,U>a&&(U=2*a-U)),R[X+U*p]=Q(b,X,U)}return{width:180,height:1,data:R}}(new Uint8Array(U.buffer,U.byteOffset,U.byteLength));b(F.width,F.height,!1,!1,(()=>{const U=X.getEngine();X.type=1,X.format=6,X._gammaSpace=!1,U._uploadDataToTextureDirectly(X,F.data)}))}}},11608:(U,X,b)=>{function F(U){return parseInt(U.toString().replace(/\W/g,""))}function E(U,X){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(U-X)<=b}function w(U,X,b){let F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return U<X-F||U>b+F}function Q(U,X){return U===X?U:Math.random()*(X-U)+U}function z(U,X,b){return U+(X-U)*b}function q(U,X,b){let F=x(X-U,360);return F>180&&(F-=360),U+F*n(b)}function p(U,X,b){let F=0;return F=U!=X?n((b-U)/(X-U)):0,F}function S(U,X,b,F,E){const w=E*E,Q=E*w;return U*(2*Q-3*w+1)+b*(-2*Q+3*w)+X*(Q-2*w+E)+F*(Q-w)}function R(U,X,b,F,E){const w=E*E;return 6*(w-E)*U+(3*w-4*E+1)*X+6*(-w+E)*b+(3*w-2*E)*F}function n(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(b,Math.max(X,U))}function a(U){return U-=2*Math.PI*Math.floor((U+Math.PI)/(2*Math.PI))}function J(U){const X=U.toString(16);return U<=15?("0"+X).toUpperCase():X.toUpperCase()}function m(U){if(Math.log2)return Math.floor(Math.log2(U));if(U<0)return NaN;if(0===U)return-1/0;let X=0;if(U<1){for(;U<1;)X++,U*=2;X=-X}else if(U>1)for(;U>1;)X++,U=Math.floor(U/2);return X}function x(U,X){return U-Math.floor(U/X)*X}function I(U,X,b){return(U-X)/(b-X)}function O(U,X,b){return U*(b-X)+X}function N(U,X){let b=x(X-U,360);return b>180&&(b-=360),b}function u(U,X){const b=x(U,2*X);return X-Math.abs(b-X)}function i(U,X,b){let F=n(b);return F=-2*F*F*F+3*F*F,X*F+U*(1-F)}function P(U,X,b){let F=0;return F=Math.abs(X-U)<=b?X:U+Math.sign(X-U)*b,F}function f(U,X,b){const F=N(U,X);let E=0;return E=-b<F&&F<b?X:P(U,X=U+F,b),E}function j(U,X,b){return(U-X)/(b-X)}function e(U,X,b){return(b-X)*U+X}function l(U,X){const b=U%X;return 0===b?X:l(X,b)}b.r(X),b.d(X,{Clamp:()=>n,DeltaAngle:()=>N,Denormalize:()=>O,ExtractAsInt:()=>F,Hermite:()=>S,Hermite1stDerivative:()=>R,HighestCommonFactor:()=>l,ILog2:()=>m,InverseLerp:()=>p,Lerp:()=>z,LerpAngle:()=>q,MoveTowards:()=>P,MoveTowardsAngle:()=>f,Normalize:()=>I,NormalizeRadians:()=>a,OutsideRange:()=>w,PercentToRange:()=>e,PingPong:()=>u,RandomRange:()=>Q,RangeToPercent:()=>j,Repeat:()=>x,SmoothStep:()=>i,ToHex:()=>J,WithinEpsilon:()=>E})}}]);