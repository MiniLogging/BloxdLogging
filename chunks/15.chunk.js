"use strict";(self.zy41qorie9=self.zy41qorie9||[]).push([[15],{14555:(Z,l,C)=>{C.r(l),C.d(l,{_IESTextureLoader:()=>f});var B=C(12460);function x(Z){return Z.split(" ").filter((Z=>""!==Z)).map((Z=>parseFloat(Z)))}function b(Z,l,C){for(;C.length!==l;){const l=x(Z.lines[Z.index++]);C.push(...l)}}function K(Z,l,C){let x=0,b=0,K=0,f=0,W=0,J=0;for(let B=0;B<Z.numberOfHorizontalAngles-1;B++)if(C<Z.horizontalAngles[B+1]||B===Z.numberOfHorizontalAngles-2){b=B,K=Z.horizontalAngles[B],f=Z.horizontalAngles[B+1];break}for(let B=0;B<Z.numberOfVerticalAngles-1;B++)if(l<Z.verticalAngles[B+1]||B===Z.numberOfVerticalAngles-2){x=B,W=Z.verticalAngles[B],J=Z.verticalAngles[B+1];break}const d=f-K,E=J-W;if(0===E)return 0;const G=0===d?0:(C-K)/d,a=(l-W)/E,q=0===d?b:b+1,z=(0,B.Lerp)(Z.candelaValues[b][x],Z.candelaValues[q][x],G),Y=(0,B.Lerp)(Z.candelaValues[b][x+1],Z.candelaValues[q][x+1],G);return(0,B.Lerp)(z,Y,a)}class f{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(Z,l,C){const B=function(Z){const l={lines:new TextDecoder("utf-8").decode(Z).split("\n"),index:0},C={version:l.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(l.index=1;l.lines.length>0&&!l.lines[l.index].includes("TILT=");)l.index++;l.lines[l.index].includes("INCLUDE"),l.index++;const B=x(l.lines[l.index++]);C.numberOfLights=B[0],C.lumensPerLamp=B[1],C.candelaMultiplier=B[2],C.numberOfVerticalAngles=B[3],C.numberOfHorizontalAngles=B[4],C.photometricType=B[5],C.unitsType=B[6],C.width=B[7],C.length=B[8],C.height=B[9];const f=x(l.lines[l.index++]);C.ballastFactor=f[0],C.fileGenerationType=f[1],C.inputWatts=f[2];for(let x=0;x<C.numberOfHorizontalAngles;x++)C.candelaValues[x]=[];b(l,C.numberOfVerticalAngles,C.verticalAngles),b(l,C.numberOfHorizontalAngles,C.horizontalAngles);for(let x=0;x<C.numberOfHorizontalAngles;x++)b(l,C.numberOfVerticalAngles,C.candelaValues[x]);let W=-1;for(let x=0;x<C.numberOfHorizontalAngles;x++)for(let Z=0;Z<C.numberOfVerticalAngles;Z++)C.candelaValues[x][Z]*=C.candelaValues[x][Z]*C.candelaMultiplier*C.ballastFactor*C.fileGenerationType,W=Math.max(W,C.candelaValues[x][Z]);if(W>0)for(let x=0;x<C.numberOfHorizontalAngles;x++)for(let Z=0;Z<C.numberOfVerticalAngles;Z++)C.candelaValues[x][Z]/=W;const J=180,d=360,E=new Float32Array(64800),G=C.horizontalAngles[0],a=C.horizontalAngles[C.numberOfHorizontalAngles-1];for(let x=0;x<64800;x++){let Z=x%d;const l=Math.floor(x/d);a-G!==0&&(Z<G||Z>=a)&&(Z%=2*a,Z>a&&(Z=2*a-Z)),E[l+Z*J]=K(C,l,Z)}return{width:180,height:1,data:E}}(new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength));C(B.width,B.height,!1,!1,(()=>{const Z=l.getEngine();l.type=1,l.format=6,l._gammaSpace=!1,Z._uploadDataToTextureDirectly(l,B.data)}))}}},12460:(Z,l,C)=>{function B(Z){return parseInt(Z.toString().replace(/\W/g,""))}function x(Z,l){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(Z-l)<=C}function b(Z,l,C){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return Z<l-B||Z>C+B}function K(Z,l){return Z===l?Z:Math.random()*(l-Z)+Z}function f(Z,l,C){return Z+(l-Z)*C}function W(Z,l,C){let B=Y(l-Z,360);return B>180&&(B-=360),Z+B*G(C)}function J(Z,l,C){let B=0;return B=Z!=l?G((C-Z)/(l-Z)):0,B}function d(Z,l,C,B,x){const b=x*x,K=x*b;return Z*(2*K-3*b+1)+C*(-2*K+3*b)+l*(K-2*b+x)+B*(K-b)}function E(Z,l,C,B,x){const b=x*x;return 6*(b-x)*Z+(3*b-4*x+1)*l+6*(-b+x)*C+(3*b-2*x)*B}function G(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(C,Math.max(l,Z))}function a(Z){return Z-=2*Math.PI*Math.floor((Z+Math.PI)/(2*Math.PI))}function q(Z){const l=Z.toString(16);return Z<=15?("0"+l).toUpperCase():l.toUpperCase()}function z(Z){if(Math.log2)return Math.floor(Math.log2(Z));if(Z<0)return NaN;if(0===Z)return-1/0;let l=0;if(Z<1){for(;Z<1;)l++,Z*=2;l=-l}else if(Z>1)for(;Z>1;)l++,Z=Math.floor(Z/2);return l}function Y(Z,l){return Z-Math.floor(Z/l)*l}function P(Z,l,C){return(Z-l)/(C-l)}function S(Z,l,C){return Z*(C-l)+l}function i(Z,l){let C=Y(l-Z,360);return C>180&&(C-=360),C}function s(Z,l){const C=Y(Z,2*l);return l-Math.abs(C-l)}function F(Z,l,C){let B=G(C);return B=-2*B*B*B+3*B*B,l*B+Z*(1-B)}function n(Z,l,C){let B=0;return B=Math.abs(l-Z)<=C?l:Z+Math.sign(l-Z)*C,B}function c(Z,l,C){const B=i(Z,l);let x=0;return x=-C<B&&B<C?l:n(Z,l=Z+B,C),x}function U(Z,l,C){return(Z-l)/(C-l)}function t(Z,l,C){return(C-l)*Z+l}function r(Z,l){const C=Z%l;return 0===C?l:r(l,C)}C.r(l),C.d(l,{Clamp:()=>G,DeltaAngle:()=>i,Denormalize:()=>S,ExtractAsInt:()=>B,Hermite:()=>d,Hermite1stDerivative:()=>E,HighestCommonFactor:()=>r,ILog2:()=>z,InverseLerp:()=>J,Lerp:()=>f,LerpAngle:()=>W,MoveTowards:()=>n,MoveTowardsAngle:()=>c,Normalize:()=>P,NormalizeRadians:()=>a,OutsideRange:()=>b,PercentToRange:()=>t,PingPong:()=>s,RandomRange:()=>K,RangeToPercent:()=>U,Repeat:()=>Y,SmoothStep:()=>F,ToHex:()=>q,WithinEpsilon:()=>x})}}]);