"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[15],{14288:(b,n,i)=>{i.r(n),i.d(n,{_IESTextureLoader:()=>Y});var e=i(11796);function V(b){return b.split(" ").filter((b=>""!==b)).map((b=>parseFloat(b)))}function Q(b,n,i){for(;i.length!==n;){const n=V(b.lines[b.index++]);i.push(...n)}}function U(b,n,i){let V=0,Q=0,U=0,Y=0,L=0,B=0;for(let e=0;e<b.numberOfHorizontalAngles-1;e++)if(i<b.horizontalAngles[e+1]||e===b.numberOfHorizontalAngles-2){Q=e,U=b.horizontalAngles[e],Y=b.horizontalAngles[e+1];break}for(let e=0;e<b.numberOfVerticalAngles-1;e++)if(n<b.verticalAngles[e+1]||e===b.numberOfVerticalAngles-2){V=e,L=b.verticalAngles[e],B=b.verticalAngles[e+1];break}const mb=Y-U,N=B-L;if(0===N)return 0;const Z=0===mb?0:(i-U)/mb,T=(n-L)/N,z=0===mb?Q:Q+1,K=(0,e.Lerp)(b.candelaValues[Q][V],b.candelaValues[z][V],Z),I=(0,e.Lerp)(b.candelaValues[Q][V+1],b.candelaValues[z][V+1],Z);return(0,e.Lerp)(K,I,T)}class Y{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(b,n,i){const e=function(b){const n={lines:new TextDecoder("utf-8").decode(b).split("\n"),index:0},i={version:n.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(n.index=1;n.lines.length>0&&!n.lines[n.index].includes("TILT=");)n.index++;n.lines[n.index].includes("INCLUDE"),n.index++;const e=V(n.lines[n.index++]);i.numberOfLights=e[0],i.lumensPerLamp=e[1],i.candelaMultiplier=e[2],i.numberOfVerticalAngles=e[3],i.numberOfHorizontalAngles=e[4],i.photometricType=e[5],i.unitsType=e[6],i.width=e[7],i.length=e[8],i.height=e[9];const Y=V(n.lines[n.index++]);i.ballastFactor=Y[0],i.fileGenerationType=Y[1],i.inputWatts=Y[2];for(let V=0;V<i.numberOfHorizontalAngles;V++)i.candelaValues[V]=[];Q(n,i.numberOfVerticalAngles,i.verticalAngles),Q(n,i.numberOfHorizontalAngles,i.horizontalAngles);for(let V=0;V<i.numberOfHorizontalAngles;V++)Q(n,i.numberOfVerticalAngles,i.candelaValues[V]);let L=-1;for(let V=0;V<i.numberOfHorizontalAngles;V++)for(let b=0;b<i.numberOfVerticalAngles;b++)i.candelaValues[V][b]*=i.candelaValues[V][b]*i.candelaMultiplier*i.ballastFactor*i.fileGenerationType,L=Math.max(L,i.candelaValues[V][b]);if(L>0)for(let V=0;V<i.numberOfHorizontalAngles;V++)for(let b=0;b<i.numberOfVerticalAngles;b++)i.candelaValues[V][b]/=L;const B=180,mb=360,N=new Float32Array(64800),Z=i.horizontalAngles[0],T=i.horizontalAngles[i.numberOfHorizontalAngles-1];for(let V=0;V<64800;V++){let b=V%mb;const n=Math.floor(V/mb);T-Z!==0&&(b<Z||b>=T)&&(b%=2*T,b>T&&(b=2*T-b)),N[n+b*B]=U(i,n,b)}return{width:180,height:1,data:N}}(new Uint8Array(b.buffer,b.byteOffset,b.byteLength));i(e.width,e.height,!1,!1,(()=>{const b=n.getEngine();n.type=1,n.format=6,n._gammaSpace=!1,b._uploadDataToTextureDirectly(n,e.data)}))}}},11796:(b,n,i)=>{function e(b){return parseInt(b.toString().replace(/\W/g,""))}function V(b,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(b-n)<=i}function Q(b,n,i){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return b<n-e||b>i+e}function U(b,n){return b===n?b:Math.random()*(n-b)+b}function Y(b,n,i){return b+(n-b)*i}function L(b,n,i){let e=I(n-b,360);return e>180&&(e-=360),b+e*Z(i)}function B(b,n,i){let e=0;return e=b!=n?Z((i-b)/(n-b)):0,e}function mb(b,n,i,e,V){const Q=V*V,U=V*Q;return b*(2*U-3*Q+1)+i*(-2*U+3*Q)+n*(U-2*Q+V)+e*(U-Q)}function N(b,n,i,e,V){const Q=V*V;return 6*(Q-V)*b+(3*Q-4*V+1)*n+6*(-Q+V)*i+(3*Q-2*V)*e}function Z(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(i,Math.max(n,b))}function T(b){return b-=2*Math.PI*Math.floor((b+Math.PI)/(2*Math.PI))}function z(b){const n=b.toString(16);return b<=15?("0"+n).toUpperCase():n.toUpperCase()}function K(b){if(Math.log2)return Math.floor(Math.log2(b));if(b<0)return NaN;if(0===b)return-1/0;let n=0;if(b<1){for(;b<1;)n++,b*=2;n=-n}else if(b>1)for(;b>1;)n++,b=Math.floor(b/2);return n}function I(b,n){return b-Math.floor(b/n)*n}function O(b,n,i){return(b-n)/(i-n)}function u(b,n,i){return b*(i-n)+n}function d(b,n){let i=I(n-b,360);return i>180&&(i-=360),i}function G(b,n){const i=I(b,2*n);return n-Math.abs(i-n)}function o(b,n,i){let e=Z(i);return e=-2*e*e*e+3*e*e,n*e+b*(1-e)}function M(b,n,i){let e=0;return e=Math.abs(n-b)<=i?n:b+Math.sign(n-b)*i,e}function j(b,n,i){const e=d(b,n);let V=0;return V=-i<e&&e<i?n:M(b,n=b+e,i),V}function a(b,n,i){return(b-n)/(i-n)}function D(b,n,i){return(i-n)*b+n}function x(b,n){const i=b%n;return 0===i?n:x(n,i)}i.r(n),i.d(n,{Clamp:()=>Z,DeltaAngle:()=>d,Denormalize:()=>u,ExtractAsInt:()=>e,Hermite:()=>mb,Hermite1stDerivative:()=>N,HighestCommonFactor:()=>x,ILog2:()=>K,InverseLerp:()=>B,Lerp:()=>Y,LerpAngle:()=>L,MoveTowards:()=>M,MoveTowardsAngle:()=>j,Normalize:()=>O,NormalizeRadians:()=>T,OutsideRange:()=>Q,PercentToRange:()=>D,PingPong:()=>G,RandomRange:()=>U,RangeToPercent:()=>a,Repeat:()=>I,SmoothStep:()=>o,ToHex:()=>z,WithinEpsilon:()=>V})}}]);