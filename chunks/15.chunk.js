"use strict";(self["9jl1vn4ei5r"]=self["9jl1vn4ei5r"]||[]).push([[15],{14145:(M,p,b)=>{b.r(p),b.d(p,{_IESTextureLoader:()=>u});var Q=b(11806);function q(M){return M.split(" ").filter((M=>""!==M)).map((M=>parseFloat(M)))}function B(M,p,b){for(;b.length!==p;){const p=q(M.lines[M.index++]);b.push(...p)}}function k(M,p,b){let q=0,B=0,k=0,u=0,T=0,O=0;for(let Q=0;Q<M.numberOfHorizontalAngles-1;Q++)if(b<M.horizontalAngles[Q+1]||Q===M.numberOfHorizontalAngles-2){B=Q,k=M.horizontalAngles[Q],u=M.horizontalAngles[Q+1];break}for(let Q=0;Q<M.numberOfVerticalAngles-1;Q++)if(p<M.verticalAngles[Q+1]||Q===M.numberOfVerticalAngles-2){q=Q,T=M.verticalAngles[Q],O=M.verticalAngles[Q+1];break}const H=u-k,F=O-T;if(0===F)return 0;const o=0===H?0:(b-k)/H,W=(p-T)/F,i=0===H?B:B+1,A=(0,Q.Lerp)(M.candelaValues[B][q],M.candelaValues[i][q],o),j=(0,Q.Lerp)(M.candelaValues[B][q+1],M.candelaValues[i][q+1],o);return(0,Q.Lerp)(A,j,W)}class u{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(M,p,b){const Q=function(M){const p={lines:new TextDecoder("utf-8").decode(M).split("\n"),index:0},b={version:p.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(p.index=1;p.lines.length>0&&!p.lines[p.index].includes("TILT=");)p.index++;p.lines[p.index].includes("INCLUDE"),p.index++;const Q=q(p.lines[p.index++]);b.numberOfLights=Q[0],b.lumensPerLamp=Q[1],b.candelaMultiplier=Q[2],b.numberOfVerticalAngles=Q[3],b.numberOfHorizontalAngles=Q[4],b.photometricType=Q[5],b.unitsType=Q[6],b.width=Q[7],b.length=Q[8],b.height=Q[9];const u=q(p.lines[p.index++]);b.ballastFactor=u[0],b.fileGenerationType=u[1],b.inputWatts=u[2];for(let q=0;q<b.numberOfHorizontalAngles;q++)b.candelaValues[q]=[];B(p,b.numberOfVerticalAngles,b.verticalAngles),B(p,b.numberOfHorizontalAngles,b.horizontalAngles);for(let q=0;q<b.numberOfHorizontalAngles;q++)B(p,b.numberOfVerticalAngles,b.candelaValues[q]);let T=-1;for(let q=0;q<b.numberOfHorizontalAngles;q++)for(let M=0;M<b.numberOfVerticalAngles;M++)b.candelaValues[q][M]*=b.candelaValues[q][M]*b.candelaMultiplier*b.ballastFactor*b.fileGenerationType,T=Math.max(T,b.candelaValues[q][M]);if(T>0)for(let q=0;q<b.numberOfHorizontalAngles;q++)for(let M=0;M<b.numberOfVerticalAngles;M++)b.candelaValues[q][M]/=T;const O=180,H=360,F=new Float32Array(64800),o=b.horizontalAngles[0],W=b.horizontalAngles[b.numberOfHorizontalAngles-1];for(let q=0;q<64800;q++){let M=q%H;const p=Math.floor(q/H);W-o!==0&&(M<o||M>=W)&&(M%=2*W,M>W&&(M=2*W-M)),F[p+M*O]=k(b,p,M)}return{width:180,height:1,data:F}}(new Uint8Array(M.buffer,M.byteOffset,M.byteLength));b(Q.width,Q.height,!1,!1,(()=>{const M=p.getEngine();p.type=1,p.format=6,p._gammaSpace=!1,M._uploadDataToTextureDirectly(p,Q.data)}))}}},11806:(M,p,b)=>{function Q(M){return parseInt(M.toString().replace(/\W/g,""))}function q(M,p){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(M-p)<=b}function B(M,p,b){let Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return M<p-Q||M>b+Q}function k(M,p){return M===p?M:Math.random()*(p-M)+M}function u(M,p,b){return M+(p-M)*b}function T(M,p,b){let Q=j(p-M,360);return Q>180&&(Q-=360),M+Q*o(b)}function O(M,p,b){let Q=0;return Q=M!=p?o((b-M)/(p-M)):0,Q}function H(M,p,b,Q,q){const B=q*q,k=q*B;return M*(2*k-3*B+1)+b*(-2*k+3*B)+p*(k-2*B+q)+Q*(k-B)}function F(M,p,b,Q,q){const B=q*q;return 6*(B-q)*M+(3*B-4*q+1)*p+6*(-B+q)*b+(3*B-2*q)*Q}function o(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(b,Math.max(p,M))}function W(M){return M-=2*Math.PI*Math.floor((M+Math.PI)/(2*Math.PI))}function i(M){const p=M.toString(16);return M<=15?("0"+p).toUpperCase():p.toUpperCase()}function A(M){if(Math.log2)return Math.floor(Math.log2(M));if(M<0)return NaN;if(0===M)return-1/0;let p=0;if(M<1){for(;M<1;)p++,M*=2;p=-p}else if(M>1)for(;M>1;)p++,M=Math.floor(M/2);return p}function j(M,p){return M-Math.floor(M/p)*p}function K(M,p,b){return(M-p)/(b-p)}function D(M,p,b){return M*(b-p)+p}function a(M,p){let b=j(p-M,360);return b>180&&(b-=360),b}function s(M,p){const b=j(M,2*p);return p-Math.abs(b-p)}function S(M,p,b){let Q=o(b);return Q=-2*Q*Q*Q+3*Q*Q,p*Q+M*(1-Q)}function f(M,p,b){let Q=0;return Q=Math.abs(p-M)<=b?p:M+Math.sign(p-M)*b,Q}function R(M,p,b){const Q=a(M,p);let q=0;return q=-b<Q&&Q<b?p:f(M,p=M+Q,b),q}function y(M,p,b){return(M-p)/(b-p)}function x(M,p,b){return(b-p)*M+p}function P(M,p){const b=M%p;return 0===b?p:P(p,b)}b.r(p),b.d(p,{Clamp:()=>o,DeltaAngle:()=>a,Denormalize:()=>D,ExtractAsInt:()=>Q,Hermite:()=>H,Hermite1stDerivative:()=>F,HighestCommonFactor:()=>P,ILog2:()=>A,InverseLerp:()=>O,Lerp:()=>u,LerpAngle:()=>T,MoveTowards:()=>f,MoveTowardsAngle:()=>R,Normalize:()=>K,NormalizeRadians:()=>W,OutsideRange:()=>B,PercentToRange:()=>x,PingPong:()=>s,RandomRange:()=>k,RangeToPercent:()=>y,Repeat:()=>j,SmoothStep:()=>S,ToHex:()=>i,WithinEpsilon:()=>q})}}]);