"use strict";(self.b15p7b72fr8=self.b15p7b72fr8||[]).push([[15],{15030:(s,k,h)=>{h.r(k),h.d(k,{_IESTextureLoader:()=>K});var A=h(12607);function g(s){return s.split(" ").filter((s=>""!==s)).map((s=>parseFloat(s)))}function ms(s,k,h){for(;h.length!==k;){const k=g(s.lines[s.index++]);h.push(...k)}}function i(s,k,h){let g=0,ms=0,i=0,K=0,H=0,O=0;for(let A=0;A<s.numberOfHorizontalAngles-1;A++)if(h<s.horizontalAngles[A+1]||A===s.numberOfHorizontalAngles-2){ms=A,i=s.horizontalAngles[A],K=s.horizontalAngles[A+1];break}for(let A=0;A<s.numberOfVerticalAngles-1;A++)if(k<s.verticalAngles[A+1]||A===s.numberOfVerticalAngles-2){g=A,H=s.verticalAngles[A],O=s.verticalAngles[A+1];break}const c=K-i,S=O-H;if(0===S)return 0;const a=0===c?0:(h-i)/c,r=(k-H)/S,d=0===c?ms:ms+1,E=(0,A.Lerp)(s.candelaValues[ms][g],s.candelaValues[d][g],a),j=(0,A.Lerp)(s.candelaValues[ms][g+1],s.candelaValues[d][g+1],a);return(0,A.Lerp)(E,j,r)}class K{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(s,k,h){const A=function(s){const k={lines:new TextDecoder("utf-8").decode(s).split("\n"),index:0},h={version:k.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(k.index=1;k.lines.length>0&&!k.lines[k.index].includes("TILT=");)k.index++;k.lines[k.index].includes("INCLUDE"),k.index++;const A=g(k.lines[k.index++]);h.numberOfLights=A[0],h.lumensPerLamp=A[1],h.candelaMultiplier=A[2],h.numberOfVerticalAngles=A[3],h.numberOfHorizontalAngles=A[4],h.photometricType=A[5],h.unitsType=A[6],h.width=A[7],h.length=A[8],h.height=A[9];const K=g(k.lines[k.index++]);h.ballastFactor=K[0],h.fileGenerationType=K[1],h.inputWatts=K[2];for(let g=0;g<h.numberOfHorizontalAngles;g++)h.candelaValues[g]=[];ms(k,h.numberOfVerticalAngles,h.verticalAngles),ms(k,h.numberOfHorizontalAngles,h.horizontalAngles);for(let g=0;g<h.numberOfHorizontalAngles;g++)ms(k,h.numberOfVerticalAngles,h.candelaValues[g]);let H=-1;for(let g=0;g<h.numberOfHorizontalAngles;g++)for(let s=0;s<h.numberOfVerticalAngles;s++)h.candelaValues[g][s]*=h.candelaValues[g][s]*h.candelaMultiplier*h.ballastFactor*h.fileGenerationType,H=Math.max(H,h.candelaValues[g][s]);if(H>0)for(let g=0;g<h.numberOfHorizontalAngles;g++)for(let s=0;s<h.numberOfVerticalAngles;s++)h.candelaValues[g][s]/=H;const O=180,c=360,S=new Float32Array(64800),a=h.horizontalAngles[0],r=h.horizontalAngles[h.numberOfHorizontalAngles-1];for(let g=0;g<64800;g++){let s=g%c;const k=Math.floor(g/c);r-a!==0&&(s<a||s>=r)&&(s%=2*r,s>r&&(s=2*r-s)),S[k+s*O]=i(h,k,s)}return{width:180,height:1,data:S}}(new Uint8Array(s.buffer,s.byteOffset,s.byteLength));h(A.width,A.height,!1,!1,(()=>{const s=k.getEngine();k.type=1,k.format=6,k._gammaSpace=!1,s._uploadDataToTextureDirectly(k,A.data)}))}}},12607:(s,k,h)=>{function A(s){return parseInt(s.toString().replace(/\W/g,""))}function g(s,k){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(s-k)<=h}function ms(s,k,h){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return s<k-A||s>h+A}function i(s,k){return s===k?s:Math.random()*(k-s)+s}function K(s,k,h){return s+(k-s)*h}function H(s,k,h){let A=j(k-s,360);return A>180&&(A-=360),s+A*a(h)}function O(s,k,h){let A=0;return A=s!=k?a((h-s)/(k-s)):0,A}function c(s,k,h,A,g){const ms=g*g,i=g*ms;return s*(2*i-3*ms+1)+h*(-2*i+3*ms)+k*(i-2*ms+g)+A*(i-ms)}function S(s,k,h,A,g){const ms=g*g;return 6*(ms-g)*s+(3*ms-4*g+1)*k+6*(-ms+g)*h+(3*ms-2*g)*A}function a(s){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(h,Math.max(k,s))}function r(s){return s-=2*Math.PI*Math.floor((s+Math.PI)/(2*Math.PI))}function d(s){const k=s.toString(16);return s<=15?("0"+k).toUpperCase():k.toUpperCase()}function E(s){if(Math.log2)return Math.floor(Math.log2(s));if(s<0)return NaN;if(0===s)return-1/0;let k=0;if(s<1){for(;s<1;)k++,s*=2;k=-k}else if(s>1)for(;s>1;)k++,s=Math.floor(s/2);return k}function j(s,k){return s-Math.floor(s/k)*k}function P(s,k,h){return(s-k)/(h-k)}function R(s,k,h){return s*(h-k)+k}function D(s,k){let h=j(k-s,360);return h>180&&(h-=360),h}function w(s,k){const h=j(s,2*k);return k-Math.abs(h-k)}function B(s,k,h){let A=a(h);return A=-2*A*A*A+3*A*A,k*A+s*(1-A)}function u(s,k,h){let A=0;return A=Math.abs(k-s)<=h?k:s+Math.sign(k-s)*h,A}function G(s,k,h){const A=D(s,k);let g=0;return g=-h<A&&A<h?k:u(s,k=s+A,h),g}function Q(s,k,h){return(s-k)/(h-k)}function p(s,k,h){return(h-k)*s+k}function I(s,k){const h=s%k;return 0===h?k:I(k,h)}h.r(k),h.d(k,{Clamp:()=>a,DeltaAngle:()=>D,Denormalize:()=>R,ExtractAsInt:()=>A,Hermite:()=>c,Hermite1stDerivative:()=>S,HighestCommonFactor:()=>I,ILog2:()=>E,InverseLerp:()=>O,Lerp:()=>K,LerpAngle:()=>H,MoveTowards:()=>u,MoveTowardsAngle:()=>G,Normalize:()=>P,NormalizeRadians:()=>r,OutsideRange:()=>ms,PercentToRange:()=>p,PingPong:()=>w,RandomRange:()=>i,RangeToPercent:()=>Q,Repeat:()=>j,SmoothStep:()=>B,ToHex:()=>d,WithinEpsilon:()=>g})}}]);