"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[15],{14891:(u,R,I)=>{I.r(R),I.d(R,{_IESTextureLoader:()=>D});var B=I(12491);function U(u){return u.split(" ").filter((u=>""!==u)).map((u=>parseFloat(u)))}function K(u,R,I){for(;I.length!==R;){const R=U(u.lines[u.index++]);I.push(...R)}}function C(u,R,I){let U=0,K=0,C=0,D=0,s=0,t=0;for(let B=0;B<u.numberOfHorizontalAngles-1;B++)if(I<u.horizontalAngles[B+1]||B===u.numberOfHorizontalAngles-2){K=B,C=u.horizontalAngles[B],D=u.horizontalAngles[B+1];break}for(let B=0;B<u.numberOfVerticalAngles-1;B++)if(R<u.verticalAngles[B+1]||B===u.numberOfVerticalAngles-2){U=B,s=u.verticalAngles[B],t=u.verticalAngles[B+1];break}const G=D-C,S=t-s;if(0===S)return 0;const b=0===G?0:(I-C)/G,r=(R-s)/S,P=0===G?K:K+1,X=(0,B.Lerp)(u.candelaValues[K][U],u.candelaValues[P][U],b),E=(0,B.Lerp)(u.candelaValues[K][U+1],u.candelaValues[P][U+1],b);return(0,B.Lerp)(X,E,r)}class D{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(u,R,I){const B=function(u){const R={lines:new TextDecoder("utf-8").decode(u).split("\n"),index:0},I={version:R.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(R.index=1;R.lines.length>0&&!R.lines[R.index].includes("TILT=");)R.index++;R.lines[R.index].includes("INCLUDE"),R.index++;const B=U(R.lines[R.index++]);I.numberOfLights=B[0],I.lumensPerLamp=B[1],I.candelaMultiplier=B[2],I.numberOfVerticalAngles=B[3],I.numberOfHorizontalAngles=B[4],I.photometricType=B[5],I.unitsType=B[6],I.width=B[7],I.length=B[8],I.height=B[9];const D=U(R.lines[R.index++]);I.ballastFactor=D[0],I.fileGenerationType=D[1],I.inputWatts=D[2];for(let U=0;U<I.numberOfHorizontalAngles;U++)I.candelaValues[U]=[];K(R,I.numberOfVerticalAngles,I.verticalAngles),K(R,I.numberOfHorizontalAngles,I.horizontalAngles);for(let U=0;U<I.numberOfHorizontalAngles;U++)K(R,I.numberOfVerticalAngles,I.candelaValues[U]);let s=-1;for(let U=0;U<I.numberOfHorizontalAngles;U++)for(let u=0;u<I.numberOfVerticalAngles;u++)I.candelaValues[U][u]*=I.candelaValues[U][u]*I.candelaMultiplier*I.ballastFactor*I.fileGenerationType,s=Math.max(s,I.candelaValues[U][u]);if(s>0)for(let U=0;U<I.numberOfHorizontalAngles;U++)for(let u=0;u<I.numberOfVerticalAngles;u++)I.candelaValues[U][u]/=s;const t=180,G=360,S=new Float32Array(64800),b=I.horizontalAngles[0],r=I.horizontalAngles[I.numberOfHorizontalAngles-1];for(let U=0;U<64800;U++){let u=U%G;const R=Math.floor(U/G);r-b!==0&&(u<b||u>=r)&&(u%=2*r,u>r&&(u=2*r-u)),S[R+u*t]=C(I,R,u)}return{width:180,height:1,data:S}}(new Uint8Array(u.buffer,u.byteOffset,u.byteLength));I(B.width,B.height,!1,!1,(()=>{const u=R.getEngine();R.type=1,R.format=6,R._gammaSpace=!1,u._uploadDataToTextureDirectly(R,B.data)}))}}},12491:(u,R,I)=>{function B(u){return parseInt(u.toString().replace(/\W/g,""))}function U(u,R){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(u-R)<=I}function K(u,R,I){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return u<R-B||u>I+B}function C(u,R){return u===R?u:Math.random()*(R-u)+u}function D(u,R,I){return u+(R-u)*I}function s(u,R,I){let B=E(R-u,360);return B>180&&(B-=360),u+B*b(I)}function t(u,R,I){let B=0;return B=u!=R?b((I-u)/(R-u)):0,B}function G(u,R,I,B,U){const K=U*U,C=U*K;return u*(2*C-3*K+1)+I*(-2*C+3*K)+R*(C-2*K+U)+B*(C-K)}function S(u,R,I,B,U){const K=U*U;return 6*(K-U)*u+(3*K-4*U+1)*R+6*(-K+U)*I+(3*K-2*U)*B}function b(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(I,Math.max(R,u))}function r(u){return u-=2*Math.PI*Math.floor((u+Math.PI)/(2*Math.PI))}function P(u){const R=u.toString(16);return u<=15?("0"+R).toUpperCase():R.toUpperCase()}function X(u){if(Math.log2)return Math.floor(Math.log2(u));if(u<0)return NaN;if(0===u)return-1/0;let R=0;if(u<1){for(;u<1;)R++,u*=2;R=-R}else if(u>1)for(;u>1;)R++,u=Math.floor(u/2);return R}function E(u,R){return u-Math.floor(u/R)*R}function z(u,R,I){return(u-R)/(I-R)}function f(u,R,I){return u*(I-R)+R}function T(u,R){let I=E(R-u,360);return I>180&&(I-=360),I}function Q(u,R){const I=E(u,2*R);return R-Math.abs(I-R)}function V(u,R,I){let B=b(I);return B=-2*B*B*B+3*B*B,R*B+u*(1-B)}function q(u,R,I){let B=0;return B=Math.abs(R-u)<=I?R:u+Math.sign(R-u)*I,B}function e(u,R,I){const B=T(u,R);let U=0;return U=-I<B&&B<I?R:q(u,R=u+B,I),U}function Y(u,R,I){return(u-R)/(I-R)}function M(u,R,I){return(I-R)*u+R}function o(u,R){const I=u%R;return 0===I?R:o(R,I)}I.r(R),I.d(R,{Clamp:()=>b,DeltaAngle:()=>T,Denormalize:()=>f,ExtractAsInt:()=>B,Hermite:()=>G,Hermite1stDerivative:()=>S,HighestCommonFactor:()=>o,ILog2:()=>X,InverseLerp:()=>t,Lerp:()=>D,LerpAngle:()=>s,MoveTowards:()=>q,MoveTowardsAngle:()=>e,Normalize:()=>z,NormalizeRadians:()=>r,OutsideRange:()=>K,PercentToRange:()=>M,PingPong:()=>Q,RandomRange:()=>C,RangeToPercent:()=>Y,Repeat:()=>E,SmoothStep:()=>V,ToHex:()=>P,WithinEpsilon:()=>U})}}]);