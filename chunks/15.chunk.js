"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[15],{13532:(h,V,i)=>{i.r(V),i.d(V,{_IESTextureLoader:()=>q});var S=i(11162);function l(h){return h.split(" ").filter((h=>""!==h)).map((h=>parseFloat(h)))}function Y(h,V,i){for(;i.length!==V;){const V=l(h.lines[h.index++]);i.push(...V)}}function g(h,V,i){let l=0,Y=0,g=0,q=0,B=0,J=0;for(let S=0;S<h.numberOfHorizontalAngles-1;S++)if(i<h.horizontalAngles[S+1]||S===h.numberOfHorizontalAngles-2){Y=S,g=h.horizontalAngles[S],q=h.horizontalAngles[S+1];break}for(let S=0;S<h.numberOfVerticalAngles-1;S++)if(V<h.verticalAngles[S+1]||S===h.numberOfVerticalAngles-2){l=S,B=h.verticalAngles[S],J=h.verticalAngles[S+1];break}const I=q-g,v=J-B;if(0===v)return 0;const s=0===I?0:(i-g)/I,t=(V-B)/v,T=0===I?Y:Y+1,e=(0,S.Lerp)(h.candelaValues[Y][l],h.candelaValues[T][l],s),n=(0,S.Lerp)(h.candelaValues[Y][l+1],h.candelaValues[T][l+1],s);return(0,S.Lerp)(e,n,t)}class q{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(h,V,i){const S=function(h){const V={lines:new TextDecoder("utf-8").decode(h).split("\n"),index:0},i={version:V.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(V.index=1;V.lines.length>0&&!V.lines[V.index].includes("TILT=");)V.index++;V.lines[V.index].includes("INCLUDE"),V.index++;const S=l(V.lines[V.index++]);i.numberOfLights=S[0],i.lumensPerLamp=S[1],i.candelaMultiplier=S[2],i.numberOfVerticalAngles=S[3],i.numberOfHorizontalAngles=S[4],i.photometricType=S[5],i.unitsType=S[6],i.width=S[7],i.length=S[8],i.height=S[9];const q=l(V.lines[V.index++]);i.ballastFactor=q[0],i.fileGenerationType=q[1],i.inputWatts=q[2];for(let l=0;l<i.numberOfHorizontalAngles;l++)i.candelaValues[l]=[];Y(V,i.numberOfVerticalAngles,i.verticalAngles),Y(V,i.numberOfHorizontalAngles,i.horizontalAngles);for(let l=0;l<i.numberOfHorizontalAngles;l++)Y(V,i.numberOfVerticalAngles,i.candelaValues[l]);let B=-1;for(let l=0;l<i.numberOfHorizontalAngles;l++)for(let h=0;h<i.numberOfVerticalAngles;h++)i.candelaValues[l][h]*=i.candelaValues[l][h]*i.candelaMultiplier*i.ballastFactor*i.fileGenerationType,B=Math.max(B,i.candelaValues[l][h]);if(B>0)for(let l=0;l<i.numberOfHorizontalAngles;l++)for(let h=0;h<i.numberOfVerticalAngles;h++)i.candelaValues[l][h]/=B;const J=180,I=360,v=new Float32Array(64800),s=i.horizontalAngles[0],t=i.horizontalAngles[i.numberOfHorizontalAngles-1];for(let l=0;l<64800;l++){let h=l%I;const V=Math.floor(l/I);t-s!==0&&(h<s||h>=t)&&(h%=2*t,h>t&&(h=2*t-h)),v[V+h*J]=g(i,V,h)}return{width:180,height:1,data:v}}(new Uint8Array(h.buffer,h.byteOffset,h.byteLength));i(S.width,S.height,!1,!1,(()=>{const h=V.getEngine();V.type=1,V.format=6,V._gammaSpace=!1,h._uploadDataToTextureDirectly(V,S.data)}))}}},11162:(h,V,i)=>{function S(h){return parseInt(h.toString().replace(/\W/g,""))}function l(h,V){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(h-V)<=i}function Y(h,V,i){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return h<V-S||h>i+S}function g(h,V){return h===V?h:Math.random()*(V-h)+h}function q(h,V,i){return h+(V-h)*i}function B(h,V,i){let S=n(V-h,360);return S>180&&(S-=360),h+S*s(i)}function J(h,V,i){let S=0;return S=h!=V?s((i-h)/(V-h)):0,S}function I(h,V,i,S,l){const Y=l*l,g=l*Y;return h*(2*g-3*Y+1)+i*(-2*g+3*Y)+V*(g-2*Y+l)+S*(g-Y)}function v(h,V,i,S,l){const Y=l*l;return 6*(Y-l)*h+(3*Y-4*l+1)*V+6*(-Y+l)*i+(3*Y-2*l)*S}function s(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(i,Math.max(V,h))}function t(h){return h-=2*Math.PI*Math.floor((h+Math.PI)/(2*Math.PI))}function T(h){const V=h.toString(16);return h<=15?("0"+V).toUpperCase():V.toUpperCase()}function e(h){if(Math.log2)return Math.floor(Math.log2(h));if(h<0)return NaN;if(0===h)return-1/0;let V=0;if(h<1){for(;h<1;)V++,h*=2;V=-V}else if(h>1)for(;h>1;)V++,h=Math.floor(h/2);return V}function n(h,V){return h-Math.floor(h/V)*V}function c(h,V,i){return(h-V)/(i-V)}function f(h,V,i){return h*(i-V)+V}function P(h,V){let i=n(V-h,360);return i>180&&(i-=360),i}function L(h,V){const i=n(h,2*V);return V-Math.abs(i-V)}function U(h,V,i){let S=s(i);return S=-2*S*S*S+3*S*S,V*S+h*(1-S)}function X(h,V,i){let S=0;return S=Math.abs(V-h)<=i?V:h+Math.sign(V-h)*i,S}function D(h,V,i){const S=P(h,V);let l=0;return l=-i<S&&S<i?V:X(h,V=h+S,i),l}function O(h,V,i){return(h-V)/(i-V)}function o(h,V,i){return(i-V)*h+V}function M(h,V){const i=h%V;return 0===i?V:M(V,i)}i.r(V),i.d(V,{Clamp:()=>s,DeltaAngle:()=>P,Denormalize:()=>f,ExtractAsInt:()=>S,Hermite:()=>I,Hermite1stDerivative:()=>v,HighestCommonFactor:()=>M,ILog2:()=>e,InverseLerp:()=>J,Lerp:()=>q,LerpAngle:()=>B,MoveTowards:()=>X,MoveTowardsAngle:()=>D,Normalize:()=>c,NormalizeRadians:()=>t,OutsideRange:()=>Y,PercentToRange:()=>o,PingPong:()=>L,RandomRange:()=>g,RangeToPercent:()=>O,Repeat:()=>n,SmoothStep:()=>U,ToHex:()=>T,WithinEpsilon:()=>l})}}]);