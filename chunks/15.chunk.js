"use strict";(self.v2pspxy442l=self.v2pspxy442l||[]).push([[15],{14867:(l,a,N)=>{N.r(a),N.d(a,{_IESTextureLoader:()=>w});var U=N(12461);function c(l){return l.split(" ").filter((l=>""!==l)).map((l=>parseFloat(l)))}function K(l,a,N){for(;N.length!==a;){const a=c(l.lines[l.index++]);N.push(...a)}}function Z(l,a,N){let c=0,K=0,Z=0,w=0,S=0,T=0;for(let U=0;U<l.numberOfHorizontalAngles-1;U++)if(N<l.horizontalAngles[U+1]||U===l.numberOfHorizontalAngles-2){K=U,Z=l.horizontalAngles[U],w=l.horizontalAngles[U+1];break}for(let U=0;U<l.numberOfVerticalAngles-1;U++)if(a<l.verticalAngles[U+1]||U===l.numberOfVerticalAngles-2){c=U,S=l.verticalAngles[U],T=l.verticalAngles[U+1];break}const J=w-Z,n=T-S;if(0===n)return 0;const y=0===J?0:(N-Z)/J,H=(a-S)/n,u=0===J?K:K+1,W=(0,U.Lerp)(l.candelaValues[K][c],l.candelaValues[u][c],y),B=(0,U.Lerp)(l.candelaValues[K][c+1],l.candelaValues[u][c+1],y);return(0,U.Lerp)(W,B,H)}class w{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(l,a,N){const U=function(l){const a={lines:new TextDecoder("utf-8").decode(l).split("\n"),index:0},N={version:a.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(a.index=1;a.lines.length>0&&!a.lines[a.index].includes("TILT=");)a.index++;a.lines[a.index].includes("INCLUDE"),a.index++;const U=c(a.lines[a.index++]);N.numberOfLights=U[0],N.lumensPerLamp=U[1],N.candelaMultiplier=U[2],N.numberOfVerticalAngles=U[3],N.numberOfHorizontalAngles=U[4],N.photometricType=U[5],N.unitsType=U[6],N.width=U[7],N.length=U[8],N.height=U[9];const w=c(a.lines[a.index++]);N.ballastFactor=w[0],N.fileGenerationType=w[1],N.inputWatts=w[2];for(let c=0;c<N.numberOfHorizontalAngles;c++)N.candelaValues[c]=[];K(a,N.numberOfVerticalAngles,N.verticalAngles),K(a,N.numberOfHorizontalAngles,N.horizontalAngles);for(let c=0;c<N.numberOfHorizontalAngles;c++)K(a,N.numberOfVerticalAngles,N.candelaValues[c]);let S=-1;for(let c=0;c<N.numberOfHorizontalAngles;c++)for(let l=0;l<N.numberOfVerticalAngles;l++)N.candelaValues[c][l]*=N.candelaValues[c][l]*N.candelaMultiplier*N.ballastFactor*N.fileGenerationType,S=Math.max(S,N.candelaValues[c][l]);if(S>0)for(let c=0;c<N.numberOfHorizontalAngles;c++)for(let l=0;l<N.numberOfVerticalAngles;l++)N.candelaValues[c][l]/=S;const T=180,J=360,n=new Float32Array(64800),y=N.horizontalAngles[0],H=N.horizontalAngles[N.numberOfHorizontalAngles-1];for(let c=0;c<64800;c++){let l=c%J;const a=Math.floor(c/J);H-y!==0&&(l<y||l>=H)&&(l%=2*H,l>H&&(l=2*H-l)),n[a+l*T]=Z(N,a,l)}return{width:180,height:1,data:n}}(new Uint8Array(l.buffer,l.byteOffset,l.byteLength));N(U.width,U.height,!1,!1,(()=>{const l=a.getEngine();a.type=1,a.format=6,a._gammaSpace=!1,l._uploadDataToTextureDirectly(a,U.data)}))}}},12461:(l,a,N)=>{function U(l){return parseInt(l.toString().replace(/\W/g,""))}function c(l,a){let N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(l-a)<=N}function K(l,a,N){let U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return l<a-U||l>N+U}function Z(l,a){return l===a?l:Math.random()*(a-l)+l}function w(l,a,N){return l+(a-l)*N}function S(l,a,N){let U=B(a-l,360);return U>180&&(U-=360),l+U*y(N)}function T(l,a,N){let U=0;return U=l!=a?y((N-l)/(a-l)):0,U}function J(l,a,N,U,c){const K=c*c,Z=c*K;return l*(2*Z-3*K+1)+N*(-2*Z+3*K)+a*(Z-2*K+c)+U*(Z-K)}function n(l,a,N,U,c){const K=c*c;return 6*(K-c)*l+(3*K-4*c+1)*a+6*(-K+c)*N+(3*K-2*c)*U}function y(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(N,Math.max(a,l))}function H(l){return l-=2*Math.PI*Math.floor((l+Math.PI)/(2*Math.PI))}function u(l){const a=l.toString(16);return l<=15?("0"+a).toUpperCase():a.toUpperCase()}function W(l){if(Math.log2)return Math.floor(Math.log2(l));if(l<0)return NaN;if(0===l)return-1/0;let a=0;if(l<1){for(;l<1;)a++,l*=2;a=-a}else if(l>1)for(;l>1;)a++,l=Math.floor(l/2);return a}function B(l,a){return l-Math.floor(l/a)*a}function Y(l,a,N){return(l-a)/(N-a)}function C(l,a,N){return l*(N-a)+a}function M(l,a){let N=B(a-l,360);return N>180&&(N-=360),N}function A(l,a){const N=B(l,2*a);return a-Math.abs(N-a)}function E(l,a,N){let U=y(N);return U=-2*U*U*U+3*U*U,a*U+l*(1-U)}function q(l,a,N){let U=0;return U=Math.abs(a-l)<=N?a:l+Math.sign(a-l)*N,U}function b(l,a,N){const U=M(l,a);let c=0;return c=-N<U&&U<N?a:q(l,a=l+U,N),c}function z(l,a,N){return(l-a)/(N-a)}function I(l,a,N){return(N-a)*l+a}function t(l,a){const N=l%a;return 0===N?a:t(a,N)}N.r(a),N.d(a,{Clamp:()=>y,DeltaAngle:()=>M,Denormalize:()=>C,ExtractAsInt:()=>U,Hermite:()=>J,Hermite1stDerivative:()=>n,HighestCommonFactor:()=>t,ILog2:()=>W,InverseLerp:()=>T,Lerp:()=>w,LerpAngle:()=>S,MoveTowards:()=>q,MoveTowardsAngle:()=>b,Normalize:()=>Y,NormalizeRadians:()=>H,OutsideRange:()=>K,PercentToRange:()=>I,PingPong:()=>A,RandomRange:()=>Z,RangeToPercent:()=>z,Repeat:()=>B,SmoothStep:()=>E,ToHex:()=>u,WithinEpsilon:()=>c})}}]);