"use strict";(self["3nlrbof8msu"]=self["3nlrbof8msu"]||[]).push([[15],{15160:(t,b,Z)=>{Z.r(b),Z.d(b,{_IESTextureLoader:()=>h});var J=Z(12745);function S(t){return t.split(" ").filter((t=>""!==t)).map((t=>parseFloat(t)))}function P(t,b,Z){for(;Z.length!==b;){const b=S(t.lines[t.index++]);Z.push(...b)}}function v(t,b,Z){let S=0,P=0,v=0,h=0,C=0,Y=0;for(let J=0;J<t.numberOfHorizontalAngles-1;J++)if(Z<t.horizontalAngles[J+1]||J===t.numberOfHorizontalAngles-2){P=J,v=t.horizontalAngles[J],h=t.horizontalAngles[J+1];break}for(let J=0;J<t.numberOfVerticalAngles-1;J++)if(b<t.verticalAngles[J+1]||J===t.numberOfVerticalAngles-2){S=J,C=t.verticalAngles[J],Y=t.verticalAngles[J+1];break}const g=h-v,I=Y-C;if(0===I)return 0;const r=0===g?0:(Z-v)/g,M=(b-C)/I,T=0===g?P:P+1,a=(0,J.Lerp)(t.candelaValues[P][S],t.candelaValues[T][S],r),k=(0,J.Lerp)(t.candelaValues[P][S+1],t.candelaValues[T][S+1],r);return(0,J.Lerp)(a,k,M)}class h{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(t,b,Z){const J=function(t){const b={lines:new TextDecoder("utf-8").decode(t).split("\n"),index:0},Z={version:b.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(b.index=1;b.lines.length>0&&!b.lines[b.index].includes("TILT=");)b.index++;b.lines[b.index].includes("INCLUDE"),b.index++;const J=S(b.lines[b.index++]);Z.numberOfLights=J[0],Z.lumensPerLamp=J[1],Z.candelaMultiplier=J[2],Z.numberOfVerticalAngles=J[3],Z.numberOfHorizontalAngles=J[4],Z.photometricType=J[5],Z.unitsType=J[6],Z.width=J[7],Z.length=J[8],Z.height=J[9];const h=S(b.lines[b.index++]);Z.ballastFactor=h[0],Z.fileGenerationType=h[1],Z.inputWatts=h[2];for(let S=0;S<Z.numberOfHorizontalAngles;S++)Z.candelaValues[S]=[];P(b,Z.numberOfVerticalAngles,Z.verticalAngles),P(b,Z.numberOfHorizontalAngles,Z.horizontalAngles);for(let S=0;S<Z.numberOfHorizontalAngles;S++)P(b,Z.numberOfVerticalAngles,Z.candelaValues[S]);let C=-1;for(let S=0;S<Z.numberOfHorizontalAngles;S++)for(let t=0;t<Z.numberOfVerticalAngles;t++)Z.candelaValues[S][t]*=Z.candelaValues[S][t]*Z.candelaMultiplier*Z.ballastFactor*Z.fileGenerationType,C=Math.max(C,Z.candelaValues[S][t]);if(C>0)for(let S=0;S<Z.numberOfHorizontalAngles;S++)for(let t=0;t<Z.numberOfVerticalAngles;t++)Z.candelaValues[S][t]/=C;const Y=180,g=360,I=new Float32Array(64800),r=Z.horizontalAngles[0],M=Z.horizontalAngles[Z.numberOfHorizontalAngles-1];for(let S=0;S<64800;S++){let t=S%g;const b=Math.floor(S/g);M-r!==0&&(t<r||t>=M)&&(t%=2*M,t>M&&(t=2*M-t)),I[b+t*Y]=v(Z,b,t)}return{width:180,height:1,data:I}}(new Uint8Array(t.buffer,t.byteOffset,t.byteLength));Z(J.width,J.height,!1,!1,(()=>{const t=b.getEngine();b.type=1,b.format=6,b._gammaSpace=!1,t._uploadDataToTextureDirectly(b,J.data)}))}}},12745:(t,b,Z)=>{function J(t){return parseInt(t.toString().replace(/\W/g,""))}function S(t,b){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(t-b)<=Z}function P(t,b,Z){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return t<b-J||t>Z+J}function v(t,b){return t===b?t:Math.random()*(b-t)+t}function h(t,b,Z){return t+(b-t)*Z}function C(t,b,Z){let J=k(b-t,360);return J>180&&(J-=360),t+J*r(Z)}function Y(t,b,Z){let J=0;return J=t!=b?r((Z-t)/(b-t)):0,J}function g(t,b,Z,J,S){const P=S*S,v=S*P;return t*(2*v-3*P+1)+Z*(-2*v+3*P)+b*(v-2*P+S)+J*(v-P)}function I(t,b,Z,J,S){const P=S*S;return 6*(P-S)*t+(3*P-4*S+1)*b+6*(-P+S)*Z+(3*P-2*S)*J}function r(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Z,Math.max(b,t))}function M(t){return t-=2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function T(t){const b=t.toString(16);return t<=15?("0"+b).toUpperCase():b.toUpperCase()}function a(t){if(Math.log2)return Math.floor(Math.log2(t));if(t<0)return NaN;if(0===t)return-1/0;let b=0;if(t<1){for(;t<1;)b++,t*=2;b=-b}else if(t>1)for(;t>1;)b++,t=Math.floor(t/2);return b}function k(t,b){return t-Math.floor(t/b)*b}function u(t,b,Z){return(t-b)/(Z-b)}function l(t,b,Z){return t*(Z-b)+b}function U(t,b){let Z=k(b-t,360);return Z>180&&(Z-=360),Z}function E(t,b){const Z=k(t,2*b);return b-Math.abs(Z-b)}function c(t,b,Z){let J=r(Z);return J=-2*J*J*J+3*J*J,b*J+t*(1-J)}function H(t,b,Z){let J=0;return J=Math.abs(b-t)<=Z?b:t+Math.sign(b-t)*Z,J}function o(t,b,Z){const J=U(t,b);let S=0;return S=-Z<J&&J<Z?b:H(t,b=t+J,Z),S}function O(t,b,Z){return(t-b)/(Z-b)}function p(t,b,Z){return(Z-b)*t+b}function e(t,b){const Z=t%b;return 0===Z?b:e(b,Z)}Z.r(b),Z.d(b,{Clamp:()=>r,DeltaAngle:()=>U,Denormalize:()=>l,ExtractAsInt:()=>J,Hermite:()=>g,Hermite1stDerivative:()=>I,HighestCommonFactor:()=>e,ILog2:()=>a,InverseLerp:()=>Y,Lerp:()=>h,LerpAngle:()=>C,MoveTowards:()=>H,MoveTowardsAngle:()=>o,Normalize:()=>u,NormalizeRadians:()=>M,OutsideRange:()=>P,PercentToRange:()=>p,PingPong:()=>E,RandomRange:()=>v,RangeToPercent:()=>O,Repeat:()=>k,SmoothStep:()=>c,ToHex:()=>T,WithinEpsilon:()=>S})}}]);