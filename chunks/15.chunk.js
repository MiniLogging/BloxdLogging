"use strict";(self.rsqbdnwe5e=self.rsqbdnwe5e||[]).push([[15],{14783:(N,p,T)=>{T.r(p),T.d(p,{_IESTextureLoader:()=>X});var A=T(12390);function a(N){return N.split(" ").filter((N=>""!==N)).map((N=>parseFloat(N)))}function C(N,p,T){for(;T.length!==p;){const p=a(N.lines[N.index++]);T.push(...p)}}function U(N,p,T){let a=0,C=0,U=0,X=0,y=0,e=0;for(let A=0;A<N.numberOfHorizontalAngles-1;A++)if(T<N.horizontalAngles[A+1]||A===N.numberOfHorizontalAngles-2){C=A,U=N.horizontalAngles[A],X=N.horizontalAngles[A+1];break}for(let A=0;A<N.numberOfVerticalAngles-1;A++)if(p<N.verticalAngles[A+1]||A===N.numberOfVerticalAngles-2){a=A,y=N.verticalAngles[A],e=N.verticalAngles[A+1];break}const H=X-U,M=e-y;if(0===M)return 0;const b=0===H?0:(T-U)/H,l=(p-y)/M,k=0===H?C:C+1,x=(0,A.Lerp)(N.candelaValues[C][a],N.candelaValues[k][a],b),I=(0,A.Lerp)(N.candelaValues[C][a+1],N.candelaValues[k][a+1],b);return(0,A.Lerp)(x,I,l)}class X{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(N,p,T){const A=function(N){const p={lines:new TextDecoder("utf-8").decode(N).split("\n"),index:0},T={version:p.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(p.index=1;p.lines.length>0&&!p.lines[p.index].includes("TILT=");)p.index++;p.lines[p.index].includes("INCLUDE"),p.index++;const A=a(p.lines[p.index++]);T.numberOfLights=A[0],T.lumensPerLamp=A[1],T.candelaMultiplier=A[2],T.numberOfVerticalAngles=A[3],T.numberOfHorizontalAngles=A[4],T.photometricType=A[5],T.unitsType=A[6],T.width=A[7],T.length=A[8],T.height=A[9];const X=a(p.lines[p.index++]);T.ballastFactor=X[0],T.fileGenerationType=X[1],T.inputWatts=X[2];for(let a=0;a<T.numberOfHorizontalAngles;a++)T.candelaValues[a]=[];C(p,T.numberOfVerticalAngles,T.verticalAngles),C(p,T.numberOfHorizontalAngles,T.horizontalAngles);for(let a=0;a<T.numberOfHorizontalAngles;a++)C(p,T.numberOfVerticalAngles,T.candelaValues[a]);let y=-1;for(let a=0;a<T.numberOfHorizontalAngles;a++)for(let N=0;N<T.numberOfVerticalAngles;N++)T.candelaValues[a][N]*=T.candelaValues[a][N]*T.candelaMultiplier*T.ballastFactor*T.fileGenerationType,y=Math.max(y,T.candelaValues[a][N]);if(y>0)for(let a=0;a<T.numberOfHorizontalAngles;a++)for(let N=0;N<T.numberOfVerticalAngles;N++)T.candelaValues[a][N]/=y;const e=180,H=360,M=new Float32Array(64800),b=T.horizontalAngles[0],l=T.horizontalAngles[T.numberOfHorizontalAngles-1];for(let a=0;a<64800;a++){let N=a%H;const p=Math.floor(a/H);l-b!==0&&(N<b||N>=l)&&(N%=2*l,N>l&&(N=2*l-N)),M[p+N*e]=U(T,p,N)}return{width:180,height:1,data:M}}(new Uint8Array(N.buffer,N.byteOffset,N.byteLength));T(A.width,A.height,!1,!1,(()=>{const N=p.getEngine();p.type=1,p.format=6,p._gammaSpace=!1,N._uploadDataToTextureDirectly(p,A.data)}))}}},12390:(N,p,T)=>{function A(N){return parseInt(N.toString().replace(/\W/g,""))}function a(N,p){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(N-p)<=T}function C(N,p,T){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return N<p-A||N>T+A}function U(N,p){return N===p?N:Math.random()*(p-N)+N}function X(N,p,T){return N+(p-N)*T}function y(N,p,T){let A=I(p-N,360);return A>180&&(A-=360),N+A*b(T)}function e(N,p,T){let A=0;return A=N!=p?b((T-N)/(p-N)):0,A}function H(N,p,T,A,a){const C=a*a,U=a*C;return N*(2*U-3*C+1)+T*(-2*U+3*C)+p*(U-2*C+a)+A*(U-C)}function M(N,p,T,A,a){const C=a*a;return 6*(C-a)*N+(3*C-4*a+1)*p+6*(-C+a)*T+(3*C-2*a)*A}function b(N){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(T,Math.max(p,N))}function l(N){return N-=2*Math.PI*Math.floor((N+Math.PI)/(2*Math.PI))}function k(N){const p=N.toString(16);return N<=15?("0"+p).toUpperCase():p.toUpperCase()}function x(N){if(Math.log2)return Math.floor(Math.log2(N));if(N<0)return NaN;if(0===N)return-1/0;let p=0;if(N<1){for(;N<1;)p++,N*=2;p=-p}else if(N>1)for(;N>1;)p++,N=Math.floor(N/2);return p}function I(N,p){return N-Math.floor(N/p)*p}function L(N,p,T){return(N-p)/(T-p)}function n(N,p,T){return N*(T-p)+p}function w(N,p){let T=I(p-N,360);return T>180&&(T-=360),T}function g(N,p){const T=I(N,2*p);return p-Math.abs(T-p)}function P(N,p,T){let A=b(T);return A=-2*A*A*A+3*A*A,p*A+N*(1-A)}function i(N,p,T){let A=0;return A=Math.abs(p-N)<=T?p:N+Math.sign(p-N)*T,A}function K(N,p,T){const A=w(N,p);let a=0;return a=-T<A&&A<T?p:i(N,p=N+A,T),a}function F(N,p,T){return(N-p)/(T-p)}function v(N,p,T){return(T-p)*N+p}function W(N,p){const T=N%p;return 0===T?p:W(p,T)}T.r(p),T.d(p,{Clamp:()=>b,DeltaAngle:()=>w,Denormalize:()=>n,ExtractAsInt:()=>A,Hermite:()=>H,Hermite1stDerivative:()=>M,HighestCommonFactor:()=>W,ILog2:()=>x,InverseLerp:()=>e,Lerp:()=>X,LerpAngle:()=>y,MoveTowards:()=>i,MoveTowardsAngle:()=>K,Normalize:()=>L,NormalizeRadians:()=>l,OutsideRange:()=>C,PercentToRange:()=>v,PingPong:()=>g,RandomRange:()=>U,RangeToPercent:()=>F,Repeat:()=>I,SmoothStep:()=>P,ToHex:()=>k,WithinEpsilon:()=>a})}}]);