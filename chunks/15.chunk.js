"use strict";(self["5dou0t7wntc"]=self["5dou0t7wntc"]||[]).push([[15],{14151:(K,O,F)=>{F.r(O),F.d(O,{_IESTextureLoader:()=>J});var f=F(11734);function r(K){return K.split(" ").filter((K=>""!==K)).map((K=>parseFloat(K)))}function l(K,O,F){for(;F.length!==O;){const O=r(K.lines[K.index++]);F.push(...O)}}function q(K,O,F){let r=0,l=0,q=0,J=0,c=0,E=0;for(let f=0;f<K.numberOfHorizontalAngles-1;f++)if(F<K.horizontalAngles[f+1]||f===K.numberOfHorizontalAngles-2){l=f,q=K.horizontalAngles[f],J=K.horizontalAngles[f+1];break}for(let f=0;f<K.numberOfVerticalAngles-1;f++)if(O<K.verticalAngles[f+1]||f===K.numberOfVerticalAngles-2){r=f,c=K.verticalAngles[f],E=K.verticalAngles[f+1];break}const M=J-q,t=E-c;if(0===t)return 0;const j=0===M?0:(F-q)/M,X=(O-c)/t,u=0===M?l:l+1,T=(0,f.Lerp)(K.candelaValues[l][r],K.candelaValues[u][r],j),o=(0,f.Lerp)(K.candelaValues[l][r+1],K.candelaValues[u][r+1],j);return(0,f.Lerp)(T,o,X)}class J{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(K,O,F){const f=function(K){const O={lines:new TextDecoder("utf-8").decode(K).split("\n"),index:0},F={version:O.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(O.index=1;O.lines.length>0&&!O.lines[O.index].includes("TILT=");)O.index++;O.lines[O.index].includes("INCLUDE"),O.index++;const f=r(O.lines[O.index++]);F.numberOfLights=f[0],F.lumensPerLamp=f[1],F.candelaMultiplier=f[2],F.numberOfVerticalAngles=f[3],F.numberOfHorizontalAngles=f[4],F.photometricType=f[5],F.unitsType=f[6],F.width=f[7],F.length=f[8],F.height=f[9];const J=r(O.lines[O.index++]);F.ballastFactor=J[0],F.fileGenerationType=J[1],F.inputWatts=J[2];for(let r=0;r<F.numberOfHorizontalAngles;r++)F.candelaValues[r]=[];l(O,F.numberOfVerticalAngles,F.verticalAngles),l(O,F.numberOfHorizontalAngles,F.horizontalAngles);for(let r=0;r<F.numberOfHorizontalAngles;r++)l(O,F.numberOfVerticalAngles,F.candelaValues[r]);let c=-1;for(let r=0;r<F.numberOfHorizontalAngles;r++)for(let K=0;K<F.numberOfVerticalAngles;K++)F.candelaValues[r][K]*=F.candelaValues[r][K]*F.candelaMultiplier*F.ballastFactor*F.fileGenerationType,c=Math.max(c,F.candelaValues[r][K]);if(c>0)for(let r=0;r<F.numberOfHorizontalAngles;r++)for(let K=0;K<F.numberOfVerticalAngles;K++)F.candelaValues[r][K]/=c;const E=180,M=360,t=new Float32Array(64800),j=F.horizontalAngles[0],X=F.horizontalAngles[F.numberOfHorizontalAngles-1];for(let r=0;r<64800;r++){let K=r%M;const O=Math.floor(r/M);X-j!==0&&(K<j||K>=X)&&(K%=2*X,K>X&&(K=2*X-K)),t[O+K*E]=q(F,O,K)}return{width:180,height:1,data:t}}(new Uint8Array(K.buffer,K.byteOffset,K.byteLength));F(f.width,f.height,!1,!1,(()=>{const K=O.getEngine();O.type=1,O.format=6,O._gammaSpace=!1,K._uploadDataToTextureDirectly(O,f.data)}))}}},11734:(K,O,F)=>{function f(K){return parseInt(K.toString().replace(/\W/g,""))}function r(K,O){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(K-O)<=F}function l(K,O,F){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return K<O-f||K>F+f}function q(K,O){return K===O?K:Math.random()*(O-K)+K}function J(K,O,F){return K+(O-K)*F}function c(K,O,F){let f=o(O-K,360);return f>180&&(f-=360),K+f*j(F)}function E(K,O,F){let f=0;return f=K!=O?j((F-K)/(O-K)):0,f}function M(K,O,F,f,r){const l=r*r,q=r*l;return K*(2*q-3*l+1)+F*(-2*q+3*l)+O*(q-2*l+r)+f*(q-l)}function t(K,O,F,f,r){const l=r*r;return 6*(l-r)*K+(3*l-4*r+1)*O+6*(-l+r)*F+(3*l-2*r)*f}function j(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(F,Math.max(O,K))}function X(K){return K-=2*Math.PI*Math.floor((K+Math.PI)/(2*Math.PI))}function u(K){const O=K.toString(16);return K<=15?("0"+O).toUpperCase():O.toUpperCase()}function T(K){if(Math.log2)return Math.floor(Math.log2(K));if(K<0)return NaN;if(0===K)return-1/0;let O=0;if(K<1){for(;K<1;)O++,K*=2;O=-O}else if(K>1)for(;K>1;)O++,K=Math.floor(K/2);return O}function o(K,O){return K-Math.floor(K/O)*O}function k(K,O,F){return(K-O)/(F-O)}function N(K,O,F){return K*(F-O)+O}function Z(K,O){let F=o(O-K,360);return F>180&&(F-=360),F}function L(K,O){const F=o(K,2*O);return O-Math.abs(F-O)}function d(K,O,F){let f=j(F);return f=-2*f*f*f+3*f*f,O*f+K*(1-f)}function a(K,O,F){let f=0;return f=Math.abs(O-K)<=F?O:K+Math.sign(O-K)*F,f}function g(K,O,F){const f=Z(K,O);let r=0;return r=-F<f&&f<F?O:a(K,O=K+f,F),r}function H(K,O,F){return(K-O)/(F-O)}function e(K,O,F){return(F-O)*K+O}function W(K,O){const F=K%O;return 0===F?O:W(O,F)}F.r(O),F.d(O,{Clamp:()=>j,DeltaAngle:()=>Z,Denormalize:()=>N,ExtractAsInt:()=>f,Hermite:()=>M,Hermite1stDerivative:()=>t,HighestCommonFactor:()=>W,ILog2:()=>T,InverseLerp:()=>E,Lerp:()=>J,LerpAngle:()=>c,MoveTowards:()=>a,MoveTowardsAngle:()=>g,Normalize:()=>k,NormalizeRadians:()=>X,OutsideRange:()=>l,PercentToRange:()=>e,PingPong:()=>L,RandomRange:()=>q,RangeToPercent:()=>H,Repeat:()=>o,SmoothStep:()=>d,ToHex:()=>u,WithinEpsilon:()=>r})}}]);