"use strict";(self["80dd64vgxnn"]=self["80dd64vgxnn"]||[]).push([[15],{15053:(mm,o,u)=>{u.r(o),u.d(o,{_IESTextureLoader:()=>w});var f=u(12752);function B(mm){return mm.split(" ").filter((mm=>""!==mm)).map((mm=>parseFloat(mm)))}function O(mm,o,u){for(;u.length!==o;){const o=B(mm.lines[mm.index++]);u.push(...o)}}function r(mm,o,u){let B=0,O=0,r=0,w=0,p=0,K=0;for(let f=0;f<mm.numberOfHorizontalAngles-1;f++)if(u<mm.horizontalAngles[f+1]||f===mm.numberOfHorizontalAngles-2){O=f,r=mm.horizontalAngles[f],w=mm.horizontalAngles[f+1];break}for(let f=0;f<mm.numberOfVerticalAngles-1;f++)if(o<mm.verticalAngles[f+1]||f===mm.numberOfVerticalAngles-2){B=f,p=mm.verticalAngles[f],K=mm.verticalAngles[f+1];break}const z=w-r,Y=K-p;if(0===Y)return 0;const q=0===z?0:(u-r)/z,x=(o-p)/Y,H=0===z?O:O+1,E=(0,f.Lerp)(mm.candelaValues[O][B],mm.candelaValues[H][B],q),M=(0,f.Lerp)(mm.candelaValues[O][B+1],mm.candelaValues[H][B+1],q);return(0,f.Lerp)(E,M,x)}class w{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(mm,o,u){const f=function(mm){const o={lines:new TextDecoder("utf-8").decode(mm).split("\n"),index:0},u={version:o.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(o.index=1;o.lines.length>0&&!o.lines[o.index].includes("TILT=");)o.index++;o.lines[o.index].includes("INCLUDE"),o.index++;const f=B(o.lines[o.index++]);u.numberOfLights=f[0],u.lumensPerLamp=f[1],u.candelaMultiplier=f[2],u.numberOfVerticalAngles=f[3],u.numberOfHorizontalAngles=f[4],u.photometricType=f[5],u.unitsType=f[6],u.width=f[7],u.length=f[8],u.height=f[9];const w=B(o.lines[o.index++]);u.ballastFactor=w[0],u.fileGenerationType=w[1],u.inputWatts=w[2];for(let B=0;B<u.numberOfHorizontalAngles;B++)u.candelaValues[B]=[];O(o,u.numberOfVerticalAngles,u.verticalAngles),O(o,u.numberOfHorizontalAngles,u.horizontalAngles);for(let B=0;B<u.numberOfHorizontalAngles;B++)O(o,u.numberOfVerticalAngles,u.candelaValues[B]);let p=-1;for(let B=0;B<u.numberOfHorizontalAngles;B++)for(let mm=0;mm<u.numberOfVerticalAngles;mm++)u.candelaValues[B][mm]*=u.candelaValues[B][mm]*u.candelaMultiplier*u.ballastFactor*u.fileGenerationType,p=Math.max(p,u.candelaValues[B][mm]);if(p>0)for(let B=0;B<u.numberOfHorizontalAngles;B++)for(let mm=0;mm<u.numberOfVerticalAngles;mm++)u.candelaValues[B][mm]/=p;const K=180,z=360,Y=new Float32Array(64800),q=u.horizontalAngles[0],x=u.horizontalAngles[u.numberOfHorizontalAngles-1];for(let B=0;B<64800;B++){let mm=B%z;const o=Math.floor(B/z);x-q!==0&&(mm<q||mm>=x)&&(mm%=2*x,mm>x&&(mm=2*x-mm)),Y[o+mm*K]=r(u,o,mm)}return{width:180,height:1,data:Y}}(new Uint8Array(mm.buffer,mm.byteOffset,mm.byteLength));u(f.width,f.height,!1,!1,(()=>{const mm=o.getEngine();o.type=1,o.format=6,o._gammaSpace=!1,mm._uploadDataToTextureDirectly(o,f.data)}))}}},12752:(mm,o,u)=>{function f(mm){return parseInt(mm.toString().replace(/\W/g,""))}function B(mm,o){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(mm-o)<=u}function O(mm,o,u){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return mm<o-f||mm>u+f}function r(mm,o){return mm===o?mm:Math.random()*(o-mm)+mm}function w(mm,o,u){return mm+(o-mm)*u}function p(mm,o,u){let f=M(o-mm,360);return f>180&&(f-=360),mm+f*q(u)}function K(mm,o,u){let f=0;return f=mm!=o?q((u-mm)/(o-mm)):0,f}function z(mm,o,u,f,B){const O=B*B,r=B*O;return mm*(2*r-3*O+1)+u*(-2*r+3*O)+o*(r-2*O+B)+f*(r-O)}function Y(mm,o,u,f,B){const O=B*B;return 6*(O-B)*mm+(3*O-4*B+1)*o+6*(-O+B)*u+(3*O-2*B)*f}function q(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(u,Math.max(o,mm))}function x(mm){return mm-=2*Math.PI*Math.floor((mm+Math.PI)/(2*Math.PI))}function H(mm){const o=mm.toString(16);return mm<=15?("0"+o).toUpperCase():o.toUpperCase()}function E(mm){if(Math.log2)return Math.floor(Math.log2(mm));if(mm<0)return NaN;if(0===mm)return-1/0;let o=0;if(mm<1){for(;mm<1;)o++,mm*=2;o=-o}else if(mm>1)for(;mm>1;)o++,mm=Math.floor(mm/2);return o}function M(mm,o){return mm-Math.floor(mm/o)*o}function l(mm,o,u){return(mm-o)/(u-o)}function t(mm,o,u){return mm*(u-o)+o}function Q(mm,o){let u=M(o-mm,360);return u>180&&(u-=360),u}function b(mm,o){const u=M(mm,2*o);return o-Math.abs(u-o)}function J(mm,o,u){let f=q(u);return f=-2*f*f*f+3*f*f,o*f+mm*(1-f)}function N(mm,o,u){let f=0;return f=Math.abs(o-mm)<=u?o:mm+Math.sign(o-mm)*u,f}function S(mm,o,u){const f=Q(mm,o);let B=0;return B=-u<f&&f<u?o:N(mm,o=mm+f,u),B}function P(mm,o,u){return(mm-o)/(u-o)}function R(mm,o,u){return(u-o)*mm+o}function g(mm,o){const u=mm%o;return 0===u?o:g(o,u)}u.r(o),u.d(o,{Clamp:()=>q,DeltaAngle:()=>Q,Denormalize:()=>t,ExtractAsInt:()=>f,Hermite:()=>z,Hermite1stDerivative:()=>Y,HighestCommonFactor:()=>g,ILog2:()=>E,InverseLerp:()=>K,Lerp:()=>w,LerpAngle:()=>p,MoveTowards:()=>N,MoveTowardsAngle:()=>S,Normalize:()=>l,NormalizeRadians:()=>x,OutsideRange:()=>O,PercentToRange:()=>R,PingPong:()=>b,RandomRange:()=>r,RangeToPercent:()=>P,Repeat:()=>M,SmoothStep:()=>J,ToHex:()=>H,WithinEpsilon:()=>B})}}]);