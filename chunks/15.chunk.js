"use strict";(self.wy695la1oic=self.wy695la1oic||[]).push([[15],{13834:(S,v,D)=>{D.r(v),D.d(v,{_IESTextureLoader:()=>B});var z=D(11393);function e(S){return S.split(" ").filter((S=>""!==S)).map((S=>parseFloat(S)))}function N(S,v,D){for(;D.length!==v;){const v=e(S.lines[S.index++]);D.push(...v)}}function m(S,v,D){let e=0,N=0,m=0,B=0,g=0,E=0;for(let z=0;z<S.numberOfHorizontalAngles-1;z++)if(D<S.horizontalAngles[z+1]||z===S.numberOfHorizontalAngles-2){N=z,m=S.horizontalAngles[z],B=S.horizontalAngles[z+1];break}for(let z=0;z<S.numberOfVerticalAngles-1;z++)if(v<S.verticalAngles[z+1]||z===S.numberOfVerticalAngles-2){e=z,g=S.verticalAngles[z],E=S.verticalAngles[z+1];break}const h=B-m,A=E-g;if(0===A)return 0;const w=0===h?0:(D-m)/h,n=(v-g)/A,R=0===h?N:N+1,O=(0,z.Lerp)(S.candelaValues[N][e],S.candelaValues[R][e],w),I=(0,z.Lerp)(S.candelaValues[N][e+1],S.candelaValues[R][e+1],w);return(0,z.Lerp)(O,I,n)}class B{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(S,v,D){const z=function(S){const v={lines:new TextDecoder("utf-8").decode(S).split("\n"),index:0},D={version:v.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(v.index=1;v.lines.length>0&&!v.lines[v.index].includes("TILT=");)v.index++;v.lines[v.index].includes("INCLUDE"),v.index++;const z=e(v.lines[v.index++]);D.numberOfLights=z[0],D.lumensPerLamp=z[1],D.candelaMultiplier=z[2],D.numberOfVerticalAngles=z[3],D.numberOfHorizontalAngles=z[4],D.photometricType=z[5],D.unitsType=z[6],D.width=z[7],D.length=z[8],D.height=z[9];const B=e(v.lines[v.index++]);D.ballastFactor=B[0],D.fileGenerationType=B[1],D.inputWatts=B[2];for(let e=0;e<D.numberOfHorizontalAngles;e++)D.candelaValues[e]=[];N(v,D.numberOfVerticalAngles,D.verticalAngles),N(v,D.numberOfHorizontalAngles,D.horizontalAngles);for(let e=0;e<D.numberOfHorizontalAngles;e++)N(v,D.numberOfVerticalAngles,D.candelaValues[e]);let g=-1;for(let e=0;e<D.numberOfHorizontalAngles;e++)for(let S=0;S<D.numberOfVerticalAngles;S++)D.candelaValues[e][S]*=D.candelaValues[e][S]*D.candelaMultiplier*D.ballastFactor*D.fileGenerationType,g=Math.max(g,D.candelaValues[e][S]);if(g>0)for(let e=0;e<D.numberOfHorizontalAngles;e++)for(let S=0;S<D.numberOfVerticalAngles;S++)D.candelaValues[e][S]/=g;const E=180,h=360,A=new Float32Array(64800),w=D.horizontalAngles[0],n=D.horizontalAngles[D.numberOfHorizontalAngles-1];for(let e=0;e<64800;e++){let S=e%h;const v=Math.floor(e/h);n-w!==0&&(S<w||S>=n)&&(S%=2*n,S>n&&(S=2*n-S)),A[v+S*E]=m(D,v,S)}return{width:180,height:1,data:A}}(new Uint8Array(S.buffer,S.byteOffset,S.byteLength));D(z.width,z.height,!1,!1,(()=>{const S=v.getEngine();v.type=1,v.format=6,v._gammaSpace=!1,S._uploadDataToTextureDirectly(v,z.data)}))}}},11393:(S,v,D)=>{function z(S){return parseInt(S.toString().replace(/\W/g,""))}function e(S,v){let D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(S-v)<=D}function N(S,v,D){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return S<v-z||S>D+z}function m(S,v){return S===v?S:Math.random()*(v-S)+S}function B(S,v,D){return S+(v-S)*D}function g(S,v,D){let z=I(v-S,360);return z>180&&(z-=360),S+z*w(D)}function E(S,v,D){let z=0;return z=S!=v?w((D-S)/(v-S)):0,z}function h(S,v,D,z,e){const N=e*e,m=e*N;return S*(2*m-3*N+1)+D*(-2*m+3*N)+v*(m-2*N+e)+z*(m-N)}function A(S,v,D,z,e){const N=e*e;return 6*(N-e)*S+(3*N-4*e+1)*v+6*(-N+e)*D+(3*N-2*e)*z}function w(S){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(D,Math.max(v,S))}function n(S){return S-=2*Math.PI*Math.floor((S+Math.PI)/(2*Math.PI))}function R(S){const v=S.toString(16);return S<=15?("0"+v).toUpperCase():v.toUpperCase()}function O(S){if(Math.log2)return Math.floor(Math.log2(S));if(S<0)return NaN;if(0===S)return-1/0;let v=0;if(S<1){for(;S<1;)v++,S*=2;v=-v}else if(S>1)for(;S>1;)v++,S=Math.floor(S/2);return v}function I(S,v){return S-Math.floor(S/v)*v}function K(S,v,D){return(S-v)/(D-v)}function q(S,v,D){return S*(D-v)+v}function u(S,v){let D=I(v-S,360);return D>180&&(D-=360),D}function s(S,v){const D=I(S,2*v);return v-Math.abs(D-v)}function r(S,v,D){let z=w(D);return z=-2*z*z*z+3*z*z,v*z+S*(1-z)}function d(S,v,D){let z=0;return z=Math.abs(v-S)<=D?v:S+Math.sign(v-S)*D,z}function x(S,v,D){const z=u(S,v);let e=0;return e=-D<z&&z<D?v:d(S,v=S+z,D),e}function W(S,v,D){return(S-v)/(D-v)}function p(S,v,D){return(D-v)*S+v}function b(S,v){const D=S%v;return 0===D?v:b(v,D)}D.r(v),D.d(v,{Clamp:()=>w,DeltaAngle:()=>u,Denormalize:()=>q,ExtractAsInt:()=>z,Hermite:()=>h,Hermite1stDerivative:()=>A,HighestCommonFactor:()=>b,ILog2:()=>O,InverseLerp:()=>E,Lerp:()=>B,LerpAngle:()=>g,MoveTowards:()=>d,MoveTowardsAngle:()=>x,Normalize:()=>K,NormalizeRadians:()=>n,OutsideRange:()=>N,PercentToRange:()=>p,PingPong:()=>s,RandomRange:()=>m,RangeToPercent:()=>W,Repeat:()=>I,SmoothStep:()=>r,ToHex:()=>R,WithinEpsilon:()=>e})}}]);