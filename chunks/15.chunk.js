"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[15],{14976:(g,i,a)=>{a.r(i),a.d(i,{_IESTextureLoader:()=>k});var n=a(12466);function L(g){return g.split(" ").filter((g=>""!==g)).map((g=>parseFloat(g)))}function d(g,i,a){for(;a.length!==i;){const i=L(g.lines[g.index++]);a.push(...i)}}function b(g,i,a){let L=0,d=0,b=0,k=0,e=0,N=0;for(let n=0;n<g.numberOfHorizontalAngles-1;n++)if(a<g.horizontalAngles[n+1]||n===g.numberOfHorizontalAngles-2){d=n,b=g.horizontalAngles[n],k=g.horizontalAngles[n+1];break}for(let n=0;n<g.numberOfVerticalAngles-1;n++)if(i<g.verticalAngles[n+1]||n===g.numberOfVerticalAngles-2){L=n,e=g.verticalAngles[n],N=g.verticalAngles[n+1];break}const F=k-b,I=N-e;if(0===I)return 0;const j=0===F?0:(a-b)/F,y=(i-e)/I,B=0===F?d:d+1,c=(0,n.Lerp)(g.candelaValues[d][L],g.candelaValues[B][L],j),D=(0,n.Lerp)(g.candelaValues[d][L+1],g.candelaValues[B][L+1],j);return(0,n.Lerp)(c,D,y)}class k{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(g,i,a){const n=function(g){const i={lines:new TextDecoder("utf-8").decode(g).split("\n"),index:0},a={version:i.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(i.index=1;i.lines.length>0&&!i.lines[i.index].includes("TILT=");)i.index++;i.lines[i.index].includes("INCLUDE"),i.index++;const n=L(i.lines[i.index++]);a.numberOfLights=n[0],a.lumensPerLamp=n[1],a.candelaMultiplier=n[2],a.numberOfVerticalAngles=n[3],a.numberOfHorizontalAngles=n[4],a.photometricType=n[5],a.unitsType=n[6],a.width=n[7],a.length=n[8],a.height=n[9];const k=L(i.lines[i.index++]);a.ballastFactor=k[0],a.fileGenerationType=k[1],a.inputWatts=k[2];for(let L=0;L<a.numberOfHorizontalAngles;L++)a.candelaValues[L]=[];d(i,a.numberOfVerticalAngles,a.verticalAngles),d(i,a.numberOfHorizontalAngles,a.horizontalAngles);for(let L=0;L<a.numberOfHorizontalAngles;L++)d(i,a.numberOfVerticalAngles,a.candelaValues[L]);let e=-1;for(let L=0;L<a.numberOfHorizontalAngles;L++)for(let g=0;g<a.numberOfVerticalAngles;g++)a.candelaValues[L][g]*=a.candelaValues[L][g]*a.candelaMultiplier*a.ballastFactor*a.fileGenerationType,e=Math.max(e,a.candelaValues[L][g]);if(e>0)for(let L=0;L<a.numberOfHorizontalAngles;L++)for(let g=0;g<a.numberOfVerticalAngles;g++)a.candelaValues[L][g]/=e;const N=180,F=360,I=new Float32Array(64800),j=a.horizontalAngles[0],y=a.horizontalAngles[a.numberOfHorizontalAngles-1];for(let L=0;L<64800;L++){let g=L%F;const i=Math.floor(L/F);y-j!==0&&(g<j||g>=y)&&(g%=2*y,g>y&&(g=2*y-g)),I[i+g*N]=b(a,i,g)}return{width:180,height:1,data:I}}(new Uint8Array(g.buffer,g.byteOffset,g.byteLength));a(n.width,n.height,!1,!1,(()=>{const g=i.getEngine();i.type=1,i.format=6,i._gammaSpace=!1,g._uploadDataToTextureDirectly(i,n.data)}))}}},12466:(g,i,a)=>{function n(g){return parseInt(g.toString().replace(/\W/g,""))}function L(g,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(g-i)<=a}function d(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return g<i-n||g>a+n}function b(g,i){return g===i?g:Math.random()*(i-g)+g}function k(g,i,a){return g+(i-g)*a}function e(g,i,a){let n=D(i-g,360);return n>180&&(n-=360),g+n*j(a)}function N(g,i,a){let n=0;return n=g!=i?j((a-g)/(i-g)):0,n}function F(g,i,a,n,L){const d=L*L,b=L*d;return g*(2*b-3*d+1)+a*(-2*b+3*d)+i*(b-2*d+L)+n*(b-d)}function I(g,i,a,n,L){const d=L*L;return 6*(d-L)*g+(3*d-4*L+1)*i+6*(-d+L)*a+(3*d-2*L)*n}function j(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(a,Math.max(i,g))}function y(g){return g-=2*Math.PI*Math.floor((g+Math.PI)/(2*Math.PI))}function B(g){const i=g.toString(16);return g<=15?("0"+i).toUpperCase():i.toUpperCase()}function c(g){if(Math.log2)return Math.floor(Math.log2(g));if(g<0)return NaN;if(0===g)return-1/0;let i=0;if(g<1){for(;g<1;)i++,g*=2;i=-i}else if(g>1)for(;g>1;)i++,g=Math.floor(g/2);return i}function D(g,i){return g-Math.floor(g/i)*i}function p(g,i,a){return(g-i)/(a-i)}function R(g,i,a){return g*(a-i)+i}function x(g,i){let a=D(i-g,360);return a>180&&(a-=360),a}function E(g,i){const a=D(g,2*i);return i-Math.abs(a-i)}function X(g,i,a){let n=j(a);return n=-2*n*n*n+3*n*n,i*n+g*(1-n)}function v(g,i,a){let n=0;return n=Math.abs(i-g)<=a?i:g+Math.sign(i-g)*a,n}function P(g,i,a){const n=x(g,i);let L=0;return L=-a<n&&n<a?i:v(g,i=g+n,a),L}function Y(g,i,a){return(g-i)/(a-i)}function f(g,i,a){return(a-i)*g+i}function C(g,i){const a=g%i;return 0===a?i:C(i,a)}a.r(i),a.d(i,{Clamp:()=>j,DeltaAngle:()=>x,Denormalize:()=>R,ExtractAsInt:()=>n,Hermite:()=>F,Hermite1stDerivative:()=>I,HighestCommonFactor:()=>C,ILog2:()=>c,InverseLerp:()=>N,Lerp:()=>k,LerpAngle:()=>e,MoveTowards:()=>v,MoveTowardsAngle:()=>P,Normalize:()=>p,NormalizeRadians:()=>y,OutsideRange:()=>d,PercentToRange:()=>f,PingPong:()=>E,RandomRange:()=>b,RangeToPercent:()=>Y,Repeat:()=>D,SmoothStep:()=>X,ToHex:()=>B,WithinEpsilon:()=>L})}}]);