"use strict";(self.jr1pmf6bwuf=self.jr1pmf6bwuf||[]).push([[15],{15397:(Y,c,h)=>{h.r(c),h.d(c,{_IESTextureLoader:()=>b});var C=h(12883);function E(Y){return Y.split(" ").filter((Y=>""!==Y)).map((Y=>parseFloat(Y)))}function N(Y,c,h){for(;h.length!==c;){const c=E(Y.lines[Y.index++]);h.push(...c)}}function Q(Y,c,h){let E=0,N=0,Q=0,b=0,H=0,w=0;for(let C=0;C<Y.numberOfHorizontalAngles-1;C++)if(h<Y.horizontalAngles[C+1]||C===Y.numberOfHorizontalAngles-2){N=C,Q=Y.horizontalAngles[C],b=Y.horizontalAngles[C+1];break}for(let C=0;C<Y.numberOfVerticalAngles-1;C++)if(c<Y.verticalAngles[C+1]||C===Y.numberOfVerticalAngles-2){E=C,H=Y.verticalAngles[C],w=Y.verticalAngles[C+1];break}const W=b-Q,q=w-H;if(0===q)return 0;const k=0===W?0:(h-Q)/W,M=(c-H)/q,p=0===W?N:N+1,P=(0,C.Lerp)(Y.candelaValues[N][E],Y.candelaValues[p][E],k),y=(0,C.Lerp)(Y.candelaValues[N][E+1],Y.candelaValues[p][E+1],k);return(0,C.Lerp)(P,y,M)}class b{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(Y,c,h){const C=function(Y){const c={lines:new TextDecoder("utf-8").decode(Y).split("\n"),index:0},h={version:c.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(c.index=1;c.lines.length>0&&!c.lines[c.index].includes("TILT=");)c.index++;c.lines[c.index].includes("INCLUDE"),c.index++;const C=E(c.lines[c.index++]);h.numberOfLights=C[0],h.lumensPerLamp=C[1],h.candelaMultiplier=C[2],h.numberOfVerticalAngles=C[3],h.numberOfHorizontalAngles=C[4],h.photometricType=C[5],h.unitsType=C[6],h.width=C[7],h.length=C[8],h.height=C[9];const b=E(c.lines[c.index++]);h.ballastFactor=b[0],h.fileGenerationType=b[1],h.inputWatts=b[2];for(let E=0;E<h.numberOfHorizontalAngles;E++)h.candelaValues[E]=[];N(c,h.numberOfVerticalAngles,h.verticalAngles),N(c,h.numberOfHorizontalAngles,h.horizontalAngles);for(let E=0;E<h.numberOfHorizontalAngles;E++)N(c,h.numberOfVerticalAngles,h.candelaValues[E]);let H=-1;for(let E=0;E<h.numberOfHorizontalAngles;E++)for(let Y=0;Y<h.numberOfVerticalAngles;Y++)h.candelaValues[E][Y]*=h.candelaValues[E][Y]*h.candelaMultiplier*h.ballastFactor*h.fileGenerationType,H=Math.max(H,h.candelaValues[E][Y]);if(H>0)for(let E=0;E<h.numberOfHorizontalAngles;E++)for(let Y=0;Y<h.numberOfVerticalAngles;Y++)h.candelaValues[E][Y]/=H;const w=180,W=360,q=new Float32Array(64800),k=h.horizontalAngles[0],M=h.horizontalAngles[h.numberOfHorizontalAngles-1];for(let E=0;E<64800;E++){let Y=E%W;const c=Math.floor(E/W);M-k!==0&&(Y<k||Y>=M)&&(Y%=2*M,Y>M&&(Y=2*M-Y)),q[c+Y*w]=Q(h,c,Y)}return{width:180,height:1,data:q}}(new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength));h(C.width,C.height,!1,!1,(()=>{const Y=c.getEngine();c.type=1,c.format=6,c._gammaSpace=!1,Y._uploadDataToTextureDirectly(c,C.data)}))}}},12883:(Y,c,h)=>{function C(Y){return parseInt(Y.toString().replace(/\W/g,""))}function E(Y,c){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(Y-c)<=h}function N(Y,c,h){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return Y<c-C||Y>h+C}function Q(Y,c){return Y===c?Y:Math.random()*(c-Y)+Y}function b(Y,c,h){return Y+(c-Y)*h}function H(Y,c,h){let C=y(c-Y,360);return C>180&&(C-=360),Y+C*k(h)}function w(Y,c,h){let C=0;return C=Y!=c?k((h-Y)/(c-Y)):0,C}function W(Y,c,h,C,E){const N=E*E,Q=E*N;return Y*(2*Q-3*N+1)+h*(-2*Q+3*N)+c*(Q-2*N+E)+C*(Q-N)}function q(Y,c,h,C,E){const N=E*E;return 6*(N-E)*Y+(3*N-4*E+1)*c+6*(-N+E)*h+(3*N-2*E)*C}function k(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(h,Math.max(c,Y))}function M(Y){return Y-=2*Math.PI*Math.floor((Y+Math.PI)/(2*Math.PI))}function p(Y){const c=Y.toString(16);return Y<=15?("0"+c).toUpperCase():c.toUpperCase()}function P(Y){if(Math.log2)return Math.floor(Math.log2(Y));if(Y<0)return NaN;if(0===Y)return-1/0;let c=0;if(Y<1){for(;Y<1;)c++,Y*=2;c=-c}else if(Y>1)for(;Y>1;)c++,Y=Math.floor(Y/2);return c}function y(Y,c){return Y-Math.floor(Y/c)*c}function d(Y,c,h){return(Y-c)/(h-c)}function D(Y,c,h){return Y*(h-c)+c}function T(Y,c){let h=y(c-Y,360);return h>180&&(h-=360),h}function e(Y,c){const h=y(Y,2*c);return c-Math.abs(h-c)}function r(Y,c,h){let C=k(h);return C=-2*C*C*C+3*C*C,c*C+Y*(1-C)}function X(Y,c,h){let C=0;return C=Math.abs(c-Y)<=h?c:Y+Math.sign(c-Y)*h,C}function Z(Y,c,h){const C=T(Y,c);let E=0;return E=-h<C&&C<h?c:X(Y,c=Y+C,h),E}function a(Y,c,h){return(Y-c)/(h-c)}function G(Y,c,h){return(h-c)*Y+c}function K(Y,c){const h=Y%c;return 0===h?c:K(c,h)}h.r(c),h.d(c,{Clamp:()=>k,DeltaAngle:()=>T,Denormalize:()=>D,ExtractAsInt:()=>C,Hermite:()=>W,Hermite1stDerivative:()=>q,HighestCommonFactor:()=>K,ILog2:()=>P,InverseLerp:()=>w,Lerp:()=>b,LerpAngle:()=>H,MoveTowards:()=>X,MoveTowardsAngle:()=>Z,Normalize:()=>d,NormalizeRadians:()=>M,OutsideRange:()=>N,PercentToRange:()=>G,PingPong:()=>e,RandomRange:()=>Q,RangeToPercent:()=>a,Repeat:()=>y,SmoothStep:()=>r,ToHex:()=>p,WithinEpsilon:()=>E})}}]);