"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[15],{15349:(h,R,l)=>{l.r(R),l.d(R,{_IESTextureLoader:()=>F});var j=l(12917);function a(h){return h.split(" ").filter((h=>""!==h)).map((h=>parseFloat(h)))}function D(h,R,l){for(;l.length!==R;){const R=a(h.lines[h.index++]);l.push(...R)}}function U(h,R,l){let a=0,D=0,U=0,F=0,w=0,mh=0;for(let j=0;j<h.numberOfHorizontalAngles-1;j++)if(l<h.horizontalAngles[j+1]||j===h.numberOfHorizontalAngles-2){D=j,U=h.horizontalAngles[j],F=h.horizontalAngles[j+1];break}for(let j=0;j<h.numberOfVerticalAngles-1;j++)if(R<h.verticalAngles[j+1]||j===h.numberOfVerticalAngles-2){a=j,w=h.verticalAngles[j],mh=h.verticalAngles[j+1];break}const u=F-U,c=mh-w;if(0===c)return 0;const J=0===u?0:(l-U)/u,q=(R-w)/c,Q=0===u?D:D+1,Y=(0,j.Lerp)(h.candelaValues[D][a],h.candelaValues[Q][a],J),s=(0,j.Lerp)(h.candelaValues[D][a+1],h.candelaValues[Q][a+1],J);return(0,j.Lerp)(Y,s,q)}class F{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(h,R,l){const j=function(h){const R={lines:new TextDecoder("utf-8").decode(h).split("\n"),index:0},l={version:R.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(R.index=1;R.lines.length>0&&!R.lines[R.index].includes("TILT=");)R.index++;R.lines[R.index].includes("INCLUDE"),R.index++;const j=a(R.lines[R.index++]);l.numberOfLights=j[0],l.lumensPerLamp=j[1],l.candelaMultiplier=j[2],l.numberOfVerticalAngles=j[3],l.numberOfHorizontalAngles=j[4],l.photometricType=j[5],l.unitsType=j[6],l.width=j[7],l.length=j[8],l.height=j[9];const F=a(R.lines[R.index++]);l.ballastFactor=F[0],l.fileGenerationType=F[1],l.inputWatts=F[2];for(let a=0;a<l.numberOfHorizontalAngles;a++)l.candelaValues[a]=[];D(R,l.numberOfVerticalAngles,l.verticalAngles),D(R,l.numberOfHorizontalAngles,l.horizontalAngles);for(let a=0;a<l.numberOfHorizontalAngles;a++)D(R,l.numberOfVerticalAngles,l.candelaValues[a]);let w=-1;for(let a=0;a<l.numberOfHorizontalAngles;a++)for(let h=0;h<l.numberOfVerticalAngles;h++)l.candelaValues[a][h]*=l.candelaValues[a][h]*l.candelaMultiplier*l.ballastFactor*l.fileGenerationType,w=Math.max(w,l.candelaValues[a][h]);if(w>0)for(let a=0;a<l.numberOfHorizontalAngles;a++)for(let h=0;h<l.numberOfVerticalAngles;h++)l.candelaValues[a][h]/=w;const mh=180,u=360,c=new Float32Array(64800),J=l.horizontalAngles[0],q=l.horizontalAngles[l.numberOfHorizontalAngles-1];for(let a=0;a<64800;a++){let h=a%u;const R=Math.floor(a/u);q-J!==0&&(h<J||h>=q)&&(h%=2*q,h>q&&(h=2*q-h)),c[R+h*mh]=U(l,R,h)}return{width:180,height:1,data:c}}(new Uint8Array(h.buffer,h.byteOffset,h.byteLength));l(j.width,j.height,!1,!1,(()=>{const h=R.getEngine();R.type=1,R.format=6,R._gammaSpace=!1,h._uploadDataToTextureDirectly(R,j.data)}))}}},12917:(h,R,l)=>{function j(h){return parseInt(h.toString().replace(/\W/g,""))}function a(h,R){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(h-R)<=l}function D(h,R,l){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return h<R-j||h>l+j}function U(h,R){return h===R?h:Math.random()*(R-h)+h}function F(h,R,l){return h+(R-h)*l}function w(h,R,l){let j=s(R-h,360);return j>180&&(j-=360),h+j*J(l)}function mh(h,R,l){let j=0;return j=h!=R?J((l-h)/(R-h)):0,j}function u(h,R,l,j,a){const D=a*a,U=a*D;return h*(2*U-3*D+1)+l*(-2*U+3*D)+R*(U-2*D+a)+j*(U-D)}function c(h,R,l,j,a){const D=a*a;return 6*(D-a)*h+(3*D-4*a+1)*R+6*(-D+a)*l+(3*D-2*a)*j}function J(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(l,Math.max(R,h))}function q(h){return h-=2*Math.PI*Math.floor((h+Math.PI)/(2*Math.PI))}function Q(h){const R=h.toString(16);return h<=15?("0"+R).toUpperCase():R.toUpperCase()}function Y(h){if(Math.log2)return Math.floor(Math.log2(h));if(h<0)return NaN;if(0===h)return-1/0;let R=0;if(h<1){for(;h<1;)R++,h*=2;R=-R}else if(h>1)for(;h>1;)R++,h=Math.floor(h/2);return R}function s(h,R){return h-Math.floor(h/R)*R}function t(h,R,l){return(h-R)/(l-R)}function f(h,R,l){return h*(l-R)+R}function T(h,R){let l=s(R-h,360);return l>180&&(l-=360),l}function E(h,R){const l=s(h,2*R);return R-Math.abs(l-R)}function x(h,R,l){let j=J(l);return j=-2*j*j*j+3*j*j,R*j+h*(1-j)}function G(h,R,l){let j=0;return j=Math.abs(R-h)<=l?R:h+Math.sign(R-h)*l,j}function p(h,R,l){const j=T(h,R);let a=0;return a=-l<j&&j<l?R:G(h,R=h+j,l),a}function O(h,R,l){return(h-R)/(l-R)}function y(h,R,l){return(l-R)*h+R}function v(h,R){const l=h%R;return 0===l?R:v(R,l)}l.r(R),l.d(R,{Clamp:()=>J,DeltaAngle:()=>T,Denormalize:()=>f,ExtractAsInt:()=>j,Hermite:()=>u,Hermite1stDerivative:()=>c,HighestCommonFactor:()=>v,ILog2:()=>Y,InverseLerp:()=>mh,Lerp:()=>F,LerpAngle:()=>w,MoveTowards:()=>G,MoveTowardsAngle:()=>p,Normalize:()=>t,NormalizeRadians:()=>q,OutsideRange:()=>D,PercentToRange:()=>y,PingPong:()=>E,RandomRange:()=>U,RangeToPercent:()=>O,Repeat:()=>s,SmoothStep:()=>x,ToHex:()=>Q,WithinEpsilon:()=>a})}}]);