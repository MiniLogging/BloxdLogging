"use strict";(self.bjbkv7h3qsd=self.bjbkv7h3qsd||[]).push([[15],{13616:(G,A,j)=>{j.r(A),j.d(A,{_IESTextureLoader:()=>s});var u=j(11237);function k(G){return G.split(" ").filter((G=>""!==G)).map((G=>parseFloat(G)))}function B(G,A,j){for(;j.length!==A;){const A=k(G.lines[G.index++]);j.push(...A)}}function x(G,A,j){let k=0,B=0,x=0,s=0,O=0,d=0;for(let u=0;u<G.numberOfHorizontalAngles-1;u++)if(j<G.horizontalAngles[u+1]||u===G.numberOfHorizontalAngles-2){B=u,x=G.horizontalAngles[u],s=G.horizontalAngles[u+1];break}for(let u=0;u<G.numberOfVerticalAngles-1;u++)if(A<G.verticalAngles[u+1]||u===G.numberOfVerticalAngles-2){k=u,O=G.verticalAngles[u],d=G.verticalAngles[u+1];break}const h=s-x,H=d-O;if(0===H)return 0;const F=0===h?0:(j-x)/h,R=(A-O)/H,U=0===h?B:B+1,S=(0,u.Lerp)(G.candelaValues[B][k],G.candelaValues[U][k],F),C=(0,u.Lerp)(G.candelaValues[B][k+1],G.candelaValues[U][k+1],F);return(0,u.Lerp)(S,C,R)}class s{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(G,A,j){const u=function(G){const A={lines:new TextDecoder("utf-8").decode(G).split("\n"),index:0},j={version:A.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(A.index=1;A.lines.length>0&&!A.lines[A.index].includes("TILT=");)A.index++;A.lines[A.index].includes("INCLUDE"),A.index++;const u=k(A.lines[A.index++]);j.numberOfLights=u[0],j.lumensPerLamp=u[1],j.candelaMultiplier=u[2],j.numberOfVerticalAngles=u[3],j.numberOfHorizontalAngles=u[4],j.photometricType=u[5],j.unitsType=u[6],j.width=u[7],j.length=u[8],j.height=u[9];const s=k(A.lines[A.index++]);j.ballastFactor=s[0],j.fileGenerationType=s[1],j.inputWatts=s[2];for(let k=0;k<j.numberOfHorizontalAngles;k++)j.candelaValues[k]=[];B(A,j.numberOfVerticalAngles,j.verticalAngles),B(A,j.numberOfHorizontalAngles,j.horizontalAngles);for(let k=0;k<j.numberOfHorizontalAngles;k++)B(A,j.numberOfVerticalAngles,j.candelaValues[k]);let O=-1;for(let k=0;k<j.numberOfHorizontalAngles;k++)for(let G=0;G<j.numberOfVerticalAngles;G++)j.candelaValues[k][G]*=j.candelaValues[k][G]*j.candelaMultiplier*j.ballastFactor*j.fileGenerationType,O=Math.max(O,j.candelaValues[k][G]);if(O>0)for(let k=0;k<j.numberOfHorizontalAngles;k++)for(let G=0;G<j.numberOfVerticalAngles;G++)j.candelaValues[k][G]/=O;const d=180,h=360,H=new Float32Array(64800),F=j.horizontalAngles[0],R=j.horizontalAngles[j.numberOfHorizontalAngles-1];for(let k=0;k<64800;k++){let G=k%h;const A=Math.floor(k/h);R-F!==0&&(G<F||G>=R)&&(G%=2*R,G>R&&(G=2*R-G)),H[A+G*d]=x(j,A,G)}return{width:180,height:1,data:H}}(new Uint8Array(G.buffer,G.byteOffset,G.byteLength));j(u.width,u.height,!1,!1,(()=>{const G=A.getEngine();A.type=1,A.format=6,A._gammaSpace=!1,G._uploadDataToTextureDirectly(A,u.data)}))}}},11237:(G,A,j)=>{function u(G){return parseInt(G.toString().replace(/\W/g,""))}function k(G,A){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(G-A)<=j}function B(G,A,j){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return G<A-u||G>j+u}function x(G,A){return G===A?G:Math.random()*(A-G)+G}function s(G,A,j){return G+(A-G)*j}function O(G,A,j){let u=C(A-G,360);return u>180&&(u-=360),G+u*F(j)}function d(G,A,j){let u=0;return u=G!=A?F((j-G)/(A-G)):0,u}function h(G,A,j,u,k){const B=k*k,x=k*B;return G*(2*x-3*B+1)+j*(-2*x+3*B)+A*(x-2*B+k)+u*(x-B)}function H(G,A,j,u,k){const B=k*k;return 6*(B-k)*G+(3*B-4*k+1)*A+6*(-B+k)*j+(3*B-2*k)*u}function F(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(j,Math.max(A,G))}function R(G){return G-=2*Math.PI*Math.floor((G+Math.PI)/(2*Math.PI))}function U(G){const A=G.toString(16);return G<=15?("0"+A).toUpperCase():A.toUpperCase()}function S(G){if(Math.log2)return Math.floor(Math.log2(G));if(G<0)return NaN;if(0===G)return-1/0;let A=0;if(G<1){for(;G<1;)A++,G*=2;A=-A}else if(G>1)for(;G>1;)A++,G=Math.floor(G/2);return A}function C(G,A){return G-Math.floor(G/A)*A}function t(G,A,j){return(G-A)/(j-A)}function Y(G,A,j){return G*(j-A)+A}function n(G,A){let j=C(A-G,360);return j>180&&(j-=360),j}function Q(G,A){const j=C(G,2*A);return A-Math.abs(j-A)}function X(G,A,j){let u=F(j);return u=-2*u*u*u+3*u*u,A*u+G*(1-u)}function I(G,A,j){let u=0;return u=Math.abs(A-G)<=j?A:G+Math.sign(A-G)*j,u}function D(G,A,j){const u=n(G,A);let k=0;return k=-j<u&&u<j?A:I(G,A=G+u,j),k}function g(G,A,j){return(G-A)/(j-A)}function c(G,A,j){return(j-A)*G+A}function E(G,A){const j=G%A;return 0===j?A:E(A,j)}j.r(A),j.d(A,{Clamp:()=>F,DeltaAngle:()=>n,Denormalize:()=>Y,ExtractAsInt:()=>u,Hermite:()=>h,Hermite1stDerivative:()=>H,HighestCommonFactor:()=>E,ILog2:()=>S,InverseLerp:()=>d,Lerp:()=>s,LerpAngle:()=>O,MoveTowards:()=>I,MoveTowardsAngle:()=>D,Normalize:()=>t,NormalizeRadians:()=>R,OutsideRange:()=>B,PercentToRange:()=>c,PingPong:()=>Q,RandomRange:()=>x,RangeToPercent:()=>g,Repeat:()=>C,SmoothStep:()=>X,ToHex:()=>U,WithinEpsilon:()=>k})}}]);