"use strict";(self["686i8587bmi"]=self["686i8587bmi"]||[]).push([[15],{15243:(h,d,T)=>{T.r(d),T.d(d,{_IESTextureLoader:()=>X});var Y=T(12787);function y(h){return h.split(" ").filter((h=>""!==h)).map((h=>parseFloat(h)))}function C(h,d,T){for(;T.length!==d;){const d=y(h.lines[h.index++]);T.push(...d)}}function n(h,d,T){let y=0,C=0,n=0,X=0,F=0,U=0;for(let Y=0;Y<h.numberOfHorizontalAngles-1;Y++)if(T<h.horizontalAngles[Y+1]||Y===h.numberOfHorizontalAngles-2){C=Y,n=h.horizontalAngles[Y],X=h.horizontalAngles[Y+1];break}for(let Y=0;Y<h.numberOfVerticalAngles-1;Y++)if(d<h.verticalAngles[Y+1]||Y===h.numberOfVerticalAngles-2){y=Y,F=h.verticalAngles[Y],U=h.verticalAngles[Y+1];break}const Z=X-n,S=U-F;if(0===S)return 0;const r=0===Z?0:(T-n)/Z,c=(d-F)/S,O=0===Z?C:C+1,f=(0,Y.Lerp)(h.candelaValues[C][y],h.candelaValues[O][y],r),J=(0,Y.Lerp)(h.candelaValues[C][y+1],h.candelaValues[O][y+1],r);return(0,Y.Lerp)(f,J,c)}class X{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(h,d,T){const Y=function(h){const d={lines:new TextDecoder("utf-8").decode(h).split("\n"),index:0},T={version:d.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(d.index=1;d.lines.length>0&&!d.lines[d.index].includes("TILT=");)d.index++;d.lines[d.index].includes("INCLUDE"),d.index++;const Y=y(d.lines[d.index++]);T.numberOfLights=Y[0],T.lumensPerLamp=Y[1],T.candelaMultiplier=Y[2],T.numberOfVerticalAngles=Y[3],T.numberOfHorizontalAngles=Y[4],T.photometricType=Y[5],T.unitsType=Y[6],T.width=Y[7],T.length=Y[8],T.height=Y[9];const X=y(d.lines[d.index++]);T.ballastFactor=X[0],T.fileGenerationType=X[1],T.inputWatts=X[2];for(let y=0;y<T.numberOfHorizontalAngles;y++)T.candelaValues[y]=[];C(d,T.numberOfVerticalAngles,T.verticalAngles),C(d,T.numberOfHorizontalAngles,T.horizontalAngles);for(let y=0;y<T.numberOfHorizontalAngles;y++)C(d,T.numberOfVerticalAngles,T.candelaValues[y]);let F=-1;for(let y=0;y<T.numberOfHorizontalAngles;y++)for(let h=0;h<T.numberOfVerticalAngles;h++)T.candelaValues[y][h]*=T.candelaValues[y][h]*T.candelaMultiplier*T.ballastFactor*T.fileGenerationType,F=Math.max(F,T.candelaValues[y][h]);if(F>0)for(let y=0;y<T.numberOfHorizontalAngles;y++)for(let h=0;h<T.numberOfVerticalAngles;h++)T.candelaValues[y][h]/=F;const U=180,Z=360,S=new Float32Array(64800),r=T.horizontalAngles[0],c=T.horizontalAngles[T.numberOfHorizontalAngles-1];for(let y=0;y<64800;y++){let h=y%Z;const d=Math.floor(y/Z);c-r!==0&&(h<r||h>=c)&&(h%=2*c,h>c&&(h=2*c-h)),S[d+h*U]=n(T,d,h)}return{width:180,height:1,data:S}}(new Uint8Array(h.buffer,h.byteOffset,h.byteLength));T(Y.width,Y.height,!1,!1,(()=>{const h=d.getEngine();d.type=1,d.format=6,d._gammaSpace=!1,h._uploadDataToTextureDirectly(d,Y.data)}))}}},12787:(h,d,T)=>{function Y(h){return parseInt(h.toString().replace(/\W/g,""))}function y(h,d){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(h-d)<=T}function C(h,d,T){let Y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return h<d-Y||h>T+Y}function n(h,d){return h===d?h:Math.random()*(d-h)+h}function X(h,d,T){return h+(d-h)*T}function F(h,d,T){let Y=J(d-h,360);return Y>180&&(Y-=360),h+Y*r(T)}function U(h,d,T){let Y=0;return Y=h!=d?r((T-h)/(d-h)):0,Y}function Z(h,d,T,Y,y){const C=y*y,n=y*C;return h*(2*n-3*C+1)+T*(-2*n+3*C)+d*(n-2*C+y)+Y*(n-C)}function S(h,d,T,Y,y){const C=y*y;return 6*(C-y)*h+(3*C-4*y+1)*d+6*(-C+y)*T+(3*C-2*y)*Y}function r(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(T,Math.max(d,h))}function c(h){return h-=2*Math.PI*Math.floor((h+Math.PI)/(2*Math.PI))}function O(h){const d=h.toString(16);return h<=15?("0"+d).toUpperCase():d.toUpperCase()}function f(h){if(Math.log2)return Math.floor(Math.log2(h));if(h<0)return NaN;if(0===h)return-1/0;let d=0;if(h<1){for(;h<1;)d++,h*=2;d=-d}else if(h>1)for(;h>1;)d++,h=Math.floor(h/2);return d}function J(h,d){return h-Math.floor(h/d)*d}function W(h,d,T){return(h-d)/(T-d)}function L(h,d,T){return h*(T-d)+d}function D(h,d){let T=J(d-h,360);return T>180&&(T-=360),T}function V(h,d){const T=J(h,2*d);return d-Math.abs(T-d)}function i(h,d,T){let Y=r(T);return Y=-2*Y*Y*Y+3*Y*Y,d*Y+h*(1-Y)}function w(h,d,T){let Y=0;return Y=Math.abs(d-h)<=T?d:h+Math.sign(d-h)*T,Y}function s(h,d,T){const Y=D(h,d);let y=0;return y=-T<Y&&Y<T?d:w(h,d=h+Y,T),y}function E(h,d,T){return(h-d)/(T-d)}function z(h,d,T){return(T-d)*h+d}function x(h,d){const T=h%d;return 0===T?d:x(d,T)}T.r(d),T.d(d,{Clamp:()=>r,DeltaAngle:()=>D,Denormalize:()=>L,ExtractAsInt:()=>Y,Hermite:()=>Z,Hermite1stDerivative:()=>S,HighestCommonFactor:()=>x,ILog2:()=>f,InverseLerp:()=>U,Lerp:()=>X,LerpAngle:()=>F,MoveTowards:()=>w,MoveTowardsAngle:()=>s,Normalize:()=>W,NormalizeRadians:()=>c,OutsideRange:()=>C,PercentToRange:()=>z,PingPong:()=>V,RandomRange:()=>n,RangeToPercent:()=>E,Repeat:()=>J,SmoothStep:()=>i,ToHex:()=>O,WithinEpsilon:()=>y})}}]);