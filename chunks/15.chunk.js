"use strict";(self.ufnpnb83drd=self.ufnpnb83drd||[]).push([[15],{14808:(E,U,g)=>{g.r(U),g.d(U,{_IESTextureLoader:()=>u});var N=g(12353);function L(E){return E.split(" ").filter((E=>""!==E)).map((E=>parseFloat(E)))}function D(E,U,g){for(;g.length!==U;){const U=L(E.lines[E.index++]);g.push(...U)}}function S(E,U,g){let L=0,D=0,S=0,u=0,s=0,C=0;for(let N=0;N<E.numberOfHorizontalAngles-1;N++)if(g<E.horizontalAngles[N+1]||N===E.numberOfHorizontalAngles-2){D=N,S=E.horizontalAngles[N],u=E.horizontalAngles[N+1];break}for(let N=0;N<E.numberOfVerticalAngles-1;N++)if(U<E.verticalAngles[N+1]||N===E.numberOfVerticalAngles-2){L=N,s=E.verticalAngles[N],C=E.verticalAngles[N+1];break}const B=u-S,P=C-s;if(0===P)return 0;const F=0===B?0:(g-S)/B,f=(U-s)/P,d=0===B?D:D+1,I=(0,N.Lerp)(E.candelaValues[D][L],E.candelaValues[d][L],F),y=(0,N.Lerp)(E.candelaValues[D][L+1],E.candelaValues[d][L+1],F);return(0,N.Lerp)(I,y,f)}class u{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(E,U,g){const N=function(E){const U={lines:new TextDecoder("utf-8").decode(E).split("\n"),index:0},g={version:U.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(U.index=1;U.lines.length>0&&!U.lines[U.index].includes("TILT=");)U.index++;U.lines[U.index].includes("INCLUDE"),U.index++;const N=L(U.lines[U.index++]);g.numberOfLights=N[0],g.lumensPerLamp=N[1],g.candelaMultiplier=N[2],g.numberOfVerticalAngles=N[3],g.numberOfHorizontalAngles=N[4],g.photometricType=N[5],g.unitsType=N[6],g.width=N[7],g.length=N[8],g.height=N[9];const u=L(U.lines[U.index++]);g.ballastFactor=u[0],g.fileGenerationType=u[1],g.inputWatts=u[2];for(let L=0;L<g.numberOfHorizontalAngles;L++)g.candelaValues[L]=[];D(U,g.numberOfVerticalAngles,g.verticalAngles),D(U,g.numberOfHorizontalAngles,g.horizontalAngles);for(let L=0;L<g.numberOfHorizontalAngles;L++)D(U,g.numberOfVerticalAngles,g.candelaValues[L]);let s=-1;for(let L=0;L<g.numberOfHorizontalAngles;L++)for(let E=0;E<g.numberOfVerticalAngles;E++)g.candelaValues[L][E]*=g.candelaValues[L][E]*g.candelaMultiplier*g.ballastFactor*g.fileGenerationType,s=Math.max(s,g.candelaValues[L][E]);if(s>0)for(let L=0;L<g.numberOfHorizontalAngles;L++)for(let E=0;E<g.numberOfVerticalAngles;E++)g.candelaValues[L][E]/=s;const C=180,B=360,P=new Float32Array(64800),F=g.horizontalAngles[0],f=g.horizontalAngles[g.numberOfHorizontalAngles-1];for(let L=0;L<64800;L++){let E=L%B;const U=Math.floor(L/B);f-F!==0&&(E<F||E>=f)&&(E%=2*f,E>f&&(E=2*f-E)),P[U+E*C]=S(g,U,E)}return{width:180,height:1,data:P}}(new Uint8Array(E.buffer,E.byteOffset,E.byteLength));g(N.width,N.height,!1,!1,(()=>{const E=U.getEngine();U.type=1,U.format=6,U._gammaSpace=!1,E._uploadDataToTextureDirectly(U,N.data)}))}}},12353:(E,U,g)=>{function N(E){return parseInt(E.toString().replace(/\W/g,""))}function L(E,U){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(E-U)<=g}function D(E,U,g){let N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return E<U-N||E>g+N}function S(E,U){return E===U?E:Math.random()*(U-E)+E}function u(E,U,g){return E+(U-E)*g}function s(E,U,g){let N=y(U-E,360);return N>180&&(N-=360),E+N*F(g)}function C(E,U,g){let N=0;return N=E!=U?F((g-E)/(U-E)):0,N}function B(E,U,g,N,L){const D=L*L,S=L*D;return E*(2*S-3*D+1)+g*(-2*S+3*D)+U*(S-2*D+L)+N*(S-D)}function P(E,U,g,N,L){const D=L*L;return 6*(D-L)*E+(3*D-4*L+1)*U+6*(-D+L)*g+(3*D-2*L)*N}function F(E){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(g,Math.max(U,E))}function f(E){return E-=2*Math.PI*Math.floor((E+Math.PI)/(2*Math.PI))}function d(E){const U=E.toString(16);return E<=15?("0"+U).toUpperCase():U.toUpperCase()}function I(E){if(Math.log2)return Math.floor(Math.log2(E));if(E<0)return NaN;if(0===E)return-1/0;let U=0;if(E<1){for(;E<1;)U++,E*=2;U=-U}else if(E>1)for(;E>1;)U++,E=Math.floor(E/2);return U}function y(E,U){return E-Math.floor(E/U)*U}function h(E,U,g){return(E-U)/(g-U)}function V(E,U,g){return E*(g-U)+U}function e(E,U){let g=y(U-E,360);return g>180&&(g-=360),g}function x(E,U){const g=y(E,2*U);return U-Math.abs(g-U)}function l(E,U,g){let N=F(g);return N=-2*N*N*N+3*N*N,U*N+E*(1-N)}function Y(E,U,g){let N=0;return N=Math.abs(U-E)<=g?U:E+Math.sign(U-E)*g,N}function t(E,U,g){const N=e(E,U);let L=0;return L=-g<N&&N<g?U:Y(E,U=E+N,g),L}function G(E,U,g){return(E-U)/(g-U)}function b(E,U,g){return(g-U)*E+U}function T(E,U){const g=E%U;return 0===g?U:T(U,g)}g.r(U),g.d(U,{Clamp:()=>F,DeltaAngle:()=>e,Denormalize:()=>V,ExtractAsInt:()=>N,Hermite:()=>B,Hermite1stDerivative:()=>P,HighestCommonFactor:()=>T,ILog2:()=>I,InverseLerp:()=>C,Lerp:()=>u,LerpAngle:()=>s,MoveTowards:()=>Y,MoveTowardsAngle:()=>t,Normalize:()=>h,NormalizeRadians:()=>f,OutsideRange:()=>D,PercentToRange:()=>b,PingPong:()=>x,RandomRange:()=>S,RangeToPercent:()=>G,Repeat:()=>y,SmoothStep:()=>l,ToHex:()=>d,WithinEpsilon:()=>L})}}]);