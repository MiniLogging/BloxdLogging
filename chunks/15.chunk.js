"use strict";(self.h66iwo8dvgq=self.h66iwo8dvgq||[]).push([[15],{14349:(b,X,P)=>{P.r(X),P.d(X,{_IESTextureLoader:()=>a});var Q=P(11844);function S(b){return b.split(" ").filter((b=>""!==b)).map((b=>parseFloat(b)))}function d(b,X,P){for(;P.length!==X;){const X=S(b.lines[b.index++]);P.push(...X)}}function N(b,X,P){let S=0,d=0,N=0,a=0,u=0,w=0;for(let Q=0;Q<b.numberOfHorizontalAngles-1;Q++)if(P<b.horizontalAngles[Q+1]||Q===b.numberOfHorizontalAngles-2){d=Q,N=b.horizontalAngles[Q],a=b.horizontalAngles[Q+1];break}for(let Q=0;Q<b.numberOfVerticalAngles-1;Q++)if(X<b.verticalAngles[Q+1]||Q===b.numberOfVerticalAngles-2){S=Q,u=b.verticalAngles[Q],w=b.verticalAngles[Q+1];break}const f=a-N,O=w-u;if(0===O)return 0;const e=0===f?0:(P-N)/f,Y=(X-u)/O,D=0===f?d:d+1,E=(0,Q.Lerp)(b.candelaValues[d][S],b.candelaValues[D][S],e),t=(0,Q.Lerp)(b.candelaValues[d][S+1],b.candelaValues[D][S+1],e);return(0,Q.Lerp)(E,t,Y)}class a{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(b,X,P){const Q=function(b){const X={lines:new TextDecoder("utf-8").decode(b).split("\n"),index:0},P={version:X.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(X.index=1;X.lines.length>0&&!X.lines[X.index].includes("TILT=");)X.index++;X.lines[X.index].includes("INCLUDE"),X.index++;const Q=S(X.lines[X.index++]);P.numberOfLights=Q[0],P.lumensPerLamp=Q[1],P.candelaMultiplier=Q[2],P.numberOfVerticalAngles=Q[3],P.numberOfHorizontalAngles=Q[4],P.photometricType=Q[5],P.unitsType=Q[6],P.width=Q[7],P.length=Q[8],P.height=Q[9];const a=S(X.lines[X.index++]);P.ballastFactor=a[0],P.fileGenerationType=a[1],P.inputWatts=a[2];for(let S=0;S<P.numberOfHorizontalAngles;S++)P.candelaValues[S]=[];d(X,P.numberOfVerticalAngles,P.verticalAngles),d(X,P.numberOfHorizontalAngles,P.horizontalAngles);for(let S=0;S<P.numberOfHorizontalAngles;S++)d(X,P.numberOfVerticalAngles,P.candelaValues[S]);let u=-1;for(let S=0;S<P.numberOfHorizontalAngles;S++)for(let b=0;b<P.numberOfVerticalAngles;b++)P.candelaValues[S][b]*=P.candelaValues[S][b]*P.candelaMultiplier*P.ballastFactor*P.fileGenerationType,u=Math.max(u,P.candelaValues[S][b]);if(u>0)for(let S=0;S<P.numberOfHorizontalAngles;S++)for(let b=0;b<P.numberOfVerticalAngles;b++)P.candelaValues[S][b]/=u;const w=180,f=360,O=new Float32Array(64800),e=P.horizontalAngles[0],Y=P.horizontalAngles[P.numberOfHorizontalAngles-1];for(let S=0;S<64800;S++){let b=S%f;const X=Math.floor(S/f);Y-e!==0&&(b<e||b>=Y)&&(b%=2*Y,b>Y&&(b=2*Y-b)),O[X+b*w]=N(P,X,b)}return{width:180,height:1,data:O}}(new Uint8Array(b.buffer,b.byteOffset,b.byteLength));P(Q.width,Q.height,!1,!1,(()=>{const b=X.getEngine();X.type=1,X.format=6,X._gammaSpace=!1,b._uploadDataToTextureDirectly(X,Q.data)}))}}},11844:(b,X,P)=>{function Q(b){return parseInt(b.toString().replace(/\W/g,""))}function S(b,X){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(b-X)<=P}function d(b,X,P){let Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return b<X-Q||b>P+Q}function N(b,X){return b===X?b:Math.random()*(X-b)+b}function a(b,X,P){return b+(X-b)*P}function u(b,X,P){let Q=t(X-b,360);return Q>180&&(Q-=360),b+Q*e(P)}function w(b,X,P){let Q=0;return Q=b!=X?e((P-b)/(X-b)):0,Q}function f(b,X,P,Q,S){const d=S*S,N=S*d;return b*(2*N-3*d+1)+P*(-2*N+3*d)+X*(N-2*d+S)+Q*(N-d)}function O(b,X,P,Q,S){const d=S*S;return 6*(d-S)*b+(3*d-4*S+1)*X+6*(-d+S)*P+(3*d-2*S)*Q}function e(b){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(P,Math.max(X,b))}function Y(b){return b-=2*Math.PI*Math.floor((b+Math.PI)/(2*Math.PI))}function D(b){const X=b.toString(16);return b<=15?("0"+X).toUpperCase():X.toUpperCase()}function E(b){if(Math.log2)return Math.floor(Math.log2(b));if(b<0)return NaN;if(0===b)return-1/0;let X=0;if(b<1){for(;b<1;)X++,b*=2;X=-X}else if(b>1)for(;b>1;)X++,b=Math.floor(b/2);return X}function t(b,X){return b-Math.floor(b/X)*X}function B(b,X,P){return(b-X)/(P-X)}function W(b,X,P){return b*(P-X)+X}function n(b,X){let P=t(X-b,360);return P>180&&(P-=360),P}function y(b,X){const P=t(b,2*X);return X-Math.abs(P-X)}function h(b,X,P){let Q=e(P);return Q=-2*Q*Q*Q+3*Q*Q,X*Q+b*(1-Q)}function L(b,X,P){let Q=0;return Q=Math.abs(X-b)<=P?X:b+Math.sign(X-b)*P,Q}function Z(b,X,P){const Q=n(b,X);let S=0;return S=-P<Q&&Q<P?X:L(b,X=b+Q,P),S}function v(b,X,P){return(b-X)/(P-X)}function A(b,X,P){return(P-X)*b+X}function o(b,X){const P=b%X;return 0===P?X:o(X,P)}P.r(X),P.d(X,{Clamp:()=>e,DeltaAngle:()=>n,Denormalize:()=>W,ExtractAsInt:()=>Q,Hermite:()=>f,Hermite1stDerivative:()=>O,HighestCommonFactor:()=>o,ILog2:()=>E,InverseLerp:()=>w,Lerp:()=>a,LerpAngle:()=>u,MoveTowards:()=>L,MoveTowardsAngle:()=>Z,Normalize:()=>B,NormalizeRadians:()=>Y,OutsideRange:()=>d,PercentToRange:()=>A,PingPong:()=>y,RandomRange:()=>N,RangeToPercent:()=>v,Repeat:()=>t,SmoothStep:()=>h,ToHex:()=>D,WithinEpsilon:()=>S})}}]);