"use strict";(self.yg1iw12lizp=self.yg1iw12lizp||[]).push([[15],{15047:(L,U,x)=>{x.r(U),x.d(U,{_IESTextureLoader:()=>a});var mL=x(12610);function p(L){return L.split(" ").filter((L=>""!==L)).map((L=>parseFloat(L)))}function G(L,U,x){for(;x.length!==U;){const U=p(L.lines[L.index++]);x.push(...U)}}function F(L,U,x){let p=0,G=0,F=0,a=0,o=0,A=0;for(let mL=0;mL<L.numberOfHorizontalAngles-1;mL++)if(x<L.horizontalAngles[mL+1]||mL===L.numberOfHorizontalAngles-2){G=mL,F=L.horizontalAngles[mL],a=L.horizontalAngles[mL+1];break}for(let mL=0;mL<L.numberOfVerticalAngles-1;mL++)if(U<L.verticalAngles[mL+1]||mL===L.numberOfVerticalAngles-2){p=mL,o=L.verticalAngles[mL],A=L.verticalAngles[mL+1];break}const r=a-F,h=A-o;if(0===h)return 0;const b=0===r?0:(x-F)/r,E=(U-o)/h,Y=0===r?G:G+1,S=(0,mL.Lerp)(L.candelaValues[G][p],L.candelaValues[Y][p],b),V=(0,mL.Lerp)(L.candelaValues[G][p+1],L.candelaValues[Y][p+1],b);return(0,mL.Lerp)(S,V,E)}class a{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(L,U,x){const mL=function(L){const U={lines:new TextDecoder("utf-8").decode(L).split("\n"),index:0},x={version:U.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(U.index=1;U.lines.length>0&&!U.lines[U.index].includes("TILT=");)U.index++;U.lines[U.index].includes("INCLUDE"),U.index++;const mL=p(U.lines[U.index++]);x.numberOfLights=mL[0],x.lumensPerLamp=mL[1],x.candelaMultiplier=mL[2],x.numberOfVerticalAngles=mL[3],x.numberOfHorizontalAngles=mL[4],x.photometricType=mL[5],x.unitsType=mL[6],x.width=mL[7],x.length=mL[8],x.height=mL[9];const a=p(U.lines[U.index++]);x.ballastFactor=a[0],x.fileGenerationType=a[1],x.inputWatts=a[2];for(let p=0;p<x.numberOfHorizontalAngles;p++)x.candelaValues[p]=[];G(U,x.numberOfVerticalAngles,x.verticalAngles),G(U,x.numberOfHorizontalAngles,x.horizontalAngles);for(let p=0;p<x.numberOfHorizontalAngles;p++)G(U,x.numberOfVerticalAngles,x.candelaValues[p]);let o=-1;for(let p=0;p<x.numberOfHorizontalAngles;p++)for(let L=0;L<x.numberOfVerticalAngles;L++)x.candelaValues[p][L]*=x.candelaValues[p][L]*x.candelaMultiplier*x.ballastFactor*x.fileGenerationType,o=Math.max(o,x.candelaValues[p][L]);if(o>0)for(let p=0;p<x.numberOfHorizontalAngles;p++)for(let L=0;L<x.numberOfVerticalAngles;L++)x.candelaValues[p][L]/=o;const A=180,r=360,h=new Float32Array(64800),b=x.horizontalAngles[0],E=x.horizontalAngles[x.numberOfHorizontalAngles-1];for(let p=0;p<64800;p++){let L=p%r;const U=Math.floor(p/r);E-b!==0&&(L<b||L>=E)&&(L%=2*E,L>E&&(L=2*E-L)),h[U+L*A]=F(x,U,L)}return{width:180,height:1,data:h}}(new Uint8Array(L.buffer,L.byteOffset,L.byteLength));x(mL.width,mL.height,!1,!1,(()=>{const L=U.getEngine();U.type=1,U.format=6,U._gammaSpace=!1,L._uploadDataToTextureDirectly(U,mL.data)}))}}},12610:(L,U,x)=>{function mL(L){return parseInt(L.toString().replace(/\W/g,""))}function p(L,U){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(L-U)<=x}function G(L,U,x){let mL=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return L<U-mL||L>x+mL}function F(L,U){return L===U?L:Math.random()*(U-L)+L}function a(L,U,x){return L+(U-L)*x}function o(L,U,x){let mL=V(U-L,360);return mL>180&&(mL-=360),L+mL*b(x)}function A(L,U,x){let mL=0;return mL=L!=U?b((x-L)/(U-L)):0,mL}function r(L,U,x,mL,p){const G=p*p,F=p*G;return L*(2*F-3*G+1)+x*(-2*F+3*G)+U*(F-2*G+p)+mL*(F-G)}function h(L,U,x,mL,p){const G=p*p;return 6*(G-p)*L+(3*G-4*p+1)*U+6*(-G+p)*x+(3*G-2*p)*mL}function b(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(x,Math.max(U,L))}function E(L){return L-=2*Math.PI*Math.floor((L+Math.PI)/(2*Math.PI))}function Y(L){const U=L.toString(16);return L<=15?("0"+U).toUpperCase():U.toUpperCase()}function S(L){if(Math.log2)return Math.floor(Math.log2(L));if(L<0)return NaN;if(0===L)return-1/0;let U=0;if(L<1){for(;L<1;)U++,L*=2;U=-U}else if(L>1)for(;L>1;)U++,L=Math.floor(L/2);return U}function V(L,U){return L-Math.floor(L/U)*U}function H(L,U,x){return(L-U)/(x-U)}function Q(L,U,x){return L*(x-U)+U}function q(L,U){let x=V(U-L,360);return x>180&&(x-=360),x}function f(L,U){const x=V(L,2*U);return U-Math.abs(x-U)}function v(L,U,x){let mL=b(x);return mL=-2*mL*mL*mL+3*mL*mL,U*mL+L*(1-mL)}function D(L,U,x){let mL=0;return mL=Math.abs(U-L)<=x?U:L+Math.sign(U-L)*x,mL}function P(L,U,x){const mL=q(L,U);let p=0;return p=-x<mL&&mL<x?U:D(L,U=L+mL,x),p}function d(L,U,x){return(L-U)/(x-U)}function K(L,U,x){return(x-U)*L+U}function l(L,U){const x=L%U;return 0===x?U:l(U,x)}x.r(U),x.d(U,{Clamp:()=>b,DeltaAngle:()=>q,Denormalize:()=>Q,ExtractAsInt:()=>mL,Hermite:()=>r,Hermite1stDerivative:()=>h,HighestCommonFactor:()=>l,ILog2:()=>S,InverseLerp:()=>A,Lerp:()=>a,LerpAngle:()=>o,MoveTowards:()=>D,MoveTowardsAngle:()=>P,Normalize:()=>H,NormalizeRadians:()=>E,OutsideRange:()=>G,PercentToRange:()=>K,PingPong:()=>f,RandomRange:()=>F,RangeToPercent:()=>d,Repeat:()=>V,SmoothStep:()=>v,ToHex:()=>Y,WithinEpsilon:()=>p})}}]);