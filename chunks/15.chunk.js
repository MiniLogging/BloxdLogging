"use strict";(self.pp3k1ov3ibi=self.pp3k1ov3ibi||[]).push([[15],{14825:(M,Z,P)=>{P.r(Z),P.d(Z,{_IESTextureLoader:()=>G});var x=P(12387);function c(M){return M.split(" ").filter((M=>""!==M)).map((M=>parseFloat(M)))}function w(M,Z,P){for(;P.length!==Z;){const Z=c(M.lines[M.index++]);P.push(...Z)}}function v(M,Z,P){let c=0,w=0,v=0,G=0,mM=0,K=0;for(let x=0;x<M.numberOfHorizontalAngles-1;x++)if(P<M.horizontalAngles[x+1]||x===M.numberOfHorizontalAngles-2){w=x,v=M.horizontalAngles[x],G=M.horizontalAngles[x+1];break}for(let x=0;x<M.numberOfVerticalAngles-1;x++)if(Z<M.verticalAngles[x+1]||x===M.numberOfVerticalAngles-2){c=x,mM=M.verticalAngles[x],K=M.verticalAngles[x+1];break}const d=G-v,O=K-mM;if(0===O)return 0;const H=0===d?0:(P-v)/d,j=(Z-mM)/O,B=0===d?w:w+1,U=(0,x.Lerp)(M.candelaValues[w][c],M.candelaValues[B][c],H),n=(0,x.Lerp)(M.candelaValues[w][c+1],M.candelaValues[B][c+1],H);return(0,x.Lerp)(U,n,j)}class G{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(M,Z,P){const x=function(M){const Z={lines:new TextDecoder("utf-8").decode(M).split("\n"),index:0},P={version:Z.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(Z.index=1;Z.lines.length>0&&!Z.lines[Z.index].includes("TILT=");)Z.index++;Z.lines[Z.index].includes("INCLUDE"),Z.index++;const x=c(Z.lines[Z.index++]);P.numberOfLights=x[0],P.lumensPerLamp=x[1],P.candelaMultiplier=x[2],P.numberOfVerticalAngles=x[3],P.numberOfHorizontalAngles=x[4],P.photometricType=x[5],P.unitsType=x[6],P.width=x[7],P.length=x[8],P.height=x[9];const G=c(Z.lines[Z.index++]);P.ballastFactor=G[0],P.fileGenerationType=G[1],P.inputWatts=G[2];for(let c=0;c<P.numberOfHorizontalAngles;c++)P.candelaValues[c]=[];w(Z,P.numberOfVerticalAngles,P.verticalAngles),w(Z,P.numberOfHorizontalAngles,P.horizontalAngles);for(let c=0;c<P.numberOfHorizontalAngles;c++)w(Z,P.numberOfVerticalAngles,P.candelaValues[c]);let mM=-1;for(let c=0;c<P.numberOfHorizontalAngles;c++)for(let M=0;M<P.numberOfVerticalAngles;M++)P.candelaValues[c][M]*=P.candelaValues[c][M]*P.candelaMultiplier*P.ballastFactor*P.fileGenerationType,mM=Math.max(mM,P.candelaValues[c][M]);if(mM>0)for(let c=0;c<P.numberOfHorizontalAngles;c++)for(let M=0;M<P.numberOfVerticalAngles;M++)P.candelaValues[c][M]/=mM;const K=180,d=360,O=new Float32Array(64800),H=P.horizontalAngles[0],j=P.horizontalAngles[P.numberOfHorizontalAngles-1];for(let c=0;c<64800;c++){let M=c%d;const Z=Math.floor(c/d);j-H!==0&&(M<H||M>=j)&&(M%=2*j,M>j&&(M=2*j-M)),O[Z+M*K]=v(P,Z,M)}return{width:180,height:1,data:O}}(new Uint8Array(M.buffer,M.byteOffset,M.byteLength));P(x.width,x.height,!1,!1,(()=>{const M=Z.getEngine();Z.type=1,Z.format=6,Z._gammaSpace=!1,M._uploadDataToTextureDirectly(Z,x.data)}))}}},12387:(M,Z,P)=>{function x(M){return parseInt(M.toString().replace(/\W/g,""))}function c(M,Z){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(M-Z)<=P}function w(M,Z,P){let x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return M<Z-x||M>P+x}function v(M,Z){return M===Z?M:Math.random()*(Z-M)+M}function G(M,Z,P){return M+(Z-M)*P}function mM(M,Z,P){let x=n(Z-M,360);return x>180&&(x-=360),M+x*H(P)}function K(M,Z,P){let x=0;return x=M!=Z?H((P-M)/(Z-M)):0,x}function d(M,Z,P,x,c){const w=c*c,v=c*w;return M*(2*v-3*w+1)+P*(-2*v+3*w)+Z*(v-2*w+c)+x*(v-w)}function O(M,Z,P,x,c){const w=c*c;return 6*(w-c)*M+(3*w-4*c+1)*Z+6*(-w+c)*P+(3*w-2*c)*x}function H(M){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(P,Math.max(Z,M))}function j(M){return M-=2*Math.PI*Math.floor((M+Math.PI)/(2*Math.PI))}function B(M){const Z=M.toString(16);return M<=15?("0"+Z).toUpperCase():Z.toUpperCase()}function U(M){if(Math.log2)return Math.floor(Math.log2(M));if(M<0)return NaN;if(0===M)return-1/0;let Z=0;if(M<1){for(;M<1;)Z++,M*=2;Z=-Z}else if(M>1)for(;M>1;)Z++,M=Math.floor(M/2);return Z}function n(M,Z){return M-Math.floor(M/Z)*Z}function L(M,Z,P){return(M-Z)/(P-Z)}function u(M,Z,P){return M*(P-Z)+Z}function N(M,Z){let P=n(Z-M,360);return P>180&&(P-=360),P}function J(M,Z){const P=n(M,2*Z);return Z-Math.abs(P-Z)}function t(M,Z,P){let x=H(P);return x=-2*x*x*x+3*x*x,Z*x+M*(1-x)}function F(M,Z,P){let x=0;return x=Math.abs(Z-M)<=P?Z:M+Math.sign(Z-M)*P,x}function D(M,Z,P){const x=N(M,Z);let c=0;return c=-P<x&&x<P?Z:F(M,Z=M+x,P),c}function l(M,Z,P){return(M-Z)/(P-Z)}function h(M,Z,P){return(P-Z)*M+Z}function Q(M,Z){const P=M%Z;return 0===P?Z:Q(Z,P)}P.r(Z),P.d(Z,{Clamp:()=>H,DeltaAngle:()=>N,Denormalize:()=>u,ExtractAsInt:()=>x,Hermite:()=>d,Hermite1stDerivative:()=>O,HighestCommonFactor:()=>Q,ILog2:()=>U,InverseLerp:()=>K,Lerp:()=>G,LerpAngle:()=>mM,MoveTowards:()=>F,MoveTowardsAngle:()=>D,Normalize:()=>L,NormalizeRadians:()=>j,OutsideRange:()=>w,PercentToRange:()=>h,PingPong:()=>J,RandomRange:()=>v,RangeToPercent:()=>l,Repeat:()=>n,SmoothStep:()=>t,ToHex:()=>B,WithinEpsilon:()=>c})}}]);