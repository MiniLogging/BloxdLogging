"use strict";(self.bbj0x35f849=self.bbj0x35f849||[]).push([[15],{13522:(N,q,C)=>{C.r(q),C.d(q,{_IESTextureLoader:()=>F});var d=C(11142);function U(N){return N.split(" ").filter((N=>""!==N)).map((N=>parseFloat(N)))}function W(N,q,C){for(;C.length!==q;){const q=U(N.lines[N.index++]);C.push(...q)}}function a(N,q,C){let U=0,W=0,a=0,F=0,w=0,A=0;for(let d=0;d<N.numberOfHorizontalAngles-1;d++)if(C<N.horizontalAngles[d+1]||d===N.numberOfHorizontalAngles-2){W=d,a=N.horizontalAngles[d],F=N.horizontalAngles[d+1];break}for(let d=0;d<N.numberOfVerticalAngles-1;d++)if(q<N.verticalAngles[d+1]||d===N.numberOfVerticalAngles-2){U=d,w=N.verticalAngles[d],A=N.verticalAngles[d+1];break}const n=F-a,t=A-w;if(0===t)return 0;const V=0===n?0:(C-a)/n,Z=(q-w)/t,J=0===n?W:W+1,Q=(0,d.Lerp)(N.candelaValues[W][U],N.candelaValues[J][U],V),v=(0,d.Lerp)(N.candelaValues[W][U+1],N.candelaValues[J][U+1],V);return(0,d.Lerp)(Q,v,Z)}class F{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(N,q,C){const d=function(N){const q={lines:new TextDecoder("utf-8").decode(N).split("\n"),index:0},C={version:q.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(q.index=1;q.lines.length>0&&!q.lines[q.index].includes("TILT=");)q.index++;q.lines[q.index].includes("INCLUDE"),q.index++;const d=U(q.lines[q.index++]);C.numberOfLights=d[0],C.lumensPerLamp=d[1],C.candelaMultiplier=d[2],C.numberOfVerticalAngles=d[3],C.numberOfHorizontalAngles=d[4],C.photometricType=d[5],C.unitsType=d[6],C.width=d[7],C.length=d[8],C.height=d[9];const F=U(q.lines[q.index++]);C.ballastFactor=F[0],C.fileGenerationType=F[1],C.inputWatts=F[2];for(let U=0;U<C.numberOfHorizontalAngles;U++)C.candelaValues[U]=[];W(q,C.numberOfVerticalAngles,C.verticalAngles),W(q,C.numberOfHorizontalAngles,C.horizontalAngles);for(let U=0;U<C.numberOfHorizontalAngles;U++)W(q,C.numberOfVerticalAngles,C.candelaValues[U]);let w=-1;for(let U=0;U<C.numberOfHorizontalAngles;U++)for(let N=0;N<C.numberOfVerticalAngles;N++)C.candelaValues[U][N]*=C.candelaValues[U][N]*C.candelaMultiplier*C.ballastFactor*C.fileGenerationType,w=Math.max(w,C.candelaValues[U][N]);if(w>0)for(let U=0;U<C.numberOfHorizontalAngles;U++)for(let N=0;N<C.numberOfVerticalAngles;N++)C.candelaValues[U][N]/=w;const A=180,n=360,t=new Float32Array(64800),V=C.horizontalAngles[0],Z=C.horizontalAngles[C.numberOfHorizontalAngles-1];for(let U=0;U<64800;U++){let N=U%n;const q=Math.floor(U/n);Z-V!==0&&(N<V||N>=Z)&&(N%=2*Z,N>Z&&(N=2*Z-N)),t[q+N*A]=a(C,q,N)}return{width:180,height:1,data:t}}(new Uint8Array(N.buffer,N.byteOffset,N.byteLength));C(d.width,d.height,!1,!1,(()=>{const N=q.getEngine();q.type=1,q.format=6,q._gammaSpace=!1,N._uploadDataToTextureDirectly(q,d.data)}))}}},11142:(N,q,C)=>{function d(N){return parseInt(N.toString().replace(/\W/g,""))}function U(N,q){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(N-q)<=C}function W(N,q,C){let d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return N<q-d||N>C+d}function a(N,q){return N===q?N:Math.random()*(q-N)+N}function F(N,q,C){return N+(q-N)*C}function w(N,q,C){let d=v(q-N,360);return d>180&&(d-=360),N+d*V(C)}function A(N,q,C){let d=0;return d=N!=q?V((C-N)/(q-N)):0,d}function n(N,q,C,d,U){const W=U*U,a=U*W;return N*(2*a-3*W+1)+C*(-2*a+3*W)+q*(a-2*W+U)+d*(a-W)}function t(N,q,C,d,U){const W=U*U;return 6*(W-U)*N+(3*W-4*U+1)*q+6*(-W+U)*C+(3*W-2*U)*d}function V(N){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(C,Math.max(q,N))}function Z(N){return N-=2*Math.PI*Math.floor((N+Math.PI)/(2*Math.PI))}function J(N){const q=N.toString(16);return N<=15?("0"+q).toUpperCase():q.toUpperCase()}function Q(N){if(Math.log2)return Math.floor(Math.log2(N));if(N<0)return NaN;if(0===N)return-1/0;let q=0;if(N<1){for(;N<1;)q++,N*=2;q=-q}else if(N>1)for(;N>1;)q++,N=Math.floor(N/2);return q}function v(N,q){return N-Math.floor(N/q)*q}function r(N,q,C){return(N-q)/(C-q)}function O(N,q,C){return N*(C-q)+q}function K(N,q){let C=v(q-N,360);return C>180&&(C-=360),C}function i(N,q){const C=v(N,2*q);return q-Math.abs(C-q)}function I(N,q,C){let d=V(C);return d=-2*d*d*d+3*d*d,q*d+N*(1-d)}function j(N,q,C){let d=0;return d=Math.abs(q-N)<=C?q:N+Math.sign(q-N)*C,d}function l(N,q,C){const d=K(N,q);let U=0;return U=-C<d&&d<C?q:j(N,q=N+d,C),U}function T(N,q,C){return(N-q)/(C-q)}function z(N,q,C){return(C-q)*N+q}function p(N,q){const C=N%q;return 0===C?q:p(q,C)}C.r(q),C.d(q,{Clamp:()=>V,DeltaAngle:()=>K,Denormalize:()=>O,ExtractAsInt:()=>d,Hermite:()=>n,Hermite1stDerivative:()=>t,HighestCommonFactor:()=>p,ILog2:()=>Q,InverseLerp:()=>A,Lerp:()=>F,LerpAngle:()=>w,MoveTowards:()=>j,MoveTowardsAngle:()=>l,Normalize:()=>r,NormalizeRadians:()=>Z,OutsideRange:()=>W,PercentToRange:()=>z,PingPong:()=>i,RandomRange:()=>a,RangeToPercent:()=>T,Repeat:()=>v,SmoothStep:()=>I,ToHex:()=>J,WithinEpsilon:()=>U})}}]);