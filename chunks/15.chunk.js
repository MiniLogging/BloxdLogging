"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[15],{14974:(z,u,U)=>{U.r(u),U.d(u,{_IESTextureLoader:()=>w});var J=U(12935);function v(z){return z.split(" ").filter((z=>""!==z)).map((z=>parseFloat(z)))}function f(z,u,U){for(;U.length!==u;){const u=v(z.lines[z.index++]);U.push(...u)}}function g(z,u,U){let v=0,f=0,g=0,w=0,P=0,R=0;for(let J=0;J<z.numberOfHorizontalAngles-1;J++)if(U<z.horizontalAngles[J+1]||J===z.numberOfHorizontalAngles-2){f=J,g=z.horizontalAngles[J],w=z.horizontalAngles[J+1];break}for(let J=0;J<z.numberOfVerticalAngles-1;J++)if(u<z.verticalAngles[J+1]||J===z.numberOfVerticalAngles-2){v=J,P=z.verticalAngles[J],R=z.verticalAngles[J+1];break}const S=w-g,d=R-P;if(0===d)return 0;const mz=0===S?0:(U-g)/S,Z=(u-P)/d,A=0===S?f:f+1,E=(0,J.Lerp)(z.candelaValues[f][v],z.candelaValues[A][v],mz),C=(0,J.Lerp)(z.candelaValues[f][v+1],z.candelaValues[A][v+1],mz);return(0,J.Lerp)(E,C,Z)}class w{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(z,u,U){const J=function(z){const u={lines:new TextDecoder("utf-8").decode(z).split("\n"),index:0},U={version:u.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(u.index=1;u.lines.length>0&&!u.lines[u.index].includes("TILT=");)u.index++;u.lines[u.index].includes("INCLUDE"),u.index++;const J=v(u.lines[u.index++]);U.numberOfLights=J[0],U.lumensPerLamp=J[1],U.candelaMultiplier=J[2],U.numberOfVerticalAngles=J[3],U.numberOfHorizontalAngles=J[4],U.photometricType=J[5],U.unitsType=J[6],U.width=J[7],U.length=J[8],U.height=J[9];const w=v(u.lines[u.index++]);U.ballastFactor=w[0],U.fileGenerationType=w[1],U.inputWatts=w[2];for(let v=0;v<U.numberOfHorizontalAngles;v++)U.candelaValues[v]=[];f(u,U.numberOfVerticalAngles,U.verticalAngles),f(u,U.numberOfHorizontalAngles,U.horizontalAngles);for(let v=0;v<U.numberOfHorizontalAngles;v++)f(u,U.numberOfVerticalAngles,U.candelaValues[v]);let P=-1;for(let v=0;v<U.numberOfHorizontalAngles;v++)for(let z=0;z<U.numberOfVerticalAngles;z++)U.candelaValues[v][z]*=U.candelaValues[v][z]*U.candelaMultiplier*U.ballastFactor*U.fileGenerationType,P=Math.max(P,U.candelaValues[v][z]);if(P>0)for(let v=0;v<U.numberOfHorizontalAngles;v++)for(let z=0;z<U.numberOfVerticalAngles;z++)U.candelaValues[v][z]/=P;const R=180,S=360,d=new Float32Array(64800),mz=U.horizontalAngles[0],Z=U.horizontalAngles[U.numberOfHorizontalAngles-1];for(let v=0;v<64800;v++){let z=v%S;const u=Math.floor(v/S);Z-mz!==0&&(z<mz||z>=Z)&&(z%=2*Z,z>Z&&(z=2*Z-z)),d[u+z*R]=g(U,u,z)}return{width:180,height:1,data:d}}(new Uint8Array(z.buffer,z.byteOffset,z.byteLength));U(J.width,J.height,!1,!1,(()=>{const z=u.getEngine();u.type=1,u.format=6,u._gammaSpace=!1,z._uploadDataToTextureDirectly(u,J.data)}))}}},12935:(z,u,U)=>{function J(z){return parseInt(z.toString().replace(/\W/g,""))}function v(z,u){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(z-u)<=U}function f(z,u,U){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return z<u-J||z>U+J}function g(z,u){return z===u?z:Math.random()*(u-z)+z}function w(z,u,U){return z+(u-z)*U}function P(z,u,U){let J=C(u-z,360);return J>180&&(J-=360),z+J*mz(U)}function R(z,u,U){let J=0;return J=z!=u?mz((U-z)/(u-z)):0,J}function S(z,u,U,J,v){const f=v*v,g=v*f;return z*(2*g-3*f+1)+U*(-2*g+3*f)+u*(g-2*f+v)+J*(g-f)}function d(z,u,U,J,v){const f=v*v;return 6*(f-v)*z+(3*f-4*v+1)*u+6*(-f+v)*U+(3*f-2*v)*J}function mz(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(U,Math.max(u,z))}function Z(z){return z-=2*Math.PI*Math.floor((z+Math.PI)/(2*Math.PI))}function A(z){const u=z.toString(16);return z<=15?("0"+u).toUpperCase():u.toUpperCase()}function E(z){if(Math.log2)return Math.floor(Math.log2(z));if(z<0)return NaN;if(0===z)return-1/0;let u=0;if(z<1){for(;z<1;)u++,z*=2;u=-u}else if(z>1)for(;z>1;)u++,z=Math.floor(z/2);return u}function C(z,u){return z-Math.floor(z/u)*u}function r(z,u,U){return(z-u)/(U-u)}function M(z,u,U){return z*(U-u)+u}function T(z,u){let U=C(u-z,360);return U>180&&(U-=360),U}function X(z,u){const U=C(z,2*u);return u-Math.abs(U-u)}function h(z,u,U){let J=mz(U);return J=-2*J*J*J+3*J*J,u*J+z*(1-J)}function t(z,u,U){let J=0;return J=Math.abs(u-z)<=U?u:z+Math.sign(u-z)*U,J}function V(z,u,U){const J=T(z,u);let v=0;return v=-U<J&&J<U?u:t(z,u=z+J,U),v}function L(z,u,U){return(z-u)/(U-u)}function O(z,u,U){return(U-u)*z+u}function x(z,u){const U=z%u;return 0===U?u:x(u,U)}U.r(u),U.d(u,{Clamp:()=>mz,DeltaAngle:()=>T,Denormalize:()=>M,ExtractAsInt:()=>J,Hermite:()=>S,Hermite1stDerivative:()=>d,HighestCommonFactor:()=>x,ILog2:()=>E,InverseLerp:()=>R,Lerp:()=>w,LerpAngle:()=>P,MoveTowards:()=>t,MoveTowardsAngle:()=>V,Normalize:()=>r,NormalizeRadians:()=>Z,OutsideRange:()=>f,PercentToRange:()=>O,PingPong:()=>X,RandomRange:()=>g,RangeToPercent:()=>L,Repeat:()=>C,SmoothStep:()=>h,ToHex:()=>A,WithinEpsilon:()=>v})}}]);