"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[15],{13995:(w,E,G)=>{G.r(E),G.d(E,{_IESTextureLoader:()=>x});var P=G(11689);function h(w){return w.split(" ").filter((w=>""!==w)).map((w=>parseFloat(w)))}function B(w,E,G){for(;G.length!==E;){const E=h(w.lines[w.index++]);G.push(...E)}}function y(w,E,G){let h=0,B=0,y=0,x=0,U=0,l=0;for(let P=0;P<w.numberOfHorizontalAngles-1;P++)if(G<w.horizontalAngles[P+1]||P===w.numberOfHorizontalAngles-2){B=P,y=w.horizontalAngles[P],x=w.horizontalAngles[P+1];break}for(let P=0;P<w.numberOfVerticalAngles-1;P++)if(E<w.verticalAngles[P+1]||P===w.numberOfVerticalAngles-2){h=P,U=w.verticalAngles[P],l=w.verticalAngles[P+1];break}const i=x-y,O=l-U;if(0===O)return 0;const u=0===i?0:(G-y)/i,V=(E-U)/O,a=0===i?B:B+1,Q=(0,P.Lerp)(w.candelaValues[B][h],w.candelaValues[a][h],u),c=(0,P.Lerp)(w.candelaValues[B][h+1],w.candelaValues[a][h+1],u);return(0,P.Lerp)(Q,c,V)}class x{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(w,E,G){const P=function(w){const E={lines:new TextDecoder("utf-8").decode(w).split("\n"),index:0},G={version:E.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(E.index=1;E.lines.length>0&&!E.lines[E.index].includes("TILT=");)E.index++;E.lines[E.index].includes("INCLUDE"),E.index++;const P=h(E.lines[E.index++]);G.numberOfLights=P[0],G.lumensPerLamp=P[1],G.candelaMultiplier=P[2],G.numberOfVerticalAngles=P[3],G.numberOfHorizontalAngles=P[4],G.photometricType=P[5],G.unitsType=P[6],G.width=P[7],G.length=P[8],G.height=P[9];const x=h(E.lines[E.index++]);G.ballastFactor=x[0],G.fileGenerationType=x[1],G.inputWatts=x[2];for(let h=0;h<G.numberOfHorizontalAngles;h++)G.candelaValues[h]=[];B(E,G.numberOfVerticalAngles,G.verticalAngles),B(E,G.numberOfHorizontalAngles,G.horizontalAngles);for(let h=0;h<G.numberOfHorizontalAngles;h++)B(E,G.numberOfVerticalAngles,G.candelaValues[h]);let U=-1;for(let h=0;h<G.numberOfHorizontalAngles;h++)for(let w=0;w<G.numberOfVerticalAngles;w++)G.candelaValues[h][w]*=G.candelaValues[h][w]*G.candelaMultiplier*G.ballastFactor*G.fileGenerationType,U=Math.max(U,G.candelaValues[h][w]);if(U>0)for(let h=0;h<G.numberOfHorizontalAngles;h++)for(let w=0;w<G.numberOfVerticalAngles;w++)G.candelaValues[h][w]/=U;const l=180,i=360,O=new Float32Array(64800),u=G.horizontalAngles[0],V=G.horizontalAngles[G.numberOfHorizontalAngles-1];for(let h=0;h<64800;h++){let w=h%i;const E=Math.floor(h/i);V-u!==0&&(w<u||w>=V)&&(w%=2*V,w>V&&(w=2*V-w)),O[E+w*l]=y(G,E,w)}return{width:180,height:1,data:O}}(new Uint8Array(w.buffer,w.byteOffset,w.byteLength));G(P.width,P.height,!1,!1,(()=>{const w=E.getEngine();E.type=1,E.format=6,E._gammaSpace=!1,w._uploadDataToTextureDirectly(E,P.data)}))}}},11689:(w,E,G)=>{function P(w){return parseInt(w.toString().replace(/\W/g,""))}function h(w,E){let G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(w-E)<=G}function B(w,E,G){let P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return w<E-P||w>G+P}function y(w,E){return w===E?w:Math.random()*(E-w)+w}function x(w,E,G){return w+(E-w)*G}function U(w,E,G){let P=c(E-w,360);return P>180&&(P-=360),w+P*u(G)}function l(w,E,G){let P=0;return P=w!=E?u((G-w)/(E-w)):0,P}function i(w,E,G,P,h){const B=h*h,y=h*B;return w*(2*y-3*B+1)+G*(-2*y+3*B)+E*(y-2*B+h)+P*(y-B)}function O(w,E,G,P,h){const B=h*h;return 6*(B-h)*w+(3*B-4*h+1)*E+6*(-B+h)*G+(3*B-2*h)*P}function u(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(G,Math.max(E,w))}function V(w){return w-=2*Math.PI*Math.floor((w+Math.PI)/(2*Math.PI))}function a(w){const E=w.toString(16);return w<=15?("0"+E).toUpperCase():E.toUpperCase()}function Q(w){if(Math.log2)return Math.floor(Math.log2(w));if(w<0)return NaN;if(0===w)return-1/0;let E=0;if(w<1){for(;w<1;)E++,w*=2;E=-E}else if(w>1)for(;w>1;)E++,w=Math.floor(w/2);return E}function c(w,E){return w-Math.floor(w/E)*E}function Z(w,E,G){return(w-E)/(G-E)}function J(w,E,G){return w*(G-E)+E}function d(w,E){let G=c(E-w,360);return G>180&&(G-=360),G}function K(w,E){const G=c(w,2*E);return E-Math.abs(G-E)}function t(w,E,G){let P=u(G);return P=-2*P*P*P+3*P*P,E*P+w*(1-P)}function q(w,E,G){let P=0;return P=Math.abs(E-w)<=G?E:w+Math.sign(E-w)*G,P}function W(w,E,G){const P=d(w,E);let h=0;return h=-G<P&&P<G?E:q(w,E=w+P,G),h}function T(w,E,G){return(w-E)/(G-E)}function I(w,E,G){return(G-E)*w+E}function j(w,E){const G=w%E;return 0===G?E:j(E,G)}G.r(E),G.d(E,{Clamp:()=>u,DeltaAngle:()=>d,Denormalize:()=>J,ExtractAsInt:()=>P,Hermite:()=>i,Hermite1stDerivative:()=>O,HighestCommonFactor:()=>j,ILog2:()=>Q,InverseLerp:()=>l,Lerp:()=>x,LerpAngle:()=>U,MoveTowards:()=>q,MoveTowardsAngle:()=>W,Normalize:()=>Z,NormalizeRadians:()=>V,OutsideRange:()=>B,PercentToRange:()=>I,PingPong:()=>K,RandomRange:()=>y,RangeToPercent:()=>T,Repeat:()=>c,SmoothStep:()=>t,ToHex:()=>a,WithinEpsilon:()=>h})}}]);