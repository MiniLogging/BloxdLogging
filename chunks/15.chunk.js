"use strict";(self.mo7o6813fhb=self.mo7o6813fhb||[]).push([[15],{14595:(t,U,y)=>{y.r(U),y.d(U,{_IESTextureLoader:()=>X});var I=y(12404);function r(t){return t.split(" ").filter((t=>""!==t)).map((t=>parseFloat(t)))}function Y(t,U,y){for(;y.length!==U;){const U=r(t.lines[t.index++]);y.push(...U)}}function mt(t,U,y){let r=0,Y=0,mt=0,X=0,P=0,G=0;for(let I=0;I<t.numberOfHorizontalAngles-1;I++)if(y<t.horizontalAngles[I+1]||I===t.numberOfHorizontalAngles-2){Y=I,mt=t.horizontalAngles[I],X=t.horizontalAngles[I+1];break}for(let I=0;I<t.numberOfVerticalAngles-1;I++)if(U<t.verticalAngles[I+1]||I===t.numberOfVerticalAngles-2){r=I,P=t.verticalAngles[I],G=t.verticalAngles[I+1];break}const M=X-mt,L=G-P;if(0===L)return 0;const h=0===M?0:(y-mt)/M,Q=(U-P)/L,F=0===M?Y:Y+1,E=(0,I.Lerp)(t.candelaValues[Y][r],t.candelaValues[F][r],h),w=(0,I.Lerp)(t.candelaValues[Y][r+1],t.candelaValues[F][r+1],h);return(0,I.Lerp)(E,w,Q)}class X{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(t,U,y){const I=function(t){const U={lines:new TextDecoder("utf-8").decode(t).split("\n"),index:0},y={version:U.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(U.index=1;U.lines.length>0&&!U.lines[U.index].includes("TILT=");)U.index++;U.lines[U.index].includes("INCLUDE"),U.index++;const I=r(U.lines[U.index++]);y.numberOfLights=I[0],y.lumensPerLamp=I[1],y.candelaMultiplier=I[2],y.numberOfVerticalAngles=I[3],y.numberOfHorizontalAngles=I[4],y.photometricType=I[5],y.unitsType=I[6],y.width=I[7],y.length=I[8],y.height=I[9];const X=r(U.lines[U.index++]);y.ballastFactor=X[0],y.fileGenerationType=X[1],y.inputWatts=X[2];for(let r=0;r<y.numberOfHorizontalAngles;r++)y.candelaValues[r]=[];Y(U,y.numberOfVerticalAngles,y.verticalAngles),Y(U,y.numberOfHorizontalAngles,y.horizontalAngles);for(let r=0;r<y.numberOfHorizontalAngles;r++)Y(U,y.numberOfVerticalAngles,y.candelaValues[r]);let P=-1;for(let r=0;r<y.numberOfHorizontalAngles;r++)for(let t=0;t<y.numberOfVerticalAngles;t++)y.candelaValues[r][t]*=y.candelaValues[r][t]*y.candelaMultiplier*y.ballastFactor*y.fileGenerationType,P=Math.max(P,y.candelaValues[r][t]);if(P>0)for(let r=0;r<y.numberOfHorizontalAngles;r++)for(let t=0;t<y.numberOfVerticalAngles;t++)y.candelaValues[r][t]/=P;const G=180,M=360,L=new Float32Array(64800),h=y.horizontalAngles[0],Q=y.horizontalAngles[y.numberOfHorizontalAngles-1];for(let r=0;r<64800;r++){let t=r%M;const U=Math.floor(r/M);Q-h!==0&&(t<h||t>=Q)&&(t%=2*Q,t>Q&&(t=2*Q-t)),L[U+t*G]=mt(y,U,t)}return{width:180,height:1,data:L}}(new Uint8Array(t.buffer,t.byteOffset,t.byteLength));y(I.width,I.height,!1,!1,(()=>{const t=U.getEngine();U.type=1,U.format=6,U._gammaSpace=!1,t._uploadDataToTextureDirectly(U,I.data)}))}}},12404:(t,U,y)=>{function I(t){return parseInt(t.toString().replace(/\W/g,""))}function r(t,U){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(t-U)<=y}function Y(t,U,y){let I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return t<U-I||t>y+I}function mt(t,U){return t===U?t:Math.random()*(U-t)+t}function X(t,U,y){return t+(U-t)*y}function P(t,U,y){let I=w(U-t,360);return I>180&&(I-=360),t+I*h(y)}function G(t,U,y){let I=0;return I=t!=U?h((y-t)/(U-t)):0,I}function M(t,U,y,I,r){const Y=r*r,mt=r*Y;return t*(2*mt-3*Y+1)+y*(-2*mt+3*Y)+U*(mt-2*Y+r)+I*(mt-Y)}function L(t,U,y,I,r){const Y=r*r;return 6*(Y-r)*t+(3*Y-4*r+1)*U+6*(-Y+r)*y+(3*Y-2*r)*I}function h(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(y,Math.max(U,t))}function Q(t){return t-=2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function F(t){const U=t.toString(16);return t<=15?("0"+U).toUpperCase():U.toUpperCase()}function E(t){if(Math.log2)return Math.floor(Math.log2(t));if(t<0)return NaN;if(0===t)return-1/0;let U=0;if(t<1){for(;t<1;)U++,t*=2;U=-U}else if(t>1)for(;t>1;)U++,t=Math.floor(t/2);return U}function w(t,U){return t-Math.floor(t/U)*U}function D(t,U,y){return(t-U)/(y-U)}function l(t,U,y){return t*(y-U)+U}function g(t,U){let y=w(U-t,360);return y>180&&(y-=360),y}function B(t,U){const y=w(t,2*U);return U-Math.abs(y-U)}function b(t,U,y){let I=h(y);return I=-2*I*I*I+3*I*I,U*I+t*(1-I)}function p(t,U,y){let I=0;return I=Math.abs(U-t)<=y?U:t+Math.sign(U-t)*y,I}function c(t,U,y){const I=g(t,U);let r=0;return r=-y<I&&I<y?U:p(t,U=t+I,y),r}function f(t,U,y){return(t-U)/(y-U)}function S(t,U,y){return(y-U)*t+U}function N(t,U){const y=t%U;return 0===y?U:N(U,y)}y.r(U),y.d(U,{Clamp:()=>h,DeltaAngle:()=>g,Denormalize:()=>l,ExtractAsInt:()=>I,Hermite:()=>M,Hermite1stDerivative:()=>L,HighestCommonFactor:()=>N,ILog2:()=>E,InverseLerp:()=>G,Lerp:()=>X,LerpAngle:()=>P,MoveTowards:()=>p,MoveTowardsAngle:()=>c,Normalize:()=>D,NormalizeRadians:()=>Q,OutsideRange:()=>Y,PercentToRange:()=>S,PingPong:()=>B,RandomRange:()=>mt,RangeToPercent:()=>f,Repeat:()=>w,SmoothStep:()=>b,ToHex:()=>F,WithinEpsilon:()=>r})}}]);