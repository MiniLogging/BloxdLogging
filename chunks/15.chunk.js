"use strict";(self.qcdfysujsyf=self.qcdfysujsyf||[]).push([[15],{15123:(K,A,T)=>{T.r(A),T.d(A,{_IESTextureLoader:()=>O});var G=T(12716);function B(K){return K.split(" ").filter((K=>""!==K)).map((K=>parseFloat(K)))}function L(K,A,T){for(;T.length!==A;){const A=B(K.lines[K.index++]);T.push(...A)}}function f(K,A,T){let B=0,L=0,f=0,O=0,C=0,Q=0;for(let G=0;G<K.numberOfHorizontalAngles-1;G++)if(T<K.horizontalAngles[G+1]||G===K.numberOfHorizontalAngles-2){L=G,f=K.horizontalAngles[G],O=K.horizontalAngles[G+1];break}for(let G=0;G<K.numberOfVerticalAngles-1;G++)if(A<K.verticalAngles[G+1]||G===K.numberOfVerticalAngles-2){B=G,C=K.verticalAngles[G],Q=K.verticalAngles[G+1];break}const Y=O-f,Z=Q-C;if(0===Z)return 0;const x=0===Y?0:(T-f)/Y,J=(A-C)/Z,b=0===Y?L:L+1,P=(0,G.Lerp)(K.candelaValues[L][B],K.candelaValues[b][B],x),F=(0,G.Lerp)(K.candelaValues[L][B+1],K.candelaValues[b][B+1],x);return(0,G.Lerp)(P,F,J)}class O{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(K,A,T){const G=function(K){const A={lines:new TextDecoder("utf-8").decode(K).split("\n"),index:0},T={version:A.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(A.index=1;A.lines.length>0&&!A.lines[A.index].includes("TILT=");)A.index++;A.lines[A.index].includes("INCLUDE"),A.index++;const G=B(A.lines[A.index++]);T.numberOfLights=G[0],T.lumensPerLamp=G[1],T.candelaMultiplier=G[2],T.numberOfVerticalAngles=G[3],T.numberOfHorizontalAngles=G[4],T.photometricType=G[5],T.unitsType=G[6],T.width=G[7],T.length=G[8],T.height=G[9];const O=B(A.lines[A.index++]);T.ballastFactor=O[0],T.fileGenerationType=O[1],T.inputWatts=O[2];for(let B=0;B<T.numberOfHorizontalAngles;B++)T.candelaValues[B]=[];L(A,T.numberOfVerticalAngles,T.verticalAngles),L(A,T.numberOfHorizontalAngles,T.horizontalAngles);for(let B=0;B<T.numberOfHorizontalAngles;B++)L(A,T.numberOfVerticalAngles,T.candelaValues[B]);let C=-1;for(let B=0;B<T.numberOfHorizontalAngles;B++)for(let K=0;K<T.numberOfVerticalAngles;K++)T.candelaValues[B][K]*=T.candelaValues[B][K]*T.candelaMultiplier*T.ballastFactor*T.fileGenerationType,C=Math.max(C,T.candelaValues[B][K]);if(C>0)for(let B=0;B<T.numberOfHorizontalAngles;B++)for(let K=0;K<T.numberOfVerticalAngles;K++)T.candelaValues[B][K]/=C;const Q=180,Y=360,Z=new Float32Array(64800),x=T.horizontalAngles[0],J=T.horizontalAngles[T.numberOfHorizontalAngles-1];for(let B=0;B<64800;B++){let K=B%Y;const A=Math.floor(B/Y);J-x!==0&&(K<x||K>=J)&&(K%=2*J,K>J&&(K=2*J-K)),Z[A+K*Q]=f(T,A,K)}return{width:180,height:1,data:Z}}(new Uint8Array(K.buffer,K.byteOffset,K.byteLength));T(G.width,G.height,!1,!1,(()=>{const K=A.getEngine();A.type=1,A.format=6,A._gammaSpace=!1,K._uploadDataToTextureDirectly(A,G.data)}))}}},12716:(K,A,T)=>{function G(K){return parseInt(K.toString().replace(/\W/g,""))}function B(K,A){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(K-A)<=T}function L(K,A,T){let G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return K<A-G||K>T+G}function f(K,A){return K===A?K:Math.random()*(A-K)+K}function O(K,A,T){return K+(A-K)*T}function C(K,A,T){let G=F(A-K,360);return G>180&&(G-=360),K+G*x(T)}function Q(K,A,T){let G=0;return G=K!=A?x((T-K)/(A-K)):0,G}function Y(K,A,T,G,B){const L=B*B,f=B*L;return K*(2*f-3*L+1)+T*(-2*f+3*L)+A*(f-2*L+B)+G*(f-L)}function Z(K,A,T,G,B){const L=B*B;return 6*(L-B)*K+(3*L-4*B+1)*A+6*(-L+B)*T+(3*L-2*B)*G}function x(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(T,Math.max(A,K))}function J(K){return K-=2*Math.PI*Math.floor((K+Math.PI)/(2*Math.PI))}function b(K){const A=K.toString(16);return K<=15?("0"+A).toUpperCase():A.toUpperCase()}function P(K){if(Math.log2)return Math.floor(Math.log2(K));if(K<0)return NaN;if(0===K)return-1/0;let A=0;if(K<1){for(;K<1;)A++,K*=2;A=-A}else if(K>1)for(;K>1;)A++,K=Math.floor(K/2);return A}function F(K,A){return K-Math.floor(K/A)*A}function d(K,A,T){return(K-A)/(T-A)}function N(K,A,T){return K*(T-A)+A}function D(K,A){let T=F(A-K,360);return T>180&&(T-=360),T}function mK(K,A){const T=F(K,2*A);return A-Math.abs(T-A)}function U(K,A,T){let G=x(T);return G=-2*G*G*G+3*G*G,A*G+K*(1-G)}function z(K,A,T){let G=0;return G=Math.abs(A-K)<=T?A:K+Math.sign(A-K)*T,G}function g(K,A,T){const G=D(K,A);let B=0;return B=-T<G&&G<T?A:z(K,A=K+G,T),B}function S(K,A,T){return(K-A)/(T-A)}function l(K,A,T){return(T-A)*K+A}function u(K,A){const T=K%A;return 0===T?A:u(A,T)}T.r(A),T.d(A,{Clamp:()=>x,DeltaAngle:()=>D,Denormalize:()=>N,ExtractAsInt:()=>G,Hermite:()=>Y,Hermite1stDerivative:()=>Z,HighestCommonFactor:()=>u,ILog2:()=>P,InverseLerp:()=>Q,Lerp:()=>O,LerpAngle:()=>C,MoveTowards:()=>z,MoveTowardsAngle:()=>g,Normalize:()=>d,NormalizeRadians:()=>J,OutsideRange:()=>L,PercentToRange:()=>l,PingPong:()=>mK,RandomRange:()=>f,RangeToPercent:()=>S,Repeat:()=>F,SmoothStep:()=>U,ToHex:()=>b,WithinEpsilon:()=>B})}}]);