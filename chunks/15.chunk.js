"use strict";(self.uw9p3pwwsje=self.uw9p3pwwsje||[]).push([[15],{15150:(D,h,o)=>{o.r(h),o.d(h,{_IESTextureLoader:()=>R});var H=o(12842);function g(D){return D.split(" ").filter((D=>""!==D)).map((D=>parseFloat(D)))}function j(D,h,o){for(;o.length!==h;){const h=g(D.lines[D.index++]);o.push(...h)}}function M(D,h,o){let g=0,j=0,M=0,R=0,t=0,S=0;for(let H=0;H<D.numberOfHorizontalAngles-1;H++)if(o<D.horizontalAngles[H+1]||H===D.numberOfHorizontalAngles-2){j=H,M=D.horizontalAngles[H],R=D.horizontalAngles[H+1];break}for(let H=0;H<D.numberOfVerticalAngles-1;H++)if(h<D.verticalAngles[H+1]||H===D.numberOfVerticalAngles-2){g=H,t=D.verticalAngles[H],S=D.verticalAngles[H+1];break}const k=R-M,K=S-t;if(0===K)return 0;const Q=0===k?0:(o-M)/k,v=(h-t)/K,r=0===k?j:j+1,B=(0,H.Lerp)(D.candelaValues[j][g],D.candelaValues[r][g],Q),s=(0,H.Lerp)(D.candelaValues[j][g+1],D.candelaValues[r][g+1],Q);return(0,H.Lerp)(B,s,v)}class R{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(D,h,o){const H=function(D){const h={lines:new TextDecoder("utf-8").decode(D).split("\n"),index:0},o={version:h.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(h.index=1;h.lines.length>0&&!h.lines[h.index].includes("TILT=");)h.index++;h.lines[h.index].includes("INCLUDE"),h.index++;const H=g(h.lines[h.index++]);o.numberOfLights=H[0],o.lumensPerLamp=H[1],o.candelaMultiplier=H[2],o.numberOfVerticalAngles=H[3],o.numberOfHorizontalAngles=H[4],o.photometricType=H[5],o.unitsType=H[6],o.width=H[7],o.length=H[8],o.height=H[9];const R=g(h.lines[h.index++]);o.ballastFactor=R[0],o.fileGenerationType=R[1],o.inputWatts=R[2];for(let g=0;g<o.numberOfHorizontalAngles;g++)o.candelaValues[g]=[];j(h,o.numberOfVerticalAngles,o.verticalAngles),j(h,o.numberOfHorizontalAngles,o.horizontalAngles);for(let g=0;g<o.numberOfHorizontalAngles;g++)j(h,o.numberOfVerticalAngles,o.candelaValues[g]);let t=-1;for(let g=0;g<o.numberOfHorizontalAngles;g++)for(let D=0;D<o.numberOfVerticalAngles;D++)o.candelaValues[g][D]*=o.candelaValues[g][D]*o.candelaMultiplier*o.ballastFactor*o.fileGenerationType,t=Math.max(t,o.candelaValues[g][D]);if(t>0)for(let g=0;g<o.numberOfHorizontalAngles;g++)for(let D=0;D<o.numberOfVerticalAngles;D++)o.candelaValues[g][D]/=t;const S=180,k=360,K=new Float32Array(64800),Q=o.horizontalAngles[0],v=o.horizontalAngles[o.numberOfHorizontalAngles-1];for(let g=0;g<64800;g++){let D=g%k;const h=Math.floor(g/k);v-Q!==0&&(D<Q||D>=v)&&(D%=2*v,D>v&&(D=2*v-D)),K[h+D*S]=M(o,h,D)}return{width:180,height:1,data:K}}(new Uint8Array(D.buffer,D.byteOffset,D.byteLength));o(H.width,H.height,!1,!1,(()=>{const D=h.getEngine();h.type=1,h.format=6,h._gammaSpace=!1,D._uploadDataToTextureDirectly(h,H.data)}))}}},12842:(D,h,o)=>{function H(D){return parseInt(D.toString().replace(/\W/g,""))}function g(D,h){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(D-h)<=o}function j(D,h,o){let H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return D<h-H||D>o+H}function M(D,h){return D===h?D:Math.random()*(h-D)+D}function R(D,h,o){return D+(h-D)*o}function t(D,h,o){let H=s(h-D,360);return H>180&&(H-=360),D+H*Q(o)}function S(D,h,o){let H=0;return H=D!=h?Q((o-D)/(h-D)):0,H}function k(D,h,o,H,g){const j=g*g,M=g*j;return D*(2*M-3*j+1)+o*(-2*M+3*j)+h*(M-2*j+g)+H*(M-j)}function K(D,h,o,H,g){const j=g*g;return 6*(j-g)*D+(3*j-4*g+1)*h+6*(-j+g)*o+(3*j-2*g)*H}function Q(D){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(o,Math.max(h,D))}function v(D){return D-=2*Math.PI*Math.floor((D+Math.PI)/(2*Math.PI))}function r(D){const h=D.toString(16);return D<=15?("0"+h).toUpperCase():h.toUpperCase()}function B(D){if(Math.log2)return Math.floor(Math.log2(D));if(D<0)return NaN;if(0===D)return-1/0;let h=0;if(D<1){for(;D<1;)h++,D*=2;h=-h}else if(D>1)for(;D>1;)h++,D=Math.floor(D/2);return h}function s(D,h){return D-Math.floor(D/h)*h}function U(D,h,o){return(D-h)/(o-h)}function q(D,h,o){return D*(o-h)+h}function c(D,h){let o=s(h-D,360);return o>180&&(o-=360),o}function y(D,h){const o=s(D,2*h);return h-Math.abs(o-h)}function b(D,h,o){let H=Q(o);return H=-2*H*H*H+3*H*H,h*H+D*(1-H)}function i(D,h,o){let H=0;return H=Math.abs(h-D)<=o?h:D+Math.sign(h-D)*o,H}function G(D,h,o){const H=c(D,h);let g=0;return g=-o<H&&H<o?h:i(D,h=D+H,o),g}function N(D,h,o){return(D-h)/(o-h)}function J(D,h,o){return(o-h)*D+h}function O(D,h){const o=D%h;return 0===o?h:O(h,o)}o.r(h),o.d(h,{Clamp:()=>Q,DeltaAngle:()=>c,Denormalize:()=>q,ExtractAsInt:()=>H,Hermite:()=>k,Hermite1stDerivative:()=>K,HighestCommonFactor:()=>O,ILog2:()=>B,InverseLerp:()=>S,Lerp:()=>R,LerpAngle:()=>t,MoveTowards:()=>i,MoveTowardsAngle:()=>G,Normalize:()=>U,NormalizeRadians:()=>v,OutsideRange:()=>j,PercentToRange:()=>J,PingPong:()=>y,RandomRange:()=>M,RangeToPercent:()=>N,Repeat:()=>s,SmoothStep:()=>b,ToHex:()=>r,WithinEpsilon:()=>g})}}]);