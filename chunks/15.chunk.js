"use strict";(self["6xhfpmwgjr5"]=self["6xhfpmwgjr5"]||[]).push([[15],{15694:(P,a,R)=>{R.r(a),R.d(a,{_IESTextureLoader:()=>j});var S=R(12430);function A(P){return P.split(" ").filter((P=>""!==P)).map((P=>parseFloat(P)))}function Z(P,a,R){for(;R.length!==a;){const a=A(P.lines[P.index++]);R.push(...a)}}function p(P,a,R){let A=0,Z=0,p=0,j=0,U=0,Q=0;for(let S=0;S<P.numberOfHorizontalAngles-1;S++)if(R<P.horizontalAngles[S+1]||S===P.numberOfHorizontalAngles-2){Z=S,p=P.horizontalAngles[S],j=P.horizontalAngles[S+1];break}for(let S=0;S<P.numberOfVerticalAngles-1;S++)if(a<P.verticalAngles[S+1]||S===P.numberOfVerticalAngles-2){A=S,U=P.verticalAngles[S],Q=P.verticalAngles[S+1];break}const h=j-p,l=Q-U;if(0===l)return 0;const V=0===h?0:(R-p)/h,f=(a-U)/l,O=0===h?Z:Z+1,q=(0,S.Lerp)(P.candelaValues[Z][A],P.candelaValues[O][A],V),y=(0,S.Lerp)(P.candelaValues[Z][A+1],P.candelaValues[O][A+1],V);return(0,S.Lerp)(q,y,f)}class j{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(P,a,R){const S=function(P){const a={lines:new TextDecoder("utf-8").decode(P).split("\n"),index:0},R={version:a.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(a.index=1;a.lines.length>0&&!a.lines[a.index].includes("TILT=");)a.index++;a.lines[a.index].includes("INCLUDE"),a.index++;const S=A(a.lines[a.index++]);R.numberOfLights=S[0],R.lumensPerLamp=S[1],R.candelaMultiplier=S[2],R.numberOfVerticalAngles=S[3],R.numberOfHorizontalAngles=S[4],R.photometricType=S[5],R.unitsType=S[6],R.width=S[7],R.length=S[8],R.height=S[9];const j=A(a.lines[a.index++]);R.ballastFactor=j[0],R.fileGenerationType=j[1],R.inputWatts=j[2];for(let A=0;A<R.numberOfHorizontalAngles;A++)R.candelaValues[A]=[];Z(a,R.numberOfVerticalAngles,R.verticalAngles),Z(a,R.numberOfHorizontalAngles,R.horizontalAngles);for(let A=0;A<R.numberOfHorizontalAngles;A++)Z(a,R.numberOfVerticalAngles,R.candelaValues[A]);let U=-1;for(let A=0;A<R.numberOfHorizontalAngles;A++)for(let P=0;P<R.numberOfVerticalAngles;P++)R.candelaValues[A][P]*=R.candelaValues[A][P]*R.candelaMultiplier*R.ballastFactor*R.fileGenerationType,U=Math.max(U,R.candelaValues[A][P]);if(U>0)for(let A=0;A<R.numberOfHorizontalAngles;A++)for(let P=0;P<R.numberOfVerticalAngles;P++)R.candelaValues[A][P]/=U;const Q=180,h=360,l=new Float32Array(64800),V=R.horizontalAngles[0],f=R.horizontalAngles[R.numberOfHorizontalAngles-1];for(let A=0;A<64800;A++){let P=A%h;const a=Math.floor(A/h);f-V!==0&&(P<V||P>=f)&&(P%=2*f,P>f&&(P=2*f-P)),l[a+P*Q]=p(R,a,P)}return{width:180,height:1,data:l}}(new Uint8Array(P.buffer,P.byteOffset,P.byteLength));R(S.width,S.height,!1,!1,(()=>{const P=a.getEngine();a.type=1,a.format=6,a._gammaSpace=!1,P._uploadDataToTextureDirectly(a,S.data)}))}}},12430:(P,a,R)=>{function S(P){return parseInt(P.toString().replace(/\W/g,""))}function A(P,a){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(P-a)<=R}function Z(P,a,R){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return P<a-S||P>R+S}function p(P,a){return P===a?P:Math.random()*(a-P)+P}function j(P,a,R){return P+(a-P)*R}function U(P,a,R){let S=y(a-P,360);return S>180&&(S-=360),P+S*V(R)}function Q(P,a,R){let S=0;return S=P!=a?V((R-P)/(a-P)):0,S}function h(P,a,R,S,A){const Z=A*A,p=A*Z;return P*(2*p-3*Z+1)+R*(-2*p+3*Z)+a*(p-2*Z+A)+S*(p-Z)}function l(P,a,R,S,A){const Z=A*A;return 6*(Z-A)*P+(3*Z-4*A+1)*a+6*(-Z+A)*R+(3*Z-2*A)*S}function V(P){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(R,Math.max(a,P))}function f(P){return P-=2*Math.PI*Math.floor((P+Math.PI)/(2*Math.PI))}function O(P){const a=P.toString(16);return P<=15?("0"+a).toUpperCase():a.toUpperCase()}function q(P){if(Math.log2)return Math.floor(Math.log2(P));if(P<0)return NaN;if(0===P)return-1/0;let a=0;if(P<1){for(;P<1;)a++,P*=2;a=-a}else if(P>1)for(;P>1;)a++,P=Math.floor(P/2);return a}function y(P,a){return P-Math.floor(P/a)*a}function t(P,a,R){return(P-a)/(R-a)}function W(P,a,R){return P*(R-a)+a}function k(P,a){let R=y(a-P,360);return R>180&&(R-=360),R}function x(P,a){const R=y(P,2*a);return a-Math.abs(R-a)}function s(P,a,R){let S=V(R);return S=-2*S*S*S+3*S*S,a*S+P*(1-S)}function d(P,a,R){let S=0;return S=Math.abs(a-P)<=R?a:P+Math.sign(a-P)*R,S}function G(P,a,R){const S=k(P,a);let A=0;return A=-R<S&&S<R?a:d(P,a=P+S,R),A}function H(P,a,R){return(P-a)/(R-a)}function mP(P,a,R){return(R-a)*P+a}function N(P,a){const R=P%a;return 0===R?a:N(a,R)}R.r(a),R.d(a,{Clamp:()=>V,DeltaAngle:()=>k,Denormalize:()=>W,ExtractAsInt:()=>S,Hermite:()=>h,Hermite1stDerivative:()=>l,HighestCommonFactor:()=>N,ILog2:()=>q,InverseLerp:()=>Q,Lerp:()=>j,LerpAngle:()=>U,MoveTowards:()=>d,MoveTowardsAngle:()=>G,Normalize:()=>t,NormalizeRadians:()=>f,OutsideRange:()=>Z,PercentToRange:()=>mP,PingPong:()=>x,RandomRange:()=>p,RangeToPercent:()=>H,Repeat:()=>y,SmoothStep:()=>s,ToHex:()=>O,WithinEpsilon:()=>A})}}]);