"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[15],{13546:(g,w,q)=>{q.r(w),q.d(w,{_IESTextureLoader:()=>i});var R=q(11195);function o(g){return g.split(" ").filter((g=>""!==g)).map((g=>parseFloat(g)))}function r(g,w,q){for(;q.length!==w;){const w=o(g.lines[g.index++]);q.push(...w)}}function S(g,w,q){let o=0,r=0,S=0,i=0,T=0,z=0;for(let R=0;R<g.numberOfHorizontalAngles-1;R++)if(q<g.horizontalAngles[R+1]||R===g.numberOfHorizontalAngles-2){r=R,S=g.horizontalAngles[R],i=g.horizontalAngles[R+1];break}for(let R=0;R<g.numberOfVerticalAngles-1;R++)if(w<g.verticalAngles[R+1]||R===g.numberOfVerticalAngles-2){o=R,T=g.verticalAngles[R],z=g.verticalAngles[R+1];break}const t=i-S,m=z-T;if(0===m)return 0;const e=0===t?0:(q-S)/t,y=(w-T)/m,L=0===t?r:r+1,A=(0,R.Lerp)(g.candelaValues[r][o],g.candelaValues[L][o],e),l=(0,R.Lerp)(g.candelaValues[r][o+1],g.candelaValues[L][o+1],e);return(0,R.Lerp)(A,l,y)}class i{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(g,w,q){const R=function(g){const w={lines:new TextDecoder("utf-8").decode(g).split("\n"),index:0},q={version:w.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(w.index=1;w.lines.length>0&&!w.lines[w.index].includes("TILT=");)w.index++;w.lines[w.index].includes("INCLUDE"),w.index++;const R=o(w.lines[w.index++]);q.numberOfLights=R[0],q.lumensPerLamp=R[1],q.candelaMultiplier=R[2],q.numberOfVerticalAngles=R[3],q.numberOfHorizontalAngles=R[4],q.photometricType=R[5],q.unitsType=R[6],q.width=R[7],q.length=R[8],q.height=R[9];const i=o(w.lines[w.index++]);q.ballastFactor=i[0],q.fileGenerationType=i[1],q.inputWatts=i[2];for(let o=0;o<q.numberOfHorizontalAngles;o++)q.candelaValues[o]=[];r(w,q.numberOfVerticalAngles,q.verticalAngles),r(w,q.numberOfHorizontalAngles,q.horizontalAngles);for(let o=0;o<q.numberOfHorizontalAngles;o++)r(w,q.numberOfVerticalAngles,q.candelaValues[o]);let T=-1;for(let o=0;o<q.numberOfHorizontalAngles;o++)for(let g=0;g<q.numberOfVerticalAngles;g++)q.candelaValues[o][g]*=q.candelaValues[o][g]*q.candelaMultiplier*q.ballastFactor*q.fileGenerationType,T=Math.max(T,q.candelaValues[o][g]);if(T>0)for(let o=0;o<q.numberOfHorizontalAngles;o++)for(let g=0;g<q.numberOfVerticalAngles;g++)q.candelaValues[o][g]/=T;const z=180,t=360,m=new Float32Array(64800),e=q.horizontalAngles[0],y=q.horizontalAngles[q.numberOfHorizontalAngles-1];for(let o=0;o<64800;o++){let g=o%t;const w=Math.floor(o/t);y-e!==0&&(g<e||g>=y)&&(g%=2*y,g>y&&(g=2*y-g)),m[w+g*z]=S(q,w,g)}return{width:180,height:1,data:m}}(new Uint8Array(g.buffer,g.byteOffset,g.byteLength));q(R.width,R.height,!1,!1,(()=>{const g=w.getEngine();w.type=1,w.format=6,w._gammaSpace=!1,g._uploadDataToTextureDirectly(w,R.data)}))}}},11195:(g,w,q)=>{function R(g){return parseInt(g.toString().replace(/\W/g,""))}function o(g,w){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(g-w)<=q}function r(g,w,q){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return g<w-R||g>q+R}function S(g,w){return g===w?g:Math.random()*(w-g)+g}function i(g,w,q){return g+(w-g)*q}function T(g,w,q){let R=l(w-g,360);return R>180&&(R-=360),g+R*e(q)}function z(g,w,q){let R=0;return R=g!=w?e((q-g)/(w-g)):0,R}function t(g,w,q,R,o){const r=o*o,S=o*r;return g*(2*S-3*r+1)+q*(-2*S+3*r)+w*(S-2*r+o)+R*(S-r)}function m(g,w,q,R,o){const r=o*o;return 6*(r-o)*g+(3*r-4*o+1)*w+6*(-r+o)*q+(3*r-2*o)*R}function e(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(q,Math.max(w,g))}function y(g){return g-=2*Math.PI*Math.floor((g+Math.PI)/(2*Math.PI))}function L(g){const w=g.toString(16);return g<=15?("0"+w).toUpperCase():w.toUpperCase()}function A(g){if(Math.log2)return Math.floor(Math.log2(g));if(g<0)return NaN;if(0===g)return-1/0;let w=0;if(g<1){for(;g<1;)w++,g*=2;w=-w}else if(g>1)for(;g>1;)w++,g=Math.floor(g/2);return w}function l(g,w){return g-Math.floor(g/w)*w}function J(g,w,q){return(g-w)/(q-w)}function x(g,w,q){return g*(q-w)+w}function G(g,w){let q=l(w-g,360);return q>180&&(q-=360),q}function d(g,w){const q=l(g,2*w);return w-Math.abs(q-w)}function D(g,w,q){let R=e(q);return R=-2*R*R*R+3*R*R,w*R+g*(1-R)}function U(g,w,q){let R=0;return R=Math.abs(w-g)<=q?w:g+Math.sign(w-g)*q,R}function N(g,w,q){const R=G(g,w);let o=0;return o=-q<R&&R<q?w:U(g,w=g+R,q),o}function a(g,w,q){return(g-w)/(q-w)}function H(g,w,q){return(q-w)*g+w}function C(g,w){const q=g%w;return 0===q?w:C(w,q)}q.r(w),q.d(w,{Clamp:()=>e,DeltaAngle:()=>G,Denormalize:()=>x,ExtractAsInt:()=>R,Hermite:()=>t,Hermite1stDerivative:()=>m,HighestCommonFactor:()=>C,ILog2:()=>A,InverseLerp:()=>z,Lerp:()=>i,LerpAngle:()=>T,MoveTowards:()=>U,MoveTowardsAngle:()=>N,Normalize:()=>J,NormalizeRadians:()=>y,OutsideRange:()=>r,PercentToRange:()=>H,PingPong:()=>d,RandomRange:()=>S,RangeToPercent:()=>a,Repeat:()=>l,SmoothStep:()=>D,ToHex:()=>L,WithinEpsilon:()=>o})}}]);