"use strict";(self.r00gjvkwa6=self.r00gjvkwa6||[]).push([[15],{13738:(H,O,S)=>{S.r(O),S.d(O,{_IESTextureLoader:()=>U});var t=S(11317);function q(H){return H.split(" ").filter((H=>""!==H)).map((H=>parseFloat(H)))}function p(H,O,S){for(;S.length!==O;){const O=q(H.lines[H.index++]);S.push(...O)}}function G(H,O,S){let q=0,p=0,G=0,U=0,V=0,w=0;for(let t=0;t<H.numberOfHorizontalAngles-1;t++)if(S<H.horizontalAngles[t+1]||t===H.numberOfHorizontalAngles-2){p=t,G=H.horizontalAngles[t],U=H.horizontalAngles[t+1];break}for(let t=0;t<H.numberOfVerticalAngles-1;t++)if(O<H.verticalAngles[t+1]||t===H.numberOfVerticalAngles-2){q=t,V=H.verticalAngles[t],w=H.verticalAngles[t+1];break}const o=U-G,h=w-V;if(0===h)return 0;const a=0===o?0:(S-G)/o,j=(O-V)/h,e=0===o?p:p+1,X=(0,t.Lerp)(H.candelaValues[p][q],H.candelaValues[e][q],a),E=(0,t.Lerp)(H.candelaValues[p][q+1],H.candelaValues[e][q+1],a);return(0,t.Lerp)(X,E,j)}class U{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(H,O,S){const t=function(H){const O={lines:new TextDecoder("utf-8").decode(H).split("\n"),index:0},S={version:O.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(O.index=1;O.lines.length>0&&!O.lines[O.index].includes("TILT=");)O.index++;O.lines[O.index].includes("INCLUDE"),O.index++;const t=q(O.lines[O.index++]);S.numberOfLights=t[0],S.lumensPerLamp=t[1],S.candelaMultiplier=t[2],S.numberOfVerticalAngles=t[3],S.numberOfHorizontalAngles=t[4],S.photometricType=t[5],S.unitsType=t[6],S.width=t[7],S.length=t[8],S.height=t[9];const U=q(O.lines[O.index++]);S.ballastFactor=U[0],S.fileGenerationType=U[1],S.inputWatts=U[2];for(let q=0;q<S.numberOfHorizontalAngles;q++)S.candelaValues[q]=[];p(O,S.numberOfVerticalAngles,S.verticalAngles),p(O,S.numberOfHorizontalAngles,S.horizontalAngles);for(let q=0;q<S.numberOfHorizontalAngles;q++)p(O,S.numberOfVerticalAngles,S.candelaValues[q]);let V=-1;for(let q=0;q<S.numberOfHorizontalAngles;q++)for(let H=0;H<S.numberOfVerticalAngles;H++)S.candelaValues[q][H]*=S.candelaValues[q][H]*S.candelaMultiplier*S.ballastFactor*S.fileGenerationType,V=Math.max(V,S.candelaValues[q][H]);if(V>0)for(let q=0;q<S.numberOfHorizontalAngles;q++)for(let H=0;H<S.numberOfVerticalAngles;H++)S.candelaValues[q][H]/=V;const w=180,o=360,h=new Float32Array(64800),a=S.horizontalAngles[0],j=S.horizontalAngles[S.numberOfHorizontalAngles-1];for(let q=0;q<64800;q++){let H=q%o;const O=Math.floor(q/o);j-a!==0&&(H<a||H>=j)&&(H%=2*j,H>j&&(H=2*j-H)),h[O+H*w]=G(S,O,H)}return{width:180,height:1,data:h}}(new Uint8Array(H.buffer,H.byteOffset,H.byteLength));S(t.width,t.height,!1,!1,(()=>{const H=O.getEngine();O.type=1,O.format=6,O._gammaSpace=!1,H._uploadDataToTextureDirectly(O,t.data)}))}}},11317:(H,O,S)=>{function t(H){return parseInt(H.toString().replace(/\W/g,""))}function q(H,O){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(H-O)<=S}function p(H,O,S){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return H<O-t||H>S+t}function G(H,O){return H===O?H:Math.random()*(O-H)+H}function U(H,O,S){return H+(O-H)*S}function V(H,O,S){let t=E(O-H,360);return t>180&&(t-=360),H+t*a(S)}function w(H,O,S){let t=0;return t=H!=O?a((S-H)/(O-H)):0,t}function o(H,O,S,t,q){const p=q*q,G=q*p;return H*(2*G-3*p+1)+S*(-2*G+3*p)+O*(G-2*p+q)+t*(G-p)}function h(H,O,S,t,q){const p=q*q;return 6*(p-q)*H+(3*p-4*q+1)*O+6*(-p+q)*S+(3*p-2*q)*t}function a(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(S,Math.max(O,H))}function j(H){return H-=2*Math.PI*Math.floor((H+Math.PI)/(2*Math.PI))}function e(H){const O=H.toString(16);return H<=15?("0"+O).toUpperCase():O.toUpperCase()}function X(H){if(Math.log2)return Math.floor(Math.log2(H));if(H<0)return NaN;if(0===H)return-1/0;let O=0;if(H<1){for(;H<1;)O++,H*=2;O=-O}else if(H>1)for(;H>1;)O++,H=Math.floor(H/2);return O}function E(H,O){return H-Math.floor(H/O)*O}function y(H,O,S){return(H-O)/(S-O)}function T(H,O,S){return H*(S-O)+O}function K(H,O){let S=E(O-H,360);return S>180&&(S-=360),S}function b(H,O){const S=E(H,2*O);return O-Math.abs(S-O)}function D(H,O,S){let t=a(S);return t=-2*t*t*t+3*t*t,O*t+H*(1-t)}function F(H,O,S){let t=0;return t=Math.abs(O-H)<=S?O:H+Math.sign(O-H)*S,t}function Y(H,O,S){const t=K(H,O);let q=0;return q=-S<t&&t<S?O:F(H,O=H+t,S),q}function l(H,O,S){return(H-O)/(S-O)}function d(H,O,S){return(S-O)*H+O}function v(H,O){const S=H%O;return 0===S?O:v(O,S)}S.r(O),S.d(O,{Clamp:()=>a,DeltaAngle:()=>K,Denormalize:()=>T,ExtractAsInt:()=>t,Hermite:()=>o,Hermite1stDerivative:()=>h,HighestCommonFactor:()=>v,ILog2:()=>X,InverseLerp:()=>w,Lerp:()=>U,LerpAngle:()=>V,MoveTowards:()=>F,MoveTowardsAngle:()=>Y,Normalize:()=>y,NormalizeRadians:()=>j,OutsideRange:()=>p,PercentToRange:()=>d,PingPong:()=>b,RandomRange:()=>G,RangeToPercent:()=>l,Repeat:()=>E,SmoothStep:()=>D,ToHex:()=>e,WithinEpsilon:()=>q})}}]);