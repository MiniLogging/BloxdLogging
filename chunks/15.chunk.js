"use strict";(self.uji65st81d=self.uji65st81d||[]).push([[15],{14810:(V,h,mV)=>{mV.r(h),mV.d(h,{_IESTextureLoader:()=>k});var t=mV(12435);function L(V){return V.split(" ").filter((V=>""!==V)).map((V=>parseFloat(V)))}function N(V,h,mV){for(;mV.length!==h;){const h=L(V.lines[V.index++]);mV.push(...h)}}function A(V,h,mV){let L=0,N=0,A=0,k=0,C=0,K=0;for(let t=0;t<V.numberOfHorizontalAngles-1;t++)if(mV<V.horizontalAngles[t+1]||t===V.numberOfHorizontalAngles-2){N=t,A=V.horizontalAngles[t],k=V.horizontalAngles[t+1];break}for(let t=0;t<V.numberOfVerticalAngles-1;t++)if(h<V.verticalAngles[t+1]||t===V.numberOfVerticalAngles-2){L=t,C=V.verticalAngles[t],K=V.verticalAngles[t+1];break}const o=k-A,n=K-C;if(0===n)return 0;const q=0===o?0:(mV-A)/o,x=(h-C)/n,R=0===o?N:N+1,d=(0,t.Lerp)(V.candelaValues[N][L],V.candelaValues[R][L],q),s=(0,t.Lerp)(V.candelaValues[N][L+1],V.candelaValues[R][L+1],q);return(0,t.Lerp)(d,s,x)}class k{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(V,h,mV){const t=function(V){const h={lines:new TextDecoder("utf-8").decode(V).split("\n"),index:0},mV={version:h.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(h.index=1;h.lines.length>0&&!h.lines[h.index].includes("TILT=");)h.index++;h.lines[h.index].includes("INCLUDE"),h.index++;const t=L(h.lines[h.index++]);mV.numberOfLights=t[0],mV.lumensPerLamp=t[1],mV.candelaMultiplier=t[2],mV.numberOfVerticalAngles=t[3],mV.numberOfHorizontalAngles=t[4],mV.photometricType=t[5],mV.unitsType=t[6],mV.width=t[7],mV.length=t[8],mV.height=t[9];const k=L(h.lines[h.index++]);mV.ballastFactor=k[0],mV.fileGenerationType=k[1],mV.inputWatts=k[2];for(let L=0;L<mV.numberOfHorizontalAngles;L++)mV.candelaValues[L]=[];N(h,mV.numberOfVerticalAngles,mV.verticalAngles),N(h,mV.numberOfHorizontalAngles,mV.horizontalAngles);for(let L=0;L<mV.numberOfHorizontalAngles;L++)N(h,mV.numberOfVerticalAngles,mV.candelaValues[L]);let C=-1;for(let L=0;L<mV.numberOfHorizontalAngles;L++)for(let V=0;V<mV.numberOfVerticalAngles;V++)mV.candelaValues[L][V]*=mV.candelaValues[L][V]*mV.candelaMultiplier*mV.ballastFactor*mV.fileGenerationType,C=Math.max(C,mV.candelaValues[L][V]);if(C>0)for(let L=0;L<mV.numberOfHorizontalAngles;L++)for(let V=0;V<mV.numberOfVerticalAngles;V++)mV.candelaValues[L][V]/=C;const K=180,o=360,n=new Float32Array(64800),q=mV.horizontalAngles[0],x=mV.horizontalAngles[mV.numberOfHorizontalAngles-1];for(let L=0;L<64800;L++){let V=L%o;const h=Math.floor(L/o);x-q!==0&&(V<q||V>=x)&&(V%=2*x,V>x&&(V=2*x-V)),n[h+V*K]=A(mV,h,V)}return{width:180,height:1,data:n}}(new Uint8Array(V.buffer,V.byteOffset,V.byteLength));mV(t.width,t.height,!1,!1,(()=>{const V=h.getEngine();h.type=1,h.format=6,h._gammaSpace=!1,V._uploadDataToTextureDirectly(h,t.data)}))}}},12435:(V,h,mV)=>{function t(V){return parseInt(V.toString().replace(/\W/g,""))}function L(V,h){let mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(V-h)<=mV}function N(V,h,mV){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return V<h-t||V>mV+t}function A(V,h){return V===h?V:Math.random()*(h-V)+V}function k(V,h,mV){return V+(h-V)*mV}function C(V,h,mV){let t=s(h-V,360);return t>180&&(t-=360),V+t*q(mV)}function K(V,h,mV){let t=0;return t=V!=h?q((mV-V)/(h-V)):0,t}function o(V,h,mV,t,L){const N=L*L,A=L*N;return V*(2*A-3*N+1)+mV*(-2*A+3*N)+h*(A-2*N+L)+t*(A-N)}function n(V,h,mV,t,L){const N=L*L;return 6*(N-L)*V+(3*N-4*L+1)*h+6*(-N+L)*mV+(3*N-2*L)*t}function q(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(mV,Math.max(h,V))}function x(V){return V-=2*Math.PI*Math.floor((V+Math.PI)/(2*Math.PI))}function R(V){const h=V.toString(16);return V<=15?("0"+h).toUpperCase():h.toUpperCase()}function d(V){if(Math.log2)return Math.floor(Math.log2(V));if(V<0)return NaN;if(0===V)return-1/0;let h=0;if(V<1){for(;V<1;)h++,V*=2;h=-h}else if(V>1)for(;V>1;)h++,V=Math.floor(V/2);return h}function s(V,h){return V-Math.floor(V/h)*h}function M(V,h,mV){return(V-h)/(mV-h)}function c(V,h,mV){return V*(mV-h)+h}function z(V,h){let mV=s(h-V,360);return mV>180&&(mV-=360),mV}function Q(V,h){const mV=s(V,2*h);return h-Math.abs(mV-h)}function J(V,h,mV){let t=q(mV);return t=-2*t*t*t+3*t*t,h*t+V*(1-t)}function v(V,h,mV){let t=0;return t=Math.abs(h-V)<=mV?h:V+Math.sign(h-V)*mV,t}function D(V,h,mV){const t=z(V,h);let L=0;return L=-mV<t&&t<mV?h:v(V,h=V+t,mV),L}function H(V,h,mV){return(V-h)/(mV-h)}function j(V,h,mV){return(mV-h)*V+h}function l(V,h){const mV=V%h;return 0===mV?h:l(h,mV)}mV.r(h),mV.d(h,{Clamp:()=>q,DeltaAngle:()=>z,Denormalize:()=>c,ExtractAsInt:()=>t,Hermite:()=>o,Hermite1stDerivative:()=>n,HighestCommonFactor:()=>l,ILog2:()=>d,InverseLerp:()=>K,Lerp:()=>k,LerpAngle:()=>C,MoveTowards:()=>v,MoveTowardsAngle:()=>D,Normalize:()=>M,NormalizeRadians:()=>x,OutsideRange:()=>N,PercentToRange:()=>j,PingPong:()=>Q,RandomRange:()=>A,RangeToPercent:()=>H,Repeat:()=>s,SmoothStep:()=>J,ToHex:()=>R,WithinEpsilon:()=>L})}}]);