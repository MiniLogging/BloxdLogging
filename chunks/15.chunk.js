"use strict";(self["2fwzcez286e"]=self["2fwzcez286e"]||[]).push([[15],{15459:(B,u,F)=>{F.r(u),F.d(u,{_IESTextureLoader:()=>R});var Z=F(12994);function V(B){return B.split(" ").filter((B=>""!==B)).map((B=>parseFloat(B)))}function p(B,u,F){for(;F.length!==u;){const u=V(B.lines[B.index++]);F.push(...u)}}function G(B,u,F){let V=0,p=0,G=0,R=0,e=0,s=0;for(let Z=0;Z<B.numberOfHorizontalAngles-1;Z++)if(F<B.horizontalAngles[Z+1]||Z===B.numberOfHorizontalAngles-2){p=Z,G=B.horizontalAngles[Z],R=B.horizontalAngles[Z+1];break}for(let Z=0;Z<B.numberOfVerticalAngles-1;Z++)if(u<B.verticalAngles[Z+1]||Z===B.numberOfVerticalAngles-2){V=Z,e=B.verticalAngles[Z],s=B.verticalAngles[Z+1];break}const Y=R-G,Q=s-e;if(0===Q)return 0;const t=0===Y?0:(F-G)/Y,v=(u-e)/Q,D=0===Y?p:p+1,L=(0,Z.Lerp)(B.candelaValues[p][V],B.candelaValues[D][V],t),q=(0,Z.Lerp)(B.candelaValues[p][V+1],B.candelaValues[D][V+1],t);return(0,Z.Lerp)(L,q,v)}class R{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(B,u,F){const Z=function(B){const u={lines:new TextDecoder("utf-8").decode(B).split("\n"),index:0},F={version:u.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(u.index=1;u.lines.length>0&&!u.lines[u.index].includes("TILT=");)u.index++;u.lines[u.index].includes("INCLUDE"),u.index++;const Z=V(u.lines[u.index++]);F.numberOfLights=Z[0],F.lumensPerLamp=Z[1],F.candelaMultiplier=Z[2],F.numberOfVerticalAngles=Z[3],F.numberOfHorizontalAngles=Z[4],F.photometricType=Z[5],F.unitsType=Z[6],F.width=Z[7],F.length=Z[8],F.height=Z[9];const R=V(u.lines[u.index++]);F.ballastFactor=R[0],F.fileGenerationType=R[1],F.inputWatts=R[2];for(let V=0;V<F.numberOfHorizontalAngles;V++)F.candelaValues[V]=[];p(u,F.numberOfVerticalAngles,F.verticalAngles),p(u,F.numberOfHorizontalAngles,F.horizontalAngles);for(let V=0;V<F.numberOfHorizontalAngles;V++)p(u,F.numberOfVerticalAngles,F.candelaValues[V]);let e=-1;for(let V=0;V<F.numberOfHorizontalAngles;V++)for(let B=0;B<F.numberOfVerticalAngles;B++)F.candelaValues[V][B]*=F.candelaValues[V][B]*F.candelaMultiplier*F.ballastFactor*F.fileGenerationType,e=Math.max(e,F.candelaValues[V][B]);if(e>0)for(let V=0;V<F.numberOfHorizontalAngles;V++)for(let B=0;B<F.numberOfVerticalAngles;B++)F.candelaValues[V][B]/=e;const s=180,Y=360,Q=new Float32Array(64800),t=F.horizontalAngles[0],v=F.horizontalAngles[F.numberOfHorizontalAngles-1];for(let V=0;V<64800;V++){let B=V%Y;const u=Math.floor(V/Y);v-t!==0&&(B<t||B>=v)&&(B%=2*v,B>v&&(B=2*v-B)),Q[u+B*s]=G(F,u,B)}return{width:180,height:1,data:Q}}(new Uint8Array(B.buffer,B.byteOffset,B.byteLength));F(Z.width,Z.height,!1,!1,(()=>{const B=u.getEngine();u.type=1,u.format=6,u._gammaSpace=!1,B._uploadDataToTextureDirectly(u,Z.data)}))}}},12994:(B,u,F)=>{function Z(B){return parseInt(B.toString().replace(/\W/g,""))}function V(B,u){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(B-u)<=F}function p(B,u,F){let Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return B<u-Z||B>F+Z}function G(B,u){return B===u?B:Math.random()*(u-B)+B}function R(B,u,F){return B+(u-B)*F}function e(B,u,F){let Z=q(u-B,360);return Z>180&&(Z-=360),B+Z*t(F)}function s(B,u,F){let Z=0;return Z=B!=u?t((F-B)/(u-B)):0,Z}function Y(B,u,F,Z,V){const p=V*V,G=V*p;return B*(2*G-3*p+1)+F*(-2*G+3*p)+u*(G-2*p+V)+Z*(G-p)}function Q(B,u,F,Z,V){const p=V*V;return 6*(p-V)*B+(3*p-4*V+1)*u+6*(-p+V)*F+(3*p-2*V)*Z}function t(B){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(F,Math.max(u,B))}function v(B){return B-=2*Math.PI*Math.floor((B+Math.PI)/(2*Math.PI))}function D(B){const u=B.toString(16);return B<=15?("0"+u).toUpperCase():u.toUpperCase()}function L(B){if(Math.log2)return Math.floor(Math.log2(B));if(B<0)return NaN;if(0===B)return-1/0;let u=0;if(B<1){for(;B<1;)u++,B*=2;u=-u}else if(B>1)for(;B>1;)u++,B=Math.floor(B/2);return u}function q(B,u){return B-Math.floor(B/u)*u}function W(B,u,F){return(B-u)/(F-u)}function X(B,u,F){return B*(F-u)+u}function f(B,u){let F=q(u-B,360);return F>180&&(F-=360),F}function C(B,u){const F=q(B,2*u);return u-Math.abs(F-u)}function x(B,u,F){let Z=t(F);return Z=-2*Z*Z*Z+3*Z*Z,u*Z+B*(1-Z)}function U(B,u,F){let Z=0;return Z=Math.abs(u-B)<=F?u:B+Math.sign(u-B)*F,Z}function y(B,u,F){const Z=f(B,u);let V=0;return V=-F<Z&&Z<F?u:U(B,u=B+Z,F),V}function O(B,u,F){return(B-u)/(F-u)}function g(B,u,F){return(F-u)*B+u}function J(B,u){const F=B%u;return 0===F?u:J(u,F)}F.r(u),F.d(u,{Clamp:()=>t,DeltaAngle:()=>f,Denormalize:()=>X,ExtractAsInt:()=>Z,Hermite:()=>Y,Hermite1stDerivative:()=>Q,HighestCommonFactor:()=>J,ILog2:()=>L,InverseLerp:()=>s,Lerp:()=>R,LerpAngle:()=>e,MoveTowards:()=>U,MoveTowardsAngle:()=>y,Normalize:()=>W,NormalizeRadians:()=>v,OutsideRange:()=>p,PercentToRange:()=>g,PingPong:()=>C,RandomRange:()=>G,RangeToPercent:()=>O,Repeat:()=>q,SmoothStep:()=>x,ToHex:()=>D,WithinEpsilon:()=>V})}}]);