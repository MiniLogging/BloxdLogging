"use strict";(self.rvold1i0ywi=self.rvold1i0ywi||[]).push([[15],{13687:(F,b,Q)=>{Q.r(b),Q.d(b,{_IESTextureLoader:()=>W});var C=Q(11329);function z(F){return F.split(" ").filter((F=>""!==F)).map((F=>parseFloat(F)))}function t(F,b,Q){for(;Q.length!==b;){const b=z(F.lines[F.index++]);Q.push(...b)}}function g(F,b,Q){let z=0,t=0,g=0,W=0,Z=0,q=0;for(let C=0;C<F.numberOfHorizontalAngles-1;C++)if(Q<F.horizontalAngles[C+1]||C===F.numberOfHorizontalAngles-2){t=C,g=F.horizontalAngles[C],W=F.horizontalAngles[C+1];break}for(let C=0;C<F.numberOfVerticalAngles-1;C++)if(b<F.verticalAngles[C+1]||C===F.numberOfVerticalAngles-2){z=C,Z=F.verticalAngles[C],q=F.verticalAngles[C+1];break}const G=W-g,K=q-Z;if(0===K)return 0;const e=0===G?0:(Q-g)/G,N=(b-Z)/K,y=0===G?t:t+1,E=(0,C.Lerp)(F.candelaValues[t][z],F.candelaValues[y][z],e),c=(0,C.Lerp)(F.candelaValues[t][z+1],F.candelaValues[y][z+1],e);return(0,C.Lerp)(E,c,N)}class W{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(F,b,Q){const C=function(F){const b={lines:new TextDecoder("utf-8").decode(F).split("\n"),index:0},Q={version:b.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(b.index=1;b.lines.length>0&&!b.lines[b.index].includes("TILT=");)b.index++;b.lines[b.index].includes("INCLUDE"),b.index++;const C=z(b.lines[b.index++]);Q.numberOfLights=C[0],Q.lumensPerLamp=C[1],Q.candelaMultiplier=C[2],Q.numberOfVerticalAngles=C[3],Q.numberOfHorizontalAngles=C[4],Q.photometricType=C[5],Q.unitsType=C[6],Q.width=C[7],Q.length=C[8],Q.height=C[9];const W=z(b.lines[b.index++]);Q.ballastFactor=W[0],Q.fileGenerationType=W[1],Q.inputWatts=W[2];for(let z=0;z<Q.numberOfHorizontalAngles;z++)Q.candelaValues[z]=[];t(b,Q.numberOfVerticalAngles,Q.verticalAngles),t(b,Q.numberOfHorizontalAngles,Q.horizontalAngles);for(let z=0;z<Q.numberOfHorizontalAngles;z++)t(b,Q.numberOfVerticalAngles,Q.candelaValues[z]);let Z=-1;for(let z=0;z<Q.numberOfHorizontalAngles;z++)for(let F=0;F<Q.numberOfVerticalAngles;F++)Q.candelaValues[z][F]*=Q.candelaValues[z][F]*Q.candelaMultiplier*Q.ballastFactor*Q.fileGenerationType,Z=Math.max(Z,Q.candelaValues[z][F]);if(Z>0)for(let z=0;z<Q.numberOfHorizontalAngles;z++)for(let F=0;F<Q.numberOfVerticalAngles;F++)Q.candelaValues[z][F]/=Z;const q=180,G=360,K=new Float32Array(64800),e=Q.horizontalAngles[0],N=Q.horizontalAngles[Q.numberOfHorizontalAngles-1];for(let z=0;z<64800;z++){let F=z%G;const b=Math.floor(z/G);N-e!==0&&(F<e||F>=N)&&(F%=2*N,F>N&&(F=2*N-F)),K[b+F*q]=g(Q,b,F)}return{width:180,height:1,data:K}}(new Uint8Array(F.buffer,F.byteOffset,F.byteLength));Q(C.width,C.height,!1,!1,(()=>{const F=b.getEngine();b.type=1,b.format=6,b._gammaSpace=!1,F._uploadDataToTextureDirectly(b,C.data)}))}}},11329:(F,b,Q)=>{function C(F){return parseInt(F.toString().replace(/\W/g,""))}function z(F,b){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(F-b)<=Q}function t(F,b,Q){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return F<b-C||F>Q+C}function g(F,b){return F===b?F:Math.random()*(b-F)+F}function W(F,b,Q){return F+(b-F)*Q}function Z(F,b,Q){let C=c(b-F,360);return C>180&&(C-=360),F+C*e(Q)}function q(F,b,Q){let C=0;return C=F!=b?e((Q-F)/(b-F)):0,C}function G(F,b,Q,C,z){const t=z*z,g=z*t;return F*(2*g-3*t+1)+Q*(-2*g+3*t)+b*(g-2*t+z)+C*(g-t)}function K(F,b,Q,C,z){const t=z*z;return 6*(t-z)*F+(3*t-4*z+1)*b+6*(-t+z)*Q+(3*t-2*z)*C}function e(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Q,Math.max(b,F))}function N(F){return F-=2*Math.PI*Math.floor((F+Math.PI)/(2*Math.PI))}function y(F){const b=F.toString(16);return F<=15?("0"+b).toUpperCase():b.toUpperCase()}function E(F){if(Math.log2)return Math.floor(Math.log2(F));if(F<0)return NaN;if(0===F)return-1/0;let b=0;if(F<1){for(;F<1;)b++,F*=2;b=-b}else if(F>1)for(;F>1;)b++,F=Math.floor(F/2);return b}function c(F,b){return F-Math.floor(F/b)*b}function X(F,b,Q){return(F-b)/(Q-b)}function L(F,b,Q){return F*(Q-b)+b}function i(F,b){let Q=c(b-F,360);return Q>180&&(Q-=360),Q}function f(F,b){const Q=c(F,2*b);return b-Math.abs(Q-b)}function k(F,b,Q){let C=e(Q);return C=-2*C*C*C+3*C*C,b*C+F*(1-C)}function m(F,b,Q){let C=0;return C=Math.abs(b-F)<=Q?b:F+Math.sign(b-F)*Q,C}function R(F,b,Q){const C=i(F,b);let z=0;return z=-Q<C&&C<Q?b:m(F,b=F+C,Q),z}function p(F,b,Q){return(F-b)/(Q-b)}function D(F,b,Q){return(Q-b)*F+b}function P(F,b){const Q=F%b;return 0===Q?b:P(b,Q)}Q.r(b),Q.d(b,{Clamp:()=>e,DeltaAngle:()=>i,Denormalize:()=>L,ExtractAsInt:()=>C,Hermite:()=>G,Hermite1stDerivative:()=>K,HighestCommonFactor:()=>P,ILog2:()=>E,InverseLerp:()=>q,Lerp:()=>W,LerpAngle:()=>Z,MoveTowards:()=>m,MoveTowardsAngle:()=>R,Normalize:()=>X,NormalizeRadians:()=>N,OutsideRange:()=>t,PercentToRange:()=>D,PingPong:()=>f,RandomRange:()=>g,RangeToPercent:()=>p,Repeat:()=>c,SmoothStep:()=>k,ToHex:()=>y,WithinEpsilon:()=>z})}}]);