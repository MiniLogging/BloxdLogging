"use strict";(self["3gghkoft8x"]=self["3gghkoft8x"]||[]).push([[15],{14766:(y,S,I)=>{I.r(S),I.d(S,{_IESTextureLoader:()=>d});var V=I(12338);function i(y){return y.split(" ").filter((y=>""!==y)).map((y=>parseFloat(y)))}function A(y,S,I){for(;I.length!==S;){const S=i(y.lines[y.index++]);I.push(...S)}}function B(y,S,I){let i=0,A=0,B=0,d=0,F=0,J=0;for(let V=0;V<y.numberOfHorizontalAngles-1;V++)if(I<y.horizontalAngles[V+1]||V===y.numberOfHorizontalAngles-2){A=V,B=y.horizontalAngles[V],d=y.horizontalAngles[V+1];break}for(let V=0;V<y.numberOfVerticalAngles-1;V++)if(S<y.verticalAngles[V+1]||V===y.numberOfVerticalAngles-2){i=V,F=y.verticalAngles[V],J=y.verticalAngles[V+1];break}const u=d-B,K=J-F;if(0===K)return 0;const G=0===u?0:(I-B)/u,p=(S-F)/K,L=0===u?A:A+1,T=(0,V.Lerp)(y.candelaValues[A][i],y.candelaValues[L][i],G),l=(0,V.Lerp)(y.candelaValues[A][i+1],y.candelaValues[L][i+1],G);return(0,V.Lerp)(T,l,p)}class d{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(y,S,I){const V=function(y){const S={lines:new TextDecoder("utf-8").decode(y).split("\n"),index:0},I={version:S.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(S.index=1;S.lines.length>0&&!S.lines[S.index].includes("TILT=");)S.index++;S.lines[S.index].includes("INCLUDE"),S.index++;const V=i(S.lines[S.index++]);I.numberOfLights=V[0],I.lumensPerLamp=V[1],I.candelaMultiplier=V[2],I.numberOfVerticalAngles=V[3],I.numberOfHorizontalAngles=V[4],I.photometricType=V[5],I.unitsType=V[6],I.width=V[7],I.length=V[8],I.height=V[9];const d=i(S.lines[S.index++]);I.ballastFactor=d[0],I.fileGenerationType=d[1],I.inputWatts=d[2];for(let i=0;i<I.numberOfHorizontalAngles;i++)I.candelaValues[i]=[];A(S,I.numberOfVerticalAngles,I.verticalAngles),A(S,I.numberOfHorizontalAngles,I.horizontalAngles);for(let i=0;i<I.numberOfHorizontalAngles;i++)A(S,I.numberOfVerticalAngles,I.candelaValues[i]);let F=-1;for(let i=0;i<I.numberOfHorizontalAngles;i++)for(let y=0;y<I.numberOfVerticalAngles;y++)I.candelaValues[i][y]*=I.candelaValues[i][y]*I.candelaMultiplier*I.ballastFactor*I.fileGenerationType,F=Math.max(F,I.candelaValues[i][y]);if(F>0)for(let i=0;i<I.numberOfHorizontalAngles;i++)for(let y=0;y<I.numberOfVerticalAngles;y++)I.candelaValues[i][y]/=F;const J=180,u=360,K=new Float32Array(64800),G=I.horizontalAngles[0],p=I.horizontalAngles[I.numberOfHorizontalAngles-1];for(let i=0;i<64800;i++){let y=i%u;const S=Math.floor(i/u);p-G!==0&&(y<G||y>=p)&&(y%=2*p,y>p&&(y=2*p-y)),K[S+y*J]=B(I,S,y)}return{width:180,height:1,data:K}}(new Uint8Array(y.buffer,y.byteOffset,y.byteLength));I(V.width,V.height,!1,!1,(()=>{const y=S.getEngine();S.type=1,S.format=6,S._gammaSpace=!1,y._uploadDataToTextureDirectly(S,V.data)}))}}},12338:(y,S,I)=>{function V(y){return parseInt(y.toString().replace(/\W/g,""))}function i(y,S){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(y-S)<=I}function A(y,S,I){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return y<S-V||y>I+V}function B(y,S){return y===S?y:Math.random()*(S-y)+y}function d(y,S,I){return y+(S-y)*I}function F(y,S,I){let V=l(S-y,360);return V>180&&(V-=360),y+V*G(I)}function J(y,S,I){let V=0;return V=y!=S?G((I-y)/(S-y)):0,V}function u(y,S,I,V,i){const A=i*i,B=i*A;return y*(2*B-3*A+1)+I*(-2*B+3*A)+S*(B-2*A+i)+V*(B-A)}function K(y,S,I,V,i){const A=i*i;return 6*(A-i)*y+(3*A-4*i+1)*S+6*(-A+i)*I+(3*A-2*i)*V}function G(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(I,Math.max(S,y))}function p(y){return y-=2*Math.PI*Math.floor((y+Math.PI)/(2*Math.PI))}function L(y){const S=y.toString(16);return y<=15?("0"+S).toUpperCase():S.toUpperCase()}function T(y){if(Math.log2)return Math.floor(Math.log2(y));if(y<0)return NaN;if(0===y)return-1/0;let S=0;if(y<1){for(;y<1;)S++,y*=2;S=-S}else if(y>1)for(;y>1;)S++,y=Math.floor(y/2);return S}function l(y,S){return y-Math.floor(y/S)*S}function j(y,S,I){return(y-S)/(I-S)}function s(y,S,I){return y*(I-S)+S}function O(y,S){let I=l(S-y,360);return I>180&&(I-=360),I}function f(y,S){const I=l(y,2*S);return S-Math.abs(I-S)}function my(y,S,I){let V=G(I);return V=-2*V*V*V+3*V*V,S*V+y*(1-V)}function C(y,S,I){let V=0;return V=Math.abs(S-y)<=I?S:y+Math.sign(S-y)*I,V}function D(y,S,I){const V=O(y,S);let i=0;return i=-I<V&&V<I?S:C(y,S=y+V,I),i}function o(y,S,I){return(y-S)/(I-S)}function E(y,S,I){return(I-S)*y+S}function z(y,S){const I=y%S;return 0===I?S:z(S,I)}I.r(S),I.d(S,{Clamp:()=>G,DeltaAngle:()=>O,Denormalize:()=>s,ExtractAsInt:()=>V,Hermite:()=>u,Hermite1stDerivative:()=>K,HighestCommonFactor:()=>z,ILog2:()=>T,InverseLerp:()=>J,Lerp:()=>d,LerpAngle:()=>F,MoveTowards:()=>C,MoveTowardsAngle:()=>D,Normalize:()=>j,NormalizeRadians:()=>p,OutsideRange:()=>A,PercentToRange:()=>E,PingPong:()=>f,RandomRange:()=>B,RangeToPercent:()=>o,Repeat:()=>l,SmoothStep:()=>my,ToHex:()=>L,WithinEpsilon:()=>i})}}]);