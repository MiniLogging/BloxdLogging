"use strict";(self.fyqbdzs5tyo=self.fyqbdzs5tyo||[]).push([[15],{13627:(V,I,A)=>{A.r(I),A.d(I,{_IESTextureLoader:()=>H});var B=A(11249);function F(V){return V.split(" ").filter((V=>""!==V)).map((V=>parseFloat(V)))}function E(V,I,A){for(;A.length!==I;){const I=F(V.lines[V.index++]);A.push(...I)}}function Y(V,I,A){let F=0,E=0,Y=0,H=0,c=0,b=0;for(let B=0;B<V.numberOfHorizontalAngles-1;B++)if(A<V.horizontalAngles[B+1]||B===V.numberOfHorizontalAngles-2){E=B,Y=V.horizontalAngles[B],H=V.horizontalAngles[B+1];break}for(let B=0;B<V.numberOfVerticalAngles-1;B++)if(I<V.verticalAngles[B+1]||B===V.numberOfVerticalAngles-2){F=B,c=V.verticalAngles[B],b=V.verticalAngles[B+1];break}const X=H-Y,P=b-c;if(0===P)return 0;const J=0===X?0:(A-Y)/X,G=(I-c)/P,w=0===X?E:E+1,t=(0,B.Lerp)(V.candelaValues[E][F],V.candelaValues[w][F],J),u=(0,B.Lerp)(V.candelaValues[E][F+1],V.candelaValues[w][F+1],J);return(0,B.Lerp)(t,u,G)}class H{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(V,I,A){const B=function(V){const I={lines:new TextDecoder("utf-8").decode(V).split("\n"),index:0},A={version:I.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(I.index=1;I.lines.length>0&&!I.lines[I.index].includes("TILT=");)I.index++;I.lines[I.index].includes("INCLUDE"),I.index++;const B=F(I.lines[I.index++]);A.numberOfLights=B[0],A.lumensPerLamp=B[1],A.candelaMultiplier=B[2],A.numberOfVerticalAngles=B[3],A.numberOfHorizontalAngles=B[4],A.photometricType=B[5],A.unitsType=B[6],A.width=B[7],A.length=B[8],A.height=B[9];const H=F(I.lines[I.index++]);A.ballastFactor=H[0],A.fileGenerationType=H[1],A.inputWatts=H[2];for(let F=0;F<A.numberOfHorizontalAngles;F++)A.candelaValues[F]=[];E(I,A.numberOfVerticalAngles,A.verticalAngles),E(I,A.numberOfHorizontalAngles,A.horizontalAngles);for(let F=0;F<A.numberOfHorizontalAngles;F++)E(I,A.numberOfVerticalAngles,A.candelaValues[F]);let c=-1;for(let F=0;F<A.numberOfHorizontalAngles;F++)for(let V=0;V<A.numberOfVerticalAngles;V++)A.candelaValues[F][V]*=A.candelaValues[F][V]*A.candelaMultiplier*A.ballastFactor*A.fileGenerationType,c=Math.max(c,A.candelaValues[F][V]);if(c>0)for(let F=0;F<A.numberOfHorizontalAngles;F++)for(let V=0;V<A.numberOfVerticalAngles;V++)A.candelaValues[F][V]/=c;const b=180,X=360,P=new Float32Array(64800),J=A.horizontalAngles[0],G=A.horizontalAngles[A.numberOfHorizontalAngles-1];for(let F=0;F<64800;F++){let V=F%X;const I=Math.floor(F/X);G-J!==0&&(V<J||V>=G)&&(V%=2*G,V>G&&(V=2*G-V)),P[I+V*b]=Y(A,I,V)}return{width:180,height:1,data:P}}(new Uint8Array(V.buffer,V.byteOffset,V.byteLength));A(B.width,B.height,!1,!1,(()=>{const V=I.getEngine();I.type=1,I.format=6,I._gammaSpace=!1,V._uploadDataToTextureDirectly(I,B.data)}))}}},11249:(V,I,A)=>{function B(V){return parseInt(V.toString().replace(/\W/g,""))}function F(V,I){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(V-I)<=A}function E(V,I,A){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return V<I-B||V>A+B}function Y(V,I){return V===I?V:Math.random()*(I-V)+V}function H(V,I,A){return V+(I-V)*A}function c(V,I,A){let B=u(I-V,360);return B>180&&(B-=360),V+B*J(A)}function b(V,I,A){let B=0;return B=V!=I?J((A-V)/(I-V)):0,B}function X(V,I,A,B,F){const E=F*F,Y=F*E;return V*(2*Y-3*E+1)+A*(-2*Y+3*E)+I*(Y-2*E+F)+B*(Y-E)}function P(V,I,A,B,F){const E=F*F;return 6*(E-F)*V+(3*E-4*F+1)*I+6*(-E+F)*A+(3*E-2*F)*B}function J(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(A,Math.max(I,V))}function G(V){return V-=2*Math.PI*Math.floor((V+Math.PI)/(2*Math.PI))}function w(V){const I=V.toString(16);return V<=15?("0"+I).toUpperCase():I.toUpperCase()}function t(V){if(Math.log2)return Math.floor(Math.log2(V));if(V<0)return NaN;if(0===V)return-1/0;let I=0;if(V<1){for(;V<1;)I++,V*=2;I=-I}else if(V>1)for(;V>1;)I++,V=Math.floor(V/2);return I}function u(V,I){return V-Math.floor(V/I)*I}function W(V,I,A){return(V-I)/(A-I)}function g(V,I,A){return V*(A-I)+I}function o(V,I){let A=u(I-V,360);return A>180&&(A-=360),A}function L(V,I){const A=u(V,2*I);return I-Math.abs(A-I)}function z(V,I,A){let B=J(A);return B=-2*B*B*B+3*B*B,I*B+V*(1-B)}function m(V,I,A){let B=0;return B=Math.abs(I-V)<=A?I:V+Math.sign(I-V)*A,B}function s(V,I,A){const B=o(V,I);let F=0;return F=-A<B&&B<A?I:m(V,I=V+B,A),F}function e(V,I,A){return(V-I)/(A-I)}function S(V,I,A){return(A-I)*V+I}function Q(V,I){const A=V%I;return 0===A?I:Q(I,A)}A.r(I),A.d(I,{Clamp:()=>J,DeltaAngle:()=>o,Denormalize:()=>g,ExtractAsInt:()=>B,Hermite:()=>X,Hermite1stDerivative:()=>P,HighestCommonFactor:()=>Q,ILog2:()=>t,InverseLerp:()=>b,Lerp:()=>H,LerpAngle:()=>c,MoveTowards:()=>m,MoveTowardsAngle:()=>s,Normalize:()=>W,NormalizeRadians:()=>G,OutsideRange:()=>E,PercentToRange:()=>S,PingPong:()=>L,RandomRange:()=>Y,RangeToPercent:()=>e,Repeat:()=>u,SmoothStep:()=>z,ToHex:()=>w,WithinEpsilon:()=>F})}}]);