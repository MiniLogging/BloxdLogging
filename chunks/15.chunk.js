"use strict";(self.qbp2s7qydk=self.qbp2s7qydk||[]).push([[15],{15060:(M,A,O)=>{O.r(A),O.d(A,{_IESTextureLoader:()=>c});var S=O(12980);function z(M){return M.split(" ").filter((M=>""!==M)).map((M=>parseFloat(M)))}function Q(M,A,O){for(;O.length!==A;){const A=z(M.lines[M.index++]);O.push(...A)}}function X(M,A,O){let z=0,Q=0,X=0,c=0,j=0,B=0;for(let S=0;S<M.numberOfHorizontalAngles-1;S++)if(O<M.horizontalAngles[S+1]||S===M.numberOfHorizontalAngles-2){Q=S,X=M.horizontalAngles[S],c=M.horizontalAngles[S+1];break}for(let S=0;S<M.numberOfVerticalAngles-1;S++)if(A<M.verticalAngles[S+1]||S===M.numberOfVerticalAngles-2){z=S,j=M.verticalAngles[S],B=M.verticalAngles[S+1];break}const g=c-X,e=B-j;if(0===e)return 0;const T=0===g?0:(O-X)/g,J=(A-j)/e,K=0===g?Q:Q+1,G=(0,S.Lerp)(M.candelaValues[Q][z],M.candelaValues[K][z],T),d=(0,S.Lerp)(M.candelaValues[Q][z+1],M.candelaValues[K][z+1],T);return(0,S.Lerp)(G,d,J)}class c{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(M,A,O){const S=function(M){const A={lines:new TextDecoder("utf-8").decode(M).split("\n"),index:0},O={version:A.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(A.index=1;A.lines.length>0&&!A.lines[A.index].includes("TILT=");)A.index++;A.lines[A.index].includes("INCLUDE"),A.index++;const S=z(A.lines[A.index++]);O.numberOfLights=S[0],O.lumensPerLamp=S[1],O.candelaMultiplier=S[2],O.numberOfVerticalAngles=S[3],O.numberOfHorizontalAngles=S[4],O.photometricType=S[5],O.unitsType=S[6],O.width=S[7],O.length=S[8],O.height=S[9];const c=z(A.lines[A.index++]);O.ballastFactor=c[0],O.fileGenerationType=c[1],O.inputWatts=c[2];for(let z=0;z<O.numberOfHorizontalAngles;z++)O.candelaValues[z]=[];Q(A,O.numberOfVerticalAngles,O.verticalAngles),Q(A,O.numberOfHorizontalAngles,O.horizontalAngles);for(let z=0;z<O.numberOfHorizontalAngles;z++)Q(A,O.numberOfVerticalAngles,O.candelaValues[z]);let j=-1;for(let z=0;z<O.numberOfHorizontalAngles;z++)for(let M=0;M<O.numberOfVerticalAngles;M++)O.candelaValues[z][M]*=O.candelaValues[z][M]*O.candelaMultiplier*O.ballastFactor*O.fileGenerationType,j=Math.max(j,O.candelaValues[z][M]);if(j>0)for(let z=0;z<O.numberOfHorizontalAngles;z++)for(let M=0;M<O.numberOfVerticalAngles;M++)O.candelaValues[z][M]/=j;const B=180,g=360,e=new Float32Array(64800),T=O.horizontalAngles[0],J=O.horizontalAngles[O.numberOfHorizontalAngles-1];for(let z=0;z<64800;z++){let M=z%g;const A=Math.floor(z/g);J-T!==0&&(M<T||M>=J)&&(M%=2*J,M>J&&(M=2*J-M)),e[A+M*B]=X(O,A,M)}return{width:180,height:1,data:e}}(new Uint8Array(M.buffer,M.byteOffset,M.byteLength));O(S.width,S.height,!1,!1,(()=>{const M=A.getEngine();A.type=1,A.format=6,A._gammaSpace=!1,M._uploadDataToTextureDirectly(A,S.data)}))}}},12980:(M,A,O)=>{function S(M){return parseInt(M.toString().replace(/\W/g,""))}function z(M,A){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(M-A)<=O}function Q(M,A,O){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return M<A-S||M>O+S}function X(M,A){return M===A?M:Math.random()*(A-M)+M}function c(M,A,O){return M+(A-M)*O}function j(M,A,O){let S=d(A-M,360);return S>180&&(S-=360),M+S*T(O)}function B(M,A,O){let S=0;return S=M!=A?T((O-M)/(A-M)):0,S}function g(M,A,O,S,z){const Q=z*z,X=z*Q;return M*(2*X-3*Q+1)+O*(-2*X+3*Q)+A*(X-2*Q+z)+S*(X-Q)}function e(M,A,O,S,z){const Q=z*z;return 6*(Q-z)*M+(3*Q-4*z+1)*A+6*(-Q+z)*O+(3*Q-2*z)*S}function T(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(O,Math.max(A,M))}function J(M){return M-=2*Math.PI*Math.floor((M+Math.PI)/(2*Math.PI))}function K(M){const A=M.toString(16);return M<=15?("0"+A).toUpperCase():A.toUpperCase()}function G(M){if(Math.log2)return Math.floor(Math.log2(M));if(M<0)return NaN;if(0===M)return-1/0;let A=0;if(M<1){for(;M<1;)A++,M*=2;A=-A}else if(M>1)for(;M>1;)A++,M=Math.floor(M/2);return A}function d(M,A){return M-Math.floor(M/A)*A}function w(M,A,O){return(M-A)/(O-A)}function I(M,A,O){return M*(O-A)+A}function b(M,A){let O=d(A-M,360);return O>180&&(O-=360),O}function s(M,A){const O=d(M,2*A);return A-Math.abs(O-A)}function Y(M,A,O){let S=T(O);return S=-2*S*S*S+3*S*S,A*S+M*(1-S)}function E(M,A,O){let S=0;return S=Math.abs(A-M)<=O?A:M+Math.sign(A-M)*O,S}function H(M,A,O){const S=b(M,A);let z=0;return z=-O<S&&S<O?A:E(M,A=M+S,O),z}function C(M,A,O){return(M-A)/(O-A)}function f(M,A,O){return(O-A)*M+A}function D(M,A){const O=M%A;return 0===O?A:D(A,O)}O.r(A),O.d(A,{Clamp:()=>T,DeltaAngle:()=>b,Denormalize:()=>I,ExtractAsInt:()=>S,Hermite:()=>g,Hermite1stDerivative:()=>e,HighestCommonFactor:()=>D,ILog2:()=>G,InverseLerp:()=>B,Lerp:()=>c,LerpAngle:()=>j,MoveTowards:()=>E,MoveTowardsAngle:()=>H,Normalize:()=>w,NormalizeRadians:()=>J,OutsideRange:()=>Q,PercentToRange:()=>f,PingPong:()=>s,RandomRange:()=>X,RangeToPercent:()=>C,Repeat:()=>d,SmoothStep:()=>Y,ToHex:()=>K,WithinEpsilon:()=>z})}}]);