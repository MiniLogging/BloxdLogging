"use strict";(self.k9ivgwsw3f=self.k9ivgwsw3f||[]).push([[15],{15352:(Y,b,C)=>{C.r(b),C.d(b,{_IESTextureLoader:()=>B});var R=C(12852);function q(Y){return Y.split(" ").filter((Y=>""!==Y)).map((Y=>parseFloat(Y)))}function A(Y,b,C){for(;C.length!==b;){const b=q(Y.lines[Y.index++]);C.push(...b)}}function E(Y,b,C){let q=0,A=0,E=0,B=0,g=0,r=0;for(let R=0;R<Y.numberOfHorizontalAngles-1;R++)if(C<Y.horizontalAngles[R+1]||R===Y.numberOfHorizontalAngles-2){A=R,E=Y.horizontalAngles[R],B=Y.horizontalAngles[R+1];break}for(let R=0;R<Y.numberOfVerticalAngles-1;R++)if(b<Y.verticalAngles[R+1]||R===Y.numberOfVerticalAngles-2){q=R,g=Y.verticalAngles[R],r=Y.verticalAngles[R+1];break}const O=B-E,F=r-g;if(0===F)return 0;const y=0===O?0:(C-E)/O,S=(b-g)/F,n=0===O?A:A+1,t=(0,R.Lerp)(Y.candelaValues[A][q],Y.candelaValues[n][q],y),I=(0,R.Lerp)(Y.candelaValues[A][q+1],Y.candelaValues[n][q+1],y);return(0,R.Lerp)(t,I,S)}class B{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(Y,b,C){const R=function(Y){const b={lines:new TextDecoder("utf-8").decode(Y).split("\n"),index:0},C={version:b.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(b.index=1;b.lines.length>0&&!b.lines[b.index].includes("TILT=");)b.index++;b.lines[b.index].includes("INCLUDE"),b.index++;const R=q(b.lines[b.index++]);C.numberOfLights=R[0],C.lumensPerLamp=R[1],C.candelaMultiplier=R[2],C.numberOfVerticalAngles=R[3],C.numberOfHorizontalAngles=R[4],C.photometricType=R[5],C.unitsType=R[6],C.width=R[7],C.length=R[8],C.height=R[9];const B=q(b.lines[b.index++]);C.ballastFactor=B[0],C.fileGenerationType=B[1],C.inputWatts=B[2];for(let q=0;q<C.numberOfHorizontalAngles;q++)C.candelaValues[q]=[];A(b,C.numberOfVerticalAngles,C.verticalAngles),A(b,C.numberOfHorizontalAngles,C.horizontalAngles);for(let q=0;q<C.numberOfHorizontalAngles;q++)A(b,C.numberOfVerticalAngles,C.candelaValues[q]);let g=-1;for(let q=0;q<C.numberOfHorizontalAngles;q++)for(let Y=0;Y<C.numberOfVerticalAngles;Y++)C.candelaValues[q][Y]*=C.candelaValues[q][Y]*C.candelaMultiplier*C.ballastFactor*C.fileGenerationType,g=Math.max(g,C.candelaValues[q][Y]);if(g>0)for(let q=0;q<C.numberOfHorizontalAngles;q++)for(let Y=0;Y<C.numberOfVerticalAngles;Y++)C.candelaValues[q][Y]/=g;const r=180,O=360,F=new Float32Array(64800),y=C.horizontalAngles[0],S=C.horizontalAngles[C.numberOfHorizontalAngles-1];for(let q=0;q<64800;q++){let Y=q%O;const b=Math.floor(q/O);S-y!==0&&(Y<y||Y>=S)&&(Y%=2*S,Y>S&&(Y=2*S-Y)),F[b+Y*r]=E(C,b,Y)}return{width:180,height:1,data:F}}(new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength));C(R.width,R.height,!1,!1,(()=>{const Y=b.getEngine();b.type=1,b.format=6,b._gammaSpace=!1,Y._uploadDataToTextureDirectly(b,R.data)}))}}},12852:(Y,b,C)=>{function R(Y){return parseInt(Y.toString().replace(/\W/g,""))}function q(Y,b){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(Y-b)<=C}function A(Y,b,C){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return Y<b-R||Y>C+R}function E(Y,b){return Y===b?Y:Math.random()*(b-Y)+Y}function B(Y,b,C){return Y+(b-Y)*C}function g(Y,b,C){let R=I(b-Y,360);return R>180&&(R-=360),Y+R*y(C)}function r(Y,b,C){let R=0;return R=Y!=b?y((C-Y)/(b-Y)):0,R}function O(Y,b,C,R,q){const A=q*q,E=q*A;return Y*(2*E-3*A+1)+C*(-2*E+3*A)+b*(E-2*A+q)+R*(E-A)}function F(Y,b,C,R,q){const A=q*q;return 6*(A-q)*Y+(3*A-4*q+1)*b+6*(-A+q)*C+(3*A-2*q)*R}function y(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(C,Math.max(b,Y))}function S(Y){return Y-=2*Math.PI*Math.floor((Y+Math.PI)/(2*Math.PI))}function n(Y){const b=Y.toString(16);return Y<=15?("0"+b).toUpperCase():b.toUpperCase()}function t(Y){if(Math.log2)return Math.floor(Math.log2(Y));if(Y<0)return NaN;if(0===Y)return-1/0;let b=0;if(Y<1){for(;Y<1;)b++,Y*=2;b=-b}else if(Y>1)for(;Y>1;)b++,Y=Math.floor(Y/2);return b}function I(Y,b){return Y-Math.floor(Y/b)*b}function w(Y,b,C){return(Y-b)/(C-b)}function Q(Y,b,C){return Y*(C-b)+b}function N(Y,b){let C=I(b-Y,360);return C>180&&(C-=360),C}function p(Y,b){const C=I(Y,2*b);return b-Math.abs(C-b)}function mY(Y,b,C){let R=y(C);return R=-2*R*R*R+3*R*R,b*R+Y*(1-R)}function L(Y,b,C){let R=0;return R=Math.abs(b-Y)<=C?b:Y+Math.sign(b-Y)*C,R}function u(Y,b,C){const R=N(Y,b);let q=0;return q=-C<R&&R<C?b:L(Y,b=Y+R,C),q}function c(Y,b,C){return(Y-b)/(C-b)}function l(Y,b,C){return(C-b)*Y+b}function X(Y,b){const C=Y%b;return 0===C?b:X(b,C)}C.r(b),C.d(b,{Clamp:()=>y,DeltaAngle:()=>N,Denormalize:()=>Q,ExtractAsInt:()=>R,Hermite:()=>O,Hermite1stDerivative:()=>F,HighestCommonFactor:()=>X,ILog2:()=>t,InverseLerp:()=>r,Lerp:()=>B,LerpAngle:()=>g,MoveTowards:()=>L,MoveTowardsAngle:()=>u,Normalize:()=>w,NormalizeRadians:()=>S,OutsideRange:()=>A,PercentToRange:()=>l,PingPong:()=>p,RandomRange:()=>E,RangeToPercent:()=>c,Repeat:()=>I,SmoothStep:()=>mY,ToHex:()=>n,WithinEpsilon:()=>q})}}]);