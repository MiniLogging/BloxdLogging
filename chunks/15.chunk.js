"use strict";(self.ozi0exxand9=self.ozi0exxand9||[]).push([[15],{13808:(f,v,Z)=>{Z.r(v),Z.d(v,{_IESTextureLoader:()=>e});var V=Z(11440);function h(f){return f.split(" ").filter((f=>""!==f)).map((f=>parseFloat(f)))}function J(f,v,Z){for(;Z.length!==v;){const v=h(f.lines[f.index++]);Z.push(...v)}}function l(f,v,Z){let h=0,J=0,l=0,e=0,C=0,H=0;for(let V=0;V<f.numberOfHorizontalAngles-1;V++)if(Z<f.horizontalAngles[V+1]||V===f.numberOfHorizontalAngles-2){J=V,l=f.horizontalAngles[V],e=f.horizontalAngles[V+1];break}for(let V=0;V<f.numberOfVerticalAngles-1;V++)if(v<f.verticalAngles[V+1]||V===f.numberOfVerticalAngles-2){h=V,C=f.verticalAngles[V],H=f.verticalAngles[V+1];break}const O=e-l,u=H-C;if(0===u)return 0;const W=0===O?0:(Z-l)/O,a=(v-C)/u,b=0===O?J:J+1,X=(0,V.Lerp)(f.candelaValues[J][h],f.candelaValues[b][h],W),F=(0,V.Lerp)(f.candelaValues[J][h+1],f.candelaValues[b][h+1],W);return(0,V.Lerp)(X,F,a)}class e{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(f,v,Z){const V=function(f){const v={lines:new TextDecoder("utf-8").decode(f).split("\n"),index:0},Z={version:v.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(v.index=1;v.lines.length>0&&!v.lines[v.index].includes("TILT=");)v.index++;v.lines[v.index].includes("INCLUDE"),v.index++;const V=h(v.lines[v.index++]);Z.numberOfLights=V[0],Z.lumensPerLamp=V[1],Z.candelaMultiplier=V[2],Z.numberOfVerticalAngles=V[3],Z.numberOfHorizontalAngles=V[4],Z.photometricType=V[5],Z.unitsType=V[6],Z.width=V[7],Z.length=V[8],Z.height=V[9];const e=h(v.lines[v.index++]);Z.ballastFactor=e[0],Z.fileGenerationType=e[1],Z.inputWatts=e[2];for(let h=0;h<Z.numberOfHorizontalAngles;h++)Z.candelaValues[h]=[];J(v,Z.numberOfVerticalAngles,Z.verticalAngles),J(v,Z.numberOfHorizontalAngles,Z.horizontalAngles);for(let h=0;h<Z.numberOfHorizontalAngles;h++)J(v,Z.numberOfVerticalAngles,Z.candelaValues[h]);let C=-1;for(let h=0;h<Z.numberOfHorizontalAngles;h++)for(let f=0;f<Z.numberOfVerticalAngles;f++)Z.candelaValues[h][f]*=Z.candelaValues[h][f]*Z.candelaMultiplier*Z.ballastFactor*Z.fileGenerationType,C=Math.max(C,Z.candelaValues[h][f]);if(C>0)for(let h=0;h<Z.numberOfHorizontalAngles;h++)for(let f=0;f<Z.numberOfVerticalAngles;f++)Z.candelaValues[h][f]/=C;const H=180,O=360,u=new Float32Array(64800),W=Z.horizontalAngles[0],a=Z.horizontalAngles[Z.numberOfHorizontalAngles-1];for(let h=0;h<64800;h++){let f=h%O;const v=Math.floor(h/O);a-W!==0&&(f<W||f>=a)&&(f%=2*a,f>a&&(f=2*a-f)),u[v+f*H]=l(Z,v,f)}return{width:180,height:1,data:u}}(new Uint8Array(f.buffer,f.byteOffset,f.byteLength));Z(V.width,V.height,!1,!1,(()=>{const f=v.getEngine();v.type=1,v.format=6,v._gammaSpace=!1,f._uploadDataToTextureDirectly(v,V.data)}))}}},11440:(f,v,Z)=>{function V(f){return parseInt(f.toString().replace(/\W/g,""))}function h(f,v){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(f-v)<=Z}function J(f,v,Z){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return f<v-V||f>Z+V}function l(f,v){return f===v?f:Math.random()*(v-f)+f}function e(f,v,Z){return f+(v-f)*Z}function C(f,v,Z){let V=F(v-f,360);return V>180&&(V-=360),f+V*W(Z)}function H(f,v,Z){let V=0;return V=f!=v?W((Z-f)/(v-f)):0,V}function O(f,v,Z,V,h){const J=h*h,l=h*J;return f*(2*l-3*J+1)+Z*(-2*l+3*J)+v*(l-2*J+h)+V*(l-J)}function u(f,v,Z,V,h){const J=h*h;return 6*(J-h)*f+(3*J-4*h+1)*v+6*(-J+h)*Z+(3*J-2*h)*V}function W(f){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Z,Math.max(v,f))}function a(f){return f-=2*Math.PI*Math.floor((f+Math.PI)/(2*Math.PI))}function b(f){const v=f.toString(16);return f<=15?("0"+v).toUpperCase():v.toUpperCase()}function X(f){if(Math.log2)return Math.floor(Math.log2(f));if(f<0)return NaN;if(0===f)return-1/0;let v=0;if(f<1){for(;f<1;)v++,f*=2;v=-v}else if(f>1)for(;f>1;)v++,f=Math.floor(f/2);return v}function F(f,v){return f-Math.floor(f/v)*v}function U(f,v,Z){return(f-v)/(Z-v)}function K(f,v,Z){return f*(Z-v)+v}function M(f,v){let Z=F(v-f,360);return Z>180&&(Z-=360),Z}function A(f,v){const Z=F(f,2*v);return v-Math.abs(Z-v)}function s(f,v,Z){let V=W(Z);return V=-2*V*V*V+3*V*V,v*V+f*(1-V)}function z(f,v,Z){let V=0;return V=Math.abs(v-f)<=Z?v:f+Math.sign(v-f)*Z,V}function Y(f,v,Z){const V=M(f,v);let h=0;return h=-Z<V&&V<Z?v:z(f,v=f+V,Z),h}function y(f,v,Z){return(f-v)/(Z-v)}function N(f,v,Z){return(Z-v)*f+v}function i(f,v){const Z=f%v;return 0===Z?v:i(v,Z)}Z.r(v),Z.d(v,{Clamp:()=>W,DeltaAngle:()=>M,Denormalize:()=>K,ExtractAsInt:()=>V,Hermite:()=>O,Hermite1stDerivative:()=>u,HighestCommonFactor:()=>i,ILog2:()=>X,InverseLerp:()=>H,Lerp:()=>e,LerpAngle:()=>C,MoveTowards:()=>z,MoveTowardsAngle:()=>Y,Normalize:()=>U,NormalizeRadians:()=>a,OutsideRange:()=>J,PercentToRange:()=>N,PingPong:()=>A,RandomRange:()=>l,RangeToPercent:()=>y,Repeat:()=>F,SmoothStep:()=>s,ToHex:()=>b,WithinEpsilon:()=>h})}}]);