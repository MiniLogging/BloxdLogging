"use strict";(self.irtrrknfyfo=self.irtrrknfyfo||[]).push([[15],{13792:(B,E,v)=>{v.r(E),v.d(E,{_IESTextureLoader:()=>S});var z=v(11394);function o(B){return B.split(" ").filter((B=>""!==B)).map((B=>parseFloat(B)))}function q(B,E,v){for(;v.length!==E;){const E=o(B.lines[B.index++]);v.push(...E)}}function c(B,E,v){let o=0,q=0,c=0,S=0,x=0,D=0;for(let z=0;z<B.numberOfHorizontalAngles-1;z++)if(v<B.horizontalAngles[z+1]||z===B.numberOfHorizontalAngles-2){q=z,c=B.horizontalAngles[z],S=B.horizontalAngles[z+1];break}for(let z=0;z<B.numberOfVerticalAngles-1;z++)if(E<B.verticalAngles[z+1]||z===B.numberOfVerticalAngles-2){o=z,x=B.verticalAngles[z],D=B.verticalAngles[z+1];break}const h=S-c,y=D-x;if(0===y)return 0;const Q=0===h?0:(v-c)/h,P=(E-x)/y,G=0===h?q:q+1,Y=(0,z.Lerp)(B.candelaValues[q][o],B.candelaValues[G][o],Q),a=(0,z.Lerp)(B.candelaValues[q][o+1],B.candelaValues[G][o+1],Q);return(0,z.Lerp)(Y,a,P)}class S{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(B,E,v){const z=function(B){const E={lines:new TextDecoder("utf-8").decode(B).split("\n"),index:0},v={version:E.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(E.index=1;E.lines.length>0&&!E.lines[E.index].includes("TILT=");)E.index++;E.lines[E.index].includes("INCLUDE"),E.index++;const z=o(E.lines[E.index++]);v.numberOfLights=z[0],v.lumensPerLamp=z[1],v.candelaMultiplier=z[2],v.numberOfVerticalAngles=z[3],v.numberOfHorizontalAngles=z[4],v.photometricType=z[5],v.unitsType=z[6],v.width=z[7],v.length=z[8],v.height=z[9];const S=o(E.lines[E.index++]);v.ballastFactor=S[0],v.fileGenerationType=S[1],v.inputWatts=S[2];for(let o=0;o<v.numberOfHorizontalAngles;o++)v.candelaValues[o]=[];q(E,v.numberOfVerticalAngles,v.verticalAngles),q(E,v.numberOfHorizontalAngles,v.horizontalAngles);for(let o=0;o<v.numberOfHorizontalAngles;o++)q(E,v.numberOfVerticalAngles,v.candelaValues[o]);let x=-1;for(let o=0;o<v.numberOfHorizontalAngles;o++)for(let B=0;B<v.numberOfVerticalAngles;B++)v.candelaValues[o][B]*=v.candelaValues[o][B]*v.candelaMultiplier*v.ballastFactor*v.fileGenerationType,x=Math.max(x,v.candelaValues[o][B]);if(x>0)for(let o=0;o<v.numberOfHorizontalAngles;o++)for(let B=0;B<v.numberOfVerticalAngles;B++)v.candelaValues[o][B]/=x;const D=180,h=360,y=new Float32Array(64800),Q=v.horizontalAngles[0],P=v.horizontalAngles[v.numberOfHorizontalAngles-1];for(let o=0;o<64800;o++){let B=o%h;const E=Math.floor(o/h);P-Q!==0&&(B<Q||B>=P)&&(B%=2*P,B>P&&(B=2*P-B)),y[E+B*D]=c(v,E,B)}return{width:180,height:1,data:y}}(new Uint8Array(B.buffer,B.byteOffset,B.byteLength));v(z.width,z.height,!1,!1,(()=>{const B=E.getEngine();E.type=1,E.format=6,E._gammaSpace=!1,B._uploadDataToTextureDirectly(E,z.data)}))}}},11394:(B,E,v)=>{function z(B){return parseInt(B.toString().replace(/\W/g,""))}function o(B,E){let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(B-E)<=v}function q(B,E,v){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return B<E-z||B>v+z}function c(B,E){return B===E?B:Math.random()*(E-B)+B}function S(B,E,v){return B+(E-B)*v}function x(B,E,v){let z=a(E-B,360);return z>180&&(z-=360),B+z*Q(v)}function D(B,E,v){let z=0;return z=B!=E?Q((v-B)/(E-B)):0,z}function h(B,E,v,z,o){const q=o*o,c=o*q;return B*(2*c-3*q+1)+v*(-2*c+3*q)+E*(c-2*q+o)+z*(c-q)}function y(B,E,v,z,o){const q=o*o;return 6*(q-o)*B+(3*q-4*o+1)*E+6*(-q+o)*v+(3*q-2*o)*z}function Q(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(v,Math.max(E,B))}function P(B){return B-=2*Math.PI*Math.floor((B+Math.PI)/(2*Math.PI))}function G(B){const E=B.toString(16);return B<=15?("0"+E).toUpperCase():E.toUpperCase()}function Y(B){if(Math.log2)return Math.floor(Math.log2(B));if(B<0)return NaN;if(0===B)return-1/0;let E=0;if(B<1){for(;B<1;)E++,B*=2;E=-E}else if(B>1)for(;B>1;)E++,B=Math.floor(B/2);return E}function a(B,E){return B-Math.floor(B/E)*E}function m(B,E,v){return(B-E)/(v-E)}function g(B,E,v){return B*(v-E)+E}function V(B,E){let v=a(E-B,360);return v>180&&(v-=360),v}function T(B,E){const v=a(B,2*E);return E-Math.abs(v-E)}function N(B,E,v){let z=Q(v);return z=-2*z*z*z+3*z*z,E*z+B*(1-z)}function X(B,E,v){let z=0;return z=Math.abs(E-B)<=v?E:B+Math.sign(E-B)*v,z}function r(B,E,v){const z=V(B,E);let o=0;return o=-v<z&&z<v?E:X(B,E=B+z,v),o}function i(B,E,v){return(B-E)/(v-E)}function u(B,E,v){return(v-E)*B+E}function I(B,E){const v=B%E;return 0===v?E:I(E,v)}v.r(E),v.d(E,{Clamp:()=>Q,DeltaAngle:()=>V,Denormalize:()=>g,ExtractAsInt:()=>z,Hermite:()=>h,Hermite1stDerivative:()=>y,HighestCommonFactor:()=>I,ILog2:()=>Y,InverseLerp:()=>D,Lerp:()=>S,LerpAngle:()=>x,MoveTowards:()=>X,MoveTowardsAngle:()=>r,Normalize:()=>m,NormalizeRadians:()=>P,OutsideRange:()=>q,PercentToRange:()=>u,PingPong:()=>T,RandomRange:()=>c,RangeToPercent:()=>i,Repeat:()=>a,SmoothStep:()=>N,ToHex:()=>G,WithinEpsilon:()=>o})}}]);