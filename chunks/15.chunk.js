"use strict";(self.ex92n20nlz8=self.ex92n20nlz8||[]).push([[15],{14989:(I,g,b)=>{b.r(g),b.d(g,{_IESTextureLoader:()=>J});var e=b(12610);function c(I){return I.split(" ").filter((I=>""!==I)).map((I=>parseFloat(I)))}function z(I,g,b){for(;b.length!==g;){const g=c(I.lines[I.index++]);b.push(...g)}}function M(I,g,b){let c=0,z=0,M=0,J=0,o=0,n=0;for(let e=0;e<I.numberOfHorizontalAngles-1;e++)if(b<I.horizontalAngles[e+1]||e===I.numberOfHorizontalAngles-2){z=e,M=I.horizontalAngles[e],J=I.horizontalAngles[e+1];break}for(let e=0;e<I.numberOfVerticalAngles-1;e++)if(g<I.verticalAngles[e+1]||e===I.numberOfVerticalAngles-2){c=e,o=I.verticalAngles[e],n=I.verticalAngles[e+1];break}const G=J-M,D=n-o;if(0===D)return 0;const p=0===G?0:(b-M)/G,x=(g-o)/D,Z=0===G?z:z+1,k=(0,e.Lerp)(I.candelaValues[z][c],I.candelaValues[Z][c],p),S=(0,e.Lerp)(I.candelaValues[z][c+1],I.candelaValues[Z][c+1],p);return(0,e.Lerp)(k,S,x)}class J{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(I,g,b){const e=function(I){const g={lines:new TextDecoder("utf-8").decode(I).split("\n"),index:0},b={version:g.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(g.index=1;g.lines.length>0&&!g.lines[g.index].includes("TILT=");)g.index++;g.lines[g.index].includes("INCLUDE"),g.index++;const e=c(g.lines[g.index++]);b.numberOfLights=e[0],b.lumensPerLamp=e[1],b.candelaMultiplier=e[2],b.numberOfVerticalAngles=e[3],b.numberOfHorizontalAngles=e[4],b.photometricType=e[5],b.unitsType=e[6],b.width=e[7],b.length=e[8],b.height=e[9];const J=c(g.lines[g.index++]);b.ballastFactor=J[0],b.fileGenerationType=J[1],b.inputWatts=J[2];for(let c=0;c<b.numberOfHorizontalAngles;c++)b.candelaValues[c]=[];z(g,b.numberOfVerticalAngles,b.verticalAngles),z(g,b.numberOfHorizontalAngles,b.horizontalAngles);for(let c=0;c<b.numberOfHorizontalAngles;c++)z(g,b.numberOfVerticalAngles,b.candelaValues[c]);let o=-1;for(let c=0;c<b.numberOfHorizontalAngles;c++)for(let I=0;I<b.numberOfVerticalAngles;I++)b.candelaValues[c][I]*=b.candelaValues[c][I]*b.candelaMultiplier*b.ballastFactor*b.fileGenerationType,o=Math.max(o,b.candelaValues[c][I]);if(o>0)for(let c=0;c<b.numberOfHorizontalAngles;c++)for(let I=0;I<b.numberOfVerticalAngles;I++)b.candelaValues[c][I]/=o;const n=180,G=360,D=new Float32Array(64800),p=b.horizontalAngles[0],x=b.horizontalAngles[b.numberOfHorizontalAngles-1];for(let c=0;c<64800;c++){let I=c%G;const g=Math.floor(c/G);x-p!==0&&(I<p||I>=x)&&(I%=2*x,I>x&&(I=2*x-I)),D[g+I*n]=M(b,g,I)}return{width:180,height:1,data:D}}(new Uint8Array(I.buffer,I.byteOffset,I.byteLength));b(e.width,e.height,!1,!1,(()=>{const I=g.getEngine();g.type=1,g.format=6,g._gammaSpace=!1,I._uploadDataToTextureDirectly(g,e.data)}))}}},12610:(I,g,b)=>{function e(I){return parseInt(I.toString().replace(/\W/g,""))}function c(I,g){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(I-g)<=b}function z(I,g,b){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return I<g-e||I>b+e}function M(I,g){return I===g?I:Math.random()*(g-I)+I}function J(I,g,b){return I+(g-I)*b}function o(I,g,b){let e=S(g-I,360);return e>180&&(e-=360),I+e*p(b)}function n(I,g,b){let e=0;return e=I!=g?p((b-I)/(g-I)):0,e}function G(I,g,b,e,c){const z=c*c,M=c*z;return I*(2*M-3*z+1)+b*(-2*M+3*z)+g*(M-2*z+c)+e*(M-z)}function D(I,g,b,e,c){const z=c*c;return 6*(z-c)*I+(3*z-4*c+1)*g+6*(-z+c)*b+(3*z-2*c)*e}function p(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(b,Math.max(g,I))}function x(I){return I-=2*Math.PI*Math.floor((I+Math.PI)/(2*Math.PI))}function Z(I){const g=I.toString(16);return I<=15?("0"+g).toUpperCase():g.toUpperCase()}function k(I){if(Math.log2)return Math.floor(Math.log2(I));if(I<0)return NaN;if(0===I)return-1/0;let g=0;if(I<1){for(;I<1;)g++,I*=2;g=-g}else if(I>1)for(;I>1;)g++,I=Math.floor(I/2);return g}function S(I,g){return I-Math.floor(I/g)*g}function f(I,g,b){return(I-g)/(b-g)}function V(I,g,b){return I*(b-g)+g}function a(I,g){let b=S(g-I,360);return b>180&&(b-=360),b}function v(I,g){const b=S(I,2*g);return g-Math.abs(b-g)}function X(I,g,b){let e=p(b);return e=-2*e*e*e+3*e*e,g*e+I*(1-e)}function R(I,g,b){let e=0;return e=Math.abs(g-I)<=b?g:I+Math.sign(g-I)*b,e}function E(I,g,b){const e=a(I,g);let c=0;return c=-b<e&&e<b?g:R(I,g=I+e,b),c}function mI(I,g,b){return(I-g)/(b-g)}function s(I,g,b){return(b-g)*I+g}function F(I,g){const b=I%g;return 0===b?g:F(g,b)}b.r(g),b.d(g,{Clamp:()=>p,DeltaAngle:()=>a,Denormalize:()=>V,ExtractAsInt:()=>e,Hermite:()=>G,Hermite1stDerivative:()=>D,HighestCommonFactor:()=>F,ILog2:()=>k,InverseLerp:()=>n,Lerp:()=>J,LerpAngle:()=>o,MoveTowards:()=>R,MoveTowardsAngle:()=>E,Normalize:()=>f,NormalizeRadians:()=>x,OutsideRange:()=>z,PercentToRange:()=>s,PingPong:()=>v,RandomRange:()=>M,RangeToPercent:()=>mI,Repeat:()=>S,SmoothStep:()=>X,ToHex:()=>Z,WithinEpsilon:()=>c})}}]);