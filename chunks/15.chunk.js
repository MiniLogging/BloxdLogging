"use strict";(self.gpkvekif0vo=self.gpkvekif0vo||[]).push([[15],{14840:(a,O,i)=>{i.r(O),i.d(O,{_IESTextureLoader:()=>Q});var H=i(12412);function b(a){return a.split(" ").filter((a=>""!==a)).map((a=>parseFloat(a)))}function G(a,O,i){for(;i.length!==O;){const O=b(a.lines[a.index++]);i.push(...O)}}function q(a,O,i){let b=0,G=0,q=0,Q=0,k=0,I=0;for(let H=0;H<a.numberOfHorizontalAngles-1;H++)if(i<a.horizontalAngles[H+1]||H===a.numberOfHorizontalAngles-2){G=H,q=a.horizontalAngles[H],Q=a.horizontalAngles[H+1];break}for(let H=0;H<a.numberOfVerticalAngles-1;H++)if(O<a.verticalAngles[H+1]||H===a.numberOfVerticalAngles-2){b=H,k=a.verticalAngles[H],I=a.verticalAngles[H+1];break}const P=Q-q,e=I-k;if(0===e)return 0;const h=0===P?0:(i-q)/P,j=(O-k)/e,Z=0===P?G:G+1,F=(0,H.Lerp)(a.candelaValues[G][b],a.candelaValues[Z][b],h),r=(0,H.Lerp)(a.candelaValues[G][b+1],a.candelaValues[Z][b+1],h);return(0,H.Lerp)(F,r,j)}class Q{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(a,O,i){const H=function(a){const O={lines:new TextDecoder("utf-8").decode(a).split("\n"),index:0},i={version:O.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(O.index=1;O.lines.length>0&&!O.lines[O.index].includes("TILT=");)O.index++;O.lines[O.index].includes("INCLUDE"),O.index++;const H=b(O.lines[O.index++]);i.numberOfLights=H[0],i.lumensPerLamp=H[1],i.candelaMultiplier=H[2],i.numberOfVerticalAngles=H[3],i.numberOfHorizontalAngles=H[4],i.photometricType=H[5],i.unitsType=H[6],i.width=H[7],i.length=H[8],i.height=H[9];const Q=b(O.lines[O.index++]);i.ballastFactor=Q[0],i.fileGenerationType=Q[1],i.inputWatts=Q[2];for(let b=0;b<i.numberOfHorizontalAngles;b++)i.candelaValues[b]=[];G(O,i.numberOfVerticalAngles,i.verticalAngles),G(O,i.numberOfHorizontalAngles,i.horizontalAngles);for(let b=0;b<i.numberOfHorizontalAngles;b++)G(O,i.numberOfVerticalAngles,i.candelaValues[b]);let k=-1;for(let b=0;b<i.numberOfHorizontalAngles;b++)for(let a=0;a<i.numberOfVerticalAngles;a++)i.candelaValues[b][a]*=i.candelaValues[b][a]*i.candelaMultiplier*i.ballastFactor*i.fileGenerationType,k=Math.max(k,i.candelaValues[b][a]);if(k>0)for(let b=0;b<i.numberOfHorizontalAngles;b++)for(let a=0;a<i.numberOfVerticalAngles;a++)i.candelaValues[b][a]/=k;const I=180,P=360,e=new Float32Array(64800),h=i.horizontalAngles[0],j=i.horizontalAngles[i.numberOfHorizontalAngles-1];for(let b=0;b<64800;b++){let a=b%P;const O=Math.floor(b/P);j-h!==0&&(a<h||a>=j)&&(a%=2*j,a>j&&(a=2*j-a)),e[O+a*I]=q(i,O,a)}return{width:180,height:1,data:e}}(new Uint8Array(a.buffer,a.byteOffset,a.byteLength));i(H.width,H.height,!1,!1,(()=>{const a=O.getEngine();O.type=1,O.format=6,O._gammaSpace=!1,a._uploadDataToTextureDirectly(O,H.data)}))}}},12412:(a,O,i)=>{function H(a){return parseInt(a.toString().replace(/\W/g,""))}function b(a,O){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(a-O)<=i}function G(a,O,i){let H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return a<O-H||a>i+H}function q(a,O){return a===O?a:Math.random()*(O-a)+a}function Q(a,O,i){return a+(O-a)*i}function k(a,O,i){let H=r(O-a,360);return H>180&&(H-=360),a+H*h(i)}function I(a,O,i){let H=0;return H=a!=O?h((i-a)/(O-a)):0,H}function P(a,O,i,H,b){const G=b*b,q=b*G;return a*(2*q-3*G+1)+i*(-2*q+3*G)+O*(q-2*G+b)+H*(q-G)}function e(a,O,i,H,b){const G=b*b;return 6*(G-b)*a+(3*G-4*b+1)*O+6*(-G+b)*i+(3*G-2*b)*H}function h(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(i,Math.max(O,a))}function j(a){return a-=2*Math.PI*Math.floor((a+Math.PI)/(2*Math.PI))}function Z(a){const O=a.toString(16);return a<=15?("0"+O).toUpperCase():O.toUpperCase()}function F(a){if(Math.log2)return Math.floor(Math.log2(a));if(a<0)return NaN;if(0===a)return-1/0;let O=0;if(a<1){for(;a<1;)O++,a*=2;O=-O}else if(a>1)for(;a>1;)O++,a=Math.floor(a/2);return O}function r(a,O){return a-Math.floor(a/O)*O}function J(a,O,i){return(a-O)/(i-O)}function ma(a,O,i){return a*(i-O)+O}function M(a,O){let i=r(O-a,360);return i>180&&(i-=360),i}function C(a,O){const i=r(a,2*O);return O-Math.abs(i-O)}function n(a,O,i){let H=h(i);return H=-2*H*H*H+3*H*H,O*H+a*(1-H)}function D(a,O,i){let H=0;return H=Math.abs(O-a)<=i?O:a+Math.sign(O-a)*i,H}function U(a,O,i){const H=M(a,O);let b=0;return b=-i<H&&H<i?O:D(a,O=a+H,i),b}function y(a,O,i){return(a-O)/(i-O)}function w(a,O,i){return(i-O)*a+O}function K(a,O){const i=a%O;return 0===i?O:K(O,i)}i.r(O),i.d(O,{Clamp:()=>h,DeltaAngle:()=>M,Denormalize:()=>ma,ExtractAsInt:()=>H,Hermite:()=>P,Hermite1stDerivative:()=>e,HighestCommonFactor:()=>K,ILog2:()=>F,InverseLerp:()=>I,Lerp:()=>Q,LerpAngle:()=>k,MoveTowards:()=>D,MoveTowardsAngle:()=>U,Normalize:()=>J,NormalizeRadians:()=>j,OutsideRange:()=>G,PercentToRange:()=>w,PingPong:()=>C,RandomRange:()=>q,RangeToPercent:()=>y,Repeat:()=>r,SmoothStep:()=>n,ToHex:()=>Z,WithinEpsilon:()=>b})}}]);