"use strict";(self.z22hkk7o33f=self.z22hkk7o33f||[]).push([[15],{14901:(U,G,C)=>{C.r(G),C.d(G,{_IESTextureLoader:()=>E});var L=C(12911);function X(U){return U.split(" ").filter((U=>""!==U)).map((U=>parseFloat(U)))}function l(U,G,C){for(;C.length!==G;){const G=X(U.lines[U.index++]);C.push(...G)}}function t(U,G,C){let X=0,l=0,t=0,E=0,K=0,P=0;for(let L=0;L<U.numberOfHorizontalAngles-1;L++)if(C<U.horizontalAngles[L+1]||L===U.numberOfHorizontalAngles-2){l=L,t=U.horizontalAngles[L],E=U.horizontalAngles[L+1];break}for(let L=0;L<U.numberOfVerticalAngles-1;L++)if(G<U.verticalAngles[L+1]||L===U.numberOfVerticalAngles-2){X=L,K=U.verticalAngles[L],P=U.verticalAngles[L+1];break}const O=E-t,T=P-K;if(0===T)return 0;const D=0===O?0:(C-t)/O,y=(G-K)/T,V=0===O?l:l+1,p=(0,L.Lerp)(U.candelaValues[l][X],U.candelaValues[V][X],D),I=(0,L.Lerp)(U.candelaValues[l][X+1],U.candelaValues[V][X+1],D);return(0,L.Lerp)(p,I,y)}class E{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(U,G,C){const L=function(U){const G={lines:new TextDecoder("utf-8").decode(U).split("\n"),index:0},C={version:G.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(G.index=1;G.lines.length>0&&!G.lines[G.index].includes("TILT=");)G.index++;G.lines[G.index].includes("INCLUDE"),G.index++;const L=X(G.lines[G.index++]);C.numberOfLights=L[0],C.lumensPerLamp=L[1],C.candelaMultiplier=L[2],C.numberOfVerticalAngles=L[3],C.numberOfHorizontalAngles=L[4],C.photometricType=L[5],C.unitsType=L[6],C.width=L[7],C.length=L[8],C.height=L[9];const E=X(G.lines[G.index++]);C.ballastFactor=E[0],C.fileGenerationType=E[1],C.inputWatts=E[2];for(let X=0;X<C.numberOfHorizontalAngles;X++)C.candelaValues[X]=[];l(G,C.numberOfVerticalAngles,C.verticalAngles),l(G,C.numberOfHorizontalAngles,C.horizontalAngles);for(let X=0;X<C.numberOfHorizontalAngles;X++)l(G,C.numberOfVerticalAngles,C.candelaValues[X]);let K=-1;for(let X=0;X<C.numberOfHorizontalAngles;X++)for(let U=0;U<C.numberOfVerticalAngles;U++)C.candelaValues[X][U]*=C.candelaValues[X][U]*C.candelaMultiplier*C.ballastFactor*C.fileGenerationType,K=Math.max(K,C.candelaValues[X][U]);if(K>0)for(let X=0;X<C.numberOfHorizontalAngles;X++)for(let U=0;U<C.numberOfVerticalAngles;U++)C.candelaValues[X][U]/=K;const P=180,O=360,T=new Float32Array(64800),D=C.horizontalAngles[0],y=C.horizontalAngles[C.numberOfHorizontalAngles-1];for(let X=0;X<64800;X++){let U=X%O;const G=Math.floor(X/O);y-D!==0&&(U<D||U>=y)&&(U%=2*y,U>y&&(U=2*y-U)),T[G+U*P]=t(C,G,U)}return{width:180,height:1,data:T}}(new Uint8Array(U.buffer,U.byteOffset,U.byteLength));C(L.width,L.height,!1,!1,(()=>{const U=G.getEngine();G.type=1,G.format=6,G._gammaSpace=!1,U._uploadDataToTextureDirectly(G,L.data)}))}}},12911:(U,G,C)=>{function L(U){return parseInt(U.toString().replace(/\W/g,""))}function X(U,G){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(U-G)<=C}function l(U,G,C){let L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return U<G-L||U>C+L}function t(U,G){return U===G?U:Math.random()*(G-U)+U}function E(U,G,C){return U+(G-U)*C}function K(U,G,C){let L=I(G-U,360);return L>180&&(L-=360),U+L*D(C)}function P(U,G,C){let L=0;return L=U!=G?D((C-U)/(G-U)):0,L}function O(U,G,C,L,X){const l=X*X,t=X*l;return U*(2*t-3*l+1)+C*(-2*t+3*l)+G*(t-2*l+X)+L*(t-l)}function T(U,G,C,L,X){const l=X*X;return 6*(l-X)*U+(3*l-4*X+1)*G+6*(-l+X)*C+(3*l-2*X)*L}function D(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(C,Math.max(G,U))}function y(U){return U-=2*Math.PI*Math.floor((U+Math.PI)/(2*Math.PI))}function V(U){const G=U.toString(16);return U<=15?("0"+G).toUpperCase():G.toUpperCase()}function p(U){if(Math.log2)return Math.floor(Math.log2(U));if(U<0)return NaN;if(0===U)return-1/0;let G=0;if(U<1){for(;U<1;)G++,U*=2;G=-G}else if(U>1)for(;U>1;)G++,U=Math.floor(U/2);return G}function I(U,G){return U-Math.floor(U/G)*G}function H(U,G,C){return(U-G)/(C-G)}function x(U,G,C){return U*(C-G)+G}function h(U,G){let C=I(G-U,360);return C>180&&(C-=360),C}function N(U,G){const C=I(U,2*G);return G-Math.abs(C-G)}function b(U,G,C){let L=D(C);return L=-2*L*L*L+3*L*L,G*L+U*(1-L)}function o(U,G,C){let L=0;return L=Math.abs(G-U)<=C?G:U+Math.sign(G-U)*C,L}function w(U,G,C){const L=h(U,G);let X=0;return X=-C<L&&L<C?G:o(U,G=U+L,C),X}function S(U,G,C){return(U-G)/(C-G)}function v(U,G,C){return(C-G)*U+G}function u(U,G){const C=U%G;return 0===C?G:u(G,C)}C.r(G),C.d(G,{Clamp:()=>D,DeltaAngle:()=>h,Denormalize:()=>x,ExtractAsInt:()=>L,Hermite:()=>O,Hermite1stDerivative:()=>T,HighestCommonFactor:()=>u,ILog2:()=>p,InverseLerp:()=>P,Lerp:()=>E,LerpAngle:()=>K,MoveTowards:()=>o,MoveTowardsAngle:()=>w,Normalize:()=>H,NormalizeRadians:()=>y,OutsideRange:()=>l,PercentToRange:()=>v,PingPong:()=>N,RandomRange:()=>t,RangeToPercent:()=>S,Repeat:()=>I,SmoothStep:()=>b,ToHex:()=>V,WithinEpsilon:()=>X})}}]);