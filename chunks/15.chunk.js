"use strict";(self["3b8bnhi4gzj"]=self["3b8bnhi4gzj"]||[]).push([[15],{14237:(Z,h,V)=>{V.r(h),V.d(h,{_IESTextureLoader:()=>d});var v=V(11748);function A(Z){return Z.split(" ").filter((Z=>""!==Z)).map((Z=>parseFloat(Z)))}function H(Z,h,V){for(;V.length!==h;){const h=A(Z.lines[Z.index++]);V.push(...h)}}function K(Z,h,V){let A=0,H=0,K=0,d=0,a=0,n=0;for(let v=0;v<Z.numberOfHorizontalAngles-1;v++)if(V<Z.horizontalAngles[v+1]||v===Z.numberOfHorizontalAngles-2){H=v,K=Z.horizontalAngles[v],d=Z.horizontalAngles[v+1];break}for(let v=0;v<Z.numberOfVerticalAngles-1;v++)if(h<Z.verticalAngles[v+1]||v===Z.numberOfVerticalAngles-2){A=v,a=Z.verticalAngles[v],n=Z.verticalAngles[v+1];break}const x=d-K,N=n-a;if(0===N)return 0;const D=0===x?0:(V-K)/x,k=(h-a)/N,u=0===x?H:H+1,F=(0,v.Lerp)(Z.candelaValues[H][A],Z.candelaValues[u][A],D),b=(0,v.Lerp)(Z.candelaValues[H][A+1],Z.candelaValues[u][A+1],D);return(0,v.Lerp)(F,b,k)}class d{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(Z,h,V){const v=function(Z){const h={lines:new TextDecoder("utf-8").decode(Z).split("\n"),index:0},V={version:h.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(h.index=1;h.lines.length>0&&!h.lines[h.index].includes("TILT=");)h.index++;h.lines[h.index].includes("INCLUDE"),h.index++;const v=A(h.lines[h.index++]);V.numberOfLights=v[0],V.lumensPerLamp=v[1],V.candelaMultiplier=v[2],V.numberOfVerticalAngles=v[3],V.numberOfHorizontalAngles=v[4],V.photometricType=v[5],V.unitsType=v[6],V.width=v[7],V.length=v[8],V.height=v[9];const d=A(h.lines[h.index++]);V.ballastFactor=d[0],V.fileGenerationType=d[1],V.inputWatts=d[2];for(let A=0;A<V.numberOfHorizontalAngles;A++)V.candelaValues[A]=[];H(h,V.numberOfVerticalAngles,V.verticalAngles),H(h,V.numberOfHorizontalAngles,V.horizontalAngles);for(let A=0;A<V.numberOfHorizontalAngles;A++)H(h,V.numberOfVerticalAngles,V.candelaValues[A]);let a=-1;for(let A=0;A<V.numberOfHorizontalAngles;A++)for(let Z=0;Z<V.numberOfVerticalAngles;Z++)V.candelaValues[A][Z]*=V.candelaValues[A][Z]*V.candelaMultiplier*V.ballastFactor*V.fileGenerationType,a=Math.max(a,V.candelaValues[A][Z]);if(a>0)for(let A=0;A<V.numberOfHorizontalAngles;A++)for(let Z=0;Z<V.numberOfVerticalAngles;Z++)V.candelaValues[A][Z]/=a;const n=180,x=360,N=new Float32Array(64800),D=V.horizontalAngles[0],k=V.horizontalAngles[V.numberOfHorizontalAngles-1];for(let A=0;A<64800;A++){let Z=A%x;const h=Math.floor(A/x);k-D!==0&&(Z<D||Z>=k)&&(Z%=2*k,Z>k&&(Z=2*k-Z)),N[h+Z*n]=K(V,h,Z)}return{width:180,height:1,data:N}}(new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength));V(v.width,v.height,!1,!1,(()=>{const Z=h.getEngine();h.type=1,h.format=6,h._gammaSpace=!1,Z._uploadDataToTextureDirectly(h,v.data)}))}}},11748:(Z,h,V)=>{function v(Z){return parseInt(Z.toString().replace(/\W/g,""))}function A(Z,h){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(Z-h)<=V}function H(Z,h,V){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return Z<h-v||Z>V+v}function K(Z,h){return Z===h?Z:Math.random()*(h-Z)+Z}function d(Z,h,V){return Z+(h-Z)*V}function a(Z,h,V){let v=b(h-Z,360);return v>180&&(v-=360),Z+v*D(V)}function n(Z,h,V){let v=0;return v=Z!=h?D((V-Z)/(h-Z)):0,v}function x(Z,h,V,v,A){const H=A*A,K=A*H;return Z*(2*K-3*H+1)+V*(-2*K+3*H)+h*(K-2*H+A)+v*(K-H)}function N(Z,h,V,v,A){const H=A*A;return 6*(H-A)*Z+(3*H-4*A+1)*h+6*(-H+A)*V+(3*H-2*A)*v}function D(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(V,Math.max(h,Z))}function k(Z){return Z-=2*Math.PI*Math.floor((Z+Math.PI)/(2*Math.PI))}function u(Z){const h=Z.toString(16);return Z<=15?("0"+h).toUpperCase():h.toUpperCase()}function F(Z){if(Math.log2)return Math.floor(Math.log2(Z));if(Z<0)return NaN;if(0===Z)return-1/0;let h=0;if(Z<1){for(;Z<1;)h++,Z*=2;h=-h}else if(Z>1)for(;Z>1;)h++,Z=Math.floor(Z/2);return h}function b(Z,h){return Z-Math.floor(Z/h)*h}function o(Z,h,V){return(Z-h)/(V-h)}function q(Z,h,V){return Z*(V-h)+h}function X(Z,h){let V=b(h-Z,360);return V>180&&(V-=360),V}function E(Z,h){const V=b(Z,2*h);return h-Math.abs(V-h)}function j(Z,h,V){let v=D(V);return v=-2*v*v*v+3*v*v,h*v+Z*(1-v)}function P(Z,h,V){let v=0;return v=Math.abs(h-Z)<=V?h:Z+Math.sign(h-Z)*V,v}function C(Z,h,V){const v=X(Z,h);let A=0;return A=-V<v&&v<V?h:P(Z,h=Z+v,V),A}function l(Z,h,V){return(Z-h)/(V-h)}function B(Z,h,V){return(V-h)*Z+h}function S(Z,h){const V=Z%h;return 0===V?h:S(h,V)}V.r(h),V.d(h,{Clamp:()=>D,DeltaAngle:()=>X,Denormalize:()=>q,ExtractAsInt:()=>v,Hermite:()=>x,Hermite1stDerivative:()=>N,HighestCommonFactor:()=>S,ILog2:()=>F,InverseLerp:()=>n,Lerp:()=>d,LerpAngle:()=>a,MoveTowards:()=>P,MoveTowardsAngle:()=>C,Normalize:()=>o,NormalizeRadians:()=>k,OutsideRange:()=>H,PercentToRange:()=>B,PingPong:()=>E,RandomRange:()=>K,RangeToPercent:()=>l,Repeat:()=>b,SmoothStep:()=>j,ToHex:()=>u,WithinEpsilon:()=>A})}}]);