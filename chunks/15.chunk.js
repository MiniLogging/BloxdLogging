"use strict";(self.c2c3ycupenc=self.c2c3ycupenc||[]).push([[15],{14099:(c,r,D)=>{D.r(r),D.d(r,{_IESTextureLoader:()=>a});var W=D(11696);function B(c){return c.split(" ").filter((c=>""!==c)).map((c=>parseFloat(c)))}function t(c,r,D){for(;D.length!==r;){const r=B(c.lines[c.index++]);D.push(...r)}}function u(c,r,D){let B=0,t=0,u=0,a=0,H=0,x=0;for(let W=0;W<c.numberOfHorizontalAngles-1;W++)if(D<c.horizontalAngles[W+1]||W===c.numberOfHorizontalAngles-2){t=W,u=c.horizontalAngles[W],a=c.horizontalAngles[W+1];break}for(let W=0;W<c.numberOfVerticalAngles-1;W++)if(r<c.verticalAngles[W+1]||W===c.numberOfVerticalAngles-2){B=W,H=c.verticalAngles[W],x=c.verticalAngles[W+1];break}const M=a-u,E=x-H;if(0===E)return 0;const m=0===M?0:(D-u)/M,Y=(r-H)/E,v=0===M?t:t+1,k=(0,W.Lerp)(c.candelaValues[t][B],c.candelaValues[v][B],m),w=(0,W.Lerp)(c.candelaValues[t][B+1],c.candelaValues[v][B+1],m);return(0,W.Lerp)(k,w,Y)}class a{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(c,r,D){const W=function(c){const r={lines:new TextDecoder("utf-8").decode(c).split("\n"),index:0},D={version:r.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(r.index=1;r.lines.length>0&&!r.lines[r.index].includes("TILT=");)r.index++;r.lines[r.index].includes("INCLUDE"),r.index++;const W=B(r.lines[r.index++]);D.numberOfLights=W[0],D.lumensPerLamp=W[1],D.candelaMultiplier=W[2],D.numberOfVerticalAngles=W[3],D.numberOfHorizontalAngles=W[4],D.photometricType=W[5],D.unitsType=W[6],D.width=W[7],D.length=W[8],D.height=W[9];const a=B(r.lines[r.index++]);D.ballastFactor=a[0],D.fileGenerationType=a[1],D.inputWatts=a[2];for(let B=0;B<D.numberOfHorizontalAngles;B++)D.candelaValues[B]=[];t(r,D.numberOfVerticalAngles,D.verticalAngles),t(r,D.numberOfHorizontalAngles,D.horizontalAngles);for(let B=0;B<D.numberOfHorizontalAngles;B++)t(r,D.numberOfVerticalAngles,D.candelaValues[B]);let H=-1;for(let B=0;B<D.numberOfHorizontalAngles;B++)for(let c=0;c<D.numberOfVerticalAngles;c++)D.candelaValues[B][c]*=D.candelaValues[B][c]*D.candelaMultiplier*D.ballastFactor*D.fileGenerationType,H=Math.max(H,D.candelaValues[B][c]);if(H>0)for(let B=0;B<D.numberOfHorizontalAngles;B++)for(let c=0;c<D.numberOfVerticalAngles;c++)D.candelaValues[B][c]/=H;const x=180,M=360,E=new Float32Array(64800),m=D.horizontalAngles[0],Y=D.horizontalAngles[D.numberOfHorizontalAngles-1];for(let B=0;B<64800;B++){let c=B%M;const r=Math.floor(B/M);Y-m!==0&&(c<m||c>=Y)&&(c%=2*Y,c>Y&&(c=2*Y-c)),E[r+c*x]=u(D,r,c)}return{width:180,height:1,data:E}}(new Uint8Array(c.buffer,c.byteOffset,c.byteLength));D(W.width,W.height,!1,!1,(()=>{const c=r.getEngine();r.type=1,r.format=6,r._gammaSpace=!1,c._uploadDataToTextureDirectly(r,W.data)}))}}},11696:(c,r,D)=>{function W(c){return parseInt(c.toString().replace(/\W/g,""))}function B(c,r){let D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(c-r)<=D}function t(c,r,D){let W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return c<r-W||c>D+W}function u(c,r){return c===r?c:Math.random()*(r-c)+c}function a(c,r,D){return c+(r-c)*D}function H(c,r,D){let W=w(r-c,360);return W>180&&(W-=360),c+W*m(D)}function x(c,r,D){let W=0;return W=c!=r?m((D-c)/(r-c)):0,W}function M(c,r,D,W,B){const t=B*B,u=B*t;return c*(2*u-3*t+1)+D*(-2*u+3*t)+r*(u-2*t+B)+W*(u-t)}function E(c,r,D,W,B){const t=B*B;return 6*(t-B)*c+(3*t-4*B+1)*r+6*(-t+B)*D+(3*t-2*B)*W}function m(c){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(D,Math.max(r,c))}function Y(c){return c-=2*Math.PI*Math.floor((c+Math.PI)/(2*Math.PI))}function v(c){const r=c.toString(16);return c<=15?("0"+r).toUpperCase():r.toUpperCase()}function k(c){if(Math.log2)return Math.floor(Math.log2(c));if(c<0)return NaN;if(0===c)return-1/0;let r=0;if(c<1){for(;c<1;)r++,c*=2;r=-r}else if(c>1)for(;c>1;)r++,c=Math.floor(c/2);return r}function w(c,r){return c-Math.floor(c/r)*r}function Z(c,r,D){return(c-r)/(D-r)}function J(c,r,D){return c*(D-r)+r}function q(c,r){let D=w(r-c,360);return D>180&&(D-=360),D}function j(c,r){const D=w(c,2*r);return r-Math.abs(D-r)}function X(c,r,D){let W=m(D);return W=-2*W*W*W+3*W*W,r*W+c*(1-W)}function e(c,r,D){let W=0;return W=Math.abs(r-c)<=D?r:c+Math.sign(r-c)*D,W}function y(c,r,D){const W=q(c,r);let B=0;return B=-D<W&&W<D?r:e(c,r=c+W,D),B}function U(c,r,D){return(c-r)/(D-r)}function N(c,r,D){return(D-r)*c+r}function g(c,r){const D=c%r;return 0===D?r:g(r,D)}D.r(r),D.d(r,{Clamp:()=>m,DeltaAngle:()=>q,Denormalize:()=>J,ExtractAsInt:()=>W,Hermite:()=>M,Hermite1stDerivative:()=>E,HighestCommonFactor:()=>g,ILog2:()=>k,InverseLerp:()=>x,Lerp:()=>a,LerpAngle:()=>H,MoveTowards:()=>e,MoveTowardsAngle:()=>y,Normalize:()=>Z,NormalizeRadians:()=>Y,OutsideRange:()=>t,PercentToRange:()=>N,PingPong:()=>j,RandomRange:()=>u,RangeToPercent:()=>U,Repeat:()=>w,SmoothStep:()=>X,ToHex:()=>v,WithinEpsilon:()=>B})}}]);