"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[15],{13538:(q,S,b)=>{b.r(S),b.d(S,{_IESTextureLoader:()=>g});var z=b(11121);function C(q){return q.split(" ").filter((q=>""!==q)).map((q=>parseFloat(q)))}function v(q,S,b){for(;b.length!==S;){const S=C(q.lines[q.index++]);b.push(...S)}}function U(q,S,b){let C=0,v=0,U=0,g=0,r=0,I=0;for(let z=0;z<q.numberOfHorizontalAngles-1;z++)if(b<q.horizontalAngles[z+1]||z===q.numberOfHorizontalAngles-2){v=z,U=q.horizontalAngles[z],g=q.horizontalAngles[z+1];break}for(let z=0;z<q.numberOfVerticalAngles-1;z++)if(S<q.verticalAngles[z+1]||z===q.numberOfVerticalAngles-2){C=z,r=q.verticalAngles[z],I=q.verticalAngles[z+1];break}const V=g-U,l=I-r;if(0===l)return 0;const y=0===V?0:(b-U)/V,R=(S-r)/l,G=0===V?v:v+1,Z=(0,z.Lerp)(q.candelaValues[v][C],q.candelaValues[G][C],y),H=(0,z.Lerp)(q.candelaValues[v][C+1],q.candelaValues[G][C+1],y);return(0,z.Lerp)(Z,H,R)}class g{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(q,S,b){const z=function(q){const S={lines:new TextDecoder("utf-8").decode(q).split("\n"),index:0},b={version:S.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(S.index=1;S.lines.length>0&&!S.lines[S.index].includes("TILT=");)S.index++;S.lines[S.index].includes("INCLUDE"),S.index++;const z=C(S.lines[S.index++]);b.numberOfLights=z[0],b.lumensPerLamp=z[1],b.candelaMultiplier=z[2],b.numberOfVerticalAngles=z[3],b.numberOfHorizontalAngles=z[4],b.photometricType=z[5],b.unitsType=z[6],b.width=z[7],b.length=z[8],b.height=z[9];const g=C(S.lines[S.index++]);b.ballastFactor=g[0],b.fileGenerationType=g[1],b.inputWatts=g[2];for(let C=0;C<b.numberOfHorizontalAngles;C++)b.candelaValues[C]=[];v(S,b.numberOfVerticalAngles,b.verticalAngles),v(S,b.numberOfHorizontalAngles,b.horizontalAngles);for(let C=0;C<b.numberOfHorizontalAngles;C++)v(S,b.numberOfVerticalAngles,b.candelaValues[C]);let r=-1;for(let C=0;C<b.numberOfHorizontalAngles;C++)for(let q=0;q<b.numberOfVerticalAngles;q++)b.candelaValues[C][q]*=b.candelaValues[C][q]*b.candelaMultiplier*b.ballastFactor*b.fileGenerationType,r=Math.max(r,b.candelaValues[C][q]);if(r>0)for(let C=0;C<b.numberOfHorizontalAngles;C++)for(let q=0;q<b.numberOfVerticalAngles;q++)b.candelaValues[C][q]/=r;const I=180,V=360,l=new Float32Array(64800),y=b.horizontalAngles[0],R=b.horizontalAngles[b.numberOfHorizontalAngles-1];for(let C=0;C<64800;C++){let q=C%V;const S=Math.floor(C/V);R-y!==0&&(q<y||q>=R)&&(q%=2*R,q>R&&(q=2*R-q)),l[S+q*I]=U(b,S,q)}return{width:180,height:1,data:l}}(new Uint8Array(q.buffer,q.byteOffset,q.byteLength));b(z.width,z.height,!1,!1,(()=>{const q=S.getEngine();S.type=1,S.format=6,S._gammaSpace=!1,q._uploadDataToTextureDirectly(S,z.data)}))}}},11121:(q,S,b)=>{function z(q){return parseInt(q.toString().replace(/\W/g,""))}function C(q,S){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(q-S)<=b}function v(q,S,b){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return q<S-z||q>b+z}function U(q,S){return q===S?q:Math.random()*(S-q)+q}function g(q,S,b){return q+(S-q)*b}function r(q,S,b){let z=H(S-q,360);return z>180&&(z-=360),q+z*y(b)}function I(q,S,b){let z=0;return z=q!=S?y((b-q)/(S-q)):0,z}function V(q,S,b,z,C){const v=C*C,U=C*v;return q*(2*U-3*v+1)+b*(-2*U+3*v)+S*(U-2*v+C)+z*(U-v)}function l(q,S,b,z,C){const v=C*C;return 6*(v-C)*q+(3*v-4*C+1)*S+6*(-v+C)*b+(3*v-2*C)*z}function y(q){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(b,Math.max(S,q))}function R(q){return q-=2*Math.PI*Math.floor((q+Math.PI)/(2*Math.PI))}function G(q){const S=q.toString(16);return q<=15?("0"+S).toUpperCase():S.toUpperCase()}function Z(q){if(Math.log2)return Math.floor(Math.log2(q));if(q<0)return NaN;if(0===q)return-1/0;let S=0;if(q<1){for(;q<1;)S++,q*=2;S=-S}else if(q>1)for(;q>1;)S++,q=Math.floor(q/2);return S}function H(q,S){return q-Math.floor(q/S)*S}function Q(q,S,b){return(q-S)/(b-S)}function k(q,S,b){return q*(b-S)+S}function W(q,S){let b=H(S-q,360);return b>180&&(b-=360),b}function N(q,S){const b=H(q,2*S);return S-Math.abs(b-S)}function u(q,S,b){let z=y(b);return z=-2*z*z*z+3*z*z,S*z+q*(1-z)}function X(q,S,b){let z=0;return z=Math.abs(S-q)<=b?S:q+Math.sign(S-q)*b,z}function T(q,S,b){const z=W(q,S);let C=0;return C=-b<z&&z<b?S:X(q,S=q+z,b),C}function B(q,S,b){return(q-S)/(b-S)}function t(q,S,b){return(b-S)*q+S}function f(q,S){const b=q%S;return 0===b?S:f(S,b)}b.r(S),b.d(S,{Clamp:()=>y,DeltaAngle:()=>W,Denormalize:()=>k,ExtractAsInt:()=>z,Hermite:()=>V,Hermite1stDerivative:()=>l,HighestCommonFactor:()=>f,ILog2:()=>Z,InverseLerp:()=>I,Lerp:()=>g,LerpAngle:()=>r,MoveTowards:()=>X,MoveTowardsAngle:()=>T,Normalize:()=>Q,NormalizeRadians:()=>R,OutsideRange:()=>v,PercentToRange:()=>t,PingPong:()=>N,RandomRange:()=>U,RangeToPercent:()=>B,Repeat:()=>H,SmoothStep:()=>u,ToHex:()=>G,WithinEpsilon:()=>C})}}]);