"use strict";(self.vb3rpbgyozo=self.vb3rpbgyozo||[]).push([[15],{15184:(q,I,l)=>{l.r(I),l.d(I,{_IESTextureLoader:()=>a});var w=l(12761);function t(q){return q.split(" ").filter((q=>""!==q)).map((q=>parseFloat(q)))}function O(q,I,l){for(;l.length!==I;){const I=t(q.lines[q.index++]);l.push(...I)}}function c(q,I,l){let t=0,O=0,c=0,a=0,F=0,s=0;for(let w=0;w<q.numberOfHorizontalAngles-1;w++)if(l<q.horizontalAngles[w+1]||w===q.numberOfHorizontalAngles-2){O=w,c=q.horizontalAngles[w],a=q.horizontalAngles[w+1];break}for(let w=0;w<q.numberOfVerticalAngles-1;w++)if(I<q.verticalAngles[w+1]||w===q.numberOfVerticalAngles-2){t=w,F=q.verticalAngles[w],s=q.verticalAngles[w+1];break}const Z=a-c,r=s-F;if(0===r)return 0;const x=0===Z?0:(l-c)/Z,o=(I-F)/r,d=0===Z?O:O+1,T=(0,w.Lerp)(q.candelaValues[O][t],q.candelaValues[d][t],x),V=(0,w.Lerp)(q.candelaValues[O][t+1],q.candelaValues[d][t+1],x);return(0,w.Lerp)(T,V,o)}class a{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(q,I,l){const w=function(q){const I={lines:new TextDecoder("utf-8").decode(q).split("\n"),index:0},l={version:I.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(I.index=1;I.lines.length>0&&!I.lines[I.index].includes("TILT=");)I.index++;I.lines[I.index].includes("INCLUDE"),I.index++;const w=t(I.lines[I.index++]);l.numberOfLights=w[0],l.lumensPerLamp=w[1],l.candelaMultiplier=w[2],l.numberOfVerticalAngles=w[3],l.numberOfHorizontalAngles=w[4],l.photometricType=w[5],l.unitsType=w[6],l.width=w[7],l.length=w[8],l.height=w[9];const a=t(I.lines[I.index++]);l.ballastFactor=a[0],l.fileGenerationType=a[1],l.inputWatts=a[2];for(let t=0;t<l.numberOfHorizontalAngles;t++)l.candelaValues[t]=[];O(I,l.numberOfVerticalAngles,l.verticalAngles),O(I,l.numberOfHorizontalAngles,l.horizontalAngles);for(let t=0;t<l.numberOfHorizontalAngles;t++)O(I,l.numberOfVerticalAngles,l.candelaValues[t]);let F=-1;for(let t=0;t<l.numberOfHorizontalAngles;t++)for(let q=0;q<l.numberOfVerticalAngles;q++)l.candelaValues[t][q]*=l.candelaValues[t][q]*l.candelaMultiplier*l.ballastFactor*l.fileGenerationType,F=Math.max(F,l.candelaValues[t][q]);if(F>0)for(let t=0;t<l.numberOfHorizontalAngles;t++)for(let q=0;q<l.numberOfVerticalAngles;q++)l.candelaValues[t][q]/=F;const s=180,Z=360,r=new Float32Array(64800),x=l.horizontalAngles[0],o=l.horizontalAngles[l.numberOfHorizontalAngles-1];for(let t=0;t<64800;t++){let q=t%Z;const I=Math.floor(t/Z);o-x!==0&&(q<x||q>=o)&&(q%=2*o,q>o&&(q=2*o-q)),r[I+q*s]=c(l,I,q)}return{width:180,height:1,data:r}}(new Uint8Array(q.buffer,q.byteOffset,q.byteLength));l(w.width,w.height,!1,!1,(()=>{const q=I.getEngine();I.type=1,I.format=6,I._gammaSpace=!1,q._uploadDataToTextureDirectly(I,w.data)}))}}},12761:(q,I,l)=>{function w(q){return parseInt(q.toString().replace(/\W/g,""))}function t(q,I){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(q-I)<=l}function O(q,I,l){let w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return q<I-w||q>l+w}function c(q,I){return q===I?q:Math.random()*(I-q)+q}function a(q,I,l){return q+(I-q)*l}function F(q,I,l){let w=V(I-q,360);return w>180&&(w-=360),q+w*x(l)}function s(q,I,l){let w=0;return w=q!=I?x((l-q)/(I-q)):0,w}function Z(q,I,l,w,t){const O=t*t,c=t*O;return q*(2*c-3*O+1)+l*(-2*c+3*O)+I*(c-2*O+t)+w*(c-O)}function r(q,I,l,w,t){const O=t*t;return 6*(O-t)*q+(3*O-4*t+1)*I+6*(-O+t)*l+(3*O-2*t)*w}function x(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(l,Math.max(I,q))}function o(q){return q-=2*Math.PI*Math.floor((q+Math.PI)/(2*Math.PI))}function d(q){const I=q.toString(16);return q<=15?("0"+I).toUpperCase():I.toUpperCase()}function T(q){if(Math.log2)return Math.floor(Math.log2(q));if(q<0)return NaN;if(0===q)return-1/0;let I=0;if(q<1){for(;q<1;)I++,q*=2;I=-I}else if(q>1)for(;q>1;)I++,q=Math.floor(q/2);return I}function V(q,I){return q-Math.floor(q/I)*I}function U(q,I,l){return(q-I)/(l-I)}function B(q,I,l){return q*(l-I)+I}function v(q,I){let l=V(I-q,360);return l>180&&(l-=360),l}function k(q,I){const l=V(q,2*I);return I-Math.abs(l-I)}function C(q,I,l){let w=x(l);return w=-2*w*w*w+3*w*w,I*w+q*(1-w)}function R(q,I,l){let w=0;return w=Math.abs(I-q)<=l?I:q+Math.sign(I-q)*l,w}function W(q,I,l){const w=v(q,I);let t=0;return t=-l<w&&w<l?I:R(q,I=q+w,l),t}function e(q,I,l){return(q-I)/(l-I)}function i(q,I,l){return(l-I)*q+I}function S(q,I){const l=q%I;return 0===l?I:S(I,l)}l.r(I),l.d(I,{Clamp:()=>x,DeltaAngle:()=>v,Denormalize:()=>B,ExtractAsInt:()=>w,Hermite:()=>Z,Hermite1stDerivative:()=>r,HighestCommonFactor:()=>S,ILog2:()=>T,InverseLerp:()=>s,Lerp:()=>a,LerpAngle:()=>F,MoveTowards:()=>R,MoveTowardsAngle:()=>W,Normalize:()=>U,NormalizeRadians:()=>o,OutsideRange:()=>O,PercentToRange:()=>i,PingPong:()=>k,RandomRange:()=>c,RangeToPercent:()=>e,Repeat:()=>V,SmoothStep:()=>C,ToHex:()=>d,WithinEpsilon:()=>t})}}]);