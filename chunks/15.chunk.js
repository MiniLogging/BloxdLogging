"use strict";(self.n4ygn1cq9vg=self.n4ygn1cq9vg||[]).push([[15],{14863:(e,d,v)=>{v.r(d),v.d(d,{_IESTextureLoader:()=>X});var P=v(12440);function p(e){return e.split(" ").filter((e=>""!==e)).map((e=>parseFloat(e)))}function L(e,d,v){for(;v.length!==d;){const d=p(e.lines[e.index++]);v.push(...d)}}function B(e,d,v){let p=0,L=0,B=0,X=0,z=0,W=0;for(let P=0;P<e.numberOfHorizontalAngles-1;P++)if(v<e.horizontalAngles[P+1]||P===e.numberOfHorizontalAngles-2){L=P,B=e.horizontalAngles[P],X=e.horizontalAngles[P+1];break}for(let P=0;P<e.numberOfVerticalAngles-1;P++)if(d<e.verticalAngles[P+1]||P===e.numberOfVerticalAngles-2){p=P,z=e.verticalAngles[P],W=e.verticalAngles[P+1];break}const V=X-B,k=W-z;if(0===k)return 0;const g=0===V?0:(v-B)/V,F=(d-z)/k,w=0===V?L:L+1,G=(0,P.Lerp)(e.candelaValues[L][p],e.candelaValues[w][p],g),U=(0,P.Lerp)(e.candelaValues[L][p+1],e.candelaValues[w][p+1],g);return(0,P.Lerp)(G,U,F)}class X{constructor(){this.supportCascades=!1}loadCubeData(){throw".ies not supported in Cube."}loadData(e,d,v){const P=function(e){const d={lines:new TextDecoder("utf-8").decode(e).split("\n"),index:0},v={version:d.lines[0],candelaValues:[],horizontalAngles:[],verticalAngles:[],numberOfHorizontalAngles:0,numberOfVerticalAngles:0};for(d.index=1;d.lines.length>0&&!d.lines[d.index].includes("TILT=");)d.index++;d.lines[d.index].includes("INCLUDE"),d.index++;const P=p(d.lines[d.index++]);v.numberOfLights=P[0],v.lumensPerLamp=P[1],v.candelaMultiplier=P[2],v.numberOfVerticalAngles=P[3],v.numberOfHorizontalAngles=P[4],v.photometricType=P[5],v.unitsType=P[6],v.width=P[7],v.length=P[8],v.height=P[9];const X=p(d.lines[d.index++]);v.ballastFactor=X[0],v.fileGenerationType=X[1],v.inputWatts=X[2];for(let p=0;p<v.numberOfHorizontalAngles;p++)v.candelaValues[p]=[];L(d,v.numberOfVerticalAngles,v.verticalAngles),L(d,v.numberOfHorizontalAngles,v.horizontalAngles);for(let p=0;p<v.numberOfHorizontalAngles;p++)L(d,v.numberOfVerticalAngles,v.candelaValues[p]);let z=-1;for(let p=0;p<v.numberOfHorizontalAngles;p++)for(let e=0;e<v.numberOfVerticalAngles;e++)v.candelaValues[p][e]*=v.candelaValues[p][e]*v.candelaMultiplier*v.ballastFactor*v.fileGenerationType,z=Math.max(z,v.candelaValues[p][e]);if(z>0)for(let p=0;p<v.numberOfHorizontalAngles;p++)for(let e=0;e<v.numberOfVerticalAngles;e++)v.candelaValues[p][e]/=z;const W=180,V=360,k=new Float32Array(64800),g=v.horizontalAngles[0],F=v.horizontalAngles[v.numberOfHorizontalAngles-1];for(let p=0;p<64800;p++){let e=p%V;const d=Math.floor(p/V);F-g!==0&&(e<g||e>=F)&&(e%=2*F,e>F&&(e=2*F-e)),k[d+e*W]=B(v,d,e)}return{width:180,height:1,data:k}}(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));v(P.width,P.height,!1,!1,(()=>{const e=d.getEngine();d.type=1,d.format=6,d._gammaSpace=!1,e._uploadDataToTextureDirectly(d,P.data)}))}}},12440:(e,d,v)=>{function P(e){return parseInt(e.toString().replace(/\W/g,""))}function p(e,d){let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(e-d)<=v}function L(e,d,v){let P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return e<d-P||e>v+P}function B(e,d){return e===d?e:Math.random()*(d-e)+e}function X(e,d,v){return e+(d-e)*v}function z(e,d,v){let P=U(d-e,360);return P>180&&(P-=360),e+P*g(v)}function W(e,d,v){let P=0;return P=e!=d?g((v-e)/(d-e)):0,P}function V(e,d,v,P,p){const L=p*p,B=p*L;return e*(2*B-3*L+1)+v*(-2*B+3*L)+d*(B-2*L+p)+P*(B-L)}function k(e,d,v,P,p){const L=p*p;return 6*(L-p)*e+(3*L-4*p+1)*d+6*(-L+p)*v+(3*L-2*p)*P}function g(e){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(v,Math.max(d,e))}function F(e){return e-=2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function w(e){const d=e.toString(16);return e<=15?("0"+d).toUpperCase():d.toUpperCase()}function G(e){if(Math.log2)return Math.floor(Math.log2(e));if(e<0)return NaN;if(0===e)return-1/0;let d=0;if(e<1){for(;e<1;)d++,e*=2;d=-d}else if(e>1)for(;e>1;)d++,e=Math.floor(e/2);return d}function U(e,d){return e-Math.floor(e/d)*d}function D(e,d,v){return(e-d)/(v-d)}function C(e,d,v){return e*(v-d)+d}function q(e,d){let v=U(d-e,360);return v>180&&(v-=360),v}function h(e,d){const v=U(e,2*d);return d-Math.abs(v-d)}function l(e,d,v){let P=g(v);return P=-2*P*P*P+3*P*P,d*P+e*(1-P)}function n(e,d,v){let P=0;return P=Math.abs(d-e)<=v?d:e+Math.sign(d-e)*v,P}function A(e,d,v){const P=q(e,d);let p=0;return p=-v<P&&P<v?d:n(e,d=e+P,v),p}function x(e,d,v){return(e-d)/(v-d)}function i(e,d,v){return(v-d)*e+d}function me(e,d){const v=e%d;return 0===v?d:me(d,v)}v.r(d),v.d(d,{Clamp:()=>g,DeltaAngle:()=>q,Denormalize:()=>C,ExtractAsInt:()=>P,Hermite:()=>V,Hermite1stDerivative:()=>k,HighestCommonFactor:()=>me,ILog2:()=>G,InverseLerp:()=>W,Lerp:()=>X,LerpAngle:()=>z,MoveTowards:()=>n,MoveTowardsAngle:()=>A,Normalize:()=>D,NormalizeRadians:()=>F,OutsideRange:()=>L,PercentToRange:()=>i,PingPong:()=>h,RandomRange:()=>B,RangeToPercent:()=>x,Repeat:()=>U,SmoothStep:()=>l,ToHex:()=>w,WithinEpsilon:()=>p})}}]);