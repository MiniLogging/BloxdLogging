"use strict";(self["9s4i8ue3jq"]=self["9s4i8ue3jq"]||[]).push([[14],{12812:(a,c,o)=>{o.d(c,{b:()=>i,d:()=>t,e:()=>s,i:()=>q});const s=1/2.2,q=2.2,t=(1+Math.sqrt(5))/2,i=.001},12824:(a,c,o)=>{function s(a){return parseInt(a.toString().replace(/\W/g,""))}function q(a,c){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(a-c)<=o}function t(a,c,o){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return a<c-s||a>o+s}function i(a,c){return a===c?a:Math.random()*(c-a)+a}function p(a,c,o){return a+(c-a)*o}function G(a,c,o){let s=N(c-a,360);return s>180&&(s-=360),a+s*L(o)}function T(a,c,o){let s=0;return s=a!=c?L((o-a)/(c-a)):0,s}function C(a,c,o,s,q){const t=q*q,i=q*t;return a*(2*i-3*t+1)+o*(-2*i+3*t)+c*(i-2*t+q)+s*(i-t)}function j(a,c,o,s,q){const t=q*q;return 6*(t-q)*a+(3*t-4*q+1)*c+6*(-t+q)*o+(3*t-2*q)*s}function L(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(o,Math.max(c,a))}function e(a){return a-=2*Math.PI*Math.floor((a+Math.PI)/(2*Math.PI))}function g(a){const c=a.toString(16);return a<=15?("0"+c).toUpperCase():c.toUpperCase()}function M(a){if(Math.log2)return Math.floor(Math.log2(a));if(a<0)return NaN;if(0===a)return-1/0;let c=0;if(a<1){for(;a<1;)c++,a*=2;c=-c}else if(a>1)for(;a>1;)c++,a=Math.floor(a/2);return c}function N(a,c){return a-Math.floor(a/c)*c}function y(a,c,o){return(a-c)/(o-c)}function k(a,c,o){return a*(o-c)+c}function n(a,c){let o=N(c-a,360);return o>180&&(o-=360),o}function f(a,c){const o=N(a,2*c);return c-Math.abs(o-c)}function J(a,c,o){let s=L(o);return s=-2*s*s*s+3*s*s,c*s+a*(1-s)}function w(a,c,o){let s=0;return s=Math.abs(c-a)<=o?c:a+Math.sign(c-a)*o,s}function Z(a,c,o){const s=n(a,c);let q=0;return q=-o<s&&s<o?c:w(a,c=a+s,o),q}function h(a,c,o){return(a-c)/(o-c)}function U(a,c,o){return(o-c)*a+c}function S(a,c){const o=a%c;return 0===o?c:S(c,o)}o.r(c),o.d(c,{Clamp:()=>L,DeltaAngle:()=>n,Denormalize:()=>k,ExtractAsInt:()=>s,Hermite:()=>C,Hermite1stDerivative:()=>j,HighestCommonFactor:()=>S,ILog2:()=>M,InverseLerp:()=>T,Lerp:()=>p,LerpAngle:()=>G,MoveTowards:()=>w,MoveTowardsAngle:()=>Z,Normalize:()=>y,NormalizeRadians:()=>e,OutsideRange:()=>t,PercentToRange:()=>U,PingPong:()=>f,RandomRange:()=>i,RangeToPercent:()=>h,Repeat:()=>N,SmoothStep:()=>J,ToHex:()=>g,WithinEpsilon:()=>q})},12810:(a,c,o)=>{o.r(c),o.d(c,{Matrix:()=>k,Quaternion:()=>y,TmpVectors:()=>f,Vector2:()=>g,Hc:()=>M,Vector4:()=>N});var s=o(12812),q=o(12820),t=o(12776),i=o(12751),p=o(12680),G=o(12824);class T{}function C(a,c,o){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const q=a.hc(),t=c.hc(),i=q[0],p=q[1],G=q[2],T=q[3],C=q[4],j=q[5],L=q[6],e=q[7],g=q[8],M=q[9],N=q[10],y=q[11],k=q[12],n=q[13],f=q[14],J=q[15],w=t[0],Z=t[1],h=t[2],U=t[3],S=t[4],r=t[5],x=t[6],R=t[7],d=t[8],X=t[9],W=t[10],F=t[11],O=t[12],B=t[13],u=t[14],K=t[15];o[s]=i*w+p*S+G*d+T*O,o[s+1]=i*Z+p*r+G*X+T*B,o[s+2]=i*h+p*x+G*W+T*u,o[s+3]=i*U+p*R+G*F+T*K,o[s+4]=C*w+j*S+L*d+e*O,o[s+5]=C*Z+j*r+L*X+e*B,o[s+6]=C*h+j*x+L*W+e*u,o[s+7]=C*U+j*R+L*F+e*K,o[s+8]=g*w+M*S+N*d+y*O,o[s+9]=g*Z+M*r+N*X+y*B,o[s+10]=g*h+M*x+N*W+y*u,o[s+11]=g*U+M*R+N*F+y*K,o[s+12]=k*w+n*S+f*d+J*O,o[s+13]=k*Z+n*r+f*X+J*B,o[s+14]=k*h+n*x+f*W+J*u,o[s+15]=k*U+n*R+f*F+J*K}function j(a,c){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a.hc();c[o]=s[0],c[o+1]=s[1],c[o+2]=s[2],c[o+3]=s[3],c[o+4]=s[4],c[o+5]=s[5],c[o+6]=s[6],c[o+7]=s[7],c[o+8]=s[8],c[o+9]=s[9],c[o+10]=s[10],c[o+11]=s[11],c[o+12]=s[12],c[o+13]=s[13],c[o+14]=s[14],c[o+15]=s[15]}function L(a,c){const o=a.hc(),s=o[0],q=o[1],t=o[2],i=o[3],p=o[4],G=o[5],T=o[6],C=o[7],j=o[8],L=o[9],e=o[10],g=o[11],M=o[12],N=o[13],y=o[14],k=o[15],n=e*k-y*g,f=L*k-N*g,J=L*y-N*e,w=j*k-M*g,Z=j*y-e*M,h=j*N-M*L,U=+(G*n-T*f+C*J),S=-(p*n-T*w+C*Z),r=+(p*f-G*w+C*h),x=-(p*J-G*Z+T*h),R=s*U+q*S+t*r+i*x;if(0===R)return!1;const d=1/R,X=T*k-y*C,W=G*k-N*C,F=G*y-N*T,O=p*k-M*C,B=p*y-M*T,u=p*N-M*G,K=T*g-e*C,D=G*g-L*C,I=G*e-L*T,Y=p*g-j*C,P=p*e-j*T,ma=p*L-j*G,V=-(q*n-t*f+i*J),E=+(s*n-t*w+i*Z),H=-(s*f-q*w+i*h),b=+(s*J-q*Z+t*h),A=+(q*X-t*W+i*F),v=-(s*X-t*O+i*B),l=+(s*W-q*O+i*u),Q=-(s*F-q*B+t*u),z=-(q*K-t*D+i*I),aa=+(s*K-t*Y+i*P),ca=-(s*D-q*Y+i*ma),oa=+(s*I-q*P+t*ma);return c[0]=U*d,c[1]=V*d,c[2]=A*d,c[3]=z*d,c[4]=S*d,c[5]=E*d,c[6]=v*d,c[7]=aa*d,c[8]=r*d,c[9]=H*d,c[10]=l*d,c[11]=ca*d,c[12]=x*d,c[13]=b*d,c[14]=Q*d,c[15]=oa*d,!0}T._UpdateFlagSeed=0;const e=a=>parseInt(a.toString().replace(/\W/g,""));class g{constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=a,this.y=c}toString(){return`{X: ${this.x} Y: ${this.y}}`}getClassName(){return"Vector2"}getHashCode(){let a=e(this.x);return a=397*a^e(this.y),a}toArray(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[c]=this.x,a[c+1]=this.y,this}ts(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g.FromArrayToRef(a,c,this),this}hc(){return[this.x,this.y]}G(a){return this.x=a.x,this.y=a.y,this}Bc(a,c){return this.x=a,this.y=c,this}set(a,c){return this.Bc(a,c)}Dc(a){return this.Bc(a,a)}add(a){return new g(this.x+a.x,this.y+a.y)}addToRef(a,c){return c.x=this.x+a.x,c.y=this.y+a.y,c}addInPlace(a){return this.x+=a.x,this.y+=a.y,this}addInPlaceFromFloats(a,c){return this.x+=a,this.y+=c,this}addVector3(a){return new g(this.x+a.x,this.y+a.y)}vc(a){return new g(this.x-a.x,this.y-a.y)}subtractToRef(a,c){return c.x=this.x-a.x,c.y=this.y-a.y,c}Vj(a){return this.x-=a.x,this.y-=a.y,this}multiplyInPlace(a){return this.x*=a.x,this.y*=a.y,this}multiply(a){return new g(this.x*a.x,this.y*a.y)}multiplyToRef(a,c){return c.x=this.x*a.x,c.y=this.y*a.y,c}multiplyByFloats(a,c){return new g(this.x*a,this.y*c)}divide(a){return new g(this.x/a.x,this.y/a.y)}divideToRef(a,c){return c.x=this.x/a.x,c.y=this.y/a.y,c}divideInPlace(a){return this.x=this.x/a.x,this.y=this.y/a.y,this}minimizeInPlace(a){return this.minimizeInPlaceFromFloats(a.x,a.y)}maximizeInPlace(a){return this.maximizeInPlaceFromFloats(a.x,a.y)}minimizeInPlaceFromFloats(a,c){return this.x=Math.min(a,this.x),this.y=Math.min(c,this.y),this}maximizeInPlaceFromFloats(a,c){return this.x=Math.max(a,this.x),this.y=Math.max(c,this.y),this}subtractFromFloats(a,c){return new g(this.x-a,this.y-c)}subtractFromFloatsToRef(a,c,o){return o.x=this.x-a,o.y=this.y-c,o}negate(){return new g(-this.x,-this.y)}negateInPlace(){return this.x*=-1,this.y*=-1,this}negateToRef(a){return a.x=-this.x,a.y=-this.y,a}scaleInPlace(a){return this.x*=a,this.y*=a,this}scale(a){return new g(this.x*a,this.y*a)}scaleToRef(a,c){return c.x=this.x*a,c.y=this.y*a,c}scaleAndAddToRef(a,c){return c.x+=this.x*a,c.y+=this.y*a,c}equals(a){return a&&this.x===a.x&&this.y===a.y}equalsWithEpsilon(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;return a&&(0,G.WithinEpsilon)(this.x,a.x,c)&&(0,G.WithinEpsilon)(this.y,a.y,c)}equalsToFloats(a,c){return this.x===a&&this.y===c}floor(){return new g(Math.floor(this.x),Math.floor(this.y))}floorToRef(a){return a.x=Math.floor(this.x),a.y=Math.floor(this.y),a}fract(){return new g(this.x-Math.floor(this.x),this.y-Math.floor(this.y))}fractToRef(a){return a.x=this.x-Math.floor(this.x),a.y=this.y-Math.floor(this.y),a}rotate(a){return this.rotateToRef(a,new g)}rotateToRef(a,c){const o=Math.cos(a),s=Math.sin(a);return c.x=o*this.x-s*this.y,c.y=s*this.x+o*this.y,c}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(a){return 0===a||1===a?this:this.scaleInPlace(1/a)}normalizeToNew(){const a=new g;return this.normalizeToRef(a),a}normalizeToRef(a){const c=this.length();return 0===c&&(a.x=this.x,a.y=this.y),this.scaleToRef(1/c,a)}clone(){return new g(this.x,this.y)}dot(a){return this.x*a.x+this.y*a.y}static Zero(){return new g(0,0)}static One(){return new g(1,1)}static Random(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new g((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static RandomToRef(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).Bc((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static get ZeroReadOnly(){return g._ZeroReadOnly}static qo(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new g(a[c],a[c+1])}static FromArrayToRef(a,c,o){return o.x=a[c],o.y=a[c+1],o}static FromFloatsToRef(a,c,o){return o.Bc(a,c),o}static CatmullRom(a,c,o,s,q){const t=q*q,i=q*t,p=.5*(2*c.x+(-a.x+o.x)*q+(2*a.x-5*c.x+4*o.x-s.x)*t+(-a.x+3*c.x-3*o.x+s.x)*i),G=.5*(2*c.y+(-a.y+o.y)*q+(2*a.y-5*c.y+4*o.y-s.y)*t+(-a.y+3*c.y-3*o.y+s.y)*i);return new g(p,G)}static ClampToRef(a,c,o,s){return s.x=(0,G.Clamp)(a.x,c.x,o.x),s.y=(0,G.Clamp)(a.y,c.y,o.y),s}static Clamp(a,c,o){const s=(0,G.Clamp)(a.x,c.x,o.x),q=(0,G.Clamp)(a.y,c.y,o.y);return new g(s,q)}static Hermite(a,c,o,s,q){const t=q*q,i=q*t,p=2*i-3*t+1,G=-2*i+3*t,T=i-2*t+q,C=i-t,j=a.x*p+o.x*G+c.x*T+s.x*C,L=a.y*p+o.y*G+c.y*T+s.y*C;return new g(j,L)}static Hermite1stDerivative(a,c,o,s,q){return this.Hermite1stDerivativeToRef(a,c,o,s,q,new g)}static Hermite1stDerivativeToRef(a,c,o,s,q,t){const i=q*q;return t.x=6*(i-q)*a.x+(3*i-4*q+1)*c.x+6*(-i+q)*o.x+(3*i-2*q)*s.x,t.y=6*(i-q)*a.y+(3*i-4*q+1)*c.y+6*(-i+q)*o.y+(3*i-2*q)*s.y,t}static Lerp(a,c,o){return g.LerpToRef(a,c,o,new g)}static LerpToRef(a,c,o,s){return s.x=a.x+(c.x-a.x)*o,s.y=a.y+(c.y-a.y)*o,s}static Dot(a,c){return a.x*c.x+a.y*c.y}static Normalize(a){return g.NormalizeToRef(a,new g)}static NormalizeToRef(a,c){return a.normalizeToRef(c),c}static Minimize(a,c){const o=a.x<c.x?a.x:c.x,s=a.y<c.y?a.y:c.y;return new g(o,s)}static Maximize(a,c){const o=a.x>c.x?a.x:c.x,s=a.y>c.y?a.y:c.y;return new g(o,s)}static Transform(a,c){return g.TransformToRef(a,c,new g)}static TransformToRef(a,c,o){const s=c.m,q=a.x*s[0]+a.y*s[4]+s[12],t=a.x*s[1]+a.y*s[5]+s[13];return o.x=q,o.y=t,o}static PointInTriangle(a,c,o,s){const q=.5*(-o.y*s.x+c.y*(-o.x+s.x)+c.x*(o.y-s.y)+o.x*s.y),t=q<0?-1:1,i=(c.y*s.x-c.x*s.y+(s.y-c.y)*a.x+(c.x-s.x)*a.y)*t,p=(c.x*o.y-c.y*o.x+(c.y-o.y)*a.x+(o.x-c.x)*a.y)*t;return i>0&&p>0&&i+p<2*q*t}static Distance(a,c){return Math.sqrt(g.DistanceSquared(a,c))}static DistanceSquared(a,c){const o=a.x-c.x,s=a.y-c.y;return o*o+s*s}static Center(a,c){return g.CenterToRef(a,c,new g)}static CenterToRef(a,c,o){return o.Bc((a.x+c.x)/2,(a.y+c.y)/2)}static DistanceOfPointFromSegment(a,c,o){const s=g.DistanceSquared(c,o);if(0===s)return g.Distance(a,c);const q=o.vc(c),t=Math.max(0,Math.min(1,g.Dot(a.vc(c),q)/s)),i=c.add(q.multiplyByFloats(t,t));return g.Distance(a,i)}}g._V8PerformanceHack=new g(.5,.5),g._ZeroReadOnly=g.Zero(),Object.defineProperties(g.prototype,{dimension:{value:[2]},rank:{value:1}});class M{get x(){return this._x}set x(a){this._x=a,this._isDirty=!0}get y(){return this._y}set y(a){this._y=a,this._isDirty=!0}get z(){return this._z}set z(a){this._z=a,this._isDirty=!0}constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._isDirty=!0,this._x=a,this._y=c,this._z=o}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z}}`}getClassName(){return"Hc"}getHashCode(){let a=e(this._x);return a=397*a^e(this._y),a=397*a^e(this._z),a}hc(){return[this._x,this._y,this._z]}toArray(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[c]=this._x,a[c+1]=this._y,a[c+2]=this._z,this}ts(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M.FromArrayToRef(a,c,this),this}toQuaternion(){return y.RotationYawPitchRoll(this._y,this._x,this._z)}addInPlace(a){return this._x+=a._x,this._y+=a._y,this._z+=a._z,this._isDirty=!0,this}addInPlaceFromFloats(a,c,o){return this._x+=a,this._y+=c,this._z+=o,this._isDirty=!0,this}add(a){return new M(this._x+a._x,this._y+a._y,this._z+a._z)}addToRef(a,c){return c._x=this._x+a._x,c._y=this._y+a._y,c._z=this._z+a._z,c._isDirty=!0,c}Vj(a){return this._x-=a._x,this._y-=a._y,this._z-=a._z,this._isDirty=!0,this}vc(a){return new M(this._x-a._x,this._y-a._y,this._z-a._z)}subtractToRef(a,c){return this.subtractFromFloatsToRef(a._x,a._y,a._z,c)}subtractFromFloats(a,c,o){return new M(this._x-a,this._y-c,this._z-o)}subtractFromFloatsToRef(a,c,o,s){return s._x=this._x-a,s._y=this._y-c,s._z=this._z-o,s._isDirty=!0,s}negate(){return new M(-this._x,-this._y,-this._z)}negateInPlace(){return this._x*=-1,this._y*=-1,this._z*=-1,this._isDirty=!0,this}negateToRef(a){return a._x=-1*this._x,a._y=-1*this._y,a._z=-1*this._z,a._isDirty=!0,a}scaleInPlace(a){return this._x*=a,this._y*=a,this._z*=a,this._isDirty=!0,this}scale(a){return new M(this._x*a,this._y*a,this._z*a)}scaleToRef(a,c){return c._x=this._x*a,c._y=this._y*a,c._z=this._z*a,c._isDirty=!0,c}getNormalToRef(a){const c=this.length();let o=Math.acos(this._y/c);const s=Math.atan2(this._z,this._x);o>Math.PI/2?o-=Math.PI/2:o+=Math.PI/2;const q=c*Math.sin(o)*Math.cos(s),t=c*Math.cos(o),i=c*Math.sin(o)*Math.sin(s);return a.set(q,t,i),a}applyRotationQuaternionToRef(a,c){const o=this._x,s=this._y,q=this._z,t=a._x,i=a._y,p=a._z,G=a._w,T=2*(i*q-p*s),C=2*(p*o-t*q),j=2*(t*s-i*o);return c._x=o+G*T+i*j-p*C,c._y=s+G*C+p*T-t*j,c._z=q+G*j+t*C-i*T,c._isDirty=!0,c}applyRotationQuaternionInPlace(a){return this.applyRotationQuaternionToRef(a,this)}applyRotationQuaternion(a){return this.applyRotationQuaternionToRef(a,new M)}scaleAndAddToRef(a,c){return c._x+=this._x*a,c._y+=this._y*a,c._z+=this._z*a,c._isDirty=!0,c}projectOnPlane(a,c){return this.projectOnPlaneToRef(a,c,new M)}projectOnPlaneToRef(a,c,o){const s=a.normal,q=a.d,t=n.Hc[0];this.subtractToRef(c,t),t.normalize();const i=M.Dot(t,s);if(Math.abs(i)<1e-10)o.Dc(1/0);else{const a=-(M.Dot(c,s)+q)/i,p=t.scaleInPlace(a);c.addToRef(p,o)}return o}equals(a){return a&&this._x===a._x&&this._y===a._y&&this._z===a._z}equalsWithEpsilon(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;return a&&(0,G.WithinEpsilon)(this._x,a._x,c)&&(0,G.WithinEpsilon)(this._y,a._y,c)&&(0,G.WithinEpsilon)(this._z,a._z,c)}equalsToFloats(a,c,o){return this._x===a&&this._y===c&&this._z===o}multiplyInPlace(a){return this._x*=a._x,this._y*=a._y,this._z*=a._z,this._isDirty=!0,this}multiply(a){return this.multiplyByFloats(a._x,a._y,a._z)}multiplyToRef(a,c){return c._x=this._x*a._x,c._y=this._y*a._y,c._z=this._z*a._z,c._isDirty=!0,c}multiplyByFloats(a,c,o){return new M(this._x*a,this._y*c,this._z*o)}divide(a){return new M(this._x/a._x,this._y/a._y,this._z/a._z)}divideToRef(a,c){return c._x=this._x/a._x,c._y=this._y/a._y,c._z=this._z/a._z,c._isDirty=!0,c}divideInPlace(a){return this._x=this._x/a._x,this._y=this._y/a._y,this._z=this._z/a._z,this._isDirty=!0,this}minimizeInPlace(a){return this.minimizeInPlaceFromFloats(a._x,a._y,a._z)}maximizeInPlace(a){return this.maximizeInPlaceFromFloats(a._x,a._y,a._z)}minimizeInPlaceFromFloats(a,c,o){return a<this._x&&(this.x=a),c<this._y&&(this.y=c),o<this._z&&(this.z=o),this}maximizeInPlaceFromFloats(a,c,o){return a>this._x&&(this.x=a),c>this._y&&(this.y=c),o>this._z&&(this.z=o),this}isNonUniformWithinEpsilon(a){const c=Math.abs(this._x),o=Math.abs(this._y);if(!(0,G.WithinEpsilon)(c,o,a))return!0;const s=Math.abs(this._z);return!(0,G.WithinEpsilon)(c,s,a)||!(0,G.WithinEpsilon)(o,s,a)}get isNonUniform(){const a=Math.abs(this._x);if(a!==Math.abs(this._y))return!0;return a!==Math.abs(this._z)}floorToRef(a){return a._x=Math.floor(this._x),a._y=Math.floor(this._y),a._z=Math.floor(this._z),a._isDirty=!0,a}floor(){return new M(Math.floor(this._x),Math.floor(this._y),Math.floor(this._z))}fractToRef(a){return a._x=this._x-Math.floor(this._x),a._y=this._y-Math.floor(this._y),a._z=this._z-Math.floor(this._z),a._isDirty=!0,a}fract(){return new M(this._x-Math.floor(this._x),this._y-Math.floor(this._y),this._z-Math.floor(this._z))}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z}get hasAZeroComponent(){return this._x*this._y*this._z===0}normalize(){return this.normalizeFromLength(this.length())}reorderInPlace(a){if("xyz"===(a=a.toLowerCase()))return this;const c=n.Hc[0].G(this);return this.x=c[a[0]],this.y=c[a[1]],this.z=c[a[2]],this}rotateByQuaternionToRef(a,c){return a.toRotationMatrix(n.Matrix[0]),M.TransformCoordinatesToRef(this,n.Matrix[0],c),c}rotateByQuaternionAroundPointToRef(a,c,o){return this.subtractToRef(c,n.Hc[0]),n.Hc[0].rotateByQuaternionToRef(a,n.Hc[0]),c.addToRef(n.Hc[0],o),o}cross(a){return M.CrossToRef(this,a,new M)}normalizeFromLength(a){return 0===a||1===a?this:this.scaleInPlace(1/a)}normalizeToNew(){return this.normalizeToRef(new M)}normalizeToRef(a){const c=this.length();return 0===c||1===c?(a._x=this._x,a._y=this._y,a._z=this._z,a._isDirty=!0,a):this.scaleToRef(1/c,a)}clone(){return new M(this._x,this._y,this._z)}G(a){return this.Bc(a._x,a._y,a._z)}Bc(a,c,o){return this._x=a,this._y=c,this._z=o,this._isDirty=!0,this}set(a,c,o){return this.Bc(a,c,o)}Dc(a){return this._x=this._y=this._z=a,this._isDirty=!0,this}static GetClipFactor(a,c,o,s){const q=M.Dot(a,o);return(q-s)/(q-M.Dot(c,o))}static GetAngleBetweenVectors(a,c,o){const s=a.normalizeToRef(n.Hc[1]),q=c.normalizeToRef(n.Hc[2]);let t=M.Dot(s,q);t=(0,G.Clamp)(t,-1,1);const i=Math.acos(t),p=n.Hc[3];return M.CrossToRef(s,q,p),M.Dot(p,o)>0?isNaN(i)?0:i:isNaN(i)?-Math.PI:-Math.acos(t)}static GetAngleBetweenVectorsOnPlane(a,c,o){n.Hc[0].G(a);const s=n.Hc[0];n.Hc[1].G(c);const q=n.Hc[1];n.Hc[2].G(o);const t=n.Hc[2],i=n.Hc[3],p=n.Hc[4];s.normalize(),q.normalize(),t.normalize(),M.CrossToRef(t,s,i),M.CrossToRef(i,t,p);const T=Math.atan2(M.Dot(q,i),M.Dot(q,p));return(0,G.NormalizeRadians)(T)}static PitchYawRollToMoveBetweenPointsToRef(a,c,o){const s=f.Hc[0];return c.subtractToRef(a,s),o._y=Math.atan2(s.x,s.z)||0,o._x=Math.atan2(Math.sqrt(s.x**2+s.z**2),s.y)||0,o._z=0,o._isDirty=!0,o}static PitchYawRollToMoveBetweenPoints(a,c){const o=M.Zero();return M.PitchYawRollToMoveBetweenPointsToRef(a,c,o)}static SlerpToRef(a,c,o,q){o=(0,G.Clamp)(o,0,1);const t=n.Hc[0],i=n.Hc[1];t.G(a);const p=t.length();t.normalizeFromLength(p),i.G(c);const T=i.length();i.normalizeFromLength(T);const C=M.Dot(t,i);let j,L;if(C<1-s.b){const a=Math.acos(C),c=1/Math.sin(a);j=Math.sin((1-o)*a)*c,L=Math.sin(o*a)*c}else j=1-o,L=o;return t.scaleInPlace(j),i.scaleInPlace(L),q.G(t).addInPlace(i),q.scaleInPlace((0,G.Lerp)(p,T,o)),q}static SmoothToRef(a,c,o,s,q){return M.SlerpToRef(a,c,0===s?1:o/s,q),q}static qo(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new M(a[c],a[c+1],a[c+2])}static FromFloatArray(a,c){return M.qo(a,c)}static FromArrayToRef(a,c,o){return o._x=a[c],o._y=a[c+1],o._z=a[c+2],o._isDirty=!0,o}static FromFloatArrayToRef(a,c,o){return M.FromArrayToRef(a,c,o)}static FromFloatsToRef(a,c,o,s){return s.Bc(a,c,o),s}static Zero(){return new M(0,0,0)}static One(){return new M(1,1,1)}static Up(){return new M(0,1,0)}static get UpReadOnly(){return M._UpReadOnly}static get DownReadOnly(){return M._DownReadOnly}static get RightReadOnly(){return M._RightReadOnly}static get LeftReadOnly(){return M._LeftReadOnly}static get LeftHandedForwardReadOnly(){return M._LeftHandedForwardReadOnly}static get RightHandedForwardReadOnly(){return M._RightHandedForwardReadOnly}static get LeftHandedBackwardReadOnly(){return M._LeftHandedBackwardReadOnly}static get RightHandedBackwardReadOnly(){return M._RightHandedBackwardReadOnly}static get ZeroReadOnly(){return M._ZeroReadOnly}static get OneReadOnly(){return M._OneReadOnly}static Down(){return new M(0,-1,0)}static Forward(){return new M(0,0,arguments.length>0&&void 0!==arguments[0]&&arguments[0]?-1:1)}static Backward(){return new M(0,0,arguments.length>0&&void 0!==arguments[0]&&arguments[0]?1:-1)}static Right(){return new M(1,0,0)}static Left(){return new M(-1,0,0)}static Random(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new M((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static RandomToRef(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).Bc((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static TransformCoordinates(a,c){const o=M.Zero();return M.TransformCoordinatesToRef(a,c,o),o}static TransformCoordinatesToRef(a,c,o){return M.TransformCoordinatesFromFloatsToRef(a._x,a._y,a._z,c,o),o}static TransformCoordinatesFromFloatsToRef(a,c,o,s,q){const t=s.m,i=a*t[0]+c*t[4]+o*t[8]+t[12],p=a*t[1]+c*t[5]+o*t[9]+t[13],G=a*t[2]+c*t[6]+o*t[10]+t[14],T=1/(a*t[3]+c*t[7]+o*t[11]+t[15]);return q._x=i*T,q._y=p*T,q._z=G*T,q._isDirty=!0,q}static TransformNormal(a,c){const o=M.Zero();return M.TransformNormalToRef(a,c,o),o}static TransformNormalToRef(a,c,o){return this.TransformNormalFromFloatsToRef(a._x,a._y,a._z,c,o),o}static TransformNormalFromFloatsToRef(a,c,o,s,q){const t=s.m;return q._x=a*t[0]+c*t[4]+o*t[8],q._y=a*t[1]+c*t[5]+o*t[9],q._z=a*t[2]+c*t[6]+o*t[10],q._isDirty=!0,q}static CatmullRom(a,c,o,s,q){const t=q*q,i=q*t,p=.5*(2*c._x+(-a._x+o._x)*q+(2*a._x-5*c._x+4*o._x-s._x)*t+(-a._x+3*c._x-3*o._x+s._x)*i),G=.5*(2*c._y+(-a._y+o._y)*q+(2*a._y-5*c._y+4*o._y-s._y)*t+(-a._y+3*c._y-3*o._y+s._y)*i),T=.5*(2*c._z+(-a._z+o._z)*q+(2*a._z-5*c._z+4*o._z-s._z)*t+(-a._z+3*c._z-3*o._z+s._z)*i);return new M(p,G,T)}static Clamp(a,c,o){const s=new M;return M.ClampToRef(a,c,o,s),s}static ClampToRef(a,c,o,s){let q=a._x;q=q>o._x?o._x:q,q=q<c._x?c._x:q;let t=a._y;t=t>o._y?o._y:t,t=t<c._y?c._y:t;let i=a._z;return i=i>o._z?o._z:i,i=i<c._z?c._z:i,s.Bc(q,t,i),s}static CheckExtends(a,c,o){c.minimizeInPlace(a),o.maximizeInPlace(a)}static Hermite(a,c,o,s,q){const t=q*q,i=q*t,p=2*i-3*t+1,G=-2*i+3*t,T=i-2*t+q,C=i-t,j=a._x*p+o._x*G+c._x*T+s._x*C,L=a._y*p+o._y*G+c._y*T+s._y*C,e=a._z*p+o._z*G+c._z*T+s._z*C;return new M(j,L,e)}static Hermite1stDerivative(a,c,o,s,q){const t=new M;return this.Hermite1stDerivativeToRef(a,c,o,s,q,t),t}static Hermite1stDerivativeToRef(a,c,o,s,q,t){const i=q*q;return t._x=6*(i-q)*a._x+(3*i-4*q+1)*c._x+6*(-i+q)*o._x+(3*i-2*q)*s._x,t._y=6*(i-q)*a._y+(3*i-4*q+1)*c._y+6*(-i+q)*o._y+(3*i-2*q)*s._y,t._z=6*(i-q)*a._z+(3*i-4*q+1)*c._z+6*(-i+q)*o._z+(3*i-2*q)*s._z,t._isDirty=!0,t}static Lerp(a,c,o){const s=new M(0,0,0);return M.LerpToRef(a,c,o,s),s}static LerpToRef(a,c,o,s){return s._x=a._x+(c._x-a._x)*o,s._y=a._y+(c._y-a._y)*o,s._z=a._z+(c._z-a._z)*o,s._isDirty=!0,s}static Dot(a,c){return a._x*c._x+a._y*c._y+a._z*c._z}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z}static Cross(a,c){const o=new M;return M.CrossToRef(a,c,o),o}static CrossToRef(a,c,o){const s=a._y*c._z-a._z*c._y,q=a._z*c._x-a._x*c._z,t=a._x*c._y-a._y*c._x;return o.Bc(s,q,t),o}static Normalize(a){const c=M.Zero();return M.NormalizeToRef(a,c),c}static NormalizeToRef(a,c){return a.normalizeToRef(c),c}static Project(a,c,o,s){const q=new M;return M.ProjectToRef(a,c,o,s,q),q}static ProjectToRef(a,c,o,s,q){var t;const i=s.width,G=s.height,T=s.x,C=s.y,j=n.Matrix[1],L=null===(t=p.b.LastCreatedEngine)||void 0===t?void 0:t.isNDCHalfZRange,e=L?1:.5,g=L?0:.5;k.FromValuesToRef(i/2,0,0,0,0,-G/2,0,0,0,0,e,0,T+i/2,G/2+C,g,1,j);const N=n.Matrix[0];return c.multiplyToRef(o,N),N.multiplyToRef(j,N),M.TransformCoordinatesToRef(a,N,q),q}static Reflect(a,c){return this.ReflectToRef(a,c,new M)}static ReflectToRef(a,c,o){const s=f.Hc[0];return s.G(c).scaleInPlace(2*M.Dot(a,c)),o.G(a).Vj(s)}static _UnprojectFromInvertedMatrixToRef(a,c,o){M.TransformCoordinatesToRef(a,c,o);const s=c.m,q=a._x*s[3]+a._y*s[7]+a._z*s[11]+s[15];return(0,G.WithinEpsilon)(q,1)&&o.scaleInPlace(1/q),o}static UnprojectFromTransform(a,c,o,s,q){return this.Unproject(a,c,o,s,q,k.IdentityReadOnly)}static Unproject(a,c,o,s,q,t){const i=new M;return M.UnprojectToRef(a,c,o,s,q,t,i),i}static UnprojectToRef(a,c,o,s,q,t,i){return M.UnprojectFloatsToRef(a._x,a._y,a._z,c,o,s,q,t,i),i}static UnprojectFloatsToRef(a,c,o,s,q,t,i,G,T){var C;const j=n.Matrix[0];t.multiplyToRef(i,j),j.multiplyToRef(G,j),j.invert();const L=n.Hc[0];return L.x=a/s*2-1,L.y=-(c/q*2-1),null!==(C=p.b.LastCreatedEngine)&&void 0!==C&&C.isNDCHalfZRange?L.z=o:L.z=2*o-1,M._UnprojectFromInvertedMatrixToRef(L,j,T),T}static Minimize(a,c){const o=new M;return o.G(a),o.minimizeInPlace(c),o}static Maximize(a,c){const o=new M;return o.G(a),o.maximizeInPlace(c),o}static Distance(a,c){return Math.sqrt(M.DistanceSquared(a,c))}static DistanceSquared(a,c){const o=a._x-c._x,s=a._y-c._y,q=a._z-c._z;return o*o+s*s+q*q}static ProjectOnTriangleToRef(a,c,o,q,t){const i=n.Hc[0],p=n.Hc[1],T=n.Hc[2],C=n.Hc[3],j=n.Hc[4];o.subtractToRef(c,i),q.subtractToRef(c,p),q.subtractToRef(o,T);const L=i.length(),e=p.length(),g=T.length();if(L<s.b||e<s.b||g<s.b)return t.G(c),M.Distance(a,c);a.subtractToRef(c,j),M.CrossToRef(i,p,C);const N=C.length();if(N<s.b)return t.G(c),M.Distance(a,c);C.normalizeFromLength(N);let y=j.length();if(y<s.b)return t.G(c),0;j.normalizeFromLength(y);const k=M.Dot(C,j),f=n.Hc[5],J=n.Hc[6];f.G(C).scaleInPlace(-y*k),J.G(a).addInPlace(f);const w=n.Hc[4],Z=n.Hc[5],h=n.Hc[7],U=n.Hc[8];w.G(i).scaleInPlace(1/L),U.G(p).scaleInPlace(1/e),w.addInPlace(U).scaleInPlace(-1),Z.G(i).scaleInPlace(-1/L),U.G(T).scaleInPlace(1/g),Z.addInPlace(U).scaleInPlace(-1),h.G(T).scaleInPlace(-1/g),U.G(p).scaleInPlace(-1/e),h.addInPlace(U).scaleInPlace(-1);const S=n.Hc[9];let r;S.G(J).Vj(c),M.CrossToRef(w,S,U),r=M.Dot(U,C);const x=r;S.G(J).Vj(o),M.CrossToRef(Z,S,U),r=M.Dot(U,C);const R=r;S.G(J).Vj(q),M.CrossToRef(h,S,U),r=M.Dot(U,C);const d=r,X=n.Hc[10];let W,F;x>0&&R<0?(X.G(i),W=c,F=o):R>0&&d<0?(X.G(T),W=o,F=q):(X.G(p).scaleInPlace(-1),W=q,F=c);const O=n.Hc[9],B=n.Hc[4];W.subtractToRef(J,U),F.subtractToRef(J,O),M.CrossToRef(U,O,B);if(!(M.Dot(B,C)<0))return t.G(J),Math.abs(y*k);const u=n.Hc[5];M.CrossToRef(X,B,u),u.normalize();const K=n.Hc[9];K.G(W).Vj(J);const D=K.length();if(D<s.b)return t.G(W),M.Distance(a,W);K.normalizeFromLength(D);const I=M.Dot(u,K),Y=n.Hc[7];Y.G(J).addInPlace(u.scaleInPlace(D*I)),U.G(Y).Vj(W),y=X.length(),X.normalizeFromLength(y);let P=M.Dot(U,X)/Math.max(y,s.b);return P=(0,G.Clamp)(P,0,1),Y.G(W).addInPlace(X.scaleInPlace(P*y)),t.G(Y),M.Distance(a,Y)}static Center(a,c){return M.CenterToRef(a,c,M.Zero())}static CenterToRef(a,c,o){return o.Bc((a._x+c._x)/2,(a._y+c._y)/2,(a._z+c._z)/2)}static RotationFromAxis(a,c,o){const s=new M;return M.RotationFromAxisToRef(a,c,o,s),s}static RotationFromAxisToRef(a,c,o,s){const q=n.Quaternion[0];return y.RotationQuaternionFromAxisToRef(a,c,o,q),q.toEulerAnglesToRef(s),s}}M._V8PerformanceHack=new M(.5,.5,.5),M._UpReadOnly=M.Up(),M._DownReadOnly=M.Down(),M._LeftHandedForwardReadOnly=M.Forward(!1),M._RightHandedForwardReadOnly=M.Forward(!0),M._LeftHandedBackwardReadOnly=M.Backward(!1),M._RightHandedBackwardReadOnly=M.Backward(!0),M._RightReadOnly=M.Right(),M._LeftReadOnly=M.Left(),M._ZeroReadOnly=M.Zero(),M._OneReadOnly=M.One(),Object.defineProperties(M.prototype,{dimension:{value:[3]},rank:{value:1}});class N{get x(){return this._x}set x(a){this._x=a,this._isDirty=!0}get y(){return this._y}set y(a){this._y=a,this._isDirty=!0}get z(){return this._z}set z(a){this._z=a,this._isDirty=!0}get w(){return this._w}set w(a){this._w=a,this._isDirty=!0}constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._isDirty=!0,this._x=a,this._y=c,this._z=o,this._w=s}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z} W: ${this._w}}`}getClassName(){return"Vector4"}getHashCode(){let a=e(this._x);return a=397*a^e(this._y),a=397*a^e(this._z),a=397*a^e(this._w),a}hc(){return[this._x,this._y,this._z,this._w]}toArray(a,c){return void 0===c&&(c=0),a[c]=this._x,a[c+1]=this._y,a[c+2]=this._z,a[c+3]=this._w,this}ts(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N.FromArrayToRef(a,c,this),this}addInPlace(a){return this.x+=a._x,this.y+=a._y,this.z+=a._z,this.w+=a._w,this}addInPlaceFromFloats(a,c,o,s){return this.x+=a,this.y+=c,this.z+=o,this.w+=s,this}add(a){return new N(this._x+a.x,this._y+a.y,this._z+a.z,this._w+a.w)}addToRef(a,c){return c.x=this._x+a.x,c.y=this._y+a.y,c.z=this._z+a.z,c.w=this._w+a.w,c}Vj(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this}vc(a){return new N(this._x-a.x,this._y-a.y,this._z-a.z,this._w-a.w)}subtractToRef(a,c){return c.x=this._x-a.x,c.y=this._y-a.y,c.z=this._z-a.z,c.w=this._w-a.w,c}subtractFromFloats(a,c,o,s){return new N(this._x-a,this._y-c,this._z-o,this._w-s)}subtractFromFloatsToRef(a,c,o,s,q){return q.x=this._x-a,q.y=this._y-c,q.z=this._z-o,q.w=this._w-s,q}negate(){return new N(-this._x,-this._y,-this._z,-this._w)}negateInPlace(){return this.x*=-1,this.y*=-1,this.z*=-1,this.w*=-1,this}negateToRef(a){return a.x=-this._x,a.y=-this._y,a.z=-this._z,a.w=-this._w,a}scaleInPlace(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this}scale(a){return new N(this._x*a,this._y*a,this._z*a,this._w*a)}scaleToRef(a,c){return c.x=this._x*a,c.y=this._y*a,c.z=this._z*a,c.w=this._w*a,c}scaleAndAddToRef(a,c){return c.x+=this._x*a,c.y+=this._y*a,c.z+=this._z*a,c.w+=this._w*a,c}equals(a){return a&&this._x===a.x&&this._y===a.y&&this._z===a.z&&this._w===a.w}equalsWithEpsilon(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;return a&&(0,G.WithinEpsilon)(this._x,a.x,c)&&(0,G.WithinEpsilon)(this._y,a.y,c)&&(0,G.WithinEpsilon)(this._z,a.z,c)&&(0,G.WithinEpsilon)(this._w,a.w,c)}equalsToFloats(a,c,o,s){return this._x===a&&this._y===c&&this._z===o&&this._w===s}multiplyInPlace(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this.w*=a.w,this}multiply(a){return new N(this._x*a.x,this._y*a.y,this._z*a.z,this._w*a.w)}multiplyToRef(a,c){return c.x=this._x*a.x,c.y=this._y*a.y,c.z=this._z*a.z,c.w=this._w*a.w,c}multiplyByFloats(a,c,o,s){return new N(this._x*a,this._y*c,this._z*o,this._w*s)}divide(a){return new N(this._x/a.x,this._y/a.y,this._z/a.z,this._w/a.w)}divideToRef(a,c){return c.x=this._x/a.x,c.y=this._y/a.y,c.z=this._z/a.z,c.w=this._w/a.w,c}divideInPlace(a){return this.divideToRef(a,this)}minimizeInPlace(a){return a.x<this._x&&(this.x=a.x),a.y<this._y&&(this.y=a.y),a.z<this._z&&(this.z=a.z),a.w<this._w&&(this.w=a.w),this}maximizeInPlace(a){return a.x>this._x&&(this.x=a.x),a.y>this._y&&(this.y=a.y),a.z>this._z&&(this.z=a.z),a.w>this._w&&(this.w=a.w),this}minimizeInPlaceFromFloats(a,c,o,s){return this.x=Math.min(a,this._x),this.y=Math.min(c,this._y),this.z=Math.min(o,this._z),this.w=Math.min(s,this._w),this}maximizeInPlaceFromFloats(a,c,o,s){return this.x=Math.max(a,this._x),this.y=Math.max(c,this._y),this.z=Math.max(o,this._z),this.w=Math.max(s,this._w),this}floorToRef(a){return a.x=Math.floor(this._x),a.y=Math.floor(this._y),a.z=Math.floor(this._z),a.w=Math.floor(this._w),a}floor(){return new N(Math.floor(this._x),Math.floor(this._y),Math.floor(this._z),Math.floor(this._w))}fractToRef(a){return a.x=this._x-Math.floor(this._x),a.y=this._y-Math.floor(this._y),a.z=this._z-Math.floor(this._z),a.w=this._w-Math.floor(this._w),a}fract(){return new N(this._x-Math.floor(this._x),this._y-Math.floor(this._y),this._z-Math.floor(this._z),this._w-Math.floor(this._w))}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(a){return 0===a||1===a?this:this.scaleInPlace(1/a)}normalizeToNew(){return this.normalizeToRef(new N)}normalizeToRef(a){const c=this.length();return 0===c||1===c?(a.x=this._x,a.y=this._y,a.z=this._z,a.w=this._w,a):this.scaleToRef(1/c,a)}toVector3(){return new M(this._x,this._y,this._z)}clone(){return new N(this._x,this._y,this._z,this._w)}G(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w,this}Bc(a,c,o,s){return this.x=a,this.y=c,this.z=o,this.w=s,this}set(a,c,o,s){return this.Bc(a,c,o,s)}Dc(a){return this.x=this.y=this.z=this.w=a,this}dot(a){return this._x*a.x+this._y*a.y+this._z*a.z+this._w*a.w}static qo(a,c){return c||(c=0),new N(a[c],a[c+1],a[c+2],a[c+3])}static FromArrayToRef(a,c,o){return o.x=a[c],o.y=a[c+1],o.z=a[c+2],o.w=a[c+3],o}static FromFloatArrayToRef(a,c,o){return N.FromArrayToRef(a,c,o),o}static FromFloatsToRef(a,c,o,s,q){return q.x=a,q.y=c,q.z=o,q.w=s,q}static Zero(){return new N(0,0,0,0)}static One(){return new N(1,1,1,1)}static Random(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new N((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static RandomToRef(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;return o.x=(0,G.RandomRange)(a,c),o.y=(0,G.RandomRange)(a,c),o.z=(0,G.RandomRange)(a,c),o.w=(0,G.RandomRange)(a,c),o}static Clamp(a,c,o){return N.ClampToRef(a,c,o,new N)}static ClampToRef(a,c,o,s){return s.x=(0,G.Clamp)(a.x,c.x,o.x),s.y=(0,G.Clamp)(a.y,c.y,o.y),s.z=(0,G.Clamp)(a.z,c.z,o.z),s.w=(0,G.Clamp)(a.w,c.w,o.w),s}static CheckExtends(a,c,o){c.minimizeInPlace(a),o.maximizeInPlace(a)}static get ZeroReadOnly(){return N._ZeroReadOnly}static Normalize(a){return N.NormalizeToRef(a,new N)}static NormalizeToRef(a,c){return a.normalizeToRef(c),c}static Minimize(a,c){const o=new N;return o.G(a),o.minimizeInPlace(c),o}static Maximize(a,c){const o=new N;return o.G(a),o.maximizeInPlace(c),o}static Distance(a,c){return Math.sqrt(N.DistanceSquared(a,c))}static DistanceSquared(a,c){const o=a.x-c.x,s=a.y-c.y,q=a.z-c.z,t=a.w-c.w;return o*o+s*s+q*q+t*t}static Center(a,c){return N.CenterToRef(a,c,new N)}static CenterToRef(a,c,o){return o.x=(a.x+c.x)/2,o.y=(a.y+c.y)/2,o.z=(a.z+c.z)/2,o.w=(a.w+c.w)/2,o}static TransformCoordinates(a,c){return N.TransformCoordinatesToRef(a,c,new N)}static TransformCoordinatesToRef(a,c,o){return N.TransformCoordinatesFromFloatsToRef(a._x,a._y,a._z,c,o),o}static TransformCoordinatesFromFloatsToRef(a,c,o,s,q){const t=s.m,i=a*t[0]+c*t[4]+o*t[8]+t[12],p=a*t[1]+c*t[5]+o*t[9]+t[13],G=a*t[2]+c*t[6]+o*t[10]+t[14],T=a*t[3]+c*t[7]+o*t[11]+t[15];return q.x=i,q.y=p,q.z=G,q.w=T,q}static TransformNormal(a,c){return N.TransformNormalToRef(a,c,new N)}static TransformNormalToRef(a,c,o){const s=c.m,q=a.x*s[0]+a.y*s[4]+a.z*s[8],t=a.x*s[1]+a.y*s[5]+a.z*s[9],i=a.x*s[2]+a.y*s[6]+a.z*s[10];return o.x=q,o.y=t,o.z=i,o.w=a.w,o}static TransformNormalFromFloatsToRef(a,c,o,s,q,t){const i=q.m;return t.x=a*i[0]+c*i[4]+o*i[8],t.y=a*i[1]+c*i[5]+o*i[9],t.z=a*i[2]+c*i[6]+o*i[10],t.w=s,t}static FromVector3(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new N(a._x,a._y,a._z,c)}static Dot(a,c){return a.x*c.x+a.y*c.y+a.z*c.z+a.w*c.w}}N._V8PerformanceHack=new N(.5,.5,.5,.5),N._ZeroReadOnly=N.Zero(),Object.defineProperties(N.prototype,{dimension:{value:[4]},rank:{value:1}});class y{get x(){return this._x}set x(a){this._x=a,this._isDirty=!0}get y(){return this._y}set y(a){this._y=a,this._isDirty=!0}get z(){return this._z}set z(a){this._z=a,this._isDirty=!0}get w(){return this._w}set w(a){this._w=a,this._isDirty=!0}constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._isDirty=!0,this._x=a,this._y=c,this._z=o,this._w=s}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z} W: ${this._w}}`}getClassName(){return"Quaternion"}getHashCode(){let a=e(this._x);return a=397*a^e(this._y),a=397*a^e(this._z),a=397*a^e(this._w),a}hc(){return[this._x,this._y,this._z,this._w]}toArray(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[c]=this._x,a[c+1]=this._y,a[c+2]=this._z,a[c+3]=this._w,this}ts(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return y.FromArrayToRef(a,c,this)}equals(a){return a&&this._x===a._x&&this._y===a._y&&this._z===a._z&&this._w===a._w}equalsWithEpsilon(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;return a&&(0,G.WithinEpsilon)(this._x,a._x,c)&&(0,G.WithinEpsilon)(this._y,a._y,c)&&(0,G.WithinEpsilon)(this._z,a._z,c)&&(0,G.WithinEpsilon)(this._w,a._w,c)}isApprox(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;return a&&((0,G.WithinEpsilon)(this._x,a._x,c)&&(0,G.WithinEpsilon)(this._y,a._y,c)&&(0,G.WithinEpsilon)(this._z,a._z,c)&&(0,G.WithinEpsilon)(this._w,a._w,c)||(0,G.WithinEpsilon)(this._x,-a._x,c)&&(0,G.WithinEpsilon)(this._y,-a._y,c)&&(0,G.WithinEpsilon)(this._z,-a._z,c)&&(0,G.WithinEpsilon)(this._w,-a._w,c))}clone(){return new y(this._x,this._y,this._z,this._w)}G(a){return this._x=a._x,this._y=a._y,this._z=a._z,this._w=a._w,this._isDirty=!0,this}Bc(a,c,o,s){return this._x=a,this._y=c,this._z=o,this._w=s,this._isDirty=!0,this}set(a,c,o,s){return this.Bc(a,c,o,s)}Dc(a){return this.Bc(a,a,a,a)}add(a){return new y(this._x+a._x,this._y+a._y,this._z+a._z,this._w+a._w)}addInPlace(a){return this._x+=a._x,this._y+=a._y,this._z+=a._z,this._w+=a._w,this._isDirty=!0,this}addToRef(a,c){return c._x=this._x+a._x,c._y=this._y+a._y,c._z=this._z+a._z,c._w=this._w+a._w,c._isDirty=!0,c}addInPlaceFromFloats(a,c,o,s){return this._x+=a,this._y+=c,this._z+=o,this._w+=s,this._isDirty=!0,this}subtractToRef(a,c){return c._x=this._x-a._x,c._y=this._y-a._y,c._z=this._z-a._z,c._w=this._w-a._w,c._isDirty=!0,c}subtractFromFloats(a,c,o,s){return this.subtractFromFloatsToRef(a,c,o,s,new y)}subtractFromFloatsToRef(a,c,o,s,q){return q._x=this._x-a,q._y=this._y-c,q._z=this._z-o,q._w=this._w-s,q._isDirty=!0,q}vc(a){return new y(this._x-a._x,this._y-a._y,this._z-a._z,this._w-a._w)}Vj(a){return this._x-=a._x,this._y-=a._y,this._z-=a._z,this._w-=a._w,this._isDirty=!0,this}scale(a){return new y(this._x*a,this._y*a,this._z*a,this._w*a)}scaleToRef(a,c){return c._x=this._x*a,c._y=this._y*a,c._z=this._z*a,c._w=this._w*a,c._isDirty=!0,c}scaleInPlace(a){return this._x*=a,this._y*=a,this._z*=a,this._w*=a,this._isDirty=!0,this}scaleAndAddToRef(a,c){return c._x+=this._x*a,c._y+=this._y*a,c._z+=this._z*a,c._w+=this._w*a,c._isDirty=!0,c}multiply(a){const c=new y(0,0,0,1);return this.multiplyToRef(a,c),c}multiplyToRef(a,c){const o=this._x*a._w+this._y*a._z-this._z*a._y+this._w*a._x,s=-this._x*a._z+this._y*a._w+this._z*a._x+this._w*a._y,q=this._x*a._y-this._y*a._x+this._z*a._w+this._w*a._z,t=-this._x*a._x-this._y*a._y-this._z*a._z+this._w*a._w;return c.Bc(o,s,q,t),c}multiplyInPlace(a){return this.multiplyToRef(a,this)}multiplyByFloats(a,c,o,s){return this._x*=a,this._y*=c,this._z*=o,this._w*=s,this._isDirty=!0,this}divide(a){throw new ReferenceError("Can not divide a quaternion")}divideToRef(a,c){throw new ReferenceError("Can not divide a quaternion")}divideInPlace(a){throw new ReferenceError("Can not divide a quaternion")}minimizeInPlace(){throw new ReferenceError("Can not minimize a quaternion")}minimizeInPlaceFromFloats(){throw new ReferenceError("Can not minimize a quaternion")}maximizeInPlace(){throw new ReferenceError("Can not maximize a quaternion")}maximizeInPlaceFromFloats(){throw new ReferenceError("Can not maximize a quaternion")}negate(){return this.negateToRef(new y)}negateInPlace(){return this._x=-this._x,this._y=-this._y,this._z=-this._z,this._w=-this._w,this._isDirty=!0,this}negateToRef(a){return a._x=-this._x,a._y=-this._y,a._z=-this._z,a._w=-this._w,a._isDirty=!0,a}equalsToFloats(a,c,o,s){return this._x===a&&this._y===c&&this._z===o&&this._w===s}floorToRef(a){throw new ReferenceError("Can not floor a quaternion")}floor(){throw new ReferenceError("Can not floor a quaternion")}fractToRef(a){throw new ReferenceError("Can not fract a quaternion")}fract(){throw new ReferenceError("Can not fract a quaternion")}conjugateToRef(a){return a.Bc(-this._x,-this._y,-this._z,this._w),a}conjugateInPlace(){return this._x*=-1,this._y*=-1,this._z*=-1,this._isDirty=!0,this}conjugate(){return new y(-this._x,-this._y,-this._z,this._w)}invert(){const a=this.conjugate(),c=this.lengthSquared();return 0==c||1==c||a.scaleInPlace(1/c),a}invertInPlace(){this.conjugateInPlace();const a=this.lengthSquared();return 0==a||1==a||this.scaleInPlace(1/a),this}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this.lengthSquared())}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(a){return 0===a||1===a?this:this.scaleInPlace(1/a)}normalizeToNew(){const a=new y(0,0,0,1);return this.normalizeToRef(a),a}normalizeToRef(a){const c=this.length();return 0===c||1===c?a.Bc(this._x,this._y,this._z,this._w):this.scaleToRef(1/c,a)}toEulerAngles(){const a=M.Zero();return this.toEulerAnglesToRef(a),a}toEulerAnglesToRef(a){const c=this._z,o=this._x,s=this._y,q=this._w,t=s*c-o*q,i=.4999999;if(t<-i)a._y=2*Math.atan2(s,q),a._x=Math.PI/2,a._z=0,a._isDirty=!0;else if(t>i)a._y=2*Math.atan2(s,q),a._x=-Math.PI/2,a._z=0,a._isDirty=!0;else{const i=q*q,p=c*c,G=o*o,T=s*s;a._z=Math.atan2(2*(o*s+c*q),-p-G+T+i),a._x=Math.asin(-2*t),a._y=Math.atan2(2*(c*o+s*q),p-G-T+i),a._isDirty=!0}return a}toAlphaBetaGammaToRef(a){const c=this._z,o=this._x,s=this._y,q=this._w,t=Math.sqrt(o*o+s*s),i=Math.sqrt(c*c+q*q),p=2*Math.atan2(t,i),G=2*Math.atan2(c,q),T=2*Math.atan2(s,o),C=(G+T)/2,j=(G-T)/2;return a.set(j,p,C),a}toRotationMatrix(a){return k.FromQuaternionToRef(this,a),a}fromRotationMatrix(a){return y.FromRotationMatrixToRef(a,this),this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}toAxisAngle(){const a=M.Zero();return{axis:a,angle:this.toAxisAngleToRef(a)}}toAxisAngleToRef(a){let c=0;const o=Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z),s=this._w;return o>0?(c=2*Math.atan2(o,s),a.set(this._x/o,this._y/o,this._z/o)):(c=0,a.set(1,0,0)),c}static FromRotationMatrix(a){const c=new y;return y.FromRotationMatrixToRef(a,c),c}static FromRotationMatrixToRef(a,c){const o=a.m,s=o[0],q=o[4],t=o[8],i=o[1],p=o[5],G=o[9],T=o[2],C=o[6],j=o[10],L=s+p+j;let e;return L>0?(e=.5/Math.sqrt(L+1),c._w=.25/e,c._x=(C-G)*e,c._y=(t-T)*e,c._z=(i-q)*e,c._isDirty=!0):s>p&&s>j?(e=2*Math.sqrt(1+s-p-j),c._w=(C-G)/e,c._x=.25*e,c._y=(q+i)/e,c._z=(t+T)/e,c._isDirty=!0):p>j?(e=2*Math.sqrt(1+p-s-j),c._w=(t-T)/e,c._x=(q+i)/e,c._y=.25*e,c._z=(G+C)/e,c._isDirty=!0):(e=2*Math.sqrt(1+j-s-p),c._w=(i-q)/e,c._x=(t+T)/e,c._y=(G+C)/e,c._z=.25*e,c._isDirty=!0),c}static Dot(a,c){return a._x*c._x+a._y*c._y+a._z*c._z+a._w*c._w}static AreClose(a,c){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;const s=y.Dot(a,c);return 1-s*s<=o}static SmoothToRef(a,c,o,s,q){let t=0===s?1:o/s;return t=(0,G.Clamp)(t,0,1),y.SlerpToRef(a,c,t,q),q}static Zero(){return new y(0,0,0,0)}static Inverse(a){return new y(-a._x,-a._y,-a._z,a._w)}static InverseToRef(a,c){return c.set(-a._x,-a._y,-a._z,a._w),c}static Identity(){return new y(0,0,0,1)}static IsIdentity(a){return a&&0===a._x&&0===a._y&&0===a._z&&1===a._w}static RotationAxis(a,c){return y.RotationAxisToRef(a,c,new y)}static RotationAxisToRef(a,c,o){o._w=Math.cos(c/2);const s=Math.sin(c/2)/a.length();return o._x=a._x*s,o._y=a._y*s,o._z=a._z*s,o._isDirty=!0,o}static qo(a,c){return c||(c=0),new y(a[c],a[c+1],a[c+2],a[c+3])}static FromArrayToRef(a,c,o){return o._x=a[c],o._y=a[c+1],o._z=a[c+2],o._w=a[c+3],o._isDirty=!0,o}static FromFloatsToRef(a,c,o,s,q){return q.Bc(a,c,o,s),q}static FromEulerAngles(a,c,o){const s=new y;return y.RotationYawPitchRollToRef(c,a,o,s),s}static FromEulerAnglesToRef(a,c,o,s){return y.RotationYawPitchRollToRef(c,a,o,s),s}static FromEulerVector(a){const c=new y;return y.RotationYawPitchRollToRef(a._y,a._x,a._z,c),c}static FromEulerVectorToRef(a,c){return y.RotationYawPitchRollToRef(a._y,a._x,a._z,c),c}static FromUnitVectorsToRef(a,c,o){let q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.b;const t=M.Dot(a,c)+1;return t<q?Math.abs(a.x)>Math.abs(a.z)?o.set(-a.y,a.x,0,0):o.set(0,-a.z,a.y,0):(M.CrossToRef(a,c,f.Hc[0]),o.set(f.Hc[0].x,f.Hc[0].y,f.Hc[0].z,t)),o.normalize()}static RotationYawPitchRoll(a,c,o){const s=new y;return y.RotationYawPitchRollToRef(a,c,o,s),s}static RotationYawPitchRollToRef(a,c,o,s){const q=.5*o,t=.5*c,i=.5*a,p=Math.sin(q),G=Math.cos(q),T=Math.sin(t),C=Math.cos(t),j=Math.sin(i),L=Math.cos(i);return s._x=L*T*G+j*C*p,s._y=j*C*G-L*T*p,s._z=L*C*p-j*T*G,s._w=L*C*G+j*T*p,s._isDirty=!0,s}static RotationAlphaBetaGamma(a,c,o){const s=new y;return y.RotationAlphaBetaGammaToRef(a,c,o,s),s}static RotationAlphaBetaGammaToRef(a,c,o,s){const q=.5*(o+a),t=.5*(o-a),i=.5*c;return s._x=Math.cos(t)*Math.sin(i),s._y=Math.sin(t)*Math.sin(i),s._z=Math.sin(q)*Math.cos(i),s._w=Math.cos(q)*Math.cos(i),s._isDirty=!0,s}static RotationQuaternionFromAxis(a,c,o){const s=new y(0,0,0,0);return y.RotationQuaternionFromAxisToRef(a,c,o,s),s}static RotationQuaternionFromAxisToRef(a,c,o,s){const q=n.Matrix[0];return a=a.normalizeToRef(n.Hc[0]),c=c.normalizeToRef(n.Hc[1]),o=o.normalizeToRef(n.Hc[2]),k.FromXYZAxesToRef(a,c,o,q),y.FromRotationMatrixToRef(q,s),s}static FromLookDirectionLH(a,c){const o=new y;return y.FromLookDirectionLHToRef(a,c,o),o}static FromLookDirectionLHToRef(a,c,o){const s=n.Matrix[0];return k.LookDirectionLHToRef(a,c,s),y.FromRotationMatrixToRef(s,o),o}static FromLookDirectionRH(a,c){const o=new y;return y.FromLookDirectionRHToRef(a,c,o),o}static FromLookDirectionRHToRef(a,c,o){const s=n.Matrix[0];return k.LookDirectionRHToRef(a,c,s),y.FromRotationMatrixToRef(s,o)}static Slerp(a,c,o){const s=y.Identity();return y.SlerpToRef(a,c,o,s),s}static SlerpToRef(a,c,o,s){let q,t,i=a._x*c._x+a._y*c._y+a._z*c._z+a._w*c._w,p=!1;if(i<0&&(p=!0,i=-i),i>.999999)t=1-o,q=p?-o:o;else{const a=Math.acos(i),c=1/Math.sin(a);t=Math.sin((1-o)*a)*c,q=p?-Math.sin(o*a)*c:Math.sin(o*a)*c}return s._x=t*a._x+q*c._x,s._y=t*a._y+q*c._y,s._z=t*a._z+q*c._z,s._w=t*a._w+q*c._w,s._isDirty=!0,s}static Hermite(a,c,o,s,q){const t=q*q,i=q*t,p=2*i-3*t+1,G=-2*i+3*t,T=i-2*t+q,C=i-t,j=a._x*p+o._x*G+c._x*T+s._x*C,L=a._y*p+o._y*G+c._y*T+s._y*C,e=a._z*p+o._z*G+c._z*T+s._z*C,g=a._w*p+o._w*G+c._w*T+s._w*C;return new y(j,L,e,g)}static Hermite1stDerivative(a,c,o,s,q){const t=new y;return this.Hermite1stDerivativeToRef(a,c,o,s,q,t),t}static Hermite1stDerivativeToRef(a,c,o,s,q,t){const i=q*q;return t._x=6*(i-q)*a._x+(3*i-4*q+1)*c._x+6*(-i+q)*o._x+(3*i-2*q)*s._x,t._y=6*(i-q)*a._y+(3*i-4*q+1)*c._y+6*(-i+q)*o._y+(3*i-2*q)*s._y,t._z=6*(i-q)*a._z+(3*i-4*q+1)*c._z+6*(-i+q)*o._z+(3*i-2*q)*s._z,t._w=6*(i-q)*a._w+(3*i-4*q+1)*c._w+6*(-i+q)*o._w+(3*i-2*q)*s._w,t._isDirty=!0,t}static Normalize(a){const c=y.Zero();return y.NormalizeToRef(a,c),c}static NormalizeToRef(a,c){return a.normalizeToRef(c),c}static Clamp(a,c,o){const s=new y;return y.ClampToRef(a,c,o,s),s}static ClampToRef(a,c,o,s){return s.Bc((0,G.Clamp)(a.x,c.x,o.x),(0,G.Clamp)(a.y,c.y,o.y),(0,G.Clamp)(a.z,c.z,o.z),(0,G.Clamp)(a.w,c.w,o.w))}static Random(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new y((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static RandomToRef(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).Bc((0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c),(0,G.RandomRange)(a,c))}static Minimize(){throw new ReferenceError("Quaternion.Minimize does not make sense")}static Maximize(){throw new ReferenceError("Quaternion.Maximize does not make sense")}static Distance(a,c){return Math.sqrt(y.DistanceSquared(a,c))}static DistanceSquared(a,c){const o=a.x-c.x,s=a.y-c.y,q=a.z-c.z,t=a.w-c.w;return o*o+s*s+q*q+t*t}static Center(a,c){return y.CenterToRef(a,c,y.Zero())}static CenterToRef(a,c,o){return o.Bc((a.x+c.x)/2,(a.y+c.y)/2,(a.z+c.z)/2,(a.w+c.w)/2)}}y._V8PerformanceHack=new y(.5,.5,.5,.5),Object.defineProperties(y.prototype,{dimension:{value:[4]},rank:{value:1}});class k{static get Use64Bits(){return i.b.MatrixUse64Bits}get m(){return this.yc}markAsUpdated(){this.updateFlag=T._UpdateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0}_updateIdentityStatus(a){let c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._isIdentity=a,this._isIdentity3x2=a||o,this._isIdentityDirty=!this._isIdentity&&c,this._isIdentity3x2Dirty=!this._isIdentity3x2&&s}constructor(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this.updateFlag=-1,i.b.MatrixTrackPrecisionChange&&i.b.MatrixTrackedMatrices.push(this),this.yc=new i.b.MatrixCurrentType(16),this.markAsUpdated()}isIdentity(){if(this._isIdentityDirty){this._isIdentityDirty=!1;const a=this.yc;this._isIdentity=1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&0===a[12]&&0===a[13]&&0===a[14]&&1===a[15]}return this._isIdentity}isIdentityAs3x2(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this.yc[0]||1!==this.yc[5]||1!==this.yc[15]||0!==this.yc[1]||0!==this.yc[2]||0!==this.yc[3]||0!==this.yc[4]||0!==this.yc[6]||0!==this.yc[7]||0!==this.yc[8]||0!==this.yc[9]||0!==this.yc[10]||0!==this.yc[11]||0!==this.yc[12]||0!==this.yc[13]||0!==this.yc[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2}determinant(){if(!0===this._isIdentity)return 1;const a=this.yc,c=a[0],o=a[1],s=a[2],q=a[3],t=a[4],i=a[5],p=a[6],G=a[7],T=a[8],C=a[9],j=a[10],L=a[11],e=a[12],g=a[13],M=a[14],N=a[15],y=j*N-M*L,k=C*N-g*L,n=C*M-g*j,f=T*N-e*L,J=T*M-j*e,w=T*g-e*C;return c*+(i*y-p*k+G*n)+o*-(t*y-p*f+G*J)+s*+(t*k-i*f+G*w)+q*-(t*n-i*J+p*w)}toString(){return`{${this.m[0]}, ${this.m[1]}, ${this.m[2]}, ${this.m[3]}\n${this.m[4]}, ${this.m[5]}, ${this.m[6]}, ${this.m[7]}\n${this.m[8]}, ${this.m[9]}, ${this.m[10]}, ${this.m[11]}\n${this.m[12]}, ${this.m[13]}, ${this.m[14]}, ${this.m[15]}}`}toArray(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!a)return this.yc;const o=this.yc;for(let s=0;s<16;s++)a[c+s]=o[s];return this}hc(){return this.yc}ts(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return k.FromArrayToRef(a,c,this)}Bc(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return k.FromArrayToRef(c,0,this)}set(){const a=this.yc;for(let c=0;c<16;c++)a[c]=c<0||arguments.length<=c?void 0:arguments[c];return this.markAsUpdated(),this}Dc(a){const c=this.yc;for(let o=0;o<16;o++)c[o]=a;return this.markAsUpdated(),this}invert(){return this.invertToRef(this),this}reset(){return k.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this}add(a){const c=new k;return this.addToRef(a,c),c}addToRef(a,c){const o=this.yc,s=c.yc,q=a.m;for(let t=0;t<16;t++)s[t]=o[t]+q[t];return c.markAsUpdated(),c}addToSelf(a){const c=this.yc,o=a.m;return c[0]+=o[0],c[1]+=o[1],c[2]+=o[2],c[3]+=o[3],c[4]+=o[4],c[5]+=o[5],c[6]+=o[6],c[7]+=o[7],c[8]+=o[8],c[9]+=o[9],c[10]+=o[10],c[11]+=o[11],c[12]+=o[12],c[13]+=o[13],c[14]+=o[14],c[15]+=o[15],this.markAsUpdated(),this}addInPlace(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]+=o[s];return this.markAsUpdated(),this}addInPlaceFromFloats(){const a=this.yc;for(let c=0;c<16;c++)a[c]+=c<0||arguments.length<=c?void 0:arguments[c];return this.markAsUpdated(),this}vc(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]-=o[s];return this.markAsUpdated(),this}subtractToRef(a,c){const o=this.yc,s=a.m,q=c.yc;for(let t=0;t<16;t++)q[t]=o[t]-s[t];return c.markAsUpdated(),c}Vj(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]-=o[s];return this.markAsUpdated(),this}subtractFromFloats(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return this.subtractFromFloatsToRef(...c,new k)}subtractFromFloatsToRef(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];const s=c.pop(),q=this.yc,t=s.yc,i=c;for(let p=0;p<16;p++)t[p]=q[p]-i[p];return s.markAsUpdated(),s}invertToRef(a){return!0===this._isIdentity?(k.IdentityToRef(a),a):(L(this,a.hc())?a.markAsUpdated():a.G(this),a)}addAtIndex(a,c){return this.yc[a]+=c,this.markAsUpdated(),this}multiplyAtIndex(a,c){return this.yc[a]*=c,this.markAsUpdated(),this}setTranslationFromFloats(a,c,o){return this.yc[12]=a,this.yc[13]=c,this.yc[14]=o,this.markAsUpdated(),this}addTranslationFromFloats(a,c,o){return this.yc[12]+=a,this.yc[13]+=c,this.yc[14]+=o,this.markAsUpdated(),this}setTranslation(a){return this.setTranslationFromFloats(a._x,a._y,a._z)}getTranslation(){return new M(this.yc[12],this.yc[13],this.yc[14])}getTranslationToRef(a){return a.x=this.yc[12],a.y=this.yc[13],a.z=this.yc[14],a}removeRotationAndScaling(){const a=this.m;return k.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,a[12],a[13],a[14],a[15],this),this._updateIdentityStatus(0===a[12]&&0===a[13]&&0===a[14]&&1===a[15]),this}G(a){a.copyToArray(this.yc);const c=a;return this.updateFlag=c.updateFlag,this._updateIdentityStatus(c._isIdentity,c._isIdentityDirty,c._isIdentity3x2,c._isIdentity3x2Dirty),this}copyToArray(a){return j(this,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),this}multiply(a){const c=new k;return this.multiplyToRef(a,c),c}multiplyInPlace(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]*=o[s];return this.markAsUpdated(),this}multiplyByFloats(){const a=this.yc;for(let c=0;c<16;c++)a[c]*=c<0||arguments.length<=c?void 0:arguments[c];return this.markAsUpdated(),this}multiplyByFloatsToRef(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];const s=c.pop(),q=this.yc,t=s.yc,i=c;for(let p=0;p<16;p++)t[p]=q[p]*i[p];return s.markAsUpdated(),s}multiplyToRef(a,c){return this._isIdentity?(c.G(a),c):a._isIdentity?(c.G(this),c):(this.multiplyToArray(a,c.yc,0),c.markAsUpdated(),c)}multiplyToArray(a,c,o){return C(this,a,c,o),this}divide(a){return this.divideToRef(a,new k)}divideToRef(a,c){const o=this.yc,s=a.m,q=c.yc;for(let t=0;t<16;t++)q[t]=o[t]/s[t];return c.markAsUpdated(),c}divideInPlace(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]/=o[s];return this.markAsUpdated(),this}minimizeInPlace(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]=Math.min(c[s],o[s]);return this.markAsUpdated(),this}minimizeInPlaceFromFloats(){const a=this.yc;for(let c=0;c<16;c++)a[c]=Math.min(a[c],c<0||arguments.length<=c?void 0:arguments[c]);return this.markAsUpdated(),this}maximizeInPlace(a){const c=this.yc,o=a.m;for(let s=0;s<16;s++)c[s]=Math.min(c[s],o[s]);return this.markAsUpdated(),this}maximizeInPlaceFromFloats(){const a=this.yc;for(let c=0;c<16;c++)a[c]=Math.min(a[c],c<0||arguments.length<=c?void 0:arguments[c]);return this.markAsUpdated(),this}negate(){return this.negateToRef(new k)}negateInPlace(){const a=this.yc;for(let c=0;c<16;c++)a[c]=-a[c];return this.markAsUpdated(),this}negateToRef(a){const c=this.yc,o=a.yc;for(let s=0;s<16;s++)o[s]=-c[s];return a.markAsUpdated(),a}equals(a){const c=a;if(!c)return!1;if((this._isIdentity||c._isIdentity)&&!this._isIdentityDirty&&!c._isIdentityDirty)return this._isIdentity&&c._isIdentity;const o=this.m,s=c.m;return o[0]===s[0]&&o[1]===s[1]&&o[2]===s[2]&&o[3]===s[3]&&o[4]===s[4]&&o[5]===s[5]&&o[6]===s[6]&&o[7]===s[7]&&o[8]===s[8]&&o[9]===s[9]&&o[10]===s[10]&&o[11]===s[11]&&o[12]===s[12]&&o[13]===s[13]&&o[14]===s[14]&&o[15]===s[15]}equalsWithEpsilon(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=this.yc,s=a.m;for(let q=0;q<16;q++)if(!(0,G.WithinEpsilon)(o[q],s[q],c))return!1;return!0}equalsToFloats(){const a=this.yc;for(let c=0;c<16;c++)if(a[c]!=(c<0||arguments.length<=c?void 0:arguments[c]))return!1;return!0}floor(){return this.floorToRef(new k)}floorToRef(a){const c=this.yc,o=a.yc;for(let s=0;s<16;s++)o[s]=Math.floor(c[s]);return a.markAsUpdated(),a}fract(){return this.fractToRef(new k)}fractToRef(a){const c=this.yc,o=a.yc;for(let s=0;s<16;s++)o[s]=c[s]-Math.floor(c[s]);return a.markAsUpdated(),a}clone(){const a=new k;return a.G(this),a}getClassName(){return"Matrix"}getHashCode(){let a=e(this.yc[0]);for(let c=1;c<16;c++)a=397*a^e(this.yc[c]);return a}decomposeToTransformNode(a){return a.rotationQuaternion=a.rotationQuaternion||new y,this.decompose(a.uc,a.rotationQuaternion,a.position)}decompose(a,c,o,s){let q=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._isIdentity)return o&&o.Dc(0),a&&a.Dc(1),c&&c.Bc(0,0,0,1),!0;const t=this.yc;if(o&&o.Bc(t[12],t[13],t[14]),(a=a||n.Hc[0]).x=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),a.y=Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),a.z=Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]),s){const c=(q?s.absoluteScaling.x:s.uc.x)<0?-1:1,o=(q?s.absoluteScaling.y:s.uc.y)<0?-1:1,t=(q?s.absoluteScaling.z:s.uc.z)<0?-1:1;a.x*=c,a.y*=o,a.z*=t}else this.determinant()<=0&&(a.y*=-1);if(0===a._x||0===a._y||0===a._z)return c&&c.Bc(0,0,0,1),!1;if(c){const o=1/a._x,s=1/a._y,q=1/a._z;k.FromValuesToRef(t[0]*o,t[1]*o,t[2]*o,0,t[4]*s,t[5]*s,t[6]*s,0,t[8]*q,t[9]*q,t[10]*q,0,0,0,0,1,n.Matrix[0]),y.FromRotationMatrixToRef(n.Matrix[0],c)}return!0}getRow(a){if(a<0||a>3)return null;const c=4*a;return new N(this.yc[c+0],this.yc[c+1],this.yc[c+2],this.yc[c+3])}getRowToRef(a,c){if(a>=0&&a<=3){const o=4*a;c.x=this.yc[o+0],c.y=this.yc[o+1],c.z=this.yc[o+2],c.w=this.yc[o+3]}return c}setRow(a,c){return this.setRowFromFloats(a,c.x,c.y,c.z,c.w)}transpose(){const a=new k;return k.TransposeToRef(this,a),a}transposeToRef(a){return k.TransposeToRef(this,a),a}setRowFromFloats(a,c,o,s,q){if(a<0||a>3)return this;const t=4*a;return this.yc[t+0]=c,this.yc[t+1]=o,this.yc[t+2]=s,this.yc[t+3]=q,this.markAsUpdated(),this}scale(a){const c=new k;return this.scaleToRef(a,c),c}scaleToRef(a,c){for(let o=0;o<16;o++)c.yc[o]=this.yc[o]*a;return c.markAsUpdated(),c}scaleAndAddToRef(a,c){for(let o=0;o<16;o++)c.yc[o]+=this.yc[o]*a;return c.markAsUpdated(),c}scaleInPlace(a){const c=this.yc;for(let o=0;o<16;o++)c[o]*=a;return this.markAsUpdated(),this}toNormalMatrix(a){const c=n.Matrix[0];this.invertToRef(c),c.transposeToRef(a);const o=a.yc;return k.FromValuesToRef(o[0],o[1],o[2],0,o[4],o[5],o[6],0,o[8],o[9],o[10],0,0,0,0,1,a),a}getRotationMatrix(){const a=new k;return this.getRotationMatrixToRef(a),a}getRotationMatrixToRef(a){const c=n.Hc[0];if(!this.decompose(c))return k.IdentityToRef(a),a;const o=this.yc,s=1/c._x,q=1/c._y,t=1/c._z;return k.FromValuesToRef(o[0]*s,o[1]*s,o[2]*s,0,o[4]*q,o[5]*q,o[6]*q,0,o[8]*t,o[9]*t,o[10]*t,0,0,0,0,1,a),a}toggleModelMatrixHandInPlace(){const a=this.yc;return a[2]*=-1,a[6]*=-1,a[8]*=-1,a[9]*=-1,a[14]*=-1,this.markAsUpdated(),this}toggleProjectionMatrixHandInPlace(){const a=this.yc;return a[8]*=-1,a[9]*=-1,a[10]*=-1,a[11]*=-1,this.markAsUpdated(),this}static qo(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=new k;return k.FromArrayToRef(a,c,o),o}static FromArrayToRef(a,c,o){for(let s=0;s<16;s++)o.yc[s]=a[s+c];return o.markAsUpdated(),o}static FromFloat32ArrayToRefScaled(a,c,o,s){return s.yc[0]=a[0+c]*o,s.yc[1]=a[1+c]*o,s.yc[2]=a[2+c]*o,s.yc[3]=a[3+c]*o,s.yc[4]=a[4+c]*o,s.yc[5]=a[5+c]*o,s.yc[6]=a[6+c]*o,s.yc[7]=a[7+c]*o,s.yc[8]=a[8+c]*o,s.yc[9]=a[9+c]*o,s.yc[10]=a[10+c]*o,s.yc[11]=a[11+c]*o,s.yc[12]=a[12+c]*o,s.yc[13]=a[13+c]*o,s.yc[14]=a[14+c]*o,s.yc[15]=a[15+c]*o,s.markAsUpdated(),s}static get IdentityReadOnly(){return k._IdentityReadOnly}static FromValuesToRef(a,c,o,s,q,t,i,p,G,T,C,j,L,e,g,M,N){const y=N.yc;y[0]=a,y[1]=c,y[2]=o,y[3]=s,y[4]=q,y[5]=t,y[6]=i,y[7]=p,y[8]=G,y[9]=T,y[10]=C,y[11]=j,y[12]=L,y[13]=e,y[14]=g,y[15]=M,N.markAsUpdated()}static FromValues(a,c,o,s,q,t,i,p,G,T,C,j,L,e,g,M){const N=new k,y=N.yc;return y[0]=a,y[1]=c,y[2]=o,y[3]=s,y[4]=q,y[5]=t,y[6]=i,y[7]=p,y[8]=G,y[9]=T,y[10]=C,y[11]=j,y[12]=L,y[13]=e,y[14]=g,y[15]=M,N.markAsUpdated(),N}static Compose(a,c,o){const s=new k;return k.ComposeToRef(a,c,o,s),s}static ComposeToRef(a,c,o,s){const q=s.yc,t=c._x,i=c._y,p=c._z,G=c._w,T=t+t,C=i+i,j=p+p,L=t*T,e=t*C,g=t*j,M=i*C,N=i*j,y=p*j,k=G*T,n=G*C,f=G*j,J=a._x,w=a._y,Z=a._z;return q[0]=(1-(M+y))*J,q[1]=(e+f)*J,q[2]=(g-n)*J,q[3]=0,q[4]=(e-f)*w,q[5]=(1-(L+y))*w,q[6]=(N+k)*w,q[7]=0,q[8]=(g+n)*Z,q[9]=(N-k)*Z,q[10]=(1-(L+M))*Z,q[11]=0,q[12]=o._x,q[13]=o._y,q[14]=o._z,q[15]=1,s.markAsUpdated(),s}static Identity(){const a=k.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a._updateIdentityStatus(!0),a}static IdentityToRef(a){return k.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,a),a._updateIdentityStatus(!0),a}static Zero(){const a=k.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a._updateIdentityStatus(!1),a}static RotationX(a){const c=new k;return k.RotationXToRef(a,c),c}static Invert(a){const c=new k;return a.invertToRef(c),c}static RotationXToRef(a,c){const o=Math.sin(a),s=Math.cos(a);return k.FromValuesToRef(1,0,0,0,0,s,o,0,0,-o,s,0,0,0,0,1,c),c._updateIdentityStatus(1===s&&0===o),c}static RotationY(a){const c=new k;return k.RotationYToRef(a,c),c}static RotationYToRef(a,c){const o=Math.sin(a),s=Math.cos(a);return k.FromValuesToRef(s,0,-o,0,0,1,0,0,o,0,s,0,0,0,0,1,c),c._updateIdentityStatus(1===s&&0===o),c}static RotationZ(a){const c=new k;return k.RotationZToRef(a,c),c}static RotationZToRef(a,c){const o=Math.sin(a),s=Math.cos(a);return k.FromValuesToRef(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1,c),c._updateIdentityStatus(1===s&&0===o),c}static RotationAxis(a,c){const o=new k;return k.RotationAxisToRef(a,c,o),o}static RotationAxisToRef(a,c,o){const s=Math.sin(-c),q=Math.cos(-c),t=1-q;a=a.normalizeToRef(n.Hc[0]);const i=o.yc;return i[0]=a._x*a._x*t+q,i[1]=a._x*a._y*t-a._z*s,i[2]=a._x*a._z*t+a._y*s,i[3]=0,i[4]=a._y*a._x*t+a._z*s,i[5]=a._y*a._y*t+q,i[6]=a._y*a._z*t-a._x*s,i[7]=0,i[8]=a._z*a._x*t-a._y*s,i[9]=a._z*a._y*t+a._x*s,i[10]=a._z*a._z*t+q,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,o.markAsUpdated(),o}static RotationAlignToRef(a,c,o){let q=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const t=M.Dot(c,a),i=o.yc;if(t<-1+s.b)i[0]=-1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=q?1:-1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=q?-1:1,i[11]=0;else{const o=M.Cross(c,a),s=1/(1+t);i[0]=o._x*o._x*s+t,i[1]=o._y*o._x*s-o._z,i[2]=o._z*o._x*s+o._y,i[3]=0,i[4]=o._x*o._y*s+o._z,i[5]=o._y*o._y*s+t,i[6]=o._z*o._y*s-o._x,i[7]=0,i[8]=o._x*o._z*s-o._y,i[9]=o._y*o._z*s+o._x,i[10]=o._z*o._z*s+t,i[11]=0}return i[12]=0,i[13]=0,i[14]=0,i[15]=1,o.markAsUpdated(),o}static RotationYawPitchRoll(a,c,o){const s=new k;return k.RotationYawPitchRollToRef(a,c,o,s),s}static RotationYawPitchRollToRef(a,c,o,s){return y.RotationYawPitchRollToRef(a,c,o,n.Quaternion[0]),n.Quaternion[0].toRotationMatrix(s),s}static Scaling(a,c,o){const s=new k;return k.ScalingToRef(a,c,o,s),s}static ScalingToRef(a,c,o,s){return k.FromValuesToRef(a,0,0,0,0,c,0,0,0,0,o,0,0,0,0,1,s),s._updateIdentityStatus(1===a&&1===c&&1===o),s}static Translation(a,c,o){const s=new k;return k.TranslationToRef(a,c,o,s),s}static TranslationToRef(a,c,o,s){return k.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,a,c,o,1,s),s._updateIdentityStatus(0===a&&0===c&&0===o),s}static Lerp(a,c,o){const s=new k;return k.LerpToRef(a,c,o,s),s}static LerpToRef(a,c,o,s){const q=s.yc,t=a.m,i=c.m;for(let p=0;p<16;p++)q[p]=t[p]*(1-o)+i[p]*o;return s.markAsUpdated(),s}static DecomposeLerp(a,c,o){const s=new k;return k.DecomposeLerpToRef(a,c,o,s),s}static DecomposeLerpToRef(a,c,o,s){const q=n.Hc[0],t=n.Quaternion[0],i=n.Hc[1];a.decompose(q,t,i);const p=n.Hc[2],G=n.Quaternion[1],T=n.Hc[3];c.decompose(p,G,T);const C=n.Hc[4];M.LerpToRef(q,p,o,C);const j=n.Quaternion[2];y.SlerpToRef(t,G,o,j);const L=n.Hc[5];return M.LerpToRef(i,T,o,L),k.ComposeToRef(C,j,L,s),s}static LookAtLH(a,c,o){const s=new k;return k.LookAtLHToRef(a,c,o,s),s}static LookAtLHToRef(a,c,o,s){const q=n.Hc[0],t=n.Hc[1],i=n.Hc[2];c.subtractToRef(a,i),i.normalize(),M.CrossToRef(o,i,q);const p=q.lengthSquared();0===p?q.x=1:q.normalizeFromLength(Math.sqrt(p)),M.CrossToRef(i,q,t),t.normalize();const G=-M.Dot(q,a),T=-M.Dot(t,a),C=-M.Dot(i,a);return k.FromValuesToRef(q._x,t._x,i._x,0,q._y,t._y,i._y,0,q._z,t._z,i._z,0,G,T,C,1,s),s}static LookAtRH(a,c,o){const s=new k;return k.LookAtRHToRef(a,c,o,s),s}static LookAtRHToRef(a,c,o,s){const q=n.Hc[0],t=n.Hc[1],i=n.Hc[2];a.subtractToRef(c,i),i.normalize(),M.CrossToRef(o,i,q);const p=q.lengthSquared();0===p?q.x=1:q.normalizeFromLength(Math.sqrt(p)),M.CrossToRef(i,q,t),t.normalize();const G=-M.Dot(q,a),T=-M.Dot(t,a),C=-M.Dot(i,a);return k.FromValuesToRef(q._x,t._x,i._x,0,q._y,t._y,i._y,0,q._z,t._z,i._z,0,G,T,C,1,s),s}static LookDirectionLH(a,c){const o=new k;return k.LookDirectionLHToRef(a,c,o),o}static LookDirectionLHToRef(a,c,o){const s=n.Hc[0];s.G(a),s.scaleInPlace(-1);const q=n.Hc[1];return M.CrossToRef(c,s,q),k.FromValuesToRef(q._x,q._y,q._z,0,c._x,c._y,c._z,0,s._x,s._y,s._z,0,0,0,0,1,o),o}static LookDirectionRH(a,c){const o=new k;return k.LookDirectionRHToRef(a,c,o),o}static LookDirectionRHToRef(a,c,o){const s=n.Hc[2];return M.CrossToRef(c,a,s),k.FromValuesToRef(s._x,s._y,s._z,0,c._x,c._y,c._z,0,a._x,a._y,a._z,0,0,0,0,1,o),o}static OrthoLH(a,c,o,s,q){const t=new k;return k.OrthoLHToRef(a,c,o,s,t,q),t}static OrthoLHToRef(a,c,o,s,q,t){const i=2/a,p=2/c,G=2/(s-o),T=-(s+o)/(s-o);return k.FromValuesToRef(i,0,0,0,0,p,0,0,0,0,G,0,0,0,T,1,q),t&&q.multiplyToRef(J,q),q._updateIdentityStatus(1===i&&1===p&&1===G&&0===T),q}static OrthoOffCenterLH(a,c,o,s,q,t,i){const p=new k;return k.OrthoOffCenterLHToRef(a,c,o,s,q,t,p,i),p}static OrthoOffCenterLHToRef(a,c,o,s,q,t,i,p){const G=2/(c-a),T=2/(s-o),C=2/(t-q),j=-(t+q)/(t-q),L=(a+c)/(a-c),e=(s+o)/(o-s);return k.FromValuesToRef(G,0,0,0,0,T,0,0,0,0,C,0,L,e,j,1,i),p&&i.multiplyToRef(J,i),i.markAsUpdated(),i}static ObliqueOffCenterLHToRef(a,c,o,s,q,t,i,p,G,T,C){const j=-i*Math.cos(p),L=-i*Math.sin(p);return k.TranslationToRef(0,0,-G,n.Matrix[1]),k.FromValuesToRef(1,0,0,0,0,1,0,0,j,L,1,0,0,0,0,1,n.Matrix[0]),n.Matrix[1].multiplyToRef(n.Matrix[0],n.Matrix[0]),k.TranslationToRef(0,0,G,n.Matrix[1]),n.Matrix[0].multiplyToRef(n.Matrix[1],n.Matrix[0]),k.OrthoOffCenterLHToRef(a,c,o,s,q,t,T,C),n.Matrix[0].multiplyToRef(T,T),T}static OrthoOffCenterRH(a,c,o,s,q,t,i){const p=new k;return k.OrthoOffCenterRHToRef(a,c,o,s,q,t,p,i),p}static OrthoOffCenterRHToRef(a,c,o,s,q,t,i,p){return k.OrthoOffCenterLHToRef(a,c,o,s,q,t,i,p),i.yc[10]*=-1,i}static ObliqueOffCenterRHToRef(a,c,o,s,q,t,i,p,G,T,C){const j=i*Math.cos(p),L=i*Math.sin(p);return k.TranslationToRef(0,0,G,n.Matrix[1]),k.FromValuesToRef(1,0,0,0,0,1,0,0,j,L,1,0,0,0,0,1,n.Matrix[0]),n.Matrix[1].multiplyToRef(n.Matrix[0],n.Matrix[0]),k.TranslationToRef(0,0,-G,n.Matrix[1]),n.Matrix[0].multiplyToRef(n.Matrix[1],n.Matrix[0]),k.OrthoOffCenterRHToRef(a,c,o,s,q,t,T,C),n.Matrix[0].multiplyToRef(T,T),T}static PerspectiveLH(a,c,o,s,q){let t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=new k,p=2*o/a,G=2*o/c,T=(s+o)/(s-o),C=-2*s*o/(s-o),j=Math.tan(t);return k.FromValuesToRef(p,0,0,0,0,G,0,j,0,0,T,1,0,0,C,0,i),q&&i.multiplyToRef(J,i),i._updateIdentityStatus(!1),i}static PerspectiveFovLH(a,c,o,s,q){let t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const p=new k;return k.PerspectiveFovLHToRef(a,c,o,s,p,!0,q,t,i),p}static PerspectiveFovLHToRef(a,c,o,s,q){let t=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6?arguments[6]:void 0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,G=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const T=o,C=s,j=1/Math.tan(.5*a),L=t?j/c:j,e=t?j:j*c,g=G&&0===T?-1:0!==C?(C+T)/(C-T):1,M=G&&0===T?2*C:0!==C?-2*C*T/(C-T):-2*T,N=Math.tan(p);return k.FromValuesToRef(L,0,0,0,0,e,0,N,0,0,g,1,0,0,M,0,q),i&&q.multiplyToRef(J,q),q._updateIdentityStatus(!1),q}static PerspectiveFovReverseLHToRef(a,c,o,s,q){let t=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6?arguments[6]:void 0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const G=1/Math.tan(.5*a),T=t?G/c:G,C=t?G:G*c,j=Math.tan(p);return k.FromValuesToRef(T,0,0,0,0,C,0,j,0,0,-o,1,0,0,1,0,q),i&&q.multiplyToRef(J,q),q._updateIdentityStatus(!1),q}static PerspectiveFovRH(a,c,o,s,q){let t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const p=new k;return k.PerspectiveFovRHToRef(a,c,o,s,p,!0,q,t,i),p}static PerspectiveFovRHToRef(a,c,o,s,q){let t=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6?arguments[6]:void 0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,G=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const T=o,C=s,j=1/Math.tan(.5*a),L=t?j/c:j,e=t?j:j*c,g=G&&0===T?1:0!==C?-(C+T)/(C-T):-1,M=G&&0===T?2*C:0!==C?-2*C*T/(C-T):-2*T,N=Math.tan(p);return k.FromValuesToRef(L,0,0,0,0,e,0,N,0,0,g,-1,0,0,M,0,q),i&&q.multiplyToRef(J,q),q._updateIdentityStatus(!1),q}static PerspectiveFovReverseRHToRef(a,c,o,s,q){let t=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=arguments.length>6?arguments[6]:void 0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const G=1/Math.tan(.5*a),T=t?G/c:G,C=t?G:G*c,j=Math.tan(p);return k.FromValuesToRef(T,0,0,0,0,C,0,j,0,0,-o,-1,0,0,-1,0,q),i&&q.multiplyToRef(J,q),q._updateIdentityStatus(!1),q}static GetFinalMatrix(a,c,o,s,q,t){const i=a.width,p=a.height,G=a.x,T=a.y,C=k.FromValues(i/2,0,0,0,0,-p/2,0,0,0,0,t-q,0,G+i/2,p/2+T,q,1),j=new k;return c.multiplyToRef(o,j),j.multiplyToRef(s,j),j.multiplyToRef(C,j)}static GetAsMatrix2x2(a){const c=a.m,o=[c[0],c[1],c[4],c[5]];return i.b.MatrixUse64Bits?o:new Float32Array(o)}static GetAsMatrix3x3(a){const c=a.m,o=[c[0],c[1],c[2],c[4],c[5],c[6],c[8],c[9],c[10]];return i.b.MatrixUse64Bits?o:new Float32Array(o)}static Transpose(a){const c=new k;return k.TransposeToRef(a,c),c}static TransposeToRef(a,c){const o=a.m,s=o[0],q=o[4],t=o[8],i=o[12],p=o[1],G=o[5],T=o[9],C=o[13],j=o[2],L=o[6],e=o[10],g=o[14],M=o[3],N=o[7],y=o[11],k=o[15],n=c.yc;return n[0]=s,n[1]=q,n[2]=t,n[3]=i,n[4]=p,n[5]=G,n[6]=T,n[7]=C,n[8]=j,n[9]=L,n[10]=e,n[11]=g,n[12]=M,n[13]=N,n[14]=y,n[15]=k,c.markAsUpdated(),c._updateIdentityStatus(a._isIdentity,a._isIdentityDirty),c}static Reflection(a){const c=new k;return k.ReflectionToRef(a,c),c}static ReflectionToRef(a,c){a.normalize();const o=a.normal.x,s=a.normal.y,q=a.normal.z,t=-2*o,i=-2*s,p=-2*q;return k.FromValuesToRef(t*o+1,i*o,p*o,0,t*s,i*s+1,p*s,0,t*q,i*q,p*q+1,0,t*a.d,i*a.d,p*a.d,1,c),c}static FromXYZAxesToRef(a,c,o,s){return k.FromValuesToRef(a._x,a._y,a._z,0,c._x,c._y,c._z,0,o._x,o._y,o._z,0,0,0,0,1,s),s}static FromQuaternionToRef(a,c){const o=a._x*a._x,s=a._y*a._y,q=a._z*a._z,t=a._x*a._y,i=a._z*a._w,p=a._z*a._x,G=a._y*a._w,T=a._y*a._z,C=a._x*a._w;return c.yc[0]=1-2*(s+q),c.yc[1]=2*(t+i),c.yc[2]=2*(p-G),c.yc[3]=0,c.yc[4]=2*(t-i),c.yc[5]=1-2*(q+o),c.yc[6]=2*(T+C),c.yc[7]=0,c.yc[8]=2*(p+G),c.yc[9]=2*(T-C),c.yc[10]=1-2*(s+o),c.yc[11]=0,c.yc[12]=0,c.yc[13]=0,c.yc[14]=0,c.yc[15]=1,c.markAsUpdated(),c}}k._IdentityReadOnly=k.Identity(),Object.defineProperties(k.prototype,{dimension:{value:[4,4]},rank:{value:2}});class n{}n.Hc=(0,q.c)(11,M.Zero),n.Matrix=(0,q.c)(2,k.Identity),n.Quaternion=(0,q.c)(3,y.Zero);class f{}f.Vector2=(0,q.c)(3,g.Zero),f.Hc=(0,q.c)(13,M.Zero),f.Vector4=(0,q.c)(3,N.Zero),f.Quaternion=(0,q.c)(3,y.Zero),f.Matrix=(0,q.c)(8,k.Identity),(0,t.d)("BABYLON.Vector2",g),(0,t.d)("BABYLON.Vector3",M),(0,t.d)("BABYLON.Vector4",N),(0,t.d)("BABYLON.Matrix",k);const J=k.FromValues(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1)},12820:(a,c,o)=>{function s(a,c){const o=[];for(let s=0;s<a;++s)o.push(c());return o}function q(a,c){return s(a,c)}o.d(c,{b:()=>s,c:()=>q,d:()=>i});const t=["push","splice","pop","shift","unshift"];function i(a,c){const o=t.map((o=>function(a,c,o){const s=a[c];if("function"!==typeof s)return null;const q=function(){const s=a.length,t=q.previous.apply(a,arguments);return o(c,s),t};return s.next=q,q.previous=s,a[c]=q,()=>{const o=q.previous;if(!o)return;const s=q.next;s?(o.next=s,s.previous=o):(o.next=void 0,a[c]=o),q.next=void 0,q.previous=void 0}}(a,o,c)));return()=>{for(const a of o)null===a||void 0===a||a()}}}}]);