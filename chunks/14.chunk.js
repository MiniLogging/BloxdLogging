"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[14],{12454:(g,i,a)=>{a.d(i,{b:()=>b,e:()=>d,i:()=>n,l:()=>L});const n=1/2.2,L=2.2,d=(1+Math.sqrt(5))/2,b=.001},12466:(g,i,a)=>{function n(g){return parseInt(g.toString().replace(/\W/g,""))}function L(g,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(g-i)<=a}function d(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return g<i-n||g>a+n}function b(g,i){return g===i?g:Math.random()*(i-g)+g}function k(g,i,a){return g+(i-g)*a}function e(g,i,a){let n=D(i-g,360);return n>180&&(n-=360),g+n*j(a)}function N(g,i,a){let n=0;return n=g!=i?j((a-g)/(i-g)):0,n}function F(g,i,a,n,L){const d=L*L,b=L*d;return g*(2*b-3*d+1)+a*(-2*b+3*d)+i*(b-2*d+L)+n*(b-d)}function I(g,i,a,n,L){const d=L*L;return 6*(d-L)*g+(3*d-4*L+1)*i+6*(-d+L)*a+(3*d-2*L)*n}function j(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(a,Math.max(i,g))}function y(g){return g-=2*Math.PI*Math.floor((g+Math.PI)/(2*Math.PI))}function B(g){const i=g.toString(16);return g<=15?("0"+i).toUpperCase():i.toUpperCase()}function c(g){if(Math.log2)return Math.floor(Math.log2(g));if(g<0)return NaN;if(0===g)return-1/0;let i=0;if(g<1){for(;g<1;)i++,g*=2;i=-i}else if(g>1)for(;g>1;)i++,g=Math.floor(g/2);return i}function D(g,i){return g-Math.floor(g/i)*i}function p(g,i,a){return(g-i)/(a-i)}function R(g,i,a){return g*(a-i)+i}function x(g,i){let a=D(i-g,360);return a>180&&(a-=360),a}function E(g,i){const a=D(g,2*i);return i-Math.abs(a-i)}function X(g,i,a){let n=j(a);return n=-2*n*n*n+3*n*n,i*n+g*(1-n)}function v(g,i,a){let n=0;return n=Math.abs(i-g)<=a?i:g+Math.sign(i-g)*a,n}function P(g,i,a){const n=x(g,i);let L=0;return L=-a<n&&n<a?i:v(g,i=g+n,a),L}function Y(g,i,a){return(g-i)/(a-i)}function f(g,i,a){return(a-i)*g+i}function C(g,i){const a=g%i;return 0===a?i:C(i,a)}a.r(i),a.d(i,{Clamp:()=>j,DeltaAngle:()=>x,Denormalize:()=>R,ExtractAsInt:()=>n,Hermite:()=>F,Hermite1stDerivative:()=>I,HighestCommonFactor:()=>C,ILog2:()=>c,InverseLerp:()=>N,Lerp:()=>k,LerpAngle:()=>e,MoveTowards:()=>v,MoveTowardsAngle:()=>P,Normalize:()=>p,NormalizeRadians:()=>y,OutsideRange:()=>d,PercentToRange:()=>f,PingPong:()=>E,RandomRange:()=>b,RangeToPercent:()=>Y,Repeat:()=>D,SmoothStep:()=>X,ToHex:()=>B,WithinEpsilon:()=>L})},12452:(g,i,a)=>{a.r(i),a.d(i,{Matrix:()=>R,Quaternion:()=>p,TmpVectors:()=>E,Vector2:()=>B,Bi:()=>c,Vector4:()=>D});var n=a(12454),L=a(12462),d=a(12415),b=a(12383),k=a(12316),e=a(12466);class N{}function F(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const L=g.fd(),d=i.fd(),b=L[0],k=L[1],e=L[2],N=L[3],F=L[4],I=L[5],j=L[6],y=L[7],B=L[8],c=L[9],D=L[10],p=L[11],R=L[12],x=L[13],E=L[14],X=L[15],v=d[0],P=d[1],Y=d[2],f=d[3],C=d[4],U=d[5],S=d[6],V=d[7],K=d[8],T=d[9],l=d[10],Z=d[11],h=d[12],w=d[13],t=d[14],A=d[15];a[n]=b*v+k*C+e*K+N*h,a[n+1]=b*P+k*U+e*T+N*w,a[n+2]=b*Y+k*S+e*l+N*t,a[n+3]=b*f+k*V+e*Z+N*A,a[n+4]=F*v+I*C+j*K+y*h,a[n+5]=F*P+I*U+j*T+y*w,a[n+6]=F*Y+I*S+j*l+y*t,a[n+7]=F*f+I*V+j*Z+y*A,a[n+8]=B*v+c*C+D*K+p*h,a[n+9]=B*P+c*U+D*T+p*w,a[n+10]=B*Y+c*S+D*l+p*t,a[n+11]=B*f+c*V+D*Z+p*A,a[n+12]=R*v+x*C+E*K+X*h,a[n+13]=R*P+x*U+E*T+X*w,a[n+14]=R*Y+x*S+E*l+X*t,a[n+15]=R*f+x*V+E*Z+X*A}function I(g,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g.fd();i[a]=n[0],i[a+1]=n[1],i[a+2]=n[2],i[a+3]=n[3],i[a+4]=n[4],i[a+5]=n[5],i[a+6]=n[6],i[a+7]=n[7],i[a+8]=n[8],i[a+9]=n[9],i[a+10]=n[10],i[a+11]=n[11],i[a+12]=n[12],i[a+13]=n[13],i[a+14]=n[14],i[a+15]=n[15]}function j(g,i){const a=g.fd(),n=a[0],L=a[1],d=a[2],b=a[3],k=a[4],e=a[5],N=a[6],F=a[7],I=a[8],j=a[9],y=a[10],B=a[11],c=a[12],D=a[13],p=a[14],R=a[15],x=y*R-p*B,E=j*R-D*B,X=j*p-D*y,v=I*R-c*B,P=I*p-y*c,Y=I*D-c*j,f=+(e*x-N*E+F*X),C=-(k*x-N*v+F*P),U=+(k*E-e*v+F*Y),S=-(k*X-e*P+N*Y),V=n*f+L*C+d*U+b*S;if(0===V)return!1;const K=1/V,T=N*R-p*F,l=e*R-D*F,Z=e*p-D*N,h=k*R-c*F,w=k*p-c*N,t=k*D-c*e,A=N*B-y*F,O=e*B-j*F,z=e*y-j*N,s=k*B-I*F,mg=k*y-I*N,r=k*j-I*e,Q=-(L*x-d*E+b*X),o=+(n*x-d*v+b*P),u=-(n*E-L*v+b*Y),H=+(n*X-L*P+d*Y),M=+(L*T-d*l+b*Z),q=-(n*T-d*h+b*w),W=+(n*l-L*h+b*t),G=-(n*Z-L*w+d*t),J=-(L*A-d*O+b*z),gg=+(n*A-d*s+b*mg),ig=-(n*O-L*s+b*r),ag=+(n*z-L*mg+d*r);return i[0]=f*K,i[1]=Q*K,i[2]=M*K,i[3]=J*K,i[4]=C*K,i[5]=o*K,i[6]=q*K,i[7]=gg*K,i[8]=U*K,i[9]=u*K,i[10]=W*K,i[11]=ig*K,i[12]=S*K,i[13]=H*K,i[14]=G*K,i[15]=ag*K,!0}N._UpdateFlagSeed=0;const y=g=>parseInt(g.toString().replace(/\W/g,""));class B{constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=g,this.y=i}toString(){return`{X: ${this.x} Y: ${this.y}}`}getClassName(){return"Vector2"}getHashCode(){let g=y(this.x);return g=397*g^y(this.y),g}toArray(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g[i]=this.x,g[i+1]=this.y,this}ya(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return B.FromArrayToRef(g,i,this),this}fd(){return[this.x,this.y]}I(g){return this.x=g.x,this.y=g.y,this}sd(g,i){return this.x=g,this.y=i,this}set(g,i){return this.sd(g,i)}Qd(g){return this.sd(g,g)}add(g){return new B(this.x+g.x,this.y+g.y)}addToRef(g,i){return i.x=this.x+g.x,i.y=this.y+g.y,i}addInPlace(g){return this.x+=g.x,this.y+=g.y,this}addInPlaceFromFloats(g,i){return this.x+=g,this.y+=i,this}addVector3(g){return new B(this.x+g.x,this.y+g.y)}ci(g){return new B(this.x-g.x,this.y-g.y)}subtractToRef(g,i){return i.x=this.x-g.x,i.y=this.y-g.y,i}ij(g){return this.x-=g.x,this.y-=g.y,this}multiplyInPlace(g){return this.x*=g.x,this.y*=g.y,this}multiply(g){return new B(this.x*g.x,this.y*g.y)}multiplyToRef(g,i){return i.x=this.x*g.x,i.y=this.y*g.y,i}multiplyByFloats(g,i){return new B(this.x*g,this.y*i)}divide(g){return new B(this.x/g.x,this.y/g.y)}divideToRef(g,i){return i.x=this.x/g.x,i.y=this.y/g.y,i}divideInPlace(g){return this.x=this.x/g.x,this.y=this.y/g.y,this}minimizeInPlace(g){return this.minimizeInPlaceFromFloats(g.x,g.y)}maximizeInPlace(g){return this.maximizeInPlaceFromFloats(g.x,g.y)}minimizeInPlaceFromFloats(g,i){return this.x=Math.min(g,this.x),this.y=Math.min(i,this.y),this}maximizeInPlaceFromFloats(g,i){return this.x=Math.max(g,this.x),this.y=Math.max(i,this.y),this}subtractFromFloats(g,i){return new B(this.x-g,this.y-i)}subtractFromFloatsToRef(g,i,a){return a.x=this.x-g,a.y=this.y-i,a}negate(){return new B(-this.x,-this.y)}negateInPlace(){return this.x*=-1,this.y*=-1,this}negateToRef(g){return g.x=-this.x,g.y=-this.y,g}scaleInPlace(g){return this.x*=g,this.y*=g,this}scale(g){return new B(this.x*g,this.y*g)}scaleToRef(g,i){return i.x=this.x*g,i.y=this.y*g,i}scaleAndAddToRef(g,i){return i.x+=this.x*g,i.y+=this.y*g,i}equals(g){return g&&this.x===g.x&&this.y===g.y}equalsWithEpsilon(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b;return g&&(0,e.WithinEpsilon)(this.x,g.x,i)&&(0,e.WithinEpsilon)(this.y,g.y,i)}equalsToFloats(g,i){return this.x===g&&this.y===i}floor(){return new B(Math.floor(this.x),Math.floor(this.y))}floorToRef(g){return g.x=Math.floor(this.x),g.y=Math.floor(this.y),g}fract(){return new B(this.x-Math.floor(this.x),this.y-Math.floor(this.y))}fractToRef(g){return g.x=this.x-Math.floor(this.x),g.y=this.y-Math.floor(this.y),g}rotate(g){return this.rotateToRef(g,new B)}rotateToRef(g,i){const a=Math.cos(g),n=Math.sin(g);return i.x=a*this.x-n*this.y,i.y=n*this.x+a*this.y,i}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(g){return 0===g||1===g?this:this.scaleInPlace(1/g)}normalizeToNew(){const g=new B;return this.normalizeToRef(g),g}normalizeToRef(g){const i=this.length();return 0===i&&(g.x=this.x,g.y=this.y),this.scaleToRef(1/i,g)}clone(){return new B(this.x,this.y)}dot(g){return this.x*g.x+this.y*g.y}static Zero(){return new B(0,0)}static One(){return new B(1,1)}static Random(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new B((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static RandomToRef(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).sd((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static get ZeroReadOnly(){return B._ZeroReadOnly}static xi(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new B(g[i],g[i+1])}static FromArrayToRef(g,i,a){return a.x=g[i],a.y=g[i+1],a}static FromFloatsToRef(g,i,a){return a.sd(g,i),a}static CatmullRom(g,i,a,n,L){const d=L*L,b=L*d,k=.5*(2*i.x+(-g.x+a.x)*L+(2*g.x-5*i.x+4*a.x-n.x)*d+(-g.x+3*i.x-3*a.x+n.x)*b),e=.5*(2*i.y+(-g.y+a.y)*L+(2*g.y-5*i.y+4*a.y-n.y)*d+(-g.y+3*i.y-3*a.y+n.y)*b);return new B(k,e)}static ClampToRef(g,i,a,n){return n.x=(0,e.Clamp)(g.x,i.x,a.x),n.y=(0,e.Clamp)(g.y,i.y,a.y),n}static Clamp(g,i,a){const n=(0,e.Clamp)(g.x,i.x,a.x),L=(0,e.Clamp)(g.y,i.y,a.y);return new B(n,L)}static Hermite(g,i,a,n,L){const d=L*L,b=L*d,k=2*b-3*d+1,e=-2*b+3*d,N=b-2*d+L,F=b-d,I=g.x*k+a.x*e+i.x*N+n.x*F,j=g.y*k+a.y*e+i.y*N+n.y*F;return new B(I,j)}static Hermite1stDerivative(g,i,a,n,L){return this.Hermite1stDerivativeToRef(g,i,a,n,L,new B)}static Hermite1stDerivativeToRef(g,i,a,n,L,d){const b=L*L;return d.x=6*(b-L)*g.x+(3*b-4*L+1)*i.x+6*(-b+L)*a.x+(3*b-2*L)*n.x,d.y=6*(b-L)*g.y+(3*b-4*L+1)*i.y+6*(-b+L)*a.y+(3*b-2*L)*n.y,d}static Lerp(g,i,a){return B.LerpToRef(g,i,a,new B)}static LerpToRef(g,i,a,n){return n.x=g.x+(i.x-g.x)*a,n.y=g.y+(i.y-g.y)*a,n}static Dot(g,i){return g.x*i.x+g.y*i.y}static Normalize(g){return B.NormalizeToRef(g,new B)}static NormalizeToRef(g,i){return g.normalizeToRef(i),i}static Minimize(g,i){const a=g.x<i.x?g.x:i.x,n=g.y<i.y?g.y:i.y;return new B(a,n)}static Maximize(g,i){const a=g.x>i.x?g.x:i.x,n=g.y>i.y?g.y:i.y;return new B(a,n)}static Transform(g,i){return B.TransformToRef(g,i,new B)}static TransformToRef(g,i,a){const n=i.m,L=g.x*n[0]+g.y*n[4]+n[12],d=g.x*n[1]+g.y*n[5]+n[13];return a.x=L,a.y=d,a}static PointInTriangle(g,i,a,n){const L=.5*(-a.y*n.x+i.y*(-a.x+n.x)+i.x*(a.y-n.y)+a.x*n.y),d=L<0?-1:1,b=(i.y*n.x-i.x*n.y+(n.y-i.y)*g.x+(i.x-n.x)*g.y)*d,k=(i.x*a.y-i.y*a.x+(i.y-a.y)*g.x+(a.x-i.x)*g.y)*d;return b>0&&k>0&&b+k<2*L*d}static Distance(g,i){return Math.sqrt(B.DistanceSquared(g,i))}static DistanceSquared(g,i){const a=g.x-i.x,n=g.y-i.y;return a*a+n*n}static Center(g,i){return B.CenterToRef(g,i,new B)}static CenterToRef(g,i,a){return a.sd((g.x+i.x)/2,(g.y+i.y)/2)}static DistanceOfPointFromSegment(g,i,a){const n=B.DistanceSquared(i,a);if(0===n)return B.Distance(g,i);const L=a.ci(i),d=Math.max(0,Math.min(1,B.Dot(g.ci(i),L)/n)),b=i.add(L.multiplyByFloats(d,d));return B.Distance(g,b)}}B._V8PerformanceHack=new B(.5,.5),B._ZeroReadOnly=B.Zero(),Object.defineProperties(B.prototype,{dimension:{value:[2]},rank:{value:1}});class c{get x(){return this._x}set x(g){this._x=g,this._isDirty=!0}get y(){return this._y}set y(g){this._y=g,this._isDirty=!0}get z(){return this._z}set z(g){this._z=g,this._isDirty=!0}constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._isDirty=!0,this._x=g,this._y=i,this._z=a}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z}}`}getClassName(){return"Bi"}getHashCode(){let g=y(this._x);return g=397*g^y(this._y),g=397*g^y(this._z),g}fd(){return[this._x,this._y,this._z]}toArray(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g[i]=this._x,g[i+1]=this._y,g[i+2]=this._z,this}ya(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c.FromArrayToRef(g,i,this),this}toQuaternion(){return p.RotationYawPitchRoll(this._y,this._x,this._z)}addInPlace(g){return this._x+=g._x,this._y+=g._y,this._z+=g._z,this._isDirty=!0,this}addInPlaceFromFloats(g,i,a){return this._x+=g,this._y+=i,this._z+=a,this._isDirty=!0,this}add(g){return new c(this._x+g._x,this._y+g._y,this._z+g._z)}addToRef(g,i){return i._x=this._x+g._x,i._y=this._y+g._y,i._z=this._z+g._z,i._isDirty=!0,i}ij(g){return this._x-=g._x,this._y-=g._y,this._z-=g._z,this._isDirty=!0,this}ci(g){return new c(this._x-g._x,this._y-g._y,this._z-g._z)}subtractToRef(g,i){return this.subtractFromFloatsToRef(g._x,g._y,g._z,i)}subtractFromFloats(g,i,a){return new c(this._x-g,this._y-i,this._z-a)}subtractFromFloatsToRef(g,i,a,n){return n._x=this._x-g,n._y=this._y-i,n._z=this._z-a,n._isDirty=!0,n}negate(){return new c(-this._x,-this._y,-this._z)}negateInPlace(){return this._x*=-1,this._y*=-1,this._z*=-1,this._isDirty=!0,this}negateToRef(g){return g._x=-1*this._x,g._y=-1*this._y,g._z=-1*this._z,g._isDirty=!0,g}scaleInPlace(g){return this._x*=g,this._y*=g,this._z*=g,this._isDirty=!0,this}scale(g){return new c(this._x*g,this._y*g,this._z*g)}scaleToRef(g,i){return i._x=this._x*g,i._y=this._y*g,i._z=this._z*g,i._isDirty=!0,i}getNormalToRef(g){const i=this.length();let a=Math.acos(this._y/i);const n=Math.atan2(this._z,this._x);a>Math.PI/2?a-=Math.PI/2:a+=Math.PI/2;const L=i*Math.sin(a)*Math.cos(n),d=i*Math.cos(a),b=i*Math.sin(a)*Math.sin(n);return g.set(L,d,b),g}applyRotationQuaternionToRef(g,i){const a=this._x,n=this._y,L=this._z,d=g._x,b=g._y,k=g._z,e=g._w,N=2*(b*L-k*n),F=2*(k*a-d*L),I=2*(d*n-b*a);return i._x=a+e*N+b*I-k*F,i._y=n+e*F+k*N-d*I,i._z=L+e*I+d*F-b*N,i._isDirty=!0,i}applyRotationQuaternionInPlace(g){return this.applyRotationQuaternionToRef(g,this)}applyRotationQuaternion(g){return this.applyRotationQuaternionToRef(g,new c)}scaleAndAddToRef(g,i){return i._x+=this._x*g,i._y+=this._y*g,i._z+=this._z*g,i._isDirty=!0,i}projectOnPlane(g,i){return this.projectOnPlaneToRef(g,i,new c)}projectOnPlaneToRef(g,i,a){const n=g.normal,L=g.d,d=x.Bi[0];this.subtractToRef(i,d),d.normalize();const b=c.Dot(d,n);if(Math.abs(b)<1e-10)a.Qd(1/0);else{const g=-(c.Dot(i,n)+L)/b,k=d.scaleInPlace(g);i.addToRef(k,a)}return a}equals(g){return g&&this._x===g._x&&this._y===g._y&&this._z===g._z}equalsWithEpsilon(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b;return g&&(0,e.WithinEpsilon)(this._x,g._x,i)&&(0,e.WithinEpsilon)(this._y,g._y,i)&&(0,e.WithinEpsilon)(this._z,g._z,i)}equalsToFloats(g,i,a){return this._x===g&&this._y===i&&this._z===a}multiplyInPlace(g){return this._x*=g._x,this._y*=g._y,this._z*=g._z,this._isDirty=!0,this}multiply(g){return this.multiplyByFloats(g._x,g._y,g._z)}multiplyToRef(g,i){return i._x=this._x*g._x,i._y=this._y*g._y,i._z=this._z*g._z,i._isDirty=!0,i}multiplyByFloats(g,i,a){return new c(this._x*g,this._y*i,this._z*a)}divide(g){return new c(this._x/g._x,this._y/g._y,this._z/g._z)}divideToRef(g,i){return i._x=this._x/g._x,i._y=this._y/g._y,i._z=this._z/g._z,i._isDirty=!0,i}divideInPlace(g){return this._x=this._x/g._x,this._y=this._y/g._y,this._z=this._z/g._z,this._isDirty=!0,this}minimizeInPlace(g){return this.minimizeInPlaceFromFloats(g._x,g._y,g._z)}maximizeInPlace(g){return this.maximizeInPlaceFromFloats(g._x,g._y,g._z)}minimizeInPlaceFromFloats(g,i,a){return g<this._x&&(this.x=g),i<this._y&&(this.y=i),a<this._z&&(this.z=a),this}maximizeInPlaceFromFloats(g,i,a){return g>this._x&&(this.x=g),i>this._y&&(this.y=i),a>this._z&&(this.z=a),this}isNonUniformWithinEpsilon(g){const i=Math.abs(this._x),a=Math.abs(this._y);if(!(0,e.WithinEpsilon)(i,a,g))return!0;const n=Math.abs(this._z);return!(0,e.WithinEpsilon)(i,n,g)||!(0,e.WithinEpsilon)(a,n,g)}get isNonUniform(){const g=Math.abs(this._x);if(g!==Math.abs(this._y))return!0;return g!==Math.abs(this._z)}floorToRef(g){return g._x=Math.floor(this._x),g._y=Math.floor(this._y),g._z=Math.floor(this._z),g._isDirty=!0,g}floor(){return new c(Math.floor(this._x),Math.floor(this._y),Math.floor(this._z))}fractToRef(g){return g._x=this._x-Math.floor(this._x),g._y=this._y-Math.floor(this._y),g._z=this._z-Math.floor(this._z),g._isDirty=!0,g}fract(){return new c(this._x-Math.floor(this._x),this._y-Math.floor(this._y),this._z-Math.floor(this._z))}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z}get hasAZeroComponent(){return this._x*this._y*this._z===0}normalize(){return this.normalizeFromLength(this.length())}reorderInPlace(g){if("xyz"===(g=g.toLowerCase()))return this;const i=x.Bi[0].I(this);return this.x=i[g[0]],this.y=i[g[1]],this.z=i[g[2]],this}rotateByQuaternionToRef(g,i){return g.toRotationMatrix(x.Matrix[0]),c.TransformCoordinatesToRef(this,x.Matrix[0],i),i}rotateByQuaternionAroundPointToRef(g,i,a){return this.subtractToRef(i,x.Bi[0]),x.Bi[0].rotateByQuaternionToRef(g,x.Bi[0]),i.addToRef(x.Bi[0],a),a}cross(g){return c.CrossToRef(this,g,new c)}normalizeFromLength(g){return 0===g||1===g?this:this.scaleInPlace(1/g)}normalizeToNew(){return this.normalizeToRef(new c)}normalizeToRef(g){const i=this.length();return 0===i||1===i?(g._x=this._x,g._y=this._y,g._z=this._z,g._isDirty=!0,g):this.scaleToRef(1/i,g)}clone(){return new c(this._x,this._y,this._z)}I(g){return this.sd(g._x,g._y,g._z)}sd(g,i,a){return this._x=g,this._y=i,this._z=a,this._isDirty=!0,this}set(g,i,a){return this.sd(g,i,a)}Qd(g){return this._x=this._y=this._z=g,this._isDirty=!0,this}static GetClipFactor(g,i,a,n){const L=c.Dot(g,a);return(L-n)/(L-c.Dot(i,a))}static GetAngleBetweenVectors(g,i,a){const n=g.normalizeToRef(x.Bi[1]),L=i.normalizeToRef(x.Bi[2]);let d=c.Dot(n,L);d=(0,e.Clamp)(d,-1,1);const b=Math.acos(d),k=x.Bi[3];return c.CrossToRef(n,L,k),c.Dot(k,a)>0?isNaN(b)?0:b:isNaN(b)?-Math.PI:-Math.acos(d)}static GetAngleBetweenVectorsOnPlane(g,i,a){x.Bi[0].I(g);const n=x.Bi[0];x.Bi[1].I(i);const L=x.Bi[1];x.Bi[2].I(a);const d=x.Bi[2],b=x.Bi[3],k=x.Bi[4];n.normalize(),L.normalize(),d.normalize(),c.CrossToRef(d,n,b),c.CrossToRef(b,d,k);const N=Math.atan2(c.Dot(L,b),c.Dot(L,k));return(0,e.NormalizeRadians)(N)}static PitchYawRollToMoveBetweenPointsToRef(g,i,a){const n=E.Bi[0];return i.subtractToRef(g,n),a._y=Math.atan2(n.x,n.z)||0,a._x=Math.atan2(Math.sqrt(n.x**2+n.z**2),n.y)||0,a._z=0,a._isDirty=!0,a}static PitchYawRollToMoveBetweenPoints(g,i){const a=c.Zero();return c.PitchYawRollToMoveBetweenPointsToRef(g,i,a)}static SlerpToRef(g,i,a,L){a=(0,e.Clamp)(a,0,1);const d=x.Bi[0],b=x.Bi[1];d.I(g);const k=d.length();d.normalizeFromLength(k),b.I(i);const N=b.length();b.normalizeFromLength(N);const F=c.Dot(d,b);let I,j;if(F<1-n.b){const g=Math.acos(F),i=1/Math.sin(g);I=Math.sin((1-a)*g)*i,j=Math.sin(a*g)*i}else I=1-a,j=a;return d.scaleInPlace(I),b.scaleInPlace(j),L.I(d).addInPlace(b),L.scaleInPlace((0,e.Lerp)(k,N,a)),L}static SmoothToRef(g,i,a,n,L){return c.SlerpToRef(g,i,0===n?1:a/n,L),L}static xi(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new c(g[i],g[i+1],g[i+2])}static FromFloatArray(g,i){return c.xi(g,i)}static FromArrayToRef(g,i,a){return a._x=g[i],a._y=g[i+1],a._z=g[i+2],a._isDirty=!0,a}static FromFloatArrayToRef(g,i,a){return c.FromArrayToRef(g,i,a)}static FromFloatsToRef(g,i,a,n){return n.sd(g,i,a),n}static Zero(){return new c(0,0,0)}static One(){return new c(1,1,1)}static Up(){return new c(0,1,0)}static get UpReadOnly(){return c._UpReadOnly}static get DownReadOnly(){return c._DownReadOnly}static get RightReadOnly(){return c._RightReadOnly}static get LeftReadOnly(){return c._LeftReadOnly}static get LeftHandedForwardReadOnly(){return c._LeftHandedForwardReadOnly}static get RightHandedForwardReadOnly(){return c._RightHandedForwardReadOnly}static get LeftHandedBackwardReadOnly(){return c._LeftHandedBackwardReadOnly}static get RightHandedBackwardReadOnly(){return c._RightHandedBackwardReadOnly}static get ZeroReadOnly(){return c._ZeroReadOnly}static get OneReadOnly(){return c._OneReadOnly}static Down(){return new c(0,-1,0)}static Forward(){return new c(0,0,arguments.length>0&&void 0!==arguments[0]&&arguments[0]?-1:1)}static Backward(){return new c(0,0,arguments.length>0&&void 0!==arguments[0]&&arguments[0]?1:-1)}static Right(){return new c(1,0,0)}static Left(){return new c(-1,0,0)}static Random(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new c((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static RandomToRef(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).sd((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static TransformCoordinates(g,i){const a=c.Zero();return c.TransformCoordinatesToRef(g,i,a),a}static TransformCoordinatesToRef(g,i,a){return c.TransformCoordinatesFromFloatsToRef(g._x,g._y,g._z,i,a),a}static TransformCoordinatesFromFloatsToRef(g,i,a,n,L){const d=n.m,b=g*d[0]+i*d[4]+a*d[8]+d[12],k=g*d[1]+i*d[5]+a*d[9]+d[13],e=g*d[2]+i*d[6]+a*d[10]+d[14],N=1/(g*d[3]+i*d[7]+a*d[11]+d[15]);return L._x=b*N,L._y=k*N,L._z=e*N,L._isDirty=!0,L}static TransformNormal(g,i){const a=c.Zero();return c.TransformNormalToRef(g,i,a),a}static TransformNormalToRef(g,i,a){return this.TransformNormalFromFloatsToRef(g._x,g._y,g._z,i,a),a}static TransformNormalFromFloatsToRef(g,i,a,n,L){const d=n.m;return L._x=g*d[0]+i*d[4]+a*d[8],L._y=g*d[1]+i*d[5]+a*d[9],L._z=g*d[2]+i*d[6]+a*d[10],L._isDirty=!0,L}static CatmullRom(g,i,a,n,L){const d=L*L,b=L*d,k=.5*(2*i._x+(-g._x+a._x)*L+(2*g._x-5*i._x+4*a._x-n._x)*d+(-g._x+3*i._x-3*a._x+n._x)*b),e=.5*(2*i._y+(-g._y+a._y)*L+(2*g._y-5*i._y+4*a._y-n._y)*d+(-g._y+3*i._y-3*a._y+n._y)*b),N=.5*(2*i._z+(-g._z+a._z)*L+(2*g._z-5*i._z+4*a._z-n._z)*d+(-g._z+3*i._z-3*a._z+n._z)*b);return new c(k,e,N)}static Clamp(g,i,a){const n=new c;return c.ClampToRef(g,i,a,n),n}static ClampToRef(g,i,a,n){let L=g._x;L=L>a._x?a._x:L,L=L<i._x?i._x:L;let d=g._y;d=d>a._y?a._y:d,d=d<i._y?i._y:d;let b=g._z;return b=b>a._z?a._z:b,b=b<i._z?i._z:b,n.sd(L,d,b),n}static CheckExtends(g,i,a){i.minimizeInPlace(g),a.maximizeInPlace(g)}static Hermite(g,i,a,n,L){const d=L*L,b=L*d,k=2*b-3*d+1,e=-2*b+3*d,N=b-2*d+L,F=b-d,I=g._x*k+a._x*e+i._x*N+n._x*F,j=g._y*k+a._y*e+i._y*N+n._y*F,y=g._z*k+a._z*e+i._z*N+n._z*F;return new c(I,j,y)}static Hermite1stDerivative(g,i,a,n,L){const d=new c;return this.Hermite1stDerivativeToRef(g,i,a,n,L,d),d}static Hermite1stDerivativeToRef(g,i,a,n,L,d){const b=L*L;return d._x=6*(b-L)*g._x+(3*b-4*L+1)*i._x+6*(-b+L)*a._x+(3*b-2*L)*n._x,d._y=6*(b-L)*g._y+(3*b-4*L+1)*i._y+6*(-b+L)*a._y+(3*b-2*L)*n._y,d._z=6*(b-L)*g._z+(3*b-4*L+1)*i._z+6*(-b+L)*a._z+(3*b-2*L)*n._z,d._isDirty=!0,d}static Lerp(g,i,a){const n=new c(0,0,0);return c.LerpToRef(g,i,a,n),n}static LerpToRef(g,i,a,n){return n._x=g._x+(i._x-g._x)*a,n._y=g._y+(i._y-g._y)*a,n._z=g._z+(i._z-g._z)*a,n._isDirty=!0,n}static Dot(g,i){return g._x*i._x+g._y*i._y+g._z*i._z}dot(g){return this._x*g._x+this._y*g._y+this._z*g._z}static Cross(g,i){const a=new c;return c.CrossToRef(g,i,a),a}static CrossToRef(g,i,a){const n=g._y*i._z-g._z*i._y,L=g._z*i._x-g._x*i._z,d=g._x*i._y-g._y*i._x;return a.sd(n,L,d),a}static Normalize(g){const i=c.Zero();return c.NormalizeToRef(g,i),i}static NormalizeToRef(g,i){return g.normalizeToRef(i),i}static Project(g,i,a,n){const L=new c;return c.ProjectToRef(g,i,a,n,L),L}static ProjectToRef(g,i,a,n,L){var d;const b=n.width,e=n.height,N=n.x,F=n.y,I=x.Matrix[1],j=null===(d=k.c.LastCreatedEngine)||void 0===d?void 0:d.isNDCHalfZRange,y=j?1:.5,B=j?0:.5;R.FromValuesToRef(b/2,0,0,0,0,-e/2,0,0,0,0,y,0,N+b/2,e/2+F,B,1,I);const D=x.Matrix[0];return i.multiplyToRef(a,D),D.multiplyToRef(I,D),c.TransformCoordinatesToRef(g,D,L),L}static Reflect(g,i){return this.ReflectToRef(g,i,new c)}static ReflectToRef(g,i,a){const n=E.Bi[0];return n.I(i).scaleInPlace(2*c.Dot(g,i)),a.I(g).ij(n)}static _UnprojectFromInvertedMatrixToRef(g,i,a){c.TransformCoordinatesToRef(g,i,a);const n=i.m,L=g._x*n[3]+g._y*n[7]+g._z*n[11]+n[15];return(0,e.WithinEpsilon)(L,1)&&a.scaleInPlace(1/L),a}static UnprojectFromTransform(g,i,a,n,L){return this.Unproject(g,i,a,n,L,R.IdentityReadOnly)}static Unproject(g,i,a,n,L,d){const b=new c;return c.UnprojectToRef(g,i,a,n,L,d,b),b}static UnprojectToRef(g,i,a,n,L,d,b){return c.UnprojectFloatsToRef(g._x,g._y,g._z,i,a,n,L,d,b),b}static UnprojectFloatsToRef(g,i,a,n,L,d,b,e,N){var F;const I=x.Matrix[0];d.multiplyToRef(b,I),I.multiplyToRef(e,I),I.invert();const j=x.Bi[0];return j.x=g/n*2-1,j.y=-(i/L*2-1),null!==(F=k.c.LastCreatedEngine)&&void 0!==F&&F.isNDCHalfZRange?j.z=a:j.z=2*a-1,c._UnprojectFromInvertedMatrixToRef(j,I,N),N}static Minimize(g,i){const a=new c;return a.I(g),a.minimizeInPlace(i),a}static Maximize(g,i){const a=new c;return a.I(g),a.maximizeInPlace(i),a}static Distance(g,i){return Math.sqrt(c.DistanceSquared(g,i))}static DistanceSquared(g,i){const a=g._x-i._x,n=g._y-i._y,L=g._z-i._z;return a*a+n*n+L*L}static ProjectOnTriangleToRef(g,i,a,L,d){const b=x.Bi[0],k=x.Bi[1],N=x.Bi[2],F=x.Bi[3],I=x.Bi[4];a.subtractToRef(i,b),L.subtractToRef(i,k),L.subtractToRef(a,N);const j=b.length(),y=k.length(),B=N.length();if(j<n.b||y<n.b||B<n.b)return d.I(i),c.Distance(g,i);g.subtractToRef(i,I),c.CrossToRef(b,k,F);const D=F.length();if(D<n.b)return d.I(i),c.Distance(g,i);F.normalizeFromLength(D);let p=I.length();if(p<n.b)return d.I(i),0;I.normalizeFromLength(p);const R=c.Dot(F,I),E=x.Bi[5],X=x.Bi[6];E.I(F).scaleInPlace(-p*R),X.I(g).addInPlace(E);const v=x.Bi[4],P=x.Bi[5],Y=x.Bi[7],f=x.Bi[8];v.I(b).scaleInPlace(1/j),f.I(k).scaleInPlace(1/y),v.addInPlace(f).scaleInPlace(-1),P.I(b).scaleInPlace(-1/j),f.I(N).scaleInPlace(1/B),P.addInPlace(f).scaleInPlace(-1),Y.I(N).scaleInPlace(-1/B),f.I(k).scaleInPlace(-1/y),Y.addInPlace(f).scaleInPlace(-1);const C=x.Bi[9];let U;C.I(X).ij(i),c.CrossToRef(v,C,f),U=c.Dot(f,F);const S=U;C.I(X).ij(a),c.CrossToRef(P,C,f),U=c.Dot(f,F);const V=U;C.I(X).ij(L),c.CrossToRef(Y,C,f),U=c.Dot(f,F);const K=U,T=x.Bi[10];let l,Z;S>0&&V<0?(T.I(b),l=i,Z=a):V>0&&K<0?(T.I(N),l=a,Z=L):(T.I(k).scaleInPlace(-1),l=L,Z=i);const h=x.Bi[9],w=x.Bi[4];l.subtractToRef(X,f),Z.subtractToRef(X,h),c.CrossToRef(f,h,w);if(!(c.Dot(w,F)<0))return d.I(X),Math.abs(p*R);const t=x.Bi[5];c.CrossToRef(T,w,t),t.normalize();const A=x.Bi[9];A.I(l).ij(X);const O=A.length();if(O<n.b)return d.I(l),c.Distance(g,l);A.normalizeFromLength(O);const z=c.Dot(t,A),s=x.Bi[7];s.I(X).addInPlace(t.scaleInPlace(O*z)),f.I(s).ij(l),p=T.length(),T.normalizeFromLength(p);let mg=c.Dot(f,T)/Math.max(p,n.b);return mg=(0,e.Clamp)(mg,0,1),s.I(l).addInPlace(T.scaleInPlace(mg*p)),d.I(s),c.Distance(g,s)}static Center(g,i){return c.CenterToRef(g,i,c.Zero())}static CenterToRef(g,i,a){return a.sd((g._x+i._x)/2,(g._y+i._y)/2,(g._z+i._z)/2)}static RotationFromAxis(g,i,a){const n=new c;return c.RotationFromAxisToRef(g,i,a,n),n}static RotationFromAxisToRef(g,i,a,n){const L=x.Quaternion[0];return p.RotationQuaternionFromAxisToRef(g,i,a,L),L.toEulerAnglesToRef(n),n}}c._V8PerformanceHack=new c(.5,.5,.5),c._UpReadOnly=c.Up(),c._DownReadOnly=c.Down(),c._LeftHandedForwardReadOnly=c.Forward(!1),c._RightHandedForwardReadOnly=c.Forward(!0),c._LeftHandedBackwardReadOnly=c.Backward(!1),c._RightHandedBackwardReadOnly=c.Backward(!0),c._RightReadOnly=c.Right(),c._LeftReadOnly=c.Left(),c._ZeroReadOnly=c.Zero(),c._OneReadOnly=c.One(),Object.defineProperties(c.prototype,{dimension:{value:[3]},rank:{value:1}});class D{get x(){return this._x}set x(g){this._x=g,this._isDirty=!0}get y(){return this._y}set y(g){this._y=g,this._isDirty=!0}get z(){return this._z}set z(g){this._z=g,this._isDirty=!0}get w(){return this._w}set w(g){this._w=g,this._isDirty=!0}constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._isDirty=!0,this._x=g,this._y=i,this._z=a,this._w=n}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z} W: ${this._w}}`}getClassName(){return"Vector4"}getHashCode(){let g=y(this._x);return g=397*g^y(this._y),g=397*g^y(this._z),g=397*g^y(this._w),g}fd(){return[this._x,this._y,this._z,this._w]}toArray(g,i){return void 0===i&&(i=0),g[i]=this._x,g[i+1]=this._y,g[i+2]=this._z,g[i+3]=this._w,this}ya(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D.FromArrayToRef(g,i,this),this}addInPlace(g){return this.x+=g._x,this.y+=g._y,this.z+=g._z,this.w+=g._w,this}addInPlaceFromFloats(g,i,a,n){return this.x+=g,this.y+=i,this.z+=a,this.w+=n,this}add(g){return new D(this._x+g.x,this._y+g.y,this._z+g.z,this._w+g.w)}addToRef(g,i){return i.x=this._x+g.x,i.y=this._y+g.y,i.z=this._z+g.z,i.w=this._w+g.w,i}ij(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z,this.w-=g.w,this}ci(g){return new D(this._x-g.x,this._y-g.y,this._z-g.z,this._w-g.w)}subtractToRef(g,i){return i.x=this._x-g.x,i.y=this._y-g.y,i.z=this._z-g.z,i.w=this._w-g.w,i}subtractFromFloats(g,i,a,n){return new D(this._x-g,this._y-i,this._z-a,this._w-n)}subtractFromFloatsToRef(g,i,a,n,L){return L.x=this._x-g,L.y=this._y-i,L.z=this._z-a,L.w=this._w-n,L}negate(){return new D(-this._x,-this._y,-this._z,-this._w)}negateInPlace(){return this.x*=-1,this.y*=-1,this.z*=-1,this.w*=-1,this}negateToRef(g){return g.x=-this._x,g.y=-this._y,g.z=-this._z,g.w=-this._w,g}scaleInPlace(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this}scale(g){return new D(this._x*g,this._y*g,this._z*g,this._w*g)}scaleToRef(g,i){return i.x=this._x*g,i.y=this._y*g,i.z=this._z*g,i.w=this._w*g,i}scaleAndAddToRef(g,i){return i.x+=this._x*g,i.y+=this._y*g,i.z+=this._z*g,i.w+=this._w*g,i}equals(g){return g&&this._x===g.x&&this._y===g.y&&this._z===g.z&&this._w===g.w}equalsWithEpsilon(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b;return g&&(0,e.WithinEpsilon)(this._x,g.x,i)&&(0,e.WithinEpsilon)(this._y,g.y,i)&&(0,e.WithinEpsilon)(this._z,g.z,i)&&(0,e.WithinEpsilon)(this._w,g.w,i)}equalsToFloats(g,i,a,n){return this._x===g&&this._y===i&&this._z===a&&this._w===n}multiplyInPlace(g){return this.x*=g.x,this.y*=g.y,this.z*=g.z,this.w*=g.w,this}multiply(g){return new D(this._x*g.x,this._y*g.y,this._z*g.z,this._w*g.w)}multiplyToRef(g,i){return i.x=this._x*g.x,i.y=this._y*g.y,i.z=this._z*g.z,i.w=this._w*g.w,i}multiplyByFloats(g,i,a,n){return new D(this._x*g,this._y*i,this._z*a,this._w*n)}divide(g){return new D(this._x/g.x,this._y/g.y,this._z/g.z,this._w/g.w)}divideToRef(g,i){return i.x=this._x/g.x,i.y=this._y/g.y,i.z=this._z/g.z,i.w=this._w/g.w,i}divideInPlace(g){return this.divideToRef(g,this)}minimizeInPlace(g){return g.x<this._x&&(this.x=g.x),g.y<this._y&&(this.y=g.y),g.z<this._z&&(this.z=g.z),g.w<this._w&&(this.w=g.w),this}maximizeInPlace(g){return g.x>this._x&&(this.x=g.x),g.y>this._y&&(this.y=g.y),g.z>this._z&&(this.z=g.z),g.w>this._w&&(this.w=g.w),this}minimizeInPlaceFromFloats(g,i,a,n){return this.x=Math.min(g,this._x),this.y=Math.min(i,this._y),this.z=Math.min(a,this._z),this.w=Math.min(n,this._w),this}maximizeInPlaceFromFloats(g,i,a,n){return this.x=Math.max(g,this._x),this.y=Math.max(i,this._y),this.z=Math.max(a,this._z),this.w=Math.max(n,this._w),this}floorToRef(g){return g.x=Math.floor(this._x),g.y=Math.floor(this._y),g.z=Math.floor(this._z),g.w=Math.floor(this._w),g}floor(){return new D(Math.floor(this._x),Math.floor(this._y),Math.floor(this._z),Math.floor(this._w))}fractToRef(g){return g.x=this._x-Math.floor(this._x),g.y=this._y-Math.floor(this._y),g.z=this._z-Math.floor(this._z),g.w=this._w-Math.floor(this._w),g}fract(){return new D(this._x-Math.floor(this._x),this._y-Math.floor(this._y),this._z-Math.floor(this._z),this._w-Math.floor(this._w))}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(g){return 0===g||1===g?this:this.scaleInPlace(1/g)}normalizeToNew(){return this.normalizeToRef(new D)}normalizeToRef(g){const i=this.length();return 0===i||1===i?(g.x=this._x,g.y=this._y,g.z=this._z,g.w=this._w,g):this.scaleToRef(1/i,g)}toVector3(){return new c(this._x,this._y,this._z)}clone(){return new D(this._x,this._y,this._z,this._w)}I(g){return this.x=g.x,this.y=g.y,this.z=g.z,this.w=g.w,this}sd(g,i,a,n){return this.x=g,this.y=i,this.z=a,this.w=n,this}set(g,i,a,n){return this.sd(g,i,a,n)}Qd(g){return this.x=this.y=this.z=this.w=g,this}dot(g){return this._x*g.x+this._y*g.y+this._z*g.z+this._w*g.w}static xi(g,i){return i||(i=0),new D(g[i],g[i+1],g[i+2],g[i+3])}static FromArrayToRef(g,i,a){return a.x=g[i],a.y=g[i+1],a.z=g[i+2],a.w=g[i+3],a}static FromFloatArrayToRef(g,i,a){return D.FromArrayToRef(g,i,a),a}static FromFloatsToRef(g,i,a,n,L){return L.x=g,L.y=i,L.z=a,L.w=n,L}static Zero(){return new D(0,0,0,0)}static One(){return new D(1,1,1,1)}static Random(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new D((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static RandomToRef(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;return a.x=(0,e.RandomRange)(g,i),a.y=(0,e.RandomRange)(g,i),a.z=(0,e.RandomRange)(g,i),a.w=(0,e.RandomRange)(g,i),a}static Clamp(g,i,a){return D.ClampToRef(g,i,a,new D)}static ClampToRef(g,i,a,n){return n.x=(0,e.Clamp)(g.x,i.x,a.x),n.y=(0,e.Clamp)(g.y,i.y,a.y),n.z=(0,e.Clamp)(g.z,i.z,a.z),n.w=(0,e.Clamp)(g.w,i.w,a.w),n}static CheckExtends(g,i,a){i.minimizeInPlace(g),a.maximizeInPlace(g)}static get ZeroReadOnly(){return D._ZeroReadOnly}static Normalize(g){return D.NormalizeToRef(g,new D)}static NormalizeToRef(g,i){return g.normalizeToRef(i),i}static Minimize(g,i){const a=new D;return a.I(g),a.minimizeInPlace(i),a}static Maximize(g,i){const a=new D;return a.I(g),a.maximizeInPlace(i),a}static Distance(g,i){return Math.sqrt(D.DistanceSquared(g,i))}static DistanceSquared(g,i){const a=g.x-i.x,n=g.y-i.y,L=g.z-i.z,d=g.w-i.w;return a*a+n*n+L*L+d*d}static Center(g,i){return D.CenterToRef(g,i,new D)}static CenterToRef(g,i,a){return a.x=(g.x+i.x)/2,a.y=(g.y+i.y)/2,a.z=(g.z+i.z)/2,a.w=(g.w+i.w)/2,a}static TransformCoordinates(g,i){return D.TransformCoordinatesToRef(g,i,new D)}static TransformCoordinatesToRef(g,i,a){return D.TransformCoordinatesFromFloatsToRef(g._x,g._y,g._z,i,a),a}static TransformCoordinatesFromFloatsToRef(g,i,a,n,L){const d=n.m,b=g*d[0]+i*d[4]+a*d[8]+d[12],k=g*d[1]+i*d[5]+a*d[9]+d[13],e=g*d[2]+i*d[6]+a*d[10]+d[14],N=g*d[3]+i*d[7]+a*d[11]+d[15];return L.x=b,L.y=k,L.z=e,L.w=N,L}static TransformNormal(g,i){return D.TransformNormalToRef(g,i,new D)}static TransformNormalToRef(g,i,a){const n=i.m,L=g.x*n[0]+g.y*n[4]+g.z*n[8],d=g.x*n[1]+g.y*n[5]+g.z*n[9],b=g.x*n[2]+g.y*n[6]+g.z*n[10];return a.x=L,a.y=d,a.z=b,a.w=g.w,a}static TransformNormalFromFloatsToRef(g,i,a,n,L,d){const b=L.m;return d.x=g*b[0]+i*b[4]+a*b[8],d.y=g*b[1]+i*b[5]+a*b[9],d.z=g*b[2]+i*b[6]+a*b[10],d.w=n,d}static FromVector3(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new D(g._x,g._y,g._z,i)}static Dot(g,i){return g.x*i.x+g.y*i.y+g.z*i.z+g.w*i.w}}D._V8PerformanceHack=new D(.5,.5,.5,.5),D._ZeroReadOnly=D.Zero(),Object.defineProperties(D.prototype,{dimension:{value:[4]},rank:{value:1}});class p{get x(){return this._x}set x(g){this._x=g,this._isDirty=!0}get y(){return this._y}set y(g){this._y=g,this._isDirty=!0}get z(){return this._z}set z(g){this._z=g,this._isDirty=!0}get w(){return this._w}set w(g){this._w=g,this._isDirty=!0}constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._isDirty=!0,this._x=g,this._y=i,this._z=a,this._w=n}toString(){return`{X: ${this._x} Y: ${this._y} Z: ${this._z} W: ${this._w}}`}getClassName(){return"Quaternion"}getHashCode(){let g=y(this._x);return g=397*g^y(this._y),g=397*g^y(this._z),g=397*g^y(this._w),g}fd(){return[this._x,this._y,this._z,this._w]}toArray(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g[i]=this._x,g[i+1]=this._y,g[i+2]=this._z,g[i+3]=this._w,this}ya(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p.FromArrayToRef(g,i,this)}equals(g){return g&&this._x===g._x&&this._y===g._y&&this._z===g._z&&this._w===g._w}equalsWithEpsilon(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b;return g&&(0,e.WithinEpsilon)(this._x,g._x,i)&&(0,e.WithinEpsilon)(this._y,g._y,i)&&(0,e.WithinEpsilon)(this._z,g._z,i)&&(0,e.WithinEpsilon)(this._w,g._w,i)}isApprox(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b;return g&&((0,e.WithinEpsilon)(this._x,g._x,i)&&(0,e.WithinEpsilon)(this._y,g._y,i)&&(0,e.WithinEpsilon)(this._z,g._z,i)&&(0,e.WithinEpsilon)(this._w,g._w,i)||(0,e.WithinEpsilon)(this._x,-g._x,i)&&(0,e.WithinEpsilon)(this._y,-g._y,i)&&(0,e.WithinEpsilon)(this._z,-g._z,i)&&(0,e.WithinEpsilon)(this._w,-g._w,i))}clone(){return new p(this._x,this._y,this._z,this._w)}I(g){return this._x=g._x,this._y=g._y,this._z=g._z,this._w=g._w,this._isDirty=!0,this}sd(g,i,a,n){return this._x=g,this._y=i,this._z=a,this._w=n,this._isDirty=!0,this}set(g,i,a,n){return this.sd(g,i,a,n)}Qd(g){return this.sd(g,g,g,g)}add(g){return new p(this._x+g._x,this._y+g._y,this._z+g._z,this._w+g._w)}addInPlace(g){return this._x+=g._x,this._y+=g._y,this._z+=g._z,this._w+=g._w,this._isDirty=!0,this}addToRef(g,i){return i._x=this._x+g._x,i._y=this._y+g._y,i._z=this._z+g._z,i._w=this._w+g._w,i._isDirty=!0,i}addInPlaceFromFloats(g,i,a,n){return this._x+=g,this._y+=i,this._z+=a,this._w+=n,this._isDirty=!0,this}subtractToRef(g,i){return i._x=this._x-g._x,i._y=this._y-g._y,i._z=this._z-g._z,i._w=this._w-g._w,i._isDirty=!0,i}subtractFromFloats(g,i,a,n){return this.subtractFromFloatsToRef(g,i,a,n,new p)}subtractFromFloatsToRef(g,i,a,n,L){return L._x=this._x-g,L._y=this._y-i,L._z=this._z-a,L._w=this._w-n,L._isDirty=!0,L}ci(g){return new p(this._x-g._x,this._y-g._y,this._z-g._z,this._w-g._w)}ij(g){return this._x-=g._x,this._y-=g._y,this._z-=g._z,this._w-=g._w,this._isDirty=!0,this}scale(g){return new p(this._x*g,this._y*g,this._z*g,this._w*g)}scaleToRef(g,i){return i._x=this._x*g,i._y=this._y*g,i._z=this._z*g,i._w=this._w*g,i._isDirty=!0,i}scaleInPlace(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this._isDirty=!0,this}scaleAndAddToRef(g,i){return i._x+=this._x*g,i._y+=this._y*g,i._z+=this._z*g,i._w+=this._w*g,i._isDirty=!0,i}multiply(g){const i=new p(0,0,0,1);return this.multiplyToRef(g,i),i}multiplyToRef(g,i){const a=this._x*g._w+this._y*g._z-this._z*g._y+this._w*g._x,n=-this._x*g._z+this._y*g._w+this._z*g._x+this._w*g._y,L=this._x*g._y-this._y*g._x+this._z*g._w+this._w*g._z,d=-this._x*g._x-this._y*g._y-this._z*g._z+this._w*g._w;return i.sd(a,n,L,d),i}multiplyInPlace(g){return this.multiplyToRef(g,this)}multiplyByFloats(g,i,a,n){return this._x*=g,this._y*=i,this._z*=a,this._w*=n,this._isDirty=!0,this}divide(g){throw new ReferenceError("Can not divide a quaternion")}divideToRef(g,i){throw new ReferenceError("Can not divide a quaternion")}divideInPlace(g){throw new ReferenceError("Can not divide a quaternion")}minimizeInPlace(){throw new ReferenceError("Can not minimize a quaternion")}minimizeInPlaceFromFloats(){throw new ReferenceError("Can not minimize a quaternion")}maximizeInPlace(){throw new ReferenceError("Can not maximize a quaternion")}maximizeInPlaceFromFloats(){throw new ReferenceError("Can not maximize a quaternion")}negate(){return this.negateToRef(new p)}negateInPlace(){return this._x=-this._x,this._y=-this._y,this._z=-this._z,this._w=-this._w,this._isDirty=!0,this}negateToRef(g){return g._x=-this._x,g._y=-this._y,g._z=-this._z,g._w=-this._w,g._isDirty=!0,g}equalsToFloats(g,i,a,n){return this._x===g&&this._y===i&&this._z===a&&this._w===n}floorToRef(g){throw new ReferenceError("Can not floor a quaternion")}floor(){throw new ReferenceError("Can not floor a quaternion")}fractToRef(g){throw new ReferenceError("Can not fract a quaternion")}fract(){throw new ReferenceError("Can not fract a quaternion")}conjugateToRef(g){return g.sd(-this._x,-this._y,-this._z,this._w),g}conjugateInPlace(){return this._x*=-1,this._y*=-1,this._z*=-1,this._isDirty=!0,this}conjugate(){return new p(-this._x,-this._y,-this._z,this._w)}invert(){const g=this.conjugate(),i=this.lengthSquared();return 0==i||1==i||g.scaleInPlace(1/i),g}invertInPlace(){this.conjugateInPlace();const g=this.lengthSquared();return 0==g||1==g||this.scaleInPlace(1/g),this}lengthSquared(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this.lengthSquared())}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(g){return 0===g||1===g?this:this.scaleInPlace(1/g)}normalizeToNew(){const g=new p(0,0,0,1);return this.normalizeToRef(g),g}normalizeToRef(g){const i=this.length();return 0===i||1===i?g.sd(this._x,this._y,this._z,this._w):this.scaleToRef(1/i,g)}toEulerAngles(){const g=c.Zero();return this.toEulerAnglesToRef(g),g}toEulerAnglesToRef(g){const i=this._z,a=this._x,n=this._y,L=this._w,d=n*i-a*L,b=.4999999;if(d<-b)g._y=2*Math.atan2(n,L),g._x=Math.PI/2,g._z=0,g._isDirty=!0;else if(d>b)g._y=2*Math.atan2(n,L),g._x=-Math.PI/2,g._z=0,g._isDirty=!0;else{const b=L*L,k=i*i,e=a*a,N=n*n;g._z=Math.atan2(2*(a*n+i*L),-k-e+N+b),g._x=Math.asin(-2*d),g._y=Math.atan2(2*(i*a+n*L),k-e-N+b),g._isDirty=!0}return g}toAlphaBetaGammaToRef(g){const i=this._z,a=this._x,n=this._y,L=this._w,d=Math.sqrt(a*a+n*n),b=Math.sqrt(i*i+L*L),k=2*Math.atan2(d,b),e=2*Math.atan2(i,L),N=2*Math.atan2(n,a),F=(e+N)/2,I=(e-N)/2;return g.set(I,k,F),g}toRotationMatrix(g){return R.FromQuaternionToRef(this,g),g}fromRotationMatrix(g){return p.FromRotationMatrixToRef(g,this),this}dot(g){return this._x*g._x+this._y*g._y+this._z*g._z+this._w*g._w}toAxisAngle(){const g=c.Zero();return{axis:g,angle:this.toAxisAngleToRef(g)}}toAxisAngleToRef(g){let i=0;const a=Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z),n=this._w;return a>0?(i=2*Math.atan2(a,n),g.set(this._x/a,this._y/a,this._z/a)):(i=0,g.set(1,0,0)),i}static FromRotationMatrix(g){const i=new p;return p.FromRotationMatrixToRef(g,i),i}static FromRotationMatrixToRef(g,i){const a=g.m,n=a[0],L=a[4],d=a[8],b=a[1],k=a[5],e=a[9],N=a[2],F=a[6],I=a[10],j=n+k+I;let y;return j>0?(y=.5/Math.sqrt(j+1),i._w=.25/y,i._x=(F-e)*y,i._y=(d-N)*y,i._z=(b-L)*y,i._isDirty=!0):n>k&&n>I?(y=2*Math.sqrt(1+n-k-I),i._w=(F-e)/y,i._x=.25*y,i._y=(L+b)/y,i._z=(d+N)/y,i._isDirty=!0):k>I?(y=2*Math.sqrt(1+k-n-I),i._w=(d-N)/y,i._x=(L+b)/y,i._y=.25*y,i._z=(e+F)/y,i._isDirty=!0):(y=2*Math.sqrt(1+I-n-k),i._w=(b-L)/y,i._x=(d+N)/y,i._y=(e+F)/y,i._z=.25*y,i._isDirty=!0),i}static Dot(g,i){return g._x*i._x+g._y*i._y+g._z*i._z+g._w*i._w}static AreClose(g,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;const n=p.Dot(g,i);return 1-n*n<=a}static SmoothToRef(g,i,a,n,L){let d=0===n?1:a/n;return d=(0,e.Clamp)(d,0,1),p.SlerpToRef(g,i,d,L),L}static Zero(){return new p(0,0,0,0)}static Inverse(g){return new p(-g._x,-g._y,-g._z,g._w)}static InverseToRef(g,i){return i.set(-g._x,-g._y,-g._z,g._w),i}static Identity(){return new p(0,0,0,1)}static IsIdentity(g){return g&&0===g._x&&0===g._y&&0===g._z&&1===g._w}static RotationAxis(g,i){return p.RotationAxisToRef(g,i,new p)}static RotationAxisToRef(g,i,a){a._w=Math.cos(i/2);const n=Math.sin(i/2)/g.length();return a._x=g._x*n,a._y=g._y*n,a._z=g._z*n,a._isDirty=!0,a}static xi(g,i){return i||(i=0),new p(g[i],g[i+1],g[i+2],g[i+3])}static FromArrayToRef(g,i,a){return a._x=g[i],a._y=g[i+1],a._z=g[i+2],a._w=g[i+3],a._isDirty=!0,a}static FromFloatsToRef(g,i,a,n,L){return L.sd(g,i,a,n),L}static FromEulerAngles(g,i,a){const n=new p;return p.RotationYawPitchRollToRef(i,g,a,n),n}static FromEulerAnglesToRef(g,i,a,n){return p.RotationYawPitchRollToRef(i,g,a,n),n}static FromEulerVector(g){const i=new p;return p.RotationYawPitchRollToRef(g._y,g._x,g._z,i),i}static FromEulerVectorToRef(g,i){return p.RotationYawPitchRollToRef(g._y,g._x,g._z,i),i}static FromUnitVectorsToRef(g,i,a){let L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.b;const d=c.Dot(g,i)+1;return d<L?Math.abs(g.x)>Math.abs(g.z)?a.set(-g.y,g.x,0,0):a.set(0,-g.z,g.y,0):(c.CrossToRef(g,i,E.Bi[0]),a.set(E.Bi[0].x,E.Bi[0].y,E.Bi[0].z,d)),a.normalize()}static RotationYawPitchRoll(g,i,a){const n=new p;return p.RotationYawPitchRollToRef(g,i,a,n),n}static RotationYawPitchRollToRef(g,i,a,n){const L=.5*a,d=.5*i,b=.5*g,k=Math.sin(L),e=Math.cos(L),N=Math.sin(d),F=Math.cos(d),I=Math.sin(b),j=Math.cos(b);return n._x=j*N*e+I*F*k,n._y=I*F*e-j*N*k,n._z=j*F*k-I*N*e,n._w=j*F*e+I*N*k,n._isDirty=!0,n}static RotationAlphaBetaGamma(g,i,a){const n=new p;return p.RotationAlphaBetaGammaToRef(g,i,a,n),n}static RotationAlphaBetaGammaToRef(g,i,a,n){const L=.5*(a+g),d=.5*(a-g),b=.5*i;return n._x=Math.cos(d)*Math.sin(b),n._y=Math.sin(d)*Math.sin(b),n._z=Math.sin(L)*Math.cos(b),n._w=Math.cos(L)*Math.cos(b),n._isDirty=!0,n}static RotationQuaternionFromAxis(g,i,a){const n=new p(0,0,0,0);return p.RotationQuaternionFromAxisToRef(g,i,a,n),n}static RotationQuaternionFromAxisToRef(g,i,a,n){const L=x.Matrix[0];return g=g.normalizeToRef(x.Bi[0]),i=i.normalizeToRef(x.Bi[1]),a=a.normalizeToRef(x.Bi[2]),R.FromXYZAxesToRef(g,i,a,L),p.FromRotationMatrixToRef(L,n),n}static FromLookDirectionLH(g,i){const a=new p;return p.FromLookDirectionLHToRef(g,i,a),a}static FromLookDirectionLHToRef(g,i,a){const n=x.Matrix[0];return R.LookDirectionLHToRef(g,i,n),p.FromRotationMatrixToRef(n,a),a}static FromLookDirectionRH(g,i){const a=new p;return p.FromLookDirectionRHToRef(g,i,a),a}static FromLookDirectionRHToRef(g,i,a){const n=x.Matrix[0];return R.LookDirectionRHToRef(g,i,n),p.FromRotationMatrixToRef(n,a)}static Slerp(g,i,a){const n=p.Identity();return p.SlerpToRef(g,i,a,n),n}static SlerpToRef(g,i,a,n){let L,d,b=g._x*i._x+g._y*i._y+g._z*i._z+g._w*i._w,k=!1;if(b<0&&(k=!0,b=-b),b>.999999)d=1-a,L=k?-a:a;else{const g=Math.acos(b),i=1/Math.sin(g);d=Math.sin((1-a)*g)*i,L=k?-Math.sin(a*g)*i:Math.sin(a*g)*i}return n._x=d*g._x+L*i._x,n._y=d*g._y+L*i._y,n._z=d*g._z+L*i._z,n._w=d*g._w+L*i._w,n._isDirty=!0,n}static Hermite(g,i,a,n,L){const d=L*L,b=L*d,k=2*b-3*d+1,e=-2*b+3*d,N=b-2*d+L,F=b-d,I=g._x*k+a._x*e+i._x*N+n._x*F,j=g._y*k+a._y*e+i._y*N+n._y*F,y=g._z*k+a._z*e+i._z*N+n._z*F,B=g._w*k+a._w*e+i._w*N+n._w*F;return new p(I,j,y,B)}static Hermite1stDerivative(g,i,a,n,L){const d=new p;return this.Hermite1stDerivativeToRef(g,i,a,n,L,d),d}static Hermite1stDerivativeToRef(g,i,a,n,L,d){const b=L*L;return d._x=6*(b-L)*g._x+(3*b-4*L+1)*i._x+6*(-b+L)*a._x+(3*b-2*L)*n._x,d._y=6*(b-L)*g._y+(3*b-4*L+1)*i._y+6*(-b+L)*a._y+(3*b-2*L)*n._y,d._z=6*(b-L)*g._z+(3*b-4*L+1)*i._z+6*(-b+L)*a._z+(3*b-2*L)*n._z,d._w=6*(b-L)*g._w+(3*b-4*L+1)*i._w+6*(-b+L)*a._w+(3*b-2*L)*n._w,d._isDirty=!0,d}static Normalize(g){const i=p.Zero();return p.NormalizeToRef(g,i),i}static NormalizeToRef(g,i){return g.normalizeToRef(i),i}static Clamp(g,i,a){const n=new p;return p.ClampToRef(g,i,a,n),n}static ClampToRef(g,i,a,n){return n.sd((0,e.Clamp)(g.x,i.x,a.x),(0,e.Clamp)(g.y,i.y,a.y),(0,e.Clamp)(g.z,i.z,a.z),(0,e.Clamp)(g.w,i.w,a.w))}static Random(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new p((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static RandomToRef(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(arguments.length>2?arguments[2]:void 0).sd((0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i),(0,e.RandomRange)(g,i))}static Minimize(){throw new ReferenceError("Quaternion.Minimize does not make sense")}static Maximize(){throw new ReferenceError("Quaternion.Maximize does not make sense")}static Distance(g,i){return Math.sqrt(p.DistanceSquared(g,i))}static DistanceSquared(g,i){const a=g.x-i.x,n=g.y-i.y,L=g.z-i.z,d=g.w-i.w;return a*a+n*n+L*L+d*d}static Center(g,i){return p.CenterToRef(g,i,p.Zero())}static CenterToRef(g,i,a){return a.sd((g.x+i.x)/2,(g.y+i.y)/2,(g.z+i.z)/2,(g.w+i.w)/2)}}p._V8PerformanceHack=new p(.5,.5,.5,.5),Object.defineProperties(p.prototype,{dimension:{value:[4]},rank:{value:1}});class R{static get Use64Bits(){return b.e.MatrixUse64Bits}get m(){return this.kd}markAsUpdated(){this.updateFlag=N._UpdateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0}_updateIdentityStatus(g){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this._isIdentity=g,this._isIdentity3x2=g||a,this._isIdentityDirty=!this._isIdentity&&i,this._isIdentity3x2Dirty=!this._isIdentity3x2&&n}constructor(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this.updateFlag=-1,b.e.MatrixTrackPrecisionChange&&b.e.MatrixTrackedMatrices.push(this),this.kd=new b.e.MatrixCurrentType(16),this.markAsUpdated()}isIdentity(){if(this._isIdentityDirty){this._isIdentityDirty=!1;const g=this.kd;this._isIdentity=1===g[0]&&0===g[1]&&0===g[2]&&0===g[3]&&0===g[4]&&1===g[5]&&0===g[6]&&0===g[7]&&0===g[8]&&0===g[9]&&1===g[10]&&0===g[11]&&0===g[12]&&0===g[13]&&0===g[14]&&1===g[15]}return this._isIdentity}isIdentityAs3x2(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this.kd[0]||1!==this.kd[5]||1!==this.kd[15]||0!==this.kd[1]||0!==this.kd[2]||0!==this.kd[3]||0!==this.kd[4]||0!==this.kd[6]||0!==this.kd[7]||0!==this.kd[8]||0!==this.kd[9]||0!==this.kd[10]||0!==this.kd[11]||0!==this.kd[12]||0!==this.kd[13]||0!==this.kd[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2}determinant(){if(!0===this._isIdentity)return 1;const g=this.kd,i=g[0],a=g[1],n=g[2],L=g[3],d=g[4],b=g[5],k=g[6],e=g[7],N=g[8],F=g[9],I=g[10],j=g[11],y=g[12],B=g[13],c=g[14],D=g[15],p=I*D-c*j,R=F*D-B*j,x=F*c-B*I,E=N*D-y*j,X=N*c-I*y,v=N*B-y*F;return i*+(b*p-k*R+e*x)+a*-(d*p-k*E+e*X)+n*+(d*R-b*E+e*v)+L*-(d*x-b*X+k*v)}toString(){return`{${this.m[0]}, ${this.m[1]}, ${this.m[2]}, ${this.m[3]}\n${this.m[4]}, ${this.m[5]}, ${this.m[6]}, ${this.m[7]}\n${this.m[8]}, ${this.m[9]}, ${this.m[10]}, ${this.m[11]}\n${this.m[12]}, ${this.m[13]}, ${this.m[14]}, ${this.m[15]}}`}toArray(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!g)return this.kd;const a=this.kd;for(let n=0;n<16;n++)g[i+n]=a[n];return this}fd(){return this.kd}ya(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return R.FromArrayToRef(g,i,this)}sd(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];return R.FromArrayToRef(i,0,this)}set(){const g=this.kd;for(let i=0;i<16;i++)g[i]=i<0||arguments.length<=i?void 0:arguments[i];return this.markAsUpdated(),this}Qd(g){const i=this.kd;for(let a=0;a<16;a++)i[a]=g;return this.markAsUpdated(),this}invert(){return this.invertToRef(this),this}reset(){return R.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this}add(g){const i=new R;return this.addToRef(g,i),i}addToRef(g,i){const a=this.kd,n=i.kd,L=g.m;for(let d=0;d<16;d++)n[d]=a[d]+L[d];return i.markAsUpdated(),i}addToSelf(g){const i=this.kd,a=g.m;return i[0]+=a[0],i[1]+=a[1],i[2]+=a[2],i[3]+=a[3],i[4]+=a[4],i[5]+=a[5],i[6]+=a[6],i[7]+=a[7],i[8]+=a[8],i[9]+=a[9],i[10]+=a[10],i[11]+=a[11],i[12]+=a[12],i[13]+=a[13],i[14]+=a[14],i[15]+=a[15],this.markAsUpdated(),this}addInPlace(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]+=a[n];return this.markAsUpdated(),this}addInPlaceFromFloats(){const g=this.kd;for(let i=0;i<16;i++)g[i]+=i<0||arguments.length<=i?void 0:arguments[i];return this.markAsUpdated(),this}ci(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]-=a[n];return this.markAsUpdated(),this}subtractToRef(g,i){const a=this.kd,n=g.m,L=i.kd;for(let d=0;d<16;d++)L[d]=a[d]-n[d];return i.markAsUpdated(),i}ij(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]-=a[n];return this.markAsUpdated(),this}subtractFromFloats(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];return this.subtractFromFloatsToRef(...i,new R)}subtractFromFloatsToRef(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];const n=i.pop(),L=this.kd,d=n.kd,b=i;for(let k=0;k<16;k++)d[k]=L[k]-b[k];return n.markAsUpdated(),n}invertToRef(g){return!0===this._isIdentity?(R.IdentityToRef(g),g):(j(this,g.fd())?g.markAsUpdated():g.I(this),g)}addAtIndex(g,i){return this.kd[g]+=i,this.markAsUpdated(),this}multiplyAtIndex(g,i){return this.kd[g]*=i,this.markAsUpdated(),this}setTranslationFromFloats(g,i,a){return this.kd[12]=g,this.kd[13]=i,this.kd[14]=a,this.markAsUpdated(),this}addTranslationFromFloats(g,i,a){return this.kd[12]+=g,this.kd[13]+=i,this.kd[14]+=a,this.markAsUpdated(),this}setTranslation(g){return this.setTranslationFromFloats(g._x,g._y,g._z)}getTranslation(){return new c(this.kd[12],this.kd[13],this.kd[14])}getTranslationToRef(g){return g.x=this.kd[12],g.y=this.kd[13],g.z=this.kd[14],g}removeRotationAndScaling(){const g=this.m;return R.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,g[12],g[13],g[14],g[15],this),this._updateIdentityStatus(0===g[12]&&0===g[13]&&0===g[14]&&1===g[15]),this}I(g){g.copyToArray(this.kd);const i=g;return this.updateFlag=i.updateFlag,this._updateIdentityStatus(i._isIdentity,i._isIdentityDirty,i._isIdentity3x2,i._isIdentity3x2Dirty),this}copyToArray(g){return I(this,g,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),this}multiply(g){const i=new R;return this.multiplyToRef(g,i),i}multiplyInPlace(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]*=a[n];return this.markAsUpdated(),this}multiplyByFloats(){const g=this.kd;for(let i=0;i<16;i++)g[i]*=i<0||arguments.length<=i?void 0:arguments[i];return this.markAsUpdated(),this}multiplyByFloatsToRef(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];const n=i.pop(),L=this.kd,d=n.kd,b=i;for(let k=0;k<16;k++)d[k]=L[k]*b[k];return n.markAsUpdated(),n}multiplyToRef(g,i){return this._isIdentity?(i.I(g),i):g._isIdentity?(i.I(this),i):(this.multiplyToArray(g,i.kd,0),i.markAsUpdated(),i)}multiplyToArray(g,i,a){return F(this,g,i,a),this}divide(g){return this.divideToRef(g,new R)}divideToRef(g,i){const a=this.kd,n=g.m,L=i.kd;for(let d=0;d<16;d++)L[d]=a[d]/n[d];return i.markAsUpdated(),i}divideInPlace(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]/=a[n];return this.markAsUpdated(),this}minimizeInPlace(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]=Math.min(i[n],a[n]);return this.markAsUpdated(),this}minimizeInPlaceFromFloats(){const g=this.kd;for(let i=0;i<16;i++)g[i]=Math.min(g[i],i<0||arguments.length<=i?void 0:arguments[i]);return this.markAsUpdated(),this}maximizeInPlace(g){const i=this.kd,a=g.m;for(let n=0;n<16;n++)i[n]=Math.min(i[n],a[n]);return this.markAsUpdated(),this}maximizeInPlaceFromFloats(){const g=this.kd;for(let i=0;i<16;i++)g[i]=Math.min(g[i],i<0||arguments.length<=i?void 0:arguments[i]);return this.markAsUpdated(),this}negate(){return this.negateToRef(new R)}negateInPlace(){const g=this.kd;for(let i=0;i<16;i++)g[i]=-g[i];return this.markAsUpdated(),this}negateToRef(g){const i=this.kd,a=g.kd;for(let n=0;n<16;n++)a[n]=-i[n];return g.markAsUpdated(),g}equals(g){const i=g;if(!i)return!1;if((this._isIdentity||i._isIdentity)&&!this._isIdentityDirty&&!i._isIdentityDirty)return this._isIdentity&&i._isIdentity;const a=this.m,n=i.m;return a[0]===n[0]&&a[1]===n[1]&&a[2]===n[2]&&a[3]===n[3]&&a[4]===n[4]&&a[5]===n[5]&&a[6]===n[6]&&a[7]===n[7]&&a[8]===n[8]&&a[9]===n[9]&&a[10]===n[10]&&a[11]===n[11]&&a[12]===n[12]&&a[13]===n[13]&&a[14]===n[14]&&a[15]===n[15]}equalsWithEpsilon(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=this.kd,n=g.m;for(let L=0;L<16;L++)if(!(0,e.WithinEpsilon)(a[L],n[L],i))return!1;return!0}equalsToFloats(){const g=this.kd;for(let i=0;i<16;i++)if(g[i]!=(i<0||arguments.length<=i?void 0:arguments[i]))return!1;return!0}floor(){return this.floorToRef(new R)}floorToRef(g){const i=this.kd,a=g.kd;for(let n=0;n<16;n++)a[n]=Math.floor(i[n]);return g.markAsUpdated(),g}fract(){return this.fractToRef(new R)}fractToRef(g){const i=this.kd,a=g.kd;for(let n=0;n<16;n++)a[n]=i[n]-Math.floor(i[n]);return g.markAsUpdated(),g}clone(){const g=new R;return g.I(this),g}getClassName(){return"Matrix"}getHashCode(){let g=y(this.kd[0]);for(let i=1;i<16;i++)g=397*g^y(this.kd[i]);return g}decomposeToTransformNode(g){return g.rotationQuaternion=g.rotationQuaternion||new p,this.decompose(g.rd,g.rotationQuaternion,g.position)}decompose(g,i,a,n){let L=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._isIdentity)return a&&a.Qd(0),g&&g.Qd(1),i&&i.sd(0,0,0,1),!0;const d=this.kd;if(a&&a.sd(d[12],d[13],d[14]),(g=g||x.Bi[0]).x=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]),g.y=Math.sqrt(d[4]*d[4]+d[5]*d[5]+d[6]*d[6]),g.z=Math.sqrt(d[8]*d[8]+d[9]*d[9]+d[10]*d[10]),n){const i=(L?n.absoluteScaling.x:n.rd.x)<0?-1:1,a=(L?n.absoluteScaling.y:n.rd.y)<0?-1:1,d=(L?n.absoluteScaling.z:n.rd.z)<0?-1:1;g.x*=i,g.y*=a,g.z*=d}else this.determinant()<=0&&(g.y*=-1);if(0===g._x||0===g._y||0===g._z)return i&&i.sd(0,0,0,1),!1;if(i){const a=1/g._x,n=1/g._y,L=1/g._z;R.FromValuesToRef(d[0]*a,d[1]*a,d[2]*a,0,d[4]*n,d[5]*n,d[6]*n,0,d[8]*L,d[9]*L,d[10]*L,0,0,0,0,1,x.Matrix[0]),p.FromRotationMatrixToRef(x.Matrix[0],i)}return!0}getRow(g){if(g<0||g>3)return null;const i=4*g;return new D(this.kd[i+0],this.kd[i+1],this.kd[i+2],this.kd[i+3])}getRowToRef(g,i){if(g>=0&&g<=3){const a=4*g;i.x=this.kd[a+0],i.y=this.kd[a+1],i.z=this.kd[a+2],i.w=this.kd[a+3]}return i}setRow(g,i){return this.setRowFromFloats(g,i.x,i.y,i.z,i.w)}transpose(){const g=new R;return R.TransposeToRef(this,g),g}transposeToRef(g){return R.TransposeToRef(this,g),g}setRowFromFloats(g,i,a,n,L){if(g<0||g>3)return this;const d=4*g;return this.kd[d+0]=i,this.kd[d+1]=a,this.kd[d+2]=n,this.kd[d+3]=L,this.markAsUpdated(),this}scale(g){const i=new R;return this.scaleToRef(g,i),i}scaleToRef(g,i){for(let a=0;a<16;a++)i.kd[a]=this.kd[a]*g;return i.markAsUpdated(),i}scaleAndAddToRef(g,i){for(let a=0;a<16;a++)i.kd[a]+=this.kd[a]*g;return i.markAsUpdated(),i}scaleInPlace(g){const i=this.kd;for(let a=0;a<16;a++)i[a]*=g;return this.markAsUpdated(),this}toNormalMatrix(g){const i=x.Matrix[0];this.invertToRef(i),i.transposeToRef(g);const a=g.kd;return R.FromValuesToRef(a[0],a[1],a[2],0,a[4],a[5],a[6],0,a[8],a[9],a[10],0,0,0,0,1,g),g}getRotationMatrix(){const g=new R;return this.getRotationMatrixToRef(g),g}getRotationMatrixToRef(g){const i=x.Bi[0];if(!this.decompose(i))return R.IdentityToRef(g),g;const a=this.kd,n=1/i._x,L=1/i._y,d=1/i._z;return R.FromValuesToRef(a[0]*n,a[1]*n,a[2]*n,0,a[4]*L,a[5]*L,a[6]*L,0,a[8]*d,a[9]*d,a[10]*d,0,0,0,0,1,g),g}toggleModelMatrixHandInPlace(){const g=this.kd;return g[2]*=-1,g[6]*=-1,g[8]*=-1,g[9]*=-1,g[14]*=-1,this.markAsUpdated(),this}toggleProjectionMatrixHandInPlace(){const g=this.kd;return g[8]*=-1,g[9]*=-1,g[10]*=-1,g[11]*=-1,this.markAsUpdated(),this}static xi(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=new R;return R.FromArrayToRef(g,i,a),a}static FromArrayToRef(g,i,a){for(let n=0;n<16;n++)a.kd[n]=g[n+i];return a.markAsUpdated(),a}static FromFloat32ArrayToRefScaled(g,i,a,n){return n.kd[0]=g[0+i]*a,n.kd[1]=g[1+i]*a,n.kd[2]=g[2+i]*a,n.kd[3]=g[3+i]*a,n.kd[4]=g[4+i]*a,n.kd[5]=g[5+i]*a,n.kd[6]=g[6+i]*a,n.kd[7]=g[7+i]*a,n.kd[8]=g[8+i]*a,n.kd[9]=g[9+i]*a,n.kd[10]=g[10+i]*a,n.kd[11]=g[11+i]*a,n.kd[12]=g[12+i]*a,n.kd[13]=g[13+i]*a,n.kd[14]=g[14+i]*a,n.kd[15]=g[15+i]*a,n.markAsUpdated(),n}static get IdentityReadOnly(){return R._IdentityReadOnly}static FromValuesToRef(g,i,a,n,L,d,b,k,e,N,F,I,j,y,B,c,D){const p=D.kd;p[0]=g,p[1]=i,p[2]=a,p[3]=n,p[4]=L,p[5]=d,p[6]=b,p[7]=k,p[8]=e,p[9]=N,p[10]=F,p[11]=I,p[12]=j,p[13]=y,p[14]=B,p[15]=c,D.markAsUpdated()}static FromValues(g,i,a,n,L,d,b,k,e,N,F,I,j,y,B,c){const D=new R,p=D.kd;return p[0]=g,p[1]=i,p[2]=a,p[3]=n,p[4]=L,p[5]=d,p[6]=b,p[7]=k,p[8]=e,p[9]=N,p[10]=F,p[11]=I,p[12]=j,p[13]=y,p[14]=B,p[15]=c,D.markAsUpdated(),D}static Compose(g,i,a){const n=new R;return R.ComposeToRef(g,i,a,n),n}static ComposeToRef(g,i,a,n){const L=n.kd,d=i._x,b=i._y,k=i._z,e=i._w,N=d+d,F=b+b,I=k+k,j=d*N,y=d*F,B=d*I,c=b*F,D=b*I,p=k*I,R=e*N,x=e*F,E=e*I,X=g._x,v=g._y,P=g._z;return L[0]=(1-(c+p))*X,L[1]=(y+E)*X,L[2]=(B-x)*X,L[3]=0,L[4]=(y-E)*v,L[5]=(1-(j+p))*v,L[6]=(D+R)*v,L[7]=0,L[8]=(B+x)*P,L[9]=(D-R)*P,L[10]=(1-(j+c))*P,L[11]=0,L[12]=a._x,L[13]=a._y,L[14]=a._z,L[15]=1,n.markAsUpdated(),n}static Identity(){const g=R.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return g._updateIdentityStatus(!0),g}static IdentityToRef(g){return R.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,g),g._updateIdentityStatus(!0),g}static Zero(){const g=R.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return g._updateIdentityStatus(!1),g}static RotationX(g){const i=new R;return R.RotationXToRef(g,i),i}static Invert(g){const i=new R;return g.invertToRef(i),i}static RotationXToRef(g,i){const a=Math.sin(g),n=Math.cos(g);return R.FromValuesToRef(1,0,0,0,0,n,a,0,0,-a,n,0,0,0,0,1,i),i._updateIdentityStatus(1===n&&0===a),i}static RotationY(g){const i=new R;return R.RotationYToRef(g,i),i}static RotationYToRef(g,i){const a=Math.sin(g),n=Math.cos(g);return R.FromValuesToRef(n,0,-a,0,0,1,0,0,a,0,n,0,0,0,0,1,i),i._updateIdentityStatus(1===n&&0===a),i}static RotationZ(g){const i=new R;return R.RotationZToRef(g,i),i}static RotationZToRef(g,i){const a=Math.sin(g),n=Math.cos(g);return R.FromValuesToRef(n,a,0,0,-a,n,0,0,0,0,1,0,0,0,0,1,i),i._updateIdentityStatus(1===n&&0===a),i}static RotationAxis(g,i){const a=new R;return R.RotationAxisToRef(g,i,a),a}static RotationAxisToRef(g,i,a){const n=Math.sin(-i),L=Math.cos(-i),d=1-L;g=g.normalizeToRef(x.Bi[0]);const b=a.kd;return b[0]=g._x*g._x*d+L,b[1]=g._x*g._y*d-g._z*n,b[2]=g._x*g._z*d+g._y*n,b[3]=0,b[4]=g._y*g._x*d+g._z*n,b[5]=g._y*g._y*d+L,b[6]=g._y*g._z*d-g._x*n,b[7]=0,b[8]=g._z*g._x*d-g._y*n,b[9]=g._z*g._y*d+g._x*n,b[10]=g._z*g._z*d+L,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,a.markAsUpdated(),a}static RotationAlignToRef(g,i,a){let L=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const d=c.Dot(i,g),b=a.kd;if(d<-1+n.b)b[0]=-1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=L?1:-1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=L?-1:1,b[11]=0;else{const a=c.Cross(i,g),n=1/(1+d);b[0]=a._x*a._x*n+d,b[1]=a._y*a._x*n-a._z,b[2]=a._z*a._x*n+a._y,b[3]=0,b[4]=a._x*a._y*n+a._z,b[5]=a._y*a._y*n+d,b[6]=a._z*a._y*n-a._x,b[7]=0,b[8]=a._x*a._z*n-a._y,b[9]=a._y*a._z*n+a._x,b[10]=a._z*a._z*n+d,b[11]=0}return b[12]=0,b[13]=0,b[14]=0,b[15]=1,a.markAsUpdated(),a}static RotationYawPitchRoll(g,i,a){const n=new R;return R.RotationYawPitchRollToRef(g,i,a,n),n}static RotationYawPitchRollToRef(g,i,a,n){return p.RotationYawPitchRollToRef(g,i,a,x.Quaternion[0]),x.Quaternion[0].toRotationMatrix(n),n}static Scaling(g,i,a){const n=new R;return R.ScalingToRef(g,i,a,n),n}static ScalingToRef(g,i,a,n){return R.FromValuesToRef(g,0,0,0,0,i,0,0,0,0,a,0,0,0,0,1,n),n._updateIdentityStatus(1===g&&1===i&&1===a),n}static Translation(g,i,a){const n=new R;return R.TranslationToRef(g,i,a,n),n}static TranslationToRef(g,i,a,n){return R.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,g,i,a,1,n),n._updateIdentityStatus(0===g&&0===i&&0===a),n}static Lerp(g,i,a){const n=new R;return R.LerpToRef(g,i,a,n),n}static LerpToRef(g,i,a,n){const L=n.kd,d=g.m,b=i.m;for(let k=0;k<16;k++)L[k]=d[k]*(1-a)+b[k]*a;return n.markAsUpdated(),n}static DecomposeLerp(g,i,a){const n=new R;return R.DecomposeLerpToRef(g,i,a,n),n}static DecomposeLerpToRef(g,i,a,n){const L=x.Bi[0],d=x.Quaternion[0],b=x.Bi[1];g.decompose(L,d,b);const k=x.Bi[2],e=x.Quaternion[1],N=x.Bi[3];i.decompose(k,e,N);const F=x.Bi[4];c.LerpToRef(L,k,a,F);const I=x.Quaternion[2];p.SlerpToRef(d,e,a,I);const j=x.Bi[5];return c.LerpToRef(b,N,a,j),R.ComposeToRef(F,I,j,n),n}static LookAtLH(g,i,a){const n=new R;return R.LookAtLHToRef(g,i,a,n),n}static LookAtLHToRef(g,i,a,n){const L=x.Bi[0],d=x.Bi[1],b=x.Bi[2];i.subtractToRef(g,b),b.normalize(),c.CrossToRef(a,b,L);const k=L.lengthSquared();0===k?L.x=1:L.normalizeFromLength(Math.sqrt(k)),c.CrossToRef(b,L,d),d.normalize();const e=-c.Dot(L,g),N=-c.Dot(d,g),F=-c.Dot(b,g);return R.FromValuesToRef(L._x,d._x,b._x,0,L._y,d._y,b._y,0,L._z,d._z,b._z,0,e,N,F,1,n),n}static LookAtRH(g,i,a){const n=new R;return R.LookAtRHToRef(g,i,a,n),n}static LookAtRHToRef(g,i,a,n){const L=x.Bi[0],d=x.Bi[1],b=x.Bi[2];g.subtractToRef(i,b),b.normalize(),c.CrossToRef(a,b,L);const k=L.lengthSquared();0===k?L.x=1:L.normalizeFromLength(Math.sqrt(k)),c.CrossToRef(b,L,d),d.normalize();const e=-c.Dot(L,g),N=-c.Dot(d,g),F=-c.Dot(b,g);return R.FromValuesToRef(L._x,d._x,b._x,0,L._y,d._y,b._y,0,L._z,d._z,b._z,0,e,N,F,1,n),n}static LookDirectionLH(g,i){const a=new R;return R.LookDirectionLHToRef(g,i,a),a}static LookDirectionLHToRef(g,i,a){const n=x.Bi[0];n.I(g),n.scaleInPlace(-1);const L=x.Bi[1];return c.CrossToRef(i,n,L),R.FromValuesToRef(L._x,L._y,L._z,0,i._x,i._y,i._z,0,n._x,n._y,n._z,0,0,0,0,1,a),a}static LookDirectionRH(g,i){const a=new R;return R.LookDirectionRHToRef(g,i,a),a}static LookDirectionRHToRef(g,i,a){const n=x.Bi[2];return c.CrossToRef(i,g,n),R.FromValuesToRef(n._x,n._y,n._z,0,i._x,i._y,i._z,0,g._x,g._y,g._z,0,0,0,0,1,a),a}static OrthoLH(g,i,a,n,L){const d=new R;return R.OrthoLHToRef(g,i,a,n,d,L),d}static OrthoLHToRef(g,i,a,n,L,d){const b=2/g,k=2/i,e=2/(n-a),N=-(n+a)/(n-a);return R.FromValuesToRef(b,0,0,0,0,k,0,0,0,0,e,0,0,0,N,1,L),d&&L.multiplyToRef(X,L),L._updateIdentityStatus(1===b&&1===k&&1===e&&0===N),L}static OrthoOffCenterLH(g,i,a,n,L,d,b){const k=new R;return R.OrthoOffCenterLHToRef(g,i,a,n,L,d,k,b),k}static OrthoOffCenterLHToRef(g,i,a,n,L,d,b,k){const e=2/(i-g),N=2/(n-a),F=2/(d-L),I=-(d+L)/(d-L),j=(g+i)/(g-i),y=(n+a)/(a-n);return R.FromValuesToRef(e,0,0,0,0,N,0,0,0,0,F,0,j,y,I,1,b),k&&b.multiplyToRef(X,b),b.markAsUpdated(),b}static ObliqueOffCenterLHToRef(g,i,a,n,L,d,b,k,e,N,F){const I=-b*Math.cos(k),j=-b*Math.sin(k);return R.TranslationToRef(0,0,-e,x.Matrix[1]),R.FromValuesToRef(1,0,0,0,0,1,0,0,I,j,1,0,0,0,0,1,x.Matrix[0]),x.Matrix[1].multiplyToRef(x.Matrix[0],x.Matrix[0]),R.TranslationToRef(0,0,e,x.Matrix[1]),x.Matrix[0].multiplyToRef(x.Matrix[1],x.Matrix[0]),R.OrthoOffCenterLHToRef(g,i,a,n,L,d,N,F),x.Matrix[0].multiplyToRef(N,N),N}static OrthoOffCenterRH(g,i,a,n,L,d,b){const k=new R;return R.OrthoOffCenterRHToRef(g,i,a,n,L,d,k,b),k}static OrthoOffCenterRHToRef(g,i,a,n,L,d,b,k){return R.OrthoOffCenterLHToRef(g,i,a,n,L,d,b,k),b.kd[10]*=-1,b}static ObliqueOffCenterRHToRef(g,i,a,n,L,d,b,k,e,N,F){const I=b*Math.cos(k),j=b*Math.sin(k);return R.TranslationToRef(0,0,e,x.Matrix[1]),R.FromValuesToRef(1,0,0,0,0,1,0,0,I,j,1,0,0,0,0,1,x.Matrix[0]),x.Matrix[1].multiplyToRef(x.Matrix[0],x.Matrix[0]),R.TranslationToRef(0,0,-e,x.Matrix[1]),x.Matrix[0].multiplyToRef(x.Matrix[1],x.Matrix[0]),R.OrthoOffCenterRHToRef(g,i,a,n,L,d,N,F),x.Matrix[0].multiplyToRef(N,N),N}static PerspectiveLH(g,i,a,n,L){let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const b=new R,k=2*a/g,e=2*a/i,N=(n+a)/(n-a),F=-2*n*a/(n-a),I=Math.tan(d);return R.FromValuesToRef(k,0,0,0,0,e,0,I,0,0,N,1,0,0,F,0,b),L&&b.multiplyToRef(X,b),b._updateIdentityStatus(!1),b}static PerspectiveFovLH(g,i,a,n,L){let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const k=new R;return R.PerspectiveFovLHToRef(g,i,a,n,k,!0,L,d,b),k}static PerspectiveFovLHToRef(g,i,a,n,L){let d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6?arguments[6]:void 0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,e=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const N=a,F=n,I=1/Math.tan(.5*g),j=d?I/i:I,y=d?I:I*i,B=e&&0===N?-1:0!==F?(F+N)/(F-N):1,c=e&&0===N?2*F:0!==F?-2*F*N/(F-N):-2*N,D=Math.tan(k);return R.FromValuesToRef(j,0,0,0,0,y,0,D,0,0,B,1,0,0,c,0,L),b&&L.multiplyToRef(X,L),L._updateIdentityStatus(!1),L}static PerspectiveFovReverseLHToRef(g,i,a,n,L){let d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6?arguments[6]:void 0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const e=1/Math.tan(.5*g),N=d?e/i:e,F=d?e:e*i,I=Math.tan(k);return R.FromValuesToRef(N,0,0,0,0,F,0,I,0,0,-a,1,0,0,1,0,L),b&&L.multiplyToRef(X,L),L._updateIdentityStatus(!1),L}static PerspectiveFovRH(g,i,a,n,L){let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const k=new R;return R.PerspectiveFovRHToRef(g,i,a,n,k,!0,L,d,b),k}static PerspectiveFovRHToRef(g,i,a,n,L){let d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6?arguments[6]:void 0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,e=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const N=a,F=n,I=1/Math.tan(.5*g),j=d?I/i:I,y=d?I:I*i,B=e&&0===N?1:0!==F?-(F+N)/(F-N):-1,c=e&&0===N?2*F:0!==F?-2*F*N/(F-N):-2*N,D=Math.tan(k);return R.FromValuesToRef(j,0,0,0,0,y,0,D,0,0,B,-1,0,0,c,0,L),b&&L.multiplyToRef(X,L),L._updateIdentityStatus(!1),L}static PerspectiveFovReverseRHToRef(g,i,a,n,L){let d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6?arguments[6]:void 0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const e=1/Math.tan(.5*g),N=d?e/i:e,F=d?e:e*i,I=Math.tan(k);return R.FromValuesToRef(N,0,0,0,0,F,0,I,0,0,-a,-1,0,0,-1,0,L),b&&L.multiplyToRef(X,L),L._updateIdentityStatus(!1),L}static GetFinalMatrix(g,i,a,n,L,d){const b=g.width,k=g.height,e=g.x,N=g.y,F=R.FromValues(b/2,0,0,0,0,-k/2,0,0,0,0,d-L,0,e+b/2,k/2+N,L,1),I=new R;return i.multiplyToRef(a,I),I.multiplyToRef(n,I),I.multiplyToRef(F,I)}static GetAsMatrix2x2(g){const i=g.m,a=[i[0],i[1],i[4],i[5]];return b.e.MatrixUse64Bits?a:new Float32Array(a)}static GetAsMatrix3x3(g){const i=g.m,a=[i[0],i[1],i[2],i[4],i[5],i[6],i[8],i[9],i[10]];return b.e.MatrixUse64Bits?a:new Float32Array(a)}static Transpose(g){const i=new R;return R.TransposeToRef(g,i),i}static TransposeToRef(g,i){const a=g.m,n=a[0],L=a[4],d=a[8],b=a[12],k=a[1],e=a[5],N=a[9],F=a[13],I=a[2],j=a[6],y=a[10],B=a[14],c=a[3],D=a[7],p=a[11],R=a[15],x=i.kd;return x[0]=n,x[1]=L,x[2]=d,x[3]=b,x[4]=k,x[5]=e,x[6]=N,x[7]=F,x[8]=I,x[9]=j,x[10]=y,x[11]=B,x[12]=c,x[13]=D,x[14]=p,x[15]=R,i.markAsUpdated(),i._updateIdentityStatus(g._isIdentity,g._isIdentityDirty),i}static Reflection(g){const i=new R;return R.ReflectionToRef(g,i),i}static ReflectionToRef(g,i){g.normalize();const a=g.normal.x,n=g.normal.y,L=g.normal.z,d=-2*a,b=-2*n,k=-2*L;return R.FromValuesToRef(d*a+1,b*a,k*a,0,d*n,b*n+1,k*n,0,d*L,b*L,k*L+1,0,d*g.d,b*g.d,k*g.d,1,i),i}static FromXYZAxesToRef(g,i,a,n){return R.FromValuesToRef(g._x,g._y,g._z,0,i._x,i._y,i._z,0,a._x,a._y,a._z,0,0,0,0,1,n),n}static FromQuaternionToRef(g,i){const a=g._x*g._x,n=g._y*g._y,L=g._z*g._z,d=g._x*g._y,b=g._z*g._w,k=g._z*g._x,e=g._y*g._w,N=g._y*g._z,F=g._x*g._w;return i.kd[0]=1-2*(n+L),i.kd[1]=2*(d+b),i.kd[2]=2*(k-e),i.kd[3]=0,i.kd[4]=2*(d-b),i.kd[5]=1-2*(L+a),i.kd[6]=2*(N+F),i.kd[7]=0,i.kd[8]=2*(k+e),i.kd[9]=2*(N-F),i.kd[10]=1-2*(n+a),i.kd[11]=0,i.kd[12]=0,i.kd[13]=0,i.kd[14]=0,i.kd[15]=1,i.markAsUpdated(),i}}R._IdentityReadOnly=R.Identity(),Object.defineProperties(R.prototype,{dimension:{value:[4,4]},rank:{value:2}});class x{}x.Bi=(0,L.g)(11,c.Zero),x.Matrix=(0,L.g)(2,R.Identity),x.Quaternion=(0,L.g)(3,p.Zero);class E{}E.Vector2=(0,L.g)(3,B.Zero),E.Bi=(0,L.g)(13,c.Zero),E.Vector4=(0,L.g)(3,D.Zero),E.Quaternion=(0,L.g)(3,p.Zero),E.Matrix=(0,L.g)(8,R.Identity),(0,d.e)("BABYLON.Vector2",B),(0,d.e)("BABYLON.Vector3",c),(0,d.e)("BABYLON.Vector4",D),(0,d.e)("BABYLON.Matrix",R);const X=R.FromValues(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1)},12462:(g,i,a)=>{function n(g,i){const a=[];for(let n=0;n<g;++n)a.push(i());return a}function L(g,i){return n(g,i)}a.d(i,{d:()=>n,g:()=>L,i:()=>b});const d=["push","splice","pop","shift","unshift"];function b(g,i){const a=d.map((a=>function(g,i,a){const n=g[i];if("function"!==typeof n)return null;const L=function(){const n=g.length,d=L.previous.apply(g,arguments);return a(i,n),d};return n.next=L,L.previous=n,g[i]=L,()=>{const a=L.previous;if(!a)return;const n=L.next;n?(a.next=n,n.previous=a):(a.next=void 0,g[i]=a),L.next=void 0,L.previous=void 0}}(g,a,i)));return()=>{for(const g of a)null===g||void 0===g||g()}}}}]);