/*! For license information please see jg69z6.20.17e83fc3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[20],{11895:(P,Q,O)=>{O.d(Q,{A:()=>C,B:()=>G,E:()=>i,H:()=>j,L:()=>W,P:()=>I,T:()=>K,W:()=>T,Z:()=>w,b:()=>A,bb:()=>r,d:()=>t,fb:()=>o,h:()=>H,ib:()=>S,j:()=>u,jb:()=>x,l:()=>q,n:()=>m,p:()=>e,q:()=>a,u:()=>l,x:()=>z,z:()=>L});const b=function(P){const Q=[];let O=0;for(let b=0;b<P.length;b++){let F=P.charCodeAt(b);F<128?Q[O++]=F:F<2048?(Q[O++]=F>>6|192,Q[O++]=63&F|128):55296===(64512&F)&&b+1<P.length&&56320===(64512&P.charCodeAt(b+1))?(F=65536+((1023&F)<<10)+(1023&P.charCodeAt(++b)),Q[O++]=F>>18|240,Q[O++]=F>>12&63|128,Q[O++]=F>>6&63|128,Q[O++]=63&F|128):(Q[O++]=F>>12|224,Q[O++]=F>>6&63|128,Q[O++]=63&F|128)}return Q},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(P,Q){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let F=0;F<P.length;F+=3){const Q=P[F],g=F+1<P.length,m=g?P[F+1]:0,q=F+2<P.length,R=q?P[F+2]:0,X=Q>>2,C=(3&Q)<<4|m>>4;let L=(15&m)<<2|R>>6,G=63&R;q||(G=64,g||(L=64)),b.push(O[X],O[C],O[L],O[G])}return b.join("")},encodeString(P,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(P):this.encodeByteArray(b(P),Q)},decodeString(P,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(P):function(P){const Q=[];let O=0,b=0;for(;O<P.length;){const F=P[O++];if(F<128)Q[b++]=String.fromCharCode(F);else if(F>191&&F<224){const g=P[O++];Q[b++]=String.fromCharCode((31&F)<<6|63&g)}else if(F>239&&F<365){const g=((7&F)<<18|(63&P[O++])<<12|(63&P[O++])<<6|63&P[O++])-65536;Q[b++]=String.fromCharCode(55296+(g>>10)),Q[b++]=String.fromCharCode(56320+(1023&g))}else{const g=P[O++],m=P[O++];Q[b++]=String.fromCharCode((15&F)<<12|(63&g)<<6|63&m)}}return Q.join("")}(this.decodeStringToByteArray(P,Q))},decodeStringToByteArray(P,Q){this.init_();const O=Q?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let F=0;F<P.length;){const Q=O[P.charAt(F++)],m=F<P.length?O[P.charAt(F)]:0;++F;const q=F<P.length?O[P.charAt(F)]:64;++F;const R=F<P.length?O[P.charAt(F)]:64;if(++F,null==Q||null==m||null==q||null==R)throw new g;const X=Q<<2|m>>4;if(b.push(X),64!==q){const P=m<<4&240|q>>2;if(b.push(P),64!==R){const P=q<<6&192|R;b.push(P)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class g extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(P){return function(P){const Q=b(P);return F.encodeByteArray(Q,!0)}(P).replace(/\./g,"")},q=function(P){try{return F.decodeString(P,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};const R=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof O.g)return O.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,X=()=>{try{return R()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(O){return}const Q=P&&q(P[1]);return Q&&JSON.parse(Q)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},C=P=>{var Q,O;return null===(O=null===(Q=X())||void 0===Q?void 0:Q.emulatorHosts)||void 0===O?void 0:O[P]},L=()=>{var P;return null===(P=X())||void 0===P?void 0:P.config},G=P=>{var Q;return null===(Q=X())||void 0===Q?void 0:Q[`_${P}`]};class A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((P,Q)=>{this.resolve=P,this.reject=Q}))}wrapCallback(P){return(Q,O)=>{Q?this.reject(Q):this.resolve(O),"function"===typeof P&&(this.promise.catch((()=>{})),1===P.length?P(Q):P(Q,O))}}}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function w(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function W(){const P="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof P&&void 0!==P.id}function r(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function K(){const P=j();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(P){return!1}}function x(){return new Promise(((P,Q)=>{try{let O=!0;const b="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(b);F.onsuccess=()=>{F.result.close(),O||self.indexedDB.deleteDatabase(b),P(!0)},F.onupgradeneeded=()=>{O=!1},F.onerror=()=>{var P;Q((null===(P=F.error)||void 0===P?void 0:P.message)||"")}}catch(O){Q(O)}}))}function u(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class H extends Error{constructor(P,Q,O){super(Q),this.code=P,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t.prototype.create)}}class t{constructor(P,Q,O){this.service=P,this.serviceName=Q,this.errors=O}create(P){const Q=(arguments.length<=1?void 0:arguments[1])||{},O=`${this.service}/${P}`,b=this.errors[P],F=b?function(P,Q){return P.replace(B,((P,O)=>{const b=Q[O];return null!=b?String(b):`<${O}?>`}))}(b,Q):"Error",g=`${this.serviceName}: ${F} (${O}).`;return new H(O,g,Q)}}const B=/\{\$([^}]+)}/g;function I(P){for(const Q in P)if(Object.prototype.hasOwnProperty.call(P,Q))return!1;return!0}function l(P,Q){if(P===Q)return!0;const O=Object.keys(P),b=Object.keys(Q);for(const F of O){if(!b.includes(F))return!1;const O=P[F],g=Q[F];if(M(O)&&M(g)){if(!l(O,g))return!1}else if(O!==g)return!1}for(const F of b)if(!O.includes(F))return!1;return!0}function M(P){return null!==P&&"object"===typeof P}function S(P){const Q=[];for(const[O,b]of Object.entries(P))Array.isArray(b)?b.forEach((P=>{Q.push(encodeURIComponent(O)+"="+encodeURIComponent(P))})):Q.push(encodeURIComponent(O)+"="+encodeURIComponent(b));return Q.length?"&"+Q.join("&"):""}function o(P){const Q={};return P.replace(/^\?/,"").split("&").forEach((P=>{if(P){const[O,b]=P.split("=");Q[decodeURIComponent(O)]=decodeURIComponent(b)}})),Q}function z(P){const Q=P.indexOf("?");if(!Q)return"";const O=P.indexOf("#",Q);return P.substring(Q,O>0?O:void 0)}function a(P,Q){const O=new y(P,Q);return O.subscribe.bind(O)}class y{constructor(P,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then((()=>{P(this)})).catch((P=>{this.error(P)}))}next(P){this.forEachObserver((Q=>{Q.next(P)}))}error(P){this.forEachObserver((Q=>{Q.error(P)})),this.close(P)}complete(){this.forEachObserver((P=>{P.complete()})),this.close()}subscribe(P,Q,O){let b;if(void 0===P&&void 0===Q&&void 0===O)throw new Error("Missing Observer.");b=function(P,Q){if("object"!==typeof P||null===P)return!1;for(const O of Q)if(O in P&&"function"===typeof P[O])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:Q,complete:O},void 0===b.next&&(b.next=c),void 0===b.error&&(b.error=c),void 0===b.complete&&(b.complete=c);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch(P){}})),this.observers.push(b),F}unsubscribeOne(P){void 0!==this.observers&&void 0!==this.observers[P]&&(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,P)}sendOne(P,Q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{Q(this.observers[P])}catch(O){"undefined"!==typeof console&&console.error&&console.error(O)}}))}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function c(){}const h=1e3,V=2,s=144e5,J=.5;function e(P){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const O=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(Q,P),b=Math.round(J*O*(Math.random()-.5)*2);return Math.min(s,O+b)}function i(P){return P&&P._delegate?P._delegate:P}},11887:(P,Q,O)=>{O.d(Q,{d:()=>g.h,f:()=>LP,i:()=>k,l:()=>OP,p:()=>bP,t:()=>PP,x:()=>qP,A:()=>QP,C:()=>gP,G:()=>FP,J:()=>mP,M:()=>wP,R:()=>AP,N:()=>jP,T:()=>GP,X:()=>rP,Z:()=>WP,ab:()=>KP});var b=O(11893),F=O(11902),g=O(11895);let m,q;const R=new WeakMap,X=new WeakMap,C=new WeakMap,L=new WeakMap,G=new WeakMap;let A={get(P,Q,O){if(P instanceof IDBTransaction){if("done"===Q)return X.get(P);if("objectStoreNames"===Q)return P.objectStoreNames||C.get(P);if("store"===Q)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return W(P[Q])},set:(P,Q,O)=>(P[Q]=O,!0),has:(P,Q)=>P instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in P};function j(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(P)?function(){for(var Q=arguments.length,O=new Array(Q),b=0;b<Q;b++)O[b]=arguments[b];return P.apply(r(this),O),W(R.get(this))}:function(){for(var Q=arguments.length,O=new Array(Q),b=0;b<Q;b++)O[b]=arguments[b];return W(P.apply(r(this),O))}:function(Q){for(var O=arguments.length,b=new Array(O>1?O-1:0),F=1;F<O;F++)b[F-1]=arguments[F];const g=P.call(r(this),Q,...b);return C.set(g,Q.sort?Q.sort():[Q]),W(g)}}function w(P){return"function"===typeof P?j(P):(P instanceof IDBTransaction&&function(P){if(X.has(P))return;const Q=new Promise(((Q,O)=>{const b=()=>{P.removeEventListener("complete",F),P.removeEventListener("error",g),P.removeEventListener("abort",g)},F=()=>{Q(),b()},g=()=>{O(P.error||new DOMException("AbortError","AbortError")),b()};P.addEventListener("complete",F),P.addEventListener("error",g),P.addEventListener("abort",g)}));X.set(P,Q)}(P),Q=P,(m||(m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((P=>Q instanceof P))?new Proxy(P,A):P);var Q}function W(P){if(P instanceof IDBRequest)return function(P){const Q=new Promise(((Q,O)=>{const b=()=>{P.removeEventListener("success",F),P.removeEventListener("error",g)},F=()=>{Q(W(P.result)),b()},g=()=>{O(P.error),b()};P.addEventListener("success",F),P.addEventListener("error",g)}));return Q.then((Q=>{Q instanceof IDBCursor&&R.set(Q,P)})).catch((()=>{})),G.set(Q,P),Q}(P);if(L.has(P))return L.get(P);const Q=w(P);return Q!==P&&(L.set(P,Q),G.set(Q,P)),Q}const r=P=>G.get(P);const K=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],x=new Map;function u(P,Q){if(!(P instanceof IDBDatabase)||Q in P||"string"!==typeof Q)return;if(x.get(Q))return x.get(Q);const O=Q.replace(/FromIndex$/,""),b=Q!==O,F=T.includes(O);if(!(O in(b?IDBIndex:IDBObjectStore).prototype)||!F&&!K.includes(O))return;const g=async function(P){const Q=this.transaction(P,F?"readwrite":"readonly");let g=Q.store;for(var m=arguments.length,q=new Array(m>1?m-1:0),R=1;R<m;R++)q[R-1]=arguments[R];return b&&(g=g.index(q.shift())),(await Promise.all([g[O](...q),F&&Q.done]))[0]};return x.set(Q,g),g}A=(P=>({...P,get:(Q,O,b)=>u(Q,O)||P.get(Q,O,b),has:(Q,O)=>!!u(Q,O)||P.has(Q,O)}))(A);class H{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map((P=>{if(function(P){const Q=P.getComponent();return"VERSION"===(null===Q||void 0===Q?void 0:Q.type)}(P)){const Q=P.getImmediate();return`${Q.library}/${Q.version}`}return null})).filter((P=>P)).join(" ")}}const t="@firebase/app",B="0.9.13",I=new F.f("@firebase/app"),l="@firebase/app-compat",M="@firebase/analytics-compat",S="@firebase/analytics",o="@firebase/app-check-compat",z="@firebase/app-check",a="@firebase/auth",y="@firebase/auth-compat",c="@firebase/database",h="@firebase/database-compat",V="@firebase/functions",s="@firebase/functions-compat",J="@firebase/installations",e="@firebase/installations-compat",i="@firebase/messaging",Y="@firebase/messaging-compat",p="@firebase/performance",D="@firebase/performance-compat",d="@firebase/remote-config",N="@firebase/remote-config-compat",f="@firebase/storage",n="@firebase/storage-compat",Z="@firebase/firestore",U="@firebase/firestore-compat",E="firebase",k="[DEFAULT]",v={[t]:"fire-core",[l]:"fire-core-compat",[S]:"fire-analytics",[M]:"fire-analytics-compat",[z]:"fire-app-check",[o]:"fire-app-check-compat",[a]:"fire-auth",[y]:"fire-auth-compat",[c]:"fire-rtdb",[h]:"fire-rtdb-compat",[V]:"fire-fn",[s]:"fire-fn-compat",[J]:"fire-iid",[e]:"fire-iid-compat",[i]:"fire-fcm",[Y]:"fire-fcm-compat",[p]:"fire-perf",[D]:"fire-perf-compat",[d]:"fire-rc",[N]:"fire-rc-compat",[f]:"fire-gcs",[n]:"fire-gcs-compat",[Z]:"fire-fst",[U]:"fire-fst-compat","fire-js":"fire-js",[E]:"fire-js-all"},PP=new Map,QP=new Map;function OP(P,Q){try{P.container.we(Q)}catch(O){I.debug(`Component ${Q.name} failed to register with FirebaseApp ${P.name}`,O)}}function bP(P,Q){P.container.addOrOverwriteComponent(Q)}function FP(P){const Q=P.name;if(QP.has(Q))return I.debug(`There were multiple attempts to register component ${Q}.`),!1;QP.set(Q,P);for(const O of PP.values())OP(O,P);return!0}function gP(P,Q){const O=P.container.getProvider("heartbeat").getImmediate({optional:!0});return O&&O.triggerHeartbeat(),P.container.getProvider(Q)}function mP(P,Q){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;gP(P,Q).clearInstance(O)}function qP(){QP.clear()}const RP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},XP=new g.d("app","Firebase",RP);class CP{constructor(P,Q,O){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=O,this.container.we(new b.c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw XP.create("app-deleted",{appName:this._name})}}const LP="9.23.0";function GP(P){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=P;if("object"!==typeof Q){Q={name:Q}}const F=Object.assign({name:k,automaticDataCollectionEnabled:!1},Q),m=F.name;if("string"!==typeof m||!m)throw XP.create("bad-app-name",{appName:String(m)});if(O||(O=(0,g.z)()),!O)throw XP.create("no-options");const q=PP.get(m);if(q){if((0,g.u)(O,q.options)&&(0,g.u)(F,q.config))return q;throw XP.create("duplicate-app",{appName:m})}const R=new b.b(m);for(const b of QP.values())R.we(b);const X=new CP(O,F,R);return PP.set(m,X),X}function AP(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;const Q=PP.get(P);if(!Q&&P===k&&(0,g.z)())return GP();if(!Q)throw XP.create("no-app",{appName:P});return Q}function jP(){return Array.from(PP.values())}async function wP(P){const Q=P.name;PP.has(Q)&&(PP.delete(Q),await Promise.all(P.container.getProviders().map((P=>P.delete()))),P.isDeleted=!0)}function WP(P,Q,O){var F;let g=null!==(F=v[P])&&void 0!==F?F:P;O&&(g+=`-${O}`);const m=g.match(/\s|\//),q=Q.match(/\s|\//);if(m||q){const P=[`Unable to register library "${g}" with version "${Q}":`];return m&&P.push(`library name "${g}" contains illegal characters (whitespace or "/")`),m&&q&&P.push("and"),q&&P.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void I.warn(P.join(" "))}FP(new b.c(`${g}-version`,(()=>({library:g,version:Q})),"VERSION"))}function rP(P,Q){if(null!==P&&"function"!==typeof P)throw XP.create("invalid-log-argument");(0,F.m)(P,Q)}function KP(P){(0,F.i)(P)}const TP="firebase-heartbeat-store";let xP=null;function uP(){return xP||(xP=function(P,Q){let{blocked:O,upgrade:b,blocking:F,terminated:g}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const m=indexedDB.open(P,Q),q=W(m);return b&&m.addEventListener("upgradeneeded",(P=>{b(W(m.result),P.oldVersion,P.newVersion,W(m.transaction),P)})),O&&m.addEventListener("blocked",(P=>O(P.oldVersion,P.newVersion,P))),q.then((P=>{g&&P.addEventListener("close",(()=>g())),F&&P.addEventListener("versionchange",(P=>F(P.oldVersion,P.newVersion,P)))})).catch((()=>{})),q}("firebase-heartbeat-database",1,{upgrade:(P,Q)=>{if(0===Q)P.createObjectStore(TP)}}).catch((P=>{throw XP.create("idb-open",{originalErrorMessage:P.message})}))),xP}async function HP(P,Q){try{const O=(await uP()).transaction(TP,"readwrite"),b=O.objectStore(TP);await b.put(Q,tP(P)),await O.done}catch(O){if(O instanceof g.h)I.warn(O.message);else{const P=XP.create("idb-set",{originalErrorMessage:null===O||void 0===O?void 0:O.message});I.warn(P.message)}}}function tP(P){return`${P.name}!${P.options.appId}`}class BP{constructor(P){this.container=P,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this.te=new lP(Q),this._heartbeatsCachePromise=this.te.read().then((P=>(this._heartbeatsCache=P,P)))}async triggerHeartbeat(){const P=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Q=IP();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Q&&!this._heartbeatsCache.heartbeats.some((P=>P.date===Q)))return this._heartbeatsCache.heartbeats.push({date:Q,agent:P}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((P=>{const Q=new Date(P.date).valueOf();return Date.now()-Q<=2592e6})),this.te.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const P=IP(),{heartbeatsToSend:Q,unsentEntries:O}=function(P){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const O=[];let b=P.slice();for(const F of P){const P=O.find((P=>P.agent===F.agent));if(P){if(P.dates.push(F.date),MP(O)>Q){P.dates.pop();break}}else if(O.push({agent:F.agent,dates:[F.date]}),MP(O)>Q){O.pop();break}b=b.slice(1)}return{heartbeatsToSend:O,unsentEntries:b}}(this._heartbeatsCache.heartbeats),b=(0,g.n)(JSON.stringify({version:2,heartbeats:Q}));return this._heartbeatsCache.lastSentHeartbeatDate=P,O.length>0?(this._heartbeatsCache.heartbeats=O,await this.te.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.te.overwrite(this._heartbeatsCache)),b}}function IP(){return(new Date).toISOString().substring(0,10)}class lP{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,g.W)()&&(0,g.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(P){try{const Q=await uP();return await Q.transaction(TP).objectStore(TP).get(tP(P))}catch(Q){if(Q instanceof g.h)I.warn(Q.message);else{const P=XP.create("idb-get",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});I.warn(P.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(P){var Q;if(await this._canUseIndexedDBPromise){const O=await this.read();return HP(this.app,{lastSentHeartbeatDate:null!==(Q=P.lastSentHeartbeatDate)&&void 0!==Q?Q:O.lastSentHeartbeatDate,heartbeats:P.heartbeats})}}async add(P){var Q;if(await this._canUseIndexedDBPromise){const O=await this.read();return HP(this.app,{lastSentHeartbeatDate:null!==(Q=P.lastSentHeartbeatDate)&&void 0!==Q?Q:O.lastSentHeartbeatDate,heartbeats:[...O.heartbeats,...P.heartbeats]})}}}function MP(P){return(0,g.n)(JSON.stringify({version:2,heartbeats:P})).length}var SP;SP="",FP(new b.c("platform-logger",(P=>new H(P)),"PRIVATE")),FP(new b.c("heartbeat",(P=>new BP(P)),"PRIVATE")),WP(t,B,SP),WP(t,B,"esm2017"),WP("fire-js","")},11893:(P,Q,O)=>{O.d(Q,{b:()=>q,c:()=>F});var b=O(11895);class F{constructor(P,Q,O){this.name=P,this.instanceFactory=Q,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const g="[DEFAULT]";class m{constructor(P,Q){this.name=P,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const Q=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(Q)){const P=new b.b;if(this.instancesDeferred.set(Q,P),this.isInitialized(Q)||this.shouldAutoInitialize())try{const O=this.getOrInitializeService({instanceIdentifier:Q});O&&P.resolve(O)}catch(O){}}return this.instancesDeferred.get(Q).promise}getImmediate(P){var Q;const O=this.normalizeInstanceIdentifier(null===P||void 0===P?void 0:P.identifier),b=null!==(Q=null===P||void 0===P?void 0:P.optional)&&void 0!==Q&&Q;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(b)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(F){if(b)return null;throw F}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function(P){return"EAGER"===P.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:g})}catch(Q){}for(const[P,O]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(P);try{const P=this.getOrInitializeService({instanceIdentifier:b});O.resolve(P)}catch(Q){}}}}clearInstance(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}async delete(){const P=Array.from(this.instances.values());await Promise.all([...P.filter((P=>"INTERNAL"in P)).map((P=>P.INTERNAL.delete())),...P.filter((P=>"_delete"in P)).map((P=>P._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.instances.has(P)}getOptions(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.instancesOptions.get(P)||{}}initialize(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Q={}}=P,O=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(O))throw Error(`${this.name}(${O}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const b=this.getOrInitializeService({instanceIdentifier:O,options:Q});for(const[F,g]of this.instancesDeferred.entries()){O===this.normalizeInstanceIdentifier(F)&&g.resolve(b)}return b}fl(P,Q){var O;const b=this.normalizeInstanceIdentifier(Q),F=null!==(O=this.onInitCallbacks.get(b))&&void 0!==O?O:new Set;F.add(P),this.onInitCallbacks.set(b,F);const g=this.instances.get(b);return g&&P(g,b),()=>{F.delete(P)}}invokeOnInitCallbacks(P,Q){const O=this.onInitCallbacks.get(Q);if(O)for(const F of O)try{F(P,Q)}catch(b){}}getOrInitializeService(P){let{instanceIdentifier:Q,options:O={}}=P,b=this.instances.get(Q);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:(F=Q,F===g?void 0:F),options:O}),this.instances.set(Q,b),this.instancesOptions.set(Q,O),this.invokeOnInitCallbacks(b,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,b)}catch(m){}var F;return b||null}normalizeInstanceIdentifier(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.component?this.component.multipleInstances?P:g:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(P){this.name=P,this.providers=new Map}we(P){const Q=this.getProvider(P.name);if(Q.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);Q.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.we(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const Q=new m(P,this);return this.providers.set(P,Q),Q}getProviders(){return Array.from(this.providers.values())}}},11902:(P,Q,O)=>{O.d(Q,{c:()=>F,f:()=>X,i:()=>C,m:()=>L});const b=[];var F;!function(P){P[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT"}(F||(F={}));const g={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},m=F.INFO,q={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},R=function(P,Q){if(Q<P.logLevel)return;const O=(new Date).toISOString(),b=q[Q];if(!b)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);for(var F=arguments.length,g=new Array(F>2?F-2:0),m=2;m<F;m++)g[m-2]=arguments[m];console[b](`[${O}]  ${P.name}:`,...g)};class X{constructor(P){this.name=P,this._logLevel=m,this._logHandler=R,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in F))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"===typeof P?g[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!==typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(){for(var P=arguments.length,Q=new Array(P),O=0;O<P;O++)Q[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Q),this._logHandler(this,F.DEBUG,...Q)}log(){for(var P=arguments.length,Q=new Array(P),O=0;O<P;O++)Q[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Q),this._logHandler(this,F.VERBOSE,...Q)}info(){for(var P=arguments.length,Q=new Array(P),O=0;O<P;O++)Q[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,F.INFO,...Q),this._logHandler(this,F.INFO,...Q)}warn(){for(var P=arguments.length,Q=new Array(P),O=0;O<P;O++)Q[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,F.WARN,...Q),this._logHandler(this,F.WARN,...Q)}error(){for(var P=arguments.length,Q=new Array(P),O=0;O<P;O++)Q[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Q),this._logHandler(this,F.ERROR,...Q)}}function C(P){b.forEach((Q=>{Q.setLogLevel(P)}))}function L(P,Q){for(const O of b){let b=null;Q&&Q.level&&(b=g[Q.level]),O.userLogHandler=null===P?null:function(Q,O){for(var g=arguments.length,m=new Array(g>2?g-2:0),q=2;q<g;q++)m[q-2]=arguments[q];const R=m.map((P=>{if(null==P)return null;if("string"===typeof P)return P;if("number"===typeof P||"boolean"===typeof P)return P.toString();if(P instanceof Error)return P.message;try{return JSON.stringify(P)}catch(Q){return null}})).filter((P=>P)).join(" ");O>=(null!==b&&void 0!==b?b:Q.logLevel)&&P({level:F[O].toLowerCase(),message:R,args:m,type:Q.name})}}}}}]);