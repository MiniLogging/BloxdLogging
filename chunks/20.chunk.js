/*! For license information please see 2p0ay.20.89d22c55.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[20],{11599:(W,F,c)=>{c.d(F,{$:()=>i,A:()=>o,D:()=>j,H:()=>x,J:()=>N,N:()=>b,Q:()=>y,R:()=>e,T:()=>n,W:()=>E,Y:()=>O,cb:()=>I,e:()=>q,g:()=>v,gb:()=>U,h:()=>D,i:()=>G,ib:()=>S,k:()=>A,mb:()=>z,n:()=>w,r:()=>r,u:()=>K,x:()=>X});const T=function(W){const F=[];let c=0;for(let T=0;T<W.length;T++){let Y=W.charCodeAt(T);Y<128?F[c++]=Y:Y<2048?(F[c++]=Y>>6|192,F[c++]=63&Y|128):55296===(64512&Y)&&T+1<W.length&&56320===(64512&W.charCodeAt(T+1))?(Y=65536+((1023&Y)<<10)+(1023&W.charCodeAt(++T)),F[c++]=Y>>18|240,F[c++]=Y>>12&63|128,F[c++]=Y>>6&63|128,F[c++]=63&Y|128):(F[c++]=Y>>12|224,F[c++]=Y>>6&63|128,F[c++]=63&Y|128)}return F},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(W,F){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const c=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,T=[];for(let Y=0;Y<W.length;Y+=3){const F=W[Y],Z=Y+1<W.length,w=Z?W[Y+1]:0,A=Y+2<W.length,u=A?W[Y+2]:0,s=F>>2,x=(3&F)<<4|w>>4;let j=(15&w)<<2|u>>6,N=63&u;A||(N=64,Z||(j=64)),T.push(c[s],c[x],c[j],c[N])}return T.join("")},encodeString(W,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(W):this.encodeByteArray(T(W),F)},decodeString(W,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(W):function(W){const F=[];let c=0,T=0;for(;c<W.length;){const Y=W[c++];if(Y<128)F[T++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Z=W[c++];F[T++]=String.fromCharCode((31&Y)<<6|63&Z)}else if(Y>239&&Y<365){const Z=((7&Y)<<18|(63&W[c++])<<12|(63&W[c++])<<6|63&W[c++])-65536;F[T++]=String.fromCharCode(55296+(Z>>10)),F[T++]=String.fromCharCode(56320+(1023&Z))}else{const Z=W[c++],w=W[c++];F[T++]=String.fromCharCode((15&Y)<<12|(63&Z)<<6|63&w)}}return F.join("")}(this.decodeStringToByteArray(W,F))},decodeStringToByteArray(W,F){this.init_();const c=F?this.charToByteMapWebSafe_:this.charToByteMap_,T=[];for(let Y=0;Y<W.length;){const F=c[W.charAt(Y++)],w=Y<W.length?c[W.charAt(Y)]:0;++Y;const A=Y<W.length?c[W.charAt(Y)]:64;++Y;const u=Y<W.length?c[W.charAt(Y)]:64;if(++Y,null==F||null==w||null==A||null==u)throw new Z;const s=F<<2|w>>4;if(T.push(s),64!==A){const W=w<<4&240|A>>2;if(T.push(W),64!==u){const W=A<<6&192|u;T.push(W)}}}return T},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w=function(W){return function(W){const F=T(W);return Y.encodeByteArray(F,!0)}(W).replace(/\./g,"")},A=function(W){try{return Y.decodeString(W,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof c.g)return c.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,s=()=>{try{return u()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(c){return}const F=W&&A(W[1]);return F&&JSON.parse(F)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},x=W=>{var F,c;return null===(c=null===(F=s())||void 0===F?void 0:F.emulatorHosts)||void 0===c?void 0:c[W]},j=()=>{var W;return null===(W=s())||void 0===W?void 0:W.config},N=W=>{var F;return null===(F=s())||void 0===F?void 0:F[`_${W}`]};class q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((W,F)=>{this.resolve=W,this.reject=F}))}wrapCallback(W){return(F,c)=>{F?this.reject(F):this.resolve(c),"function"===typeof W&&(this.promise.catch((()=>{})),1===W.length?W(F):W(F,c))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function i(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function e(){const W="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof W&&void 0!==W.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){const W=y();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function O(){try{return"object"===typeof indexedDB}catch(W){return!1}}function z(){return new Promise(((W,F)=>{try{let c=!0;const T="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(T);Y.onsuccess=()=>{Y.result.close(),c||self.indexedDB.deleteDatabase(T),W(!0)},Y.onupgradeneeded=()=>{c=!1},Y.onerror=()=>{var W;F((null===(W=Y.error)||void 0===W?void 0:W.message)||"")}}catch(c){F(c)}}))}function G(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class D extends Error{constructor(W,F,c){super(F),this.code=W,this.customData=c,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(W,F,c){this.service=W,this.serviceName=F,this.errors=c}create(W){const F=(arguments.length<=1?void 0:arguments[1])||{},c=`${this.service}/${W}`,T=this.errors[W],Y=T?function(W,F){return W.replace(C,((W,c)=>{const T=F[c];return null!=T?String(T):`<${c}?>`}))}(T,F):"Error",Z=`${this.serviceName}: ${Y} (${c}).`;return new D(c,Z,F)}}const C=/\{\$([^}]+)}/g;function n(W){for(const F in W)if(Object.prototype.hasOwnProperty.call(W,F))return!1;return!0}function X(W,F){if(W===F)return!0;const c=Object.keys(W),T=Object.keys(F);for(const Y of c){if(!T.includes(Y))return!1;const c=W[Y],Z=F[Y];if(g(c)&&g(Z)){if(!X(c,Z))return!1}else if(c!==Z)return!1}for(const Y of T)if(!c.includes(Y))return!1;return!0}function g(W){return null!==W&&"object"===typeof W}function S(W){const F=[];for(const[c,T]of Object.entries(W))Array.isArray(T)?T.forEach((W=>{F.push(encodeURIComponent(c)+"="+encodeURIComponent(W))})):F.push(encodeURIComponent(c)+"="+encodeURIComponent(T));return F.length?"&"+F.join("&"):""}function U(W){const F={};return W.replace(/^\?/,"").split("&").forEach((W=>{if(W){const[c,T]=W.split("=");F[decodeURIComponent(c)]=decodeURIComponent(T)}})),F}function o(W){const F=W.indexOf("?");if(!F)return"";const c=W.indexOf("#",F);return W.substring(F,c>0?c:void 0)}function K(W,F){const c=new V(W,F);return c.subscribe.bind(c)}class V{constructor(W,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then((()=>{W(this)})).catch((W=>{this.error(W)}))}next(W){this.forEachObserver((F=>{F.next(W)}))}error(W){this.forEachObserver((F=>{F.error(W)})),this.close(W)}complete(){this.forEachObserver((W=>{W.complete()})),this.close()}subscribe(W,F,c){let T;if(void 0===W&&void 0===F&&void 0===c)throw new Error("Missing Observer.");T=function(W,F){if("object"!==typeof W||null===W)return!1;for(const c of F)if(c in W&&"function"===typeof W[c])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:F,complete:c},void 0===T.next&&(T.next=d),void 0===T.error&&(T.error=d),void 0===T.complete&&(T.complete=d);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch(W){}})),this.observers.push(T),Y}unsubscribeOne(W){void 0!==this.observers&&void 0!==this.observers[W]&&(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,W)}sendOne(W,F){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{F(this.observers[W])}catch(c){"undefined"!==typeof console&&console.error&&console.error(c)}}))}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function d(){}const L=1e3,H=2,k=144e5,m=.5;function r(W){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const c=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:L)*Math.pow(F,W),T=Math.round(m*c*(Math.random()-.5)*2);return Math.min(k,c+T)}function b(W){return W&&W._delegate?W._delegate:W}},11584:(W,F,c)=>{c.d(F,{e:()=>Z.h,g:()=>jW,j:()=>l,l:()=>cW,o:()=>TW,q:()=>WW,s:()=>AW,u:()=>FW,x:()=>ZW,y:()=>YW,B:()=>wW,C:()=>iW,I:()=>qW,G:()=>yW,K:()=>NW,N:()=>IW,P:()=>eW,T:()=>EW});var T=c(11590),Y=c(11607),Z=c(11599);let w,A;const u=new WeakMap,s=new WeakMap,x=new WeakMap,j=new WeakMap,N=new WeakMap;let q={get(W,F,c){if(W instanceof IDBTransaction){if("done"===F)return s.get(W);if("objectStoreNames"===F)return W.objectStoreNames||x.get(W);if("store"===F)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return e(W[F])},set:(W,F,c)=>(W[F]=c,!0),has:(W,F)=>W instanceof IDBTransaction&&("done"===F||"store"===F)||F in W};function y(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(A||(A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(W)?function(){for(var F=arguments.length,c=new Array(F),T=0;T<F;T++)c[T]=arguments[T];return W.apply(I(this),c),e(u.get(this))}:function(){for(var F=arguments.length,c=new Array(F),T=0;T<F;T++)c[T]=arguments[T];return e(W.apply(I(this),c))}:function(F){for(var c=arguments.length,T=new Array(c>1?c-1:0),Y=1;Y<c;Y++)T[Y-1]=arguments[Y];const Z=W.call(I(this),F,...T);return x.set(Z,F.sort?F.sort():[F]),e(Z)}}function i(W){return"function"===typeof W?y(W):(W instanceof IDBTransaction&&function(W){if(s.has(W))return;const F=new Promise(((F,c)=>{const T=()=>{W.removeEventListener("complete",Y),W.removeEventListener("error",Z),W.removeEventListener("abort",Z)},Y=()=>{F(),T()},Z=()=>{c(W.error||new DOMException("AbortError","AbortError")),T()};W.addEventListener("complete",Y),W.addEventListener("error",Z),W.addEventListener("abort",Z)}));s.set(W,F)}(W),F=W,(w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((W=>F instanceof W))?new Proxy(W,q):W);var F}function e(W){if(W instanceof IDBRequest)return function(W){const F=new Promise(((F,c)=>{const T=()=>{W.removeEventListener("success",Y),W.removeEventListener("error",Z)},Y=()=>{F(e(W.result)),T()},Z=()=>{c(W.error),T()};W.addEventListener("success",Y),W.addEventListener("error",Z)}));return F.then((F=>{F instanceof IDBCursor&&u.set(F,W)})).catch((()=>{})),N.set(F,W),F}(W);if(j.has(W))return j.get(W);const F=i(W);return F!==W&&(j.set(W,F),N.set(F,W)),F}const I=W=>N.get(W);const E=["get","getKey","getAll","getAllKeys","count"],O=["put","add","delete","clear"],z=new Map;function G(W,F){if(!(W instanceof IDBDatabase)||F in W||"string"!==typeof F)return;if(z.get(F))return z.get(F);const c=F.replace(/FromIndex$/,""),T=F!==c,Y=O.includes(c);if(!(c in(T?IDBIndex:IDBObjectStore).prototype)||!Y&&!E.includes(c))return;const Z=async function(W){const F=this.transaction(W,Y?"readwrite":"readonly");let Z=F.store;for(var w=arguments.length,A=new Array(w>1?w-1:0),u=1;u<w;u++)A[u-1]=arguments[u];return T&&(Z=Z.index(A.shift())),(await Promise.all([Z[c](...A),Y&&F.done]))[0]};return z.set(F,Z),Z}q=(W=>({...W,get:(F,c,T)=>G(F,c)||W.get(F,c,T),has:(F,c)=>!!G(F,c)||W.has(F,c)}))(q);class D{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map((W=>{if(function(W){const F=W.getComponent();return"VERSION"===(null===F||void 0===F?void 0:F.type)}(W)){const F=W.getImmediate();return`${F.library}/${F.version}`}return null})).filter((W=>W)).join(" ")}}const v="@firebase/app",C="0.9.13",n=new Y.e("@firebase/app"),X="@firebase/app-compat",g="@firebase/analytics-compat",S="@firebase/analytics",U="@firebase/app-check-compat",o="@firebase/app-check",K="@firebase/auth",V="@firebase/auth-compat",d="@firebase/database",L="@firebase/database-compat",H="@firebase/functions",k="@firebase/functions-compat",m="@firebase/installations",r="@firebase/installations-compat",b="@firebase/messaging",R="@firebase/messaging-compat",f="@firebase/performance",P="@firebase/performance-compat",p="@firebase/remote-config",t="@firebase/remote-config-compat",M="@firebase/storage",Q="@firebase/storage-compat",J="@firebase/firestore",B="@firebase/firestore-compat",a="firebase",l="[DEFAULT]",h={[v]:"fire-core",[X]:"fire-core-compat",[S]:"fire-analytics",[g]:"fire-analytics-compat",[o]:"fire-app-check",[U]:"fire-app-check-compat",[K]:"fire-auth",[V]:"fire-auth-compat",[d]:"fire-rtdb",[L]:"fire-rtdb-compat",[H]:"fire-fn",[k]:"fire-fn-compat",[m]:"fire-iid",[r]:"fire-iid-compat",[b]:"fire-fcm",[R]:"fire-fcm-compat",[f]:"fire-perf",[P]:"fire-perf-compat",[p]:"fire-rc",[t]:"fire-rc-compat",[M]:"fire-gcs",[Q]:"fire-gcs-compat",[J]:"fire-fst",[B]:"fire-fst-compat","fire-js":"fire-js",[a]:"fire-js-all"},WW=new Map,FW=new Map;function cW(W,F){try{W.container.Pg(F)}catch(c){n.debug(`Component ${F.name} failed to register with FirebaseApp ${W.name}`,c)}}function TW(W,F){W.container.addOrOverwriteComponent(F)}function YW(W){const F=W.name;if(FW.has(F))return n.debug(`There were multiple attempts to register component ${F}.`),!1;FW.set(F,W);for(const c of WW.values())cW(c,W);return!0}function ZW(W,F){const c=W.container.getProvider("heartbeat").getImmediate({optional:!0});return c&&c.triggerHeartbeat(),W.container.getProvider(F)}function wW(W,F){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;ZW(W,F).clearInstance(c)}function AW(){FW.clear()}const uW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sW=new Z.g("app","Firebase",uW);class xW{constructor(W,F,c){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},F),this._name=F.name,this._automaticDataCollectionEnabled=F.automaticDataCollectionEnabled,this._container=c,this.container.Pg(new T.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw sW.create("app-deleted",{appName:this._name})}}const jW="9.23.0";function NW(W){let F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=W;if("object"!==typeof F){F={name:F}}const Y=Object.assign({name:l,automaticDataCollectionEnabled:!1},F),w=Y.name;if("string"!==typeof w||!w)throw sW.create("bad-app-name",{appName:String(w)});if(c||(c=(0,Z.D)()),!c)throw sW.create("no-options");const A=WW.get(w);if(A){if((0,Z.x)(c,A.options)&&(0,Z.x)(Y,A.config))return A;throw sW.create("duplicate-app",{appName:w})}const u=new T.c(w);for(const T of FW.values())u.Pg(T);const s=new xW(c,Y,u);return WW.set(w,s),s}function qW(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const F=WW.get(W);if(!F&&W===l&&(0,Z.D)())return NW();if(!F)throw sW.create("no-app",{appName:W});return F}function yW(){return Array.from(WW.values())}async function iW(W){const F=W.name;WW.has(F)&&(WW.delete(F),await Promise.all(W.container.getProviders().map((W=>W.delete()))),W.isDeleted=!0)}function eW(W,F,c){var Y;let Z=null!==(Y=h[W])&&void 0!==Y?Y:W;c&&(Z+=`-${c}`);const w=Z.match(/\s|\//),A=F.match(/\s|\//);if(w||A){const W=[`Unable to register library "${Z}" with version "${F}":`];return w&&W.push(`library name "${Z}" contains illegal characters (whitespace or "/")`),w&&A&&W.push("and"),A&&W.push(`version name "${F}" contains illegal characters (whitespace or "/")`),void n.warn(W.join(" "))}YW(new T.e(`${Z}-version`,(()=>({library:Z,version:F})),"VERSION"))}function IW(W,F){if(null!==W&&"function"!==typeof W)throw sW.create("invalid-log-argument");(0,Y.m)(W,F)}function EW(W){(0,Y.i)(W)}const OW="firebase-heartbeat-store";let zW=null;function GW(){return zW||(zW=function(W,F){let{blocked:c,upgrade:T,blocking:Y,terminated:Z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const w=indexedDB.open(W,F),A=e(w);return T&&w.addEventListener("upgradeneeded",(W=>{T(e(w.result),W.oldVersion,W.newVersion,e(w.transaction),W)})),c&&w.addEventListener("blocked",(W=>c(W.oldVersion,W.newVersion,W))),A.then((W=>{Z&&W.addEventListener("close",(()=>Z())),Y&&W.addEventListener("versionchange",(W=>Y(W.oldVersion,W.newVersion,W)))})).catch((()=>{})),A}("firebase-heartbeat-database",1,{upgrade:(W,F)=>{if(0===F)W.createObjectStore(OW)}}).catch((W=>{throw sW.create("idb-open",{originalErrorMessage:W.message})}))),zW}async function DW(W,F){try{const c=(await GW()).transaction(OW,"readwrite"),T=c.objectStore(OW);await T.put(F,vW(W)),await c.done}catch(c){if(c instanceof Z.h)n.warn(c.message);else{const W=sW.create("idb-set",{originalErrorMessage:null===c||void 0===c?void 0:c.message});n.warn(W.message)}}}function vW(W){return`${W.name}!${W.options.appId}`}class CW{constructor(W){this.container=W,this._heartbeatsCache=null;const F=this.container.getProvider("app").getImmediate();this.Kd=new XW(F),this._heartbeatsCachePromise=this.Kd.read().then((W=>(this._heartbeatsCache=W,W)))}async triggerHeartbeat(){const W=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),F=nW();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==F&&!this._heartbeatsCache.heartbeats.some((W=>W.date===F)))return this._heartbeatsCache.heartbeats.push({date:F,agent:W}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((W=>{const F=new Date(W.date).valueOf();return Date.now()-F<=2592e6})),this.Kd.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const W=nW(),{heartbeatsToSend:F,unsentEntries:c}=function(W){let F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const c=[];let T=W.slice();for(const Y of W){const W=c.find((W=>W.agent===Y.agent));if(W){if(W.dates.push(Y.date),gW(c)>F){W.dates.pop();break}}else if(c.push({agent:Y.agent,dates:[Y.date]}),gW(c)>F){c.pop();break}T=T.slice(1)}return{heartbeatsToSend:c,unsentEntries:T}}(this._heartbeatsCache.heartbeats),T=(0,Z.n)(JSON.stringify({version:2,heartbeats:F}));return this._heartbeatsCache.lastSentHeartbeatDate=W,c.length>0?(this._heartbeatsCache.heartbeats=c,await this.Kd.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Kd.overwrite(this._heartbeatsCache)),T}}function nW(){return(new Date).toISOString().substring(0,10)}class XW{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Z.Y)()&&(0,Z.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(W){try{const F=await GW();return await F.transaction(OW).objectStore(OW).get(vW(W))}catch(F){if(F instanceof Z.h)n.warn(F.message);else{const W=sW.create("idb-get",{originalErrorMessage:null===F||void 0===F?void 0:F.message});n.warn(W.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(W){var F;if(await this._canUseIndexedDBPromise){const c=await this.read();return DW(this.app,{lastSentHeartbeatDate:null!==(F=W.lastSentHeartbeatDate)&&void 0!==F?F:c.lastSentHeartbeatDate,heartbeats:W.heartbeats})}}async add(W){var F;if(await this._canUseIndexedDBPromise){const c=await this.read();return DW(this.app,{lastSentHeartbeatDate:null!==(F=W.lastSentHeartbeatDate)&&void 0!==F?F:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...W.heartbeats]})}}}function gW(W){return(0,Z.n)(JSON.stringify({version:2,heartbeats:W})).length}var SW;SW="",YW(new T.e("platform-logger",(W=>new D(W)),"PRIVATE")),YW(new T.e("heartbeat",(W=>new CW(W)),"PRIVATE")),eW(v,C,SW),eW(v,C,"esm2017"),eW("fire-js","")},11590:(W,F,c)=>{c.d(F,{c:()=>A,e:()=>Y});var T=c(11599);class Y{constructor(W,F,c){this.name=W,this.instanceFactory=F,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const Z="[DEFAULT]";class w{constructor(W,F){this.name=W,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const F=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(F)){const W=new T.e;if(this.instancesDeferred.set(F,W),this.isInitialized(F)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:F});c&&W.resolve(c)}catch(c){}}return this.instancesDeferred.get(F).promise}getImmediate(W){var F;const c=this.normalizeInstanceIdentifier(null===W||void 0===W?void 0:W.identifier),T=null!==(F=null===W||void 0===W?void 0:W.optional)&&void 0!==F&&F;if(!this.isInitialized(c)&&!this.shouldAutoInitialize()){if(T)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:c})}catch(Y){if(T)return null;throw Y}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function(W){return"EAGER"===W.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(F){}for(const[W,c]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(W);try{const W=this.getOrInitializeService({instanceIdentifier:T});c.resolve(W)}catch(F){}}}}clearInstance(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}async delete(){const W=Array.from(this.instances.values());await Promise.all([...W.filter((W=>"INTERNAL"in W)).map((W=>W.INTERNAL.delete())),...W.filter((W=>"_delete"in W)).map((W=>W._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instances.has(W)}getOptions(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instancesOptions.get(W)||{}}initialize(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:F={}}=W,c=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:c,options:F});for(const[Y,Z]of this.instancesDeferred.entries()){c===this.normalizeInstanceIdentifier(Y)&&Z.resolve(T)}return T}dl(W,F){var c;const T=this.normalizeInstanceIdentifier(F),Y=null!==(c=this.onInitCallbacks.get(T))&&void 0!==c?c:new Set;Y.add(W),this.onInitCallbacks.set(T,Y);const Z=this.instances.get(T);return Z&&W(Z,T),()=>{Y.delete(W)}}invokeOnInitCallbacks(W,F){const c=this.onInitCallbacks.get(F);if(c)for(const Y of c)try{Y(W,F)}catch(T){}}getOrInitializeService(W){let{instanceIdentifier:F,options:c={}}=W,T=this.instances.get(F);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=F,Y===Z?void 0:Y),options:c}),this.instances.set(F,T),this.instancesOptions.set(F,c),this.invokeOnInitCallbacks(T,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,T)}catch(w){}var Y;return T||null}normalizeInstanceIdentifier(){let W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.component?this.component.multipleInstances?W:Z:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(W){this.name=W,this.providers=new Map}Pg(W){const F=this.getProvider(W.name);if(F.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);F.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.Pg(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const F=new w(W,this);return this.providers.set(W,F),F}getProviders(){return Array.from(this.providers.values())}}},11607:(W,F,c)=>{c.d(F,{b:()=>Y,e:()=>s,i:()=>x,m:()=>j});const T=[];var Y;!function(W){W[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT"}(Y||(Y={}));const Z={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},w=Y.INFO,A={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},u=function(W,F){if(F<W.logLevel)return;const c=(new Date).toISOString(),T=A[F];if(!T)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);for(var Y=arguments.length,Z=new Array(Y>2?Y-2:0),w=2;w<Y;w++)Z[w-2]=arguments[w];console[T](`[${c}]  ${W.name}:`,...Z)};class s{constructor(W){this.name=W,this._logLevel=w,this._logHandler=u,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in Y))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"===typeof W?Z[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!==typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(){for(var W=arguments.length,F=new Array(W),c=0;c<W;c++)F[c]=arguments[c];this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...F),this._logHandler(this,Y.DEBUG,...F)}log(){for(var W=arguments.length,F=new Array(W),c=0;c<W;c++)F[c]=arguments[c];this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...F),this._logHandler(this,Y.VERBOSE,...F)}info(){for(var W=arguments.length,F=new Array(W),c=0;c<W;c++)F[c]=arguments[c];this._userLogHandler&&this._userLogHandler(this,Y.INFO,...F),this._logHandler(this,Y.INFO,...F)}warn(){for(var W=arguments.length,F=new Array(W),c=0;c<W;c++)F[c]=arguments[c];this._userLogHandler&&this._userLogHandler(this,Y.WARN,...F),this._logHandler(this,Y.WARN,...F)}error(){for(var W=arguments.length,F=new Array(W),c=0;c<W;c++)F[c]=arguments[c];this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...F),this._logHandler(this,Y.ERROR,...F)}}function x(W){T.forEach((F=>{F.setLogLevel(W)}))}function j(W,F){for(const c of T){let T=null;F&&F.level&&(T=Z[F.level]),c.userLogHandler=null===W?null:function(F,c){for(var Z=arguments.length,w=new Array(Z>2?Z-2:0),A=2;A<Z;A++)w[A-2]=arguments[A];const u=w.map((W=>{if(null==W)return null;if("string"===typeof W)return W;if("number"===typeof W||"boolean"===typeof W)return W.toString();if(W instanceof Error)return W.message;try{return JSON.stringify(W)}catch(F){return null}})).filter((W=>W)).join(" ");c>=(null!==T&&void 0!==T?T:F.logLevel)&&W({level:Y[c].toLowerCase(),message:u,args:w,type:F.name})}}}}}]);