/*! For license information please see qfl834.20.7d189d7c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[20],{11849:(U,M,b)=>{b.d(M,{$:()=>B,A:()=>P,E:()=>x,H:()=>Z,K:()=>N,N:()=>r,R:()=>J,U:()=>Y,V:()=>f,X:()=>L,bb:()=>F,c:()=>C,cb:()=>m,d:()=>h,db:()=>q,e:()=>S,eb:()=>z,g:()=>o,h:()=>y,j:()=>W,m:()=>k,q:()=>E,t:()=>d,w:()=>n});const a=function(U){const M=[];let b=0;for(let a=0;a<U.length;a++){let A=U.charCodeAt(a);A<128?M[b++]=A:A<2048?(M[b++]=A>>6|192,M[b++]=63&A|128):55296===(64512&A)&&a+1<U.length&&56320===(64512&U.charCodeAt(a+1))?(A=65536+((1023&A)<<10)+(1023&U.charCodeAt(++a)),M[b++]=A>>18|240,M[b++]=A>>12&63|128,M[b++]=A>>6&63|128,M[b++]=63&A|128):(M[b++]=A>>12|224,M[b++]=A>>6&63|128,M[b++]=63&A|128)}return M},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(U,M){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let A=0;A<U.length;A+=3){const M=U[A],H=A+1<U.length,W=H?U[A+1]:0,y=A+2<U.length,O=y?U[A+2]:0,e=M>>2,x=(3&M)<<4|W>>4;let P=(15&W)<<2|O>>6,Z=63&O;y||(Z=64,H||(P=64)),a.push(b[e],b[x],b[P],b[Z])}return a.join("")},encodeString(U,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(U):this.encodeByteArray(a(U),M)},decodeString(U,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(U):function(U){const M=[];let b=0,a=0;for(;b<U.length;){const A=U[b++];if(A<128)M[a++]=String.fromCharCode(A);else if(A>191&&A<224){const H=U[b++];M[a++]=String.fromCharCode((31&A)<<6|63&H)}else if(A>239&&A<365){const H=((7&A)<<18|(63&U[b++])<<12|(63&U[b++])<<6|63&U[b++])-65536;M[a++]=String.fromCharCode(55296+(H>>10)),M[a++]=String.fromCharCode(56320+(1023&H))}else{const H=U[b++],W=U[b++];M[a++]=String.fromCharCode((15&A)<<12|(63&H)<<6|63&W)}}return M.join("")}(this.decodeStringToByteArray(U,M))},decodeStringToByteArray(U,M){this.init_();const b=M?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let A=0;A<U.length;){const M=b[U.charAt(A++)],W=A<U.length?b[U.charAt(A)]:0;++A;const y=A<U.length?b[U.charAt(A)]:64;++A;const O=A<U.length?b[U.charAt(A)]:64;if(++A,null==M||null==W||null==y||null==O)throw new H;const e=M<<2|W>>4;if(a.push(e),64!==y){const U=W<<4&240|y>>2;if(a.push(U),64!==O){const U=y<<6&192|O;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(U){return function(U){const M=a(U);return A.encodeByteArray(M,!0)}(U).replace(/\./g,"")},y=function(U){try{return A.decodeString(U,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};const O=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof b.g)return b.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,e=()=>{try{return O()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(b){return}const M=U&&y(U[1]);return M&&JSON.parse(M)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},x=U=>{var M,b;return null===(b=null===(M=e())||void 0===M?void 0:M.emulatorHosts)||void 0===b?void 0:b[U]},P=()=>{var U;return null===(U=e())||void 0===U?void 0:U.config},Z=U=>{var M;return null===(M=e())||void 0===M?void 0:M[`_${U}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((U,M)=>{this.resolve=U,this.reject=M}))}wrapCallback(U){return(M,b)=>{M?this.reject(M):this.resolve(b),"function"===typeof U&&(this.promise.catch((()=>{})),1===U.length?U(M):U(M,b))}}}function r(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function B(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(r())}function J(){const U="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof U&&void 0!==U.id}function F(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){const U=r();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function L(){try{return"object"===typeof indexedDB}catch(U){return!1}}function z(){return new Promise(((U,M)=>{try{let b=!0;const a="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(a);A.onsuccess=()=>{A.result.close(),b||self.indexedDB.deleteDatabase(a),U(!0)},A.onupgradeneeded=()=>{b=!1},A.onerror=()=>{var U;M((null===(U=A.error)||void 0===U?void 0:U.message)||"")}}catch(b){M(b)}}))}function o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(U,M,b){super(M),this.code=U,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(U,M,b){this.service=U,this.serviceName=M,this.errors=b}create(U){const M=(arguments.length<=1?void 0:arguments[1])||{},b=`${this.service}/${U}`,a=this.errors[U],A=a?function(U,M){return U.replace(i,((U,b)=>{const a=M[b];return null!=a?String(a):`<${b}?>`}))}(a,M):"Error",H=`${this.serviceName}: ${A} (${b}).`;return new S(b,H,M)}}const i=/\{\$([^}]+)}/g;function Y(U){for(const M in U)if(Object.prototype.hasOwnProperty.call(U,M))return!1;return!0}function d(U,M){if(U===M)return!0;const b=Object.keys(U),a=Object.keys(M);for(const A of b){if(!a.includes(A))return!1;const b=U[A],H=M[A];if(s(b)&&s(H)){if(!d(b,H))return!1}else if(b!==H)return!1}for(const A of a)if(!b.includes(A))return!1;return!0}function s(U){return null!==U&&"object"===typeof U}function q(U){const M=[];for(const[b,a]of Object.entries(U))Array.isArray(a)?a.forEach((U=>{M.push(encodeURIComponent(b)+"="+encodeURIComponent(U))})):M.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return M.length?"&"+M.join("&"):""}function m(U){const M={};return U.replace(/^\?/,"").split("&").forEach((U=>{if(U){const[b,a]=U.split("=");M[decodeURIComponent(b)]=decodeURIComponent(a)}})),M}function n(U){const M=U.indexOf("?");if(!M)return"";const b=U.indexOf("#",M);return U.substring(M,b>0?b:void 0)}function E(U,M){const b=new X(U,M);return b.subscribe.bind(b)}class X{constructor(U,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then((()=>{U(this)})).catch((U=>{this.error(U)}))}next(U){this.forEachObserver((M=>{M.next(U)}))}error(U){this.forEachObserver((M=>{M.error(U)})),this.close(U)}complete(){this.forEachObserver((U=>{U.complete()})),this.close()}subscribe(U,M,b){let a;if(void 0===U&&void 0===M&&void 0===b)throw new Error("Missing Observer.");a=function(U,M){if("object"!==typeof U||null===U)return!1;for(const b of M)if(b in U&&"function"===typeof U[b])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:M,complete:b},void 0===a.next&&(a.next=Q),void 0===a.error&&(a.error=Q),void 0===a.complete&&(a.complete=Q);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch(U){}})),this.observers.push(a),A}unsubscribeOne(U){void 0!==this.observers&&void 0!==this.observers[U]&&(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,U)}sendOne(U,M){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{M(this.observers[U])}catch(b){"undefined"!==typeof console&&console.error&&console.error(b)}}))}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Q(){}const I=1e3,v=2,t=144e5,V=.5;function k(U){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;const b=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)*Math.pow(M,U),a=Math.round(V*b*(Math.random()-.5)*2);return Math.min(t,b+a)}function N(U){return U&&U._delegate?U._delegate:U}},11839:(U,M,b)=>{b.d(M,{b:()=>H.e,e:()=>PU,i:()=>u,m:()=>bU,q:()=>aU,r:()=>UU,t:()=>yU,x:()=>MU,A:()=>HU,B:()=>AU,C:()=>WU,F:()=>BU,L:()=>CU,H:()=>rU,N:()=>ZU,O:()=>FU,S:()=>JU,U:()=>fU});var a=b(11842),A=b(11854),H=b(11849);let W,y;const O=new WeakMap,e=new WeakMap,x=new WeakMap,P=new WeakMap,Z=new WeakMap;let C={get(U,M,b){if(U instanceof IDBTransaction){if("done"===M)return e.get(U);if("objectStoreNames"===M)return U.objectStoreNames||x.get(U);if("store"===M)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return J(U[M])},set:(U,M,b)=>(U[M]=b,!0),has:(U,M)=>U instanceof IDBTransaction&&("done"===M||"store"===M)||M in U};function r(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y||(y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(U)?function(){for(var M=arguments.length,b=new Array(M),a=0;a<M;a++)b[a]=arguments[a];return U.apply(F(this),b),J(O.get(this))}:function(){for(var M=arguments.length,b=new Array(M),a=0;a<M;a++)b[a]=arguments[a];return J(U.apply(F(this),b))}:function(M){for(var b=arguments.length,a=new Array(b>1?b-1:0),A=1;A<b;A++)a[A-1]=arguments[A];const H=U.call(F(this),M,...a);return x.set(H,M.sort?M.sort():[M]),J(H)}}function B(U){return"function"===typeof U?r(U):(U instanceof IDBTransaction&&function(U){if(e.has(U))return;const M=new Promise(((M,b)=>{const a=()=>{U.removeEventListener("complete",A),U.removeEventListener("error",H),U.removeEventListener("abort",H)},A=()=>{M(),a()},H=()=>{b(U.error||new DOMException("AbortError","AbortError")),a()};U.addEventListener("complete",A),U.addEventListener("error",H),U.addEventListener("abort",H)}));e.set(U,M)}(U),M=U,(W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((U=>M instanceof U))?new Proxy(U,C):U);var M}function J(U){if(U instanceof IDBRequest)return function(U){const M=new Promise(((M,b)=>{const a=()=>{U.removeEventListener("success",A),U.removeEventListener("error",H)},A=()=>{M(J(U.result)),a()},H=()=>{b(U.error),a()};U.addEventListener("success",A),U.addEventListener("error",H)}));return M.then((M=>{M instanceof IDBCursor&&O.set(M,U)})).catch((()=>{})),Z.set(M,U),M}(U);if(P.has(U))return P.get(U);const M=B(U);return M!==U&&(P.set(U,M),Z.set(M,U)),M}const F=U=>Z.get(U);const f=["get","getKey","getAll","getAllKeys","count"],L=["put","add","delete","clear"],z=new Map;function o(U,M){if(!(U instanceof IDBDatabase)||M in U||"string"!==typeof M)return;if(z.get(M))return z.get(M);const b=M.replace(/FromIndex$/,""),a=M!==b,A=L.includes(b);if(!(b in(a?IDBIndex:IDBObjectStore).prototype)||!A&&!f.includes(b))return;const H=async function(U){const M=this.transaction(U,A?"readwrite":"readonly");let H=M.store;for(var W=arguments.length,y=new Array(W>1?W-1:0),O=1;O<W;O++)y[O-1]=arguments[O];return a&&(H=H.index(y.shift())),(await Promise.all([H[b](...y),A&&M.done]))[0]};return z.set(M,H),H}C=(U=>({...U,get:(M,b,a)=>o(M,b)||U.get(M,b,a),has:(M,b)=>!!o(M,b)||U.has(M,b)}))(C);class S{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map((U=>{if(function(U){const M=U.getComponent();return"VERSION"===(null===M||void 0===M?void 0:M.type)}(U)){const M=U.getImmediate();return`${M.library}/${M.version}`}return null})).filter((U=>U)).join(" ")}}const h="@firebase/app",i="0.9.13",Y=new A.c("@firebase/app"),d="@firebase/app-compat",s="@firebase/analytics-compat",q="@firebase/analytics",m="@firebase/app-check-compat",n="@firebase/app-check",E="@firebase/auth",X="@firebase/auth-compat",Q="@firebase/database",I="@firebase/database-compat",v="@firebase/functions",t="@firebase/functions-compat",V="@firebase/installations",k="@firebase/installations-compat",N="@firebase/messaging",R="@firebase/messaging-compat",j="@firebase/performance",p="@firebase/performance-compat",g="@firebase/remote-config",K="@firebase/remote-config-compat",w="@firebase/storage",T="@firebase/storage-compat",G="@firebase/firestore",l="@firebase/firestore-compat",D="firebase",u="[DEFAULT]",c={[h]:"fire-core",[d]:"fire-core-compat",[q]:"fire-analytics",[s]:"fire-analytics-compat",[n]:"fire-app-check",[m]:"fire-app-check-compat",[E]:"fire-auth",[X]:"fire-auth-compat",[Q]:"fire-rtdb",[I]:"fire-rtdb-compat",[v]:"fire-fn",[t]:"fire-fn-compat",[V]:"fire-iid",[k]:"fire-iid-compat",[N]:"fire-fcm",[R]:"fire-fcm-compat",[j]:"fire-perf",[p]:"fire-perf-compat",[g]:"fire-rc",[K]:"fire-rc-compat",[w]:"fire-gcs",[T]:"fire-gcs-compat",[G]:"fire-fst",[l]:"fire-fst-compat","fire-js":"fire-js",[D]:"fire-js-all"},UU=new Map,MU=new Map;function bU(U,M){try{U.container.Ee(M)}catch(b){Y.debug(`Component ${M.name} failed to register with FirebaseApp ${U.name}`,b)}}function aU(U,M){U.container.addOrOverwriteComponent(M)}function AU(U){const M=U.name;if(MU.has(M))return Y.debug(`There were multiple attempts to register component ${M}.`),!1;MU.set(M,U);for(const b of UU.values())bU(b,U);return!0}function HU(U,M){const b=U.container.getProvider("heartbeat").getImmediate({optional:!0});return b&&b.triggerHeartbeat(),U.container.getProvider(M)}function WU(U,M){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;HU(U,M).clearInstance(b)}function yU(){MU.clear()}const OU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},eU=new H.d("app","Firebase",OU);class xU{constructor(U,M,b){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},M),this._name=M.name,this._automaticDataCollectionEnabled=M.automaticDataCollectionEnabled,this._container=b,this.container.Ee(new a.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw eU.create("app-deleted",{appName:this._name})}}const PU="9.23.0";function ZU(U){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=U;if("object"!==typeof M){M={name:M}}const A=Object.assign({name:u,automaticDataCollectionEnabled:!1},M),W=A.name;if("string"!==typeof W||!W)throw eU.create("bad-app-name",{appName:String(W)});if(b||(b=(0,H.A)()),!b)throw eU.create("no-options");const y=UU.get(W);if(y){if((0,H.t)(b,y.options)&&(0,H.t)(A,y.config))return y;throw eU.create("duplicate-app",{appName:W})}const O=new a.b(W);for(const a of MU.values())O.Ee(a);const e=new xU(b,A,O);return UU.set(W,e),e}function CU(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const M=UU.get(U);if(!M&&U===u&&(0,H.A)())return ZU();if(!M)throw eU.create("no-app",{appName:U});return M}function rU(){return Array.from(UU.values())}async function BU(U){const M=U.name;UU.has(M)&&(UU.delete(M),await Promise.all(U.container.getProviders().map((U=>U.delete()))),U.isDeleted=!0)}function JU(U,M,b){var A;let H=null!==(A=c[U])&&void 0!==A?A:U;b&&(H+=`-${b}`);const W=H.match(/\s|\//),y=M.match(/\s|\//);if(W||y){const U=[`Unable to register library "${H}" with version "${M}":`];return W&&U.push(`library name "${H}" contains illegal characters (whitespace or "/")`),W&&y&&U.push("and"),y&&U.push(`version name "${M}" contains illegal characters (whitespace or "/")`),void Y.warn(U.join(" "))}AU(new a.d(`${H}-version`,(()=>({library:H,version:M})),"VERSION"))}function FU(U,M){if(null!==U&&"function"!==typeof U)throw eU.create("invalid-log-argument");(0,A.i)(U,M)}function fU(U){(0,A.f)(U)}const LU="firebase-heartbeat-store";let zU=null;function oU(){return zU||(zU=function(U,M){let{blocked:b,upgrade:a,blocking:A,terminated:H}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const W=indexedDB.open(U,M),y=J(W);return a&&W.addEventListener("upgradeneeded",(U=>{a(J(W.result),U.oldVersion,U.newVersion,J(W.transaction),U)})),b&&W.addEventListener("blocked",(U=>b(U.oldVersion,U.newVersion,U))),y.then((U=>{H&&U.addEventListener("close",(()=>H())),A&&U.addEventListener("versionchange",(U=>A(U.oldVersion,U.newVersion,U)))})).catch((()=>{})),y}("firebase-heartbeat-database",1,{upgrade:(U,M)=>{if(0===M)U.createObjectStore(LU)}}).catch((U=>{throw eU.create("idb-open",{originalErrorMessage:U.message})}))),zU}async function SU(U,M){try{const b=(await oU()).transaction(LU,"readwrite"),a=b.objectStore(LU);await a.put(M,hU(U)),await b.done}catch(b){if(b instanceof H.e)Y.warn(b.message);else{const U=eU.create("idb-set",{originalErrorMessage:null===b||void 0===b?void 0:b.message});Y.warn(U.message)}}}function hU(U){return`${U.name}!${U.options.appId}`}class iU{constructor(U){this.container=U,this._heartbeatsCache=null;const M=this.container.getProvider("app").getImmediate();this.Be=new dU(M),this._heartbeatsCachePromise=this.Be.read().then((U=>(this._heartbeatsCache=U,U)))}async triggerHeartbeat(){const U=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=YU();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==M&&!this._heartbeatsCache.heartbeats.some((U=>U.date===M)))return this._heartbeatsCache.heartbeats.push({date:M,agent:U}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((U=>{const M=new Date(U.date).valueOf();return Date.now()-M<=2592e6})),this.Be.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const U=YU(),{heartbeatsToSend:M,unsentEntries:b}=function(U){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const b=[];let a=U.slice();for(const A of U){const U=b.find((U=>U.agent===A.agent));if(U){if(U.dates.push(A.date),sU(b)>M){U.dates.pop();break}}else if(b.push({agent:A.agent,dates:[A.date]}),sU(b)>M){b.pop();break}a=a.slice(1)}return{heartbeatsToSend:b,unsentEntries:a}}(this._heartbeatsCache.heartbeats),a=(0,H.j)(JSON.stringify({version:2,heartbeats:M}));return this._heartbeatsCache.lastSentHeartbeatDate=U,b.length>0?(this._heartbeatsCache.heartbeats=b,await this.Be.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Be.overwrite(this._heartbeatsCache)),a}}function YU(){return(new Date).toISOString().substring(0,10)}class dU{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,H.X)()&&(0,H.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(U){try{const M=await oU();return await M.transaction(LU).objectStore(LU).get(hU(U))}catch(M){if(M instanceof H.e)Y.warn(M.message);else{const U=eU.create("idb-get",{originalErrorMessage:null===M||void 0===M?void 0:M.message});Y.warn(U.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(U){var M;if(await this._canUseIndexedDBPromise){const b=await this.read();return SU(this.app,{lastSentHeartbeatDate:null!==(M=U.lastSentHeartbeatDate)&&void 0!==M?M:b.lastSentHeartbeatDate,heartbeats:U.heartbeats})}}async add(U){var M;if(await this._canUseIndexedDBPromise){const b=await this.read();return SU(this.app,{lastSentHeartbeatDate:null!==(M=U.lastSentHeartbeatDate)&&void 0!==M?M:b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...U.heartbeats]})}}}function sU(U){return(0,H.j)(JSON.stringify({version:2,heartbeats:U})).length}var qU;qU="",AU(new a.d("platform-logger",(U=>new S(U)),"PRIVATE")),AU(new a.d("heartbeat",(U=>new iU(U)),"PRIVATE")),JU(h,i,qU),JU(h,i,"esm2017"),JU("fire-js","")},11842:(U,M,b)=>{b.d(M,{b:()=>y,d:()=>A});var a=b(11849);class A{constructor(U,M,b){this.name=U,this.instanceFactory=M,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const H="[DEFAULT]";class W{constructor(U,M){this.name=U,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const M=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(M)){const U=new a.c;if(this.instancesDeferred.set(M,U),this.isInitialized(M)||this.shouldAutoInitialize())try{const b=this.getOrInitializeService({instanceIdentifier:M});b&&U.resolve(b)}catch(b){}}return this.instancesDeferred.get(M).promise}getImmediate(U){var M;const b=this.normalizeInstanceIdentifier(null===U||void 0===U?void 0:U.identifier),a=null!==(M=null===U||void 0===U?void 0:U.optional)&&void 0!==M&&M;if(!this.isInitialized(b)&&!this.shouldAutoInitialize()){if(a)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:b})}catch(A){if(a)return null;throw A}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function(U){return"EAGER"===U.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:H})}catch(M){}for(const[U,b]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(U);try{const U=this.getOrInitializeService({instanceIdentifier:a});b.resolve(U)}catch(M){}}}}clearInstance(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}async delete(){const U=Array.from(this.instances.values());await Promise.all([...U.filter((U=>"INTERNAL"in U)).map((U=>U.INTERNAL.delete())),...U.filter((U=>"_delete"in U)).map((U=>U._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(U)}getOptions(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(U)||{}}initialize(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:M={}}=U,b=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:b,options:M});for(const[A,H]of this.instancesDeferred.entries()){b===this.normalizeInstanceIdentifier(A)&&H.resolve(a)}return a}kl(U,M){var b;const a=this.normalizeInstanceIdentifier(M),A=null!==(b=this.onInitCallbacks.get(a))&&void 0!==b?b:new Set;A.add(U),this.onInitCallbacks.set(a,A);const H=this.instances.get(a);return H&&U(H,a),()=>{A.delete(U)}}invokeOnInitCallbacks(U,M){const b=this.onInitCallbacks.get(M);if(b)for(const A of b)try{A(U,M)}catch(a){}}getOrInitializeService(U){let{instanceIdentifier:M,options:b={}}=U,a=this.instances.get(M);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(A=M,A===H?void 0:A),options:b}),this.instances.set(M,a),this.instancesOptions.set(M,b),this.invokeOnInitCallbacks(a,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,a)}catch(W){}var A;return a||null}normalizeInstanceIdentifier(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?U:H:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y{constructor(U){this.name=U,this.providers=new Map}Ee(U){const M=this.getProvider(U.name);if(M.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);M.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.Ee(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const M=new W(U,this);return this.providers.set(U,M),M}getProviders(){return Array.from(this.providers.values())}}},11854:(U,M,b)=>{b.d(M,{b:()=>A,c:()=>e,f:()=>x,i:()=>P});const a=[];var A;!function(U){U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT"}(A||(A={}));const H={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},W=A.INFO,y={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},O=function(U,M){if(M<U.logLevel)return;const b=(new Date).toISOString(),a=y[M];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);for(var A=arguments.length,H=new Array(A>2?A-2:0),W=2;W<A;W++)H[W-2]=arguments[W];console[a](`[${b}]  ${U.name}:`,...H)};class e{constructor(U){this.name=U,this._logLevel=W,this._logHandler=O,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in A))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"===typeof U?H[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!==typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(){for(var U=arguments.length,M=new Array(U),b=0;b<U;b++)M[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...M),this._logHandler(this,A.DEBUG,...M)}log(){for(var U=arguments.length,M=new Array(U),b=0;b<U;b++)M[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...M),this._logHandler(this,A.VERBOSE,...M)}info(){for(var U=arguments.length,M=new Array(U),b=0;b<U;b++)M[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,A.INFO,...M),this._logHandler(this,A.INFO,...M)}warn(){for(var U=arguments.length,M=new Array(U),b=0;b<U;b++)M[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,A.WARN,...M),this._logHandler(this,A.WARN,...M)}error(){for(var U=arguments.length,M=new Array(U),b=0;b<U;b++)M[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...M),this._logHandler(this,A.ERROR,...M)}}function x(U){a.forEach((M=>{M.setLogLevel(U)}))}function P(U,M){for(const b of a){let a=null;M&&M.level&&(a=H[M.level]),b.userLogHandler=null===U?null:function(M,b){for(var H=arguments.length,W=new Array(H>2?H-2:0),y=2;y<H;y++)W[y-2]=arguments[y];const O=W.map((U=>{if(null==U)return null;if("string"===typeof U)return U;if("number"===typeof U||"boolean"===typeof U)return U.toString();if(U instanceof Error)return U.message;try{return JSON.stringify(U)}catch(M){return null}})).filter((U=>U)).join(" ");b>=(null!==a&&void 0!==a?a:M.logLevel)&&U({level:A[b].toLowerCase(),message:O,args:W,type:M.name})}}}}}]);