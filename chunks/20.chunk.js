/*! For license information please see v12e8b.20.085fbbaf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[20],{11744:(A,X,s)=>{s.d(X,{A:()=>Y,E:()=>c,I:()=>L,K:()=>d,L:()=>w,M:()=>y,Q:()=>C,T:()=>J,W:()=>Q,X:()=>R,Y:()=>D,ab:()=>V,c:()=>M,cb:()=>a,d:()=>m,g:()=>z,j:()=>u,m:()=>K,o:()=>g,p:()=>I,t:()=>P,v:()=>j,y:()=>O,z:()=>v});const N=function(A){const X=[];let s=0;for(let N=0;N<A.length;N++){let f=A.charCodeAt(N);f<128?X[s++]=f:f<2048?(X[s++]=f>>6|192,X[s++]=63&f|128):55296===(64512&f)&&N+1<A.length&&56320===(64512&A.charCodeAt(N+1))?(f=65536+((1023&f)<<10)+(1023&A.charCodeAt(++N)),X[s++]=f>>18|240,X[s++]=f>>12&63|128,X[s++]=f>>6&63|128,X[s++]=63&f|128):(X[s++]=f>>12|224,X[s++]=f>>6&63|128,X[s++]=63&f|128)}return X},f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(A,X){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let f=0;f<A.length;f+=3){const X=A[f],E=f+1<A.length,g=E?A[f+1]:0,K=f+2<A.length,r=K?A[f+2]:0,i=X>>2,Y=(3&X)<<4|g>>4;let v=(15&g)<<2|r>>6,c=63&r;K||(c=64,E||(v=64)),N.push(s[i],s[Y],s[v],s[c])}return N.join("")},encodeString(A,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(A):this.encodeByteArray(N(A),X)},decodeString(A,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(A):function(A){const X=[];let s=0,N=0;for(;s<A.length;){const f=A[s++];if(f<128)X[N++]=String.fromCharCode(f);else if(f>191&&f<224){const E=A[s++];X[N++]=String.fromCharCode((31&f)<<6|63&E)}else if(f>239&&f<365){const E=((7&f)<<18|(63&A[s++])<<12|(63&A[s++])<<6|63&A[s++])-65536;X[N++]=String.fromCharCode(55296+(E>>10)),X[N++]=String.fromCharCode(56320+(1023&E))}else{const E=A[s++],g=A[s++];X[N++]=String.fromCharCode((15&f)<<12|(63&E)<<6|63&g)}}return X.join("")}(this.decodeStringToByteArray(A,X))},decodeStringToByteArray(A,X){this.init_();const s=X?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let f=0;f<A.length;){const X=s[A.charAt(f++)],g=f<A.length?s[A.charAt(f)]:0;++f;const K=f<A.length?s[A.charAt(f)]:64;++f;const r=f<A.length?s[A.charAt(f)]:64;if(++f,null==X||null==g||null==K||null==r)throw new E;const i=X<<2|g>>4;if(N.push(i),64!==K){const A=g<<4&240|K>>2;if(N.push(A),64!==r){const A=K<<6&192|r;N.push(A)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(A){return function(A){const X=N(A);return f.encodeByteArray(X,!0)}(A).replace(/\./g,"")},K=function(A){try{return f.decodeString(A,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};const r=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s.g)return s.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,i=()=>{try{return r()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const X=A&&K(A[1]);return X&&JSON.parse(X)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},Y=A=>{var X,s;return null===(s=null===(X=i())||void 0===X?void 0:X.emulatorHosts)||void 0===s?void 0:s[A]},v=()=>{var A;return null===(A=i())||void 0===A?void 0:A.config},c=A=>{var X;return null===(X=i())||void 0===X?void 0:X[`_${A}`]};class M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((A,X)=>{this.resolve=A,this.reject=X}))}wrapCallback(A){return(X,s)=>{X?this.reject(X):this.resolve(s),"function"===typeof A&&(this.promise.catch((()=>{})),1===A.length?A(X):A(X,s))}}}function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function w(){const A="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof A&&void 0!==A.id}function R(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const A=d();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function J(){try{return"object"===typeof indexedDB}catch(A){return!1}}function a(){return new Promise(((A,X)=>{try{let s=!0;const N="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(N);f.onsuccess=()=>{f.result.close(),s||self.indexedDB.deleteDatabase(N),A(!0)},f.onupgradeneeded=()=>{s=!1},f.onerror=()=>{var A;X((null===(A=f.error)||void 0===A?void 0:A.message)||"")}}catch(s){X(s)}}))}function u(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class z extends Error{constructor(A,X,s){super(X),this.code=A,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(A,X,s){this.service=A,this.serviceName=X,this.errors=s}create(A){const X=(arguments.length<=1?void 0:arguments[1])||{},s=`${this.service}/${A}`,N=this.errors[A],f=N?function(A,X){return A.replace(b,((A,s)=>{const N=X[s];return null!=N?String(N):`<${s}?>`}))}(N,X):"Error",E=`${this.serviceName}: ${f} (${s}).`;return new z(s,E,X)}}const b=/\{\$([^}]+)}/g;function y(A){for(const X in A)if(Object.prototype.hasOwnProperty.call(A,X))return!1;return!0}function j(A,X){if(A===X)return!0;const s=Object.keys(A),N=Object.keys(X);for(const f of s){if(!N.includes(f))return!1;const s=A[f],E=X[f];if(G(s)&&G(E)){if(!j(s,E))return!1}else if(s!==E)return!1}for(const f of N)if(!s.includes(f))return!1;return!0}function G(A){return null!==A&&"object"===typeof A}function V(A){const X=[];for(const[s,N]of Object.entries(A))Array.isArray(N)?N.forEach((A=>{X.push(encodeURIComponent(s)+"="+encodeURIComponent(A))})):X.push(encodeURIComponent(s)+"="+encodeURIComponent(N));return X.length?"&"+X.join("&"):""}function D(A){const X={};return A.replace(/^\?/,"").split("&").forEach((A=>{if(A){const[s,N]=A.split("=");X[decodeURIComponent(s)]=decodeURIComponent(N)}})),X}function O(A){const X=A.indexOf("?");if(!X)return"";const s=A.indexOf("#",X);return A.substring(X,s>0?s:void 0)}function P(A,X){const s=new l(A,X);return s.subscribe.bind(s)}class l{constructor(A,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then((()=>{A(this)})).catch((A=>{this.error(A)}))}next(A){this.forEachObserver((X=>{X.next(A)}))}error(A){this.forEachObserver((X=>{X.error(A)})),this.close(A)}complete(){this.forEachObserver((A=>{A.complete()})),this.close()}subscribe(A,X,s){let N;if(void 0===A&&void 0===X&&void 0===s)throw new Error("Missing Observer.");N=function(A,X){if("object"!==typeof A||null===A)return!1;for(const s of X)if(s in A&&"function"===typeof A[s])return!0;return!1}(A,["next","error","complete"])?A:{next:A,error:X,complete:s},void 0===N.next&&(N.next=n),void 0===N.error&&(N.error=n),void 0===N.complete&&(N.complete=n);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(A){}})),this.observers.push(N),f}unsubscribeOne(A){void 0!==this.observers&&void 0!==this.observers[A]&&(delete this.observers[A],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,A)}sendOne(A,X){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[A])try{X(this.observers[A])}catch(s){"undefined"!==typeof console&&console.error&&console.error(s)}}))}close(A){this.finalized||(this.finalized=!0,void 0!==A&&(this.finalError=A),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function n(){}const U=1e3,t=2,e=144e5,T=.5;function I(A){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;const s=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:U)*Math.pow(X,A),N=Math.round(T*s*(Math.random()-.5)*2);return Math.min(e,s+N)}function L(A){return A&&A._delegate?A._delegate:A}},11731:(A,X,s)=>{s.d(X,{c:()=>E.g,f:()=>vA,h:()=>W,j:()=>sA,m:()=>NA,o:()=>AA,s:()=>KA,w:()=>XA,y:()=>EA,z:()=>fA,C:()=>gA,F:()=>QA,N:()=>MA,J:()=>dA,Q:()=>cA,T:()=>RA,V:()=>wA,Y:()=>CA});var N=s(11737),f=s(11748),E=s(11744);let g,K;const r=new WeakMap,i=new WeakMap,Y=new WeakMap,v=new WeakMap,c=new WeakMap;let M={get(A,X,s){if(A instanceof IDBTransaction){if("done"===X)return i.get(A);if("objectStoreNames"===X)return A.objectStoreNames||Y.get(A);if("store"===X)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return w(A[X])},set:(A,X,s)=>(A[X]=s,!0),has:(A,X)=>A instanceof IDBTransaction&&("done"===X||"store"===X)||X in A};function d(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(A)?function(){for(var X=arguments.length,s=new Array(X),N=0;N<X;N++)s[N]=arguments[N];return A.apply(R(this),s),w(r.get(this))}:function(){for(var X=arguments.length,s=new Array(X),N=0;N<X;N++)s[N]=arguments[N];return w(A.apply(R(this),s))}:function(X){for(var s=arguments.length,N=new Array(s>1?s-1:0),f=1;f<s;f++)N[f-1]=arguments[f];const E=A.call(R(this),X,...N);return Y.set(E,X.sort?X.sort():[X]),w(E)}}function Q(A){return"function"===typeof A?d(A):(A instanceof IDBTransaction&&function(A){if(i.has(A))return;const X=new Promise(((X,s)=>{const N=()=>{A.removeEventListener("complete",f),A.removeEventListener("error",E),A.removeEventListener("abort",E)},f=()=>{X(),N()},E=()=>{s(A.error||new DOMException("AbortError","AbortError")),N()};A.addEventListener("complete",f),A.addEventListener("error",E),A.addEventListener("abort",E)}));i.set(A,X)}(A),X=A,(g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((A=>X instanceof A))?new Proxy(A,M):A);var X}function w(A){if(A instanceof IDBRequest)return function(A){const X=new Promise(((X,s)=>{const N=()=>{A.removeEventListener("success",f),A.removeEventListener("error",E)},f=()=>{X(w(A.result)),N()},E=()=>{s(A.error),N()};A.addEventListener("success",f),A.addEventListener("error",E)}));return X.then((X=>{X instanceof IDBCursor&&r.set(X,A)})).catch((()=>{})),c.set(X,A),X}(A);if(v.has(A))return v.get(A);const X=Q(A);return X!==A&&(v.set(A,X),c.set(X,A)),X}const R=A=>c.get(A);const C=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],a=new Map;function u(A,X){if(!(A instanceof IDBDatabase)||X in A||"string"!==typeof X)return;if(a.get(X))return a.get(X);const s=X.replace(/FromIndex$/,""),N=X!==s,f=J.includes(s);if(!(s in(N?IDBIndex:IDBObjectStore).prototype)||!f&&!C.includes(s))return;const E=async function(A){const X=this.transaction(A,f?"readwrite":"readonly");let E=X.store;for(var g=arguments.length,K=new Array(g>1?g-1:0),r=1;r<g;r++)K[r-1]=arguments[r];return N&&(E=E.index(K.shift())),(await Promise.all([E[s](...K),f&&X.done]))[0]};return a.set(X,E),E}M=(A=>({...A,get:(X,s,N)=>u(X,s)||A.get(X,s,N),has:(X,s)=>!!u(X,s)||A.has(X,s)}))(M);class z{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map((A=>{if(function(A){const X=A.getComponent();return"VERSION"===(null===X||void 0===X?void 0:X.type)}(A)){const X=A.getImmediate();return`${X.library}/${X.version}`}return null})).filter((A=>A)).join(" ")}}const m="@firebase/app",b="0.9.13",y=new f.i("@firebase/app"),j="@firebase/app-compat",G="@firebase/analytics-compat",V="@firebase/analytics",D="@firebase/app-check-compat",O="@firebase/app-check",P="@firebase/auth",l="@firebase/auth-compat",n="@firebase/database",U="@firebase/database-compat",t="@firebase/functions",e="@firebase/functions-compat",T="@firebase/installations",I="@firebase/installations-compat",L="@firebase/messaging",k="@firebase/messaging-compat",x="@firebase/performance",H="@firebase/performance-compat",F="@firebase/remote-config",q="@firebase/remote-config-compat",S="@firebase/storage",p="@firebase/storage-compat",B="@firebase/firestore",Z="@firebase/firestore-compat",o="firebase",W="[DEFAULT]",h={[m]:"fire-core",[j]:"fire-core-compat",[V]:"fire-analytics",[G]:"fire-analytics-compat",[O]:"fire-app-check",[D]:"fire-app-check-compat",[P]:"fire-auth",[l]:"fire-auth-compat",[n]:"fire-rtdb",[U]:"fire-rtdb-compat",[t]:"fire-fn",[e]:"fire-fn-compat",[T]:"fire-iid",[I]:"fire-iid-compat",[L]:"fire-fcm",[k]:"fire-fcm-compat",[x]:"fire-perf",[H]:"fire-perf-compat",[F]:"fire-rc",[q]:"fire-rc-compat",[S]:"fire-gcs",[p]:"fire-gcs-compat",[B]:"fire-fst",[Z]:"fire-fst-compat","fire-js":"fire-js",[o]:"fire-js-all"},AA=new Map,XA=new Map;function sA(A,X){try{A.container.fh(X)}catch(s){y.debug(`Component ${X.name} failed to register with FirebaseApp ${A.name}`,s)}}function NA(A,X){A.container.addOrOverwriteComponent(X)}function fA(A){const X=A.name;if(XA.has(X))return y.debug(`There were multiple attempts to register component ${X}.`),!1;XA.set(X,A);for(const s of AA.values())sA(s,A);return!0}function EA(A,X){const s=A.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),A.container.getProvider(X)}function gA(A,X){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;EA(A,X).clearInstance(s)}function KA(){XA.clear()}const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},iA=new E.d("app","Firebase",rA);class YA{constructor(A,X,s){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=s,this.container.fh(new N.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw iA.create("app-deleted",{appName:this._name})}}const vA="9.23.0";function cA(A){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=A;if("object"!==typeof X){X={name:X}}const f=Object.assign({name:W,automaticDataCollectionEnabled:!1},X),g=f.name;if("string"!==typeof g||!g)throw iA.create("bad-app-name",{appName:String(g)});if(s||(s=(0,E.z)()),!s)throw iA.create("no-options");const K=AA.get(g);if(K){if((0,E.v)(s,K.options)&&(0,E.v)(f,K.config))return K;throw iA.create("duplicate-app",{appName:g})}const r=new N.e(g);for(const N of XA.values())r.fh(N);const i=new YA(s,f,r);return AA.set(g,i),i}function MA(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;const X=AA.get(A);if(!X&&A===W&&(0,E.z)())return cA();if(!X)throw iA.create("no-app",{appName:A});return X}function dA(){return Array.from(AA.values())}async function QA(A){const X=A.name;AA.has(X)&&(AA.delete(X),await Promise.all(A.container.getProviders().map((A=>A.delete()))),A.isDeleted=!0)}function wA(A,X,s){var f;let E=null!==(f=h[A])&&void 0!==f?f:A;s&&(E+=`-${s}`);const g=E.match(/\s|\//),K=X.match(/\s|\//);if(g||K){const A=[`Unable to register library "${E}" with version "${X}":`];return g&&A.push(`library name "${E}" contains illegal characters (whitespace or "/")`),g&&K&&A.push("and"),K&&A.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void y.warn(A.join(" "))}fA(new N.f(`${E}-version`,(()=>({library:E,version:X})),"VERSION"))}function RA(A,X){if(null!==A&&"function"!==typeof A)throw iA.create("invalid-log-argument");(0,f.l)(A,X)}function CA(A){(0,f.j)(A)}const JA="firebase-heartbeat-store";let aA=null;function uA(){return aA||(aA=function(A,X){let{blocked:s,upgrade:N,blocking:f,terminated:E}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(A,X),K=w(g);return N&&g.addEventListener("upgradeneeded",(A=>{N(w(g.result),A.oldVersion,A.newVersion,w(g.transaction),A)})),s&&g.addEventListener("blocked",(A=>s(A.oldVersion,A.newVersion,A))),K.then((A=>{E&&A.addEventListener("close",(()=>E())),f&&A.addEventListener("versionchange",(A=>f(A.oldVersion,A.newVersion,A)))})).catch((()=>{})),K}("firebase-heartbeat-database",1,{upgrade:(A,X)=>{if(0===X)A.createObjectStore(JA)}}).catch((A=>{throw iA.create("idb-open",{originalErrorMessage:A.message})}))),aA}async function zA(A,X){try{const s=(await uA()).transaction(JA,"readwrite"),N=s.objectStore(JA);await N.put(X,mA(A)),await s.done}catch(s){if(s instanceof E.g)y.warn(s.message);else{const A=iA.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message});y.warn(A.message)}}}function mA(A){return`${A.name}!${A.options.appId}`}class bA{constructor(A){this.container=A,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this.Xd=new jA(X),this._heartbeatsCachePromise=this.Xd.read().then((A=>(this._heartbeatsCache=A,A)))}async triggerHeartbeat(){const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=yA();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==X&&!this._heartbeatsCache.heartbeats.some((A=>A.date===X)))return this._heartbeatsCache.heartbeats.push({date:X,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((A=>{const X=new Date(A.date).valueOf();return Date.now()-X<=2592e6})),this.Xd.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const A=yA(),{heartbeatsToSend:X,unsentEntries:s}=function(A){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const s=[];let N=A.slice();for(const f of A){const A=s.find((A=>A.agent===f.agent));if(A){if(A.dates.push(f.date),GA(s)>X){A.dates.pop();break}}else if(s.push({agent:f.agent,dates:[f.date]}),GA(s)>X){s.pop();break}N=N.slice(1)}return{heartbeatsToSend:s,unsentEntries:N}}(this._heartbeatsCache.heartbeats),N=(0,E.o)(JSON.stringify({version:2,heartbeats:X}));return this._heartbeatsCache.lastSentHeartbeatDate=A,s.length>0?(this._heartbeatsCache.heartbeats=s,await this.Xd.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Xd.overwrite(this._heartbeatsCache)),N}}function yA(){return(new Date).toISOString().substring(0,10)}class jA{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,E.T)()&&(0,E.cb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(A){try{const X=await uA();return await X.transaction(JA).objectStore(JA).get(mA(A))}catch(X){if(X instanceof E.g)y.warn(X.message);else{const A=iA.create("idb-get",{originalErrorMessage:null===X||void 0===X?void 0:X.message});y.warn(A.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(A){var X;if(await this._canUseIndexedDBPromise){const s=await this.read();return zA(this.app,{lastSentHeartbeatDate:null!==(X=A.lastSentHeartbeatDate)&&void 0!==X?X:s.lastSentHeartbeatDate,heartbeats:A.heartbeats})}}async add(A){var X;if(await this._canUseIndexedDBPromise){const s=await this.read();return zA(this.app,{lastSentHeartbeatDate:null!==(X=A.lastSentHeartbeatDate)&&void 0!==X?X:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...A.heartbeats]})}}}function GA(A){return(0,E.o)(JSON.stringify({version:2,heartbeats:A})).length}var VA;VA="",fA(new N.f("platform-logger",(A=>new z(A)),"PRIVATE")),fA(new N.f("heartbeat",(A=>new bA(A)),"PRIVATE")),wA(m,b,VA),wA(m,b,"esm2017"),wA("fire-js","")},11737:(A,X,s)=>{s.d(X,{e:()=>K,f:()=>f});var N=s(11744);class f{constructor(A,X,s){this.name=A,this.instanceFactory=X,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}const E="[DEFAULT]";class g{constructor(A,X){this.name=A,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const X=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(X)){const A=new N.c;if(this.instancesDeferred.set(X,A),this.isInitialized(X)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:X});s&&A.resolve(s)}catch(s){}}return this.instancesDeferred.get(X).promise}getImmediate(A){var X;const s=this.normalizeInstanceIdentifier(null===A||void 0===A?void 0:A.identifier),N=null!==(X=null===A||void 0===A?void 0:A.optional)&&void 0!==X&&X;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(N)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(f){if(N)return null;throw f}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,this.shouldAutoInitialize()){if(function(A){return"EAGER"===A.instantiationMode}(A))try{this.getOrInitializeService({instanceIdentifier:E})}catch(X){}for(const[A,s]of this.instancesDeferred.entries()){const N=this.normalizeInstanceIdentifier(A);try{const A=this.getOrInitializeService({instanceIdentifier:N});s.resolve(A)}catch(X){}}}}clearInstance(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter((A=>"INTERNAL"in A)).map((A=>A.INTERNAL.delete())),...A.filter((A=>"_delete"in A)).map((A=>A._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instances.has(A)}getOptions(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instancesOptions.get(A)||{}}initialize(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:X={}}=A,s=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const N=this.getOrInitializeService({instanceIdentifier:s,options:X});for(const[f,E]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(f)&&E.resolve(N)}return N}bl(A,X){var s;const N=this.normalizeInstanceIdentifier(X),f=null!==(s=this.onInitCallbacks.get(N))&&void 0!==s?s:new Set;f.add(A),this.onInitCallbacks.set(N,f);const E=this.instances.get(N);return E&&A(E,N),()=>{f.delete(A)}}invokeOnInitCallbacks(A,X){const s=this.onInitCallbacks.get(X);if(s)for(const f of s)try{f(A,X)}catch(N){}}getOrInitializeService(A){let{instanceIdentifier:X,options:s={}}=A,N=this.instances.get(X);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(f=X,f===E?void 0:f),options:s}),this.instances.set(X,N),this.instancesOptions.set(X,s),this.invokeOnInitCallbacks(N,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,N)}catch(g){}var f;return N||null}normalizeInstanceIdentifier(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.component?this.component.multipleInstances?A:E:A}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(A){this.name=A,this.providers=new Map}fh(A){const X=this.getProvider(A.name);if(X.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);X.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.fh(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const X=new g(A,this);return this.providers.set(A,X),X}getProviders(){return Array.from(this.providers.values())}}},11748:(A,X,s)=>{s.d(X,{e:()=>f,i:()=>i,j:()=>Y,l:()=>v});const N=[];var f;!function(A){A[A.DEBUG=0]="DEBUG",A[A.VERBOSE=1]="VERBOSE",A[A.INFO=2]="INFO",A[A.WARN=3]="WARN",A[A.ERROR=4]="ERROR",A[A.SILENT=5]="SILENT"}(f||(f={}));const E={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},g=f.INFO,K={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},r=function(A,X){if(X<A.logLevel)return;const s=(new Date).toISOString(),N=K[X];if(!N)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);for(var f=arguments.length,E=new Array(f>2?f-2:0),g=2;g<f;g++)E[g-2]=arguments[g];console[N](`[${s}]  ${A.name}:`,...E)};class i{constructor(A){this.name=A,this._logLevel=g,this._logHandler=r,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in f))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"===typeof A?E[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!==typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(){for(var A=arguments.length,X=new Array(A),s=0;s<A;s++)X[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...X),this._logHandler(this,f.DEBUG,...X)}log(){for(var A=arguments.length,X=new Array(A),s=0;s<A;s++)X[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...X),this._logHandler(this,f.VERBOSE,...X)}info(){for(var A=arguments.length,X=new Array(A),s=0;s<A;s++)X[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,f.INFO,...X),this._logHandler(this,f.INFO,...X)}warn(){for(var A=arguments.length,X=new Array(A),s=0;s<A;s++)X[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,f.WARN,...X),this._logHandler(this,f.WARN,...X)}error(){for(var A=arguments.length,X=new Array(A),s=0;s<A;s++)X[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,f.ERROR,...X),this._logHandler(this,f.ERROR,...X)}}function Y(A){N.forEach((X=>{X.setLogLevel(A)}))}function v(A,X){for(const s of N){let N=null;X&&X.level&&(N=E[X.level]),s.userLogHandler=null===A?null:function(X,s){for(var E=arguments.length,g=new Array(E>2?E-2:0),K=2;K<E;K++)g[K-2]=arguments[K];const r=g.map((A=>{if(null==A)return null;if("string"===typeof A)return A;if("number"===typeof A||"boolean"===typeof A)return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch(X){return null}})).filter((A=>A)).join(" ");s>=(null!==N&&void 0!==N?N:X.logLevel)&&A({level:f[s].toLowerCase(),message:r,args:g,type:X.name})}}}}}]);