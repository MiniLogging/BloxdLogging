"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[104],{15814:(z,u,U)=>{U.r(u),U.d(u,{FlowGraphMultiGateBlock:()=>w});var J=U(12875),v=U(14211),f=U(14196),g=U(14192);class w extends v.d{constructor(z){super(z),this.config=z,this.outputSignals=[],this.reset=this._registerSignalInput("reset"),this.lastIndex=this.registerDataOutput("lastIndex",f.l,new g.e(-1)),this.setNumberOfOutputSignals(null===z||void 0===z?void 0:z.outputSignalCount)}_getNextIndex(z){if(z.includes(!1)||this.config.isLoop&&z.fill(!1),this.config.isRandom){const u=z.map(((z,u)=>z?-1:u)).filter((z=>-1!==z));return u.length?u[Math.floor(Math.random()*u.length)]:-1}return z.indexOf(!1)}setNumberOfOutputSignals(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;this.outputSignals.length>z;){const z=this.outputSignals.pop();z&&(z.disconnectFromAll(),this._unregisterSignalOutput(z.name))}for(;this.outputSignals.length<z;)this.outputSignals.push(this._registerSignalOutput("out_".concat(this.outputSignals.length)))}_execute(z,u){if(z._hasExecutionVariable(this,"indexesUsed")||z._setExecutionVariable(this,"indexesUsed",this.outputSignals.map((()=>!1))),u===this.reset)return z._deleteExecutionVariable(this,"indexesUsed"),void this.lastIndex.setValue(new g.e(-1),z);const U=z._getExecutionVariable(this,"indexesUsed",[]),J=this._getNextIndex(U);J>-1&&(this.lastIndex.setValue(new g.e(J),z),U[J]=!0,z._setExecutionVariable(this,"indexesUsed",U),this.outputSignals[J]._activateSignal(z))}getClassName(){return"FlowGraphMultiGateBlock"}serialize(z){super.serialize(z),z.config.outputSignalCount=this.config.outputSignalCount,z.config.isRandom=this.config.isRandom,z.config.loop=this.config.isLoop,z.config.startIndex=this.config.startIndex}}(0,J.f)("FlowGraphMultiGateBlock",w)}}]);