"use strict";(self["269hv5nclphh"]=self["269hv5nclphh"]||[]).push([[104],{15676:(E,H,d)=>{d.r(H),d.d(H,{FlowGraphMultiGateBlock:()=>l});var n=d(12344),Z=d(14123),I=d(14103),g=d(14095);class l extends Z.e{constructor(E){super(E),this.config=E,this.outputSignals=[],this.reset=this._registerSignalInput("reset"),this.lastIndex=this.registerDataOutput("lastIndex",I.j,new g.c(-1)),this.setNumberOfOutputSignals(null===E||void 0===E?void 0:E.outputSignalCount)}_getNextIndex(E){if(E.includes(!1)||this.config.isLoop&&E.fill(!1),this.config.isRandom){const H=E.map(((E,H)=>E?-1:H)).filter((E=>-1!==E));return H.length?H[Math.floor(Math.random()*H.length)]:-1}return E.indexOf(!1)}setNumberOfOutputSignals(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;this.outputSignals.length>E;){const E=this.outputSignals.pop();E&&(E.disconnectFromAll(),this._unregisterSignalOutput(E.name))}for(;this.outputSignals.length<E;)this.outputSignals.push(this._registerSignalOutput(`out_${this.outputSignals.length}`))}_execute(E,H){if(E._hasExecutionVariable(this,"indexesUsed")||E._setExecutionVariable(this,"indexesUsed",this.outputSignals.map((()=>!1))),H===this.reset)return E._deleteExecutionVariable(this,"indexesUsed"),void this.lastIndex.setValue(new g.c(-1),E);const d=E._getExecutionVariable(this,"indexesUsed",[]),n=this._getNextIndex(d);n>-1&&(this.lastIndex.setValue(new g.c(n),E),d[n]=!0,E._setExecutionVariable(this,"indexesUsed",d),this.outputSignals[n]._activateSignal(E))}getClassName(){return"FlowGraphMultiGateBlock"}serialize(E){super.serialize(E),E.config.outputSignalCount=this.config.outputSignalCount,E.config.isRandom=this.config.isRandom,E.config.loop=this.config.isLoop,E.config.startIndex=this.config.startIndex}}(0,n.e)("FlowGraphMultiGateBlock",l)}}]);