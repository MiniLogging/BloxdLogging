/*! For license information please see d0t3b.18.eea80a82.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[18],{11726:(k,M,F)=>{F.d(M,{B:()=>s,F:()=>r,I:()=>L,M:()=>d,Q:()=>U,R:()=>V,U:()=>w,Y:()=>R,ab:()=>Y,c:()=>O,d:()=>n,db:()=>m,fb:()=>o,g:()=>J,gb:()=>Z,k:()=>v,kb:()=>y,n:()=>G,ob:()=>c,r:()=>B,rb:()=>S,sb:()=>Q,u:()=>X,y:()=>h});const l=function(k){const M=[];let F=0;for(let l=0;l<k.length;l++){let t=k.charCodeAt(l);t<128?M[F++]=t:t<2048?(M[F++]=t>>6|192,M[F++]=63&t|128):55296===(64512&t)&&l+1<k.length&&56320===(64512&k.charCodeAt(l+1))?(t=65536+((1023&t)<<10)+(1023&k.charCodeAt(++l)),M[F++]=t>>18|240,M[F++]=t>>12&63|128,M[F++]=t>>6&63|128,M[F++]=63&t|128):(M[F++]=t>>12|224,M[F++]=t>>6&63|128,M[F++]=63&t|128)}return M},t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(k,M){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let t=0;t<k.length;t+=3){const M=k[t],g=t+1<k.length,B=g?k[t+1]:0,G=t+2<k.length,A=G?k[t+2]:0,N=M>>2,d=(3&M)<<4|B>>4;let L=(15&B)<<2|A>>6,U=63&A;G||(U=64,g||(L=64)),l.push(F[N],F[d],F[L],F[U])}return l.join("")},encodeString(k,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(k):this.encodeByteArray(l(k),M)},decodeString(k,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(k):function(k){const M=[];let F=0,l=0;for(;F<k.length;){const t=k[F++];if(t<128)M[l++]=String.fromCharCode(t);else if(t>191&&t<224){const g=k[F++];M[l++]=String.fromCharCode((31&t)<<6|63&g)}else if(t>239&&t<365){const g=((7&t)<<18|(63&k[F++])<<12|(63&k[F++])<<6|63&k[F++])-65536;M[l++]=String.fromCharCode(55296+(g>>10)),M[l++]=String.fromCharCode(56320+(1023&g))}else{const g=k[F++],B=k[F++];M[l++]=String.fromCharCode((15&t)<<12|(63&g)<<6|63&B)}}return M.join("")}(this.decodeStringToByteArray(k,M))},decodeStringToByteArray(k,M){this.init_();const F=M?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let t=0;t<k.length;){const M=F[k.charAt(t++)],B=t<k.length?F[k.charAt(t)]:0;++t;const G=t<k.length?F[k.charAt(t)]:64;++t;const A=t<k.length?F[k.charAt(t)]:64;if(++t,null==M||null==B||null==G||null==A)throw new g;const N=M<<2|B>>4;if(l.push(N),64!==G){const k=B<<4&240|G>>2;if(l.push(k),64!==A){const k=G<<6&192|A;l.push(k)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class g extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B=function(k){return function(k){const M=l(k);return t.encodeByteArray(M,!0)}(k).replace(/\./g,"")},G=function(k){try{return t.decodeString(k,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};const A=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof F.g)return F.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,N=()=>{try{return A()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(F){return}const M=k&&G(k[1]);return M&&JSON.parse(M)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},d=k=>{var M,F;return null===(F=null===(M=N())||void 0===M?void 0:M.emulatorHosts)||void 0===F?void 0:F[k]},L=()=>{var k;return null===(k=N())||void 0===k?void 0:k.config},U=k=>{var M;return null===(M=N())||void 0===M?void 0:M[`_${k}`]};class O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((k,M)=>{this.resolve=k,this.reject=M}))}wrapCallback(k){return(M,F)=>{M?this.reject(M):this.resolve(F),"function"===typeof k&&(this.promise.catch((()=>{})),1===k.length?k(M):k(M,F))}}}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function R(){const k="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof k&&void 0!==k.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function m(){const k=w();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function o(){try{return"object"===typeof indexedDB}catch(k){return!1}}function Q(){return new Promise(((k,M)=>{try{let F=!0;const l="validate-browser-context-for-indexeddb-analytics-module",t=self.indexedDB.open(l);t.onsuccess=()=>{t.result.close(),F||self.indexedDB.deleteDatabase(l),k(!0)},t.onupgradeneeded=()=>{F=!1},t.onerror=()=>{var k;M((null===(k=t.error)||void 0===k?void 0:k.message)||"")}}catch(F){M(F)}}))}function v(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class J extends Error{constructor(k,M,F){super(M),this.code=k,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n.prototype.create)}}class n{constructor(k,M,F){this.service=k,this.serviceName=M,this.errors=F}create(k){const M=(arguments.length<=1?void 0:arguments[1])||{},F=`${this.service}/${k}`,l=this.errors[k],t=l?function(k,M){return k.replace(a,((k,F)=>{const l=M[F];return null!=l?String(l):`<${F}?>`}))}(l,M):"Error",g=`${this.serviceName}: ${t} (${F}).`;return new J(F,g,M)}}const a=/\{\$([^}]+)}/g;function Y(k){for(const M in k)if(Object.prototype.hasOwnProperty.call(k,M))return!1;return!0}function s(k,M){if(k===M)return!0;const F=Object.keys(k),l=Object.keys(M);for(const t of F){if(!l.includes(t))return!1;const F=k[t],g=M[t];if(j(F)&&j(g)){if(!s(F,g))return!1}else if(F!==g)return!1}for(const t of l)if(!F.includes(t))return!1;return!0}function j(k){return null!==k&&"object"===typeof k}function S(k){const M=[];for(const[F,l]of Object.entries(k))Array.isArray(l)?l.forEach((k=>{M.push(encodeURIComponent(F)+"="+encodeURIComponent(k))})):M.push(encodeURIComponent(F)+"="+encodeURIComponent(l));return M.length?"&"+M.join("&"):""}function c(k){const M={};return k.replace(/^\?/,"").split("&").forEach((k=>{if(k){const[F,l]=k.split("=");M[decodeURIComponent(F)]=decodeURIComponent(l)}})),M}function r(k){const M=k.indexOf("?");if(!M)return"";const F=k.indexOf("#",M);return k.substring(M,F>0?F:void 0)}function h(k,M){const F=new e(k,M);return F.subscribe.bind(F)}class e{constructor(k,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then((()=>{k(this)})).catch((k=>{this.error(k)}))}next(k){this.forEachObserver((M=>{M.next(k)}))}error(k){this.forEachObserver((M=>{M.error(k)})),this.close(k)}complete(){this.forEachObserver((k=>{k.complete()})),this.close()}subscribe(k,M,F){let l;if(void 0===k&&void 0===M&&void 0===F)throw new Error("Missing Observer.");l=function(k,M){if("object"!==typeof k||null===k)return!1;for(const F of M)if(F in k&&"function"===typeof k[F])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:M,complete:F},void 0===l.next&&(l.next=x),void 0===l.error&&(l.error=x),void 0===l.complete&&(l.complete=x);const t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch(k){}})),this.observers.push(l),t}unsubscribeOne(k){void 0!==this.observers&&void 0!==this.observers[k]&&(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,k)}sendOne(k,M){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{M(this.observers[k])}catch(F){"undefined"!==typeof console&&console.error&&console.error(F)}}))}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function x(){}const p=1e3,K=2,f=144e5,W=.5;function X(k){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p)*Math.pow(M,k),l=Math.round(W*F*(Math.random()-.5)*2);return Math.min(f,F+l)}function V(k){return k&&k._delegate?k._delegate:k}},11708:(k,M,F)=>{F.d(M,{c:()=>g.g,g:()=>Lk,h:()=>H,l:()=>Fk,o:()=>lk,r:()=>kk,t:()=>Gk,x:()=>Mk,B:()=>gk,F:()=>tk,H:()=>Bk,J:()=>Zk,P:()=>Ok,L:()=>wk,Q:()=>Uk,R:()=>yk,U:()=>Rk,V:()=>mk});var l=F(11717),t=F(11733),g=F(11726);let B,G;const A=new WeakMap,N=new WeakMap,d=new WeakMap,L=new WeakMap,U=new WeakMap;let O={get(k,M,F){if(k instanceof IDBTransaction){if("done"===M)return N.get(k);if("objectStoreNames"===M)return k.objectStoreNames||d.get(k);if("store"===M)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return R(k[M])},set:(k,M,F)=>(k[M]=F,!0),has:(k,M)=>k instanceof IDBTransaction&&("done"===M||"store"===M)||M in k};function w(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(k)?function(){for(var M=arguments.length,F=new Array(M),l=0;l<M;l++)F[l]=arguments[l];return k.apply(y(this),F),R(A.get(this))}:function(){for(var M=arguments.length,F=new Array(M),l=0;l<M;l++)F[l]=arguments[l];return R(k.apply(y(this),F))}:function(M){for(var F=arguments.length,l=new Array(F>1?F-1:0),t=1;t<F;t++)l[t-1]=arguments[t];const g=k.call(y(this),M,...l);return d.set(g,M.sort?M.sort():[M]),R(g)}}function Z(k){return"function"===typeof k?w(k):(k instanceof IDBTransaction&&function(k){if(N.has(k))return;const M=new Promise(((M,F)=>{const l=()=>{k.removeEventListener("complete",t),k.removeEventListener("error",g),k.removeEventListener("abort",g)},t=()=>{M(),l()},g=()=>{F(k.error||new DOMException("AbortError","AbortError")),l()};k.addEventListener("complete",t),k.addEventListener("error",g),k.addEventListener("abort",g)}));N.set(k,M)}(k),M=k,(B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((k=>M instanceof k))?new Proxy(k,O):k);var M}function R(k){if(k instanceof IDBRequest)return function(k){const M=new Promise(((M,F)=>{const l=()=>{k.removeEventListener("success",t),k.removeEventListener("error",g)},t=()=>{M(R(k.result)),l()},g=()=>{F(k.error),l()};k.addEventListener("success",t),k.addEventListener("error",g)}));return M.then((M=>{M instanceof IDBCursor&&A.set(M,k)})).catch((()=>{})),U.set(M,k),M}(k);if(L.has(k))return L.get(k);const M=Z(k);return M!==k&&(L.set(k,M),U.set(M,k)),M}const y=k=>U.get(k);const m=["get","getKey","getAll","getAllKeys","count"],o=["put","add","delete","clear"],Q=new Map;function v(k,M){if(!(k instanceof IDBDatabase)||M in k||"string"!==typeof M)return;if(Q.get(M))return Q.get(M);const F=M.replace(/FromIndex$/,""),l=M!==F,t=o.includes(F);if(!(F in(l?IDBIndex:IDBObjectStore).prototype)||!t&&!m.includes(F))return;const g=async function(k){const M=this.transaction(k,t?"readwrite":"readonly");let g=M.store;for(var B=arguments.length,G=new Array(B>1?B-1:0),A=1;A<B;A++)G[A-1]=arguments[A];return l&&(g=g.index(G.shift())),(await Promise.all([g[F](...G),t&&M.done]))[0]};return Q.set(M,g),g}O=(k=>({...k,get:(M,F,l)=>v(M,F)||k.get(M,F,l),has:(M,F)=>!!v(M,F)||k.has(M,F)}))(O);class J{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map((k=>{if(function(k){const M=k.getComponent();return"VERSION"===(null===M||void 0===M?void 0:M.type)}(k)){const M=k.getImmediate();return`${M.library}/${M.version}`}return null})).filter((k=>k)).join(" ")}}const n="@firebase/app",a="0.9.13",Y=new t.f("@firebase/app"),s="@firebase/app-compat",j="@firebase/analytics-compat",S="@firebase/analytics",c="@firebase/app-check-compat",r="@firebase/app-check",h="@firebase/auth",e="@firebase/auth-compat",x="@firebase/database",p="@firebase/database-compat",K="@firebase/functions",f="@firebase/functions-compat",W="@firebase/installations",X="@firebase/installations-compat",V="@firebase/messaging",z="@firebase/messaging-compat",E="@firebase/performance",u="@firebase/performance-compat",T="@firebase/remote-config",P="@firebase/remote-config-compat",q="@firebase/storage",I="@firebase/storage-compat",C="@firebase/firestore",D="@firebase/firestore-compat",i="firebase",H="[DEFAULT]",b={[n]:"fire-core",[s]:"fire-core-compat",[S]:"fire-analytics",[j]:"fire-analytics-compat",[r]:"fire-app-check",[c]:"fire-app-check-compat",[h]:"fire-auth",[e]:"fire-auth-compat",[x]:"fire-rtdb",[p]:"fire-rtdb-compat",[K]:"fire-fn",[f]:"fire-fn-compat",[W]:"fire-iid",[X]:"fire-iid-compat",[V]:"fire-fcm",[z]:"fire-fcm-compat",[E]:"fire-perf",[u]:"fire-perf-compat",[T]:"fire-rc",[P]:"fire-rc-compat",[q]:"fire-gcs",[I]:"fire-gcs-compat",[C]:"fire-fst",[D]:"fire-fst-compat","fire-js":"fire-js",[i]:"fire-js-all"},kk=new Map,Mk=new Map;function Fk(k,M){try{k.container.Ce(M)}catch(F){Y.debug(`Component ${M.name} failed to register with FirebaseApp ${k.name}`,F)}}function lk(k,M){k.container.addOrOverwriteComponent(M)}function tk(k){const M=k.name;if(Mk.has(M))return Y.debug(`There were multiple attempts to register component ${M}.`),!1;Mk.set(M,k);for(const F of kk.values())Fk(F,k);return!0}function gk(k,M){const F=k.container.getProvider("heartbeat").getImmediate({optional:!0});return F&&F.triggerHeartbeat(),k.container.getProvider(M)}function Bk(k,M){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;gk(k,M).clearInstance(F)}function Gk(){Mk.clear()}const Ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nk=new g.d("app","Firebase",Ak);class dk{constructor(k,M,F){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},M),this._name=M.name,this._automaticDataCollectionEnabled=M.automaticDataCollectionEnabled,this._container=F,this.container.Ce(new l.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw Nk.create("app-deleted",{appName:this._name})}}const Lk="9.23.0";function Uk(k){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=k;if("object"!==typeof M){M={name:M}}const t=Object.assign({name:H,automaticDataCollectionEnabled:!1},M),B=t.name;if("string"!==typeof B||!B)throw Nk.create("bad-app-name",{appName:String(B)});if(F||(F=(0,g.I)()),!F)throw Nk.create("no-options");const G=kk.get(B);if(G){if((0,g.B)(F,G.options)&&(0,g.B)(t,G.config))return G;throw Nk.create("duplicate-app",{appName:B})}const A=new l.c(B);for(const l of Mk.values())A.Ce(l);const N=new dk(F,t,A);return kk.set(B,N),N}function Ok(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;const M=kk.get(k);if(!M&&k===H&&(0,g.I)())return Uk();if(!M)throw Nk.create("no-app",{appName:k});return M}function wk(){return Array.from(kk.values())}async function Zk(k){const M=k.name;kk.has(M)&&(kk.delete(M),await Promise.all(k.container.getProviders().map((k=>k.delete()))),k.isDeleted=!0)}function Rk(k,M,F){var t;let g=null!==(t=b[k])&&void 0!==t?t:k;F&&(g+=`-${F}`);const B=g.match(/\s|\//),G=M.match(/\s|\//);if(B||G){const k=[`Unable to register library "${g}" with version "${M}":`];return B&&k.push(`library name "${g}" contains illegal characters (whitespace or "/")`),B&&G&&k.push("and"),G&&k.push(`version name "${M}" contains illegal characters (whitespace or "/")`),void Y.warn(k.join(" "))}tk(new l.f(`${g}-version`,(()=>({library:g,version:M})),"VERSION"))}function yk(k,M){if(null!==k&&"function"!==typeof k)throw Nk.create("invalid-log-argument");(0,t.j)(k,M)}function mk(k){(0,t.g)(k)}const ok="firebase-heartbeat-store";let Qk=null;function vk(){return Qk||(Qk=function(k,M){let{blocked:F,upgrade:l,blocking:t,terminated:g}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const B=indexedDB.open(k,M),G=R(B);return l&&B.addEventListener("upgradeneeded",(k=>{l(R(B.result),k.oldVersion,k.newVersion,R(B.transaction),k)})),F&&B.addEventListener("blocked",(k=>F(k.oldVersion,k.newVersion,k))),G.then((k=>{g&&k.addEventListener("close",(()=>g())),t&&k.addEventListener("versionchange",(k=>t(k.oldVersion,k.newVersion,k)))})).catch((()=>{})),G}("firebase-heartbeat-database",1,{upgrade:(k,M)=>{if(0===M)k.createObjectStore(ok)}}).catch((k=>{throw Nk.create("idb-open",{originalErrorMessage:k.message})}))),Qk}async function Jk(k,M){try{const F=(await vk()).transaction(ok,"readwrite"),l=F.objectStore(ok);await l.put(M,nk(k)),await F.done}catch(F){if(F instanceof g.g)Y.warn(F.message);else{const k=Nk.create("idb-set",{originalErrorMessage:null===F||void 0===F?void 0:F.message});Y.warn(k.message)}}}function nk(k){return`${k.name}!${k.options.appId}`}class ak{constructor(k){this.container=k,this._heartbeatsCache=null;const M=this.container.getProvider("app").getImmediate();this.Ae=new sk(M),this._heartbeatsCachePromise=this.Ae.read().then((k=>(this._heartbeatsCache=k,k)))}async triggerHeartbeat(){const k=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=Yk();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==M&&!this._heartbeatsCache.heartbeats.some((k=>k.date===M)))return this._heartbeatsCache.heartbeats.push({date:M,agent:k}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((k=>{const M=new Date(k.date).valueOf();return Date.now()-M<=2592e6})),this.Ae.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const k=Yk(),{heartbeatsToSend:M,unsentEntries:F}=function(k){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const F=[];let l=k.slice();for(const t of k){const k=F.find((k=>k.agent===t.agent));if(k){if(k.dates.push(t.date),jk(F)>M){k.dates.pop();break}}else if(F.push({agent:t.agent,dates:[t.date]}),jk(F)>M){F.pop();break}l=l.slice(1)}return{heartbeatsToSend:F,unsentEntries:l}}(this._heartbeatsCache.heartbeats),l=(0,g.r)(JSON.stringify({version:2,heartbeats:M}));return this._heartbeatsCache.lastSentHeartbeatDate=k,F.length>0?(this._heartbeatsCache.heartbeats=F,await this.Ae.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ae.overwrite(this._heartbeatsCache)),l}}function Yk(){return(new Date).toISOString().substring(0,10)}class sk{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,g.fb)()&&(0,g.sb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(k){try{const M=await vk();return await M.transaction(ok).objectStore(ok).get(nk(k))}catch(M){if(M instanceof g.g)Y.warn(M.message);else{const k=Nk.create("idb-get",{originalErrorMessage:null===M||void 0===M?void 0:M.message});Y.warn(k.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(k){var M;if(await this._canUseIndexedDBPromise){const F=await this.read();return Jk(this.app,{lastSentHeartbeatDate:null!==(M=k.lastSentHeartbeatDate)&&void 0!==M?M:F.lastSentHeartbeatDate,heartbeats:k.heartbeats})}}async add(k){var M;if(await this._canUseIndexedDBPromise){const F=await this.read();return Jk(this.app,{lastSentHeartbeatDate:null!==(M=k.lastSentHeartbeatDate)&&void 0!==M?M:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...k.heartbeats]})}}}function jk(k){return(0,g.r)(JSON.stringify({version:2,heartbeats:k})).length}var Sk;Sk="",tk(new l.f("platform-logger",(k=>new J(k)),"PRIVATE")),tk(new l.f("heartbeat",(k=>new ak(k)),"PRIVATE")),Rk(n,a,Sk),Rk(n,a,"esm2017"),Rk("fire-js","")},11717:(k,M,F)=>{F.d(M,{c:()=>G,f:()=>t});var l=F(11726);class t{constructor(k,M,F){this.name=k,this.instanceFactory=M,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const g="[DEFAULT]";class B{constructor(k,M){this.name=k,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const M=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(M)){const k=new l.c;if(this.instancesDeferred.set(M,k),this.isInitialized(M)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:M});F&&k.resolve(F)}catch(F){}}return this.instancesDeferred.get(M).promise}getImmediate(k){var M;const F=this.normalizeInstanceIdentifier(null===k||void 0===k?void 0:k.identifier),l=null!==(M=null===k||void 0===k?void 0:k.optional)&&void 0!==M&&M;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(t){if(l)return null;throw t}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if(function(k){return"EAGER"===k.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:g})}catch(M){}for(const[k,F]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(k);try{const k=this.getOrInitializeService({instanceIdentifier:l});F.resolve(k)}catch(M){}}}}clearInstance(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}async delete(){const k=Array.from(this.instances.values());await Promise.all([...k.filter((k=>"INTERNAL"in k)).map((k=>k.INTERNAL.delete())),...k.filter((k=>"_delete"in k)).map((k=>k._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.instances.has(k)}getOptions(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.instancesOptions.get(k)||{}}initialize(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:M={}}=k,F=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(F))throw Error(`${this.name}(${F}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:F,options:M});for(const[t,g]of this.instancesDeferred.entries()){F===this.normalizeInstanceIdentifier(t)&&g.resolve(l)}return l}el(k,M){var F;const l=this.normalizeInstanceIdentifier(M),t=null!==(F=this.onInitCallbacks.get(l))&&void 0!==F?F:new Set;t.add(k),this.onInitCallbacks.set(l,t);const g=this.instances.get(l);return g&&k(g,l),()=>{t.delete(k)}}invokeOnInitCallbacks(k,M){const F=this.onInitCallbacks.get(M);if(F)for(const t of F)try{t(k,M)}catch(l){}}getOrInitializeService(k){let{instanceIdentifier:M,options:F={}}=k,l=this.instances.get(M);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:(t=M,t===g?void 0:t),options:F}),this.instances.set(M,l),this.instancesOptions.set(M,F),this.invokeOnInitCallbacks(l,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,l)}catch(B){}var t;return l||null}normalizeInstanceIdentifier(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return this.component?this.component.multipleInstances?k:g:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(k){this.name=k,this.providers=new Map}Ce(k){const M=this.getProvider(k.name);if(M.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);M.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.Ce(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const M=new B(k,this);return this.providers.set(k,M),M}getProviders(){return Array.from(this.providers.values())}}},11733:(k,M,F)=>{F.d(M,{e:()=>t,f:()=>N,g:()=>d,j:()=>L});const l=[];var t;!function(k){k[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT"}(t||(t={}));const g={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},B=t.INFO,G={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},A=function(k,M){if(M<k.logLevel)return;const F=(new Date).toISOString(),l=G[M];if(!l)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);for(var t=arguments.length,g=new Array(t>2?t-2:0),B=2;B<t;B++)g[B-2]=arguments[B];console[l](`[${F}]  ${k.name}:`,...g)};class N{constructor(k){this.name=k,this._logLevel=B,this._logHandler=A,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in t))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"===typeof k?g[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!==typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(){for(var k=arguments.length,M=new Array(k),F=0;F<k;F++)M[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...M),this._logHandler(this,t.DEBUG,...M)}log(){for(var k=arguments.length,M=new Array(k),F=0;F<k;F++)M[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...M),this._logHandler(this,t.VERBOSE,...M)}info(){for(var k=arguments.length,M=new Array(k),F=0;F<k;F++)M[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,t.INFO,...M),this._logHandler(this,t.INFO,...M)}warn(){for(var k=arguments.length,M=new Array(k),F=0;F<k;F++)M[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,t.WARN,...M),this._logHandler(this,t.WARN,...M)}error(){for(var k=arguments.length,M=new Array(k),F=0;F<k;F++)M[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,t.ERROR,...M),this._logHandler(this,t.ERROR,...M)}}function d(k){l.forEach((M=>{M.setLogLevel(k)}))}function L(k,M){for(const F of l){let l=null;M&&M.level&&(l=g[M.level]),F.userLogHandler=null===k?null:function(M,F){for(var g=arguments.length,B=new Array(g>2?g-2:0),G=2;G<g;G++)B[G-2]=arguments[G];const A=B.map((k=>{if(null==k)return null;if("string"===typeof k)return k;if("number"===typeof k||"boolean"===typeof k)return k.toString();if(k instanceof Error)return k.message;try{return JSON.stringify(k)}catch(M){return null}})).filter((k=>k)).join(" ");F>=(null!==l&&void 0!==l?l:M.logLevel)&&k({level:t[F].toLowerCase(),message:A,args:B,type:M.name})}}}}}]);