/*! For license information please see am812f.18.9f1c5eeb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[18],{11647:(a,x,Q)=>{Q.d(x,{A:()=>v,C:()=>W,E:()=>e,F:()=>S,H:()=>j,K:()=>d,L:()=>J,O:()=>Z,P:()=>y,S:()=>H,T:()=>i,V:()=>T,Y:()=>G,Z:()=>k,e:()=>p,f:()=>l,h:()=>g,k:()=>F,m:()=>C,n:()=>N,r:()=>m,v:()=>b,w:()=>K,z:()=>L});const s=function(a){const x=[];let Q=0;for(let s=0;s<a.length;s++){let h=a.charCodeAt(s);h<128?x[Q++]=h:h<2048?(x[Q++]=h>>6|192,x[Q++]=63&h|128):55296===(64512&h)&&s+1<a.length&&56320===(64512&a.charCodeAt(s+1))?(h=65536+((1023&h)<<10)+(1023&a.charCodeAt(++s)),x[Q++]=h>>18|240,x[Q++]=h>>12&63|128,x[Q++]=h>>6&63|128,x[Q++]=63&h|128):(x[Q++]=h>>12|224,x[Q++]=h>>6&63|128,x[Q++]=63&h|128)}return x},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(a,x){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let h=0;h<a.length;h+=3){const x=a[h],D=h+1<a.length,N=D?a[h+1]:0,C=h+2<a.length,R=C?a[h+2]:0,U=x>>2,W=(3&x)<<4|N>>4;let v=(15&N)<<2|R>>6,e=63&R;C||(e=64,D||(v=64)),s.push(Q[U],Q[W],Q[v],Q[e])}return s.join("")},encodeString(a,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(a):this.encodeByteArray(s(a),x)},decodeString(a,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(a):function(a){const x=[];let Q=0,s=0;for(;Q<a.length;){const h=a[Q++];if(h<128)x[s++]=String.fromCharCode(h);else if(h>191&&h<224){const D=a[Q++];x[s++]=String.fromCharCode((31&h)<<6|63&D)}else if(h>239&&h<365){const D=((7&h)<<18|(63&a[Q++])<<12|(63&a[Q++])<<6|63&a[Q++])-65536;x[s++]=String.fromCharCode(55296+(D>>10)),x[s++]=String.fromCharCode(56320+(1023&D))}else{const D=a[Q++],N=a[Q++];x[s++]=String.fromCharCode((15&h)<<12|(63&D)<<6|63&N)}}return x.join("")}(this.decodeStringToByteArray(a,x))},decodeStringToByteArray(a,x){this.init_();const Q=x?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let h=0;h<a.length;){const x=Q[a.charAt(h++)],N=h<a.length?Q[a.charAt(h)]:0;++h;const C=h<a.length?Q[a.charAt(h)]:64;++h;const R=h<a.length?Q[a.charAt(h)]:64;if(++h,null==x||null==N||null==C||null==R)throw new D;const U=x<<2|N>>4;if(s.push(U),64!==C){const a=N<<4&240|C>>2;if(s.push(a),64!==R){const a=C<<6&192|R;s.push(a)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(a){return function(a){const x=s(a);return h.encodeByteArray(x,!0)}(a).replace(/\./g,"")},C=function(a){try{return h.decodeString(a,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};const R=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,U=()=>{try{return R()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const x=a&&C(a[1]);return x&&JSON.parse(x)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},W=a=>{var x,Q;return null===(Q=null===(x=U())||void 0===x?void 0:x.emulatorHosts)||void 0===Q?void 0:Q[a]},v=()=>{var a;return null===(a=U())||void 0===a?void 0:a.config},e=a=>{var x;return null===(x=U())||void 0===x?void 0:x[`_${a}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((a,x)=>{this.resolve=a,this.reject=x}))}wrapCallback(a){return(x,Q)=>{x?this.reject(x):this.resolve(Q),"function"===typeof a&&(this.promise.catch((()=>{})),1===a.length?a(x):a(x,Q))}}}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function d(){const a="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof a&&void 0!==a.id}function i(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Z(){const a=j();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function y(){try{return"object"===typeof indexedDB}catch(a){return!1}}function k(){return new Promise(((a,x)=>{try{let Q=!0;const s="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(s);h.onsuccess=()=>{h.result.close(),Q||self.indexedDB.deleteDatabase(s),a(!0)},h.onupgradeneeded=()=>{Q=!1},h.onerror=()=>{var a;x((null===(a=h.error)||void 0===a?void 0:a.message)||"")}}catch(Q){x(Q)}}))}function F(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class g extends Error{constructor(a,x,Q){super(x),this.code=a,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(a,x,Q){this.service=a,this.serviceName=x,this.errors=Q}create(a){const x=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${a}`,s=this.errors[a],h=s?function(a,x){return a.replace(r,((a,Q)=>{const s=x[Q];return null!=s?String(s):`<${Q}?>`}))}(s,x):"Error",D=`${this.serviceName}: ${h} (${Q}).`;return new g(Q,D,x)}}const r=/\{\$([^}]+)}/g;function J(a){for(const x in a)if(Object.prototype.hasOwnProperty.call(a,x))return!1;return!0}function K(a,x){if(a===x)return!0;const Q=Object.keys(a),s=Object.keys(x);for(const h of Q){if(!s.includes(h))return!1;const Q=a[h],D=x[h];if(E(Q)&&E(D)){if(!K(Q,D))return!1}else if(Q!==D)return!1}for(const h of s)if(!Q.includes(h))return!1;return!0}function E(a){return null!==a&&"object"===typeof a}function G(a){const x=[];for(const[Q,s]of Object.entries(a))Array.isArray(s)?s.forEach((a=>{x.push(encodeURIComponent(Q)+"="+encodeURIComponent(a))})):x.push(encodeURIComponent(Q)+"="+encodeURIComponent(s));return x.length?"&"+x.join("&"):""}function T(a){const x={};return a.replace(/^\?/,"").split("&").forEach((a=>{if(a){const[Q,s]=a.split("=");x[decodeURIComponent(Q)]=decodeURIComponent(s)}})),x}function L(a){const x=a.indexOf("?");if(!x)return"";const Q=a.indexOf("#",x);return a.substring(x,Q>0?Q:void 0)}function b(a,x){const Q=new Y(a,x);return Q.subscribe.bind(Q)}class Y{constructor(a,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then((()=>{a(this)})).catch((a=>{this.error(a)}))}next(a){this.forEachObserver((x=>{x.next(a)}))}error(a){this.forEachObserver((x=>{x.error(a)})),this.close(a)}complete(){this.forEachObserver((a=>{a.complete()})),this.close()}subscribe(a,x,Q){let s;if(void 0===a&&void 0===x&&void 0===Q)throw new Error("Missing Observer.");s=function(a,x){if("object"!==typeof a||null===a)return!1;for(const Q of x)if(Q in a&&"function"===typeof a[Q])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:x,complete:Q},void 0===s.next&&(s.next=q),void 0===s.error&&(s.error=q),void 0===s.complete&&(s.complete=q);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(a){}})),this.observers.push(s),h}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,a)}sendOne(a,x){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{x(this.observers[a])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}const t=1e3,V=2,f=144e5,n=.5;function m(a){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)*Math.pow(x,a),s=Math.round(n*Q*(Math.random()-.5)*2);return Math.min(f,Q+s)}function S(a){return a&&a._delegate?a._delegate:a}},11633:(a,x,Q)=>{Q.d(x,{d:()=>D.h,e:()=>va,g:()=>o,k:()=>Qa,o:()=>sa,p:()=>aa,r:()=>Ca,s:()=>xa,v:()=>Da,y:()=>ha,B:()=>Na,F:()=>Ha,J:()=>pa,H:()=>ja,K:()=>ea,L:()=>ia,M:()=>da,Q:()=>Za});var s=Q(11640),h=Q(11656),D=Q(11647);let N,C;const R=new WeakMap,U=new WeakMap,W=new WeakMap,v=new WeakMap,e=new WeakMap;let p={get(a,x,Q){if(a instanceof IDBTransaction){if("done"===x)return U.get(a);if("objectStoreNames"===x)return a.objectStoreNames||W.get(a);if("store"===x)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return d(a[x])},set:(a,x,Q)=>(a[x]=Q,!0),has:(a,x)=>a instanceof IDBTransaction&&("done"===x||"store"===x)||x in a};function j(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(){for(var x=arguments.length,Q=new Array(x),s=0;s<x;s++)Q[s]=arguments[s];return a.apply(i(this),Q),d(R.get(this))}:function(){for(var x=arguments.length,Q=new Array(x),s=0;s<x;s++)Q[s]=arguments[s];return d(a.apply(i(this),Q))}:function(x){for(var Q=arguments.length,s=new Array(Q>1?Q-1:0),h=1;h<Q;h++)s[h-1]=arguments[h];const D=a.call(i(this),x,...s);return W.set(D,x.sort?x.sort():[x]),d(D)}}function H(a){return"function"===typeof a?j(a):(a instanceof IDBTransaction&&function(a){if(U.has(a))return;const x=new Promise(((x,Q)=>{const s=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",D),a.removeEventListener("abort",D)},h=()=>{x(),s()},D=()=>{Q(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",h),a.addEventListener("error",D),a.addEventListener("abort",D)}));U.set(a,x)}(a),x=a,(N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((a=>x instanceof a))?new Proxy(a,p):a);var x}function d(a){if(a instanceof IDBRequest)return function(a){const x=new Promise(((x,Q)=>{const s=()=>{a.removeEventListener("success",h),a.removeEventListener("error",D)},h=()=>{x(d(a.result)),s()},D=()=>{Q(a.error),s()};a.addEventListener("success",h),a.addEventListener("error",D)}));return x.then((x=>{x instanceof IDBCursor&&R.set(x,a)})).catch((()=>{})),e.set(x,a),x}(a);if(v.has(a))return v.get(a);const x=H(a);return x!==a&&(v.set(a,x),e.set(x,a)),x}const i=a=>e.get(a);const Z=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],k=new Map;function F(a,x){if(!(a instanceof IDBDatabase)||x in a||"string"!==typeof x)return;if(k.get(x))return k.get(x);const Q=x.replace(/FromIndex$/,""),s=x!==Q,h=y.includes(Q);if(!(Q in(s?IDBIndex:IDBObjectStore).prototype)||!h&&!Z.includes(Q))return;const D=async function(a){const x=this.transaction(a,h?"readwrite":"readonly");let D=x.store;for(var N=arguments.length,C=new Array(N>1?N-1:0),R=1;R<N;R++)C[R-1]=arguments[R];return s&&(D=D.index(C.shift())),(await Promise.all([D[Q](...C),h&&x.done]))[0]};return k.set(x,D),D}p=(a=>({...a,get:(x,Q,s)=>F(x,Q)||a.get(x,Q,s),has:(x,Q)=>!!F(x,Q)||a.has(x,Q)}))(p);class g{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map((a=>{if(function(a){const x=a.getComponent();return"VERSION"===(null===x||void 0===x?void 0:x.type)}(a)){const x=a.getImmediate();return`${x.library}/${x.version}`}return null})).filter((a=>a)).join(" ")}}const l="@firebase/app",r="0.9.13",J=new h.g("@firebase/app"),K="@firebase/app-compat",E="@firebase/analytics-compat",G="@firebase/analytics",T="@firebase/app-check-compat",L="@firebase/app-check",b="@firebase/auth",Y="@firebase/auth-compat",q="@firebase/database",t="@firebase/database-compat",V="@firebase/functions",f="@firebase/functions-compat",n="@firebase/installations",m="@firebase/installations-compat",S="@firebase/messaging",z="@firebase/messaging-compat",M="@firebase/performance",O="@firebase/performance-compat",I="@firebase/remote-config",B="@firebase/remote-config-compat",P="@firebase/storage",w="@firebase/storage-compat",u="@firebase/firestore",c="@firebase/firestore-compat",X="firebase",o="[DEFAULT]",A={[l]:"fire-core",[K]:"fire-core-compat",[G]:"fire-analytics",[E]:"fire-analytics-compat",[L]:"fire-app-check",[T]:"fire-app-check-compat",[b]:"fire-auth",[Y]:"fire-auth-compat",[q]:"fire-rtdb",[t]:"fire-rtdb-compat",[V]:"fire-fn",[f]:"fire-fn-compat",[n]:"fire-iid",[m]:"fire-iid-compat",[S]:"fire-fcm",[z]:"fire-fcm-compat",[M]:"fire-perf",[O]:"fire-perf-compat",[I]:"fire-rc",[B]:"fire-rc-compat",[P]:"fire-gcs",[w]:"fire-gcs-compat",[u]:"fire-fst",[c]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},aa=new Map,xa=new Map;function Qa(a,x){try{a.container.Qg(x)}catch(Q){J.debug(`Component ${x.name} failed to register with FirebaseApp ${a.name}`,Q)}}function sa(a,x){a.container.addOrOverwriteComponent(x)}function ha(a){const x=a.name;if(xa.has(x))return J.debug(`There were multiple attempts to register component ${x}.`),!1;xa.set(x,a);for(const Q of aa.values())Qa(Q,a);return!0}function Da(a,x){const Q=a.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),a.container.getProvider(x)}function Na(a,x){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;Da(a,x).clearInstance(Q)}function Ca(){xa.clear()}const Ra={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ua=new D.f("app","Firebase",Ra);class Wa{constructor(a,x,Q){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=Q,this.container.Qg(new s.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}const va="9.23.0";function ea(a){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=a;if("object"!==typeof x){x={name:x}}const h=Object.assign({name:o,automaticDataCollectionEnabled:!1},x),N=h.name;if("string"!==typeof N||!N)throw Ua.create("bad-app-name",{appName:String(N)});if(Q||(Q=(0,D.A)()),!Q)throw Ua.create("no-options");const C=aa.get(N);if(C){if((0,D.w)(Q,C.options)&&(0,D.w)(h,C.config))return C;throw Ua.create("duplicate-app",{appName:N})}const R=new s.b(N);for(const s of xa.values())R.Qg(s);const U=new Wa(Q,h,R);return aa.set(N,U),U}function pa(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;const x=aa.get(a);if(!x&&a===o&&(0,D.A)())return ea();if(!x)throw Ua.create("no-app",{appName:a});return x}function ja(){return Array.from(aa.values())}async function Ha(a){const x=a.name;aa.has(x)&&(aa.delete(x),await Promise.all(a.container.getProviders().map((a=>a.delete()))),a.isDeleted=!0)}function da(a,x,Q){var h;let D=null!==(h=A[a])&&void 0!==h?h:a;Q&&(D+=`-${Q}`);const N=D.match(/\s|\//),C=x.match(/\s|\//);if(N||C){const a=[`Unable to register library "${D}" with version "${x}":`];return N&&a.push(`library name "${D}" contains illegal characters (whitespace or "/")`),N&&C&&a.push("and"),C&&a.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void J.warn(a.join(" "))}ha(new s.f(`${D}-version`,(()=>({library:D,version:x})),"VERSION"))}function ia(a,x){if(null!==a&&"function"!==typeof a)throw Ua.create("invalid-log-argument");(0,h.j)(a,x)}function Za(a){(0,h.h)(a)}const ya="firebase-heartbeat-store";let ka=null;function Fa(){return ka||(ka=function(a,x){let{blocked:Q,upgrade:s,blocking:h,terminated:D}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const N=indexedDB.open(a,x),C=d(N);return s&&N.addEventListener("upgradeneeded",(a=>{s(d(N.result),a.oldVersion,a.newVersion,d(N.transaction),a)})),Q&&N.addEventListener("blocked",(a=>Q(a.oldVersion,a.newVersion,a))),C.then((a=>{D&&a.addEventListener("close",(()=>D())),h&&a.addEventListener("versionchange",(a=>h(a.oldVersion,a.newVersion,a)))})).catch((()=>{})),C}("firebase-heartbeat-database",1,{upgrade:(a,x)=>{if(0===x)a.createObjectStore(ya)}}).catch((a=>{throw Ua.create("idb-open",{originalErrorMessage:a.message})}))),ka}async function ga(a,x){try{const Q=(await Fa()).transaction(ya,"readwrite"),s=Q.objectStore(ya);await s.put(x,la(a)),await Q.done}catch(Q){if(Q instanceof D.h)J.warn(Q.message);else{const a=Ua.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});J.warn(a.message)}}}function la(a){return`${a.name}!${a.options.appId}`}class ra{constructor(a){this.container=a,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this.Nd=new Ka(x),this._heartbeatsCachePromise=this.Nd.read().then((a=>(this._heartbeatsCache=a,a)))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),x=Ja();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==x&&!this._heartbeatsCache.heartbeats.some((a=>a.date===x)))return this._heartbeatsCache.heartbeats.push({date:x,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((a=>{const x=new Date(a.date).valueOf();return Date.now()-x<=2592e6})),this.Nd.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const a=Ja(),{heartbeatsToSend:x,unsentEntries:Q}=function(a){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let s=a.slice();for(const h of a){const a=Q.find((a=>a.agent===h.agent));if(a){if(a.dates.push(h.date),Ea(Q)>x){a.dates.pop();break}}else if(Q.push({agent:h.agent,dates:[h.date]}),Ea(Q)>x){Q.pop();break}s=s.slice(1)}return{heartbeatsToSend:Q,unsentEntries:s}}(this._heartbeatsCache.heartbeats),s=(0,D.n)(JSON.stringify({version:2,heartbeats:x}));return this._heartbeatsCache.lastSentHeartbeatDate=a,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.Nd.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Nd.overwrite(this._heartbeatsCache)),s}}function Ja(){return(new Date).toISOString().substring(0,10)}class Ka{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,D.P)()&&(0,D.Z)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(a){try{const x=await Fa();return await x.transaction(ya).objectStore(ya).get(la(a))}catch(x){if(x instanceof D.h)J.warn(x.message);else{const a=Ua.create("idb-get",{originalErrorMessage:null===x||void 0===x?void 0:x.message});J.warn(a.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(a){var x;if(await this._canUseIndexedDBPromise){const Q=await this.read();return ga(this.app,{lastSentHeartbeatDate:null!==(x=a.lastSentHeartbeatDate)&&void 0!==x?x:Q.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){var x;if(await this._canUseIndexedDBPromise){const Q=await this.read();return ga(this.app,{lastSentHeartbeatDate:null!==(x=a.lastSentHeartbeatDate)&&void 0!==x?x:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...a.heartbeats]})}}}function Ea(a){return(0,D.n)(JSON.stringify({version:2,heartbeats:a})).length}var Ga;Ga="",ha(new s.f("platform-logger",(a=>new g(a)),"PRIVATE")),ha(new s.f("heartbeat",(a=>new ra(a)),"PRIVATE")),da(l,r,Ga),da(l,r,"esm2017"),da("fire-js","")},11640:(a,x,Q)=>{Q.d(x,{b:()=>C,f:()=>h});var s=Q(11647);class h{constructor(a,x,Q){this.name=a,this.instanceFactory=x,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}const D="[DEFAULT]";class N{constructor(a,x){this.name=a,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const x=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(x)){const a=new s.e;if(this.instancesDeferred.set(x,a),this.isInitialized(x)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:x});Q&&a.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(x).promise}getImmediate(a){var x;const Q=this.normalizeInstanceIdentifier(null===a||void 0===a?void 0:a.identifier),s=null!==(x=null===a||void 0===a?void 0:a.optional)&&void 0!==x&&x;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(h){if(s)return null;throw h}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(function(a){return"EAGER"===a.instantiationMode}(a))try{this.getOrInitializeService({instanceIdentifier:D})}catch(x){}for(const[a,Q]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);try{const a=this.getOrInitializeService({instanceIdentifier:s});Q.resolve(a)}catch(x){}}}}clearInstance(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter((a=>"INTERNAL"in a)).map((a=>a.INTERNAL.delete())),...a.filter((a=>"_delete"in a)).map((a=>a._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(a)}getOptions(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(a)||{}}initialize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:x={}}=a,Q=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:Q,options:x});for(const[h,D]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(h)&&D.resolve(s)}return s}$k(a,x){var Q;const s=this.normalizeInstanceIdentifier(x),h=null!==(Q=this.onInitCallbacks.get(s))&&void 0!==Q?Q:new Set;h.add(a),this.onInitCallbacks.set(s,h);const D=this.instances.get(s);return D&&a(D,s),()=>{h.delete(a)}}invokeOnInitCallbacks(a,x){const Q=this.onInitCallbacks.get(x);if(Q)for(const h of Q)try{h(a,x)}catch(s){}}getOrInitializeService(a){let{instanceIdentifier:x,options:Q={}}=a,s=this.instances.get(x);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(h=x,h===D?void 0:h),options:Q}),this.instances.set(x,s),this.instancesOptions.set(x,Q),this.invokeOnInitCallbacks(s,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,s)}catch(N){}var h;return s||null}normalizeInstanceIdentifier(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?a:D:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class C{constructor(a){this.name=a,this.providers=new Map}Qg(a){const x=this.getProvider(a.name);if(x.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);x.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.Qg(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const x=new N(a,this);return this.providers.set(a,x),x}getProviders(){return Array.from(this.providers.values())}}},11656:(a,x,Q)=>{Q.d(x,{d:()=>h,g:()=>U,h:()=>W,j:()=>v});const s=[];var h;!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(h||(h={}));const D={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},N=h.INFO,C={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},R=function(a,x){if(x<a.logLevel)return;const Q=(new Date).toISOString(),s=C[x];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`);for(var h=arguments.length,D=new Array(h>2?h-2:0),N=2;N<h;N++)D[N-2]=arguments[N];console[s](`[${Q}]  ${a.name}:`,...D)};class U{constructor(a){this.name=a,this._logLevel=N,this._logHandler=R,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in h))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"===typeof a?D[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(){for(var a=arguments.length,x=new Array(a),Q=0;Q<a;Q++)x[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...x),this._logHandler(this,h.DEBUG,...x)}log(){for(var a=arguments.length,x=new Array(a),Q=0;Q<a;Q++)x[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...x),this._logHandler(this,h.VERBOSE,...x)}info(){for(var a=arguments.length,x=new Array(a),Q=0;Q<a;Q++)x[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,h.INFO,...x),this._logHandler(this,h.INFO,...x)}warn(){for(var a=arguments.length,x=new Array(a),Q=0;Q<a;Q++)x[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,h.WARN,...x),this._logHandler(this,h.WARN,...x)}error(){for(var a=arguments.length,x=new Array(a),Q=0;Q<a;Q++)x[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,h.ERROR,...x),this._logHandler(this,h.ERROR,...x)}}function W(a){s.forEach((x=>{x.setLogLevel(a)}))}function v(a,x){for(const Q of s){let s=null;x&&x.level&&(s=D[x.level]),Q.userLogHandler=null===a?null:function(x,Q){for(var D=arguments.length,N=new Array(D>2?D-2:0),C=2;C<D;C++)N[C-2]=arguments[C];const R=N.map((a=>{if(null==a)return null;if("string"===typeof a)return a;if("number"===typeof a||"boolean"===typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(x){return null}})).filter((a=>a)).join(" ");Q>=(null!==s&&void 0!==s?s:x.logLevel)&&a({level:h[Q].toLowerCase(),message:R,args:N,type:x.name})}}}}}]);