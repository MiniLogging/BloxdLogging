/*! For license information please see jxowld.18.d74766a1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[18],{11487:(B,o,e)=>{e.d(o,{B:()=>w,E:()=>G,H:()=>L,J:()=>n,K:()=>X,N:()=>R,R:()=>I,S:()=>H,W:()=>W,X:()=>b,Z:()=>U,ab:()=>T,d:()=>u,g:()=>Q,j:()=>V,k:()=>s,l:()=>Z,n:()=>J,q:()=>E,r:()=>j,s:()=>l,t:()=>M,v:()=>K,x:()=>O});const k=function(B){const o=[];let e=0;for(let k=0;k<B.length;k++){let d=B.charCodeAt(k);d<128?o[e++]=d:d<2048?(o[e++]=d>>6|192,o[e++]=63&d|128):55296===(64512&d)&&k+1<B.length&&56320===(64512&B.charCodeAt(k+1))?(d=65536+((1023&d)<<10)+(1023&B.charCodeAt(++k)),o[e++]=d>>18|240,o[e++]=d>>12&63|128,o[e++]=d>>6&63|128,o[e++]=63&d|128):(o[e++]=d>>12|224,o[e++]=d>>6&63|128,o[e++]=63&d|128)}return o},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(B,o){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let d=0;d<B.length;d+=3){const o=B[d],f=d+1<B.length,J=f?B[d+1]:0,Z=d+2<B.length,t=Z?B[d+2]:0,h=o>>2,O=(3&o)<<4|J>>4;let K=(15&J)<<2|t>>6,w=63&t;Z||(w=64,f||(K=64)),k.push(e[h],e[O],e[K],e[w])}return k.join("")},encodeString(B,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(B):this.encodeByteArray(k(B),o)},decodeString(B,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(B):function(B){const o=[];let e=0,k=0;for(;e<B.length;){const d=B[e++];if(d<128)o[k++]=String.fromCharCode(d);else if(d>191&&d<224){const f=B[e++];o[k++]=String.fromCharCode((31&d)<<6|63&f)}else if(d>239&&d<365){const f=((7&d)<<18|(63&B[e++])<<12|(63&B[e++])<<6|63&B[e++])-65536;o[k++]=String.fromCharCode(55296+(f>>10)),o[k++]=String.fromCharCode(56320+(1023&f))}else{const f=B[e++],J=B[e++];o[k++]=String.fromCharCode((15&d)<<12|(63&f)<<6|63&J)}}return o.join("")}(this.decodeStringToByteArray(B,o))},decodeStringToByteArray(B,o){this.init_();const e=o?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let d=0;d<B.length;){const o=e[B.charAt(d++)],J=d<B.length?e[B.charAt(d)]:0;++d;const Z=d<B.length?e[B.charAt(d)]:64;++d;const t=d<B.length?e[B.charAt(d)]:64;if(++d,null==o||null==J||null==Z||null==t)throw new f;const h=o<<2|J>>4;if(k.push(h),64!==Z){const B=J<<4&240|Z>>2;if(k.push(B),64!==t){const B=Z<<6&192|t;k.push(B)}}}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J=function(B){return function(B){const o=k(B);return d.encodeByteArray(o,!0)}(B).replace(/\./g,"")},Z=function(B){try{return d.decodeString(B,!0)}catch(o){console.error("base64Decode failed: ",o)}return null};const t=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return t()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const o=B&&Z(B[1]);return o&&JSON.parse(o)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},O=B=>{var o,e;return null===(e=null===(o=h())||void 0===o?void 0:o.emulatorHosts)||void 0===e?void 0:e[B]},K=()=>{var B;return null===(B=h())||void 0===B?void 0:B.config},w=B=>{var o;return null===(o=h())||void 0===o?void 0:o[`_${B}`]};class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((B,o)=>{this.resolve=B,this.reject=o}))}wrapCallback(B){return(o,e)=>{o?this.reject(o):this.resolve(e),"function"===typeof B&&(this.promise.catch((()=>{})),1===B.length?B(o):B(o,e))}}}function L(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function n(){const B="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof B&&void 0!==B.id}function W(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){const B=L();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function I(){try{return"object"===typeof indexedDB}catch(B){return!1}}function T(){return new Promise(((B,o)=>{try{let e=!0;const k="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(k);d.onsuccess=()=>{d.result.close(),e||self.indexedDB.deleteDatabase(k),B(!0)},d.onupgradeneeded=()=>{e=!1},d.onerror=()=>{var B;o((null===(B=d.error)||void 0===B?void 0:B.message)||"")}}catch(e){o(e)}}))}function s(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class V extends Error{constructor(B,o,e){super(o),this.code=B,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(B,o,e){this.service=B,this.serviceName=o,this.errors=e}create(B){const o=(arguments.length<=1?void 0:arguments[1])||{},e=`${this.service}/${B}`,k=this.errors[B],d=k?function(B,o){return B.replace(p,((B,e)=>{const k=o[e];return null!=k?String(k):`<${e}?>`}))}(k,o):"Error",f=`${this.serviceName}: ${d} (${e}).`;return new V(e,f,o)}}const p=/\{\$([^}]+)}/g;function X(B){for(const o in B)if(Object.prototype.hasOwnProperty.call(B,o))return!1;return!0}function l(B,o){if(B===o)return!0;const e=Object.keys(B),k=Object.keys(o);for(const d of e){if(!k.includes(d))return!1;const e=B[d],f=o[d];if(v(e)&&v(f)){if(!l(e,f))return!1}else if(e!==f)return!1}for(const d of k)if(!e.includes(d))return!1;return!0}function v(B){return null!==B&&"object"===typeof B}function U(B){const o=[];for(const[e,k]of Object.entries(B))Array.isArray(k)?k.forEach((B=>{o.push(encodeURIComponent(e)+"="+encodeURIComponent(B))})):o.push(encodeURIComponent(e)+"="+encodeURIComponent(k));return o.length?"&"+o.join("&"):""}function b(B){const o={};return B.replace(/^\?/,"").split("&").forEach((B=>{if(B){const[e,k]=B.split("=");o[decodeURIComponent(e)]=decodeURIComponent(k)}})),o}function M(B){const o=B.indexOf("?");if(!o)return"";const e=B.indexOf("#",o);return B.substring(o,e>0?e:void 0)}function j(B,o){const e=new z(B,o);return e.subscribe.bind(e)}class z{constructor(B,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then((()=>{B(this)})).catch((B=>{this.error(B)}))}next(B){this.forEachObserver((o=>{o.next(B)}))}error(B){this.forEachObserver((o=>{o.error(B)})),this.close(B)}complete(){this.forEachObserver((B=>{B.complete()})),this.close()}subscribe(B,o,e){let k;if(void 0===B&&void 0===o&&void 0===e)throw new Error("Missing Observer.");k=function(B,o){if("object"!==typeof B||null===B)return!1;for(const e of o)if(e in B&&"function"===typeof B[e])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:o,complete:e},void 0===k.next&&(k.next=N),void 0===k.error&&(k.error=N),void 0===k.complete&&(k.complete=N);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(B){}})),this.observers.push(k),d}unsubscribeOne(B){void 0!==this.observers&&void 0!==this.observers[B]&&(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,B)}sendOne(B,o){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{o(this.observers[B])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}const x=1e3,D=2,r=144e5,Y=.5;function E(B){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:x)*Math.pow(o,B),k=Math.round(Y*e*(Math.random()-.5)*2);return Math.min(r,e+k)}function G(B){return B&&B._delegate?B._delegate:B}},11480:(B,o,e)=>{e.d(o,{b:()=>f.j,f:()=>KB,i:()=>C,m:()=>eB,n:()=>kB,q:()=>BB,t:()=>ZB,u:()=>oB,w:()=>fB,y:()=>dB,C:()=>JB,E:()=>HB,K:()=>uB,G:()=>LB,M:()=>wB,O:()=>WB,S:()=>nB,W:()=>RB});var k=e(11485),d=e(11495),f=e(11487);let J,Z;const t=new WeakMap,h=new WeakMap,O=new WeakMap,K=new WeakMap,w=new WeakMap;let u={get(B,o,e){if(B instanceof IDBTransaction){if("done"===o)return h.get(B);if("objectStoreNames"===o)return B.objectStoreNames||O.get(B);if("store"===o)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return n(B[o])},set:(B,o,e)=>(B[o]=e,!0),has:(B,o)=>B instanceof IDBTransaction&&("done"===o||"store"===o)||o in B};function L(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(B)?function(){for(var o=arguments.length,e=new Array(o),k=0;k<o;k++)e[k]=arguments[k];return B.apply(W(this),e),n(t.get(this))}:function(){for(var o=arguments.length,e=new Array(o),k=0;k<o;k++)e[k]=arguments[k];return n(B.apply(W(this),e))}:function(o){for(var e=arguments.length,k=new Array(e>1?e-1:0),d=1;d<e;d++)k[d-1]=arguments[d];const f=B.call(W(this),o,...k);return O.set(f,o.sort?o.sort():[o]),n(f)}}function H(B){return"function"===typeof B?L(B):(B instanceof IDBTransaction&&function(B){if(h.has(B))return;const o=new Promise(((o,e)=>{const k=()=>{B.removeEventListener("complete",d),B.removeEventListener("error",f),B.removeEventListener("abort",f)},d=()=>{o(),k()},f=()=>{e(B.error||new DOMException("AbortError","AbortError")),k()};B.addEventListener("complete",d),B.addEventListener("error",f),B.addEventListener("abort",f)}));h.set(B,o)}(B),o=B,(J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((B=>o instanceof B))?new Proxy(B,u):B);var o}function n(B){if(B instanceof IDBRequest)return function(B){const o=new Promise(((o,e)=>{const k=()=>{B.removeEventListener("success",d),B.removeEventListener("error",f)},d=()=>{o(n(B.result)),k()},f=()=>{e(B.error),k()};B.addEventListener("success",d),B.addEventListener("error",f)}));return o.then((o=>{o instanceof IDBCursor&&t.set(o,B)})).catch((()=>{})),w.set(o,B),o}(B);if(K.has(B))return K.get(B);const o=H(B);return o!==B&&(K.set(B,o),w.set(o,B)),o}const W=B=>w.get(B);const R=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],T=new Map;function s(B,o){if(!(B instanceof IDBDatabase)||o in B||"string"!==typeof o)return;if(T.get(o))return T.get(o);const e=o.replace(/FromIndex$/,""),k=o!==e,d=I.includes(e);if(!(e in(k?IDBIndex:IDBObjectStore).prototype)||!d&&!R.includes(e))return;const f=async function(B){const o=this.transaction(B,d?"readwrite":"readonly");let f=o.store;for(var J=arguments.length,Z=new Array(J>1?J-1:0),t=1;t<J;t++)Z[t-1]=arguments[t];return k&&(f=f.index(Z.shift())),(await Promise.all([f[e](...Z),d&&o.done]))[0]};return T.set(o,f),f}u=(B=>({...B,get:(o,e,k)=>s(o,e)||B.get(o,e,k),has:(o,e)=>!!s(o,e)||B.has(o,e)}))(u);class V{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map((B=>{if(function(B){const o=B.getComponent();return"VERSION"===(null===o||void 0===o?void 0:o.type)}(B)){const o=B.getImmediate();return`${o.library}/${o.version}`}return null})).filter((B=>B)).join(" ")}}const Q="@firebase/app",p="0.9.13",X=new d.h("@firebase/app"),l="@firebase/app-compat",v="@firebase/analytics-compat",U="@firebase/analytics",b="@firebase/app-check-compat",M="@firebase/app-check",j="@firebase/auth",z="@firebase/auth-compat",N="@firebase/database",x="@firebase/database-compat",D="@firebase/functions",r="@firebase/functions-compat",Y="@firebase/installations",E="@firebase/installations-compat",G="@firebase/messaging",A="@firebase/messaging-compat",g="@firebase/performance",c="@firebase/performance-compat",i="@firebase/remote-config",F="@firebase/remote-config-compat",y="@firebase/storage",q="@firebase/storage-compat",a="@firebase/firestore",m="@firebase/firestore-compat",P="firebase",C="[DEFAULT]",S={[Q]:"fire-core",[l]:"fire-core-compat",[U]:"fire-analytics",[v]:"fire-analytics-compat",[M]:"fire-app-check",[b]:"fire-app-check-compat",[j]:"fire-auth",[z]:"fire-auth-compat",[N]:"fire-rtdb",[x]:"fire-rtdb-compat",[D]:"fire-fn",[r]:"fire-fn-compat",[Y]:"fire-iid",[E]:"fire-iid-compat",[G]:"fire-fcm",[A]:"fire-fcm-compat",[g]:"fire-perf",[c]:"fire-perf-compat",[i]:"fire-rc",[F]:"fire-rc-compat",[y]:"fire-gcs",[q]:"fire-gcs-compat",[a]:"fire-fst",[m]:"fire-fst-compat","fire-js":"fire-js",[P]:"fire-js-all"},BB=new Map,oB=new Map;function eB(B,o){try{B.container.Rg(o)}catch(e){X.debug(`Component ${o.name} failed to register with FirebaseApp ${B.name}`,e)}}function kB(B,o){B.container.addOrOverwriteComponent(o)}function dB(B){const o=B.name;if(oB.has(o))return X.debug(`There were multiple attempts to register component ${o}.`),!1;oB.set(o,B);for(const e of BB.values())eB(e,B);return!0}function fB(B,o){const e=B.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),B.container.getProvider(o)}function JB(B,o){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;fB(B,o).clearInstance(e)}function ZB(){oB.clear()}const tB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},hB=new f.g("app","Firebase",tB);class OB{constructor(B,o,e){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=e,this.container.Rg(new k.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw hB.create("app-deleted",{appName:this._name})}}const KB="9.23.0";function wB(B){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=B;if("object"!==typeof o){o={name:o}}const d=Object.assign({name:C,automaticDataCollectionEnabled:!1},o),J=d.name;if("string"!==typeof J||!J)throw hB.create("bad-app-name",{appName:String(J)});if(e||(e=(0,f.v)()),!e)throw hB.create("no-options");const Z=BB.get(J);if(Z){if((0,f.s)(e,Z.options)&&(0,f.s)(d,Z.config))return Z;throw hB.create("duplicate-app",{appName:J})}const t=new k.d(J);for(const k of oB.values())t.Rg(k);const h=new OB(e,d,t);return BB.set(J,h),h}function uB(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const o=BB.get(B);if(!o&&B===C&&(0,f.v)())return wB();if(!o)throw hB.create("no-app",{appName:B});return o}function LB(){return Array.from(BB.values())}async function HB(B){const o=B.name;BB.has(o)&&(BB.delete(o),await Promise.all(B.container.getProviders().map((B=>B.delete()))),B.isDeleted=!0)}function nB(B,o,e){var d;let f=null!==(d=S[B])&&void 0!==d?d:B;e&&(f+=`-${e}`);const J=f.match(/\s|\//),Z=o.match(/\s|\//);if(J||Z){const B=[`Unable to register library "${f}" with version "${o}":`];return J&&B.push(`library name "${f}" contains illegal characters (whitespace or "/")`),J&&Z&&B.push("and"),Z&&B.push(`version name "${o}" contains illegal characters (whitespace or "/")`),void X.warn(B.join(" "))}dB(new k.f(`${f}-version`,(()=>({library:f,version:o})),"VERSION"))}function WB(B,o){if(null!==B&&"function"!==typeof B)throw hB.create("invalid-log-argument");(0,d.l)(B,o)}function RB(B){(0,d.j)(B)}const IB="firebase-heartbeat-store";let TB=null;function sB(){return TB||(TB=function(B,o){let{blocked:e,upgrade:k,blocking:d,terminated:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const J=indexedDB.open(B,o),Z=n(J);return k&&J.addEventListener("upgradeneeded",(B=>{k(n(J.result),B.oldVersion,B.newVersion,n(J.transaction),B)})),e&&J.addEventListener("blocked",(B=>e(B.oldVersion,B.newVersion,B))),Z.then((B=>{f&&B.addEventListener("close",(()=>f())),d&&B.addEventListener("versionchange",(B=>d(B.oldVersion,B.newVersion,B)))})).catch((()=>{})),Z}("firebase-heartbeat-database",1,{upgrade:(B,o)=>{if(0===o)B.createObjectStore(IB)}}).catch((B=>{throw hB.create("idb-open",{originalErrorMessage:B.message})}))),TB}async function VB(B,o){try{const e=(await sB()).transaction(IB,"readwrite"),k=e.objectStore(IB);await k.put(o,QB(B)),await e.done}catch(e){if(e instanceof f.j)X.warn(e.message);else{const B=hB.create("idb-set",{originalErrorMessage:null===e||void 0===e?void 0:e.message});X.warn(B.message)}}}function QB(B){return`${B.name}!${B.options.appId}`}class pB{constructor(B){this.container=B,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this.Ld=new lB(o),this._heartbeatsCachePromise=this.Ld.read().then((B=>(this._heartbeatsCache=B,B)))}async triggerHeartbeat(){const B=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=XB();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==o&&!this._heartbeatsCache.heartbeats.some((B=>B.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:B}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((B=>{const o=new Date(B.date).valueOf();return Date.now()-o<=2592e6})),this.Ld.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const B=XB(),{heartbeatsToSend:o,unsentEntries:e}=function(B){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const e=[];let k=B.slice();for(const d of B){const B=e.find((B=>B.agent===d.agent));if(B){if(B.dates.push(d.date),vB(e)>o){B.dates.pop();break}}else if(e.push({agent:d.agent,dates:[d.date]}),vB(e)>o){e.pop();break}k=k.slice(1)}return{heartbeatsToSend:e,unsentEntries:k}}(this._heartbeatsCache.heartbeats),k=(0,f.n)(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=B,e.length>0?(this._heartbeatsCache.heartbeats=e,await this.Ld.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ld.overwrite(this._heartbeatsCache)),k}}function XB(){return(new Date).toISOString().substring(0,10)}class lB{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,f.R)()&&(0,f.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(B){try{const o=await sB();return await o.transaction(IB).objectStore(IB).get(QB(B))}catch(o){if(o instanceof f.j)X.warn(o.message);else{const B=hB.create("idb-get",{originalErrorMessage:null===o||void 0===o?void 0:o.message});X.warn(B.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(B){var o;if(await this._canUseIndexedDBPromise){const e=await this.read();return VB(this.app,{lastSentHeartbeatDate:null!==(o=B.lastSentHeartbeatDate)&&void 0!==o?o:e.lastSentHeartbeatDate,heartbeats:B.heartbeats})}}async add(B){var o;if(await this._canUseIndexedDBPromise){const e=await this.read();return VB(this.app,{lastSentHeartbeatDate:null!==(o=B.lastSentHeartbeatDate)&&void 0!==o?o:e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...B.heartbeats]})}}}function vB(B){return(0,f.n)(JSON.stringify({version:2,heartbeats:B})).length}var UB;UB="",dB(new k.f("platform-logger",(B=>new V(B)),"PRIVATE")),dB(new k.f("heartbeat",(B=>new pB(B)),"PRIVATE")),nB(Q,p,UB),nB(Q,p,"esm2017"),nB("fire-js","")},11485:(B,o,e)=>{e.d(o,{d:()=>Z,f:()=>d});var k=e(11487);class d{constructor(B,o,e){this.name=B,this.instanceFactory=o,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const f="[DEFAULT]";class J{constructor(B,o){this.name=B,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const o=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(o)){const B=new k.d;if(this.instancesDeferred.set(o,B),this.isInitialized(o)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:o});e&&B.resolve(e)}catch(e){}}return this.instancesDeferred.get(o).promise}getImmediate(B){var o;const e=this.normalizeInstanceIdentifier(null===B||void 0===B?void 0:B.identifier),k=null!==(o=null===B||void 0===B?void 0:B.optional)&&void 0!==o&&o;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(d){if(k)return null;throw d}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function(B){return"EAGER"===B.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:f})}catch(o){}for(const[B,e]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(B);try{const B=this.getOrInitializeService({instanceIdentifier:k});e.resolve(B)}catch(o){}}}}clearInstance(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}async delete(){const B=Array.from(this.instances.values());await Promise.all([...B.filter((B=>"INTERNAL"in B)).map((B=>B.INTERNAL.delete())),...B.filter((B=>"_delete"in B)).map((B=>B._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(B)}getOptions(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(B)||{}}initialize(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:o={}}=B,e=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(e))throw Error(`${this.name}(${e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:e,options:o});for(const[d,f]of this.instancesDeferred.entries()){e===this.normalizeInstanceIdentifier(d)&&f.resolve(k)}return k}$k(B,o){var e;const k=this.normalizeInstanceIdentifier(o),d=null!==(e=this.onInitCallbacks.get(k))&&void 0!==e?e:new Set;d.add(B),this.onInitCallbacks.set(k,d);const f=this.instances.get(k);return f&&B(f,k),()=>{d.delete(B)}}invokeOnInitCallbacks(B,o){const e=this.onInitCallbacks.get(o);if(e)for(const d of e)try{d(B,o)}catch(k){}}getOrInitializeService(B){let{instanceIdentifier:o,options:e={}}=B,k=this.instances.get(o);if(!k&&this.component&&(k=this.component.instanceFactory(this.container,{instanceIdentifier:(d=o,d===f?void 0:d),options:e}),this.instances.set(o,k),this.instancesOptions.set(o,e),this.invokeOnInitCallbacks(k,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,k)}catch(J){}var d;return k||null}normalizeInstanceIdentifier(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?B:f:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(B){this.name=B,this.providers=new Map}Rg(B){const o=this.getProvider(B.name);if(o.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);o.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.Rg(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const o=new J(B,this);return this.providers.set(B,o),o}getProviders(){return Array.from(this.providers.values())}}},11495:(B,o,e)=>{e.d(o,{d:()=>d,h:()=>h,j:()=>O,l:()=>K});const k=[];var d;!function(B){B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT"}(d||(d={}));const f={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},J=d.INFO,Z={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},t=function(B,o){if(o<B.logLevel)return;const e=(new Date).toISOString(),k=Z[o];if(!k)throw new Error(`Attempted to log a message with an invalid logType (value: ${o})`);for(var d=arguments.length,f=new Array(d>2?d-2:0),J=2;J<d;J++)f[J-2]=arguments[J];console[k](`[${e}]  ${B.name}:`,...f)};class h{constructor(B){this.name=B,this._logLevel=J,this._logHandler=t,this._userLogHandler=null,k.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in d))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"===typeof B?f[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!==typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(){for(var B=arguments.length,o=new Array(B),e=0;e<B;e++)o[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...o),this._logHandler(this,d.DEBUG,...o)}log(){for(var B=arguments.length,o=new Array(B),e=0;e<B;e++)o[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...o),this._logHandler(this,d.VERBOSE,...o)}info(){for(var B=arguments.length,o=new Array(B),e=0;e<B;e++)o[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,d.INFO,...o),this._logHandler(this,d.INFO,...o)}warn(){for(var B=arguments.length,o=new Array(B),e=0;e<B;e++)o[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,d.WARN,...o),this._logHandler(this,d.WARN,...o)}error(){for(var B=arguments.length,o=new Array(B),e=0;e<B;e++)o[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,d.ERROR,...o),this._logHandler(this,d.ERROR,...o)}}function O(B){k.forEach((o=>{o.setLogLevel(B)}))}function K(B,o){for(const e of k){let k=null;o&&o.level&&(k=f[o.level]),e.userLogHandler=null===B?null:function(o,e){for(var f=arguments.length,J=new Array(f>2?f-2:0),Z=2;Z<f;Z++)J[Z-2]=arguments[Z];const t=J.map((B=>{if(null==B)return null;if("string"===typeof B)return B;if("number"===typeof B||"boolean"===typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch(o){return null}})).filter((B=>B)).join(" ");e>=(null!==k&&void 0!==k?k:o.logLevel)&&B({level:d[e].toLowerCase(),message:t,args:J,type:o.name})}}}}}]);