/*! For license information please see je6g9o.22.2224dcc2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[22],{11873:(v,d,Q)=>{Q.d(d,{A:()=>y,B:()=>u,E:()=>z,H:()=>q,L:()=>X,M:()=>V,N:()=>o,P:()=>S,T:()=>A,V:()=>m,Z:()=>h,_:()=>Y,ab:()=>M,b:()=>B,d:()=>J,db:()=>f,e:()=>O,g:()=>P,j:()=>F,m:()=>e,q:()=>W,u:()=>i,v:()=>g,z:()=>D});const n=function(v){const d=[];let Q=0;for(let n=0;n<v.length;n++){let T=v.charCodeAt(n);T<128?d[Q++]=T:T<2048?(d[Q++]=T>>6|192,d[Q++]=63&T|128):55296===(64512&T)&&n+1<v.length&&56320===(64512&v.charCodeAt(n+1))?(T=65536+((1023&T)<<10)+(1023&v.charCodeAt(++n)),d[Q++]=T>>18|240,d[Q++]=T>>12&63|128,d[Q++]=T>>6&63|128,d[Q++]=63&T|128):(d[Q++]=T>>12|224,d[Q++]=T>>6&63|128,d[Q++]=63&T|128)}return d},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(v,d){if(!Array.isArray(v))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let T=0;T<v.length;T+=3){const d=v[T],L=T+1<v.length,e=L?v[T+1]:0,F=T+2<v.length,r=F?v[T+2]:0,C=d>>2,u=(3&d)<<4|e>>4;let y=(15&e)<<2|r>>6,z=63&r;F||(z=64,L||(y=64)),n.push(Q[C],Q[u],Q[y],Q[z])}return n.join("")},encodeString(v,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(v):this.encodeByteArray(n(v),d)},decodeString(v,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(v):function(v){const d=[];let Q=0,n=0;for(;Q<v.length;){const T=v[Q++];if(T<128)d[n++]=String.fromCharCode(T);else if(T>191&&T<224){const L=v[Q++];d[n++]=String.fromCharCode((31&T)<<6|63&L)}else if(T>239&&T<365){const L=((7&T)<<18|(63&v[Q++])<<12|(63&v[Q++])<<6|63&v[Q++])-65536;d[n++]=String.fromCharCode(55296+(L>>10)),d[n++]=String.fromCharCode(56320+(1023&L))}else{const L=v[Q++],e=v[Q++];d[n++]=String.fromCharCode((15&T)<<12|(63&L)<<6|63&e)}}return d.join("")}(this.decodeStringToByteArray(v,d))},decodeStringToByteArray(v,d){this.init_();const Q=d?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let T=0;T<v.length;){const d=Q[v.charAt(T++)],e=T<v.length?Q[v.charAt(T)]:0;++T;const F=T<v.length?Q[v.charAt(T)]:64;++T;const r=T<v.length?Q[v.charAt(T)]:64;if(++T,null==d||null==e||null==F||null==r)throw new L;const C=d<<2|e>>4;if(n.push(C),64!==F){const v=e<<4&240|F>>2;if(n.push(v),64!==r){const v=F<<6&192|r;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let v=0;v<this.ENCODED_VALS.length;v++)this.byteToCharMap_[v]=this.ENCODED_VALS.charAt(v),this.charToByteMap_[this.byteToCharMap_[v]]=v,this.byteToCharMapWebSafe_[v]=this.ENCODED_VALS_WEBSAFE.charAt(v),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[v]]=v,v>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(v)]=v,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(v)]=v)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e=function(v){return function(v){const d=n(v);return T.encodeByteArray(d,!0)}(v).replace(/\./g,"")},F=function(v){try{return T.decodeString(v,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};const r=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,C=()=>{try{return r()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let v;try{v=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const d=v&&F(v[1]);return d&&JSON.parse(d)})()}catch(v){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${v}`)}},u=v=>{var d,Q;return null===(Q=null===(d=C())||void 0===d?void 0:d.emulatorHosts)||void 0===Q?void 0:Q[v]},y=()=>{var v;return null===(v=C())||void 0===v?void 0:v.config},z=v=>{var d;return null===(d=C())||void 0===d?void 0:d[`_${v}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((v,d)=>{this.resolve=v,this.reject=d}))}wrapCallback(v){return(d,Q)=>{d?this.reject(d):this.resolve(Q),"function"===typeof v&&(this.promise.catch((()=>{})),1===v.length?v(d):v(d,Q))}}}function X(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function V(){const v="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof v&&void 0!==v.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){const v=X();return v.indexOf("MSIE ")>=0||v.indexOf("Trident/")>=0}function A(){try{return"object"===typeof indexedDB}catch(v){return!1}}function f(){return new Promise(((v,d)=>{try{let Q=!0;const n="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(n);T.onsuccess=()=>{T.result.close(),Q||self.indexedDB.deleteDatabase(n),v(!0)},T.onupgradeneeded=()=>{Q=!1},T.onerror=()=>{var v;d((null===(v=T.error)||void 0===v?void 0:v.message)||"")}}catch(Q){d(Q)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class O extends Error{constructor(v,d,Q){super(d),this.code=v,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(v,d,Q){this.service=v,this.serviceName=d,this.errors=Q}create(v){const d=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${v}`,n=this.errors[v],T=n?function(v,d){return v.replace(K,((v,Q)=>{const n=d[Q];return null!=n?String(n):`<${Q}?>`}))}(n,d):"Error",L=`${this.serviceName}: ${T} (${Q}).`;return new O(Q,L,d)}}const K=/\{\$([^}]+)}/g;function o(v){for(const d in v)if(Object.prototype.hasOwnProperty.call(v,d))return!1;return!0}function g(v,d){if(v===d)return!0;const Q=Object.keys(v),n=Object.keys(d);for(const T of Q){if(!n.includes(T))return!1;const Q=v[T],L=d[T];if(R(Q)&&R(L)){if(!g(Q,L))return!1}else if(Q!==L)return!1}for(const T of n)if(!Q.includes(T))return!1;return!0}function R(v){return null!==v&&"object"===typeof v}function M(v){const d=[];for(const[Q,n]of Object.entries(v))Array.isArray(n)?n.forEach((v=>{d.push(encodeURIComponent(Q)+"="+encodeURIComponent(v))})):d.push(encodeURIComponent(Q)+"="+encodeURIComponent(n));return d.length?"&"+d.join("&"):""}function Y(v){const d={};return v.replace(/^\?/,"").split("&").forEach((v=>{if(v){const[Q,n]=v.split("=");d[decodeURIComponent(Q)]=decodeURIComponent(n)}})),d}function D(v){const d=v.indexOf("?");if(!d)return"";const Q=v.indexOf("#",d);return v.substring(d,Q>0?Q:void 0)}function i(v,d){const Q=new Z(v,d);return Q.subscribe.bind(Q)}class Z{constructor(v,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then((()=>{v(this)})).catch((v=>{this.error(v)}))}next(v){this.forEachObserver((d=>{d.next(v)}))}error(v){this.forEachObserver((d=>{d.error(v)})),this.close(v)}complete(){this.forEachObserver((v=>{v.complete()})),this.close()}subscribe(v,d,Q){let n;if(void 0===v&&void 0===d&&void 0===Q)throw new Error("Missing Observer.");n=function(v,d){if("object"!==typeof v||null===v)return!1;for(const Q of d)if(Q in v&&"function"===typeof v[Q])return!0;return!1}(v,["next","error","complete"])?v:{next:v,error:d,complete:Q},void 0===n.next&&(n.next=j),void 0===n.error&&(n.error=j),void 0===n.complete&&(n.complete=j);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(v){}})),this.observers.push(n),T}unsubscribeOne(v){void 0!==this.observers&&void 0!==this.observers[v]&&(delete this.observers[v],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(v){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,v)}sendOne(v,d){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[v])try{d(this.observers[v])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(v){this.finalized||(this.finalized=!0,void 0!==v&&(this.finalError=v),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(){}const x=1e3,k=2,t=144e5,p=.5;function W(v){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:x)*Math.pow(d,v),n=Math.round(p*Q*(Math.random()-.5)*2);return Math.min(t,Q+n)}function q(v){return v&&v._delegate?v._delegate:v}},11863:(v,d,Q)=>{Q.d(d,{d:()=>L.e,f:()=>yv,i:()=>N,m:()=>Qv,o:()=>nv,q:()=>vv,u:()=>Fv,v:()=>dv,x:()=>Lv,B:()=>Tv,F:()=>ev,I:()=>mv,L:()=>Bv,K:()=>Xv,M:()=>zv,Q:()=>hv,S:()=>Vv,U:()=>Sv});var n=Q(11870),T=Q(11879),L=Q(11873);let e,F;const r=new WeakMap,C=new WeakMap,u=new WeakMap,y=new WeakMap,z=new WeakMap;let B={get(v,d,Q){if(v instanceof IDBTransaction){if("done"===d)return C.get(v);if("objectStoreNames"===d)return v.objectStoreNames||u.get(v);if("store"===d)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return V(v[d])},set:(v,d,Q)=>(v[d]=Q,!0),has:(v,d)=>v instanceof IDBTransaction&&("done"===d||"store"===d)||d in v};function X(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(v)?function(){for(var d=arguments.length,Q=new Array(d),n=0;n<d;n++)Q[n]=arguments[n];return v.apply(h(this),Q),V(r.get(this))}:function(){for(var d=arguments.length,Q=new Array(d),n=0;n<d;n++)Q[n]=arguments[n];return V(v.apply(h(this),Q))}:function(d){for(var Q=arguments.length,n=new Array(Q>1?Q-1:0),T=1;T<Q;T++)n[T-1]=arguments[T];const L=v.call(h(this),d,...n);return u.set(L,d.sort?d.sort():[d]),V(L)}}function m(v){return"function"===typeof v?X(v):(v instanceof IDBTransaction&&function(v){if(C.has(v))return;const d=new Promise(((d,Q)=>{const n=()=>{v.removeEventListener("complete",T),v.removeEventListener("error",L),v.removeEventListener("abort",L)},T=()=>{d(),n()},L=()=>{Q(v.error||new DOMException("AbortError","AbortError")),n()};v.addEventListener("complete",T),v.addEventListener("error",L),v.addEventListener("abort",L)}));C.set(v,d)}(v),d=v,(e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((v=>d instanceof v))?new Proxy(v,B):v);var d}function V(v){if(v instanceof IDBRequest)return function(v){const d=new Promise(((d,Q)=>{const n=()=>{v.removeEventListener("success",T),v.removeEventListener("error",L)},T=()=>{d(V(v.result)),n()},L=()=>{Q(v.error),n()};v.addEventListener("success",T),v.addEventListener("error",L)}));return d.then((d=>{d instanceof IDBCursor&&r.set(d,v)})).catch((()=>{})),z.set(d,v),d}(v);if(y.has(v))return y.get(v);const d=m(v);return d!==v&&(y.set(v,d),z.set(d,v)),d}const h=v=>z.get(v);const S=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],f=new Map;function P(v,d){if(!(v instanceof IDBDatabase)||d in v||"string"!==typeof d)return;if(f.get(d))return f.get(d);const Q=d.replace(/FromIndex$/,""),n=d!==Q,T=A.includes(Q);if(!(Q in(n?IDBIndex:IDBObjectStore).prototype)||!T&&!S.includes(Q))return;const L=async function(v){const d=this.transaction(v,T?"readwrite":"readonly");let L=d.store;for(var e=arguments.length,F=new Array(e>1?e-1:0),r=1;r<e;r++)F[r-1]=arguments[r];return n&&(L=L.index(F.shift())),(await Promise.all([L[Q](...F),T&&d.done]))[0]};return f.set(d,L),L}B=(v=>({...v,get:(d,Q,n)=>P(d,Q)||v.get(d,Q,n),has:(d,Q)=>!!P(d,Q)||v.has(d,Q)}))(B);class O{constructor(v){this.container=v}getPlatformInfoString(){return this.container.getProviders().map((v=>{if(function(v){const d=v.getComponent();return"VERSION"===(null===d||void 0===d?void 0:d.type)}(v)){const d=v.getImmediate();return`${d.library}/${d.version}`}return null})).filter((v=>v)).join(" ")}}const J="@firebase/app",K="0.9.13",o=new T.f("@firebase/app"),g="@firebase/app-compat",R="@firebase/analytics-compat",M="@firebase/analytics",Y="@firebase/app-check-compat",D="@firebase/app-check",i="@firebase/auth",Z="@firebase/auth-compat",j="@firebase/database",x="@firebase/database-compat",k="@firebase/functions",t="@firebase/functions-compat",p="@firebase/installations",W="@firebase/installations-compat",q="@firebase/messaging",b="@firebase/messaging-compat",H="@firebase/performance",s="@firebase/performance-compat",a="@firebase/remote-config",I="@firebase/remote-config-compat",U="@firebase/storage",c="@firebase/storage-compat",w="@firebase/firestore",G="@firebase/firestore-compat",E="firebase",N="[DEFAULT]",l={[J]:"fire-core",[g]:"fire-core-compat",[M]:"fire-analytics",[R]:"fire-analytics-compat",[D]:"fire-app-check",[Y]:"fire-app-check-compat",[i]:"fire-auth",[Z]:"fire-auth-compat",[j]:"fire-rtdb",[x]:"fire-rtdb-compat",[k]:"fire-fn",[t]:"fire-fn-compat",[p]:"fire-iid",[W]:"fire-iid-compat",[q]:"fire-fcm",[b]:"fire-fcm-compat",[H]:"fire-perf",[s]:"fire-perf-compat",[a]:"fire-rc",[I]:"fire-rc-compat",[U]:"fire-gcs",[c]:"fire-gcs-compat",[w]:"fire-fst",[G]:"fire-fst-compat","fire-js":"fire-js",[E]:"fire-js-all"},vv=new Map,dv=new Map;function Qv(v,d){try{v.container.Qf(d)}catch(Q){o.debug(`Component ${d.name} failed to register with FirebaseApp ${v.name}`,Q)}}function nv(v,d){v.container.addOrOverwriteComponent(d)}function Tv(v){const d=v.name;if(dv.has(d))return o.debug(`There were multiple attempts to register component ${d}.`),!1;dv.set(d,v);for(const Q of vv.values())Qv(Q,v);return!0}function Lv(v,d){const Q=v.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),v.container.getProvider(d)}function ev(v,d){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;Lv(v,d).clearInstance(Q)}function Fv(){dv.clear()}const rv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cv=new L.d("app","Firebase",rv);class uv{constructor(v,d,Q){this._isDeleted=!1,this._options=Object.assign({},v),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=Q,this.container.Qf(new n.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(v){this.checkDestroyed(),this._automaticDataCollectionEnabled=v}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(v){this._isDeleted=v}checkDestroyed(){if(this.isDeleted)throw Cv.create("app-deleted",{appName:this._name})}}const yv="9.23.0";function zv(v){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=v;if("object"!==typeof d){d={name:d}}const T=Object.assign({name:N,automaticDataCollectionEnabled:!1},d),e=T.name;if("string"!==typeof e||!e)throw Cv.create("bad-app-name",{appName:String(e)});if(Q||(Q=(0,L.A)()),!Q)throw Cv.create("no-options");const F=vv.get(e);if(F){if((0,L.v)(Q,F.options)&&(0,L.v)(T,F.config))return F;throw Cv.create("duplicate-app",{appName:e})}const r=new n.e(e);for(const n of dv.values())r.Qf(n);const C=new uv(Q,T,r);return vv.set(e,C),C}function Bv(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;const d=vv.get(v);if(!d&&v===N&&(0,L.A)())return zv();if(!d)throw Cv.create("no-app",{appName:v});return d}function Xv(){return Array.from(vv.values())}async function mv(v){const d=v.name;vv.has(d)&&(vv.delete(d),await Promise.all(v.container.getProviders().map((v=>v.delete()))),v.isDeleted=!0)}function Vv(v,d,Q){var T;let L=null!==(T=l[v])&&void 0!==T?T:v;Q&&(L+=`-${Q}`);const e=L.match(/\s|\//),F=d.match(/\s|\//);if(e||F){const v=[`Unable to register library "${L}" with version "${d}":`];return e&&v.push(`library name "${L}" contains illegal characters (whitespace or "/")`),e&&F&&v.push("and"),F&&v.push(`version name "${d}" contains illegal characters (whitespace or "/")`),void o.warn(v.join(" "))}Tv(new n.h(`${L}-version`,(()=>({library:L,version:d})),"VERSION"))}function hv(v,d){if(null!==v&&"function"!==typeof v)throw Cv.create("invalid-log-argument");(0,T.k)(v,d)}function Sv(v){(0,T.i)(v)}const Av="firebase-heartbeat-store";let fv=null;function Pv(){return fv||(fv=function(v,d){let{blocked:Q,upgrade:n,blocking:T,terminated:L}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const e=indexedDB.open(v,d),F=V(e);return n&&e.addEventListener("upgradeneeded",(v=>{n(V(e.result),v.oldVersion,v.newVersion,V(e.transaction),v)})),Q&&e.addEventListener("blocked",(v=>Q(v.oldVersion,v.newVersion,v))),F.then((v=>{L&&v.addEventListener("close",(()=>L())),T&&v.addEventListener("versionchange",(v=>T(v.oldVersion,v.newVersion,v)))})).catch((()=>{})),F}("firebase-heartbeat-database",1,{upgrade:(v,d)=>{if(0===d)v.createObjectStore(Av)}}).catch((v=>{throw Cv.create("idb-open",{originalErrorMessage:v.message})}))),fv}async function Ov(v,d){try{const Q=(await Pv()).transaction(Av,"readwrite"),n=Q.objectStore(Av);await n.put(d,Jv(v)),await Q.done}catch(Q){if(Q instanceof L.e)o.warn(Q.message);else{const v=Cv.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});o.warn(v.message)}}}function Jv(v){return`${v.name}!${v.options.appId}`}class Kv{constructor(v){this.container=v,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this.nj=new gv(d),this._heartbeatsCachePromise=this.nj.read().then((v=>(this._heartbeatsCache=v,v)))}async triggerHeartbeat(){const v=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=ov();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==d&&!this._heartbeatsCache.heartbeats.some((v=>v.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:v}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((v=>{const d=new Date(v.date).valueOf();return Date.now()-d<=2592e6})),this.nj.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const v=ov(),{heartbeatsToSend:d,unsentEntries:Q}=function(v){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let n=v.slice();for(const T of v){const v=Q.find((v=>v.agent===T.agent));if(v){if(v.dates.push(T.date),Rv(Q)>d){v.dates.pop();break}}else if(Q.push({agent:T.agent,dates:[T.date]}),Rv(Q)>d){Q.pop();break}n=n.slice(1)}return{heartbeatsToSend:Q,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=(0,L.m)(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=v,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.nj.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.nj.overwrite(this._heartbeatsCache)),n}}function ov(){return(new Date).toISOString().substring(0,10)}class gv{constructor(v){this.app=v,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,L.T)()&&(0,L.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(v){try{const d=await Pv();return await d.transaction(Av).objectStore(Av).get(Jv(v))}catch(d){if(d instanceof L.e)o.warn(d.message);else{const v=Cv.create("idb-get",{originalErrorMessage:null===d||void 0===d?void 0:d.message});o.warn(v.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(v){var d;if(await this._canUseIndexedDBPromise){const Q=await this.read();return Ov(this.app,{lastSentHeartbeatDate:null!==(d=v.lastSentHeartbeatDate)&&void 0!==d?d:Q.lastSentHeartbeatDate,heartbeats:v.heartbeats})}}async add(v){var d;if(await this._canUseIndexedDBPromise){const Q=await this.read();return Ov(this.app,{lastSentHeartbeatDate:null!==(d=v.lastSentHeartbeatDate)&&void 0!==d?d:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...v.heartbeats]})}}}function Rv(v){return(0,L.m)(JSON.stringify({version:2,heartbeats:v})).length}var Mv;Mv="",Tv(new n.h("platform-logger",(v=>new O(v)),"PRIVATE")),Tv(new n.h("heartbeat",(v=>new Kv(v)),"PRIVATE")),Vv(J,K,Mv),Vv(J,K,"esm2017"),Vv("fire-js","")},11870:(v,d,Q)=>{Q.d(d,{e:()=>F,h:()=>T});var n=Q(11873);class T{constructor(v,d,Q){this.name=v,this.instanceFactory=d,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(v){return this.instantiationMode=v,this}setMultipleInstances(v){return this.multipleInstances=v,this}setServiceProps(v){return this.serviceProps=v,this}setInstanceCreatedCallback(v){return this.onInstanceCreated=v,this}}const L="[DEFAULT]";class e{constructor(v,d){this.name=v,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(v){const d=this.normalizeInstanceIdentifier(v);if(!this.instancesDeferred.has(d)){const v=new n.b;if(this.instancesDeferred.set(d,v),this.isInitialized(d)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:d});Q&&v.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(d).promise}getImmediate(v){var d;const Q=this.normalizeInstanceIdentifier(null===v||void 0===v?void 0:v.identifier),n=null!==(d=null===v||void 0===v?void 0:v.optional)&&void 0!==d&&d;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(T){if(n)return null;throw T}}getComponent(){return this.component}setComponent(v){if(v.name!==this.name)throw Error(`Mismatching Component ${v.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=v,this.shouldAutoInitialize()){if(function(v){return"EAGER"===v.instantiationMode}(v))try{this.getOrInitializeService({instanceIdentifier:L})}catch(d){}for(const[v,Q]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(v);try{const v=this.getOrInitializeService({instanceIdentifier:n});Q.resolve(v)}catch(d){}}}}clearInstance(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;this.instancesDeferred.delete(v),this.instancesOptions.delete(v),this.instances.delete(v)}async delete(){const v=Array.from(this.instances.values());await Promise.all([...v.filter((v=>"INTERNAL"in v)).map((v=>v.INTERNAL.delete())),...v.filter((v=>"_delete"in v)).map((v=>v._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instances.has(v)}getOptions(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instancesOptions.get(v)||{}}initialize(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:d={}}=v,Q=this.normalizeInstanceIdentifier(v.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:Q,options:d});for(const[T,L]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(T)&&L.resolve(n)}return n}el(v,d){var Q;const n=this.normalizeInstanceIdentifier(d),T=null!==(Q=this.onInitCallbacks.get(n))&&void 0!==Q?Q:new Set;T.add(v),this.onInitCallbacks.set(n,T);const L=this.instances.get(n);return L&&v(L,n),()=>{T.delete(v)}}invokeOnInitCallbacks(v,d){const Q=this.onInitCallbacks.get(d);if(Q)for(const T of Q)try{T(v,d)}catch(n){}}getOrInitializeService(v){let{instanceIdentifier:d,options:Q={}}=v,n=this.instances.get(d);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(T=d,T===L?void 0:T),options:Q}),this.instances.set(d,n),this.instancesOptions.set(d,Q),this.invokeOnInitCallbacks(n,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,n)}catch(e){}var T;return n||null}normalizeInstanceIdentifier(){let v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.component?this.component.multipleInstances?v:L:v}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(v){this.name=v,this.providers=new Map}Qf(v){const d=this.getProvider(v.name);if(d.isComponentSet())throw new Error(`Component ${v.name} has already been registered with ${this.name}`);d.setComponent(v)}addOrOverwriteComponent(v){this.getProvider(v.name).isComponentSet()&&this.providers.delete(v.name),this.Qf(v)}getProvider(v){if(this.providers.has(v))return this.providers.get(v);const d=new e(v,this);return this.providers.set(v,d),d}getProviders(){return Array.from(this.providers.values())}}},11879:(v,d,Q)=>{Q.d(d,{d:()=>T,f:()=>C,i:()=>u,k:()=>y});const n=[];var T;!function(v){v[v.DEBUG=0]="DEBUG",v[v.VERBOSE=1]="VERBOSE",v[v.INFO=2]="INFO",v[v.WARN=3]="WARN",v[v.ERROR=4]="ERROR",v[v.SILENT=5]="SILENT"}(T||(T={}));const L={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},e=T.INFO,F={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},r=function(v,d){if(d<v.logLevel)return;const Q=(new Date).toISOString(),n=F[d];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);for(var T=arguments.length,L=new Array(T>2?T-2:0),e=2;e<T;e++)L[e-2]=arguments[e];console[n](`[${Q}]  ${v.name}:`,...L)};class C{constructor(v){this.name=v,this._logLevel=e,this._logHandler=r,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(v){if(!(v in T))throw new TypeError(`Invalid value "${v}" assigned to \`logLevel\``);this._logLevel=v}setLogLevel(v){this._logLevel="string"===typeof v?L[v]:v}get logHandler(){return this._logHandler}set logHandler(v){if("function"!==typeof v)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=v}get userLogHandler(){return this._userLogHandler}set userLogHandler(v){this._userLogHandler=v}debug(){for(var v=arguments.length,d=new Array(v),Q=0;Q<v;Q++)d[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...d),this._logHandler(this,T.DEBUG,...d)}log(){for(var v=arguments.length,d=new Array(v),Q=0;Q<v;Q++)d[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...d),this._logHandler(this,T.VERBOSE,...d)}info(){for(var v=arguments.length,d=new Array(v),Q=0;Q<v;Q++)d[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,T.INFO,...d),this._logHandler(this,T.INFO,...d)}warn(){for(var v=arguments.length,d=new Array(v),Q=0;Q<v;Q++)d[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,T.WARN,...d),this._logHandler(this,T.WARN,...d)}error(){for(var v=arguments.length,d=new Array(v),Q=0;Q<v;Q++)d[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,T.ERROR,...d),this._logHandler(this,T.ERROR,...d)}}function u(v){n.forEach((d=>{d.setLogLevel(v)}))}function y(v,d){for(const Q of n){let n=null;d&&d.level&&(n=L[d.level]),Q.userLogHandler=null===v?null:function(d,Q){for(var L=arguments.length,e=new Array(L>2?L-2:0),F=2;F<L;F++)e[F-2]=arguments[F];const r=e.map((v=>{if(null==v)return null;if("string"===typeof v)return v;if("number"===typeof v||"boolean"===typeof v)return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch(d){return null}})).filter((v=>v)).join(" ");Q>=(null!==n&&void 0!==n?n:d.logLevel)&&v({level:T[Q].toLowerCase(),message:r,args:e,type:d.name})}}}}}]);