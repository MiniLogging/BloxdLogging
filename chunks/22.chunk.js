/*! For license information please see lxafdn.22.c44f3662.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[22],{11554:(L,j,P)=>{P.d(j,{D:()=>g,H:()=>S,J:()=>V,L:()=>s,N:()=>C,R:()=>f,U:()=>Q,W:()=>K,X:()=>v,Z:()=>b,b:()=>N,bb:()=>h,cb:()=>c,eb:()=>d,f:()=>G,g:()=>T,i:()=>y,ib:()=>q,j:()=>u,m:()=>Y,q:()=>e,s:()=>U,v:()=>l,z:()=>E});const A=function(L){const j=[];let P=0;for(let A=0;A<L.length;A++){let R=L.charCodeAt(A);R<128?j[P++]=R:R<2048?(j[P++]=R>>6|192,j[P++]=63&R|128):55296===(64512&R)&&A+1<L.length&&56320===(64512&L.charCodeAt(A+1))?(R=65536+((1023&R)<<10)+(1023&L.charCodeAt(++A)),j[P++]=R>>18|240,j[P++]=R>>12&63|128,j[P++]=R>>6&63|128,j[P++]=63&R|128):(j[P++]=R>>12|224,j[P++]=R>>6&63|128,j[P++]=63&R|128)}return j},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(L,j){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let R=0;R<L.length;R+=3){const j=L[R],o=R+1<L.length,Y=o?L[R+1]:0,u=R+2<L.length,a=u?L[R+2]:0,D=j>>2,S=(3&j)<<4|Y>>4;let g=(15&Y)<<2|a>>6,V=63&a;u||(V=64,o||(g=64)),A.push(P[D],P[S],P[g],P[V])}return A.join("")},encodeString(L,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(L):this.encodeByteArray(A(L),j)},decodeString(L,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(L):function(L){const j=[];let P=0,A=0;for(;P<L.length;){const R=L[P++];if(R<128)j[A++]=String.fromCharCode(R);else if(R>191&&R<224){const o=L[P++];j[A++]=String.fromCharCode((31&R)<<6|63&o)}else if(R>239&&R<365){const o=((7&R)<<18|(63&L[P++])<<12|(63&L[P++])<<6|63&L[P++])-65536;j[A++]=String.fromCharCode(55296+(o>>10)),j[A++]=String.fromCharCode(56320+(1023&o))}else{const o=L[P++],Y=L[P++];j[A++]=String.fromCharCode((15&R)<<12|(63&o)<<6|63&Y)}}return j.join("")}(this.decodeStringToByteArray(L,j))},decodeStringToByteArray(L,j){this.init_();const P=j?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let R=0;R<L.length;){const j=P[L.charAt(R++)],Y=R<L.length?P[L.charAt(R)]:0;++R;const u=R<L.length?P[L.charAt(R)]:64;++R;const a=R<L.length?P[L.charAt(R)]:64;if(++R,null==j||null==Y||null==u||null==a)throw new o;const D=j<<2|Y>>4;if(A.push(D),64!==u){const L=Y<<4&240|u>>2;if(A.push(L),64!==a){const L=u<<6&192|a;A.push(L)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(L){return function(L){const j=A(L);return R.encodeByteArray(j,!0)}(L).replace(/\./g,"")},u=function(L){try{return R.decodeString(L,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof P.g)return P.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,D=()=>{try{return a()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(P){return}const j=L&&u(L[1]);return j&&JSON.parse(j)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},S=L=>{var j,P;return null===(P=null===(j=D())||void 0===j?void 0:j.emulatorHosts)||void 0===P?void 0:P[L]},g=()=>{var L;return null===(L=D())||void 0===L?void 0:L.config},V=L=>{var j;return null===(j=D())||void 0===j?void 0:j[`_${L}`]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((L,j)=>{this.resolve=L,this.reject=j}))}wrapCallback(L){return(j,P)=>{j?this.reject(j):this.resolve(P),"function"===typeof L&&(this.promise.catch((()=>{})),1===L.length?L(j):L(j,P))}}}function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function f(){const L="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof L&&void 0!==L.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function K(){const L=C();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(L){return!1}}function q(){return new Promise(((L,j)=>{try{let P=!0;const A="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(A);R.onsuccess=()=>{R.result.close(),P||self.indexedDB.deleteDatabase(A),L(!0)},R.onupgradeneeded=()=>{P=!1},R.onerror=()=>{var L;j((null===(L=R.error)||void 0===L?void 0:L.message)||"")}}catch(P){j(P)}}))}function y(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class T extends Error{constructor(L,j,P){super(j),this.code=L,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(L,j,P){this.service=L,this.serviceName=j,this.errors=P}create(L){const j=(arguments.length<=1?void 0:arguments[1])||{},P=`${this.service}/${L}`,A=this.errors[L],R=A?function(L,j){return L.replace(M,((L,P)=>{const A=j[P];return null!=A?String(A):`<${P}?>`}))}(A,j):"Error",o=`${this.serviceName}: ${R} (${P}).`;return new T(P,o,j)}}const M=/\{\$([^}]+)}/g;function Q(L){for(const j in L)if(Object.prototype.hasOwnProperty.call(L,j))return!1;return!0}function l(L,j){if(L===j)return!0;const P=Object.keys(L),A=Object.keys(j);for(const R of P){if(!A.includes(R))return!1;const P=L[R],o=j[R];if(w(P)&&w(o)){if(!l(P,o))return!1}else if(P!==o)return!1}for(const R of A)if(!P.includes(R))return!1;return!0}function w(L){return null!==L&&"object"===typeof L}function d(L){const j=[];for(const[P,A]of Object.entries(L))Array.isArray(A)?A.forEach((L=>{j.push(encodeURIComponent(P)+"="+encodeURIComponent(L))})):j.push(encodeURIComponent(P)+"="+encodeURIComponent(A));return j.length?"&"+j.join("&"):""}function c(L){const j={};return L.replace(/^\?/,"").split("&").forEach((L=>{if(L){const[P,A]=L.split("=");j[decodeURIComponent(P)]=decodeURIComponent(A)}})),j}function E(L){const j=L.indexOf("?");if(!j)return"";const P=L.indexOf("#",j);return L.substring(j,P>0?P:void 0)}function U(L,j){const P=new t(L,j);return P.subscribe.bind(P)}class t{constructor(L,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then((()=>{L(this)})).catch((L=>{this.error(L)}))}next(L){this.forEachObserver((j=>{j.next(L)}))}error(L){this.forEachObserver((j=>{j.error(L)})),this.close(L)}complete(){this.forEachObserver((L=>{L.complete()})),this.close()}subscribe(L,j,P){let A;if(void 0===L&&void 0===j&&void 0===P)throw new Error("Missing Observer.");A=function(L,j){if("object"!==typeof L||null===L)return!1;for(const P of j)if(P in L&&"function"===typeof L[P])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:j,complete:P},void 0===A.next&&(A.next=B),void 0===A.error&&(A.error=B),void 0===A.complete&&(A.complete=B);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(L){}})),this.observers.push(A),R}unsubscribeOne(L){void 0!==this.observers&&void 0!==this.observers[L]&&(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,L)}sendOne(L,j){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{j(this.observers[L])}catch(P){"undefined"!==typeof console&&console.error&&console.error(P)}}))}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function B(){}const F=1e3,X=2,H=144e5,W=.5;function e(L){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;const P=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F)*Math.pow(j,L),A=Math.round(W*P*(Math.random()-.5)*2);return Math.min(H,P+A)}function s(L){return L&&L._delegate?L._delegate:L}},11541:(L,j,P)=>{P.d(j,{b:()=>o.g,e:()=>gL,f:()=>J,j:()=>PL,k:()=>AL,l:()=>LL,n:()=>uL,r:()=>jL,v:()=>oL,y:()=>RL,B:()=>YL,D:()=>bL,H:()=>NL,E:()=>CL,K:()=>VL,L:()=>hL,M:()=>fL,N:()=>KL});var A=P(11549),R=P(11556),o=P(11554);let Y,u;const a=new WeakMap,D=new WeakMap,S=new WeakMap,g=new WeakMap,V=new WeakMap;let N={get(L,j,P){if(L instanceof IDBTransaction){if("done"===j)return D.get(L);if("objectStoreNames"===j)return L.objectStoreNames||S.get(L);if("store"===j)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return f(L[j])},set:(L,j,P)=>(L[j]=P,!0),has:(L,j)=>L instanceof IDBTransaction&&("done"===j||"store"===j)||j in L};function C(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(u||(u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(L)?function(){for(var j=arguments.length,P=new Array(j),A=0;A<j;A++)P[A]=arguments[A];return L.apply(h(this),P),f(a.get(this))}:function(){for(var j=arguments.length,P=new Array(j),A=0;A<j;A++)P[A]=arguments[A];return f(L.apply(h(this),P))}:function(j){for(var P=arguments.length,A=new Array(P>1?P-1:0),R=1;R<P;R++)A[R-1]=arguments[R];const o=L.call(h(this),j,...A);return S.set(o,j.sort?j.sort():[j]),f(o)}}function b(L){return"function"===typeof L?C(L):(L instanceof IDBTransaction&&function(L){if(D.has(L))return;const j=new Promise(((j,P)=>{const A=()=>{L.removeEventListener("complete",R),L.removeEventListener("error",o),L.removeEventListener("abort",o)},R=()=>{j(),A()},o=()=>{P(L.error||new DOMException("AbortError","AbortError")),A()};L.addEventListener("complete",R),L.addEventListener("error",o),L.addEventListener("abort",o)}));D.set(L,j)}(L),j=L,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((L=>j instanceof L))?new Proxy(L,N):L);var j}function f(L){if(L instanceof IDBRequest)return function(L){const j=new Promise(((j,P)=>{const A=()=>{L.removeEventListener("success",R),L.removeEventListener("error",o)},R=()=>{j(f(L.result)),A()},o=()=>{P(L.error),A()};L.addEventListener("success",R),L.addEventListener("error",o)}));return j.then((j=>{j instanceof IDBCursor&&a.set(j,L)})).catch((()=>{})),V.set(j,L),j}(L);if(g.has(L))return g.get(L);const j=b(L);return j!==L&&(g.set(L,j),V.set(j,L)),j}const h=L=>V.get(L);const K=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],q=new Map;function y(L,j){if(!(L instanceof IDBDatabase)||j in L||"string"!==typeof j)return;if(q.get(j))return q.get(j);const P=j.replace(/FromIndex$/,""),A=j!==P,R=v.includes(P);if(!(P in(A?IDBIndex:IDBObjectStore).prototype)||!R&&!K.includes(P))return;const o=async function(L){const j=this.transaction(L,R?"readwrite":"readonly");let o=j.store;for(var Y=arguments.length,u=new Array(Y>1?Y-1:0),a=1;a<Y;a++)u[a-1]=arguments[a];return A&&(o=o.index(u.shift())),(await Promise.all([o[P](...u),R&&j.done]))[0]};return q.set(j,o),o}N=(L=>({...L,get:(j,P,A)=>y(j,P)||L.get(j,P,A),has:(j,P)=>!!y(j,P)||L.has(j,P)}))(N);class T{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map((L=>{if(function(L){const j=L.getComponent();return"VERSION"===(null===j||void 0===j?void 0:j.type)}(L)){const j=L.getImmediate();return`${j.library}/${j.version}`}return null})).filter((L=>L)).join(" ")}}const G="@firebase/app",M="0.9.13",Q=new R.e("@firebase/app"),l="@firebase/app-compat",w="@firebase/analytics-compat",d="@firebase/analytics",c="@firebase/app-check-compat",E="@firebase/app-check",U="@firebase/auth",t="@firebase/auth-compat",B="@firebase/database",F="@firebase/database-compat",X="@firebase/functions",H="@firebase/functions-compat",W="@firebase/installations",e="@firebase/installations-compat",s="@firebase/messaging",m="@firebase/messaging-compat",x="@firebase/performance",k="@firebase/performance-compat",I="@firebase/remote-config",z="@firebase/remote-config-compat",p="@firebase/storage",n="@firebase/storage-compat",Z="@firebase/firestore",O="@firebase/firestore-compat",i="firebase",J="[DEFAULT]",r={[G]:"fire-core",[l]:"fire-core-compat",[d]:"fire-analytics",[w]:"fire-analytics-compat",[E]:"fire-app-check",[c]:"fire-app-check-compat",[U]:"fire-auth",[t]:"fire-auth-compat",[B]:"fire-rtdb",[F]:"fire-rtdb-compat",[X]:"fire-fn",[H]:"fire-fn-compat",[W]:"fire-iid",[e]:"fire-iid-compat",[s]:"fire-fcm",[m]:"fire-fcm-compat",[x]:"fire-perf",[k]:"fire-perf-compat",[I]:"fire-rc",[z]:"fire-rc-compat",[p]:"fire-gcs",[n]:"fire-gcs-compat",[Z]:"fire-fst",[O]:"fire-fst-compat","fire-js":"fire-js",[i]:"fire-js-all"},LL=new Map,jL=new Map;function PL(L,j){try{L.container.Rg(j)}catch(P){Q.debug(`Component ${j.name} failed to register with FirebaseApp ${L.name}`,P)}}function AL(L,j){L.container.addOrOverwriteComponent(j)}function RL(L){const j=L.name;if(jL.has(j))return Q.debug(`There were multiple attempts to register component ${j}.`),!1;jL.set(j,L);for(const P of LL.values())PL(P,L);return!0}function oL(L,j){const P=L.container.getProvider("heartbeat").getImmediate({optional:!0});return P&&P.triggerHeartbeat(),L.container.getProvider(j)}function YL(L,j){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;oL(L,j).clearInstance(P)}function uL(){jL.clear()}const aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},DL=new o.f("app","Firebase",aL);class SL{constructor(L,j,P){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=P,this.container.Rg(new A.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw DL.create("app-deleted",{appName:this._name})}}const gL="9.23.0";function VL(L){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=L;if("object"!==typeof j){j={name:j}}const R=Object.assign({name:J,automaticDataCollectionEnabled:!1},j),Y=R.name;if("string"!==typeof Y||!Y)throw DL.create("bad-app-name",{appName:String(Y)});if(P||(P=(0,o.D)()),!P)throw DL.create("no-options");const u=LL.get(Y);if(u){if((0,o.v)(P,u.options)&&(0,o.v)(R,u.config))return u;throw DL.create("duplicate-app",{appName:Y})}const a=new A.b(Y);for(const A of jL.values())a.Rg(A);const D=new SL(P,R,a);return LL.set(Y,D),D}function NL(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const j=LL.get(L);if(!j&&L===J&&(0,o.D)())return VL();if(!j)throw DL.create("no-app",{appName:L});return j}function CL(){return Array.from(LL.values())}async function bL(L){const j=L.name;LL.has(j)&&(LL.delete(j),await Promise.all(L.container.getProviders().map((L=>L.delete()))),L.isDeleted=!0)}function fL(L,j,P){var R;let o=null!==(R=r[L])&&void 0!==R?R:L;P&&(o+=`-${P}`);const Y=o.match(/\s|\//),u=j.match(/\s|\//);if(Y||u){const L=[`Unable to register library "${o}" with version "${j}":`];return Y&&L.push(`library name "${o}" contains illegal characters (whitespace or "/")`),Y&&u&&L.push("and"),u&&L.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void Q.warn(L.join(" "))}RL(new A.d(`${o}-version`,(()=>({library:o,version:j})),"VERSION"))}function hL(L,j){if(null!==L&&"function"!==typeof L)throw DL.create("invalid-log-argument");(0,R.i)(L,j)}function KL(L){(0,R.g)(L)}const vL="firebase-heartbeat-store";let qL=null;function yL(){return qL||(qL=function(L,j){let{blocked:P,upgrade:A,blocking:R,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(L,j),u=f(Y);return A&&Y.addEventListener("upgradeneeded",(L=>{A(f(Y.result),L.oldVersion,L.newVersion,f(Y.transaction),L)})),P&&Y.addEventListener("blocked",(L=>P(L.oldVersion,L.newVersion,L))),u.then((L=>{o&&L.addEventListener("close",(()=>o())),R&&L.addEventListener("versionchange",(L=>R(L.oldVersion,L.newVersion,L)))})).catch((()=>{})),u}("firebase-heartbeat-database",1,{upgrade:(L,j)=>{if(0===j)L.createObjectStore(vL)}}).catch((L=>{throw DL.create("idb-open",{originalErrorMessage:L.message})}))),qL}async function TL(L,j){try{const P=(await yL()).transaction(vL,"readwrite"),A=P.objectStore(vL);await A.put(j,GL(L)),await P.done}catch(P){if(P instanceof o.g)Q.warn(P.message);else{const L=DL.create("idb-set",{originalErrorMessage:null===P||void 0===P?void 0:P.message});Q.warn(L.message)}}}function GL(L){return`${L.name}!${L.options.appId}`}class ML{constructor(L){this.container=L,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this.Rd=new lL(j),this._heartbeatsCachePromise=this.Rd.read().then((L=>(this._heartbeatsCache=L,L)))}async triggerHeartbeat(){const L=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),j=QL();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==j&&!this._heartbeatsCache.heartbeats.some((L=>L.date===j)))return this._heartbeatsCache.heartbeats.push({date:j,agent:L}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((L=>{const j=new Date(L.date).valueOf();return Date.now()-j<=2592e6})),this.Rd.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const L=QL(),{heartbeatsToSend:j,unsentEntries:P}=function(L){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const P=[];let A=L.slice();for(const R of L){const L=P.find((L=>L.agent===R.agent));if(L){if(L.dates.push(R.date),wL(P)>j){L.dates.pop();break}}else if(P.push({agent:R.agent,dates:[R.date]}),wL(P)>j){P.pop();break}A=A.slice(1)}return{heartbeatsToSend:P,unsentEntries:A}}(this._heartbeatsCache.heartbeats),A=(0,o.m)(JSON.stringify({version:2,heartbeats:j}));return this._heartbeatsCache.lastSentHeartbeatDate=L,P.length>0?(this._heartbeatsCache.heartbeats=P,await this.Rd.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Rd.overwrite(this._heartbeatsCache)),A}}function QL(){return(new Date).toISOString().substring(0,10)}class lL{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.X)()&&(0,o.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(L){try{const j=await yL();return await j.transaction(vL).objectStore(vL).get(GL(L))}catch(j){if(j instanceof o.g)Q.warn(j.message);else{const L=DL.create("idb-get",{originalErrorMessage:null===j||void 0===j?void 0:j.message});Q.warn(L.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(L){var j;if(await this._canUseIndexedDBPromise){const P=await this.read();return TL(this.app,{lastSentHeartbeatDate:null!==(j=L.lastSentHeartbeatDate)&&void 0!==j?j:P.lastSentHeartbeatDate,heartbeats:L.heartbeats})}}async add(L){var j;if(await this._canUseIndexedDBPromise){const P=await this.read();return TL(this.app,{lastSentHeartbeatDate:null!==(j=L.lastSentHeartbeatDate)&&void 0!==j?j:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...L.heartbeats]})}}}function wL(L){return(0,o.m)(JSON.stringify({version:2,heartbeats:L})).length}var dL;dL="",RL(new A.d("platform-logger",(L=>new T(L)),"PRIVATE")),RL(new A.d("heartbeat",(L=>new ML(L)),"PRIVATE")),fL(G,M,dL),fL(G,M,"esm2017"),fL("fire-js","")},11549:(L,j,P)=>{P.d(j,{b:()=>u,d:()=>R});var A=P(11554);class R{constructor(L,j,P){this.name=L,this.instanceFactory=j,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const o="[DEFAULT]";class Y{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const L=new A.b;if(this.instancesDeferred.set(j,L),this.isInitialized(j)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:j});P&&L.resolve(P)}catch(P){}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const P=this.normalizeInstanceIdentifier(null===L||void 0===L?void 0:L.identifier),A=null!==(j=null===L||void 0===L?void 0:L.optional)&&void 0!==j&&j;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(R){if(A)return null;throw R}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function(L){return"EAGER"===L.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:o})}catch(j){}for(const[L,P]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(L);try{const L=this.getOrInitializeService({instanceIdentifier:A});P.resolve(L)}catch(j){}}}}clearInstance(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}async delete(){const L=Array.from(this.instances.values());await Promise.all([...L.filter((L=>"INTERNAL"in L)).map((L=>L.INTERNAL.delete())),...L.filter((L=>"_delete"in L)).map((L=>L._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instances.has(L)}getOptions(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.instancesOptions.get(L)||{}}initialize(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:j={}}=L,P=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:P,options:j});for(const[R,o]of this.instancesDeferred.entries()){P===this.normalizeInstanceIdentifier(R)&&o.resolve(A)}return A}_k(L,j){var P;const A=this.normalizeInstanceIdentifier(j),R=null!==(P=this.onInitCallbacks.get(A))&&void 0!==P?P:new Set;R.add(L),this.onInitCallbacks.set(A,R);const o=this.instances.get(A);return o&&L(o,A),()=>{R.delete(L)}}invokeOnInitCallbacks(L,j){const P=this.onInitCallbacks.get(j);if(P)for(const R of P)try{R(L,j)}catch(A){}}getOrInitializeService(L){let{instanceIdentifier:j,options:P={}}=L,A=this.instances.get(j);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(R=j,R===o?void 0:R),options:P}),this.instances.set(j,A),this.instancesOptions.set(j,P),this.invokeOnInitCallbacks(A,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,A)}catch(Y){}var R;return A||null}normalizeInstanceIdentifier(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return this.component?this.component.multipleInstances?L:o:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u{constructor(L){this.name=L,this.providers=new Map}Rg(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.Rg(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new Y(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},11556:(L,j,P)=>{P.d(j,{b:()=>R,e:()=>D,g:()=>S,i:()=>g});const A=[];var R;!function(L){L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT"}(R||(R={}));const o={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Y=R.INFO,u={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},a=function(L,j){if(j<L.logLevel)return;const P=(new Date).toISOString(),A=u[j];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);for(var R=arguments.length,o=new Array(R>2?R-2:0),Y=2;Y<R;Y++)o[Y-2]=arguments[Y];console[A](`[${P}]  ${L.name}:`,...o)};class D{constructor(L){this.name=L,this._logLevel=Y,this._logHandler=a,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in R))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"===typeof L?o[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!==typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(){for(var L=arguments.length,j=new Array(L),P=0;P<L;P++)j[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...j),this._logHandler(this,R.DEBUG,...j)}log(){for(var L=arguments.length,j=new Array(L),P=0;P<L;P++)j[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...j),this._logHandler(this,R.VERBOSE,...j)}info(){for(var L=arguments.length,j=new Array(L),P=0;P<L;P++)j[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,R.INFO,...j),this._logHandler(this,R.INFO,...j)}warn(){for(var L=arguments.length,j=new Array(L),P=0;P<L;P++)j[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,R.WARN,...j),this._logHandler(this,R.WARN,...j)}error(){for(var L=arguments.length,j=new Array(L),P=0;P<L;P++)j[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,R.ERROR,...j),this._logHandler(this,R.ERROR,...j)}}function S(L){A.forEach((j=>{j.setLogLevel(L)}))}function g(L,j){for(const P of A){let A=null;j&&j.level&&(A=o[j.level]),P.userLogHandler=null===L?null:function(j,P){for(var o=arguments.length,Y=new Array(o>2?o-2:0),u=2;u<o;u++)Y[u-2]=arguments[u];const a=Y.map((L=>{if(null==L)return null;if("string"===typeof L)return L;if("number"===typeof L||"boolean"===typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch(j){return null}})).filter((L=>L)).join(" ");P>=(null!==A&&void 0!==A?A:j.logLevel)&&L({level:R[P].toLowerCase(),message:a,args:Y,type:j.name})}}}}}]);