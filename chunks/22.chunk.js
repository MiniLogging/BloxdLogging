/*! For license information please see 1etc8g.22.1d8a5957.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[22],{11853:(Z,U,n)=>{n.d(U,{B:()=>F,E:()=>d,F:()=>y,H:()=>M,J:()=>q,N:()=>s,P:()=>u,Q:()=>O,S:()=>E,W:()=>c,X:()=>z,_:()=>h,cb:()=>X,e:()=>S,f:()=>C,g:()=>K,gb:()=>t,i:()=>p,m:()=>V,n:()=>H,p:()=>a,s:()=>T,t:()=>j,x:()=>P});const i=function(Z){const U=[];let n=0;for(let i=0;i<Z.length;i++){let B=Z.charCodeAt(i);B<128?U[n++]=B:B<2048?(U[n++]=B>>6|192,U[n++]=63&B|128):55296===(64512&B)&&i+1<Z.length&&56320===(64512&Z.charCodeAt(i+1))?(B=65536+((1023&B)<<10)+(1023&Z.charCodeAt(++i)),U[n++]=B>>18|240,U[n++]=B>>12&63|128,U[n++]=B>>6&63|128,U[n++]=63&B|128):(U[n++]=B>>12|224,U[n++]=B>>6&63|128,U[n++]=63&B|128)}return U},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Z,U){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let B=0;B<Z.length;B+=3){const U=Z[B],l=B+1<Z.length,H=l?Z[B+1]:0,V=B+2<Z.length,G=V?Z[B+2]:0,R=U>>2,d=(3&U)<<4|H>>4;let F=(15&H)<<2|G>>6,y=63&G;V||(y=64,l||(F=64)),i.push(n[R],n[d],n[F],n[y])}return i.join("")},encodeString(Z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Z):this.encodeByteArray(i(Z),U)},decodeString(Z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Z):function(Z){const U=[];let n=0,i=0;for(;n<Z.length;){const B=Z[n++];if(B<128)U[i++]=String.fromCharCode(B);else if(B>191&&B<224){const l=Z[n++];U[i++]=String.fromCharCode((31&B)<<6|63&l)}else if(B>239&&B<365){const l=((7&B)<<18|(63&Z[n++])<<12|(63&Z[n++])<<6|63&Z[n++])-65536;U[i++]=String.fromCharCode(55296+(l>>10)),U[i++]=String.fromCharCode(56320+(1023&l))}else{const l=Z[n++],H=Z[n++];U[i++]=String.fromCharCode((15&B)<<12|(63&l)<<6|63&H)}}return U.join("")}(this.decodeStringToByteArray(Z,U))},decodeStringToByteArray(Z,U){this.init_();const n=U?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let B=0;B<Z.length;){const U=n[Z.charAt(B++)],H=B<Z.length?n[Z.charAt(B)]:0;++B;const V=B<Z.length?n[Z.charAt(B)]:64;++B;const G=B<Z.length?n[Z.charAt(B)]:64;if(++B,null==U||null==H||null==V||null==G)throw new l;const R=U<<2|H>>4;if(i.push(R),64!==V){const Z=H<<4&240|V>>2;if(i.push(Z),64!==G){const Z=V<<6&192|G;i.push(Z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H=function(Z){return function(Z){const U=i(Z);return B.encodeByteArray(U,!0)}(Z).replace(/\./g,"")},V=function(Z){try{return B.decodeString(Z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const G=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,R=()=>{try{return G()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const U=Z&&V(Z[1]);return U&&JSON.parse(U)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},d=Z=>{var U,n;return null===(n=null===(U=R())||void 0===U?void 0:U.emulatorHosts)||void 0===n?void 0:n[Z]},F=()=>{var Z;return null===(Z=R())||void 0===Z?void 0:Z.config},y=Z=>{var U;return null===(U=R())||void 0===U?void 0:U[`_${Z}`]};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Z,U)=>{this.resolve=Z,this.reject=U}))}wrapCallback(Z){return(U,n)=>{U?this.reject(U):this.resolve(n),"function"===typeof Z&&(this.promise.catch((()=>{})),1===Z.length?Z(U):Z(U,n))}}}function q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function s(){const Z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Z&&void 0!==Z.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){const Z=q();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function E(){try{return"object"===typeof indexedDB}catch(Z){return!1}}function t(){return new Promise(((Z,U)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(i);B.onsuccess=()=>{B.result.close(),n||self.indexedDB.deleteDatabase(i),Z(!0)},B.onupgradeneeded=()=>{n=!1},B.onerror=()=>{var Z;U((null===(Z=B.error)||void 0===Z?void 0:Z.message)||"")}}catch(n){U(n)}}))}function p(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class K extends Error{constructor(Z,U,n){super(U),this.code=Z,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,K.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(Z,U,n){this.service=Z,this.serviceName=U,this.errors=n}create(Z){const U=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${Z}`,i=this.errors[Z],B=i?function(Z,U){return Z.replace(D,((Z,n)=>{const i=U[n];return null!=i?String(i):`<${n}?>`}))}(i,U):"Error",l=`${this.serviceName}: ${B} (${n}).`;return new K(n,l,U)}}const D=/\{\$([^}]+)}/g;function u(Z){for(const U in Z)if(Object.prototype.hasOwnProperty.call(Z,U))return!1;return!0}function j(Z,U){if(Z===U)return!0;const n=Object.keys(Z),i=Object.keys(U);for(const B of n){if(!i.includes(B))return!1;const n=Z[B],l=U[B];if(v(n)&&v(l)){if(!j(n,l))return!1}else if(n!==l)return!1}for(const B of i)if(!n.includes(B))return!1;return!0}function v(Z){return null!==Z&&"object"===typeof Z}function X(Z){const U=[];for(const[n,i]of Object.entries(Z))Array.isArray(i)?i.forEach((Z=>{U.push(encodeURIComponent(n)+"="+encodeURIComponent(Z))})):U.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return U.length?"&"+U.join("&"):""}function h(Z){const U={};return Z.replace(/^\?/,"").split("&").forEach((Z=>{if(Z){const[n,i]=Z.split("=");U[decodeURIComponent(n)]=decodeURIComponent(i)}})),U}function P(Z){const U=Z.indexOf("?");if(!U)return"";const n=Z.indexOf("#",U);return Z.substring(U,n>0?n:void 0)}function T(Z,U){const n=new x(Z,U);return n.subscribe.bind(n)}class x{constructor(Z,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{Z(this)})).catch((Z=>{this.error(Z)}))}next(Z){this.forEachObserver((U=>{U.next(Z)}))}error(Z){this.forEachObserver((U=>{U.error(Z)})),this.close(Z)}complete(){this.forEachObserver((Z=>{Z.complete()})),this.close()}subscribe(Z,U,n){let i;if(void 0===Z&&void 0===U&&void 0===n)throw new Error("Missing Observer.");i=function(Z,U){if("object"!==typeof Z||null===Z)return!1;for(const n of U)if(n in Z&&"function"===typeof Z[n])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:U,complete:n},void 0===i.next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(Z){}})),this.observers.push(i),B}unsubscribeOne(Z){void 0!==this.observers&&void 0!==this.observers[Z]&&(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,Z)}sendOne(Z,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{U(this.observers[Z])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function w(){}const o=1e3,N=2,J=144e5,W=.5;function a(Z){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(U,Z),i=Math.round(W*n*(Math.random()-.5)*2);return Math.min(J,n+i)}function M(Z){return Z&&Z._delegate?Z._delegate:Z}},11848:(Z,U,n)=>{n.d(U,{e:()=>l.g,i:()=>FZ,l:()=>r,m:()=>nZ,p:()=>iZ,s:()=>ZZ,w:()=>VZ,A:()=>UZ,E:()=>lZ,G:()=>BZ,J:()=>HZ,M:()=>cZ,T:()=>SZ,P:()=>qZ,V:()=>yZ,X:()=>zZ,Z:()=>sZ,$:()=>OZ});var i=n(11850),B=n(11860),l=n(11853);let H,V;const G=new WeakMap,R=new WeakMap,d=new WeakMap,F=new WeakMap,y=new WeakMap;let S={get(Z,U,n){if(Z instanceof IDBTransaction){if("done"===U)return R.get(Z);if("objectStoreNames"===U)return Z.objectStoreNames||d.get(Z);if("store"===U)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return s(Z[U])},set:(Z,U,n)=>(Z[U]=n,!0),has:(Z,U)=>Z instanceof IDBTransaction&&("done"===U||"store"===U)||U in Z};function q(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Z)?function(){for(var U=arguments.length,n=new Array(U),i=0;i<U;i++)n[i]=arguments[i];return Z.apply(z(this),n),s(G.get(this))}:function(){for(var U=arguments.length,n=new Array(U),i=0;i<U;i++)n[i]=arguments[i];return s(Z.apply(z(this),n))}:function(U){for(var n=arguments.length,i=new Array(n>1?n-1:0),B=1;B<n;B++)i[B-1]=arguments[B];const l=Z.call(z(this),U,...i);return d.set(l,U.sort?U.sort():[U]),s(l)}}function c(Z){return"function"===typeof Z?q(Z):(Z instanceof IDBTransaction&&function(Z){if(R.has(Z))return;const U=new Promise(((U,n)=>{const i=()=>{Z.removeEventListener("complete",B),Z.removeEventListener("error",l),Z.removeEventListener("abort",l)},B=()=>{U(),i()},l=()=>{n(Z.error||new DOMException("AbortError","AbortError")),i()};Z.addEventListener("complete",B),Z.addEventListener("error",l),Z.addEventListener("abort",l)}));R.set(Z,U)}(Z),U=Z,(H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Z=>U instanceof Z))?new Proxy(Z,S):Z);var U}function s(Z){if(Z instanceof IDBRequest)return function(Z){const U=new Promise(((U,n)=>{const i=()=>{Z.removeEventListener("success",B),Z.removeEventListener("error",l)},B=()=>{U(s(Z.result)),i()},l=()=>{n(Z.error),i()};Z.addEventListener("success",B),Z.addEventListener("error",l)}));return U.then((U=>{U instanceof IDBCursor&&G.set(U,Z)})).catch((()=>{})),y.set(U,Z),U}(Z);if(F.has(Z))return F.get(Z);const U=c(Z);return U!==Z&&(F.set(Z,U),y.set(U,Z)),U}const z=Z=>y.get(Z);const O=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],t=new Map;function p(Z,U){if(!(Z instanceof IDBDatabase)||U in Z||"string"!==typeof U)return;if(t.get(U))return t.get(U);const n=U.replace(/FromIndex$/,""),i=U!==n,B=E.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!B&&!O.includes(n))return;const l=async function(Z){const U=this.transaction(Z,B?"readwrite":"readonly");let l=U.store;for(var H=arguments.length,V=new Array(H>1?H-1:0),G=1;G<H;G++)V[G-1]=arguments[G];return i&&(l=l.index(V.shift())),(await Promise.all([l[n](...V),B&&U.done]))[0]};return t.set(U,l),l}S=(Z=>({...Z,get:(U,n,i)=>p(U,n)||Z.get(U,n,i),has:(U,n)=>!!p(U,n)||Z.has(U,n)}))(S);class K{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Z=>{if(function(Z){const U=Z.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(Z)){const U=Z.getImmediate();return`${U.library}/${U.version}`}return null})).filter((Z=>Z)).join(" ")}}const C="@firebase/app",D="0.9.13",u=new B.f("@firebase/app"),j="@firebase/app-compat",v="@firebase/analytics-compat",X="@firebase/analytics",h="@firebase/app-check-compat",P="@firebase/app-check",T="@firebase/auth",x="@firebase/auth-compat",w="@firebase/database",o="@firebase/database-compat",N="@firebase/functions",J="@firebase/functions-compat",W="@firebase/installations",a="@firebase/installations-compat",M="@firebase/messaging",m="@firebase/messaging-compat",A="@firebase/performance",Y="@firebase/performance-compat",Q="@firebase/remote-config",L="@firebase/remote-config-compat",k="@firebase/storage",I="@firebase/storage-compat",e="@firebase/firestore",g="@firebase/firestore-compat",b="firebase",r="[DEFAULT]",f={[C]:"fire-core",[j]:"fire-core-compat",[X]:"fire-analytics",[v]:"fire-analytics-compat",[P]:"fire-app-check",[h]:"fire-app-check-compat",[T]:"fire-auth",[x]:"fire-auth-compat",[w]:"fire-rtdb",[o]:"fire-rtdb-compat",[N]:"fire-fn",[J]:"fire-fn-compat",[W]:"fire-iid",[a]:"fire-iid-compat",[M]:"fire-fcm",[m]:"fire-fcm-compat",[A]:"fire-perf",[Y]:"fire-perf-compat",[Q]:"fire-rc",[L]:"fire-rc-compat",[k]:"fire-gcs",[I]:"fire-gcs-compat",[e]:"fire-fst",[g]:"fire-fst-compat","fire-js":"fire-js",[b]:"fire-js-all"},ZZ=new Map,UZ=new Map;function nZ(Z,U){try{Z.container.ih(U)}catch(n){u.debug(`Component ${U.name} failed to register with FirebaseApp ${Z.name}`,n)}}function iZ(Z,U){Z.container.addOrOverwriteComponent(U)}function BZ(Z){const U=Z.name;if(UZ.has(U))return u.debug(`There were multiple attempts to register component ${U}.`),!1;UZ.set(U,Z);for(const n of ZZ.values())nZ(n,Z);return!0}function lZ(Z,U){const n=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),Z.container.getProvider(U)}function HZ(Z,U){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;lZ(Z,U).clearInstance(n)}function VZ(){UZ.clear()}const GZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},RZ=new l.f("app","Firebase",GZ);class dZ{constructor(Z,U,n){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=n,this.container.ih(new i.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw RZ.create("app-deleted",{appName:this._name})}}const FZ="9.23.0";function yZ(Z){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Z;if("object"!==typeof U){U={name:U}}const B=Object.assign({name:r,automaticDataCollectionEnabled:!1},U),H=B.name;if("string"!==typeof H||!H)throw RZ.create("bad-app-name",{appName:String(H)});if(n||(n=(0,l.B)()),!n)throw RZ.create("no-options");const V=ZZ.get(H);if(V){if((0,l.t)(n,V.options)&&(0,l.t)(B,V.config))return V;throw RZ.create("duplicate-app",{appName:H})}const G=new i.c(H);for(const i of UZ.values())G.ih(i);const R=new dZ(n,B,G);return ZZ.set(H,R),R}function SZ(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const U=ZZ.get(Z);if(!U&&Z===r&&(0,l.B)())return yZ();if(!U)throw RZ.create("no-app",{appName:Z});return U}function qZ(){return Array.from(ZZ.values())}async function cZ(Z){const U=Z.name;ZZ.has(U)&&(ZZ.delete(U),await Promise.all(Z.container.getProviders().map((Z=>Z.delete()))),Z.isDeleted=!0)}function sZ(Z,U,n){var B;let l=null!==(B=f[Z])&&void 0!==B?B:Z;n&&(l+=`-${n}`);const H=l.match(/\s|\//),V=U.match(/\s|\//);if(H||V){const Z=[`Unable to register library "${l}" with version "${U}":`];return H&&Z.push(`library name "${l}" contains illegal characters (whitespace or "/")`),H&&V&&Z.push("and"),V&&Z.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void u.warn(Z.join(" "))}BZ(new i.g(`${l}-version`,(()=>({library:l,version:U})),"VERSION"))}function zZ(Z,U){if(null!==Z&&"function"!==typeof Z)throw RZ.create("invalid-log-argument");(0,B.h)(Z,U)}function OZ(Z){(0,B.g)(Z)}const EZ="firebase-heartbeat-store";let tZ=null;function pZ(){return tZ||(tZ=function(Z,U){let{blocked:n,upgrade:i,blocking:B,terminated:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const H=indexedDB.open(Z,U),V=s(H);return i&&H.addEventListener("upgradeneeded",(Z=>{i(s(H.result),Z.oldVersion,Z.newVersion,s(H.transaction),Z)})),n&&H.addEventListener("blocked",(Z=>n(Z.oldVersion,Z.newVersion,Z))),V.then((Z=>{l&&Z.addEventListener("close",(()=>l())),B&&Z.addEventListener("versionchange",(Z=>B(Z.oldVersion,Z.newVersion,Z)))})).catch((()=>{})),V}("firebase-heartbeat-database",1,{upgrade:(Z,U)=>{if(0===U)Z.createObjectStore(EZ)}}).catch((Z=>{throw RZ.create("idb-open",{originalErrorMessage:Z.message})}))),tZ}async function KZ(Z,U){try{const n=(await pZ()).transaction(EZ,"readwrite"),i=n.objectStore(EZ);await i.put(U,CZ(Z)),await n.done}catch(n){if(n instanceof l.g)u.warn(n.message);else{const Z=RZ.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(Z.message)}}}function CZ(Z){return`${Z.name}!${Z.options.appId}`}class DZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.Wd=new jZ(U),this._heartbeatsCachePromise=this.Wd.read().then((Z=>(this._heartbeatsCache=Z,Z)))}async triggerHeartbeat(){const Z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=uZ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((Z=>Z.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:Z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Z=>{const U=new Date(Z.date).valueOf();return Date.now()-U<=2592e6})),this.Wd.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Z=uZ(),{heartbeatsToSend:U,unsentEntries:n}=function(Z){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=Z.slice();for(const B of Z){const Z=n.find((Z=>Z.agent===B.agent));if(Z){if(Z.dates.push(B.date),vZ(n)>U){Z.dates.pop();break}}else if(n.push({agent:B.agent,dates:[B.date]}),vZ(n)>U){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=(0,l.n)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=Z,n.length>0?(this._heartbeatsCache.heartbeats=n,await this.Wd.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Wd.overwrite(this._heartbeatsCache)),i}}function uZ(){return(new Date).toISOString().substring(0,10)}class jZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.S)()&&(0,l.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Z){try{const U=await pZ();return await U.transaction(EZ).objectStore(EZ).get(CZ(Z))}catch(U){if(U instanceof l.g)u.warn(U.message);else{const Z=RZ.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});u.warn(Z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Z){var U;if(await this._canUseIndexedDBPromise){const n=await this.read();return KZ(this.app,{lastSentHeartbeatDate:null!==(U=Z.lastSentHeartbeatDate)&&void 0!==U?U:n.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var U;if(await this._canUseIndexedDBPromise){const n=await this.read();return KZ(this.app,{lastSentHeartbeatDate:null!==(U=Z.lastSentHeartbeatDate)&&void 0!==U?U:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...Z.heartbeats]})}}}function vZ(Z){return(0,l.n)(JSON.stringify({version:2,heartbeats:Z})).length}var XZ;XZ="",BZ(new i.g("platform-logger",(Z=>new K(Z)),"PRIVATE")),BZ(new i.g("heartbeat",(Z=>new DZ(Z)),"PRIVATE")),sZ(C,D,XZ),sZ(C,D,"esm2017"),sZ("fire-js","")},11850:(Z,U,n)=>{n.d(U,{c:()=>V,g:()=>B});var i=n(11853);class B{constructor(Z,U,n){this.name=Z,this.instanceFactory=U,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const l="[DEFAULT]";class H{constructor(Z,U){this.name=Z,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const U=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(U)){const Z=new i.e;if(this.instancesDeferred.set(U,Z),this.isInitialized(U)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:U});n&&Z.resolve(n)}catch(n){}}return this.instancesDeferred.get(U).promise}getImmediate(Z){var U;const n=this.normalizeInstanceIdentifier(null===Z||void 0===Z?void 0:Z.identifier),i=null!==(U=null===Z||void 0===Z?void 0:Z.optional)&&void 0!==U&&U;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(B){if(i)return null;throw B}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:l})}catch(U){}for(const[Z,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(Z);try{const Z=this.getOrInitializeService({instanceIdentifier:i});n.resolve(Z)}catch(U){}}}}clearInstance(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){const Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Z=>"INTERNAL"in Z)).map((Z=>Z.INTERNAL.delete())),...Z.filter((Z=>"_delete"in Z)).map((Z=>Z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instances.has(Z)}getOptions(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instancesOptions.get(Z)||{}}initialize(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=Z,n=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:U});for(const[B,l]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(B)&&l.resolve(i)}return i}bl(Z,U){var n;const i=this.normalizeInstanceIdentifier(U),B=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;B.add(Z),this.onInitCallbacks.set(i,B);const l=this.instances.get(i);return l&&Z(l,i),()=>{B.delete(Z)}}invokeOnInitCallbacks(Z,U){const n=this.onInitCallbacks.get(U);if(n)for(const B of n)try{B(Z,U)}catch(i){}}getOrInitializeService(Z){let{instanceIdentifier:U,options:n={}}=Z,i=this.instances.get(U);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(B=U,B===l?void 0:B),options:n}),this.instances.set(U,i),this.instancesOptions.set(U,n),this.invokeOnInitCallbacks(i,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,i)}catch(H){}var B;return i||null}normalizeInstanceIdentifier(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.component?this.component.multipleInstances?Z:l:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class V{constructor(Z){this.name=Z,this.providers=new Map}ih(Z){const U=this.getProvider(Z.name);if(U.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);U.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.ih(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const U=new H(Z,this);return this.providers.set(Z,U),U}getProviders(){return Array.from(this.providers.values())}}},11860:(Z,U,n)=>{n.d(U,{d:()=>B,f:()=>R,g:()=>d,h:()=>F});const i=[];var B;!function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"}(B||(B={}));const l={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},H=B.INFO,V={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},G=function(Z,U){if(U<Z.logLevel)return;const n=(new Date).toISOString(),i=V[U];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var B=arguments.length,l=new Array(B>2?B-2:0),H=2;H<B;H++)l[H-2]=arguments[H];console[i](`[${n}]  ${Z.name}:`,...l)};class R{constructor(Z){this.name=Z,this._logLevel=H,this._logHandler=G,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in B))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"===typeof Z?l[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!==typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(){for(var Z=arguments.length,U=new Array(Z),n=0;n<Z;n++)U[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...U),this._logHandler(this,B.DEBUG,...U)}log(){for(var Z=arguments.length,U=new Array(Z),n=0;n<Z;n++)U[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...U),this._logHandler(this,B.VERBOSE,...U)}info(){for(var Z=arguments.length,U=new Array(Z),n=0;n<Z;n++)U[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.INFO,...U),this._logHandler(this,B.INFO,...U)}warn(){for(var Z=arguments.length,U=new Array(Z),n=0;n<Z;n++)U[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.WARN,...U),this._logHandler(this,B.WARN,...U)}error(){for(var Z=arguments.length,U=new Array(Z),n=0;n<Z;n++)U[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,B.ERROR,...U),this._logHandler(this,B.ERROR,...U)}}function d(Z){i.forEach((U=>{U.setLogLevel(Z)}))}function F(Z,U){for(const n of i){let i=null;U&&U.level&&(i=l[U.level]),n.userLogHandler=null===Z?null:function(U,n){for(var l=arguments.length,H=new Array(l>2?l-2:0),V=2;V<l;V++)H[V-2]=arguments[V];const G=H.map((Z=>{if(null==Z)return null;if("string"===typeof Z)return Z;if("number"===typeof Z||"boolean"===typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(U){return null}})).filter((Z=>Z)).join(" ");n>=(null!==i&&void 0!==i?i:U.logLevel)&&Z({level:B[n].toLowerCase(),message:G,args:H,type:U.name})}}}}}]);