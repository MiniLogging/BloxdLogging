/*! For license information please see 67xw0a.22.b28ea154.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[22],{12111:(Q,X,C)=>{C.d(X,{$:()=>x,B:()=>T,C:()=>e,G:()=>o,J:()=>L,N:()=>U,P:()=>w,R:()=>E,V:()=>a,W:()=>s,X:()=>S,cb:()=>r,db:()=>F,e:()=>i,f:()=>Z,fb:()=>z,gb:()=>H,hb:()=>R,i:()=>v,lb:()=>P,m:()=>j,q:()=>O,u:()=>f,y:()=>c});const l=function(Q){const X=[];let C=0;for(let l=0;l<Q.length;l++){let h=Q.charCodeAt(l);h<128?X[C++]=h:h<2048?(X[C++]=h>>6|192,X[C++]=63&h|128):55296===(64512&h)&&l+1<Q.length&&56320===(64512&Q.charCodeAt(l+1))?(h=65536+((1023&h)<<10)+(1023&Q.charCodeAt(++l)),X[C++]=h>>18|240,X[C++]=h>>12&63|128,X[C++]=h>>6&63|128,X[C++]=63&h|128):(X[C++]=h>>12|224,X[C++]=h>>6&63|128,X[C++]=63&h|128)}return X},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Q,X){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let h=0;h<Q.length;h+=3){const X=Q[h],M=h+1<Q.length,f=M?Q[h+1]:0,O=h+2<Q.length,m=O?Q[h+2]:0,W=X>>2,U=(3&X)<<4|f>>4;let L=(15&f)<<2|m>>6,w=63&m;O||(w=64,M||(L=64)),l.push(C[W],C[U],C[L],C[w])}return l.join("")},encodeString(Q,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(Q):this.encodeByteArray(l(Q),X)},decodeString(Q,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(Q):function(Q){const X=[];let C=0,l=0;for(;C<Q.length;){const h=Q[C++];if(h<128)X[l++]=String.fromCharCode(h);else if(h>191&&h<224){const M=Q[C++];X[l++]=String.fromCharCode((31&h)<<6|63&M)}else if(h>239&&h<365){const M=((7&h)<<18|(63&Q[C++])<<12|(63&Q[C++])<<6|63&Q[C++])-65536;X[l++]=String.fromCharCode(55296+(M>>10)),X[l++]=String.fromCharCode(56320+(1023&M))}else{const M=Q[C++],f=Q[C++];X[l++]=String.fromCharCode((15&h)<<12|(63&M)<<6|63&f)}}return X.join("")}(this.decodeStringToByteArray(Q,X))},decodeStringToByteArray(Q,X){this.init_();const C=X?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let h=0;h<Q.length;){const X=C[Q.charAt(h++)],f=h<Q.length?C[Q.charAt(h)]:0;++h;const O=h<Q.length?C[Q.charAt(h)]:64;++h;const m=h<Q.length?C[Q.charAt(h)]:64;if(++h,null==X||null==f||null==O||null==m)throw new M;const W=X<<2|f>>4;if(l.push(W),64!==O){const Q=f<<4&240|O>>2;if(l.push(Q),64!==m){const Q=O<<6&192|m;l.push(Q)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(Q){return function(Q){const X=l(Q);return h.encodeByteArray(X,!0)}(Q).replace(/\./g,"")},O=function(Q){try{return h.decodeString(Q,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,W=()=>{try{return m()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const X=Q&&O(Q[1]);return X&&JSON.parse(X)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},U=Q=>{var X,C;return null===(C=null===(X=W())||void 0===X?void 0:X.emulatorHosts)||void 0===C?void 0:C[Q]},L=()=>{var Q;return null===(Q=W())||void 0===Q?void 0:Q.config},w=Q=>{var X;return null===(X=W())||void 0===X?void 0:X[`_${Q}`]};class i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Q,X)=>{this.resolve=Q,this.reject=X}))}wrapCallback(Q){return(X,C)=>{X?this.reject(X):this.resolve(C),"function"===typeof Q&&(this.promise.catch((()=>{})),1===Q.length?Q(X):Q(X,C))}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function s(){const Q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Q&&void 0!==Q.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const Q=a();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function r(){try{return"object"===typeof indexedDB}catch(Q){return!1}}function P(){return new Promise(((Q,X)=>{try{let C=!0;const l="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(l);h.onsuccess=()=>{h.result.close(),C||self.indexedDB.deleteDatabase(l),Q(!0)},h.onupgradeneeded=()=>{C=!1},h.onerror=()=>{var Q;X((null===(Q=h.error)||void 0===Q?void 0:Q.message)||"")}}catch(C){X(C)}}))}function j(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class v extends Error{constructor(Q,X,C){super(X),this.code=Q,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(Q,X,C){this.service=Q,this.serviceName=X,this.errors=C}create(Q){const X=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${Q}`,l=this.errors[Q],h=l?function(Q,X){return Q.replace(g,((Q,C)=>{const l=X[C];return null!=l?String(l):`<${C}?>`}))}(l,X):"Error",M=`${this.serviceName}: ${h} (${C}).`;return new v(C,M,X)}}const g=/\{\$([^}]+)}/g;function S(Q){for(const X in Q)if(Object.prototype.hasOwnProperty.call(Q,X))return!1;return!0}function e(Q,X){if(Q===X)return!0;const C=Object.keys(Q),l=Object.keys(X);for(const h of C){if(!l.includes(h))return!1;const C=Q[h],M=X[h];if(k(C)&&k(M)){if(!e(C,M))return!1}else if(C!==M)return!1}for(const h of l)if(!C.includes(h))return!1;return!0}function k(Q){return null!==Q&&"object"===typeof Q}function R(Q){const X=[];for(const[C,l]of Object.entries(Q))Array.isArray(l)?l.forEach((Q=>{X.push(encodeURIComponent(C)+"="+encodeURIComponent(Q))})):X.push(encodeURIComponent(C)+"="+encodeURIComponent(l));return X.length?"&"+X.join("&"):""}function H(Q){const X={};return Q.replace(/^\?/,"").split("&").forEach((Q=>{if(Q){const[C,l]=Q.split("=");X[decodeURIComponent(C)]=decodeURIComponent(l)}})),X}function o(Q){const X=Q.indexOf("?");if(!X)return"";const C=Q.indexOf("#",X);return Q.substring(X,C>0?C:void 0)}function T(Q,X){const C=new Y(Q,X);return C.subscribe.bind(C)}class Y{constructor(Q,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then((()=>{Q(this)})).catch((Q=>{this.error(Q)}))}next(Q){this.forEachObserver((X=>{X.next(Q)}))}error(Q){this.forEachObserver((X=>{X.error(Q)})),this.close(Q)}complete(){this.forEachObserver((Q=>{Q.complete()})),this.close()}subscribe(Q,X,C){let l;if(void 0===Q&&void 0===X&&void 0===C)throw new Error("Missing Observer.");l=function(Q,X){if("object"!==typeof Q||null===Q)return!1;for(const C of X)if(C in Q&&"function"===typeof Q[C])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:X,complete:C},void 0===l.next&&(l.next=J),void 0===l.error&&(l.error=J),void 0===l.complete&&(l.complete=J);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch(Q){}})),this.observers.push(l),h}unsubscribeOne(Q){void 0!==this.observers&&void 0!==this.observers[Q]&&(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,Q)}sendOne(Q,X){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{X(this.observers[Q])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function J(){}const K=1e3,N=2,q=144e5,n=.5;function c(Q){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(X,Q),l=Math.round(n*C*(Math.random()-.5)*2);return Math.min(q,C+l)}function E(Q){return Q&&Q._delegate?Q._delegate:Q}},12102:(Q,X,C)=>{C.d(X,{e:()=>M.i,h:()=>LQ,k:()=>V,l:()=>CQ,o:()=>lQ,r:()=>QQ,t:()=>OQ,v:()=>XQ,w:()=>MQ,x:()=>hQ,B:()=>fQ,E:()=>FQ,J:()=>iQ,H:()=>aQ,L:()=>wQ,P:()=>zQ,R:()=>sQ,V:()=>xQ});var l=C(12107),h=C(12114),M=C(12111);let f,O;const m=new WeakMap,W=new WeakMap,U=new WeakMap,L=new WeakMap,w=new WeakMap;let i={get(Q,X,C){if(Q instanceof IDBTransaction){if("done"===X)return W.get(Q);if("objectStoreNames"===X)return Q.objectStoreNames||U.get(Q);if("store"===X)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return s(Q[X])},set:(Q,X,C)=>(Q[X]=C,!0),has:(Q,X)=>Q instanceof IDBTransaction&&("done"===X||"store"===X)||X in Q};function a(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Q)?function(){for(var X=arguments.length,C=new Array(X),l=0;l<X;l++)C[l]=arguments[l];return Q.apply(z(this),C),s(m.get(this))}:function(){for(var X=arguments.length,C=new Array(X),l=0;l<X;l++)C[l]=arguments[l];return s(Q.apply(z(this),C))}:function(X){for(var C=arguments.length,l=new Array(C>1?C-1:0),h=1;h<C;h++)l[h-1]=arguments[h];const M=Q.call(z(this),X,...l);return U.set(M,X.sort?X.sort():[X]),s(M)}}function F(Q){return"function"===typeof Q?a(Q):(Q instanceof IDBTransaction&&function(Q){if(W.has(Q))return;const X=new Promise(((X,C)=>{const l=()=>{Q.removeEventListener("complete",h),Q.removeEventListener("error",M),Q.removeEventListener("abort",M)},h=()=>{X(),l()},M=()=>{C(Q.error||new DOMException("AbortError","AbortError")),l()};Q.addEventListener("complete",h),Q.addEventListener("error",M),Q.addEventListener("abort",M)}));W.set(Q,X)}(Q),X=Q,(f||(f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Q=>X instanceof Q))?new Proxy(Q,i):Q);var X}function s(Q){if(Q instanceof IDBRequest)return function(Q){const X=new Promise(((X,C)=>{const l=()=>{Q.removeEventListener("success",h),Q.removeEventListener("error",M)},h=()=>{X(s(Q.result)),l()},M=()=>{C(Q.error),l()};Q.addEventListener("success",h),Q.addEventListener("error",M)}));return X.then((X=>{X instanceof IDBCursor&&m.set(X,Q)})).catch((()=>{})),w.set(X,Q),X}(Q);if(L.has(Q))return L.get(Q);const X=F(Q);return X!==Q&&(L.set(Q,X),w.set(X,Q)),X}const z=Q=>w.get(Q);const x=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],P=new Map;function j(Q,X){if(!(Q instanceof IDBDatabase)||X in Q||"string"!==typeof X)return;if(P.get(X))return P.get(X);const C=X.replace(/FromIndex$/,""),l=X!==C,h=r.includes(C);if(!(C in(l?IDBIndex:IDBObjectStore).prototype)||!h&&!x.includes(C))return;const M=async function(Q){const X=this.transaction(Q,h?"readwrite":"readonly");let M=X.store;for(var f=arguments.length,O=new Array(f>1?f-1:0),m=1;m<f;m++)O[m-1]=arguments[m];return l&&(M=M.index(O.shift())),(await Promise.all([M[C](...O),h&&X.done]))[0]};return P.set(X,M),M}i=(Q=>({...Q,get:(X,C,l)=>j(X,C)||Q.get(X,C,l),has:(X,C)=>!!j(X,C)||Q.has(X,C)}))(i);class v{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map((Q=>{if(function(Q){const X=Q.getComponent();return"VERSION"===(null===X||void 0===X?void 0:X.type)}(Q)){const X=Q.getImmediate();return`${X.library}/${X.version}`}return null})).filter((Q=>Q)).join(" ")}}const Z="@firebase/app",g="0.9.13",S=new h.e("@firebase/app"),e="@firebase/app-compat",k="@firebase/analytics-compat",R="@firebase/analytics",H="@firebase/app-check-compat",o="@firebase/app-check",T="@firebase/auth",Y="@firebase/auth-compat",J="@firebase/database",K="@firebase/database-compat",N="@firebase/functions",q="@firebase/functions-compat",n="@firebase/installations",c="@firebase/installations-compat",E="@firebase/messaging",B="@firebase/messaging-compat",G="@firebase/performance",b="@firebase/performance-compat",p="@firebase/remote-config",I="@firebase/remote-config-compat",t="@firebase/storage",y="@firebase/storage-compat",A="@firebase/firestore",D="@firebase/firestore-compat",u="firebase",V="[DEFAULT]",d={[Z]:"fire-core",[e]:"fire-core-compat",[R]:"fire-analytics",[k]:"fire-analytics-compat",[o]:"fire-app-check",[H]:"fire-app-check-compat",[T]:"fire-auth",[Y]:"fire-auth-compat",[J]:"fire-rtdb",[K]:"fire-rtdb-compat",[N]:"fire-fn",[q]:"fire-fn-compat",[n]:"fire-iid",[c]:"fire-iid-compat",[E]:"fire-fcm",[B]:"fire-fcm-compat",[G]:"fire-perf",[b]:"fire-perf-compat",[p]:"fire-rc",[I]:"fire-rc-compat",[t]:"fire-gcs",[y]:"fire-gcs-compat",[A]:"fire-fst",[D]:"fire-fst-compat","fire-js":"fire-js",[u]:"fire-js-all"},QQ=new Map,XQ=new Map;function CQ(Q,X){try{Q.container.ge(X)}catch(C){S.debug(`Component ${X.name} failed to register with FirebaseApp ${Q.name}`,C)}}function lQ(Q,X){Q.container.addOrOverwriteComponent(X)}function hQ(Q){const X=Q.name;if(XQ.has(X))return S.debug(`There were multiple attempts to register component ${X}.`),!1;XQ.set(X,Q);for(const C of QQ.values())CQ(C,Q);return!0}function MQ(Q,X){const C=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),Q.container.getProvider(X)}function fQ(Q,X){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;MQ(Q,X).clearInstance(C)}function OQ(){XQ.clear()}const mQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},WQ=new M.f("app","Firebase",mQ);class UQ{constructor(Q,X,C){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=C,this.container.ge(new l.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw WQ.create("app-deleted",{appName:this._name})}}const LQ="9.23.0";function wQ(Q){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=Q;if("object"!==typeof X){X={name:X}}const h=Object.assign({name:V,automaticDataCollectionEnabled:!1},X),f=h.name;if("string"!==typeof f||!f)throw WQ.create("bad-app-name",{appName:String(f)});if(C||(C=(0,M.J)()),!C)throw WQ.create("no-options");const O=QQ.get(f);if(O){if((0,M.C)(C,O.options)&&(0,M.C)(h,O.config))return O;throw WQ.create("duplicate-app",{appName:f})}const m=new l.d(f);for(const l of XQ.values())m.ge(l);const W=new UQ(C,h,m);return QQ.set(f,W),W}function iQ(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;const X=QQ.get(Q);if(!X&&Q===V&&(0,M.J)())return wQ();if(!X)throw WQ.create("no-app",{appName:Q});return X}function aQ(){return Array.from(QQ.values())}async function FQ(Q){const X=Q.name;QQ.has(X)&&(QQ.delete(X),await Promise.all(Q.container.getProviders().map((Q=>Q.delete()))),Q.isDeleted=!0)}function sQ(Q,X,C){var h;let M=null!==(h=d[Q])&&void 0!==h?h:Q;C&&(M+=`-${C}`);const f=M.match(/\s|\//),O=X.match(/\s|\//);if(f||O){const Q=[`Unable to register library "${M}" with version "${X}":`];return f&&Q.push(`library name "${M}" contains illegal characters (whitespace or "/")`),f&&O&&Q.push("and"),O&&Q.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void S.warn(Q.join(" "))}hQ(new l.e(`${M}-version`,(()=>({library:M,version:X})),"VERSION"))}function zQ(Q,X){if(null!==Q&&"function"!==typeof Q)throw WQ.create("invalid-log-argument");(0,h.i)(Q,X)}function xQ(Q){(0,h.h)(Q)}const rQ="firebase-heartbeat-store";let PQ=null;function jQ(){return PQ||(PQ=function(Q,X){let{blocked:C,upgrade:l,blocking:h,terminated:M}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const f=indexedDB.open(Q,X),O=s(f);return l&&f.addEventListener("upgradeneeded",(Q=>{l(s(f.result),Q.oldVersion,Q.newVersion,s(f.transaction),Q)})),C&&f.addEventListener("blocked",(Q=>C(Q.oldVersion,Q.newVersion,Q))),O.then((Q=>{M&&Q.addEventListener("close",(()=>M())),h&&Q.addEventListener("versionchange",(Q=>h(Q.oldVersion,Q.newVersion,Q)))})).catch((()=>{})),O}("firebase-heartbeat-database",1,{upgrade:(Q,X)=>{if(0===X)Q.createObjectStore(rQ)}}).catch((Q=>{throw WQ.create("idb-open",{originalErrorMessage:Q.message})}))),PQ}async function vQ(Q,X){try{const C=(await jQ()).transaction(rQ,"readwrite"),l=C.objectStore(rQ);await l.put(X,ZQ(Q)),await C.done}catch(C){if(C instanceof M.i)S.warn(C.message);else{const Q=WQ.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});S.warn(Q.message)}}}function ZQ(Q){return`${Q.name}!${Q.options.appId}`}class gQ{constructor(Q){this.container=Q,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this.de=new eQ(X),this._heartbeatsCachePromise=this.de.read().then((Q=>(this._heartbeatsCache=Q,Q)))}async triggerHeartbeat(){const Q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=SQ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==X&&!this._heartbeatsCache.heartbeats.some((Q=>Q.date===X)))return this._heartbeatsCache.heartbeats.push({date:X,agent:Q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Q=>{const X=new Date(Q.date).valueOf();return Date.now()-X<=2592e6})),this.de.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Q=SQ(),{heartbeatsToSend:X,unsentEntries:C}=function(Q){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let l=Q.slice();for(const h of Q){const Q=C.find((Q=>Q.agent===h.agent));if(Q){if(Q.dates.push(h.date),kQ(C)>X){Q.dates.pop();break}}else if(C.push({agent:h.agent,dates:[h.date]}),kQ(C)>X){C.pop();break}l=l.slice(1)}return{heartbeatsToSend:C,unsentEntries:l}}(this._heartbeatsCache.heartbeats),l=(0,M.u)(JSON.stringify({version:2,heartbeats:X}));return this._heartbeatsCache.lastSentHeartbeatDate=Q,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.de.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.de.overwrite(this._heartbeatsCache)),l}}function SQ(){return(new Date).toISOString().substring(0,10)}class eQ{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,M.cb)()&&(0,M.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Q){try{const X=await jQ();return await X.transaction(rQ).objectStore(rQ).get(ZQ(Q))}catch(X){if(X instanceof M.i)S.warn(X.message);else{const Q=WQ.create("idb-get",{originalErrorMessage:null===X||void 0===X?void 0:X.message});S.warn(Q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Q){var X;if(await this._canUseIndexedDBPromise){const C=await this.read();return vQ(this.app,{lastSentHeartbeatDate:null!==(X=Q.lastSentHeartbeatDate)&&void 0!==X?X:C.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}}async add(Q){var X;if(await this._canUseIndexedDBPromise){const C=await this.read();return vQ(this.app,{lastSentHeartbeatDate:null!==(X=Q.lastSentHeartbeatDate)&&void 0!==X?X:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...Q.heartbeats]})}}}function kQ(Q){return(0,M.u)(JSON.stringify({version:2,heartbeats:Q})).length}var RQ;RQ="",hQ(new l.e("platform-logger",(Q=>new v(Q)),"PRIVATE")),hQ(new l.e("heartbeat",(Q=>new gQ(Q)),"PRIVATE")),sQ(Z,g,RQ),sQ(Z,g,"esm2017"),sQ("fire-js","")},12107:(Q,X,C)=>{C.d(X,{d:()=>O,e:()=>h});var l=C(12111);class h{constructor(Q,X,C){this.name=Q,this.instanceFactory=X,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const M="[DEFAULT]";class f{constructor(Q,X){this.name=Q,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const X=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(X)){const Q=new l.e;if(this.instancesDeferred.set(X,Q),this.isInitialized(X)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:X});C&&Q.resolve(C)}catch(C){}}return this.instancesDeferred.get(X).promise}getImmediate(Q){var X;const C=this.normalizeInstanceIdentifier(null===Q||void 0===Q?void 0:Q.identifier),l=null!==(X=null===Q||void 0===Q?void 0:Q.optional)&&void 0!==X&&X;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(h){if(l)return null;throw h}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function(Q){return"EAGER"===Q.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:M})}catch(X){}for(const[Q,C]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(Q);try{const Q=this.getOrInitializeService({instanceIdentifier:l});C.resolve(Q)}catch(X){}}}}clearInstance(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}async delete(){const Q=Array.from(this.instances.values());await Promise.all([...Q.filter((Q=>"INTERNAL"in Q)).map((Q=>Q.INTERNAL.delete())),...Q.filter((Q=>"_delete"in Q)).map((Q=>Q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instances.has(Q)}getOptions(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instancesOptions.get(Q)||{}}initialize(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:X={}}=Q,C=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:C,options:X});for(const[h,M]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(h)&&M.resolve(l)}return l}Yk(Q,X){var C;const l=this.normalizeInstanceIdentifier(X),h=null!==(C=this.onInitCallbacks.get(l))&&void 0!==C?C:new Set;h.add(Q),this.onInitCallbacks.set(l,h);const M=this.instances.get(l);return M&&Q(M,l),()=>{h.delete(Q)}}invokeOnInitCallbacks(Q,X){const C=this.onInitCallbacks.get(X);if(C)for(const h of C)try{h(Q,X)}catch(l){}}getOrInitializeService(Q){let{instanceIdentifier:X,options:C={}}=Q,l=this.instances.get(X);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:(h=X,h===M?void 0:h),options:C}),this.instances.set(X,l),this.instancesOptions.set(X,C),this.invokeOnInitCallbacks(l,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,l)}catch(f){}var h;return l||null}normalizeInstanceIdentifier(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.component?this.component.multipleInstances?Q:M:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(Q){this.name=Q,this.providers=new Map}ge(Q){const X=this.getProvider(Q.name);if(X.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);X.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.ge(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const X=new f(Q,this);return this.providers.set(Q,X),X}getProviders(){return Array.from(this.providers.values())}}},12114:(Q,X,C)=>{C.d(X,{c:()=>h,e:()=>W,h:()=>U,i:()=>L});const l=[];var h;!function(Q){Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT"}(h||(h={}));const M={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},f=h.INFO,O={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},m=function(Q,X){if(X<Q.logLevel)return;const C=(new Date).toISOString(),l=O[X];if(!l)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);for(var h=arguments.length,M=new Array(h>2?h-2:0),f=2;f<h;f++)M[f-2]=arguments[f];console[l](`[${C}]  ${Q.name}:`,...M)};class W{constructor(Q){this.name=Q,this._logLevel=f,this._logHandler=m,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in h))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"===typeof Q?M[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!==typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(){for(var Q=arguments.length,X=new Array(Q),C=0;C<Q;C++)X[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...X),this._logHandler(this,h.DEBUG,...X)}log(){for(var Q=arguments.length,X=new Array(Q),C=0;C<Q;C++)X[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...X),this._logHandler(this,h.VERBOSE,...X)}info(){for(var Q=arguments.length,X=new Array(Q),C=0;C<Q;C++)X[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,h.INFO,...X),this._logHandler(this,h.INFO,...X)}warn(){for(var Q=arguments.length,X=new Array(Q),C=0;C<Q;C++)X[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,h.WARN,...X),this._logHandler(this,h.WARN,...X)}error(){for(var Q=arguments.length,X=new Array(Q),C=0;C<Q;C++)X[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,h.ERROR,...X),this._logHandler(this,h.ERROR,...X)}}function U(Q){l.forEach((X=>{X.setLogLevel(Q)}))}function L(Q,X){for(const C of l){let l=null;X&&X.level&&(l=M[X.level]),C.userLogHandler=null===Q?null:function(X,C){for(var M=arguments.length,f=new Array(M>2?M-2:0),O=2;O<M;O++)f[O-2]=arguments[O];const m=f.map((Q=>{if(null==Q)return null;if("string"===typeof Q)return Q;if("number"===typeof Q||"boolean"===typeof Q)return Q.toString();if(Q instanceof Error)return Q.message;try{return JSON.stringify(Q)}catch(X){return null}})).filter((Q=>Q)).join(" ");C>=(null!==l&&void 0!==l?l:X.logLevel)&&Q({level:h[C].toLowerCase(),message:m,args:f,type:X.name})}}}}}]);