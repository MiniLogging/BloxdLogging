/*! For license information please see dq7lfg.22.ac817302.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[22],{11748:(U,W,l)=>{l.d(W,{D:()=>y,H:()=>q,K:()=>j,N:()=>G,O:()=>w,Q:()=>r,R:()=>i,U:()=>f,W:()=>g,_:()=>K,ab:()=>m,bb:()=>H,c:()=>s,cb:()=>d,f:()=>D,gb:()=>E,h:()=>N,k:()=>Z,m:()=>B,o:()=>p,r:()=>Q,u:()=>n,v:()=>O,z:()=>V});const M=function(U){const W=[];let l=0;for(let M=0;M<U.length;M++){let t=U.charCodeAt(M);t<128?W[l++]=t:t<2048?(W[l++]=t>>6|192,W[l++]=63&t|128):55296===(64512&t)&&M+1<U.length&&56320===(64512&U.charCodeAt(M+1))?(t=65536+((1023&t)<<10)+(1023&U.charCodeAt(++M)),W[l++]=t>>18|240,W[l++]=t>>12&63|128,W[l++]=t>>6&63|128,W[l++]=63&t|128):(W[l++]=t>>12|224,W[l++]=t>>6&63|128,W[l++]=63&t|128)}return W},t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let t=0;t<U.length;t+=3){const W=U[t],L=t+1<U.length,p=L?U[t+1]:0,B=t+2<U.length,k=B?U[t+2]:0,A=W>>2,q=(3&W)<<4|p>>4;let y=(15&p)<<2|k>>6,j=63&k;B||(j=64,L||(y=64)),M.push(l[A],l[q],l[y],l[j])}return M.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(M(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let l=0,M=0;for(;l<U.length;){const t=U[l++];if(t<128)W[M++]=String.fromCharCode(t);else if(t>191&&t<224){const L=U[l++];W[M++]=String.fromCharCode((31&t)<<6|63&L)}else if(t>239&&t<365){const L=((7&t)<<18|(63&U[l++])<<12|(63&U[l++])<<6|63&U[l++])-65536;W[M++]=String.fromCharCode(55296+(L>>10)),W[M++]=String.fromCharCode(56320+(1023&L))}else{const L=U[l++],p=U[l++];W[M++]=String.fromCharCode((15&t)<<12|(63&L)<<6|63&p)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const l=W?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let t=0;t<U.length;){const W=l[U.charAt(t++)],p=t<U.length?l[U.charAt(t)]:0;++t;const B=t<U.length?l[U.charAt(t)]:64;++t;const k=t<U.length?l[U.charAt(t)]:64;if(++t,null==W||null==p||null==B||null==k)throw new L;const A=W<<2|p>>4;if(M.push(A),64!==B){const U=p<<4&240|B>>2;if(M.push(U),64!==k){const U=B<<6&192|k;M.push(U)}}}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(U){return function(U){const W=M(U);return t.encodeByteArray(W,!0)}(U).replace(/\./g,"")},B=function(U){try{return t.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};const k=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof l.g)return l.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,A=()=>{try{return k()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(l){return}const W=U&&B(U[1]);return W&&JSON.parse(W)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},q=U=>{var W,l;return null===(l=null===(W=A())||void 0===W?void 0:W.emulatorHosts)||void 0===l?void 0:l[U]},y=()=>{var U;return null===(U=A())||void 0===U?void 0:U.config},j=U=>{var W;return null===(W=A())||void 0===W?void 0:W[`_${U}`]};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((U,W)=>{this.resolve=U,this.reject=W}))}wrapCallback(U){return(W,l)=>{W?this.reject(W):this.resolve(l),"function"===typeof U&&(this.promise.catch((()=>{})),1===U.length?U(W):U(W,l))}}}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function K(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function r(){const U="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof U&&void 0!==U.id}function m(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){const U=w();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function g(){try{return"object"===typeof indexedDB}catch(U){return!1}}function E(){return new Promise(((U,W)=>{try{let l=!0;const M="validate-browser-context-for-indexeddb-analytics-module",t=self.indexedDB.open(M);t.onsuccess=()=>{t.result.close(),l||self.indexedDB.deleteDatabase(M),U(!0)},t.onupgradeneeded=()=>{l=!1},t.onerror=()=>{var U;W((null===(U=t.error)||void 0===U?void 0:U.message)||"")}}catch(l){W(l)}}))}function Z(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class N extends Error{constructor(U,W,l){super(W),this.code=U,this.customData=l,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(U,W,l){this.service=U,this.serviceName=W,this.errors=l}create(U){const W=(arguments.length<=1?void 0:arguments[1])||{},l=`${this.service}/${U}`,M=this.errors[U],t=M?function(U,W){return U.replace(o,((U,l)=>{const M=W[l];return null!=M?String(M):`<${l}?>`}))}(M,W):"Error",L=`${this.serviceName}: ${t} (${l}).`;return new N(l,L,W)}}const o=/\{\$([^}]+)}/g;function i(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function O(U,W){if(U===W)return!0;const l=Object.keys(U),M=Object.keys(W);for(const t of l){if(!M.includes(t))return!1;const l=U[t],L=W[t];if(e(l)&&e(L)){if(!O(l,L))return!1}else if(l!==L)return!1}for(const t of M)if(!l.includes(t))return!1;return!0}function e(U){return null!==U&&"object"===typeof U}function d(U){const W=[];for(const[l,M]of Object.entries(U))Array.isArray(M)?M.forEach((U=>{W.push(encodeURIComponent(l)+"="+encodeURIComponent(U))})):W.push(encodeURIComponent(l)+"="+encodeURIComponent(M));return W.length?"&"+W.join("&"):""}function H(U){const W={};return U.replace(/^\?/,"").split("&").forEach((U=>{if(U){const[l,M]=U.split("=");W[decodeURIComponent(l)]=decodeURIComponent(M)}})),W}function V(U){const W=U.indexOf("?");if(!W)return"";const l=U.indexOf("#",W);return U.substring(W,l>0?l:void 0)}function n(U,W){const l=new x(U,W);return l.subscribe.bind(l)}class x{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then((()=>{U(this)})).catch((U=>{this.error(U)}))}next(U){this.forEachObserver((W=>{W.next(U)}))}error(U){this.forEachObserver((W=>{W.error(U)})),this.close(U)}complete(){this.forEachObserver((U=>{U.complete()})),this.close()}subscribe(U,W,l){let M;if(void 0===U&&void 0===W&&void 0===l)throw new Error("Missing Observer.");M=function(U,W){if("object"!==typeof U||null===U)return!1;for(const l of W)if(l in U&&"function"===typeof U[l])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:l},void 0===M.next&&(M.next=I),void 0===M.error&&(M.error=I),void 0===M.complete&&(M.complete=I);const t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch(U){}})),this.observers.push(M),t}unsubscribeOne(U){void 0!==this.observers&&void 0!==this.observers[U]&&(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(l){"undefined"!==typeof console&&console.error&&console.error(l)}}))}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function I(){}const R=1e3,F=2,v=144e5,J=.5;function Q(U){let W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;const l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:R)*Math.pow(W,U),M=Math.round(J*l*(Math.random()-.5)*2);return Math.min(v,l+M)}function G(U){return U&&U._delegate?U._delegate:U}},11744:(U,W,l)=>{l.d(W,{d:()=>L.h,e:()=>yU,g:()=>X,i:()=>lU,l:()=>MU,m:()=>UU,p:()=>BU,r:()=>WU,v:()=>LU,z:()=>tU,A:()=>pU,D:()=>KU,H:()=>sU,E:()=>wU,L:()=>jU,M:()=>mU,P:()=>rU,S:()=>fU});var M=l(11746),t=l(11756),L=l(11748);let p,B;const k=new WeakMap,A=new WeakMap,q=new WeakMap,y=new WeakMap,j=new WeakMap;let s={get(U,W,l){if(U instanceof IDBTransaction){if("done"===W)return A.get(U);if("objectStoreNames"===W)return U.objectStoreNames||q.get(U);if("store"===W)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return r(U[W])},set:(U,W,l)=>(U[W]=l,!0),has:(U,W)=>U instanceof IDBTransaction&&("done"===W||"store"===W)||W in U};function w(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(U)?function(){for(var W=arguments.length,l=new Array(W),M=0;M<W;M++)l[M]=arguments[M];return U.apply(m(this),l),r(k.get(this))}:function(){for(var W=arguments.length,l=new Array(W),M=0;M<W;M++)l[M]=arguments[M];return r(U.apply(m(this),l))}:function(W){for(var l=arguments.length,M=new Array(l>1?l-1:0),t=1;t<l;t++)M[t-1]=arguments[t];const L=U.call(m(this),W,...M);return q.set(L,W.sort?W.sort():[W]),r(L)}}function K(U){return"function"===typeof U?w(U):(U instanceof IDBTransaction&&function(U){if(A.has(U))return;const W=new Promise(((W,l)=>{const M=()=>{U.removeEventListener("complete",t),U.removeEventListener("error",L),U.removeEventListener("abort",L)},t=()=>{W(),M()},L=()=>{l(U.error||new DOMException("AbortError","AbortError")),M()};U.addEventListener("complete",t),U.addEventListener("error",L),U.addEventListener("abort",L)}));A.set(U,W)}(U),W=U,(p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((U=>W instanceof U))?new Proxy(U,s):U);var W}function r(U){if(U instanceof IDBRequest)return function(U){const W=new Promise(((W,l)=>{const M=()=>{U.removeEventListener("success",t),U.removeEventListener("error",L)},t=()=>{W(r(U.result)),M()},L=()=>{l(U.error),M()};U.addEventListener("success",t),U.addEventListener("error",L)}));return W.then((W=>{W instanceof IDBCursor&&k.set(W,U)})).catch((()=>{})),j.set(W,U),W}(U);if(y.has(U))return y.get(U);const W=K(U);return W!==U&&(y.set(U,W),j.set(W,U)),W}const m=U=>j.get(U);const f=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],E=new Map;function Z(U,W){if(!(U instanceof IDBDatabase)||W in U||"string"!==typeof W)return;if(E.get(W))return E.get(W);const l=W.replace(/FromIndex$/,""),M=W!==l,t=g.includes(l);if(!(l in(M?IDBIndex:IDBObjectStore).prototype)||!t&&!f.includes(l))return;const L=async function(U){const W=this.transaction(U,t?"readwrite":"readonly");let L=W.store;for(var p=arguments.length,B=new Array(p>1?p-1:0),k=1;k<p;k++)B[k-1]=arguments[k];return M&&(L=L.index(B.shift())),(await Promise.all([L[l](...B),t&&W.done]))[0]};return E.set(W,L),L}s=(U=>({...U,get:(W,l,M)=>Z(W,l)||U.get(W,l,M),has:(W,l)=>!!Z(W,l)||U.has(W,l)}))(s);class N{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map((U=>{if(function(U){const W=U.getComponent();return"VERSION"===(null===W||void 0===W?void 0:W.type)}(U)){const W=U.getImmediate();return`${W.library}/${W.version}`}return null})).filter((U=>U)).join(" ")}}const D="@firebase/app",o="0.9.13",i=new t.h("@firebase/app"),O="@firebase/app-compat",e="@firebase/analytics-compat",d="@firebase/analytics",H="@firebase/app-check-compat",V="@firebase/app-check",n="@firebase/auth",x="@firebase/auth-compat",I="@firebase/database",R="@firebase/database-compat",F="@firebase/functions",v="@firebase/functions-compat",J="@firebase/installations",Q="@firebase/installations-compat",G="@firebase/messaging",u="@firebase/messaging-compat",b="@firebase/performance",C="@firebase/performance-compat",P="@firebase/remote-config",S="@firebase/remote-config-compat",c="@firebase/storage",h="@firebase/storage-compat",z="@firebase/firestore",a="@firebase/firestore-compat",Y="firebase",X="[DEFAULT]",T={[D]:"fire-core",[O]:"fire-core-compat",[d]:"fire-analytics",[e]:"fire-analytics-compat",[V]:"fire-app-check",[H]:"fire-app-check-compat",[n]:"fire-auth",[x]:"fire-auth-compat",[I]:"fire-rtdb",[R]:"fire-rtdb-compat",[F]:"fire-fn",[v]:"fire-fn-compat",[J]:"fire-iid",[Q]:"fire-iid-compat",[G]:"fire-fcm",[u]:"fire-fcm-compat",[b]:"fire-perf",[C]:"fire-perf-compat",[P]:"fire-rc",[S]:"fire-rc-compat",[c]:"fire-gcs",[h]:"fire-gcs-compat",[z]:"fire-fst",[a]:"fire-fst-compat","fire-js":"fire-js",[Y]:"fire-js-all"},UU=new Map,WU=new Map;function lU(U,W){try{U.container.Tf(W)}catch(l){i.debug(`Component ${W.name} failed to register with FirebaseApp ${U.name}`,l)}}function MU(U,W){U.container.addOrOverwriteComponent(W)}function tU(U){const W=U.name;if(WU.has(W))return i.debug(`There were multiple attempts to register component ${W}.`),!1;WU.set(W,U);for(const l of UU.values())lU(l,U);return!0}function LU(U,W){const l=U.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),U.container.getProvider(W)}function pU(U,W){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;LU(U,W).clearInstance(l)}function BU(){WU.clear()}const kU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},AU=new L.f("app","Firebase",kU);class qU{constructor(U,W,l){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=l,this.container.Tf(new M.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw AU.create("app-deleted",{appName:this._name})}}const yU="9.23.0";function jU(U){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=U;if("object"!==typeof W){W={name:W}}const t=Object.assign({name:X,automaticDataCollectionEnabled:!1},W),p=t.name;if("string"!==typeof p||!p)throw AU.create("bad-app-name",{appName:String(p)});if(l||(l=(0,L.D)()),!l)throw AU.create("no-options");const B=UU.get(p);if(B){if((0,L.v)(l,B.options)&&(0,L.v)(t,B.config))return B;throw AU.create("duplicate-app",{appName:p})}const k=new M.e(p);for(const M of WU.values())k.Tf(M);const A=new qU(l,t,k);return UU.set(p,A),A}function sU(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const W=UU.get(U);if(!W&&U===X&&(0,L.D)())return jU();if(!W)throw AU.create("no-app",{appName:U});return W}function wU(){return Array.from(UU.values())}async function KU(U){const W=U.name;UU.has(W)&&(UU.delete(W),await Promise.all(U.container.getProviders().map((U=>U.delete()))),U.isDeleted=!0)}function rU(U,W,l){var t;let L=null!==(t=T[U])&&void 0!==t?t:U;l&&(L+=`-${l}`);const p=L.match(/\s|\//),B=W.match(/\s|\//);if(p||B){const U=[`Unable to register library "${L}" with version "${W}":`];return p&&U.push(`library name "${L}" contains illegal characters (whitespace or "/")`),p&&B&&U.push("and"),B&&U.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void i.warn(U.join(" "))}tU(new M.h(`${L}-version`,(()=>({library:L,version:W})),"VERSION"))}function mU(U,W){if(null!==U&&"function"!==typeof U)throw AU.create("invalid-log-argument");(0,t.m)(U,W)}function fU(U){(0,t.j)(U)}const gU="firebase-heartbeat-store";let EU=null;function ZU(){return EU||(EU=function(U,W){let{blocked:l,upgrade:M,blocking:t,terminated:L}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const p=indexedDB.open(U,W),B=r(p);return M&&p.addEventListener("upgradeneeded",(U=>{M(r(p.result),U.oldVersion,U.newVersion,r(p.transaction),U)})),l&&p.addEventListener("blocked",(U=>l(U.oldVersion,U.newVersion,U))),B.then((U=>{L&&U.addEventListener("close",(()=>L())),t&&U.addEventListener("versionchange",(U=>t(U.oldVersion,U.newVersion,U)))})).catch((()=>{})),B}("firebase-heartbeat-database",1,{upgrade:(U,W)=>{if(0===W)U.createObjectStore(gU)}}).catch((U=>{throw AU.create("idb-open",{originalErrorMessage:U.message})}))),EU}async function NU(U,W){try{const l=(await ZU()).transaction(gU,"readwrite"),M=l.objectStore(gU);await M.put(W,DU(U)),await l.done}catch(l){if(l instanceof L.h)i.warn(l.message);else{const U=AU.create("idb-set",{originalErrorMessage:null===l||void 0===l?void 0:l.message});i.warn(U.message)}}}function DU(U){return`${U.name}!${U.options.appId}`}class oU{constructor(U){this.container=U,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this.qj=new OU(W),this._heartbeatsCachePromise=this.qj.read().then((U=>(this._heartbeatsCache=U,U)))}async triggerHeartbeat(){const U=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),W=iU();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==W&&!this._heartbeatsCache.heartbeats.some((U=>U.date===W)))return this._heartbeatsCache.heartbeats.push({date:W,agent:U}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((U=>{const W=new Date(U.date).valueOf();return Date.now()-W<=2592e6})),this.qj.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const U=iU(),{heartbeatsToSend:W,unsentEntries:l}=function(U){let W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const l=[];let M=U.slice();for(const t of U){const U=l.find((U=>U.agent===t.agent));if(U){if(U.dates.push(t.date),eU(l)>W){U.dates.pop();break}}else if(l.push({agent:t.agent,dates:[t.date]}),eU(l)>W){l.pop();break}M=M.slice(1)}return{heartbeatsToSend:l,unsentEntries:M}}(this._heartbeatsCache.heartbeats),M=(0,L.o)(JSON.stringify({version:2,heartbeats:W}));return this._heartbeatsCache.lastSentHeartbeatDate=U,l.length>0?(this._heartbeatsCache.heartbeats=l,await this.qj.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.qj.overwrite(this._heartbeatsCache)),M}}function iU(){return(new Date).toISOString().substring(0,10)}class OU{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,L.W)()&&(0,L.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(U){try{const W=await ZU();return await W.transaction(gU).objectStore(gU).get(DU(U))}catch(W){if(W instanceof L.h)i.warn(W.message);else{const U=AU.create("idb-get",{originalErrorMessage:null===W||void 0===W?void 0:W.message});i.warn(U.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(U){var W;if(await this._canUseIndexedDBPromise){const l=await this.read();return NU(this.app,{lastSentHeartbeatDate:null!==(W=U.lastSentHeartbeatDate)&&void 0!==W?W:l.lastSentHeartbeatDate,heartbeats:U.heartbeats})}}async add(U){var W;if(await this._canUseIndexedDBPromise){const l=await this.read();return NU(this.app,{lastSentHeartbeatDate:null!==(W=U.lastSentHeartbeatDate)&&void 0!==W?W:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...U.heartbeats]})}}}function eU(U){return(0,L.o)(JSON.stringify({version:2,heartbeats:U})).length}var dU;dU="",tU(new M.h("platform-logger",(U=>new N(U)),"PRIVATE")),tU(new M.h("heartbeat",(U=>new oU(U)),"PRIVATE")),rU(D,o,dU),rU(D,o,"esm2017"),rU("fire-js","")},11746:(U,W,l)=>{l.d(W,{e:()=>B,h:()=>t});var M=l(11748);class t{constructor(U,W,l){this.name=U,this.instanceFactory=W,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const L="[DEFAULT]";class p{constructor(U,W){this.name=U,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const W=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(W)){const U=new M.c;if(this.instancesDeferred.set(W,U),this.isInitialized(W)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:W});l&&U.resolve(l)}catch(l){}}return this.instancesDeferred.get(W).promise}getImmediate(U){var W;const l=this.normalizeInstanceIdentifier(null===U||void 0===U?void 0:U.identifier),M=null!==(W=null===U||void 0===U?void 0:U.optional)&&void 0!==W&&W;if(!this.isInitialized(l)&&!this.shouldAutoInitialize()){if(M)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:l})}catch(t){if(M)return null;throw t}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function(U){return"EAGER"===U.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:L})}catch(W){}for(const[U,l]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(U);try{const U=this.getOrInitializeService({instanceIdentifier:M});l.resolve(U)}catch(W){}}}}clearInstance(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}async delete(){const U=Array.from(this.instances.values());await Promise.all([...U.filter((U=>"INTERNAL"in U)).map((U=>U.INTERNAL.delete())),...U.filter((U=>"_delete"in U)).map((U=>U._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instances.has(U)}getOptions(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instancesOptions.get(U)||{}}initialize(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:W={}}=U,l=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:l,options:W});for(const[t,L]of this.instancesDeferred.entries()){l===this.normalizeInstanceIdentifier(t)&&L.resolve(M)}return M}dl(U,W){var l;const M=this.normalizeInstanceIdentifier(W),t=null!==(l=this.onInitCallbacks.get(M))&&void 0!==l?l:new Set;t.add(U),this.onInitCallbacks.set(M,t);const L=this.instances.get(M);return L&&U(L,M),()=>{t.delete(U)}}invokeOnInitCallbacks(U,W){const l=this.onInitCallbacks.get(W);if(l)for(const t of l)try{t(U,W)}catch(M){}}getOrInitializeService(U){let{instanceIdentifier:W,options:l={}}=U,M=this.instances.get(W);if(!M&&this.component&&(M=this.component.instanceFactory(this.container,{instanceIdentifier:(t=W,t===L?void 0:t),options:l}),this.instances.set(W,M),this.instancesOptions.set(W,l),this.invokeOnInitCallbacks(M,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,M)}catch(p){}var t;return M||null}normalizeInstanceIdentifier(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.component?this.component.multipleInstances?U:L:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class B{constructor(U){this.name=U,this.providers=new Map}Tf(U){const W=this.getProvider(U.name);if(W.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);W.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.Tf(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const W=new p(U,this);return this.providers.set(U,W),W}getProviders(){return Array.from(this.providers.values())}}},11756:(U,W,l)=>{l.d(W,{e:()=>t,h:()=>A,j:()=>q,m:()=>y});const M=[];var t;!function(U){U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT"}(t||(t={}));const L={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},p=t.INFO,B={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},k=function(U,W){if(W<U.logLevel)return;const l=(new Date).toISOString(),M=B[W];if(!M)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);for(var t=arguments.length,L=new Array(t>2?t-2:0),p=2;p<t;p++)L[p-2]=arguments[p];console[M](`[${l}]  ${U.name}:`,...L)};class A{constructor(U){this.name=U,this._logLevel=p,this._logHandler=k,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in t))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"===typeof U?L[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!==typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(){for(var U=arguments.length,W=new Array(U),l=0;l<U;l++)W[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...W),this._logHandler(this,t.DEBUG,...W)}log(){for(var U=arguments.length,W=new Array(U),l=0;l<U;l++)W[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...W),this._logHandler(this,t.VERBOSE,...W)}info(){for(var U=arguments.length,W=new Array(U),l=0;l<U;l++)W[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.INFO,...W),this._logHandler(this,t.INFO,...W)}warn(){for(var U=arguments.length,W=new Array(U),l=0;l<U;l++)W[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.WARN,...W),this._logHandler(this,t.WARN,...W)}error(){for(var U=arguments.length,W=new Array(U),l=0;l<U;l++)W[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.ERROR,...W),this._logHandler(this,t.ERROR,...W)}}function q(U){M.forEach((W=>{W.setLogLevel(U)}))}function y(U,W){for(const l of M){let M=null;W&&W.level&&(M=L[W.level]),l.userLogHandler=null===U?null:function(W,l){for(var L=arguments.length,p=new Array(L>2?L-2:0),B=2;B<L;B++)p[B-2]=arguments[B];const k=p.map((U=>{if(null==U)return null;if("string"===typeof U)return U;if("number"===typeof U||"boolean"===typeof U)return U.toString();if(U instanceof Error)return U.message;try{return JSON.stringify(U)}catch(W){return null}})).filter((U=>U)).join(" ");l>=(null!==M&&void 0!==M?M:W.logLevel)&&U({level:t[l].toLowerCase(),message:k,args:p,type:W.name})}}}}}]);