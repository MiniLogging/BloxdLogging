"use strict";(self["269hv5nclphh"]=self["269hv5nclphh"]||[]).push([[90],{15624:(E,H,d)=>{d.r(H),d.d(H,{FlowGraphDeterminantBlock:()=>S,FlowGraphInvertMatrixBlock:()=>M,FlowGraphMatrixComposeBlock:()=>w,FlowGraphMatrixDecomposeBlock:()=>C,FlowGraphMatrixMultiplicationBlock:()=>V,FlowGraphTransposeBlock:()=>t});var n=d(14125),Z=d(14103),I=d(12384),g=d(12344),l=d(15618),r=d(15601);class t extends l.c{constructor(E){super((0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(E=>E.transpose?E.transpose():I.Matrix.Transpose(E)),"FlowGraphTransposeBlock",E)}}(0,g.e)("FlowGraphTransposeBlock",t);class S extends l.c{constructor(E){super((0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),Z.r,(E=>E.determinant()),"FlowGraphDeterminantBlock",E)}}(0,g.e)("FlowGraphDeterminantBlock",S);class M extends l.c{constructor(E){super((0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(E=>E.inverse?E.inverse():I.Matrix.Invert(E)),"FlowGraphInvertMatrixBlock",E)}}(0,g.e)("FlowGraphInvertMatrixBlock",M);class V extends r.e{constructor(E){super((0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),(0,Z.M)((null===E||void 0===E?void 0:E.matrixType)||"Matrix"),((E,H)=>H.multiply(E)),"FlowGraphMatrixMultiplicationBlock",E)}}(0,g.e)("FlowGraphMatrixMultiplicationBlock",V);class C extends n.c{constructor(E){super(E),this.input=this.registerDataInput("input",Z.m),this.position=this.registerDataOutput("position",Z.E),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",Z.v),this.mg=this.registerDataOutput("mg",Z.E),this.isValid=this.registerDataOutput("isValid",Z.h,!1)}_updateOutputs(E){const H=E._getExecutionVariable(this,"executionId",-1),d=E._getExecutionVariable(this,"cachedPosition",null),n=E._getExecutionVariable(this,"cachedRotation",null),Z=E._getExecutionVariable(this,"cachedScaling",null);if(H===E.executionId&&d&&n&&Z)this.position.setValue(d,E),this.rotationQuaternion.setValue(n,E),this.mg.setValue(Z,E);else{const H=this.input.getValue(E),g=d||new I.wH,l=n||new I.Quaternion,r=Z||new I.wH,t=Math.round(1e4*H.m[3])/1e4,S=Math.round(1e4*H.m[7])/1e4,M=Math.round(1e4*H.m[11])/1e4,V=Math.round(1e4*H.m[15])/1e4;if(0!==t||0!==S||0!==M||1!==V)return this.isValid.setValue(!1,E),this.position.setValue(I.wH.Zero(),E),this.rotationQuaternion.setValue(I.Quaternion.Identity(),E),void this.mg.setValue(I.wH.One(),E);const C=H.decompose(r,l,g);this.isValid.setValue(C,E),this.position.setValue(g,E),this.rotationQuaternion.setValue(l,E),this.mg.setValue(r,E),E._setExecutionVariable(this,"cachedPosition",g),E._setExecutionVariable(this,"cachedRotation",l),E._setExecutionVariable(this,"cachedScaling",r),E._setExecutionVariable(this,"executionId",E.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,g.e)("FlowGraphMatrixDecompose",C);class w extends n.c{constructor(E){super(E),this.position=this.registerDataInput("position",Z.E),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",Z.v),this.mg=this.registerDataInput("mg",Z.E),this.value=this.registerDataOutput("value",Z.m)}_updateOutputs(E){const H=E._getExecutionVariable(this,"executionId",-1),d=E._getExecutionVariable(this,"cachedMatrix",null);if(H===E.executionId&&d)this.value.setValue(d,E);else{const H=I.Matrix.Compose(this.mg.getValue(E),this.rotationQuaternion.getValue(E),this.position.getValue(E));this.value.setValue(H,E),E._setExecutionVariable(this,"cachedMatrix",H),E._setExecutionVariable(this,"executionId",E.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,g.e)("FlowGraphMatrixCompose",w)},15601:(E,H,d)=>{d.d(H,{e:()=>Z});var n=d(15610);class Z extends n.e{constructor(E,H,d,n,Z,I){super(d,I),this._operation=n,this._className=Z,this.a=this.registerDataInput("a",E),this.b=this.registerDataInput("b",H)}_doOperation(E){const H=this.a.getValue(E),d=this.b.getValue(E);return this._operation(H,d)}getClassName(){return this._className}}},15610:(E,H,d)=>{d.d(H,{e:()=>l});var n=d(14125),Z=d(14103);const I="cachedOperationValue",g="cachedExecutionId";class l extends n.c{constructor(E,H){super(H),this.value=this.registerDataOutput("value",E),this.isValid=this.registerDataOutput("isValid",Z.h)}_updateOutputs(E){const H=E._getExecutionVariable(this,g,-1),d=E._getExecutionVariable(this,I,null);if(void 0!==d&&null!==d&&H===E.executionId)this.isValid.setValue(!0,E),this.value.setValue(d,E);else try{const H=this._doOperation(E);if(void 0===H||null===H)return void this.isValid.setValue(!1,E);E._setExecutionVariable(this,I,H),E._setExecutionVariable(this,g,E.executionId),this.value.setValue(H,E),this.isValid.setValue(!0,E)}catch(n){this.isValid.setValue(!1,E)}}}},15618:(E,H,d)=>{d.d(H,{c:()=>Z});var n=d(15610);class Z extends n.e{constructor(E,H,d,n,Z){super(H,Z),this._operation=d,this._className=n,this.a=this.registerDataInput("a",E)}_doOperation(E){return this._operation(this.a.getValue(E))}getClassName(){return this._className}}}}]);