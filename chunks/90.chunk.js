"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[90],{14479:(o,H,n)=>{n.r(H),n.d(H,{FlowGraphDeterminantBlock:()=>G,FlowGraphInvertMatrixBlock:()=>c,FlowGraphMatrixComposeBlock:()=>x,FlowGraphMatrixDecomposeBlock:()=>l,FlowGraphMatrixMultiplicationBlock:()=>A,FlowGraphTransposeBlock:()=>S});var E=n(12956),k=n(12933),g=n(11189),O=n(11140),Y=n(14469),y=n(14458);class S extends Y.d{constructor(o){super((0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(o=>o.transpose?o.transpose():g.Matrix.Transpose(o)),"FlowGraphTransposeBlock",o)}}(0,O.e)("FlowGraphTransposeBlock",S);class G extends Y.d{constructor(o){super((0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),k.r,(o=>o.determinant()),"FlowGraphDeterminantBlock",o)}}(0,O.e)("FlowGraphDeterminantBlock",G);class c extends Y.d{constructor(o){super((0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(o=>o.inverse?o.inverse():g.Matrix.Invert(o)),"FlowGraphInvertMatrixBlock",o)}}(0,O.e)("FlowGraphInvertMatrixBlock",c);class A extends y.d{constructor(o){super((0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),(0,k.L)((null===o||void 0===o?void 0:o.matrixType)||"Matrix"),((o,H)=>H.multiply(o)),"FlowGraphMatrixMultiplicationBlock",o)}}(0,O.e)("FlowGraphMatrixMultiplicationBlock",A);class l extends E.c{constructor(o){super(o),this.input=this.registerDataInput("input",k.i),this.position=this.registerDataOutput("position",k.B),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",k.u),this.cY=this.registerDataOutput("cY",k.B),this.isValid=this.registerDataOutput("isValid",k.d,!1)}_updateOutputs(o){const H=o._getExecutionVariable(this,"executionId",-1),n=o._getExecutionVariable(this,"cachedPosition",null),E=o._getExecutionVariable(this,"cachedRotation",null),k=o._getExecutionVariable(this,"cachedScaling",null);if(H===o.executionId&&n&&E&&k)this.position.setValue(n,o),this.rotationQuaternion.setValue(E,o),this.cY.setValue(k,o);else{const H=this.input.getValue(o),O=n||new g.xH,Y=E||new g.Quaternion,y=k||new g.xH,S=Math.round(1e4*H.m[3])/1e4,G=Math.round(1e4*H.m[7])/1e4,c=Math.round(1e4*H.m[11])/1e4,A=Math.round(1e4*H.m[15])/1e4;if(0!==S||0!==G||0!==c||1!==A)return this.isValid.setValue(!1,o),this.position.setValue(g.xH.Zero(),o),this.rotationQuaternion.setValue(g.Quaternion.Identity(),o),void this.cY.setValue(g.xH.One(),o);const l=H.decompose(y,Y,O);this.isValid.setValue(l,o),this.position.setValue(O,o),this.rotationQuaternion.setValue(Y,o),this.cY.setValue(y,o),o._setExecutionVariable(this,"cachedPosition",O),o._setExecutionVariable(this,"cachedRotation",Y),o._setExecutionVariable(this,"cachedScaling",y),o._setExecutionVariable(this,"executionId",o.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,O.e)("FlowGraphMatrixDecompose",l);class x extends E.c{constructor(o){super(o),this.position=this.registerDataInput("position",k.B),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",k.u),this.cY=this.registerDataInput("cY",k.B),this.value=this.registerDataOutput("value",k.i)}_updateOutputs(o){const H=o._getExecutionVariable(this,"executionId",-1),n=o._getExecutionVariable(this,"cachedMatrix",null);if(H===o.executionId&&n)this.value.setValue(n,o);else{const H=g.Matrix.Compose(this.cY.getValue(o),this.rotationQuaternion.getValue(o),this.position.getValue(o));this.value.setValue(H,o),o._setExecutionVariable(this,"cachedMatrix",H),o._setExecutionVariable(this,"executionId",o.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,O.e)("FlowGraphMatrixCompose",x)},14458:(o,H,n)=>{n.d(H,{d:()=>k});var E=n(14464);class k extends E.d{constructor(o,H,n,E,k,g){super(n,g),this._operation=E,this._className=k,this.a=this.registerDataInput("a",o),this.b=this.registerDataInput("b",H)}_doOperation(o){const H=this.a.getValue(o),n=this.b.getValue(o);return this._operation(H,n)}getClassName(){return this._className}}},14464:(o,H,n)=>{n.d(H,{d:()=>Y});var E=n(12956),k=n(12933);const g="cachedOperationValue",O="cachedExecutionId";class Y extends E.c{constructor(o,H){super(H),this.value=this.registerDataOutput("value",o),this.isValid=this.registerDataOutput("isValid",k.d)}_updateOutputs(o){const H=o._getExecutionVariable(this,O,-1),n=o._getExecutionVariable(this,g,null);if(void 0!==n&&null!==n&&H===o.executionId)this.isValid.setValue(!0,o),this.value.setValue(n,o);else try{const H=this._doOperation(o);if(void 0===H||null===H)return void this.isValid.setValue(!1,o);o._setExecutionVariable(this,g,H),o._setExecutionVariable(this,O,o.executionId),this.value.setValue(H,o),this.isValid.setValue(!0,o)}catch(E){this.isValid.setValue(!1,o)}}}},14469:(o,H,n)=>{n.d(H,{d:()=>k});var E=n(14464);class k extends E.d{constructor(o,H,n,E,k){super(H,k),this._operation=n,this._className=E,this.a=this.registerDataInput("a",o)}_doOperation(o){return this._operation(this.a.getValue(o))}getClassName(){return this._className}}}}]);