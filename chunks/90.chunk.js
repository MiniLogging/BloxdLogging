"use strict";(self.irtrrknfyfo=self.irtrrknfyfo||[]).push([[90],{14600:(B,E,v)=>{v.r(E),v.d(E,{FlowGraphDeterminantBlock:()=>h,FlowGraphInvertMatrixBlock:()=>y,FlowGraphMatrixComposeBlock:()=>G,FlowGraphMatrixDecomposeBlock:()=>P,FlowGraphMatrixMultiplicationBlock:()=>Q,FlowGraphTransposeBlock:()=>D});var z=v(13121),o=v(13102),q=v(11380),c=v(11345),S=v(14595),x=v(14579);class D extends S.d{constructor(B){super((0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(B=>B.transpose?B.transpose():q.Matrix.Transpose(B)),"FlowGraphTransposeBlock",B)}}(0,c.f)("FlowGraphTransposeBlock",D);class h extends S.d{constructor(B){super((0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),o.v,(B=>B.determinant()),"FlowGraphDeterminantBlock",B)}}(0,c.f)("FlowGraphDeterminantBlock",h);class y extends S.d{constructor(B){super((0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(B=>B.inverse?B.inverse():q.Matrix.Invert(B)),"FlowGraphInvertMatrixBlock",B)}}(0,c.f)("FlowGraphInvertMatrixBlock",y);class Q extends x.c{constructor(B){super((0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),(0,o.Q)((null===B||void 0===B?void 0:B.matrixType)||"Matrix"),((B,E)=>E.multiply(B)),"FlowGraphMatrixMultiplicationBlock",B)}}(0,c.f)("FlowGraphMatrixMultiplicationBlock",Q);class P extends z.c{constructor(B){super(B),this.input=this.registerDataInput("input",o.k),this.position=this.registerDataOutput("position",o.G),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",o.y),this.ac=this.registerDataOutput("ac",o.G),this.isValid=this.registerDataOutput("isValid",o.f,!1)}_updateOutputs(B){const E=B._getExecutionVariable(this,"executionId",-1),v=B._getExecutionVariable(this,"cachedPosition",null),z=B._getExecutionVariable(this,"cachedRotation",null),o=B._getExecutionVariable(this,"cachedScaling",null);if(E===B.executionId&&v&&z&&o)this.position.setValue(v,B),this.rotationQuaternion.setValue(z,B),this.ac.setValue(o,B);else{const E=this.input.getValue(B),c=v||new q.GE,S=z||new q.Quaternion,x=o||new q.GE,D=Math.round(1e4*E.m[3])/1e4,h=Math.round(1e4*E.m[7])/1e4,y=Math.round(1e4*E.m[11])/1e4,Q=Math.round(1e4*E.m[15])/1e4;if(0!==D||0!==h||0!==y||1!==Q)return this.isValid.setValue(!1,B),this.position.setValue(q.GE.Zero(),B),this.rotationQuaternion.setValue(q.Quaternion.Identity(),B),void this.ac.setValue(q.GE.One(),B);const P=E.decompose(x,S,c);this.isValid.setValue(P,B),this.position.setValue(c,B),this.rotationQuaternion.setValue(S,B),this.ac.setValue(x,B),B._setExecutionVariable(this,"cachedPosition",c),B._setExecutionVariable(this,"cachedRotation",S),B._setExecutionVariable(this,"cachedScaling",x),B._setExecutionVariable(this,"executionId",B.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,c.f)("FlowGraphMatrixDecompose",P);class G extends z.c{constructor(B){super(B),this.position=this.registerDataInput("position",o.G),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",o.y),this.ac=this.registerDataInput("ac",o.G),this.value=this.registerDataOutput("value",o.k)}_updateOutputs(B){const E=B._getExecutionVariable(this,"executionId",-1),v=B._getExecutionVariable(this,"cachedMatrix",null);if(E===B.executionId&&v)this.value.setValue(v,B);else{const E=q.Matrix.Compose(this.ac.getValue(B),this.rotationQuaternion.getValue(B),this.position.getValue(B));this.value.setValue(E,B),B._setExecutionVariable(this,"cachedMatrix",E),B._setExecutionVariable(this,"executionId",B.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,c.f)("FlowGraphMatrixCompose",G)},14579:(B,E,v)=>{v.d(E,{c:()=>o});var z=v(14588);class o extends z.b{constructor(B,E,v,z,o,q){super(v,q),this._operation=z,this._className=o,this.a=this.registerDataInput("a",B),this.b=this.registerDataInput("b",E)}_doOperation(B){const E=this.a.getValue(B),v=this.b.getValue(B);return this._operation(E,v)}getClassName(){return this._className}}},14588:(B,E,v)=>{v.d(E,{b:()=>S});var z=v(13121),o=v(13102);const q="cachedOperationValue",c="cachedExecutionId";class S extends z.c{constructor(B,E){super(E),this.value=this.registerDataOutput("value",B),this.isValid=this.registerDataOutput("isValid",o.f)}_updateOutputs(B){const E=B._getExecutionVariable(this,c,-1),v=B._getExecutionVariable(this,q,null);if(void 0!==v&&null!==v&&E===B.executionId)this.isValid.setValue(!0,B),this.value.setValue(v,B);else try{const E=this._doOperation(B);if(void 0===E||null===E)return void this.isValid.setValue(!1,B);B._setExecutionVariable(this,q,E),B._setExecutionVariable(this,c,B.executionId),this.value.setValue(E,B),this.isValid.setValue(!0,B)}catch(z){this.isValid.setValue(!1,B)}}}},14595:(B,E,v)=>{v.d(E,{d:()=>o});var z=v(14588);class o extends z.b{constructor(B,E,v,z,o){super(E,o),this._operation=v,this._className=z,this.a=this.registerDataInput("a",B)}_doOperation(B){return this._operation(this.a.getValue(B))}getClassName(){return this._className}}}}]);