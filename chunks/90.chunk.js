"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[90],{15706:(u,R,I)=>{I.r(R),I.d(R,{FlowGraphDeterminantBlock:()=>G,FlowGraphInvertMatrixBlock:()=>S,FlowGraphMatrixComposeBlock:()=>P,FlowGraphMatrixDecomposeBlock:()=>r,FlowGraphMatrixMultiplicationBlock:()=>b,FlowGraphTransposeBlock:()=>t});var B=I(14181),U=I(14160),K=I(12481),C=I(12433),D=I(15698),s=I(15687);class t extends D.e{constructor(u){super((0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(u=>u.transpose?u.transpose():K.Matrix.Transpose(u)),"FlowGraphTransposeBlock",u)}}(0,C.e)("FlowGraphTransposeBlock",t);class G extends D.e{constructor(u){super((0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),U.u,(u=>u.determinant()),"FlowGraphDeterminantBlock",u)}}(0,C.e)("FlowGraphDeterminantBlock",G);class S extends D.e{constructor(u){super((0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(u=>u.inverse?u.inverse():K.Matrix.Invert(u)),"FlowGraphInvertMatrixBlock",u)}}(0,C.e)("FlowGraphInvertMatrixBlock",S);class b extends s.b{constructor(u){super((0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),(0,U.N)((null===u||void 0===u?void 0:u.matrixType)||"Matrix"),((u,R)=>R.multiply(u)),"FlowGraphMatrixMultiplicationBlock",u)}}(0,C.e)("FlowGraphMatrixMultiplicationBlock",b);class r extends B.d{constructor(u){super(u),this.input=this.registerDataInput("input",U.m),this.position=this.registerDataOutput("position",U.B),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",U.w),this.zD=this.registerDataOutput("zD",U.B),this.isValid=this.registerDataOutput("isValid",U.g,!1)}_updateOutputs(u){const R=u._getExecutionVariable(this,"executionId",-1),I=u._getExecutionVariable(this,"cachedPosition",null),B=u._getExecutionVariable(this,"cachedRotation",null),U=u._getExecutionVariable(this,"cachedScaling",null);if(R===u.executionId&&I&&B&&U)this.position.setValue(I,u),this.rotationQuaternion.setValue(B,u),this.zD.setValue(U,u);else{const R=this.input.getValue(u),C=I||new K.PR,D=B||new K.Quaternion,s=U||new K.PR,t=Math.round(1e4*R.m[3])/1e4,G=Math.round(1e4*R.m[7])/1e4,S=Math.round(1e4*R.m[11])/1e4,b=Math.round(1e4*R.m[15])/1e4;if(0!==t||0!==G||0!==S||1!==b)return this.isValid.setValue(!1,u),this.position.setValue(K.PR.Zero(),u),this.rotationQuaternion.setValue(K.Quaternion.Identity(),u),void this.zD.setValue(K.PR.One(),u);const r=R.decompose(s,D,C);this.isValid.setValue(r,u),this.position.setValue(C,u),this.rotationQuaternion.setValue(D,u),this.zD.setValue(s,u),u._setExecutionVariable(this,"cachedPosition",C),u._setExecutionVariable(this,"cachedRotation",D),u._setExecutionVariable(this,"cachedScaling",s),u._setExecutionVariable(this,"executionId",u.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,C.e)("FlowGraphMatrixDecompose",r);class P extends B.d{constructor(u){super(u),this.position=this.registerDataInput("position",U.B),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",U.w),this.zD=this.registerDataInput("zD",U.B),this.value=this.registerDataOutput("value",U.m)}_updateOutputs(u){const R=u._getExecutionVariable(this,"executionId",-1),I=u._getExecutionVariable(this,"cachedMatrix",null);if(R===u.executionId&&I)this.value.setValue(I,u);else{const R=K.Matrix.Compose(this.zD.getValue(u),this.rotationQuaternion.getValue(u),this.position.getValue(u));this.value.setValue(R,u),u._setExecutionVariable(this,"cachedMatrix",R),u._setExecutionVariable(this,"executionId",u.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,C.e)("FlowGraphMatrixCompose",P)},15687:(u,R,I)=>{I.d(R,{b:()=>U});var B=I(15694);class U extends B.e{constructor(u,R,I,B,U,K){super(I,K),this._operation=B,this._className=U,this.a=this.registerDataInput("a",u),this.b=this.registerDataInput("b",R)}_doOperation(u){const R=this.a.getValue(u),I=this.b.getValue(u);return this._operation(R,I)}getClassName(){return this._className}}},15694:(u,R,I)=>{I.d(R,{e:()=>D});var B=I(14181),U=I(14160);const K="cachedOperationValue",C="cachedExecutionId";class D extends B.d{constructor(u,R){super(R),this.value=this.registerDataOutput("value",u),this.isValid=this.registerDataOutput("isValid",U.g)}_updateOutputs(u){const R=u._getExecutionVariable(this,C,-1),I=u._getExecutionVariable(this,K,null);if(void 0!==I&&null!==I&&R===u.executionId)this.isValid.setValue(!0,u),this.value.setValue(I,u);else try{const R=this._doOperation(u);if(void 0===R||null===R)return void this.isValid.setValue(!1,u);u._setExecutionVariable(this,K,R),u._setExecutionVariable(this,C,u.executionId),this.value.setValue(R,u),this.isValid.setValue(!0,u)}catch(B){this.isValid.setValue(!1,u)}}}},15698:(u,R,I)=>{I.d(R,{e:()=>U});var B=I(15694);class U extends B.e{constructor(u,R,I,B,U){super(R,U),this._operation=I,this._className=B,this.a=this.registerDataInput("a",u)}_doOperation(u){return this._operation(this.a.getValue(u))}getClassName(){return this._className}}}}]);