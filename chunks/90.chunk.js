"use strict";(self.fyqbdzs5tyo=self.fyqbdzs5tyo||[]).push([[90],{14382:(V,I,A)=>{A.r(I),A.d(I,{FlowGraphDeterminantBlock:()=>X,FlowGraphInvertMatrixBlock:()=>P,FlowGraphMatrixComposeBlock:()=>w,FlowGraphMatrixDecomposeBlock:()=>G,FlowGraphMatrixMultiplicationBlock:()=>J,FlowGraphTransposeBlock:()=>b});var B=A(12979),F=A(12954),E=A(11231),Y=A(11189),H=A(14373),c=A(14360);class b extends H.e{constructor(V){super((0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(V=>V.transpose?V.transpose():E.Matrix.Transpose(V)),"FlowGraphTransposeBlock",V)}}(0,Y.e)("FlowGraphTransposeBlock",b);class X extends H.e{constructor(V){super((0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),F.v,(V=>V.determinant()),"FlowGraphDeterminantBlock",V)}}(0,Y.e)("FlowGraphDeterminantBlock",X);class P extends H.e{constructor(V){super((0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(V=>V.inverse?V.inverse():E.Matrix.Invert(V)),"FlowGraphInvertMatrixBlock",V)}}(0,Y.e)("FlowGraphInvertMatrixBlock",P);class J extends c.d{constructor(V){super((0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),(0,F.P)((null===V||void 0===V?void 0:V.matrixType)||"Matrix"),((V,I)=>I.multiply(V)),"FlowGraphMatrixMultiplicationBlock",V)}}(0,Y.e)("FlowGraphMatrixMultiplicationBlock",J);class G extends B.d{constructor(V){super(V),this.input=this.registerDataInput("input",F.m),this.position=this.registerDataOutput("position",F.H),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",F.x),this.PH=this.registerDataOutput("PH",F.H),this.isValid=this.registerDataOutput("isValid",F.g,!1)}_updateOutputs(V){const I=V._getExecutionVariable(this,"executionId",-1),A=V._getExecutionVariable(this,"cachedPosition",null),B=V._getExecutionVariable(this,"cachedRotation",null),F=V._getExecutionVariable(this,"cachedScaling",null);if(I===V.executionId&&A&&B&&F)this.position.setValue(A,V),this.rotationQuaternion.setValue(B,V),this.PH.setValue(F,V);else{const I=this.input.getValue(V),Y=A||new E.tI,H=B||new E.Quaternion,c=F||new E.tI,b=Math.round(1e4*I.m[3])/1e4,X=Math.round(1e4*I.m[7])/1e4,P=Math.round(1e4*I.m[11])/1e4,J=Math.round(1e4*I.m[15])/1e4;if(0!==b||0!==X||0!==P||1!==J)return this.isValid.setValue(!1,V),this.position.setValue(E.tI.Zero(),V),this.rotationQuaternion.setValue(E.Quaternion.Identity(),V),void this.PH.setValue(E.tI.One(),V);const G=I.decompose(c,H,Y);this.isValid.setValue(G,V),this.position.setValue(Y,V),this.rotationQuaternion.setValue(H,V),this.PH.setValue(c,V),V._setExecutionVariable(this,"cachedPosition",Y),V._setExecutionVariable(this,"cachedRotation",H),V._setExecutionVariable(this,"cachedScaling",c),V._setExecutionVariable(this,"executionId",V.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,Y.e)("FlowGraphMatrixDecompose",G);class w extends B.d{constructor(V){super(V),this.position=this.registerDataInput("position",F.H),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",F.x),this.PH=this.registerDataInput("PH",F.H),this.value=this.registerDataOutput("value",F.m)}_updateOutputs(V){const I=V._getExecutionVariable(this,"executionId",-1),A=V._getExecutionVariable(this,"cachedMatrix",null);if(I===V.executionId&&A)this.value.setValue(A,V);else{const I=E.Matrix.Compose(this.PH.getValue(V),this.rotationQuaternion.getValue(V),this.position.getValue(V));this.value.setValue(I,V),V._setExecutionVariable(this,"cachedMatrix",I),V._setExecutionVariable(this,"executionId",V.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,Y.e)("FlowGraphMatrixCompose",w)},14360:(V,I,A)=>{A.d(I,{d:()=>F});var B=A(14369);class F extends B.d{constructor(V,I,A,B,F,E){super(A,E),this._operation=B,this._className=F,this.a=this.registerDataInput("a",V),this.b=this.registerDataInput("b",I)}_doOperation(V){const I=this.a.getValue(V),A=this.b.getValue(V);return this._operation(I,A)}getClassName(){return this._className}}},14369:(V,I,A)=>{A.d(I,{d:()=>H});var B=A(12979),F=A(12954);const E="cachedOperationValue",Y="cachedExecutionId";class H extends B.d{constructor(V,I){super(I),this.value=this.registerDataOutput("value",V),this.isValid=this.registerDataOutput("isValid",F.g)}_updateOutputs(V){const I=V._getExecutionVariable(this,Y,-1),A=V._getExecutionVariable(this,E,null);if(void 0!==A&&null!==A&&I===V.executionId)this.isValid.setValue(!0,V),this.value.setValue(A,V);else try{const I=this._doOperation(V);if(void 0===I||null===I)return void this.isValid.setValue(!1,V);V._setExecutionVariable(this,E,I),V._setExecutionVariable(this,Y,V.executionId),this.value.setValue(I,V),this.isValid.setValue(!0,V)}catch(B){this.isValid.setValue(!1,V)}}}},14373:(V,I,A)=>{A.d(I,{e:()=>F});var B=A(14369);class F extends B.d{constructor(V,I,A,B,F){super(I,F),this._operation=A,this._className=B,this.a=this.registerDataInput("a",V)}_doOperation(V){return this._operation(this.a.getValue(V))}getClassName(){return this._className}}}}]);