"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[90],{16176:(h,R,l)=>{l.r(R),l.d(R,{FlowGraphDeterminantBlock:()=>u,FlowGraphInvertMatrixBlock:()=>c,FlowGraphMatrixComposeBlock:()=>Q,FlowGraphMatrixDecomposeBlock:()=>q,FlowGraphMatrixMultiplicationBlock:()=>J,FlowGraphTransposeBlock:()=>mh});var j=l(14620),a=l(14597),D=l(12900),U=l(12852),F=l(16166),w=l(16157);class mh extends F.d{constructor(h){super((0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(h=>h.transpose?h.transpose():D.Matrix.Transpose(h)),"FlowGraphTransposeBlock",h)}}(0,U.f)("FlowGraphTransposeBlock",mh);class u extends F.d{constructor(h){super((0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),a.r,(h=>h.determinant()),"FlowGraphDeterminantBlock",h)}}(0,U.f)("FlowGraphDeterminantBlock",u);class c extends F.d{constructor(h){super((0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(h=>h.inverse?h.inverse():D.Matrix.Invert(h)),"FlowGraphInvertMatrixBlock",h)}}(0,U.f)("FlowGraphInvertMatrixBlock",c);class J extends w.d{constructor(h){super((0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),(0,a.L)((null===h||void 0===h?void 0:h.matrixType)||"Matrix"),((h,R)=>R.multiply(h)),"FlowGraphMatrixMultiplicationBlock",h)}}(0,U.f)("FlowGraphMatrixMultiplicationBlock",J);class q extends j.e{constructor(h){super(h),this.input=this.registerDataInput("input",a.j),this.position=this.registerDataOutput("position",a.D),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",a.s),this.yF=this.registerDataOutput("yF",a.D),this.isValid=this.registerDataOutput("isValid",a.g,!1)}_updateOutputs(h){const R=h._getExecutionVariable(this,"executionId",-1),l=h._getExecutionVariable(this,"cachedPosition",null),j=h._getExecutionVariable(this,"cachedRotation",null),a=h._getExecutionVariable(this,"cachedScaling",null);if(R===h.executionId&&l&&j&&a)this.position.setValue(l,h),this.rotationQuaternion.setValue(j,h),this.yF.setValue(a,h);else{const R=this.input.getValue(h),U=l||new D.tR,F=j||new D.Quaternion,w=a||new D.tR,mh=Math.round(1e4*R.m[3])/1e4,u=Math.round(1e4*R.m[7])/1e4,c=Math.round(1e4*R.m[11])/1e4,J=Math.round(1e4*R.m[15])/1e4;if(0!==mh||0!==u||0!==c||1!==J)return this.isValid.setValue(!1,h),this.position.setValue(D.tR.Zero(),h),this.rotationQuaternion.setValue(D.Quaternion.Identity(),h),void this.yF.setValue(D.tR.One(),h);const q=R.decompose(w,F,U);this.isValid.setValue(q,h),this.position.setValue(U,h),this.rotationQuaternion.setValue(F,h),this.yF.setValue(w,h),h._setExecutionVariable(this,"cachedPosition",U),h._setExecutionVariable(this,"cachedRotation",F),h._setExecutionVariable(this,"cachedScaling",w),h._setExecutionVariable(this,"executionId",h.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,U.f)("FlowGraphMatrixDecompose",q);class Q extends j.e{constructor(h){super(h),this.position=this.registerDataInput("position",a.D),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",a.s),this.yF=this.registerDataInput("yF",a.D),this.value=this.registerDataOutput("value",a.j)}_updateOutputs(h){const R=h._getExecutionVariable(this,"executionId",-1),l=h._getExecutionVariable(this,"cachedMatrix",null);if(R===h.executionId&&l)this.value.setValue(l,h);else{const R=D.Matrix.Compose(this.yF.getValue(h),this.rotationQuaternion.getValue(h),this.position.getValue(h));this.value.setValue(R,h),h._setExecutionVariable(this,"cachedMatrix",R),h._setExecutionVariable(this,"executionId",h.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,U.f)("FlowGraphMatrixCompose",Q)},16157:(h,R,l)=>{l.d(R,{d:()=>a});var j=l(16163);class a extends j.d{constructor(h,R,l,j,a,D){super(l,D),this._operation=j,this._className=a,this.a=this.registerDataInput("a",h),this.b=this.registerDataInput("b",R)}_doOperation(h){const R=this.a.getValue(h),l=this.b.getValue(h);return this._operation(R,l)}getClassName(){return this._className}}},16163:(h,R,l)=>{l.d(R,{d:()=>F});var j=l(14620),a=l(14597);const D="cachedOperationValue",U="cachedExecutionId";class F extends j.e{constructor(h,R){super(R),this.value=this.registerDataOutput("value",h),this.isValid=this.registerDataOutput("isValid",a.g)}_updateOutputs(h){const R=h._getExecutionVariable(this,U,-1),l=h._getExecutionVariable(this,D,null);if(void 0!==l&&null!==l&&R===h.executionId)this.isValid.setValue(!0,h),this.value.setValue(l,h);else try{const R=this._doOperation(h);if(void 0===R||null===R)return void this.isValid.setValue(!1,h);h._setExecutionVariable(this,D,R),h._setExecutionVariable(this,U,h.executionId),this.value.setValue(R,h),this.isValid.setValue(!0,h)}catch(j){this.isValid.setValue(!1,h)}}}},16166:(h,R,l)=>{l.d(R,{d:()=>a});var j=l(16163);class a extends j.d{constructor(h,R,l,j,a){super(R,a),this._operation=l,this._className=j,this.a=this.registerDataInput("a",h)}_doOperation(h){return this._operation(this.a.getValue(h))}getClassName(){return this._className}}}}]);