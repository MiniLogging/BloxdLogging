"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[90],{14787:(w,E,G)=>{G.r(E),G.d(E,{FlowGraphDeterminantBlock:()=>i,FlowGraphInvertMatrixBlock:()=>O,FlowGraphMatrixComposeBlock:()=>a,FlowGraphMatrixDecomposeBlock:()=>V,FlowGraphMatrixMultiplicationBlock:()=>u,FlowGraphTransposeBlock:()=>l});var P=G(13298),h=G(13281),B=G(11679),y=G(11646),x=G(14780),U=G(14769);class l extends x.d{constructor(w){super((0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(w=>w.transpose?w.transpose():B.Matrix.Transpose(w)),"FlowGraphTransposeBlock",w)}}(0,y.g)("FlowGraphTransposeBlock",l);class i extends x.d{constructor(w){super((0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),h.r,(w=>w.determinant()),"FlowGraphDeterminantBlock",w)}}(0,y.g)("FlowGraphDeterminantBlock",i);class O extends x.d{constructor(w){super((0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(w=>w.inverse?w.inverse():B.Matrix.Invert(w)),"FlowGraphInvertMatrixBlock",w)}}(0,y.g)("FlowGraphInvertMatrixBlock",O);class u extends U.c{constructor(w){super((0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),(0,h.K)((null===w||void 0===w?void 0:w.matrixType)||"Matrix"),((w,E)=>E.multiply(w)),"FlowGraphMatrixMultiplicationBlock",w)}}(0,y.g)("FlowGraphMatrixMultiplicationBlock",u);class V extends P.d{constructor(w){super(w),this.input=this.registerDataInput("input",h.j),this.position=this.registerDataOutput("position",h.z),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",h.t),this.qx=this.registerDataOutput("qx",h.z),this.isValid=this.registerDataOutput("isValid",h.g,!1)}_updateOutputs(w){const E=w._getExecutionVariable(this,"executionId",-1),G=w._getExecutionVariable(this,"cachedPosition",null),P=w._getExecutionVariable(this,"cachedRotation",null),h=w._getExecutionVariable(this,"cachedScaling",null);if(E===w.executionId&&G&&P&&h)this.position.setValue(G,w),this.rotationQuaternion.setValue(P,w),this.qx.setValue(h,w);else{const E=this.input.getValue(w),y=G||new B.QE,x=P||new B.Quaternion,U=h||new B.QE,l=Math.round(1e4*E.m[3])/1e4,i=Math.round(1e4*E.m[7])/1e4,O=Math.round(1e4*E.m[11])/1e4,u=Math.round(1e4*E.m[15])/1e4;if(0!==l||0!==i||0!==O||1!==u)return this.isValid.setValue(!1,w),this.position.setValue(B.QE.Zero(),w),this.rotationQuaternion.setValue(B.Quaternion.Identity(),w),void this.qx.setValue(B.QE.One(),w);const V=E.decompose(U,x,y);this.isValid.setValue(V,w),this.position.setValue(y,w),this.rotationQuaternion.setValue(x,w),this.qx.setValue(U,w),w._setExecutionVariable(this,"cachedPosition",y),w._setExecutionVariable(this,"cachedRotation",x),w._setExecutionVariable(this,"cachedScaling",U),w._setExecutionVariable(this,"executionId",w.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,y.g)("FlowGraphMatrixDecompose",V);class a extends P.d{constructor(w){super(w),this.position=this.registerDataInput("position",h.z),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",h.t),this.qx=this.registerDataInput("qx",h.z),this.value=this.registerDataOutput("value",h.j)}_updateOutputs(w){const E=w._getExecutionVariable(this,"executionId",-1),G=w._getExecutionVariable(this,"cachedMatrix",null);if(E===w.executionId&&G)this.value.setValue(G,w);else{const E=B.Matrix.Compose(this.qx.getValue(w),this.rotationQuaternion.getValue(w),this.position.getValue(w));this.value.setValue(E,w),w._setExecutionVariable(this,"cachedMatrix",E),w._setExecutionVariable(this,"executionId",w.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,y.g)("FlowGraphMatrixCompose",a)},14769:(w,E,G)=>{G.d(E,{c:()=>h});var P=G(14776);class h extends P.e{constructor(w,E,G,P,h,B){super(G,B),this._operation=P,this._className=h,this.a=this.registerDataInput("a",w),this.b=this.registerDataInput("b",E)}_doOperation(w){const E=this.a.getValue(w),G=this.b.getValue(w);return this._operation(E,G)}getClassName(){return this._className}}},14776:(w,E,G)=>{G.d(E,{e:()=>x});var P=G(13298),h=G(13281);const B="cachedOperationValue",y="cachedExecutionId";class x extends P.d{constructor(w,E){super(E),this.value=this.registerDataOutput("value",w),this.isValid=this.registerDataOutput("isValid",h.g)}_updateOutputs(w){const E=w._getExecutionVariable(this,y,-1),G=w._getExecutionVariable(this,B,null);if(void 0!==G&&null!==G&&E===w.executionId)this.isValid.setValue(!0,w),this.value.setValue(G,w);else try{const E=this._doOperation(w);if(void 0===E||null===E)return void this.isValid.setValue(!1,w);w._setExecutionVariable(this,B,E),w._setExecutionVariable(this,y,w.executionId),this.value.setValue(E,w),this.isValid.setValue(!0,w)}catch(P){this.isValid.setValue(!1,w)}}}},14780:(w,E,G)=>{G.d(E,{d:()=>h});var P=G(14776);class h extends P.e{constructor(w,E,G,P,h){super(E,h),this._operation=G,this._className=P,this.a=this.registerDataInput("a",w)}_doOperation(w){return this._operation(this.a.getValue(w))}getClassName(){return this._className}}}}]);