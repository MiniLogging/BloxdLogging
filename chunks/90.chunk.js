"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[90],{14347:(g,w,q)=>{q.r(w),q.d(w,{FlowGraphDeterminantBlock:()=>t,FlowGraphInvertMatrixBlock:()=>m,FlowGraphMatrixComposeBlock:()=>L,FlowGraphMatrixDecomposeBlock:()=>y,FlowGraphMatrixMultiplicationBlock:()=>e,FlowGraphTransposeBlock:()=>z});var R=q(12863),o=q(12836),r=q(11180),S=q(11128),i=q(14337),T=q(14324);class z extends i.c{constructor(g){super((0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(g=>g.transpose?g.transpose():r.Matrix.Transpose(g)),"FlowGraphTransposeBlock",g)}}(0,S.g)("FlowGraphTransposeBlock",z);class t extends i.c{constructor(g){super((0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),o.w,(g=>g.determinant()),"FlowGraphDeterminantBlock",g)}}(0,S.g)("FlowGraphDeterminantBlock",t);class m extends i.c{constructor(g){super((0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(g=>g.inverse?g.inverse():r.Matrix.Invert(g)),"FlowGraphInvertMatrixBlock",g)}}(0,S.g)("FlowGraphInvertMatrixBlock",m);class e extends T.b{constructor(g){super((0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,o.S)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),((g,w)=>w.multiply(g)),"FlowGraphMatrixMultiplicationBlock",g)}}(0,S.g)("FlowGraphMatrixMultiplicationBlock",e);class y extends R.e{constructor(g){super(g),this.input=this.registerDataInput("input",o.o),this.position=this.registerDataOutput("position",o.H),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",o.z),this.ei=this.registerDataOutput("ei",o.H),this.isValid=this.registerDataOutput("isValid",o.h,!1)}_updateOutputs(g){const w=g._getExecutionVariable(this,"executionId",-1),q=g._getExecutionVariable(this,"cachedPosition",null),R=g._getExecutionVariable(this,"cachedRotation",null),o=g._getExecutionVariable(this,"cachedScaling",null);if(w===g.executionId&&q&&R&&o)this.position.setValue(q,g),this.rotationQuaternion.setValue(R,g),this.ei.setValue(o,g);else{const w=this.input.getValue(g),S=q||new r.ew,i=R||new r.Quaternion,T=o||new r.ew,z=Math.round(1e4*w.m[3])/1e4,t=Math.round(1e4*w.m[7])/1e4,m=Math.round(1e4*w.m[11])/1e4,e=Math.round(1e4*w.m[15])/1e4;if(0!==z||0!==t||0!==m||1!==e)return this.isValid.setValue(!1,g),this.position.setValue(r.ew.Zero(),g),this.rotationQuaternion.setValue(r.Quaternion.Identity(),g),void this.ei.setValue(r.ew.One(),g);const y=w.decompose(T,i,S);this.isValid.setValue(y,g),this.position.setValue(S,g),this.rotationQuaternion.setValue(i,g),this.ei.setValue(T,g),g._setExecutionVariable(this,"cachedPosition",S),g._setExecutionVariable(this,"cachedRotation",i),g._setExecutionVariable(this,"cachedScaling",T),g._setExecutionVariable(this,"executionId",g.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,S.g)("FlowGraphMatrixDecompose",y);class L extends R.e{constructor(g){super(g),this.position=this.registerDataInput("position",o.H),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",o.z),this.ei=this.registerDataInput("ei",o.H),this.value=this.registerDataOutput("value",o.o)}_updateOutputs(g){const w=g._getExecutionVariable(this,"executionId",-1),q=g._getExecutionVariable(this,"cachedMatrix",null);if(w===g.executionId&&q)this.value.setValue(q,g);else{const w=r.Matrix.Compose(this.ei.getValue(g),this.rotationQuaternion.getValue(g),this.position.getValue(g));this.value.setValue(w,g),g._setExecutionVariable(this,"cachedMatrix",w),g._setExecutionVariable(this,"executionId",g.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,S.g)("FlowGraphMatrixCompose",L)},14324:(g,w,q)=>{q.d(w,{b:()=>o});var R=q(14333);class o extends R.d{constructor(g,w,q,R,o,r){super(q,r),this._operation=R,this._className=o,this.a=this.registerDataInput("a",g),this.b=this.registerDataInput("b",w)}_doOperation(g){const w=this.a.getValue(g),q=this.b.getValue(g);return this._operation(w,q)}getClassName(){return this._className}}},14333:(g,w,q)=>{q.d(w,{d:()=>i});var R=q(12863),o=q(12836);const r="cachedOperationValue",S="cachedExecutionId";class i extends R.e{constructor(g,w){super(w),this.value=this.registerDataOutput("value",g),this.isValid=this.registerDataOutput("isValid",o.h)}_updateOutputs(g){const w=g._getExecutionVariable(this,S,-1),q=g._getExecutionVariable(this,r,null);if(void 0!==q&&null!==q&&w===g.executionId)this.isValid.setValue(!0,g),this.value.setValue(q,g);else try{const w=this._doOperation(g);if(void 0===w||null===w)return void this.isValid.setValue(!1,g);g._setExecutionVariable(this,r,w),g._setExecutionVariable(this,S,g.executionId),this.value.setValue(w,g),this.isValid.setValue(!0,g)}catch(R){this.isValid.setValue(!1,g)}}}},14337:(g,w,q)=>{q.d(w,{c:()=>o});var R=q(14333);class o extends R.d{constructor(g,w,q,R,o){super(w,o),this._operation=q,this._className=R,this.a=this.registerDataInput("a",g)}_doOperation(g){return this._operation(this.a.getValue(g))}getClassName(){return this._className}}}}]);