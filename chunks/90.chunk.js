"use strict";(self.nyfa010khv=self.nyfa010khv||[]).push([[90],{15359:(L,r,p)=>{p.r(r),p.d(r,{FlowGraphDeterminantBlock:()=>t,FlowGraphInvertMatrixBlock:()=>E,FlowGraphMatrixComposeBlock:()=>g,FlowGraphMatrixDecomposeBlock:()=>w,FlowGraphMatrixMultiplicationBlock:()=>x,FlowGraphTransposeBlock:()=>C});var J=p(13882),i=p(13868),n=p(12136),j=p(12087),z=p(15345),G=p(15336);class C extends z.d{constructor(L){super((0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(L=>L.transpose?L.transpose():n.Matrix.Transpose(L)),"FlowGraphTransposeBlock",L)}}(0,j.e)("FlowGraphTransposeBlock",C);class t extends z.d{constructor(L){super((0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),i.v,(L=>L.determinant()),"FlowGraphDeterminantBlock",L)}}(0,j.e)("FlowGraphDeterminantBlock",t);class E extends z.d{constructor(L){super((0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(L=>L.inverse?L.inverse():n.Matrix.Invert(L)),"FlowGraphInvertMatrixBlock",L)}}(0,j.e)("FlowGraphInvertMatrixBlock",E);class x extends G.d{constructor(L){super((0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,i.R)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),((L,r)=>r.multiply(L)),"FlowGraphMatrixMultiplicationBlock",L)}}(0,j.e)("FlowGraphMatrixMultiplicationBlock",x);class w extends J.b{constructor(L){super(L),this.input=this.registerDataInput("input",i.n),this.position=this.registerDataOutput("position",i.G),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",i.w),this.Wz=this.registerDataOutput("Wz",i.G),this.isValid=this.registerDataOutput("isValid",i.h,!1)}_updateOutputs(L){const r=L._getExecutionVariable(this,"executionId",-1),p=L._getExecutionVariable(this,"cachedPosition",null),J=L._getExecutionVariable(this,"cachedRotation",null),i=L._getExecutionVariable(this,"cachedScaling",null);if(r===L.executionId&&p&&J&&i)this.position.setValue(p,L),this.rotationQuaternion.setValue(J,L),this.Wz.setValue(i,L);else{const r=this.input.getValue(L),j=p||new n.cr,z=J||new n.Quaternion,G=i||new n.cr,C=Math.round(1e4*r.m[3])/1e4,t=Math.round(1e4*r.m[7])/1e4,E=Math.round(1e4*r.m[11])/1e4,x=Math.round(1e4*r.m[15])/1e4;if(0!==C||0!==t||0!==E||1!==x)return this.isValid.setValue(!1,L),this.position.setValue(n.cr.Zero(),L),this.rotationQuaternion.setValue(n.Quaternion.Identity(),L),void this.Wz.setValue(n.cr.One(),L);const w=r.decompose(G,z,j);this.isValid.setValue(w,L),this.position.setValue(j,L),this.rotationQuaternion.setValue(z,L),this.Wz.setValue(G,L),L._setExecutionVariable(this,"cachedPosition",j),L._setExecutionVariable(this,"cachedRotation",z),L._setExecutionVariable(this,"cachedScaling",G),L._setExecutionVariable(this,"executionId",L.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,j.e)("FlowGraphMatrixDecompose",w);class g extends J.b{constructor(L){super(L),this.position=this.registerDataInput("position",i.G),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",i.w),this.Wz=this.registerDataInput("Wz",i.G),this.value=this.registerDataOutput("value",i.n)}_updateOutputs(L){const r=L._getExecutionVariable(this,"executionId",-1),p=L._getExecutionVariable(this,"cachedMatrix",null);if(r===L.executionId&&p)this.value.setValue(p,L);else{const r=n.Matrix.Compose(this.Wz.getValue(L),this.rotationQuaternion.getValue(L),this.position.getValue(L));this.value.setValue(r,L),L._setExecutionVariable(this,"cachedMatrix",r),L._setExecutionVariable(this,"executionId",L.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,j.e)("FlowGraphMatrixCompose",g)},15336:(L,r,p)=>{p.d(r,{d:()=>i});var J=p(15339);class i extends J.c{constructor(L,r,p,J,i,n){super(p,n),this._operation=J,this._className=i,this.a=this.registerDataInput("a",L),this.b=this.registerDataInput("b",r)}_doOperation(L){const r=this.a.getValue(L),p=this.b.getValue(L);return this._operation(r,p)}getClassName(){return this._className}}},15339:(L,r,p)=>{p.d(r,{c:()=>z});var J=p(13882),i=p(13868);const n="cachedOperationValue",j="cachedExecutionId";class z extends J.b{constructor(L,r){super(r),this.value=this.registerDataOutput("value",L),this.isValid=this.registerDataOutput("isValid",i.h)}_updateOutputs(L){const r=L._getExecutionVariable(this,j,-1),p=L._getExecutionVariable(this,n,null);if(void 0!==p&&null!==p&&r===L.executionId)this.isValid.setValue(!0,L),this.value.setValue(p,L);else try{const r=this._doOperation(L);if(void 0===r||null===r)return void this.isValid.setValue(!1,L);L._setExecutionVariable(this,n,r),L._setExecutionVariable(this,j,L.executionId),this.value.setValue(r,L),this.isValid.setValue(!0,L)}catch(J){this.isValid.setValue(!1,L)}}}},15345:(L,r,p)=>{p.d(r,{d:()=>i});var J=p(15339);class i extends J.c{constructor(L,r,p,J,i){super(r,i),this._operation=p,this._className=J,this.a=this.registerDataInput("a",L)}_doOperation(L){return this._operation(this.a.getValue(L))}getClassName(){return this._className}}}}]);