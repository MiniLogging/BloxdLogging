"use strict";(self.g111kvdsqxc=self.g111kvdsqxc||[]).push([[90],{14503:(K,H,M)=>{M.r(H),M.d(H,{FlowGraphDeterminantBlock:()=>f,FlowGraphInvertMatrixBlock:()=>z,FlowGraphMatrixComposeBlock:()=>v,FlowGraphMatrixDecomposeBlock:()=>a,FlowGraphMatrixMultiplicationBlock:()=>G,FlowGraphTransposeBlock:()=>I});var q=M(13021),w=M(13004),u=M(11290),y=M(11242),h=M(14492),W=M(14480);class I extends h.b{constructor(K){super((0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(K=>K.transpose?K.transpose():u.Matrix.Transpose(K)),"FlowGraphTransposeBlock",K)}}(0,y.f)("FlowGraphTransposeBlock",I);class f extends h.b{constructor(K){super((0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),w.x,(K=>K.determinant()),"FlowGraphDeterminantBlock",K)}}(0,y.f)("FlowGraphDeterminantBlock",f);class z extends h.b{constructor(K){super((0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(K=>K.inverse?K.inverse():u.Matrix.Invert(K)),"FlowGraphInvertMatrixBlock",K)}}(0,y.f)("FlowGraphInvertMatrixBlock",z);class G extends W.d{constructor(K){super((0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,w.L)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),((K,H)=>H.multiply(K)),"FlowGraphMatrixMultiplicationBlock",K)}}(0,y.f)("FlowGraphMatrixMultiplicationBlock",G);class a extends q.b{constructor(K){super(K),this.input=this.registerDataInput("input",w.o),this.position=this.registerDataOutput("position",w.F),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",w.y),this.Sh=this.registerDataOutput("Sh",w.F),this.isValid=this.registerDataOutput("isValid",w.h,!1)}_updateOutputs(K){const H=K._getExecutionVariable(this,"executionId",-1),M=K._getExecutionVariable(this,"cachedPosition",null),q=K._getExecutionVariable(this,"cachedRotation",null),w=K._getExecutionVariable(this,"cachedScaling",null);if(H===K.executionId&&M&&q&&w)this.position.setValue(M,K),this.rotationQuaternion.setValue(q,K),this.Sh.setValue(w,K);else{const H=this.input.getValue(K),y=M||new u.OH,h=q||new u.Quaternion,W=w||new u.OH,I=Math.round(1e4*H.m[3])/1e4,f=Math.round(1e4*H.m[7])/1e4,z=Math.round(1e4*H.m[11])/1e4,G=Math.round(1e4*H.m[15])/1e4;if(0!==I||0!==f||0!==z||1!==G)return this.isValid.setValue(!1,K),this.position.setValue(u.OH.Zero(),K),this.rotationQuaternion.setValue(u.Quaternion.Identity(),K),void this.Sh.setValue(u.OH.One(),K);const a=H.decompose(W,h,y);this.isValid.setValue(a,K),this.position.setValue(y,K),this.rotationQuaternion.setValue(h,K),this.Sh.setValue(W,K),K._setExecutionVariable(this,"cachedPosition",y),K._setExecutionVariable(this,"cachedRotation",h),K._setExecutionVariable(this,"cachedScaling",W),K._setExecutionVariable(this,"executionId",K.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,y.f)("FlowGraphMatrixDecompose",a);class v extends q.b{constructor(K){super(K),this.position=this.registerDataInput("position",w.F),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",w.y),this.Sh=this.registerDataInput("Sh",w.F),this.value=this.registerDataOutput("value",w.o)}_updateOutputs(K){const H=K._getExecutionVariable(this,"executionId",-1),M=K._getExecutionVariable(this,"cachedMatrix",null);if(H===K.executionId&&M)this.value.setValue(M,K);else{const H=u.Matrix.Compose(this.Sh.getValue(K),this.rotationQuaternion.getValue(K),this.position.getValue(K));this.value.setValue(H,K),K._setExecutionVariable(this,"cachedMatrix",H),K._setExecutionVariable(this,"executionId",K.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,y.f)("FlowGraphMatrixCompose",v)},14480:(K,H,M)=>{M.d(H,{d:()=>w});var q=M(14485);class w extends q.b{constructor(K,H,M,q,w,u){super(M,u),this._operation=q,this._className=w,this.a=this.registerDataInput("a",K),this.b=this.registerDataInput("b",H)}_doOperation(K){const H=this.a.getValue(K),M=this.b.getValue(K);return this._operation(H,M)}getClassName(){return this._className}}},14485:(K,H,M)=>{M.d(H,{b:()=>h});var q=M(13021),w=M(13004);const u="cachedOperationValue",y="cachedExecutionId";class h extends q.b{constructor(K,H){super(H),this.value=this.registerDataOutput("value",K),this.isValid=this.registerDataOutput("isValid",w.h)}_updateOutputs(K){const H=K._getExecutionVariable(this,y,-1),M=K._getExecutionVariable(this,u,null);if(void 0!==M&&null!==M&&H===K.executionId)this.isValid.setValue(!0,K),this.value.setValue(M,K);else try{const H=this._doOperation(K);if(void 0===H||null===H)return void this.isValid.setValue(!1,K);K._setExecutionVariable(this,u,H),K._setExecutionVariable(this,y,K.executionId),this.value.setValue(H,K),this.isValid.setValue(!0,K)}catch(q){this.isValid.setValue(!1,K)}}}},14492:(K,H,M)=>{M.d(H,{b:()=>w});var q=M(14485);class w extends q.b{constructor(K,H,M,q,w){super(H,w),this._operation=M,this._className=q,this.a=this.registerDataInput("a",K)}_doOperation(K){return this._operation(this.a.getValue(K))}getClassName(){return this._className}}}}]);