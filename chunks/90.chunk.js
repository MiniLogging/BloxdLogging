"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[90],{14374:(q,S,b)=>{b.r(S),b.d(S,{FlowGraphDeterminantBlock:()=>V,FlowGraphInvertMatrixBlock:()=>l,FlowGraphMatrixComposeBlock:()=>G,FlowGraphMatrixDecomposeBlock:()=>R,FlowGraphMatrixMultiplicationBlock:()=>y,FlowGraphTransposeBlock:()=>I});var z=b(12852),C=b(12839),v=b(11103),U=b(11058),g=b(14361),r=b(14345);class I extends g.e{constructor(q){super((0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(q=>q.transpose?q.transpose():v.Matrix.Transpose(q)),"FlowGraphTransposeBlock",q)}}(0,U.f)("FlowGraphTransposeBlock",I);class V extends g.e{constructor(q){super((0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),C.o,(q=>q.determinant()),"FlowGraphDeterminantBlock",q)}}(0,U.f)("FlowGraphDeterminantBlock",V);class l extends g.e{constructor(q){super((0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(q=>q.inverse?q.inverse():v.Matrix.Invert(q)),"FlowGraphInvertMatrixBlock",q)}}(0,U.f)("FlowGraphInvertMatrixBlock",l);class y extends r.c{constructor(q){super((0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,C.J)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),((q,S)=>S.multiply(q)),"FlowGraphMatrixMultiplicationBlock",q)}}(0,U.f)("FlowGraphMatrixMultiplicationBlock",y);class R extends z.c{constructor(q){super(q),this.input=this.registerDataInput("input",C.i),this.position=this.registerDataOutput("position",C.A),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",C.r),this.tb=this.registerDataOutput("tb",C.A),this.isValid=this.registerDataOutput("isValid",C.f,!1)}_updateOutputs(q){const S=q._getExecutionVariable(this,"executionId",-1),b=q._getExecutionVariable(this,"cachedPosition",null),z=q._getExecutionVariable(this,"cachedRotation",null),C=q._getExecutionVariable(this,"cachedScaling",null);if(S===q.executionId&&b&&z&&C)this.position.setValue(b,q),this.rotationQuaternion.setValue(z,q),this.tb.setValue(C,q);else{const S=this.input.getValue(q),U=b||new v.yS,g=z||new v.Quaternion,r=C||new v.yS,I=Math.round(1e4*S.m[3])/1e4,V=Math.round(1e4*S.m[7])/1e4,l=Math.round(1e4*S.m[11])/1e4,y=Math.round(1e4*S.m[15])/1e4;if(0!==I||0!==V||0!==l||1!==y)return this.isValid.setValue(!1,q),this.position.setValue(v.yS.Zero(),q),this.rotationQuaternion.setValue(v.Quaternion.Identity(),q),void this.tb.setValue(v.yS.One(),q);const R=S.decompose(r,g,U);this.isValid.setValue(R,q),this.position.setValue(U,q),this.rotationQuaternion.setValue(g,q),this.tb.setValue(r,q),q._setExecutionVariable(this,"cachedPosition",U),q._setExecutionVariable(this,"cachedRotation",g),q._setExecutionVariable(this,"cachedScaling",r),q._setExecutionVariable(this,"executionId",q.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,U.f)("FlowGraphMatrixDecompose",R);class G extends z.c{constructor(q){super(q),this.position=this.registerDataInput("position",C.A),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",C.r),this.tb=this.registerDataInput("tb",C.A),this.value=this.registerDataOutput("value",C.i)}_updateOutputs(q){const S=q._getExecutionVariable(this,"executionId",-1),b=q._getExecutionVariable(this,"cachedMatrix",null);if(S===q.executionId&&b)this.value.setValue(b,q);else{const S=v.Matrix.Compose(this.tb.getValue(q),this.rotationQuaternion.getValue(q),this.position.getValue(q));this.value.setValue(S,q),q._setExecutionVariable(this,"cachedMatrix",S),q._setExecutionVariable(this,"executionId",q.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,U.f)("FlowGraphMatrixCompose",G)},14345:(q,S,b)=>{b.d(S,{c:()=>C});var z=b(14353);class C extends z.d{constructor(q,S,b,z,C,v){super(b,v),this._operation=z,this._className=C,this.a=this.registerDataInput("a",q),this.b=this.registerDataInput("b",S)}_doOperation(q){const S=this.a.getValue(q),b=this.b.getValue(q);return this._operation(S,b)}getClassName(){return this._className}}},14353:(q,S,b)=>{b.d(S,{d:()=>g});var z=b(12852),C=b(12839);const v="cachedOperationValue",U="cachedExecutionId";class g extends z.c{constructor(q,S){super(S),this.value=this.registerDataOutput("value",q),this.isValid=this.registerDataOutput("isValid",C.f)}_updateOutputs(q){const S=q._getExecutionVariable(this,U,-1),b=q._getExecutionVariable(this,v,null);if(void 0!==b&&null!==b&&S===q.executionId)this.isValid.setValue(!0,q),this.value.setValue(b,q);else try{const S=this._doOperation(q);if(void 0===S||null===S)return void this.isValid.setValue(!1,q);q._setExecutionVariable(this,v,S),q._setExecutionVariable(this,U,q.executionId),this.value.setValue(S,q),this.isValid.setValue(!0,q)}catch(z){this.isValid.setValue(!1,q)}}}},14361:(q,S,b)=>{b.d(S,{e:()=>C});var z=b(14353);class C extends z.d{constructor(q,S,b,z,C){super(S,C),this._operation=b,this._className=z,this.a=this.registerDataInput("a",q)}_doOperation(q){return this._operation(this.a.getValue(q))}getClassName(){return this._className}}}}]);