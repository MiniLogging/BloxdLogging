"use strict";(self.c2c3ycupenc=self.c2c3ycupenc||[]).push([[90],{14948:(c,r,D)=>{D.r(r),D.d(r,{FlowGraphDeterminantBlock:()=>M,FlowGraphInvertMatrixBlock:()=>E,FlowGraphMatrixComposeBlock:()=>v,FlowGraphMatrixDecomposeBlock:()=>Y,FlowGraphMatrixMultiplicationBlock:()=>m,FlowGraphTransposeBlock:()=>x});var W=D(13408),B=D(13392),t=D(11683),u=D(11637),a=D(14941),H=D(14931);class x extends a.e{constructor(c){super((0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(c=>c.transpose?c.transpose():t.Matrix.Transpose(c)),"FlowGraphTransposeBlock",c)}}(0,u.e)("FlowGraphTransposeBlock",x);class M extends a.e{constructor(c){super((0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),B.u,(c=>c.determinant()),"FlowGraphDeterminantBlock",c)}}(0,u.e)("FlowGraphDeterminantBlock",M);class E extends a.e{constructor(c){super((0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(c=>c.inverse?c.inverse():t.Matrix.Invert(c)),"FlowGraphInvertMatrixBlock",c)}}(0,u.e)("FlowGraphInvertMatrixBlock",E);class m extends H.e{constructor(c){super((0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),(0,B.O)((null===c||void 0===c?void 0:c.matrixType)||"Matrix"),((c,r)=>r.multiply(c)),"FlowGraphMatrixMultiplicationBlock",c)}}(0,u.e)("FlowGraphMatrixMultiplicationBlock",m);class Y extends W.d{constructor(c){super(c),this.input=this.registerDataInput("input",B.l),this.position=this.registerDataOutput("position",B.B),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",B.x),this.qa=this.registerDataOutput("qa",B.B),this.isValid=this.registerDataOutput("isValid",B.e,!1)}_updateOutputs(c){const r=c._getExecutionVariable(this,"executionId",-1),D=c._getExecutionVariable(this,"cachedPosition",null),W=c._getExecutionVariable(this,"cachedRotation",null),B=c._getExecutionVariable(this,"cachedScaling",null);if(r===c.executionId&&D&&W&&B)this.position.setValue(D,c),this.rotationQuaternion.setValue(W,c),this.qa.setValue(B,c);else{const r=this.input.getValue(c),u=D||new t.Zr,a=W||new t.Quaternion,H=B||new t.Zr,x=Math.round(1e4*r.m[3])/1e4,M=Math.round(1e4*r.m[7])/1e4,E=Math.round(1e4*r.m[11])/1e4,m=Math.round(1e4*r.m[15])/1e4;if(0!==x||0!==M||0!==E||1!==m)return this.isValid.setValue(!1,c),this.position.setValue(t.Zr.Zero(),c),this.rotationQuaternion.setValue(t.Quaternion.Identity(),c),void this.qa.setValue(t.Zr.One(),c);const Y=r.decompose(H,a,u);this.isValid.setValue(Y,c),this.position.setValue(u,c),this.rotationQuaternion.setValue(a,c),this.qa.setValue(H,c),c._setExecutionVariable(this,"cachedPosition",u),c._setExecutionVariable(this,"cachedRotation",a),c._setExecutionVariable(this,"cachedScaling",H),c._setExecutionVariable(this,"executionId",c.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,u.e)("FlowGraphMatrixDecompose",Y);class v extends W.d{constructor(c){super(c),this.position=this.registerDataInput("position",B.B),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",B.x),this.qa=this.registerDataInput("qa",B.B),this.value=this.registerDataOutput("value",B.l)}_updateOutputs(c){const r=c._getExecutionVariable(this,"executionId",-1),D=c._getExecutionVariable(this,"cachedMatrix",null);if(r===c.executionId&&D)this.value.setValue(D,c);else{const r=t.Matrix.Compose(this.qa.getValue(c),this.rotationQuaternion.getValue(c),this.position.getValue(c));this.value.setValue(r,c),c._setExecutionVariable(this,"cachedMatrix",r),c._setExecutionVariable(this,"executionId",c.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,u.e)("FlowGraphMatrixCompose",v)},14931:(c,r,D)=>{D.d(r,{e:()=>B});var W=D(14938);class B extends W.c{constructor(c,r,D,W,B,t){super(D,t),this._operation=W,this._className=B,this.a=this.registerDataInput("a",c),this.b=this.registerDataInput("b",r)}_doOperation(c){const r=this.a.getValue(c),D=this.b.getValue(c);return this._operation(r,D)}getClassName(){return this._className}}},14938:(c,r,D)=>{D.d(r,{c:()=>a});var W=D(13408),B=D(13392);const t="cachedOperationValue",u="cachedExecutionId";class a extends W.d{constructor(c,r){super(r),this.value=this.registerDataOutput("value",c),this.isValid=this.registerDataOutput("isValid",B.e)}_updateOutputs(c){const r=c._getExecutionVariable(this,u,-1),D=c._getExecutionVariable(this,t,null);if(void 0!==D&&null!==D&&r===c.executionId)this.isValid.setValue(!0,c),this.value.setValue(D,c);else try{const r=this._doOperation(c);if(void 0===r||null===r)return void this.isValid.setValue(!1,c);c._setExecutionVariable(this,t,r),c._setExecutionVariable(this,u,c.executionId),this.value.setValue(r,c),this.isValid.setValue(!0,c)}catch(W){this.isValid.setValue(!1,c)}}}},14941:(c,r,D)=>{D.d(r,{e:()=>B});var W=D(14938);class B extends W.c{constructor(c,r,D,W,B){super(r,B),this._operation=D,this._className=W,this.a=this.registerDataInput("a",c)}_doOperation(c){return this._operation(this.a.getValue(c))}getClassName(){return this._className}}}}]);