"use strict";(self["1xyrlsr8vb9"]=self["1xyrlsr8vb9"]||[]).push([[90],{15384:(I,O,C)=>{C.r(O),C.d(O,{FlowGraphDeterminantBlock:()=>N,FlowGraphInvertMatrixBlock:()=>Q,FlowGraphMatrixComposeBlock:()=>q,FlowGraphMatrixDecomposeBlock:()=>Z,FlowGraphMatrixMultiplicationBlock:()=>s,FlowGraphTransposeBlock:()=>p});var j=C(13906),K=C(13886),i=C(12272),y=C(12226),S=C(15376),U=C(15361);class p extends S.c{constructor(I){super((0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(I=>I.transpose?I.transpose():i.Matrix.Transpose(I)),"FlowGraphTransposeBlock",I)}}(0,y.e)("FlowGraphTransposeBlock",p);class N extends S.c{constructor(I){super((0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),K.u,(I=>I.determinant()),"FlowGraphDeterminantBlock",I)}}(0,y.e)("FlowGraphDeterminantBlock",N);class Q extends S.c{constructor(I){super((0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(I=>I.inverse?I.inverse():i.Matrix.Invert(I)),"FlowGraphInvertMatrixBlock",I)}}(0,y.e)("FlowGraphInvertMatrixBlock",Q);class s extends U.b{constructor(I){super((0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,K.O)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),((I,O)=>O.multiply(I)),"FlowGraphMatrixMultiplicationBlock",I)}}(0,y.e)("FlowGraphMatrixMultiplicationBlock",s);class Z extends j.d{constructor(I){super(I),this.input=this.registerDataInput("input",K.i),this.position=this.registerDataOutput("position",K.E),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",K.x),this.nS=this.registerDataOutput("nS",K.E),this.isValid=this.registerDataOutput("isValid",K.g,!1)}_updateOutputs(I){const O=I._getExecutionVariable(this,"executionId",-1),C=I._getExecutionVariable(this,"cachedPosition",null),j=I._getExecutionVariable(this,"cachedRotation",null),K=I._getExecutionVariable(this,"cachedScaling",null);if(O===I.executionId&&C&&j&&K)this.position.setValue(C,I),this.rotationQuaternion.setValue(j,I),this.nS.setValue(K,I);else{const O=this.input.getValue(I),y=C||new i.mC,S=j||new i.Quaternion,U=K||new i.mC,p=Math.round(1e4*O.m[3])/1e4,N=Math.round(1e4*O.m[7])/1e4,Q=Math.round(1e4*O.m[11])/1e4,s=Math.round(1e4*O.m[15])/1e4;if(0!==p||0!==N||0!==Q||1!==s)return this.isValid.setValue(!1,I),this.position.setValue(i.mC.Zero(),I),this.rotationQuaternion.setValue(i.Quaternion.Identity(),I),void this.nS.setValue(i.mC.One(),I);const Z=O.decompose(U,S,y);this.isValid.setValue(Z,I),this.position.setValue(y,I),this.rotationQuaternion.setValue(S,I),this.nS.setValue(U,I),I._setExecutionVariable(this,"cachedPosition",y),I._setExecutionVariable(this,"cachedRotation",S),I._setExecutionVariable(this,"cachedScaling",U),I._setExecutionVariable(this,"executionId",I.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,y.e)("FlowGraphMatrixDecompose",Z);class q extends j.d{constructor(I){super(I),this.position=this.registerDataInput("position",K.E),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",K.x),this.nS=this.registerDataInput("nS",K.E),this.value=this.registerDataOutput("value",K.i)}_updateOutputs(I){const O=I._getExecutionVariable(this,"executionId",-1),C=I._getExecutionVariable(this,"cachedMatrix",null);if(O===I.executionId&&C)this.value.setValue(C,I);else{const O=i.Matrix.Compose(this.nS.getValue(I),this.rotationQuaternion.getValue(I),this.position.getValue(I));this.value.setValue(O,I),I._setExecutionVariable(this,"cachedMatrix",O),I._setExecutionVariable(this,"executionId",I.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,y.e)("FlowGraphMatrixCompose",q)},15361:(I,O,C)=>{C.d(O,{b:()=>K});var j=C(15369);class K extends j.e{constructor(I,O,C,j,K,i){super(C,i),this._operation=j,this._className=K,this.a=this.registerDataInput("a",I),this.b=this.registerDataInput("b",O)}_doOperation(I){const O=this.a.getValue(I),C=this.b.getValue(I);return this._operation(O,C)}getClassName(){return this._className}}},15369:(I,O,C)=>{C.d(O,{e:()=>S});var j=C(13906),K=C(13886);const i="cachedOperationValue",y="cachedExecutionId";class S extends j.d{constructor(I,O){super(O),this.value=this.registerDataOutput("value",I),this.isValid=this.registerDataOutput("isValid",K.g)}_updateOutputs(I){const O=I._getExecutionVariable(this,y,-1),C=I._getExecutionVariable(this,i,null);if(void 0!==C&&null!==C&&O===I.executionId)this.isValid.setValue(!0,I),this.value.setValue(C,I);else try{const O=this._doOperation(I);if(void 0===O||null===O)return void this.isValid.setValue(!1,I);I._setExecutionVariable(this,i,O),I._setExecutionVariable(this,y,I.executionId),this.value.setValue(O,I),this.isValid.setValue(!0,I)}catch(j){this.isValid.setValue(!1,I)}}}},15376:(I,O,C)=>{C.d(O,{c:()=>K});var j=C(15369);class K extends j.e{constructor(I,O,C,j,K){super(O,K),this._operation=C,this._className=j,this.a=this.registerDataInput("a",I)}_doOperation(I){return this._operation(this.a.getValue(I))}getClassName(){return this._className}}}}]);