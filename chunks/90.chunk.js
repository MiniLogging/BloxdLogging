"use strict";(self.qcdfysujsyf=self.qcdfysujsyf||[]).push([[90],{15901:(K,A,T)=>{T.r(A),T.d(A,{FlowGraphDeterminantBlock:()=>Y,FlowGraphInvertMatrixBlock:()=>Z,FlowGraphMatrixComposeBlock:()=>b,FlowGraphMatrixDecomposeBlock:()=>J,FlowGraphMatrixMultiplicationBlock:()=>x,FlowGraphTransposeBlock:()=>Q});var G=T(14262),B=T(14237),L=T(12700),f=T(12651),O=T(15888),C=T(15880);class Q extends O.e{constructor(K){super((0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(K=>K.transpose?K.transpose():L.Matrix.Transpose(K)),"FlowGraphTransposeBlock",K)}}(0,f.c)("FlowGraphTransposeBlock",Q);class Y extends O.e{constructor(K){super((0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),B.q,(K=>K.determinant()),"FlowGraphDeterminantBlock",K)}}(0,f.c)("FlowGraphDeterminantBlock",Y);class Z extends O.e{constructor(K){super((0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(K=>K.inverse?K.inverse():L.Matrix.Invert(K)),"FlowGraphInvertMatrixBlock",K)}}(0,f.c)("FlowGraphInvertMatrixBlock",Z);class x extends C.d{constructor(K){super((0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),(0,B.O)((null===K||void 0===K?void 0:K.matrixType)||"Matrix"),((K,A)=>A.multiply(K)),"FlowGraphMatrixMultiplicationBlock",K)}}(0,f.c)("FlowGraphMatrixMultiplicationBlock",x);class J extends G.e{constructor(K){super(K),this.input=this.registerDataInput("input",B.h),this.position=this.registerDataOutput("position",B.C),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",B.t),this.vO=this.registerDataOutput("vO",B.C),this.isValid=this.registerDataOutput("isValid",B.d,!1)}_updateOutputs(K){const A=K._getExecutionVariable(this,"executionId",-1),T=K._getExecutionVariable(this,"cachedPosition",null),G=K._getExecutionVariable(this,"cachedRotation",null),B=K._getExecutionVariable(this,"cachedScaling",null);if(A===K.executionId&&T&&G&&B)this.position.setValue(T,K),this.rotationQuaternion.setValue(G,K),this.vO.setValue(B,K);else{const A=this.input.getValue(K),f=T||new L.PA,O=G||new L.Quaternion,C=B||new L.PA,Q=Math.round(1e4*A.m[3])/1e4,Y=Math.round(1e4*A.m[7])/1e4,Z=Math.round(1e4*A.m[11])/1e4,x=Math.round(1e4*A.m[15])/1e4;if(0!==Q||0!==Y||0!==Z||1!==x)return this.isValid.setValue(!1,K),this.position.setValue(L.PA.Zero(),K),this.rotationQuaternion.setValue(L.Quaternion.Identity(),K),void this.vO.setValue(L.PA.One(),K);const J=A.decompose(C,O,f);this.isValid.setValue(J,K),this.position.setValue(f,K),this.rotationQuaternion.setValue(O,K),this.vO.setValue(C,K),K._setExecutionVariable(this,"cachedPosition",f),K._setExecutionVariable(this,"cachedRotation",O),K._setExecutionVariable(this,"cachedScaling",C),K._setExecutionVariable(this,"executionId",K.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,f.c)("FlowGraphMatrixDecompose",J);class b extends G.e{constructor(K){super(K),this.position=this.registerDataInput("position",B.C),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",B.t),this.vO=this.registerDataInput("vO",B.C),this.value=this.registerDataOutput("value",B.h)}_updateOutputs(K){const A=K._getExecutionVariable(this,"executionId",-1),T=K._getExecutionVariable(this,"cachedMatrix",null);if(A===K.executionId&&T)this.value.setValue(T,K);else{const A=L.Matrix.Compose(this.vO.getValue(K),this.rotationQuaternion.getValue(K),this.position.getValue(K));this.value.setValue(A,K),K._setExecutionVariable(this,"cachedMatrix",A),K._setExecutionVariable(this,"executionId",K.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,f.c)("FlowGraphMatrixCompose",b)},15880:(K,A,T)=>{T.d(A,{d:()=>B});var G=T(15884);class B extends G.b{constructor(K,A,T,G,B,L){super(T,L),this._operation=G,this._className=B,this.a=this.registerDataInput("a",K),this.b=this.registerDataInput("b",A)}_doOperation(K){const A=this.a.getValue(K),T=this.b.getValue(K);return this._operation(A,T)}getClassName(){return this._className}}},15884:(K,A,T)=>{T.d(A,{b:()=>O});var G=T(14262),B=T(14237);const L="cachedOperationValue",f="cachedExecutionId";class O extends G.e{constructor(K,A){super(A),this.value=this.registerDataOutput("value",K),this.isValid=this.registerDataOutput("isValid",B.d)}_updateOutputs(K){const A=K._getExecutionVariable(this,f,-1),T=K._getExecutionVariable(this,L,null);if(void 0!==T&&null!==T&&A===K.executionId)this.isValid.setValue(!0,K),this.value.setValue(T,K);else try{const A=this._doOperation(K);if(void 0===A||null===A)return void this.isValid.setValue(!1,K);K._setExecutionVariable(this,L,A),K._setExecutionVariable(this,f,K.executionId),this.value.setValue(A,K),this.isValid.setValue(!0,K)}catch(G){this.isValid.setValue(!1,K)}}}},15888:(K,A,T)=>{T.d(A,{e:()=>B});var G=T(15884);class B extends G.b{constructor(K,A,T,G,B){super(A,B),this._operation=T,this._className=G,this.a=this.registerDataInput("a",K)}_doOperation(K){return this._operation(this.a.getValue(K))}getClassName(){return this._className}}}}]);