"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[90],{15745:(z,u,U)=>{U.r(u),U.d(u,{FlowGraphDeterminantBlock:()=>S,FlowGraphInvertMatrixBlock:()=>d,FlowGraphMatrixComposeBlock:()=>A,FlowGraphMatrixDecomposeBlock:()=>Z,FlowGraphMatrixMultiplicationBlock:()=>mz,FlowGraphTransposeBlock:()=>R});var J=U(14218),v=U(14196),f=U(12914),g=U(12875),w=U(15728),P=U(15722);class R extends w.b{constructor(z){super((0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(z=>z.transpose?z.transpose():f.Matrix.Transpose(z)),"FlowGraphTransposeBlock",z)}}(0,g.f)("FlowGraphTransposeBlock",R);class S extends w.b{constructor(z){super((0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),v.x,(z=>z.determinant()),"FlowGraphDeterminantBlock",z)}}(0,g.f)("FlowGraphDeterminantBlock",S);class d extends w.b{constructor(z){super((0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(z=>z.inverse?z.inverse():f.Matrix.Invert(z)),"FlowGraphInvertMatrixBlock",z)}}(0,g.f)("FlowGraphInvertMatrixBlock",d);class mz extends P.d{constructor(z){super((0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,v.R)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),((z,u)=>u.multiply(z)),"FlowGraphMatrixMultiplicationBlock",z)}}(0,g.f)("FlowGraphMatrixMultiplicationBlock",mz);class Z extends J.b{constructor(z){super(z),this.input=this.registerDataInput("input",v.n),this.position=this.registerDataOutput("position",v.F),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",v.A),this.Ug=this.registerDataOutput("Ug",v.F),this.isValid=this.registerDataOutput("isValid",v.h,!1)}_updateOutputs(z){const u=z._getExecutionVariable(this,"executionId",-1),U=z._getExecutionVariable(this,"cachedPosition",null),J=z._getExecutionVariable(this,"cachedRotation",null),v=z._getExecutionVariable(this,"cachedScaling",null);if(u===z.executionId&&U&&J&&v)this.position.setValue(U,z),this.rotationQuaternion.setValue(J,z),this.Ug.setValue(v,z);else{const u=this.input.getValue(z),g=U||new f.Eu,w=J||new f.Quaternion,P=v||new f.Eu,R=Math.round(1e4*u.m[3])/1e4,S=Math.round(1e4*u.m[7])/1e4,d=Math.round(1e4*u.m[11])/1e4,mz=Math.round(1e4*u.m[15])/1e4;if(0!==R||0!==S||0!==d||1!==mz)return this.isValid.setValue(!1,z),this.position.setValue(f.Eu.Zero(),z),this.rotationQuaternion.setValue(f.Quaternion.Identity(),z),void this.Ug.setValue(f.Eu.One(),z);const Z=u.decompose(P,w,g);this.isValid.setValue(Z,z),this.position.setValue(g,z),this.rotationQuaternion.setValue(w,z),this.Ug.setValue(P,z),z._setExecutionVariable(this,"cachedPosition",g),z._setExecutionVariable(this,"cachedRotation",w),z._setExecutionVariable(this,"cachedScaling",P),z._setExecutionVariable(this,"executionId",z.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,g.f)("FlowGraphMatrixDecompose",Z);class A extends J.b{constructor(z){super(z),this.position=this.registerDataInput("position",v.F),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",v.A),this.Ug=this.registerDataInput("Ug",v.F),this.value=this.registerDataOutput("value",v.n)}_updateOutputs(z){const u=z._getExecutionVariable(this,"executionId",-1),U=z._getExecutionVariable(this,"cachedMatrix",null);if(u===z.executionId&&U)this.value.setValue(U,z);else{const u=f.Matrix.Compose(this.Ug.getValue(z),this.rotationQuaternion.getValue(z),this.position.getValue(z));this.value.setValue(u,z),z._setExecutionVariable(this,"cachedMatrix",u),z._setExecutionVariable(this,"executionId",z.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,g.f)("FlowGraphMatrixCompose",A)},15722:(z,u,U)=>{U.d(u,{d:()=>v});var J=U(15724);class v extends J.c{constructor(z,u,U,J,v,f){super(U,f),this._operation=J,this._className=v,this.a=this.registerDataInput("a",z),this.b=this.registerDataInput("b",u)}_doOperation(z){const u=this.a.getValue(z),U=this.b.getValue(z);return this._operation(u,U)}getClassName(){return this._className}}},15724:(z,u,U)=>{U.d(u,{c:()=>w});var J=U(14218),v=U(14196);const f="cachedOperationValue",g="cachedExecutionId";class w extends J.b{constructor(z,u){super(u),this.value=this.registerDataOutput("value",z),this.isValid=this.registerDataOutput("isValid",v.h)}_updateOutputs(z){const u=z._getExecutionVariable(this,g,-1),U=z._getExecutionVariable(this,f,null);if(void 0!==U&&null!==U&&u===z.executionId)this.isValid.setValue(!0,z),this.value.setValue(U,z);else try{const u=this._doOperation(z);if(void 0===u||null===u)return void this.isValid.setValue(!1,z);z._setExecutionVariable(this,f,u),z._setExecutionVariable(this,g,z.executionId),this.value.setValue(u,z),this.isValid.setValue(!0,z)}catch(J){this.isValid.setValue(!1,z)}}}},15728:(z,u,U)=>{U.d(u,{b:()=>v});var J=U(15724);class v extends J.c{constructor(z,u,U,J,v){super(u,v),this._operation=U,this._className=J,this.a=this.registerDataInput("a",z)}_doOperation(z){return this._operation(this.a.getValue(z))}getClassName(){return this._className}}}}]);