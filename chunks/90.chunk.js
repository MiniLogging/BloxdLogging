"use strict";(self.yg1iw12lizp=self.yg1iw12lizp||[]).push([[90],{15891:(L,U,x)=>{x.r(U),x.d(U,{FlowGraphDeterminantBlock:()=>r,FlowGraphInvertMatrixBlock:()=>h,FlowGraphMatrixComposeBlock:()=>Y,FlowGraphMatrixDecomposeBlock:()=>E,FlowGraphMatrixMultiplicationBlock:()=>b,FlowGraphTransposeBlock:()=>A});var mL=x(14371),p=x(14348),G=x(12589),F=x(12547),a=x(15881),o=x(15874);class A extends a.d{constructor(L){super((0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(L=>L.transpose?L.transpose():G.Matrix.Transpose(L)),"FlowGraphTransposeBlock",L)}}(0,F.d)("FlowGraphTransposeBlock",A);class r extends a.d{constructor(L){super((0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),p.u,(L=>L.determinant()),"FlowGraphDeterminantBlock",L)}}(0,F.d)("FlowGraphDeterminantBlock",r);class h extends a.d{constructor(L){super((0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(L=>L.inverse?L.inverse():G.Matrix.Invert(L)),"FlowGraphInvertMatrixBlock",L)}}(0,F.d)("FlowGraphInvertMatrixBlock",h);class b extends o.c{constructor(L){super((0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),(0,p.I)((null===L||void 0===L?void 0:L.matrixType)||"Matrix"),((L,U)=>U.multiply(L)),"FlowGraphMatrixMultiplicationBlock",L)}}(0,F.d)("FlowGraphMatrixMultiplicationBlock",b);class E extends mL.e{constructor(L){super(L),this.input=this.registerDataInput("input",p.m),this.position=this.registerDataOutput("position",p.B),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",p.x),this.Ka=this.registerDataOutput("Ka",p.B),this.isValid=this.registerDataOutput("isValid",p.e,!1)}_updateOutputs(L){const U=L._getExecutionVariable(this,"executionId",-1),x=L._getExecutionVariable(this,"cachedPosition",null),mL=L._getExecutionVariable(this,"cachedRotation",null),p=L._getExecutionVariable(this,"cachedScaling",null);if(U===L.executionId&&x&&mL&&p)this.position.setValue(x,L),this.rotationQuaternion.setValue(mL,L),this.Ka.setValue(p,L);else{const U=this.input.getValue(L),F=x||new G.YU,a=mL||new G.Quaternion,o=p||new G.YU,A=Math.round(1e4*U.m[3])/1e4,r=Math.round(1e4*U.m[7])/1e4,h=Math.round(1e4*U.m[11])/1e4,b=Math.round(1e4*U.m[15])/1e4;if(0!==A||0!==r||0!==h||1!==b)return this.isValid.setValue(!1,L),this.position.setValue(G.YU.Zero(),L),this.rotationQuaternion.setValue(G.Quaternion.Identity(),L),void this.Ka.setValue(G.YU.One(),L);const E=U.decompose(o,a,F);this.isValid.setValue(E,L),this.position.setValue(F,L),this.rotationQuaternion.setValue(a,L),this.Ka.setValue(o,L),L._setExecutionVariable(this,"cachedPosition",F),L._setExecutionVariable(this,"cachedRotation",a),L._setExecutionVariable(this,"cachedScaling",o),L._setExecutionVariable(this,"executionId",L.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,F.d)("FlowGraphMatrixDecompose",E);class Y extends mL.e{constructor(L){super(L),this.position=this.registerDataInput("position",p.B),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",p.x),this.Ka=this.registerDataInput("Ka",p.B),this.value=this.registerDataOutput("value",p.m)}_updateOutputs(L){const U=L._getExecutionVariable(this,"executionId",-1),x=L._getExecutionVariable(this,"cachedMatrix",null);if(U===L.executionId&&x)this.value.setValue(x,L);else{const U=G.Matrix.Compose(this.Ka.getValue(L),this.rotationQuaternion.getValue(L),this.position.getValue(L));this.value.setValue(U,L),L._setExecutionVariable(this,"cachedMatrix",U),L._setExecutionVariable(this,"executionId",L.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,F.d)("FlowGraphMatrixCompose",Y)},15874:(L,U,x)=>{x.d(U,{c:()=>p});var mL=x(15876);class p extends mL.e{constructor(L,U,x,mL,p,G){super(x,G),this._operation=mL,this._className=p,this.a=this.registerDataInput("a",L),this.b=this.registerDataInput("b",U)}_doOperation(L){const U=this.a.getValue(L),x=this.b.getValue(L);return this._operation(U,x)}getClassName(){return this._className}}},15876:(L,U,x)=>{x.d(U,{e:()=>a});var mL=x(14371),p=x(14348);const G="cachedOperationValue",F="cachedExecutionId";class a extends mL.e{constructor(L,U){super(U),this.value=this.registerDataOutput("value",L),this.isValid=this.registerDataOutput("isValid",p.e)}_updateOutputs(L){const U=L._getExecutionVariable(this,F,-1),x=L._getExecutionVariable(this,G,null);if(void 0!==x&&null!==x&&U===L.executionId)this.isValid.setValue(!0,L),this.value.setValue(x,L);else try{const U=this._doOperation(L);if(void 0===U||null===U)return void this.isValid.setValue(!1,L);L._setExecutionVariable(this,G,U),L._setExecutionVariable(this,F,L.executionId),this.value.setValue(U,L),this.isValid.setValue(!0,L)}catch(mL){this.isValid.setValue(!1,L)}}}},15881:(L,U,x)=>{x.d(U,{d:()=>p});var mL=x(15876);class p extends mL.e{constructor(L,U,x,mL,p){super(U,p),this._operation=x,this._className=mL,this.a=this.registerDataInput("a",L)}_doOperation(L){return this._operation(this.a.getValue(L))}getClassName(){return this._className}}}}]);