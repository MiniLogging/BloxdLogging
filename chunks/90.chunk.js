"use strict";(self.ynu1yiqvs98=self.ynu1yiqvs98||[]).push([[90],{14373:(I,E,j)=>{j.r(E),j.d(E,{FlowGraphDeterminantBlock:()=>P,FlowGraphInvertMatrixBlock:()=>o,FlowGraphMatrixComposeBlock:()=>K,FlowGraphMatrixDecomposeBlock:()=>c,FlowGraphMatrixMultiplicationBlock:()=>Z,FlowGraphTransposeBlock:()=>R});var e=j(12834),w=j(12819),z=j(11117),h=j(11073),t=j(14358),U=j(14345);class R extends t.b{constructor(I){super((0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(I=>I.transpose?I.transpose():z.Matrix.Transpose(I)),"FlowGraphTransposeBlock",I)}}(0,h.h)("FlowGraphTransposeBlock",R);class P extends t.b{constructor(I){super((0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),w.t,(I=>I.determinant()),"FlowGraphDeterminantBlock",I)}}(0,h.h)("FlowGraphDeterminantBlock",P);class o extends t.b{constructor(I){super((0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(I=>I.inverse?I.inverse():z.Matrix.Invert(I)),"FlowGraphInvertMatrixBlock",I)}}(0,h.h)("FlowGraphInvertMatrixBlock",o);class Z extends U.d{constructor(I){super((0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),(0,w.N)((null===I||void 0===I?void 0:I.matrixType)||"Matrix"),((I,E)=>E.multiply(I)),"FlowGraphMatrixMultiplicationBlock",I)}}(0,h.h)("FlowGraphMatrixMultiplicationBlock",Z);class c extends e.e{constructor(I){super(I),this.input=this.registerDataInput("input",w.j),this.position=this.registerDataOutput("position",w.E),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",w.w),this.pz=this.registerDataOutput("pz",w.E),this.isValid=this.registerDataOutput("isValid",w.g,!1)}_updateOutputs(I){const E=I._getExecutionVariable(this,"executionId",-1),j=I._getExecutionVariable(this,"cachedPosition",null),e=I._getExecutionVariable(this,"cachedRotation",null),w=I._getExecutionVariable(this,"cachedScaling",null);if(E===I.executionId&&j&&e&&w)this.position.setValue(j,I),this.rotationQuaternion.setValue(e,I),this.pz.setValue(w,I);else{const E=this.input.getValue(I),h=j||new z.LE,t=e||new z.Quaternion,U=w||new z.LE,R=Math.round(1e4*E.m[3])/1e4,P=Math.round(1e4*E.m[7])/1e4,o=Math.round(1e4*E.m[11])/1e4,Z=Math.round(1e4*E.m[15])/1e4;if(0!==R||0!==P||0!==o||1!==Z)return this.isValid.setValue(!1,I),this.position.setValue(z.LE.Zero(),I),this.rotationQuaternion.setValue(z.Quaternion.Identity(),I),void this.pz.setValue(z.LE.One(),I);const c=E.decompose(U,t,h);this.isValid.setValue(c,I),this.position.setValue(h,I),this.rotationQuaternion.setValue(t,I),this.pz.setValue(U,I),I._setExecutionVariable(this,"cachedPosition",h),I._setExecutionVariable(this,"cachedRotation",t),I._setExecutionVariable(this,"cachedScaling",U),I._setExecutionVariable(this,"executionId",I.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,h.h)("FlowGraphMatrixDecompose",c);class K extends e.e{constructor(I){super(I),this.position=this.registerDataInput("position",w.E),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",w.w),this.pz=this.registerDataInput("pz",w.E),this.value=this.registerDataOutput("value",w.j)}_updateOutputs(I){const E=I._getExecutionVariable(this,"executionId",-1),j=I._getExecutionVariable(this,"cachedMatrix",null);if(E===I.executionId&&j)this.value.setValue(j,I);else{const E=z.Matrix.Compose(this.pz.getValue(I),this.rotationQuaternion.getValue(I),this.position.getValue(I));this.value.setValue(E,I),I._setExecutionVariable(this,"cachedMatrix",E),I._setExecutionVariable(this,"executionId",I.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,h.h)("FlowGraphMatrixCompose",K)},14345:(I,E,j)=>{j.d(E,{d:()=>w});var e=j(14351);class w extends e.d{constructor(I,E,j,e,w,z){super(j,z),this._operation=e,this._className=w,this.a=this.registerDataInput("a",I),this.b=this.registerDataInput("b",E)}_doOperation(I){const E=this.a.getValue(I),j=this.b.getValue(I);return this._operation(E,j)}getClassName(){return this._className}}},14351:(I,E,j)=>{j.d(E,{d:()=>t});var e=j(12834),w=j(12819);const z="cachedOperationValue",h="cachedExecutionId";class t extends e.e{constructor(I,E){super(E),this.value=this.registerDataOutput("value",I),this.isValid=this.registerDataOutput("isValid",w.g)}_updateOutputs(I){const E=I._getExecutionVariable(this,h,-1),j=I._getExecutionVariable(this,z,null);if(void 0!==j&&null!==j&&E===I.executionId)this.isValid.setValue(!0,I),this.value.setValue(j,I);else try{const E=this._doOperation(I);if(void 0===E||null===E)return void this.isValid.setValue(!1,I);I._setExecutionVariable(this,z,E),I._setExecutionVariable(this,h,I.executionId),this.value.setValue(E,I),this.isValid.setValue(!0,I)}catch(e){this.isValid.setValue(!1,I)}}}},14358:(I,E,j)=>{j.d(E,{b:()=>w});var e=j(14351);class w extends e.d{constructor(I,E,j,e,w){super(E,w),this._operation=j,this._className=e,this.a=this.registerDataInput("a",I)}_doOperation(I){return this._operation(this.a.getValue(I))}getClassName(){return this._className}}}}]);