"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[90],{15801:(g,i,a)=>{a.r(i),a.d(i,{FlowGraphDeterminantBlock:()=>F,FlowGraphInvertMatrixBlock:()=>I,FlowGraphMatrixComposeBlock:()=>B,FlowGraphMatrixDecomposeBlock:()=>y,FlowGraphMatrixMultiplicationBlock:()=>j,FlowGraphTransposeBlock:()=>N});var n=a(14234),L=a(14214),d=a(12452),b=a(12415),k=a(15786),e=a(15774);class N extends k.d{constructor(g){super((0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(g=>g.transpose?g.transpose():d.Matrix.Transpose(g)),"FlowGraphTransposeBlock",g)}}(0,b.e)("FlowGraphTransposeBlock",N);class F extends k.d{constructor(g){super((0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),L.q,(g=>g.determinant()),"FlowGraphDeterminantBlock",g)}}(0,b.e)("FlowGraphDeterminantBlock",F);class I extends k.d{constructor(g){super((0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(g=>g.inverse?g.inverse():d.Matrix.Invert(g)),"FlowGraphInvertMatrixBlock",g)}}(0,b.e)("FlowGraphInvertMatrixBlock",I);class j extends e.e{constructor(g){super((0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),(0,L.I)((null===g||void 0===g?void 0:g.matrixType)||"Matrix"),((g,i)=>i.multiply(g)),"FlowGraphMatrixMultiplicationBlock",g)}}(0,b.e)("FlowGraphMatrixMultiplicationBlock",j);class y extends n.c{constructor(g){super(g),this.input=this.registerDataInput("input",L.h),this.position=this.registerDataOutput("position",L.w),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",L.t),this.rd=this.registerDataOutput("rd",L.w),this.isValid=this.registerDataOutput("isValid",L.e,!1)}_updateOutputs(g){const i=g._getExecutionVariable(this,"executionId",-1),a=g._getExecutionVariable(this,"cachedPosition",null),n=g._getExecutionVariable(this,"cachedRotation",null),L=g._getExecutionVariable(this,"cachedScaling",null);if(i===g.executionId&&a&&n&&L)this.position.setValue(a,g),this.rotationQuaternion.setValue(n,g),this.rd.setValue(L,g);else{const i=this.input.getValue(g),b=a||new d.Bi,k=n||new d.Quaternion,e=L||new d.Bi,N=Math.round(1e4*i.m[3])/1e4,F=Math.round(1e4*i.m[7])/1e4,I=Math.round(1e4*i.m[11])/1e4,j=Math.round(1e4*i.m[15])/1e4;if(0!==N||0!==F||0!==I||1!==j)return this.isValid.setValue(!1,g),this.position.setValue(d.Bi.Zero(),g),this.rotationQuaternion.setValue(d.Quaternion.Identity(),g),void this.rd.setValue(d.Bi.One(),g);const y=i.decompose(e,k,b);this.isValid.setValue(y,g),this.position.setValue(b,g),this.rotationQuaternion.setValue(k,g),this.rd.setValue(e,g),g._setExecutionVariable(this,"cachedPosition",b),g._setExecutionVariable(this,"cachedRotation",k),g._setExecutionVariable(this,"cachedScaling",e),g._setExecutionVariable(this,"executionId",g.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,b.e)("FlowGraphMatrixDecompose",y);class B extends n.c{constructor(g){super(g),this.position=this.registerDataInput("position",L.w),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",L.t),this.rd=this.registerDataInput("rd",L.w),this.value=this.registerDataOutput("value",L.h)}_updateOutputs(g){const i=g._getExecutionVariable(this,"executionId",-1),a=g._getExecutionVariable(this,"cachedMatrix",null);if(i===g.executionId&&a)this.value.setValue(a,g);else{const i=d.Matrix.Compose(this.rd.getValue(g),this.rotationQuaternion.getValue(g),this.position.getValue(g));this.value.setValue(i,g),g._setExecutionVariable(this,"cachedMatrix",i),g._setExecutionVariable(this,"executionId",g.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,b.e)("FlowGraphMatrixCompose",B)},15774:(g,i,a)=>{a.d(i,{e:()=>L});var n=a(15780);class L extends n.d{constructor(g,i,a,n,L,d){super(a,d),this._operation=n,this._className=L,this.a=this.registerDataInput("a",g),this.b=this.registerDataInput("b",i)}_doOperation(g){const i=this.a.getValue(g),a=this.b.getValue(g);return this._operation(i,a)}getClassName(){return this._className}}},15780:(g,i,a)=>{a.d(i,{d:()=>k});var n=a(14234),L=a(14214);const d="cachedOperationValue",b="cachedExecutionId";class k extends n.c{constructor(g,i){super(i),this.value=this.registerDataOutput("value",g),this.isValid=this.registerDataOutput("isValid",L.e)}_updateOutputs(g){const i=g._getExecutionVariable(this,b,-1),a=g._getExecutionVariable(this,d,null);if(void 0!==a&&null!==a&&i===g.executionId)this.isValid.setValue(!0,g),this.value.setValue(a,g);else try{const i=this._doOperation(g);if(void 0===i||null===i)return void this.isValid.setValue(!1,g);g._setExecutionVariable(this,d,i),g._setExecutionVariable(this,b,g.executionId),this.value.setValue(i,g),this.isValid.setValue(!0,g)}catch(n){this.isValid.setValue(!1,g)}}}},15786:(g,i,a)=>{a.d(i,{d:()=>L});var n=a(15780);class L extends n.d{constructor(g,i,a,n,L){super(i,L),this._operation=a,this._className=n,this.a=this.registerDataInput("a",g)}_doOperation(g){return this._operation(this.a.getValue(g))}getClassName(){return this._className}}}}]);