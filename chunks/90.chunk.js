"use strict";(self.r00gjvkwa6=self.r00gjvkwa6||[]).push([[90],{14533:(H,O,S)=>{S.r(O),S.d(O,{FlowGraphDeterminantBlock:()=>o,FlowGraphInvertMatrixBlock:()=>h,FlowGraphMatrixComposeBlock:()=>e,FlowGraphMatrixDecomposeBlock:()=>j,FlowGraphMatrixMultiplicationBlock:()=>a,FlowGraphTransposeBlock:()=>w});var t=S(13063),q=S(13035),p=S(11301),G=S(11262),U=S(14523),V=S(14515);class w extends U.b{constructor(H){super((0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(H=>H.transpose?H.transpose():p.Matrix.Transpose(H)),"FlowGraphTransposeBlock",H)}}(0,G.g)("FlowGraphTransposeBlock",w);class o extends U.b{constructor(H){super((0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),q.t,(H=>H.determinant()),"FlowGraphDeterminantBlock",H)}}(0,G.g)("FlowGraphDeterminantBlock",o);class h extends U.b{constructor(H){super((0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(H=>H.inverse?H.inverse():p.Matrix.Invert(H)),"FlowGraphInvertMatrixBlock",H)}}(0,G.g)("FlowGraphInvertMatrixBlock",h);class a extends V.b{constructor(H){super((0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),(0,q.Q)((null===H||void 0===H?void 0:H.matrixType)||"Matrix"),((H,O)=>O.multiply(H)),"FlowGraphMatrixMultiplicationBlock",H)}}(0,G.g)("FlowGraphMatrixMultiplicationBlock",a);class j extends t.c{constructor(H){super(H),this.input=this.registerDataInput("input",q.p),this.position=this.registerDataOutput("position",q.D),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",q.v),this.eU=this.registerDataOutput("eU",q.D),this.isValid=this.registerDataOutput("isValid",q.i,!1)}_updateOutputs(H){const O=H._getExecutionVariable(this,"executionId",-1),S=H._getExecutionVariable(this,"cachedPosition",null),t=H._getExecutionVariable(this,"cachedRotation",null),q=H._getExecutionVariable(this,"cachedScaling",null);if(O===H.executionId&&S&&t&&q)this.position.setValue(S,H),this.rotationQuaternion.setValue(t,H),this.eU.setValue(q,H);else{const O=this.input.getValue(H),G=S||new p.eO,U=t||new p.Quaternion,V=q||new p.eO,w=Math.round(1e4*O.m[3])/1e4,o=Math.round(1e4*O.m[7])/1e4,h=Math.round(1e4*O.m[11])/1e4,a=Math.round(1e4*O.m[15])/1e4;if(0!==w||0!==o||0!==h||1!==a)return this.isValid.setValue(!1,H),this.position.setValue(p.eO.Zero(),H),this.rotationQuaternion.setValue(p.Quaternion.Identity(),H),void this.eU.setValue(p.eO.One(),H);const j=O.decompose(V,U,G);this.isValid.setValue(j,H),this.position.setValue(G,H),this.rotationQuaternion.setValue(U,H),this.eU.setValue(V,H),H._setExecutionVariable(this,"cachedPosition",G),H._setExecutionVariable(this,"cachedRotation",U),H._setExecutionVariable(this,"cachedScaling",V),H._setExecutionVariable(this,"executionId",H.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,G.g)("FlowGraphMatrixDecompose",j);class e extends t.c{constructor(H){super(H),this.position=this.registerDataInput("position",q.D),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",q.v),this.eU=this.registerDataInput("eU",q.D),this.value=this.registerDataOutput("value",q.p)}_updateOutputs(H){const O=H._getExecutionVariable(this,"executionId",-1),S=H._getExecutionVariable(this,"cachedMatrix",null);if(O===H.executionId&&S)this.value.setValue(S,H);else{const O=p.Matrix.Compose(this.eU.getValue(H),this.rotationQuaternion.getValue(H),this.position.getValue(H));this.value.setValue(O,H),H._setExecutionVariable(this,"cachedMatrix",O),H._setExecutionVariable(this,"executionId",H.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,G.g)("FlowGraphMatrixCompose",e)},14515:(H,O,S)=>{S.d(O,{b:()=>q});var t=S(14517);class q extends t.e{constructor(H,O,S,t,q,p){super(S,p),this._operation=t,this._className=q,this.a=this.registerDataInput("a",H),this.b=this.registerDataInput("b",O)}_doOperation(H){const O=this.a.getValue(H),S=this.b.getValue(H);return this._operation(O,S)}getClassName(){return this._className}}},14517:(H,O,S)=>{S.d(O,{e:()=>U});var t=S(13063),q=S(13035);const p="cachedOperationValue",G="cachedExecutionId";class U extends t.c{constructor(H,O){super(O),this.value=this.registerDataOutput("value",H),this.isValid=this.registerDataOutput("isValid",q.i)}_updateOutputs(H){const O=H._getExecutionVariable(this,G,-1),S=H._getExecutionVariable(this,p,null);if(void 0!==S&&null!==S&&O===H.executionId)this.isValid.setValue(!0,H),this.value.setValue(S,H);else try{const O=this._doOperation(H);if(void 0===O||null===O)return void this.isValid.setValue(!1,H);H._setExecutionVariable(this,p,O),H._setExecutionVariable(this,G,H.executionId),this.value.setValue(O,H),this.isValid.setValue(!0,H)}catch(t){this.isValid.setValue(!1,H)}}}},14523:(H,O,S)=>{S.d(O,{b:()=>q});var t=S(14517);class q extends t.e{constructor(H,O,S,t,q){super(O,q),this._operation=S,this._className=t,this.a=this.registerDataInput("a",H)}_doOperation(H){return this._operation(this.a.getValue(H))}getClassName(){return this._className}}}}]);