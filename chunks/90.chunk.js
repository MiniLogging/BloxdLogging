"use strict";(self["3gghkoft8x"]=self["3gghkoft8x"]||[]).push([[90],{15560:(y,S,I)=>{I.r(S),I.d(S,{FlowGraphDeterminantBlock:()=>u,FlowGraphInvertMatrixBlock:()=>K,FlowGraphMatrixComposeBlock:()=>L,FlowGraphMatrixDecomposeBlock:()=>p,FlowGraphMatrixMultiplicationBlock:()=>G,FlowGraphTransposeBlock:()=>J});var V=I(14058),i=I(14033),A=I(12321),B=I(12282),d=I(15549),F=I(15535);class J extends d.e{constructor(y){super((0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(y=>y.transpose?y.transpose():A.Matrix.Transpose(y)),"FlowGraphTransposeBlock",y)}}(0,B.e)("FlowGraphTransposeBlock",J);class u extends d.e{constructor(y){super((0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),i.t,(y=>y.determinant()),"FlowGraphDeterminantBlock",y)}}(0,B.e)("FlowGraphDeterminantBlock",u);class K extends d.e{constructor(y){super((0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(y=>y.inverse?y.inverse():A.Matrix.Invert(y)),"FlowGraphInvertMatrixBlock",y)}}(0,B.e)("FlowGraphInvertMatrixBlock",K);class G extends F.e{constructor(y){super((0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,i.I)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),((y,S)=>S.multiply(y)),"FlowGraphMatrixMultiplicationBlock",y)}}(0,B.e)("FlowGraphMatrixMultiplicationBlock",G);class p extends V.d{constructor(y){super(y),this.input=this.registerDataInput("input",i.k),this.position=this.registerDataOutput("position",i.C),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",i.x),this.zd=this.registerDataOutput("zd",i.C),this.isValid=this.registerDataOutput("isValid",i.f,!1)}_updateOutputs(y){const S=y._getExecutionVariable(this,"executionId",-1),I=y._getExecutionVariable(this,"cachedPosition",null),V=y._getExecutionVariable(this,"cachedRotation",null),i=y._getExecutionVariable(this,"cachedScaling",null);if(S===y.executionId&&I&&V&&i)this.position.setValue(I,y),this.rotationQuaternion.setValue(V,y),this.zd.setValue(i,y);else{const S=this.input.getValue(y),B=I||new A.OS,d=V||new A.Quaternion,F=i||new A.OS,J=Math.round(1e4*S.m[3])/1e4,u=Math.round(1e4*S.m[7])/1e4,K=Math.round(1e4*S.m[11])/1e4,G=Math.round(1e4*S.m[15])/1e4;if(0!==J||0!==u||0!==K||1!==G)return this.isValid.setValue(!1,y),this.position.setValue(A.OS.Zero(),y),this.rotationQuaternion.setValue(A.Quaternion.Identity(),y),void this.zd.setValue(A.OS.One(),y);const p=S.decompose(F,d,B);this.isValid.setValue(p,y),this.position.setValue(B,y),this.rotationQuaternion.setValue(d,y),this.zd.setValue(F,y),y._setExecutionVariable(this,"cachedPosition",B),y._setExecutionVariable(this,"cachedRotation",d),y._setExecutionVariable(this,"cachedScaling",F),y._setExecutionVariable(this,"executionId",y.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,B.e)("FlowGraphMatrixDecompose",p);class L extends V.d{constructor(y){super(y),this.position=this.registerDataInput("position",i.C),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",i.x),this.zd=this.registerDataInput("zd",i.C),this.value=this.registerDataOutput("value",i.k)}_updateOutputs(y){const S=y._getExecutionVariable(this,"executionId",-1),I=y._getExecutionVariable(this,"cachedMatrix",null);if(S===y.executionId&&I)this.value.setValue(I,y);else{const S=A.Matrix.Compose(this.zd.getValue(y),this.rotationQuaternion.getValue(y),this.position.getValue(y));this.value.setValue(S,y),y._setExecutionVariable(this,"cachedMatrix",S),y._setExecutionVariable(this,"executionId",y.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,B.e)("FlowGraphMatrixCompose",L)},15535:(y,S,I)=>{I.d(S,{e:()=>i});var V=I(15540);class i extends V.e{constructor(y,S,I,V,i,A){super(I,A),this._operation=V,this._className=i,this.a=this.registerDataInput("a",y),this.b=this.registerDataInput("b",S)}_doOperation(y){const S=this.a.getValue(y),I=this.b.getValue(y);return this._operation(S,I)}getClassName(){return this._className}}},15540:(y,S,I)=>{I.d(S,{e:()=>d});var V=I(14058),i=I(14033);const A="cachedOperationValue",B="cachedExecutionId";class d extends V.d{constructor(y,S){super(S),this.value=this.registerDataOutput("value",y),this.isValid=this.registerDataOutput("isValid",i.f)}_updateOutputs(y){const S=y._getExecutionVariable(this,B,-1),I=y._getExecutionVariable(this,A,null);if(void 0!==I&&null!==I&&S===y.executionId)this.isValid.setValue(!0,y),this.value.setValue(I,y);else try{const S=this._doOperation(y);if(void 0===S||null===S)return void this.isValid.setValue(!1,y);y._setExecutionVariable(this,A,S),y._setExecutionVariable(this,B,y.executionId),this.value.setValue(S,y),this.isValid.setValue(!0,y)}catch(V){this.isValid.setValue(!1,y)}}}},15549:(y,S,I)=>{I.d(S,{e:()=>i});var V=I(15540);class i extends V.e{constructor(y,S,I,V,i){super(S,i),this._operation=I,this._className=V,this.a=this.registerDataInput("a",y)}_doOperation(y){return this._operation(this.a.getValue(y))}getClassName(){return this._className}}}}]);