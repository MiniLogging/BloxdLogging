"use strict";(self["9x1utqq1axc"]=self["9x1utqq1axc"]||[]).push([[90],{15531:(y,c,A)=>{A.r(c),A.d(c,{FlowGraphDeterminantBlock:()=>q,FlowGraphInvertMatrixBlock:()=>o,FlowGraphMatrixComposeBlock:()=>i,FlowGraphMatrixDecomposeBlock:()=>L,FlowGraphMatrixMultiplicationBlock:()=>O,FlowGraphTransposeBlock:()=>I});var l=A(14010),w=A(13993),N=A(12325),p=A(12283),W=A(15516),h=A(15500);class I extends W.b{constructor(y){super((0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(y=>y.transpose?y.transpose():N.Matrix.Transpose(y)),"FlowGraphTransposeBlock",y)}}(0,p.f)("FlowGraphTransposeBlock",I);class q extends W.b{constructor(y){super((0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),w.s,(y=>y.determinant()),"FlowGraphDeterminantBlock",y)}}(0,p.f)("FlowGraphDeterminantBlock",q);class o extends W.b{constructor(y){super((0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(y=>y.inverse?y.inverse():N.Matrix.Invert(y)),"FlowGraphInvertMatrixBlock",y)}}(0,p.f)("FlowGraphInvertMatrixBlock",o);class O extends h.c{constructor(y){super((0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),(0,w.S)((null===y||void 0===y?void 0:y.matrixType)||"Matrix"),((y,c)=>c.multiply(y)),"FlowGraphMatrixMultiplicationBlock",y)}}(0,p.f)("FlowGraphMatrixMultiplicationBlock",O);class L extends l.e{constructor(y){super(y),this.input=this.registerDataInput("input",w.m),this.position=this.registerDataOutput("position",w.H),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",w.w),this.bc=this.registerDataOutput("bc",w.H),this.isValid=this.registerDataOutput("isValid",w.f,!1)}_updateOutputs(y){const c=y._getExecutionVariable(this,"executionId",-1),A=y._getExecutionVariable(this,"cachedPosition",null),l=y._getExecutionVariable(this,"cachedRotation",null),w=y._getExecutionVariable(this,"cachedScaling",null);if(c===y.executionId&&A&&l&&w)this.position.setValue(A,y),this.rotationQuaternion.setValue(l,y),this.bc.setValue(w,y);else{const c=this.input.getValue(y),p=A||new N.gc,W=l||new N.Quaternion,h=w||new N.gc,I=Math.round(1e4*c.m[3])/1e4,q=Math.round(1e4*c.m[7])/1e4,o=Math.round(1e4*c.m[11])/1e4,O=Math.round(1e4*c.m[15])/1e4;if(0!==I||0!==q||0!==o||1!==O)return this.isValid.setValue(!1,y),this.position.setValue(N.gc.Zero(),y),this.rotationQuaternion.setValue(N.Quaternion.Identity(),y),void this.bc.setValue(N.gc.One(),y);const L=c.decompose(h,W,p);this.isValid.setValue(L,y),this.position.setValue(p,y),this.rotationQuaternion.setValue(W,y),this.bc.setValue(h,y),y._setExecutionVariable(this,"cachedPosition",p),y._setExecutionVariable(this,"cachedRotation",W),y._setExecutionVariable(this,"cachedScaling",h),y._setExecutionVariable(this,"executionId",y.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,p.f)("FlowGraphMatrixDecompose",L);class i extends l.e{constructor(y){super(y),this.position=this.registerDataInput("position",w.H),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",w.w),this.bc=this.registerDataInput("bc",w.H),this.value=this.registerDataOutput("value",w.m)}_updateOutputs(y){const c=y._getExecutionVariable(this,"executionId",-1),A=y._getExecutionVariable(this,"cachedMatrix",null);if(c===y.executionId&&A)this.value.setValue(A,y);else{const c=N.Matrix.Compose(this.bc.getValue(y),this.rotationQuaternion.getValue(y),this.position.getValue(y));this.value.setValue(c,y),y._setExecutionVariable(this,"cachedMatrix",c),y._setExecutionVariable(this,"executionId",y.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,p.f)("FlowGraphMatrixCompose",i)},15500:(y,c,A)=>{A.d(c,{c:()=>w});var l=A(15507);class w extends l.d{constructor(y,c,A,l,w,N){super(A,N),this._operation=l,this._className=w,this.a=this.registerDataInput("a",y),this.b=this.registerDataInput("b",c)}_doOperation(y){const c=this.a.getValue(y),A=this.b.getValue(y);return this._operation(c,A)}getClassName(){return this._className}}},15507:(y,c,A)=>{A.d(c,{d:()=>W});var l=A(14010),w=A(13993);const N="cachedOperationValue",p="cachedExecutionId";class W extends l.e{constructor(y,c){super(c),this.value=this.registerDataOutput("value",y),this.isValid=this.registerDataOutput("isValid",w.f)}_updateOutputs(y){const c=y._getExecutionVariable(this,p,-1),A=y._getExecutionVariable(this,N,null);if(void 0!==A&&null!==A&&c===y.executionId)this.isValid.setValue(!0,y),this.value.setValue(A,y);else try{const c=this._doOperation(y);if(void 0===c||null===c)return void this.isValid.setValue(!1,y);y._setExecutionVariable(this,N,c),y._setExecutionVariable(this,p,y.executionId),this.value.setValue(c,y),this.isValid.setValue(!0,y)}catch(l){this.isValid.setValue(!1,y)}}}},15516:(y,c,A)=>{A.d(c,{b:()=>w});var l=A(15507);class w extends l.d{constructor(y,c,A,l,w){super(c,w),this._operation=A,this._className=l,this.a=this.registerDataInput("a",y)}_doOperation(y){return this._operation(this.a.getValue(y))}getClassName(){return this._className}}}}]);