"use strict";(self.bjbkv7h3qsd=self.bjbkv7h3qsd||[]).push([[107],{14560:(G,A,j)=>{j.r(A),j.d(A,{FlowGraphWaitAllBlock:()=>s});var u=j(12928),k=j(11181),B=j(12880),x=j(12873);class s extends u.e{constructor(G){super(G),this.config=G,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",B.f,new x.d(this.config.inputSignalCount||0));for(let A=0;A<this.config.inputSignalCount;A++)this.inFlows.push(this._registerSignalInput(`in_${A}`));this._unregisterSignalInput("in")}_getCurrentActivationState(G){const A=this._cachedActivationState;if(A.length=0,G._hasExecutionVariable(this,"activationState")){const j=G._getExecutionVariable(this,"activationState",[]);for(let G=0;G<j.length;G++)A.push(j[G])}else for(let j=0;j<this.config.inputSignalCount;j++)A.push(!1);return A}_execute(G,A){const j=this._getCurrentActivationState(G);if(A===this.reset)for(let u=0;u<this.config.inputSignalCount;u++)j[u]=!1;else{const G=this.inFlows.indexOf(A);G>=0&&(j[G]=!0)}if(this.remainingInputs.setValue(new x.d(j.filter((G=>!G)).length),G),G._setExecutionVariable(this,"activationState",j.slice()),j.includes(!1))A!==this.reset&&this.out._activateSignal(G);else{this.completed._activateSignal(G);for(let G=0;G<this.config.inputSignalCount;G++)j[G]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(G){super.serialize(G),G.config.inputFlows=this.config.inputSignalCount}}(0,k.h)("FlowGraphWaitAllBlock",s)}}]);