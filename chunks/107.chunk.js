"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[107],{15874:(g,i,a)=>{a.r(i),a.d(i,{FlowGraphWaitAllBlock:()=>k});var n=a(14271),L=a(12415),d=a(14214),b=a(14209);class k extends n.d{constructor(g){super(g),this.config=g,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",d.f,new b.e(this.config.inputSignalCount||0));for(let i=0;i<this.config.inputSignalCount;i++)this.inFlows.push(this._registerSignalInput(`in_${i}`));this._unregisterSignalInput("in")}_getCurrentActivationState(g){const i=this._cachedActivationState;if(i.length=0,g._hasExecutionVariable(this,"activationState")){const a=g._getExecutionVariable(this,"activationState",[]);for(let g=0;g<a.length;g++)i.push(a[g])}else for(let a=0;a<this.config.inputSignalCount;a++)i.push(!1);return i}_execute(g,i){const a=this._getCurrentActivationState(g);if(i===this.reset)for(let n=0;n<this.config.inputSignalCount;n++)a[n]=!1;else{const g=this.inFlows.indexOf(i);g>=0&&(a[g]=!0)}if(this.remainingInputs.setValue(new b.e(a.filter((g=>!g)).length),g),g._setExecutionVariable(this,"activationState",a.slice()),a.includes(!1))i!==this.reset&&this.out._activateSignal(g);else{this.completed._activateSignal(g);for(let g=0;g<this.config.inputSignalCount;g++)a[g]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(g){super.serialize(g),g.config.inputFlows=this.config.inputSignalCount}}(0,L.e)("FlowGraphWaitAllBlock",k)}}]);