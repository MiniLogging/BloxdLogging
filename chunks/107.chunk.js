"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[107],{16259:(h,R,l)=>{l.r(R),l.d(R,{FlowGraphWaitAllBlock:()=>F});var j=l(14646),a=l(12852),D=l(14597),U=l(14591);class F extends j.c{constructor(h){super(h),this.config=h,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",D.i,new U.c(this.config.inputSignalCount||0));for(let R=0;R<this.config.inputSignalCount;R++)this.inFlows.push(this._registerSignalInput(`in_${R}`));this._unregisterSignalInput("in")}_getCurrentActivationState(h){const R=this._cachedActivationState;if(R.length=0,h._hasExecutionVariable(this,"activationState")){const l=h._getExecutionVariable(this,"activationState",[]);for(let h=0;h<l.length;h++)R.push(l[h])}else for(let l=0;l<this.config.inputSignalCount;l++)R.push(!1);return R}_execute(h,R){const l=this._getCurrentActivationState(h);if(R===this.reset)for(let j=0;j<this.config.inputSignalCount;j++)l[j]=!1;else{const h=this.inFlows.indexOf(R);h>=0&&(l[h]=!0)}if(this.remainingInputs.setValue(new U.c(l.filter((h=>!h)).length),h),h._setExecutionVariable(this,"activationState",l.slice()),l.includes(!1))R!==this.reset&&this.out._activateSignal(h);else{this.completed._activateSignal(h);for(let h=0;h<this.config.inputSignalCount;h++)l[h]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(h){super.serialize(h),h.config.inputFlows=this.config.inputSignalCount}}(0,a.f)("FlowGraphWaitAllBlock",F)}}]);