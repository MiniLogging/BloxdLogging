"use strict";(self.fyqbdzs5tyo=self.fyqbdzs5tyo||[]).push([[107],{14464:(V,I,A)=>{A.r(I),A.d(I,{FlowGraphWaitAllBlock:()=>H});var B=A(13011),F=A(11189),E=A(12954),Y=A(12948);class H extends B.d{constructor(V){super(V),this.config=V,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",E.i,new Y.e(this.config.inputSignalCount||0));for(let I=0;I<this.config.inputSignalCount;I++)this.inFlows.push(this._registerSignalInput(`in_${I}`));this._unregisterSignalInput("in")}_getCurrentActivationState(V){const I=this._cachedActivationState;if(I.length=0,V._hasExecutionVariable(this,"activationState")){const A=V._getExecutionVariable(this,"activationState",[]);for(let V=0;V<A.length;V++)I.push(A[V])}else for(let A=0;A<this.config.inputSignalCount;A++)I.push(!1);return I}_execute(V,I){const A=this._getCurrentActivationState(V);if(I===this.reset)for(let B=0;B<this.config.inputSignalCount;B++)A[B]=!1;else{const V=this.inFlows.indexOf(I);V>=0&&(A[V]=!0)}if(this.remainingInputs.setValue(new Y.e(A.filter((V=>!V)).length),V),V._setExecutionVariable(this,"activationState",A.slice()),A.includes(!1))I!==this.reset&&this.out._activateSignal(V);else{this.completed._activateSignal(V);for(let V=0;V<this.config.inputSignalCount;V++)A[V]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(V){super.serialize(V),V.config.inputFlows=this.config.inputSignalCount}}(0,F.e)("FlowGraphWaitAllBlock",H)}}]);