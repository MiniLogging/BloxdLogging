"use strict";(self.ksd6jhs1yr=self.ksd6jhs1yr||[]).push([[107],{15694:(C,c,d)=>{d.r(c),d.d(c,{FlowGraphWaitAllBlock:()=>R});var b=d(14185),X=d(12345),P=d(14126),V=d(14120);class R extends b.e{constructor(C){super(C),this.config=C,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",P.h,new V.c(this.config.inputSignalCount||0));for(let c=0;c<this.config.inputSignalCount;c++)this.inFlows.push(this._registerSignalInput(`in_${c}`));this._unregisterSignalInput("in")}_getCurrentActivationState(C){const c=this._cachedActivationState;if(c.length=0,C._hasExecutionVariable(this,"activationState")){const d=C._getExecutionVariable(this,"activationState",[]);for(let C=0;C<d.length;C++)c.push(d[C])}else for(let d=0;d<this.config.inputSignalCount;d++)c.push(!1);return c}_execute(C,c){const d=this._getCurrentActivationState(C);if(c===this.reset)for(let b=0;b<this.config.inputSignalCount;b++)d[b]=!1;else{const C=this.inFlows.indexOf(c);C>=0&&(d[C]=!0)}if(this.remainingInputs.setValue(new V.c(d.filter((C=>!C)).length),C),C._setExecutionVariable(this,"activationState",d.slice()),d.includes(!1))c!==this.reset&&this.out._activateSignal(C);else{this.completed._activateSignal(C);for(let C=0;C<this.config.inputSignalCount;C++)d[C]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(C){super.serialize(C),C.config.inputFlows=this.config.inputSignalCount}}(0,X.e)("FlowGraphWaitAllBlock",R)}}]);