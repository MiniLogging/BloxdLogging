"use strict";(self.zcqpiao938m=self.zcqpiao938m||[]).push([[107],{15080:(C,U,K)=>{K.r(U),K.d(U,{FlowGraphWaitAllBlock:()=>e});var m=K(13564),O=K(11789),X=K(13514),A=K(13508);class e extends m.c{constructor(C){super(C),this.config=C,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",X.i,new A.d(this.config.inputSignalCount||0));for(let U=0;U<this.config.inputSignalCount;U++)this.inFlows.push(this._registerSignalInput(`in_${U}`));this._unregisterSignalInput("in")}_getCurrentActivationState(C){const U=this._cachedActivationState;if(U.length=0,C._hasExecutionVariable(this,"activationState")){const K=C._getExecutionVariable(this,"activationState",[]);for(let C=0;C<K.length;C++)U.push(K[C])}else for(let K=0;K<this.config.inputSignalCount;K++)U.push(!1);return U}_execute(C,U){const K=this._getCurrentActivationState(C);if(U===this.reset)for(let m=0;m<this.config.inputSignalCount;m++)K[m]=!1;else{const C=this.inFlows.indexOf(U);C>=0&&(K[C]=!0)}if(this.remainingInputs.setValue(new A.d(K.filter((C=>!C)).length),C),C._setExecutionVariable(this,"activationState",K.slice()),K.includes(!1))U!==this.reset&&this.out._activateSignal(C);else{this.completed._activateSignal(C);for(let C=0;C<this.config.inputSignalCount;C++)K[C]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(C){super.serialize(C),C.config.inputFlows=this.config.inputSignalCount}}(0,O.h)("FlowGraphWaitAllBlock",e)}}]);