"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[107],{14877:(w,E,G)=>{G.r(E),G.d(E,{FlowGraphWaitAllBlock:()=>x});var P=G(13330),h=G(11646),B=G(13281),y=G(13274);class x extends P.d{constructor(w){super(w),this.config=w,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",B.h,new y.d(this.config.inputSignalCount||0));for(let E=0;E<this.config.inputSignalCount;E++)this.inFlows.push(this._registerSignalInput(`in_${E}`));this._unregisterSignalInput("in")}_getCurrentActivationState(w){const E=this._cachedActivationState;if(E.length=0,w._hasExecutionVariable(this,"activationState")){const G=w._getExecutionVariable(this,"activationState",[]);for(let w=0;w<G.length;w++)E.push(G[w])}else for(let G=0;G<this.config.inputSignalCount;G++)E.push(!1);return E}_execute(w,E){const G=this._getCurrentActivationState(w);if(E===this.reset)for(let P=0;P<this.config.inputSignalCount;P++)G[P]=!1;else{const w=this.inFlows.indexOf(E);w>=0&&(G[w]=!0)}if(this.remainingInputs.setValue(new y.d(G.filter((w=>!w)).length),w),w._setExecutionVariable(this,"activationState",G.slice()),G.includes(!1))E!==this.reset&&this.out._activateSignal(w);else{this.completed._activateSignal(w);for(let w=0;w<this.config.inputSignalCount;w++)G[w]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(w){super.serialize(w),w.config.inputFlows=this.config.inputSignalCount}}(0,h.g)("FlowGraphWaitAllBlock",x)}}]);