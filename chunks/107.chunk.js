"use strict";(self["9d4d30r2sf"]=self["9d4d30r2sf"]||[]).push([[107],{15805:(o,v,V)=>{V.r(v),V.d(v,{FlowGraphWaitAllBlock:()=>U});var g=V(14283),E=V(12449),I=V(14241),Q=V(14236);class U extends g.d{constructor(o){super(o),this.config=o,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",I.i,new Q.c(this.config.inputSignalCount||0));for(let v=0;v<this.config.inputSignalCount;v++)this.inFlows.push(this._registerSignalInput(`in_${v}`));this._unregisterSignalInput("in")}_getCurrentActivationState(o){const v=this._cachedActivationState;if(v.length=0,o._hasExecutionVariable(this,"activationState")){const V=o._getExecutionVariable(this,"activationState",[]);for(let o=0;o<V.length;o++)v.push(V[o])}else for(let V=0;V<this.config.inputSignalCount;V++)v.push(!1);return v}_execute(o,v){const V=this._getCurrentActivationState(o);if(v===this.reset)for(let g=0;g<this.config.inputSignalCount;g++)V[g]=!1;else{const o=this.inFlows.indexOf(v);o>=0&&(V[o]=!0)}if(this.remainingInputs.setValue(new Q.c(V.filter((o=>!o)).length),o),o._setExecutionVariable(this,"activationState",V.slice()),V.includes(!1))v!==this.reset&&this.out._activateSignal(o);else{this.completed._activateSignal(o);for(let o=0;o<this.config.inputSignalCount;o++)V[o]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(o){super.serialize(o),o.config.inputFlows=this.config.inputSignalCount}}(0,E.h)("FlowGraphWaitAllBlock",U)}}]);