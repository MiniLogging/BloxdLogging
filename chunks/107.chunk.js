"use strict";(self["9s4i8ue3jq"]=self["9s4i8ue3jq"]||[]).push([[107],{16115:(a,c,o)=>{o.r(c),o.d(c,{FlowGraphWaitAllBlock:()=>p});var s=o(14442),q=o(12776),t=o(14394),i=o(14386);class p extends s.d{constructor(a){super(a),this.config=a,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",t.g,new i.c(this.config.inputSignalCount||0));for(let c=0;c<this.config.inputSignalCount;c++)this.inFlows.push(this._registerSignalInput(`in_${c}`));this._unregisterSignalInput("in")}_getCurrentActivationState(a){const c=this._cachedActivationState;if(c.length=0,a._hasExecutionVariable(this,"activationState")){const o=a._getExecutionVariable(this,"activationState",[]);for(let a=0;a<o.length;a++)c.push(o[a])}else for(let o=0;o<this.config.inputSignalCount;o++)c.push(!1);return c}_execute(a,c){const o=this._getCurrentActivationState(a);if(c===this.reset)for(let s=0;s<this.config.inputSignalCount;s++)o[s]=!1;else{const a=this.inFlows.indexOf(c);a>=0&&(o[a]=!0)}if(this.remainingInputs.setValue(new i.c(o.filter((a=>!a)).length),a),a._setExecutionVariable(this,"activationState",o.slice()),o.includes(!1))c!==this.reset&&this.out._activateSignal(a);else{this.completed._activateSignal(a);for(let a=0;a<this.config.inputSignalCount;a++)o[a]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(a){super.serialize(a),a.config.inputFlows=this.config.inputSignalCount}}(0,q.d)("FlowGraphWaitAllBlock",p)}}]);