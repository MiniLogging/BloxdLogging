"use strict";(self["3nlrbof8msu"]=self["3nlrbof8msu"]||[]).push([[107],{16066:(t,b,Z)=>{Z.r(b),Z.d(b,{FlowGraphWaitAllBlock:()=>h});var J=Z(14464),S=Z(12688),P=Z(14405),v=Z(14397);class h extends J.e{constructor(t){super(t),this.config=t,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",P.j,new v.b(this.config.inputSignalCount||0));for(let b=0;b<this.config.inputSignalCount;b++)this.inFlows.push(this._registerSignalInput(`in_${b}`));this._unregisterSignalInput("in")}_getCurrentActivationState(t){const b=this._cachedActivationState;if(b.length=0,t._hasExecutionVariable(this,"activationState")){const Z=t._getExecutionVariable(this,"activationState",[]);for(let t=0;t<Z.length;t++)b.push(Z[t])}else for(let Z=0;Z<this.config.inputSignalCount;Z++)b.push(!1);return b}_execute(t,b){const Z=this._getCurrentActivationState(t);if(b===this.reset)for(let J=0;J<this.config.inputSignalCount;J++)Z[J]=!1;else{const t=this.inFlows.indexOf(b);t>=0&&(Z[t]=!0)}if(this.remainingInputs.setValue(new v.b(Z.filter((t=>!t)).length),t),t._setExecutionVariable(this,"activationState",Z.slice()),Z.includes(!1))b!==this.reset&&this.out._activateSignal(t);else{this.completed._activateSignal(t);for(let t=0;t<this.config.inputSignalCount;t++)Z[t]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(t){super.serialize(t),t.config.inputFlows=this.config.inputSignalCount}}(0,S.f)("FlowGraphWaitAllBlock",h)}}]);