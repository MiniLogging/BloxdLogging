"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[107],{15171:(b,n,i)=>{i.r(n),i.d(n,{FlowGraphWaitAllBlock:()=>Y});var e=i(13582),V=i(11734),Q=i(13522),U=i(13513);class Y extends e.d{constructor(b){super(b),this.config=b,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",Q.h,new U.b(this.config.inputSignalCount||0));for(let n=0;n<this.config.inputSignalCount;n++)this.inFlows.push(this._registerSignalInput(`in_${n}`));this._unregisterSignalInput("in")}_getCurrentActivationState(b){const n=this._cachedActivationState;if(n.length=0,b._hasExecutionVariable(this,"activationState")){const i=b._getExecutionVariable(this,"activationState",[]);for(let b=0;b<i.length;b++)n.push(i[b])}else for(let i=0;i<this.config.inputSignalCount;i++)n.push(!1);return n}_execute(b,n){const i=this._getCurrentActivationState(b);if(n===this.reset)for(let e=0;e<this.config.inputSignalCount;e++)i[e]=!1;else{const b=this.inFlows.indexOf(n);b>=0&&(i[b]=!0)}if(this.remainingInputs.setValue(new U.b(i.filter((b=>!b)).length),b),b._setExecutionVariable(this,"activationState",i.slice()),i.includes(!1))n!==this.reset&&this.out._activateSignal(b);else{this.completed._activateSignal(b);for(let b=0;b<this.config.inputSignalCount;b++)i[b]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(b){super.serialize(b),b.config.inputFlows=this.config.inputSignalCount}}(0,V.i)("FlowGraphWaitAllBlock",Y)}}]);