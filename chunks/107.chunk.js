"use strict";(self["80dd64vgxnn"]=self["80dd64vgxnn"]||[]).push([[107],{15904:(mm,o,u)=>{u.r(o),u.d(o,{FlowGraphWaitAllBlock:()=>w});var f=u(14308),B=u(12702),O=u(14257),r=u(14255);class w extends f.d{constructor(mm){super(mm),this.config=mm,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",O.j,new r.d(this.config.inputSignalCount||0));for(let o=0;o<this.config.inputSignalCount;o++)this.inFlows.push(this._registerSignalInput(`in_${o}`));this._unregisterSignalInput("in")}_getCurrentActivationState(mm){const o=this._cachedActivationState;if(o.length=0,mm._hasExecutionVariable(this,"activationState")){const u=mm._getExecutionVariable(this,"activationState",[]);for(let mm=0;mm<u.length;mm++)o.push(u[mm])}else for(let u=0;u<this.config.inputSignalCount;u++)o.push(!1);return o}_execute(mm,o){const u=this._getCurrentActivationState(mm);if(o===this.reset)for(let f=0;f<this.config.inputSignalCount;f++)u[f]=!1;else{const mm=this.inFlows.indexOf(o);mm>=0&&(u[mm]=!0)}if(this.remainingInputs.setValue(new r.d(u.filter((mm=>!mm)).length),mm),mm._setExecutionVariable(this,"activationState",u.slice()),u.includes(!1))o!==this.reset&&this.out._activateSignal(mm);else{this.completed._activateSignal(mm);for(let mm=0;mm<this.config.inputSignalCount;mm++)u[mm]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(mm){super.serialize(mm),mm.config.inputFlows=this.config.inputSignalCount}}(0,B.c)("FlowGraphWaitAllBlock",w)}}]);