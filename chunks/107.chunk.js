"use strict";(self["269hv5nclphh"]=self["269hv5nclphh"]||[]).push([[107],{15694:(E,H,d)=>{d.r(H),d.d(H,{FlowGraphWaitAllBlock:()=>l});var n=d(14140),Z=d(12344),I=d(14103),g=d(14095);class l extends n.d{constructor(E){super(E),this.config=E,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",I.j,new g.c(this.config.inputSignalCount||0));for(let H=0;H<this.config.inputSignalCount;H++)this.inFlows.push(this._registerSignalInput(`in_${H}`));this._unregisterSignalInput("in")}_getCurrentActivationState(E){const H=this._cachedActivationState;if(H.length=0,E._hasExecutionVariable(this,"activationState")){const d=E._getExecutionVariable(this,"activationState",[]);for(let E=0;E<d.length;E++)H.push(d[E])}else for(let d=0;d<this.config.inputSignalCount;d++)H.push(!1);return H}_execute(E,H){const d=this._getCurrentActivationState(E);if(H===this.reset)for(let n=0;n<this.config.inputSignalCount;n++)d[n]=!1;else{const E=this.inFlows.indexOf(H);E>=0&&(d[E]=!0)}if(this.remainingInputs.setValue(new g.c(d.filter((E=>!E)).length),E),E._setExecutionVariable(this,"activationState",d.slice()),d.includes(!1))H!==this.reset&&this.out._activateSignal(E);else{this.completed._activateSignal(E);for(let E=0;E<this.config.inputSignalCount;E++)d[E]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(E){super.serialize(E),E.config.inputFlows=this.config.inputSignalCount}}(0,Z.e)("FlowGraphWaitAllBlock",l)}}]);