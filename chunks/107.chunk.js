"use strict";(self.wy695la1oic=self.wy695la1oic||[]).push([[107],{14731:(S,v,D)=>{D.r(v),D.d(v,{FlowGraphWaitAllBlock:()=>B});var z=D(13151),e=D(11329),N=D(13108),m=D(13103);class B extends z.c{constructor(S){super(S),this.config=S,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",N.i,new m.b(this.config.inputSignalCount||0));for(let v=0;v<this.config.inputSignalCount;v++)this.inFlows.push(this._registerSignalInput(`in_${v}`));this._unregisterSignalInput("in")}_getCurrentActivationState(S){const v=this._cachedActivationState;if(v.length=0,S._hasExecutionVariable(this,"activationState")){const D=S._getExecutionVariable(this,"activationState",[]);for(let S=0;S<D.length;S++)v.push(D[S])}else for(let D=0;D<this.config.inputSignalCount;D++)v.push(!1);return v}_execute(S,v){const D=this._getCurrentActivationState(S);if(v===this.reset)for(let z=0;z<this.config.inputSignalCount;z++)D[z]=!1;else{const S=this.inFlows.indexOf(v);S>=0&&(D[S]=!0)}if(this.remainingInputs.setValue(new m.b(D.filter((S=>!S)).length),S),S._setExecutionVariable(this,"activationState",D.slice()),D.includes(!1))v!==this.reset&&this.out._activateSignal(S);else{this.completed._activateSignal(S);for(let S=0;S<this.config.inputSignalCount;S++)D[S]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(S){super.serialize(S),S.config.inputFlows=this.config.inputSignalCount}}(0,e.f)("FlowGraphWaitAllBlock",B)}}]);