"use strict";(self["686i8587bmi"]=self["686i8587bmi"]||[]).push([[107],{16157:(h,d,T)=>{T.r(d),T.d(d,{FlowGraphWaitAllBlock:()=>X});var Y=T(14578),y=T(12714),C=T(14528),n=T(14519);class X extends Y.e{constructor(h){super(h),this.config=h,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",C.h,new n.e(this.config.inputSignalCount||0));for(let d=0;d<this.config.inputSignalCount;d++)this.inFlows.push(this._registerSignalInput(`in_${d}`));this._unregisterSignalInput("in")}_getCurrentActivationState(h){const d=this._cachedActivationState;if(d.length=0,h._hasExecutionVariable(this,"activationState")){const T=h._getExecutionVariable(this,"activationState",[]);for(let h=0;h<T.length;h++)d.push(T[h])}else for(let T=0;T<this.config.inputSignalCount;T++)d.push(!1);return d}_execute(h,d){const T=this._getCurrentActivationState(h);if(d===this.reset)for(let Y=0;Y<this.config.inputSignalCount;Y++)T[Y]=!1;else{const h=this.inFlows.indexOf(d);h>=0&&(T[h]=!0)}if(this.remainingInputs.setValue(new n.e(T.filter((h=>!h)).length),h),h._setExecutionVariable(this,"activationState",T.slice()),T.includes(!1))d!==this.reset&&this.out._activateSignal(h);else{this.completed._activateSignal(h);for(let h=0;h<this.config.inputSignalCount;h++)T[h]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(h){super.serialize(h),h.config.inputFlows=this.config.inputSignalCount}}(0,y.e)("FlowGraphWaitAllBlock",X)}}]);