"use strict";(self.n4ygn1cq9vg=self.n4ygn1cq9vg||[]).push([[107],{15764:(e,d,v)=>{v.r(d),v.d(d,{FlowGraphWaitAllBlock:()=>X});var P=v(14220),p=v(12381),L=v(14181),B=v(14179);class X extends P.c{constructor(e){super(e),this.config=e,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",L.f,new B.d(this.config.inputSignalCount||0));for(let d=0;d<this.config.inputSignalCount;d++)this.inFlows.push(this._registerSignalInput(`in_${d}`));this._unregisterSignalInput("in")}_getCurrentActivationState(e){const d=this._cachedActivationState;if(d.length=0,e._hasExecutionVariable(this,"activationState")){const v=e._getExecutionVariable(this,"activationState",[]);for(let e=0;e<v.length;e++)d.push(v[e])}else for(let v=0;v<this.config.inputSignalCount;v++)d.push(!1);return d}_execute(e,d){const v=this._getCurrentActivationState(e);if(d===this.reset)for(let P=0;P<this.config.inputSignalCount;P++)v[P]=!1;else{const e=this.inFlows.indexOf(d);e>=0&&(v[e]=!0)}if(this.remainingInputs.setValue(new B.d(v.filter((e=>!e)).length),e),e._setExecutionVariable(this,"activationState",v.slice()),v.includes(!1))d!==this.reset&&this.out._activateSignal(e);else{this.completed._activateSignal(e);for(let e=0;e<this.config.inputSignalCount;e++)v[e]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(e){super.serialize(e),e.config.inputFlows=this.config.inputSignalCount}}(0,p.h)("FlowGraphWaitAllBlock",X)}}]);