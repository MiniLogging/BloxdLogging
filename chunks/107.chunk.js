"use strict";(self["2fwzcez286e"]=self["2fwzcez286e"]||[]).push([[107],{16350:(B,u,F)=>{F.r(u),F.d(u,{FlowGraphWaitAllBlock:()=>R});var Z=F(14741),V=F(12949),p=F(14701),G=F(14694);class R extends Z.b{constructor(B){super(B),this.config=B,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",p.h,new G.d(this.config.inputSignalCount||0));for(let u=0;u<this.config.inputSignalCount;u++)this.inFlows.push(this._registerSignalInput(`in_${u}`));this._unregisterSignalInput("in")}_getCurrentActivationState(B){const u=this._cachedActivationState;if(u.length=0,B._hasExecutionVariable(this,"activationState")){const F=B._getExecutionVariable(this,"activationState",[]);for(let B=0;B<F.length;B++)u.push(F[B])}else for(let F=0;F<this.config.inputSignalCount;F++)u.push(!1);return u}_execute(B,u){const F=this._getCurrentActivationState(B);if(u===this.reset)for(let Z=0;Z<this.config.inputSignalCount;Z++)F[Z]=!1;else{const B=this.inFlows.indexOf(u);B>=0&&(F[B]=!0)}if(this.remainingInputs.setValue(new G.d(F.filter((B=>!B)).length),B),B._setExecutionVariable(this,"activationState",F.slice()),F.includes(!1))u!==this.reset&&this.out._activateSignal(B);else{this.completed._activateSignal(B);for(let B=0;B<this.config.inputSignalCount;B++)F[B]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(B){super.serialize(B),B.config.inputFlows=this.config.inputSignalCount}}(0,V.f)("FlowGraphWaitAllBlock",R)}}]);