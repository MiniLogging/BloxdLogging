"use strict";(self.vfdo5lmva5i=self.vfdo5lmva5i||[]).push([[107],{15152:(w,o,H)=>{H.r(o),H.d(o,{FlowGraphWaitAllBlock:()=>t});var h=H(13507),E=H(11666),e=H(13455),D=H(13446);class t extends h.e{constructor(w){super(w),this.config=w,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",e.g,new D.d(this.config.inputSignalCount||0));for(let o=0;o<this.config.inputSignalCount;o++)this.inFlows.push(this._registerSignalInput(`in_${o}`));this._unregisterSignalInput("in")}_getCurrentActivationState(w){const o=this._cachedActivationState;if(o.length=0,w._hasExecutionVariable(this,"activationState")){const H=w._getExecutionVariable(this,"activationState",[]);for(let w=0;w<H.length;w++)o.push(H[w])}else for(let H=0;H<this.config.inputSignalCount;H++)o.push(!1);return o}_execute(w,o){const H=this._getCurrentActivationState(w);if(o===this.reset)for(let h=0;h<this.config.inputSignalCount;h++)H[h]=!1;else{const w=this.inFlows.indexOf(o);w>=0&&(H[w]=!0)}if(this.remainingInputs.setValue(new D.d(H.filter((w=>!w)).length),w),w._setExecutionVariable(this,"activationState",H.slice()),H.includes(!1))o!==this.reset&&this.out._activateSignal(w);else{this.completed._activateSignal(w);for(let w=0;w<this.config.inputSignalCount;w++)H[w]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(w){super.serialize(w),w.config.inputFlows=this.config.inputSignalCount}}(0,E.g)("FlowGraphWaitAllBlock",t)}}]);