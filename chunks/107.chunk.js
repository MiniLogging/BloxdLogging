"use strict";(self.h66iwo8dvgq=self.h66iwo8dvgq||[]).push([[107],{15301:(b,X,P)=>{P.r(X),P.d(X,{FlowGraphWaitAllBlock:()=>a});var Q=P(13678),S=P(11802),d=P(13631),N=P(13623);class a extends Q.b{constructor(b){super(b),this.config=b,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",d.i,new N.c(this.config.inputSignalCount||0));for(let X=0;X<this.config.inputSignalCount;X++)this.inFlows.push(this._registerSignalInput(`in_${X}`));this._unregisterSignalInput("in")}_getCurrentActivationState(b){const X=this._cachedActivationState;if(X.length=0,b._hasExecutionVariable(this,"activationState")){const P=b._getExecutionVariable(this,"activationState",[]);for(let b=0;b<P.length;b++)X.push(P[b])}else for(let P=0;P<this.config.inputSignalCount;P++)X.push(!1);return X}_execute(b,X){const P=this._getCurrentActivationState(b);if(X===this.reset)for(let Q=0;Q<this.config.inputSignalCount;Q++)P[Q]=!1;else{const b=this.inFlows.indexOf(X);b>=0&&(P[b]=!0)}if(this.remainingInputs.setValue(new N.c(P.filter((b=>!b)).length),b),b._setExecutionVariable(this,"activationState",P.slice()),P.includes(!1))X!==this.reset&&this.out._activateSignal(b);else{this.completed._activateSignal(b);for(let b=0;b<this.config.inputSignalCount;b++)P[b]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(b){super.serialize(b),b.config.inputFlows=this.config.inputSignalCount}}(0,S.h)("FlowGraphWaitAllBlock",a)}}]);