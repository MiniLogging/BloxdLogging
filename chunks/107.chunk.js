"use strict";(self.n52dyox90qa=self.n52dyox90qa||[]).push([[107],{15079:(E,t,z)=>{z.r(t),z.d(t,{FlowGraphWaitAllBlock:()=>p});var A=z(13517),X=z(11766),R=z(13458),u=z(13456);class p extends A.e{constructor(E){super(E),this.config=E,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",R.e,new u.e(this.config.inputSignalCount||0));for(let t=0;t<this.config.inputSignalCount;t++)this.inFlows.push(this._registerSignalInput(`in_${t}`));this._unregisterSignalInput("in")}_getCurrentActivationState(E){const t=this._cachedActivationState;if(t.length=0,E._hasExecutionVariable(this,"activationState")){const z=E._getExecutionVariable(this,"activationState",[]);for(let E=0;E<z.length;E++)t.push(z[E])}else for(let z=0;z<this.config.inputSignalCount;z++)t.push(!1);return t}_execute(E,t){const z=this._getCurrentActivationState(E);if(t===this.reset)for(let A=0;A<this.config.inputSignalCount;A++)z[A]=!1;else{const E=this.inFlows.indexOf(t);E>=0&&(z[E]=!0)}if(this.remainingInputs.setValue(new u.e(z.filter((E=>!E)).length),E),E._setExecutionVariable(this,"activationState",z.slice()),z.includes(!1))t!==this.reset&&this.out._activateSignal(E);else{this.completed._activateSignal(E);for(let E=0;E<this.config.inputSignalCount;E++)z[E]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(E){super.serialize(E),E.config.inputFlows=this.config.inputSignalCount}}(0,X.f)("FlowGraphWaitAllBlock",p)}}]);