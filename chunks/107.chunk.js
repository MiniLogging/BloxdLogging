"use strict";(self.zy41qorie9=self.zy41qorie9||[]).push([[107],{15463:(Z,l,C)=>{C.r(l),C.d(l,{FlowGraphWaitAllBlock:()=>f});var B=C(13869),x=C(12400),b=C(13830),K=C(13828);class f extends B.c{constructor(Z){super(Z),this.config=Z,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",b.i,new K.b(this.config.inputSignalCount||0));for(let l=0;l<this.config.inputSignalCount;l++)this.inFlows.push(this._registerSignalInput(`in_${l}`));this._unregisterSignalInput("in")}_getCurrentActivationState(Z){const l=this._cachedActivationState;if(l.length=0,Z._hasExecutionVariable(this,"activationState")){const C=Z._getExecutionVariable(this,"activationState",[]);for(let Z=0;Z<C.length;Z++)l.push(C[Z])}else for(let C=0;C<this.config.inputSignalCount;C++)l.push(!1);return l}_execute(Z,l){const C=this._getCurrentActivationState(Z);if(l===this.reset)for(let B=0;B<this.config.inputSignalCount;B++)C[B]=!1;else{const Z=this.inFlows.indexOf(l);Z>=0&&(C[Z]=!0)}if(this.remainingInputs.setValue(new K.b(C.filter((Z=>!Z)).length),Z),Z._setExecutionVariable(this,"activationState",C.slice()),C.includes(!1))l!==this.reset&&this.out._activateSignal(Z);else{this.completed._activateSignal(Z);for(let Z=0;Z<this.config.inputSignalCount;Z++)C[Z]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(Z){super.serialize(Z),Z.config.inputFlows=this.config.inputSignalCount}}(0,x.c)("FlowGraphWaitAllBlock",f)}}]);