"use strict";(self["3b8bnhi4gzj"]=self["3b8bnhi4gzj"]||[]).push([[107],{15111:(Z,h,V)=>{V.r(h),V.d(h,{FlowGraphWaitAllBlock:()=>d});var v=V(13512),A=V(11691),H=V(13459),K=V(13450);class d extends v.b{constructor(Z){super(Z),this.config=Z,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",H.h,new K.b(this.config.inputSignalCount||0));for(let h=0;h<this.config.inputSignalCount;h++)this.inFlows.push(this._registerSignalInput(`in_${h}`));this._unregisterSignalInput("in")}_getCurrentActivationState(Z){const h=this._cachedActivationState;if(h.length=0,Z._hasExecutionVariable(this,"activationState")){const V=Z._getExecutionVariable(this,"activationState",[]);for(let Z=0;Z<V.length;Z++)h.push(V[Z])}else for(let V=0;V<this.config.inputSignalCount;V++)h.push(!1);return h}_execute(Z,h){const V=this._getCurrentActivationState(Z);if(h===this.reset)for(let v=0;v<this.config.inputSignalCount;v++)V[v]=!1;else{const Z=this.inFlows.indexOf(h);Z>=0&&(V[Z]=!0)}if(this.remainingInputs.setValue(new K.b(V.filter((Z=>!Z)).length),Z),Z._setExecutionVariable(this,"activationState",V.slice()),V.includes(!1))h!==this.reset&&this.out._activateSignal(Z);else{this.completed._activateSignal(Z);for(let Z=0;Z<this.config.inputSignalCount;Z++)V[Z]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(Z){super.serialize(Z),Z.config.inputFlows=this.config.inputSignalCount}}(0,A.i)("FlowGraphWaitAllBlock",d)}}]);