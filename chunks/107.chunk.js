"use strict";(self["9x1utqq1axc"]=self["9x1utqq1axc"]||[]).push([[107],{15615:(y,c,A)=>{A.r(c),A.d(c,{FlowGraphWaitAllBlock:()=>W});var l=A(14036),w=A(12283),N=A(13993),p=A(13986);class W extends l.e{constructor(y){super(y),this.config=y,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",N.j,new p.b(this.config.inputSignalCount||0));for(let c=0;c<this.config.inputSignalCount;c++)this.inFlows.push(this._registerSignalInput(`in_${c}`));this._unregisterSignalInput("in")}_getCurrentActivationState(y){const c=this._cachedActivationState;if(c.length=0,y._hasExecutionVariable(this,"activationState")){const A=y._getExecutionVariable(this,"activationState",[]);for(let y=0;y<A.length;y++)c.push(A[y])}else for(let A=0;A<this.config.inputSignalCount;A++)c.push(!1);return c}_execute(y,c){const A=this._getCurrentActivationState(y);if(c===this.reset)for(let l=0;l<this.config.inputSignalCount;l++)A[l]=!1;else{const y=this.inFlows.indexOf(c);y>=0&&(A[y]=!0)}if(this.remainingInputs.setValue(new p.b(A.filter((y=>!y)).length),y),y._setExecutionVariable(this,"activationState",A.slice()),A.includes(!1))c!==this.reset&&this.out._activateSignal(y);else{this.completed._activateSignal(y);for(let y=0;y<this.config.inputSignalCount;y++)A[y]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(y){super.serialize(y),y.config.inputFlows=this.config.inputSignalCount}}(0,w.f)("FlowGraphWaitAllBlock",W)}}]);