"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[107],{15774:(u,R,I)=>{I.r(R),I.d(R,{FlowGraphWaitAllBlock:()=>D});var B=I(14215),U=I(12433),K=I(14160),C=I(14157);class D extends B.e{constructor(u){super(u),this.config=u,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",K.j,new C.d(this.config.inputSignalCount||0));for(let R=0;R<this.config.inputSignalCount;R++)this.inFlows.push(this._registerSignalInput(`in_${R}`));this._unregisterSignalInput("in")}_getCurrentActivationState(u){const R=this._cachedActivationState;if(R.length=0,u._hasExecutionVariable(this,"activationState")){const I=u._getExecutionVariable(this,"activationState",[]);for(let u=0;u<I.length;u++)R.push(I[u])}else for(let I=0;I<this.config.inputSignalCount;I++)R.push(!1);return R}_execute(u,R){const I=this._getCurrentActivationState(u);if(R===this.reset)for(let B=0;B<this.config.inputSignalCount;B++)I[B]=!1;else{const u=this.inFlows.indexOf(R);u>=0&&(I[u]=!0)}if(this.remainingInputs.setValue(new C.d(I.filter((u=>!u)).length),u),u._setExecutionVariable(this,"activationState",I.slice()),I.includes(!1))R!==this.reset&&this.out._activateSignal(u);else{this.completed._activateSignal(u);for(let u=0;u<this.config.inputSignalCount;u++)I[u]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(u){super.serialize(u),u.config.inputFlows=this.config.inputSignalCount}}(0,U.e)("FlowGraphWaitAllBlock",D)}}]);