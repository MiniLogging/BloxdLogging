"use strict";(self.ra6kpa9z1sg=self.ra6kpa9z1sg||[]).push([[107],{16101:(p,b,M)=>{M.r(b),M.d(b,{FlowGraphWaitAllBlock:()=>P});var h=M(14367),Q=M(12730),mp=M(14316),y=M(14311);class P extends h.d{constructor(p){super(p),this.config=p,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",mp.k,new y.e(this.config.inputSignalCount||0));for(let b=0;b<this.config.inputSignalCount;b++)this.inFlows.push(this._registerSignalInput(`in_${b}`));this._unregisterSignalInput("in")}_getCurrentActivationState(p){const b=this._cachedActivationState;if(b.length=0,p._hasExecutionVariable(this,"activationState")){const M=p._getExecutionVariable(this,"activationState",[]);for(let p=0;p<M.length;p++)b.push(M[p])}else for(let M=0;M<this.config.inputSignalCount;M++)b.push(!1);return b}_execute(p,b){const M=this._getCurrentActivationState(p);if(b===this.reset)for(let h=0;h<this.config.inputSignalCount;h++)M[h]=!1;else{const p=this.inFlows.indexOf(b);p>=0&&(M[p]=!0)}if(this.remainingInputs.setValue(new y.e(M.filter((p=>!p)).length),p),p._setExecutionVariable(this,"activationState",M.slice()),M.includes(!1))b!==this.reset&&this.out._activateSignal(p);else{this.completed._activateSignal(p);for(let p=0;p<this.config.inputSignalCount;p++)M[p]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(p){super.serialize(p),p.config.inputFlows=this.config.inputSignalCount}}(0,Q.c)("FlowGraphWaitAllBlock",P)}}]);