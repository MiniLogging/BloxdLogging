"use strict";(self.h6ljd275xwr=self.h6ljd275xwr||[]).push([[107],{14680:(n,y,H)=>{H.r(y),H.d(y,{FlowGraphWaitAllBlock:()=>i});var o=H(13162),G=H(11248),h=H(13117),k=H(13112);class i extends o.b{constructor(n){super(n),this.config=n,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",h.f,new k.c(this.config.inputSignalCount||0));for(let y=0;y<this.config.inputSignalCount;y++)this.inFlows.push(this._registerSignalInput(`in_${y}`));this._unregisterSignalInput("in")}_getCurrentActivationState(n){const y=this._cachedActivationState;if(y.length=0,n._hasExecutionVariable(this,"activationState")){const H=n._getExecutionVariable(this,"activationState",[]);for(let n=0;n<H.length;n++)y.push(H[n])}else for(let H=0;H<this.config.inputSignalCount;H++)y.push(!1);return y}_execute(n,y){const H=this._getCurrentActivationState(n);if(y===this.reset)for(let o=0;o<this.config.inputSignalCount;o++)H[o]=!1;else{const n=this.inFlows.indexOf(y);n>=0&&(H[n]=!0)}if(this.remainingInputs.setValue(new k.c(H.filter((n=>!n)).length),n),n._setExecutionVariable(this,"activationState",H.slice()),H.includes(!1))y!==this.reset&&this.out._activateSignal(n);else{this.completed._activateSignal(n);for(let n=0;n<this.config.inputSignalCount;n++)H[n]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(n){super.serialize(n),n.config.inputFlows=this.config.inputSignalCount}}(0,G.h)("FlowGraphWaitAllBlock",i)}}]);