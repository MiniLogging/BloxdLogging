"use strict";(self["1xyrlsr8vb9"]=self["1xyrlsr8vb9"]||[]).push([[107],{15458:(I,O,C)=>{C.r(O),C.d(O,{FlowGraphWaitAllBlock:()=>S});var j=C(13944),K=C(12226),i=C(13886),y=C(13878);class S extends j.e{constructor(I){super(I),this.config=I,this.inFlows=[],this._cachedActivationState=[],this.reset=this._registerSignalInput("reset"),this.completed=this._registerSignalOutput("completed"),this.remainingInputs=this.registerDataOutput("remainingInputs",i.h,new y.e(this.config.inputSignalCount||0));for(let O=0;O<this.config.inputSignalCount;O++)this.inFlows.push(this._registerSignalInput(`in_${O}`));this._unregisterSignalInput("in")}_getCurrentActivationState(I){const O=this._cachedActivationState;if(O.length=0,I._hasExecutionVariable(this,"activationState")){const C=I._getExecutionVariable(this,"activationState",[]);for(let I=0;I<C.length;I++)O.push(C[I])}else for(let C=0;C<this.config.inputSignalCount;C++)O.push(!1);return O}_execute(I,O){const C=this._getCurrentActivationState(I);if(O===this.reset)for(let j=0;j<this.config.inputSignalCount;j++)C[j]=!1;else{const I=this.inFlows.indexOf(O);I>=0&&(C[I]=!0)}if(this.remainingInputs.setValue(new y.e(C.filter((I=>!I)).length),I),I._setExecutionVariable(this,"activationState",C.slice()),C.includes(!1))O!==this.reset&&this.out._activateSignal(I);else{this.completed._activateSignal(I);for(let I=0;I<this.config.inputSignalCount;I++)C[I]=!1}}getClassName(){return"FlowGraphWaitAllBlock"}serialize(I){super.serialize(I),I.config.inputFlows=this.config.inputSignalCount}}(0,K.e)("FlowGraphWaitAllBlock",S)}}]);