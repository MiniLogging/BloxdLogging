/*! For license information please see us89x8.5.b1b73d12.chunk.js.LICENSE.txt */
"use strict";(self["80dd64vgxnn"]=self["80dd64vgxnn"]||[]).push([[5],{12522:(mm,o,u)=>{u.d(o,{B:()=>q,F:()=>d,H:()=>H,L:()=>M,N:()=>R,O:()=>t,Q:()=>Q,R:()=>E,S:()=>l,T:()=>c,U:()=>F,X:()=>b,d:()=>x,f:()=>S,h:()=>N,j:()=>J,k:()=>w,l:()=>r,n:()=>k,o:()=>y,p:()=>g,q:()=>A,u:()=>Y,x:()=>z});const f=function(mm){const o=[];let u=0;for(let f=0;f<mm.length;f++){let B=mm.charCodeAt(f);B<128?o[u++]=B:B<2048?(o[u++]=B>>6|192,o[u++]=63&B|128):55296===(64512&B)&&f+1<mm.length&&56320===(64512&mm.charCodeAt(f+1))?(B=65536+((1023&B)<<10)+(1023&mm.charCodeAt(++f)),o[u++]=B>>18|240,o[u++]=B>>12&63|128,o[u++]=B>>6&63|128,o[u++]=63&B|128):(o[u++]=B>>12|224,o[u++]=B>>6&63|128,o[u++]=63&B|128)}return o},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(mm,o){if(!Array.isArray(mm))throw Error("encodeByteArray takes an array as a parameter");this.init_();const u=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let B=0;B<mm.length;B+=3){const o=mm[B],O=B+1<mm.length,r=O?mm[B+1]:0,w=B+2<mm.length,p=w?mm[B+2]:0,K=o>>2,z=(3&o)<<4|r>>4;let Y=(15&r)<<2|p>>6,q=63&p;w||(q=64,O||(Y=64)),f.push(u[K],u[z],u[Y],u[q])}return f.join("")},encodeString(mm,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(mm):this.encodeByteArray(f(mm),o)},decodeString(mm,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(mm):function(mm){const o=[];let u=0,f=0;for(;u<mm.length;){const B=mm[u++];if(B<128)o[f++]=String.fromCharCode(B);else if(B>191&&B<224){const O=mm[u++];o[f++]=String.fromCharCode((31&B)<<6|63&O)}else if(B>239&&B<365){const O=((7&B)<<18|(63&mm[u++])<<12|(63&mm[u++])<<6|63&mm[u++])-65536;o[f++]=String.fromCharCode(55296+(O>>10)),o[f++]=String.fromCharCode(56320+(1023&O))}else{const O=mm[u++],r=mm[u++];o[f++]=String.fromCharCode((15&B)<<12|(63&O)<<6|63&r)}}return o.join("")}(this.decodeStringToByteArray(mm,o))},decodeStringToByteArray(mm,o){this.init_();const u=o?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let B=0;B<mm.length;){const o=u[mm.charAt(B++)],r=B<mm.length?u[mm.charAt(B)]:0;++B;const w=B<mm.length?u[mm.charAt(B)]:64;++B;const p=B<mm.length?u[mm.charAt(B)]:64;if(++B,null==o||null==r||null==w||null==p)throw new O;const K=o<<2|r>>4;if(f.push(K),64!==w){const mm=r<<4&240|w>>2;if(f.push(mm),64!==p){const mm=w<<6&192|p;f.push(mm)}}}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let mm=0;mm<this.ENCODED_VALS.length;mm++)this.byteToCharMap_[mm]=this.ENCODED_VALS.charAt(mm),this.charToByteMap_[this.byteToCharMap_[mm]]=mm,this.byteToCharMapWebSafe_[mm]=this.ENCODED_VALS_WEBSAFE.charAt(mm),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[mm]]=mm,mm>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(mm)]=mm,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(mm)]=mm)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r=function(mm){return function(mm){const o=f(mm);return B.encodeByteArray(o,!0)}(mm).replace(/\./g,"")},w=function(mm){try{return B.decodeString(mm,!0)}catch(o){console.error("base64Decode failed: ",o)}return null};const p=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof u.g)return u.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,K=()=>{try{return p()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let mm;try{mm=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(u){return}const o=mm&&w(mm[1]);return o&&JSON.parse(o)})()}catch(mm){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${mm}`)}},z=mm=>{var o,u;return null===(u=null===(o=K())||void 0===o?void 0:o.emulatorHosts)||void 0===u?void 0:u[mm]},Y=()=>{var mm;return null===(mm=K())||void 0===mm?void 0:mm.config},q=mm=>{var o;return null===(o=K())||void 0===o?void 0:o[`_${mm}`]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((mm,o)=>{this.resolve=mm,this.reject=o}))}wrapCallback(mm){return(o,u)=>{o?this.reject(o):this.resolve(u),"function"===typeof mm&&(this.promise.catch((()=>{})),1===mm.length?mm(o):mm(o,u))}}}function H(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())}function M(){const mm="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof mm&&void 0!==mm.id}function l(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const mm=H();return mm.indexOf("MSIE ")>=0||mm.indexOf("Trident/")>=0}function Q(){try{return"object"===typeof indexedDB}catch(mm){return!1}}function b(){return new Promise(((mm,o)=>{try{let u=!0;const f="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(f);B.onsuccess=()=>{B.result.close(),u||self.indexedDB.deleteDatabase(f),mm(!0)},B.onupgradeneeded=()=>{u=!1},B.onerror=()=>{var mm;o((null===(mm=B.error)||void 0===mm?void 0:mm.message)||"")}}catch(u){o(u)}}))}function J(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class N extends Error{constructor(mm,o,u){super(o),this.code=mm,this.customData=u,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(mm,o,u){this.service=mm,this.serviceName=o,this.errors=u}create(mm){const o=(arguments.length<=1?void 0:arguments[1])||{},u=`${this.service}/${mm}`,f=this.errors[mm],B=f?function(mm,o){return mm.replace(P,((mm,u)=>{const f=o[u];return null!=f?String(f):`<${u}?>`}))}(f,o):"Error",O=`${this.serviceName}: ${B} (${u}).`;return new N(u,O,o)}}const P=/\{\$([^}]+)}/g;function R(mm){for(const o in mm)if(Object.prototype.hasOwnProperty.call(mm,o))return!1;return!0}function g(mm,o){if(mm===o)return!0;const u=Object.keys(mm),f=Object.keys(o);for(const B of u){if(!f.includes(B))return!1;const u=mm[B],O=o[B];if(W(u)&&W(O)){if(!g(u,O))return!1}else if(u!==O)return!1}for(const B of f)if(!u.includes(B))return!1;return!0}function W(mm){return null!==mm&&"object"===typeof mm}function F(mm){const o=[];for(const[u,f]of Object.entries(mm))Array.isArray(f)?f.forEach((mm=>{o.push(encodeURIComponent(u)+"="+encodeURIComponent(mm))})):o.push(encodeURIComponent(u)+"="+encodeURIComponent(f));return o.length?"&"+o.join("&"):""}function c(mm){const o={};return mm.replace(/^\?/,"").split("&").forEach((mm=>{if(mm){const[u,f]=mm.split("=");o[decodeURIComponent(u)]=decodeURIComponent(f)}})),o}function A(mm){const o=mm.indexOf("?");if(!o)return"";const u=mm.indexOf("#",o);return mm.substring(o,u>0?u:void 0)}function y(mm,o){const u=new I(mm,o);return u.subscribe.bind(u)}class I{constructor(mm,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then((()=>{mm(this)})).catch((mm=>{this.error(mm)}))}next(mm){this.forEachObserver((o=>{o.next(mm)}))}error(mm){this.forEachObserver((o=>{o.error(mm)})),this.close(mm)}complete(){this.forEachObserver((mm=>{mm.complete()})),this.close()}subscribe(mm,o,u){let f;if(void 0===mm&&void 0===o&&void 0===u)throw new Error("Missing Observer.");f=function(mm,o){if("object"!==typeof mm||null===mm)return!1;for(const u of o)if(u in mm&&"function"===typeof mm[u])return!0;return!1}(mm,["next","error","complete"])?mm:{next:mm,error:o,complete:u},void 0===f.next&&(f.next=s),void 0===f.error&&(f.error=s),void 0===f.complete&&(f.complete=s);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?f.error(this.finalError):f.complete()}catch(mm){}})),this.observers.push(f),B}unsubscribeOne(mm){void 0!==this.observers&&void 0!==this.observers[mm]&&(delete this.observers[mm],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(mm){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,mm)}sendOne(mm,o){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[mm])try{o(this.observers[mm])}catch(u){"undefined"!==typeof console&&console.error&&console.error(u)}}))}close(mm){this.finalized||(this.finalized=!0,void 0!==mm&&(this.finalError=mm),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const j=1e3,a=2,X=144e5,G=.5;function k(mm){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const u=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:j)*Math.pow(o,mm),f=Math.round(G*u*(Math.random()-.5)*2);return Math.min(X,u+f)}function d(mm){return mm&&mm._delegate?mm._delegate:mm}},12509:(mm,o,u)=>{u.d(o,{b:()=>O.h,d:()=>Ym,g:()=>D,i:()=>um,k:()=>fm,m:()=>mo,p:()=>wm,s:()=>om,v:()=>Om,z:()=>Bm,B:()=>rm,C:()=>Em,H:()=>xm,F:()=>Hm,J:()=>qm,M:()=>lm,Q:()=>Mm,T:()=>tm});var f=u(12513),B=u(12528),O=u(12522);let r,w;const p=new WeakMap,K=new WeakMap,z=new WeakMap,Y=new WeakMap,q=new WeakMap;let x={get(mm,o,u){if(mm instanceof IDBTransaction){if("done"===o)return K.get(mm);if("objectStoreNames"===o)return mm.objectStoreNames||z.get(mm);if("store"===o)return u.objectStoreNames[1]?void 0:u.objectStore(u.objectStoreNames[0])}return M(mm[o])},set:(mm,o,u)=>(mm[o]=u,!0),has:(mm,o)=>mm instanceof IDBTransaction&&("done"===o||"store"===o)||o in mm};function H(mm){return mm!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(mm)?function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return mm.apply(l(this),u),M(p.get(this))}:function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return M(mm.apply(l(this),u))}:function(o){for(var u=arguments.length,f=new Array(u>1?u-1:0),B=1;B<u;B++)f[B-1]=arguments[B];const O=mm.call(l(this),o,...f);return z.set(O,o.sort?o.sort():[o]),M(O)}}function E(mm){return"function"===typeof mm?H(mm):(mm instanceof IDBTransaction&&function(mm){if(K.has(mm))return;const o=new Promise(((o,u)=>{const f=()=>{mm.removeEventListener("complete",B),mm.removeEventListener("error",O),mm.removeEventListener("abort",O)},B=()=>{o(),f()},O=()=>{u(mm.error||new DOMException("AbortError","AbortError")),f()};mm.addEventListener("complete",B),mm.addEventListener("error",O),mm.addEventListener("abort",O)}));K.set(mm,o)}(mm),o=mm,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((mm=>o instanceof mm))?new Proxy(mm,x):mm);var o}function M(mm){if(mm instanceof IDBRequest)return function(mm){const o=new Promise(((o,u)=>{const f=()=>{mm.removeEventListener("success",B),mm.removeEventListener("error",O)},B=()=>{o(M(mm.result)),f()},O=()=>{u(mm.error),f()};mm.addEventListener("success",B),mm.addEventListener("error",O)}));return o.then((o=>{o instanceof IDBCursor&&p.set(o,mm)})).catch((()=>{})),q.set(o,mm),o}(mm);if(Y.has(mm))return Y.get(mm);const o=E(mm);return o!==mm&&(Y.set(mm,o),q.set(o,mm)),o}const l=mm=>q.get(mm);const t=["get","getKey","getAll","getAllKeys","count"],Q=["put","add","delete","clear"],b=new Map;function J(mm,o){if(!(mm instanceof IDBDatabase)||o in mm||"string"!==typeof o)return;if(b.get(o))return b.get(o);const u=o.replace(/FromIndex$/,""),f=o!==u,B=Q.includes(u);if(!(u in(f?IDBIndex:IDBObjectStore).prototype)||!B&&!t.includes(u))return;const O=async function(mm){const o=this.transaction(mm,B?"readwrite":"readonly");let O=o.store;for(var r=arguments.length,w=new Array(r>1?r-1:0),p=1;p<r;p++)w[p-1]=arguments[p];return f&&(O=O.index(w.shift())),(await Promise.all([O[u](...w),B&&o.done]))[0]};return b.set(o,O),O}x=(mm=>({...mm,get:(o,u,f)=>J(o,u)||mm.get(o,u,f),has:(o,u)=>!!J(o,u)||mm.has(o,u)}))(x);class N{constructor(mm){this.container=mm}getPlatformInfoString(){return this.container.getProviders().map((mm=>{if(function(mm){const o=mm.getComponent();return"VERSION"===(null===o||void 0===o?void 0:o.type)}(mm)){const o=mm.getImmediate();return`${o.library}/${o.version}`}return null})).filter((mm=>mm)).join(" ")}}const S="@firebase/app",P="0.9.13",R=new B.d("@firebase/app"),g="@firebase/app-compat",W="@firebase/analytics-compat",F="@firebase/analytics",c="@firebase/app-check-compat",A="@firebase/app-check",y="@firebase/auth",I="@firebase/auth-compat",s="@firebase/database",j="@firebase/database-compat",a="@firebase/functions",X="@firebase/functions-compat",G="@firebase/installations",k="@firebase/installations-compat",d="@firebase/messaging",e="@firebase/messaging-compat",L="@firebase/performance",C="@firebase/performance-compat",v="@firebase/remote-config",V="@firebase/remote-config-compat",n="@firebase/storage",U="@firebase/storage-compat",h="@firebase/firestore",Z="@firebase/firestore-compat",T="firebase",D="[DEFAULT]",i={[S]:"fire-core",[g]:"fire-core-compat",[F]:"fire-analytics",[W]:"fire-analytics-compat",[A]:"fire-app-check",[c]:"fire-app-check-compat",[y]:"fire-auth",[I]:"fire-auth-compat",[s]:"fire-rtdb",[j]:"fire-rtdb-compat",[a]:"fire-fn",[X]:"fire-fn-compat",[G]:"fire-iid",[k]:"fire-iid-compat",[d]:"fire-fcm",[e]:"fire-fcm-compat",[L]:"fire-perf",[C]:"fire-perf-compat",[v]:"fire-rc",[V]:"fire-rc-compat",[n]:"fire-gcs",[U]:"fire-gcs-compat",[h]:"fire-fst",[Z]:"fire-fst-compat","fire-js":"fire-js",[T]:"fire-js-all"},mo=new Map,om=new Map;function um(mm,o){try{mm.container.NK(o)}catch(u){R.debug(`Component ${o.name} failed to register with FirebaseApp ${mm.name}`,u)}}function fm(mm,o){mm.container.addOrOverwriteComponent(o)}function Bm(mm){const o=mm.name;if(om.has(o))return R.debug(`There were multiple attempts to register component ${o}.`),!1;om.set(o,mm);for(const u of mo.values())um(u,mm);return!0}function Om(mm,o){const u=mm.container.getProvider("heartbeat").getImmediate({optional:!0});return u&&u.triggerHeartbeat(),mm.container.getProvider(o)}function rm(mm,o){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;Om(mm,o).clearInstance(u)}function wm(){om.clear()}const pm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Km=new O.f("app","Firebase",pm);class zm{constructor(mm,o,u){this._isDeleted=!1,this._options=Object.assign({},mm),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=u,this.container.NK(new f.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mm){this.checkDestroyed(),this._automaticDataCollectionEnabled=mm}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mm){this._isDeleted=mm}checkDestroyed(){if(this.isDeleted)throw Km.create("app-deleted",{appName:this._name})}}const Ym="9.23.0";function qm(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=mm;if("object"!==typeof o){o={name:o}}const B=Object.assign({name:D,automaticDataCollectionEnabled:!1},o),r=B.name;if("string"!==typeof r||!r)throw Km.create("bad-app-name",{appName:String(r)});if(u||(u=(0,O.u)()),!u)throw Km.create("no-options");const w=mo.get(r);if(w){if((0,O.p)(u,w.options)&&(0,O.p)(B,w.config))return w;throw Km.create("duplicate-app",{appName:r})}const p=new f.c(r);for(const f of om.values())p.NK(f);const K=new zm(u,B,p);return mo.set(r,K),K}function xm(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;const o=mo.get(mm);if(!o&&mm===D&&(0,O.u)())return qm();if(!o)throw Km.create("no-app",{appName:mm});return o}function Hm(){return Array.from(mo.values())}async function Em(mm){const o=mm.name;mo.has(o)&&(mo.delete(o),await Promise.all(mm.container.getProviders().map((mm=>mm.delete()))),mm.isDeleted=!0)}function Mm(mm,o,u){var B;let O=null!==(B=i[mm])&&void 0!==B?B:mm;u&&(O+=`-${u}`);const r=O.match(/\s|\//),w=o.match(/\s|\//);if(r||w){const mm=[`Unable to register library "${O}" with version "${o}":`];return r&&mm.push(`library name "${O}" contains illegal characters (whitespace or "/")`),r&&w&&mm.push("and"),w&&mm.push(`version name "${o}" contains illegal characters (whitespace or "/")`),void R.warn(mm.join(" "))}Bm(new f.d(`${O}-version`,(()=>({library:O,version:o})),"VERSION"))}function lm(mm,o){if(null!==mm&&"function"!==typeof mm)throw Km.create("invalid-log-argument");(0,B.k)(mm,o)}function tm(mm){(0,B.h)(mm)}const Qm="firebase-heartbeat-store";let bm=null;function Jm(){return bm||(bm=function(mm,o){let{blocked:u,upgrade:f,blocking:B,terminated:O}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=indexedDB.open(mm,o),w=M(r);return f&&r.addEventListener("upgradeneeded",(mm=>{f(M(r.result),mm.oldVersion,mm.newVersion,M(r.transaction),mm)})),u&&r.addEventListener("blocked",(mm=>u(mm.oldVersion,mm.newVersion,mm))),w.then((mm=>{O&&mm.addEventListener("close",(()=>O())),B&&mm.addEventListener("versionchange",(mm=>B(mm.oldVersion,mm.newVersion,mm)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(mm,o)=>{if(0===o)mm.createObjectStore(Qm)}}).catch((mm=>{throw Km.create("idb-open",{originalErrorMessage:mm.message})}))),bm}async function Nm(mm,o){try{const u=(await Jm()).transaction(Qm,"readwrite"),f=u.objectStore(Qm);await f.put(o,Sm(mm)),await u.done}catch(u){if(u instanceof O.h)R.warn(u.message);else{const mm=Km.create("idb-set",{originalErrorMessage:null===u||void 0===u?void 0:u.message});R.warn(mm.message)}}}function Sm(mm){return`${mm.name}!${mm.options.appId}`}class Pm{constructor(mm){this.container=mm,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this.oq=new gm(o),this._heartbeatsCachePromise=this.oq.read().then((mm=>(this._heartbeatsCache=mm,mm)))}async triggerHeartbeat(){const mm=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rm();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==o&&!this._heartbeatsCache.heartbeats.some((mm=>mm.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:mm}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((mm=>{const o=new Date(mm.date).valueOf();return Date.now()-o<=2592e6})),this.oq.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const mm=Rm(),{heartbeatsToSend:o,unsentEntries:u}=function(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const u=[];let f=mm.slice();for(const B of mm){const mm=u.find((mm=>mm.agent===B.agent));if(mm){if(mm.dates.push(B.date),Wm(u)>o){mm.dates.pop();break}}else if(u.push({agent:B.agent,dates:[B.date]}),Wm(u)>o){u.pop();break}f=f.slice(1)}return{heartbeatsToSend:u,unsentEntries:f}}(this._heartbeatsCache.heartbeats),f=(0,O.l)(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=mm,u.length>0?(this._heartbeatsCache.heartbeats=u,await this.oq.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.oq.overwrite(this._heartbeatsCache)),f}}function Rm(){return(new Date).toISOString().substring(0,10)}class gm{constructor(mm){this.app=mm,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,O.Q)()&&(0,O.X)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(mm){try{const o=await Jm();return await o.transaction(Qm).objectStore(Qm).get(Sm(mm))}catch(o){if(o instanceof O.h)R.warn(o.message);else{const mm=Km.create("idb-get",{originalErrorMessage:null===o||void 0===o?void 0:o.message});R.warn(mm.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(mm){var o;if(await this._canUseIndexedDBPromise){const u=await this.read();return Nm(this.app,{lastSentHeartbeatDate:null!==(o=mm.lastSentHeartbeatDate)&&void 0!==o?o:u.lastSentHeartbeatDate,heartbeats:mm.heartbeats})}}async add(mm){var o;if(await this._canUseIndexedDBPromise){const u=await this.read();return Nm(this.app,{lastSentHeartbeatDate:null!==(o=mm.lastSentHeartbeatDate)&&void 0!==o?o:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...mm.heartbeats]})}}}function Wm(mm){return(0,O.l)(JSON.stringify({version:2,heartbeats:mm})).length}var Fm;Fm="",Bm(new f.d("platform-logger",(mm=>new N(mm)),"PRIVATE")),Bm(new f.d("heartbeat",(mm=>new Pm(mm)),"PRIVATE")),Mm(S,P,Fm),Mm(S,P,"esm2017"),Mm("fire-js","")},12513:(mm,o,u)=>{u.d(o,{c:()=>w,d:()=>B});var f=u(12522);class B{constructor(mm,o,u){this.name=mm,this.instanceFactory=o,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(mm){return this.instantiationMode=mm,this}setMultipleInstances(mm){return this.multipleInstances=mm,this}setServiceProps(mm){return this.serviceProps=mm,this}setInstanceCreatedCallback(mm){return this.onInstanceCreated=mm,this}}const O="[DEFAULT]";class r{constructor(mm,o){this.name=mm,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(mm){const o=this.normalizeInstanceIdentifier(mm);if(!this.instancesDeferred.has(o)){const mm=new f.d;if(this.instancesDeferred.set(o,mm),this.isInitialized(o)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:o});u&&mm.resolve(u)}catch(u){}}return this.instancesDeferred.get(o).promise}getImmediate(mm){var o;const u=this.normalizeInstanceIdentifier(null===mm||void 0===mm?void 0:mm.identifier),f=null!==(o=null===mm||void 0===mm?void 0:mm.optional)&&void 0!==o&&o;if(!this.isInitialized(u)&&!this.shouldAutoInitialize()){if(f)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:u})}catch(B){if(f)return null;throw B}}getComponent(){return this.component}setComponent(mm){if(mm.name!==this.name)throw Error(`Mismatching Component ${mm.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=mm,this.shouldAutoInitialize()){if(function(mm){return"EAGER"===mm.instantiationMode}(mm))try{this.getOrInitializeService({instanceIdentifier:O})}catch(o){}for(const[mm,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(mm);try{const mm=this.getOrInitializeService({instanceIdentifier:f});u.resolve(mm)}catch(o){}}}}clearInstance(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;this.instancesDeferred.delete(mm),this.instancesOptions.delete(mm),this.instances.delete(mm)}async delete(){const mm=Array.from(this.instances.values());await Promise.all([...mm.filter((mm=>"INTERNAL"in mm)).map((mm=>mm.INTERNAL.delete())),...mm.filter((mm=>"_delete"in mm)).map((mm=>mm._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instances.has(mm)}getOptions(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instancesOptions.get(mm)||{}}initialize(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:o={}}=mm,u=this.normalizeInstanceIdentifier(mm.instanceIdentifier);if(this.isInitialized(u))throw Error(`${this.name}(${u}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:u,options:o});for(const[B,O]of this.instancesDeferred.entries()){u===this.normalizeInstanceIdentifier(B)&&O.resolve(f)}return f}yY(mm,o){var u;const f=this.normalizeInstanceIdentifier(o),B=null!==(u=this.onInitCallbacks.get(f))&&void 0!==u?u:new Set;B.add(mm),this.onInitCallbacks.set(f,B);const O=this.instances.get(f);return O&&mm(O,f),()=>{B.delete(mm)}}invokeOnInitCallbacks(mm,o){const u=this.onInitCallbacks.get(o);if(u)for(const B of u)try{B(mm,o)}catch(f){}}getOrInitializeService(mm){let{instanceIdentifier:o,options:u={}}=mm,f=this.instances.get(o);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(B=o,B===O?void 0:B),options:u}),this.instances.set(o,f),this.instancesOptions.set(o,u),this.invokeOnInitCallbacks(f,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,f)}catch(r){}var B;return f||null}normalizeInstanceIdentifier(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.component?this.component.multipleInstances?mm:O:mm}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(mm){this.name=mm,this.providers=new Map}NK(mm){const o=this.getProvider(mm.name);if(o.isComponentSet())throw new Error(`Component ${mm.name} has already been registered with ${this.name}`);o.setComponent(mm)}addOrOverwriteComponent(mm){this.getProvider(mm.name).isComponentSet()&&this.providers.delete(mm.name),this.NK(mm)}getProvider(mm){if(this.providers.has(mm))return this.providers.get(mm);const o=new r(mm,this);return this.providers.set(mm,o),o}getProviders(){return Array.from(this.providers.values())}}},12528:(mm,o,u)=>{u.d(o,{b:()=>B,d:()=>K,h:()=>z,k:()=>Y});const f=[];var B;!function(mm){mm[mm.DEBUG=0]="DEBUG",mm[mm.VERBOSE=1]="VERBOSE",mm[mm.INFO=2]="INFO",mm[mm.WARN=3]="WARN",mm[mm.ERROR=4]="ERROR",mm[mm.SILENT=5]="SILENT"}(B||(B={}));const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},r=B.INFO,w={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},p=function(mm,o){if(o<mm.logLevel)return;const u=(new Date).toISOString(),f=w[o];if(!f)throw new Error(`Attempted to log a message with an invalid logType (value: ${o})`);for(var B=arguments.length,O=new Array(B>2?B-2:0),r=2;r<B;r++)O[r-2]=arguments[r];console[f](`[${u}]  ${mm.name}:`,...O)};class K{constructor(mm){this.name=mm,this._logLevel=r,this._logHandler=p,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(mm){if(!(mm in B))throw new TypeError(`Invalid value "${mm}" assigned to \`logLevel\``);this._logLevel=mm}setLogLevel(mm){this._logLevel="string"===typeof mm?O[mm]:mm}get logHandler(){return this._logHandler}set logHandler(mm){if("function"!==typeof mm)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=mm}get userLogHandler(){return this._userLogHandler}set userLogHandler(mm){this._userLogHandler=mm}debug(){for(var mm=arguments.length,o=new Array(mm),u=0;u<mm;u++)o[u]=arguments[u];this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...o),this._logHandler(this,B.DEBUG,...o)}log(){for(var mm=arguments.length,o=new Array(mm),u=0;u<mm;u++)o[u]=arguments[u];this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...o),this._logHandler(this,B.VERBOSE,...o)}info(){for(var mm=arguments.length,o=new Array(mm),u=0;u<mm;u++)o[u]=arguments[u];this._userLogHandler&&this._userLogHandler(this,B.INFO,...o),this._logHandler(this,B.INFO,...o)}warn(){for(var mm=arguments.length,o=new Array(mm),u=0;u<mm;u++)o[u]=arguments[u];this._userLogHandler&&this._userLogHandler(this,B.WARN,...o),this._logHandler(this,B.WARN,...o)}error(){for(var mm=arguments.length,o=new Array(mm),u=0;u<mm;u++)o[u]=arguments[u];this._userLogHandler&&this._userLogHandler(this,B.ERROR,...o),this._logHandler(this,B.ERROR,...o)}}function z(mm){f.forEach((o=>{o.setLogLevel(mm)}))}function Y(mm,o){for(const u of f){let f=null;o&&o.level&&(f=O[o.level]),u.userLogHandler=null===mm?null:function(o,u){for(var O=arguments.length,r=new Array(O>2?O-2:0),w=2;w<O;w++)r[w-2]=arguments[w];const p=r.map((mm=>{if(null==mm)return null;if("string"===typeof mm)return mm;if("number"===typeof mm||"boolean"===typeof mm)return mm.toString();if(mm instanceof Error)return mm.message;try{return JSON.stringify(mm)}catch(o){return null}})).filter((mm=>mm)).join(" ");u>=(null!==f&&void 0!==f?f:o.logLevel)&&mm({level:B[u].toLowerCase(),message:p,args:r,type:o.name})}}}}}]);