/*! For license information please see 02hlnj.5.09bea9ea.chunk.js.LICENSE.txt */
"use strict";(self["1xyrlsr8vb9"]=self["1xyrlsr8vb9"]||[]).push([[5],{12059:(I,O,C)=>{C.d(O,{A:()=>u,E:()=>Q,F:()=>N,G:()=>s,I:()=>g,K:()=>q,M:()=>E,O:()=>T,S:()=>r,T:()=>W,U:()=>mI,Y:()=>h,ab:()=>M,b:()=>Z,cb:()=>a,e:()=>n,gb:()=>Y,i:()=>c,m:()=>o,q:()=>S,r:()=>y,t:()=>w,x:()=>J,y:()=>H});const j=function(I){const O=[];let C=0;for(let j=0;j<I.length;j++){let K=I.charCodeAt(j);K<128?O[C++]=K:K<2048?(O[C++]=K>>6|192,O[C++]=63&K|128):55296===(64512&K)&&j+1<I.length&&56320===(64512&I.charCodeAt(j+1))?(K=65536+((1023&K)<<10)+(1023&I.charCodeAt(++j)),O[C++]=K>>18|240,O[C++]=K>>12&63|128,O[C++]=K>>6&63|128,O[C++]=63&K|128):(O[C++]=K>>12|224,O[C++]=K>>6&63|128,O[C++]=63&K|128)}return O},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(I,O){if(!Array.isArray(I))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let K=0;K<I.length;K+=3){const O=I[K],i=K+1<I.length,y=i?I[K+1]:0,S=K+2<I.length,U=S?I[K+2]:0,p=O>>2,N=(3&O)<<4|y>>4;let Q=(15&y)<<2|U>>6,s=63&U;S||(s=64,i||(Q=64)),j.push(C[p],C[N],C[Q],C[s])}return j.join("")},encodeString(I,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(I):this.encodeByteArray(j(I),O)},decodeString(I,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(I):function(I){const O=[];let C=0,j=0;for(;C<I.length;){const K=I[C++];if(K<128)O[j++]=String.fromCharCode(K);else if(K>191&&K<224){const i=I[C++];O[j++]=String.fromCharCode((31&K)<<6|63&i)}else if(K>239&&K<365){const i=((7&K)<<18|(63&I[C++])<<12|(63&I[C++])<<6|63&I[C++])-65536;O[j++]=String.fromCharCode(55296+(i>>10)),O[j++]=String.fromCharCode(56320+(1023&i))}else{const i=I[C++],y=I[C++];O[j++]=String.fromCharCode((15&K)<<12|(63&i)<<6|63&y)}}return O.join("")}(this.decodeStringToByteArray(I,O))},decodeStringToByteArray(I,O){this.init_();const C=O?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let K=0;K<I.length;){const O=C[I.charAt(K++)],y=K<I.length?C[I.charAt(K)]:0;++K;const S=K<I.length?C[I.charAt(K)]:64;++K;const U=K<I.length?C[I.charAt(K)]:64;if(++K,null==O||null==y||null==S||null==U)throw new i;const p=O<<2|y>>4;if(j.push(p),64!==S){const I=y<<4&240|S>>2;if(j.push(I),64!==U){const I=S<<6&192|U;j.push(I)}}}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let I=0;I<this.ENCODED_VALS.length;I++)this.byteToCharMap_[I]=this.ENCODED_VALS.charAt(I),this.charToByteMap_[this.byteToCharMap_[I]]=I,this.byteToCharMapWebSafe_[I]=this.ENCODED_VALS_WEBSAFE.charAt(I),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[I]]=I,I>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(I)]=I,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(I)]=I)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(I){return function(I){const O=j(I);return K.encodeByteArray(O,!0)}(I).replace(/\./g,"")},S=function(I){try{return K.decodeString(I,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const U=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,p=()=>{try{return U()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let I;try{I=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const O=I&&S(I[1]);return O&&JSON.parse(O)})()}catch(I){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${I}`)}},N=I=>{var O,C;return null===(C=null===(O=p())||void 0===O?void 0:O.emulatorHosts)||void 0===C?void 0:C[I]},Q=()=>{var I;return null===(I=p())||void 0===I?void 0:I.config},s=I=>{var O;return null===(O=p())||void 0===O?void 0:O[`_${I}`]};class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((I,O)=>{this.resolve=I,this.reject=O}))}wrapCallback(I){return(O,C)=>{O?this.reject(O):this.resolve(C),"function"===typeof I&&(this.promise.catch((()=>{})),1===I.length?I(O):I(O,C))}}}function q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mI(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function E(){const I="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof I&&void 0!==I.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function r(){const I=q();return I.indexOf("MSIE ")>=0||I.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(I){return!1}}function Y(){return new Promise(((I,O)=>{try{let C=!0;const j="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(j);K.onsuccess=()=>{K.result.close(),C||self.indexedDB.deleteDatabase(j),I(!0)},K.onupgradeneeded=()=>{C=!1},K.onerror=()=>{var I;O((null===(I=K.error)||void 0===I?void 0:I.message)||"")}}catch(C){O(C)}}))}function o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class c extends Error{constructor(I,O,C){super(O),this.code=I,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n.prototype.create)}}class n{constructor(I,O,C){this.service=I,this.serviceName=O,this.errors=C}create(I){const O=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${I}`,j=this.errors[I],K=j?function(I,O){return I.replace(X,((I,C)=>{const j=O[C];return null!=j?String(j):`<${C}?>`}))}(j,O):"Error",i=`${this.serviceName}: ${K} (${C}).`;return new c(C,i,O)}}const X=/\{\$([^}]+)}/g;function T(I){for(const O in I)if(Object.prototype.hasOwnProperty.call(I,O))return!1;return!0}function H(I,O){if(I===O)return!0;const C=Object.keys(I),j=Object.keys(O);for(const K of C){if(!j.includes(K))return!1;const C=I[K],i=O[K];if(b(C)&&b(i)){if(!H(C,i))return!1}else if(C!==i)return!1}for(const K of j)if(!C.includes(K))return!1;return!0}function b(I){return null!==I&&"object"===typeof I}function a(I){const O=[];for(const[C,j]of Object.entries(I))Array.isArray(j)?j.forEach((I=>{O.push(encodeURIComponent(C)+"="+encodeURIComponent(I))})):O.push(encodeURIComponent(C)+"="+encodeURIComponent(j));return O.length?"&"+O.join("&"):""}function M(I){const O={};return I.replace(/^\?/,"").split("&").forEach((I=>{if(I){const[C,j]=I.split("=");O[decodeURIComponent(C)]=decodeURIComponent(j)}})),O}function u(I){const O=I.indexOf("?");if(!O)return"";const C=I.indexOf("#",O);return I.substring(O,C>0?C:void 0)}function J(I,O){const C=new f(I,O);return C.subscribe.bind(C)}class f{constructor(I,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{I(this)})).catch((I=>{this.error(I)}))}next(I){this.forEachObserver((O=>{O.next(I)}))}error(I){this.forEachObserver((O=>{O.error(I)})),this.close(I)}complete(){this.forEachObserver((I=>{I.complete()})),this.close()}subscribe(I,O,C){let j;if(void 0===I&&void 0===O&&void 0===C)throw new Error("Missing Observer.");j=function(I,O){if("object"!==typeof I||null===I)return!1;for(const C of O)if(C in I&&"function"===typeof I[C])return!0;return!1}(I,["next","error","complete"])?I:{next:I,error:O,complete:C},void 0===j.next&&(j.next=l),void 0===j.error&&(j.error=l),void 0===j.complete&&(j.complete=l);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(I){}})),this.observers.push(j),K}unsubscribeOne(I){void 0!==this.observers&&void 0!==this.observers[I]&&(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(I){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,I)}sendOne(I,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[I])try{O(this.observers[I])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(I){this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const x=1e3,D=2,t=144e5,d=.5;function w(I){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:x)*Math.pow(O,I),j=Math.round(d*C*(Math.random()-.5)*2);return Math.min(t,C+j)}function g(I){return I&&I._delegate?I._delegate:I}},12045:(I,O,C)=>{C.d(O,{b:()=>i.i,c:()=>QI,e:()=>R,g:()=>CI,h:()=>jI,i:()=>II,l:()=>SI,p:()=>OI,q:()=>iI,t:()=>KI,w:()=>yI,z:()=>mO,C:()=>ZI,B:()=>qI,E:()=>sI,F:()=>hI,I:()=>EI,K:()=>rI});var j=C(12054),K=C(12064),i=C(12059);let y,S;const U=new WeakMap,p=new WeakMap,N=new WeakMap,Q=new WeakMap,s=new WeakMap;let Z={get(I,O,C){if(I instanceof IDBTransaction){if("done"===O)return p.get(I);if("objectStoreNames"===O)return I.objectStoreNames||N.get(I);if("store"===O)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return E(I[O])},set:(I,O,C)=>(I[O]=C,!0),has:(I,O)=>I instanceof IDBTransaction&&("done"===O||"store"===O)||O in I};function q(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(I)?function(){for(var O=arguments.length,C=new Array(O),j=0;j<O;j++)C[j]=arguments[j];return I.apply(h(this),C),E(U.get(this))}:function(){for(var O=arguments.length,C=new Array(O),j=0;j<O;j++)C[j]=arguments[j];return E(I.apply(h(this),C))}:function(O){for(var C=arguments.length,j=new Array(C>1?C-1:0),K=1;K<C;K++)j[K-1]=arguments[K];const i=I.call(h(this),O,...j);return N.set(i,O.sort?O.sort():[O]),E(i)}}function mI(I){return"function"===typeof I?q(I):(I instanceof IDBTransaction&&function(I){if(p.has(I))return;const O=new Promise(((O,C)=>{const j=()=>{I.removeEventListener("complete",K),I.removeEventListener("error",i),I.removeEventListener("abort",i)},K=()=>{O(),j()},i=()=>{C(I.error||new DOMException("AbortError","AbortError")),j()};I.addEventListener("complete",K),I.addEventListener("error",i),I.addEventListener("abort",i)}));p.set(I,O)}(I),O=I,(y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((I=>O instanceof I))?new Proxy(I,Z):I);var O}function E(I){if(I instanceof IDBRequest)return function(I){const O=new Promise(((O,C)=>{const j=()=>{I.removeEventListener("success",K),I.removeEventListener("error",i)},K=()=>{O(E(I.result)),j()},i=()=>{C(I.error),j()};I.addEventListener("success",K),I.addEventListener("error",i)}));return O.then((O=>{O instanceof IDBCursor&&U.set(O,I)})).catch((()=>{})),s.set(O,I),O}(I);if(Q.has(I))return Q.get(I);const O=mI(I);return O!==I&&(Q.set(I,O),s.set(O,I)),O}const h=I=>s.get(I);const r=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],Y=new Map;function o(I,O){if(!(I instanceof IDBDatabase)||O in I||"string"!==typeof O)return;if(Y.get(O))return Y.get(O);const C=O.replace(/FromIndex$/,""),j=O!==C,K=W.includes(C);if(!(C in(j?IDBIndex:IDBObjectStore).prototype)||!K&&!r.includes(C))return;const i=async function(I){const O=this.transaction(I,K?"readwrite":"readonly");let i=O.store;for(var y=arguments.length,S=new Array(y>1?y-1:0),U=1;U<y;U++)S[U-1]=arguments[U];return j&&(i=i.index(S.shift())),(await Promise.all([i[C](...S),K&&O.done]))[0]};return Y.set(O,i),i}Z=(I=>({...I,get:(O,C,j)=>o(O,C)||I.get(O,C,j),has:(O,C)=>!!o(O,C)||I.has(O,C)}))(Z);class c{constructor(I){this.container=I}getPlatformInfoString(){return this.container.getProviders().map((I=>{if(function(I){const O=I.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(I)){const O=I.getImmediate();return`${O.library}/${O.version}`}return null})).filter((I=>I)).join(" ")}}const n="@firebase/app",X="0.9.13",T=new K.e("@firebase/app"),H="@firebase/app-compat",b="@firebase/analytics-compat",a="@firebase/analytics",M="@firebase/app-check-compat",u="@firebase/app-check",J="@firebase/auth",f="@firebase/auth-compat",l="@firebase/database",x="@firebase/database-compat",D="@firebase/functions",t="@firebase/functions-compat",d="@firebase/installations",w="@firebase/installations-compat",g="@firebase/messaging",V="@firebase/messaging-compat",e="@firebase/performance",L="@firebase/performance-compat",z="@firebase/remote-config",k="@firebase/remote-config-compat",A="@firebase/storage",P="@firebase/storage-compat",v="@firebase/firestore",B="@firebase/firestore-compat",F="firebase",R="[DEFAULT]",G={[n]:"fire-core",[H]:"fire-core-compat",[a]:"fire-analytics",[b]:"fire-analytics-compat",[u]:"fire-app-check",[M]:"fire-app-check-compat",[J]:"fire-auth",[f]:"fire-auth-compat",[l]:"fire-rtdb",[x]:"fire-rtdb-compat",[D]:"fire-fn",[t]:"fire-fn-compat",[d]:"fire-iid",[w]:"fire-iid-compat",[g]:"fire-fcm",[V]:"fire-fcm-compat",[e]:"fire-perf",[L]:"fire-perf-compat",[z]:"fire-rc",[k]:"fire-rc-compat",[A]:"fire-gcs",[P]:"fire-gcs-compat",[v]:"fire-fst",[B]:"fire-fst-compat","fire-js":"fire-js",[F]:"fire-js-all"},II=new Map,OI=new Map;function CI(I,O){try{I.container.dU(O)}catch(C){T.debug(`Component ${O.name} failed to register with FirebaseApp ${I.name}`,C)}}function jI(I,O){I.container.addOrOverwriteComponent(O)}function KI(I){const O=I.name;if(OI.has(O))return T.debug(`There were multiple attempts to register component ${O}.`),!1;OI.set(O,I);for(const C of II.values())CI(C,I);return!0}function iI(I,O){const C=I.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),I.container.getProvider(O)}function yI(I,O){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;iI(I,O).clearInstance(C)}function SI(){OI.clear()}const UI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pI=new i.e("app","Firebase",UI);class NI{constructor(I,O,C){this._isDeleted=!1,this._options=Object.assign({},I),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=C,this.container.dU(new j.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this.checkDestroyed(),this._automaticDataCollectionEnabled=I}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(I){this._isDeleted=I}checkDestroyed(){if(this.isDeleted)throw pI.create("app-deleted",{appName:this._name})}}const QI="9.23.0";function sI(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=I;if("object"!==typeof O){O={name:O}}const K=Object.assign({name:R,automaticDataCollectionEnabled:!1},O),y=K.name;if("string"!==typeof y||!y)throw pI.create("bad-app-name",{appName:String(y)});if(C||(C=(0,i.E)()),!C)throw pI.create("no-options");const S=II.get(y);if(S){if((0,i.y)(C,S.options)&&(0,i.y)(K,S.config))return S;throw pI.create("duplicate-app",{appName:y})}const U=new j.d(y);for(const j of OI.values())U.dU(j);const p=new NI(C,K,U);return II.set(y,p),p}function ZI(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;const O=II.get(I);if(!O&&I===R&&(0,i.E)())return sI();if(!O)throw pI.create("no-app",{appName:I});return O}function qI(){return Array.from(II.values())}async function mO(I){const O=I.name;II.has(O)&&(II.delete(O),await Promise.all(I.container.getProviders().map((I=>I.delete()))),I.isDeleted=!0)}function EI(I,O,C){var K;let i=null!==(K=G[I])&&void 0!==K?K:I;C&&(i+=`-${C}`);const y=i.match(/\s|\//),S=O.match(/\s|\//);if(y||S){const I=[`Unable to register library "${i}" with version "${O}":`];return y&&I.push(`library name "${i}" contains illegal characters (whitespace or "/")`),y&&S&&I.push("and"),S&&I.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void T.warn(I.join(" "))}KI(new j.h(`${i}-version`,(()=>({library:i,version:O})),"VERSION"))}function hI(I,O){if(null!==I&&"function"!==typeof I)throw pI.create("invalid-log-argument");(0,K.g)(I,O)}function rI(I){(0,K.f)(I)}const WI="firebase-heartbeat-store";let YI=null;function oI(){return YI||(YI=function(I,O){let{blocked:C,upgrade:j,blocking:K,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const y=indexedDB.open(I,O),S=E(y);return j&&y.addEventListener("upgradeneeded",(I=>{j(E(y.result),I.oldVersion,I.newVersion,E(y.transaction),I)})),C&&y.addEventListener("blocked",(I=>C(I.oldVersion,I.newVersion,I))),S.then((I=>{i&&I.addEventListener("close",(()=>i())),K&&I.addEventListener("versionchange",(I=>K(I.oldVersion,I.newVersion,I)))})).catch((()=>{})),S}("firebase-heartbeat-database",1,{upgrade:(I,O)=>{if(0===O)I.createObjectStore(WI)}}).catch((I=>{throw pI.create("idb-open",{originalErrorMessage:I.message})}))),YI}async function cI(I,O){try{const C=(await oI()).transaction(WI,"readwrite"),j=C.objectStore(WI);await j.put(O,nI(I)),await C.done}catch(C){if(C instanceof i.i)T.warn(C.message);else{const I=pI.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});T.warn(I.message)}}}function nI(I){return`${I.name}!${I.options.appId}`}class XI{constructor(I){this.container=I,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.ZQ=new HI(O),this._heartbeatsCachePromise=this.ZQ.read().then((I=>(this._heartbeatsCache=I,I)))}async triggerHeartbeat(){const I=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=TI();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((I=>I.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:I}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((I=>{const O=new Date(I.date).valueOf();return Date.now()-O<=2592e6})),this.ZQ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const I=TI(),{heartbeatsToSend:O,unsentEntries:C}=function(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let j=I.slice();for(const K of I){const I=C.find((I=>I.agent===K.agent));if(I){if(I.dates.push(K.date),bI(C)>O){I.dates.pop();break}}else if(C.push({agent:K.agent,dates:[K.date]}),bI(C)>O){C.pop();break}j=j.slice(1)}return{heartbeatsToSend:C,unsentEntries:j}}(this._heartbeatsCache.heartbeats),j=(0,i.r)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=I,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.ZQ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ZQ.overwrite(this._heartbeatsCache)),j}}function TI(){return(new Date).toISOString().substring(0,10)}class HI{constructor(I){this.app=I,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.T)()&&(0,i.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(I){try{const O=await oI();return await O.transaction(WI).objectStore(WI).get(nI(I))}catch(O){if(O instanceof i.i)T.warn(O.message);else{const I=pI.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});T.warn(I.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(I){var O;if(await this._canUseIndexedDBPromise){const C=await this.read();return cI(this.app,{lastSentHeartbeatDate:null!==(O=I.lastSentHeartbeatDate)&&void 0!==O?O:C.lastSentHeartbeatDate,heartbeats:I.heartbeats})}}async add(I){var O;if(await this._canUseIndexedDBPromise){const C=await this.read();return cI(this.app,{lastSentHeartbeatDate:null!==(O=I.lastSentHeartbeatDate)&&void 0!==O?O:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...I.heartbeats]})}}}function bI(I){return(0,i.r)(JSON.stringify({version:2,heartbeats:I})).length}var aI;aI="",KI(new j.h("platform-logger",(I=>new c(I)),"PRIVATE")),KI(new j.h("heartbeat",(I=>new XI(I)),"PRIVATE")),EI(n,X,aI),EI(n,X,"esm2017"),EI("fire-js","")},12054:(I,O,C)=>{C.d(O,{d:()=>S,h:()=>K});var j=C(12059);class K{constructor(I,O,C){this.name=I,this.instanceFactory=O,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(I){return this.instantiationMode=I,this}setMultipleInstances(I){return this.multipleInstances=I,this}setServiceProps(I){return this.serviceProps=I,this}setInstanceCreatedCallback(I){return this.onInstanceCreated=I,this}}const i="[DEFAULT]";class y{constructor(I,O){this.name=I,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(I){const O=this.normalizeInstanceIdentifier(I);if(!this.instancesDeferred.has(O)){const I=new j.b;if(this.instancesDeferred.set(O,I),this.isInitialized(O)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:O});C&&I.resolve(C)}catch(C){}}return this.instancesDeferred.get(O).promise}getImmediate(I){var O;const C=this.normalizeInstanceIdentifier(null===I||void 0===I?void 0:I.identifier),j=null!==(O=null===I||void 0===I?void 0:I.optional)&&void 0!==O&&O;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(K){if(j)return null;throw K}}getComponent(){return this.component}setComponent(I){if(I.name!==this.name)throw Error(`Mismatching Component ${I.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=I,this.shouldAutoInitialize()){if(function(I){return"EAGER"===I.instantiationMode}(I))try{this.getOrInitializeService({instanceIdentifier:i})}catch(O){}for(const[I,C]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(I);try{const I=this.getOrInitializeService({instanceIdentifier:j});C.resolve(I)}catch(O){}}}}clearInstance(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(I),this.instancesOptions.delete(I),this.instances.delete(I)}async delete(){const I=Array.from(this.instances.values());await Promise.all([...I.filter((I=>"INTERNAL"in I)).map((I=>I.INTERNAL.delete())),...I.filter((I=>"_delete"in I)).map((I=>I._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(I)}getOptions(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(I)||{}}initialize(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=I,C=this.normalizeInstanceIdentifier(I.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:C,options:O});for(const[K,i]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(K)&&i.resolve(j)}return j}kN(I,O){var C;const j=this.normalizeInstanceIdentifier(O),K=null!==(C=this.onInitCallbacks.get(j))&&void 0!==C?C:new Set;K.add(I),this.onInitCallbacks.set(j,K);const i=this.instances.get(j);return i&&I(i,j),()=>{K.delete(I)}}invokeOnInitCallbacks(I,O){const C=this.onInitCallbacks.get(O);if(C)for(const K of C)try{K(I,O)}catch(j){}}getOrInitializeService(I){let{instanceIdentifier:O,options:C={}}=I,j=this.instances.get(O);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(K=O,K===i?void 0:K),options:C}),this.instances.set(O,j),this.instancesOptions.set(O,C),this.invokeOnInitCallbacks(j,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,j)}catch(y){}var K;return j||null}normalizeInstanceIdentifier(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?I:i:I}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S{constructor(I){this.name=I,this.providers=new Map}dU(I){const O=this.getProvider(I.name);if(O.isComponentSet())throw new Error(`Component ${I.name} has already been registered with ${this.name}`);O.setComponent(I)}addOrOverwriteComponent(I){this.getProvider(I.name).isComponentSet()&&this.providers.delete(I.name),this.dU(I)}getProvider(I){if(this.providers.has(I))return this.providers.get(I);const O=new y(I,this);return this.providers.set(I,O),O}getProviders(){return Array.from(this.providers.values())}}},12064:(I,O,C)=>{C.d(O,{d:()=>K,e:()=>p,f:()=>N,g:()=>Q});const j=[];var K;!function(I){I[I.DEBUG=0]="DEBUG",I[I.VERBOSE=1]="VERBOSE",I[I.INFO=2]="INFO",I[I.WARN=3]="WARN",I[I.ERROR=4]="ERROR",I[I.SILENT=5]="SILENT"}(K||(K={}));const i={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},y=K.INFO,S={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},U=function(I,O){if(O<I.logLevel)return;const C=(new Date).toISOString(),j=S[O];if(!j)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var K=arguments.length,i=new Array(K>2?K-2:0),y=2;y<K;y++)i[y-2]=arguments[y];console[j](`[${C}]  ${I.name}:`,...i)};class p{constructor(I){this.name=I,this._logLevel=y,this._logHandler=U,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in K))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"===typeof I?i[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!==typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(){for(var I=arguments.length,O=new Array(I),C=0;C<I;C++)O[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...O),this._logHandler(this,K.DEBUG,...O)}log(){for(var I=arguments.length,O=new Array(I),C=0;C<I;C++)O[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...O),this._logHandler(this,K.VERBOSE,...O)}info(){for(var I=arguments.length,O=new Array(I),C=0;C<I;C++)O[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.INFO,...O),this._logHandler(this,K.INFO,...O)}warn(){for(var I=arguments.length,O=new Array(I),C=0;C<I;C++)O[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.WARN,...O),this._logHandler(this,K.WARN,...O)}error(){for(var I=arguments.length,O=new Array(I),C=0;C<I;C++)O[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.ERROR,...O),this._logHandler(this,K.ERROR,...O)}}function N(I){j.forEach((O=>{O.setLogLevel(I)}))}function Q(I,O){for(const C of j){let j=null;O&&O.level&&(j=i[O.level]),C.userLogHandler=null===I?null:function(O,C){for(var i=arguments.length,y=new Array(i>2?i-2:0),S=2;S<i;S++)y[S-2]=arguments[S];const U=y.map((I=>{if(null==I)return null;if("string"===typeof I)return I;if("number"===typeof I||"boolean"===typeof I)return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch(O){return null}})).filter((I=>I)).join(" ");C>=(null!==j&&void 0!==j?j:O.logLevel)&&I({level:K[C].toLowerCase(),message:U,args:y,type:O.name})}}}}}]);