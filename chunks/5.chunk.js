/*! For license information please see cey7y9.5.67081c29.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10561:(H,p,V)=>{V.d(p,{B:()=>P,F:()=>J,H:()=>o,I:()=>N,M:()=>Y,N:()=>X,R:()=>M,T:()=>q,V:()=>Z,Z:()=>y,_:()=>e,cb:()=>i,d:()=>l,db:()=>j,g:()=>L,k:()=>R,m:()=>a,o:()=>w,q:()=>z,u:()=>g,w:()=>f,x:()=>x,y:()=>m,z:()=>U});const c=function(H){const p=[];let V=0;for(let c=0;c<H.length;c++){let C=H.charCodeAt(c);C<128?p[V++]=C:C<2048?(p[V++]=C>>6|192,p[V++]=63&C|128):55296===(64512&C)&&c+1<H.length&&56320===(64512&H.charCodeAt(c+1))?(C=65536+((1023&C)<<10)+(1023&H.charCodeAt(++c)),p[V++]=C>>18|240,p[V++]=C>>12&63|128,p[V++]=C>>6&63|128,p[V++]=63&C|128):(p[V++]=C>>12|224,p[V++]=C>>6&63|128,p[V++]=63&C|128)}return p},C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(H,p){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=p?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let C=0;C<H.length;C+=3){const p=H[C],E=C+1<H.length,z=E?H[C+1]:0,w=C+2<H.length,t=w?H[C+2]:0,Q=p>>2,P=(3&p)<<4|z>>4;let U=(15&z)<<2|t>>6,J=63&t;w||(J=64,E||(U=64)),c.push(V[Q],V[P],V[U],V[J])}return c.join("")},encodeString(H,p){return this.HAS_NATIVE_SUPPORT&&!p?btoa(H):this.encodeByteArray(c(H),p)},decodeString(H,p){return this.HAS_NATIVE_SUPPORT&&!p?atob(H):function(H){const p=[];let V=0,c=0;for(;V<H.length;){const C=H[V++];if(C<128)p[c++]=String.fromCharCode(C);else if(C>191&&C<224){const E=H[V++];p[c++]=String.fromCharCode((31&C)<<6|63&E)}else if(C>239&&C<365){const E=((7&C)<<18|(63&H[V++])<<12|(63&H[V++])<<6|63&H[V++])-65536;p[c++]=String.fromCharCode(55296+(E>>10)),p[c++]=String.fromCharCode(56320+(1023&E))}else{const E=H[V++],z=H[V++];p[c++]=String.fromCharCode((15&C)<<12|(63&E)<<6|63&z)}}return p.join("")}(this.decodeStringToByteArray(H,p))},decodeStringToByteArray(H,p){this.init_();const V=p?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let C=0;C<H.length;){const p=V[H.charAt(C++)],z=C<H.length?V[H.charAt(C)]:0;++C;const w=C<H.length?V[H.charAt(C)]:64;++C;const t=C<H.length?V[H.charAt(C)]:64;if(++C,null==p||null==z||null==w||null==t)throw new E;const Q=p<<2|z>>4;if(c.push(Q),64!==w){const H=z<<4&240|w>>2;if(c.push(H),64!==t){const H=w<<6&192|t;c.push(H)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z=function(H){return function(H){const p=c(H);return C.encodeByteArray(p,!0)}(H).replace(/\./g,"")},w=function(H){try{return C.decodeString(H,!0)}catch(p){console.error("base64Decode failed: ",p)}return null};const t=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof V.g)return V.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Q=()=>{try{return t()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(V){return}const p=H&&w(H[1]);return p&&JSON.parse(p)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},P=H=>{var p,V;return null===(V=null===(p=Q())||void 0===p?void 0:p.emulatorHosts)||void 0===V?void 0:V[H]},U=()=>{var H;return null===(H=Q())||void 0===H?void 0:H.config},J=H=>{var p;return null===(p=Q())||void 0===p?void 0:p[`_${H}`]};class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((H,p)=>{this.resolve=H,this.reject=p}))}wrapCallback(H){return(p,V)=>{p?this.reject(p):this.resolve(V),"function"===typeof H&&(this.promise.catch((()=>{})),1===H.length?H(p):H(p,V))}}}function N(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())}function Y(){const H="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof H&&void 0!==H.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const H=N();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(H){return!1}}function j(){return new Promise(((H,p)=>{try{let V=!0;const c="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(c);C.onsuccess=()=>{C.result.close(),V||self.indexedDB.deleteDatabase(c),H(!0)},C.onupgradeneeded=()=>{V=!1},C.onerror=()=>{var H;p((null===(H=C.error)||void 0===H?void 0:H.message)||"")}}catch(V){p(V)}}))}function a(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class R extends Error{constructor(H,p,V){super(p),this.code=H,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(H,p,V){this.service=H,this.serviceName=p,this.errors=V}create(H){const p=(arguments.length<=1?void 0:arguments[1])||{},V=`${this.service}/${H}`,c=this.errors[H],C=c?function(H,p){return H.replace(T,((H,V)=>{const c=p[V];return null!=c?String(c):`<${V}?>`}))}(c,p):"Error",E=`${this.serviceName}: ${C} (${V}).`;return new R(V,E,p)}}const T=/\{\$([^}]+)}/g;function X(H){for(const p in H)if(Object.prototype.hasOwnProperty.call(H,p))return!1;return!0}function x(H,p){if(H===p)return!0;const V=Object.keys(H),c=Object.keys(p);for(const C of V){if(!c.includes(C))return!1;const V=H[C],E=p[C];if(K(V)&&K(E)){if(!x(V,E))return!1}else if(V!==E)return!1}for(const C of c)if(!V.includes(C))return!1;return!0}function K(H){return null!==H&&"object"===typeof H}function i(H){const p=[];for(const[V,c]of Object.entries(H))Array.isArray(c)?c.forEach((H=>{p.push(encodeURIComponent(V)+"="+encodeURIComponent(H))})):p.push(encodeURIComponent(V)+"="+encodeURIComponent(c));return p.length?"&"+p.join("&"):""}function e(H){const p={};return H.replace(/^\?/,"").split("&").forEach((H=>{if(H){const[V,c]=H.split("=");p[decodeURIComponent(V)]=decodeURIComponent(c)}})),p}function m(H){const p=H.indexOf("?");if(!p)return"";const V=H.indexOf("#",p);return H.substring(p,V>0?V:void 0)}function f(H,p){const V=new u(H,p);return V.subscribe.bind(V)}class u{constructor(H,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then((()=>{H(this)})).catch((H=>{this.error(H)}))}next(H){this.forEachObserver((p=>{p.next(H)}))}error(H){this.forEachObserver((p=>{p.error(H)})),this.close(H)}complete(){this.forEachObserver((H=>{H.complete()})),this.close()}subscribe(H,p,V){let c;if(void 0===H&&void 0===p&&void 0===V)throw new Error("Missing Observer.");c=function(H,p){if("object"!==typeof H||null===H)return!1;for(const V of p)if(V in H&&"function"===typeof H[V])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:p,complete:V},void 0===c.next&&(c.next=A),void 0===c.error&&(c.error=A),void 0===c.complete&&(c.complete=A);const C=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch(H){}})),this.observers.push(c),C}unsubscribeOne(H){void 0!==this.observers&&void 0!==this.observers[H]&&(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,H)}sendOne(H,p){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{p(this.observers[H])}catch(V){"undefined"!==typeof console&&console.error&&console.error(V)}}))}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}const h=1e3,s=2,I=144e5,G=.5;function g(H){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const V=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(p,H),c=Math.round(G*V*(Math.random()-.5)*2);return Math.min(I,V+c)}function o(H){return H&&H._delegate?H._delegate:H}},10550:(H,p,V)=>{V.d(p,{c:()=>E.k,e:()=>UH,h:()=>r,l:()=>VH,n:()=>cH,o:()=>HH,p:()=>wH,q:()=>pH,t:()=>EH,v:()=>CH,w:()=>zH,z:()=>ZH,C:()=>lH,A:()=>NH,G:()=>JH,H:()=>yH,L:()=>YH,N:()=>MH});var c=V(10553),C=V(10565),E=V(10561);let z,w;const t=new WeakMap,Q=new WeakMap,P=new WeakMap,U=new WeakMap,J=new WeakMap;let l={get(H,p,V){if(H instanceof IDBTransaction){if("done"===p)return Q.get(H);if("objectStoreNames"===p)return H.objectStoreNames||P.get(H);if("store"===p)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return Y(H[p])},set:(H,p,V)=>(H[p]=V,!0),has:(H,p)=>H instanceof IDBTransaction&&("done"===p||"store"===p)||p in H};function N(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(H)?function(){for(var p=arguments.length,V=new Array(p),c=0;c<p;c++)V[c]=arguments[c];return H.apply(y(this),V),Y(t.get(this))}:function(){for(var p=arguments.length,V=new Array(p),c=0;c<p;c++)V[c]=arguments[c];return Y(H.apply(y(this),V))}:function(p){for(var V=arguments.length,c=new Array(V>1?V-1:0),C=1;C<V;C++)c[C-1]=arguments[C];const E=H.call(y(this),p,...c);return P.set(E,p.sort?p.sort():[p]),Y(E)}}function Z(H){return"function"===typeof H?N(H):(H instanceof IDBTransaction&&function(H){if(Q.has(H))return;const p=new Promise(((p,V)=>{const c=()=>{H.removeEventListener("complete",C),H.removeEventListener("error",E),H.removeEventListener("abort",E)},C=()=>{p(),c()},E=()=>{V(H.error||new DOMException("AbortError","AbortError")),c()};H.addEventListener("complete",C),H.addEventListener("error",E),H.addEventListener("abort",E)}));Q.set(H,p)}(H),p=H,(z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((H=>p instanceof H))?new Proxy(H,l):H);var p}function Y(H){if(H instanceof IDBRequest)return function(H){const p=new Promise(((p,V)=>{const c=()=>{H.removeEventListener("success",C),H.removeEventListener("error",E)},C=()=>{p(Y(H.result)),c()},E=()=>{V(H.error),c()};H.addEventListener("success",C),H.addEventListener("error",E)}));return p.then((p=>{p instanceof IDBCursor&&t.set(p,H)})).catch((()=>{})),J.set(p,H),p}(H);if(U.has(H))return U.get(H);const p=Z(H);return p!==H&&(U.set(H,p),J.set(p,H)),p}const y=H=>J.get(H);const M=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],j=new Map;function a(H,p){if(!(H instanceof IDBDatabase)||p in H||"string"!==typeof p)return;if(j.get(p))return j.get(p);const V=p.replace(/FromIndex$/,""),c=p!==V,C=q.includes(V);if(!(V in(c?IDBIndex:IDBObjectStore).prototype)||!C&&!M.includes(V))return;const E=async function(H){const p=this.transaction(H,C?"readwrite":"readonly");let E=p.store;for(var z=arguments.length,w=new Array(z>1?z-1:0),t=1;t<z;t++)w[t-1]=arguments[t];return c&&(E=E.index(w.shift())),(await Promise.all([E[V](...w),C&&p.done]))[0]};return j.set(p,E),E}l=(H=>({...H,get:(p,V,c)=>a(p,V)||H.get(p,V,c),has:(p,V)=>!!a(p,V)||H.has(p,V)}))(l);class R{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map((H=>{if(function(H){const p=H.getComponent();return"VERSION"===(null===p||void 0===p?void 0:p.type)}(H)){const p=H.getImmediate();return`${p.library}/${p.version}`}return null})).filter((H=>H)).join(" ")}}const L="@firebase/app",T="0.9.13",X=new C.i("@firebase/app"),x="@firebase/app-compat",K="@firebase/analytics-compat",i="@firebase/analytics",e="@firebase/app-check-compat",m="@firebase/app-check",f="@firebase/auth",u="@firebase/auth-compat",A="@firebase/database",h="@firebase/database-compat",s="@firebase/functions",I="@firebase/functions-compat",G="@firebase/installations",g="@firebase/installations-compat",o="@firebase/messaging",F="@firebase/messaging-compat",W="@firebase/performance",D="@firebase/performance-compat",b="@firebase/remote-config",v="@firebase/remote-config-compat",k="@firebase/storage",O="@firebase/storage-compat",d="@firebase/firestore",B="@firebase/firestore-compat",n="firebase",r="[DEFAULT]",S={[L]:"fire-core",[x]:"fire-core-compat",[i]:"fire-analytics",[K]:"fire-analytics-compat",[m]:"fire-app-check",[e]:"fire-app-check-compat",[f]:"fire-auth",[u]:"fire-auth-compat",[A]:"fire-rtdb",[h]:"fire-rtdb-compat",[s]:"fire-fn",[I]:"fire-fn-compat",[G]:"fire-iid",[g]:"fire-iid-compat",[o]:"fire-fcm",[F]:"fire-fcm-compat",[W]:"fire-perf",[D]:"fire-perf-compat",[b]:"fire-rc",[v]:"fire-rc-compat",[k]:"fire-gcs",[O]:"fire-gcs-compat",[d]:"fire-fst",[B]:"fire-fst-compat","fire-js":"fire-js",[n]:"fire-js-all"},HH=new Map,pH=new Map;function VH(H,p){try{H.container.qf(p)}catch(V){X.debug(`Component ${p.name} failed to register with FirebaseApp ${H.name}`,V)}}function cH(H,p){H.container.addOrOverwriteComponent(p)}function CH(H){const p=H.name;if(pH.has(p))return X.debug(`There were multiple attempts to register component ${p}.`),!1;pH.set(p,H);for(const V of HH.values())VH(V,H);return!0}function EH(H,p){const V=H.container.getProvider("heartbeat").getImmediate({optional:!0});return V&&V.triggerHeartbeat(),H.container.getProvider(p)}function zH(H,p){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;EH(H,p).clearInstance(V)}function wH(){pH.clear()}const tH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},QH=new E.g("app","Firebase",tH);class PH{constructor(H,p,V){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=V,this.container.qf(new c.i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw QH.create("app-deleted",{appName:this._name})}}const UH="9.23.0";function JH(H){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=H;if("object"!==typeof p){p={name:p}}const C=Object.assign({name:r,automaticDataCollectionEnabled:!1},p),z=C.name;if("string"!==typeof z||!z)throw QH.create("bad-app-name",{appName:String(z)});if(V||(V=(0,E.z)()),!V)throw QH.create("no-options");const w=HH.get(z);if(w){if((0,E.x)(V,w.options)&&(0,E.x)(C,w.config))return w;throw QH.create("duplicate-app",{appName:z})}const t=new c.e(z);for(const c of pH.values())t.qf(c);const Q=new PH(V,C,t);return HH.set(z,Q),Q}function lH(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const p=HH.get(H);if(!p&&H===r&&(0,E.z)())return JH();if(!p)throw QH.create("no-app",{appName:H});return p}function NH(){return Array.from(HH.values())}async function ZH(H){const p=H.name;HH.has(p)&&(HH.delete(p),await Promise.all(H.container.getProviders().map((H=>H.delete()))),H.isDeleted=!0)}function YH(H,p,V){var C;let E=null!==(C=S[H])&&void 0!==C?C:H;V&&(E+=`-${V}`);const z=E.match(/\s|\//),w=p.match(/\s|\//);if(z||w){const H=[`Unable to register library "${E}" with version "${p}":`];return z&&H.push(`library name "${E}" contains illegal characters (whitespace or "/")`),z&&w&&H.push("and"),w&&H.push(`version name "${p}" contains illegal characters (whitespace or "/")`),void X.warn(H.join(" "))}CH(new c.i(`${E}-version`,(()=>({library:E,version:p})),"VERSION"))}function yH(H,p){if(null!==H&&"function"!==typeof H)throw QH.create("invalid-log-argument");(0,C.n)(H,p)}function MH(H){(0,C.j)(H)}const qH="firebase-heartbeat-store";let jH=null;function aH(){return jH||(jH=function(H,p){let{blocked:V,upgrade:c,blocking:C,terminated:E}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const z=indexedDB.open(H,p),w=Y(z);return c&&z.addEventListener("upgradeneeded",(H=>{c(Y(z.result),H.oldVersion,H.newVersion,Y(z.transaction),H)})),V&&z.addEventListener("blocked",(H=>V(H.oldVersion,H.newVersion,H))),w.then((H=>{E&&H.addEventListener("close",(()=>E())),C&&H.addEventListener("versionchange",(H=>C(H.oldVersion,H.newVersion,H)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(H,p)=>{if(0===p)H.createObjectStore(qH)}}).catch((H=>{throw QH.create("idb-open",{originalErrorMessage:H.message})}))),jH}async function RH(H,p){try{const V=(await aH()).transaction(qH,"readwrite"),c=V.objectStore(qH);await c.put(p,LH(H)),await V.done}catch(V){if(V instanceof E.k)X.warn(V.message);else{const H=QH.create("idb-set",{originalErrorMessage:null===V||void 0===V?void 0:V.message});X.warn(H.message)}}}function LH(H){return`${H.name}!${H.options.appId}`}class TH{constructor(H){this.container=H,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this.Fi=new xH(p),this._heartbeatsCachePromise=this.Fi.read().then((H=>(this._heartbeatsCache=H,H)))}async triggerHeartbeat(){const H=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=XH();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==p&&!this._heartbeatsCache.heartbeats.some((H=>H.date===p)))return this._heartbeatsCache.heartbeats.push({date:p,agent:H}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((H=>{const p=new Date(H.date).valueOf();return Date.now()-p<=2592e6})),this.Fi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const H=XH(),{heartbeatsToSend:p,unsentEntries:V}=function(H){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const V=[];let c=H.slice();for(const C of H){const H=V.find((H=>H.agent===C.agent));if(H){if(H.dates.push(C.date),KH(V)>p){H.dates.pop();break}}else if(V.push({agent:C.agent,dates:[C.date]}),KH(V)>p){V.pop();break}c=c.slice(1)}return{heartbeatsToSend:V,unsentEntries:c}}(this._heartbeatsCache.heartbeats),c=(0,E.q)(JSON.stringify({version:2,heartbeats:p}));return this._heartbeatsCache.lastSentHeartbeatDate=H,V.length>0?(this._heartbeatsCache.heartbeats=V,await this.Fi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Fi.overwrite(this._heartbeatsCache)),c}}function XH(){return(new Date).toISOString().substring(0,10)}class xH{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,E.T)()&&(0,E.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(H){try{const p=await aH();return await p.transaction(qH).objectStore(qH).get(LH(H))}catch(p){if(p instanceof E.k)X.warn(p.message);else{const H=QH.create("idb-get",{originalErrorMessage:null===p||void 0===p?void 0:p.message});X.warn(H.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(H){var p;if(await this._canUseIndexedDBPromise){const V=await this.read();return RH(this.app,{lastSentHeartbeatDate:null!==(p=H.lastSentHeartbeatDate)&&void 0!==p?p:V.lastSentHeartbeatDate,heartbeats:H.heartbeats})}}async add(H){var p;if(await this._canUseIndexedDBPromise){const V=await this.read();return RH(this.app,{lastSentHeartbeatDate:null!==(p=H.lastSentHeartbeatDate)&&void 0!==p?p:V.lastSentHeartbeatDate,heartbeats:[...V.heartbeats,...H.heartbeats]})}}}function KH(H){return(0,E.q)(JSON.stringify({version:2,heartbeats:H})).length}var iH;iH="",CH(new c.i("platform-logger",(H=>new R(H)),"PRIVATE")),CH(new c.i("heartbeat",(H=>new TH(H)),"PRIVATE")),YH(L,T,iH),YH(L,T,"esm2017"),YH("fire-js","")},10553:(H,p,V)=>{V.d(p,{e:()=>w,i:()=>C});var c=V(10561);class C{constructor(H,p,V){this.name=H,this.instanceFactory=p,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const E="[DEFAULT]";class z{constructor(H,p){this.name=H,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const p=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(p)){const H=new c.d;if(this.instancesDeferred.set(p,H),this.isInitialized(p)||this.shouldAutoInitialize())try{const V=this.getOrInitializeService({instanceIdentifier:p});V&&H.resolve(V)}catch(V){}}return this.instancesDeferred.get(p).promise}getImmediate(H){var p;const V=this.normalizeInstanceIdentifier(null===H||void 0===H?void 0:H.identifier),c=null!==(p=null===H||void 0===H?void 0:H.optional)&&void 0!==p&&p;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(c)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(C){if(c)return null;throw C}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function(H){return"EAGER"===H.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:E})}catch(p){}for(const[H,V]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(H);try{const H=this.getOrInitializeService({instanceIdentifier:c});V.resolve(H)}catch(p){}}}}clearInstance(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}async delete(){const H=Array.from(this.instances.values());await Promise.all([...H.filter((H=>"INTERNAL"in H)).map((H=>H.INTERNAL.delete())),...H.filter((H=>"_delete"in H)).map((H=>H._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instances.has(H)}getOptions(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instancesOptions.get(H)||{}}initialize(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:p={}}=H,V=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:V,options:p});for(const[C,E]of this.instancesDeferred.entries()){V===this.normalizeInstanceIdentifier(C)&&E.resolve(c)}return c}ji(H,p){var V;const c=this.normalizeInstanceIdentifier(p),C=null!==(V=this.onInitCallbacks.get(c))&&void 0!==V?V:new Set;C.add(H),this.onInitCallbacks.set(c,C);const E=this.instances.get(c);return E&&H(E,c),()=>{C.delete(H)}}invokeOnInitCallbacks(H,p){const V=this.onInitCallbacks.get(p);if(V)for(const C of V)try{C(H,p)}catch(c){}}getOrInitializeService(H){let{instanceIdentifier:p,options:V={}}=H,c=this.instances.get(p);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:(C=p,C===E?void 0:C),options:V}),this.instances.set(p,c),this.instancesOptions.set(p,V),this.invokeOnInitCallbacks(c,p),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,p,c)}catch(z){}var C;return c||null}normalizeInstanceIdentifier(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.component?this.component.multipleInstances?H:E:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(H){this.name=H,this.providers=new Map}qf(H){const p=this.getProvider(H.name);if(p.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);p.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.qf(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const p=new z(H,this);return this.providers.set(H,p),p}getProviders(){return Array.from(this.providers.values())}}},10565:(H,p,V)=>{V.d(p,{e:()=>C,i:()=>Q,j:()=>P,n:()=>U});const c=[];var C;!function(H){H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT"}(C||(C={}));const E={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},z=C.INFO,w={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},t=function(H,p){if(p<H.logLevel)return;const V=(new Date).toISOString(),c=w[p];if(!c)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);for(var C=arguments.length,E=new Array(C>2?C-2:0),z=2;z<C;z++)E[z-2]=arguments[z];console[c](`[${V}]  ${H.name}:`,...E)};class Q{constructor(H){this.name=H,this._logLevel=z,this._logHandler=t,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in C))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"===typeof H?E[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!==typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(){for(var H=arguments.length,p=new Array(H),V=0;V<H;V++)p[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...p),this._logHandler(this,C.DEBUG,...p)}log(){for(var H=arguments.length,p=new Array(H),V=0;V<H;V++)p[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...p),this._logHandler(this,C.VERBOSE,...p)}info(){for(var H=arguments.length,p=new Array(H),V=0;V<H;V++)p[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,C.INFO,...p),this._logHandler(this,C.INFO,...p)}warn(){for(var H=arguments.length,p=new Array(H),V=0;V<H;V++)p[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,C.WARN,...p),this._logHandler(this,C.WARN,...p)}error(){for(var H=arguments.length,p=new Array(H),V=0;V<H;V++)p[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,C.ERROR,...p),this._logHandler(this,C.ERROR,...p)}}function P(H){c.forEach((p=>{p.setLogLevel(H)}))}function U(H,p){for(const V of c){let c=null;p&&p.level&&(c=E[p.level]),V.userLogHandler=null===H?null:function(p,V){for(var E=arguments.length,z=new Array(E>2?E-2:0),w=2;w<E;w++)z[w-2]=arguments[w];const t=z.map((H=>{if(null==H)return null;if("string"===typeof H)return H;if("number"===typeof H||"boolean"===typeof H)return H.toString();if(H instanceof Error)return H.message;try{return JSON.stringify(H)}catch(p){return null}})).filter((H=>H)).join(" ");V>=(null!==c&&void 0!==c?c:p.logLevel)&&H({level:C[V].toLowerCase(),message:t,args:z,type:p.name})}}}}}]);