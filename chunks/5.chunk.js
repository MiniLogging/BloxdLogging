/*! For license information please see fblfu.5.d32bea33.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10824:(x,O,Q)=>{Q.d(O,{$:()=>d,A:()=>U,B:()=>h,D:()=>I,H:()=>a,I:()=>M,K:()=>J,L:()=>g,P:()=>v,S:()=>K,V:()=>Y,X:()=>u,d:()=>N,db:()=>R,g:()=>G,j:()=>q,l:()=>s,m:()=>o,o:()=>V,s:()=>y,t:()=>f,u:()=>t,y:()=>A,z:()=>L});const X=function(x){const O=[];let Q=0;for(let X=0;X<x.length;X++){let Z=x.charCodeAt(X);Z<128?O[Q++]=Z:Z<2048?(O[Q++]=Z>>6|192,O[Q++]=63&Z|128):55296===(64512&Z)&&X+1<x.length&&56320===(64512&x.charCodeAt(X+1))?(Z=65536+((1023&Z)<<10)+(1023&x.charCodeAt(++X)),O[Q++]=Z>>18|240,O[Q++]=Z>>12&63|128,O[Q++]=Z>>6&63|128,O[Q++]=63&Z|128):(O[Q++]=Z>>12|224,O[Q++]=Z>>6&63|128,O[Q++]=63&Z|128)}return O},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(x,O){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let Z=0;Z<x.length;Z+=3){const O=x[Z],n=Z+1<x.length,V=n?x[Z+1]:0,o=Z+2<x.length,l=o?x[Z+2]:0,C=O>>2,U=(3&O)<<4|V>>4;let L=(15&V)<<2|l>>6,h=63&l;o||(h=64,n||(L=64)),X.push(Q[C],Q[U],Q[L],Q[h])}return X.join("")},encodeString(x,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(x):this.encodeByteArray(X(x),O)},decodeString(x,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(x):function(x){const O=[];let Q=0,X=0;for(;Q<x.length;){const Z=x[Q++];if(Z<128)O[X++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const n=x[Q++];O[X++]=String.fromCharCode((31&Z)<<6|63&n)}else if(Z>239&&Z<365){const n=((7&Z)<<18|(63&x[Q++])<<12|(63&x[Q++])<<6|63&x[Q++])-65536;O[X++]=String.fromCharCode(55296+(n>>10)),O[X++]=String.fromCharCode(56320+(1023&n))}else{const n=x[Q++],V=x[Q++];O[X++]=String.fromCharCode((15&Z)<<12|(63&n)<<6|63&V)}}return O.join("")}(this.decodeStringToByteArray(x,O))},decodeStringToByteArray(x,O){this.init_();const Q=O?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let Z=0;Z<x.length;){const O=Q[x.charAt(Z++)],V=Z<x.length?Q[x.charAt(Z)]:0;++Z;const o=Z<x.length?Q[x.charAt(Z)]:64;++Z;const l=Z<x.length?Q[x.charAt(Z)]:64;if(++Z,null==O||null==V||null==o||null==l)throw new n;const C=O<<2|V>>4;if(X.push(C),64!==o){const x=V<<4&240|o>>2;if(X.push(x),64!==l){const x=o<<6&192|l;X.push(x)}}}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class n extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V=function(x){return function(x){const O=X(x);return Z.encodeByteArray(O,!0)}(x).replace(/\./g,"")},o=function(x){try{return Z.decodeString(x,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,C=()=>{try{return l()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const O=x&&o(x[1]);return O&&JSON.parse(O)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},U=x=>{var O,Q;return null===(Q=null===(O=C())||void 0===O?void 0:O.emulatorHosts)||void 0===Q?void 0:Q[x]},L=()=>{var x;return null===(x=C())||void 0===x?void 0:x.config},h=x=>{var O;return null===(O=C())||void 0===O?void 0:O[`_${x}`]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((x,O)=>{this.resolve=x,this.reject=O}))}wrapCallback(x){return(O,Q)=>{O?this.reject(O):this.resolve(Q),"function"===typeof x&&(this.promise.catch((()=>{})),1===x.length?x(O):x(O,Q))}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function K(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function M(){const x="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof x&&void 0!==x.id}function Y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function g(){const x=a();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(x){return!1}}function R(){return new Promise(((x,O)=>{try{let Q=!0;const X="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(X);Z.onsuccess=()=>{Z.result.close(),Q||self.indexedDB.deleteDatabase(X),x(!0)},Z.onupgradeneeded=()=>{Q=!1},Z.onerror=()=>{var x;O((null===(x=Z.error)||void 0===x?void 0:x.message)||"")}}catch(Q){O(Q)}}))}function s(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class q extends Error{constructor(x,O,Q){super(O),this.code=x,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(x,O,Q){this.service=x,this.serviceName=O,this.errors=Q}create(x){const O=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${x}`,X=this.errors[x],Z=X?function(x,O){return x.replace(k,((x,Q)=>{const X=O[Q];return null!=X?String(X):`<${Q}?>`}))}(X,O):"Error",n=`${this.serviceName}: ${Z} (${Q}).`;return new q(Q,n,O)}}const k=/\{\$([^}]+)}/g;function J(x){for(const O in x)if(Object.prototype.hasOwnProperty.call(x,O))return!1;return!0}function t(x,O){if(x===O)return!0;const Q=Object.keys(x),X=Object.keys(O);for(const Z of Q){if(!X.includes(Z))return!1;const Q=x[Z],n=O[Z];if(c(Q)&&c(n)){if(!t(Q,n))return!1}else if(Q!==n)return!1}for(const Z of X)if(!Q.includes(Z))return!1;return!0}function c(x){return null!==x&&"object"===typeof x}function d(x){const O=[];for(const[Q,X]of Object.entries(x))Array.isArray(X)?X.forEach((x=>{O.push(encodeURIComponent(Q)+"="+encodeURIComponent(x))})):O.push(encodeURIComponent(Q)+"="+encodeURIComponent(X));return O.length?"&"+O.join("&"):""}function u(x){const O={};return x.replace(/^\?/,"").split("&").forEach((x=>{if(x){const[Q,X]=x.split("=");O[decodeURIComponent(Q)]=decodeURIComponent(X)}})),O}function A(x){const O=x.indexOf("?");if(!O)return"";const Q=x.indexOf("#",O);return x.substring(O,Q>0?Q:void 0)}function f(x,O){const Q=new E(x,O);return Q.subscribe.bind(Q)}class E{constructor(x,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{x(this)})).catch((x=>{this.error(x)}))}next(x){this.forEachObserver((O=>{O.next(x)}))}error(x){this.forEachObserver((O=>{O.error(x)})),this.close(x)}complete(){this.forEachObserver((x=>{x.complete()})),this.close()}subscribe(x,O,Q){let X;if(void 0===x&&void 0===O&&void 0===Q)throw new Error("Missing Observer.");X=function(x,O){if("object"!==typeof x||null===x)return!1;for(const Q of O)if(Q in x&&"function"===typeof x[Q])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:O,complete:Q},void 0===X.next&&(X.next=z),void 0===X.error&&(X.error=z),void 0===X.complete&&(X.complete=z);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(x){}})),this.observers.push(X),Z}unsubscribeOne(x){void 0!==this.observers&&void 0!==this.observers[x]&&(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,x)}sendOne(x,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{O(this.observers[x])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(){}const F=1e3,b=2,D=144e5,W=.5;function y(x){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F)*Math.pow(O,x),X=Math.round(W*Q*(Math.random()-.5)*2);return Math.min(D,Q+X)}function I(x){return x&&x._delegate?x._delegate:x}},10810:(x,O,Q)=>{Q.d(O,{b:()=>n.j,e:()=>Lx,i:()=>m,j:()=>Qx,n:()=>Xx,q:()=>xx,r:()=>ox,t:()=>Ox,x:()=>nx,z:()=>Zx,A:()=>Vx,D:()=>Kx,J:()=>Nx,G:()=>ax,M:()=>hx,Q:()=>Yx,R:()=>Mx,V:()=>gx});var X=Q(10818),Z=Q(10832),n=Q(10824);let V,o;const l=new WeakMap,C=new WeakMap,U=new WeakMap,L=new WeakMap,h=new WeakMap;let N={get(x,O,Q){if(x instanceof IDBTransaction){if("done"===O)return C.get(x);if("objectStoreNames"===O)return x.objectStoreNames||U.get(x);if("store"===O)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return M(x[O])},set:(x,O,Q)=>(x[O]=Q,!0),has:(x,O)=>x instanceof IDBTransaction&&("done"===O||"store"===O)||O in x};function a(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(x)?function(){for(var O=arguments.length,Q=new Array(O),X=0;X<O;X++)Q[X]=arguments[X];return x.apply(Y(this),Q),M(l.get(this))}:function(){for(var O=arguments.length,Q=new Array(O),X=0;X<O;X++)Q[X]=arguments[X];return M(x.apply(Y(this),Q))}:function(O){for(var Q=arguments.length,X=new Array(Q>1?Q-1:0),Z=1;Z<Q;Z++)X[Z-1]=arguments[Z];const n=x.call(Y(this),O,...X);return U.set(n,O.sort?O.sort():[O]),M(n)}}function K(x){return"function"===typeof x?a(x):(x instanceof IDBTransaction&&function(x){if(C.has(x))return;const O=new Promise(((O,Q)=>{const X=()=>{x.removeEventListener("complete",Z),x.removeEventListener("error",n),x.removeEventListener("abort",n)},Z=()=>{O(),X()},n=()=>{Q(x.error||new DOMException("AbortError","AbortError")),X()};x.addEventListener("complete",Z),x.addEventListener("error",n),x.addEventListener("abort",n)}));C.set(x,O)}(x),O=x,(V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((x=>O instanceof x))?new Proxy(x,N):x);var O}function M(x){if(x instanceof IDBRequest)return function(x){const O=new Promise(((O,Q)=>{const X=()=>{x.removeEventListener("success",Z),x.removeEventListener("error",n)},Z=()=>{O(M(x.result)),X()},n=()=>{Q(x.error),X()};x.addEventListener("success",Z),x.addEventListener("error",n)}));return O.then((O=>{O instanceof IDBCursor&&l.set(O,x)})).catch((()=>{})),h.set(O,x),O}(x);if(L.has(x))return L.get(x);const O=K(x);return O!==x&&(L.set(x,O),h.set(O,x)),O}const Y=x=>h.get(x);const g=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],R=new Map;function s(x,O){if(!(x instanceof IDBDatabase)||O in x||"string"!==typeof O)return;if(R.get(O))return R.get(O);const Q=O.replace(/FromIndex$/,""),X=O!==Q,Z=v.includes(Q);if(!(Q in(X?IDBIndex:IDBObjectStore).prototype)||!Z&&!g.includes(Q))return;const n=async function(x){const O=this.transaction(x,Z?"readwrite":"readonly");let n=O.store;for(var V=arguments.length,o=new Array(V>1?V-1:0),l=1;l<V;l++)o[l-1]=arguments[l];return X&&(n=n.index(o.shift())),(await Promise.all([n[Q](...o),Z&&O.done]))[0]};return R.set(O,n),n}N=(x=>({...x,get:(O,Q,X)=>s(O,Q)||x.get(O,Q,X),has:(O,Q)=>!!s(O,Q)||x.has(O,Q)}))(N);class q{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map((x=>{if(function(x){const O=x.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(x)){const O=x.getImmediate();return`${O.library}/${O.version}`}return null})).filter((x=>x)).join(" ")}}const G="@firebase/app",k="0.9.13",J=new Z.f("@firebase/app"),t="@firebase/app-compat",c="@firebase/analytics-compat",d="@firebase/analytics",u="@firebase/app-check-compat",A="@firebase/app-check",f="@firebase/auth",E="@firebase/auth-compat",z="@firebase/database",F="@firebase/database-compat",b="@firebase/functions",D="@firebase/functions-compat",W="@firebase/installations",y="@firebase/installations-compat",I="@firebase/messaging",r="@firebase/messaging-compat",j="@firebase/performance",T="@firebase/performance-compat",e="@firebase/remote-config",B="@firebase/remote-config-compat",i="@firebase/storage",H="@firebase/storage-compat",S="@firebase/firestore",p="@firebase/firestore-compat",P="firebase",m="[DEFAULT]",w={[G]:"fire-core",[t]:"fire-core-compat",[d]:"fire-analytics",[c]:"fire-analytics-compat",[A]:"fire-app-check",[u]:"fire-app-check-compat",[f]:"fire-auth",[E]:"fire-auth-compat",[z]:"fire-rtdb",[F]:"fire-rtdb-compat",[b]:"fire-fn",[D]:"fire-fn-compat",[W]:"fire-iid",[y]:"fire-iid-compat",[I]:"fire-fcm",[r]:"fire-fcm-compat",[j]:"fire-perf",[T]:"fire-perf-compat",[e]:"fire-rc",[B]:"fire-rc-compat",[i]:"fire-gcs",[H]:"fire-gcs-compat",[S]:"fire-fst",[p]:"fire-fst-compat","fire-js":"fire-js",[P]:"fire-js-all"},xx=new Map,Ox=new Map;function Qx(x,O){try{x.container.Rl(O)}catch(Q){J.debug(`Component ${O.name} failed to register with FirebaseApp ${x.name}`,Q)}}function Xx(x,O){x.container.addOrOverwriteComponent(O)}function Zx(x){const O=x.name;if(Ox.has(O))return J.debug(`There were multiple attempts to register component ${O}.`),!1;Ox.set(O,x);for(const Q of xx.values())Qx(Q,x);return!0}function nx(x,O){const Q=x.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),x.container.getProvider(O)}function Vx(x,O){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;nx(x,O).clearInstance(Q)}function ox(){Ox.clear()}const lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cx=new n.g("app","Firebase",lx);class Ux{constructor(x,O,Q){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=Q,this.container.Rl(new X.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw Cx.create("app-deleted",{appName:this._name})}}const Lx="9.23.0";function hx(x){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=x;if("object"!==typeof O){O={name:O}}const Z=Object.assign({name:m,automaticDataCollectionEnabled:!1},O),V=Z.name;if("string"!==typeof V||!V)throw Cx.create("bad-app-name",{appName:String(V)});if(Q||(Q=(0,n.z)()),!Q)throw Cx.create("no-options");const o=xx.get(V);if(o){if((0,n.u)(Q,o.options)&&(0,n.u)(Z,o.config))return o;throw Cx.create("duplicate-app",{appName:V})}const l=new X.c(V);for(const X of Ox.values())l.Rl(X);const C=new Ux(Q,Z,l);return xx.set(V,C),C}function Nx(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const O=xx.get(x);if(!O&&x===m&&(0,n.z)())return hx();if(!O)throw Cx.create("no-app",{appName:x});return O}function ax(){return Array.from(xx.values())}async function Kx(x){const O=x.name;xx.has(O)&&(xx.delete(O),await Promise.all(x.container.getProviders().map((x=>x.delete()))),x.isDeleted=!0)}function Mx(x,O,Q){var Z;let n=null!==(Z=w[x])&&void 0!==Z?Z:x;Q&&(n+=`-${Q}`);const V=n.match(/\s|\//),o=O.match(/\s|\//);if(V||o){const x=[`Unable to register library "${n}" with version "${O}":`];return V&&x.push(`library name "${n}" contains illegal characters (whitespace or "/")`),V&&o&&x.push("and"),o&&x.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void J.warn(x.join(" "))}Zx(new X.e(`${n}-version`,(()=>({library:n,version:O})),"VERSION"))}function Yx(x,O){if(null!==x&&"function"!==typeof x)throw Cx.create("invalid-log-argument");(0,Z.l)(x,O)}function gx(x){(0,Z.i)(x)}const vx="firebase-heartbeat-store";let Rx=null;function sx(){return Rx||(Rx=function(x,O){let{blocked:Q,upgrade:X,blocking:Z,terminated:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const V=indexedDB.open(x,O),o=M(V);return X&&V.addEventListener("upgradeneeded",(x=>{X(M(V.result),x.oldVersion,x.newVersion,M(V.transaction),x)})),Q&&V.addEventListener("blocked",(x=>Q(x.oldVersion,x.newVersion,x))),o.then((x=>{n&&x.addEventListener("close",(()=>n())),Z&&x.addEventListener("versionchange",(x=>Z(x.oldVersion,x.newVersion,x)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(x,O)=>{if(0===O)x.createObjectStore(vx)}}).catch((x=>{throw Cx.create("idb-open",{originalErrorMessage:x.message})}))),Rx}async function qx(x,O){try{const Q=(await sx()).transaction(vx,"readwrite"),X=Q.objectStore(vx);await X.put(O,Gx(x)),await Q.done}catch(Q){if(Q instanceof n.j)J.warn(Q.message);else{const x=Cx.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});J.warn(x.message)}}}function Gx(x){return`${x.name}!${x.options.appId}`}class kx{constructor(x){this.container=x,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.BU=new tx(O),this._heartbeatsCachePromise=this.BU.read().then((x=>(this._heartbeatsCache=x,x)))}async triggerHeartbeat(){const x=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=Jx();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((x=>x.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:x}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((x=>{const O=new Date(x.date).valueOf();return Date.now()-O<=2592e6})),this.BU.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const x=Jx(),{heartbeatsToSend:O,unsentEntries:Q}=function(x){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let X=x.slice();for(const Z of x){const x=Q.find((x=>x.agent===Z.agent));if(x){if(x.dates.push(Z.date),cx(Q)>O){x.dates.pop();break}}else if(Q.push({agent:Z.agent,dates:[Z.date]}),cx(Q)>O){Q.pop();break}X=X.slice(1)}return{heartbeatsToSend:Q,unsentEntries:X}}(this._heartbeatsCache.heartbeats),X=(0,n.o)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=x,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.BU.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.BU.overwrite(this._heartbeatsCache)),X}}function Jx(){return(new Date).toISOString().substring(0,10)}class tx{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,n.P)()&&(0,n.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(x){try{const O=await sx();return await O.transaction(vx).objectStore(vx).get(Gx(x))}catch(O){if(O instanceof n.j)J.warn(O.message);else{const x=Cx.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});J.warn(x.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(x){var O;if(await this._canUseIndexedDBPromise){const Q=await this.read();return qx(this.app,{lastSentHeartbeatDate:null!==(O=x.lastSentHeartbeatDate)&&void 0!==O?O:Q.lastSentHeartbeatDate,heartbeats:x.heartbeats})}}async add(x){var O;if(await this._canUseIndexedDBPromise){const Q=await this.read();return qx(this.app,{lastSentHeartbeatDate:null!==(O=x.lastSentHeartbeatDate)&&void 0!==O?O:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...x.heartbeats]})}}}function cx(x){return(0,n.o)(JSON.stringify({version:2,heartbeats:x})).length}var dx;dx="",Zx(new X.e("platform-logger",(x=>new q(x)),"PRIVATE")),Zx(new X.e("heartbeat",(x=>new kx(x)),"PRIVATE")),Mx(G,k,dx),Mx(G,k,"esm2017"),Mx("fire-js","")},10818:(x,O,Q)=>{Q.d(O,{c:()=>o,e:()=>Z});var X=Q(10824);class Z{constructor(x,O,Q){this.name=x,this.instanceFactory=O,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const n="[DEFAULT]";class V{constructor(x,O){this.name=x,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const O=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(O)){const x=new X.d;if(this.instancesDeferred.set(O,x),this.isInitialized(O)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:O});Q&&x.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(O).promise}getImmediate(x){var O;const Q=this.normalizeInstanceIdentifier(null===x||void 0===x?void 0:x.identifier),X=null!==(O=null===x||void 0===x?void 0:x.optional)&&void 0!==O&&O;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(X)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Z){if(X)return null;throw Z}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function(x){return"EAGER"===x.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:n})}catch(O){}for(const[x,Q]of this.instancesDeferred.entries()){const X=this.normalizeInstanceIdentifier(x);try{const x=this.getOrInitializeService({instanceIdentifier:X});Q.resolve(x)}catch(O){}}}}clearInstance(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}async delete(){const x=Array.from(this.instances.values());await Promise.all([...x.filter((x=>"INTERNAL"in x)).map((x=>x.INTERNAL.delete())),...x.filter((x=>"_delete"in x)).map((x=>x._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.instances.has(x)}getOptions(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.instancesOptions.get(x)||{}}initialize(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=x,Q=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const X=this.getOrInitializeService({instanceIdentifier:Q,options:O});for(const[Z,n]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(Z)&&n.resolve(X)}return X}kU(x,O){var Q;const X=this.normalizeInstanceIdentifier(O),Z=null!==(Q=this.onInitCallbacks.get(X))&&void 0!==Q?Q:new Set;Z.add(x),this.onInitCallbacks.set(X,Z);const n=this.instances.get(X);return n&&x(n,X),()=>{Z.delete(x)}}invokeOnInitCallbacks(x,O){const Q=this.onInitCallbacks.get(O);if(Q)for(const Z of Q)try{Z(x,O)}catch(X){}}getOrInitializeService(x){let{instanceIdentifier:O,options:Q={}}=x,X=this.instances.get(O);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Z=O,Z===n?void 0:Z),options:Q}),this.instances.set(O,X),this.instancesOptions.set(O,Q),this.invokeOnInitCallbacks(X,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,X)}catch(V){}var Z;return X||null}normalizeInstanceIdentifier(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.component?this.component.multipleInstances?x:n:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(x){this.name=x,this.providers=new Map}Rl(x){const O=this.getProvider(x.name);if(O.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);O.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.Rl(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const O=new V(x,this);return this.providers.set(x,O),O}getProviders(){return Array.from(this.providers.values())}}},10832:(x,O,Q)=>{Q.d(O,{b:()=>Z,f:()=>C,i:()=>U,l:()=>L});const X=[];var Z;!function(x){x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT"}(Z||(Z={}));const n={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},V=Z.INFO,o={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},l=function(x,O){if(O<x.logLevel)return;const Q=(new Date).toISOString(),X=o[O];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var Z=arguments.length,n=new Array(Z>2?Z-2:0),V=2;V<Z;V++)n[V-2]=arguments[V];console[X](`[${Q}]  ${x.name}:`,...n)};class C{constructor(x){this.name=x,this._logLevel=V,this._logHandler=l,this._userLogHandler=null,X.push(this)}get logLevel(){return this._logLevel}set logLevel(x){if(!(x in Z))throw new TypeError(`Invalid value "${x}" assigned to \`logLevel\``);this._logLevel=x}setLogLevel(x){this._logLevel="string"===typeof x?n[x]:x}get logHandler(){return this._logHandler}set logHandler(x){if("function"!==typeof x)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=x}get userLogHandler(){return this._userLogHandler}set userLogHandler(x){this._userLogHandler=x}debug(){for(var x=arguments.length,O=new Array(x),Q=0;Q<x;Q++)O[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...O),this._logHandler(this,Z.DEBUG,...O)}log(){for(var x=arguments.length,O=new Array(x),Q=0;Q<x;Q++)O[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...O),this._logHandler(this,Z.VERBOSE,...O)}info(){for(var x=arguments.length,O=new Array(x),Q=0;Q<x;Q++)O[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,Z.INFO,...O),this._logHandler(this,Z.INFO,...O)}warn(){for(var x=arguments.length,O=new Array(x),Q=0;Q<x;Q++)O[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,Z.WARN,...O),this._logHandler(this,Z.WARN,...O)}error(){for(var x=arguments.length,O=new Array(x),Q=0;Q<x;Q++)O[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...O),this._logHandler(this,Z.ERROR,...O)}}function U(x){X.forEach((O=>{O.setLogLevel(x)}))}function L(x,O){for(const Q of X){let X=null;O&&O.level&&(X=n[O.level]),Q.userLogHandler=null===x?null:function(O,Q){for(var n=arguments.length,V=new Array(n>2?n-2:0),o=2;o<n;o++)V[o-2]=arguments[o];const l=V.map((x=>{if(null==x)return null;if("string"===typeof x)return x;if("number"===typeof x||"boolean"===typeof x)return x.toString();if(x instanceof Error)return x.message;try{return JSON.stringify(x)}catch(O){return null}})).filter((x=>x)).join(" ");Q>=(null!==X&&void 0!==X?X:O.logLevel)&&x({level:Z[Q].toLowerCase(),message:l,args:V,type:O.name})}}}}}]);