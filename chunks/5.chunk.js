/*! For license information please see 0ubt4j.5.5c0841a9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10567:(H,c,y)=>{y.d(c,{A:()=>i,C:()=>g,D:()=>M,H:()=>m,I:()=>V,L:()=>T,M:()=>Q,O:()=>D,P:()=>z,R:()=>h,V:()=>G,X:()=>U,Z:()=>f,d:()=>v,e:()=>d,i:()=>l,k:()=>J,m:()=>n,n:()=>S,p:()=>W,q:()=>t,u:()=>u,v:()=>p,y:()=>C});const Z=function(H){const c=[];let y=0;for(let Z=0;Z<H.length;Z++){let F=H.charCodeAt(Z);F<128?c[y++]=F:F<2048?(c[y++]=F>>6|192,c[y++]=63&F|128):55296===(64512&F)&&Z+1<H.length&&56320===(64512&H.charCodeAt(Z+1))?(F=65536+((1023&F)<<10)+(1023&H.charCodeAt(++Z)),c[y++]=F>>18|240,c[y++]=F>>12&63|128,c[y++]=F>>6&63|128,c[y++]=63&F|128):(c[y++]=F>>12|224,c[y++]=F>>6&63|128,c[y++]=63&F|128)}return c},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(H,c){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let F=0;F<H.length;F+=3){const c=H[F],P=F+1<H.length,S=P?H[F+1]:0,n=F+2<H.length,O=n?H[F+2]:0,a=c>>2,i=(3&c)<<4|S>>4;let C=(15&S)<<2|O>>6,g=63&O;n||(g=64,P||(C=64)),Z.push(y[a],y[i],y[C],y[g])}return Z.join("")},encodeString(H,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(H):this.encodeByteArray(Z(H),c)},decodeString(H,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(H):function(H){const c=[];let y=0,Z=0;for(;y<H.length;){const F=H[y++];if(F<128)c[Z++]=String.fromCharCode(F);else if(F>191&&F<224){const P=H[y++];c[Z++]=String.fromCharCode((31&F)<<6|63&P)}else if(F>239&&F<365){const P=((7&F)<<18|(63&H[y++])<<12|(63&H[y++])<<6|63&H[y++])-65536;c[Z++]=String.fromCharCode(55296+(P>>10)),c[Z++]=String.fromCharCode(56320+(1023&P))}else{const P=H[y++],S=H[y++];c[Z++]=String.fromCharCode((15&F)<<12|(63&P)<<6|63&S)}}return c.join("")}(this.decodeStringToByteArray(H,c))},decodeStringToByteArray(H,c){this.init_();const y=c?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let F=0;F<H.length;){const c=y[H.charAt(F++)],S=F<H.length?y[H.charAt(F)]:0;++F;const n=F<H.length?y[H.charAt(F)]:64;++F;const O=F<H.length?y[H.charAt(F)]:64;if(++F,null==c||null==S||null==n||null==O)throw new P;const a=c<<2|S>>4;if(Z.push(a),64!==n){const H=S<<4&240|n>>2;if(Z.push(H),64!==O){const H=n<<6&192|O;Z.push(H)}}}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S=function(H){return function(H){const c=Z(H);return F.encodeByteArray(c,!0)}(H).replace(/\./g,"")},n=function(H){try{return F.decodeString(H,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const O=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof y.g)return y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,a=()=>{try{return O()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(y){return}const c=H&&n(H[1]);return c&&JSON.parse(c)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},i=H=>{var c,y;return null===(y=null===(c=a())||void 0===c?void 0:c.emulatorHosts)||void 0===y?void 0:y[H]},C=()=>{var H;return null===(H=a())||void 0===H?void 0:H.config},g=H=>{var c;return null===(c=a())||void 0===c?void 0:c[`_${H}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((H,c)=>{this.resolve=H,this.reject=c}))}wrapCallback(H){return(c,y)=>{c?this.reject(c):this.resolve(y),"function"===typeof H&&(this.promise.catch((()=>{})),1===H.length?H(c):H(c,y))}}}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function V(){const H="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof H&&void 0!==H.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Q(){const H=m();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function D(){try{return"object"===typeof indexedDB}catch(H){return!1}}function f(){return new Promise(((H,c)=>{try{let y=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(Z);F.onsuccess=()=>{F.result.close(),y||self.indexedDB.deleteDatabase(Z),H(!0)},F.onupgradeneeded=()=>{y=!1},F.onerror=()=>{var H;c((null===(H=F.error)||void 0===H?void 0:H.message)||"")}}catch(y){c(y)}}))}function J(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class l extends Error{constructor(H,c,y){super(c),this.code=H,this.customData=y,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d.prototype.create)}}class d{constructor(H,c,y){this.service=H,this.serviceName=c,this.errors=y}create(H){const c=(arguments.length<=1?void 0:arguments[1])||{},y=`${this.service}/${H}`,Z=this.errors[H],F=Z?function(H,c){return H.replace(K,((H,y)=>{const Z=c[y];return null!=Z?String(Z):`<${y}?>`}))}(Z,c):"Error",P=`${this.serviceName}: ${F} (${y}).`;return new l(y,P,c)}}const K=/\{\$([^}]+)}/g;function T(H){for(const c in H)if(Object.prototype.hasOwnProperty.call(H,c))return!1;return!0}function u(H,c){if(H===c)return!0;const y=Object.keys(H),Z=Object.keys(c);for(const F of y){if(!Z.includes(F))return!1;const y=H[F],P=c[F];if(E(y)&&E(P)){if(!u(y,P))return!1}else if(y!==P)return!1}for(const F of Z)if(!y.includes(F))return!1;return!0}function E(H){return null!==H&&"object"===typeof H}function U(H){const c=[];for(const[y,Z]of Object.entries(H))Array.isArray(Z)?Z.forEach((H=>{c.push(encodeURIComponent(y)+"="+encodeURIComponent(H))})):c.push(encodeURIComponent(y)+"="+encodeURIComponent(Z));return c.length?"&"+c.join("&"):""}function G(H){const c={};return H.replace(/^\?/,"").split("&").forEach((H=>{if(H){const[y,Z]=H.split("=");c[decodeURIComponent(y)]=decodeURIComponent(Z)}})),c}function p(H){const c=H.indexOf("?");if(!c)return"";const y=H.indexOf("#",c);return H.substring(c,y>0?y:void 0)}function t(H,c){const y=new o(H,c);return y.subscribe.bind(y)}class o{constructor(H,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{H(this)})).catch((H=>{this.error(H)}))}next(H){this.forEachObserver((c=>{c.next(H)}))}error(H){this.forEachObserver((c=>{c.error(H)})),this.close(H)}complete(){this.forEachObserver((H=>{H.complete()})),this.close()}subscribe(H,c,y){let Z;if(void 0===H&&void 0===c&&void 0===y)throw new Error("Missing Observer.");Z=function(H,c){if("object"!==typeof H||null===H)return!1;for(const y of c)if(y in H&&"function"===typeof H[y])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:c,complete:y},void 0===Z.next&&(Z.next=s),void 0===Z.error&&(Z.error=s),void 0===Z.complete&&(Z.complete=s);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(H){}})),this.observers.push(Z),F}unsubscribeOne(H){void 0!==this.observers&&void 0!==this.observers[H]&&(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,H)}sendOne(H,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{c(this.observers[H])}catch(y){"undefined"!==typeof console&&console.error&&console.error(y)}}))}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const q=1e3,I=2,j=144e5,k=.5;function W(H){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;const y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(c,H),Z=Math.round(k*y*(Math.random()-.5)*2);return Math.min(j,y+Z)}function M(H){return H&&H._delegate?H._delegate:H}},10557:(H,c,y)=>{y.d(c,{e:()=>P.i,i:()=>CH,k:()=>B,l:()=>yH,m:()=>ZH,o:()=>HH,p:()=>nH,q:()=>cH,s:()=>PH,t:()=>FH,w:()=>SH,A:()=>zH,E:()=>vH,B:()=>mH,I:()=>gH,M:()=>hH,N:()=>VH,Q:()=>QH});var Z=y(10561),F=y(10571),P=y(10567);let S,n;const O=new WeakMap,a=new WeakMap,i=new WeakMap,C=new WeakMap,g=new WeakMap;let v={get(H,c,y){if(H instanceof IDBTransaction){if("done"===c)return a.get(H);if("objectStoreNames"===c)return H.objectStoreNames||i.get(H);if("store"===c)return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return V(H[c])},set:(H,c,y)=>(H[c]=y,!0),has:(H,c)=>H instanceof IDBTransaction&&("done"===c||"store"===c)||c in H};function m(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(H)?function(){for(var c=arguments.length,y=new Array(c),Z=0;Z<c;Z++)y[Z]=arguments[Z];return H.apply(h(this),y),V(O.get(this))}:function(){for(var c=arguments.length,y=new Array(c),Z=0;Z<c;Z++)y[Z]=arguments[Z];return V(H.apply(h(this),y))}:function(c){for(var y=arguments.length,Z=new Array(y>1?y-1:0),F=1;F<y;F++)Z[F-1]=arguments[F];const P=H.call(h(this),c,...Z);return i.set(P,c.sort?c.sort():[c]),V(P)}}function z(H){return"function"===typeof H?m(H):(H instanceof IDBTransaction&&function(H){if(a.has(H))return;const c=new Promise(((c,y)=>{const Z=()=>{H.removeEventListener("complete",F),H.removeEventListener("error",P),H.removeEventListener("abort",P)},F=()=>{c(),Z()},P=()=>{y(H.error||new DOMException("AbortError","AbortError")),Z()};H.addEventListener("complete",F),H.addEventListener("error",P),H.addEventListener("abort",P)}));a.set(H,c)}(H),c=H,(S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((H=>c instanceof H))?new Proxy(H,v):H);var c}function V(H){if(H instanceof IDBRequest)return function(H){const c=new Promise(((c,y)=>{const Z=()=>{H.removeEventListener("success",F),H.removeEventListener("error",P)},F=()=>{c(V(H.result)),Z()},P=()=>{y(H.error),Z()};H.addEventListener("success",F),H.addEventListener("error",P)}));return c.then((c=>{c instanceof IDBCursor&&O.set(c,H)})).catch((()=>{})),g.set(c,H),c}(H);if(C.has(H))return C.get(H);const c=z(H);return c!==H&&(C.set(H,c),g.set(c,H)),c}const h=H=>g.get(H);const Q=["get","getKey","getAll","getAllKeys","count"],D=["put","add","delete","clear"],f=new Map;function J(H,c){if(!(H instanceof IDBDatabase)||c in H||"string"!==typeof c)return;if(f.get(c))return f.get(c);const y=c.replace(/FromIndex$/,""),Z=c!==y,F=D.includes(y);if(!(y in(Z?IDBIndex:IDBObjectStore).prototype)||!F&&!Q.includes(y))return;const P=async function(H){const c=this.transaction(H,F?"readwrite":"readonly");let P=c.store;for(var S=arguments.length,n=new Array(S>1?S-1:0),O=1;O<S;O++)n[O-1]=arguments[O];return Z&&(P=P.index(n.shift())),(await Promise.all([P[y](...n),F&&c.done]))[0]};return f.set(c,P),P}v=(H=>({...H,get:(c,y,Z)=>J(c,y)||H.get(c,y,Z),has:(c,y)=>!!J(c,y)||H.has(c,y)}))(v);class l{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map((H=>{if(function(H){const c=H.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(H)){const c=H.getImmediate();return`${c.library}/${c.version}`}return null})).filter((H=>H)).join(" ")}}const d="@firebase/app",K="0.9.13",T=new F.g("@firebase/app"),u="@firebase/app-compat",E="@firebase/analytics-compat",U="@firebase/analytics",G="@firebase/app-check-compat",p="@firebase/app-check",t="@firebase/auth",o="@firebase/auth-compat",s="@firebase/database",q="@firebase/database-compat",I="@firebase/functions",j="@firebase/functions-compat",k="@firebase/installations",W="@firebase/installations-compat",M="@firebase/messaging",x="@firebase/messaging-compat",R="@firebase/performance",A="@firebase/performance-compat",e="@firebase/remote-config",r="@firebase/remote-config-compat",N="@firebase/storage",w="@firebase/storage-compat",L="@firebase/firestore",b="@firebase/firestore-compat",X="firebase",B="[DEFAULT]",Y={[d]:"fire-core",[u]:"fire-core-compat",[U]:"fire-analytics",[E]:"fire-analytics-compat",[p]:"fire-app-check",[G]:"fire-app-check-compat",[t]:"fire-auth",[o]:"fire-auth-compat",[s]:"fire-rtdb",[q]:"fire-rtdb-compat",[I]:"fire-fn",[j]:"fire-fn-compat",[k]:"fire-iid",[W]:"fire-iid-compat",[M]:"fire-fcm",[x]:"fire-fcm-compat",[R]:"fire-perf",[A]:"fire-perf-compat",[e]:"fire-rc",[r]:"fire-rc-compat",[N]:"fire-gcs",[w]:"fire-gcs-compat",[L]:"fire-fst",[b]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},HH=new Map,cH=new Map;function yH(H,c){try{H.container.bf(c)}catch(y){T.debug(`Component ${c.name} failed to register with FirebaseApp ${H.name}`,y)}}function ZH(H,c){H.container.addOrOverwriteComponent(c)}function FH(H){const c=H.name;if(cH.has(c))return T.debug(`There were multiple attempts to register component ${c}.`),!1;cH.set(c,H);for(const y of HH.values())yH(y,H);return!0}function PH(H,c){const y=H.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),H.container.getProvider(c)}function SH(H,c){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;PH(H,c).clearInstance(y)}function nH(){cH.clear()}const OH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},aH=new P.e("app","Firebase",OH);class iH{constructor(H,c,y){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=y,this.container.bf(new Z.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw aH.create("app-deleted",{appName:this._name})}}const CH="9.23.0";function gH(H){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=H;if("object"!==typeof c){c={name:c}}const F=Object.assign({name:B,automaticDataCollectionEnabled:!1},c),S=F.name;if("string"!==typeof S||!S)throw aH.create("bad-app-name",{appName:String(S)});if(y||(y=(0,P.y)()),!y)throw aH.create("no-options");const n=HH.get(S);if(n){if((0,P.u)(y,n.options)&&(0,P.u)(F,n.config))return n;throw aH.create("duplicate-app",{appName:S})}const O=new Z.e(S);for(const Z of cH.values())O.bf(Z);const a=new iH(y,F,O);return HH.set(S,a),a}function vH(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;const c=HH.get(H);if(!c&&H===B&&(0,P.y)())return gH();if(!c)throw aH.create("no-app",{appName:H});return c}function mH(){return Array.from(HH.values())}async function zH(H){const c=H.name;HH.has(c)&&(HH.delete(c),await Promise.all(H.container.getProviders().map((H=>H.delete()))),H.isDeleted=!0)}function VH(H,c,y){var F;let P=null!==(F=Y[H])&&void 0!==F?F:H;y&&(P+=`-${y}`);const S=P.match(/\s|\//),n=c.match(/\s|\//);if(S||n){const H=[`Unable to register library "${P}" with version "${c}":`];return S&&H.push(`library name "${P}" contains illegal characters (whitespace or "/")`),S&&n&&H.push("and"),n&&H.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void T.warn(H.join(" "))}FH(new Z.h(`${P}-version`,(()=>({library:P,version:c})),"VERSION"))}function hH(H,c){if(null!==H&&"function"!==typeof H)throw aH.create("invalid-log-argument");(0,F.l)(H,c)}function QH(H){(0,F.h)(H)}const DH="firebase-heartbeat-store";let fH=null;function JH(){return fH||(fH=function(H,c){let{blocked:y,upgrade:Z,blocking:F,terminated:P}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const S=indexedDB.open(H,c),n=V(S);return Z&&S.addEventListener("upgradeneeded",(H=>{Z(V(S.result),H.oldVersion,H.newVersion,V(S.transaction),H)})),y&&S.addEventListener("blocked",(H=>y(H.oldVersion,H.newVersion,H))),n.then((H=>{P&&H.addEventListener("close",(()=>P())),F&&H.addEventListener("versionchange",(H=>F(H.oldVersion,H.newVersion,H)))})).catch((()=>{})),n}("firebase-heartbeat-database",1,{upgrade:(H,c)=>{if(0===c)H.createObjectStore(DH)}}).catch((H=>{throw aH.create("idb-open",{originalErrorMessage:H.message})}))),fH}async function lH(H,c){try{const y=(await JH()).transaction(DH,"readwrite"),Z=y.objectStore(DH);await Z.put(c,dH(H)),await y.done}catch(y){if(y instanceof P.i)T.warn(y.message);else{const H=aH.create("idb-set",{originalErrorMessage:null===y||void 0===y?void 0:y.message});T.warn(H.message)}}}function dH(H){return`${H.name}!${H.options.appId}`}class KH{constructor(H){this.container=H,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.Ci=new uH(c),this._heartbeatsCachePromise=this.Ci.read().then((H=>(this._heartbeatsCache=H,H)))}async triggerHeartbeat(){const H=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=TH();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((H=>H.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:H}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((H=>{const c=new Date(H.date).valueOf();return Date.now()-c<=2592e6})),this.Ci.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const H=TH(),{heartbeatsToSend:c,unsentEntries:y}=function(H){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const y=[];let Z=H.slice();for(const F of H){const H=y.find((H=>H.agent===F.agent));if(H){if(H.dates.push(F.date),EH(y)>c){H.dates.pop();break}}else if(y.push({agent:F.agent,dates:[F.date]}),EH(y)>c){y.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:y,unsentEntries:Z}}(this._heartbeatsCache.heartbeats),Z=(0,P.n)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=H,y.length>0?(this._heartbeatsCache.heartbeats=y,await this.Ci.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ci.overwrite(this._heartbeatsCache)),Z}}function TH(){return(new Date).toISOString().substring(0,10)}class uH{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,P.O)()&&(0,P.Z)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(H){try{const c=await JH();return await c.transaction(DH).objectStore(DH).get(dH(H))}catch(c){if(c instanceof P.i)T.warn(c.message);else{const H=aH.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});T.warn(H.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(H){var c;if(await this._canUseIndexedDBPromise){const y=await this.read();return lH(this.app,{lastSentHeartbeatDate:null!==(c=H.lastSentHeartbeatDate)&&void 0!==c?c:y.lastSentHeartbeatDate,heartbeats:H.heartbeats})}}async add(H){var c;if(await this._canUseIndexedDBPromise){const y=await this.read();return lH(this.app,{lastSentHeartbeatDate:null!==(c=H.lastSentHeartbeatDate)&&void 0!==c?c:y.lastSentHeartbeatDate,heartbeats:[...y.heartbeats,...H.heartbeats]})}}}function EH(H){return(0,P.n)(JSON.stringify({version:2,heartbeats:H})).length}var UH;UH="",FH(new Z.h("platform-logger",(H=>new l(H)),"PRIVATE")),FH(new Z.h("heartbeat",(H=>new KH(H)),"PRIVATE")),VH(d,K,UH),VH(d,K,"esm2017"),VH("fire-js","")},10561:(H,c,y)=>{y.d(c,{e:()=>n,h:()=>F});var Z=y(10567);class F{constructor(H,c,y){this.name=H,this.instanceFactory=c,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const P="[DEFAULT]";class S{constructor(H,c){this.name=H,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const c=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(c)){const H=new Z.d;if(this.instancesDeferred.set(c,H),this.isInitialized(c)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:c});y&&H.resolve(y)}catch(y){}}return this.instancesDeferred.get(c).promise}getImmediate(H){var c;const y=this.normalizeInstanceIdentifier(null===H||void 0===H?void 0:H.identifier),Z=null!==(c=null===H||void 0===H?void 0:H.optional)&&void 0!==c&&c;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(F){if(Z)return null;throw F}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function(H){return"EAGER"===H.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:P})}catch(c){}for(const[H,y]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(H);try{const H=this.getOrInitializeService({instanceIdentifier:Z});y.resolve(H)}catch(c){}}}}clearInstance(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}async delete(){const H=Array.from(this.instances.values());await Promise.all([...H.filter((H=>"INTERNAL"in H)).map((H=>H.INTERNAL.delete())),...H.filter((H=>"_delete"in H)).map((H=>H._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(H)}getOptions(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(H)||{}}initialize(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=H,y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:y,options:c});for(const[F,P]of this.instancesDeferred.entries()){y===this.normalizeInstanceIdentifier(F)&&P.resolve(Z)}return Z}gi(H,c){var y;const Z=this.normalizeInstanceIdentifier(c),F=null!==(y=this.onInitCallbacks.get(Z))&&void 0!==y?y:new Set;F.add(H),this.onInitCallbacks.set(Z,F);const P=this.instances.get(Z);return P&&H(P,Z),()=>{F.delete(H)}}invokeOnInitCallbacks(H,c){const y=this.onInitCallbacks.get(c);if(y)for(const F of y)try{F(H,c)}catch(Z){}}getOrInitializeService(H){let{instanceIdentifier:c,options:y={}}=H,Z=this.instances.get(c);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(F=c,F===P?void 0:F),options:y}),this.instances.set(c,Z),this.instancesOptions.set(c,y),this.invokeOnInitCallbacks(Z,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,Z)}catch(S){}var F;return Z||null}normalizeInstanceIdentifier(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?H:P:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class n{constructor(H){this.name=H,this.providers=new Map}bf(H){const c=this.getProvider(H.name);if(c.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);c.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.bf(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const c=new S(H,this);return this.providers.set(H,c),c}getProviders(){return Array.from(this.providers.values())}}},10571:(H,c,y)=>{y.d(c,{d:()=>F,g:()=>a,h:()=>i,l:()=>C});const Z=[];var F;!function(H){H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT"}(F||(F={}));const P={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},S=F.INFO,n={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},O=function(H,c){if(c<H.logLevel)return;const y=(new Date).toISOString(),Z=n[c];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var F=arguments.length,P=new Array(F>2?F-2:0),S=2;S<F;S++)P[S-2]=arguments[S];console[Z](`[${y}]  ${H.name}:`,...P)};class a{constructor(H){this.name=H,this._logLevel=S,this._logHandler=O,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in F))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"===typeof H?P[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!==typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(){for(var H=arguments.length,c=new Array(H),y=0;y<H;y++)c[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...c),this._logHandler(this,F.DEBUG,...c)}log(){for(var H=arguments.length,c=new Array(H),y=0;y<H;y++)c[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...c),this._logHandler(this,F.VERBOSE,...c)}info(){for(var H=arguments.length,c=new Array(H),y=0;y<H;y++)c[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.INFO,...c),this._logHandler(this,F.INFO,...c)}warn(){for(var H=arguments.length,c=new Array(H),y=0;y<H;y++)c[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.WARN,...c),this._logHandler(this,F.WARN,...c)}error(){for(var H=arguments.length,c=new Array(H),y=0;y<H;y++)c[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...c),this._logHandler(this,F.ERROR,...c)}}function i(H){Z.forEach((c=>{c.setLogLevel(H)}))}function C(H,c){for(const y of Z){let Z=null;c&&c.level&&(Z=P[c.level]),y.userLogHandler=null===H?null:function(c,y){for(var P=arguments.length,S=new Array(P>2?P-2:0),n=2;n<P;n++)S[n-2]=arguments[n];const O=S.map((H=>{if(null==H)return null;if("string"===typeof H)return H;if("number"===typeof H||"boolean"===typeof H)return H.toString();if(H instanceof Error)return H.message;try{return JSON.stringify(H)}catch(c){return null}})).filter((H=>H)).join(" ");y>=(null!==Z&&void 0!==Z?Z:c.logLevel)&&H({level:F[y].toLowerCase(),message:O,args:S,type:c.name})}}}}}]);