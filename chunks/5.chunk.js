/*! For license information please see xf2sr.5.8507ada1.chunk.js.LICENSE.txt */
"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[5],{11481:(w,E,G)=>{G.d(E,{A:()=>k,C:()=>O,D:()=>i,H:()=>u,L:()=>e,O:()=>a,R:()=>c,V:()=>I,Z:()=>J,_:()=>d,bb:()=>Q,db:()=>Z,e:()=>V,h:()=>W,hb:()=>f,i:()=>q,ib:()=>o,l:()=>t,mb:()=>K,o:()=>x,s:()=>y,u:()=>D,v:()=>N,x:()=>j});const P=function(w){const E=[];let G=0;for(let P=0;P<w.length;P++){let h=w.charCodeAt(P);h<128?E[G++]=h:h<2048?(E[G++]=h>>6|192,E[G++]=63&h|128):55296===(64512&h)&&P+1<w.length&&56320===(64512&w.charCodeAt(P+1))?(h=65536+((1023&h)<<10)+(1023&w.charCodeAt(++P)),E[G++]=h>>18|240,E[G++]=h>>12&63|128,E[G++]=h>>6&63|128,E[G++]=63&h|128):(E[G++]=h>>12|224,E[G++]=h>>6&63|128,E[G++]=63&h|128)}return E},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(w,E){if(!Array.isArray(w))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let h=0;h<w.length;h+=3){const E=w[h],B=h+1<w.length,y=B?w[h+1]:0,x=h+2<w.length,U=x?w[h+2]:0,l=E>>2,i=(3&E)<<4|y>>4;let O=(15&y)<<2|U>>6,u=63&U;x||(u=64,B||(O=64)),P.push(G[l],G[i],G[O],G[u])}return P.join("")},encodeString(w,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa(w):this.encodeByteArray(P(w),E)},decodeString(w,E){return this.HAS_NATIVE_SUPPORT&&!E?atob(w):function(w){const E=[];let G=0,P=0;for(;G<w.length;){const h=w[G++];if(h<128)E[P++]=String.fromCharCode(h);else if(h>191&&h<224){const B=w[G++];E[P++]=String.fromCharCode((31&h)<<6|63&B)}else if(h>239&&h<365){const B=((7&h)<<18|(63&w[G++])<<12|(63&w[G++])<<6|63&w[G++])-65536;E[P++]=String.fromCharCode(55296+(B>>10)),E[P++]=String.fromCharCode(56320+(1023&B))}else{const B=w[G++],y=w[G++];E[P++]=String.fromCharCode((15&h)<<12|(63&B)<<6|63&y)}}return E.join("")}(this.decodeStringToByteArray(w,E))},decodeStringToByteArray(w,E){this.init_();const G=E?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let h=0;h<w.length;){const E=G[w.charAt(h++)],y=h<w.length?G[w.charAt(h)]:0;++h;const x=h<w.length?G[w.charAt(h)]:64;++h;const U=h<w.length?G[w.charAt(h)]:64;if(++h,null==E||null==y||null==x||null==U)throw new B;const l=E<<2|y>>4;if(P.push(l),64!==x){const w=y<<4&240|x>>2;if(P.push(w),64!==U){const w=x<<6&192|U;P.push(w)}}}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let w=0;w<this.ENCODED_VALS.length;w++)this.byteToCharMap_[w]=this.ENCODED_VALS.charAt(w),this.charToByteMap_[this.byteToCharMap_[w]]=w,this.byteToCharMapWebSafe_[w]=this.ENCODED_VALS_WEBSAFE.charAt(w),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[w]]=w,w>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(w)]=w,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(w)]=w)}}};class B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(w){return function(w){const E=P(w);return h.encodeByteArray(E,!0)}(w).replace(/\./g,"")},x=function(w){try{return h.decodeString(w,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};const U=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof G.g)return G.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return U()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let w;try{w=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(G){return}const E=w&&x(w[1]);return E&&JSON.parse(E)})()}catch(w){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${w}`)}},i=w=>{var E,G;return null===(G=null===(E=l())||void 0===E?void 0:E.emulatorHosts)||void 0===G?void 0:G[w]},O=()=>{var w;return null===(w=l())||void 0===w?void 0:w.config},u=w=>{var E;return null===(E=l())||void 0===E?void 0:E[`_${w}`]};class V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((w,E)=>{this.resolve=w,this.reject=E}))}wrapCallback(w){return(E,G)=>{E?this.reject(E):this.resolve(G),"function"===typeof w&&(this.promise.catch((()=>{})),1===w.length?w(E):w(E,G))}}}function a(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){const w="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof w&&void 0!==w.id}function Z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function J(){const w=a();return w.indexOf("MSIE ")>=0||w.indexOf("Trident/")>=0}function d(){try{return"object"===typeof indexedDB}catch(w){return!1}}function K(){return new Promise(((w,E)=>{try{let G=!0;const P="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(P);h.onsuccess=()=>{h.result.close(),G||self.indexedDB.deleteDatabase(P),w(!0)},h.onupgradeneeded=()=>{G=!1},h.onerror=()=>{var w;E((null===(w=h.error)||void 0===w?void 0:w.message)||"")}}catch(G){E(G)}}))}function t(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class q extends Error{constructor(w,E,G){super(E),this.code=w,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(w,E,G){this.service=w,this.serviceName=E,this.errors=G}create(w){const E=(arguments.length<=1?void 0:arguments[1])||{},G=`${this.service}/${w}`,P=this.errors[w],h=P?function(w,E){return w.replace(T,((w,G)=>{const P=E[G];return null!=P?String(P):`<${G}?>`}))}(P,E):"Error",B=`${this.serviceName}: ${h} (${G}).`;return new q(G,B,E)}}const T=/\{\$([^}]+)}/g;function I(w){for(const E in w)if(Object.prototype.hasOwnProperty.call(w,E))return!1;return!0}function j(w,E){if(w===E)return!0;const G=Object.keys(w),P=Object.keys(E);for(const h of G){if(!P.includes(h))return!1;const G=w[h],B=E[h];if(g(G)&&g(B)){if(!j(G,B))return!1}else if(G!==B)return!1}for(const h of P)if(!G.includes(h))return!1;return!0}function g(w){return null!==w&&"object"===typeof w}function o(w){const E=[];for(const[G,P]of Object.entries(w))Array.isArray(P)?P.forEach((w=>{E.push(encodeURIComponent(G)+"="+encodeURIComponent(w))})):E.push(encodeURIComponent(G)+"="+encodeURIComponent(P));return E.length?"&"+E.join("&"):""}function f(w){const E={};return w.replace(/^\?/,"").split("&").forEach((w=>{if(w){const[G,P]=w.split("=");E[decodeURIComponent(G)]=decodeURIComponent(P)}})),E}function k(w){const E=w.indexOf("?");if(!E)return"";const G=w.indexOf("#",E);return w.substring(E,G>0?G:void 0)}function N(w,E){const G=new v(w,E);return G.subscribe.bind(G)}class v{constructor(w,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then((()=>{w(this)})).catch((w=>{this.error(w)}))}next(w){this.forEachObserver((E=>{E.next(w)}))}error(w){this.forEachObserver((E=>{E.error(w)})),this.close(w)}complete(){this.forEachObserver((w=>{w.complete()})),this.close()}subscribe(w,E,G){let P;if(void 0===w&&void 0===E&&void 0===G)throw new Error("Missing Observer.");P=function(w,E){if("object"!==typeof w||null===w)return!1;for(const G of E)if(G in w&&"function"===typeof w[G])return!0;return!1}(w,["next","error","complete"])?w:{next:w,error:E,complete:G},void 0===P.next&&(P.next=C),void 0===P.error&&(P.error=C),void 0===P.complete&&(P.complete=C);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(w){}})),this.observers.push(P),h}unsubscribeOne(w){void 0!==this.observers&&void 0!==this.observers[w]&&(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(w){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,w)}sendOne(w,E){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[w])try{E(this.observers[w])}catch(G){"undefined"!==typeof console&&console.error&&console.error(G)}}))}close(w){this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function C(){}const s=1e3,F=2,M=144e5,p=.5;function D(w){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;const G=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)*Math.pow(E,w),P=Math.round(p*G*(Math.random()-.5)*2);return Math.min(M,G+P)}function e(w){return w&&w._delegate?w._delegate:w}},11474:(w,E,G)=>{G.d(E,{d:()=>B.i,g:()=>Ow,k:()=>b,l:()=>Gw,o:()=>Pw,q:()=>ww,t:()=>xw,w:()=>Ew,A:()=>Bw,B:()=>hw,C:()=>yw,E:()=>Qw,G:()=>Vw,F:()=>aw,I:()=>uw,J:()=>Zw,L:()=>cw,O:()=>Jw});var P=G(11477),h=G(11488),B=G(11481);let y,x;const U=new WeakMap,l=new WeakMap,i=new WeakMap,O=new WeakMap,u=new WeakMap;let V={get(w,E,G){if(w instanceof IDBTransaction){if("done"===E)return l.get(w);if("objectStoreNames"===E)return w.objectStoreNames||i.get(w);if("store"===E)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return c(w[E])},set:(w,E,G)=>(w[E]=G,!0),has:(w,E)=>w instanceof IDBTransaction&&("done"===E||"store"===E)||E in w};function a(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(w)?function(){for(var E=arguments.length,G=new Array(E),P=0;P<E;P++)G[P]=arguments[P];return w.apply(Z(this),G),c(U.get(this))}:function(){for(var E=arguments.length,G=new Array(E),P=0;P<E;P++)G[P]=arguments[P];return c(w.apply(Z(this),G))}:function(E){for(var G=arguments.length,P=new Array(G>1?G-1:0),h=1;h<G;h++)P[h-1]=arguments[h];const B=w.call(Z(this),E,...P);return i.set(B,E.sort?E.sort():[E]),c(B)}}function Q(w){return"function"===typeof w?a(w):(w instanceof IDBTransaction&&function(w){if(l.has(w))return;const E=new Promise(((E,G)=>{const P=()=>{w.removeEventListener("complete",h),w.removeEventListener("error",B),w.removeEventListener("abort",B)},h=()=>{E(),P()},B=()=>{G(w.error||new DOMException("AbortError","AbortError")),P()};w.addEventListener("complete",h),w.addEventListener("error",B),w.addEventListener("abort",B)}));l.set(w,E)}(w),E=w,(y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((w=>E instanceof w))?new Proxy(w,V):w);var E}function c(w){if(w instanceof IDBRequest)return function(w){const E=new Promise(((E,G)=>{const P=()=>{w.removeEventListener("success",h),w.removeEventListener("error",B)},h=()=>{E(c(w.result)),P()},B=()=>{G(w.error),P()};w.addEventListener("success",h),w.addEventListener("error",B)}));return E.then((E=>{E instanceof IDBCursor&&U.set(E,w)})).catch((()=>{})),u.set(E,w),E}(w);if(O.has(w))return O.get(w);const E=Q(w);return E!==w&&(O.set(w,E),u.set(E,w)),E}const Z=w=>u.get(w);const J=["get","getKey","getAll","getAllKeys","count"],d=["put","add","delete","clear"],K=new Map;function t(w,E){if(!(w instanceof IDBDatabase)||E in w||"string"!==typeof E)return;if(K.get(E))return K.get(E);const G=E.replace(/FromIndex$/,""),P=E!==G,h=d.includes(G);if(!(G in(P?IDBIndex:IDBObjectStore).prototype)||!h&&!J.includes(G))return;const B=async function(w){const E=this.transaction(w,h?"readwrite":"readonly");let B=E.store;for(var y=arguments.length,x=new Array(y>1?y-1:0),U=1;U<y;U++)x[U-1]=arguments[U];return P&&(B=B.index(x.shift())),(await Promise.all([B[G](...x),h&&E.done]))[0]};return K.set(E,B),B}V=(w=>({...w,get:(E,G,P)=>t(E,G)||w.get(E,G,P),has:(E,G)=>!!t(E,G)||w.has(E,G)}))(V);class q{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map((w=>{if(function(w){const E=w.getComponent();return"VERSION"===(null===E||void 0===E?void 0:E.type)}(w)){const E=w.getImmediate();return`${E.library}/${E.version}`}return null})).filter((w=>w)).join(" ")}}const W="@firebase/app",T="0.9.13",I=new h.d("@firebase/app"),j="@firebase/app-compat",g="@firebase/analytics-compat",o="@firebase/analytics",f="@firebase/app-check-compat",k="@firebase/app-check",N="@firebase/auth",v="@firebase/auth-compat",C="@firebase/database",s="@firebase/database-compat",F="@firebase/functions",M="@firebase/functions-compat",p="@firebase/installations",D="@firebase/installations-compat",e="@firebase/messaging",R="@firebase/messaging-compat",H="@firebase/performance",z="@firebase/performance-compat",L="@firebase/remote-config",m="@firebase/remote-config-compat",n="@firebase/storage",r="@firebase/storage-compat",Y="@firebase/firestore",S="@firebase/firestore-compat",X="firebase",b="[DEFAULT]",A={[W]:"fire-core",[j]:"fire-core-compat",[o]:"fire-analytics",[g]:"fire-analytics-compat",[k]:"fire-app-check",[f]:"fire-app-check-compat",[N]:"fire-auth",[v]:"fire-auth-compat",[C]:"fire-rtdb",[s]:"fire-rtdb-compat",[F]:"fire-fn",[M]:"fire-fn-compat",[p]:"fire-iid",[D]:"fire-iid-compat",[e]:"fire-fcm",[R]:"fire-fcm-compat",[H]:"fire-perf",[z]:"fire-perf-compat",[L]:"fire-rc",[m]:"fire-rc-compat",[n]:"fire-gcs",[r]:"fire-gcs-compat",[Y]:"fire-fst",[S]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},ww=new Map,Ew=new Map;function Gw(w,E){try{w.container.zU(E)}catch(G){I.debug(`Component ${E.name} failed to register with FirebaseApp ${w.name}`,G)}}function Pw(w,E){w.container.addOrOverwriteComponent(E)}function hw(w){const E=w.name;if(Ew.has(E))return I.debug(`There were multiple attempts to register component ${E}.`),!1;Ew.set(E,w);for(const G of ww.values())Gw(G,w);return!0}function Bw(w,E){const G=w.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),w.container.getProvider(E)}function yw(w,E){let G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;Bw(w,E).clearInstance(G)}function xw(){Ew.clear()}const Uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lw=new B.h("app","Firebase",Uw);class iw{constructor(w,E,G){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},E),this._name=E.name,this._automaticDataCollectionEnabled=E.automaticDataCollectionEnabled,this._container=G,this.container.zU(new P.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw lw.create("app-deleted",{appName:this._name})}}const Ow="9.23.0";function uw(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=w;if("object"!==typeof E){E={name:E}}const h=Object.assign({name:b,automaticDataCollectionEnabled:!1},E),y=h.name;if("string"!==typeof y||!y)throw lw.create("bad-app-name",{appName:String(y)});if(G||(G=(0,B.C)()),!G)throw lw.create("no-options");const x=ww.get(y);if(x){if((0,B.x)(G,x.options)&&(0,B.x)(h,x.config))return x;throw lw.create("duplicate-app",{appName:y})}const U=new P.e(y);for(const P of Ew.values())U.zU(P);const l=new iw(G,h,U);return ww.set(y,l),l}function Vw(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const E=ww.get(w);if(!E&&w===b&&(0,B.C)())return uw();if(!E)throw lw.create("no-app",{appName:w});return E}function aw(){return Array.from(ww.values())}async function Qw(w){const E=w.name;ww.has(E)&&(ww.delete(E),await Promise.all(w.container.getProviders().map((w=>w.delete()))),w.isDeleted=!0)}function cw(w,E,G){var h;let B=null!==(h=A[w])&&void 0!==h?h:w;G&&(B+=`-${G}`);const y=B.match(/\s|\//),x=E.match(/\s|\//);if(y||x){const w=[`Unable to register library "${B}" with version "${E}":`];return y&&w.push(`library name "${B}" contains illegal characters (whitespace or "/")`),y&&x&&w.push("and"),x&&w.push(`version name "${E}" contains illegal characters (whitespace or "/")`),void I.warn(w.join(" "))}hw(new P.g(`${B}-version`,(()=>({library:B,version:E})),"VERSION"))}function Zw(w,E){if(null!==w&&"function"!==typeof w)throw lw.create("invalid-log-argument");(0,h.g)(w,E)}function Jw(w){(0,h.e)(w)}const dw="firebase-heartbeat-store";let Kw=null;function tw(){return Kw||(Kw=function(w,E){let{blocked:G,upgrade:P,blocking:h,terminated:B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const y=indexedDB.open(w,E),x=c(y);return P&&y.addEventListener("upgradeneeded",(w=>{P(c(y.result),w.oldVersion,w.newVersion,c(y.transaction),w)})),G&&y.addEventListener("blocked",(w=>G(w.oldVersion,w.newVersion,w))),x.then((w=>{B&&w.addEventListener("close",(()=>B())),h&&w.addEventListener("versionchange",(w=>h(w.oldVersion,w.newVersion,w)))})).catch((()=>{})),x}("firebase-heartbeat-database",1,{upgrade:(w,E)=>{if(0===E)w.createObjectStore(dw)}}).catch((w=>{throw lw.create("idb-open",{originalErrorMessage:w.message})}))),Kw}async function qw(w,E){try{const G=(await tw()).transaction(dw,"readwrite"),P=G.objectStore(dw);await P.put(E,Ww(w)),await G.done}catch(G){if(G instanceof B.i)I.warn(G.message);else{const w=lw.create("idb-set",{originalErrorMessage:null===G||void 0===G?void 0:G.message});I.warn(w.message)}}}function Ww(w){return`${w.name}!${w.options.appId}`}class Tw{constructor(w){this.container=w,this._heartbeatsCache=null;const E=this.container.getProvider("app").getImmediate();this.dO=new jw(E),this._heartbeatsCachePromise=this.dO.read().then((w=>(this._heartbeatsCache=w,w)))}async triggerHeartbeat(){const w=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),E=Iw();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==E&&!this._heartbeatsCache.heartbeats.some((w=>w.date===E)))return this._heartbeatsCache.heartbeats.push({date:E,agent:w}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((w=>{const E=new Date(w.date).valueOf();return Date.now()-E<=2592e6})),this.dO.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const w=Iw(),{heartbeatsToSend:E,unsentEntries:G}=function(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const G=[];let P=w.slice();for(const h of w){const w=G.find((w=>w.agent===h.agent));if(w){if(w.dates.push(h.date),gw(G)>E){w.dates.pop();break}}else if(G.push({agent:h.agent,dates:[h.date]}),gw(G)>E){G.pop();break}P=P.slice(1)}return{heartbeatsToSend:G,unsentEntries:P}}(this._heartbeatsCache.heartbeats),P=(0,B.s)(JSON.stringify({version:2,heartbeats:E}));return this._heartbeatsCache.lastSentHeartbeatDate=w,G.length>0?(this._heartbeatsCache.heartbeats=G,await this.dO.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.dO.overwrite(this._heartbeatsCache)),P}}function Iw(){return(new Date).toISOString().substring(0,10)}class jw{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,B._)()&&(0,B.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(w){try{const E=await tw();return await E.transaction(dw).objectStore(dw).get(Ww(w))}catch(E){if(E instanceof B.i)I.warn(E.message);else{const w=lw.create("idb-get",{originalErrorMessage:null===E||void 0===E?void 0:E.message});I.warn(w.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(w){var E;if(await this._canUseIndexedDBPromise){const G=await this.read();return qw(this.app,{lastSentHeartbeatDate:null!==(E=w.lastSentHeartbeatDate)&&void 0!==E?E:G.lastSentHeartbeatDate,heartbeats:w.heartbeats})}}async add(w){var E;if(await this._canUseIndexedDBPromise){const G=await this.read();return qw(this.app,{lastSentHeartbeatDate:null!==(E=w.lastSentHeartbeatDate)&&void 0!==E?E:G.lastSentHeartbeatDate,heartbeats:[...G.heartbeats,...w.heartbeats]})}}}function gw(w){return(0,B.s)(JSON.stringify({version:2,heartbeats:w})).length}var ow;ow="",hw(new P.g("platform-logger",(w=>new q(w)),"PRIVATE")),hw(new P.g("heartbeat",(w=>new Tw(w)),"PRIVATE")),cw(W,T,ow),cw(W,T,"esm2017"),cw("fire-js","")},11477:(w,E,G)=>{G.d(E,{e:()=>x,g:()=>h});var P=G(11481);class h{constructor(w,E,G){this.name=w,this.instanceFactory=E,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(w){return this.instantiationMode=w,this}setMultipleInstances(w){return this.multipleInstances=w,this}setServiceProps(w){return this.serviceProps=w,this}setInstanceCreatedCallback(w){return this.onInstanceCreated=w,this}}const B="[DEFAULT]";class y{constructor(w,E){this.name=w,this.container=E,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(w){const E=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(E)){const w=new P.e;if(this.instancesDeferred.set(E,w),this.isInitialized(E)||this.shouldAutoInitialize())try{const G=this.getOrInitializeService({instanceIdentifier:E});G&&w.resolve(G)}catch(G){}}return this.instancesDeferred.get(E).promise}getImmediate(w){var E;const G=this.normalizeInstanceIdentifier(null===w||void 0===w?void 0:w.identifier),P=null!==(E=null===w||void 0===w?void 0:w.optional)&&void 0!==E&&E;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(h){if(P)return null;throw h}}getComponent(){return this.component}setComponent(w){if(w.name!==this.name)throw Error(`Mismatching Component ${w.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=w,this.shouldAutoInitialize()){if(function(w){return"EAGER"===w.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:B})}catch(E){}for(const[w,G]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(w);try{const w=this.getOrInitializeService({instanceIdentifier:P});G.resolve(w)}catch(E){}}}}clearInstance(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)}async delete(){const w=Array.from(this.instances.values());await Promise.all([...w.filter((w=>"INTERNAL"in w)).map((w=>w.INTERNAL.delete())),...w.filter((w=>"_delete"in w)).map((w=>w._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(w)}getOptions(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(w)||{}}initialize(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:E={}}=w,G=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:G,options:E});for(const[h,B]of this.instancesDeferred.entries()){G===this.normalizeInstanceIdentifier(h)&&B.resolve(P)}return P}bi(w,E){var G;const P=this.normalizeInstanceIdentifier(E),h=null!==(G=this.onInitCallbacks.get(P))&&void 0!==G?G:new Set;h.add(w),this.onInitCallbacks.set(P,h);const B=this.instances.get(P);return B&&w(B,P),()=>{h.delete(w)}}invokeOnInitCallbacks(w,E){const G=this.onInitCallbacks.get(E);if(G)for(const h of G)try{h(w,E)}catch(P){}}getOrInitializeService(w){let{instanceIdentifier:E,options:G={}}=w,P=this.instances.get(E);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:(h=E,h===B?void 0:h),options:G}),this.instances.set(E,P),this.instancesOptions.set(E,G),this.invokeOnInitCallbacks(P,E),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,E,P)}catch(y){}var h;return P||null}normalizeInstanceIdentifier(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?w:B:w}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class x{constructor(w){this.name=w,this.providers=new Map}zU(w){const E=this.getProvider(w.name);if(E.isComponentSet())throw new Error(`Component ${w.name} has already been registered with ${this.name}`);E.setComponent(w)}addOrOverwriteComponent(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.zU(w)}getProvider(w){if(this.providers.has(w))return this.providers.get(w);const E=new y(w,this);return this.providers.set(w,E),E}getProviders(){return Array.from(this.providers.values())}}},11488:(w,E,G)=>{G.d(E,{b:()=>h,d:()=>l,e:()=>i,g:()=>O});const P=[];var h;!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(h||(h={}));const B={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},y=h.INFO,x={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},U=function(w,E){if(E<w.logLevel)return;const G=(new Date).toISOString(),P=x[E];if(!P)throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`);for(var h=arguments.length,B=new Array(h>2?h-2:0),y=2;y<h;y++)B[y-2]=arguments[y];console[P](`[${G}]  ${w.name}:`,...B)};class l{constructor(w){this.name=w,this._logLevel=y,this._logHandler=U,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(w){if(!(w in h))throw new TypeError(`Invalid value "${w}" assigned to \`logLevel\``);this._logLevel=w}setLogLevel(w){this._logLevel="string"===typeof w?B[w]:w}get logHandler(){return this._logHandler}set logHandler(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}get userLogHandler(){return this._userLogHandler}set userLogHandler(w){this._userLogHandler=w}debug(){for(var w=arguments.length,E=new Array(w),G=0;G<w;G++)E[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...E),this._logHandler(this,h.DEBUG,...E)}log(){for(var w=arguments.length,E=new Array(w),G=0;G<w;G++)E[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...E),this._logHandler(this,h.VERBOSE,...E)}info(){for(var w=arguments.length,E=new Array(w),G=0;G<w;G++)E[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,h.INFO,...E),this._logHandler(this,h.INFO,...E)}warn(){for(var w=arguments.length,E=new Array(w),G=0;G<w;G++)E[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,h.WARN,...E),this._logHandler(this,h.WARN,...E)}error(){for(var w=arguments.length,E=new Array(w),G=0;G<w;G++)E[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,h.ERROR,...E),this._logHandler(this,h.ERROR,...E)}}function i(w){P.forEach((E=>{E.setLogLevel(w)}))}function O(w,E){for(const G of P){let P=null;E&&E.level&&(P=B[E.level]),G.userLogHandler=null===w?null:function(E,G){for(var B=arguments.length,y=new Array(B>2?B-2:0),x=2;x<B;x++)y[x-2]=arguments[x];const U=y.map((w=>{if(null==w)return null;if("string"===typeof w)return w;if("number"===typeof w||"boolean"===typeof w)return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch(E){return null}})).filter((w=>w)).join(" ");G>=(null!==P&&void 0!==P?P:E.logLevel)&&w({level:h[G].toLowerCase(),message:U,args:y,type:E.name})}}}}}]);