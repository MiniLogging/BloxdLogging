/*! For license information please see 2gujt.5.4835583d.chunk.js.LICENSE.txt */
"use strict";(self["3nlrbof8msu"]=self["3nlrbof8msu"]||[]).push([[5],{12523:(t,b,Z)=>{Z.d(b,{$:()=>E,C:()=>g,D:()=>r,F:()=>L,J:()=>T,N:()=>k,O:()=>p,Q:()=>l,R:()=>U,T:()=>a,V:()=>u,Y:()=>V,_:()=>j,d:()=>M,g:()=>o,k:()=>H,n:()=>c,r:()=>h,t:()=>v,u:()=>K,v:()=>y,w:()=>e,x:()=>n,y:()=>I});const J=function(t){const b=[];let Z=0;for(let J=0;J<t.length;J++){let S=t.charCodeAt(J);S<128?b[Z++]=S:S<2048?(b[Z++]=S>>6|192,b[Z++]=63&S|128):55296===(64512&S)&&J+1<t.length&&56320===(64512&t.charCodeAt(J+1))?(S=65536+((1023&S)<<10)+(1023&t.charCodeAt(++J)),b[Z++]=S>>18|240,b[Z++]=S>>12&63|128,b[Z++]=S>>6&63|128,b[Z++]=63&S|128):(b[Z++]=S>>12|224,b[Z++]=S>>6&63|128,b[Z++]=63&S|128)}return b},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,b){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let S=0;S<t.length;S+=3){const b=t[S],P=S+1<t.length,v=P?t[S+1]:0,h=S+2<t.length,C=h?t[S+2]:0,Y=b>>2,g=(3&b)<<4|v>>4;let I=(15&v)<<2|C>>6,r=63&C;h||(r=64,P||(I=64)),J.push(Z[Y],Z[g],Z[I],Z[r])}return J.join("")},encodeString(t,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(t):this.encodeByteArray(J(t),b)},decodeString(t,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(t):function(t){const b=[];let Z=0,J=0;for(;Z<t.length;){const S=t[Z++];if(S<128)b[J++]=String.fromCharCode(S);else if(S>191&&S<224){const P=t[Z++];b[J++]=String.fromCharCode((31&S)<<6|63&P)}else if(S>239&&S<365){const P=((7&S)<<18|(63&t[Z++])<<12|(63&t[Z++])<<6|63&t[Z++])-65536;b[J++]=String.fromCharCode(55296+(P>>10)),b[J++]=String.fromCharCode(56320+(1023&P))}else{const P=t[Z++],v=t[Z++];b[J++]=String.fromCharCode((15&S)<<12|(63&P)<<6|63&v)}}return b.join("")}(this.decodeStringToByteArray(t,b))},decodeStringToByteArray(t,b){this.init_();const Z=b?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let S=0;S<t.length;){const b=Z[t.charAt(S++)],v=S<t.length?Z[t.charAt(S)]:0;++S;const h=S<t.length?Z[t.charAt(S)]:64;++S;const C=S<t.length?Z[t.charAt(S)]:64;if(++S,null==b||null==v||null==h||null==C)throw new P;const Y=b<<2|v>>4;if(J.push(Y),64!==h){const t=v<<4&240|h>>2;if(J.push(t),64!==C){const t=h<<6&192|C;J.push(t)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v=function(t){return function(t){const b=J(t);return S.encodeByteArray(b,!0)}(t).replace(/\./g,"")},h=function(t){try{return S.decodeString(t,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Z.g)return Z.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Y=()=>{try{return C()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Z){return}const b=t&&h(t[1]);return b&&JSON.parse(b)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},g=t=>{var b,Z;return null===(Z=null===(b=Y())||void 0===b?void 0:b.emulatorHosts)||void 0===Z?void 0:Z[t]},I=()=>{var t;return null===(t=Y())||void 0===t?void 0:t.config},r=t=>{var b;return null===(b=Y())||void 0===b?void 0:b[`_${t}`]};class M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,b)=>{this.resolve=t,this.reject=b}))}wrapCallback(t){return(b,Z)=>{b?this.reject(b):this.resolve(Z),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(b):t(b,Z))}}}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function k(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function u(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function l(){const t=T();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U(){try{return"object"===typeof indexedDB}catch(t){return!1}}function E(){return new Promise(((t,b)=>{try{let Z=!0;const J="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(J);S.onsuccess=()=>{S.result.close(),Z||self.indexedDB.deleteDatabase(J),t(!0)},S.onupgradeneeded=()=>{Z=!1},S.onerror=()=>{var t;b((null===(t=S.error)||void 0===t?void 0:t.message)||"")}}catch(Z){b(Z)}}))}function c(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class H extends Error{constructor(t,b,Z){super(b),this.code=t,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o.prototype.create)}}class o{constructor(t,b,Z){this.service=t,this.serviceName=b,this.errors=Z}create(t){const b=(arguments.length<=1?void 0:arguments[1])||{},Z=`${this.service}/${t}`,J=this.errors[t],S=J?function(t,b){return t.replace(O,((t,Z)=>{const J=b[Z];return null!=J?String(J):`<${Z}?>`}))}(J,b):"Error",P=`${this.serviceName}: ${S} (${Z}).`;return new H(Z,P,b)}}const O=/\{\$([^}]+)}/g;function p(t){for(const b in t)if(Object.prototype.hasOwnProperty.call(t,b))return!1;return!0}function e(t,b){if(t===b)return!0;const Z=Object.keys(t),J=Object.keys(b);for(const S of Z){if(!J.includes(S))return!1;const Z=t[S],P=b[S];if(W(Z)&&W(P)){if(!e(Z,P))return!1}else if(Z!==P)return!1}for(const S of J)if(!Z.includes(S))return!1;return!0}function W(t){return null!==t&&"object"===typeof t}function j(t){const b=[];for(const[Z,J]of Object.entries(t))Array.isArray(J)?J.forEach((t=>{b.push(encodeURIComponent(Z)+"="+encodeURIComponent(t))})):b.push(encodeURIComponent(Z)+"="+encodeURIComponent(J));return b.length?"&"+b.join("&"):""}function V(t){const b={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[Z,J]=t.split("=");b[decodeURIComponent(Z)]=decodeURIComponent(J)}})),b}function n(t){const b=t.indexOf("?");if(!b)return"";const Z=t.indexOf("#",b);return t.substring(b,Z>0?Z:void 0)}function y(t,b){const Z=new d(t,b);return Z.subscribe.bind(Z)}class d{constructor(t,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((b=>{b.next(t)}))}error(t){this.forEachObserver((b=>{b.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,b,Z){let J;if(void 0===t&&void 0===b&&void 0===Z)throw new Error("Missing Observer.");J=function(t,b){if("object"!==typeof t||null===t)return!1;for(const Z of b)if(Z in t&&"function"===typeof t[Z])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:b,complete:Z},void 0===J.next&&(J.next=s),void 0===J.error&&(J.error=s),void 0===J.complete&&(J.complete=s);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(t){}})),this.observers.push(J),S}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,t)}sendOne(t,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{b(this.observers[t])}catch(Z){"undefined"!==typeof console&&console.error&&console.error(Z)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const q=1e3,Q=2,N=144e5,A=.5;function K(t){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;const Z=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(b,t),J=Math.round(A*Z*(Math.random()-.5)*2);return Math.min(N,Z+J)}function L(t){return t&&t._delegate?t._delegate:t}},12516:(t,b,Z)=>{Z.d(b,{e:()=>P.k,f:()=>It,g:()=>w,k:()=>Zt,n:()=>Jt,o:()=>tt,s:()=>ht,v:()=>bt,w:()=>Pt,z:()=>St,D:()=>vt,G:()=>at,K:()=>Mt,I:()=>Tt,O:()=>rt,Q:()=>ut,R:()=>kt,T:()=>lt});var J=Z(12519),S=Z(12532),P=Z(12523);let v,h;const C=new WeakMap,Y=new WeakMap,g=new WeakMap,I=new WeakMap,r=new WeakMap;let M={get(t,b,Z){if(t instanceof IDBTransaction){if("done"===b)return Y.get(t);if("objectStoreNames"===b)return t.objectStoreNames||g.get(t);if("store"===b)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return k(t[b])},set:(t,b,Z)=>(t[b]=Z,!0),has:(t,b)=>t instanceof IDBTransaction&&("done"===b||"store"===b)||b in t};function T(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var b=arguments.length,Z=new Array(b),J=0;J<b;J++)Z[J]=arguments[J];return t.apply(u(this),Z),k(C.get(this))}:function(){for(var b=arguments.length,Z=new Array(b),J=0;J<b;J++)Z[J]=arguments[J];return k(t.apply(u(this),Z))}:function(b){for(var Z=arguments.length,J=new Array(Z>1?Z-1:0),S=1;S<Z;S++)J[S-1]=arguments[S];const P=t.call(u(this),b,...J);return g.set(P,b.sort?b.sort():[b]),k(P)}}function a(t){return"function"===typeof t?T(t):(t instanceof IDBTransaction&&function(t){if(Y.has(t))return;const b=new Promise(((b,Z)=>{const J=()=>{t.removeEventListener("complete",S),t.removeEventListener("error",P),t.removeEventListener("abort",P)},S=()=>{b(),J()},P=()=>{Z(t.error||new DOMException("AbortError","AbortError")),J()};t.addEventListener("complete",S),t.addEventListener("error",P),t.addEventListener("abort",P)}));Y.set(t,b)}(t),b=t,(v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>b instanceof t))?new Proxy(t,M):t);var b}function k(t){if(t instanceof IDBRequest)return function(t){const b=new Promise(((b,Z)=>{const J=()=>{t.removeEventListener("success",S),t.removeEventListener("error",P)},S=()=>{b(k(t.result)),J()},P=()=>{Z(t.error),J()};t.addEventListener("success",S),t.addEventListener("error",P)}));return b.then((b=>{b instanceof IDBCursor&&C.set(b,t)})).catch((()=>{})),r.set(b,t),b}(t);if(I.has(t))return I.get(t);const b=a(t);return b!==t&&(I.set(t,b),r.set(b,t)),b}const u=t=>r.get(t);const l=["get","getKey","getAll","getAllKeys","count"],U=["put","add","delete","clear"],E=new Map;function c(t,b){if(!(t instanceof IDBDatabase)||b in t||"string"!==typeof b)return;if(E.get(b))return E.get(b);const Z=b.replace(/FromIndex$/,""),J=b!==Z,S=U.includes(Z);if(!(Z in(J?IDBIndex:IDBObjectStore).prototype)||!S&&!l.includes(Z))return;const P=async function(t){const b=this.transaction(t,S?"readwrite":"readonly");let P=b.store;for(var v=arguments.length,h=new Array(v>1?v-1:0),C=1;C<v;C++)h[C-1]=arguments[C];return J&&(P=P.index(h.shift())),(await Promise.all([P[Z](...h),S&&b.done]))[0]};return E.set(b,P),P}M=(t=>({...t,get:(b,Z,J)=>c(b,Z)||t.get(b,Z,J),has:(b,Z)=>!!c(b,Z)||t.has(b,Z)}))(M);class H{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const b=t.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(t)){const b=t.getImmediate();return`${b.library}/${b.version}`}return null})).filter((t=>t)).join(" ")}}const o="@firebase/app",O="0.9.13",p=new S.d("@firebase/app"),e="@firebase/app-compat",W="@firebase/analytics-compat",j="@firebase/analytics",V="@firebase/app-check-compat",n="@firebase/app-check",y="@firebase/auth",d="@firebase/auth-compat",s="@firebase/database",q="@firebase/database-compat",Q="@firebase/functions",N="@firebase/functions-compat",A="@firebase/installations",K="@firebase/installations-compat",L="@firebase/messaging",F="@firebase/messaging-compat",B="@firebase/performance",X="@firebase/performance-compat",x="@firebase/remote-config",i="@firebase/remote-config-compat",z="@firebase/storage",D="@firebase/storage-compat",f="@firebase/firestore",mt="@firebase/firestore-compat",R="firebase",w="[DEFAULT]",G={[o]:"fire-core",[e]:"fire-core-compat",[j]:"fire-analytics",[W]:"fire-analytics-compat",[n]:"fire-app-check",[V]:"fire-app-check-compat",[y]:"fire-auth",[d]:"fire-auth-compat",[s]:"fire-rtdb",[q]:"fire-rtdb-compat",[Q]:"fire-fn",[N]:"fire-fn-compat",[A]:"fire-iid",[K]:"fire-iid-compat",[L]:"fire-fcm",[F]:"fire-fcm-compat",[B]:"fire-perf",[X]:"fire-perf-compat",[x]:"fire-rc",[i]:"fire-rc-compat",[z]:"fire-gcs",[D]:"fire-gcs-compat",[f]:"fire-fst",[mt]:"fire-fst-compat","fire-js":"fire-js",[R]:"fire-js-all"},tt=new Map,bt=new Map;function Zt(t,b){try{t.container.YY(b)}catch(Z){p.debug(`Component ${b.name} failed to register with FirebaseApp ${t.name}`,Z)}}function Jt(t,b){t.container.addOrOverwriteComponent(b)}function St(t){const b=t.name;if(bt.has(b))return p.debug(`There were multiple attempts to register component ${b}.`),!1;bt.set(b,t);for(const Z of tt.values())Zt(Z,t);return!0}function Pt(t,b){const Z=t.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),t.container.getProvider(b)}function vt(t,b){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;Pt(t,b).clearInstance(Z)}function ht(){bt.clear()}const Ct={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yt=new P.g("app","Firebase",Ct);class gt{constructor(t,b,Z){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=Z,this.container.YY(new J.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yt.create("app-deleted",{appName:this._name})}}const It="9.23.0";function rt(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Z=t;if("object"!==typeof b){b={name:b}}const S=Object.assign({name:w,automaticDataCollectionEnabled:!1},b),v=S.name;if("string"!==typeof v||!v)throw Yt.create("bad-app-name",{appName:String(v)});if(Z||(Z=(0,P.y)()),!Z)throw Yt.create("no-options");const h=tt.get(v);if(h){if((0,P.w)(Z,h.options)&&(0,P.w)(S,h.config))return h;throw Yt.create("duplicate-app",{appName:v})}const C=new J.d(v);for(const J of bt.values())C.YY(J);const Y=new gt(Z,S,C);return tt.set(v,Y),Y}function Mt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;const b=tt.get(t);if(!b&&t===w&&(0,P.y)())return rt();if(!b)throw Yt.create("no-app",{appName:t});return b}function Tt(){return Array.from(tt.values())}async function at(t){const b=t.name;tt.has(b)&&(tt.delete(b),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function kt(t,b,Z){var S;let P=null!==(S=G[t])&&void 0!==S?S:t;Z&&(P+=`-${Z}`);const v=P.match(/\s|\//),h=b.match(/\s|\//);if(v||h){const t=[`Unable to register library "${P}" with version "${b}":`];return v&&t.push(`library name "${P}" contains illegal characters (whitespace or "/")`),v&&h&&t.push("and"),h&&t.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void p.warn(t.join(" "))}St(new J.f(`${P}-version`,(()=>({library:P,version:b})),"VERSION"))}function ut(t,b){if(null!==t&&"function"!==typeof t)throw Yt.create("invalid-log-argument");(0,S.h)(t,b)}function lt(t){(0,S.g)(t)}const Ut="firebase-heartbeat-store";let Et=null;function ct(){return Et||(Et=function(t,b){let{blocked:Z,upgrade:J,blocking:S,terminated:P}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const v=indexedDB.open(t,b),h=k(v);return J&&v.addEventListener("upgradeneeded",(t=>{J(k(v.result),t.oldVersion,t.newVersion,k(v.transaction),t)})),Z&&v.addEventListener("blocked",(t=>Z(t.oldVersion,t.newVersion,t))),h.then((t=>{P&&t.addEventListener("close",(()=>P())),S&&t.addEventListener("versionchange",(t=>S(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),h}("firebase-heartbeat-database",1,{upgrade:(t,b)=>{if(0===b)t.createObjectStore(Ut)}}).catch((t=>{throw Yt.create("idb-open",{originalErrorMessage:t.message})}))),Et}async function Ht(t,b){try{const Z=(await ct()).transaction(Ut,"readwrite"),J=Z.objectStore(Ut);await J.put(b,ot(t)),await Z.done}catch(Z){if(Z instanceof P.k)p.warn(Z.message);else{const t=Yt.create("idb-set",{originalErrorMessage:null===Z||void 0===Z?void 0:Z.message});p.warn(t.message)}}}function ot(t){return`${t.name}!${t.options.appId}`}class Ot{constructor(t){this.container=t,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.Zr=new et(b),this._heartbeatsCachePromise=this.Zr.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=pt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((t=>t.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const b=new Date(t.date).valueOf();return Date.now()-b<=2592e6})),this.Zr.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=pt(),{heartbeatsToSend:b,unsentEntries:Z}=function(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Z=[];let J=t.slice();for(const S of t){const t=Z.find((t=>t.agent===S.agent));if(t){if(t.dates.push(S.date),Wt(Z)>b){t.dates.pop();break}}else if(Z.push({agent:S.agent,dates:[S.date]}),Wt(Z)>b){Z.pop();break}J=J.slice(1)}return{heartbeatsToSend:Z,unsentEntries:J}}(this._heartbeatsCache.heartbeats),J=(0,P.t)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=t,Z.length>0?(this._heartbeatsCache.heartbeats=Z,await this.Zr.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Zr.overwrite(this._heartbeatsCache)),J}}function pt(){return(new Date).toISOString().substring(0,10)}class et{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,P.R)()&&(0,P.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{const b=await ct();return await b.transaction(Ut).objectStore(Ut).get(ot(t))}catch(b){if(b instanceof P.k)p.warn(b.message);else{const t=Yt.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});p.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var b;if(await this._canUseIndexedDBPromise){const Z=await this.read();return Ht(this.app,{lastSentHeartbeatDate:null!==(b=t.lastSentHeartbeatDate)&&void 0!==b?b:Z.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var b;if(await this._canUseIndexedDBPromise){const Z=await this.read();return Ht(this.app,{lastSentHeartbeatDate:null!==(b=t.lastSentHeartbeatDate)&&void 0!==b?b:Z.lastSentHeartbeatDate,heartbeats:[...Z.heartbeats,...t.heartbeats]})}}}function Wt(t){return(0,P.t)(JSON.stringify({version:2,heartbeats:t})).length}var jt;jt="",St(new J.f("platform-logger",(t=>new H(t)),"PRIVATE")),St(new J.f("heartbeat",(t=>new Ot(t)),"PRIVATE")),kt(o,O,jt),kt(o,O,"esm2017"),kt("fire-js","")},12519:(t,b,Z)=>{Z.d(b,{d:()=>h,f:()=>S});var J=Z(12523);class S{constructor(t,b,Z){this.name=t,this.instanceFactory=b,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const P="[DEFAULT]";class v{constructor(t,b){this.name=t,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const b=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(b)){const t=new J.d;if(this.instancesDeferred.set(b,t),this.isInitialized(b)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:b});Z&&t.resolve(Z)}catch(Z){}}return this.instancesDeferred.get(b).promise}getImmediate(t){var b;const Z=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),J=null!==(b=null===t||void 0===t?void 0:t.optional)&&void 0!==b&&b;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(S){if(J)return null;throw S}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(b){}for(const[t,Z]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:J});Z.resolve(t)}catch(b){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=t,Z=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:Z,options:b});for(const[S,P]of this.instancesDeferred.entries()){Z===this.normalizeInstanceIdentifier(S)&&P.resolve(J)}return J}sI(t,b){var Z;const J=this.normalizeInstanceIdentifier(b),S=null!==(Z=this.onInitCallbacks.get(J))&&void 0!==Z?Z:new Set;S.add(t),this.onInitCallbacks.set(J,S);const P=this.instances.get(J);return P&&t(P,J),()=>{S.delete(t)}}invokeOnInitCallbacks(t,b){const Z=this.onInitCallbacks.get(b);if(Z)for(const S of Z)try{S(t,b)}catch(J){}}getOrInitializeService(t){let{instanceIdentifier:b,options:Z={}}=t,J=this.instances.get(b);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(S=b,S===P?void 0:S),options:Z}),this.instances.set(b,J),this.instancesOptions.set(b,Z),this.invokeOnInitCallbacks(J,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,J)}catch(v){}var S;return J||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?t:P:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(t){this.name=t,this.providers=new Map}YY(t){const b=this.getProvider(t.name);if(b.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);b.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.YY(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const b=new v(t,this);return this.providers.set(t,b),b}getProviders(){return Array.from(this.providers.values())}}},12532:(t,b,Z)=>{Z.d(b,{c:()=>S,d:()=>Y,g:()=>g,h:()=>I});const J=[];var S;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(S||(S={}));const P={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},v=S.INFO,h={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},C=function(t,b){if(b<t.logLevel)return;const Z=(new Date).toISOString(),J=h[b];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var S=arguments.length,P=new Array(S>2?S-2:0),v=2;v<S;v++)P[v-2]=arguments[v];console[J](`[${Z}]  ${t.name}:`,...P)};class Y{constructor(t){this.name=t,this._logLevel=v,this._logHandler=C,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in S))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?P[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,b=new Array(t),Z=0;Z<t;Z++)b[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...b),this._logHandler(this,S.DEBUG,...b)}log(){for(var t=arguments.length,b=new Array(t),Z=0;Z<t;Z++)b[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...b),this._logHandler(this,S.VERBOSE,...b)}info(){for(var t=arguments.length,b=new Array(t),Z=0;Z<t;Z++)b[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,S.INFO,...b),this._logHandler(this,S.INFO,...b)}warn(){for(var t=arguments.length,b=new Array(t),Z=0;Z<t;Z++)b[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,S.WARN,...b),this._logHandler(this,S.WARN,...b)}error(){for(var t=arguments.length,b=new Array(t),Z=0;Z<t;Z++)b[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,S.ERROR,...b),this._logHandler(this,S.ERROR,...b)}}function g(t){J.forEach((b=>{b.setLogLevel(t)}))}function I(t,b){for(const Z of J){let J=null;b&&b.level&&(J=P[b.level]),Z.userLogHandler=null===t?null:function(b,Z){for(var P=arguments.length,v=new Array(P>2?P-2:0),h=2;h<P;h++)v[h-2]=arguments[h];const C=v.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(b){return null}})).filter((t=>t)).join(" ");Z>=(null!==J&&void 0!==J?J:b.logLevel)&&t({level:S[Z].toLowerCase(),message:C,args:v,type:b.name})}}}}}]);