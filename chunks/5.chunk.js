/*! For license information please see ts7kx.5.41158aa5.chunk.js.LICENSE.txt */
"use strict";(self.vb3rpbgyozo=self.vb3rpbgyozo||[]).push([[5],{12538:(q,I,l)=>{l.d(I,{C:()=>K,G:()=>r,H:()=>Z,L:()=>x,M:()=>u,P:()=>d,R:()=>V,T:()=>i,W:()=>B,Z:()=>v,ab:()=>T,d:()=>o,eb:()=>U,h:()=>W,ib:()=>X,j:()=>R,kb:()=>p,m:()=>C,mb:()=>k,o:()=>a,p:()=>c,t:()=>h,x:()=>D,z:()=>S});const w=function(q){const I=[];let l=0;for(let w=0;w<q.length;w++){let t=q.charCodeAt(w);t<128?I[l++]=t:t<2048?(I[l++]=t>>6|192,I[l++]=63&t|128):55296===(64512&t)&&w+1<q.length&&56320===(64512&q.charCodeAt(w+1))?(t=65536+((1023&t)<<10)+(1023&q.charCodeAt(++w)),I[l++]=t>>18|240,I[l++]=t>>12&63|128,I[l++]=t>>6&63|128,I[l++]=63&t|128):(I[l++]=t>>12|224,I[l++]=t>>6&63|128,I[l++]=63&t|128)}return I},t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(q,I){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,w=[];for(let t=0;t<q.length;t+=3){const I=q[t],O=t+1<q.length,c=O?q[t+1]:0,a=t+2<q.length,F=a?q[t+2]:0,s=I>>2,Z=(3&I)<<4|c>>4;let r=(15&c)<<2|F>>6,x=63&F;a||(x=64,O||(r=64)),w.push(l[s],l[Z],l[r],l[x])}return w.join("")},encodeString(q,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(q):this.encodeByteArray(w(q),I)},decodeString(q,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(q):function(q){const I=[];let l=0,w=0;for(;l<q.length;){const t=q[l++];if(t<128)I[w++]=String.fromCharCode(t);else if(t>191&&t<224){const O=q[l++];I[w++]=String.fromCharCode((31&t)<<6|63&O)}else if(t>239&&t<365){const O=((7&t)<<18|(63&q[l++])<<12|(63&q[l++])<<6|63&q[l++])-65536;I[w++]=String.fromCharCode(55296+(O>>10)),I[w++]=String.fromCharCode(56320+(1023&O))}else{const O=q[l++],c=q[l++];I[w++]=String.fromCharCode((15&t)<<12|(63&O)<<6|63&c)}}return I.join("")}(this.decodeStringToByteArray(q,I))},decodeStringToByteArray(q,I){this.init_();const l=I?this.charToByteMapWebSafe_:this.charToByteMap_,w=[];for(let t=0;t<q.length;){const I=l[q.charAt(t++)],c=t<q.length?l[q.charAt(t)]:0;++t;const a=t<q.length?l[q.charAt(t)]:64;++t;const F=t<q.length?l[q.charAt(t)]:64;if(++t,null==I||null==c||null==a||null==F)throw new O;const s=I<<2|c>>4;if(w.push(s),64!==a){const q=c<<4&240|a>>2;if(w.push(q),64!==F){const q=a<<6&192|F;w.push(q)}}}return w},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(q){return function(q){const I=w(q);return t.encodeByteArray(I,!0)}(q).replace(/\./g,"")},a=function(q){try{return t.decodeString(q,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};const F=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof l.g)return l.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,s=()=>{try{return F()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(l){return}const I=q&&a(q[1]);return I&&JSON.parse(I)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},Z=q=>{var I,l;return null===(l=null===(I=s())||void 0===I?void 0:I.emulatorHosts)||void 0===l?void 0:l[q]},r=()=>{var q;return null===(q=s())||void 0===q?void 0:q.config},x=q=>{var I;return null===(I=s())||void 0===I?void 0:I[`_${q}`]};class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((q,I)=>{this.resolve=q,this.reject=I}))}wrapCallback(q){return(I,l)=>{I?this.reject(I):this.resolve(l),"function"===typeof q&&(this.promise.catch((()=>{})),1===q.length?q(I):q(I,l))}}}function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function V(){const q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof q&&void 0!==q.id}function U(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function B(){const q=d();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(q){return!1}}function k(){return new Promise(((q,I)=>{try{let l=!0;const w="validate-browser-context-for-indexeddb-analytics-module",t=self.indexedDB.open(w);t.onsuccess=()=>{t.result.close(),l||self.indexedDB.deleteDatabase(w),q(!0)},t.onupgradeneeded=()=>{l=!1},t.onerror=()=>{var q;I((null===(q=t.error)||void 0===q?void 0:q.message)||"")}}catch(l){I(l)}}))}function C(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class R extends Error{constructor(q,I,l){super(I),this.code=q,this.customData=l,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(q,I,l){this.service=q,this.serviceName=I,this.errors=l}create(q){const I=(arguments.length<=1?void 0:arguments[1])||{},l=`${this.service}/${q}`,w=this.errors[q],t=w?function(q,I){return q.replace(e,((q,l)=>{const w=I[l];return null!=w?String(w):`<${l}?>`}))}(w,I):"Error",O=`${this.serviceName}: ${t} (${l}).`;return new R(l,O,I)}}const e=/\{\$([^}]+)}/g;function i(q){for(const I in q)if(Object.prototype.hasOwnProperty.call(q,I))return!1;return!0}function S(q,I){if(q===I)return!0;const l=Object.keys(q),w=Object.keys(I);for(const t of l){if(!w.includes(t))return!1;const l=q[t],O=I[t];if(g(l)&&g(O)){if(!S(l,O))return!1}else if(l!==O)return!1}for(const t of w)if(!l.includes(t))return!1;return!0}function g(q){return null!==q&&"object"===typeof q}function p(q){const I=[];for(const[l,w]of Object.entries(q))Array.isArray(w)?w.forEach((q=>{I.push(encodeURIComponent(l)+"="+encodeURIComponent(q))})):I.push(encodeURIComponent(l)+"="+encodeURIComponent(w));return I.length?"&"+I.join("&"):""}function X(q){const I={};return q.replace(/^\?/,"").split("&").forEach((q=>{if(q){const[l,w]=q.split("=");I[decodeURIComponent(l)]=decodeURIComponent(w)}})),I}function K(q){const I=q.indexOf("?");if(!I)return"";const l=q.indexOf("#",I);return q.substring(I,l>0?l:void 0)}function D(q,I){const l=new M(q,I);return l.subscribe.bind(l)}class M{constructor(q,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then((()=>{q(this)})).catch((q=>{this.error(q)}))}next(q){this.forEachObserver((I=>{I.next(q)}))}error(q){this.forEachObserver((I=>{I.error(q)})),this.close(q)}complete(){this.forEachObserver((q=>{q.complete()})),this.close()}subscribe(q,I,l){let w;if(void 0===q&&void 0===I&&void 0===l)throw new Error("Missing Observer.");w=function(q,I){if("object"!==typeof q||null===q)return!1;for(const l of I)if(l in q&&"function"===typeof q[l])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:I,complete:l},void 0===w.next&&(w.next=n),void 0===w.error&&(w.error=n),void 0===w.complete&&(w.complete=n);const t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?w.error(this.finalError):w.complete()}catch(q){}})),this.observers.push(w),t}unsubscribeOne(q){void 0!==this.observers&&void 0!==this.observers[q]&&(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,q)}sendOne(q,I){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{I(this.observers[q])}catch(l){"undefined"!==typeof console&&console.error&&console.error(l)}}))}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function n(){}const f=1e3,L=2,E=144e5,j=.5;function h(q){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;const l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f)*Math.pow(I,q),w=Math.round(j*l*(Math.random()-.5)*2);return Math.min(E,l+w)}function u(q){return q&&q._delegate?q._delegate:q}},12530:(q,I,l)=>{l.d(I,{b:()=>O.j,c:()=>rq,e:()=>Q,h:()=>lq,j:()=>wq,l:()=>qq,n:()=>aq,p:()=>Iq,r:()=>Oq,t:()=>tq,u:()=>cq,w:()=>Tq,B:()=>oq,z:()=>dq,C:()=>xq,G:()=>Uq,H:()=>Vq,J:()=>Bq});var w=l(12535),t=l(12544),O=l(12538);let c,a;const F=new WeakMap,s=new WeakMap,Z=new WeakMap,r=new WeakMap,x=new WeakMap;let o={get(q,I,l){if(q instanceof IDBTransaction){if("done"===I)return s.get(q);if("objectStoreNames"===I)return q.objectStoreNames||Z.get(q);if("store"===I)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return V(q[I])},set:(q,I,l)=>(q[I]=l,!0),has:(q,I)=>q instanceof IDBTransaction&&("done"===I||"store"===I)||I in q};function d(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(q)?function(){for(var I=arguments.length,l=new Array(I),w=0;w<I;w++)l[w]=arguments[w];return q.apply(U(this),l),V(F.get(this))}:function(){for(var I=arguments.length,l=new Array(I),w=0;w<I;w++)l[w]=arguments[w];return V(q.apply(U(this),l))}:function(I){for(var l=arguments.length,w=new Array(l>1?l-1:0),t=1;t<l;t++)w[t-1]=arguments[t];const O=q.call(U(this),I,...w);return Z.set(O,I.sort?I.sort():[I]),V(O)}}function T(q){return"function"===typeof q?d(q):(q instanceof IDBTransaction&&function(q){if(s.has(q))return;const I=new Promise(((I,l)=>{const w=()=>{q.removeEventListener("complete",t),q.removeEventListener("error",O),q.removeEventListener("abort",O)},t=()=>{I(),w()},O=()=>{l(q.error||new DOMException("AbortError","AbortError")),w()};q.addEventListener("complete",t),q.addEventListener("error",O),q.addEventListener("abort",O)}));s.set(q,I)}(q),I=q,(c||(c=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((q=>I instanceof q))?new Proxy(q,o):q);var I}function V(q){if(q instanceof IDBRequest)return function(q){const I=new Promise(((I,l)=>{const w=()=>{q.removeEventListener("success",t),q.removeEventListener("error",O)},t=()=>{I(V(q.result)),w()},O=()=>{l(q.error),w()};q.addEventListener("success",t),q.addEventListener("error",O)}));return I.then((I=>{I instanceof IDBCursor&&F.set(I,q)})).catch((()=>{})),x.set(I,q),I}(q);if(r.has(q))return r.get(q);const I=T(q);return I!==q&&(r.set(q,I),x.set(I,q)),I}const U=q=>x.get(q);const B=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],k=new Map;function C(q,I){if(!(q instanceof IDBDatabase)||I in q||"string"!==typeof I)return;if(k.get(I))return k.get(I);const l=I.replace(/FromIndex$/,""),w=I!==l,t=v.includes(l);if(!(l in(w?IDBIndex:IDBObjectStore).prototype)||!t&&!B.includes(l))return;const O=async function(q){const I=this.transaction(q,t?"readwrite":"readonly");let O=I.store;for(var c=arguments.length,a=new Array(c>1?c-1:0),F=1;F<c;F++)a[F-1]=arguments[F];return w&&(O=O.index(a.shift())),(await Promise.all([O[l](...a),t&&I.done]))[0]};return k.set(I,O),O}o=(q=>({...q,get:(I,l,w)=>C(I,l)||q.get(I,l,w),has:(I,l)=>!!C(I,l)||q.has(I,l)}))(o);class R{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map((q=>{if(function(q){const I=q.getComponent();return"VERSION"===(null===I||void 0===I?void 0:I.type)}(q)){const I=q.getImmediate();return`${I.library}/${I.version}`}return null})).filter((q=>q)).join(" ")}}const W="@firebase/app",e="0.9.13",i=new t.d("@firebase/app"),S="@firebase/app-compat",g="@firebase/analytics-compat",p="@firebase/analytics",X="@firebase/app-check-compat",K="@firebase/app-check",D="@firebase/auth",M="@firebase/auth-compat",n="@firebase/database",f="@firebase/database-compat",L="@firebase/functions",E="@firebase/functions-compat",j="@firebase/installations",h="@firebase/installations-compat",u="@firebase/messaging",P="@firebase/messaging-compat",mq="@firebase/performance",Y="@firebase/performance-compat",y="@firebase/remote-config",G="@firebase/remote-config-compat",N="@firebase/storage",J="@firebase/storage-compat",z="@firebase/firestore",H="@firebase/firestore-compat",A="firebase",Q="[DEFAULT]",b={[W]:"fire-core",[S]:"fire-core-compat",[p]:"fire-analytics",[g]:"fire-analytics-compat",[K]:"fire-app-check",[X]:"fire-app-check-compat",[D]:"fire-auth",[M]:"fire-auth-compat",[n]:"fire-rtdb",[f]:"fire-rtdb-compat",[L]:"fire-fn",[E]:"fire-fn-compat",[j]:"fire-iid",[h]:"fire-iid-compat",[u]:"fire-fcm",[P]:"fire-fcm-compat",[mq]:"fire-perf",[Y]:"fire-perf-compat",[y]:"fire-rc",[G]:"fire-rc-compat",[N]:"fire-gcs",[J]:"fire-gcs-compat",[z]:"fire-fst",[H]:"fire-fst-compat","fire-js":"fire-js",[A]:"fire-js-all"},qq=new Map,Iq=new Map;function lq(q,I){try{q.container.cs(I)}catch(l){i.debug(`Component ${I.name} failed to register with FirebaseApp ${q.name}`,l)}}function wq(q,I){q.container.addOrOverwriteComponent(I)}function tq(q){const I=q.name;if(Iq.has(I))return i.debug(`There were multiple attempts to register component ${I}.`),!1;Iq.set(I,q);for(const l of qq.values())lq(l,q);return!0}function Oq(q,I){const l=q.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),q.container.getProvider(I)}function cq(q,I){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;Oq(q,I).clearInstance(l)}function aq(){Iq.clear()}const Fq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sq=new O.h("app","Firebase",Fq);class Zq{constructor(q,I,l){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=l,this.container.cs(new w.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw sq.create("app-deleted",{appName:this._name})}}const rq="9.23.0";function xq(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=q;if("object"!==typeof I){I={name:I}}const t=Object.assign({name:Q,automaticDataCollectionEnabled:!1},I),c=t.name;if("string"!==typeof c||!c)throw sq.create("bad-app-name",{appName:String(c)});if(l||(l=(0,O.G)()),!l)throw sq.create("no-options");const a=qq.get(c);if(a){if((0,O.z)(l,a.options)&&(0,O.z)(t,a.config))return a;throw sq.create("duplicate-app",{appName:c})}const F=new w.e(c);for(const w of Iq.values())F.cs(w);const s=new Zq(l,t,F);return qq.set(c,s),s}function oq(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const I=qq.get(q);if(!I&&q===Q&&(0,O.G)())return xq();if(!I)throw sq.create("no-app",{appName:q});return I}function dq(){return Array.from(qq.values())}async function Tq(q){const I=q.name;qq.has(I)&&(qq.delete(I),await Promise.all(q.container.getProviders().map((q=>q.delete()))),q.isDeleted=!0)}function Vq(q,I,l){var t;let O=null!==(t=b[q])&&void 0!==t?t:q;l&&(O+=`-${l}`);const c=O.match(/\s|\//),a=I.match(/\s|\//);if(c||a){const q=[`Unable to register library "${O}" with version "${I}":`];return c&&q.push(`library name "${O}" contains illegal characters (whitespace or "/")`),c&&a&&q.push("and"),a&&q.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void i.warn(q.join(" "))}tq(new w.f(`${O}-version`,(()=>({library:O,version:I})),"VERSION"))}function Uq(q,I){if(null!==q&&"function"!==typeof q)throw sq.create("invalid-log-argument");(0,t.j)(q,I)}function Bq(q){(0,t.g)(q)}const vq="firebase-heartbeat-store";let kq=null;function Cq(){return kq||(kq=function(q,I){let{blocked:l,upgrade:w,blocking:t,terminated:O}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=indexedDB.open(q,I),a=V(c);return w&&c.addEventListener("upgradeneeded",(q=>{w(V(c.result),q.oldVersion,q.newVersion,V(c.transaction),q)})),l&&c.addEventListener("blocked",(q=>l(q.oldVersion,q.newVersion,q))),a.then((q=>{O&&q.addEventListener("close",(()=>O())),t&&q.addEventListener("versionchange",(q=>t(q.oldVersion,q.newVersion,q)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(q,I)=>{if(0===I)q.createObjectStore(vq)}}).catch((q=>{throw sq.create("idb-open",{originalErrorMessage:q.message})}))),kq}async function Rq(q,I){try{const l=(await Cq()).transaction(vq,"readwrite"),w=l.objectStore(vq);await w.put(I,Wq(q)),await l.done}catch(l){if(l instanceof O.j)i.warn(l.message);else{const q=sq.create("idb-set",{originalErrorMessage:null===l||void 0===l?void 0:l.message});i.warn(q.message)}}}function Wq(q){return`${q.name}!${q.options.appId}`}class eq{constructor(q){this.container=q,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this.ur=new Sq(I),this._heartbeatsCachePromise=this.ur.read().then((q=>(this._heartbeatsCache=q,q)))}async triggerHeartbeat(){const q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=iq();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==I&&!this._heartbeatsCache.heartbeats.some((q=>q.date===I)))return this._heartbeatsCache.heartbeats.push({date:I,agent:q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q=>{const I=new Date(q.date).valueOf();return Date.now()-I<=2592e6})),this.ur.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const q=iq(),{heartbeatsToSend:I,unsentEntries:l}=function(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const l=[];let w=q.slice();for(const t of q){const q=l.find((q=>q.agent===t.agent));if(q){if(q.dates.push(t.date),gq(l)>I){q.dates.pop();break}}else if(l.push({agent:t.agent,dates:[t.date]}),gq(l)>I){l.pop();break}w=w.slice(1)}return{heartbeatsToSend:l,unsentEntries:w}}(this._heartbeatsCache.heartbeats),w=(0,O.p)(JSON.stringify({version:2,heartbeats:I}));return this._heartbeatsCache.lastSentHeartbeatDate=q,l.length>0?(this._heartbeatsCache.heartbeats=l,await this.ur.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ur.overwrite(this._heartbeatsCache)),w}}function iq(){return(new Date).toISOString().substring(0,10)}class Sq{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,O.Z)()&&(0,O.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(q){try{const I=await Cq();return await I.transaction(vq).objectStore(vq).get(Wq(q))}catch(I){if(I instanceof O.j)i.warn(I.message);else{const q=sq.create("idb-get",{originalErrorMessage:null===I||void 0===I?void 0:I.message});i.warn(q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(q){var I;if(await this._canUseIndexedDBPromise){const l=await this.read();return Rq(this.app,{lastSentHeartbeatDate:null!==(I=q.lastSentHeartbeatDate)&&void 0!==I?I:l.lastSentHeartbeatDate,heartbeats:q.heartbeats})}}async add(q){var I;if(await this._canUseIndexedDBPromise){const l=await this.read();return Rq(this.app,{lastSentHeartbeatDate:null!==(I=q.lastSentHeartbeatDate)&&void 0!==I?I:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...q.heartbeats]})}}}function gq(q){return(0,O.p)(JSON.stringify({version:2,heartbeats:q})).length}var pq;pq="",tq(new w.f("platform-logger",(q=>new R(q)),"PRIVATE")),tq(new w.f("heartbeat",(q=>new eq(q)),"PRIVATE")),Vq(W,e,pq),Vq(W,e,"esm2017"),Vq("fire-js","")},12535:(q,I,l)=>{l.d(I,{e:()=>a,f:()=>t});var w=l(12538);class t{constructor(q,I,l){this.name=q,this.instanceFactory=I,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const O="[DEFAULT]";class c{constructor(q,I){this.name=q,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const I=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(I)){const q=new w.d;if(this.instancesDeferred.set(I,q),this.isInitialized(I)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:I});l&&q.resolve(l)}catch(l){}}return this.instancesDeferred.get(I).promise}getImmediate(q){var I;const l=this.normalizeInstanceIdentifier(null===q||void 0===q?void 0:q.identifier),w=null!==(I=null===q||void 0===q?void 0:q.optional)&&void 0!==I&&I;if(!this.isInitialized(l)&&!this.shouldAutoInitialize()){if(w)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:l})}catch(t){if(w)return null;throw t}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:O})}catch(I){}for(const[q,l]of this.instancesDeferred.entries()){const w=this.normalizeInstanceIdentifier(q);try{const q=this.getOrInitializeService({instanceIdentifier:w});l.resolve(q)}catch(I){}}}}clearInstance(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}async delete(){const q=Array.from(this.instances.values());await Promise.all([...q.filter((q=>"INTERNAL"in q)).map((q=>q.INTERNAL.delete())),...q.filter((q=>"_delete"in q)).map((q=>q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instances.has(q)}getOptions(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instancesOptions.get(q)||{}}initialize(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:I={}}=q,l=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const w=this.getOrInitializeService({instanceIdentifier:l,options:I});for(const[t,O]of this.instancesDeferred.entries()){l===this.normalizeInstanceIdentifier(t)&&O.resolve(w)}return w}Ur(q,I){var l;const w=this.normalizeInstanceIdentifier(I),t=null!==(l=this.onInitCallbacks.get(w))&&void 0!==l?l:new Set;t.add(q),this.onInitCallbacks.set(w,t);const O=this.instances.get(w);return O&&q(O,w),()=>{t.delete(q)}}invokeOnInitCallbacks(q,I){const l=this.onInitCallbacks.get(I);if(l)for(const t of l)try{t(q,I)}catch(w){}}getOrInitializeService(q){let{instanceIdentifier:I,options:l={}}=q,w=this.instances.get(I);if(!w&&this.component&&(w=this.component.instanceFactory(this.container,{instanceIdentifier:(t=I,t===O?void 0:t),options:l}),this.instances.set(I,w),this.instancesOptions.set(I,l),this.invokeOnInitCallbacks(w,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,w)}catch(c){}var t;return w||null}normalizeInstanceIdentifier(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.component?this.component.multipleInstances?q:O:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(q){this.name=q,this.providers=new Map}cs(q){const I=this.getProvider(q.name);if(I.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);I.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.cs(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const I=new c(q,this);return this.providers.set(q,I),I}getProviders(){return Array.from(this.providers.values())}}},12544:(q,I,l)=>{l.d(I,{b:()=>t,d:()=>s,g:()=>Z,j:()=>r});const w=[];var t;!function(q){q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT"}(t||(t={}));const O={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},c=t.INFO,a={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},F=function(q,I){if(I<q.logLevel)return;const l=(new Date).toISOString(),w=a[I];if(!w)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);for(var t=arguments.length,O=new Array(t>2?t-2:0),c=2;c<t;c++)O[c-2]=arguments[c];console[w](`[${l}]  ${q.name}:`,...O)};class s{constructor(q){this.name=q,this._logLevel=c,this._logHandler=F,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in t))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"===typeof q?O[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!==typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(){for(var q=arguments.length,I=new Array(q),l=0;l<q;l++)I[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...I),this._logHandler(this,t.DEBUG,...I)}log(){for(var q=arguments.length,I=new Array(q),l=0;l<q;l++)I[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...I),this._logHandler(this,t.VERBOSE,...I)}info(){for(var q=arguments.length,I=new Array(q),l=0;l<q;l++)I[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.INFO,...I),this._logHandler(this,t.INFO,...I)}warn(){for(var q=arguments.length,I=new Array(q),l=0;l<q;l++)I[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.WARN,...I),this._logHandler(this,t.WARN,...I)}error(){for(var q=arguments.length,I=new Array(q),l=0;l<q;l++)I[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,t.ERROR,...I),this._logHandler(this,t.ERROR,...I)}}function Z(q){w.forEach((I=>{I.setLogLevel(q)}))}function r(q,I){for(const l of w){let w=null;I&&I.level&&(w=O[I.level]),l.userLogHandler=null===q?null:function(I,l){for(var O=arguments.length,c=new Array(O>2?O-2:0),a=2;a<O;a++)c[a-2]=arguments[a];const F=c.map((q=>{if(null==q)return null;if("string"===typeof q)return q;if("number"===typeof q||"boolean"===typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(I){return null}})).filter((q=>q)).join(" ");l>=(null!==w&&void 0!==w?w:I.logLevel)&&q({level:t[l].toLowerCase(),message:F,args:c,type:I.name})}}}}}]);