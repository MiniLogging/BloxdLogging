/*! For license information please see iizldo.5.678a2c28.chunk.js.LICENSE.txt */
"use strict";(self.ra6kpa9z1sg=self.ra6kpa9z1sg||[]).push([[5],{12580:(p,b,M)=>{M.d(b,{B:()=>S,C:()=>j,F:()=>c,G:()=>g,K:()=>d,M:()=>Y,N:()=>a,O:()=>J,P:()=>f,T:()=>Z,V:()=>v,X:()=>o,c:()=>X,e:()=>u,h:()=>L,k:()=>l,l:()=>P,p:()=>y,q:()=>E,r:()=>q,s:()=>I,t:()=>U,w:()=>x,y:()=>z});const h=function(p){const b=[];let M=0;for(let h=0;h<p.length;h++){let Q=p.charCodeAt(h);Q<128?b[M++]=Q:Q<2048?(b[M++]=Q>>6|192,b[M++]=63&Q|128):55296===(64512&Q)&&h+1<p.length&&56320===(64512&p.charCodeAt(h+1))?(Q=65536+((1023&Q)<<10)+(1023&p.charCodeAt(++h)),b[M++]=Q>>18|240,b[M++]=Q>>12&63|128,b[M++]=Q>>6&63|128,b[M++]=63&Q|128):(b[M++]=Q>>12|224,b[M++]=Q>>6&63|128,b[M++]=63&Q|128)}return b},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(p,b){if(!Array.isArray(p))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[];for(let Q=0;Q<p.length;Q+=3){const b=p[Q],mp=Q+1<p.length,y=mp?p[Q+1]:0,P=Q+2<p.length,w=P?p[Q+2]:0,t=b>>2,z=(3&b)<<4|y>>4;let x=(15&y)<<2|w>>6,S=63&w;P||(S=64,mp||(x=64)),h.push(M[t],M[z],M[x],M[S])}return h.join("")},encodeString(p,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(p):this.encodeByteArray(h(p),b)},decodeString(p,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(p):function(p){const b=[];let M=0,h=0;for(;M<p.length;){const Q=p[M++];if(Q<128)b[h++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const mp=p[M++];b[h++]=String.fromCharCode((31&Q)<<6|63&mp)}else if(Q>239&&Q<365){const mp=((7&Q)<<18|(63&p[M++])<<12|(63&p[M++])<<6|63&p[M++])-65536;b[h++]=String.fromCharCode(55296+(mp>>10)),b[h++]=String.fromCharCode(56320+(1023&mp))}else{const mp=p[M++],y=p[M++];b[h++]=String.fromCharCode((15&Q)<<12|(63&mp)<<6|63&y)}}return b.join("")}(this.decodeStringToByteArray(p,b))},decodeStringToByteArray(p,b){this.init_();const M=b?this.charToByteMapWebSafe_:this.charToByteMap_,h=[];for(let Q=0;Q<p.length;){const b=M[p.charAt(Q++)],y=Q<p.length?M[p.charAt(Q)]:0;++Q;const P=Q<p.length?M[p.charAt(Q)]:64;++Q;const w=Q<p.length?M[p.charAt(Q)]:64;if(++Q,null==b||null==y||null==P||null==w)throw new mp;const t=b<<2|y>>4;if(h.push(t),64!==P){const p=y<<4&240|P>>2;if(h.push(p),64!==w){const p=P<<6&192|w;h.push(p)}}}return h},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let p=0;p<this.ENCODED_VALS.length;p++)this.byteToCharMap_[p]=this.ENCODED_VALS.charAt(p),this.charToByteMap_[this.byteToCharMap_[p]]=p,this.byteToCharMapWebSafe_[p]=this.ENCODED_VALS_WEBSAFE.charAt(p),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[p]]=p,p>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(p)]=p,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(p)]=p)}}};class mp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(p){return function(p){const b=h(p);return Q.encodeByteArray(b,!0)}(p).replace(/\./g,"")},P=function(p){try{return Q.decodeString(p,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const w=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof M.g)return M.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,t=()=>{try{return w()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let p;try{p=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(M){return}const b=p&&P(p[1]);return b&&JSON.parse(b)})()}catch(p){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${p}`)}},z=p=>{var b,M;return null===(M=null===(b=t())||void 0===b?void 0:b.emulatorHosts)||void 0===M?void 0:M[p]},x=()=>{var p;return null===(p=t())||void 0===p?void 0:p.config},S=p=>{var b;return null===(b=t())||void 0===b?void 0:b[`_${p}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((p,b)=>{this.resolve=p,this.reject=b}))}wrapCallback(p){return(b,M)=>{b?this.reject(b):this.resolve(M),"function"===typeof p&&(this.promise.catch((()=>{})),1===p.length?p(b):p(b,M))}}}function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function J(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function g(){const p="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof p&&void 0!==p.id}function f(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Y(){const p=c();return p.indexOf("MSIE ")>=0||p.indexOf("Trident/")>=0}function a(){try{return"object"===typeof indexedDB}catch(p){return!1}}function o(){return new Promise(((p,b)=>{try{let M=!0;const h="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(h);Q.onsuccess=()=>{Q.result.close(),M||self.indexedDB.deleteDatabase(h),p(!0)},Q.onupgradeneeded=()=>{M=!1},Q.onerror=()=>{var p;b((null===(p=Q.error)||void 0===p?void 0:p.message)||"")}}catch(M){b(M)}}))}function l(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(p,b,M){super(b),this.code=p,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(p,b,M){this.service=p,this.serviceName=b,this.errors=M}create(p){const b=(arguments.length<=1?void 0:arguments[1])||{},M=`${this.service}/${p}`,h=this.errors[p],Q=h?function(p,b){return p.replace(e,((p,M)=>{const h=b[M];return null!=h?String(h):`<${M}?>`}))}(h,b):"Error",mp=`${this.serviceName}: ${Q} (${M}).`;return new L(M,mp,b)}}const e=/\{\$([^}]+)}/g;function d(p){for(const b in p)if(Object.prototype.hasOwnProperty.call(p,b))return!1;return!0}function I(p,b){if(p===b)return!0;const M=Object.keys(p),h=Object.keys(b);for(const Q of M){if(!h.includes(Q))return!1;const M=p[Q],mp=b[Q];if(G(M)&&G(mp)){if(!I(M,mp))return!1}else if(M!==mp)return!1}for(const Q of h)if(!M.includes(Q))return!1;return!0}function G(p){return null!==p&&"object"===typeof p}function v(p){const b=[];for(const[M,h]of Object.entries(p))Array.isArray(h)?h.forEach((p=>{b.push(encodeURIComponent(M)+"="+encodeURIComponent(p))})):b.push(encodeURIComponent(M)+"="+encodeURIComponent(h));return b.length?"&"+b.join("&"):""}function Z(p){const b={};return p.replace(/^\?/,"").split("&").forEach((p=>{if(p){const[M,h]=p.split("=");b[decodeURIComponent(M)]=decodeURIComponent(h)}})),b}function U(p){const b=p.indexOf("?");if(!b)return"";const M=p.indexOf("#",b);return p.substring(b,M>0?M:void 0)}function q(p,b){const M=new B(p,b);return M.subscribe.bind(M)}class B{constructor(p,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{p(this)})).catch((p=>{this.error(p)}))}next(p){this.forEachObserver((b=>{b.next(p)}))}error(p){this.forEachObserver((b=>{b.error(p)})),this.close(p)}complete(){this.forEachObserver((p=>{p.complete()})),this.close()}subscribe(p,b,M){let h;if(void 0===p&&void 0===b&&void 0===M)throw new Error("Missing Observer.");h=function(p,b){if("object"!==typeof p||null===p)return!1;for(const M of b)if(M in p&&"function"===typeof p[M])return!0;return!1}(p,["next","error","complete"])?p:{next:p,error:b,complete:M},void 0===h.next&&(h.next=s),void 0===h.error&&(h.error=s),void 0===h.complete&&(h.complete=s);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?h.error(this.finalError):h.complete()}catch(p){}})),this.observers.push(h),Q}unsubscribeOne(p){void 0!==this.observers&&void 0!==this.observers[p]&&(delete this.observers[p],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(p){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,p)}sendOne(p,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[p])try{b(this.observers[p])}catch(M){"undefined"!==typeof console&&console.error&&console.error(M)}}))}close(p){this.finalized||(this.finalized=!0,void 0!==p&&(this.finalError=p),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const i=1e3,T=2,W=144e5,H=.5;function E(p){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const M=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i)*Math.pow(b,p),h=Math.round(H*M*(Math.random()-.5)*2);return Math.min(W,M+h)}function j(p){return p&&p._delegate?p._delegate:p}},12570:(p,b,M)=>{M.d(b,{d:()=>mp.h,g:()=>xp,k:()=>C,l:()=>Mp,p:()=>hp,t:()=>pp,x:()=>Pp,z:()=>bp,C:()=>mb,F:()=>Qp,G:()=>yp,K:()=>Jp,N:()=>Xp,M:()=>cp,Q:()=>Sp,T:()=>fp,V:()=>gp,Y:()=>Yp});var h=M(12578),Q=M(12588),mp=M(12580);let y,P;const w=new WeakMap,t=new WeakMap,z=new WeakMap,x=new WeakMap,S=new WeakMap;let X={get(p,b,M){if(p instanceof IDBTransaction){if("done"===b)return t.get(p);if("objectStoreNames"===b)return p.objectStoreNames||z.get(p);if("store"===b)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return g(p[b])},set:(p,b,M)=>(p[b]=M,!0),has:(p,b)=>p instanceof IDBTransaction&&("done"===b||"store"===b)||b in p};function c(p){return p!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(p)?function(){for(var b=arguments.length,M=new Array(b),h=0;h<b;h++)M[h]=arguments[h];return p.apply(f(this),M),g(w.get(this))}:function(){for(var b=arguments.length,M=new Array(b),h=0;h<b;h++)M[h]=arguments[h];return g(p.apply(f(this),M))}:function(b){for(var M=arguments.length,h=new Array(M>1?M-1:0),Q=1;Q<M;Q++)h[Q-1]=arguments[Q];const mp=p.call(f(this),b,...h);return z.set(mp,b.sort?b.sort():[b]),g(mp)}}function J(p){return"function"===typeof p?c(p):(p instanceof IDBTransaction&&function(p){if(t.has(p))return;const b=new Promise(((b,M)=>{const h=()=>{p.removeEventListener("complete",Q),p.removeEventListener("error",mp),p.removeEventListener("abort",mp)},Q=()=>{b(),h()},mp=()=>{M(p.error||new DOMException("AbortError","AbortError")),h()};p.addEventListener("complete",Q),p.addEventListener("error",mp),p.addEventListener("abort",mp)}));t.set(p,b)}(p),b=p,(y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((p=>b instanceof p))?new Proxy(p,X):p);var b}function g(p){if(p instanceof IDBRequest)return function(p){const b=new Promise(((b,M)=>{const h=()=>{p.removeEventListener("success",Q),p.removeEventListener("error",mp)},Q=()=>{b(g(p.result)),h()},mp=()=>{M(p.error),h()};p.addEventListener("success",Q),p.addEventListener("error",mp)}));return b.then((b=>{b instanceof IDBCursor&&w.set(b,p)})).catch((()=>{})),S.set(b,p),b}(p);if(x.has(p))return x.get(p);const b=J(p);return b!==p&&(x.set(p,b),S.set(b,p)),b}const f=p=>S.get(p);const Y=["get","getKey","getAll","getAllKeys","count"],a=["put","add","delete","clear"],o=new Map;function l(p,b){if(!(p instanceof IDBDatabase)||b in p||"string"!==typeof b)return;if(o.get(b))return o.get(b);const M=b.replace(/FromIndex$/,""),h=b!==M,Q=a.includes(M);if(!(M in(h?IDBIndex:IDBObjectStore).prototype)||!Q&&!Y.includes(M))return;const mp=async function(p){const b=this.transaction(p,Q?"readwrite":"readonly");let mp=b.store;for(var y=arguments.length,P=new Array(y>1?y-1:0),w=1;w<y;w++)P[w-1]=arguments[w];return h&&(mp=mp.index(P.shift())),(await Promise.all([mp[M](...P),Q&&b.done]))[0]};return o.set(b,mp),mp}X=(p=>({...p,get:(b,M,h)=>l(b,M)||p.get(b,M,h),has:(b,M)=>!!l(b,M)||p.has(b,M)}))(X);class L{constructor(p){this.container=p}getPlatformInfoString(){return this.container.getProviders().map((p=>{if(function(p){const b=p.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(p)){const b=p.getImmediate();return`${b.library}/${b.version}`}return null})).filter((p=>p)).join(" ")}}const u="@firebase/app",e="0.9.13",d=new Q.f("@firebase/app"),I="@firebase/app-compat",G="@firebase/analytics-compat",v="@firebase/analytics",Z="@firebase/app-check-compat",U="@firebase/app-check",q="@firebase/auth",B="@firebase/auth-compat",s="@firebase/database",i="@firebase/database-compat",T="@firebase/functions",W="@firebase/functions-compat",H="@firebase/installations",E="@firebase/installations-compat",j="@firebase/messaging",V="@firebase/messaging-compat",D="@firebase/performance",N="@firebase/performance-compat",O="@firebase/remote-config",R="@firebase/remote-config-compat",K="@firebase/storage",r="@firebase/storage-compat",k="@firebase/firestore",A="@firebase/firestore-compat",n="firebase",C="[DEFAULT]",F={[u]:"fire-core",[I]:"fire-core-compat",[v]:"fire-analytics",[G]:"fire-analytics-compat",[U]:"fire-app-check",[Z]:"fire-app-check-compat",[q]:"fire-auth",[B]:"fire-auth-compat",[s]:"fire-rtdb",[i]:"fire-rtdb-compat",[T]:"fire-fn",[W]:"fire-fn-compat",[H]:"fire-iid",[E]:"fire-iid-compat",[j]:"fire-fcm",[V]:"fire-fcm-compat",[D]:"fire-perf",[N]:"fire-perf-compat",[O]:"fire-rc",[R]:"fire-rc-compat",[K]:"fire-gcs",[r]:"fire-gcs-compat",[k]:"fire-fst",[A]:"fire-fst-compat","fire-js":"fire-js",[n]:"fire-js-all"},pp=new Map,bp=new Map;function Mp(p,b){try{p.container.At(b)}catch(M){d.debug(`Component ${b.name} failed to register with FirebaseApp ${p.name}`,M)}}function hp(p,b){p.container.addOrOverwriteComponent(b)}function Qp(p){const b=p.name;if(bp.has(b))return d.debug(`There were multiple attempts to register component ${b}.`),!1;bp.set(b,p);for(const M of pp.values())Mp(M,p);return!0}function mb(p,b){const M=p.container.getProvider("heartbeat").getImmediate({optional:!0});return M&&M.triggerHeartbeat(),p.container.getProvider(b)}function yp(p,b){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;mb(p,b).clearInstance(M)}function Pp(){bp.clear()}const wp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tp=new mp.e("app","Firebase",wp);class zp{constructor(p,b,M){this._isDeleted=!1,this._options=Object.assign({},p),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=M,this.container.At(new h.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(p){this.checkDestroyed(),this._automaticDataCollectionEnabled=p}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(p){this._isDeleted=p}checkDestroyed(){if(this.isDeleted)throw tp.create("app-deleted",{appName:this._name})}}const xp="9.23.0";function Sp(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=p;if("object"!==typeof b){b={name:b}}const Q=Object.assign({name:C,automaticDataCollectionEnabled:!1},b),y=Q.name;if("string"!==typeof y||!y)throw tp.create("bad-app-name",{appName:String(y)});if(M||(M=(0,mp.w)()),!M)throw tp.create("no-options");const P=pp.get(y);if(P){if((0,mp.s)(M,P.options)&&(0,mp.s)(Q,P.config))return P;throw tp.create("duplicate-app",{appName:y})}const w=new h.b(y);for(const h of bp.values())w.At(h);const t=new zp(M,Q,w);return pp.set(y,t),t}function Xp(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const b=pp.get(p);if(!b&&p===C&&(0,mp.w)())return Sp();if(!b)throw tp.create("no-app",{appName:p});return b}function cp(){return Array.from(pp.values())}async function Jp(p){const b=p.name;pp.has(b)&&(pp.delete(b),await Promise.all(p.container.getProviders().map((p=>p.delete()))),p.isDeleted=!0)}function gp(p,b,M){var Q;let mp=null!==(Q=F[p])&&void 0!==Q?Q:p;M&&(mp+=`-${M}`);const y=mp.match(/\s|\//),P=b.match(/\s|\//);if(y||P){const p=[`Unable to register library "${mp}" with version "${b}":`];return y&&p.push(`library name "${mp}" contains illegal characters (whitespace or "/")`),y&&P&&p.push("and"),P&&p.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void d.warn(p.join(" "))}Qp(new h.f(`${mp}-version`,(()=>({library:mp,version:b})),"VERSION"))}function fp(p,b){if(null!==p&&"function"!==typeof p)throw tp.create("invalid-log-argument");(0,Q.l)(p,b)}function Yp(p){(0,Q.j)(p)}const ap="firebase-heartbeat-store";let op=null;function lp(){return op||(op=function(p,b){let{blocked:M,upgrade:h,blocking:Q,terminated:mp}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const y=indexedDB.open(p,b),P=g(y);return h&&y.addEventListener("upgradeneeded",(p=>{h(g(y.result),p.oldVersion,p.newVersion,g(y.transaction),p)})),M&&y.addEventListener("blocked",(p=>M(p.oldVersion,p.newVersion,p))),P.then((p=>{mp&&p.addEventListener("close",(()=>mp())),Q&&p.addEventListener("versionchange",(p=>Q(p.oldVersion,p.newVersion,p)))})).catch((()=>{})),P}("firebase-heartbeat-database",1,{upgrade:(p,b)=>{if(0===b)p.createObjectStore(ap)}}).catch((p=>{throw tp.create("idb-open",{originalErrorMessage:p.message})}))),op}async function Lp(p,b){try{const M=(await lp()).transaction(ap,"readwrite"),h=M.objectStore(ap);await h.put(b,upp(p)),await M.done}catch(M){if(M instanceof mp.h)d.warn(M.message);else{const p=tp.create("idb-set",{originalErrorMessage:null===M||void 0===M?void 0:M.message});d.warn(p.message)}}}function upp(p){return`${p.name}!${p.options.appId}`}class ep{constructor(p){this.container=p,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.WS=new Ip(b),this._heartbeatsCachePromise=this.WS.read().then((p=>(this._heartbeatsCache=p,p)))}async triggerHeartbeat(){const p=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=dp();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((p=>p.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:p}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((p=>{const b=new Date(p.date).valueOf();return Date.now()-b<=2592e6})),this.WS.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const p=dp(),{heartbeatsToSend:b,unsentEntries:M}=function(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const M=[];let h=p.slice();for(const Q of p){const p=M.find((p=>p.agent===Q.agent));if(p){if(p.dates.push(Q.date),Gp(M)>b){p.dates.pop();break}}else if(M.push({agent:Q.agent,dates:[Q.date]}),Gp(M)>b){M.pop();break}h=h.slice(1)}return{heartbeatsToSend:M,unsentEntries:h}}(this._heartbeatsCache.heartbeats),h=(0,mp.p)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=p,M.length>0?(this._heartbeatsCache.heartbeats=M,await this.WS.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.WS.overwrite(this._heartbeatsCache)),h}}function dp(){return(new Date).toISOString().substring(0,10)}class Ip{constructor(p){this.app=p,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,mp.N)()&&(0,mp.X)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(p){try{const b=await lp();return await b.transaction(ap).objectStore(ap).get(upp(p))}catch(b){if(b instanceof mp.h)d.warn(b.message);else{const p=tp.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});d.warn(p.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(p){var b;if(await this._canUseIndexedDBPromise){const M=await this.read();return Lp(this.app,{lastSentHeartbeatDate:null!==(b=p.lastSentHeartbeatDate)&&void 0!==b?b:M.lastSentHeartbeatDate,heartbeats:p.heartbeats})}}async add(p){var b;if(await this._canUseIndexedDBPromise){const M=await this.read();return Lp(this.app,{lastSentHeartbeatDate:null!==(b=p.lastSentHeartbeatDate)&&void 0!==b?b:M.lastSentHeartbeatDate,heartbeats:[...M.heartbeats,...p.heartbeats]})}}}function Gp(p){return(0,mp.p)(JSON.stringify({version:2,heartbeats:p})).length}var vp;vp="",Qp(new h.f("platform-logger",(p=>new L(p)),"PRIVATE")),Qp(new h.f("heartbeat",(p=>new ep(p)),"PRIVATE")),gp(u,e,vp),gp(u,e,"esm2017"),gp("fire-js","")},12578:(p,b,M)=>{M.d(b,{b:()=>P,f:()=>Q});var h=M(12580);class Q{constructor(p,b,M){this.name=p,this.instanceFactory=b,this.type=M,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}const mp="[DEFAULT]";class y{constructor(p,b){this.name=p,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(p){const b=this.normalizeInstanceIdentifier(p);if(!this.instancesDeferred.has(b)){const p=new h.c;if(this.instancesDeferred.set(b,p),this.isInitialized(b)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:b});M&&p.resolve(M)}catch(M){}}return this.instancesDeferred.get(b).promise}getImmediate(p){var b;const M=this.normalizeInstanceIdentifier(null===p||void 0===p?void 0:p.identifier),h=null!==(b=null===p||void 0===p?void 0:p.optional)&&void 0!==b&&b;if(!this.isInitialized(M)&&!this.shouldAutoInitialize()){if(h)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:M})}catch(Q){if(h)return null;throw Q}}getComponent(){return this.component}setComponent(p){if(p.name!==this.name)throw Error(`Mismatching Component ${p.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=p,this.shouldAutoInitialize()){if(function(p){return"EAGER"===p.instantiationMode}(p))try{this.getOrInitializeService({instanceIdentifier:mp})}catch(b){}for(const[p,M]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(p);try{const p=this.getOrInitializeService({instanceIdentifier:h});M.resolve(p)}catch(b){}}}}clearInstance(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mp;this.instancesDeferred.delete(p),this.instancesOptions.delete(p),this.instances.delete(p)}async delete(){const p=Array.from(this.instances.values());await Promise.all([...p.filter((p=>"INTERNAL"in p)).map((p=>p.INTERNAL.delete())),...p.filter((p=>"_delete"in p)).map((p=>p._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mp;return this.instances.has(p)}getOptions(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mp;return this.instancesOptions.get(p)||{}}initialize(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=p,M=this.normalizeInstanceIdentifier(p.instanceIdentifier);if(this.isInitialized(M))throw Error(`${this.name}(${M}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const h=this.getOrInitializeService({instanceIdentifier:M,options:b});for(const[Q,mp]of this.instancesDeferred.entries()){M===this.normalizeInstanceIdentifier(Q)&&mp.resolve(h)}return h}JS(p,b){var M;const h=this.normalizeInstanceIdentifier(b),Q=null!==(M=this.onInitCallbacks.get(h))&&void 0!==M?M:new Set;Q.add(p),this.onInitCallbacks.set(h,Q);const mp=this.instances.get(h);return mp&&p(mp,h),()=>{Q.delete(p)}}invokeOnInitCallbacks(p,b){const M=this.onInitCallbacks.get(b);if(M)for(const Q of M)try{Q(p,b)}catch(h){}}getOrInitializeService(p){let{instanceIdentifier:b,options:M={}}=p,h=this.instances.get(b);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=b,Q===mp?void 0:Q),options:M}),this.instances.set(b,h),this.instancesOptions.set(b,M),this.invokeOnInitCallbacks(h,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,h)}catch(y){}var Q;return h||null}normalizeInstanceIdentifier(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mp;return this.component?this.component.multipleInstances?p:mp:p}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P{constructor(p){this.name=p,this.providers=new Map}At(p){const b=this.getProvider(p.name);if(b.isComponentSet())throw new Error(`Component ${p.name} has already been registered with ${this.name}`);b.setComponent(p)}addOrOverwriteComponent(p){this.getProvider(p.name).isComponentSet()&&this.providers.delete(p.name),this.At(p)}getProvider(p){if(this.providers.has(p))return this.providers.get(p);const b=new y(p,this);return this.providers.set(p,b),b}getProviders(){return Array.from(this.providers.values())}}},12588:(p,b,M)=>{M.d(b,{d:()=>Q,f:()=>t,j:()=>z,l:()=>x});const h=[];var Q;!function(p){p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"}(Q||(Q={}));const mp={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},y=Q.INFO,P={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},w=function(p,b){if(b<p.logLevel)return;const M=(new Date).toISOString(),h=P[b];if(!h)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var Q=arguments.length,mp=new Array(Q>2?Q-2:0),y=2;y<Q;y++)mp[y-2]=arguments[y];console[h](`[${M}]  ${p.name}:`,...mp)};class t{constructor(p){this.name=p,this._logLevel=y,this._logHandler=w,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(p){if(!(p in Q))throw new TypeError(`Invalid value "${p}" assigned to \`logLevel\``);this._logLevel=p}setLogLevel(p){this._logLevel="string"===typeof p?mp[p]:p}get logHandler(){return this._logHandler}set logHandler(p){if("function"!==typeof p)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=p}get userLogHandler(){return this._userLogHandler}set userLogHandler(p){this._userLogHandler=p}debug(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...b),this._logHandler(this,Q.DEBUG,...b)}log(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...b),this._logHandler(this,Q.VERBOSE,...b)}info(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,Q.INFO,...b),this._logHandler(this,Q.INFO,...b)}warn(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,Q.WARN,...b),this._logHandler(this,Q.WARN,...b)}error(){for(var p=arguments.length,b=new Array(p),M=0;M<p;M++)b[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...b),this._logHandler(this,Q.ERROR,...b)}}function z(p){h.forEach((b=>{b.setLogLevel(p)}))}function x(p,b){for(const M of h){let h=null;b&&b.level&&(h=mp[b.level]),M.userLogHandler=null===p?null:function(b,M){for(var mp=arguments.length,y=new Array(mp>2?mp-2:0),P=2;P<mp;P++)y[P-2]=arguments[P];const w=y.map((p=>{if(null==p)return null;if("string"===typeof p)return p;if("number"===typeof p||"boolean"===typeof p)return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch(b){return null}})).filter((p=>p)).join(" ");M>=(null!==h&&void 0!==h?h:b.logLevel)&&p({level:Q[M].toLowerCase(),message:w,args:y,type:b.name})}}}}}]);