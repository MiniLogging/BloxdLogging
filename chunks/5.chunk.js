/*! For license information please see dv6hwr.5.d9c5abb3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10532:(K,q,p)=>{p.d(q,{D:()=>H,E:()=>U,I:()=>h,K:()=>Y,L:()=>L,N:()=>F,Q:()=>t,U:()=>j,X:()=>E,_:()=>m,bb:()=>x,d:()=>k,fb:()=>f,gb:()=>i,h:()=>P,hb:()=>M,i:()=>R,lb:()=>c,m:()=>l,n:()=>y,q:()=>X,t:()=>O,v:()=>a,z:()=>N});const Z=function(K){const q=[];let p=0;for(let Z=0;Z<K.length;Z++){let z=K.charCodeAt(Z);z<128?q[p++]=z:z<2048?(q[p++]=z>>6|192,q[p++]=63&z|128):55296===(64512&z)&&Z+1<K.length&&56320===(64512&K.charCodeAt(Z+1))?(z=65536+((1023&z)<<10)+(1023&K.charCodeAt(++Z)),q[p++]=z>>18|240,q[p++]=z>>12&63|128,q[p++]=z>>6&63|128,q[p++]=63&z|128):(q[p++]=z>>12|224,q[p++]=z>>6&63|128,q[p++]=63&z|128)}return q},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let z=0;z<K.length;z+=3){const q=K[z],S=z+1<K.length,X=S?K[z+1]:0,y=z+2<K.length,V=y?K[z+2]:0,C=q>>2,h=(3&q)<<4|X>>4;let U=(15&X)<<2|V>>6,Y=63&V;y||(Y=64,S||(U=64)),Z.push(p[C],p[h],p[U],p[Y])}return Z.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(Z(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let p=0,Z=0;for(;p<K.length;){const z=K[p++];if(z<128)q[Z++]=String.fromCharCode(z);else if(z>191&&z<224){const S=K[p++];q[Z++]=String.fromCharCode((31&z)<<6|63&S)}else if(z>239&&z<365){const S=((7&z)<<18|(63&K[p++])<<12|(63&K[p++])<<6|63&K[p++])-65536;q[Z++]=String.fromCharCode(55296+(S>>10)),q[Z++]=String.fromCharCode(56320+(1023&S))}else{const S=K[p++],X=K[p++];q[Z++]=String.fromCharCode((15&z)<<12|(63&S)<<6|63&X)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const p=q?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let z=0;z<K.length;){const q=p[K.charAt(z++)],X=z<K.length?p[K.charAt(z)]:0;++z;const y=z<K.length?p[K.charAt(z)]:64;++z;const V=z<K.length?p[K.charAt(z)]:64;if(++z,null==q||null==X||null==y||null==V)throw new S;const C=q<<2|X>>4;if(Z.push(C),64!==y){const K=X<<4&240|y>>2;if(Z.push(K),64!==V){const K=y<<6&192|V;Z.push(K)}}}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(K){return function(K){const q=Z(K);return z.encodeByteArray(q,!0)}(K).replace(/\./g,"")},y=function(K){try{return z.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};const V=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof p.g)return p.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,C=()=>{try{return V()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(p){return}const q=K&&y(K[1]);return q&&JSON.parse(q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},h=K=>{var q,p;return null===(p=null===(q=C())||void 0===q?void 0:q.emulatorHosts)||void 0===p?void 0:p[K]},U=()=>{var K;return null===(K=C())||void 0===K?void 0:K.config},Y=K=>{var q;return null===(q=C())||void 0===q?void 0:q[`_${K}`]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((K,q)=>{this.resolve=K,this.reject=q}))}wrapCallback(K){return(q,p)=>{q?this.reject(q):this.resolve(p),"function"===typeof K&&(this.promise.catch((()=>{})),1===K.length?K(q):K(q,p))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function x(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function t(){const K="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof K&&void 0!==K.id}function f(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){const K=F();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function m(){try{return"object"===typeof indexedDB}catch(K){return!1}}function c(){return new Promise(((K,q)=>{try{let p=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(Z);z.onsuccess=()=>{z.result.close(),p||self.indexedDB.deleteDatabase(Z),K(!0)},z.onupgradeneeded=()=>{p=!1},z.onerror=()=>{var K;q((null===(K=z.error)||void 0===K?void 0:K.message)||"")}}catch(p){q(p)}}))}function l(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class R extends Error{constructor(K,q,p){super(q),this.code=K,this.customData=p,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(K,q,p){this.service=K,this.serviceName=q,this.errors=p}create(K){const q=(arguments.length<=1?void 0:arguments[1])||{},p=`${this.service}/${K}`,Z=this.errors[K],z=Z?function(K,q){return K.replace(g,((K,p)=>{const Z=q[p];return null!=Z?String(Z):`<${p}?>`}))}(Z,q):"Error",S=`${this.serviceName}: ${z} (${p}).`;return new R(p,S,q)}}const g=/\{\$([^}]+)}/g;function j(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function N(K,q){if(K===q)return!0;const p=Object.keys(K),Z=Object.keys(q);for(const z of p){if(!Z.includes(z))return!1;const p=K[z],S=q[z];if(I(p)&&I(S)){if(!N(p,S))return!1}else if(p!==S)return!1}for(const z of Z)if(!p.includes(z))return!1;return!0}function I(K){return null!==K&&"object"===typeof K}function M(K){const q=[];for(const[p,Z]of Object.entries(K))Array.isArray(Z)?Z.forEach((K=>{q.push(encodeURIComponent(p)+"="+encodeURIComponent(K))})):q.push(encodeURIComponent(p)+"="+encodeURIComponent(Z));return q.length?"&"+q.join("&"):""}function i(K){const q={};return K.replace(/^\?/,"").split("&").forEach((K=>{if(K){const[p,Z]=K.split("=");q[decodeURIComponent(p)]=decodeURIComponent(Z)}})),q}function H(K){const q=K.indexOf("?");if(!q)return"";const p=K.indexOf("#",q);return K.substring(q,p>0?p:void 0)}function a(K,q){const p=new G(K,q);return p.subscribe.bind(p)}class G{constructor(K,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then((()=>{K(this)})).catch((K=>{this.error(K)}))}next(K){this.forEachObserver((q=>{q.next(K)}))}error(K){this.forEachObserver((q=>{q.error(K)})),this.close(K)}complete(){this.forEachObserver((K=>{K.complete()})),this.close()}subscribe(K,q,p){let Z;if(void 0===K&&void 0===q&&void 0===p)throw new Error("Missing Observer.");Z=function(K,q){if("object"!==typeof K||null===K)return!1;for(const p of q)if(p in K&&"function"===typeof K[p])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:q,complete:p},void 0===Z.next&&(Z.next=s),void 0===Z.error&&(Z.error=s),void 0===Z.complete&&(Z.complete=s);const z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(K){}})),this.observers.push(Z),z}unsubscribeOne(K){void 0!==this.observers&&void 0!==this.observers[K]&&(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,K)}sendOne(K,q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{q(this.observers[K])}catch(p){"undefined"!==typeof console&&console.error&&console.error(p)}}))}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const b=1e3,e=2,d=144e5,D=.5;function O(K){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const p=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)*Math.pow(q,K),Z=Math.round(D*p*(Math.random()-.5)*2);return Math.min(d,p+Z)}function L(K){return K&&K._delegate?K._delegate:K}},10520:(K,q,p)=>{p.d(q,{c:()=>S.i,e:()=>UK,i:()=>r,l:()=>pK,n:()=>ZK,p:()=>KK,r:()=>yK,v:()=>qK,x:()=>SK,B:()=>zK,D:()=>XK,F:()=>xK,K:()=>kK,G:()=>FK,O:()=>YK,S:()=>fK,V:()=>tK,Z:()=>EK});var Z=p(10523),z=p(10537),S=p(10532);let X,y;const V=new WeakMap,C=new WeakMap,h=new WeakMap,U=new WeakMap,Y=new WeakMap;let k={get(K,q,p){if(K instanceof IDBTransaction){if("done"===q)return C.get(K);if("objectStoreNames"===q)return K.objectStoreNames||h.get(K);if("store"===q)return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return t(K[q])},set:(K,q,p)=>(K[q]=p,!0),has:(K,q)=>K instanceof IDBTransaction&&("done"===q||"store"===q)||q in K};function F(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y||(y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(){for(var q=arguments.length,p=new Array(q),Z=0;Z<q;Z++)p[Z]=arguments[Z];return K.apply(f(this),p),t(V.get(this))}:function(){for(var q=arguments.length,p=new Array(q),Z=0;Z<q;Z++)p[Z]=arguments[Z];return t(K.apply(f(this),p))}:function(q){for(var p=arguments.length,Z=new Array(p>1?p-1:0),z=1;z<p;z++)Z[z-1]=arguments[z];const S=K.call(f(this),q,...Z);return h.set(S,q.sort?q.sort():[q]),t(S)}}function x(K){return"function"===typeof K?F(K):(K instanceof IDBTransaction&&function(K){if(C.has(K))return;const q=new Promise(((q,p)=>{const Z=()=>{K.removeEventListener("complete",z),K.removeEventListener("error",S),K.removeEventListener("abort",S)},z=()=>{q(),Z()},S=()=>{p(K.error||new DOMException("AbortError","AbortError")),Z()};K.addEventListener("complete",z),K.addEventListener("error",S),K.addEventListener("abort",S)}));C.set(K,q)}(K),q=K,(X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((K=>q instanceof K))?new Proxy(K,k):K);var q}function t(K){if(K instanceof IDBRequest)return function(K){const q=new Promise(((q,p)=>{const Z=()=>{K.removeEventListener("success",z),K.removeEventListener("error",S)},z=()=>{q(t(K.result)),Z()},S=()=>{p(K.error),Z()};K.addEventListener("success",z),K.addEventListener("error",S)}));return q.then((q=>{q instanceof IDBCursor&&V.set(q,K)})).catch((()=>{})),Y.set(q,K),q}(K);if(U.has(K))return U.get(K);const q=x(K);return q!==K&&(U.set(K,q),Y.set(q,K)),q}const f=K=>Y.get(K);const E=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],c=new Map;function l(K,q){if(!(K instanceof IDBDatabase)||q in K||"string"!==typeof q)return;if(c.get(q))return c.get(q);const p=q.replace(/FromIndex$/,""),Z=q!==p,z=m.includes(p);if(!(p in(Z?IDBIndex:IDBObjectStore).prototype)||!z&&!E.includes(p))return;const S=async function(K){const q=this.transaction(K,z?"readwrite":"readonly");let S=q.store;for(var X=arguments.length,y=new Array(X>1?X-1:0),V=1;V<X;V++)y[V-1]=arguments[V];return Z&&(S=S.index(y.shift())),(await Promise.all([S[p](...y),z&&q.done]))[0]};return c.set(q,S),S}k=(K=>({...K,get:(q,p,Z)=>l(q,p)||K.get(q,p,Z),has:(q,p)=>!!l(q,p)||K.has(q,p)}))(k);class R{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map((K=>{if(function(K){const q=K.getComponent();return"VERSION"===(null===q||void 0===q?void 0:q.type)}(K)){const q=K.getImmediate();return`${q.library}/${q.version}`}return null})).filter((K=>K)).join(" ")}}const P="@firebase/app",g="0.9.13",j=new z.h("@firebase/app"),N="@firebase/app-compat",I="@firebase/analytics-compat",M="@firebase/analytics",i="@firebase/app-check-compat",H="@firebase/app-check",a="@firebase/auth",G="@firebase/auth-compat",s="@firebase/database",b="@firebase/database-compat",e="@firebase/functions",d="@firebase/functions-compat",D="@firebase/installations",O="@firebase/installations-compat",L="@firebase/messaging",J="@firebase/messaging-compat",o="@firebase/performance",n="@firebase/performance-compat",W="@firebase/remote-config",v="@firebase/remote-config-compat",w="@firebase/storage",Q="@firebase/storage-compat",A="@firebase/firestore",B="@firebase/firestore-compat",T="firebase",r="[DEFAULT]",u={[P]:"fire-core",[N]:"fire-core-compat",[M]:"fire-analytics",[I]:"fire-analytics-compat",[H]:"fire-app-check",[i]:"fire-app-check-compat",[a]:"fire-auth",[G]:"fire-auth-compat",[s]:"fire-rtdb",[b]:"fire-rtdb-compat",[e]:"fire-fn",[d]:"fire-fn-compat",[D]:"fire-iid",[O]:"fire-iid-compat",[L]:"fire-fcm",[J]:"fire-fcm-compat",[o]:"fire-perf",[n]:"fire-perf-compat",[W]:"fire-rc",[v]:"fire-rc-compat",[w]:"fire-gcs",[Q]:"fire-gcs-compat",[A]:"fire-fst",[B]:"fire-fst-compat","fire-js":"fire-js",[T]:"fire-js-all"},KK=new Map,qK=new Map;function pK(K,q){try{K.container.zf(q)}catch(p){j.debug(`Component ${q.name} failed to register with FirebaseApp ${K.name}`,p)}}function ZK(K,q){K.container.addOrOverwriteComponent(q)}function zK(K){const q=K.name;if(qK.has(q))return j.debug(`There were multiple attempts to register component ${q}.`),!1;qK.set(q,K);for(const p of KK.values())pK(p,K);return!0}function SK(K,q){const p=K.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),K.container.getProvider(q)}function XK(K,q){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;SK(K,q).clearInstance(p)}function yK(){qK.clear()}const VK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},CK=new S.h("app","Firebase",VK);class hK{constructor(K,q,p){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=p,this.container.zf(new Z.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw CK.create("app-deleted",{appName:this._name})}}const UK="9.23.0";function YK(K){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=K;if("object"!==typeof q){q={name:q}}const z=Object.assign({name:r,automaticDataCollectionEnabled:!1},q),X=z.name;if("string"!==typeof X||!X)throw CK.create("bad-app-name",{appName:String(X)});if(p||(p=(0,S.E)()),!p)throw CK.create("no-options");const y=KK.get(X);if(y){if((0,S.z)(p,y.options)&&(0,S.z)(z,y.config))return y;throw CK.create("duplicate-app",{appName:X})}const V=new Z.e(X);for(const Z of qK.values())V.zf(Z);const C=new hK(p,z,V);return KK.set(X,C),C}function kK(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const q=KK.get(K);if(!q&&K===r&&(0,S.E)())return YK();if(!q)throw CK.create("no-app",{appName:K});return q}function FK(){return Array.from(KK.values())}async function xK(K){const q=K.name;KK.has(q)&&(KK.delete(q),await Promise.all(K.container.getProviders().map((K=>K.delete()))),K.isDeleted=!0)}function tK(K,q,p){var z;let S=null!==(z=u[K])&&void 0!==z?z:K;p&&(S+=`-${p}`);const X=S.match(/\s|\//),y=q.match(/\s|\//);if(X||y){const K=[`Unable to register library "${S}" with version "${q}":`];return X&&K.push(`library name "${S}" contains illegal characters (whitespace or "/")`),X&&y&&K.push("and"),y&&K.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void j.warn(K.join(" "))}zK(new Z.f(`${S}-version`,(()=>({library:S,version:q})),"VERSION"))}function fK(K,q){if(null!==K&&"function"!==typeof K)throw CK.create("invalid-log-argument");(0,z.j)(K,q)}function EK(K){(0,z.i)(K)}const mK="firebase-heartbeat-store";let cK=null;function lK(){return cK||(cK=function(K,q){let{blocked:p,upgrade:Z,blocking:z,terminated:S}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const X=indexedDB.open(K,q),y=t(X);return Z&&X.addEventListener("upgradeneeded",(K=>{Z(t(X.result),K.oldVersion,K.newVersion,t(X.transaction),K)})),p&&X.addEventListener("blocked",(K=>p(K.oldVersion,K.newVersion,K))),y.then((K=>{S&&K.addEventListener("close",(()=>S())),z&&K.addEventListener("versionchange",(K=>z(K.oldVersion,K.newVersion,K)))})).catch((()=>{})),y}("firebase-heartbeat-database",1,{upgrade:(K,q)=>{if(0===q)K.createObjectStore(mK)}}).catch((K=>{throw CK.create("idb-open",{originalErrorMessage:K.message})}))),cK}async function RK(K,q){try{const p=(await lK()).transaction(mK,"readwrite"),Z=p.objectStore(mK);await Z.put(q,PK(K)),await p.done}catch(p){if(p instanceof S.i)j.warn(p.message);else{const K=CK.create("idb-set",{originalErrorMessage:null===p||void 0===p?void 0:p.message});j.warn(K.message)}}}function PK(K){return`${K.name}!${K.options.appId}`}class gK{constructor(K){this.container=K,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this.Gi=new NK(q),this._heartbeatsCachePromise=this.Gi.read().then((K=>(this._heartbeatsCache=K,K)))}async triggerHeartbeat(){const K=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=jK();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==q&&!this._heartbeatsCache.heartbeats.some((K=>K.date===q)))return this._heartbeatsCache.heartbeats.push({date:q,agent:K}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((K=>{const q=new Date(K.date).valueOf();return Date.now()-q<=2592e6})),this.Gi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const K=jK(),{heartbeatsToSend:q,unsentEntries:p}=function(K){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const p=[];let Z=K.slice();for(const z of K){const K=p.find((K=>K.agent===z.agent));if(K){if(K.dates.push(z.date),IK(p)>q){K.dates.pop();break}}else if(p.push({agent:z.agent,dates:[z.date]}),IK(p)>q){p.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:p,unsentEntries:Z}}(this._heartbeatsCache.heartbeats),Z=(0,S.q)(JSON.stringify({version:2,heartbeats:q}));return this._heartbeatsCache.lastSentHeartbeatDate=K,p.length>0?(this._heartbeatsCache.heartbeats=p,await this.Gi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Gi.overwrite(this._heartbeatsCache)),Z}}function jK(){return(new Date).toISOString().substring(0,10)}class NK{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,S._)()&&(0,S.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(K){try{const q=await lK();return await q.transaction(mK).objectStore(mK).get(PK(K))}catch(q){if(q instanceof S.i)j.warn(q.message);else{const K=CK.create("idb-get",{originalErrorMessage:null===q||void 0===q?void 0:q.message});j.warn(K.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(K){var q;if(await this._canUseIndexedDBPromise){const p=await this.read();return RK(this.app,{lastSentHeartbeatDate:null!==(q=K.lastSentHeartbeatDate)&&void 0!==q?q:p.lastSentHeartbeatDate,heartbeats:K.heartbeats})}}async add(K){var q;if(await this._canUseIndexedDBPromise){const p=await this.read();return RK(this.app,{lastSentHeartbeatDate:null!==(q=K.lastSentHeartbeatDate)&&void 0!==q?q:p.lastSentHeartbeatDate,heartbeats:[...p.heartbeats,...K.heartbeats]})}}}function IK(K){return(0,S.q)(JSON.stringify({version:2,heartbeats:K})).length}var MK;MK="",zK(new Z.f("platform-logger",(K=>new R(K)),"PRIVATE")),zK(new Z.f("heartbeat",(K=>new gK(K)),"PRIVATE")),tK(P,g,MK),tK(P,g,"esm2017"),tK("fire-js","")},10523:(K,q,p)=>{p.d(q,{e:()=>y,f:()=>z});var Z=p(10532);class z{constructor(K,q,p){this.name=K,this.instanceFactory=q,this.type=p,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const S="[DEFAULT]";class X{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const K=new Z.d;if(this.instancesDeferred.set(q,K),this.isInitialized(q)||this.shouldAutoInitialize())try{const p=this.getOrInitializeService({instanceIdentifier:q});p&&K.resolve(p)}catch(p){}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const p=this.normalizeInstanceIdentifier(null===K||void 0===K?void 0:K.identifier),Z=null!==(q=null===K||void 0===K?void 0:K.optional)&&void 0!==q&&q;if(!this.isInitialized(p)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:p})}catch(z){if(Z)return null;throw z}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:S})}catch(q){}for(const[K,p]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(K);try{const K=this.getOrInitializeService({instanceIdentifier:Z});p.resolve(K)}catch(q){}}}}clearInstance(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}async delete(){const K=Array.from(this.instances.values());await Promise.all([...K.filter((K=>"INTERNAL"in K)).map((K=>K.INTERNAL.delete())),...K.filter((K=>"_delete"in K)).map((K=>K._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.instances.has(K)}getOptions(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.instancesOptions.get(K)||{}}initialize(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:q={}}=K,p=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(p))throw Error(`${this.name}(${p}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:p,options:q});for(const[z,S]of this.instancesDeferred.entries()){p===this.normalizeInstanceIdentifier(z)&&S.resolve(Z)}return Z}ki(K,q){var p;const Z=this.normalizeInstanceIdentifier(q),z=null!==(p=this.onInitCallbacks.get(Z))&&void 0!==p?p:new Set;z.add(K),this.onInitCallbacks.set(Z,z);const S=this.instances.get(Z);return S&&K(S,Z),()=>{z.delete(K)}}invokeOnInitCallbacks(K,q){const p=this.onInitCallbacks.get(q);if(p)for(const z of p)try{z(K,q)}catch(Z){}}getOrInitializeService(K){let{instanceIdentifier:q,options:p={}}=K,Z=this.instances.get(q);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(z=q,z===S?void 0:z),options:p}),this.instances.set(q,Z),this.instancesOptions.set(q,p),this.invokeOnInitCallbacks(Z,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Z)}catch(X){}var z;return Z||null}normalizeInstanceIdentifier(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.component?this.component.multipleInstances?K:S:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y{constructor(K){this.name=K,this.providers=new Map}zf(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.zf(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new X(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},10537:(K,q,p)=>{p.d(q,{d:()=>z,h:()=>C,i:()=>h,j:()=>U});const Z=[];var z;!function(K){K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT"}(z||(z={}));const S={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},X=z.INFO,y={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},V=function(K,q){if(q<K.logLevel)return;const p=(new Date).toISOString(),Z=y[q];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);for(var z=arguments.length,S=new Array(z>2?z-2:0),X=2;X<z;X++)S[X-2]=arguments[X];console[Z](`[${p}]  ${K.name}:`,...S)};class C{constructor(K){this.name=K,this._logLevel=X,this._logHandler=V,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in z))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"===typeof K?S[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!==typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(){for(var K=arguments.length,q=new Array(K),p=0;p<K;p++)q[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...q),this._logHandler(this,z.DEBUG,...q)}log(){for(var K=arguments.length,q=new Array(K),p=0;p<K;p++)q[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...q),this._logHandler(this,z.VERBOSE,...q)}info(){for(var K=arguments.length,q=new Array(K),p=0;p<K;p++)q[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,z.INFO,...q),this._logHandler(this,z.INFO,...q)}warn(){for(var K=arguments.length,q=new Array(K),p=0;p<K;p++)q[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,z.WARN,...q),this._logHandler(this,z.WARN,...q)}error(){for(var K=arguments.length,q=new Array(K),p=0;p<K;p++)q[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,z.ERROR,...q),this._logHandler(this,z.ERROR,...q)}}function h(K){Z.forEach((q=>{q.setLogLevel(K)}))}function U(K,q){for(const p of Z){let Z=null;q&&q.level&&(Z=S[q.level]),p.userLogHandler=null===K?null:function(q,p){for(var S=arguments.length,X=new Array(S>2?S-2:0),y=2;y<S;y++)X[y-2]=arguments[y];const V=X.map((K=>{if(null==K)return null;if("string"===typeof K)return K;if("number"===typeof K||"boolean"===typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(q){return null}})).filter((K=>K)).join(" ");p>=(null!==Z&&void 0!==Z?Z:q.logLevel)&&K({level:z[p].toLowerCase(),message:V,args:X,type:q.name})}}}}}]);