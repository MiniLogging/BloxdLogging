/*! For license information please see 9frq29.5.9f8c5f1b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10970:(Z,c,L)=>{L.d(c,{A:()=>i,E:()=>z,I:()=>t,J:()=>m,L:()=>x,N:()=>O,O:()=>B,Q:()=>M,U:()=>P,W:()=>q,_:()=>w,bb:()=>l,cb:()=>H,d:()=>E,eb:()=>j,h:()=>X,l:()=>u,o:()=>o,p:()=>V,r:()=>G,s:()=>s,w:()=>T,x:()=>D,z:()=>W});const k=function(Z){const c=[];let L=0;for(let k=0;k<Z.length;k++){let N=Z.charCodeAt(k);N<128?c[L++]=N:N<2048?(c[L++]=N>>6|192,c[L++]=63&N|128):55296===(64512&N)&&k+1<Z.length&&56320===(64512&Z.charCodeAt(k+1))?(N=65536+((1023&N)<<10)+(1023&Z.charCodeAt(++k)),c[L++]=N>>18|240,c[L++]=N>>12&63|128,c[L++]=N>>6&63|128,c[L++]=63&N|128):(c[L++]=N>>12|224,c[L++]=N>>6&63|128,c[L++]=63&N|128)}return c},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Z,c){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let N=0;N<Z.length;N+=3){const c=Z[N],R=N+1<Z.length,G=R?Z[N+1]:0,V=N+2<Z.length,p=V?Z[N+2]:0,J=c>>2,z=(3&c)<<4|G>>4;let i=(15&G)<<2|p>>6,t=63&p;V||(t=64,R||(i=64)),k.push(L[J],L[z],L[i],L[t])}return k.join("")},encodeString(Z,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(Z):this.encodeByteArray(k(Z),c)},decodeString(Z,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(Z):function(Z){const c=[];let L=0,k=0;for(;L<Z.length;){const N=Z[L++];if(N<128)c[k++]=String.fromCharCode(N);else if(N>191&&N<224){const R=Z[L++];c[k++]=String.fromCharCode((31&N)<<6|63&R)}else if(N>239&&N<365){const R=((7&N)<<18|(63&Z[L++])<<12|(63&Z[L++])<<6|63&Z[L++])-65536;c[k++]=String.fromCharCode(55296+(R>>10)),c[k++]=String.fromCharCode(56320+(1023&R))}else{const R=Z[L++],G=Z[L++];c[k++]=String.fromCharCode((15&N)<<12|(63&R)<<6|63&G)}}return c.join("")}(this.decodeStringToByteArray(Z,c))},decodeStringToByteArray(Z,c){this.init_();const L=c?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let N=0;N<Z.length;){const c=L[Z.charAt(N++)],G=N<Z.length?L[Z.charAt(N)]:0;++N;const V=N<Z.length?L[Z.charAt(N)]:64;++N;const p=N<Z.length?L[Z.charAt(N)]:64;if(++N,null==c||null==G||null==V||null==p)throw new R;const J=c<<2|G>>4;if(k.push(J),64!==V){const Z=G<<4&240|V>>2;if(k.push(Z),64!==p){const Z=V<<6&192|p;k.push(Z)}}}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G=function(Z){return function(Z){const c=k(Z);return N.encodeByteArray(c,!0)}(Z).replace(/\./g,"")},V=function(Z){try{return N.decodeString(Z,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const p=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof L.g)return L.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return p()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(L){return}const c=Z&&V(Z[1]);return c&&JSON.parse(c)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},z=Z=>{var c,L;return null===(L=null===(c=J())||void 0===c?void 0:c.emulatorHosts)||void 0===L?void 0:L[Z]},i=()=>{var Z;return null===(Z=J())||void 0===Z?void 0:Z.config},t=Z=>{var c;return null===(c=J())||void 0===c?void 0:c[`_${Z}`]};class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Z,c)=>{this.resolve=Z,this.reject=c}))}wrapCallback(Z){return(c,L)=>{c?this.reject(c):this.resolve(L),"function"===typeof Z&&(this.promise.catch((()=>{})),1===Z.length?Z(c):Z(c,L))}}}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function O(){const Z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Z&&void 0!==Z.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const Z=x();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function P(){try{return"object"===typeof indexedDB}catch(Z){return!1}}function j(){return new Promise(((Z,c)=>{try{let L=!0;const k="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(k);N.onsuccess=()=>{N.result.close(),L||self.indexedDB.deleteDatabase(k),Z(!0)},N.onupgradeneeded=()=>{L=!1},N.onerror=()=>{var Z;c((null===(Z=N.error)||void 0===Z?void 0:Z.message)||"")}}catch(L){c(L)}}))}function o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class u extends Error{constructor(Z,c,L){super(c),this.code=Z,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(Z,c,L){this.service=Z,this.serviceName=c,this.errors=L}create(Z){const c=(arguments.length<=1?void 0:arguments[1])||{},L=`${this.service}/${Z}`,k=this.errors[Z],N=k?function(Z,c){return Z.replace(h,((Z,L)=>{const k=c[L];return null!=k?String(k):`<${L}?>`}))}(k,c):"Error",R=`${this.serviceName}: ${N} (${L}).`;return new u(L,R,c)}}const h=/\{\$([^}]+)}/g;function B(Z){for(const c in Z)if(Object.prototype.hasOwnProperty.call(Z,c))return!1;return!0}function D(Z,c){if(Z===c)return!0;const L=Object.keys(Z),k=Object.keys(c);for(const N of L){if(!k.includes(N))return!1;const L=Z[N],R=c[N];if(e(L)&&e(R)){if(!D(L,R))return!1}else if(L!==R)return!1}for(const N of k)if(!L.includes(N))return!1;return!0}function e(Z){return null!==Z&&"object"===typeof Z}function H(Z){const c=[];for(const[L,k]of Object.entries(Z))Array.isArray(k)?k.forEach((Z=>{c.push(encodeURIComponent(L)+"="+encodeURIComponent(Z))})):c.push(encodeURIComponent(L)+"="+encodeURIComponent(k));return c.length?"&"+c.join("&"):""}function l(Z){const c={};return Z.replace(/^\?/,"").split("&").forEach((Z=>{if(Z){const[L,k]=Z.split("=");c[decodeURIComponent(L)]=decodeURIComponent(k)}})),c}function W(Z){const c=Z.indexOf("?");if(!c)return"";const L=Z.indexOf("#",c);return Z.substring(c,L>0?L:void 0)}function T(Z,c){const L=new I(Z,c);return L.subscribe.bind(L)}class I{constructor(Z,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{Z(this)})).catch((Z=>{this.error(Z)}))}next(Z){this.forEachObserver((c=>{c.next(Z)}))}error(Z){this.forEachObserver((c=>{c.error(Z)})),this.close(Z)}complete(){this.forEachObserver((Z=>{Z.complete()})),this.close()}subscribe(Z,c,L){let k;if(void 0===Z&&void 0===c&&void 0===L)throw new Error("Missing Observer.");k=function(Z,c){if("object"!==typeof Z||null===Z)return!1;for(const L of c)if(L in Z&&"function"===typeof Z[L])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:c,complete:L},void 0===k.next&&(k.next=d),void 0===k.error&&(k.error=d),void 0===k.complete&&(k.complete=d);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(Z){}})),this.observers.push(k),N}unsubscribeOne(Z){void 0!==this.observers&&void 0!==this.observers[Z]&&(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,Z)}sendOne(Z,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{c(this.observers[Z])}catch(L){"undefined"!==typeof console&&console.error&&console.error(L)}}))}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function d(){}const Q=1e3,r=2,f=144e5,S=.5;function s(Z){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const L=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q)*Math.pow(c,Z),k=Math.round(S*L*(Math.random()-.5)*2);return Math.min(f,L+k)}function m(Z){return Z&&Z._delegate?Z._delegate:Z}},10959:(Z,c,L)=>{L.d(c,{e:()=>R.l,i:()=>iZ,l:()=>a,m:()=>LZ,p:()=>kZ,t:()=>ZZ,u:()=>VZ,x:()=>cZ,A:()=>RZ,C:()=>NZ,D:()=>GZ,H:()=>qZ,O:()=>EZ,L:()=>xZ,P:()=>tZ,R:()=>wZ,V:()=>OZ,Z:()=>MZ});var k=L(10966),N=L(10974),R=L(10970);let G,V;const p=new WeakMap,J=new WeakMap,z=new WeakMap,i=new WeakMap,t=new WeakMap;let E={get(Z,c,L){if(Z instanceof IDBTransaction){if("done"===c)return J.get(Z);if("objectStoreNames"===c)return Z.objectStoreNames||z.get(Z);if("store"===c)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return O(Z[c])},set:(Z,c,L)=>(Z[c]=L,!0),has:(Z,c)=>Z instanceof IDBTransaction&&("done"===c||"store"===c)||c in Z};function x(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Z)?function(){for(var c=arguments.length,L=new Array(c),k=0;k<c;k++)L[k]=arguments[k];return Z.apply(w(this),L),O(p.get(this))}:function(){for(var c=arguments.length,L=new Array(c),k=0;k<c;k++)L[k]=arguments[k];return O(Z.apply(w(this),L))}:function(c){for(var L=arguments.length,k=new Array(L>1?L-1:0),N=1;N<L;N++)k[N-1]=arguments[N];const R=Z.call(w(this),c,...k);return z.set(R,c.sort?c.sort():[c]),O(R)}}function q(Z){return"function"===typeof Z?x(Z):(Z instanceof IDBTransaction&&function(Z){if(J.has(Z))return;const c=new Promise(((c,L)=>{const k=()=>{Z.removeEventListener("complete",N),Z.removeEventListener("error",R),Z.removeEventListener("abort",R)},N=()=>{c(),k()},R=()=>{L(Z.error||new DOMException("AbortError","AbortError")),k()};Z.addEventListener("complete",N),Z.addEventListener("error",R),Z.addEventListener("abort",R)}));J.set(Z,c)}(Z),c=Z,(G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Z=>c instanceof Z))?new Proxy(Z,E):Z);var c}function O(Z){if(Z instanceof IDBRequest)return function(Z){const c=new Promise(((c,L)=>{const k=()=>{Z.removeEventListener("success",N),Z.removeEventListener("error",R)},N=()=>{c(O(Z.result)),k()},R=()=>{L(Z.error),k()};Z.addEventListener("success",N),Z.addEventListener("error",R)}));return c.then((c=>{c instanceof IDBCursor&&p.set(c,Z)})).catch((()=>{})),t.set(c,Z),c}(Z);if(i.has(Z))return i.get(Z);const c=q(Z);return c!==Z&&(i.set(Z,c),t.set(c,Z)),c}const w=Z=>t.get(Z);const M=["get","getKey","getAll","getAllKeys","count"],P=["put","add","delete","clear"],j=new Map;function o(Z,c){if(!(Z instanceof IDBDatabase)||c in Z||"string"!==typeof c)return;if(j.get(c))return j.get(c);const L=c.replace(/FromIndex$/,""),k=c!==L,N=P.includes(L);if(!(L in(k?IDBIndex:IDBObjectStore).prototype)||!N&&!M.includes(L))return;const R=async function(Z){const c=this.transaction(Z,N?"readwrite":"readonly");let R=c.store;for(var G=arguments.length,V=new Array(G>1?G-1:0),p=1;p<G;p++)V[p-1]=arguments[p];return k&&(R=R.index(V.shift())),(await Promise.all([R[L](...V),N&&c.done]))[0]};return j.set(c,R),R}E=(Z=>({...Z,get:(c,L,k)=>o(c,L)||Z.get(c,L,k),has:(c,L)=>!!o(c,L)||Z.has(c,L)}))(E);class u{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Z=>{if(function(Z){const c=Z.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(Z)){const c=Z.getImmediate();return`${c.library}/${c.version}`}return null})).filter((Z=>Z)).join(" ")}}const X="@firebase/app",h="0.9.13",B=new N.d("@firebase/app"),D="@firebase/app-compat",e="@firebase/analytics-compat",H="@firebase/analytics",l="@firebase/app-check-compat",W="@firebase/app-check",T="@firebase/auth",I="@firebase/auth-compat",d="@firebase/database",Q="@firebase/database-compat",r="@firebase/functions",f="@firebase/functions-compat",S="@firebase/installations",s="@firebase/installations-compat",m="@firebase/messaging",A="@firebase/messaging-compat",b="@firebase/performance",F="@firebase/performance-compat",U="@firebase/remote-config",K="@firebase/remote-config-compat",n="@firebase/storage",g="@firebase/storage-compat",y="@firebase/firestore",v="@firebase/firestore-compat",Y="firebase",a="[DEFAULT]",C={[X]:"fire-core",[D]:"fire-core-compat",[H]:"fire-analytics",[e]:"fire-analytics-compat",[W]:"fire-app-check",[l]:"fire-app-check-compat",[T]:"fire-auth",[I]:"fire-auth-compat",[d]:"fire-rtdb",[Q]:"fire-rtdb-compat",[r]:"fire-fn",[f]:"fire-fn-compat",[S]:"fire-iid",[s]:"fire-iid-compat",[m]:"fire-fcm",[A]:"fire-fcm-compat",[b]:"fire-perf",[F]:"fire-perf-compat",[U]:"fire-rc",[K]:"fire-rc-compat",[n]:"fire-gcs",[g]:"fire-gcs-compat",[y]:"fire-fst",[v]:"fire-fst-compat","fire-js":"fire-js",[Y]:"fire-js-all"},ZZ=new Map,cZ=new Map;function LZ(Z,c){try{Z.container.Bp(c)}catch(L){B.debug(`Component ${c.name} failed to register with FirebaseApp ${Z.name}`,L)}}function kZ(Z,c){Z.container.addOrOverwriteComponent(c)}function NZ(Z){const c=Z.name;if(cZ.has(c))return B.debug(`There were multiple attempts to register component ${c}.`),!1;cZ.set(c,Z);for(const L of ZZ.values())LZ(L,Z);return!0}function RZ(Z,c){const L=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return L&&L.triggerHeartbeat(),Z.container.getProvider(c)}function GZ(Z,c){let L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;RZ(Z,c).clearInstance(L)}function VZ(){cZ.clear()}const pZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},JZ=new R.h("app","Firebase",pZ);class zZ{constructor(Z,c,L){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=L,this.container.Bp(new k.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw JZ.create("app-deleted",{appName:this._name})}}const iZ="9.23.0";function tZ(Z){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=Z;if("object"!==typeof c){c={name:c}}const N=Object.assign({name:a,automaticDataCollectionEnabled:!1},c),G=N.name;if("string"!==typeof G||!G)throw JZ.create("bad-app-name",{appName:String(G)});if(L||(L=(0,R.A)()),!L)throw JZ.create("no-options");const V=ZZ.get(G);if(V){if((0,R.x)(L,V.options)&&(0,R.x)(N,V.config))return V;throw JZ.create("duplicate-app",{appName:G})}const p=new k.b(G);for(const k of cZ.values())p.Bp(k);const J=new zZ(L,N,p);return ZZ.set(G,J),J}function EZ(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const c=ZZ.get(Z);if(!c&&Z===a&&(0,R.A)())return tZ();if(!c)throw JZ.create("no-app",{appName:Z});return c}function xZ(){return Array.from(ZZ.values())}async function qZ(Z){const c=Z.name;ZZ.has(c)&&(ZZ.delete(c),await Promise.all(Z.container.getProviders().map((Z=>Z.delete()))),Z.isDeleted=!0)}function OZ(Z,c,L){var N;let R=null!==(N=C[Z])&&void 0!==N?N:Z;L&&(R+=`-${L}`);const G=R.match(/\s|\//),V=c.match(/\s|\//);if(G||V){const Z=[`Unable to register library "${R}" with version "${c}":`];return G&&Z.push(`library name "${R}" contains illegal characters (whitespace or "/")`),G&&V&&Z.push("and"),V&&Z.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void B.warn(Z.join(" "))}NZ(new k.f(`${R}-version`,(()=>({library:R,version:c})),"VERSION"))}function wZ(Z,c){if(null!==Z&&"function"!==typeof Z)throw JZ.create("invalid-log-argument");(0,N.j)(Z,c)}function MZ(Z){(0,N.h)(Z)}const PZ="firebase-heartbeat-store";let jZ=null;function oZ(){return jZ||(jZ=function(Z,c){let{blocked:L,upgrade:k,blocking:N,terminated:R}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const G=indexedDB.open(Z,c),V=O(G);return k&&G.addEventListener("upgradeneeded",(Z=>{k(O(G.result),Z.oldVersion,Z.newVersion,O(G.transaction),Z)})),L&&G.addEventListener("blocked",(Z=>L(Z.oldVersion,Z.newVersion,Z))),V.then((Z=>{R&&Z.addEventListener("close",(()=>R())),N&&Z.addEventListener("versionchange",(Z=>N(Z.oldVersion,Z.newVersion,Z)))})).catch((()=>{})),V}("firebase-heartbeat-database",1,{upgrade:(Z,c)=>{if(0===c)Z.createObjectStore(PZ)}}).catch((Z=>{throw JZ.create("idb-open",{originalErrorMessage:Z.message})}))),jZ}async function uZ(Z,c){try{const L=(await oZ()).transaction(PZ,"readwrite"),k=L.objectStore(PZ);await k.put(c,XZ(Z)),await L.done}catch(L){if(L instanceof R.l)B.warn(L.message);else{const Z=JZ.create("idb-set",{originalErrorMessage:null===L||void 0===L?void 0:L.message});B.warn(Z.message)}}}function XZ(Z){return`${Z.name}!${Z.options.appId}`}class hZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.Cz=new DZ(c),this._heartbeatsCachePromise=this.Cz.read().then((Z=>(this._heartbeatsCache=Z,Z)))}async triggerHeartbeat(){const Z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=BZ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((Z=>Z.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:Z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Z=>{const c=new Date(Z.date).valueOf();return Date.now()-c<=2592e6})),this.Cz.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Z=BZ(),{heartbeatsToSend:c,unsentEntries:L}=function(Z){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const L=[];let k=Z.slice();for(const N of Z){const Z=L.find((Z=>Z.agent===N.agent));if(Z){if(Z.dates.push(N.date),eZ(L)>c){Z.dates.pop();break}}else if(L.push({agent:N.agent,dates:[N.date]}),eZ(L)>c){L.pop();break}k=k.slice(1)}return{heartbeatsToSend:L,unsentEntries:k}}(this._heartbeatsCache.heartbeats),k=(0,R.r)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=Z,L.length>0?(this._heartbeatsCache.heartbeats=L,await this.Cz.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Cz.overwrite(this._heartbeatsCache)),k}}function BZ(){return(new Date).toISOString().substring(0,10)}class DZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,R.U)()&&(0,R.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Z){try{const c=await oZ();return await c.transaction(PZ).objectStore(PZ).get(XZ(Z))}catch(c){if(c instanceof R.l)B.warn(c.message);else{const Z=JZ.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});B.warn(Z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Z){var c;if(await this._canUseIndexedDBPromise){const L=await this.read();return uZ(this.app,{lastSentHeartbeatDate:null!==(c=Z.lastSentHeartbeatDate)&&void 0!==c?c:L.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var c;if(await this._canUseIndexedDBPromise){const L=await this.read();return uZ(this.app,{lastSentHeartbeatDate:null!==(c=Z.lastSentHeartbeatDate)&&void 0!==c?c:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...Z.heartbeats]})}}}function eZ(Z){return(0,R.r)(JSON.stringify({version:2,heartbeats:Z})).length}var HZ;HZ="",NZ(new k.f("platform-logger",(Z=>new u(Z)),"PRIVATE")),NZ(new k.f("heartbeat",(Z=>new hZ(Z)),"PRIVATE")),OZ(X,h,HZ),OZ(X,h,"esm2017"),OZ("fire-js","")},10966:(Z,c,L)=>{L.d(c,{b:()=>V,f:()=>N});var k=L(10970);class N{constructor(Z,c,L){this.name=Z,this.instanceFactory=c,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const R="[DEFAULT]";class G{constructor(Z,c){this.name=Z,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const c=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(c)){const Z=new k.d;if(this.instancesDeferred.set(c,Z),this.isInitialized(c)||this.shouldAutoInitialize())try{const L=this.getOrInitializeService({instanceIdentifier:c});L&&Z.resolve(L)}catch(L){}}return this.instancesDeferred.get(c).promise}getImmediate(Z){var c;const L=this.normalizeInstanceIdentifier(null===Z||void 0===Z?void 0:Z.identifier),k=null!==(c=null===Z||void 0===Z?void 0:Z.optional)&&void 0!==c&&c;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(N){if(k)return null;throw N}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:R})}catch(c){}for(const[Z,L]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(Z);try{const Z=this.getOrInitializeService({instanceIdentifier:k});L.resolve(Z)}catch(c){}}}}clearInstance(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){const Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Z=>"INTERNAL"in Z)).map((Z=>Z.INTERNAL.delete())),...Z.filter((Z=>"_delete"in Z)).map((Z=>Z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instances.has(Z)}getOptions(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instancesOptions.get(Z)||{}}initialize(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=Z,L=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(L))throw Error(`${this.name}(${L}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:L,options:c});for(const[N,R]of this.instancesDeferred.entries()){L===this.normalizeInstanceIdentifier(N)&&R.resolve(k)}return k}Wz(Z,c){var L;const k=this.normalizeInstanceIdentifier(c),N=null!==(L=this.onInitCallbacks.get(k))&&void 0!==L?L:new Set;N.add(Z),this.onInitCallbacks.set(k,N);const R=this.instances.get(k);return R&&Z(R,k),()=>{N.delete(Z)}}invokeOnInitCallbacks(Z,c){const L=this.onInitCallbacks.get(c);if(L)for(const N of L)try{N(Z,c)}catch(k){}}getOrInitializeService(Z){let{instanceIdentifier:c,options:L={}}=Z,k=this.instances.get(c);if(!k&&this.component&&(k=this.component.instanceFactory(this.container,{instanceIdentifier:(N=c,N===R?void 0:N),options:L}),this.instances.set(c,k),this.instancesOptions.set(c,L),this.invokeOnInitCallbacks(k,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,k)}catch(G){}var N;return k||null}normalizeInstanceIdentifier(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.component?this.component.multipleInstances?Z:R:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class V{constructor(Z){this.name=Z,this.providers=new Map}Bp(Z){const c=this.getProvider(Z.name);if(c.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);c.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.Bp(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const c=new G(Z,this);return this.providers.set(Z,c),c}getProviders(){return Array.from(this.providers.values())}}},10974:(Z,c,L)=>{L.d(c,{c:()=>N,d:()=>J,h:()=>z,j:()=>i});const k=[];var N;!function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"}(N||(N={}));const R={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},G=N.INFO,V={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},p=function(Z,c){if(c<Z.logLevel)return;const L=(new Date).toISOString(),k=V[c];if(!k)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var N=arguments.length,R=new Array(N>2?N-2:0),G=2;G<N;G++)R[G-2]=arguments[G];console[k](`[${L}]  ${Z.name}:`,...R)};class J{constructor(Z){this.name=Z,this._logLevel=G,this._logHandler=p,this._userLogHandler=null,k.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in N))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"===typeof Z?R[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!==typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(){for(var Z=arguments.length,c=new Array(Z),L=0;L<Z;L++)c[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...c),this._logHandler(this,N.DEBUG,...c)}log(){for(var Z=arguments.length,c=new Array(Z),L=0;L<Z;L++)c[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...c),this._logHandler(this,N.VERBOSE,...c)}info(){for(var Z=arguments.length,c=new Array(Z),L=0;L<Z;L++)c[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,N.INFO,...c),this._logHandler(this,N.INFO,...c)}warn(){for(var Z=arguments.length,c=new Array(Z),L=0;L<Z;L++)c[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,N.WARN,...c),this._logHandler(this,N.WARN,...c)}error(){for(var Z=arguments.length,c=new Array(Z),L=0;L<Z;L++)c[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,N.ERROR,...c),this._logHandler(this,N.ERROR,...c)}}function z(Z){k.forEach((c=>{c.setLogLevel(Z)}))}function i(Z,c){for(const L of k){let k=null;c&&c.level&&(k=R[c.level]),L.userLogHandler=null===Z?null:function(c,L){for(var R=arguments.length,G=new Array(R>2?R-2:0),V=2;V<R;V++)G[V-2]=arguments[V];const p=G.map((Z=>{if(null==Z)return null;if("string"===typeof Z)return Z;if("number"===typeof Z||"boolean"===typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(c){return null}})).filter((Z=>Z)).join(" ");L>=(null!==k&&void 0!==k?k:c.logLevel)&&Z({level:N[L].toLowerCase(),message:p,args:G,type:c.name})}}}}}]);