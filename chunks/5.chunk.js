/*! For license information please see 3b8e12.5.3d7e32c4.chunk.js.LICENSE.txt */
"use strict";(self["9s4i8ue3jq"]=self["9s4i8ue3jq"]||[]).push([[5],{12604:(a,c,o)=>{o.d(c,{$:()=>n,D:()=>d,F:()=>j,I:()=>C,L:()=>L,O:()=>I,P:()=>g,S:()=>N,T:()=>U,X:()=>k,ab:()=>M,c:()=>e,cb:()=>y,e:()=>Z,eb:()=>R,g:()=>w,gb:()=>x,ib:()=>f,j:()=>J,n:()=>p,q:()=>i,s:()=>D,w:()=>X,z:()=>S});const s=function(a){const c=[];let o=0;for(let s=0;s<a.length;s++){let q=a.charCodeAt(s);q<128?c[o++]=q:q<2048?(c[o++]=q>>6|192,c[o++]=63&q|128):55296===(64512&q)&&s+1<a.length&&56320===(64512&a.charCodeAt(s+1))?(q=65536+((1023&q)<<10)+(1023&a.charCodeAt(++s)),c[o++]=q>>18|240,c[o++]=q>>12&63|128,c[o++]=q>>6&63|128,c[o++]=63&q|128):(c[o++]=q>>12|224,c[o++]=q>>6&63|128,c[o++]=63&q|128)}return c},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(a,c){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let q=0;q<a.length;q+=3){const c=a[q],t=q+1<a.length,i=t?a[q+1]:0,p=q+2<a.length,G=p?a[q+2]:0,T=c>>2,C=(3&c)<<4|i>>4;let j=(15&i)<<2|G>>6,L=63&G;p||(L=64,t||(j=64)),s.push(o[T],o[C],o[j],o[L])}return s.join("")},encodeString(a,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(a):this.encodeByteArray(s(a),c)},decodeString(a,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(a):function(a){const c=[];let o=0,s=0;for(;o<a.length;){const q=a[o++];if(q<128)c[s++]=String.fromCharCode(q);else if(q>191&&q<224){const t=a[o++];c[s++]=String.fromCharCode((31&q)<<6|63&t)}else if(q>239&&q<365){const t=((7&q)<<18|(63&a[o++])<<12|(63&a[o++])<<6|63&a[o++])-65536;c[s++]=String.fromCharCode(55296+(t>>10)),c[s++]=String.fromCharCode(56320+(1023&t))}else{const t=a[o++],i=a[o++];c[s++]=String.fromCharCode((15&q)<<12|(63&t)<<6|63&i)}}return c.join("")}(this.decodeStringToByteArray(a,c))},decodeStringToByteArray(a,c){this.init_();const o=c?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let q=0;q<a.length;){const c=o[a.charAt(q++)],i=q<a.length?o[a.charAt(q)]:0;++q;const p=q<a.length?o[a.charAt(q)]:64;++q;const G=q<a.length?o[a.charAt(q)]:64;if(++q,null==c||null==i||null==p||null==G)throw new t;const T=c<<2|i>>4;if(s.push(T),64!==p){const a=i<<4&240|p>>2;if(s.push(a),64!==G){const a=p<<6&192|G;s.push(a)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(a){return function(a){const c=s(a);return q.encodeByteArray(c,!0)}(a).replace(/\./g,"")},p=function(a){try{return q.decodeString(a,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const G=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof o.g)return o.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,T=()=>{try{return G()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(o){return}const c=a&&p(a[1]);return c&&JSON.parse(c)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},C=a=>{var c,o;return null===(o=null===(c=T())||void 0===c?void 0:c.emulatorHosts)||void 0===o?void 0:o[a]},j=()=>{var a;return null===(a=T())||void 0===a?void 0:a.config},L=a=>{var c;return null===(c=T())||void 0===c?void 0:c[`_${a}`]};class e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((a,c)=>{this.resolve=a,this.reject=c}))}wrapCallback(a){return(c,o)=>{c?this.reject(c):this.resolve(o),"function"===typeof a&&(this.promise.catch((()=>{})),1===a.length?a(c):a(c,o))}}}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function N(){const a="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof a&&void 0!==a.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){const a=g();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function n(){try{return"object"===typeof indexedDB}catch(a){return!1}}function f(){return new Promise(((a,c)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(s);q.onsuccess=()=>{q.result.close(),o||self.indexedDB.deleteDatabase(s),a(!0)},q.onupgradeneeded=()=>{o=!1},q.onerror=()=>{var a;c((null===(a=q.error)||void 0===a?void 0:a.message)||"")}}catch(o){c(o)}}))}function J(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class w extends Error{constructor(a,c,o){super(c),this.code=a,this.customData=o,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(a,c,o){this.service=a,this.serviceName=c,this.errors=o}create(a){const c=(arguments.length<=1?void 0:arguments[1])||{},o=`${this.service}/${a}`,s=this.errors[a],q=s?function(a,c){return a.replace(h,((a,o)=>{const s=c[o];return null!=s?String(s):`<${o}?>`}))}(s,c):"Error",t=`${this.serviceName}: ${q} (${o}).`;return new w(o,t,c)}}const h=/\{\$([^}]+)}/g;function U(a){for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!1;return!0}function S(a,c){if(a===c)return!0;const o=Object.keys(a),s=Object.keys(c);for(const q of o){if(!s.includes(q))return!1;const o=a[q],t=c[q];if(r(o)&&r(t)){if(!S(o,t))return!1}else if(o!==t)return!1}for(const q of s)if(!o.includes(q))return!1;return!0}function r(a){return null!==a&&"object"===typeof a}function x(a){const c=[];for(const[o,s]of Object.entries(a))Array.isArray(s)?s.forEach((a=>{c.push(encodeURIComponent(o)+"="+encodeURIComponent(a))})):c.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return c.length?"&"+c.join("&"):""}function R(a){const c={};return a.replace(/^\?/,"").split("&").forEach((a=>{if(a){const[o,s]=a.split("=");c[decodeURIComponent(o)]=decodeURIComponent(s)}})),c}function d(a){const c=a.indexOf("?");if(!c)return"";const o=a.indexOf("#",c);return a.substring(c,o>0?o:void 0)}function X(a,c){const o=new W(a,c);return o.subscribe.bind(o)}class W{constructor(a,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{a(this)})).catch((a=>{this.error(a)}))}next(a){this.forEachObserver((c=>{c.next(a)}))}error(a){this.forEachObserver((c=>{c.error(a)})),this.close(a)}complete(){this.forEachObserver((a=>{a.complete()})),this.close()}subscribe(a,c,o){let s;if(void 0===a&&void 0===c&&void 0===o)throw new Error("Missing Observer.");s=function(a,c){if("object"!==typeof a||null===a)return!1;for(const o of c)if(o in a&&"function"===typeof a[o])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:c,complete:o},void 0===s.next&&(s.next=F),void 0===s.error&&(s.error=F),void 0===s.complete&&(s.complete=F);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(a){}})),this.observers.push(s),q}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,a)}sendOne(a,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{c(this.observers[a])}catch(o){"undefined"!==typeof console&&console.error&&console.error(o)}}))}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}const O=1e3,B=2,u=144e5,K=.5;function D(a){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;const o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:O)*Math.pow(c,a),s=Math.round(K*o*(Math.random()-.5)*2);return Math.min(u,o+s)}function I(a){return a&&a._delegate?a._delegate:a}},12592:(a,c,o)=>{o.d(c,{d:()=>t.g,f:()=>ja,i:()=>Q,m:()=>oa,o:()=>sa,p:()=>aa,t:()=>pa,w:()=>ca,A:()=>ta,B:()=>qa,C:()=>ia,G:()=>Ma,K:()=>ea,I:()=>ga,O:()=>La,P:()=>ya,S:()=>Na,V:()=>ka});var s=o(12597),q=o(12612),t=o(12604);let i,p;const G=new WeakMap,T=new WeakMap,C=new WeakMap,j=new WeakMap,L=new WeakMap;let e={get(a,c,o){if(a instanceof IDBTransaction){if("done"===c)return T.get(a);if("objectStoreNames"===c)return a.objectStoreNames||C.get(a);if("store"===c)return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return N(a[c])},set:(a,c,o)=>(a[c]=o,!0),has:(a,c)=>a instanceof IDBTransaction&&("done"===c||"store"===c)||c in a};function g(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(p||(p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(){for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return a.apply(y(this),o),N(G.get(this))}:function(){for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return N(a.apply(y(this),o))}:function(c){for(var o=arguments.length,s=new Array(o>1?o-1:0),q=1;q<o;q++)s[q-1]=arguments[q];const t=a.call(y(this),c,...s);return C.set(t,c.sort?c.sort():[c]),N(t)}}function M(a){return"function"===typeof a?g(a):(a instanceof IDBTransaction&&function(a){if(T.has(a))return;const c=new Promise(((c,o)=>{const s=()=>{a.removeEventListener("complete",q),a.removeEventListener("error",t),a.removeEventListener("abort",t)},q=()=>{c(),s()},t=()=>{o(a.error||new DOMException("AbortError","AbortError")),s()};a.addEventListener("complete",q),a.addEventListener("error",t),a.addEventListener("abort",t)}));T.set(a,c)}(a),c=a,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((a=>c instanceof a))?new Proxy(a,e):a);var c}function N(a){if(a instanceof IDBRequest)return function(a){const c=new Promise(((c,o)=>{const s=()=>{a.removeEventListener("success",q),a.removeEventListener("error",t)},q=()=>{c(N(a.result)),s()},t=()=>{o(a.error),s()};a.addEventListener("success",q),a.addEventListener("error",t)}));return c.then((c=>{c instanceof IDBCursor&&G.set(c,a)})).catch((()=>{})),L.set(c,a),c}(a);if(j.has(a))return j.get(a);const c=M(a);return c!==a&&(j.set(a,c),L.set(c,a)),c}const y=a=>L.get(a);const k=["get","getKey","getAll","getAllKeys","count"],n=["put","add","delete","clear"],f=new Map;function J(a,c){if(!(a instanceof IDBDatabase)||c in a||"string"!==typeof c)return;if(f.get(c))return f.get(c);const o=c.replace(/FromIndex$/,""),s=c!==o,q=n.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!q&&!k.includes(o))return;const t=async function(a){const c=this.transaction(a,q?"readwrite":"readonly");let t=c.store;for(var i=arguments.length,p=new Array(i>1?i-1:0),G=1;G<i;G++)p[G-1]=arguments[G];return s&&(t=t.index(p.shift())),(await Promise.all([t[o](...p),q&&c.done]))[0]};return f.set(c,t),t}e=(a=>({...a,get:(c,o,s)=>J(c,o)||a.get(c,o,s),has:(c,o)=>!!J(c,o)||a.has(c,o)}))(e);class w{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map((a=>{if(function(a){const c=a.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(a)){const c=a.getImmediate();return`${c.library}/${c.version}`}return null})).filter((a=>a)).join(" ")}}const Z="@firebase/app",h="0.9.13",U=new q.f("@firebase/app"),S="@firebase/app-compat",r="@firebase/analytics-compat",x="@firebase/analytics",R="@firebase/app-check-compat",d="@firebase/app-check",X="@firebase/auth",W="@firebase/auth-compat",F="@firebase/database",O="@firebase/database-compat",B="@firebase/functions",u="@firebase/functions-compat",K="@firebase/installations",D="@firebase/installations-compat",I="@firebase/messaging",Y="@firebase/messaging-compat",P="@firebase/performance",ma="@firebase/performance-compat",V="@firebase/remote-config",E="@firebase/remote-config-compat",H="@firebase/storage",b="@firebase/storage-compat",A="@firebase/firestore",v="@firebase/firestore-compat",l="firebase",Q="[DEFAULT]",z={[Z]:"fire-core",[S]:"fire-core-compat",[x]:"fire-analytics",[r]:"fire-analytics-compat",[d]:"fire-app-check",[R]:"fire-app-check-compat",[X]:"fire-auth",[W]:"fire-auth-compat",[F]:"fire-rtdb",[O]:"fire-rtdb-compat",[B]:"fire-fn",[u]:"fire-fn-compat",[K]:"fire-iid",[D]:"fire-iid-compat",[I]:"fire-fcm",[Y]:"fire-fcm-compat",[P]:"fire-perf",[ma]:"fire-perf-compat",[V]:"fire-rc",[E]:"fire-rc-compat",[H]:"fire-gcs",[b]:"fire-gcs-compat",[A]:"fire-fst",[v]:"fire-fst-compat","fire-js":"fire-js",[l]:"fire-js-all"},aa=new Map,ca=new Map;function oa(a,c){try{a.container.xT(c)}catch(o){U.debug(`Component ${c.name} failed to register with FirebaseApp ${a.name}`,o)}}function sa(a,c){a.container.addOrOverwriteComponent(c)}function qa(a){const c=a.name;if(ca.has(c))return U.debug(`There were multiple attempts to register component ${c}.`),!1;ca.set(c,a);for(const o of aa.values())oa(o,a);return!0}function ta(a,c){const o=a.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),a.container.getProvider(c)}function ia(a,c){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;ta(a,c).clearInstance(o)}function pa(){ca.clear()}const Ga={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ta=new t.e("app","Firebase",Ga);class Ca{constructor(a,c,o){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=o,this.container.xT(new s.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}const ja="9.23.0";function La(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a;if("object"!==typeof c){c={name:c}}const q=Object.assign({name:Q,automaticDataCollectionEnabled:!1},c),i=q.name;if("string"!==typeof i||!i)throw Ta.create("bad-app-name",{appName:String(i)});if(o||(o=(0,t.F)()),!o)throw Ta.create("no-options");const p=aa.get(i);if(p){if((0,t.z)(o,p.options)&&(0,t.z)(q,p.config))return p;throw Ta.create("duplicate-app",{appName:i})}const G=new s.c(i);for(const s of ca.values())G.xT(s);const T=new Ca(o,q,G);return aa.set(i,T),T}function ea(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const c=aa.get(a);if(!c&&a===Q&&(0,t.F)())return La();if(!c)throw Ta.create("no-app",{appName:a});return c}function ga(){return Array.from(aa.values())}async function Ma(a){const c=a.name;aa.has(c)&&(aa.delete(c),await Promise.all(a.container.getProviders().map((a=>a.delete()))),a.isDeleted=!0)}function Na(a,c,o){var q;let t=null!==(q=z[a])&&void 0!==q?q:a;o&&(t+=`-${o}`);const i=t.match(/\s|\//),p=c.match(/\s|\//);if(i||p){const a=[`Unable to register library "${t}" with version "${c}":`];return i&&a.push(`library name "${t}" contains illegal characters (whitespace or "/")`),i&&p&&a.push("and"),p&&a.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void U.warn(a.join(" "))}qa(new s.e(`${t}-version`,(()=>({library:t,version:c})),"VERSION"))}function ya(a,c){if(null!==a&&"function"!==typeof a)throw Ta.create("invalid-log-argument");(0,q.m)(a,c)}function ka(a){(0,q.i)(a)}const na="firebase-heartbeat-store";let fa=null;function Ja(){return fa||(fa=function(a,c){let{blocked:o,upgrade:s,blocking:q,terminated:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(a,c),p=N(i);return s&&i.addEventListener("upgradeneeded",(a=>{s(N(i.result),a.oldVersion,a.newVersion,N(i.transaction),a)})),o&&i.addEventListener("blocked",(a=>o(a.oldVersion,a.newVersion,a))),p.then((a=>{t&&a.addEventListener("close",(()=>t())),q&&a.addEventListener("versionchange",(a=>q(a.oldVersion,a.newVersion,a)))})).catch((()=>{})),p}("firebase-heartbeat-database",1,{upgrade:(a,c)=>{if(0===c)a.createObjectStore(na)}}).catch((a=>{throw Ta.create("idb-open",{originalErrorMessage:a.message})}))),fa}async function wa(a,c){try{const o=(await Ja()).transaction(na,"readwrite"),s=o.objectStore(na);await s.put(c,Za(a)),await o.done}catch(o){if(o instanceof t.g)U.warn(o.message);else{const a=Ta.create("idb-set",{originalErrorMessage:null===o||void 0===o?void 0:o.message});U.warn(a.message)}}}function Za(a){return`${a.name}!${a.options.appId}`}class ha{constructor(a){this.container=a,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.sL=new Sa(c),this._heartbeatsCachePromise=this.sL.read().then((a=>(this._heartbeatsCache=a,a)))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ua();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((a=>a.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6})),this.sL.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const a=Ua(),{heartbeatsToSend:c,unsentEntries:o}=function(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const o=[];let s=a.slice();for(const q of a){const a=o.find((a=>a.agent===q.agent));if(a){if(a.dates.push(q.date),ra(o)>c){a.dates.pop();break}}else if(o.push({agent:q.agent,dates:[q.date]}),ra(o)>c){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}(this._heartbeatsCache.heartbeats),s=(0,t.q)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this.sL.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.sL.overwrite(this._heartbeatsCache)),s}}function Ua(){return(new Date).toISOString().substring(0,10)}class Sa{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,t.$)()&&(0,t.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(a){try{const c=await Ja();return await c.transaction(na).objectStore(na).get(Za(a))}catch(c){if(c instanceof t.g)U.warn(c.message);else{const a=Ta.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});U.warn(a.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(a){var c;if(await this._canUseIndexedDBPromise){const o=await this.read();return wa(this.app,{lastSentHeartbeatDate:null!==(c=a.lastSentHeartbeatDate)&&void 0!==c?c:o.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){var c;if(await this._canUseIndexedDBPromise){const o=await this.read();return wa(this.app,{lastSentHeartbeatDate:null!==(c=a.lastSentHeartbeatDate)&&void 0!==c?c:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...a.heartbeats]})}}}function ra(a){return(0,t.q)(JSON.stringify({version:2,heartbeats:a})).length}var xa;xa="",qa(new s.e("platform-logger",(a=>new w(a)),"PRIVATE")),qa(new s.e("heartbeat",(a=>new ha(a)),"PRIVATE")),Na(Z,h,xa),Na(Z,h,"esm2017"),Na("fire-js","")},12597:(a,c,o)=>{o.d(c,{c:()=>p,e:()=>q});var s=o(12604);class q{constructor(a,c,o){this.name=a,this.instanceFactory=c,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}const t="[DEFAULT]";class i{constructor(a,c){this.name=a,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const c=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(c)){const a=new s.c;if(this.instancesDeferred.set(c,a),this.isInitialized(c)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:c});o&&a.resolve(o)}catch(o){}}return this.instancesDeferred.get(c).promise}getImmediate(a){var c;const o=this.normalizeInstanceIdentifier(null===a||void 0===a?void 0:a.identifier),s=null!==(c=null===a||void 0===a?void 0:a.optional)&&void 0!==c&&c;if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(s)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(q){if(s)return null;throw q}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(function(a){return"EAGER"===a.instantiationMode}(a))try{this.getOrInitializeService({instanceIdentifier:t})}catch(c){}for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);try{const a=this.getOrInitializeService({instanceIdentifier:s});o.resolve(a)}catch(c){}}}}clearInstance(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter((a=>"INTERNAL"in a)).map((a=>a.INTERNAL.delete())),...a.filter((a=>"_delete"in a)).map((a=>a._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instances.has(a)}getOptions(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instancesOptions.get(a)||{}}initialize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=a,o=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:c});for(const[q,t]of this.instancesDeferred.entries()){o===this.normalizeInstanceIdentifier(q)&&t.resolve(s)}return s}Oj(a,c){var o;const s=this.normalizeInstanceIdentifier(c),q=null!==(o=this.onInitCallbacks.get(s))&&void 0!==o?o:new Set;q.add(a),this.onInitCallbacks.set(s,q);const t=this.instances.get(s);return t&&a(t,s),()=>{q.delete(a)}}invokeOnInitCallbacks(a,c){const o=this.onInitCallbacks.get(c);if(o)for(const q of o)try{q(a,c)}catch(s){}}getOrInitializeService(a){let{instanceIdentifier:c,options:o={}}=a,s=this.instances.get(c);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(q=c,q===t?void 0:q),options:o}),this.instances.set(c,s),this.instancesOptions.set(c,o),this.invokeOnInitCallbacks(s,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,s)}catch(i){}var q;return s||null}normalizeInstanceIdentifier(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.component?this.component.multipleInstances?a:t:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class p{constructor(a){this.name=a,this.providers=new Map}xT(a){const c=this.getProvider(a.name);if(c.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);c.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.xT(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const c=new i(a,this);return this.providers.set(a,c),c}getProviders(){return Array.from(this.providers.values())}}},12612:(a,c,o)=>{o.d(c,{e:()=>q,f:()=>T,i:()=>C,m:()=>j});const s=[];var q;!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(q||(q={}));const t={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},i=q.INFO,p={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},G=function(a,c){if(c<a.logLevel)return;const o=(new Date).toISOString(),s=p[c];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var q=arguments.length,t=new Array(q>2?q-2:0),i=2;i<q;i++)t[i-2]=arguments[i];console[s](`[${o}]  ${a.name}:`,...t)};class T{constructor(a){this.name=a,this._logLevel=i,this._logHandler=G,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in q))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"===typeof a?t[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...c),this._logHandler(this,q.DEBUG,...c)}log(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...c),this._logHandler(this,q.VERBOSE,...c)}info(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];this._userLogHandler&&this._userLogHandler(this,q.INFO,...c),this._logHandler(this,q.INFO,...c)}warn(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];this._userLogHandler&&this._userLogHandler(this,q.WARN,...c),this._logHandler(this,q.WARN,...c)}error(){for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...c),this._logHandler(this,q.ERROR,...c)}}function C(a){s.forEach((c=>{c.setLogLevel(a)}))}function j(a,c){for(const o of s){let s=null;c&&c.level&&(s=t[c.level]),o.userLogHandler=null===a?null:function(c,o){for(var t=arguments.length,i=new Array(t>2?t-2:0),p=2;p<t;p++)i[p-2]=arguments[p];const G=i.map((a=>{if(null==a)return null;if("string"===typeof a)return a;if("number"===typeof a||"boolean"===typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(c){return null}})).filter((a=>a)).join(" ");o>=(null!==s&&void 0!==s?s:c.logLevel)&&a({level:q[o].toLowerCase(),message:G,args:i,type:c.name})}}}}}]);