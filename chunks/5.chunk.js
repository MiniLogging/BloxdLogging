/*! For license information please see gknhd.5.6f3a4f8b.chunk.js.LICENSE.txt */
"use strict";(self["3b8bnhi4gzj"]=self["3b8bnhi4gzj"]||[]).push([[5],{11546:(Z,h,V)=>{V.d(h,{A:()=>D,D:()=>w,H:()=>u,L:()=>b,O:()=>B,P:()=>q,Q:()=>X,R:()=>F,T:()=>o,U:()=>y,W:()=>L,_:()=>E,d:()=>k,g:()=>C,h:()=>P,k:()=>j,n:()=>d,o:()=>K,p:()=>Q,s:()=>z,v:()=>S,w:()=>W,y:()=>N,z:()=>x});const v=function(Z){const h=[];let V=0;for(let v=0;v<Z.length;v++){let A=Z.charCodeAt(v);A<128?h[V++]=A:A<2048?(h[V++]=A>>6|192,h[V++]=63&A|128):55296===(64512&A)&&v+1<Z.length&&56320===(64512&Z.charCodeAt(v+1))?(A=65536+((1023&A)<<10)+(1023&Z.charCodeAt(++v)),h[V++]=A>>18|240,h[V++]=A>>12&63|128,h[V++]=A>>6&63|128,h[V++]=63&A|128):(h[V++]=A>>12|224,h[V++]=A>>6&63|128,h[V++]=63&A|128)}return h},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Z,h){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,v=[];for(let A=0;A<Z.length;A+=3){const h=Z[A],H=A+1<Z.length,K=H?Z[A+1]:0,d=A+2<Z.length,a=d?Z[A+2]:0,n=h>>2,x=(3&h)<<4|K>>4;let N=(15&K)<<2|a>>6,D=63&a;d||(D=64,H||(N=64)),v.push(V[n],V[x],V[N],V[D])}return v.join("")},encodeString(Z,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(Z):this.encodeByteArray(v(Z),h)},decodeString(Z,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(Z):function(Z){const h=[];let V=0,v=0;for(;V<Z.length;){const A=Z[V++];if(A<128)h[v++]=String.fromCharCode(A);else if(A>191&&A<224){const H=Z[V++];h[v++]=String.fromCharCode((31&A)<<6|63&H)}else if(A>239&&A<365){const H=((7&A)<<18|(63&Z[V++])<<12|(63&Z[V++])<<6|63&Z[V++])-65536;h[v++]=String.fromCharCode(55296+(H>>10)),h[v++]=String.fromCharCode(56320+(1023&H))}else{const H=Z[V++],K=Z[V++];h[v++]=String.fromCharCode((15&A)<<12|(63&H)<<6|63&K)}}return h.join("")}(this.decodeStringToByteArray(Z,h))},decodeStringToByteArray(Z,h){this.init_();const V=h?this.charToByteMapWebSafe_:this.charToByteMap_,v=[];for(let A=0;A<Z.length;){const h=V[Z.charAt(A++)],K=A<Z.length?V[Z.charAt(A)]:0;++A;const d=A<Z.length?V[Z.charAt(A)]:64;++A;const a=A<Z.length?V[Z.charAt(A)]:64;if(++A,null==h||null==K||null==d||null==a)throw new H;const n=h<<2|K>>4;if(v.push(n),64!==d){const Z=K<<4&240|d>>2;if(v.push(Z),64!==a){const Z=d<<6&192|a;v.push(Z)}}}return v},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(Z){return function(Z){const h=v(Z);return A.encodeByteArray(h,!0)}(Z).replace(/\./g,"")},d=function(Z){try{return A.decodeString(Z,!0)}catch(h){console.error("base64Decode failed: ",h)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof V.g)return V.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,n=()=>{try{return a()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(V){return}const h=Z&&d(Z[1]);return h&&JSON.parse(h)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},x=Z=>{var h,V;return null===(V=null===(h=n())||void 0===h?void 0:h.emulatorHosts)||void 0===V?void 0:V[Z]},N=()=>{var Z;return null===(Z=n())||void 0===Z?void 0:Z.config},D=Z=>{var h;return null===(h=n())||void 0===h?void 0:h[`_${Z}`]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Z,h)=>{this.resolve=Z,this.reject=h}))}wrapCallback(Z){return(h,V)=>{h?this.reject(h):this.resolve(V),"function"===typeof Z&&(this.promise.catch((()=>{})),1===Z.length?Z(h):Z(h,V))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function b(){const Z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Z&&void 0!==Z.id}function o(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function q(){const Z=u();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function X(){try{return"object"===typeof indexedDB}catch(Z){return!1}}function E(){return new Promise(((Z,h)=>{try{let V=!0;const v="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(v);A.onsuccess=()=>{A.result.close(),V||self.indexedDB.deleteDatabase(v),Z(!0)},A.onupgradeneeded=()=>{V=!1},A.onerror=()=>{var Z;h((null===(Z=A.error)||void 0===Z?void 0:Z.message)||"")}}catch(V){h(V)}}))}function j(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class P extends Error{constructor(Z,h,V){super(h),this.code=Z,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(Z,h,V){this.service=Z,this.serviceName=h,this.errors=V}create(Z){const h=(arguments.length<=1?void 0:arguments[1])||{},V=`${this.service}/${Z}`,v=this.errors[Z],A=v?function(Z,h){return Z.replace(l,((Z,V)=>{const v=h[V];return null!=v?String(v):`<${V}?>`}))}(v,h):"Error",H=`${this.serviceName}: ${A} (${V}).`;return new P(V,H,h)}}const l=/\{\$([^}]+)}/g;function B(Z){for(const h in Z)if(Object.prototype.hasOwnProperty.call(Z,h))return!1;return!0}function S(Z,h){if(Z===h)return!0;const V=Object.keys(Z),v=Object.keys(h);for(const A of V){if(!v.includes(A))return!1;const V=Z[A],H=h[A];if(r(V)&&r(H)){if(!S(V,H))return!1}else if(V!==H)return!1}for(const A of v)if(!V.includes(A))return!1;return!0}function r(Z){return null!==Z&&"object"===typeof Z}function L(Z){const h=[];for(const[V,v]of Object.entries(Z))Array.isArray(v)?v.forEach((Z=>{h.push(encodeURIComponent(V)+"="+encodeURIComponent(Z))})):h.push(encodeURIComponent(V)+"="+encodeURIComponent(v));return h.length?"&"+h.join("&"):""}function y(Z){const h={};return Z.replace(/^\?/,"").split("&").forEach((Z=>{if(Z){const[V,v]=Z.split("=");h[decodeURIComponent(V)]=decodeURIComponent(v)}})),h}function W(Z){const h=Z.indexOf("?");if(!h)return"";const V=Z.indexOf("#",h);return Z.substring(h,V>0?V:void 0)}function z(Z,h){const V=new m(Z,h);return V.subscribe.bind(V)}class m{constructor(Z,h){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=h,this.task.then((()=>{Z(this)})).catch((Z=>{this.error(Z)}))}next(Z){this.forEachObserver((h=>{h.next(Z)}))}error(Z){this.forEachObserver((h=>{h.error(Z)})),this.close(Z)}complete(){this.forEachObserver((Z=>{Z.complete()})),this.close()}subscribe(Z,h,V){let v;if(void 0===Z&&void 0===h&&void 0===V)throw new Error("Missing Observer.");v=function(Z,h){if("object"!==typeof Z||null===Z)return!1;for(const V of h)if(V in Z&&"function"===typeof Z[V])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:h,complete:V},void 0===v.next&&(v.next=g),void 0===v.error&&(v.error=g),void 0===v.complete&&(v.complete=g);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch(Z){}})),this.observers.push(v),A}unsubscribeOne(Z){void 0!==this.observers&&void 0!==this.observers[Z]&&(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let h=0;h<this.observers.length;h++)this.sendOne(h,Z)}sendOne(Z,h){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{h(this.observers[Z])}catch(V){"undefined"!==typeof console&&console.error&&console.error(V)}}))}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function g(){}const I=1e3,e=2,U=144e5,R=.5;function Q(Z){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const V=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)*Math.pow(h,Z),v=Math.round(R*V*(Math.random()-.5)*2);return Math.min(U,V+v)}function w(Z){return Z&&Z._delegate?Z._delegate:Z}},11537:(Z,h,V)=>{V.d(h,{d:()=>H.h,g:()=>NZ,k:()=>Y,l:()=>VZ,o:()=>vZ,p:()=>ZZ,r:()=>dZ,v:()=>hZ,y:()=>HZ,A:()=>AZ,B:()=>KZ,D:()=>FZ,I:()=>kZ,G:()=>uZ,J:()=>DZ,L:()=>oZ,P:()=>bZ,S:()=>qZ});var v=V(11540),A=V(11549),H=V(11546);let K,d;const a=new WeakMap,n=new WeakMap,x=new WeakMap,N=new WeakMap,D=new WeakMap;let k={get(Z,h,V){if(Z instanceof IDBTransaction){if("done"===h)return n.get(Z);if("objectStoreNames"===h)return Z.objectStoreNames||x.get(Z);if("store"===h)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return b(Z[h])},set:(Z,h,V)=>(Z[h]=V,!0),has:(Z,h)=>Z instanceof IDBTransaction&&("done"===h||"store"===h)||h in Z};function u(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Z)?function(){for(var h=arguments.length,V=new Array(h),v=0;v<h;v++)V[v]=arguments[v];return Z.apply(o(this),V),b(a.get(this))}:function(){for(var h=arguments.length,V=new Array(h),v=0;v<h;v++)V[v]=arguments[v];return b(Z.apply(o(this),V))}:function(h){for(var V=arguments.length,v=new Array(V>1?V-1:0),A=1;A<V;A++)v[A-1]=arguments[A];const H=Z.call(o(this),h,...v);return x.set(H,h.sort?h.sort():[h]),b(H)}}function F(Z){return"function"===typeof Z?u(Z):(Z instanceof IDBTransaction&&function(Z){if(n.has(Z))return;const h=new Promise(((h,V)=>{const v=()=>{Z.removeEventListener("complete",A),Z.removeEventListener("error",H),Z.removeEventListener("abort",H)},A=()=>{h(),v()},H=()=>{V(Z.error||new DOMException("AbortError","AbortError")),v()};Z.addEventListener("complete",A),Z.addEventListener("error",H),Z.addEventListener("abort",H)}));n.set(Z,h)}(Z),h=Z,(K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Z=>h instanceof Z))?new Proxy(Z,k):Z);var h}function b(Z){if(Z instanceof IDBRequest)return function(Z){const h=new Promise(((h,V)=>{const v=()=>{Z.removeEventListener("success",A),Z.removeEventListener("error",H)},A=()=>{h(b(Z.result)),v()},H=()=>{V(Z.error),v()};Z.addEventListener("success",A),Z.addEventListener("error",H)}));return h.then((h=>{h instanceof IDBCursor&&a.set(h,Z)})).catch((()=>{})),D.set(h,Z),h}(Z);if(N.has(Z))return N.get(Z);const h=F(Z);return h!==Z&&(N.set(Z,h),D.set(h,Z)),h}const o=Z=>D.get(Z);const q=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],E=new Map;function j(Z,h){if(!(Z instanceof IDBDatabase)||h in Z||"string"!==typeof h)return;if(E.get(h))return E.get(h);const V=h.replace(/FromIndex$/,""),v=h!==V,A=X.includes(V);if(!(V in(v?IDBIndex:IDBObjectStore).prototype)||!A&&!q.includes(V))return;const H=async function(Z){const h=this.transaction(Z,A?"readwrite":"readonly");let H=h.store;for(var K=arguments.length,d=new Array(K>1?K-1:0),a=1;a<K;a++)d[a-1]=arguments[a];return v&&(H=H.index(d.shift())),(await Promise.all([H[V](...d),A&&h.done]))[0]};return E.set(h,H),H}k=(Z=>({...Z,get:(h,V,v)=>j(h,V)||Z.get(h,V,v),has:(h,V)=>!!j(h,V)||Z.has(h,V)}))(k);class P{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Z=>{if(function(Z){const h=Z.getComponent();return"VERSION"===(null===h||void 0===h?void 0:h.type)}(Z)){const h=Z.getImmediate();return`${h.library}/${h.version}`}return null})).filter((Z=>Z)).join(" ")}}const C="@firebase/app",l="0.9.13",B=new A.f("@firebase/app"),S="@firebase/app-compat",r="@firebase/analytics-compat",L="@firebase/analytics",y="@firebase/app-check-compat",W="@firebase/app-check",z="@firebase/auth",m="@firebase/auth-compat",g="@firebase/database",I="@firebase/database-compat",e="@firebase/functions",U="@firebase/functions-compat",R="@firebase/installations",Q="@firebase/installations-compat",w="@firebase/messaging",T="@firebase/messaging-compat",t="@firebase/performance",c="@firebase/performance-compat",i="@firebase/remote-config",M="@firebase/remote-config-compat",O="@firebase/storage",s="@firebase/storage-compat",J="@firebase/firestore",f="@firebase/firestore-compat",p="firebase",Y="[DEFAULT]",G={[C]:"fire-core",[S]:"fire-core-compat",[L]:"fire-analytics",[r]:"fire-analytics-compat",[W]:"fire-app-check",[y]:"fire-app-check-compat",[z]:"fire-auth",[m]:"fire-auth-compat",[g]:"fire-rtdb",[I]:"fire-rtdb-compat",[e]:"fire-fn",[U]:"fire-fn-compat",[R]:"fire-iid",[Q]:"fire-iid-compat",[w]:"fire-fcm",[T]:"fire-fcm-compat",[t]:"fire-perf",[c]:"fire-perf-compat",[i]:"fire-rc",[M]:"fire-rc-compat",[O]:"fire-gcs",[s]:"fire-gcs-compat",[J]:"fire-fst",[f]:"fire-fst-compat","fire-js":"fire-js",[p]:"fire-js-all"},ZZ=new Map,hZ=new Map;function VZ(Z,h){try{Z.container.Ja(h)}catch(V){B.debug(`Component ${h.name} failed to register with FirebaseApp ${Z.name}`,V)}}function vZ(Z,h){Z.container.addOrOverwriteComponent(h)}function AZ(Z){const h=Z.name;if(hZ.has(h))return B.debug(`There were multiple attempts to register component ${h}.`),!1;hZ.set(h,Z);for(const V of ZZ.values())VZ(V,Z);return!0}function HZ(Z,h){const V=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return V&&V.triggerHeartbeat(),Z.container.getProvider(h)}function KZ(Z,h){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;HZ(Z,h).clearInstance(V)}function dZ(){hZ.clear()}const aZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nZ=new H.g("app","Firebase",aZ);class xZ{constructor(Z,h,V){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},h),this._name=h.name,this._automaticDataCollectionEnabled=h.automaticDataCollectionEnabled,this._container=V,this.container.Ja(new v.i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw nZ.create("app-deleted",{appName:this._name})}}const NZ="9.23.0";function DZ(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=Z;if("object"!==typeof h){h={name:h}}const A=Object.assign({name:Y,automaticDataCollectionEnabled:!1},h),K=A.name;if("string"!==typeof K||!K)throw nZ.create("bad-app-name",{appName:String(K)});if(V||(V=(0,H.y)()),!V)throw nZ.create("no-options");const d=ZZ.get(K);if(d){if((0,H.v)(V,d.options)&&(0,H.v)(A,d.config))return d;throw nZ.create("duplicate-app",{appName:K})}const a=new v.e(K);for(const v of hZ.values())a.Ja(v);const n=new xZ(V,A,a);return ZZ.set(K,n),n}function kZ(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const h=ZZ.get(Z);if(!h&&Z===Y&&(0,H.y)())return DZ();if(!h)throw nZ.create("no-app",{appName:Z});return h}function uZ(){return Array.from(ZZ.values())}async function FZ(Z){const h=Z.name;ZZ.has(h)&&(ZZ.delete(h),await Promise.all(Z.container.getProviders().map((Z=>Z.delete()))),Z.isDeleted=!0)}function bZ(Z,h,V){var A;let H=null!==(A=G[Z])&&void 0!==A?A:Z;V&&(H+=`-${V}`);const K=H.match(/\s|\//),d=h.match(/\s|\//);if(K||d){const Z=[`Unable to register library "${H}" with version "${h}":`];return K&&Z.push(`library name "${H}" contains illegal characters (whitespace or "/")`),K&&d&&Z.push("and"),d&&Z.push(`version name "${h}" contains illegal characters (whitespace or "/")`),void B.warn(Z.join(" "))}AZ(new v.i(`${H}-version`,(()=>({library:H,version:h})),"VERSION"))}function oZ(Z,h){if(null!==Z&&"function"!==typeof Z)throw nZ.create("invalid-log-argument");(0,A.j)(Z,h)}function qZ(Z){(0,A.i)(Z)}const XZ="firebase-heartbeat-store";let EZ=null;function jZ(){return EZ||(EZ=function(Z,h){let{blocked:V,upgrade:v,blocking:A,terminated:H}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const K=indexedDB.open(Z,h),d=b(K);return v&&K.addEventListener("upgradeneeded",(Z=>{v(b(K.result),Z.oldVersion,Z.newVersion,b(K.transaction),Z)})),V&&K.addEventListener("blocked",(Z=>V(Z.oldVersion,Z.newVersion,Z))),d.then((Z=>{H&&Z.addEventListener("close",(()=>H())),A&&Z.addEventListener("versionchange",(Z=>A(Z.oldVersion,Z.newVersion,Z)))})).catch((()=>{})),d}("firebase-heartbeat-database",1,{upgrade:(Z,h)=>{if(0===h)Z.createObjectStore(XZ)}}).catch((Z=>{throw nZ.create("idb-open",{originalErrorMessage:Z.message})}))),EZ}async function PZ(Z,h){try{const V=(await jZ()).transaction(XZ,"readwrite"),v=V.objectStore(XZ);await v.put(h,CZ(Z)),await V.done}catch(V){if(V instanceof H.h)B.warn(V.message);else{const Z=nZ.create("idb-set",{originalErrorMessage:null===V||void 0===V?void 0:V.message});B.warn(Z.message)}}}function CZ(Z){return`${Z.name}!${Z.options.appId}`}class lZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;const h=this.container.getProvider("app").getImmediate();this.mN=new SZ(h),this._heartbeatsCachePromise=this.mN.read().then((Z=>(this._heartbeatsCache=Z,Z)))}async triggerHeartbeat(){const Z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=BZ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==h&&!this._heartbeatsCache.heartbeats.some((Z=>Z.date===h)))return this._heartbeatsCache.heartbeats.push({date:h,agent:Z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Z=>{const h=new Date(Z.date).valueOf();return Date.now()-h<=2592e6})),this.mN.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Z=BZ(),{heartbeatsToSend:h,unsentEntries:V}=function(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const V=[];let v=Z.slice();for(const A of Z){const Z=V.find((Z=>Z.agent===A.agent));if(Z){if(Z.dates.push(A.date),rZ(V)>h){Z.dates.pop();break}}else if(V.push({agent:A.agent,dates:[A.date]}),rZ(V)>h){V.pop();break}v=v.slice(1)}return{heartbeatsToSend:V,unsentEntries:v}}(this._heartbeatsCache.heartbeats),v=(0,H.o)(JSON.stringify({version:2,heartbeats:h}));return this._heartbeatsCache.lastSentHeartbeatDate=Z,V.length>0?(this._heartbeatsCache.heartbeats=V,await this.mN.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.mN.overwrite(this._heartbeatsCache)),v}}function BZ(){return(new Date).toISOString().substring(0,10)}class SZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,H.Q)()&&(0,H._)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Z){try{const h=await jZ();return await h.transaction(XZ).objectStore(XZ).get(CZ(Z))}catch(h){if(h instanceof H.h)B.warn(h.message);else{const Z=nZ.create("idb-get",{originalErrorMessage:null===h||void 0===h?void 0:h.message});B.warn(Z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Z){var h;if(await this._canUseIndexedDBPromise){const V=await this.read();return PZ(this.app,{lastSentHeartbeatDate:null!==(h=Z.lastSentHeartbeatDate)&&void 0!==h?h:V.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var h;if(await this._canUseIndexedDBPromise){const V=await this.read();return PZ(this.app,{lastSentHeartbeatDate:null!==(h=Z.lastSentHeartbeatDate)&&void 0!==h?h:V.lastSentHeartbeatDate,heartbeats:[...V.heartbeats,...Z.heartbeats]})}}}function rZ(Z){return(0,H.o)(JSON.stringify({version:2,heartbeats:Z})).length}var LZ;LZ="",AZ(new v.i("platform-logger",(Z=>new P(Z)),"PRIVATE")),AZ(new v.i("heartbeat",(Z=>new lZ(Z)),"PRIVATE")),bZ(C,l,LZ),bZ(C,l,"esm2017"),bZ("fire-js","")},11540:(Z,h,V)=>{V.d(h,{e:()=>d,i:()=>A});var v=V(11546);class A{constructor(Z,h,V){this.name=Z,this.instanceFactory=h,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const H="[DEFAULT]";class K{constructor(Z,h){this.name=Z,this.container=h,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const h=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(h)){const Z=new v.d;if(this.instancesDeferred.set(h,Z),this.isInitialized(h)||this.shouldAutoInitialize())try{const V=this.getOrInitializeService({instanceIdentifier:h});V&&Z.resolve(V)}catch(V){}}return this.instancesDeferred.get(h).promise}getImmediate(Z){var h;const V=this.normalizeInstanceIdentifier(null===Z||void 0===Z?void 0:Z.identifier),v=null!==(h=null===Z||void 0===Z?void 0:Z.optional)&&void 0!==h&&h;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(v)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(A){if(v)return null;throw A}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:H})}catch(h){}for(const[Z,V]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(Z);try{const Z=this.getOrInitializeService({instanceIdentifier:v});V.resolve(Z)}catch(h){}}}}clearInstance(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){const Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Z=>"INTERNAL"in Z)).map((Z=>Z.INTERNAL.delete())),...Z.filter((Z=>"_delete"in Z)).map((Z=>Z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(Z)}getOptions(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(Z)||{}}initialize(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:h={}}=Z,V=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const v=this.getOrInitializeService({instanceIdentifier:V,options:h});for(const[A,H]of this.instancesDeferred.entries()){V===this.normalizeInstanceIdentifier(A)&&H.resolve(v)}return v}NN(Z,h){var V;const v=this.normalizeInstanceIdentifier(h),A=null!==(V=this.onInitCallbacks.get(v))&&void 0!==V?V:new Set;A.add(Z),this.onInitCallbacks.set(v,A);const H=this.instances.get(v);return H&&Z(H,v),()=>{A.delete(Z)}}invokeOnInitCallbacks(Z,h){const V=this.onInitCallbacks.get(h);if(V)for(const A of V)try{A(Z,h)}catch(v){}}getOrInitializeService(Z){let{instanceIdentifier:h,options:V={}}=Z,v=this.instances.get(h);if(!v&&this.component&&(v=this.component.instanceFactory(this.container,{instanceIdentifier:(A=h,A===H?void 0:A),options:V}),this.instances.set(h,v),this.instancesOptions.set(h,V),this.invokeOnInitCallbacks(v,h),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,h,v)}catch(K){}var A;return v||null}normalizeInstanceIdentifier(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?Z:H:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d{constructor(Z){this.name=Z,this.providers=new Map}Ja(Z){const h=this.getProvider(Z.name);if(h.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);h.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.Ja(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const h=new K(Z,this);return this.providers.set(Z,h),h}getProviders(){return Array.from(this.providers.values())}}},11549:(Z,h,V)=>{V.d(h,{d:()=>A,f:()=>n,i:()=>x,j:()=>N});const v=[];var A;!function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"}(A||(A={}));const H={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},K=A.INFO,d={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},a=function(Z,h){if(h<Z.logLevel)return;const V=(new Date).toISOString(),v=d[h];if(!v)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);for(var A=arguments.length,H=new Array(A>2?A-2:0),K=2;K<A;K++)H[K-2]=arguments[K];console[v](`[${V}]  ${Z.name}:`,...H)};class n{constructor(Z){this.name=Z,this._logLevel=K,this._logHandler=a,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in A))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"===typeof Z?H[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!==typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(){for(var Z=arguments.length,h=new Array(Z),V=0;V<Z;V++)h[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...h),this._logHandler(this,A.DEBUG,...h)}log(){for(var Z=arguments.length,h=new Array(Z),V=0;V<Z;V++)h[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...h),this._logHandler(this,A.VERBOSE,...h)}info(){for(var Z=arguments.length,h=new Array(Z),V=0;V<Z;V++)h[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,A.INFO,...h),this._logHandler(this,A.INFO,...h)}warn(){for(var Z=arguments.length,h=new Array(Z),V=0;V<Z;V++)h[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,A.WARN,...h),this._logHandler(this,A.WARN,...h)}error(){for(var Z=arguments.length,h=new Array(Z),V=0;V<Z;V++)h[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...h),this._logHandler(this,A.ERROR,...h)}}function x(Z){v.forEach((h=>{h.setLogLevel(Z)}))}function N(Z,h){for(const V of v){let v=null;h&&h.level&&(v=H[h.level]),V.userLogHandler=null===Z?null:function(h,V){for(var H=arguments.length,K=new Array(H>2?H-2:0),d=2;d<H;d++)K[d-2]=arguments[d];const a=K.map((Z=>{if(null==Z)return null;if("string"===typeof Z)return Z;if("number"===typeof Z||"boolean"===typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(h){return null}})).filter((Z=>Z)).join(" ");V>=(null!==v&&void 0!==v?v:h.logLevel)&&Z({level:A[V].toLowerCase(),message:a,args:K,type:h.name})}}}}}]);