/*! For license information please see zomqja.5.0f9c8ebf.chunk.js.LICENSE.txt */
"use strict";(self.kdlk57exiqh=self.kdlk57exiqh||[]).push([[5],{12037:(i,x,e)=>{e.d(x,{B:()=>A,F:()=>g,J:()=>K,N:()=>D,Q:()=>o,S:()=>z,T:()=>l,X:()=>Q,_:()=>t,bb:()=>M,cb:()=>T,d:()=>L,e:()=>w,fb:()=>N,g:()=>f,i:()=>S,jb:()=>k,l:()=>J,nb:()=>V,p:()=>Y,s:()=>U,u:()=>X,v:()=>Z,z:()=>mi});const j=function(i){const x=[];let e=0;for(let j=0;j<i.length;j++){let E=i.charCodeAt(j);E<128?x[e++]=E:E<2048?(x[e++]=E>>6|192,x[e++]=63&E|128):55296===(64512&E)&&j+1<i.length&&56320===(64512&i.charCodeAt(j+1))?(E=65536+((1023&E)<<10)+(1023&i.charCodeAt(++j)),x[e++]=E>>18|240,x[e++]=E>>12&63|128,x[e++]=E>>6&63|128,x[e++]=63&E|128):(x[e++]=E>>12|224,x[e++]=E>>6&63|128,x[e++]=63&E|128)}return x},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(i,x){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let E=0;E<i.length;E+=3){const x=i[E],a=E+1<i.length,Y=a?i[E+1]:0,J=E+2<i.length,u=J?i[E+2]:0,b=x>>2,g=(3&x)<<4|Y>>4;let A=(15&Y)<<2|u>>6,K=63&u;J||(K=64,a||(A=64)),j.push(e[b],e[g],e[A],e[K])}return j.join("")},encodeString(i,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(i):this.encodeByteArray(j(i),x)},decodeString(i,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(i):function(i){const x=[];let e=0,j=0;for(;e<i.length;){const E=i[e++];if(E<128)x[j++]=String.fromCharCode(E);else if(E>191&&E<224){const a=i[e++];x[j++]=String.fromCharCode((31&E)<<6|63&a)}else if(E>239&&E<365){const a=((7&E)<<18|(63&i[e++])<<12|(63&i[e++])<<6|63&i[e++])-65536;x[j++]=String.fromCharCode(55296+(a>>10)),x[j++]=String.fromCharCode(56320+(1023&a))}else{const a=i[e++],Y=i[e++];x[j++]=String.fromCharCode((15&E)<<12|(63&a)<<6|63&Y)}}return x.join("")}(this.decodeStringToByteArray(i,x))},decodeStringToByteArray(i,x){this.init_();const e=x?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let E=0;E<i.length;){const x=e[i.charAt(E++)],Y=E<i.length?e[i.charAt(E)]:0;++E;const J=E<i.length?e[i.charAt(E)]:64;++E;const u=E<i.length?e[i.charAt(E)]:64;if(++E,null==x||null==Y||null==J||null==u)throw new a;const b=x<<2|Y>>4;if(j.push(b),64!==J){const i=Y<<4&240|J>>2;if(j.push(i),64!==u){const i=J<<6&192|u;j.push(i)}}}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(i){return function(i){const x=j(i);return E.encodeByteArray(x,!0)}(i).replace(/\./g,"")},J=function(i){try{return E.decodeString(i,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,b=()=>{try{return u()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const x=i&&J(i[1]);return x&&JSON.parse(x)})()}catch(i){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`)}},g=i=>{var x,e;return null===(e=null===(x=b())||void 0===x?void 0:x.emulatorHosts)||void 0===e?void 0:e[i]},A=()=>{var i;return null===(i=b())||void 0===i?void 0:i.config},K=i=>{var x;return null===(x=b())||void 0===x?void 0:x[`_${i}`]};class L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((i,x)=>{this.resolve=i,this.reject=x}))}wrapCallback(i){return(x,e)=>{x?this.reject(x):this.resolve(e),"function"===typeof i&&(this.promise.catch((()=>{})),1===i.length?i(x):i(x,e))}}}function o(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function z(){const i="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof i&&void 0!==i.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Q(){const i=o();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function t(){try{return"object"===typeof indexedDB}catch(i){return!1}}function V(){return new Promise(((i,x)=>{try{let e=!0;const j="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(j);E.onsuccess=()=>{E.result.close(),e||self.indexedDB.deleteDatabase(j),i(!0)},E.onupgradeneeded=()=>{e=!1},E.onerror=()=>{var i;x((null===(i=E.error)||void 0===i?void 0:i.message)||"")}}catch(e){x(e)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class f extends Error{constructor(i,x,e){super(x),this.code=i,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w.prototype.create)}}class w{constructor(i,x,e){this.service=i,this.serviceName=x,this.errors=e}create(i){const x=(arguments.length<=1?void 0:arguments[1])||{},e=`${this.service}/${i}`,j=this.errors[i],E=j?function(i,x){return i.replace(O,((i,e)=>{const j=x[e];return null!=j?String(j):`<${e}?>`}))}(j,x):"Error",a=`${this.serviceName}: ${E} (${e}).`;return new f(e,a,x)}}const O=/\{\$([^}]+)}/g;function l(i){for(const x in i)if(Object.prototype.hasOwnProperty.call(i,x))return!1;return!0}function Z(i,x){if(i===x)return!0;const e=Object.keys(i),j=Object.keys(x);for(const E of e){if(!j.includes(E))return!1;const e=i[E],a=x[E];if(B(e)&&B(a)){if(!Z(e,a))return!1}else if(e!==a)return!1}for(const E of j)if(!e.includes(E))return!1;return!0}function B(i){return null!==i&&"object"===typeof i}function k(i){const x=[];for(const[e,j]of Object.entries(i))Array.isArray(j)?j.forEach((i=>{x.push(encodeURIComponent(e)+"="+encodeURIComponent(i))})):x.push(encodeURIComponent(e)+"="+encodeURIComponent(j));return x.length?"&"+x.join("&"):""}function N(i){const x={};return i.replace(/^\?/,"").split("&").forEach((i=>{if(i){const[e,j]=i.split("=");x[decodeURIComponent(e)]=decodeURIComponent(j)}})),x}function mi(i){const x=i.indexOf("?");if(!x)return"";const e=i.indexOf("#",x);return i.substring(x,e>0?e:void 0)}function X(i,x){const e=new C(i,x);return e.subscribe.bind(e)}class C{constructor(i,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then((()=>{i(this)})).catch((i=>{this.error(i)}))}next(i){this.forEachObserver((x=>{x.next(i)}))}error(i){this.forEachObserver((x=>{x.error(i)})),this.close(i)}complete(){this.forEachObserver((i=>{i.complete()})),this.close()}subscribe(i,x,e){let j;if(void 0===i&&void 0===x&&void 0===e)throw new Error("Missing Observer.");j=function(i,x){if("object"!==typeof i||null===i)return!1;for(const e of x)if(e in i&&"function"===typeof i[e])return!0;return!1}(i,["next","error","complete"])?i:{next:i,error:x,complete:e},void 0===j.next&&(j.next=n),void 0===j.error&&(j.error=n),void 0===j.complete&&(j.complete=n);const E=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(i){}})),this.observers.push(j),E}unsubscribeOne(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,i)}sendOne(i,x){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{x(this.observers[i])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}close(i){this.finalized||(this.finalized=!0,void 0!==i&&(this.finalError=i),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function n(){}const I=1e3,d=2,p=144e5,H=.5;function U(i){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)*Math.pow(x,i),j=Math.round(H*e*(Math.random()-.5)*2);return Math.min(p,e+j)}function D(i){return i&&i._delegate?i._delegate:i}},12025:(i,x,e)=>{e.d(x,{e:()=>a.g,f:()=>Ai,h:()=>v,l:()=>ei,o:()=>ji,q:()=>ii,u:()=>Ji,v:()=>xi,y:()=>ai,z:()=>Ei,A:()=>Yi,D:()=>Mi,L:()=>Li,H:()=>oi,O:()=>Ki,P:()=>Ti,T:()=>zi,X:()=>Qi});var j=e(12033),E=e(12043),a=e(12037);let Y,J;const u=new WeakMap,b=new WeakMap,g=new WeakMap,A=new WeakMap,K=new WeakMap;let L={get(i,x,e){if(i instanceof IDBTransaction){if("done"===x)return b.get(i);if("objectStoreNames"===x)return i.objectStoreNames||g.get(i);if("store"===x)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return z(i[x])},set:(i,x,e)=>(i[x]=e,!0),has:(i,x)=>i instanceof IDBTransaction&&("done"===x||"store"===x)||x in i};function o(i){return i!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(i)?function(){for(var x=arguments.length,e=new Array(x),j=0;j<x;j++)e[j]=arguments[j];return i.apply(T(this),e),z(u.get(this))}:function(){for(var x=arguments.length,e=new Array(x),j=0;j<x;j++)e[j]=arguments[j];return z(i.apply(T(this),e))}:function(x){for(var e=arguments.length,j=new Array(e>1?e-1:0),E=1;E<e;E++)j[E-1]=arguments[E];const a=i.call(T(this),x,...j);return g.set(a,x.sort?x.sort():[x]),z(a)}}function M(i){return"function"===typeof i?o(i):(i instanceof IDBTransaction&&function(i){if(b.has(i))return;const x=new Promise(((x,e)=>{const j=()=>{i.removeEventListener("complete",E),i.removeEventListener("error",a),i.removeEventListener("abort",a)},E=()=>{x(),j()},a=()=>{e(i.error||new DOMException("AbortError","AbortError")),j()};i.addEventListener("complete",E),i.addEventListener("error",a),i.addEventListener("abort",a)}));b.set(i,x)}(i),x=i,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((i=>x instanceof i))?new Proxy(i,L):i);var x}function z(i){if(i instanceof IDBRequest)return function(i){const x=new Promise(((x,e)=>{const j=()=>{i.removeEventListener("success",E),i.removeEventListener("error",a)},E=()=>{x(z(i.result)),j()},a=()=>{e(i.error),j()};i.addEventListener("success",E),i.addEventListener("error",a)}));return x.then((x=>{x instanceof IDBCursor&&u.set(x,i)})).catch((()=>{})),K.set(x,i),x}(i);if(A.has(i))return A.get(i);const x=M(i);return x!==i&&(A.set(i,x),K.set(x,i)),x}const T=i=>K.get(i);const Q=["get","getKey","getAll","getAllKeys","count"],t=["put","add","delete","clear"],V=new Map;function S(i,x){if(!(i instanceof IDBDatabase)||x in i||"string"!==typeof x)return;if(V.get(x))return V.get(x);const e=x.replace(/FromIndex$/,""),j=x!==e,E=t.includes(e);if(!(e in(j?IDBIndex:IDBObjectStore).prototype)||!E&&!Q.includes(e))return;const a=async function(i){const x=this.transaction(i,E?"readwrite":"readonly");let a=x.store;for(var Y=arguments.length,J=new Array(Y>1?Y-1:0),u=1;u<Y;u++)J[u-1]=arguments[u];return j&&(a=a.index(J.shift())),(await Promise.all([a[e](...J),E&&x.done]))[0]};return V.set(x,a),a}L=(i=>({...i,get:(x,e,j)=>S(x,e)||i.get(x,e,j),has:(x,e)=>!!S(x,e)||i.has(x,e)}))(L);class f{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map((i=>{if(function(i){const x=i.getComponent();return"VERSION"===(null===x||void 0===x?void 0:x.type)}(i)){const x=i.getImmediate();return`${x.library}/${x.version}`}return null})).filter((i=>i)).join(" ")}}const w="@firebase/app",O="0.9.13",l=new E.f("@firebase/app"),Z="@firebase/app-compat",B="@firebase/analytics-compat",k="@firebase/analytics",N="@firebase/app-check-compat",mi="@firebase/app-check",X="@firebase/auth",C="@firebase/auth-compat",n="@firebase/database",I="@firebase/database-compat",d="@firebase/functions",p="@firebase/functions-compat",H="@firebase/installations",U="@firebase/installations-compat",D="@firebase/messaging",h="@firebase/messaging-compat",F="@firebase/performance",R="@firebase/performance-compat",y="@firebase/remote-config",r="@firebase/remote-config-compat",c="@firebase/storage",P="@firebase/storage-compat",q="@firebase/firestore",W="@firebase/firestore-compat",G="firebase",v="[DEFAULT]",s={[w]:"fire-core",[Z]:"fire-core-compat",[k]:"fire-analytics",[B]:"fire-analytics-compat",[mi]:"fire-app-check",[N]:"fire-app-check-compat",[X]:"fire-auth",[C]:"fire-auth-compat",[n]:"fire-rtdb",[I]:"fire-rtdb-compat",[d]:"fire-fn",[p]:"fire-fn-compat",[H]:"fire-iid",[U]:"fire-iid-compat",[D]:"fire-fcm",[h]:"fire-fcm-compat",[F]:"fire-perf",[R]:"fire-perf-compat",[y]:"fire-rc",[r]:"fire-rc-compat",[c]:"fire-gcs",[P]:"fire-gcs-compat",[q]:"fire-fst",[W]:"fire-fst-compat","fire-js":"fire-js",[G]:"fire-js-all"},ii=new Map,xi=new Map;function ei(i,x){try{i.container.Uu(x)}catch(e){l.debug(`Component ${x.name} failed to register with FirebaseApp ${i.name}`,e)}}function ji(i,x){i.container.addOrOverwriteComponent(x)}function Ei(i){const x=i.name;if(xi.has(x))return l.debug(`There were multiple attempts to register component ${x}.`),!1;xi.set(x,i);for(const e of ii.values())ei(e,i);return!0}function ai(i,x){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(x)}function Yi(i,x){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;ai(i,x).clearInstance(e)}function Ji(){xi.clear()}const ui={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bi=new a.e("app","Firebase",ui);class gi{constructor(i,x,e){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=e,this.container.Uu(new j.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}const Ai="9.23.0";function Ki(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i;if("object"!==typeof x){x={name:x}}const E=Object.assign({name:v,automaticDataCollectionEnabled:!1},x),Y=E.name;if("string"!==typeof Y||!Y)throw bi.create("bad-app-name",{appName:String(Y)});if(e||(e=(0,a.B)()),!e)throw bi.create("no-options");const J=ii.get(Y);if(J){if((0,a.v)(e,J.options)&&(0,a.v)(E,J.config))return J;throw bi.create("duplicate-app",{appName:Y})}const u=new j.e(Y);for(const j of xi.values())u.Uu(j);const b=new gi(e,E,u);return ii.set(Y,b),b}function Li(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const x=ii.get(i);if(!x&&i===v&&(0,a.B)())return Ki();if(!x)throw bi.create("no-app",{appName:i});return x}function oi(){return Array.from(ii.values())}async function Mi(i){const x=i.name;ii.has(x)&&(ii.delete(x),await Promise.all(i.container.getProviders().map((i=>i.delete()))),i.isDeleted=!0)}function zi(i,x,e){var E;let a=null!==(E=s[i])&&void 0!==E?E:i;e&&(a+=`-${e}`);const Y=a.match(/\s|\//),J=x.match(/\s|\//);if(Y||J){const i=[`Unable to register library "${a}" with version "${x}":`];return Y&&i.push(`library name "${a}" contains illegal characters (whitespace or "/")`),Y&&J&&i.push("and"),J&&i.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void l.warn(i.join(" "))}Ei(new j.f(`${a}-version`,(()=>({library:a,version:x})),"VERSION"))}function Ti(i,x){if(null!==i&&"function"!==typeof i)throw bi.create("invalid-log-argument");(0,E.i)(i,x)}function Qi(i){(0,E.h)(i)}const ti="firebase-heartbeat-store";let Vi=null;function Si(){return Vi||(Vi=function(i,x){let{blocked:e,upgrade:j,blocking:E,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(i,x),J=z(Y);return j&&Y.addEventListener("upgradeneeded",(i=>{j(z(Y.result),i.oldVersion,i.newVersion,z(Y.transaction),i)})),e&&Y.addEventListener("blocked",(i=>e(i.oldVersion,i.newVersion,i))),J.then((i=>{a&&i.addEventListener("close",(()=>a())),E&&i.addEventListener("versionchange",(i=>E(i.oldVersion,i.newVersion,i)))})).catch((()=>{})),J}("firebase-heartbeat-database",1,{upgrade:(i,x)=>{if(0===x)i.createObjectStore(ti)}}).catch((i=>{throw bi.create("idb-open",{originalErrorMessage:i.message})}))),Vi}async function fi(i,x){try{const e=(await Si()).transaction(ti,"readwrite"),j=e.objectStore(ti);await j.put(x,wi(i)),await e.done}catch(e){if(e instanceof a.g)l.warn(e.message);else{const i=bi.create("idb-set",{originalErrorMessage:null===e||void 0===e?void 0:e.message});l.warn(i.message)}}}function wi(i){return`${i.name}!${i.options.appId}`}class Oi{constructor(i){this.container=i,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this.MK=new Zi(x),this._heartbeatsCachePromise=this.MK.read().then((i=>(this._heartbeatsCache=i,i)))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),x=li();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==x&&!this._heartbeatsCache.heartbeats.some((i=>i.date===x)))return this._heartbeatsCache.heartbeats.push({date:x,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((i=>{const x=new Date(i.date).valueOf();return Date.now()-x<=2592e6})),this.MK.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const i=li(),{heartbeatsToSend:x,unsentEntries:e}=function(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const e=[];let j=i.slice();for(const E of i){const i=e.find((i=>i.agent===E.agent));if(i){if(i.dates.push(E.date),Bi(e)>x){i.dates.pop();break}}else if(e.push({agent:E.agent,dates:[E.date]}),Bi(e)>x){e.pop();break}j=j.slice(1)}return{heartbeatsToSend:e,unsentEntries:j}}(this._heartbeatsCache.heartbeats),j=(0,a.p)(JSON.stringify({version:2,heartbeats:x}));return this._heartbeatsCache.lastSentHeartbeatDate=i,e.length>0?(this._heartbeatsCache.heartbeats=e,await this.MK.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.MK.overwrite(this._heartbeatsCache)),j}}function li(){return(new Date).toISOString().substring(0,10)}class Zi{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a._)()&&(0,a.nb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(i){try{const x=await Si();return await x.transaction(ti).objectStore(ti).get(wi(i))}catch(x){if(x instanceof a.g)l.warn(x.message);else{const i=bi.create("idb-get",{originalErrorMessage:null===x||void 0===x?void 0:x.message});l.warn(i.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(i){var x;if(await this._canUseIndexedDBPromise){const e=await this.read();return fi(this.app,{lastSentHeartbeatDate:null!==(x=i.lastSentHeartbeatDate)&&void 0!==x?x:e.lastSentHeartbeatDate,heartbeats:i.heartbeats})}}async add(i){var x;if(await this._canUseIndexedDBPromise){const e=await this.read();return fi(this.app,{lastSentHeartbeatDate:null!==(x=i.lastSentHeartbeatDate)&&void 0!==x?x:e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...i.heartbeats]})}}}function Bi(i){return(0,a.p)(JSON.stringify({version:2,heartbeats:i})).length}var ki;ki="",Ei(new j.f("platform-logger",(i=>new f(i)),"PRIVATE")),Ei(new j.f("heartbeat",(i=>new Oi(i)),"PRIVATE")),zi(w,O,ki),zi(w,O,"esm2017"),zi("fire-js","")},12033:(i,x,e)=>{e.d(x,{e:()=>J,f:()=>E});var j=e(12037);class E{constructor(i,x,e){this.name=i,this.instanceFactory=x,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}const a="[DEFAULT]";class Y{constructor(i,x){this.name=i,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const x=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(x)){const i=new j.d;if(this.instancesDeferred.set(x,i),this.isInitialized(x)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:x});e&&i.resolve(e)}catch(e){}}return this.instancesDeferred.get(x).promise}getImmediate(i){var x;const e=this.normalizeInstanceIdentifier(null===i||void 0===i?void 0:i.identifier),j=null!==(x=null===i||void 0===i?void 0:i.optional)&&void 0!==x&&x;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(E){if(j)return null;throw E}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,this.shouldAutoInitialize()){if(function(i){return"EAGER"===i.instantiationMode}(i))try{this.getOrInitializeService({instanceIdentifier:a})}catch(x){}for(const[i,e]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(i);try{const i=this.getOrInitializeService({instanceIdentifier:j});e.resolve(i)}catch(x){}}}}clearInstance(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter((i=>"INTERNAL"in i)).map((i=>i.INTERNAL.delete())),...i.filter((i=>"_delete"in i)).map((i=>i._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(i)}getOptions(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(i)||{}}initialize(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:x={}}=i,e=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(e))throw Error(`${this.name}(${e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:e,options:x});for(const[E,a]of this.instancesDeferred.entries()){e===this.normalizeInstanceIdentifier(E)&&a.resolve(j)}return j}PA(i,x){var e;const j=this.normalizeInstanceIdentifier(x),E=null!==(e=this.onInitCallbacks.get(j))&&void 0!==e?e:new Set;E.add(i),this.onInitCallbacks.set(j,E);const a=this.instances.get(j);return a&&i(a,j),()=>{E.delete(i)}}invokeOnInitCallbacks(i,x){const e=this.onInitCallbacks.get(x);if(e)for(const E of e)try{E(i,x)}catch(j){}}getOrInitializeService(i){let{instanceIdentifier:x,options:e={}}=i,j=this.instances.get(x);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(E=x,E===a?void 0:E),options:e}),this.instances.set(x,j),this.instancesOptions.set(x,e),this.invokeOnInitCallbacks(j,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,j)}catch(Y){}var E;return j||null}normalizeInstanceIdentifier(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?i:a:i}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(i){this.name=i,this.providers=new Map}Uu(i){const x=this.getProvider(i.name);if(x.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);x.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.Uu(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const x=new Y(i,this);return this.providers.set(i,x),x}getProviders(){return Array.from(this.providers.values())}}},12043:(i,x,e)=>{e.d(x,{d:()=>E,f:()=>b,h:()=>g,i:()=>A});const j=[];var E;!function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"}(E||(E={}));const a={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Y=E.INFO,J={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},u=function(i,x){if(x<i.logLevel)return;const e=(new Date).toISOString(),j=J[x];if(!j)throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`);for(var E=arguments.length,a=new Array(E>2?E-2:0),Y=2;Y<E;Y++)a[Y-2]=arguments[Y];console[j](`[${e}]  ${i.name}:`,...a)};class b{constructor(i){this.name=i,this._logLevel=Y,this._logHandler=u,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in E))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel="string"===typeof i?a[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if("function"!==typeof i)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(){for(var i=arguments.length,x=new Array(i),e=0;e<i;e++)x[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...x),this._logHandler(this,E.DEBUG,...x)}log(){for(var i=arguments.length,x=new Array(i),e=0;e<i;e++)x[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...x),this._logHandler(this,E.VERBOSE,...x)}info(){for(var i=arguments.length,x=new Array(i),e=0;e<i;e++)x[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,E.INFO,...x),this._logHandler(this,E.INFO,...x)}warn(){for(var i=arguments.length,x=new Array(i),e=0;e<i;e++)x[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,E.WARN,...x),this._logHandler(this,E.WARN,...x)}error(){for(var i=arguments.length,x=new Array(i),e=0;e<i;e++)x[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,E.ERROR,...x),this._logHandler(this,E.ERROR,...x)}}function g(i){j.forEach((x=>{x.setLogLevel(i)}))}function A(i,x){for(const e of j){let j=null;x&&x.level&&(j=a[x.level]),e.userLogHandler=null===i?null:function(x,e){for(var a=arguments.length,Y=new Array(a>2?a-2:0),J=2;J<a;J++)Y[J-2]=arguments[J];const u=Y.map((i=>{if(null==i)return null;if("string"===typeof i)return i;if("number"===typeof i||"boolean"===typeof i)return i.toString();if(i instanceof Error)return i.message;try{return JSON.stringify(i)}catch(x){return null}})).filter((i=>i)).join(" ");e>=(null!==j&&void 0!==j?j:x.logLevel)&&i({level:E[e].toLowerCase(),message:u,args:Y,type:x.name})}}}}}]);