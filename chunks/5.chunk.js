/*! For license information please see 30xjib.5.c7cbe43b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10966:(g,w,q)=>{q.d(w,{B:()=>C,D:()=>M,H:()=>m,K:()=>t,O:()=>e,S:()=>E,T:()=>L,X:()=>l,_:()=>H,bb:()=>x,cb:()=>G,e:()=>y,eb:()=>A,hb:()=>J,i:()=>N,kb:()=>j,m:()=>U,mb:()=>P,n:()=>D,o:()=>i,pb:()=>d,s:()=>S,v:()=>O,x:()=>V});const R=function(g){const w=[];let q=0;for(let R=0;R<g.length;R++){let o=g.charCodeAt(R);o<128?w[q++]=o:o<2048?(w[q++]=o>>6|192,w[q++]=63&o|128):55296===(64512&o)&&R+1<g.length&&56320===(64512&g.charCodeAt(R+1))?(o=65536+((1023&o)<<10)+(1023&g.charCodeAt(++R)),w[q++]=o>>18|240,w[q++]=o>>12&63|128,w[q++]=o>>6&63|128,w[q++]=63&o|128):(w[q++]=o>>12|224,w[q++]=o>>6&63|128,w[q++]=63&o|128)}return w},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(g,w){if(!Array.isArray(g))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=w?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let o=0;o<g.length;o+=3){const w=g[o],r=o+1<g.length,S=r?g[o+1]:0,i=o+2<g.length,T=i?g[o+2]:0,z=w>>2,t=(3&w)<<4|S>>4;let m=(15&S)<<2|T>>6,e=63&T;i||(e=64,r||(m=64)),R.push(q[z],q[t],q[m],q[e])}return R.join("")},encodeString(g,w){return this.HAS_NATIVE_SUPPORT&&!w?btoa(g):this.encodeByteArray(R(g),w)},decodeString(g,w){return this.HAS_NATIVE_SUPPORT&&!w?atob(g):function(g){const w=[];let q=0,R=0;for(;q<g.length;){const o=g[q++];if(o<128)w[R++]=String.fromCharCode(o);else if(o>191&&o<224){const r=g[q++];w[R++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){const r=((7&o)<<18|(63&g[q++])<<12|(63&g[q++])<<6|63&g[q++])-65536;w[R++]=String.fromCharCode(55296+(r>>10)),w[R++]=String.fromCharCode(56320+(1023&r))}else{const r=g[q++],S=g[q++];w[R++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&S)}}return w.join("")}(this.decodeStringToByteArray(g,w))},decodeStringToByteArray(g,w){this.init_();const q=w?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let o=0;o<g.length;){const w=q[g.charAt(o++)],S=o<g.length?q[g.charAt(o)]:0;++o;const i=o<g.length?q[g.charAt(o)]:64;++o;const T=o<g.length?q[g.charAt(o)]:64;if(++o,null==w||null==S||null==i||null==T)throw new r;const z=w<<2|S>>4;if(R.push(z),64!==i){const g=S<<4&240|i>>2;if(R.push(g),64!==T){const g=i<<6&192|T;R.push(g)}}}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let g=0;g<this.ENCODED_VALS.length;g++)this.byteToCharMap_[g]=this.ENCODED_VALS.charAt(g),this.charToByteMap_[this.byteToCharMap_[g]]=g,this.byteToCharMapWebSafe_[g]=this.ENCODED_VALS_WEBSAFE.charAt(g),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[g]]=g,g>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(g)]=g,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(g)]=g)}}};class r extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S=function(g){return function(g){const w=R(g);return o.encodeByteArray(w,!0)}(g).replace(/\./g,"")},i=function(g){try{return o.decodeString(g,!0)}catch(w){console.error("base64Decode failed: ",w)}return null};const T=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof q.g)return q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,z=()=>{try{return T()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let g;try{g=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(q){return}const w=g&&i(g[1]);return w&&JSON.parse(w)})()}catch(g){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${g}`)}},t=g=>{var w,q;return null===(q=null===(w=z())||void 0===w?void 0:w.emulatorHosts)||void 0===q?void 0:q[g]},m=()=>{var g;return null===(g=z())||void 0===g?void 0:g.config},e=g=>{var w;return null===(w=z())||void 0===w?void 0:w[`_${g}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((g,w)=>{this.resolve=g,this.reject=w}))}wrapCallback(g){return(w,q)=>{w?this.reject(w):this.resolve(q),"function"===typeof g&&(this.promise.catch((()=>{})),1===g.length?g(w):g(w,q))}}}function L(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function A(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function l(){const g="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof g&&void 0!==g.id}function J(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const g=L();return g.indexOf("MSIE ")>=0||g.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(g){return!1}}function d(){return new Promise(((g,w)=>{try{let q=!0;const R="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(R);o.onsuccess=()=>{o.result.close(),q||self.indexedDB.deleteDatabase(R),g(!0)},o.onupgradeneeded=()=>{q=!1},o.onerror=()=>{var g;w((null===(g=o.error)||void 0===g?void 0:g.message)||"")}}catch(q){w(q)}}))}function D(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class U extends Error{constructor(g,w,q){super(w),this.code=g,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(g,w,q){this.service=g,this.serviceName=w,this.errors=q}create(g){const w=(arguments.length<=1?void 0:arguments[1])||{},q=`${this.service}/${g}`,R=this.errors[g],o=R?function(g,w){return g.replace(a,((g,q)=>{const R=w[q];return null!=R?String(R):`<${q}?>`}))}(R,w):"Error",r=`${this.serviceName}: ${o} (${q}).`;return new U(q,r,w)}}const a=/\{\$([^}]+)}/g;function H(g){for(const w in g)if(Object.prototype.hasOwnProperty.call(g,w))return!1;return!0}function C(g,w){if(g===w)return!0;const q=Object.keys(g),R=Object.keys(w);for(const o of q){if(!R.includes(o))return!1;const q=g[o],r=w[o];if(c(q)&&c(r)){if(!C(q,r))return!1}else if(q!==r)return!1}for(const o of R)if(!q.includes(o))return!1;return!0}function c(g){return null!==g&&"object"===typeof g}function P(g){const w=[];for(const[q,R]of Object.entries(g))Array.isArray(R)?R.forEach((g=>{w.push(encodeURIComponent(q)+"="+encodeURIComponent(g))})):w.push(encodeURIComponent(q)+"="+encodeURIComponent(R));return w.length?"&"+w.join("&"):""}function j(g){const w={};return g.replace(/^\?/,"").split("&").forEach((g=>{if(g){const[q,R]=g.split("=");w[decodeURIComponent(q)]=decodeURIComponent(R)}})),w}function M(g){const w=g.indexOf("?");if(!w)return"";const q=g.indexOf("#",w);return g.substring(w,q>0?q:void 0)}function V(g,w){const q=new s(g,w);return q.subscribe.bind(q)}class s{constructor(g,w){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=w,this.task.then((()=>{g(this)})).catch((g=>{this.error(g)}))}next(g){this.forEachObserver((w=>{w.next(g)}))}error(g){this.forEachObserver((w=>{w.error(g)})),this.close(g)}complete(){this.forEachObserver((g=>{g.complete()})),this.close()}subscribe(g,w,q){let R;if(void 0===g&&void 0===w&&void 0===q)throw new Error("Missing Observer.");R=function(g,w){if("object"!==typeof g||null===g)return!1;for(const q of w)if(q in g&&"function"===typeof g[q])return!0;return!1}(g,["next","error","complete"])?g:{next:g,error:w,complete:q},void 0===R.next&&(R.next=h),void 0===R.error&&(R.error=h),void 0===R.complete&&(R.complete=h);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch(g){}})),this.observers.push(R),o}unsubscribeOne(g){void 0!==this.observers&&void 0!==this.observers[g]&&(delete this.observers[g],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(g){if(!this.finalized)for(let w=0;w<this.observers.length;w++)this.sendOne(w,g)}sendOne(g,w){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[g])try{w(this.observers[g])}catch(q){"undefined"!==typeof console&&console.error&&console.error(q)}}))}close(g){this.finalized||(this.finalized=!0,void 0!==g&&(this.finalError=g),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function h(){}const v=1e3,b=2,B=144e5,f=.5;function O(g){let w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;const q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:v)*Math.pow(w,g),R=Math.round(f*q*(Math.random()-.5)*2);return Math.min(B,q+R)}function E(g){return g&&g._delegate?g._delegate:g}},10951:(g,w,q)=>{q.d(w,{d:()=>r.m,e:()=>mg,h:()=>I,k:()=>qg,m:()=>Rg,q:()=>gg,t:()=>ig,u:()=>wg,y:()=>rg,A:()=>og,E:()=>Sg,H:()=>Ag,L:()=>yg,I:()=>Lg,O:()=>eg,R:()=>Jg,U:()=>lg,W:()=>xg});var R=q(10960),o=q(10974),r=q(10966);let S,i;const T=new WeakMap,z=new WeakMap,t=new WeakMap,m=new WeakMap,e=new WeakMap;let y={get(g,w,q){if(g instanceof IDBTransaction){if("done"===w)return z.get(g);if("objectStoreNames"===w)return g.objectStoreNames||t.get(g);if("store"===w)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return l(g[w])},set:(g,w,q)=>(g[w]=q,!0),has:(g,w)=>g instanceof IDBTransaction&&("done"===w||"store"===w)||w in g};function L(g){return g!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(g)?function(){for(var w=arguments.length,q=new Array(w),R=0;R<w;R++)q[R]=arguments[R];return g.apply(J(this),q),l(T.get(this))}:function(){for(var w=arguments.length,q=new Array(w),R=0;R<w;R++)q[R]=arguments[R];return l(g.apply(J(this),q))}:function(w){for(var q=arguments.length,R=new Array(q>1?q-1:0),o=1;o<q;o++)R[o-1]=arguments[o];const r=g.call(J(this),w,...R);return t.set(r,w.sort?w.sort():[w]),l(r)}}function A(g){return"function"===typeof g?L(g):(g instanceof IDBTransaction&&function(g){if(z.has(g))return;const w=new Promise(((w,q)=>{const R=()=>{g.removeEventListener("complete",o),g.removeEventListener("error",r),g.removeEventListener("abort",r)},o=()=>{w(),R()},r=()=>{q(g.error||new DOMException("AbortError","AbortError")),R()};g.addEventListener("complete",o),g.addEventListener("error",r),g.addEventListener("abort",r)}));z.set(g,w)}(g),w=g,(S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((g=>w instanceof g))?new Proxy(g,y):g);var w}function l(g){if(g instanceof IDBRequest)return function(g){const w=new Promise(((w,q)=>{const R=()=>{g.removeEventListener("success",o),g.removeEventListener("error",r)},o=()=>{w(l(g.result)),R()},r=()=>{q(g.error),R()};g.addEventListener("success",o),g.addEventListener("error",r)}));return w.then((w=>{w instanceof IDBCursor&&T.set(w,g)})).catch((()=>{})),e.set(w,g),w}(g);if(m.has(g))return m.get(g);const w=A(g);return w!==g&&(m.set(g,w),e.set(w,g)),w}const J=g=>e.get(g);const x=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],d=new Map;function D(g,w){if(!(g instanceof IDBDatabase)||w in g||"string"!==typeof w)return;if(d.get(w))return d.get(w);const q=w.replace(/FromIndex$/,""),R=w!==q,o=G.includes(q);if(!(q in(R?IDBIndex:IDBObjectStore).prototype)||!o&&!x.includes(q))return;const r=async function(g){const w=this.transaction(g,o?"readwrite":"readonly");let r=w.store;for(var S=arguments.length,i=new Array(S>1?S-1:0),T=1;T<S;T++)i[T-1]=arguments[T];return R&&(r=r.index(i.shift())),(await Promise.all([r[q](...i),o&&w.done]))[0]};return d.set(w,r),r}y=(g=>({...g,get:(w,q,R)=>D(w,q)||g.get(w,q,R),has:(w,q)=>!!D(w,q)||g.has(w,q)}))(y);class U{constructor(g){this.container=g}getPlatformInfoString(){return this.container.getProviders().map((g=>{if(function(g){const w=g.getComponent();return"VERSION"===(null===w||void 0===w?void 0:w.type)}(g)){const w=g.getImmediate();return`${w.library}/${w.version}`}return null})).filter((g=>g)).join(" ")}}const N="@firebase/app",a="0.9.13",H=new o.i("@firebase/app"),C="@firebase/app-compat",c="@firebase/analytics-compat",P="@firebase/analytics",j="@firebase/app-check-compat",M="@firebase/app-check",V="@firebase/auth",s="@firebase/auth-compat",h="@firebase/database",v="@firebase/database-compat",b="@firebase/functions",B="@firebase/functions-compat",f="@firebase/installations",O="@firebase/installations-compat",E="@firebase/messaging",Q="@firebase/messaging-compat",X="@firebase/performance",K="@firebase/performance-compat",Y="@firebase/remote-config",F="@firebase/remote-config-compat",u="@firebase/storage",n="@firebase/storage-compat",W="@firebase/firestore",p="@firebase/firestore-compat",Z="firebase",I="[DEFAULT]",k={[N]:"fire-core",[C]:"fire-core-compat",[P]:"fire-analytics",[c]:"fire-analytics-compat",[M]:"fire-app-check",[j]:"fire-app-check-compat",[V]:"fire-auth",[s]:"fire-auth-compat",[h]:"fire-rtdb",[v]:"fire-rtdb-compat",[b]:"fire-fn",[B]:"fire-fn-compat",[f]:"fire-iid",[O]:"fire-iid-compat",[E]:"fire-fcm",[Q]:"fire-fcm-compat",[X]:"fire-perf",[K]:"fire-perf-compat",[Y]:"fire-rc",[F]:"fire-rc-compat",[u]:"fire-gcs",[n]:"fire-gcs-compat",[W]:"fire-fst",[p]:"fire-fst-compat","fire-js":"fire-js",[Z]:"fire-js-all"},gg=new Map,wg=new Map;function qg(g,w){try{g.container.cT(w)}catch(q){H.debug(`Component ${w.name} failed to register with FirebaseApp ${g.name}`,q)}}function Rg(g,w){g.container.addOrOverwriteComponent(w)}function og(g){const w=g.name;if(wg.has(w))return H.debug(`There were multiple attempts to register component ${w}.`),!1;wg.set(w,g);for(const q of gg.values())qg(q,g);return!0}function rg(g,w){const q=g.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),g.container.getProvider(w)}function Sg(g,w){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;rg(g,w).clearInstance(q)}function ig(){wg.clear()}const Tg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zg=new r.i("app","Firebase",Tg);class tg{constructor(g,w,q){this._isDeleted=!1,this._options=Object.assign({},g),this._config=Object.assign({},w),this._name=w.name,this._automaticDataCollectionEnabled=w.automaticDataCollectionEnabled,this._container=q,this.container.cT(new R.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g){this.checkDestroyed(),this._automaticDataCollectionEnabled=g}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(g){this._isDeleted=g}checkDestroyed(){if(this.isDeleted)throw zg.create("app-deleted",{appName:this._name})}}const mg="9.23.0";function eg(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},q=g;if("object"!==typeof w){w={name:w}}const o=Object.assign({name:I,automaticDataCollectionEnabled:!1},w),S=o.name;if("string"!==typeof S||!S)throw zg.create("bad-app-name",{appName:String(S)});if(q||(q=(0,r.H)()),!q)throw zg.create("no-options");const i=gg.get(S);if(i){if((0,r.B)(q,i.options)&&(0,r.B)(o,i.config))return i;throw zg.create("duplicate-app",{appName:S})}const T=new R.d(S);for(const R of wg.values())T.cT(R);const z=new tg(q,o,T);return gg.set(S,z),z}function yg(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const w=gg.get(g);if(!w&&g===I&&(0,r.H)())return eg();if(!w)throw zg.create("no-app",{appName:g});return w}function Lg(){return Array.from(gg.values())}async function Ag(g){const w=g.name;gg.has(w)&&(gg.delete(w),await Promise.all(g.container.getProviders().map((g=>g.delete()))),g.isDeleted=!0)}function lg(g,w,q){var o;let r=null!==(o=k[g])&&void 0!==o?o:g;q&&(r+=`-${q}`);const S=r.match(/\s|\//),i=w.match(/\s|\//);if(S||i){const g=[`Unable to register library "${r}" with version "${w}":`];return S&&g.push(`library name "${r}" contains illegal characters (whitespace or "/")`),S&&i&&g.push("and"),i&&g.push(`version name "${w}" contains illegal characters (whitespace or "/")`),void H.warn(g.join(" "))}og(new R.h(`${r}-version`,(()=>({library:r,version:w})),"VERSION"))}function Jg(g,w){if(null!==g&&"function"!==typeof g)throw zg.create("invalid-log-argument");(0,o.o)(g,w)}function xg(g){(0,o.l)(g)}const Gg="firebase-heartbeat-store";let dg=null;function Dg(){return dg||(dg=function(g,w){let{blocked:q,upgrade:R,blocking:o,terminated:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const S=indexedDB.open(g,w),i=l(S);return R&&S.addEventListener("upgradeneeded",(g=>{R(l(S.result),g.oldVersion,g.newVersion,l(S.transaction),g)})),q&&S.addEventListener("blocked",(g=>q(g.oldVersion,g.newVersion,g))),i.then((g=>{r&&g.addEventListener("close",(()=>r())),o&&g.addEventListener("versionchange",(g=>o(g.oldVersion,g.newVersion,g)))})).catch((()=>{})),i}("firebase-heartbeat-database",1,{upgrade:(g,w)=>{if(0===w)g.createObjectStore(Gg)}}).catch((g=>{throw zg.create("idb-open",{originalErrorMessage:g.message})}))),dg}async function Ug(g,w){try{const q=(await Dg()).transaction(Gg,"readwrite"),R=q.objectStore(Gg);await R.put(w,Ng(g)),await q.done}catch(q){if(q instanceof r.m)H.warn(q.message);else{const g=zg.create("idb-set",{originalErrorMessage:null===q||void 0===q?void 0:q.message});H.warn(g.message)}}}function Ng(g){return`${g.name}!${g.options.appId}`}class ag{constructor(g){this.container=g,this._heartbeatsCache=null;const w=this.container.getProvider("app").getImmediate();this.om=new Cg(w),this._heartbeatsCachePromise=this.om.read().then((g=>(this._heartbeatsCache=g,g)))}async triggerHeartbeat(){const g=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),w=Hg();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==w&&!this._heartbeatsCache.heartbeats.some((g=>g.date===w)))return this._heartbeatsCache.heartbeats.push({date:w,agent:g}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((g=>{const w=new Date(g.date).valueOf();return Date.now()-w<=2592e6})),this.om.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const g=Hg(),{heartbeatsToSend:w,unsentEntries:q}=function(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const q=[];let R=g.slice();for(const o of g){const g=q.find((g=>g.agent===o.agent));if(g){if(g.dates.push(o.date),cg(q)>w){g.dates.pop();break}}else if(q.push({agent:o.agent,dates:[o.date]}),cg(q)>w){q.pop();break}R=R.slice(1)}return{heartbeatsToSend:q,unsentEntries:R}}(this._heartbeatsCache.heartbeats),R=(0,r.s)(JSON.stringify({version:2,heartbeats:w}));return this._heartbeatsCache.lastSentHeartbeatDate=g,q.length>0?(this._heartbeatsCache.heartbeats=q,await this.om.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.om.overwrite(this._heartbeatsCache)),R}}function Hg(){return(new Date).toISOString().substring(0,10)}class Cg{constructor(g){this.app=g,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,r.cb)()&&(0,r.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(g){try{const w=await Dg();return await w.transaction(Gg).objectStore(Gg).get(Ng(g))}catch(w){if(w instanceof r.m)H.warn(w.message);else{const g=zg.create("idb-get",{originalErrorMessage:null===w||void 0===w?void 0:w.message});H.warn(g.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(g){var w;if(await this._canUseIndexedDBPromise){const q=await this.read();return Ug(this.app,{lastSentHeartbeatDate:null!==(w=g.lastSentHeartbeatDate)&&void 0!==w?w:q.lastSentHeartbeatDate,heartbeats:g.heartbeats})}}async add(g){var w;if(await this._canUseIndexedDBPromise){const q=await this.read();return Ug(this.app,{lastSentHeartbeatDate:null!==(w=g.lastSentHeartbeatDate)&&void 0!==w?w:q.lastSentHeartbeatDate,heartbeats:[...q.heartbeats,...g.heartbeats]})}}}function cg(g){return(0,r.s)(JSON.stringify({version:2,heartbeats:g})).length}var Pg;Pg="",og(new R.h("platform-logger",(g=>new U(g)),"PRIVATE")),og(new R.h("heartbeat",(g=>new ag(g)),"PRIVATE")),lg(N,a,Pg),lg(N,a,"esm2017"),lg("fire-js","")},10960:(g,w,q)=>{q.d(w,{d:()=>i,h:()=>o});var R=q(10966);class o{constructor(g,w,q){this.name=g,this.instanceFactory=w,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(g){return this.instantiationMode=g,this}setMultipleInstances(g){return this.multipleInstances=g,this}setServiceProps(g){return this.serviceProps=g,this}setInstanceCreatedCallback(g){return this.onInstanceCreated=g,this}}const r="[DEFAULT]";class S{constructor(g,w){this.name=g,this.container=w,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(g){const w=this.normalizeInstanceIdentifier(g);if(!this.instancesDeferred.has(w)){const g=new R.e;if(this.instancesDeferred.set(w,g),this.isInitialized(w)||this.shouldAutoInitialize())try{const q=this.getOrInitializeService({instanceIdentifier:w});q&&g.resolve(q)}catch(q){}}return this.instancesDeferred.get(w).promise}getImmediate(g){var w;const q=this.normalizeInstanceIdentifier(null===g||void 0===g?void 0:g.identifier),R=null!==(w=null===g||void 0===g?void 0:g.optional)&&void 0!==w&&w;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(R)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(o){if(R)return null;throw o}}getComponent(){return this.component}setComponent(g){if(g.name!==this.name)throw Error(`Mismatching Component ${g.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=g,this.shouldAutoInitialize()){if(function(g){return"EAGER"===g.instantiationMode}(g))try{this.getOrInitializeService({instanceIdentifier:r})}catch(w){}for(const[g,q]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(g);try{const g=this.getOrInitializeService({instanceIdentifier:R});q.resolve(g)}catch(w){}}}}clearInstance(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;this.instancesDeferred.delete(g),this.instancesOptions.delete(g),this.instances.delete(g)}async delete(){const g=Array.from(this.instances.values());await Promise.all([...g.filter((g=>"INTERNAL"in g)).map((g=>g.INTERNAL.delete())),...g.filter((g=>"_delete"in g)).map((g=>g._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.instances.has(g)}getOptions(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.instancesOptions.get(g)||{}}initialize(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:w={}}=g,q=this.normalizeInstanceIdentifier(g.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:q,options:w});for(const[o,r]of this.instancesDeferred.entries()){q===this.normalizeInstanceIdentifier(o)&&r.resolve(R)}return R}bt(g,w){var q;const R=this.normalizeInstanceIdentifier(w),o=null!==(q=this.onInitCallbacks.get(R))&&void 0!==q?q:new Set;o.add(g),this.onInitCallbacks.set(R,o);const r=this.instances.get(R);return r&&g(r,R),()=>{o.delete(g)}}invokeOnInitCallbacks(g,w){const q=this.onInitCallbacks.get(w);if(q)for(const o of q)try{o(g,w)}catch(R){}}getOrInitializeService(g){let{instanceIdentifier:w,options:q={}}=g,R=this.instances.get(w);if(!R&&this.component&&(R=this.component.instanceFactory(this.container,{instanceIdentifier:(o=w,o===r?void 0:o),options:q}),this.instances.set(w,R),this.instancesOptions.set(w,q),this.invokeOnInitCallbacks(R,w),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,w,R)}catch(S){}var o;return R||null}normalizeInstanceIdentifier(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.component?this.component.multipleInstances?g:r:g}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class i{constructor(g){this.name=g,this.providers=new Map}cT(g){const w=this.getProvider(g.name);if(w.isComponentSet())throw new Error(`Component ${g.name} has already been registered with ${this.name}`);w.setComponent(g)}addOrOverwriteComponent(g){this.getProvider(g.name).isComponentSet()&&this.providers.delete(g.name),this.cT(g)}getProvider(g){if(this.providers.has(g))return this.providers.get(g);const w=new S(g,this);return this.providers.set(g,w),w}getProviders(){return Array.from(this.providers.values())}}},10974:(g,w,q)=>{q.d(w,{e:()=>o,i:()=>z,l:()=>t,o:()=>m});const R=[];var o;!function(g){g[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT"}(o||(o={}));const r={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},S=o.INFO,i={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},T=function(g,w){if(w<g.logLevel)return;const q=(new Date).toISOString(),R=i[w];if(!R)throw new Error(`Attempted to log a message with an invalid logType (value: ${w})`);for(var o=arguments.length,r=new Array(o>2?o-2:0),S=2;S<o;S++)r[S-2]=arguments[S];console[R](`[${q}]  ${g.name}:`,...r)};class z{constructor(g){this.name=g,this._logLevel=S,this._logHandler=T,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in o))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"===typeof g?r[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!==typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(){for(var g=arguments.length,w=new Array(g),q=0;q<g;q++)w[q]=arguments[q];this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...w),this._logHandler(this,o.DEBUG,...w)}log(){for(var g=arguments.length,w=new Array(g),q=0;q<g;q++)w[q]=arguments[q];this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...w),this._logHandler(this,o.VERBOSE,...w)}info(){for(var g=arguments.length,w=new Array(g),q=0;q<g;q++)w[q]=arguments[q];this._userLogHandler&&this._userLogHandler(this,o.INFO,...w),this._logHandler(this,o.INFO,...w)}warn(){for(var g=arguments.length,w=new Array(g),q=0;q<g;q++)w[q]=arguments[q];this._userLogHandler&&this._userLogHandler(this,o.WARN,...w),this._logHandler(this,o.WARN,...w)}error(){for(var g=arguments.length,w=new Array(g),q=0;q<g;q++)w[q]=arguments[q];this._userLogHandler&&this._userLogHandler(this,o.ERROR,...w),this._logHandler(this,o.ERROR,...w)}}function t(g){R.forEach((w=>{w.setLogLevel(g)}))}function m(g,w){for(const q of R){let R=null;w&&w.level&&(R=r[w.level]),q.userLogHandler=null===g?null:function(w,q){for(var r=arguments.length,S=new Array(r>2?r-2:0),i=2;i<r;i++)S[i-2]=arguments[i];const T=S.map((g=>{if(null==g)return null;if("string"===typeof g)return g;if("number"===typeof g||"boolean"===typeof g)return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(w){return null}})).filter((g=>g)).join(" ");q>=(null!==R&&void 0!==R?R:w.logLevel)&&g({level:o[q].toLowerCase(),message:T,args:S,type:w.name})}}}}}]);