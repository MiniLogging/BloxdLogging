/*! For license information please see 7egshf.5.ff2ad0ae.chunk.js.LICENSE.txt */
"use strict";(self.h6ljd275xwr=self.h6ljd275xwr||[]).push([[5],{11074:(n,y,H)=>{H.d(y,{A:()=>O,D:()=>b,H:()=>q,I:()=>A,L:()=>r,M:()=>T,Q:()=>z,S:()=>p,V:()=>l,X:()=>v,Z:()=>W,_:()=>Q,c:()=>U,cb:()=>a,e:()=>f,eb:()=>d,f:()=>M,gb:()=>F,j:()=>g,l:()=>i,n:()=>k,r:()=>N,u:()=>e,y:()=>E});const o=function(n){const y=[];let H=0;for(let o=0;o<n.length;o++){let G=n.charCodeAt(o);G<128?y[H++]=G:G<2048?(y[H++]=G>>6|192,y[H++]=63&G|128):55296===(64512&G)&&o+1<n.length&&56320===(64512&n.charCodeAt(o+1))?(G=65536+((1023&G)<<10)+(1023&n.charCodeAt(++o)),y[H++]=G>>18|240,y[H++]=G>>12&63|128,y[H++]=G>>6&63|128,y[H++]=63&G|128):(y[H++]=G>>12|224,y[H++]=G>>6&63|128,y[H++]=63&G|128)}return y},G={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(n,y){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=y?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let G=0;G<n.length;G+=3){const y=n[G],h=G+1<n.length,k=h?n[G+1]:0,i=G+2<n.length,B=i?n[G+2]:0,V=y>>2,q=(3&y)<<4|k>>4;let b=(15&k)<<2|B>>6,A=63&B;i||(A=64,h||(b=64)),o.push(H[V],H[q],H[b],H[A])}return o.join("")},encodeString(n,y){return this.HAS_NATIVE_SUPPORT&&!y?btoa(n):this.encodeByteArray(o(n),y)},decodeString(n,y){return this.HAS_NATIVE_SUPPORT&&!y?atob(n):function(n){const y=[];let H=0,o=0;for(;H<n.length;){const G=n[H++];if(G<128)y[o++]=String.fromCharCode(G);else if(G>191&&G<224){const h=n[H++];y[o++]=String.fromCharCode((31&G)<<6|63&h)}else if(G>239&&G<365){const h=((7&G)<<18|(63&n[H++])<<12|(63&n[H++])<<6|63&n[H++])-65536;y[o++]=String.fromCharCode(55296+(h>>10)),y[o++]=String.fromCharCode(56320+(1023&h))}else{const h=n[H++],k=n[H++];y[o++]=String.fromCharCode((15&G)<<12|(63&h)<<6|63&k)}}return y.join("")}(this.decodeStringToByteArray(n,y))},decodeStringToByteArray(n,y){this.init_();const H=y?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let G=0;G<n.length;){const y=H[n.charAt(G++)],k=G<n.length?H[n.charAt(G)]:0;++G;const i=G<n.length?H[n.charAt(G)]:64;++G;const B=G<n.length?H[n.charAt(G)]:64;if(++G,null==y||null==k||null==i||null==B)throw new h;const V=y<<2|k>>4;if(o.push(V),64!==i){const n=k<<4&240|i>>2;if(o.push(n),64!==B){const n=i<<6&192|B;o.push(n)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k=function(n){return function(n){const y=o(n);return G.encodeByteArray(y,!0)}(n).replace(/\./g,"")},i=function(n){try{return G.decodeString(n,!0)}catch(y){console.error("base64Decode failed: ",y)}return null};const B=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof H.g)return H.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,V=()=>{try{return B()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(H){return}const y=n&&i(n[1]);return y&&JSON.parse(y)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},q=n=>{var y,H;return null===(H=null===(y=V())||void 0===y?void 0:y.emulatorHosts)||void 0===H?void 0:H[n]},b=()=>{var n;return null===(n=V())||void 0===n?void 0:n.config},A=n=>{var y;return null===(y=V())||void 0===y?void 0:y[`_${n}`]};class U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((n,y)=>{this.resolve=n,this.reject=y}))}wrapCallback(n){return(y,H)=>{y?this.reject(y):this.resolve(H),"function"===typeof n&&(this.promise.catch((()=>{})),1===n.length?n(y):n(y,H))}}}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function W(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function z(){const n="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof n&&void 0!==n.id}function Q(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function l(){const n=T();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(n){return!1}}function F(){return new Promise(((n,y)=>{try{let H=!0;const o="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(o);G.onsuccess=()=>{G.result.close(),H||self.indexedDB.deleteDatabase(o),n(!0)},G.onupgradeneeded=()=>{H=!1},G.onerror=()=>{var n;y((null===(n=G.error)||void 0===n?void 0:n.message)||"")}}catch(H){y(H)}}))}function g(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(n,y,H){super(y),this.code=n,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(n,y,H){this.service=n,this.serviceName=y,this.errors=H}create(n){const y=(arguments.length<=1?void 0:arguments[1])||{},H=`${this.service}/${n}`,o=this.errors[n],G=o?function(n,y){return n.replace(c,((n,H)=>{const o=y[H];return null!=o?String(o):`<${H}?>`}))}(o,y):"Error",h=`${this.serviceName}: ${G} (${H}).`;return new M(H,h,y)}}const c=/\{\$([^}]+)}/g;function p(n){for(const y in n)if(Object.prototype.hasOwnProperty.call(n,y))return!1;return!0}function E(n,y){if(n===y)return!0;const H=Object.keys(n),o=Object.keys(y);for(const G of H){if(!o.includes(G))return!1;const H=n[G],h=y[G];if(X(H)&&X(h)){if(!E(H,h))return!1}else if(H!==h)return!1}for(const G of o)if(!H.includes(G))return!1;return!0}function X(n){return null!==n&&"object"===typeof n}function d(n){const y=[];for(const[H,o]of Object.entries(n))Array.isArray(o)?o.forEach((n=>{y.push(encodeURIComponent(H)+"="+encodeURIComponent(n))})):y.push(encodeURIComponent(H)+"="+encodeURIComponent(o));return y.length?"&"+y.join("&"):""}function a(n){const y={};return n.replace(/^\?/,"").split("&").forEach((n=>{if(n){const[H,o]=n.split("=");y[decodeURIComponent(H)]=decodeURIComponent(o)}})),y}function O(n){const y=n.indexOf("?");if(!y)return"";const H=n.indexOf("#",y);return n.substring(y,H>0?H:void 0)}function e(n,y){const H=new w(n,y);return H.subscribe.bind(H)}class w{constructor(n,y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=y,this.task.then((()=>{n(this)})).catch((n=>{this.error(n)}))}next(n){this.forEachObserver((y=>{y.next(n)}))}error(n){this.forEachObserver((y=>{y.error(n)})),this.close(n)}complete(){this.forEachObserver((n=>{n.complete()})),this.close()}subscribe(n,y,H){let o;if(void 0===n&&void 0===y&&void 0===H)throw new Error("Missing Observer.");o=function(n,y){if("object"!==typeof n||null===n)return!1;for(const H of y)if(H in n&&"function"===typeof n[H])return!0;return!1}(n,["next","error","complete"])?n:{next:n,error:y,complete:H},void 0===o.next&&(o.next=j),void 0===o.error&&(o.error=j),void 0===o.complete&&(o.complete=j);const G=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(n){}})),this.observers.push(o),G}unsubscribeOne(n){void 0!==this.observers&&void 0!==this.observers[n]&&(delete this.observers[n],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let y=0;y<this.observers.length;y++)this.sendOne(y,n)}sendOne(n,y){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[n])try{y(this.observers[n])}catch(H){"undefined"!==typeof console&&console.error&&console.error(H)}}))}close(n){this.finalized||(this.finalized=!0,void 0!==n&&(this.finalError=n),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(){}const I=1e3,R=2,C=144e5,S=.5;function N(n){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;const H=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)*Math.pow(y,n),o=Math.round(S*H*(Math.random()-.5)*2);return Math.min(C,H+o)}function r(n){return n&&n._delegate?n._delegate:n}},11062:(n,y,H)=>{H.d(y,{b:()=>h.f,f:()=>An,j:()=>J,k:()=>Hn,m:()=>on,o:()=>nn,q:()=>Bn,s:()=>yn,v:()=>hn,x:()=>Gn,B:()=>kn,C:()=>zn,I:()=>Tn,E:()=>Wn,K:()=>Un,L:()=>ln,M:()=>Qn,P:()=>vn});var o=H(11066),G=H(11076),h=H(11074);let k,i;const B=new WeakMap,V=new WeakMap,q=new WeakMap,b=new WeakMap,A=new WeakMap;let U={get(n,y,H){if(n instanceof IDBTransaction){if("done"===y)return V.get(n);if("objectStoreNames"===y)return n.objectStoreNames||q.get(n);if("store"===y)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return z(n[y])},set:(n,y,H)=>(n[y]=H,!0),has:(n,y)=>n instanceof IDBTransaction&&("done"===y||"store"===y)||y in n};function T(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(){for(var y=arguments.length,H=new Array(y),o=0;o<y;o++)H[o]=arguments[o];return n.apply(Q(this),H),z(B.get(this))}:function(){for(var y=arguments.length,H=new Array(y),o=0;o<y;o++)H[o]=arguments[o];return z(n.apply(Q(this),H))}:function(y){for(var H=arguments.length,o=new Array(H>1?H-1:0),G=1;G<H;G++)o[G-1]=arguments[G];const h=n.call(Q(this),y,...o);return q.set(h,y.sort?y.sort():[y]),z(h)}}function W(n){return"function"===typeof n?T(n):(n instanceof IDBTransaction&&function(n){if(V.has(n))return;const y=new Promise(((y,H)=>{const o=()=>{n.removeEventListener("complete",G),n.removeEventListener("error",h),n.removeEventListener("abort",h)},G=()=>{y(),o()},h=()=>{H(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",G),n.addEventListener("error",h),n.addEventListener("abort",h)}));V.set(n,y)}(n),y=n,(k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((n=>y instanceof n))?new Proxy(n,U):n);var y}function z(n){if(n instanceof IDBRequest)return function(n){const y=new Promise(((y,H)=>{const o=()=>{n.removeEventListener("success",G),n.removeEventListener("error",h)},G=()=>{y(z(n.result)),o()},h=()=>{H(n.error),o()};n.addEventListener("success",G),n.addEventListener("error",h)}));return y.then((y=>{y instanceof IDBCursor&&B.set(y,n)})).catch((()=>{})),A.set(y,n),y}(n);if(b.has(n))return b.get(n);const y=W(n);return y!==n&&(b.set(n,y),A.set(y,n)),y}const Q=n=>A.get(n);const l=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],F=new Map;function g(n,y){if(!(n instanceof IDBDatabase)||y in n||"string"!==typeof y)return;if(F.get(y))return F.get(y);const H=y.replace(/FromIndex$/,""),o=y!==H,G=v.includes(H);if(!(H in(o?IDBIndex:IDBObjectStore).prototype)||!G&&!l.includes(H))return;const h=async function(n){const y=this.transaction(n,G?"readwrite":"readonly");let h=y.store;for(var k=arguments.length,i=new Array(k>1?k-1:0),B=1;B<k;B++)i[B-1]=arguments[B];return o&&(h=h.index(i.shift())),(await Promise.all([h[H](...i),G&&y.done]))[0]};return F.set(y,h),h}U=(n=>({...n,get:(y,H,o)=>g(y,H)||n.get(y,H,o),has:(y,H)=>!!g(y,H)||n.has(y,H)}))(U);class M{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map((n=>{if(function(n){const y=n.getComponent();return"VERSION"===(null===y||void 0===y?void 0:y.type)}(n)){const y=n.getImmediate();return`${y.library}/${y.version}`}return null})).filter((n=>n)).join(" ")}}const f="@firebase/app",c="0.9.13",p=new G.c("@firebase/app"),E="@firebase/app-compat",X="@firebase/analytics-compat",d="@firebase/analytics",a="@firebase/app-check-compat",O="@firebase/app-check",e="@firebase/auth",w="@firebase/auth-compat",j="@firebase/database",I="@firebase/database-compat",R="@firebase/functions",C="@firebase/functions-compat",S="@firebase/installations",N="@firebase/installations-compat",r="@firebase/messaging",K="@firebase/messaging-compat",Y="@firebase/performance",D="@firebase/performance-compat",Z="@firebase/remote-config",s="@firebase/remote-config-compat",P="@firebase/storage",x="@firebase/storage-compat",t="@firebase/firestore",u="@firebase/firestore-compat",L="firebase",J="[DEFAULT]",m={[f]:"fire-core",[E]:"fire-core-compat",[d]:"fire-analytics",[X]:"fire-analytics-compat",[O]:"fire-app-check",[a]:"fire-app-check-compat",[e]:"fire-auth",[w]:"fire-auth-compat",[j]:"fire-rtdb",[I]:"fire-rtdb-compat",[R]:"fire-fn",[C]:"fire-fn-compat",[S]:"fire-iid",[N]:"fire-iid-compat",[r]:"fire-fcm",[K]:"fire-fcm-compat",[Y]:"fire-perf",[D]:"fire-perf-compat",[Z]:"fire-rc",[s]:"fire-rc-compat",[P]:"fire-gcs",[x]:"fire-gcs-compat",[t]:"fire-fst",[u]:"fire-fst-compat","fire-js":"fire-js",[L]:"fire-js-all"},nn=new Map,yn=new Map;function Hn(n,y){try{n.container.NB(y)}catch(H){p.debug(`Component ${y.name} failed to register with FirebaseApp ${n.name}`,H)}}function on(n,y){n.container.addOrOverwriteComponent(y)}function Gn(n){const y=n.name;if(yn.has(y))return p.debug(`There were multiple attempts to register component ${y}.`),!1;yn.set(y,n);for(const H of nn.values())Hn(H,n);return!0}function hn(n,y){const H=n.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),n.container.getProvider(y)}function kn(n,y){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;hn(n,y).clearInstance(H)}function Bn(){yn.clear()}const Vn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qn=new h.e("app","Firebase",Vn);class bn{constructor(n,y,H){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},y),this._name=y.name,this._automaticDataCollectionEnabled=y.automaticDataCollectionEnabled,this._container=H,this.container.NB(new o.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const An="9.23.0";function Un(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=n;if("object"!==typeof y){y={name:y}}const G=Object.assign({name:J,automaticDataCollectionEnabled:!1},y),k=G.name;if("string"!==typeof k||!k)throw qn.create("bad-app-name",{appName:String(k)});if(H||(H=(0,h.D)()),!H)throw qn.create("no-options");const i=nn.get(k);if(i){if((0,h.y)(H,i.options)&&(0,h.y)(G,i.config))return i;throw qn.create("duplicate-app",{appName:k})}const B=new o.e(k);for(const o of yn.values())B.NB(o);const V=new bn(H,G,B);return nn.set(k,V),V}function Tn(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const y=nn.get(n);if(!y&&n===J&&(0,h.D)())return Un();if(!y)throw qn.create("no-app",{appName:n});return y}function Wn(){return Array.from(nn.values())}async function zn(n){const y=n.name;nn.has(y)&&(nn.delete(y),await Promise.all(n.container.getProviders().map((n=>n.delete()))),n.isDeleted=!0)}function Qn(n,y,H){var G;let h=null!==(G=m[n])&&void 0!==G?G:n;H&&(h+=`-${H}`);const k=h.match(/\s|\//),i=y.match(/\s|\//);if(k||i){const n=[`Unable to register library "${h}" with version "${y}":`];return k&&n.push(`library name "${h}" contains illegal characters (whitespace or "/")`),k&&i&&n.push("and"),i&&n.push(`version name "${y}" contains illegal characters (whitespace or "/")`),void p.warn(n.join(" "))}Gn(new o.h(`${h}-version`,(()=>({library:h,version:y})),"VERSION"))}function ln(n,y){if(null!==n&&"function"!==typeof n)throw qn.create("invalid-log-argument");(0,G.e)(n,y)}function vn(n){(0,G.d)(n)}const Fn="firebase-heartbeat-store";let gn=null;function Mn(){return gn||(gn=function(n,y){let{blocked:H,upgrade:o,blocking:G,terminated:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const k=indexedDB.open(n,y),i=z(k);return o&&k.addEventListener("upgradeneeded",(n=>{o(z(k.result),n.oldVersion,n.newVersion,z(k.transaction),n)})),H&&k.addEventListener("blocked",(n=>H(n.oldVersion,n.newVersion,n))),i.then((n=>{h&&n.addEventListener("close",(()=>h())),G&&n.addEventListener("versionchange",(n=>G(n.oldVersion,n.newVersion,n)))})).catch((()=>{})),i}("firebase-heartbeat-database",1,{upgrade:(n,y)=>{if(0===y)n.createObjectStore(Fn)}}).catch((n=>{throw qn.create("idb-open",{originalErrorMessage:n.message})}))),gn}async function fn(n,y){try{const H=(await Mn()).transaction(Fn,"readwrite"),o=H.objectStore(Fn);await o.put(y,cn(n)),await H.done}catch(H){if(H instanceof h.f)p.warn(H.message);else{const n=qn.create("idb-set",{originalErrorMessage:null===H||void 0===H?void 0:H.message});p.warn(n.message)}}}function cn(n){return`${n.name}!${n.options.appId}`}class pn{constructor(n){this.container=n,this._heartbeatsCache=null;const y=this.container.getProvider("app").getImmediate();this.HA=new Xn(y),this._heartbeatsCachePromise=this.HA.read().then((n=>(this._heartbeatsCache=n,n)))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y=En();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==y&&!this._heartbeatsCache.heartbeats.some((n=>n.date===y)))return this._heartbeatsCache.heartbeats.push({date:y,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((n=>{const y=new Date(n.date).valueOf();return Date.now()-y<=2592e6})),this.HA.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const n=En(),{heartbeatsToSend:y,unsentEntries:H}=function(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const H=[];let o=n.slice();for(const G of n){const n=H.find((n=>n.agent===G.agent));if(n){if(n.dates.push(G.date),dn(H)>y){n.dates.pop();break}}else if(H.push({agent:G.agent,dates:[G.date]}),dn(H)>y){H.pop();break}o=o.slice(1)}return{heartbeatsToSend:H,unsentEntries:o}}(this._heartbeatsCache.heartbeats),o=(0,h.n)(JSON.stringify({version:2,heartbeats:y}));return this._heartbeatsCache.lastSentHeartbeatDate=n,H.length>0?(this._heartbeatsCache.heartbeats=H,await this.HA.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.HA.overwrite(this._heartbeatsCache)),o}}function En(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,h.X)()&&(0,h.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(n){try{const y=await Mn();return await y.transaction(Fn).objectStore(Fn).get(cn(n))}catch(y){if(y instanceof h.f)p.warn(y.message);else{const n=qn.create("idb-get",{originalErrorMessage:null===y||void 0===y?void 0:y.message});p.warn(n.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(n){var y;if(await this._canUseIndexedDBPromise){const H=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(y=n.lastSentHeartbeatDate)&&void 0!==y?y:H.lastSentHeartbeatDate,heartbeats:n.heartbeats})}}async add(n){var y;if(await this._canUseIndexedDBPromise){const H=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(y=n.lastSentHeartbeatDate)&&void 0!==y?y:H.lastSentHeartbeatDate,heartbeats:[...H.heartbeats,...n.heartbeats]})}}}function dn(n){return(0,h.n)(JSON.stringify({version:2,heartbeats:n})).length}var an;an="",Gn(new o.h("platform-logger",(n=>new M(n)),"PRIVATE")),Gn(new o.h("heartbeat",(n=>new pn(n)),"PRIVATE")),Qn(f,c,an),Qn(f,c,"esm2017"),Qn("fire-js","")},11066:(n,y,H)=>{H.d(y,{e:()=>i,h:()=>G});var o=H(11074);class G{constructor(n,y,H){this.name=n,this.instanceFactory=y,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const h="[DEFAULT]";class k{constructor(n,y){this.name=n,this.container=y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const y=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(y)){const n=new o.c;if(this.instancesDeferred.set(y,n),this.isInitialized(y)||this.shouldAutoInitialize())try{const H=this.getOrInitializeService({instanceIdentifier:y});H&&n.resolve(H)}catch(H){}}return this.instancesDeferred.get(y).promise}getImmediate(n){var y;const H=this.normalizeInstanceIdentifier(null===n||void 0===n?void 0:n.identifier),o=null!==(y=null===n||void 0===n?void 0:n.optional)&&void 0!==y&&y;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(G){if(o)return null;throw G}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(n))try{this.getOrInitializeService({instanceIdentifier:h})}catch(y){}for(const[n,H]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const n=this.getOrInitializeService({instanceIdentifier:o});H.resolve(n)}catch(y){}}}}clearInstance(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter((n=>"INTERNAL"in n)).map((n=>n.INTERNAL.delete())),...n.filter((n=>"_delete"in n)).map((n=>n._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(n)}getOptions(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(n)||{}}initialize(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:y={}}=n,H=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:H,options:y});for(const[G,h]of this.instancesDeferred.entries()){H===this.normalizeInstanceIdentifier(G)&&h.resolve(o)}return o}sq(n,y){var H;const o=this.normalizeInstanceIdentifier(y),G=null!==(H=this.onInitCallbacks.get(o))&&void 0!==H?H:new Set;G.add(n),this.onInitCallbacks.set(o,G);const h=this.instances.get(o);return h&&n(h,o),()=>{G.delete(n)}}invokeOnInitCallbacks(n,y){const H=this.onInitCallbacks.get(y);if(H)for(const G of H)try{G(n,y)}catch(o){}}getOrInitializeService(n){let{instanceIdentifier:y,options:H={}}=n,o=this.instances.get(y);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(G=y,G===h?void 0:G),options:H}),this.instances.set(y,o),this.instancesOptions.set(y,H),this.invokeOnInitCallbacks(o,y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,y,o)}catch(k){}var G;return o||null}normalizeInstanceIdentifier(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?n:h:n}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class i{constructor(n){this.name=n,this.providers=new Map}NB(n){const y=this.getProvider(n.name);if(y.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);y.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.NB(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const y=new k(n,this);return this.providers.set(n,y),y}getProviders(){return Array.from(this.providers.values())}}},11076:(n,y,H)=>{H.d(y,{b:()=>G,c:()=>V,d:()=>q,e:()=>b});const o=[];var G;!function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(G||(G={}));const h={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},k=G.INFO,i={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},B=function(n,y){if(y<n.logLevel)return;const H=(new Date).toISOString(),o=i[y];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${y})`);for(var G=arguments.length,h=new Array(G>2?G-2:0),k=2;k<G;k++)h[k-2]=arguments[k];console[o](`[${H}]  ${n.name}:`,...h)};class V{constructor(n){this.name=n,this._logLevel=k,this._logHandler=B,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in G))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel="string"===typeof n?h[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if("function"!==typeof n)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(){for(var n=arguments.length,y=new Array(n),H=0;H<n;H++)y[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...y),this._logHandler(this,G.DEBUG,...y)}log(){for(var n=arguments.length,y=new Array(n),H=0;H<n;H++)y[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...y),this._logHandler(this,G.VERBOSE,...y)}info(){for(var n=arguments.length,y=new Array(n),H=0;H<n;H++)y[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,G.INFO,...y),this._logHandler(this,G.INFO,...y)}warn(){for(var n=arguments.length,y=new Array(n),H=0;H<n;H++)y[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,G.WARN,...y),this._logHandler(this,G.WARN,...y)}error(){for(var n=arguments.length,y=new Array(n),H=0;H<n;H++)y[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...y),this._logHandler(this,G.ERROR,...y)}}function q(n){o.forEach((y=>{y.setLogLevel(n)}))}function b(n,y){for(const H of o){let o=null;y&&y.level&&(o=h[y.level]),H.userLogHandler=null===n?null:function(y,H){for(var h=arguments.length,k=new Array(h>2?h-2:0),i=2;i<h;i++)k[i-2]=arguments[i];const B=k.map((n=>{if(null==n)return null;if("string"===typeof n)return n;if("number"===typeof n||"boolean"===typeof n)return n.toString();if(n instanceof Error)return n.message;try{return JSON.stringify(n)}catch(y){return null}})).filter((n=>n)).join(" ");H>=(null!==o&&void 0!==o?o:y.logLevel)&&n({level:G[H].toLowerCase(),message:B,args:k,type:y.name})}}}}}]);