/*! For license information please see b4gs58.5.d67d4581.chunk.js.LICENSE.txt */
"use strict";(self.uji65st81d=self.uji65st81d||[]).push([[5],{12231:(V,h,mV)=>{mV.d(h,{$:()=>d,A:()=>l,B:()=>I,F:()=>n,H:()=>o,I:()=>q,M:()=>w,N:()=>R,Q:()=>s,T:()=>j,W:()=>c,_:()=>z,b:()=>x,d:()=>D,db:()=>M,e:()=>v,fb:()=>O,i:()=>J,ib:()=>y,l:()=>k,lb:()=>Q,p:()=>A,t:()=>Y,x:()=>r});const t=function(V){const h=[];let mV=0;for(let t=0;t<V.length;t++){let L=V.charCodeAt(t);L<128?h[mV++]=L:L<2048?(h[mV++]=L>>6|192,h[mV++]=63&L|128):55296===(64512&L)&&t+1<V.length&&56320===(64512&V.charCodeAt(t+1))?(L=65536+((1023&L)<<10)+(1023&V.charCodeAt(++t)),h[mV++]=L>>18|240,h[mV++]=L>>12&63|128,h[mV++]=L>>6&63|128,h[mV++]=63&L|128):(h[mV++]=L>>12|224,h[mV++]=L>>6&63|128,h[mV++]=63&L|128)}return h},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(V,h){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const mV=h?this.byteToCharMapWebSafe_:this.byteToCharMap_,t=[];for(let L=0;L<V.length;L+=3){const h=V[L],N=L+1<V.length,A=N?V[L+1]:0,k=L+2<V.length,C=k?V[L+2]:0,K=h>>2,o=(3&h)<<4|A>>4;let n=(15&A)<<2|C>>6,q=63&C;k||(q=64,N||(n=64)),t.push(mV[K],mV[o],mV[n],mV[q])}return t.join("")},encodeString(V,h){return this.HAS_NATIVE_SUPPORT&&!h?btoa(V):this.encodeByteArray(t(V),h)},decodeString(V,h){return this.HAS_NATIVE_SUPPORT&&!h?atob(V):function(V){const h=[];let mV=0,t=0;for(;mV<V.length;){const L=V[mV++];if(L<128)h[t++]=String.fromCharCode(L);else if(L>191&&L<224){const N=V[mV++];h[t++]=String.fromCharCode((31&L)<<6|63&N)}else if(L>239&&L<365){const N=((7&L)<<18|(63&V[mV++])<<12|(63&V[mV++])<<6|63&V[mV++])-65536;h[t++]=String.fromCharCode(55296+(N>>10)),h[t++]=String.fromCharCode(56320+(1023&N))}else{const N=V[mV++],A=V[mV++];h[t++]=String.fromCharCode((15&L)<<12|(63&N)<<6|63&A)}}return h.join("")}(this.decodeStringToByteArray(V,h))},decodeStringToByteArray(V,h){this.init_();const mV=h?this.charToByteMapWebSafe_:this.charToByteMap_,t=[];for(let L=0;L<V.length;){const h=mV[V.charAt(L++)],A=L<V.length?mV[V.charAt(L)]:0;++L;const k=L<V.length?mV[V.charAt(L)]:64;++L;const C=L<V.length?mV[V.charAt(L)]:64;if(++L,null==h||null==A||null==k||null==C)throw new N;const K=h<<2|A>>4;if(t.push(K),64!==k){const V=A<<4&240|k>>2;if(t.push(V),64!==C){const V=k<<6&192|C;t.push(V)}}}return t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(V){return function(V){const h=t(V);return L.encodeByteArray(h,!0)}(V).replace(/\./g,"")},k=function(V){try{return L.decodeString(V,!0)}catch(h){console.error("base64Decode failed: ",h)}return null};const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof mV.g)return mV.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,K=()=>{try{return C()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(mV){return}const h=V&&k(V[1]);return h&&JSON.parse(h)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},o=V=>{var h,mV;return null===(mV=null===(h=K())||void 0===h?void 0:h.emulatorHosts)||void 0===mV?void 0:mV[V]},n=()=>{var V;return null===(V=K())||void 0===V?void 0:V.config},q=V=>{var h;return null===(h=K())||void 0===h?void 0:h[`_${V}`]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((V,h)=>{this.resolve=V,this.reject=h}))}wrapCallback(V){return(h,mV)=>{h?this.reject(h):this.resolve(mV),"function"===typeof V&&(this.promise.catch((()=>{})),1===V.length?V(h):V(h,mV))}}}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function s(){const V="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof V&&void 0!==V.id}function M(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function c(){const V=R();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function z(){try{return"object"===typeof indexedDB}catch(V){return!1}}function Q(){return new Promise(((V,h)=>{try{let mV=!0;const t="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(t);L.onsuccess=()=>{L.result.close(),mV||self.indexedDB.deleteDatabase(t),V(!0)},L.onupgradeneeded=()=>{mV=!1},L.onerror=()=>{var V;h((null===(V=L.error)||void 0===V?void 0:V.message)||"")}}catch(mV){h(mV)}}))}function J(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class v extends Error{constructor(V,h,mV){super(h),this.code=V,this.customData=mV,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(V,h,mV){this.service=V,this.serviceName=h,this.errors=mV}create(V){const h=(arguments.length<=1?void 0:arguments[1])||{},mV=`${this.service}/${V}`,t=this.errors[V],L=t?function(V,h){return V.replace(H,((V,mV)=>{const t=h[mV];return null!=t?String(t):`<${mV}?>`}))}(t,h):"Error",N=`${this.serviceName}: ${L} (${mV}).`;return new v(mV,N,h)}}const H=/\{\$([^}]+)}/g;function j(V){for(const h in V)if(Object.prototype.hasOwnProperty.call(V,h))return!1;return!0}function l(V,h){if(V===h)return!0;const mV=Object.keys(V),t=Object.keys(h);for(const L of mV){if(!t.includes(L))return!1;const mV=V[L],N=h[L];if(G(mV)&&G(N)){if(!l(mV,N))return!1}else if(mV!==N)return!1}for(const L of t)if(!mV.includes(L))return!1;return!0}function G(V){return null!==V&&"object"===typeof V}function y(V){const h=[];for(const[mV,t]of Object.entries(V))Array.isArray(t)?t.forEach((V=>{h.push(encodeURIComponent(mV)+"="+encodeURIComponent(V))})):h.push(encodeURIComponent(mV)+"="+encodeURIComponent(t));return h.length?"&"+h.join("&"):""}function O(V){const h={};return V.replace(/^\?/,"").split("&").forEach((V=>{if(V){const[mV,t]=V.split("=");h[decodeURIComponent(mV)]=decodeURIComponent(t)}})),h}function I(V){const h=V.indexOf("?");if(!h)return"";const mV=V.indexOf("#",h);return V.substring(h,mV>0?mV:void 0)}function r(V,h){const mV=new T(V,h);return mV.subscribe.bind(mV)}class T{constructor(V,h){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=h,this.task.then((()=>{V(this)})).catch((V=>{this.error(V)}))}next(V){this.forEachObserver((h=>{h.next(V)}))}error(V){this.forEachObserver((h=>{h.error(V)})),this.close(V)}complete(){this.forEachObserver((V=>{V.complete()})),this.close()}subscribe(V,h,mV){let t;if(void 0===V&&void 0===h&&void 0===mV)throw new Error("Missing Observer.");t=function(V,h){if("object"!==typeof V||null===V)return!1;for(const mV of h)if(mV in V&&"function"===typeof V[mV])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:h,complete:mV},void 0===t.next&&(t.next=F),void 0===t.error&&(t.error=F),void 0===t.complete&&(t.complete=F);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?t.error(this.finalError):t.complete()}catch(V){}})),this.observers.push(t),L}unsubscribeOne(V){void 0!==this.observers&&void 0!==this.observers[V]&&(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let h=0;h<this.observers.length;h++)this.sendOne(h,V)}sendOne(V,h){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{h(this.observers[V])}catch(mV){"undefined"!==typeof console&&console.error&&console.error(mV)}}))}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}const p=1e3,Z=2,f=144e5,S=.5;function Y(V){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;const mV=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p)*Math.pow(h,V),t=Math.round(S*mV*(Math.random()-.5)*2);return Math.min(f,mV+t)}function w(V){return V&&V._delegate?V._delegate:V}},12219:(V,h,mV)=>{mV.d(h,{b:()=>N.e,c:()=>nV,g:()=>a,h:()=>mh,k:()=>tV,l:()=>VV,p:()=>kV,s:()=>hV,w:()=>NV,y:()=>LV,A:()=>AV,E:()=>dV,I:()=>xV,H:()=>RV,L:()=>qV,N:()=>MV,R:()=>sV,S:()=>cV});var t=mV(12222),L=mV(12239),N=mV(12231);let A,k;const C=new WeakMap,K=new WeakMap,o=new WeakMap,n=new WeakMap,q=new WeakMap;let x={get(V,h,mV){if(V instanceof IDBTransaction){if("done"===h)return K.get(V);if("objectStoreNames"===h)return V.objectStoreNames||o.get(V);if("store"===h)return mV.objectStoreNames[1]?void 0:mV.objectStore(mV.objectStoreNames[0])}return s(V[h])},set:(V,h,mV)=>(V[h]=mV,!0),has:(V,h)=>V instanceof IDBTransaction&&("done"===h||"store"===h)||h in V};function R(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(V)?function(){for(var h=arguments.length,mV=new Array(h),t=0;t<h;t++)mV[t]=arguments[t];return V.apply(M(this),mV),s(C.get(this))}:function(){for(var h=arguments.length,mV=new Array(h),t=0;t<h;t++)mV[t]=arguments[t];return s(V.apply(M(this),mV))}:function(h){for(var mV=arguments.length,t=new Array(mV>1?mV-1:0),L=1;L<mV;L++)t[L-1]=arguments[L];const N=V.call(M(this),h,...t);return o.set(N,h.sort?h.sort():[h]),s(N)}}function d(V){return"function"===typeof V?R(V):(V instanceof IDBTransaction&&function(V){if(K.has(V))return;const h=new Promise(((h,mV)=>{const t=()=>{V.removeEventListener("complete",L),V.removeEventListener("error",N),V.removeEventListener("abort",N)},L=()=>{h(),t()},N=()=>{mV(V.error||new DOMException("AbortError","AbortError")),t()};V.addEventListener("complete",L),V.addEventListener("error",N),V.addEventListener("abort",N)}));K.set(V,h)}(V),h=V,(A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((V=>h instanceof V))?new Proxy(V,x):V);var h}function s(V){if(V instanceof IDBRequest)return function(V){const h=new Promise(((h,mV)=>{const t=()=>{V.removeEventListener("success",L),V.removeEventListener("error",N)},L=()=>{h(s(V.result)),t()},N=()=>{mV(V.error),t()};V.addEventListener("success",L),V.addEventListener("error",N)}));return h.then((h=>{h instanceof IDBCursor&&C.set(h,V)})).catch((()=>{})),q.set(h,V),h}(V);if(n.has(V))return n.get(V);const h=d(V);return h!==V&&(n.set(V,h),q.set(h,V)),h}const M=V=>q.get(V);const c=["get","getKey","getAll","getAllKeys","count"],z=["put","add","delete","clear"],Q=new Map;function J(V,h){if(!(V instanceof IDBDatabase)||h in V||"string"!==typeof h)return;if(Q.get(h))return Q.get(h);const mV=h.replace(/FromIndex$/,""),t=h!==mV,L=z.includes(mV);if(!(mV in(t?IDBIndex:IDBObjectStore).prototype)||!L&&!c.includes(mV))return;const N=async function(V){const h=this.transaction(V,L?"readwrite":"readonly");let N=h.store;for(var A=arguments.length,k=new Array(A>1?A-1:0),C=1;C<A;C++)k[C-1]=arguments[C];return t&&(N=N.index(k.shift())),(await Promise.all([N[mV](...k),L&&h.done]))[0]};return Q.set(h,N),N}x=(V=>({...V,get:(h,mV,t)=>J(h,mV)||V.get(h,mV,t),has:(h,mV)=>!!J(h,mV)||V.has(h,mV)}))(x);class v{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map((V=>{if(function(V){const h=V.getComponent();return"VERSION"===(null===h||void 0===h?void 0:h.type)}(V)){const h=V.getImmediate();return`${h.library}/${h.version}`}return null})).filter((V=>V)).join(" ")}}const D="@firebase/app",H="0.9.13",j=new L.g("@firebase/app"),l="@firebase/app-compat",G="@firebase/analytics-compat",y="@firebase/analytics",O="@firebase/app-check-compat",I="@firebase/app-check",r="@firebase/auth",T="@firebase/auth-compat",F="@firebase/database",p="@firebase/database-compat",Z="@firebase/functions",f="@firebase/functions-compat",S="@firebase/installations",Y="@firebase/installations-compat",w="@firebase/messaging",E="@firebase/messaging-compat",g="@firebase/performance",i="@firebase/performance-compat",b="@firebase/remote-config",P="@firebase/remote-config-compat",U="@firebase/storage",u="@firebase/storage-compat",e="@firebase/firestore",W="@firebase/firestore-compat",X="firebase",a="[DEFAULT]",B={[D]:"fire-core",[l]:"fire-core-compat",[y]:"fire-analytics",[G]:"fire-analytics-compat",[I]:"fire-app-check",[O]:"fire-app-check-compat",[r]:"fire-auth",[T]:"fire-auth-compat",[F]:"fire-rtdb",[p]:"fire-rtdb-compat",[Z]:"fire-fn",[f]:"fire-fn-compat",[S]:"fire-iid",[Y]:"fire-iid-compat",[w]:"fire-fcm",[E]:"fire-fcm-compat",[g]:"fire-perf",[i]:"fire-perf-compat",[b]:"fire-rc",[P]:"fire-rc-compat",[U]:"fire-gcs",[u]:"fire-gcs-compat",[e]:"fire-fst",[W]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},VV=new Map,hV=new Map;function mh(V,h){try{V.container.wC(h)}catch(mV){j.debug(`Component ${h.name} failed to register with FirebaseApp ${V.name}`,mV)}}function tV(V,h){V.container.addOrOverwriteComponent(h)}function LV(V){const h=V.name;if(hV.has(h))return j.debug(`There were multiple attempts to register component ${h}.`),!1;hV.set(h,V);for(const mV of VV.values())mh(mV,V);return!0}function NV(V,h){const mV=V.container.getProvider("heartbeat").getImmediate({optional:!0});return mV&&mV.triggerHeartbeat(),V.container.getProvider(h)}function AV(V,h){let mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;NV(V,h).clearInstance(mV)}function kV(){hV.clear()}const CV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},KV=new N.d("app","Firebase",CV);class oV{constructor(V,h,mV){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},h),this._name=h.name,this._automaticDataCollectionEnabled=h.automaticDataCollectionEnabled,this._container=mV,this.container.wC(new t.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw KV.create("app-deleted",{appName:this._name})}}const nV="9.23.0";function qV(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mV=V;if("object"!==typeof h){h={name:h}}const L=Object.assign({name:a,automaticDataCollectionEnabled:!1},h),A=L.name;if("string"!==typeof A||!A)throw KV.create("bad-app-name",{appName:String(A)});if(mV||(mV=(0,N.F)()),!mV)throw KV.create("no-options");const k=VV.get(A);if(k){if((0,N.A)(mV,k.options)&&(0,N.A)(L,k.config))return k;throw KV.create("duplicate-app",{appName:A})}const C=new t.b(A);for(const t of hV.values())C.wC(t);const K=new oV(mV,L,C);return VV.set(A,K),K}function xV(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const h=VV.get(V);if(!h&&V===a&&(0,N.F)())return qV();if(!h)throw KV.create("no-app",{appName:V});return h}function RV(){return Array.from(VV.values())}async function dV(V){const h=V.name;VV.has(h)&&(VV.delete(h),await Promise.all(V.container.getProviders().map((V=>V.delete()))),V.isDeleted=!0)}function sV(V,h,mV){var L;let N=null!==(L=B[V])&&void 0!==L?L:V;mV&&(N+=`-${mV}`);const A=N.match(/\s|\//),k=h.match(/\s|\//);if(A||k){const V=[`Unable to register library "${N}" with version "${h}":`];return A&&V.push(`library name "${N}" contains illegal characters (whitespace or "/")`),A&&k&&V.push("and"),k&&V.push(`version name "${h}" contains illegal characters (whitespace or "/")`),void j.warn(V.join(" "))}LV(new t.e(`${N}-version`,(()=>({library:N,version:h})),"VERSION"))}function MV(V,h){if(null!==V&&"function"!==typeof V)throw KV.create("invalid-log-argument");(0,L.j)(V,h)}function cV(V){(0,L.i)(V)}const zV="firebase-heartbeat-store";let QV=null;function JV(){return QV||(QV=function(V,h){let{blocked:mV,upgrade:t,blocking:L,terminated:N}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=indexedDB.open(V,h),k=s(A);return t&&A.addEventListener("upgradeneeded",(V=>{t(s(A.result),V.oldVersion,V.newVersion,s(A.transaction),V)})),mV&&A.addEventListener("blocked",(V=>mV(V.oldVersion,V.newVersion,V))),k.then((V=>{N&&V.addEventListener("close",(()=>N())),L&&V.addEventListener("versionchange",(V=>L(V.oldVersion,V.newVersion,V)))})).catch((()=>{})),k}("firebase-heartbeat-database",1,{upgrade:(V,h)=>{if(0===h)V.createObjectStore(zV)}}).catch((V=>{throw KV.create("idb-open",{originalErrorMessage:V.message})}))),QV}async function vV(V,h){try{const mV=(await JV()).transaction(zV,"readwrite"),t=mV.objectStore(zV);await t.put(h,DV(V)),await mV.done}catch(mV){if(mV instanceof N.e)j.warn(mV.message);else{const V=KV.create("idb-set",{originalErrorMessage:null===mV||void 0===mV?void 0:mV.message});j.warn(V.message)}}}function DV(V){return`${V.name}!${V.options.appId}`}class HV{constructor(V){this.container=V,this._heartbeatsCache=null;const h=this.container.getProvider("app").getImmediate();this.zn=new lV(h),this._heartbeatsCachePromise=this.zn.read().then((V=>(this._heartbeatsCache=V,V)))}async triggerHeartbeat(){const V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=jV();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==h&&!this._heartbeatsCache.heartbeats.some((V=>V.date===h)))return this._heartbeatsCache.heartbeats.push({date:h,agent:V}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((V=>{const h=new Date(V.date).valueOf();return Date.now()-h<=2592e6})),this.zn.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const V=jV(),{heartbeatsToSend:h,unsentEntries:mV}=function(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const mV=[];let t=V.slice();for(const L of V){const V=mV.find((V=>V.agent===L.agent));if(V){if(V.dates.push(L.date),GV(mV)>h){V.dates.pop();break}}else if(mV.push({agent:L.agent,dates:[L.date]}),GV(mV)>h){mV.pop();break}t=t.slice(1)}return{heartbeatsToSend:mV,unsentEntries:t}}(this._heartbeatsCache.heartbeats),t=(0,N.p)(JSON.stringify({version:2,heartbeats:h}));return this._heartbeatsCache.lastSentHeartbeatDate=V,mV.length>0?(this._heartbeatsCache.heartbeats=mV,await this.zn.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.zn.overwrite(this._heartbeatsCache)),t}}function jV(){return(new Date).toISOString().substring(0,10)}class lV{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,N._)()&&(0,N.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(V){try{const h=await JV();return await h.transaction(zV).objectStore(zV).get(DV(V))}catch(h){if(h instanceof N.e)j.warn(h.message);else{const V=KV.create("idb-get",{originalErrorMessage:null===h||void 0===h?void 0:h.message});j.warn(V.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(V){var h;if(await this._canUseIndexedDBPromise){const mV=await this.read();return vV(this.app,{lastSentHeartbeatDate:null!==(h=V.lastSentHeartbeatDate)&&void 0!==h?h:mV.lastSentHeartbeatDate,heartbeats:V.heartbeats})}}async add(V){var h;if(await this._canUseIndexedDBPromise){const mV=await this.read();return vV(this.app,{lastSentHeartbeatDate:null!==(h=V.lastSentHeartbeatDate)&&void 0!==h?h:mV.lastSentHeartbeatDate,heartbeats:[...mV.heartbeats,...V.heartbeats]})}}}function GV(V){return(0,N.p)(JSON.stringify({version:2,heartbeats:V})).length}var yV;yV="",LV(new t.e("platform-logger",(V=>new v(V)),"PRIVATE")),LV(new t.e("heartbeat",(V=>new HV(V)),"PRIVATE")),sV(D,H,yV),sV(D,H,"esm2017"),sV("fire-js","")},12222:(V,h,mV)=>{mV.d(h,{b:()=>k,e:()=>L});var t=mV(12231);class L{constructor(V,h,mV){this.name=V,this.instanceFactory=h,this.type=mV,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const N="[DEFAULT]";class A{constructor(V,h){this.name=V,this.container=h,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const h=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(h)){const V=new t.b;if(this.instancesDeferred.set(h,V),this.isInitialized(h)||this.shouldAutoInitialize())try{const mV=this.getOrInitializeService({instanceIdentifier:h});mV&&V.resolve(mV)}catch(mV){}}return this.instancesDeferred.get(h).promise}getImmediate(V){var h;const mV=this.normalizeInstanceIdentifier(null===V||void 0===V?void 0:V.identifier),t=null!==(h=null===V||void 0===V?void 0:V.optional)&&void 0!==h&&h;if(!this.isInitialized(mV)&&!this.shouldAutoInitialize()){if(t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:mV})}catch(L){if(t)return null;throw L}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:N})}catch(h){}for(const[V,mV]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(V);try{const V=this.getOrInitializeService({instanceIdentifier:t});mV.resolve(V)}catch(h){}}}}clearInstance(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}async delete(){const V=Array.from(this.instances.values());await Promise.all([...V.filter((V=>"INTERNAL"in V)).map((V=>V.INTERNAL.delete())),...V.filter((V=>"_delete"in V)).map((V=>V._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instances.has(V)}getOptions(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instancesOptions.get(V)||{}}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:h={}}=V,mV=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(mV))throw Error(`${this.name}(${mV}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const t=this.getOrInitializeService({instanceIdentifier:mV,options:h});for(const[L,N]of this.instancesDeferred.entries()){mV===this.normalizeInstanceIdentifier(L)&&N.resolve(t)}return t}Xo(V,h){var mV;const t=this.normalizeInstanceIdentifier(h),L=null!==(mV=this.onInitCallbacks.get(t))&&void 0!==mV?mV:new Set;L.add(V),this.onInitCallbacks.set(t,L);const N=this.instances.get(t);return N&&V(N,t),()=>{L.delete(V)}}invokeOnInitCallbacks(V,h){const mV=this.onInitCallbacks.get(h);if(mV)for(const L of mV)try{L(V,h)}catch(t){}}getOrInitializeService(V){let{instanceIdentifier:h,options:mV={}}=V,t=this.instances.get(h);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(L=h,L===N?void 0:L),options:mV}),this.instances.set(h,t),this.instancesOptions.set(h,mV),this.invokeOnInitCallbacks(t,h),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,h,t)}catch(A){}var L;return t||null}normalizeInstanceIdentifier(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.component?this.component.multipleInstances?V:N:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class k{constructor(V){this.name=V,this.providers=new Map}wC(V){const h=this.getProvider(V.name);if(h.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);h.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.wC(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const h=new A(V,this);return this.providers.set(V,h),h}getProviders(){return Array.from(this.providers.values())}}},12239:(V,h,mV)=>{mV.d(h,{e:()=>L,g:()=>K,i:()=>o,j:()=>n});const t=[];var L;!function(V){V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT"}(L||(L={}));const N={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},A=L.INFO,k={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},C=function(V,h){if(h<V.logLevel)return;const mV=(new Date).toISOString(),t=k[h];if(!t)throw new Error(`Attempted to log a message with an invalid logType (value: ${h})`);for(var L=arguments.length,N=new Array(L>2?L-2:0),A=2;A<L;A++)N[A-2]=arguments[A];console[t](`[${mV}]  ${V.name}:`,...N)};class K{constructor(V){this.name=V,this._logLevel=A,this._logHandler=C,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in L))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"===typeof V?N[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!==typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(){for(var V=arguments.length,h=new Array(V),mV=0;mV<V;mV++)h[mV]=arguments[mV];this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...h),this._logHandler(this,L.DEBUG,...h)}log(){for(var V=arguments.length,h=new Array(V),mV=0;mV<V;mV++)h[mV]=arguments[mV];this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...h),this._logHandler(this,L.VERBOSE,...h)}info(){for(var V=arguments.length,h=new Array(V),mV=0;mV<V;mV++)h[mV]=arguments[mV];this._userLogHandler&&this._userLogHandler(this,L.INFO,...h),this._logHandler(this,L.INFO,...h)}warn(){for(var V=arguments.length,h=new Array(V),mV=0;mV<V;mV++)h[mV]=arguments[mV];this._userLogHandler&&this._userLogHandler(this,L.WARN,...h),this._logHandler(this,L.WARN,...h)}error(){for(var V=arguments.length,h=new Array(V),mV=0;mV<V;mV++)h[mV]=arguments[mV];this._userLogHandler&&this._userLogHandler(this,L.ERROR,...h),this._logHandler(this,L.ERROR,...h)}}function o(V){t.forEach((h=>{h.setLogLevel(V)}))}function n(V,h){for(const mV of t){let t=null;h&&h.level&&(t=N[h.level]),mV.userLogHandler=null===V?null:function(h,mV){for(var N=arguments.length,A=new Array(N>2?N-2:0),k=2;k<N;k++)A[k-2]=arguments[k];const C=A.map((V=>{if(null==V)return null;if("string"===typeof V)return V;if("number"===typeof V||"boolean"===typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch(h){return null}})).filter((V=>V)).join(" ");mV>=(null!==t&&void 0!==t?t:h.logLevel)&&V({level:L[mV].toLowerCase(),message:C,args:A,type:h.name})}}}}}]);