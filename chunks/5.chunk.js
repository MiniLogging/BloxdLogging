/*! For license information please see w4s248.5.8e7b5c0b.chunk.js.LICENSE.txt */
"use strict";(self.rsqbdnwe5e=self.rsqbdnwe5e||[]).push([[5],{12159:(N,p,T)=>{T.d(p,{B:()=>W,D:()=>f,G:()=>M,H:()=>H,J:()=>b,L:()=>r,P:()=>k,R:()=>I,S:()=>v,V:()=>n,Y:()=>w,ab:()=>x,db:()=>L,e:()=>l,fb:()=>J,gb:()=>R,i:()=>K,jb:()=>g,m:()=>i,n:()=>P,p:()=>X,r:()=>U,u:()=>V,x:()=>G});const A=function(N){const p=[];let T=0;for(let A=0;A<N.length;A++){let a=N.charCodeAt(A);a<128?p[T++]=a:a<2048?(p[T++]=a>>6|192,p[T++]=63&a|128):55296===(64512&a)&&A+1<N.length&&56320===(64512&N.charCodeAt(A+1))?(a=65536+((1023&a)<<10)+(1023&N.charCodeAt(++A)),p[T++]=a>>18|240,p[T++]=a>>12&63|128,p[T++]=a>>6&63|128,p[T++]=63&a|128):(p[T++]=a>>12|224,p[T++]=a>>6&63|128,p[T++]=63&a|128)}return p},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(N,p){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=p?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let a=0;a<N.length;a+=3){const p=N[a],C=a+1<N.length,U=C?N[a+1]:0,X=a+2<N.length,y=X?N[a+2]:0,e=p>>2,H=(3&p)<<4|U>>4;let M=(15&U)<<2|y>>6,b=63&y;X||(b=64,C||(M=64)),A.push(T[e],T[H],T[M],T[b])}return A.join("")},encodeString(N,p){return this.HAS_NATIVE_SUPPORT&&!p?btoa(N):this.encodeByteArray(A(N),p)},decodeString(N,p){return this.HAS_NATIVE_SUPPORT&&!p?atob(N):function(N){const p=[];let T=0,A=0;for(;T<N.length;){const a=N[T++];if(a<128)p[A++]=String.fromCharCode(a);else if(a>191&&a<224){const C=N[T++];p[A++]=String.fromCharCode((31&a)<<6|63&C)}else if(a>239&&a<365){const C=((7&a)<<18|(63&N[T++])<<12|(63&N[T++])<<6|63&N[T++])-65536;p[A++]=String.fromCharCode(55296+(C>>10)),p[A++]=String.fromCharCode(56320+(1023&C))}else{const C=N[T++],U=N[T++];p[A++]=String.fromCharCode((15&a)<<12|(63&C)<<6|63&U)}}return p.join("")}(this.decodeStringToByteArray(N,p))},decodeStringToByteArray(N,p){this.init_();const T=p?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let a=0;a<N.length;){const p=T[N.charAt(a++)],U=a<N.length?T[N.charAt(a)]:0;++a;const X=a<N.length?T[N.charAt(a)]:64;++a;const y=a<N.length?T[N.charAt(a)]:64;if(++a,null==p||null==U||null==X||null==y)throw new C;const e=p<<2|U>>4;if(A.push(e),64!==X){const N=U<<4&240|X>>2;if(A.push(N),64!==y){const N=X<<6&192|y;A.push(N)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(N){return function(N){const p=A(N);return a.encodeByteArray(p,!0)}(N).replace(/\./g,"")},X=function(N){try{return a.decodeString(N,!0)}catch(p){console.error("base64Decode failed: ",p)}return null};const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof T.g)return T.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,e=()=>{try{return y()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(T){return}const p=N&&X(N[1]);return p&&JSON.parse(p)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},H=N=>{var p,T;return null===(T=null===(p=e())||void 0===p?void 0:p.emulatorHosts)||void 0===T?void 0:T[N]},M=()=>{var N;return null===(N=e())||void 0===N?void 0:N.config},b=N=>{var p;return null===(p=e())||void 0===p?void 0:p[`_${N}`]};class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((N,p)=>{this.resolve=N,this.reject=p}))}wrapCallback(N){return(p,T)=>{p?this.reject(p):this.resolve(T),"function"===typeof N&&(this.promise.catch((()=>{})),1===N.length?N(p):N(p,T))}}}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function x(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function I(){const N="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof N&&void 0!==N.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function n(){const N=k();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function w(){try{return"object"===typeof indexedDB}catch(N){return!1}}function g(){return new Promise(((N,p)=>{try{let T=!0;const A="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(A);a.onsuccess=()=>{a.result.close(),T||self.indexedDB.deleteDatabase(A),N(!0)},a.onupgradeneeded=()=>{T=!1},a.onerror=()=>{var N;p((null===(N=a.error)||void 0===N?void 0:N.message)||"")}}catch(T){p(T)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class i extends Error{constructor(N,p,T){super(p),this.code=N,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(N,p,T){this.service=N,this.serviceName=p,this.errors=T}create(N){const p=(arguments.length<=1?void 0:arguments[1])||{},T=`${this.service}/${N}`,A=this.errors[N],a=A?function(N,p){return N.replace(F,((N,T)=>{const A=p[T];return null!=A?String(A):`<${T}?>`}))}(A,p):"Error",C=`${this.serviceName}: ${a} (${T}).`;return new i(T,C,p)}}const F=/\{\$([^}]+)}/g;function v(N){for(const p in N)if(Object.prototype.hasOwnProperty.call(N,p))return!1;return!0}function W(N,p){if(N===p)return!0;const T=Object.keys(N),A=Object.keys(p);for(const a of T){if(!A.includes(a))return!1;const T=N[a],C=p[a];if(z(T)&&z(C)){if(!W(T,C))return!1}else if(T!==C)return!1}for(const a of A)if(!T.includes(a))return!1;return!0}function z(N){return null!==N&&"object"===typeof N}function R(N){const p=[];for(const[T,A]of Object.entries(N))Array.isArray(A)?A.forEach((N=>{p.push(encodeURIComponent(T)+"="+encodeURIComponent(N))})):p.push(encodeURIComponent(T)+"="+encodeURIComponent(A));return p.length?"&"+p.join("&"):""}function J(N){const p={};return N.replace(/^\?/,"").split("&").forEach((N=>{if(N){const[T,A]=N.split("=");p[decodeURIComponent(T)]=decodeURIComponent(A)}})),p}function f(N){const p=N.indexOf("?");if(!p)return"";const T=N.indexOf("#",p);return N.substring(p,T>0?T:void 0)}function G(N,p){const T=new o(N,p);return T.subscribe.bind(T)}class o{constructor(N,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then((()=>{N(this)})).catch((N=>{this.error(N)}))}next(N){this.forEachObserver((p=>{p.next(N)}))}error(N){this.forEachObserver((p=>{p.error(N)})),this.close(N)}complete(){this.forEachObserver((N=>{N.complete()})),this.close()}subscribe(N,p,T){let A;if(void 0===N&&void 0===p&&void 0===T)throw new Error("Missing Observer.");A=function(N,p){if("object"!==typeof N||null===N)return!1;for(const T of p)if(T in N&&"function"===typeof N[T])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:p,complete:T},void 0===A.next&&(A.next=Z),void 0===A.error&&(A.error=Z),void 0===A.complete&&(A.complete=Z);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(N){}})),this.observers.push(A),a}unsubscribeOne(N){void 0!==this.observers&&void 0!==this.observers[N]&&(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,N)}sendOne(N,p){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{p(this.observers[N])}catch(T){"undefined"!==typeof console&&console.error&&console.error(T)}}))}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Z(){}const mN=1e3,q=2,h=144e5,j=.5;function V(N){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;const T=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:mN)*Math.pow(p,N),A=Math.round(j*T*(Math.random()-.5)*2);return Math.min(h,T+A)}function r(N){return N&&N._delegate?N._delegate:N}},12146:(N,p,T)=>{T.d(p,{b:()=>C.m,d:()=>MN,g:()=>S,j:()=>TN,n:()=>AN,p:()=>NN,s:()=>XN,v:()=>pN,z:()=>CN,A:()=>aN,D:()=>UN,F:()=>xN,K:()=>lN,J:()=>kN,L:()=>bN,P:()=>LN,R:()=>IN,T:()=>nN});var A=T(12155),a=T(12168),C=T(12159);let U,X;const y=new WeakMap,e=new WeakMap,H=new WeakMap,M=new WeakMap,b=new WeakMap;let l={get(N,p,T){if(N instanceof IDBTransaction){if("done"===p)return e.get(N);if("objectStoreNames"===p)return N.objectStoreNames||H.get(N);if("store"===p)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return I(N[p])},set:(N,p,T)=>(N[p]=T,!0),has:(N,p)=>N instanceof IDBTransaction&&("done"===p||"store"===p)||p in N};function k(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(N)?function(){for(var p=arguments.length,T=new Array(p),A=0;A<p;A++)T[A]=arguments[A];return N.apply(L(this),T),I(y.get(this))}:function(){for(var p=arguments.length,T=new Array(p),A=0;A<p;A++)T[A]=arguments[A];return I(N.apply(L(this),T))}:function(p){for(var T=arguments.length,A=new Array(T>1?T-1:0),a=1;a<T;a++)A[a-1]=arguments[a];const C=N.call(L(this),p,...A);return H.set(C,p.sort?p.sort():[p]),I(C)}}function x(N){return"function"===typeof N?k(N):(N instanceof IDBTransaction&&function(N){if(e.has(N))return;const p=new Promise(((p,T)=>{const A=()=>{N.removeEventListener("complete",a),N.removeEventListener("error",C),N.removeEventListener("abort",C)},a=()=>{p(),A()},C=()=>{T(N.error||new DOMException("AbortError","AbortError")),A()};N.addEventListener("complete",a),N.addEventListener("error",C),N.addEventListener("abort",C)}));e.set(N,p)}(N),p=N,(U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((N=>p instanceof N))?new Proxy(N,l):N);var p}function I(N){if(N instanceof IDBRequest)return function(N){const p=new Promise(((p,T)=>{const A=()=>{N.removeEventListener("success",a),N.removeEventListener("error",C)},a=()=>{p(I(N.result)),A()},C=()=>{T(N.error),A()};N.addEventListener("success",a),N.addEventListener("error",C)}));return p.then((p=>{p instanceof IDBCursor&&y.set(p,N)})).catch((()=>{})),b.set(p,N),p}(N);if(M.has(N))return M.get(N);const p=x(N);return p!==N&&(M.set(N,p),b.set(p,N)),p}const L=N=>b.get(N);const n=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],g=new Map;function P(N,p){if(!(N instanceof IDBDatabase)||p in N||"string"!==typeof p)return;if(g.get(p))return g.get(p);const T=p.replace(/FromIndex$/,""),A=p!==T,a=w.includes(T);if(!(T in(A?IDBIndex:IDBObjectStore).prototype)||!a&&!n.includes(T))return;const C=async function(N){const p=this.transaction(N,a?"readwrite":"readonly");let C=p.store;for(var U=arguments.length,X=new Array(U>1?U-1:0),y=1;y<U;y++)X[y-1]=arguments[y];return A&&(C=C.index(X.shift())),(await Promise.all([C[T](...X),a&&p.done]))[0]};return g.set(p,C),C}l=(N=>({...N,get:(p,T,A)=>P(p,T)||N.get(p,T,A),has:(p,T)=>!!P(p,T)||N.has(p,T)}))(l);class i{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map((N=>{if(function(N){const p=N.getComponent();return"VERSION"===(null===p||void 0===p?void 0:p.type)}(N)){const p=N.getImmediate();return`${p.library}/${p.version}`}return null})).filter((N=>N)).join(" ")}}const K="@firebase/app",F="0.9.13",v=new a.d("@firebase/app"),W="@firebase/app-compat",z="@firebase/analytics-compat",R="@firebase/analytics",J="@firebase/app-check-compat",f="@firebase/app-check",G="@firebase/auth",o="@firebase/auth-compat",Z="@firebase/database",mN="@firebase/database-compat",q="@firebase/functions",h="@firebase/functions-compat",j="@firebase/installations",V="@firebase/installations-compat",r="@firebase/messaging",u="@firebase/messaging-compat",Y="@firebase/performance",D="@firebase/performance-compat",c="@firebase/remote-config",Q="@firebase/remote-config-compat",E="@firebase/storage",O="@firebase/storage-compat",B="@firebase/firestore",d="@firebase/firestore-compat",t="firebase",S="[DEFAULT]",s={[K]:"fire-core",[W]:"fire-core-compat",[R]:"fire-analytics",[z]:"fire-analytics-compat",[f]:"fire-app-check",[J]:"fire-app-check-compat",[G]:"fire-auth",[o]:"fire-auth-compat",[Z]:"fire-rtdb",[mN]:"fire-rtdb-compat",[q]:"fire-fn",[h]:"fire-fn-compat",[j]:"fire-iid",[V]:"fire-iid-compat",[r]:"fire-fcm",[u]:"fire-fcm-compat",[Y]:"fire-perf",[D]:"fire-perf-compat",[c]:"fire-rc",[Q]:"fire-rc-compat",[E]:"fire-gcs",[O]:"fire-gcs-compat",[B]:"fire-fst",[d]:"fire-fst-compat","fire-js":"fire-js",[t]:"fire-js-all"},NN=new Map,pN=new Map;function TN(N,p){try{N.container.me(p)}catch(T){v.debug(`Component ${p.name} failed to register with FirebaseApp ${N.name}`,T)}}function AN(N,p){N.container.addOrOverwriteComponent(p)}function aN(N){const p=N.name;if(pN.has(p))return v.debug(`There were multiple attempts to register component ${p}.`),!1;pN.set(p,N);for(const T of NN.values())TN(T,N);return!0}function CN(N,p){const T=N.container.getProvider("heartbeat").getImmediate({optional:!0});return T&&T.triggerHeartbeat(),N.container.getProvider(p)}function UN(N,p){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;CN(N,p).clearInstance(T)}function XN(){pN.clear()}const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},eN=new C.i("app","Firebase",yN);class HN{constructor(N,p,T){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=T,this.container.me(new A.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw eN.create("app-deleted",{appName:this._name})}}const MN="9.23.0";function bN(N){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=N;if("object"!==typeof p){p={name:p}}const a=Object.assign({name:S,automaticDataCollectionEnabled:!1},p),U=a.name;if("string"!==typeof U||!U)throw eN.create("bad-app-name",{appName:String(U)});if(T||(T=(0,C.G)()),!T)throw eN.create("no-options");const X=NN.get(U);if(X){if((0,C.B)(T,X.options)&&(0,C.B)(a,X.config))return X;throw eN.create("duplicate-app",{appName:U})}const y=new A.d(U);for(const A of pN.values())y.me(A);const e=new HN(T,a,y);return NN.set(U,e),e}function lN(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;const p=NN.get(N);if(!p&&N===S&&(0,C.G)())return bN();if(!p)throw eN.create("no-app",{appName:N});return p}function kN(){return Array.from(NN.values())}async function xN(N){const p=N.name;NN.has(p)&&(NN.delete(p),await Promise.all(N.container.getProviders().map((N=>N.delete()))),N.isDeleted=!0)}function IN(N,p,T){var a;let C=null!==(a=s[N])&&void 0!==a?a:N;T&&(C+=`-${T}`);const U=C.match(/\s|\//),X=p.match(/\s|\//);if(U||X){const N=[`Unable to register library "${C}" with version "${p}":`];return U&&N.push(`library name "${C}" contains illegal characters (whitespace or "/")`),U&&X&&N.push("and"),X&&N.push(`version name "${p}" contains illegal characters (whitespace or "/")`),void v.warn(N.join(" "))}aN(new A.g(`${C}-version`,(()=>({library:C,version:p})),"VERSION"))}function LN(N,p){if(null!==N&&"function"!==typeof N)throw eN.create("invalid-log-argument");(0,a.g)(N,p)}function nN(N){(0,a.f)(N)}const wN="firebase-heartbeat-store";let gN=null;function PN(){return gN||(gN=function(N,p){let{blocked:T,upgrade:A,blocking:a,terminated:C}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const U=indexedDB.open(N,p),X=I(U);return A&&U.addEventListener("upgradeneeded",(N=>{A(I(U.result),N.oldVersion,N.newVersion,I(U.transaction),N)})),T&&U.addEventListener("blocked",(N=>T(N.oldVersion,N.newVersion,N))),X.then((N=>{C&&N.addEventListener("close",(()=>C())),a&&N.addEventListener("versionchange",(N=>a(N.oldVersion,N.newVersion,N)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(N,p)=>{if(0===p)N.createObjectStore(wN)}}).catch((N=>{throw eN.create("idb-open",{originalErrorMessage:N.message})}))),gN}async function iN(N,p){try{const T=(await PN()).transaction(wN,"readwrite"),A=T.objectStore(wN);await A.put(p,KN(N)),await T.done}catch(T){if(T instanceof C.m)v.warn(T.message);else{const N=eN.create("idb-set",{originalErrorMessage:null===T||void 0===T?void 0:T.message});v.warn(N.message)}}}function KN(N){return`${N.name}!${N.options.appId}`}class FN{constructor(N){this.container=N,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this.mb=new WN(p),this._heartbeatsCachePromise=this.mb.read().then((N=>(this._heartbeatsCache=N,N)))}async triggerHeartbeat(){const N=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=vN();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==p&&!this._heartbeatsCache.heartbeats.some((N=>N.date===p)))return this._heartbeatsCache.heartbeats.push({date:p,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((N=>{const p=new Date(N.date).valueOf();return Date.now()-p<=2592e6})),this.mb.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const N=vN(),{heartbeatsToSend:p,unsentEntries:T}=function(N){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const T=[];let A=N.slice();for(const a of N){const N=T.find((N=>N.agent===a.agent));if(N){if(N.dates.push(a.date),zN(T)>p){N.dates.pop();break}}else if(T.push({agent:a.agent,dates:[a.date]}),zN(T)>p){T.pop();break}A=A.slice(1)}return{heartbeatsToSend:T,unsentEntries:A}}(this._heartbeatsCache.heartbeats),A=(0,C.r)(JSON.stringify({version:2,heartbeats:p}));return this._heartbeatsCache.lastSentHeartbeatDate=N,T.length>0?(this._heartbeatsCache.heartbeats=T,await this.mb.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.mb.overwrite(this._heartbeatsCache)),A}}function vN(){return(new Date).toISOString().substring(0,10)}class WN{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,C.Y)()&&(0,C.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(N){try{const p=await PN();return await p.transaction(wN).objectStore(wN).get(KN(N))}catch(p){if(p instanceof C.m)v.warn(p.message);else{const N=eN.create("idb-get",{originalErrorMessage:null===p||void 0===p?void 0:p.message});v.warn(N.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(N){var p;if(await this._canUseIndexedDBPromise){const T=await this.read();return iN(this.app,{lastSentHeartbeatDate:null!==(p=N.lastSentHeartbeatDate)&&void 0!==p?p:T.lastSentHeartbeatDate,heartbeats:N.heartbeats})}}async add(N){var p;if(await this._canUseIndexedDBPromise){const T=await this.read();return iN(this.app,{lastSentHeartbeatDate:null!==(p=N.lastSentHeartbeatDate)&&void 0!==p?p:T.lastSentHeartbeatDate,heartbeats:[...T.heartbeats,...N.heartbeats]})}}}function zN(N){return(0,C.r)(JSON.stringify({version:2,heartbeats:N})).length}var RN;RN="",aN(new A.g("platform-logger",(N=>new i(N)),"PRIVATE")),aN(new A.g("heartbeat",(N=>new FN(N)),"PRIVATE")),IN(K,F,RN),IN(K,F,"esm2017"),IN("fire-js","")},12155:(N,p,T)=>{T.d(p,{d:()=>X,g:()=>a});var A=T(12159);class a{constructor(N,p,T){this.name=N,this.instanceFactory=p,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const C="[DEFAULT]";class U{constructor(N,p){this.name=N,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const p=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(p)){const N=new A.e;if(this.instancesDeferred.set(p,N),this.isInitialized(p)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:p});T&&N.resolve(T)}catch(T){}}return this.instancesDeferred.get(p).promise}getImmediate(N){var p;const T=this.normalizeInstanceIdentifier(null===N||void 0===N?void 0:N.identifier),A=null!==(p=null===N||void 0===N?void 0:N.optional)&&void 0!==p&&p;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(a){if(A)return null;throw a}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function(N){return"EAGER"===N.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:C})}catch(p){}for(const[N,T]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(N);try{const N=this.getOrInitializeService({instanceIdentifier:A});T.resolve(N)}catch(p){}}}}clearInstance(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}async delete(){const N=Array.from(this.instances.values());await Promise.all([...N.filter((N=>"INTERNAL"in N)).map((N=>N.INTERNAL.delete())),...N.filter((N=>"_delete"in N)).map((N=>N._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instances.has(N)}getOptions(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instancesOptions.get(N)||{}}initialize(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:p={}}=N,T=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:T,options:p});for(const[a,C]of this.instancesDeferred.entries()){T===this.normalizeInstanceIdentifier(a)&&C.resolve(A)}return A}lM(N,p){var T;const A=this.normalizeInstanceIdentifier(p),a=null!==(T=this.onInitCallbacks.get(A))&&void 0!==T?T:new Set;a.add(N),this.onInitCallbacks.set(A,a);const C=this.instances.get(A);return C&&N(C,A),()=>{a.delete(N)}}invokeOnInitCallbacks(N,p){const T=this.onInitCallbacks.get(p);if(T)for(const a of T)try{a(N,p)}catch(A){}}getOrInitializeService(N){let{instanceIdentifier:p,options:T={}}=N,A=this.instances.get(p);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(a=p,a===C?void 0:a),options:T}),this.instances.set(p,A),this.instancesOptions.set(p,T),this.invokeOnInitCallbacks(A,p),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,p,A)}catch(U){}var a;return A||null}normalizeInstanceIdentifier(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.component?this.component.multipleInstances?N:C:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(N){this.name=N,this.providers=new Map}me(N){const p=this.getProvider(N.name);if(p.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);p.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.me(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const p=new U(N,this);return this.providers.set(N,p),p}getProviders(){return Array.from(this.providers.values())}}},12168:(N,p,T)=>{T.d(p,{b:()=>a,d:()=>e,f:()=>H,g:()=>M});const A=[];var a;!function(N){N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT"}(a||(a={}));const C={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},U=a.INFO,X={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},y=function(N,p){if(p<N.logLevel)return;const T=(new Date).toISOString(),A=X[p];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);for(var a=arguments.length,C=new Array(a>2?a-2:0),U=2;U<a;U++)C[U-2]=arguments[U];console[A](`[${T}]  ${N.name}:`,...C)};class e{constructor(N){this.name=N,this._logLevel=U,this._logHandler=y,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in a))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"===typeof N?C[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!==typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(){for(var N=arguments.length,p=new Array(N),T=0;T<N;T++)p[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...p),this._logHandler(this,a.DEBUG,...p)}log(){for(var N=arguments.length,p=new Array(N),T=0;T<N;T++)p[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...p),this._logHandler(this,a.VERBOSE,...p)}info(){for(var N=arguments.length,p=new Array(N),T=0;T<N;T++)p[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,a.INFO,...p),this._logHandler(this,a.INFO,...p)}warn(){for(var N=arguments.length,p=new Array(N),T=0;T<N;T++)p[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,a.WARN,...p),this._logHandler(this,a.WARN,...p)}error(){for(var N=arguments.length,p=new Array(N),T=0;T<N;T++)p[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,a.ERROR,...p),this._logHandler(this,a.ERROR,...p)}}function H(N){A.forEach((p=>{p.setLogLevel(N)}))}function M(N,p){for(const T of A){let A=null;p&&p.level&&(A=C[p.level]),T.userLogHandler=null===N?null:function(p,T){for(var C=arguments.length,U=new Array(C>2?C-2:0),X=2;X<C;X++)U[X-2]=arguments[X];const y=U.map((N=>{if(null==N)return null;if("string"===typeof N)return N;if("number"===typeof N||"boolean"===typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch(p){return null}})).filter((N=>N)).join(" ");T>=(null!==A&&void 0!==A?A:p.logLevel)&&N({level:a[T].toLowerCase(),message:y,args:U,type:p.name})}}}}}]);