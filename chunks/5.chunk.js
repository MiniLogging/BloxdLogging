/*! For license information please see kkn31l.5.d77b1aae.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10997:(B,I,C)=>{C.d(I,{A:()=>O,D:()=>J,G:()=>n,I:()=>R,L:()=>N,O:()=>H,Q:()=>z,R:()=>k,T:()=>S,X:()=>D,Y:()=>U,_:()=>G,ab:()=>q,bb:()=>o,c:()=>F,db:()=>p,g:()=>r,gb:()=>u,jb:()=>V,k:()=>t,n:()=>c,q:()=>L,t:()=>f,w:()=>Z});const M=function(B){const I=[];let C=0;for(let M=0;M<B.length;M++){let x=B.charCodeAt(M);x<128?I[C++]=x:x<2048?(I[C++]=x>>6|192,I[C++]=63&x|128):55296===(64512&x)&&M+1<B.length&&56320===(64512&B.charCodeAt(M+1))?(x=65536+((1023&x)<<10)+(1023&B.charCodeAt(++M)),I[C++]=x>>18|240,I[C++]=x>>12&63|128,I[C++]=x>>6&63|128,I[C++]=63&x|128):(I[C++]=x>>12|224,I[C++]=x>>6&63|128,I[C++]=63&x|128)}return I},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(B,I){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let x=0;x<B.length;x+=3){const I=B[x],y=x+1<B.length,f=y?B[x+1]:0,L=x+2<B.length,e=L?B[x+2]:0,g=I>>2,N=(3&I)<<4|f>>4;let R=(15&f)<<2|e>>6,H=63&e;L||(H=64,y||(R=64)),M.push(C[g],C[N],C[R],C[H])}return M.join("")},encodeString(B,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(B):this.encodeByteArray(M(B),I)},decodeString(B,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(B):function(B){const I=[];let C=0,M=0;for(;C<B.length;){const x=B[C++];if(x<128)I[M++]=String.fromCharCode(x);else if(x>191&&x<224){const y=B[C++];I[M++]=String.fromCharCode((31&x)<<6|63&y)}else if(x>239&&x<365){const y=((7&x)<<18|(63&B[C++])<<12|(63&B[C++])<<6|63&B[C++])-65536;I[M++]=String.fromCharCode(55296+(y>>10)),I[M++]=String.fromCharCode(56320+(1023&y))}else{const y=B[C++],f=B[C++];I[M++]=String.fromCharCode((15&x)<<12|(63&y)<<6|63&f)}}return I.join("")}(this.decodeStringToByteArray(B,I))},decodeStringToByteArray(B,I){this.init_();const C=I?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let x=0;x<B.length;){const I=C[B.charAt(x++)],f=x<B.length?C[B.charAt(x)]:0;++x;const L=x<B.length?C[B.charAt(x)]:64;++x;const e=x<B.length?C[B.charAt(x)]:64;if(++x,null==I||null==f||null==L||null==e)throw new y;const g=I<<2|f>>4;if(M.push(g),64!==L){const B=f<<4&240|L>>2;if(M.push(B),64!==e){const B=L<<6&192|e;M.push(B)}}}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(B){return function(B){const I=M(B);return x.encodeByteArray(I,!0)}(B).replace(/\./g,"")},L=function(B){try{return x.decodeString(B,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};const e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return e()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const I=B&&L(B[1]);return I&&JSON.parse(I)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},N=B=>{var I,C;return null===(C=null===(I=g())||void 0===I?void 0:I.emulatorHosts)||void 0===C?void 0:C[B]},R=()=>{var B;return null===(B=g())||void 0===B?void 0:B.config},H=B=>{var I;return null===(I=g())||void 0===I?void 0:I[`_${B}`]};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((B,I)=>{this.resolve=B,this.reject=I}))}wrapCallback(B){return(I,C)=>{I?this.reject(I):this.resolve(C),"function"===typeof B&&(this.promise.catch((()=>{})),1===B.length?B(I):B(I,C))}}}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function S(){const B="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof B&&void 0!==B.id}function o(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function U(){const B=k();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(B){return!1}}function V(){return new Promise(((B,I)=>{try{let C=!0;const M="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(M);x.onsuccess=()=>{x.result.close(),C||self.indexedDB.deleteDatabase(M),B(!0)},x.onupgradeneeded=()=>{C=!1},x.onerror=()=>{var B;I((null===(B=x.error)||void 0===B?void 0:B.message)||"")}}catch(C){I(C)}}))}function c(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class t extends Error{constructor(B,I,C){super(I),this.code=B,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r.prototype.create)}}class r{constructor(B,I,C){this.service=B,this.serviceName=I,this.errors=C}create(B){const I=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${B}`,M=this.errors[B],x=M?function(B,I){return B.replace(A,((B,C)=>{const M=I[C];return null!=M?String(M):`<${C}?>`}))}(M,I):"Error",y=`${this.serviceName}: ${x} (${C}).`;return new t(C,y,I)}}const A=/\{\$([^}]+)}/g;function D(B){for(const I in B)if(Object.prototype.hasOwnProperty.call(B,I))return!1;return!0}function J(B,I){if(B===I)return!0;const C=Object.keys(B),M=Object.keys(I);for(const x of C){if(!M.includes(x))return!1;const C=B[x],y=I[x];if(i(C)&&i(y)){if(!J(C,y))return!1}else if(C!==y)return!1}for(const x of M)if(!C.includes(x))return!1;return!0}function i(B){return null!==B&&"object"===typeof B}function u(B){const I=[];for(const[C,M]of Object.entries(B))Array.isArray(M)?M.forEach((B=>{I.push(encodeURIComponent(C)+"="+encodeURIComponent(B))})):I.push(encodeURIComponent(C)+"="+encodeURIComponent(M));return I.length?"&"+I.join("&"):""}function p(B){const I={};return B.replace(/^\?/,"").split("&").forEach((B=>{if(B){const[C,M]=B.split("=");I[decodeURIComponent(C)]=decodeURIComponent(M)}})),I}function n(B){const I=B.indexOf("?");if(!I)return"";const C=B.indexOf("#",I);return B.substring(I,C>0?C:void 0)}function O(B,I){const C=new a(B,I);return C.subscribe.bind(C)}class a{constructor(B,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then((()=>{B(this)})).catch((B=>{this.error(B)}))}next(B){this.forEachObserver((I=>{I.next(B)}))}error(B){this.forEachObserver((I=>{I.error(B)})),this.close(B)}complete(){this.forEachObserver((B=>{B.complete()})),this.close()}subscribe(B,I,C){let M;if(void 0===B&&void 0===I&&void 0===C)throw new Error("Missing Observer.");M=function(B,I){if("object"!==typeof B||null===B)return!1;for(const C of I)if(C in B&&"function"===typeof B[C])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:I,complete:C},void 0===M.next&&(M.next=W),void 0===M.error&&(M.error=W),void 0===M.complete&&(M.complete=W);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch(B){}})),this.observers.push(M),x}unsubscribeOne(B){void 0!==this.observers&&void 0!==this.observers[B]&&(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,B)}sendOne(B,I){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{I(this.observers[B])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function W(){}const d=1e3,l=2,E=144e5,Q=.5;function Z(B){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:d)*Math.pow(I,B),M=Math.round(Q*C*(Math.random()-.5)*2);return Math.min(E,C+M)}function z(B){return B&&B._delegate?B._delegate:B}},10983:(B,I,C)=>{C.d(I,{b:()=>y.k,d:()=>RB,e:()=>K,h:()=>CB,k:()=>MB,l:()=>BB,o:()=>LB,p:()=>IB,r:()=>yB,v:()=>xB,y:()=>fB,A:()=>qB,E:()=>FB,B:()=>kB,F:()=>HB,H:()=>oB,K:()=>SB,N:()=>UB});var M=C(10991),x=C(11004),y=C(10997);let f,L;const e=new WeakMap,g=new WeakMap,N=new WeakMap,R=new WeakMap,H=new WeakMap;let F={get(B,I,C){if(B instanceof IDBTransaction){if("done"===I)return g.get(B);if("objectStoreNames"===I)return B.objectStoreNames||N.get(B);if("store"===I)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return S(B[I])},set:(B,I,C)=>(B[I]=C,!0),has:(B,I)=>B instanceof IDBTransaction&&("done"===I||"store"===I)||I in B};function k(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(B)?function(){for(var I=arguments.length,C=new Array(I),M=0;M<I;M++)C[M]=arguments[M];return B.apply(o(this),C),S(e.get(this))}:function(){for(var I=arguments.length,C=new Array(I),M=0;M<I;M++)C[M]=arguments[M];return S(B.apply(o(this),C))}:function(I){for(var C=arguments.length,M=new Array(C>1?C-1:0),x=1;x<C;x++)M[x-1]=arguments[x];const y=B.call(o(this),I,...M);return N.set(y,I.sort?I.sort():[I]),S(y)}}function q(B){return"function"===typeof B?k(B):(B instanceof IDBTransaction&&function(B){if(g.has(B))return;const I=new Promise(((I,C)=>{const M=()=>{B.removeEventListener("complete",x),B.removeEventListener("error",y),B.removeEventListener("abort",y)},x=()=>{I(),M()},y=()=>{C(B.error||new DOMException("AbortError","AbortError")),M()};B.addEventListener("complete",x),B.addEventListener("error",y),B.addEventListener("abort",y)}));g.set(B,I)}(B),I=B,(f||(f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((B=>I instanceof B))?new Proxy(B,F):B);var I}function S(B){if(B instanceof IDBRequest)return function(B){const I=new Promise(((I,C)=>{const M=()=>{B.removeEventListener("success",x),B.removeEventListener("error",y)},x=()=>{I(S(B.result)),M()},y=()=>{C(B.error),M()};B.addEventListener("success",x),B.addEventListener("error",y)}));return I.then((I=>{I instanceof IDBCursor&&e.set(I,B)})).catch((()=>{})),H.set(I,B),I}(B);if(R.has(B))return R.get(B);const I=q(B);return I!==B&&(R.set(B,I),H.set(I,B)),I}const o=B=>H.get(B);const U=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],V=new Map;function c(B,I){if(!(B instanceof IDBDatabase)||I in B||"string"!==typeof I)return;if(V.get(I))return V.get(I);const C=I.replace(/FromIndex$/,""),M=I!==C,x=G.includes(C);if(!(C in(M?IDBIndex:IDBObjectStore).prototype)||!x&&!U.includes(C))return;const y=async function(B){const I=this.transaction(B,x?"readwrite":"readonly");let y=I.store;for(var f=arguments.length,L=new Array(f>1?f-1:0),e=1;e<f;e++)L[e-1]=arguments[e];return M&&(y=y.index(L.shift())),(await Promise.all([y[C](...L),x&&I.done]))[0]};return V.set(I,y),y}F=(B=>({...B,get:(I,C,M)=>c(I,C)||B.get(I,C,M),has:(I,C)=>!!c(I,C)||B.has(I,C)}))(F);class t{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map((B=>{if(function(B){const I=B.getComponent();return"VERSION"===(null===I||void 0===I?void 0:I.type)}(B)){const I=B.getImmediate();return`${I.library}/${I.version}`}return null})).filter((B=>B)).join(" ")}}const r="@firebase/app",A="0.9.13",D=new x.c("@firebase/app"),J="@firebase/app-compat",i="@firebase/analytics-compat",u="@firebase/analytics",p="@firebase/app-check-compat",n="@firebase/app-check",O="@firebase/auth",a="@firebase/auth-compat",W="@firebase/database",d="@firebase/database-compat",l="@firebase/functions",E="@firebase/functions-compat",Q="@firebase/installations",Z="@firebase/installations-compat",z="@firebase/messaging",b="@firebase/messaging-compat",Y="@firebase/performance",v="@firebase/performance-compat",s="@firebase/remote-config",X="@firebase/remote-config-compat",T="@firebase/storage",P="@firebase/storage-compat",h="@firebase/firestore",j="@firebase/firestore-compat",w="firebase",K="[DEFAULT]",m={[r]:"fire-core",[J]:"fire-core-compat",[u]:"fire-analytics",[i]:"fire-analytics-compat",[n]:"fire-app-check",[p]:"fire-app-check-compat",[O]:"fire-auth",[a]:"fire-auth-compat",[W]:"fire-rtdb",[d]:"fire-rtdb-compat",[l]:"fire-fn",[E]:"fire-fn-compat",[Q]:"fire-iid",[Z]:"fire-iid-compat",[z]:"fire-fcm",[b]:"fire-fcm-compat",[Y]:"fire-perf",[v]:"fire-perf-compat",[s]:"fire-rc",[X]:"fire-rc-compat",[T]:"fire-gcs",[P]:"fire-gcs-compat",[h]:"fire-fst",[j]:"fire-fst-compat","fire-js":"fire-js",[w]:"fire-js-all"},BB=new Map,IB=new Map;function CB(B,I){try{B.container.ze(I)}catch(C){D.debug(`Component ${I.name} failed to register with FirebaseApp ${B.name}`,C)}}function MB(B,I){B.container.addOrOverwriteComponent(I)}function xB(B){const I=B.name;if(IB.has(I))return D.debug(`There were multiple attempts to register component ${I}.`),!1;IB.set(I,B);for(const C of BB.values())CB(C,B);return!0}function yB(B,I){const C=B.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),B.container.getProvider(I)}function fB(B,I){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;yB(B,I).clearInstance(C)}function LB(){IB.clear()}const eB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gB=new y.g("app","Firebase",eB);class NB{constructor(B,I,C){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=C,this.container.ze(new M.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw gB.create("app-deleted",{appName:this._name})}}const RB="9.23.0";function HB(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=B;if("object"!==typeof I){I={name:I}}const x=Object.assign({name:K,automaticDataCollectionEnabled:!1},I),f=x.name;if("string"!==typeof f||!f)throw gB.create("bad-app-name",{appName:String(f)});if(C||(C=(0,y.I)()),!C)throw gB.create("no-options");const L=BB.get(f);if(L){if((0,y.D)(C,L.options)&&(0,y.D)(x,L.config))return L;throw gB.create("duplicate-app",{appName:f})}const e=new M.c(f);for(const M of IB.values())e.ze(M);const g=new NB(C,x,e);return BB.set(f,g),g}function FB(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;const I=BB.get(B);if(!I&&B===K&&(0,y.I)())return HB();if(!I)throw gB.create("no-app",{appName:B});return I}function kB(){return Array.from(BB.values())}async function qB(B){const I=B.name;BB.has(I)&&(BB.delete(I),await Promise.all(B.container.getProviders().map((B=>B.delete()))),B.isDeleted=!0)}function SB(B,I,C){var x;let y=null!==(x=m[B])&&void 0!==x?x:B;C&&(y+=`-${C}`);const f=y.match(/\s|\//),L=I.match(/\s|\//);if(f||L){const B=[`Unable to register library "${y}" with version "${I}":`];return f&&B.push(`library name "${y}" contains illegal characters (whitespace or "/")`),f&&L&&B.push("and"),L&&B.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void D.warn(B.join(" "))}xB(new M.e(`${y}-version`,(()=>({library:y,version:I})),"VERSION"))}function oB(B,I){if(null!==B&&"function"!==typeof B)throw gB.create("invalid-log-argument");(0,x.j)(B,I)}function UB(B){(0,x.g)(B)}const GB="firebase-heartbeat-store";let VB=null;function cB(){return VB||(VB=function(B,I){let{blocked:C,upgrade:M,blocking:x,terminated:y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const f=indexedDB.open(B,I),L=S(f);return M&&f.addEventListener("upgradeneeded",(B=>{M(S(f.result),B.oldVersion,B.newVersion,S(f.transaction),B)})),C&&f.addEventListener("blocked",(B=>C(B.oldVersion,B.newVersion,B))),L.then((B=>{y&&B.addEventListener("close",(()=>y())),x&&B.addEventListener("versionchange",(B=>x(B.oldVersion,B.newVersion,B)))})).catch((()=>{})),L}("firebase-heartbeat-database",1,{upgrade:(B,I)=>{if(0===I)B.createObjectStore(GB)}}).catch((B=>{throw gB.create("idb-open",{originalErrorMessage:B.message})}))),VB}async function tB(B,I){try{const C=(await cB()).transaction(GB,"readwrite"),M=C.objectStore(GB);await M.put(I,rB(B)),await C.done}catch(C){if(C instanceof y.k)D.warn(C.message);else{const B=gB.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});D.warn(B.message)}}}function rB(B){return`${B.name}!${B.options.appId}`}class AB{constructor(B){this.container=B,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this.WR=new JB(I),this._heartbeatsCachePromise=this.WR.read().then((B=>(this._heartbeatsCache=B,B)))}async triggerHeartbeat(){const B=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=DB();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==I&&!this._heartbeatsCache.heartbeats.some((B=>B.date===I)))return this._heartbeatsCache.heartbeats.push({date:I,agent:B}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((B=>{const I=new Date(B.date).valueOf();return Date.now()-I<=2592e6})),this.WR.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const B=DB(),{heartbeatsToSend:I,unsentEntries:C}=function(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let M=B.slice();for(const x of B){const B=C.find((B=>B.agent===x.agent));if(B){if(B.dates.push(x.date),iB(C)>I){B.dates.pop();break}}else if(C.push({agent:x.agent,dates:[x.date]}),iB(C)>I){C.pop();break}M=M.slice(1)}return{heartbeatsToSend:C,unsentEntries:M}}(this._heartbeatsCache.heartbeats),M=(0,y.t)(JSON.stringify({version:2,heartbeats:I}));return this._heartbeatsCache.lastSentHeartbeatDate=B,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.WR.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.WR.overwrite(this._heartbeatsCache)),M}}function DB(){return(new Date).toISOString().substring(0,10)}class JB{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,y._)()&&(0,y.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(B){try{const I=await cB();return await I.transaction(GB).objectStore(GB).get(rB(B))}catch(I){if(I instanceof y.k)D.warn(I.message);else{const B=gB.create("idb-get",{originalErrorMessage:null===I||void 0===I?void 0:I.message});D.warn(B.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(B){var I;if(await this._canUseIndexedDBPromise){const C=await this.read();return tB(this.app,{lastSentHeartbeatDate:null!==(I=B.lastSentHeartbeatDate)&&void 0!==I?I:C.lastSentHeartbeatDate,heartbeats:B.heartbeats})}}async add(B){var I;if(await this._canUseIndexedDBPromise){const C=await this.read();return tB(this.app,{lastSentHeartbeatDate:null!==(I=B.lastSentHeartbeatDate)&&void 0!==I?I:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...B.heartbeats]})}}}function iB(B){return(0,y.t)(JSON.stringify({version:2,heartbeats:B})).length}var uB;uB="",xB(new M.e("platform-logger",(B=>new t(B)),"PRIVATE")),xB(new M.e("heartbeat",(B=>new AB(B)),"PRIVATE")),SB(r,A,uB),SB(r,A,"esm2017"),SB("fire-js","")},10991:(B,I,C)=>{C.d(I,{c:()=>L,e:()=>x});var M=C(10997);class x{constructor(B,I,C){this.name=B,this.instanceFactory=I,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const y="[DEFAULT]";class f{constructor(B,I){this.name=B,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const I=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(I)){const B=new M.c;if(this.instancesDeferred.set(I,B),this.isInitialized(I)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:I});C&&B.resolve(C)}catch(C){}}return this.instancesDeferred.get(I).promise}getImmediate(B){var I;const C=this.normalizeInstanceIdentifier(null===B||void 0===B?void 0:B.identifier),M=null!==(I=null===B||void 0===B?void 0:B.optional)&&void 0!==I&&I;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(M)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(x){if(M)return null;throw x}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function(B){return"EAGER"===B.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:y})}catch(I){}for(const[B,C]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(B);try{const B=this.getOrInitializeService({instanceIdentifier:M});C.resolve(B)}catch(I){}}}}clearInstance(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}async delete(){const B=Array.from(this.instances.values());await Promise.all([...B.filter((B=>"INTERNAL"in B)).map((B=>B.INTERNAL.delete())),...B.filter((B=>"_delete"in B)).map((B=>B._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.instances.has(B)}getOptions(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.instancesOptions.get(B)||{}}initialize(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:I={}}=B,C=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:C,options:I});for(const[x,y]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(x)&&y.resolve(M)}return M}HR(B,I){var C;const M=this.normalizeInstanceIdentifier(I),x=null!==(C=this.onInitCallbacks.get(M))&&void 0!==C?C:new Set;x.add(B),this.onInitCallbacks.set(M,x);const y=this.instances.get(M);return y&&B(y,M),()=>{x.delete(B)}}invokeOnInitCallbacks(B,I){const C=this.onInitCallbacks.get(I);if(C)for(const x of C)try{x(B,I)}catch(M){}}getOrInitializeService(B){let{instanceIdentifier:I,options:C={}}=B,M=this.instances.get(I);if(!M&&this.component&&(M=this.component.instanceFactory(this.container,{instanceIdentifier:(x=I,x===y?void 0:x),options:C}),this.instances.set(I,M),this.instancesOptions.set(I,C),this.invokeOnInitCallbacks(M,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,M)}catch(f){}var x;return M||null}normalizeInstanceIdentifier(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.component?this.component.multipleInstances?B:y:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(B){this.name=B,this.providers=new Map}ze(B){const I=this.getProvider(B.name);if(I.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);I.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.ze(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const I=new f(B,this);return this.providers.set(B,I),I}getProviders(){return Array.from(this.providers.values())}}},11004:(B,I,C)=>{C.d(I,{b:()=>x,c:()=>g,g:()=>N,j:()=>R});const M=[];var x;!function(B){B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT"}(x||(x={}));const y={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},f=x.INFO,L={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},e=function(B,I){if(I<B.logLevel)return;const C=(new Date).toISOString(),M=L[I];if(!M)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);for(var x=arguments.length,y=new Array(x>2?x-2:0),f=2;f<x;f++)y[f-2]=arguments[f];console[M](`[${C}]  ${B.name}:`,...y)};class g{constructor(B){this.name=B,this._logLevel=f,this._logHandler=e,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in x))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"===typeof B?y[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!==typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(){for(var B=arguments.length,I=new Array(B),C=0;C<B;C++)I[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...I),this._logHandler(this,x.DEBUG,...I)}log(){for(var B=arguments.length,I=new Array(B),C=0;C<B;C++)I[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...I),this._logHandler(this,x.VERBOSE,...I)}info(){for(var B=arguments.length,I=new Array(B),C=0;C<B;C++)I[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,x.INFO,...I),this._logHandler(this,x.INFO,...I)}warn(){for(var B=arguments.length,I=new Array(B),C=0;C<B;C++)I[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,x.WARN,...I),this._logHandler(this,x.WARN,...I)}error(){for(var B=arguments.length,I=new Array(B),C=0;C<B;C++)I[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,x.ERROR,...I),this._logHandler(this,x.ERROR,...I)}}function N(B){M.forEach((I=>{I.setLogLevel(B)}))}function R(B,I){for(const C of M){let M=null;I&&I.level&&(M=y[I.level]),C.userLogHandler=null===B?null:function(I,C){for(var y=arguments.length,f=new Array(y>2?y-2:0),L=2;L<y;L++)f[L-2]=arguments[L];const e=f.map((B=>{if(null==B)return null;if("string"===typeof B)return B;if("number"===typeof B||"boolean"===typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch(I){return null}})).filter((B=>B)).join(" ");C>=(null!==M&&void 0!==M?M:I.logLevel)&&B({level:x[C].toLowerCase(),message:e,args:f,type:I.name})}}}}}]);