/*! For license information please see 1o5xb.5.3d809cdc.chunk.js.LICENSE.txt */
"use strict";(self.pp3k1ov3ibi=self.pp3k1ov3ibi||[]).push([[5],{12157:(M,Z,P)=>{P.d(Z,{B:()=>d,D:()=>H,H:()=>b,K:()=>B,M:()=>n,N:()=>h,O:()=>u,S:()=>N,T:()=>U,V:()=>L,Z:()=>C,ab:()=>s,bb:()=>J,e:()=>j,f:()=>D,j:()=>F,n:()=>t,p:()=>G,q:()=>v,r:()=>e,t:()=>W,u:()=>Q,w:()=>R,y:()=>O});const x=function(M){const Z=[];let P=0;for(let x=0;x<M.length;x++){let c=M.charCodeAt(x);c<128?Z[P++]=c:c<2048?(Z[P++]=c>>6|192,Z[P++]=63&c|128):55296===(64512&c)&&x+1<M.length&&56320===(64512&M.charCodeAt(x+1))?(c=65536+((1023&c)<<10)+(1023&M.charCodeAt(++x)),Z[P++]=c>>18|240,Z[P++]=c>>12&63|128,Z[P++]=c>>6&63|128,Z[P++]=63&c|128):(Z[P++]=c>>12|224,Z[P++]=c>>6&63|128,Z[P++]=63&c|128)}return Z},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(M,Z){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let c=0;c<M.length;c+=3){const Z=M[c],w=c+1<M.length,v=w?M[c+1]:0,G=c+2<M.length,mM=G?M[c+2]:0,K=Z>>2,d=(3&Z)<<4|v>>4;let O=(15&v)<<2|mM>>6,H=63&mM;G||(H=64,w||(O=64)),x.push(P[K],P[d],P[O],P[H])}return x.join("")},encodeString(M,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(M):this.encodeByteArray(x(M),Z)},decodeString(M,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(M):function(M){const Z=[];let P=0,x=0;for(;P<M.length;){const c=M[P++];if(c<128)Z[x++]=String.fromCharCode(c);else if(c>191&&c<224){const w=M[P++];Z[x++]=String.fromCharCode((31&c)<<6|63&w)}else if(c>239&&c<365){const w=((7&c)<<18|(63&M[P++])<<12|(63&M[P++])<<6|63&M[P++])-65536;Z[x++]=String.fromCharCode(55296+(w>>10)),Z[x++]=String.fromCharCode(56320+(1023&w))}else{const w=M[P++],v=M[P++];Z[x++]=String.fromCharCode((15&c)<<12|(63&w)<<6|63&v)}}return Z.join("")}(this.decodeStringToByteArray(M,Z))},decodeStringToByteArray(M,Z){this.init_();const P=Z?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let c=0;c<M.length;){const Z=P[M.charAt(c++)],v=c<M.length?P[M.charAt(c)]:0;++c;const G=c<M.length?P[M.charAt(c)]:64;++c;const mM=c<M.length?P[M.charAt(c)]:64;if(++c,null==Z||null==v||null==G||null==mM)throw new w;const K=Z<<2|v>>4;if(x.push(K),64!==G){const M=v<<4&240|G>>2;if(x.push(M),64!==mM){const M=G<<6&192|mM;x.push(M)}}}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v=function(M){return function(M){const Z=x(M);return c.encodeByteArray(Z,!0)}(M).replace(/\./g,"")},G=function(M){try{return c.decodeString(M,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};const mM=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof P.g)return P.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,K=()=>{try{return mM()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(P){return}const Z=M&&G(M[1]);return Z&&JSON.parse(Z)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},d=M=>{var Z,P;return null===(P=null===(Z=K())||void 0===Z?void 0:Z.emulatorHosts)||void 0===P?void 0:P[M]},O=()=>{var M;return null===(M=K())||void 0===M?void 0:M.config},H=M=>{var Z;return null===(Z=K())||void 0===Z?void 0:Z[`_${M}`]};class j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((M,Z)=>{this.resolve=M,this.reject=Z}))}wrapCallback(M){return(Z,P)=>{Z?this.reject(Z):this.resolve(P),"function"===typeof M&&(this.promise.catch((()=>{})),1===M.length?M(Z):M(Z,P))}}}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function U(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function n(){const M="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof M&&void 0!==M.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function u(){const M=B();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function N(){try{return"object"===typeof indexedDB}catch(M){return!1}}function J(){return new Promise(((M,Z)=>{try{let P=!0;const x="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(x);c.onsuccess=()=>{c.result.close(),P||self.indexedDB.deleteDatabase(x),M(!0)},c.onupgradeneeded=()=>{P=!1},c.onerror=()=>{var M;Z((null===(M=c.error)||void 0===M?void 0:M.message)||"")}}catch(P){Z(P)}}))}function t(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class F extends Error{constructor(M,Z,P){super(Z),this.code=M,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(M,Z,P){this.service=M,this.serviceName=Z,this.errors=P}create(M){const Z=(arguments.length<=1?void 0:arguments[1])||{},P=`${this.service}/${M}`,x=this.errors[M],c=x?function(M,Z){return M.replace(l,((M,P)=>{const x=Z[P];return null!=x?String(x):`<${P}?>`}))}(x,Z):"Error",w=`${this.serviceName}: ${c} (${P}).`;return new F(P,w,Z)}}const l=/\{\$([^}]+)}/g;function h(M){for(const Z in M)if(Object.prototype.hasOwnProperty.call(M,Z))return!1;return!0}function Q(M,Z){if(M===Z)return!0;const P=Object.keys(M),x=Object.keys(Z);for(const c of P){if(!x.includes(c))return!1;const P=M[c],w=Z[c];if(I(P)&&I(w)){if(!Q(P,w))return!1}else if(P!==w)return!1}for(const c of x)if(!P.includes(c))return!1;return!0}function I(M){return null!==M&&"object"===typeof M}function s(M){const Z=[];for(const[P,x]of Object.entries(M))Array.isArray(x)?x.forEach((M=>{Z.push(encodeURIComponent(P)+"="+encodeURIComponent(M))})):Z.push(encodeURIComponent(P)+"="+encodeURIComponent(x));return Z.length?"&"+Z.join("&"):""}function C(M){const Z={};return M.replace(/^\?/,"").split("&").forEach((M=>{if(M){const[P,x]=M.split("=");Z[decodeURIComponent(P)]=decodeURIComponent(x)}})),Z}function R(M){const Z=M.indexOf("?");if(!Z)return"";const P=M.indexOf("#",Z);return M.substring(Z,P>0?P:void 0)}function W(M,Z){const P=new k(M,Z);return P.subscribe.bind(P)}class k{constructor(M,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then((()=>{M(this)})).catch((M=>{this.error(M)}))}next(M){this.forEachObserver((Z=>{Z.next(M)}))}error(M){this.forEachObserver((Z=>{Z.error(M)})),this.close(M)}complete(){this.forEachObserver((M=>{M.complete()})),this.close()}subscribe(M,Z,P){let x;if(void 0===M&&void 0===Z&&void 0===P)throw new Error("Missing Observer.");x=function(M,Z){if("object"!==typeof M||null===M)return!1;for(const P of Z)if(P in M&&"function"===typeof M[P])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:Z,complete:P},void 0===x.next&&(x.next=A),void 0===x.error&&(x.error=A),void 0===x.complete&&(x.complete=A);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch(M){}})),this.observers.push(x),c}unsubscribeOne(M){void 0!==this.observers&&void 0!==this.observers[M]&&(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,M)}sendOne(M,Z){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{Z(this.observers[M])}catch(P){"undefined"!==typeof console&&console.error&&console.error(P)}}))}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}const o=1e3,E=2,r=144e5,q=.5;function e(M){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const P=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(Z,M),x=Math.round(q*P*(Math.random()-.5)*2);return Math.min(r,P+x)}function b(M){return M&&M._delegate?M._delegate:M}},12149:(M,Z,P)=>{P.d(Z,{d:()=>w.j,e:()=>OM,h:()=>V,l:()=>PM,m:()=>xM,o:()=>MM,p:()=>GM,s:()=>ZM,w:()=>wM,z:()=>cM,A:()=>vM,B:()=>UM,G:()=>jM,D:()=>BM,J:()=>HM,K:()=>LM,O:()=>nM,R:()=>uM});var x=P(12153),c=P(12162),w=P(12157);let v,G;const mM=new WeakMap,K=new WeakMap,d=new WeakMap,O=new WeakMap,H=new WeakMap;let j={get(M,Z,P){if(M instanceof IDBTransaction){if("done"===Z)return K.get(M);if("objectStoreNames"===Z)return M.objectStoreNames||d.get(M);if("store"===Z)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return n(M[Z])},set:(M,Z,P)=>(M[Z]=P,!0),has:(M,Z)=>M instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in M};function B(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(M)?function(){for(var Z=arguments.length,P=new Array(Z),x=0;x<Z;x++)P[x]=arguments[x];return M.apply(L(this),P),n(mM.get(this))}:function(){for(var Z=arguments.length,P=new Array(Z),x=0;x<Z;x++)P[x]=arguments[x];return n(M.apply(L(this),P))}:function(Z){for(var P=arguments.length,x=new Array(P>1?P-1:0),c=1;c<P;c++)x[c-1]=arguments[c];const w=M.call(L(this),Z,...x);return d.set(w,Z.sort?Z.sort():[Z]),n(w)}}function U(M){return"function"===typeof M?B(M):(M instanceof IDBTransaction&&function(M){if(K.has(M))return;const Z=new Promise(((Z,P)=>{const x=()=>{M.removeEventListener("complete",c),M.removeEventListener("error",w),M.removeEventListener("abort",w)},c=()=>{Z(),x()},w=()=>{P(M.error||new DOMException("AbortError","AbortError")),x()};M.addEventListener("complete",c),M.addEventListener("error",w),M.addEventListener("abort",w)}));K.set(M,Z)}(M),Z=M,(v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((M=>Z instanceof M))?new Proxy(M,j):M);var Z}function n(M){if(M instanceof IDBRequest)return function(M){const Z=new Promise(((Z,P)=>{const x=()=>{M.removeEventListener("success",c),M.removeEventListener("error",w)},c=()=>{Z(n(M.result)),x()},w=()=>{P(M.error),x()};M.addEventListener("success",c),M.addEventListener("error",w)}));return Z.then((Z=>{Z instanceof IDBCursor&&mM.set(Z,M)})).catch((()=>{})),H.set(Z,M),Z}(M);if(O.has(M))return O.get(M);const Z=U(M);return Z!==M&&(O.set(M,Z),H.set(Z,M)),Z}const L=M=>H.get(M);const u=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],J=new Map;function t(M,Z){if(!(M instanceof IDBDatabase)||Z in M||"string"!==typeof Z)return;if(J.get(Z))return J.get(Z);const P=Z.replace(/FromIndex$/,""),x=Z!==P,c=N.includes(P);if(!(P in(x?IDBIndex:IDBObjectStore).prototype)||!c&&!u.includes(P))return;const w=async function(M){const Z=this.transaction(M,c?"readwrite":"readonly");let w=Z.store;for(var v=arguments.length,G=new Array(v>1?v-1:0),mM=1;mM<v;mM++)G[mM-1]=arguments[mM];return x&&(w=w.index(G.shift())),(await Promise.all([w[P](...G),c&&Z.done]))[0]};return J.set(Z,w),w}j=(M=>({...M,get:(Z,P,x)=>t(Z,P)||M.get(Z,P,x),has:(Z,P)=>!!t(Z,P)||M.has(Z,P)}))(j);class F{constructor(M){this.container=M}getPlatformInfoString(){return this.container.getProviders().map((M=>{if(function(M){const Z=M.getComponent();return"VERSION"===(null===Z||void 0===Z?void 0:Z.type)}(M)){const Z=M.getImmediate();return`${Z.library}/${Z.version}`}return null})).filter((M=>M)).join(" ")}}const D="@firebase/app",l="0.9.13",h=new c.e("@firebase/app"),Q="@firebase/app-compat",I="@firebase/analytics-compat",s="@firebase/analytics",C="@firebase/app-check-compat",R="@firebase/app-check",W="@firebase/auth",k="@firebase/auth-compat",A="@firebase/database",o="@firebase/database-compat",E="@firebase/functions",r="@firebase/functions-compat",q="@firebase/installations",e="@firebase/installations-compat",b="@firebase/messaging",a="@firebase/messaging-compat",y="@firebase/performance",f="@firebase/performance-compat",Y="@firebase/remote-config",z="@firebase/remote-config-compat",i="@firebase/storage",T="@firebase/storage-compat",p="@firebase/firestore",S="@firebase/firestore-compat",X="firebase",V="[DEFAULT]",g={[D]:"fire-core",[Q]:"fire-core-compat",[s]:"fire-analytics",[I]:"fire-analytics-compat",[R]:"fire-app-check",[C]:"fire-app-check-compat",[W]:"fire-auth",[k]:"fire-auth-compat",[A]:"fire-rtdb",[o]:"fire-rtdb-compat",[E]:"fire-fn",[r]:"fire-fn-compat",[q]:"fire-iid",[e]:"fire-iid-compat",[b]:"fire-fcm",[a]:"fire-fcm-compat",[y]:"fire-perf",[f]:"fire-perf-compat",[Y]:"fire-rc",[z]:"fire-rc-compat",[i]:"fire-gcs",[T]:"fire-gcs-compat",[p]:"fire-fst",[S]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},MM=new Map,ZM=new Map;function PM(M,Z){try{M.container.dK(Z)}catch(P){h.debug(`Component ${Z.name} failed to register with FirebaseApp ${M.name}`,P)}}function xM(M,Z){M.container.addOrOverwriteComponent(Z)}function cM(M){const Z=M.name;if(ZM.has(Z))return h.debug(`There were multiple attempts to register component ${Z}.`),!1;ZM.set(Z,M);for(const P of MM.values())PM(P,M);return!0}function wM(M,Z){const P=M.container.getProvider("heartbeat").getImmediate({optional:!0});return P&&P.triggerHeartbeat(),M.container.getProvider(Z)}function vM(M,Z){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;wM(M,Z).clearInstance(P)}function GM(){ZM.clear()}const mZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},KM=new w.f("app","Firebase",mZ);class dM{constructor(M,Z,P){this._isDeleted=!1,this._options=Object.assign({},M),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=P,this.container.dK(new x.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(M){this.checkDestroyed(),this._automaticDataCollectionEnabled=M}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(M){this._isDeleted=M}checkDestroyed(){if(this.isDeleted)throw KM.create("app-deleted",{appName:this._name})}}const OM="9.23.0";function HM(M){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=M;if("object"!==typeof Z){Z={name:Z}}const c=Object.assign({name:V,automaticDataCollectionEnabled:!1},Z),v=c.name;if("string"!==typeof v||!v)throw KM.create("bad-app-name",{appName:String(v)});if(P||(P=(0,w.y)()),!P)throw KM.create("no-options");const G=MM.get(v);if(G){if((0,w.u)(P,G.options)&&(0,w.u)(c,G.config))return G;throw KM.create("duplicate-app",{appName:v})}const mM=new x.b(v);for(const x of ZM.values())mM.dK(x);const K=new dM(P,c,mM);return MM.set(v,K),K}function jM(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;const Z=MM.get(M);if(!Z&&M===V&&(0,w.y)())return HM();if(!Z)throw KM.create("no-app",{appName:M});return Z}function BM(){return Array.from(MM.values())}async function UM(M){const Z=M.name;MM.has(Z)&&(MM.delete(Z),await Promise.all(M.container.getProviders().map((M=>M.delete()))),M.isDeleted=!0)}function nM(M,Z,P){var c;let w=null!==(c=g[M])&&void 0!==c?c:M;P&&(w+=`-${P}`);const v=w.match(/\s|\//),G=Z.match(/\s|\//);if(v||G){const M=[`Unable to register library "${w}" with version "${Z}":`];return v&&M.push(`library name "${w}" contains illegal characters (whitespace or "/")`),v&&G&&M.push("and"),G&&M.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void h.warn(M.join(" "))}cM(new x.e(`${w}-version`,(()=>({library:w,version:Z})),"VERSION"))}function LM(M,Z){if(null!==M&&"function"!==typeof M)throw KM.create("invalid-log-argument");(0,c.h)(M,Z)}function uM(M){(0,c.g)(M)}const NM="firebase-heartbeat-store";let JM=null;function tM(){return JM||(JM=function(M,Z){let{blocked:P,upgrade:x,blocking:c,terminated:w}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const v=indexedDB.open(M,Z),G=n(v);return x&&v.addEventListener("upgradeneeded",(M=>{x(n(v.result),M.oldVersion,M.newVersion,n(v.transaction),M)})),P&&v.addEventListener("blocked",(M=>P(M.oldVersion,M.newVersion,M))),G.then((M=>{w&&M.addEventListener("close",(()=>w())),c&&M.addEventListener("versionchange",(M=>c(M.oldVersion,M.newVersion,M)))})).catch((()=>{})),G}("firebase-heartbeat-database",1,{upgrade:(M,Z)=>{if(0===Z)M.createObjectStore(NM)}}).catch((M=>{throw KM.create("idb-open",{originalErrorMessage:M.message})}))),JM}async function FM(M,Z){try{const P=(await tM()).transaction(NM,"readwrite"),x=P.objectStore(NM);await x.put(Z,DM(M)),await P.done}catch(P){if(P instanceof w.j)h.warn(P.message);else{const M=KM.create("idb-set",{originalErrorMessage:null===P||void 0===P?void 0:P.message});h.warn(M.message)}}}function DM(M){return`${M.name}!${M.options.appId}`}class lM{constructor(M){this.container=M,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this.HH=new QM(Z),this._heartbeatsCachePromise=this.HH.read().then((M=>(this._heartbeatsCache=M,M)))}async triggerHeartbeat(){const M=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Z=hM();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Z&&!this._heartbeatsCache.heartbeats.some((M=>M.date===Z)))return this._heartbeatsCache.heartbeats.push({date:Z,agent:M}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((M=>{const Z=new Date(M.date).valueOf();return Date.now()-Z<=2592e6})),this.HH.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const M=hM(),{heartbeatsToSend:Z,unsentEntries:P}=function(M){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const P=[];let x=M.slice();for(const c of M){const M=P.find((M=>M.agent===c.agent));if(M){if(M.dates.push(c.date),IM(P)>Z){M.dates.pop();break}}else if(P.push({agent:c.agent,dates:[c.date]}),IM(P)>Z){P.pop();break}x=x.slice(1)}return{heartbeatsToSend:P,unsentEntries:x}}(this._heartbeatsCache.heartbeats),x=(0,w.q)(JSON.stringify({version:2,heartbeats:Z}));return this._heartbeatsCache.lastSentHeartbeatDate=M,P.length>0?(this._heartbeatsCache.heartbeats=P,await this.HH.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.HH.overwrite(this._heartbeatsCache)),x}}function hM(){return(new Date).toISOString().substring(0,10)}class QM{constructor(M){this.app=M,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,w.S)()&&(0,w.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(M){try{const Z=await tM();return await Z.transaction(NM).objectStore(NM).get(DM(M))}catch(Z){if(Z instanceof w.j)h.warn(Z.message);else{const M=KM.create("idb-get",{originalErrorMessage:null===Z||void 0===Z?void 0:Z.message});h.warn(M.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(M){var Z;if(await this._canUseIndexedDBPromise){const P=await this.read();return FM(this.app,{lastSentHeartbeatDate:null!==(Z=M.lastSentHeartbeatDate)&&void 0!==Z?Z:P.lastSentHeartbeatDate,heartbeats:M.heartbeats})}}async add(M){var Z;if(await this._canUseIndexedDBPromise){const P=await this.read();return FM(this.app,{lastSentHeartbeatDate:null!==(Z=M.lastSentHeartbeatDate)&&void 0!==Z?Z:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...M.heartbeats]})}}}function IM(M){return(0,w.q)(JSON.stringify({version:2,heartbeats:M})).length}var sM;sM="",cM(new x.e("platform-logger",(M=>new F(M)),"PRIVATE")),cM(new x.e("heartbeat",(M=>new lM(M)),"PRIVATE")),nM(D,l,sM),nM(D,l,"esm2017"),nM("fire-js","")},12153:(M,Z,P)=>{P.d(Z,{b:()=>G,e:()=>c});var x=P(12157);class c{constructor(M,Z,P){this.name=M,this.instanceFactory=Z,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}const w="[DEFAULT]";class v{constructor(M,Z){this.name=M,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(M){const Z=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(Z)){const M=new x.e;if(this.instancesDeferred.set(Z,M),this.isInitialized(Z)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:Z});P&&M.resolve(P)}catch(P){}}return this.instancesDeferred.get(Z).promise}getImmediate(M){var Z;const P=this.normalizeInstanceIdentifier(null===M||void 0===M?void 0:M.identifier),x=null!==(Z=null===M||void 0===M?void 0:M.optional)&&void 0!==Z&&Z;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(x)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(c){if(x)return null;throw c}}getComponent(){return this.component}setComponent(M){if(M.name!==this.name)throw Error(`Mismatching Component ${M.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=M,this.shouldAutoInitialize()){if(function(M){return"EAGER"===M.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:w})}catch(Z){}for(const[M,P]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(M);try{const M=this.getOrInitializeService({instanceIdentifier:x});P.resolve(M)}catch(Z){}}}}clearInstance(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)}async delete(){const M=Array.from(this.instances.values());await Promise.all([...M.filter((M=>"INTERNAL"in M)).map((M=>M.INTERNAL.delete())),...M.filter((M=>"_delete"in M)).map((M=>M._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.instances.has(M)}getOptions(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.instancesOptions.get(M)||{}}initialize(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Z={}}=M,P=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const x=this.getOrInitializeService({instanceIdentifier:P,options:Z});for(const[c,w]of this.instancesDeferred.entries()){P===this.normalizeInstanceIdentifier(c)&&w.resolve(x)}return x}YO(M,Z){var P;const x=this.normalizeInstanceIdentifier(Z),c=null!==(P=this.onInitCallbacks.get(x))&&void 0!==P?P:new Set;c.add(M),this.onInitCallbacks.set(x,c);const w=this.instances.get(x);return w&&M(w,x),()=>{c.delete(M)}}invokeOnInitCallbacks(M,Z){const P=this.onInitCallbacks.get(Z);if(P)for(const c of P)try{c(M,Z)}catch(x){}}getOrInitializeService(M){let{instanceIdentifier:Z,options:P={}}=M,x=this.instances.get(Z);if(!x&&this.component&&(x=this.component.instanceFactory(this.container,{instanceIdentifier:(c=Z,c===w?void 0:c),options:P}),this.instances.set(Z,x),this.instancesOptions.set(Z,P),this.invokeOnInitCallbacks(x,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,x)}catch(v){}var c;return x||null}normalizeInstanceIdentifier(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.component?this.component.multipleInstances?M:w:M}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(M){this.name=M,this.providers=new Map}dK(M){const Z=this.getProvider(M.name);if(Z.isComponentSet())throw new Error(`Component ${M.name} has already been registered with ${this.name}`);Z.setComponent(M)}addOrOverwriteComponent(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.dK(M)}getProvider(M){if(this.providers.has(M))return this.providers.get(M);const Z=new v(M,this);return this.providers.set(M,Z),Z}getProviders(){return Array.from(this.providers.values())}}},12162:(M,Z,P)=>{P.d(Z,{d:()=>c,e:()=>K,g:()=>d,h:()=>O});const x=[];var c;!function(M){M[M.DEBUG=0]="DEBUG",M[M.VERBOSE=1]="VERBOSE",M[M.INFO=2]="INFO",M[M.WARN=3]="WARN",M[M.ERROR=4]="ERROR",M[M.SILENT=5]="SILENT"}(c||(c={}));const w={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},v=c.INFO,G={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},mM=function(M,Z){if(Z<M.logLevel)return;const P=(new Date).toISOString(),x=G[Z];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);for(var c=arguments.length,w=new Array(c>2?c-2:0),v=2;v<c;v++)w[v-2]=arguments[v];console[x](`[${P}]  ${M.name}:`,...w)};class K{constructor(M){this.name=M,this._logLevel=v,this._logHandler=mM,this._userLogHandler=null,x.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in c))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"===typeof M?w[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!==typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(){for(var M=arguments.length,Z=new Array(M),P=0;P<M;P++)Z[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...Z),this._logHandler(this,c.DEBUG,...Z)}log(){for(var M=arguments.length,Z=new Array(M),P=0;P<M;P++)Z[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...Z),this._logHandler(this,c.VERBOSE,...Z)}info(){for(var M=arguments.length,Z=new Array(M),P=0;P<M;P++)Z[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,c.INFO,...Z),this._logHandler(this,c.INFO,...Z)}warn(){for(var M=arguments.length,Z=new Array(M),P=0;P<M;P++)Z[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,c.WARN,...Z),this._logHandler(this,c.WARN,...Z)}error(){for(var M=arguments.length,Z=new Array(M),P=0;P<M;P++)Z[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,c.ERROR,...Z),this._logHandler(this,c.ERROR,...Z)}}function d(M){x.forEach((Z=>{Z.setLogLevel(M)}))}function O(M,Z){for(const P of x){let x=null;Z&&Z.level&&(x=w[Z.level]),P.userLogHandler=null===M?null:function(Z,P){for(var w=arguments.length,v=new Array(w>2?w-2:0),G=2;G<w;G++)v[G-2]=arguments[G];const mM=v.map((M=>{if(null==M)return null;if("string"===typeof M)return M;if("number"===typeof M||"boolean"===typeof M)return M.toString();if(M instanceof Error)return M.message;try{return JSON.stringify(M)}catch(Z){return null}})).filter((M=>M)).join(" ");P>=(null!==x&&void 0!==x?x:Z.logLevel)&&M({level:c[P].toLowerCase(),message:mM,args:v,type:Z.name})}}}}}]);