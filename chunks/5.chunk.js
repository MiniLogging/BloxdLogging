/*! For license information please see 96t3hv.5.b14151dc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10684:(N,q,R)=>{R.d(q,{$:()=>f,B:()=>s,D:()=>t,H:()=>E,I:()=>x,K:()=>U,N:()=>b,R:()=>D,U:()=>u,X:()=>H,_:()=>Y,ab:()=>V,bb:()=>G,d:()=>e,db:()=>n,eb:()=>T,f:()=>Q,h:()=>X,j:()=>L,k:()=>S,n:()=>F,r:()=>I,t:()=>Z,x:()=>w});const z=function(N){const q=[];let R=0;for(let z=0;z<N.length;z++){let v=N.charCodeAt(z);v<128?q[R++]=v:v<2048?(q[R++]=v>>6|192,q[R++]=63&v|128):55296===(64512&v)&&z+1<N.length&&56320===(64512&N.charCodeAt(z+1))?(v=65536+((1023&v)<<10)+(1023&N.charCodeAt(++z)),q[R++]=v>>18|240,q[R++]=v>>12&63|128,q[R++]=v>>6&63|128,q[R++]=63&v|128):(q[R++]=v>>12|224,q[R++]=v>>6&63|128,q[R++]=63&v|128)}return q},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(N,q){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let v=0;v<N.length;v+=3){const q=N[v],B=v+1<N.length,F=B?N[v+1]:0,S=v+2<N.length,A=S?N[v+2]:0,y=q>>2,E=(3&q)<<4|F>>4;let t=(15&F)<<2|A>>6,x=63&A;S||(x=64,B||(t=64)),z.push(R[y],R[E],R[t],R[x])}return z.join("")},encodeString(N,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(N):this.encodeByteArray(z(N),q)},decodeString(N,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(N):function(N){const q=[];let R=0,z=0;for(;R<N.length;){const v=N[R++];if(v<128)q[z++]=String.fromCharCode(v);else if(v>191&&v<224){const B=N[R++];q[z++]=String.fromCharCode((31&v)<<6|63&B)}else if(v>239&&v<365){const B=((7&v)<<18|(63&N[R++])<<12|(63&N[R++])<<6|63&N[R++])-65536;q[z++]=String.fromCharCode(55296+(B>>10)),q[z++]=String.fromCharCode(56320+(1023&B))}else{const B=N[R++],F=N[R++];q[z++]=String.fromCharCode((15&v)<<12|(63&B)<<6|63&F)}}return q.join("")}(this.decodeStringToByteArray(N,q))},decodeStringToByteArray(N,q){this.init_();const R=q?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let v=0;v<N.length;){const q=R[N.charAt(v++)],F=v<N.length?R[N.charAt(v)]:0;++v;const S=v<N.length?R[N.charAt(v)]:64;++v;const A=v<N.length?R[N.charAt(v)]:64;if(++v,null==q||null==F||null==S||null==A)throw new B;const y=q<<2|F>>4;if(z.push(y),64!==S){const N=F<<4&240|S>>2;if(z.push(N),64!==A){const N=S<<6&192|A;z.push(N)}}}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(N){return function(N){const q=z(N);return v.encodeByteArray(q,!0)}(N).replace(/\./g,"")},S=function(N){try{return v.decodeString(N,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};const A=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof R.g)return R.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,y=()=>{try{return A()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(R){return}const q=N&&S(N[1]);return q&&JSON.parse(q)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},E=N=>{var q,R;return null===(R=null===(q=y())||void 0===q?void 0:q.emulatorHosts)||void 0===R?void 0:R[N]},t=()=>{var N;return null===(N=y())||void 0===N?void 0:N.config},x=N=>{var q;return null===(q=y())||void 0===q?void 0:q[`_${N}`]};class e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((N,q)=>{this.resolve=N,this.reject=q}))}wrapCallback(N){return(q,R)=>{q?this.reject(q):this.resolve(R),"function"===typeof N&&(this.promise.catch((()=>{})),1===N.length?N(q):N(q,R))}}}function b(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function D(){const N="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof N&&void 0!==N.id}function V(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function H(){const N=b();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function Y(){try{return"object"===typeof indexedDB}catch(N){return!1}}function T(){return new Promise(((N,q)=>{try{let R=!0;const z="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(z);v.onsuccess=()=>{v.result.close(),R||self.indexedDB.deleteDatabase(z),N(!0)},v.onupgradeneeded=()=>{R=!1},v.onerror=()=>{var N;q((null===(N=v.error)||void 0===N?void 0:N.message)||"")}}catch(R){q(R)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class X extends Error{constructor(N,q,R){super(q),this.code=N,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(N,q,R){this.service=N,this.serviceName=q,this.errors=R}create(N){const q=(arguments.length<=1?void 0:arguments[1])||{},R=`${this.service}/${N}`,z=this.errors[N],v=z?function(N,q){return N.replace(h,((N,R)=>{const z=q[R];return null!=z?String(z):`<${R}?>`}))}(z,q):"Error",B=`${this.serviceName}: ${v} (${R}).`;return new X(R,B,q)}}const h=/\{\$([^}]+)}/g;function u(N){for(const q in N)if(Object.prototype.hasOwnProperty.call(N,q))return!1;return!0}function w(N,q){if(N===q)return!0;const R=Object.keys(N),z=Object.keys(q);for(const v of R){if(!z.includes(v))return!1;const R=N[v],B=q[v];if(c(R)&&c(B)){if(!w(R,B))return!1}else if(R!==B)return!1}for(const v of z)if(!R.includes(v))return!1;return!0}function c(N){return null!==N&&"object"===typeof N}function n(N){const q=[];for(const[R,z]of Object.entries(N))Array.isArray(z)?z.forEach((N=>{q.push(encodeURIComponent(R)+"="+encodeURIComponent(N))})):q.push(encodeURIComponent(R)+"="+encodeURIComponent(z));return q.length?"&"+q.join("&"):""}function G(N){const q={};return N.replace(/^\?/,"").split("&").forEach((N=>{if(N){const[R,z]=N.split("=");q[decodeURIComponent(R)]=decodeURIComponent(z)}})),q}function s(N){const q=N.indexOf("?");if(!q)return"";const R=N.indexOf("#",q);return N.substring(q,R>0?R:void 0)}function Z(N,q){const R=new J(N,q);return R.subscribe.bind(R)}class J{constructor(N,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then((()=>{N(this)})).catch((N=>{this.error(N)}))}next(N){this.forEachObserver((q=>{q.next(N)}))}error(N){this.forEachObserver((q=>{q.error(N)})),this.close(N)}complete(){this.forEachObserver((N=>{N.complete()})),this.close()}subscribe(N,q,R){let z;if(void 0===N&&void 0===q&&void 0===R)throw new Error("Missing Observer.");z=function(N,q){if("object"!==typeof N||null===N)return!1;for(const R of q)if(R in N&&"function"===typeof N[R])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:q,complete:R},void 0===z.next&&(z.next=M),void 0===z.error&&(z.error=M),void 0===z.complete&&(z.complete=M);const v=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(N){}})),this.observers.push(z),v}unsubscribeOne(N){void 0!==this.observers&&void 0!==this.observers[N]&&(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,N)}sendOne(N,q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{q(this.observers[N])}catch(R){"undefined"!==typeof console&&console.error&&console.error(R)}}))}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function M(){}const m=1e3,g=2,j=144e5,l=.5;function I(N){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const R=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:m)*Math.pow(q,N),z=Math.round(l*R*(Math.random()-.5)*2);return Math.min(j,R+z)}function U(N){return N&&N._delegate?N._delegate:N}},10673:(N,q,R)=>{R.d(q,{d:()=>B.h,g:()=>tN,i:()=>p,k:()=>RN,o:()=>zN,q:()=>NN,u:()=>SN,x:()=>qN,A:()=>BN,D:()=>vN,G:()=>FN,K:()=>fN,S:()=>eN,O:()=>bN,W:()=>xN,Z:()=>VN,_:()=>DN,cb:()=>HN});var z=R(10677),v=R(10690),B=R(10684);let F,S;const A=new WeakMap,y=new WeakMap,E=new WeakMap,t=new WeakMap,x=new WeakMap;let e={get(N,q,R){if(N instanceof IDBTransaction){if("done"===q)return y.get(N);if("objectStoreNames"===q)return N.objectStoreNames||E.get(N);if("store"===q)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return D(N[q])},set:(N,q,R)=>(N[q]=R,!0),has:(N,q)=>N instanceof IDBTransaction&&("done"===q||"store"===q)||q in N};function b(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(N)?function(){for(var q=arguments.length,R=new Array(q),z=0;z<q;z++)R[z]=arguments[z];return N.apply(V(this),R),D(A.get(this))}:function(){for(var q=arguments.length,R=new Array(q),z=0;z<q;z++)R[z]=arguments[z];return D(N.apply(V(this),R))}:function(q){for(var R=arguments.length,z=new Array(R>1?R-1:0),v=1;v<R;v++)z[v-1]=arguments[v];const B=N.call(V(this),q,...z);return E.set(B,q.sort?q.sort():[q]),D(B)}}function f(N){return"function"===typeof N?b(N):(N instanceof IDBTransaction&&function(N){if(y.has(N))return;const q=new Promise(((q,R)=>{const z=()=>{N.removeEventListener("complete",v),N.removeEventListener("error",B),N.removeEventListener("abort",B)},v=()=>{q(),z()},B=()=>{R(N.error||new DOMException("AbortError","AbortError")),z()};N.addEventListener("complete",v),N.addEventListener("error",B),N.addEventListener("abort",B)}));y.set(N,q)}(N),q=N,(F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((N=>q instanceof N))?new Proxy(N,e):N);var q}function D(N){if(N instanceof IDBRequest)return function(N){const q=new Promise(((q,R)=>{const z=()=>{N.removeEventListener("success",v),N.removeEventListener("error",B)},v=()=>{q(D(N.result)),z()},B=()=>{R(N.error),z()};N.addEventListener("success",v),N.addEventListener("error",B)}));return q.then((q=>{q instanceof IDBCursor&&A.set(q,N)})).catch((()=>{})),x.set(q,N),q}(N);if(t.has(N))return t.get(N);const q=f(N);return q!==N&&(t.set(N,q),x.set(q,N)),q}const V=N=>x.get(N);const H=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],T=new Map;function L(N,q){if(!(N instanceof IDBDatabase)||q in N||"string"!==typeof q)return;if(T.get(q))return T.get(q);const R=q.replace(/FromIndex$/,""),z=q!==R,v=Y.includes(R);if(!(R in(z?IDBIndex:IDBObjectStore).prototype)||!v&&!H.includes(R))return;const B=async function(N){const q=this.transaction(N,v?"readwrite":"readonly");let B=q.store;for(var F=arguments.length,S=new Array(F>1?F-1:0),A=1;A<F;A++)S[A-1]=arguments[A];return z&&(B=B.index(S.shift())),(await Promise.all([B[R](...S),v&&q.done]))[0]};return T.set(q,B),B}e=(N=>({...N,get:(q,R,z)=>L(q,R)||N.get(q,R,z),has:(q,R)=>!!L(q,R)||N.has(q,R)}))(e);class X{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map((N=>{if(function(N){const q=N.getComponent();return"VERSION"===(null===q||void 0===q?void 0:q.type)}(N)){const q=N.getImmediate();return`${q.library}/${q.version}`}return null})).filter((N=>N)).join(" ")}}const Q="@firebase/app",h="0.9.13",u=new v.f("@firebase/app"),w="@firebase/app-compat",c="@firebase/analytics-compat",n="@firebase/analytics",G="@firebase/app-check-compat",s="@firebase/app-check",Z="@firebase/auth",J="@firebase/auth-compat",M="@firebase/database",m="@firebase/database-compat",g="@firebase/functions",j="@firebase/functions-compat",l="@firebase/installations",I="@firebase/installations-compat",U="@firebase/messaging",O="@firebase/messaging-compat",i="@firebase/performance",P="@firebase/performance-compat",k="@firebase/remote-config",o="@firebase/remote-config-compat",C="@firebase/storage",K="@firebase/storage-compat",r="@firebase/firestore",a="@firebase/firestore-compat",d="firebase",p="[DEFAULT]",W={[Q]:"fire-core",[w]:"fire-core-compat",[n]:"fire-analytics",[c]:"fire-analytics-compat",[s]:"fire-app-check",[G]:"fire-app-check-compat",[Z]:"fire-auth",[J]:"fire-auth-compat",[M]:"fire-rtdb",[m]:"fire-rtdb-compat",[g]:"fire-fn",[j]:"fire-fn-compat",[l]:"fire-iid",[I]:"fire-iid-compat",[U]:"fire-fcm",[O]:"fire-fcm-compat",[i]:"fire-perf",[P]:"fire-perf-compat",[k]:"fire-rc",[o]:"fire-rc-compat",[C]:"fire-gcs",[K]:"fire-gcs-compat",[r]:"fire-fst",[a]:"fire-fst-compat","fire-js":"fire-js",[d]:"fire-js-all"},NN=new Map,qN=new Map;function RN(N,q){try{N.container.rf(q)}catch(R){u.debug(`Component ${q.name} failed to register with FirebaseApp ${N.name}`,R)}}function zN(N,q){N.container.addOrOverwriteComponent(q)}function vN(N){const q=N.name;if(qN.has(q))return u.debug(`There were multiple attempts to register component ${q}.`),!1;qN.set(q,N);for(const R of NN.values())RN(R,N);return!0}function BN(N,q){const R=N.container.getProvider("heartbeat").getImmediate({optional:!0});return R&&R.triggerHeartbeat(),N.container.getProvider(q)}function FN(N,q){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;BN(N,q).clearInstance(R)}function SN(){qN.clear()}const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yN=new B.f("app","Firebase",AN);class EN{constructor(N,q,R){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=R,this.container.rf(new z.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw yN.create("app-deleted",{appName:this._name})}}const tN="9.23.0";function xN(N){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=N;if("object"!==typeof q){q={name:q}}const v=Object.assign({name:p,automaticDataCollectionEnabled:!1},q),F=v.name;if("string"!==typeof F||!F)throw yN.create("bad-app-name",{appName:String(F)});if(R||(R=(0,B.D)()),!R)throw yN.create("no-options");const S=NN.get(F);if(S){if((0,B.x)(R,S.options)&&(0,B.x)(v,S.config))return S;throw yN.create("duplicate-app",{appName:F})}const A=new z.e(F);for(const z of qN.values())A.rf(z);const y=new EN(R,v,A);return NN.set(F,y),y}function eN(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const q=NN.get(N);if(!q&&N===p&&(0,B.D)())return xN();if(!q)throw yN.create("no-app",{appName:N});return q}function bN(){return Array.from(NN.values())}async function fN(N){const q=N.name;NN.has(q)&&(NN.delete(q),await Promise.all(N.container.getProviders().map((N=>N.delete()))),N.isDeleted=!0)}function DN(N,q,R){var v;let B=null!==(v=W[N])&&void 0!==v?v:N;R&&(B+=`-${R}`);const F=B.match(/\s|\//),S=q.match(/\s|\//);if(F||S){const N=[`Unable to register library "${B}" with version "${q}":`];return F&&N.push(`library name "${B}" contains illegal characters (whitespace or "/")`),F&&S&&N.push("and"),S&&N.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void u.warn(N.join(" "))}vN(new z.f(`${B}-version`,(()=>({library:B,version:q})),"VERSION"))}function VN(N,q){if(null!==N&&"function"!==typeof N)throw yN.create("invalid-log-argument");(0,v.n)(N,q)}function HN(N){(0,v.j)(N)}const YN="firebase-heartbeat-store";let TN=null;function LN(){return TN||(TN=function(N,q){let{blocked:R,upgrade:z,blocking:v,terminated:B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const F=indexedDB.open(N,q),S=D(F);return z&&F.addEventListener("upgradeneeded",(N=>{z(D(F.result),N.oldVersion,N.newVersion,D(F.transaction),N)})),R&&F.addEventListener("blocked",(N=>R(N.oldVersion,N.newVersion,N))),S.then((N=>{B&&N.addEventListener("close",(()=>B())),v&&N.addEventListener("versionchange",(N=>v(N.oldVersion,N.newVersion,N)))})).catch((()=>{})),S}("firebase-heartbeat-database",1,{upgrade:(N,q)=>{if(0===q)N.createObjectStore(YN)}}).catch((N=>{throw yN.create("idb-open",{originalErrorMessage:N.message})}))),TN}async function XN(N,q){try{const R=(await LN()).transaction(YN,"readwrite"),z=R.objectStore(YN);await z.put(q,QN(N)),await R.done}catch(R){if(R instanceof B.h)u.warn(R.message);else{const N=yN.create("idb-set",{originalErrorMessage:null===R||void 0===R?void 0:R.message});u.warn(N.message)}}}function QN(N){return`${N.name}!${N.options.appId}`}class hN{constructor(N){this.container=N,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this.Ci=new wN(q),this._heartbeatsCachePromise=this.Ci.read().then((N=>(this._heartbeatsCache=N,N)))}async triggerHeartbeat(){const N=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=uN();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==q&&!this._heartbeatsCache.heartbeats.some((N=>N.date===q)))return this._heartbeatsCache.heartbeats.push({date:q,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((N=>{const q=new Date(N.date).valueOf();return Date.now()-q<=2592e6})),this.Ci.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const N=uN(),{heartbeatsToSend:q,unsentEntries:R}=function(N){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const R=[];let z=N.slice();for(const v of N){const N=R.find((N=>N.agent===v.agent));if(N){if(N.dates.push(v.date),cN(R)>q){N.dates.pop();break}}else if(R.push({agent:v.agent,dates:[v.date]}),cN(R)>q){R.pop();break}z=z.slice(1)}return{heartbeatsToSend:R,unsentEntries:z}}(this._heartbeatsCache.heartbeats),z=(0,B.n)(JSON.stringify({version:2,heartbeats:q}));return this._heartbeatsCache.lastSentHeartbeatDate=N,R.length>0?(this._heartbeatsCache.heartbeats=R,await this.Ci.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ci.overwrite(this._heartbeatsCache)),z}}function uN(){return(new Date).toISOString().substring(0,10)}class wN{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,B._)()&&(0,B.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(N){try{const q=await LN();return await q.transaction(YN).objectStore(YN).get(QN(N))}catch(q){if(q instanceof B.h)u.warn(q.message);else{const N=yN.create("idb-get",{originalErrorMessage:null===q||void 0===q?void 0:q.message});u.warn(N.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(N){var q;if(await this._canUseIndexedDBPromise){const R=await this.read();return XN(this.app,{lastSentHeartbeatDate:null!==(q=N.lastSentHeartbeatDate)&&void 0!==q?q:R.lastSentHeartbeatDate,heartbeats:N.heartbeats})}}async add(N){var q;if(await this._canUseIndexedDBPromise){const R=await this.read();return XN(this.app,{lastSentHeartbeatDate:null!==(q=N.lastSentHeartbeatDate)&&void 0!==q?q:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...N.heartbeats]})}}}function cN(N){return(0,B.n)(JSON.stringify({version:2,heartbeats:N})).length}var nN;nN="",vN(new z.f("platform-logger",(N=>new X(N)),"PRIVATE")),vN(new z.f("heartbeat",(N=>new hN(N)),"PRIVATE")),DN(Q,h,nN),DN(Q,h,"esm2017"),DN("fire-js","")},10677:(N,q,R)=>{R.d(q,{e:()=>S,f:()=>v});var z=R(10684);class v{constructor(N,q,R){this.name=N,this.instanceFactory=q,this.type=R,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const B="[DEFAULT]";class F{constructor(N,q){this.name=N,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const q=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(q)){const N=new z.d;if(this.instancesDeferred.set(q,N),this.isInitialized(q)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:q});R&&N.resolve(R)}catch(R){}}return this.instancesDeferred.get(q).promise}getImmediate(N){var q;const R=this.normalizeInstanceIdentifier(null===N||void 0===N?void 0:N.identifier),z=null!==(q=null===N||void 0===N?void 0:N.optional)&&void 0!==q&&q;if(!this.isInitialized(R)&&!this.shouldAutoInitialize()){if(z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:R})}catch(v){if(z)return null;throw v}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function(N){return"EAGER"===N.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:B})}catch(q){}for(const[N,R]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(N);try{const N=this.getOrInitializeService({instanceIdentifier:z});R.resolve(N)}catch(q){}}}}clearInstance(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}async delete(){const N=Array.from(this.instances.values());await Promise.all([...N.filter((N=>"INTERNAL"in N)).map((N=>N.INTERNAL.delete())),...N.filter((N=>"_delete"in N)).map((N=>N._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(N)}getOptions(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(N)||{}}initialize(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:q={}}=N,R=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(R))throw Error(`${this.name}(${R}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:R,options:q});for(const[v,B]of this.instancesDeferred.entries()){R===this.normalizeInstanceIdentifier(v)&&B.resolve(z)}return z}gi(N,q){var R;const z=this.normalizeInstanceIdentifier(q),v=null!==(R=this.onInitCallbacks.get(z))&&void 0!==R?R:new Set;v.add(N),this.onInitCallbacks.set(z,v);const B=this.instances.get(z);return B&&N(B,z),()=>{v.delete(N)}}invokeOnInitCallbacks(N,q){const R=this.onInitCallbacks.get(q);if(R)for(const v of R)try{v(N,q)}catch(z){}}getOrInitializeService(N){let{instanceIdentifier:q,options:R={}}=N,z=this.instances.get(q);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(v=q,v===B?void 0:v),options:R}),this.instances.set(q,z),this.instancesOptions.set(q,R),this.invokeOnInitCallbacks(z,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,z)}catch(F){}var v;return z||null}normalizeInstanceIdentifier(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?N:B:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S{constructor(N){this.name=N,this.providers=new Map}rf(N){const q=this.getProvider(N.name);if(q.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);q.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.rf(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const q=new F(N,this);return this.providers.set(N,q),q}getProviders(){return Array.from(this.providers.values())}}},10690:(N,q,R)=>{R.d(q,{b:()=>v,f:()=>y,j:()=>E,n:()=>t});const z=[];var v;!function(N){N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT"}(v||(v={}));const B={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},F=v.INFO,S={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},A=function(N,q){if(q<N.logLevel)return;const R=(new Date).toISOString(),z=S[q];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);for(var v=arguments.length,B=new Array(v>2?v-2:0),F=2;F<v;F++)B[F-2]=arguments[F];console[z](`[${R}]  ${N.name}:`,...B)};class y{constructor(N){this.name=N,this._logLevel=F,this._logHandler=A,this._userLogHandler=null,z.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in v))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"===typeof N?B[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!==typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(){for(var N=arguments.length,q=new Array(N),R=0;R<N;R++)q[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...q),this._logHandler(this,v.DEBUG,...q)}log(){for(var N=arguments.length,q=new Array(N),R=0;R<N;R++)q[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...q),this._logHandler(this,v.VERBOSE,...q)}info(){for(var N=arguments.length,q=new Array(N),R=0;R<N;R++)q[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,v.INFO,...q),this._logHandler(this,v.INFO,...q)}warn(){for(var N=arguments.length,q=new Array(N),R=0;R<N;R++)q[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,v.WARN,...q),this._logHandler(this,v.WARN,...q)}error(){for(var N=arguments.length,q=new Array(N),R=0;R<N;R++)q[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,v.ERROR,...q),this._logHandler(this,v.ERROR,...q)}}function E(N){z.forEach((q=>{q.setLogLevel(N)}))}function t(N,q){for(const R of z){let z=null;q&&q.level&&(z=B[q.level]),R.userLogHandler=null===N?null:function(q,R){for(var B=arguments.length,F=new Array(B>2?B-2:0),S=2;S<B;S++)F[S-2]=arguments[S];const A=F.map((N=>{if(null==N)return null;if("string"===typeof N)return N;if("number"===typeof N||"boolean"===typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch(q){return null}})).filter((N=>N)).join(" ");R>=(null!==z&&void 0!==z?z:q.logLevel)&&N({level:v[R].toLowerCase(),message:A,args:F,type:q.name})}}}}}]);