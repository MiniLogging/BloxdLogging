/*! For license information please see 68injn.5.e720f0ba.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10712:(Z,J,E)=>{E.d(J,{A:()=>R,D:()=>A,F:()=>h,J:()=>o,N:()=>v,R:()=>l,V:()=>p,Z:()=>T,ab:()=>W,b:()=>L,cb:()=>X,e:()=>e,eb:()=>K,gb:()=>V,i:()=>N,k:()=>B,kb:()=>f,mb:()=>n,o:()=>d,p:()=>C,q:()=>y,s:()=>U,v:()=>s,y:()=>t});const O=function(Z){const J=[];let E=0;for(let O=0;O<Z.length;O++){let i=Z.charCodeAt(O);i<128?J[E++]=i:i<2048?(J[E++]=i>>6|192,J[E++]=63&i|128):55296===(64512&i)&&O+1<Z.length&&56320===(64512&Z.charCodeAt(O+1))?(i=65536+((1023&i)<<10)+(1023&Z.charCodeAt(++O)),J[E++]=i>>18|240,J[E++]=i>>12&63|128,J[E++]=i>>6&63|128,J[E++]=63&i|128):(J[E++]=i>>12|224,J[E++]=i>>6&63|128,J[E++]=63&i|128)}return J},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Z,J){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let i=0;i<Z.length;i+=3){const J=Z[i],Y=i+1<Z.length,C=Y?Z[i+1]:0,d=i+2<Z.length,z=d?Z[i+2]:0,g=J>>2,A=(3&J)<<4|C>>4;let R=(15&C)<<2|z>>6,h=63&z;d||(h=64,Y||(R=64)),O.push(E[g],E[A],E[R],E[h])}return O.join("")},encodeString(Z,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(Z):this.encodeByteArray(O(Z),J)},decodeString(Z,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(Z):function(Z){const J=[];let E=0,O=0;for(;E<Z.length;){const i=Z[E++];if(i<128)J[O++]=String.fromCharCode(i);else if(i>191&&i<224){const Y=Z[E++];J[O++]=String.fromCharCode((31&i)<<6|63&Y)}else if(i>239&&i<365){const Y=((7&i)<<18|(63&Z[E++])<<12|(63&Z[E++])<<6|63&Z[E++])-65536;J[O++]=String.fromCharCode(55296+(Y>>10)),J[O++]=String.fromCharCode(56320+(1023&Y))}else{const Y=Z[E++],C=Z[E++];J[O++]=String.fromCharCode((15&i)<<12|(63&Y)<<6|63&C)}}return J.join("")}(this.decodeStringToByteArray(Z,J))},decodeStringToByteArray(Z,J){this.init_();const E=J?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let i=0;i<Z.length;){const J=E[Z.charAt(i++)],C=i<Z.length?E[Z.charAt(i)]:0;++i;const d=i<Z.length?E[Z.charAt(i)]:64;++i;const z=i<Z.length?E[Z.charAt(i)]:64;if(++i,null==J||null==C||null==d||null==z)throw new Y;const g=J<<2|C>>4;if(O.push(g),64!==d){const Z=C<<4&240|d>>2;if(O.push(Z),64!==z){const Z=d<<6&192|z;O.push(Z)}}}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class Y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C=function(Z){return function(Z){const J=O(Z);return i.encodeByteArray(J,!0)}(Z).replace(/\./g,"")},d=function(Z){try{return i.decodeString(Z,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};const z=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof E.g)return E.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return z()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(E){return}const J=Z&&d(Z[1]);return J&&JSON.parse(J)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},A=Z=>{var J,E;return null===(E=null===(J=g())||void 0===J?void 0:J.emulatorHosts)||void 0===E?void 0:E[Z]},R=()=>{var Z;return null===(Z=g())||void 0===Z?void 0:Z.config},h=Z=>{var J;return null===(J=g())||void 0===J?void 0:J[`_${Z}`]};class L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Z,J)=>{this.resolve=Z,this.reject=J}))}wrapCallback(Z){return(J,E)=>{J?this.reject(J):this.resolve(E),"function"===typeof Z&&(this.promise.catch((()=>{})),1===Z.length?Z(J):Z(J,E))}}}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function X(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function l(){const Z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Z&&void 0!==Z.id}function K(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const Z=v();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(Z){return!1}}function n(){return new Promise(((Z,J)=>{try{let E=!0;const O="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(O);i.onsuccess=()=>{i.result.close(),E||self.indexedDB.deleteDatabase(O),Z(!0)},i.onupgradeneeded=()=>{E=!1},i.onerror=()=>{var Z;J((null===(Z=i.error)||void 0===Z?void 0:Z.message)||"")}}catch(E){J(E)}}))}function B(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class N extends Error{constructor(Z,J,E){super(J),this.code=Z,this.customData=E,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e.prototype.create)}}class e{constructor(Z,J,E){this.service=Z,this.serviceName=J,this.errors=E}create(Z){const J=(arguments.length<=1?void 0:arguments[1])||{},E=`${this.service}/${Z}`,O=this.errors[Z],i=O?function(Z,J){return Z.replace(D,((Z,E)=>{const O=J[E];return null!=O?String(O):`<${E}?>`}))}(O,J):"Error",Y=`${this.serviceName}: ${i} (${E}).`;return new N(E,Y,J)}}const D=/\{\$([^}]+)}/g;function p(Z){for(const J in Z)if(Object.prototype.hasOwnProperty.call(Z,J))return!1;return!0}function s(Z,J){if(Z===J)return!0;const E=Object.keys(Z),O=Object.keys(J);for(const i of E){if(!O.includes(i))return!1;const E=Z[i],Y=J[i];if(m(E)&&m(Y)){if(!s(E,Y))return!1}else if(E!==Y)return!1}for(const i of O)if(!E.includes(i))return!1;return!0}function m(Z){return null!==Z&&"object"===typeof Z}function f(Z){const J=[];for(const[E,O]of Object.entries(Z))Array.isArray(O)?O.forEach((Z=>{J.push(encodeURIComponent(E)+"="+encodeURIComponent(Z))})):J.push(encodeURIComponent(E)+"="+encodeURIComponent(O));return J.length?"&"+J.join("&"):""}function V(Z){const J={};return Z.replace(/^\?/,"").split("&").forEach((Z=>{if(Z){const[E,O]=Z.split("=");J[decodeURIComponent(E)]=decodeURIComponent(O)}})),J}function t(Z){const J=Z.indexOf("?");if(!J)return"";const E=Z.indexOf("#",J);return Z.substring(J,E>0?E:void 0)}function U(Z,J){const E=new S(Z,J);return E.subscribe.bind(E)}class S{constructor(Z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then((()=>{Z(this)})).catch((Z=>{this.error(Z)}))}next(Z){this.forEachObserver((J=>{J.next(Z)}))}error(Z){this.forEachObserver((J=>{J.error(Z)})),this.close(Z)}complete(){this.forEachObserver((Z=>{Z.complete()})),this.close()}subscribe(Z,J,E){let O;if(void 0===Z&&void 0===J&&void 0===E)throw new Error("Missing Observer.");O=function(Z,J){if("object"!==typeof Z||null===Z)return!1;for(const E of J)if(E in Z&&"function"===typeof Z[E])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:J,complete:E},void 0===O.next&&(O.next=a),void 0===O.error&&(O.error=a),void 0===O.complete&&(O.complete=a);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch(Z){}})),this.observers.push(O),i}unsubscribeOne(Z){void 0!==this.observers&&void 0!==this.observers[Z]&&(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,Z)}sendOne(Z,J){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{J(this.observers[Z])}catch(E){"undefined"!==typeof console&&console.error&&console.error(E)}}))}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function a(){}const c=1e3,r=2,P=144e5,k=.5;function y(Z){let J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const E=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)*Math.pow(J,Z),O=Math.round(k*E*(Math.random()-.5)*2);return Math.min(P,E+O)}function o(Z){return Z&&Z._delegate?Z._delegate:Z}},10703:(Z,J,E)=>{E.d(J,{e:()=>Y.i,f:()=>RZ,i:()=>x,k:()=>EZ,l:()=>OZ,m:()=>ZZ,p:()=>dZ,t:()=>JZ,v:()=>YZ,z:()=>iZ,A:()=>CZ,D:()=>XZ,J:()=>LZ,H:()=>vZ,N:()=>hZ,O:()=>KZ,P:()=>lZ,S:()=>TZ});var O=E(10707),i=E(10714),Y=E(10712);let C,d;const z=new WeakMap,g=new WeakMap,A=new WeakMap,R=new WeakMap,h=new WeakMap;let L={get(Z,J,E){if(Z instanceof IDBTransaction){if("done"===J)return g.get(Z);if("objectStoreNames"===J)return Z.objectStoreNames||A.get(Z);if("store"===J)return E.objectStoreNames[1]?void 0:E.objectStore(E.objectStoreNames[0])}return l(Z[J])},set:(Z,J,E)=>(Z[J]=E,!0),has:(Z,J)=>Z instanceof IDBTransaction&&("done"===J||"store"===J)||J in Z};function v(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Z)?function(){for(var J=arguments.length,E=new Array(J),O=0;O<J;O++)E[O]=arguments[O];return Z.apply(K(this),E),l(z.get(this))}:function(){for(var J=arguments.length,E=new Array(J),O=0;O<J;O++)E[O]=arguments[O];return l(Z.apply(K(this),E))}:function(J){for(var E=arguments.length,O=new Array(E>1?E-1:0),i=1;i<E;i++)O[i-1]=arguments[i];const Y=Z.call(K(this),J,...O);return A.set(Y,J.sort?J.sort():[J]),l(Y)}}function X(Z){return"function"===typeof Z?v(Z):(Z instanceof IDBTransaction&&function(Z){if(g.has(Z))return;const J=new Promise(((J,E)=>{const O=()=>{Z.removeEventListener("complete",i),Z.removeEventListener("error",Y),Z.removeEventListener("abort",Y)},i=()=>{J(),O()},Y=()=>{E(Z.error||new DOMException("AbortError","AbortError")),O()};Z.addEventListener("complete",i),Z.addEventListener("error",Y),Z.addEventListener("abort",Y)}));g.set(Z,J)}(Z),J=Z,(C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Z=>J instanceof Z))?new Proxy(Z,L):Z);var J}function l(Z){if(Z instanceof IDBRequest)return function(Z){const J=new Promise(((J,E)=>{const O=()=>{Z.removeEventListener("success",i),Z.removeEventListener("error",Y)},i=()=>{J(l(Z.result)),O()},Y=()=>{E(Z.error),O()};Z.addEventListener("success",i),Z.addEventListener("error",Y)}));return J.then((J=>{J instanceof IDBCursor&&z.set(J,Z)})).catch((()=>{})),h.set(J,Z),J}(Z);if(R.has(Z))return R.get(Z);const J=X(Z);return J!==Z&&(R.set(Z,J),h.set(J,Z)),J}const K=Z=>h.get(Z);const T=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],n=new Map;function B(Z,J){if(!(Z instanceof IDBDatabase)||J in Z||"string"!==typeof J)return;if(n.get(J))return n.get(J);const E=J.replace(/FromIndex$/,""),O=J!==E,i=W.includes(E);if(!(E in(O?IDBIndex:IDBObjectStore).prototype)||!i&&!T.includes(E))return;const Y=async function(Z){const J=this.transaction(Z,i?"readwrite":"readonly");let Y=J.store;for(var C=arguments.length,d=new Array(C>1?C-1:0),z=1;z<C;z++)d[z-1]=arguments[z];return O&&(Y=Y.index(d.shift())),(await Promise.all([Y[E](...d),i&&J.done]))[0]};return n.set(J,Y),Y}L=(Z=>({...Z,get:(J,E,O)=>B(J,E)||Z.get(J,E,O),has:(J,E)=>!!B(J,E)||Z.has(J,E)}))(L);class N{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Z=>{if(function(Z){const J=Z.getComponent();return"VERSION"===(null===J||void 0===J?void 0:J.type)}(Z)){const J=Z.getImmediate();return`${J.library}/${J.version}`}return null})).filter((Z=>Z)).join(" ")}}const e="@firebase/app",D="0.9.13",p=new i.e("@firebase/app"),s="@firebase/app-compat",m="@firebase/analytics-compat",f="@firebase/analytics",V="@firebase/app-check-compat",t="@firebase/app-check",U="@firebase/auth",S="@firebase/auth-compat",a="@firebase/database",c="@firebase/database-compat",r="@firebase/functions",P="@firebase/functions-compat",k="@firebase/installations",y="@firebase/installations-compat",o="@firebase/messaging",j="@firebase/messaging-compat",w="@firebase/performance",M="@firebase/performance-compat",H="@firebase/remote-config",F="@firebase/remote-config-compat",Q="@firebase/storage",q="@firebase/storage-compat",I="@firebase/firestore",G="@firebase/firestore-compat",u="firebase",x="[DEFAULT]",b={[e]:"fire-core",[s]:"fire-core-compat",[f]:"fire-analytics",[m]:"fire-analytics-compat",[t]:"fire-app-check",[V]:"fire-app-check-compat",[U]:"fire-auth",[S]:"fire-auth-compat",[a]:"fire-rtdb",[c]:"fire-rtdb-compat",[r]:"fire-fn",[P]:"fire-fn-compat",[k]:"fire-iid",[y]:"fire-iid-compat",[o]:"fire-fcm",[j]:"fire-fcm-compat",[w]:"fire-perf",[M]:"fire-perf-compat",[H]:"fire-rc",[F]:"fire-rc-compat",[Q]:"fire-gcs",[q]:"fire-gcs-compat",[I]:"fire-fst",[G]:"fire-fst-compat","fire-js":"fire-js",[u]:"fire-js-all"},ZZ=new Map,JZ=new Map;function EZ(Z,J){try{Z.container.Te(J)}catch(E){p.debug(`Component ${J.name} failed to register with FirebaseApp ${Z.name}`,E)}}function OZ(Z,J){Z.container.addOrOverwriteComponent(J)}function iZ(Z){const J=Z.name;if(JZ.has(J))return p.debug(`There were multiple attempts to register component ${J}.`),!1;JZ.set(J,Z);for(const E of ZZ.values())EZ(E,Z);return!0}function YZ(Z,J){const E=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return E&&E.triggerHeartbeat(),Z.container.getProvider(J)}function CZ(Z,J){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;YZ(Z,J).clearInstance(E)}function dZ(){JZ.clear()}const zZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gZ=new Y.e("app","Firebase",zZ);class AZ{constructor(Z,J,E){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=E,this.container.Te(new O.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw gZ.create("app-deleted",{appName:this._name})}}const RZ="9.23.0";function hZ(Z){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=Z;if("object"!==typeof J){J={name:J}}const i=Object.assign({name:x,automaticDataCollectionEnabled:!1},J),C=i.name;if("string"!==typeof C||!C)throw gZ.create("bad-app-name",{appName:String(C)});if(E||(E=(0,Y.A)()),!E)throw gZ.create("no-options");const d=ZZ.get(C);if(d){if((0,Y.v)(E,d.options)&&(0,Y.v)(i,d.config))return d;throw gZ.create("duplicate-app",{appName:C})}const z=new O.c(C);for(const O of JZ.values())z.Te(O);const g=new AZ(E,i,z);return ZZ.set(C,g),g}function LZ(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;const J=ZZ.get(Z);if(!J&&Z===x&&(0,Y.A)())return hZ();if(!J)throw gZ.create("no-app",{appName:Z});return J}function vZ(){return Array.from(ZZ.values())}async function XZ(Z){const J=Z.name;ZZ.has(J)&&(ZZ.delete(J),await Promise.all(Z.container.getProviders().map((Z=>Z.delete()))),Z.isDeleted=!0)}function lZ(Z,J,E){var i;let Y=null!==(i=b[Z])&&void 0!==i?i:Z;E&&(Y+=`-${E}`);const C=Y.match(/\s|\//),d=J.match(/\s|\//);if(C||d){const Z=[`Unable to register library "${Y}" with version "${J}":`];return C&&Z.push(`library name "${Y}" contains illegal characters (whitespace or "/")`),C&&d&&Z.push("and"),d&&Z.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void p.warn(Z.join(" "))}iZ(new O.e(`${Y}-version`,(()=>({library:Y,version:J})),"VERSION"))}function KZ(Z,J){if(null!==Z&&"function"!==typeof Z)throw gZ.create("invalid-log-argument");(0,i.m)(Z,J)}function TZ(Z){(0,i.i)(Z)}const WZ="firebase-heartbeat-store";let nZ=null;function BZ(){return nZ||(nZ=function(Z,J){let{blocked:E,upgrade:O,blocking:i,terminated:Y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const C=indexedDB.open(Z,J),d=l(C);return O&&C.addEventListener("upgradeneeded",(Z=>{O(l(C.result),Z.oldVersion,Z.newVersion,l(C.transaction),Z)})),E&&C.addEventListener("blocked",(Z=>E(Z.oldVersion,Z.newVersion,Z))),d.then((Z=>{Y&&Z.addEventListener("close",(()=>Y())),i&&Z.addEventListener("versionchange",(Z=>i(Z.oldVersion,Z.newVersion,Z)))})).catch((()=>{})),d}("firebase-heartbeat-database",1,{upgrade:(Z,J)=>{if(0===J)Z.createObjectStore(WZ)}}).catch((Z=>{throw gZ.create("idb-open",{originalErrorMessage:Z.message})}))),nZ}async function NZ(Z,J){try{const E=(await BZ()).transaction(WZ,"readwrite"),O=E.objectStore(WZ);await O.put(J,eZ(Z)),await E.done}catch(E){if(E instanceof Y.i)p.warn(E.message);else{const Z=gZ.create("idb-set",{originalErrorMessage:null===E||void 0===E?void 0:E.message});p.warn(Z.message)}}}function eZ(Z){return`${Z.name}!${Z.options.appId}`}class DZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this.ui=new sZ(J),this._heartbeatsCachePromise=this.ui.read().then((Z=>(this._heartbeatsCache=Z,Z)))}async triggerHeartbeat(){const Z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),J=pZ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==J&&!this._heartbeatsCache.heartbeats.some((Z=>Z.date===J)))return this._heartbeatsCache.heartbeats.push({date:J,agent:Z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Z=>{const J=new Date(Z.date).valueOf();return Date.now()-J<=2592e6})),this.ui.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Z=pZ(),{heartbeatsToSend:J,unsentEntries:E}=function(Z){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const E=[];let O=Z.slice();for(const i of Z){const Z=E.find((Z=>Z.agent===i.agent));if(Z){if(Z.dates.push(i.date),mZ(E)>J){Z.dates.pop();break}}else if(E.push({agent:i.agent,dates:[i.date]}),mZ(E)>J){E.pop();break}O=O.slice(1)}return{heartbeatsToSend:E,unsentEntries:O}}(this._heartbeatsCache.heartbeats),O=(0,Y.p)(JSON.stringify({version:2,heartbeats:J}));return this._heartbeatsCache.lastSentHeartbeatDate=Z,E.length>0?(this._heartbeatsCache.heartbeats=E,await this.ui.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ui.overwrite(this._heartbeatsCache)),O}}function pZ(){return(new Date).toISOString().substring(0,10)}class sZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Y.ab)()&&(0,Y.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Z){try{const J=await BZ();return await J.transaction(WZ).objectStore(WZ).get(eZ(Z))}catch(J){if(J instanceof Y.i)p.warn(J.message);else{const Z=gZ.create("idb-get",{originalErrorMessage:null===J||void 0===J?void 0:J.message});p.warn(Z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Z){var J;if(await this._canUseIndexedDBPromise){const E=await this.read();return NZ(this.app,{lastSentHeartbeatDate:null!==(J=Z.lastSentHeartbeatDate)&&void 0!==J?J:E.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var J;if(await this._canUseIndexedDBPromise){const E=await this.read();return NZ(this.app,{lastSentHeartbeatDate:null!==(J=Z.lastSentHeartbeatDate)&&void 0!==J?J:E.lastSentHeartbeatDate,heartbeats:[...E.heartbeats,...Z.heartbeats]})}}}function mZ(Z){return(0,Y.p)(JSON.stringify({version:2,heartbeats:Z})).length}var fZ;fZ="",iZ(new O.e("platform-logger",(Z=>new N(Z)),"PRIVATE")),iZ(new O.e("heartbeat",(Z=>new DZ(Z)),"PRIVATE")),lZ(e,D,fZ),lZ(e,D,"esm2017"),lZ("fire-js","")},10707:(Z,J,E)=>{E.d(J,{c:()=>d,e:()=>i});var O=E(10712);class i{constructor(Z,J,E){this.name=Z,this.instanceFactory=J,this.type=E,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const Y="[DEFAULT]";class C{constructor(Z,J){this.name=Z,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const J=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(J)){const Z=new O.b;if(this.instancesDeferred.set(J,Z),this.isInitialized(J)||this.shouldAutoInitialize())try{const E=this.getOrInitializeService({instanceIdentifier:J});E&&Z.resolve(E)}catch(E){}}return this.instancesDeferred.get(J).promise}getImmediate(Z){var J;const E=this.normalizeInstanceIdentifier(null===Z||void 0===Z?void 0:Z.identifier),O=null!==(J=null===Z||void 0===Z?void 0:Z.optional)&&void 0!==J&&J;if(!this.isInitialized(E)&&!this.shouldAutoInitialize()){if(O)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:E})}catch(i){if(O)return null;throw i}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:Y})}catch(J){}for(const[Z,E]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(Z);try{const Z=this.getOrInitializeService({instanceIdentifier:O});E.resolve(Z)}catch(J){}}}}clearInstance(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){const Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Z=>"INTERNAL"in Z)).map((Z=>Z.INTERNAL.delete())),...Z.filter((Z=>"_delete"in Z)).map((Z=>Z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.instances.has(Z)}getOptions(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.instancesOptions.get(Z)||{}}initialize(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:J={}}=Z,E=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(E))throw Error(`${this.name}(${E}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const O=this.getOrInitializeService({instanceIdentifier:E,options:J});for(const[i,Y]of this.instancesDeferred.entries()){E===this.normalizeInstanceIdentifier(i)&&Y.resolve(O)}return O}_h(Z,J){var E;const O=this.normalizeInstanceIdentifier(J),i=null!==(E=this.onInitCallbacks.get(O))&&void 0!==E?E:new Set;i.add(Z),this.onInitCallbacks.set(O,i);const Y=this.instances.get(O);return Y&&Z(Y,O),()=>{i.delete(Z)}}invokeOnInitCallbacks(Z,J){const E=this.onInitCallbacks.get(J);if(E)for(const i of E)try{i(Z,J)}catch(O){}}getOrInitializeService(Z){let{instanceIdentifier:J,options:E={}}=Z,O=this.instances.get(J);if(!O&&this.component&&(O=this.component.instanceFactory(this.container,{instanceIdentifier:(i=J,i===Y?void 0:i),options:E}),this.instances.set(J,O),this.instancesOptions.set(J,E),this.invokeOnInitCallbacks(O,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,O)}catch(C){}var i;return O||null}normalizeInstanceIdentifier(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.component?this.component.multipleInstances?Z:Y:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d{constructor(Z){this.name=Z,this.providers=new Map}Te(Z){const J=this.getProvider(Z.name);if(J.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);J.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.Te(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const J=new C(Z,this);return this.providers.set(Z,J),J}getProviders(){return Array.from(this.providers.values())}}},10714:(Z,J,E)=>{E.d(J,{c:()=>i,e:()=>g,i:()=>A,m:()=>R});const O=[];var i;!function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"}(i||(i={}));const Y={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},C=i.INFO,d={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},z=function(Z,J){if(J<Z.logLevel)return;const E=(new Date).toISOString(),O=d[J];if(!O)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);for(var i=arguments.length,Y=new Array(i>2?i-2:0),C=2;C<i;C++)Y[C-2]=arguments[C];console[O](`[${E}]  ${Z.name}:`,...Y)};class g{constructor(Z){this.name=Z,this._logLevel=C,this._logHandler=z,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in i))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"===typeof Z?Y[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!==typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(){for(var Z=arguments.length,J=new Array(Z),E=0;E<Z;E++)J[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...J),this._logHandler(this,i.DEBUG,...J)}log(){for(var Z=arguments.length,J=new Array(Z),E=0;E<Z;E++)J[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...J),this._logHandler(this,i.VERBOSE,...J)}info(){for(var Z=arguments.length,J=new Array(Z),E=0;E<Z;E++)J[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,i.INFO,...J),this._logHandler(this,i.INFO,...J)}warn(){for(var Z=arguments.length,J=new Array(Z),E=0;E<Z;E++)J[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,i.WARN,...J),this._logHandler(this,i.WARN,...J)}error(){for(var Z=arguments.length,J=new Array(Z),E=0;E<Z;E++)J[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...J),this._logHandler(this,i.ERROR,...J)}}function A(Z){O.forEach((J=>{J.setLogLevel(Z)}))}function R(Z,J){for(const E of O){let O=null;J&&J.level&&(O=Y[J.level]),E.userLogHandler=null===Z?null:function(J,E){for(var Y=arguments.length,C=new Array(Y>2?Y-2:0),d=2;d<Y;d++)C[d-2]=arguments[d];const z=C.map((Z=>{if(null==Z)return null;if("string"===typeof Z)return Z;if("number"===typeof Z||"boolean"===typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(J){return null}})).filter((Z=>Z)).join(" ");E>=(null!==O&&void 0!==O?O:J.logLevel)&&Z({level:i[E].toLowerCase(),message:z,args:C,type:J.name})}}}}}]);