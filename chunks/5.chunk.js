/*! For license information please see xuvr8c.5.bbc40167.chunk.js.LICENSE.txt */
"use strict";(self.h66iwo8dvgq=self.h66iwo8dvgq||[]).push([[5],{11666:(b,X,P)=>{P.d(X,{A:()=>O,C:()=>f,D:()=>e,E:()=>g,G:()=>D,K:()=>t,M:()=>A,Q:()=>W,U:()=>n,X:()=>E,Y:()=>B,Z:()=>q,ab:()=>T,d:()=>Y,db:()=>y,f:()=>Z,g:()=>L,i:()=>h,j:()=>a,n:()=>N,q:()=>U,t:()=>i,x:()=>o,y:()=>V});const Q=function(b){const X=[];let P=0;for(let Q=0;Q<b.length;Q++){let S=b.charCodeAt(Q);S<128?X[P++]=S:S<2048?(X[P++]=S>>6|192,X[P++]=63&S|128):55296===(64512&S)&&Q+1<b.length&&56320===(64512&b.charCodeAt(Q+1))?(S=65536+((1023&S)<<10)+(1023&b.charCodeAt(++Q)),X[P++]=S>>18|240,X[P++]=S>>12&63|128,X[P++]=S>>6&63|128,X[P++]=63&S|128):(X[P++]=S>>12|224,X[P++]=S>>6&63|128,X[P++]=63&S|128)}return X},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(b,X){if(!Array.isArray(b))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let S=0;S<b.length;S+=3){const X=b[S],d=S+1<b.length,N=d?b[S+1]:0,a=S+2<b.length,u=a?b[S+2]:0,w=X>>2,f=(3&X)<<4|N>>4;let O=(15&N)<<2|u>>6,e=63&u;a||(e=64,d||(O=64)),Q.push(P[w],P[f],P[O],P[e])}return Q.join("")},encodeString(b,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(b):this.encodeByteArray(Q(b),X)},decodeString(b,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(b):function(b){const X=[];let P=0,Q=0;for(;P<b.length;){const S=b[P++];if(S<128)X[Q++]=String.fromCharCode(S);else if(S>191&&S<224){const d=b[P++];X[Q++]=String.fromCharCode((31&S)<<6|63&d)}else if(S>239&&S<365){const d=((7&S)<<18|(63&b[P++])<<12|(63&b[P++])<<6|63&b[P++])-65536;X[Q++]=String.fromCharCode(55296+(d>>10)),X[Q++]=String.fromCharCode(56320+(1023&d))}else{const d=b[P++],N=b[P++];X[Q++]=String.fromCharCode((15&S)<<12|(63&d)<<6|63&N)}}return X.join("")}(this.decodeStringToByteArray(b,X))},decodeStringToByteArray(b,X){this.init_();const P=X?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let S=0;S<b.length;){const X=P[b.charAt(S++)],N=S<b.length?P[b.charAt(S)]:0;++S;const a=S<b.length?P[b.charAt(S)]:64;++S;const u=S<b.length?P[b.charAt(S)]:64;if(++S,null==X||null==N||null==a||null==u)throw new d;const w=X<<2|N>>4;if(Q.push(w),64!==a){const b=N<<4&240|a>>2;if(Q.push(b),64!==u){const b=a<<6&192|u;Q.push(b)}}}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let b=0;b<this.ENCODED_VALS.length;b++)this.byteToCharMap_[b]=this.ENCODED_VALS.charAt(b),this.charToByteMap_[this.byteToCharMap_[b]]=b,this.byteToCharMapWebSafe_[b]=this.ENCODED_VALS_WEBSAFE.charAt(b),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[b]]=b,b>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(b)]=b,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(b)]=b)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(b){return function(b){const X=Q(b);return S.encodeByteArray(X,!0)}(b).replace(/\./g,"")},a=function(b){try{return S.decodeString(b,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof P.g)return P.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return u()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let b;try{b=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(P){return}const X=b&&a(b[1]);return X&&JSON.parse(X)})()}catch(b){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${b}`)}},f=b=>{var X,P;return null===(P=null===(X=w())||void 0===X?void 0:X.emulatorHosts)||void 0===P?void 0:P[b]},O=()=>{var b;return null===(b=w())||void 0===b?void 0:b.config},e=b=>{var X;return null===(X=w())||void 0===X?void 0:X[`_${b}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((b,X)=>{this.resolve=b,this.reject=X}))}wrapCallback(b){return(X,P)=>{X?this.reject(X):this.resolve(P),"function"===typeof b&&(this.promise.catch((()=>{})),1===b.length?b(X):b(X,P))}}}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())}function t(){const b="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof b&&void 0!==b.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function W(){const b=D();return b.indexOf("MSIE ")>=0||b.indexOf("Trident/")>=0}function n(){try{return"object"===typeof indexedDB}catch(b){return!1}}function y(){return new Promise(((b,X)=>{try{let P=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(Q);S.onsuccess=()=>{S.result.close(),P||self.indexedDB.deleteDatabase(Q),b(!0)},S.onupgradeneeded=()=>{P=!1},S.onerror=()=>{var b;X((null===(b=S.error)||void 0===b?void 0:b.message)||"")}}catch(P){X(P)}}))}function h(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(b,X,P){super(X),this.code=b,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(b,X,P){this.service=b,this.serviceName=X,this.errors=P}create(b){const X=(arguments.length<=1?void 0:arguments[1])||{},P=`${this.service}/${b}`,Q=this.errors[b],S=Q?function(b,X){return b.replace(v,((b,P)=>{const Q=X[P];return null!=Q?String(Q):`<${P}?>`}))}(Q,X):"Error",d=`${this.serviceName}: ${S} (${P}).`;return new L(P,d,X)}}const v=/\{\$([^}]+)}/g;function A(b){for(const X in b)if(Object.prototype.hasOwnProperty.call(b,X))return!1;return!0}function o(b,X){if(b===X)return!0;const P=Object.keys(b),Q=Object.keys(X);for(const S of P){if(!Q.includes(S))return!1;const P=b[S],d=X[S];if(K(P)&&K(d)){if(!o(P,d))return!1}else if(P!==d)return!1}for(const S of Q)if(!P.includes(S))return!1;return!0}function K(b){return null!==b&&"object"===typeof b}function T(b){const X=[];for(const[P,Q]of Object.entries(b))Array.isArray(Q)?Q.forEach((b=>{X.push(encodeURIComponent(P)+"="+encodeURIComponent(b))})):X.push(encodeURIComponent(P)+"="+encodeURIComponent(Q));return X.length?"&"+X.join("&"):""}function q(b){const X={};return b.replace(/^\?/,"").split("&").forEach((b=>{if(b){const[P,Q]=b.split("=");X[decodeURIComponent(P)]=decodeURIComponent(Q)}})),X}function V(b){const X=b.indexOf("?");if(!X)return"";const P=b.indexOf("#",X);return b.substring(X,P>0?P:void 0)}function i(b,X){const P=new x(b,X);return P.subscribe.bind(P)}class x{constructor(b,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then((()=>{b(this)})).catch((b=>{this.error(b)}))}next(b){this.forEachObserver((X=>{X.next(b)}))}error(b){this.forEachObserver((X=>{X.error(b)})),this.close(b)}complete(){this.forEachObserver((b=>{b.complete()})),this.close()}subscribe(b,X,P){let Q;if(void 0===b&&void 0===X&&void 0===P)throw new Error("Missing Observer.");Q=function(b,X){if("object"!==typeof b||null===b)return!1;for(const P of X)if(P in b&&"function"===typeof b[P])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:X,complete:P},void 0===Q.next&&(Q.next=H),void 0===Q.error&&(Q.error=H),void 0===Q.complete&&(Q.complete=H);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(b){}})),this.observers.push(Q),S}unsubscribeOne(b){void 0!==this.observers&&void 0!==this.observers[b]&&(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,b)}sendOne(b,X){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{X(this.observers[b])}catch(P){"undefined"!==typeof console&&console.error&&console.error(P)}}))}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function H(){}const C=1e3,p=2,k=144e5,z=.5;function U(b){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;const P=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:C)*Math.pow(X,b),Q=Math.round(z*P*(Math.random()-.5)*2);return Math.min(k,P+Q)}function g(b){return b&&b._delegate?b._delegate:b}},11650:(b,X,P)=>{P.d(X,{e:()=>d.g,h:()=>Ob,i:()=>G,l:()=>Pb,n:()=>Qb,r:()=>bb,v:()=>ab,z:()=>Xb,A:()=>db,C:()=>Sb,D:()=>Nb,E:()=>Eb,H:()=>Yb,F:()=>Db,J:()=>eb,L:()=>Bb,P:()=>tb,S:()=>Wb});var Q=P(11659),S=P(11671),d=P(11666);let N,a;const u=new WeakMap,w=new WeakMap,f=new WeakMap,O=new WeakMap,e=new WeakMap;let Y={get(b,X,P){if(b instanceof IDBTransaction){if("done"===X)return w.get(b);if("objectStoreNames"===X)return b.objectStoreNames||f.get(b);if("store"===X)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return t(b[X])},set:(b,X,P)=>(b[X]=P,!0),has:(b,X)=>b instanceof IDBTransaction&&("done"===X||"store"===X)||X in b};function D(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(b)?function(){for(var X=arguments.length,P=new Array(X),Q=0;Q<X;Q++)P[Q]=arguments[Q];return b.apply(B(this),P),t(u.get(this))}:function(){for(var X=arguments.length,P=new Array(X),Q=0;Q<X;Q++)P[Q]=arguments[Q];return t(b.apply(B(this),P))}:function(X){for(var P=arguments.length,Q=new Array(P>1?P-1:0),S=1;S<P;S++)Q[S-1]=arguments[S];const d=b.call(B(this),X,...Q);return f.set(d,X.sort?X.sort():[X]),t(d)}}function E(b){return"function"===typeof b?D(b):(b instanceof IDBTransaction&&function(b){if(w.has(b))return;const X=new Promise(((X,P)=>{const Q=()=>{b.removeEventListener("complete",S),b.removeEventListener("error",d),b.removeEventListener("abort",d)},S=()=>{X(),Q()},d=()=>{P(b.error||new DOMException("AbortError","AbortError")),Q()};b.addEventListener("complete",S),b.addEventListener("error",d),b.addEventListener("abort",d)}));w.set(b,X)}(b),X=b,(N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((b=>X instanceof b))?new Proxy(b,Y):b);var X}function t(b){if(b instanceof IDBRequest)return function(b){const X=new Promise(((X,P)=>{const Q=()=>{b.removeEventListener("success",S),b.removeEventListener("error",d)},S=()=>{X(t(b.result)),Q()},d=()=>{P(b.error),Q()};b.addEventListener("success",S),b.addEventListener("error",d)}));return X.then((X=>{X instanceof IDBCursor&&u.set(X,b)})).catch((()=>{})),e.set(X,b),X}(b);if(O.has(b))return O.get(b);const X=E(b);return X!==b&&(O.set(b,X),e.set(X,b)),X}const B=b=>e.get(b);const W=["get","getKey","getAll","getAllKeys","count"],n=["put","add","delete","clear"],y=new Map;function h(b,X){if(!(b instanceof IDBDatabase)||X in b||"string"!==typeof X)return;if(y.get(X))return y.get(X);const P=X.replace(/FromIndex$/,""),Q=X!==P,S=n.includes(P);if(!(P in(Q?IDBIndex:IDBObjectStore).prototype)||!S&&!W.includes(P))return;const d=async function(b){const X=this.transaction(b,S?"readwrite":"readonly");let d=X.store;for(var N=arguments.length,a=new Array(N>1?N-1:0),u=1;u<N;u++)a[u-1]=arguments[u];return Q&&(d=d.index(a.shift())),(await Promise.all([d[P](...a),S&&X.done]))[0]};return y.set(X,d),d}Y=(b=>({...b,get:(X,P,Q)=>h(X,P)||b.get(X,P,Q),has:(X,P)=>!!h(X,P)||b.has(X,P)}))(Y);class L{constructor(b){this.container=b}getPlatformInfoString(){return this.container.getProviders().map((b=>{if(function(b){const X=b.getComponent();return"VERSION"===(null===X||void 0===X?void 0:X.type)}(b)){const X=b.getImmediate();return`${X.library}/${X.version}`}return null})).filter((b=>b)).join(" ")}}const Z="@firebase/app",v="0.9.13",A=new S.i("@firebase/app"),o="@firebase/app-compat",K="@firebase/analytics-compat",T="@firebase/analytics",q="@firebase/app-check-compat",V="@firebase/app-check",i="@firebase/auth",x="@firebase/auth-compat",H="@firebase/database",C="@firebase/database-compat",p="@firebase/functions",k="@firebase/functions-compat",z="@firebase/installations",U="@firebase/installations-compat",g="@firebase/messaging",j="@firebase/messaging-compat",l="@firebase/performance",J="@firebase/performance-compat",c="@firebase/remote-config",s="@firebase/remote-config-compat",F="@firebase/storage",M="@firebase/storage-compat",R="@firebase/firestore",r="@firebase/firestore-compat",I="firebase",G="[DEFAULT]",mb={[Z]:"fire-core",[o]:"fire-core-compat",[T]:"fire-analytics",[K]:"fire-analytics-compat",[V]:"fire-app-check",[q]:"fire-app-check-compat",[i]:"fire-auth",[x]:"fire-auth-compat",[H]:"fire-rtdb",[C]:"fire-rtdb-compat",[p]:"fire-fn",[k]:"fire-fn-compat",[z]:"fire-iid",[U]:"fire-iid-compat",[g]:"fire-fcm",[j]:"fire-fcm-compat",[l]:"fire-perf",[J]:"fire-perf-compat",[c]:"fire-rc",[s]:"fire-rc-compat",[F]:"fire-gcs",[M]:"fire-gcs-compat",[R]:"fire-fst",[r]:"fire-fst-compat","fire-js":"fire-js",[I]:"fire-js-all"},bb=new Map,Xb=new Map;function Pb(b,X){try{b.container.qu(X)}catch(P){A.debug(`Component ${X.name} failed to register with FirebaseApp ${b.name}`,P)}}function Qb(b,X){b.container.addOrOverwriteComponent(X)}function Sb(b){const X=b.name;if(Xb.has(X))return A.debug(`There were multiple attempts to register component ${X}.`),!1;Xb.set(X,b);for(const P of bb.values())Pb(P,b);return!0}function db(b,X){const P=b.container.getProvider("heartbeat").getImmediate({optional:!0});return P&&P.triggerHeartbeat(),b.container.getProvider(X)}function Nb(b,X){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;db(b,X).clearInstance(P)}function ab(){Xb.clear()}const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wb=new d.f("app","Firebase",ub);class fb{constructor(b,X,P){this._isDeleted=!1,this._options=Object.assign({},b),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=P,this.container.qu(new Q.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(b){this.checkDestroyed(),this._automaticDataCollectionEnabled=b}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(b){this._isDeleted=b}checkDestroyed(){if(this.isDeleted)throw wb.create("app-deleted",{appName:this._name})}}const Ob="9.23.0";function eb(b){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=b;if("object"!==typeof X){X={name:X}}const S=Object.assign({name:G,automaticDataCollectionEnabled:!1},X),N=S.name;if("string"!==typeof N||!N)throw wb.create("bad-app-name",{appName:String(N)});if(P||(P=(0,d.A)()),!P)throw wb.create("no-options");const a=bb.get(N);if(a){if((0,d.x)(P,a.options)&&(0,d.x)(S,a.config))return a;throw wb.create("duplicate-app",{appName:N})}const u=new Q.b(N);for(const Q of Xb.values())u.qu(Q);const w=new fb(P,S,u);return bb.set(N,w),w}function Yb(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;const X=bb.get(b);if(!X&&b===G&&(0,d.A)())return eb();if(!X)throw wb.create("no-app",{appName:b});return X}function Db(){return Array.from(bb.values())}async function Eb(b){const X=b.name;bb.has(X)&&(bb.delete(X),await Promise.all(b.container.getProviders().map((b=>b.delete()))),b.isDeleted=!0)}function tb(b,X,P){var S;let d=null!==(S=mb[b])&&void 0!==S?S:b;P&&(d+=`-${P}`);const N=d.match(/\s|\//),a=X.match(/\s|\//);if(N||a){const b=[`Unable to register library "${d}" with version "${X}":`];return N&&b.push(`library name "${d}" contains illegal characters (whitespace or "/")`),N&&a&&b.push("and"),a&&b.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void A.warn(b.join(" "))}Sb(new Q.d(`${d}-version`,(()=>({library:d,version:X})),"VERSION"))}function Bb(b,X){if(null!==b&&"function"!==typeof b)throw wb.create("invalid-log-argument");(0,S.p)(b,X)}function Wb(b){(0,S.l)(b)}const nb="firebase-heartbeat-store";let yb=null;function hb(){return yb||(yb=function(b,X){let{blocked:P,upgrade:Q,blocking:S,terminated:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const N=indexedDB.open(b,X),a=t(N);return Q&&N.addEventListener("upgradeneeded",(b=>{Q(t(N.result),b.oldVersion,b.newVersion,t(N.transaction),b)})),P&&N.addEventListener("blocked",(b=>P(b.oldVersion,b.newVersion,b))),a.then((b=>{d&&b.addEventListener("close",(()=>d())),S&&b.addEventListener("versionchange",(b=>S(b.oldVersion,b.newVersion,b)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(b,X)=>{if(0===X)b.createObjectStore(nb)}}).catch((b=>{throw wb.create("idb-open",{originalErrorMessage:b.message})}))),yb}async function Lb(b,X){try{const P=(await hb()).transaction(nb,"readwrite"),Q=P.objectStore(nb);await Q.put(X,Zb(b)),await P.done}catch(P){if(P instanceof d.g)A.warn(P.message);else{const b=wb.create("idb-set",{originalErrorMessage:null===P||void 0===P?void 0:P.message});A.warn(b.message)}}}function Zb(b){return`${b.name}!${b.options.appId}`}class vb{constructor(b){this.container=b,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this.LO=new ob(X),this._heartbeatsCachePromise=this.LO.read().then((b=>(this._heartbeatsCache=b,b)))}async triggerHeartbeat(){const b=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=Ab();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==X&&!this._heartbeatsCache.heartbeats.some((b=>b.date===X)))return this._heartbeatsCache.heartbeats.push({date:X,agent:b}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((b=>{const X=new Date(b.date).valueOf();return Date.now()-X<=2592e6})),this.LO.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const b=Ab(),{heartbeatsToSend:X,unsentEntries:P}=function(b){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const P=[];let Q=b.slice();for(const S of b){const b=P.find((b=>b.agent===S.agent));if(b){if(b.dates.push(S.date),Kb(P)>X){b.dates.pop();break}}else if(P.push({agent:S.agent,dates:[S.date]}),Kb(P)>X){P.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:P,unsentEntries:Q}}(this._heartbeatsCache.heartbeats),Q=(0,d.n)(JSON.stringify({version:2,heartbeats:X}));return this._heartbeatsCache.lastSentHeartbeatDate=b,P.length>0?(this._heartbeatsCache.heartbeats=P,await this.LO.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.LO.overwrite(this._heartbeatsCache)),Q}}function Ab(){return(new Date).toISOString().substring(0,10)}class ob{constructor(b){this.app=b,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,d.U)()&&(0,d.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(b){try{const X=await hb();return await X.transaction(nb).objectStore(nb).get(Zb(b))}catch(X){if(X instanceof d.g)A.warn(X.message);else{const b=wb.create("idb-get",{originalErrorMessage:null===X||void 0===X?void 0:X.message});A.warn(b.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(b){var X;if(await this._canUseIndexedDBPromise){const P=await this.read();return Lb(this.app,{lastSentHeartbeatDate:null!==(X=b.lastSentHeartbeatDate)&&void 0!==X?X:P.lastSentHeartbeatDate,heartbeats:b.heartbeats})}}async add(b){var X;if(await this._canUseIndexedDBPromise){const P=await this.read();return Lb(this.app,{lastSentHeartbeatDate:null!==(X=b.lastSentHeartbeatDate)&&void 0!==X?X:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...b.heartbeats]})}}}function Kb(b){return(0,d.n)(JSON.stringify({version:2,heartbeats:b})).length}var Tb;Tb="",Sb(new Q.d("platform-logger",(b=>new L(b)),"PRIVATE")),Sb(new Q.d("heartbeat",(b=>new vb(b)),"PRIVATE")),tb(Z,v,Tb),tb(Z,v,"esm2017"),tb("fire-js","")},11659:(b,X,P)=>{P.d(X,{b:()=>a,d:()=>S});var Q=P(11666);class S{constructor(b,X,P){this.name=b,this.instanceFactory=X,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(b){return this.instantiationMode=b,this}setMultipleInstances(b){return this.multipleInstances=b,this}setServiceProps(b){return this.serviceProps=b,this}setInstanceCreatedCallback(b){return this.onInstanceCreated=b,this}}const d="[DEFAULT]";class N{constructor(b,X){this.name=b,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(b){const X=this.normalizeInstanceIdentifier(b);if(!this.instancesDeferred.has(X)){const b=new Q.d;if(this.instancesDeferred.set(X,b),this.isInitialized(X)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:X});P&&b.resolve(P)}catch(P){}}return this.instancesDeferred.get(X).promise}getImmediate(b){var X;const P=this.normalizeInstanceIdentifier(null===b||void 0===b?void 0:b.identifier),Q=null!==(X=null===b||void 0===b?void 0:b.optional)&&void 0!==X&&X;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(S){if(Q)return null;throw S}}getComponent(){return this.component}setComponent(b){if(b.name!==this.name)throw Error(`Mismatching Component ${b.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=b,this.shouldAutoInitialize()){if(function(b){return"EAGER"===b.instantiationMode}(b))try{this.getOrInitializeService({instanceIdentifier:d})}catch(X){}for(const[b,P]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(b);try{const b=this.getOrInitializeService({instanceIdentifier:Q});P.resolve(b)}catch(X){}}}}clearInstance(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(b),this.instancesOptions.delete(b),this.instances.delete(b)}async delete(){const b=Array.from(this.instances.values());await Promise.all([...b.filter((b=>"INTERNAL"in b)).map((b=>b.INTERNAL.delete())),...b.filter((b=>"_delete"in b)).map((b=>b._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(b)}getOptions(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(b)||{}}initialize(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:X={}}=b,P=this.normalizeInstanceIdentifier(b.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:P,options:X});for(const[S,d]of this.instancesDeferred.entries()){P===this.normalizeInstanceIdentifier(S)&&d.resolve(Q)}return Q}XO(b,X){var P;const Q=this.normalizeInstanceIdentifier(X),S=null!==(P=this.onInitCallbacks.get(Q))&&void 0!==P?P:new Set;S.add(b),this.onInitCallbacks.set(Q,S);const d=this.instances.get(Q);return d&&b(d,Q),()=>{S.delete(b)}}invokeOnInitCallbacks(b,X){const P=this.onInitCallbacks.get(X);if(P)for(const S of P)try{S(b,X)}catch(Q){}}getOrInitializeService(b){let{instanceIdentifier:X,options:P={}}=b,Q=this.instances.get(X);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(S=X,S===d?void 0:S),options:P}),this.instances.set(X,Q),this.instancesOptions.set(X,P),this.invokeOnInitCallbacks(Q,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Q)}catch(N){}var S;return Q||null}normalizeInstanceIdentifier(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?b:d:b}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(b){this.name=b,this.providers=new Map}qu(b){const X=this.getProvider(b.name);if(X.isComponentSet())throw new Error(`Component ${b.name} has already been registered with ${this.name}`);X.setComponent(b)}addOrOverwriteComponent(b){this.getProvider(b.name).isComponentSet()&&this.providers.delete(b.name),this.qu(b)}getProvider(b){if(this.providers.has(b))return this.providers.get(b);const X=new N(b,this);return this.providers.set(b,X),X}getProviders(){return Array.from(this.providers.values())}}},11671:(b,X,P)=>{P.d(X,{e:()=>S,i:()=>w,l:()=>f,p:()=>O});const Q=[];var S;!function(b){b[b.DEBUG=0]="DEBUG",b[b.VERBOSE=1]="VERBOSE",b[b.INFO=2]="INFO",b[b.WARN=3]="WARN",b[b.ERROR=4]="ERROR",b[b.SILENT=5]="SILENT"}(S||(S={}));const d={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},N=S.INFO,a={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},u=function(b,X){if(X<b.logLevel)return;const P=(new Date).toISOString(),Q=a[X];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);for(var S=arguments.length,d=new Array(S>2?S-2:0),N=2;N<S;N++)d[N-2]=arguments[N];console[Q](`[${P}]  ${b.name}:`,...d)};class w{constructor(b){this.name=b,this._logLevel=N,this._logHandler=u,this._userLogHandler=null,Q.push(this)}get logLevel(){return this._logLevel}set logLevel(b){if(!(b in S))throw new TypeError(`Invalid value "${b}" assigned to \`logLevel\``);this._logLevel=b}setLogLevel(b){this._logLevel="string"===typeof b?d[b]:b}get logHandler(){return this._logHandler}set logHandler(b){if("function"!==typeof b)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=b}get userLogHandler(){return this._userLogHandler}set userLogHandler(b){this._userLogHandler=b}debug(){for(var b=arguments.length,X=new Array(b),P=0;P<b;P++)X[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...X),this._logHandler(this,S.DEBUG,...X)}log(){for(var b=arguments.length,X=new Array(b),P=0;P<b;P++)X[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...X),this._logHandler(this,S.VERBOSE,...X)}info(){for(var b=arguments.length,X=new Array(b),P=0;P<b;P++)X[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,S.INFO,...X),this._logHandler(this,S.INFO,...X)}warn(){for(var b=arguments.length,X=new Array(b),P=0;P<b;P++)X[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,S.WARN,...X),this._logHandler(this,S.WARN,...X)}error(){for(var b=arguments.length,X=new Array(b),P=0;P<b;P++)X[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,S.ERROR,...X),this._logHandler(this,S.ERROR,...X)}}function f(b){Q.forEach((X=>{X.setLogLevel(b)}))}function O(b,X){for(const P of Q){let Q=null;X&&X.level&&(Q=d[X.level]),P.userLogHandler=null===b?null:function(X,P){for(var d=arguments.length,N=new Array(d>2?d-2:0),a=2;a<d;a++)N[a-2]=arguments[a];const u=N.map((b=>{if(null==b)return null;if("string"===typeof b)return b;if("number"===typeof b||"boolean"===typeof b)return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch(X){return null}})).filter((b=>b)).join(" ");P>=(null!==Q&&void 0!==Q?Q:X.logLevel)&&b({level:S[P].toLowerCase(),message:u,args:N,type:X.name})}}}}}]);