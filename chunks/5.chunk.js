/*! For license information please see bsqs6o.5.679570e1.chunk.js.LICENSE.txt */
"use strict";(self.zcqpiao938m=self.zcqpiao938m||[]).push([[5],{11639:(C,U,K)=>{K.d(U,{A:()=>G,E:()=>a,I:()=>l,M:()=>p,N:()=>j,Q:()=>E,T:()=>N,V:()=>b,Y:()=>Q,_:()=>y,cb:()=>f,e:()=>u,fb:()=>F,hb:()=>v,i:()=>d,ib:()=>V,kb:()=>D,m:()=>H,ob:()=>i,pb:()=>Z,q:()=>P,s:()=>e,u:()=>A,y:()=>c});const m=function(C){const U=[];let K=0;for(let m=0;m<C.length;m++){let O=C.charCodeAt(m);O<128?U[K++]=O:O<2048?(U[K++]=O>>6|192,U[K++]=63&O|128):55296===(64512&O)&&m+1<C.length&&56320===(64512&C.charCodeAt(m+1))?(O=65536+((1023&O)<<10)+(1023&C.charCodeAt(++m)),U[K++]=O>>18|240,U[K++]=O>>12&63|128,U[K++]=O>>6&63|128,U[K++]=63&O|128):(U[K++]=O>>12|224,U[K++]=O>>6&63|128,U[K++]=63&O|128)}return U},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(C,U){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,m=[];for(let O=0;O<C.length;O+=3){const U=C[O],X=O+1<C.length,A=X?C[O+1]:0,e=O+2<C.length,t=e?C[O+2]:0,z=U>>2,j=(3&U)<<4|A>>4;let p=(15&A)<<2|t>>6,E=63&t;e||(E=64,X||(p=64)),m.push(K[z],K[j],K[p],K[E])}return m.join("")},encodeString(C,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(C):this.encodeByteArray(m(C),U)},decodeString(C,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(C):function(C){const U=[];let K=0,m=0;for(;K<C.length;){const O=C[K++];if(O<128)U[m++]=String.fromCharCode(O);else if(O>191&&O<224){const X=C[K++];U[m++]=String.fromCharCode((31&O)<<6|63&X)}else if(O>239&&O<365){const X=((7&O)<<18|(63&C[K++])<<12|(63&C[K++])<<6|63&C[K++])-65536;U[m++]=String.fromCharCode(55296+(X>>10)),U[m++]=String.fromCharCode(56320+(1023&X))}else{const X=C[K++],A=C[K++];U[m++]=String.fromCharCode((15&O)<<12|(63&X)<<6|63&A)}}return U.join("")}(this.decodeStringToByteArray(C,U))},decodeStringToByteArray(C,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,m=[];for(let O=0;O<C.length;){const U=K[C.charAt(O++)],A=O<C.length?K[C.charAt(O)]:0;++O;const e=O<C.length?K[C.charAt(O)]:64;++O;const t=O<C.length?K[C.charAt(O)]:64;if(++O,null==U||null==A||null==e||null==t)throw new X;const z=U<<2|A>>4;if(m.push(z),64!==e){const C=A<<4&240|e>>2;if(m.push(C),64!==t){const C=e<<6&192|t;m.push(C)}}}return m},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class X extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(C){return function(C){const U=m(C);return O.encodeByteArray(U,!0)}(C).replace(/\./g,"")},e=function(C){try{return O.decodeString(C,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const t=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof K.g)return K.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,z=()=>{try{return t()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(K){return}const U=C&&e(C[1]);return U&&JSON.parse(U)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},j=C=>{var U,K;return null===(K=null===(U=z())||void 0===U?void 0:U.emulatorHosts)||void 0===K?void 0:K[C]},p=()=>{var C;return null===(C=z())||void 0===C?void 0:C.config},E=C=>{var U;return null===(U=z())||void 0===U?void 0:U[`_${C}`]};class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((C,U)=>{this.resolve=C,this.reject=U}))}wrapCallback(C){return(U,K)=>{U?this.reject(U):this.resolve(K),"function"===typeof C&&(this.promise.catch((()=>{})),1===C.length?C(U):C(U,K))}}}function b(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function Q(){const C="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof C&&void 0!==C.id}function V(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){const C=b();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function F(){try{return"object"===typeof indexedDB}catch(C){return!1}}function Z(){return new Promise(((C,U)=>{try{let K=!0;const m="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(m);O.onsuccess=()=>{O.result.close(),K||self.indexedDB.deleteDatabase(m),C(!0)},O.onupgradeneeded=()=>{K=!1},O.onerror=()=>{var C;U((null===(C=O.error)||void 0===C?void 0:C.message)||"")}}catch(K){U(K)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class H extends Error{constructor(C,U,K){super(U),this.code=C,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d.prototype.create)}}class d{constructor(C,U,K){this.service=C,this.serviceName=U,this.errors=K}create(C){const U=(arguments.length<=1?void 0:arguments[1])||{},K=`${this.service}/${C}`,m=this.errors[C],O=m?function(C,U){return C.replace(T,((C,K)=>{const m=U[K];return null!=m?String(m):`<${K}?>`}))}(m,U):"Error",X=`${this.serviceName}: ${O} (${K}).`;return new H(K,X,U)}}const T=/\{\$([^}]+)}/g;function y(C){for(const U in C)if(Object.prototype.hasOwnProperty.call(C,U))return!1;return!0}function a(C,U){if(C===U)return!0;const K=Object.keys(C),m=Object.keys(U);for(const O of K){if(!m.includes(O))return!1;const K=C[O],X=U[O];if(r(K)&&r(X)){if(!a(K,X))return!1}else if(K!==X)return!1}for(const O of m)if(!K.includes(O))return!1;return!0}function r(C){return null!==C&&"object"===typeof C}function i(C){const U=[];for(const[K,m]of Object.entries(C))Array.isArray(m)?m.forEach((C=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(C))})):U.push(encodeURIComponent(K)+"="+encodeURIComponent(m));return U.length?"&"+U.join("&"):""}function D(C){const U={};return C.replace(/^\?/,"").split("&").forEach((C=>{if(C){const[K,m]=C.split("=");U[decodeURIComponent(K)]=decodeURIComponent(m)}})),U}function l(C){const U=C.indexOf("?");if(!U)return"";const K=C.indexOf("#",U);return C.substring(U,K>0?K:void 0)}function G(C,U){const K=new J(C,U);return K.subscribe.bind(K)}class J{constructor(C,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{C(this)})).catch((C=>{this.error(C)}))}next(C){this.forEachObserver((U=>{U.next(C)}))}error(C){this.forEachObserver((U=>{U.error(C)})),this.close(C)}complete(){this.forEachObserver((C=>{C.complete()})),this.close()}subscribe(C,U,K){let m;if(void 0===C&&void 0===U&&void 0===K)throw new Error("Missing Observer.");m=function(C,U){if("object"!==typeof C||null===C)return!1;for(const K of U)if(K in C&&"function"===typeof C[K])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:U,complete:K},void 0===m.next&&(m.next=o),void 0===m.error&&(m.error=o),void 0===m.complete&&(m.complete=o);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?m.error(this.finalError):m.complete()}catch(C){}})),this.observers.push(m),O}unsubscribeOne(C){void 0!==this.observers&&void 0!==this.observers[C]&&(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,C)}sendOne(C,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{U(this.observers[C])}catch(K){"undefined"!==typeof console&&console.error&&console.error(K)}}))}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function o(){}const B=1e3,k=2,w=144e5,h=.5;function c(C){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;const K=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:B)*Math.pow(U,C),m=Math.round(h*K*(Math.random()-.5)*2);return Math.min(w,K+m)}function N(C){return C&&C._delegate?C._delegate:C}},11628:(C,U,K)=>{K.d(U,{c:()=>X.m,g:()=>pC,k:()=>q,o:()=>KC,r:()=>mC,v:()=>CC,z:()=>eC,C:()=>UC,G:()=>XC,I:()=>OC,L:()=>AC,O:()=>vC,V:()=>uC,R:()=>bC,W:()=>EC,X:()=>VC,Y:()=>QC,ab:()=>fC});var m=K(11633),O=K(11641),X=K(11639);let A,e;const t=new WeakMap,z=new WeakMap,j=new WeakMap,p=new WeakMap,E=new WeakMap;let u={get(C,U,K){if(C instanceof IDBTransaction){if("done"===U)return z.get(C);if("objectStoreNames"===U)return C.objectStoreNames||j.get(C);if("store"===U)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return Q(C[U])},set:(C,U,K)=>(C[U]=K,!0),has:(C,U)=>C instanceof IDBTransaction&&("done"===U||"store"===U)||U in C};function b(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(e||(e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(C)?function(){for(var U=arguments.length,K=new Array(U),m=0;m<U;m++)K[m]=arguments[m];return C.apply(V(this),K),Q(t.get(this))}:function(){for(var U=arguments.length,K=new Array(U),m=0;m<U;m++)K[m]=arguments[m];return Q(C.apply(V(this),K))}:function(U){for(var K=arguments.length,m=new Array(K>1?K-1:0),O=1;O<K;O++)m[O-1]=arguments[O];const X=C.call(V(this),U,...m);return j.set(X,U.sort?U.sort():[U]),Q(X)}}function v(C){return"function"===typeof C?b(C):(C instanceof IDBTransaction&&function(C){if(z.has(C))return;const U=new Promise(((U,K)=>{const m=()=>{C.removeEventListener("complete",O),C.removeEventListener("error",X),C.removeEventListener("abort",X)},O=()=>{U(),m()},X=()=>{K(C.error||new DOMException("AbortError","AbortError")),m()};C.addEventListener("complete",O),C.addEventListener("error",X),C.addEventListener("abort",X)}));z.set(C,U)}(C),U=C,(A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((C=>U instanceof C))?new Proxy(C,u):C);var U}function Q(C){if(C instanceof IDBRequest)return function(C){const U=new Promise(((U,K)=>{const m=()=>{C.removeEventListener("success",O),C.removeEventListener("error",X)},O=()=>{U(Q(C.result)),m()},X=()=>{K(C.error),m()};C.addEventListener("success",O),C.addEventListener("error",X)}));return U.then((U=>{U instanceof IDBCursor&&t.set(U,C)})).catch((()=>{})),E.set(U,C),U}(C);if(p.has(C))return p.get(C);const U=v(C);return U!==C&&(p.set(C,U),E.set(U,C)),U}const V=C=>E.get(C);const f=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],Z=new Map;function P(C,U){if(!(C instanceof IDBDatabase)||U in C||"string"!==typeof U)return;if(Z.get(U))return Z.get(U);const K=U.replace(/FromIndex$/,""),m=U!==K,O=F.includes(K);if(!(K in(m?IDBIndex:IDBObjectStore).prototype)||!O&&!f.includes(K))return;const X=async function(C){const U=this.transaction(C,O?"readwrite":"readonly");let X=U.store;for(var A=arguments.length,e=new Array(A>1?A-1:0),t=1;t<A;t++)e[t-1]=arguments[t];return m&&(X=X.index(e.shift())),(await Promise.all([X[K](...e),O&&U.done]))[0]};return Z.set(U,X),X}u=(C=>({...C,get:(U,K,m)=>P(U,K)||C.get(U,K,m),has:(U,K)=>!!P(U,K)||C.has(U,K)}))(u);class H{constructor(C){this.container=C}getPlatformInfoString(){return this.container.getProviders().map((C=>{if(function(C){const U=C.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(C)){const U=C.getImmediate();return`${U.library}/${U.version}`}return null})).filter((C=>C)).join(" ")}}const d="@firebase/app",T="0.9.13",y=new O.g("@firebase/app"),a="@firebase/app-compat",r="@firebase/analytics-compat",i="@firebase/analytics",D="@firebase/app-check-compat",l="@firebase/app-check",G="@firebase/auth",J="@firebase/auth-compat",o="@firebase/database",B="@firebase/database-compat",k="@firebase/functions",w="@firebase/functions-compat",h="@firebase/installations",c="@firebase/installations-compat",N="@firebase/messaging",g="@firebase/messaging-compat",M="@firebase/performance",L="@firebase/performance-compat",Y="@firebase/remote-config",W="@firebase/remote-config-compat",x="@firebase/storage",n="@firebase/storage-compat",S="@firebase/firestore",s="@firebase/firestore-compat",R="firebase",q="[DEFAULT]",I={[d]:"fire-core",[a]:"fire-core-compat",[i]:"fire-analytics",[r]:"fire-analytics-compat",[l]:"fire-app-check",[D]:"fire-app-check-compat",[G]:"fire-auth",[J]:"fire-auth-compat",[o]:"fire-rtdb",[B]:"fire-rtdb-compat",[k]:"fire-fn",[w]:"fire-fn-compat",[h]:"fire-iid",[c]:"fire-iid-compat",[N]:"fire-fcm",[g]:"fire-fcm-compat",[M]:"fire-perf",[L]:"fire-perf-compat",[Y]:"fire-rc",[W]:"fire-rc-compat",[x]:"fire-gcs",[n]:"fire-gcs-compat",[S]:"fire-fst",[s]:"fire-fst-compat","fire-js":"fire-js",[R]:"fire-js-all"},CC=new Map,UC=new Map;function KC(C,U){try{C.container.Yt(U)}catch(K){y.debug(`Component ${U.name} failed to register with FirebaseApp ${C.name}`,K)}}function mC(C,U){C.container.addOrOverwriteComponent(U)}function OC(C){const U=C.name;if(UC.has(U))return y.debug(`There were multiple attempts to register component ${U}.`),!1;UC.set(U,C);for(const K of CC.values())KC(K,C);return!0}function XC(C,U){const K=C.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),C.container.getProvider(U)}function AC(C,U){let K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;XC(C,U).clearInstance(K)}function eC(){UC.clear()}const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zC=new X.i("app","Firebase",tC);class jC{constructor(C,U,K){this._isDeleted=!1,this._options=Object.assign({},C),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=K,this.container.Yt(new m.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this.checkDestroyed(),this._automaticDataCollectionEnabled=C}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(C){this._isDeleted=C}checkDestroyed(){if(this.isDeleted)throw zC.create("app-deleted",{appName:this._name})}}const pC="9.23.0";function EC(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},K=C;if("object"!==typeof U){U={name:U}}const O=Object.assign({name:q,automaticDataCollectionEnabled:!1},U),A=O.name;if("string"!==typeof A||!A)throw zC.create("bad-app-name",{appName:String(A)});if(K||(K=(0,X.M)()),!K)throw zC.create("no-options");const e=CC.get(A);if(e){if((0,X.E)(K,e.options)&&(0,X.E)(O,e.config))return e;throw zC.create("duplicate-app",{appName:A})}const t=new m.e(A);for(const m of UC.values())t.Yt(m);const z=new jC(K,O,t);return CC.set(A,z),z}function uC(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;const U=CC.get(C);if(!U&&C===q&&(0,X.M)())return EC();if(!U)throw zC.create("no-app",{appName:C});return U}function bC(){return Array.from(CC.values())}async function vC(C){const U=C.name;CC.has(U)&&(CC.delete(U),await Promise.all(C.container.getProviders().map((C=>C.delete()))),C.isDeleted=!0)}function QC(C,U,K){var O;let X=null!==(O=I[C])&&void 0!==O?O:C;K&&(X+=`-${K}`);const A=X.match(/\s|\//),e=U.match(/\s|\//);if(A||e){const C=[`Unable to register library "${X}" with version "${U}":`];return A&&C.push(`library name "${X}" contains illegal characters (whitespace or "/")`),A&&e&&C.push("and"),e&&C.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void y.warn(C.join(" "))}OC(new m.h(`${X}-version`,(()=>({library:X,version:U})),"VERSION"))}function VC(C,U){if(null!==C&&"function"!==typeof C)throw zC.create("invalid-log-argument");(0,O.m)(C,U)}function fC(C){(0,O.i)(C)}const FC="firebase-heartbeat-store";let ZC=null;function PC(){return ZC||(ZC=function(C,U){let{blocked:K,upgrade:m,blocking:O,terminated:X}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=indexedDB.open(C,U),e=Q(A);return m&&A.addEventListener("upgradeneeded",(C=>{m(Q(A.result),C.oldVersion,C.newVersion,Q(A.transaction),C)})),K&&A.addEventListener("blocked",(C=>K(C.oldVersion,C.newVersion,C))),e.then((C=>{X&&C.addEventListener("close",(()=>X())),O&&C.addEventListener("versionchange",(C=>O(C.oldVersion,C.newVersion,C)))})).catch((()=>{})),e}("firebase-heartbeat-database",1,{upgrade:(C,U)=>{if(0===U)C.createObjectStore(FC)}}).catch((C=>{throw zC.create("idb-open",{originalErrorMessage:C.message})}))),ZC}async function HC(C,U){try{const K=(await PC()).transaction(FC,"readwrite"),m=K.objectStore(FC);await m.put(U,dC(C)),await K.done}catch(K){if(K instanceof X.m)y.warn(K.message);else{const C=zC.create("idb-set",{originalErrorMessage:null===K||void 0===K?void 0:K.message});y.warn(C.message)}}}function dC(C){return`${C.name}!${C.options.appId}`}class TC{constructor(C){this.container=C,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.Pp=new aC(U),this._heartbeatsCachePromise=this.Pp.read().then((C=>(this._heartbeatsCache=C,C)))}async triggerHeartbeat(){const C=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=yC();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((C=>C.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:C}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((C=>{const U=new Date(C.date).valueOf();return Date.now()-U<=2592e6})),this.Pp.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const C=yC(),{heartbeatsToSend:U,unsentEntries:K}=function(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const K=[];let m=C.slice();for(const O of C){const C=K.find((C=>C.agent===O.agent));if(C){if(C.dates.push(O.date),rC(K)>U){C.dates.pop();break}}else if(K.push({agent:O.agent,dates:[O.date]}),rC(K)>U){K.pop();break}m=m.slice(1)}return{heartbeatsToSend:K,unsentEntries:m}}(this._heartbeatsCache.heartbeats),m=(0,X.u)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=C,K.length>0?(this._heartbeatsCache.heartbeats=K,await this.Pp.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Pp.overwrite(this._heartbeatsCache)),m}}function yC(){return(new Date).toISOString().substring(0,10)}class aC{constructor(C){this.app=C,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,X.fb)()&&(0,X.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(C){try{const U=await PC();return await U.transaction(FC).objectStore(FC).get(dC(C))}catch(U){if(U instanceof X.m)y.warn(U.message);else{const C=zC.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});y.warn(C.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(C){var U;if(await this._canUseIndexedDBPromise){const K=await this.read();return HC(this.app,{lastSentHeartbeatDate:null!==(U=C.lastSentHeartbeatDate)&&void 0!==U?U:K.lastSentHeartbeatDate,heartbeats:C.heartbeats})}}async add(C){var U;if(await this._canUseIndexedDBPromise){const K=await this.read();return HC(this.app,{lastSentHeartbeatDate:null!==(U=C.lastSentHeartbeatDate)&&void 0!==U?U:K.lastSentHeartbeatDate,heartbeats:[...K.heartbeats,...C.heartbeats]})}}}function rC(C){return(0,X.u)(JSON.stringify({version:2,heartbeats:C})).length}var iC;iC="",OC(new m.h("platform-logger",(C=>new H(C)),"PRIVATE")),OC(new m.h("heartbeat",(C=>new TC(C)),"PRIVATE")),QC(d,T,iC),QC(d,T,"esm2017"),QC("fire-js","")},11633:(C,U,K)=>{K.d(U,{e:()=>e,h:()=>O});var m=K(11639);class O{constructor(C,U,K){this.name=C,this.instanceFactory=U,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const X="[DEFAULT]";class A{constructor(C,U){this.name=C,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const U=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(U)){const C=new m.e;if(this.instancesDeferred.set(U,C),this.isInitialized(U)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:U});K&&C.resolve(K)}catch(K){}}return this.instancesDeferred.get(U).promise}getImmediate(C){var U;const K=this.normalizeInstanceIdentifier(null===C||void 0===C?void 0:C.identifier),m=null!==(U=null===C||void 0===C?void 0:C.optional)&&void 0!==U&&U;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(m)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(O){if(m)return null;throw O}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function(C){return"EAGER"===C.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:X})}catch(U){}for(const[C,K]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(C);try{const C=this.getOrInitializeService({instanceIdentifier:m});K.resolve(C)}catch(U){}}}}clearInstance(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}async delete(){const C=Array.from(this.instances.values());await Promise.all([...C.filter((C=>"INTERNAL"in C)).map((C=>C.INTERNAL.delete())),...C.filter((C=>"_delete"in C)).map((C=>C._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instances.has(C)}getOptions(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.instancesOptions.get(C)||{}}initialize(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=C,K=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const m=this.getOrInitializeService({instanceIdentifier:K,options:U});for(const[O,X]of this.instancesDeferred.entries()){K===this.normalizeInstanceIdentifier(O)&&X.resolve(m)}return m}Cp(C,U){var K;const m=this.normalizeInstanceIdentifier(U),O=null!==(K=this.onInitCallbacks.get(m))&&void 0!==K?K:new Set;O.add(C),this.onInitCallbacks.set(m,O);const X=this.instances.get(m);return X&&C(X,m),()=>{O.delete(C)}}invokeOnInitCallbacks(C,U){const K=this.onInitCallbacks.get(U);if(K)for(const O of K)try{O(C,U)}catch(m){}}getOrInitializeService(C){let{instanceIdentifier:U,options:K={}}=C,m=this.instances.get(U);if(!m&&this.component&&(m=this.component.instanceFactory(this.container,{instanceIdentifier:(O=U,O===X?void 0:O),options:K}),this.instances.set(U,m),this.instancesOptions.set(U,K),this.invokeOnInitCallbacks(m,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,m)}catch(A){}var O;return m||null}normalizeInstanceIdentifier(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return this.component?this.component.multipleInstances?C:X:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e{constructor(C){this.name=C,this.providers=new Map}Yt(C){const U=this.getProvider(C.name);if(U.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);U.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.Yt(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const U=new A(C,this);return this.providers.set(C,U),U}getProviders(){return Array.from(this.providers.values())}}},11641:(C,U,K)=>{K.d(U,{c:()=>O,g:()=>z,i:()=>j,m:()=>p});const m=[];var O;!function(C){C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT"}(O||(O={}));const X={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},A=O.INFO,e={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},t=function(C,U){if(U<C.logLevel)return;const K=(new Date).toISOString(),m=e[U];if(!m)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var O=arguments.length,X=new Array(O>2?O-2:0),A=2;A<O;A++)X[A-2]=arguments[A];console[m](`[${K}]  ${C.name}:`,...X)};class z{constructor(C){this.name=C,this._logLevel=A,this._logHandler=t,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(C){if(!(C in O))throw new TypeError(`Invalid value "${C}" assigned to \`logLevel\``);this._logLevel=C}setLogLevel(C){this._logLevel="string"===typeof C?X[C]:C}get logHandler(){return this._logHandler}set logHandler(C){if("function"!==typeof C)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=C}get userLogHandler(){return this._userLogHandler}set userLogHandler(C){this._userLogHandler=C}debug(){for(var C=arguments.length,U=new Array(C),K=0;K<C;K++)U[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...U),this._logHandler(this,O.DEBUG,...U)}log(){for(var C=arguments.length,U=new Array(C),K=0;K<C;K++)U[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...U),this._logHandler(this,O.VERBOSE,...U)}info(){for(var C=arguments.length,U=new Array(C),K=0;K<C;K++)U[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,O.INFO,...U),this._logHandler(this,O.INFO,...U)}warn(){for(var C=arguments.length,U=new Array(C),K=0;K<C;K++)U[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,O.WARN,...U),this._logHandler(this,O.WARN,...U)}error(){for(var C=arguments.length,U=new Array(C),K=0;K<C;K++)U[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,O.ERROR,...U),this._logHandler(this,O.ERROR,...U)}}function j(C){m.forEach((U=>{U.setLogLevel(C)}))}function p(C,U){for(const K of m){let m=null;U&&U.level&&(m=X[U.level]),K.userLogHandler=null===C?null:function(U,K){for(var X=arguments.length,A=new Array(X>2?X-2:0),e=2;e<X;e++)A[e-2]=arguments[e];const t=A.map((C=>{if(null==C)return null;if("string"===typeof C)return C;if("number"===typeof C||"boolean"===typeof C)return C.toString();if(C instanceof Error)return C.message;try{return JSON.stringify(C)}catch(U){return null}})).filter((C=>C)).join(" ");K>=(null!==m&&void 0!==m?m:U.logLevel)&&C({level:O[K].toLowerCase(),message:t,args:A,type:U.name})}}}}}]);