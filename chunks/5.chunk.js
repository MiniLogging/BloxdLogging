/*! For license information please see ghe9r.5.32b225d7.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10502:(K,b,e)=>{e.d(b,{A:()=>h,E:()=>X,G:()=>A,H:()=>t,J:()=>N,N:()=>B,P:()=>m,S:()=>r,T:()=>I,U:()=>x,W:()=>u,_:()=>D,ab:()=>w,bb:()=>v,c:()=>U,fb:()=>Q,g:()=>S,i:()=>i,m:()=>G,p:()=>F,q:()=>T,s:()=>g,u:()=>R,w:()=>L});const z=function(K){const b=[];let e=0;for(let z=0;z<K.length;z++){let k=K.charCodeAt(z);k<128?b[e++]=k:k<2048?(b[e++]=k>>6|192,b[e++]=63&k|128):55296===(64512&k)&&z+1<K.length&&56320===(64512&K.charCodeAt(z+1))?(k=65536+((1023&k)<<10)+(1023&K.charCodeAt(++z)),b[e++]=k>>18|240,b[e++]=k>>12&63|128,b[e++]=k>>6&63|128,b[e++]=63&k|128):(b[e++]=k>>12|224,b[e++]=k>>6&63|128,b[e++]=63&k|128)}return b},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(K,b){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let k=0;k<K.length;k+=3){const b=K[k],j=k+1<K.length,T=j?K[k+1]:0,F=k+2<K.length,l=F?K[k+2]:0,Y=b>>2,A=(3&b)<<4|T>>4;let X=(15&T)<<2|l>>6,t=63&l;F||(t=64,j||(X=64)),z.push(e[Y],e[A],e[X],e[t])}return z.join("")},encodeString(K,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(K):this.encodeByteArray(z(K),b)},decodeString(K,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(K):function(K){const b=[];let e=0,z=0;for(;e<K.length;){const k=K[e++];if(k<128)b[z++]=String.fromCharCode(k);else if(k>191&&k<224){const j=K[e++];b[z++]=String.fromCharCode((31&k)<<6|63&j)}else if(k>239&&k<365){const j=((7&k)<<18|(63&K[e++])<<12|(63&K[e++])<<6|63&K[e++])-65536;b[z++]=String.fromCharCode(55296+(j>>10)),b[z++]=String.fromCharCode(56320+(1023&j))}else{const j=K[e++],T=K[e++];b[z++]=String.fromCharCode((15&k)<<12|(63&j)<<6|63&T)}}return b.join("")}(this.decodeStringToByteArray(K,b))},decodeStringToByteArray(K,b){this.init_();const e=b?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let k=0;k<K.length;){const b=e[K.charAt(k++)],T=k<K.length?e[K.charAt(k)]:0;++k;const F=k<K.length?e[K.charAt(k)]:64;++k;const l=k<K.length?e[K.charAt(k)]:64;if(++k,null==b||null==T||null==F||null==l)throw new j;const Y=b<<2|T>>4;if(z.push(Y),64!==F){const K=T<<4&240|F>>2;if(z.push(K),64!==l){const K=F<<6&192|l;z.push(K)}}}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T=function(K){return function(K){const b=z(K);return k.encodeByteArray(b,!0)}(K).replace(/\./g,"")},F=function(K){try{return k.decodeString(K,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Y=()=>{try{return l()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const b=K&&F(K[1]);return b&&JSON.parse(b)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},A=K=>{var b,e;return null===(e=null===(b=Y())||void 0===b?void 0:b.emulatorHosts)||void 0===e?void 0:e[K]},X=()=>{var K;return null===(K=Y())||void 0===K?void 0:K.config},t=K=>{var b;return null===(b=Y())||void 0===b?void 0:b[`_${K}`]};class U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((K,b)=>{this.resolve=K,this.reject=b}))}wrapCallback(K){return(b,e)=>{b?this.reject(b):this.resolve(e),"function"===typeof K&&(this.promise.catch((()=>{})),1===K.length?K(b):K(b,e))}}}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function m(){const K="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof K&&void 0!==K.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const K=B();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function x(){try{return"object"===typeof indexedDB}catch(K){return!1}}function Q(){return new Promise(((K,b)=>{try{let e=!0;const z="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(z);k.onsuccess=()=>{k.result.close(),e||self.indexedDB.deleteDatabase(z),K(!0)},k.onupgradeneeded=()=>{e=!1},k.onerror=()=>{var K;b((null===(K=k.error)||void 0===K?void 0:K.message)||"")}}catch(e){b(e)}}))}function G(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class i extends Error{constructor(K,b,e){super(b),this.code=K,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(K,b,e){this.service=K,this.serviceName=b,this.errors=e}create(K){const b=(arguments.length<=1?void 0:arguments[1])||{},e=`${this.service}/${K}`,z=this.errors[K],k=z?function(K,b){return K.replace(M,((K,e)=>{const z=b[e];return null!=z?String(z):`<${e}?>`}))}(z,b):"Error",j=`${this.serviceName}: ${k} (${e}).`;return new i(e,j,b)}}const M=/\{\$([^}]+)}/g;function r(K){for(const b in K)if(Object.prototype.hasOwnProperty.call(K,b))return!1;return!0}function L(K,b){if(K===b)return!0;const e=Object.keys(K),z=Object.keys(b);for(const k of e){if(!z.includes(k))return!1;const e=K[k],j=b[k];if(c(e)&&c(j)){if(!L(e,j))return!1}else if(e!==j)return!1}for(const k of z)if(!e.includes(k))return!1;return!0}function c(K){return null!==K&&"object"===typeof K}function v(K){const b=[];for(const[e,z]of Object.entries(K))Array.isArray(z)?z.forEach((K=>{b.push(encodeURIComponent(e)+"="+encodeURIComponent(K))})):b.push(encodeURIComponent(e)+"="+encodeURIComponent(z));return b.length?"&"+b.join("&"):""}function w(K){const b={};return K.replace(/^\?/,"").split("&").forEach((K=>{if(K){const[e,z]=K.split("=");b[decodeURIComponent(e)]=decodeURIComponent(z)}})),b}function h(K){const b=K.indexOf("?");if(!b)return"";const e=K.indexOf("#",b);return K.substring(b,e>0?e:void 0)}function R(K,b){const e=new n(K,b);return e.subscribe.bind(e)}class n{constructor(K,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{K(this)})).catch((K=>{this.error(K)}))}next(K){this.forEachObserver((b=>{b.next(K)}))}error(K){this.forEachObserver((b=>{b.error(K)})),this.close(K)}complete(){this.forEachObserver((K=>{K.complete()})),this.close()}subscribe(K,b,e){let z;if(void 0===K&&void 0===b&&void 0===e)throw new Error("Missing Observer.");z=function(K,b){if("object"!==typeof K||null===K)return!1;for(const e of b)if(e in K&&"function"===typeof K[e])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:b,complete:e},void 0===z.next&&(z.next=P),void 0===z.error&&(z.error=P),void 0===z.complete&&(z.complete=P);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(K){}})),this.observers.push(z),k}unsubscribeOne(K){void 0!==this.observers&&void 0!==this.observers[K]&&(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,K)}sendOne(K,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{b(this.observers[K])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}const d=1e3,p=2,a=144e5,O=.5;function g(K){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:d)*Math.pow(b,K),z=Math.round(O*e*(Math.random()-.5)*2);return Math.min(a,e+z)}function N(K){return K&&K._delegate?K._delegate:K}},10490:(K,b,e)=>{e.d(b,{e:()=>j.i,f:()=>XK,j:()=>q,k:()=>eK,n:()=>zK,p:()=>KK,t:()=>FK,w:()=>bK,z:()=>jK,D:()=>kK,F:()=>TK,G:()=>uK,O:()=>UK,K:()=>BK,S:()=>tK,U:()=>DK,Y:()=>mK,$:()=>IK});var z=e(10497),k=e(10504),j=e(10502);let T,F;const l=new WeakMap,Y=new WeakMap,A=new WeakMap,X=new WeakMap,t=new WeakMap;let U={get(K,b,e){if(K instanceof IDBTransaction){if("done"===b)return Y.get(K);if("objectStoreNames"===b)return K.objectStoreNames||A.get(K);if("store"===b)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return m(K[b])},set:(K,b,e)=>(K[b]=e,!0),has:(K,b)=>K instanceof IDBTransaction&&("done"===b||"store"===b)||b in K};function B(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(){for(var b=arguments.length,e=new Array(b),z=0;z<b;z++)e[z]=arguments[z];return K.apply(D(this),e),m(l.get(this))}:function(){for(var b=arguments.length,e=new Array(b),z=0;z<b;z++)e[z]=arguments[z];return m(K.apply(D(this),e))}:function(b){for(var e=arguments.length,z=new Array(e>1?e-1:0),k=1;k<e;k++)z[k-1]=arguments[k];const j=K.call(D(this),b,...z);return A.set(j,b.sort?b.sort():[b]),m(j)}}function u(K){return"function"===typeof K?B(K):(K instanceof IDBTransaction&&function(K){if(Y.has(K))return;const b=new Promise(((b,e)=>{const z=()=>{K.removeEventListener("complete",k),K.removeEventListener("error",j),K.removeEventListener("abort",j)},k=()=>{b(),z()},j=()=>{e(K.error||new DOMException("AbortError","AbortError")),z()};K.addEventListener("complete",k),K.addEventListener("error",j),K.addEventListener("abort",j)}));Y.set(K,b)}(K),b=K,(T||(T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((K=>b instanceof K))?new Proxy(K,U):K);var b}function m(K){if(K instanceof IDBRequest)return function(K){const b=new Promise(((b,e)=>{const z=()=>{K.removeEventListener("success",k),K.removeEventListener("error",j)},k=()=>{b(m(K.result)),z()},j=()=>{e(K.error),z()};K.addEventListener("success",k),K.addEventListener("error",j)}));return b.then((b=>{b instanceof IDBCursor&&l.set(b,K)})).catch((()=>{})),t.set(b,K),b}(K);if(X.has(K))return X.get(K);const b=u(K);return b!==K&&(X.set(K,b),t.set(b,K)),b}const D=K=>t.get(K);const I=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],Q=new Map;function G(K,b){if(!(K instanceof IDBDatabase)||b in K||"string"!==typeof b)return;if(Q.get(b))return Q.get(b);const e=b.replace(/FromIndex$/,""),z=b!==e,k=x.includes(e);if(!(e in(z?IDBIndex:IDBObjectStore).prototype)||!k&&!I.includes(e))return;const j=async function(K){const b=this.transaction(K,k?"readwrite":"readonly");let j=b.store;for(var T=arguments.length,F=new Array(T>1?T-1:0),l=1;l<T;l++)F[l-1]=arguments[l];return z&&(j=j.index(F.shift())),(await Promise.all([j[e](...F),k&&b.done]))[0]};return Q.set(b,j),j}U=(K=>({...K,get:(b,e,z)=>G(b,e)||K.get(b,e,z),has:(b,e)=>!!G(b,e)||K.has(b,e)}))(U);class i{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map((K=>{if(function(K){const b=K.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(K)){const b=K.getImmediate();return`${b.library}/${b.version}`}return null})).filter((K=>K)).join(" ")}}const S="@firebase/app",M="0.9.13",r=new k.f("@firebase/app"),L="@firebase/app-compat",c="@firebase/analytics-compat",v="@firebase/analytics",w="@firebase/app-check-compat",h="@firebase/app-check",R="@firebase/auth",n="@firebase/auth-compat",P="@firebase/database",d="@firebase/database-compat",p="@firebase/functions",a="@firebase/functions-compat",O="@firebase/installations",g="@firebase/installations-compat",N="@firebase/messaging",Z="@firebase/messaging-compat",y="@firebase/performance",s="@firebase/performance-compat",E="@firebase/remote-config",o="@firebase/remote-config-compat",C="@firebase/storage",H="@firebase/storage-compat",W="@firebase/firestore",f="@firebase/firestore-compat",V="firebase",q="[DEFAULT]",J={[S]:"fire-core",[L]:"fire-core-compat",[v]:"fire-analytics",[c]:"fire-analytics-compat",[h]:"fire-app-check",[w]:"fire-app-check-compat",[R]:"fire-auth",[n]:"fire-auth-compat",[P]:"fire-rtdb",[d]:"fire-rtdb-compat",[p]:"fire-fn",[a]:"fire-fn-compat",[O]:"fire-iid",[g]:"fire-iid-compat",[N]:"fire-fcm",[Z]:"fire-fcm-compat",[y]:"fire-perf",[s]:"fire-perf-compat",[E]:"fire-rc",[o]:"fire-rc-compat",[C]:"fire-gcs",[H]:"fire-gcs-compat",[W]:"fire-fst",[f]:"fire-fst-compat","fire-js":"fire-js",[V]:"fire-js-all"},KK=new Map,bK=new Map;function eK(K,b){try{K.container.We(b)}catch(e){r.debug(`Component ${b.name} failed to register with FirebaseApp ${K.name}`,e)}}function zK(K,b){K.container.addOrOverwriteComponent(b)}function kK(K){const b=K.name;if(bK.has(b))return r.debug(`There were multiple attempts to register component ${b}.`),!1;bK.set(b,K);for(const e of KK.values())eK(e,K);return!0}function jK(K,b){const e=K.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),K.container.getProvider(b)}function TK(K,b){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q;jK(K,b).clearInstance(e)}function FK(){bK.clear()}const lK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},YK=new j.g("app","Firebase",lK);class AK{constructor(K,b,e){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=e,this.container.We(new z.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw YK.create("app-deleted",{appName:this._name})}}const XK="9.23.0";function tK(K){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=K;if("object"!==typeof b){b={name:b}}const k=Object.assign({name:q,automaticDataCollectionEnabled:!1},b),T=k.name;if("string"!==typeof T||!T)throw YK.create("bad-app-name",{appName:String(T)});if(e||(e=(0,j.E)()),!e)throw YK.create("no-options");const F=KK.get(T);if(F){if((0,j.w)(e,F.options)&&(0,j.w)(k,F.config))return F;throw YK.create("duplicate-app",{appName:T})}const l=new z.c(T);for(const z of bK.values())l.We(z);const Y=new AK(e,k,l);return KK.set(T,Y),Y}function UK(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;const b=KK.get(K);if(!b&&K===q&&(0,j.E)())return tK();if(!b)throw YK.create("no-app",{appName:K});return b}function BK(){return Array.from(KK.values())}async function uK(K){const b=K.name;KK.has(b)&&(KK.delete(b),await Promise.all(K.container.getProviders().map((K=>K.delete()))),K.isDeleted=!0)}function mK(K,b,e){var k;let j=null!==(k=J[K])&&void 0!==k?k:K;e&&(j+=`-${e}`);const T=j.match(/\s|\//),F=b.match(/\s|\//);if(T||F){const K=[`Unable to register library "${j}" with version "${b}":`];return T&&K.push(`library name "${j}" contains illegal characters (whitespace or "/")`),T&&F&&K.push("and"),F&&K.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void r.warn(K.join(" "))}kK(new z.d(`${j}-version`,(()=>({library:j,version:b})),"VERSION"))}function DK(K,b){if(null!==K&&"function"!==typeof K)throw YK.create("invalid-log-argument");(0,k.m)(K,b)}function IK(K){(0,k.j)(K)}const xK="firebase-heartbeat-store";let QK=null;function GK(){return QK||(QK=function(K,b){let{blocked:e,upgrade:z,blocking:k,terminated:j}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const T=indexedDB.open(K,b),F=m(T);return z&&T.addEventListener("upgradeneeded",(K=>{z(m(T.result),K.oldVersion,K.newVersion,m(T.transaction),K)})),e&&T.addEventListener("blocked",(K=>e(K.oldVersion,K.newVersion,K))),F.then((K=>{j&&K.addEventListener("close",(()=>j())),k&&K.addEventListener("versionchange",(K=>k(K.oldVersion,K.newVersion,K)))})).catch((()=>{})),F}("firebase-heartbeat-database",1,{upgrade:(K,b)=>{if(0===b)K.createObjectStore(xK)}}).catch((K=>{throw YK.create("idb-open",{originalErrorMessage:K.message})}))),QK}async function iK(K,b){try{const e=(await GK()).transaction(xK,"readwrite"),z=e.objectStore(xK);await z.put(b,SK(K)),await e.done}catch(e){if(e instanceof j.i)r.warn(e.message);else{const K=YK.create("idb-set",{originalErrorMessage:null===e||void 0===e?void 0:e.message});r.warn(K.message)}}}function SK(K){return`${K.name}!${K.options.appId}`}class MK{constructor(K){this.container=K,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.ki=new LK(b),this._heartbeatsCachePromise=this.ki.read().then((K=>(this._heartbeatsCache=K,K)))}async triggerHeartbeat(){const K=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=rK();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((K=>K.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:K}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((K=>{const b=new Date(K.date).valueOf();return Date.now()-b<=2592e6})),this.ki.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const K=rK(),{heartbeatsToSend:b,unsentEntries:e}=function(K){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const e=[];let z=K.slice();for(const k of K){const K=e.find((K=>K.agent===k.agent));if(K){if(K.dates.push(k.date),cK(e)>b){K.dates.pop();break}}else if(e.push({agent:k.agent,dates:[k.date]}),cK(e)>b){e.pop();break}z=z.slice(1)}return{heartbeatsToSend:e,unsentEntries:z}}(this._heartbeatsCache.heartbeats),z=(0,j.q)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=K,e.length>0?(this._heartbeatsCache.heartbeats=e,await this.ki.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ki.overwrite(this._heartbeatsCache)),z}}function rK(){return(new Date).toISOString().substring(0,10)}class LK{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,j.U)()&&(0,j.fb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(K){try{const b=await GK();return await b.transaction(xK).objectStore(xK).get(SK(K))}catch(b){if(b instanceof j.i)r.warn(b.message);else{const K=YK.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});r.warn(K.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(K){var b;if(await this._canUseIndexedDBPromise){const e=await this.read();return iK(this.app,{lastSentHeartbeatDate:null!==(b=K.lastSentHeartbeatDate)&&void 0!==b?b:e.lastSentHeartbeatDate,heartbeats:K.heartbeats})}}async add(K){var b;if(await this._canUseIndexedDBPromise){const e=await this.read();return iK(this.app,{lastSentHeartbeatDate:null!==(b=K.lastSentHeartbeatDate)&&void 0!==b?b:e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...K.heartbeats]})}}}function cK(K){return(0,j.q)(JSON.stringify({version:2,heartbeats:K})).length}var vK;vK="",kK(new z.d("platform-logger",(K=>new i(K)),"PRIVATE")),kK(new z.d("heartbeat",(K=>new MK(K)),"PRIVATE")),mK(S,M,vK),mK(S,M,"esm2017"),mK("fire-js","")},10497:(K,b,e)=>{e.d(b,{c:()=>F,d:()=>k});var z=e(10502);class k{constructor(K,b,e){this.name=K,this.instanceFactory=b,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const j="[DEFAULT]";class T{constructor(K,b){this.name=K,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const b=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(b)){const K=new z.c;if(this.instancesDeferred.set(b,K),this.isInitialized(b)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:b});e&&K.resolve(e)}catch(e){}}return this.instancesDeferred.get(b).promise}getImmediate(K){var b;const e=this.normalizeInstanceIdentifier(null===K||void 0===K?void 0:K.identifier),z=null!==(b=null===K||void 0===K?void 0:K.optional)&&void 0!==b&&b;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(k){if(z)return null;throw k}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:j})}catch(b){}for(const[K,e]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(K);try{const K=this.getOrInitializeService({instanceIdentifier:z});e.resolve(K)}catch(b){}}}}clearInstance(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}async delete(){const K=Array.from(this.instances.values());await Promise.all([...K.filter((K=>"INTERNAL"in K)).map((K=>K.INTERNAL.delete())),...K.filter((K=>"_delete"in K)).map((K=>K._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return this.instances.has(K)}getOptions(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return this.instancesOptions.get(K)||{}}initialize(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=K,e=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(e))throw Error(`${this.name}(${e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:e,options:b});for(const[k,j]of this.instancesDeferred.entries()){e===this.normalizeInstanceIdentifier(k)&&j.resolve(z)}return z}Rh(K,b){var e;const z=this.normalizeInstanceIdentifier(b),k=null!==(e=this.onInitCallbacks.get(z))&&void 0!==e?e:new Set;k.add(K),this.onInitCallbacks.set(z,k);const j=this.instances.get(z);return j&&K(j,z),()=>{k.delete(K)}}invokeOnInitCallbacks(K,b){const e=this.onInitCallbacks.get(b);if(e)for(const k of e)try{k(K,b)}catch(z){}}getOrInitializeService(K){let{instanceIdentifier:b,options:e={}}=K,z=this.instances.get(b);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(k=b,k===j?void 0:k),options:e}),this.instances.set(b,z),this.instancesOptions.set(b,e),this.invokeOnInitCallbacks(z,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,z)}catch(T){}var k;return z||null}normalizeInstanceIdentifier(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return this.component?this.component.multipleInstances?K:j:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(K){this.name=K,this.providers=new Map}We(K){const b=this.getProvider(K.name);if(b.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);b.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.We(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const b=new T(K,this);return this.providers.set(K,b),b}getProviders(){return Array.from(this.providers.values())}}},10504:(K,b,e)=>{e.d(b,{b:()=>k,f:()=>Y,j:()=>A,m:()=>X});const z=[];var k;!function(K){K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT"}(k||(k={}));const j={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},T=k.INFO,F={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},l=function(K,b){if(b<K.logLevel)return;const e=(new Date).toISOString(),z=F[b];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var k=arguments.length,j=new Array(k>2?k-2:0),T=2;T<k;T++)j[T-2]=arguments[T];console[z](`[${e}]  ${K.name}:`,...j)};class Y{constructor(K){this.name=K,this._logLevel=T,this._logHandler=l,this._userLogHandler=null,z.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in k))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"===typeof K?j[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!==typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(){for(var K=arguments.length,b=new Array(K),e=0;e<K;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...b),this._logHandler(this,k.DEBUG,...b)}log(){for(var K=arguments.length,b=new Array(K),e=0;e<K;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...b),this._logHandler(this,k.VERBOSE,...b)}info(){for(var K=arguments.length,b=new Array(K),e=0;e<K;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,k.INFO,...b),this._logHandler(this,k.INFO,...b)}warn(){for(var K=arguments.length,b=new Array(K),e=0;e<K;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,k.WARN,...b),this._logHandler(this,k.WARN,...b)}error(){for(var K=arguments.length,b=new Array(K),e=0;e<K;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,k.ERROR,...b),this._logHandler(this,k.ERROR,...b)}}function A(K){z.forEach((b=>{b.setLogLevel(K)}))}function X(K,b){for(const e of z){let z=null;b&&b.level&&(z=j[b.level]),e.userLogHandler=null===K?null:function(b,e){for(var j=arguments.length,T=new Array(j>2?j-2:0),F=2;F<j;F++)T[F-2]=arguments[F];const l=T.map((K=>{if(null==K)return null;if("string"===typeof K)return K;if("number"===typeof K||"boolean"===typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(b){return null}})).filter((K=>K)).join(" ");e>=(null!==z&&void 0!==z?z:b.logLevel)&&K({level:k[e].toLowerCase(),message:l,args:T,type:b.name})}}}}}]);