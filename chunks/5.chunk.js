/*! For license information please see l3hvpl.5.9fa2ef61.chunk.js.LICENSE.txt */
"use strict";(self.v2pspxy442l=self.v2pspxy442l||[]).push([[5],{12232:(l,a,N)=>{N.d(a,{C:()=>k,D:()=>n,G:()=>J,J:()=>y,K:()=>P,N:()=>u,R:()=>B,T:()=>I,V:()=>C,Z:()=>M,ab:()=>W,c:()=>H,cb:()=>Y,f:()=>b,gb:()=>i,h:()=>q,jb:()=>h,k:()=>E,n:()=>w,nb:()=>A,r:()=>Z,v:()=>X,w:()=>Q,y:()=>t});const U=function(l){const a=[];let N=0;for(let U=0;U<l.length;U++){let c=l.charCodeAt(U);c<128?a[N++]=c:c<2048?(a[N++]=c>>6|192,a[N++]=63&c|128):55296===(64512&c)&&U+1<l.length&&56320===(64512&l.charCodeAt(U+1))?(c=65536+((1023&c)<<10)+(1023&l.charCodeAt(++U)),a[N++]=c>>18|240,a[N++]=c>>12&63|128,a[N++]=c>>6&63|128,a[N++]=63&c|128):(a[N++]=c>>12|224,a[N++]=c>>6&63|128,a[N++]=63&c|128)}return a},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(l,a){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,U=[];for(let c=0;c<l.length;c+=3){const a=l[c],K=c+1<l.length,Z=K?l[c+1]:0,w=c+2<l.length,S=w?l[c+2]:0,T=a>>2,J=(3&a)<<4|Z>>4;let n=(15&Z)<<2|S>>6,y=63&S;w||(y=64,K||(n=64)),U.push(N[T],N[J],N[n],N[y])}return U.join("")},encodeString(l,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(l):this.encodeByteArray(U(l),a)},decodeString(l,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(l):function(l){const a=[];let N=0,U=0;for(;N<l.length;){const c=l[N++];if(c<128)a[U++]=String.fromCharCode(c);else if(c>191&&c<224){const K=l[N++];a[U++]=String.fromCharCode((31&c)<<6|63&K)}else if(c>239&&c<365){const K=((7&c)<<18|(63&l[N++])<<12|(63&l[N++])<<6|63&l[N++])-65536;a[U++]=String.fromCharCode(55296+(K>>10)),a[U++]=String.fromCharCode(56320+(1023&K))}else{const K=l[N++],Z=l[N++];a[U++]=String.fromCharCode((15&c)<<12|(63&K)<<6|63&Z)}}return a.join("")}(this.decodeStringToByteArray(l,a))},decodeStringToByteArray(l,a){this.init_();const N=a?this.charToByteMapWebSafe_:this.charToByteMap_,U=[];for(let c=0;c<l.length;){const a=N[l.charAt(c++)],Z=c<l.length?N[l.charAt(c)]:0;++c;const w=c<l.length?N[l.charAt(c)]:64;++c;const S=c<l.length?N[l.charAt(c)]:64;if(++c,null==a||null==Z||null==w||null==S)throw new K;const T=a<<2|Z>>4;if(U.push(T),64!==w){const l=Z<<4&240|w>>2;if(U.push(l),64!==S){const l=w<<6&192|S;U.push(l)}}}return U},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z=function(l){return function(l){const a=U(l);return c.encodeByteArray(a,!0)}(l).replace(/\./g,"")},w=function(l){try{return c.decodeString(l,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};const S=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof N.g)return N.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,T=()=>{try{return S()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(N){return}const a=l&&w(l[1]);return a&&JSON.parse(a)})()}catch(l){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`)}},J=l=>{var a,N;return null===(N=null===(a=T())||void 0===a?void 0:a.emulatorHosts)||void 0===N?void 0:N[l]},n=()=>{var l;return null===(l=T())||void 0===l?void 0:l.config},y=l=>{var a;return null===(a=T())||void 0===a?void 0:a[`_${l}`]};class H{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((l,a)=>{this.resolve=l,this.reject=a}))}wrapCallback(l){return(a,N)=>{a?this.reject(a):this.resolve(N),"function"===typeof l&&(this.promise.catch((()=>{})),1===l.length?l(a):l(a,N))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function W(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function B(){const l="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof l&&void 0!==l.id}function Y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const l=u();return l.indexOf("MSIE ")>=0||l.indexOf("Trident/")>=0}function M(){try{return"object"===typeof indexedDB}catch(l){return!1}}function A(){return new Promise(((l,a)=>{try{let N=!0;const U="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(U);c.onsuccess=()=>{c.result.close(),N||self.indexedDB.deleteDatabase(U),l(!0)},c.onupgradeneeded=()=>{N=!1},c.onerror=()=>{var l;a((null===(l=c.error)||void 0===l?void 0:l.message)||"")}}catch(N){a(N)}}))}function E(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class q extends Error{constructor(l,a,N){super(a),this.code=l,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b.prototype.create)}}class b{constructor(l,a,N){this.service=l,this.serviceName=a,this.errors=N}create(l){const a=(arguments.length<=1?void 0:arguments[1])||{},N=`${this.service}/${l}`,U=this.errors[l],c=U?function(l,a){return l.replace(z,((l,N)=>{const U=a[N];return null!=U?String(U):`<${N}?>`}))}(U,a):"Error",K=`${this.serviceName}: ${c} (${N}).`;return new q(N,K,a)}}const z=/\{\$([^}]+)}/g;function I(l){for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a))return!1;return!0}function t(l,a){if(l===a)return!0;const N=Object.keys(l),U=Object.keys(a);for(const c of N){if(!U.includes(c))return!1;const N=l[c],K=a[c];if(O(N)&&O(K)){if(!t(N,K))return!1}else if(N!==K)return!1}for(const c of U)if(!N.includes(c))return!1;return!0}function O(l){return null!==l&&"object"===typeof l}function h(l){const a=[];for(const[N,U]of Object.entries(l))Array.isArray(U)?U.forEach((l=>{a.push(encodeURIComponent(N)+"="+encodeURIComponent(l))})):a.push(encodeURIComponent(N)+"="+encodeURIComponent(U));return a.length?"&"+a.join("&"):""}function i(l){const a={};return l.replace(/^\?/,"").split("&").forEach((l=>{if(l){const[N,U]=l.split("=");a[decodeURIComponent(N)]=decodeURIComponent(U)}})),a}function k(l){const a=l.indexOf("?");if(!a)return"";const N=l.indexOf("#",a);return l.substring(a,N>0?N:void 0)}function Q(l,a){const N=new j(l,a);return N.subscribe.bind(N)}class j{constructor(l,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then((()=>{l(this)})).catch((l=>{this.error(l)}))}next(l){this.forEachObserver((a=>{a.next(l)}))}error(l){this.forEachObserver((a=>{a.error(l)})),this.close(l)}complete(){this.forEachObserver((l=>{l.complete()})),this.close()}subscribe(l,a,N){let U;if(void 0===l&&void 0===a&&void 0===N)throw new Error("Missing Observer.");U=function(l,a){if("object"!==typeof l||null===l)return!1;for(const N of a)if(N in l&&"function"===typeof l[N])return!0;return!1}(l,["next","error","complete"])?l:{next:l,error:a,complete:N},void 0===U.next&&(U.next=f),void 0===U.error&&(U.error=f),void 0===U.complete&&(U.complete=f);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch(l){}})),this.observers.push(U),c}unsubscribeOne(l){void 0!==this.observers&&void 0!==this.observers[l]&&(delete this.observers[l],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(l){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,l)}sendOne(l,a){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[l])try{a(this.observers[l])}catch(N){"undefined"!==typeof console&&console.error&&console.error(N)}}))}close(l){this.finalized||(this.finalized=!0,void 0!==l&&(this.finalError=l),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function f(){}const p=1e3,R=2,L=144e5,r=.5;function X(l){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;const N=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p)*Math.pow(a,l),U=Math.round(r*N*(Math.random()-.5)*2);return Math.min(L,N+U)}function P(l){return l&&l._delegate?l._delegate:l}},12225:(l,a,N)=>{N.d(a,{d:()=>K.h,g:()=>nl,h:()=>v,l:()=>Nl,m:()=>Ul,o:()=>ll,s:()=>wl,t:()=>al,x:()=>Kl,B:()=>cl,F:()=>Zl,J:()=>Wl,O:()=>Hl,K:()=>ul,Q:()=>yl,R:()=>Yl,T:()=>Bl,U:()=>Cl});var U=N(12228),c=N(12236),K=N(12232);let Z,w;const S=new WeakMap,T=new WeakMap,J=new WeakMap,n=new WeakMap,y=new WeakMap;let H={get(l,a,N){if(l instanceof IDBTransaction){if("done"===a)return T.get(l);if("objectStoreNames"===a)return l.objectStoreNames||J.get(l);if("store"===a)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return B(l[a])},set:(l,a,N)=>(l[a]=N,!0),has:(l,a)=>l instanceof IDBTransaction&&("done"===a||"store"===a)||a in l};function u(l){return l!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(l)?function(){for(var a=arguments.length,N=new Array(a),U=0;U<a;U++)N[U]=arguments[U];return l.apply(Y(this),N),B(S.get(this))}:function(){for(var a=arguments.length,N=new Array(a),U=0;U<a;U++)N[U]=arguments[U];return B(l.apply(Y(this),N))}:function(a){for(var N=arguments.length,U=new Array(N>1?N-1:0),c=1;c<N;c++)U[c-1]=arguments[c];const K=l.call(Y(this),a,...U);return J.set(K,a.sort?a.sort():[a]),B(K)}}function W(l){return"function"===typeof l?u(l):(l instanceof IDBTransaction&&function(l){if(T.has(l))return;const a=new Promise(((a,N)=>{const U=()=>{l.removeEventListener("complete",c),l.removeEventListener("error",K),l.removeEventListener("abort",K)},c=()=>{a(),U()},K=()=>{N(l.error||new DOMException("AbortError","AbortError")),U()};l.addEventListener("complete",c),l.addEventListener("error",K),l.addEventListener("abort",K)}));T.set(l,a)}(l),a=l,(Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((l=>a instanceof l))?new Proxy(l,H):l);var a}function B(l){if(l instanceof IDBRequest)return function(l){const a=new Promise(((a,N)=>{const U=()=>{l.removeEventListener("success",c),l.removeEventListener("error",K)},c=()=>{a(B(l.result)),U()},K=()=>{N(l.error),U()};l.addEventListener("success",c),l.addEventListener("error",K)}));return a.then((a=>{a instanceof IDBCursor&&S.set(a,l)})).catch((()=>{})),y.set(a,l),a}(l);if(n.has(l))return n.get(l);const a=W(l);return a!==l&&(n.set(l,a),y.set(a,l)),a}const Y=l=>y.get(l);const C=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],A=new Map;function E(l,a){if(!(l instanceof IDBDatabase)||a in l||"string"!==typeof a)return;if(A.get(a))return A.get(a);const N=a.replace(/FromIndex$/,""),U=a!==N,c=M.includes(N);if(!(N in(U?IDBIndex:IDBObjectStore).prototype)||!c&&!C.includes(N))return;const K=async function(l){const a=this.transaction(l,c?"readwrite":"readonly");let K=a.store;for(var Z=arguments.length,w=new Array(Z>1?Z-1:0),S=1;S<Z;S++)w[S-1]=arguments[S];return U&&(K=K.index(w.shift())),(await Promise.all([K[N](...w),c&&a.done]))[0]};return A.set(a,K),K}H=(l=>({...l,get:(a,N,U)=>E(a,N)||l.get(a,N,U),has:(a,N)=>!!E(a,N)||l.has(a,N)}))(H);class q{constructor(l){this.container=l}getPlatformInfoString(){return this.container.getProviders().map((l=>{if(function(l){const a=l.getComponent();return"VERSION"===(null===a||void 0===a?void 0:a.type)}(l)){const a=l.getImmediate();return`${a.library}/${a.version}`}return null})).filter((l=>l)).join(" ")}}const b="@firebase/app",z="0.9.13",I=new c.d("@firebase/app"),t="@firebase/app-compat",O="@firebase/analytics-compat",h="@firebase/analytics",i="@firebase/app-check-compat",k="@firebase/app-check",Q="@firebase/auth",j="@firebase/auth-compat",f="@firebase/database",p="@firebase/database-compat",R="@firebase/functions",L="@firebase/functions-compat",r="@firebase/installations",X="@firebase/installations-compat",P="@firebase/messaging",d="@firebase/messaging-compat",F="@firebase/performance",e="@firebase/performance-compat",s="@firebase/remote-config",o="@firebase/remote-config-compat",G="@firebase/storage",ml="@firebase/storage-compat",x="@firebase/firestore",V="@firebase/firestore-compat",D="firebase",v="[DEFAULT]",g={[b]:"fire-core",[t]:"fire-core-compat",[h]:"fire-analytics",[O]:"fire-analytics-compat",[k]:"fire-app-check",[i]:"fire-app-check-compat",[Q]:"fire-auth",[j]:"fire-auth-compat",[f]:"fire-rtdb",[p]:"fire-rtdb-compat",[R]:"fire-fn",[L]:"fire-fn-compat",[r]:"fire-iid",[X]:"fire-iid-compat",[P]:"fire-fcm",[d]:"fire-fcm-compat",[F]:"fire-perf",[e]:"fire-perf-compat",[s]:"fire-rc",[o]:"fire-rc-compat",[G]:"fire-gcs",[ml]:"fire-gcs-compat",[x]:"fire-fst",[V]:"fire-fst-compat","fire-js":"fire-js",[D]:"fire-js-all"},ll=new Map,al=new Map;function Nl(l,a){try{l.container.oS(a)}catch(N){I.debug(`Component ${a.name} failed to register with FirebaseApp ${l.name}`,N)}}function Ul(l,a){l.container.addOrOverwriteComponent(a)}function cl(l){const a=l.name;if(al.has(a))return I.debug(`There were multiple attempts to register component ${a}.`),!1;al.set(a,l);for(const N of ll.values())Nl(N,l);return!0}function Kl(l,a){const N=l.container.getProvider("heartbeat").getImmediate({optional:!0});return N&&N.triggerHeartbeat(),l.container.getProvider(a)}function Zl(l,a){let N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;Kl(l,a).clearInstance(N)}function wl(){al.clear()}const Sl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tl=new K.f("app","Firebase",Sl);class Jl{constructor(l,a,N){this._isDeleted=!1,this._options=Object.assign({},l),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=N,this.container.oS(new U.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(l){this.checkDestroyed(),this._automaticDataCollectionEnabled=l}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(l){this._isDeleted=l}checkDestroyed(){if(this.isDeleted)throw Tl.create("app-deleted",{appName:this._name})}}const nl="9.23.0";function yl(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=l;if("object"!==typeof a){a={name:a}}const c=Object.assign({name:v,automaticDataCollectionEnabled:!1},a),Z=c.name;if("string"!==typeof Z||!Z)throw Tl.create("bad-app-name",{appName:String(Z)});if(N||(N=(0,K.D)()),!N)throw Tl.create("no-options");const w=ll.get(Z);if(w){if((0,K.y)(N,w.options)&&(0,K.y)(c,w.config))return w;throw Tl.create("duplicate-app",{appName:Z})}const S=new U.d(Z);for(const U of al.values())S.oS(U);const T=new Jl(N,c,S);return ll.set(Z,T),T}function Hl(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const a=ll.get(l);if(!a&&l===v&&(0,K.D)())return yl();if(!a)throw Tl.create("no-app",{appName:l});return a}function ul(){return Array.from(ll.values())}async function Wl(l){const a=l.name;ll.has(a)&&(ll.delete(a),await Promise.all(l.container.getProviders().map((l=>l.delete()))),l.isDeleted=!0)}function Bl(l,a,N){var c;let K=null!==(c=g[l])&&void 0!==c?c:l;N&&(K+=`-${N}`);const Z=K.match(/\s|\//),w=a.match(/\s|\//);if(Z||w){const l=[`Unable to register library "${K}" with version "${a}":`];return Z&&l.push(`library name "${K}" contains illegal characters (whitespace or "/")`),Z&&w&&l.push("and"),w&&l.push(`version name "${a}" contains illegal characters (whitespace or "/")`),void I.warn(l.join(" "))}cl(new U.e(`${K}-version`,(()=>({library:K,version:a})),"VERSION"))}function Yl(l,a){if(null!==l&&"function"!==typeof l)throw Tl.create("invalid-log-argument");(0,c.l)(l,a)}function Cl(l){(0,c.h)(l)}const Ml="firebase-heartbeat-store";let Al=null;function El(){return Al||(Al=function(l,a){let{blocked:N,upgrade:U,blocking:c,terminated:K}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Z=indexedDB.open(l,a),w=B(Z);return U&&Z.addEventListener("upgradeneeded",(l=>{U(B(Z.result),l.oldVersion,l.newVersion,B(Z.transaction),l)})),N&&Z.addEventListener("blocked",(l=>N(l.oldVersion,l.newVersion,l))),w.then((l=>{K&&l.addEventListener("close",(()=>K())),c&&l.addEventListener("versionchange",(l=>c(l.oldVersion,l.newVersion,l)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(l,a)=>{if(0===a)l.createObjectStore(Ml)}}).catch((l=>{throw Tl.create("idb-open",{originalErrorMessage:l.message})}))),Al}async function ql(l,a){try{const N=(await El()).transaction(Ml,"readwrite"),U=N.objectStore(Ml);await U.put(a,bl(l)),await N.done}catch(N){if(N instanceof K.h)I.warn(N.message);else{const l=Tl.create("idb-set",{originalErrorMessage:null===N||void 0===N?void 0:N.message});I.warn(l.message)}}}function bl(l){return`${l.name}!${l.options.appId}`}class zl{constructor(l){this.container=l,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this.Mn=new tl(a),this._heartbeatsCachePromise=this.Mn.read().then((l=>(this._heartbeatsCache=l,l)))}async triggerHeartbeat(){const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Il();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((l=>l.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=2592e6})),this.Mn.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const l=Il(),{heartbeatsToSend:a,unsentEntries:N}=function(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const N=[];let U=l.slice();for(const c of l){const l=N.find((l=>l.agent===c.agent));if(l){if(l.dates.push(c.date),Ol(N)>a){l.dates.pop();break}}else if(N.push({agent:c.agent,dates:[c.date]}),Ol(N)>a){N.pop();break}U=U.slice(1)}return{heartbeatsToSend:N,unsentEntries:U}}(this._heartbeatsCache.heartbeats),U=(0,K.r)(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=l,N.length>0?(this._heartbeatsCache.heartbeats=N,await this.Mn.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Mn.overwrite(this._heartbeatsCache)),U}}function Il(){return(new Date).toISOString().substring(0,10)}class tl{constructor(l){this.app=l,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,K.Z)()&&(0,K.nb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(l){try{const a=await El();return await a.transaction(Ml).objectStore(Ml).get(bl(l))}catch(a){if(a instanceof K.h)I.warn(a.message);else{const l=Tl.create("idb-get",{originalErrorMessage:null===a||void 0===a?void 0:a.message});I.warn(l.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(l){var a;if(await this._canUseIndexedDBPromise){const N=await this.read();return ql(this.app,{lastSentHeartbeatDate:null!==(a=l.lastSentHeartbeatDate)&&void 0!==a?a:N.lastSentHeartbeatDate,heartbeats:l.heartbeats})}}async add(l){var a;if(await this._canUseIndexedDBPromise){const N=await this.read();return ql(this.app,{lastSentHeartbeatDate:null!==(a=l.lastSentHeartbeatDate)&&void 0!==a?a:N.lastSentHeartbeatDate,heartbeats:[...N.heartbeats,...l.heartbeats]})}}}function Ol(l){return(0,K.r)(JSON.stringify({version:2,heartbeats:l})).length}var hl;hl="",cl(new U.e("platform-logger",(l=>new q(l)),"PRIVATE")),cl(new U.e("heartbeat",(l=>new zl(l)),"PRIVATE")),Bl(b,z,hl),Bl(b,z,"esm2017"),Bl("fire-js","")},12228:(l,a,N)=>{N.d(a,{d:()=>w,e:()=>c});var U=N(12232);class c{constructor(l,a,N){this.name=l,this.instanceFactory=a,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(l){return this.instantiationMode=l,this}setMultipleInstances(l){return this.multipleInstances=l,this}setServiceProps(l){return this.serviceProps=l,this}setInstanceCreatedCallback(l){return this.onInstanceCreated=l,this}}const K="[DEFAULT]";class Z{constructor(l,a){this.name=l,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(l){const a=this.normalizeInstanceIdentifier(l);if(!this.instancesDeferred.has(a)){const l=new U.c;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const N=this.getOrInitializeService({instanceIdentifier:a});N&&l.resolve(N)}catch(N){}}return this.instancesDeferred.get(a).promise}getImmediate(l){var a;const N=this.normalizeInstanceIdentifier(null===l||void 0===l?void 0:l.identifier),U=null!==(a=null===l||void 0===l?void 0:l.optional)&&void 0!==a&&a;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(U)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:N})}catch(c){if(U)return null;throw c}}getComponent(){return this.component}setComponent(l){if(l.name!==this.name)throw Error(`Mismatching Component ${l.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=l,this.shouldAutoInitialize()){if(function(l){return"EAGER"===l.instantiationMode}(l))try{this.getOrInitializeService({instanceIdentifier:K})}catch(a){}for(const[l,N]of this.instancesDeferred.entries()){const U=this.normalizeInstanceIdentifier(l);try{const l=this.getOrInitializeService({instanceIdentifier:U});N.resolve(l)}catch(a){}}}}clearInstance(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;this.instancesDeferred.delete(l),this.instancesOptions.delete(l),this.instances.delete(l)}async delete(){const l=Array.from(this.instances.values());await Promise.all([...l.filter((l=>"INTERNAL"in l)).map((l=>l.INTERNAL.delete())),...l.filter((l=>"_delete"in l)).map((l=>l._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instances.has(l)}getOptions(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instancesOptions.get(l)||{}}initialize(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:a={}}=l,N=this.normalizeInstanceIdentifier(l.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const U=this.getOrInitializeService({instanceIdentifier:N,options:a});for(const[c,K]of this.instancesDeferred.entries()){N===this.normalizeInstanceIdentifier(c)&&K.resolve(U)}return U}vJ(l,a){var N;const U=this.normalizeInstanceIdentifier(a),c=null!==(N=this.onInitCallbacks.get(U))&&void 0!==N?N:new Set;c.add(l),this.onInitCallbacks.set(U,c);const K=this.instances.get(U);return K&&l(K,U),()=>{c.delete(l)}}invokeOnInitCallbacks(l,a){const N=this.onInitCallbacks.get(a);if(N)for(const c of N)try{c(l,a)}catch(U){}}getOrInitializeService(l){let{instanceIdentifier:a,options:N={}}=l,U=this.instances.get(a);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(c=a,c===K?void 0:c),options:N}),this.instances.set(a,U),this.instancesOptions.set(a,N),this.invokeOnInitCallbacks(U,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,U)}catch(Z){}var c;return U||null}normalizeInstanceIdentifier(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.component?this.component.multipleInstances?l:K:l}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(l){this.name=l,this.providers=new Map}oS(l){const a=this.getProvider(l.name);if(a.isComponentSet())throw new Error(`Component ${l.name} has already been registered with ${this.name}`);a.setComponent(l)}addOrOverwriteComponent(l){this.getProvider(l.name).isComponentSet()&&this.providers.delete(l.name),this.oS(l)}getProvider(l){if(this.providers.has(l))return this.providers.get(l);const a=new Z(l,this);return this.providers.set(l,a),a}getProviders(){return Array.from(this.providers.values())}}},12236:(l,a,N)=>{N.d(a,{b:()=>c,d:()=>T,h:()=>J,l:()=>n});const U=[];var c;!function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"}(c||(c={}));const K={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},Z=c.INFO,w={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},S=function(l,a){if(a<l.logLevel)return;const N=(new Date).toISOString(),U=w[a];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${a})`);for(var c=arguments.length,K=new Array(c>2?c-2:0),Z=2;Z<c;Z++)K[Z-2]=arguments[Z];console[U](`[${N}]  ${l.name}:`,...K)};class T{constructor(l){this.name=l,this._logLevel=Z,this._logHandler=S,this._userLogHandler=null,U.push(this)}get logLevel(){return this._logLevel}set logLevel(l){if(!(l in c))throw new TypeError(`Invalid value "${l}" assigned to \`logLevel\``);this._logLevel=l}setLogLevel(l){this._logLevel="string"===typeof l?K[l]:l}get logHandler(){return this._logHandler}set logHandler(l){if("function"!==typeof l)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=l}get userLogHandler(){return this._userLogHandler}set userLogHandler(l){this._userLogHandler=l}debug(){for(var l=arguments.length,a=new Array(l),N=0;N<l;N++)a[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...a),this._logHandler(this,c.DEBUG,...a)}log(){for(var l=arguments.length,a=new Array(l),N=0;N<l;N++)a[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...a),this._logHandler(this,c.VERBOSE,...a)}info(){for(var l=arguments.length,a=new Array(l),N=0;N<l;N++)a[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,c.INFO,...a),this._logHandler(this,c.INFO,...a)}warn(){for(var l=arguments.length,a=new Array(l),N=0;N<l;N++)a[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,c.WARN,...a),this._logHandler(this,c.WARN,...a)}error(){for(var l=arguments.length,a=new Array(l),N=0;N<l;N++)a[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,c.ERROR,...a),this._logHandler(this,c.ERROR,...a)}}function J(l){U.forEach((a=>{a.setLogLevel(l)}))}function n(l,a){for(const N of U){let U=null;a&&a.level&&(U=K[a.level]),N.userLogHandler=null===l?null:function(a,N){for(var K=arguments.length,Z=new Array(K>2?K-2:0),w=2;w<K;w++)Z[w-2]=arguments[w];const S=Z.map((l=>{if(null==l)return null;if("string"===typeof l)return l;if("number"===typeof l||"boolean"===typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(a){return null}})).filter((l=>l)).join(" ");N>=(null!==U&&void 0!==U?U:a.logLevel)&&l({level:c[N].toLowerCase(),message:S,args:Z,type:a.name})}}}}}]);