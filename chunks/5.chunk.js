/*! For license information please see ekapur.5.e4da6e1e.chunk.js.LICENSE.txt */
"use strict";(self.g111kvdsqxc=self.g111kvdsqxc||[]).push([[5],{11071:(K,H,M)=>{M.d(H,{$:()=>O,A:()=>V,D:()=>T,E:()=>z,I:()=>f,L:()=>G,M:()=>t,O:()=>v,Q:()=>L,U:()=>D,X:()=>B,Z:()=>C,ab:()=>S,c:()=>a,cb:()=>k,e:()=>l,fb:()=>c,i:()=>E,jb:()=>i,l:()=>Z,n:()=>h,q:()=>y,u:()=>R,x:()=>d});const q=function(K){const H=[];let M=0;for(let q=0;q<K.length;q++){let w=K.charCodeAt(q);w<128?H[M++]=w:w<2048?(H[M++]=w>>6|192,H[M++]=63&w|128):55296===(64512&w)&&q+1<K.length&&56320===(64512&K.charCodeAt(q+1))?(w=65536+((1023&w)<<10)+(1023&K.charCodeAt(++q)),H[M++]=w>>18|240,H[M++]=w>>12&63|128,H[M++]=w>>6&63|128,H[M++]=63&w|128):(H[M++]=w>>12|224,H[M++]=w>>6&63|128,H[M++]=63&w|128)}return H},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(K,H){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let w=0;w<K.length;w+=3){const H=K[w],u=w+1<K.length,y=u?K[w+1]:0,h=w+2<K.length,W=h?K[w+2]:0,I=H>>2,f=(3&H)<<4|y>>4;let z=(15&y)<<2|W>>6,G=63&W;h||(G=64,u||(z=64)),q.push(M[I],M[f],M[z],M[G])}return q.join("")},encodeString(K,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(K):this.encodeByteArray(q(K),H)},decodeString(K,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(K):function(K){const H=[];let M=0,q=0;for(;M<K.length;){const w=K[M++];if(w<128)H[q++]=String.fromCharCode(w);else if(w>191&&w<224){const u=K[M++];H[q++]=String.fromCharCode((31&w)<<6|63&u)}else if(w>239&&w<365){const u=((7&w)<<18|(63&K[M++])<<12|(63&K[M++])<<6|63&K[M++])-65536;H[q++]=String.fromCharCode(55296+(u>>10)),H[q++]=String.fromCharCode(56320+(1023&u))}else{const u=K[M++],y=K[M++];H[q++]=String.fromCharCode((15&w)<<12|(63&u)<<6|63&y)}}return H.join("")}(this.decodeStringToByteArray(K,H))},decodeStringToByteArray(K,H){this.init_();const M=H?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let w=0;w<K.length;){const H=M[K.charAt(w++)],y=w<K.length?M[K.charAt(w)]:0;++w;const h=w<K.length?M[K.charAt(w)]:64;++w;const W=w<K.length?M[K.charAt(w)]:64;if(++w,null==H||null==y||null==h||null==W)throw new u;const I=H<<2|y>>4;if(q.push(I),64!==h){const K=y<<4&240|h>>2;if(q.push(K),64!==W){const K=h<<6&192|W;q.push(K)}}}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(K){return function(K){const H=q(K);return w.encodeByteArray(H,!0)}(K).replace(/\./g,"")},h=function(K){try{return w.decodeString(K,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};const W=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof M.g)return M.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,I=()=>{try{return W()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(M){return}const H=K&&h(K[1]);return H&&JSON.parse(H)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},f=K=>{var H,M;return null===(M=null===(H=I())||void 0===H?void 0:H.emulatorHosts)||void 0===M?void 0:M[K]},z=()=>{var K;return null===(K=I())||void 0===K?void 0:K.config},G=K=>{var H;return null===(H=I())||void 0===H?void 0:H[`_${K}`]};class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((K,H)=>{this.resolve=K,this.reject=H}))}wrapCallback(K){return(H,M)=>{H?this.reject(H):this.resolve(M),"function"===typeof K&&(this.promise.catch((()=>{})),1===K.length?K(H):K(H,M))}}}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function L(){const K="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof K&&void 0!==K.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function B(){const K=v();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function C(){try{return"object"===typeof indexedDB}catch(K){return!1}}function i(){return new Promise(((K,H)=>{try{let M=!0;const q="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(q);w.onsuccess=()=>{w.result.close(),M||self.indexedDB.deleteDatabase(q),K(!0)},w.onupgradeneeded=()=>{M=!1},w.onerror=()=>{var K;H((null===(K=w.error)||void 0===K?void 0:K.message)||"")}}catch(M){H(M)}}))}function Z(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(K,H,M){super(H),this.code=K,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(K,H,M){this.service=K,this.serviceName=H,this.errors=M}create(K){const H=(arguments.length<=1?void 0:arguments[1])||{},M=`${this.service}/${K}`,q=this.errors[K],w=q?function(K,H){return K.replace(s,((K,M)=>{const q=H[M];return null!=q?String(q):`<${M}?>`}))}(q,H):"Error",u=`${this.serviceName}: ${w} (${M}).`;return new E(M,u,H)}}const s=/\{\$([^}]+)}/g;function D(K){for(const H in K)if(Object.prototype.hasOwnProperty.call(K,H))return!1;return!0}function V(K,H){if(K===H)return!0;const M=Object.keys(K),q=Object.keys(H);for(const w of M){if(!q.includes(w))return!1;const M=K[w],u=H[w];if(n(M)&&n(u)){if(!V(M,u))return!1}else if(M!==u)return!1}for(const w of q)if(!M.includes(w))return!1;return!0}function n(K){return null!==K&&"object"===typeof K}function c(K){const H=[];for(const[M,q]of Object.entries(K))Array.isArray(q)?q.forEach((K=>{H.push(encodeURIComponent(M)+"="+encodeURIComponent(K))})):H.push(encodeURIComponent(M)+"="+encodeURIComponent(q));return H.length?"&"+H.join("&"):""}function k(K){const H={};return K.replace(/^\?/,"").split("&").forEach((K=>{if(K){const[M,q]=K.split("=");H[decodeURIComponent(M)]=decodeURIComponent(q)}})),H}function T(K){const H=K.indexOf("?");if(!H)return"";const M=K.indexOf("#",H);return K.substring(H,M>0?M:void 0)}function d(K,H){const M=new x(K,H);return M.subscribe.bind(M)}class x{constructor(K,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then((()=>{K(this)})).catch((K=>{this.error(K)}))}next(K){this.forEachObserver((H=>{H.next(K)}))}error(K){this.forEachObserver((H=>{H.error(K)})),this.close(K)}complete(){this.forEachObserver((K=>{K.complete()})),this.close()}subscribe(K,H,M){let q;if(void 0===K&&void 0===H&&void 0===M)throw new Error("Missing Observer.");q=function(K,H){if("object"!==typeof K||null===K)return!1;for(const M of H)if(M in K&&"function"===typeof K[M])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:H,complete:M},void 0===q.next&&(q.next=Q),void 0===q.error&&(q.error=Q),void 0===q.complete&&(q.complete=Q);const w=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(K){}})),this.observers.push(q),w}unsubscribeOne(K){void 0!==this.observers&&void 0!==this.observers[K]&&(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,K)}sendOne(K,H){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{H(this.observers[K])}catch(M){"undefined"!==typeof console&&console.error&&console.error(M)}}))}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Q(){}const J=1e3,N=2,p=144e5,o=.5;function R(K){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;const M=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:J)*Math.pow(H,K),q=Math.round(o*M*(Math.random()-.5)*2);return Math.min(p,M+q)}function t(K){return K&&K._delegate?K._delegate:K}},11062:(K,H,M)=>{M.d(H,{c:()=>u.i,d:()=>zK,h:()=>X,l:()=>MK,n:()=>qK,o:()=>KK,r:()=>hK,u:()=>HK,w:()=>uK,y:()=>wK,B:()=>yK,E:()=>OK,I:()=>aK,H:()=>vK,L:()=>GK,N:()=>SK,O:()=>LK,R:()=>BK});var q=M(11068),w=M(11080),u=M(11071);let y,h;const W=new WeakMap,I=new WeakMap,f=new WeakMap,z=new WeakMap,G=new WeakMap;let a={get(K,H,M){if(K instanceof IDBTransaction){if("done"===H)return I.get(K);if("objectStoreNames"===H)return K.objectStoreNames||f.get(K);if("store"===H)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return L(K[H])},set:(K,H,M)=>(K[H]=M,!0),has:(K,H)=>K instanceof IDBTransaction&&("done"===H||"store"===H)||H in K};function v(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(){for(var H=arguments.length,M=new Array(H),q=0;q<H;q++)M[q]=arguments[q];return K.apply(S(this),M),L(W.get(this))}:function(){for(var H=arguments.length,M=new Array(H),q=0;q<H;q++)M[q]=arguments[q];return L(K.apply(S(this),M))}:function(H){for(var M=arguments.length,q=new Array(M>1?M-1:0),w=1;w<M;w++)q[w-1]=arguments[w];const u=K.call(S(this),H,...q);return f.set(u,H.sort?H.sort():[H]),L(u)}}function O(K){return"function"===typeof K?v(K):(K instanceof IDBTransaction&&function(K){if(I.has(K))return;const H=new Promise(((H,M)=>{const q=()=>{K.removeEventListener("complete",w),K.removeEventListener("error",u),K.removeEventListener("abort",u)},w=()=>{H(),q()},u=()=>{M(K.error||new DOMException("AbortError","AbortError")),q()};K.addEventListener("complete",w),K.addEventListener("error",u),K.addEventListener("abort",u)}));I.set(K,H)}(K),H=K,(y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((K=>H instanceof K))?new Proxy(K,a):K);var H}function L(K){if(K instanceof IDBRequest)return function(K){const H=new Promise(((H,M)=>{const q=()=>{K.removeEventListener("success",w),K.removeEventListener("error",u)},w=()=>{H(L(K.result)),q()},u=()=>{M(K.error),q()};K.addEventListener("success",w),K.addEventListener("error",u)}));return H.then((H=>{H instanceof IDBCursor&&W.set(H,K)})).catch((()=>{})),G.set(H,K),H}(K);if(z.has(K))return z.get(K);const H=O(K);return H!==K&&(z.set(K,H),G.set(H,K)),H}const S=K=>G.get(K);const B=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],i=new Map;function Z(K,H){if(!(K instanceof IDBDatabase)||H in K||"string"!==typeof H)return;if(i.get(H))return i.get(H);const M=H.replace(/FromIndex$/,""),q=H!==M,w=C.includes(M);if(!(M in(q?IDBIndex:IDBObjectStore).prototype)||!w&&!B.includes(M))return;const u=async function(K){const H=this.transaction(K,w?"readwrite":"readonly");let u=H.store;for(var y=arguments.length,h=new Array(y>1?y-1:0),W=1;W<y;W++)h[W-1]=arguments[W];return q&&(u=u.index(h.shift())),(await Promise.all([u[M](...h),w&&H.done]))[0]};return i.set(H,u),u}a=(K=>({...K,get:(H,M,q)=>Z(H,M)||K.get(H,M,q),has:(H,M)=>!!Z(H,M)||K.has(H,M)}))(a);class E{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map((K=>{if(function(K){const H=K.getComponent();return"VERSION"===(null===H||void 0===H?void 0:H.type)}(K)){const H=K.getImmediate();return`${H.library}/${H.version}`}return null})).filter((K=>K)).join(" ")}}const l="@firebase/app",s="0.9.13",D=new w.h("@firebase/app"),V="@firebase/app-compat",n="@firebase/analytics-compat",c="@firebase/analytics",k="@firebase/app-check-compat",T="@firebase/app-check",d="@firebase/auth",x="@firebase/auth-compat",Q="@firebase/database",J="@firebase/database-compat",N="@firebase/functions",p="@firebase/functions-compat",o="@firebase/installations",R="@firebase/installations-compat",t="@firebase/messaging",U="@firebase/messaging-compat",j="@firebase/performance",m="@firebase/performance-compat",F="@firebase/remote-config",Y="@firebase/remote-config-compat",r="@firebase/storage",e="@firebase/storage-compat",b="@firebase/firestore",P="@firebase/firestore-compat",g="firebase",X="[DEFAULT]",A={[l]:"fire-core",[V]:"fire-core-compat",[c]:"fire-analytics",[n]:"fire-analytics-compat",[T]:"fire-app-check",[k]:"fire-app-check-compat",[d]:"fire-auth",[x]:"fire-auth-compat",[Q]:"fire-rtdb",[J]:"fire-rtdb-compat",[N]:"fire-fn",[p]:"fire-fn-compat",[o]:"fire-iid",[R]:"fire-iid-compat",[t]:"fire-fcm",[U]:"fire-fcm-compat",[j]:"fire-perf",[m]:"fire-perf-compat",[F]:"fire-rc",[Y]:"fire-rc-compat",[r]:"fire-gcs",[e]:"fire-gcs-compat",[b]:"fire-fst",[P]:"fire-fst-compat","fire-js":"fire-js",[g]:"fire-js-all"},KK=new Map,HK=new Map;function MK(K,H){try{K.container.UW(H)}catch(M){D.debug(`Component ${H.name} failed to register with FirebaseApp ${K.name}`,M)}}function qK(K,H){K.container.addOrOverwriteComponent(H)}function wK(K){const H=K.name;if(HK.has(H))return D.debug(`There were multiple attempts to register component ${H}.`),!1;HK.set(H,K);for(const M of KK.values())MK(M,K);return!0}function uK(K,H){const M=K.container.getProvider("heartbeat").getImmediate({optional:!0});return M&&M.triggerHeartbeat(),K.container.getProvider(H)}function yK(K,H){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;uK(K,H).clearInstance(M)}function hK(){HK.clear()}const WK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},IK=new u.e("app","Firebase",WK);class fK{constructor(K,H,M){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=M,this.container.UW(new q.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw IK.create("app-deleted",{appName:this._name})}}const zK="9.23.0";function GK(K){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=K;if("object"!==typeof H){H={name:H}}const w=Object.assign({name:X,automaticDataCollectionEnabled:!1},H),y=w.name;if("string"!==typeof y||!y)throw IK.create("bad-app-name",{appName:String(y)});if(M||(M=(0,u.E)()),!M)throw IK.create("no-options");const h=KK.get(y);if(h){if((0,u.A)(M,h.options)&&(0,u.A)(w,h.config))return h;throw IK.create("duplicate-app",{appName:y})}const W=new q.d(y);for(const q of HK.values())W.UW(q);const I=new fK(M,w,W);return KK.set(y,I),I}function aK(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const H=KK.get(K);if(!H&&K===X&&(0,u.E)())return GK();if(!H)throw IK.create("no-app",{appName:K});return H}function vK(){return Array.from(KK.values())}async function OK(K){const H=K.name;KK.has(H)&&(KK.delete(H),await Promise.all(K.container.getProviders().map((K=>K.delete()))),K.isDeleted=!0)}function LK(K,H,M){var w;let u=null!==(w=A[K])&&void 0!==w?w:K;M&&(u+=`-${M}`);const y=u.match(/\s|\//),h=H.match(/\s|\//);if(y||h){const K=[`Unable to register library "${u}" with version "${H}":`];return y&&K.push(`library name "${u}" contains illegal characters (whitespace or "/")`),y&&h&&K.push("and"),h&&K.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void D.warn(K.join(" "))}wK(new q.e(`${u}-version`,(()=>({library:u,version:H})),"VERSION"))}function SK(K,H){if(null!==K&&"function"!==typeof K)throw IK.create("invalid-log-argument");(0,w.l)(K,H)}function BK(K){(0,w.i)(K)}const CK="firebase-heartbeat-store";let iK=null;function ZK(){return iK||(iK=function(K,H){let{blocked:M,upgrade:q,blocking:w,terminated:u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const y=indexedDB.open(K,H),h=L(y);return q&&y.addEventListener("upgradeneeded",(K=>{q(L(y.result),K.oldVersion,K.newVersion,L(y.transaction),K)})),M&&y.addEventListener("blocked",(K=>M(K.oldVersion,K.newVersion,K))),h.then((K=>{u&&K.addEventListener("close",(()=>u())),w&&K.addEventListener("versionchange",(K=>w(K.oldVersion,K.newVersion,K)))})).catch((()=>{})),h}("firebase-heartbeat-database",1,{upgrade:(K,H)=>{if(0===H)K.createObjectStore(CK)}}).catch((K=>{throw IK.create("idb-open",{originalErrorMessage:K.message})}))),iK}async function EK(K,H){try{const M=(await ZK()).transaction(CK,"readwrite"),q=M.objectStore(CK);await q.put(H,lK(K)),await M.done}catch(M){if(M instanceof u.i)D.warn(M.message);else{const K=IK.create("idb-set",{originalErrorMessage:null===M||void 0===M?void 0:M.message});D.warn(K.message)}}}function lK(K){return`${K.name}!${K.options.appId}`}class sK{constructor(K){this.container=K,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this.Jz=new VK(H),this._heartbeatsCachePromise=this.Jz.read().then((K=>(this._heartbeatsCache=K,K)))}async triggerHeartbeat(){const K=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),H=DK();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==H&&!this._heartbeatsCache.heartbeats.some((K=>K.date===H)))return this._heartbeatsCache.heartbeats.push({date:H,agent:K}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((K=>{const H=new Date(K.date).valueOf();return Date.now()-H<=2592e6})),this.Jz.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const K=DK(),{heartbeatsToSend:H,unsentEntries:M}=function(K){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const M=[];let q=K.slice();for(const w of K){const K=M.find((K=>K.agent===w.agent));if(K){if(K.dates.push(w.date),nK(M)>H){K.dates.pop();break}}else if(M.push({agent:w.agent,dates:[w.date]}),nK(M)>H){M.pop();break}q=q.slice(1)}return{heartbeatsToSend:M,unsentEntries:q}}(this._heartbeatsCache.heartbeats),q=(0,u.q)(JSON.stringify({version:2,heartbeats:H}));return this._heartbeatsCache.lastSentHeartbeatDate=K,M.length>0?(this._heartbeatsCache.heartbeats=M,await this.Jz.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Jz.overwrite(this._heartbeatsCache)),q}}function DK(){return(new Date).toISOString().substring(0,10)}class VK{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,u.Z)()&&(0,u.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(K){try{const H=await ZK();return await H.transaction(CK).objectStore(CK).get(lK(K))}catch(H){if(H instanceof u.i)D.warn(H.message);else{const K=IK.create("idb-get",{originalErrorMessage:null===H||void 0===H?void 0:H.message});D.warn(K.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(K){var H;if(await this._canUseIndexedDBPromise){const M=await this.read();return EK(this.app,{lastSentHeartbeatDate:null!==(H=K.lastSentHeartbeatDate)&&void 0!==H?H:M.lastSentHeartbeatDate,heartbeats:K.heartbeats})}}async add(K){var H;if(await this._canUseIndexedDBPromise){const M=await this.read();return EK(this.app,{lastSentHeartbeatDate:null!==(H=K.lastSentHeartbeatDate)&&void 0!==H?H:M.lastSentHeartbeatDate,heartbeats:[...M.heartbeats,...K.heartbeats]})}}}function nK(K){return(0,u.q)(JSON.stringify({version:2,heartbeats:K})).length}var cK;cK="",wK(new q.e("platform-logger",(K=>new E(K)),"PRIVATE")),wK(new q.e("heartbeat",(K=>new sK(K)),"PRIVATE")),LK(l,s,cK),LK(l,s,"esm2017"),LK("fire-js","")},11068:(K,H,M)=>{M.d(H,{d:()=>h,e:()=>w});var q=M(11071);class w{constructor(K,H,M){this.name=K,this.instanceFactory=H,this.type=M,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const u="[DEFAULT]";class y{constructor(K,H){this.name=K,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const H=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(H)){const K=new q.c;if(this.instancesDeferred.set(H,K),this.isInitialized(H)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:H});M&&K.resolve(M)}catch(M){}}return this.instancesDeferred.get(H).promise}getImmediate(K){var H;const M=this.normalizeInstanceIdentifier(null===K||void 0===K?void 0:K.identifier),q=null!==(H=null===K||void 0===K?void 0:K.optional)&&void 0!==H&&H;if(!this.isInitialized(M)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:M})}catch(w){if(q)return null;throw w}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:u})}catch(H){}for(const[K,M]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(K);try{const K=this.getOrInitializeService({instanceIdentifier:q});M.resolve(K)}catch(H){}}}}clearInstance(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}async delete(){const K=Array.from(this.instances.values());await Promise.all([...K.filter((K=>"INTERNAL"in K)).map((K=>K.INTERNAL.delete())),...K.filter((K=>"_delete"in K)).map((K=>K._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instances.has(K)}getOptions(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instancesOptions.get(K)||{}}initialize(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:H={}}=K,M=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(M))throw Error(`${this.name}(${M}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:M,options:H});for(const[w,u]of this.instancesDeferred.entries()){M===this.normalizeInstanceIdentifier(w)&&u.resolve(q)}return q}Gz(K,H){var M;const q=this.normalizeInstanceIdentifier(H),w=null!==(M=this.onInitCallbacks.get(q))&&void 0!==M?M:new Set;w.add(K),this.onInitCallbacks.set(q,w);const u=this.instances.get(q);return u&&K(u,q),()=>{w.delete(K)}}invokeOnInitCallbacks(K,H){const M=this.onInitCallbacks.get(H);if(M)for(const w of M)try{w(K,H)}catch(q){}}getOrInitializeService(K){let{instanceIdentifier:H,options:M={}}=K,q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(w=H,w===u?void 0:w),options:M}),this.instances.set(H,q),this.instancesOptions.set(H,M),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch(y){}var w;return q||null}normalizeInstanceIdentifier(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.component?this.component.multipleInstances?K:u:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(K){this.name=K,this.providers=new Map}UW(K){const H=this.getProvider(K.name);if(H.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);H.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.UW(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const H=new y(K,this);return this.providers.set(K,H),H}getProviders(){return Array.from(this.providers.values())}}},11080:(K,H,M)=>{M.d(H,{d:()=>w,h:()=>I,i:()=>f,l:()=>z});const q=[];var w;!function(K){K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT"}(w||(w={}));const u={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},y=w.INFO,h={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},W=function(K,H){if(H<K.logLevel)return;const M=(new Date).toISOString(),q=h[H];if(!q)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);for(var w=arguments.length,u=new Array(w>2?w-2:0),y=2;y<w;y++)u[y-2]=arguments[y];console[q](`[${M}]  ${K.name}:`,...u)};class I{constructor(K){this.name=K,this._logLevel=y,this._logHandler=W,this._userLogHandler=null,q.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in w))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"===typeof K?u[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!==typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(){for(var K=arguments.length,H=new Array(K),M=0;M<K;M++)H[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...H),this._logHandler(this,w.DEBUG,...H)}log(){for(var K=arguments.length,H=new Array(K),M=0;M<K;M++)H[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...H),this._logHandler(this,w.VERBOSE,...H)}info(){for(var K=arguments.length,H=new Array(K),M=0;M<K;M++)H[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,w.INFO,...H),this._logHandler(this,w.INFO,...H)}warn(){for(var K=arguments.length,H=new Array(K),M=0;M<K;M++)H[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,w.WARN,...H),this._logHandler(this,w.WARN,...H)}error(){for(var K=arguments.length,H=new Array(K),M=0;M<K;M++)H[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,w.ERROR,...H),this._logHandler(this,w.ERROR,...H)}}function f(K){q.forEach((H=>{H.setLogLevel(K)}))}function z(K,H){for(const M of q){let q=null;H&&H.level&&(q=u[H.level]),M.userLogHandler=null===K?null:function(H,M){for(var u=arguments.length,y=new Array(u>2?u-2:0),h=2;h<u;h++)y[h-2]=arguments[h];const W=y.map((K=>{if(null==K)return null;if("string"===typeof K)return K;if("number"===typeof K||"boolean"===typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(H){return null}})).filter((K=>K)).join(" ");M>=(null!==q&&void 0!==q?q:H.logLevel)&&K({level:w[M].toLowerCase(),message:W,args:y,type:H.name})}}}}}]);