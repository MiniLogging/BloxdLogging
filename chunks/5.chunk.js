/*! For license information please see f449di.5.d654525e.chunk.js.LICENSE.txt */
"use strict";(self.ipz2em9uj1g=self.ipz2em9uj1g||[]).push([[5],{12403:(r,O,W)=>{W.d(O,{A:()=>v,B:()=>d,D:()=>g,F:()=>l,I:()=>U,M:()=>b,Q:()=>p,R:()=>Y,V:()=>G,W:()=>P,Z:()=>e,bb:()=>k,cb:()=>M,d:()=>K,db:()=>X,g:()=>N,j:()=>o,l:()=>S,n:()=>h,q:()=>T,r:()=>i,t:()=>B,v:()=>z,x:()=>s});const q=function(r){const O=[];let W=0;for(let q=0;q<r.length;q++){let Q=r.charCodeAt(q);Q<128?O[W++]=Q:Q<2048?(O[W++]=Q>>6|192,O[W++]=63&Q|128):55296===(64512&Q)&&q+1<r.length&&56320===(64512&r.charCodeAt(q+1))?(Q=65536+((1023&Q)<<10)+(1023&r.charCodeAt(++q)),O[W++]=Q>>18|240,O[W++]=Q>>12&63|128,O[W++]=Q>>6&63|128,O[W++]=63&Q|128):(O[W++]=Q>>12|224,O[W++]=Q>>6&63|128,O[W++]=63&Q|128)}return O},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(r,O){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Q=0;Q<r.length;Q+=3){const O=r[Q],C=Q+1<r.length,T=C?r[Q+1]:0,h=Q+2<r.length,J=h?r[Q+2]:0,mr=O>>2,d=(3&O)<<4|T>>4;let v=(15&T)<<2|J>>6,g=63&J;h||(g=64,C||(v=64)),q.push(W[mr],W[d],W[v],W[g])}return q.join("")},encodeString(r,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(r):this.encodeByteArray(q(r),O)},decodeString(r,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(r):function(r){const O=[];let W=0,q=0;for(;W<r.length;){const Q=r[W++];if(Q<128)O[q++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const C=r[W++];O[q++]=String.fromCharCode((31&Q)<<6|63&C)}else if(Q>239&&Q<365){const C=((7&Q)<<18|(63&r[W++])<<12|(63&r[W++])<<6|63&r[W++])-65536;O[q++]=String.fromCharCode(55296+(C>>10)),O[q++]=String.fromCharCode(56320+(1023&C))}else{const C=r[W++],T=r[W++];O[q++]=String.fromCharCode((15&Q)<<12|(63&C)<<6|63&T)}}return O.join("")}(this.decodeStringToByteArray(r,O))},decodeStringToByteArray(r,O){this.init_();const W=O?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Q=0;Q<r.length;){const O=W[r.charAt(Q++)],T=Q<r.length?W[r.charAt(Q)]:0;++Q;const h=Q<r.length?W[r.charAt(Q)]:64;++Q;const J=Q<r.length?W[r.charAt(Q)]:64;if(++Q,null==O||null==T||null==h||null==J)throw new C;const mr=O<<2|T>>4;if(q.push(mr),64!==h){const r=T<<4&240|h>>2;if(q.push(r),64!==J){const r=h<<6&192|J;q.push(r)}}}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T=function(r){return function(r){const O=q(r);return Q.encodeByteArray(O,!0)}(r).replace(/\./g,"")},h=function(r){try{return Q.decodeString(r,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const J=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof W.g)return W.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,mr=()=>{try{return J()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(W){return}const O=r&&h(r[1]);return O&&JSON.parse(O)})()}catch(r){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`)}},d=r=>{var O,W;return null===(W=null===(O=mr())||void 0===O?void 0:O.emulatorHosts)||void 0===W?void 0:W[r]},v=()=>{var r;return null===(r=mr())||void 0===r?void 0:r.config},g=r=>{var O;return null===(O=mr())||void 0===O?void 0:O[`_${r}`]};class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((r,O)=>{this.resolve=r,this.reject=O}))}wrapCallback(r){return(O,W)=>{O?this.reject(O):this.resolve(W),"function"===typeof r&&(this.promise.catch((()=>{})),1===r.length?r(O):r(O,W))}}}function U(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U())}function b(){const r="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof r&&void 0!==r.id}function e(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Y(){const r=U();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(r){return!1}}function X(){return new Promise(((r,O)=>{try{let W=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(q);Q.onsuccess=()=>{Q.result.close(),W||self.indexedDB.deleteDatabase(q),r(!0)},Q.onupgradeneeded=()=>{W=!1},Q.onerror=()=>{var r;O((null===(r=Q.error)||void 0===r?void 0:r.message)||"")}}catch(W){O(W)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class o extends Error{constructor(r,O,W){super(O),this.code=r,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(r,O,W){this.service=r,this.serviceName=O,this.errors=W}create(r){const O=(arguments.length<=1?void 0:arguments[1])||{},W=`${this.service}/${r}`,q=this.errors[r],Q=q?function(r,O){return r.replace(D,((r,W)=>{const q=O[W];return null!=q?String(q):`<${W}?>`}))}(q,O):"Error",C=`${this.serviceName}: ${Q} (${W}).`;return new o(W,C,O)}}const D=/\{\$([^}]+)}/g;function p(r){for(const O in r)if(Object.prototype.hasOwnProperty.call(r,O))return!1;return!0}function z(r,O){if(r===O)return!0;const W=Object.keys(r),q=Object.keys(O);for(const Q of W){if(!q.includes(Q))return!1;const W=r[Q],C=O[Q];if(L(W)&&L(C)){if(!z(W,C))return!1}else if(W!==C)return!1}for(const Q of q)if(!W.includes(Q))return!1;return!0}function L(r){return null!==r&&"object"===typeof r}function M(r){const O=[];for(const[W,q]of Object.entries(r))Array.isArray(q)?q.forEach((r=>{O.push(encodeURIComponent(W)+"="+encodeURIComponent(r))})):O.push(encodeURIComponent(W)+"="+encodeURIComponent(q));return O.length?"&"+O.join("&"):""}function k(r){const O={};return r.replace(/^\?/,"").split("&").forEach((r=>{if(r){const[W,q]=r.split("=");O[decodeURIComponent(W)]=decodeURIComponent(q)}})),O}function s(r){const O=r.indexOf("?");if(!O)return"";const W=r.indexOf("#",O);return r.substring(O,W>0?W:void 0)}function B(r,O){const W=new Z(r,O);return W.subscribe.bind(W)}class Z{constructor(r,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{r(this)})).catch((r=>{this.error(r)}))}next(r){this.forEachObserver((O=>{O.next(r)}))}error(r){this.forEachObserver((O=>{O.error(r)})),this.close(r)}complete(){this.forEachObserver((r=>{r.complete()})),this.close()}subscribe(r,O,W){let q;if(void 0===r&&void 0===O&&void 0===W)throw new Error("Missing Observer.");q=function(r,O){if("object"!==typeof r||null===r)return!1;for(const W of O)if(W in r&&"function"===typeof r[W])return!0;return!1}(r,["next","error","complete"])?r:{next:r,error:O,complete:W},void 0===q.next&&(q.next=E),void 0===q.error&&(q.error=E),void 0===q.complete&&(q.complete=E);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(r){}})),this.observers.push(q),Q}unsubscribeOne(r){void 0!==this.observers&&void 0!==this.observers[r]&&(delete this.observers[r],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,r)}sendOne(r,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[r])try{O(this.observers[r])}catch(W){"undefined"!==typeof console&&console.error&&console.error(W)}}))}close(r){this.finalized||(this.finalized=!0,void 0!==r&&(this.finalError=r),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}const R=1e3,V=2,a=144e5,t=.5;function i(r){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const W=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:R)*Math.pow(O,r),q=Math.round(t*W*(Math.random()-.5)*2);return Math.min(a,W+q)}function l(r){return r&&r._delegate?r._delegate:r}},12392:(r,O,W)=>{W.d(O,{e:()=>C.j,i:()=>vr,m:()=>I,n:()=>Wr,q:()=>qr,r:()=>rr,t:()=>hr,u:()=>Or,y:()=>Cr,B:()=>Qr,C:()=>Tr,F:()=>Pr,N:()=>Kr,J:()=>Ur,Q:()=>gr,R:()=>er,V:()=>br,Z:()=>Yr});var q=W(12400),Q=W(12409),C=W(12403);let T,h;const J=new WeakMap,mr=new WeakMap,d=new WeakMap,v=new WeakMap,g=new WeakMap;let K={get(r,O,W){if(r instanceof IDBTransaction){if("done"===O)return mr.get(r);if("objectStoreNames"===O)return r.objectStoreNames||d.get(r);if("store"===O)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return b(r[O])},set:(r,O,W)=>(r[O]=W,!0),has:(r,O)=>r instanceof IDBTransaction&&("done"===O||"store"===O)||O in r};function U(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(){for(var O=arguments.length,W=new Array(O),q=0;q<O;q++)W[q]=arguments[q];return r.apply(e(this),W),b(J.get(this))}:function(){for(var O=arguments.length,W=new Array(O),q=0;q<O;q++)W[q]=arguments[q];return b(r.apply(e(this),W))}:function(O){for(var W=arguments.length,q=new Array(W>1?W-1:0),Q=1;Q<W;Q++)q[Q-1]=arguments[Q];const C=r.call(e(this),O,...q);return d.set(C,O.sort?O.sort():[O]),b(C)}}function P(r){return"function"===typeof r?U(r):(r instanceof IDBTransaction&&function(r){if(mr.has(r))return;const O=new Promise(((O,W)=>{const q=()=>{r.removeEventListener("complete",Q),r.removeEventListener("error",C),r.removeEventListener("abort",C)},Q=()=>{O(),q()},C=()=>{W(r.error||new DOMException("AbortError","AbortError")),q()};r.addEventListener("complete",Q),r.addEventListener("error",C),r.addEventListener("abort",C)}));mr.set(r,O)}(r),O=r,(T||(T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((r=>O instanceof r))?new Proxy(r,K):r);var O}function b(r){if(r instanceof IDBRequest)return function(r){const O=new Promise(((O,W)=>{const q=()=>{r.removeEventListener("success",Q),r.removeEventListener("error",C)},Q=()=>{O(b(r.result)),q()},C=()=>{W(r.error),q()};r.addEventListener("success",Q),r.addEventListener("error",C)}));return O.then((O=>{O instanceof IDBCursor&&J.set(O,r)})).catch((()=>{})),g.set(O,r),O}(r);if(v.has(r))return v.get(r);const O=P(r);return O!==r&&(v.set(r,O),g.set(O,r)),O}const e=r=>g.get(r);const Y=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],X=new Map;function S(r,O){if(!(r instanceof IDBDatabase)||O in r||"string"!==typeof O)return;if(X.get(O))return X.get(O);const W=O.replace(/FromIndex$/,""),q=O!==W,Q=G.includes(W);if(!(W in(q?IDBIndex:IDBObjectStore).prototype)||!Q&&!Y.includes(W))return;const C=async function(r){const O=this.transaction(r,Q?"readwrite":"readonly");let C=O.store;for(var T=arguments.length,h=new Array(T>1?T-1:0),J=1;J<T;J++)h[J-1]=arguments[J];return q&&(C=C.index(h.shift())),(await Promise.all([C[W](...h),Q&&O.done]))[0]};return X.set(O,C),C}K=(r=>({...r,get:(O,W,q)=>S(O,W)||r.get(O,W,q),has:(O,W)=>!!S(O,W)||r.has(O,W)}))(K);class o{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map((r=>{if(function(r){const O=r.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(r)){const O=r.getImmediate();return`${O.library}/${O.version}`}return null})).filter((r=>r)).join(" ")}}const N="@firebase/app",D="0.9.13",p=new Q.g("@firebase/app"),z="@firebase/app-compat",L="@firebase/analytics-compat",M="@firebase/analytics",k="@firebase/app-check-compat",s="@firebase/app-check",B="@firebase/auth",Z="@firebase/auth-compat",E="@firebase/database",R="@firebase/database-compat",V="@firebase/functions",a="@firebase/functions-compat",t="@firebase/installations",i="@firebase/installations-compat",l="@firebase/messaging",y="@firebase/messaging-compat",w="@firebase/performance",u="@firebase/performance-compat",n="@firebase/remote-config",f="@firebase/remote-config-compat",F="@firebase/storage",j="@firebase/storage-compat",H="@firebase/firestore",A="@firebase/firestore-compat",x="firebase",I="[DEFAULT]",c={[N]:"fire-core",[z]:"fire-core-compat",[M]:"fire-analytics",[L]:"fire-analytics-compat",[s]:"fire-app-check",[k]:"fire-app-check-compat",[B]:"fire-auth",[Z]:"fire-auth-compat",[E]:"fire-rtdb",[R]:"fire-rtdb-compat",[V]:"fire-fn",[a]:"fire-fn-compat",[t]:"fire-iid",[i]:"fire-iid-compat",[l]:"fire-fcm",[y]:"fire-fcm-compat",[w]:"fire-perf",[u]:"fire-perf-compat",[n]:"fire-rc",[f]:"fire-rc-compat",[F]:"fire-gcs",[j]:"fire-gcs-compat",[H]:"fire-fst",[A]:"fire-fst-compat","fire-js":"fire-js",[x]:"fire-js-all"},rr=new Map,Or=new Map;function Wr(r,O){try{r.container.xJ(O)}catch(W){p.debug(`Component ${O.name} failed to register with FirebaseApp ${r.name}`,W)}}function qr(r,O){r.container.addOrOverwriteComponent(O)}function Qr(r){const O=r.name;if(Or.has(O))return p.debug(`There were multiple attempts to register component ${O}.`),!1;Or.set(O,r);for(const W of rr.values())Wr(W,r);return!0}function Cr(r,O){const W=r.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),r.container.getProvider(O)}function Tr(r,O){let W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;Cr(r,O).clearInstance(W)}function hr(){Or.clear()}const Jr={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mO=new C.g("app","Firebase",Jr);class dr{constructor(r,O,W){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=W,this.container.xJ(new q.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw mO.create("app-deleted",{appName:this._name})}}const vr="9.23.0";function gr(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=r;if("object"!==typeof O){O={name:O}}const Q=Object.assign({name:I,automaticDataCollectionEnabled:!1},O),T=Q.name;if("string"!==typeof T||!T)throw mO.create("bad-app-name",{appName:String(T)});if(W||(W=(0,C.A)()),!W)throw mO.create("no-options");const h=rr.get(T);if(h){if((0,C.v)(W,h.options)&&(0,C.v)(Q,h.config))return h;throw mO.create("duplicate-app",{appName:T})}const J=new q.d(T);for(const q of Or.values())J.xJ(q);const mr=new dr(W,Q,J);return rr.set(T,mr),mr}function Kr(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const O=rr.get(r);if(!O&&r===I&&(0,C.A)())return gr();if(!O)throw mO.create("no-app",{appName:r});return O}function Ur(){return Array.from(rr.values())}async function Pr(r){const O=r.name;rr.has(O)&&(rr.delete(O),await Promise.all(r.container.getProviders().map((r=>r.delete()))),r.isDeleted=!0)}function br(r,O,W){var Q;let C=null!==(Q=c[r])&&void 0!==Q?Q:r;W&&(C+=`-${W}`);const T=C.match(/\s|\//),h=O.match(/\s|\//);if(T||h){const r=[`Unable to register library "${C}" with version "${O}":`];return T&&r.push(`library name "${C}" contains illegal characters (whitespace or "/")`),T&&h&&r.push("and"),h&&r.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void p.warn(r.join(" "))}Qr(new q.g(`${C}-version`,(()=>({library:C,version:O})),"VERSION"))}function er(r,O){if(null!==r&&"function"!==typeof r)throw mO.create("invalid-log-argument");(0,Q.m)(r,O)}function Yr(r){(0,Q.k)(r)}const Gr="firebase-heartbeat-store";let Xr=null;function Sr(){return Xr||(Xr=function(r,O){let{blocked:W,upgrade:q,blocking:Q,terminated:C}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const T=indexedDB.open(r,O),h=b(T);return q&&T.addEventListener("upgradeneeded",(r=>{q(b(T.result),r.oldVersion,r.newVersion,b(T.transaction),r)})),W&&T.addEventListener("blocked",(r=>W(r.oldVersion,r.newVersion,r))),h.then((r=>{C&&r.addEventListener("close",(()=>C())),Q&&r.addEventListener("versionchange",(r=>Q(r.oldVersion,r.newVersion,r)))})).catch((()=>{})),h}("firebase-heartbeat-database",1,{upgrade:(r,O)=>{if(0===O)r.createObjectStore(Gr)}}).catch((r=>{throw mO.create("idb-open",{originalErrorMessage:r.message})}))),Xr}async function or(r,O){try{const W=(await Sr()).transaction(Gr,"readwrite"),q=W.objectStore(Gr);await q.put(O,Nr(r)),await W.done}catch(W){if(W instanceof C.j)p.warn(W.message);else{const r=mO.create("idb-set",{originalErrorMessage:null===W||void 0===W?void 0:W.message});p.warn(r.message)}}}function Nr(r){return`${r.name}!${r.options.appId}`}class Dr{constructor(r){this.container=r,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.rg=new zr(O),this._heartbeatsCachePromise=this.rg.read().then((r=>(this._heartbeatsCache=r,r)))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=pr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((r=>r.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((r=>{const O=new Date(r.date).valueOf();return Date.now()-O<=2592e6})),this.rg.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const r=pr(),{heartbeatsToSend:O,unsentEntries:W}=function(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const W=[];let q=r.slice();for(const Q of r){const r=W.find((r=>r.agent===Q.agent));if(r){if(r.dates.push(Q.date),Lr(W)>O){r.dates.pop();break}}else if(W.push({agent:Q.agent,dates:[Q.date]}),Lr(W)>O){W.pop();break}q=q.slice(1)}return{heartbeatsToSend:W,unsentEntries:q}}(this._heartbeatsCache.heartbeats),q=(0,C.q)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=r,W.length>0?(this._heartbeatsCache.heartbeats=W,await this.rg.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.rg.overwrite(this._heartbeatsCache)),q}}function pr(){return(new Date).toISOString().substring(0,10)}class zr{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,C.V)()&&(0,C.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(r){try{const O=await Sr();return await O.transaction(Gr).objectStore(Gr).get(Nr(r))}catch(O){if(O instanceof C.j)p.warn(O.message);else{const r=mO.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});p.warn(r.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(r){var O;if(await this._canUseIndexedDBPromise){const W=await this.read();return or(this.app,{lastSentHeartbeatDate:null!==(O=r.lastSentHeartbeatDate)&&void 0!==O?O:W.lastSentHeartbeatDate,heartbeats:r.heartbeats})}}async add(r){var O;if(await this._canUseIndexedDBPromise){const W=await this.read();return or(this.app,{lastSentHeartbeatDate:null!==(O=r.lastSentHeartbeatDate)&&void 0!==O?O:W.lastSentHeartbeatDate,heartbeats:[...W.heartbeats,...r.heartbeats]})}}}function Lr(r){return(0,C.q)(JSON.stringify({version:2,heartbeats:r})).length}var Mr;Mr="",Qr(new q.g("platform-logger",(r=>new o(r)),"PRIVATE")),Qr(new q.g("heartbeat",(r=>new Dr(r)),"PRIVATE")),br(N,D,Mr),br(N,D,"esm2017"),br("fire-js","")},12400:(r,O,W)=>{W.d(O,{d:()=>h,g:()=>Q});var q=W(12403);class Q{constructor(r,O,W){this.name=r,this.instanceFactory=O,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const C="[DEFAULT]";class T{constructor(r,O){this.name=r,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const O=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(O)){const r=new q.d;if(this.instancesDeferred.set(O,r),this.isInitialized(O)||this.shouldAutoInitialize())try{const W=this.getOrInitializeService({instanceIdentifier:O});W&&r.resolve(W)}catch(W){}}return this.instancesDeferred.get(O).promise}getImmediate(r){var O;const W=this.normalizeInstanceIdentifier(null===r||void 0===r?void 0:r.identifier),q=null!==(O=null===r||void 0===r?void 0:r.optional)&&void 0!==O&&O;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Q){if(q)return null;throw Q}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,this.shouldAutoInitialize()){if(function(r){return"EAGER"===r.instantiationMode}(r))try{this.getOrInitializeService({instanceIdentifier:C})}catch(O){}for(const[r,W]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(r);try{const r=this.getOrInitializeService({instanceIdentifier:q});W.resolve(r)}catch(O){}}}}clearInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter((r=>"INTERNAL"in r)).map((r=>r.INTERNAL.delete())),...r.filter((r=>"_delete"in r)).map((r=>r._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instances.has(r)}getOptions(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instancesOptions.get(r)||{}}initialize(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=r,W=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:W,options:O});for(const[Q,C]of this.instancesDeferred.entries()){W===this.normalizeInstanceIdentifier(Q)&&C.resolve(q)}return q}Bv(r,O){var W;const q=this.normalizeInstanceIdentifier(O),Q=null!==(W=this.onInitCallbacks.get(q))&&void 0!==W?W:new Set;Q.add(r),this.onInitCallbacks.set(q,Q);const C=this.instances.get(q);return C&&r(C,q),()=>{Q.delete(r)}}invokeOnInitCallbacks(r,O){const W=this.onInitCallbacks.get(O);if(W)for(const Q of W)try{Q(r,O)}catch(q){}}getOrInitializeService(r){let{instanceIdentifier:O,options:W={}}=r,q=this.instances.get(O);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=O,Q===C?void 0:Q),options:W}),this.instances.set(O,q),this.instancesOptions.set(O,W),this.invokeOnInitCallbacks(q,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,q)}catch(T){}var Q;return q||null}normalizeInstanceIdentifier(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.component?this.component.multipleInstances?r:C:r}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(r){this.name=r,this.providers=new Map}xJ(r){const O=this.getProvider(r.name);if(O.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);O.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.xJ(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const O=new T(r,this);return this.providers.set(r,O),O}getProviders(){return Array.from(this.providers.values())}}},12409:(r,O,W)=>{W.d(O,{e:()=>Q,g:()=>mr,k:()=>d,m:()=>v});const q=[];var Q;!function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"}(Q||(Q={}));const C={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},T=Q.INFO,h={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},J=function(r,O){if(O<r.logLevel)return;const W=(new Date).toISOString(),q=h[O];if(!q)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var Q=arguments.length,C=new Array(Q>2?Q-2:0),T=2;T<Q;T++)C[T-2]=arguments[T];console[q](`[${W}]  ${r.name}:`,...C)};class mr{constructor(r){this.name=r,this._logLevel=T,this._logHandler=J,this._userLogHandler=null,q.push(this)}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Q))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel="string"===typeof r?C[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if("function"!==typeof r)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(){for(var r=arguments.length,O=new Array(r),W=0;W<r;W++)O[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...O),this._logHandler(this,Q.DEBUG,...O)}log(){for(var r=arguments.length,O=new Array(r),W=0;W<r;W++)O[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...O),this._logHandler(this,Q.VERBOSE,...O)}info(){for(var r=arguments.length,O=new Array(r),W=0;W<r;W++)O[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,Q.INFO,...O),this._logHandler(this,Q.INFO,...O)}warn(){for(var r=arguments.length,O=new Array(r),W=0;W<r;W++)O[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,Q.WARN,...O),this._logHandler(this,Q.WARN,...O)}error(){for(var r=arguments.length,O=new Array(r),W=0;W<r;W++)O[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...O),this._logHandler(this,Q.ERROR,...O)}}function d(r){q.forEach((O=>{O.setLogLevel(r)}))}function v(r,O){for(const W of q){let q=null;O&&O.level&&(q=C[O.level]),W.userLogHandler=null===r?null:function(O,W){for(var C=arguments.length,T=new Array(C>2?C-2:0),h=2;h<C;h++)T[h-2]=arguments[h];const J=T.map((r=>{if(null==r)return null;if("string"===typeof r)return r;if("number"===typeof r||"boolean"===typeof r)return r.toString();if(r instanceof Error)return r.message;try{return JSON.stringify(r)}catch(O){return null}})).filter((r=>r)).join(" ");W>=(null!==q&&void 0!==q?q:O.logLevel)&&r({level:Q[W].toLowerCase(),message:J,args:T,type:O.name})}}}}}]);