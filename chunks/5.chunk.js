/*! For license information please see srbgb5.5.0bd49418.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{11029:(h,d,m)=>{m.d(d,{$:()=>C,C:()=>E,G:()=>t,I:()=>R,L:()=>L,N:()=>g,R:()=>V,T:()=>v,W:()=>Z,Y:()=>B,Z:()=>c,_:()=>H,b:()=>I,c:()=>y,d:()=>o,g:()=>T,j:()=>a,k:()=>w,n:()=>Q,p:()=>l,s:()=>F,u:()=>k,x:()=>q,y:()=>M});const j=function(h){const d=[];let m=0;for(let j=0;j<h.length;j++){let A=h.charCodeAt(j);A<128?d[m++]=A:A<2048?(d[m++]=A>>6|192,d[m++]=63&A|128):55296===(64512&A)&&j+1<h.length&&56320===(64512&h.charCodeAt(j+1))?(A=65536+((1023&A)<<10)+(1023&h.charCodeAt(++j)),d[m++]=A>>18|240,d[m++]=A>>12&63|128,d[m++]=A>>6&63|128,d[m++]=63&A|128):(d[m++]=A>>12|224,d[m++]=A>>6&63|128,d[m++]=63&A|128)}return d},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(h,d){if(!Array.isArray(h))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let A=0;A<h.length;A+=3){const d=h[A],b=A+1<h.length,w=b?h[A+1]:0,a=A+2<h.length,D=a?h[A+2]:0,S=d>>2,M=(3&d)<<4|w>>4;let q=(15&w)<<2|D>>6,E=63&D;a||(E=64,b||(q=64)),j.push(m[S],m[M],m[q],m[E])}return j.join("")},encodeString(h,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(h):this.encodeByteArray(j(h),d)},decodeString(h,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(h):function(h){const d=[];let m=0,j=0;for(;m<h.length;){const A=h[m++];if(A<128)d[j++]=String.fromCharCode(A);else if(A>191&&A<224){const b=h[m++];d[j++]=String.fromCharCode((31&A)<<6|63&b)}else if(A>239&&A<365){const b=((7&A)<<18|(63&h[m++])<<12|(63&h[m++])<<6|63&h[m++])-65536;d[j++]=String.fromCharCode(55296+(b>>10)),d[j++]=String.fromCharCode(56320+(1023&b))}else{const b=h[m++],w=h[m++];d[j++]=String.fromCharCode((15&A)<<12|(63&b)<<6|63&w)}}return d.join("")}(this.decodeStringToByteArray(h,d))},decodeStringToByteArray(h,d){this.init_();const m=d?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let A=0;A<h.length;){const d=m[h.charAt(A++)],w=A<h.length?m[h.charAt(A)]:0;++A;const a=A<h.length?m[h.charAt(A)]:64;++A;const D=A<h.length?m[h.charAt(A)]:64;if(++A,null==d||null==w||null==a||null==D)throw new b;const S=d<<2|w>>4;if(j.push(S),64!==a){const h=w<<4&240|a>>2;if(j.push(h),64!==D){const h=a<<6&192|D;j.push(h)}}}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let h=0;h<this.ENCODED_VALS.length;h++)this.byteToCharMap_[h]=this.ENCODED_VALS.charAt(h),this.charToByteMap_[this.byteToCharMap_[h]]=h,this.byteToCharMapWebSafe_[h]=this.ENCODED_VALS_WEBSAFE.charAt(h),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[h]]=h,h>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(h)]=h,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(h)]=h)}}};class b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w=function(h){return function(h){const d=j(h);return A.encodeByteArray(d,!0)}(h).replace(/\./g,"")},a=function(h){try{return A.decodeString(h,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};const D=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof m.g)return m.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,S=()=>{try{return D()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let h;try{h=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(m){return}const d=h&&a(h[1]);return d&&JSON.parse(d)})()}catch(h){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${h}`)}},M=h=>{var d,m;return null===(m=null===(d=S())||void 0===d?void 0:d.emulatorHosts)||void 0===m?void 0:m[h]},q=()=>{var h;return null===(h=S())||void 0===h?void 0:h.config},E=h=>{var d;return null===(d=S())||void 0===d?void 0:d[`_${h}`]};class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((h,d)=>{this.resolve=h,this.reject=d}))}wrapCallback(h){return(d,m)=>{d?this.reject(d):this.resolve(m),"function"===typeof h&&(this.promise.catch((()=>{})),1===h.length?h(d):h(d,m))}}}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function L(){const h="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof h&&void 0!==h.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function V(){const h=R();return h.indexOf("MSIE ")>=0||h.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(h){return!1}}function C(){return new Promise(((h,d)=>{try{let m=!0;const j="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(j);A.onsuccess=()=>{A.result.close(),m||self.indexedDB.deleteDatabase(j),h(!0)},A.onupgradeneeded=()=>{m=!1},A.onerror=()=>{var h;d((null===(h=A.error)||void 0===h?void 0:h.message)||"")}}catch(m){d(m)}}))}function T(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class o extends Error{constructor(h,d,m){super(d),this.code=h,this.customData=m,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(h,d,m){this.service=h,this.serviceName=d,this.errors=m}create(h){const d=(arguments.length<=1?void 0:arguments[1])||{},m=`${this.service}/${h}`,j=this.errors[h],A=j?function(h,d){return h.replace(i,((h,m)=>{const j=d[m];return null!=j?String(j):`<${m}?>`}))}(j,d):"Error",b=`${this.serviceName}: ${A} (${m}).`;return new o(m,b,d)}}const i=/\{\$([^}]+)}/g;function g(h){for(const d in h)if(Object.prototype.hasOwnProperty.call(h,d))return!1;return!0}function F(h,d){if(h===d)return!0;const m=Object.keys(h),j=Object.keys(d);for(const A of m){if(!j.includes(A))return!1;const m=h[A],b=d[A];if(f(m)&&f(b)){if(!F(m,b))return!1}else if(m!==b)return!1}for(const A of j)if(!m.includes(A))return!1;return!0}function f(h){return null!==h&&"object"===typeof h}function H(h){const d=[];for(const[m,j]of Object.entries(h))Array.isArray(j)?j.forEach((h=>{d.push(encodeURIComponent(m)+"="+encodeURIComponent(h))})):d.push(encodeURIComponent(m)+"="+encodeURIComponent(j));return d.length?"&"+d.join("&"):""}function c(h){const d={};return h.replace(/^\?/,"").split("&").forEach((h=>{if(h){const[m,j]=h.split("=");d[decodeURIComponent(m)]=decodeURIComponent(j)}})),d}function k(h){const d=h.indexOf("?");if(!d)return"";const m=h.indexOf("#",d);return h.substring(d,m>0?m:void 0)}function l(h,d){const m=new K(h,d);return m.subscribe.bind(m)}class K{constructor(h,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then((()=>{h(this)})).catch((h=>{this.error(h)}))}next(h){this.forEachObserver((d=>{d.next(h)}))}error(h){this.forEachObserver((d=>{d.error(h)})),this.close(h)}complete(){this.forEachObserver((h=>{h.complete()})),this.close()}subscribe(h,d,m){let j;if(void 0===h&&void 0===d&&void 0===m)throw new Error("Missing Observer.");j=function(h,d){if("object"!==typeof h||null===h)return!1;for(const m of d)if(m in h&&"function"===typeof h[m])return!0;return!1}(h,["next","error","complete"])?h:{next:h,error:d,complete:m},void 0===j.next&&(j.next=N),void 0===j.error&&(j.error=N),void 0===j.complete&&(j.complete=N);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(h){}})),this.observers.push(j),A}unsubscribeOne(h){void 0!==this.observers&&void 0!==this.observers[h]&&(delete this.observers[h],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(h){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,h)}sendOne(h,d){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[h])try{d(this.observers[h])}catch(m){"undefined"!==typeof console&&console.error&&console.error(m)}}))}close(h){this.finalized||(this.finalized=!0,void 0!==h&&(this.finalError=h),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}const W=1e3,r=2,Y=144e5,x=.5;function Q(h){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:W)*Math.pow(d,h),j=Math.round(x*m*(Math.random()-.5)*2);return Math.min(Y,m+j)}function t(h){return h&&h._delegate?h._delegate:h}},11018:(h,d,m)=>{m.d(d,{c:()=>b.d,d:()=>qh,e:()=>P,g:()=>mh,h:()=>jh,j:()=>hh,l:()=>ah,p:()=>dh,q:()=>bh,r:()=>Ah,u:()=>wh,w:()=>Zh,B:()=>Ih,y:()=>Rh,F:()=>Eh,I:()=>Bh,L:()=>Lh,O:()=>Vh});var j=m(11024),A=m(11033),b=m(11029);let w,a;const D=new WeakMap,S=new WeakMap,M=new WeakMap,q=new WeakMap,E=new WeakMap;let I={get(h,d,m){if(h instanceof IDBTransaction){if("done"===d)return S.get(h);if("objectStoreNames"===d)return h.objectStoreNames||M.get(h);if("store"===d)return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return L(h[d])},set:(h,d,m)=>(h[d]=m,!0),has:(h,d)=>h instanceof IDBTransaction&&("done"===d||"store"===d)||d in h};function R(h){return h!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(h)?function(){for(var d=arguments.length,m=new Array(d),j=0;j<d;j++)m[j]=arguments[j];return h.apply(B(this),m),L(D.get(this))}:function(){for(var d=arguments.length,m=new Array(d),j=0;j<d;j++)m[j]=arguments[j];return L(h.apply(B(this),m))}:function(d){for(var m=arguments.length,j=new Array(m>1?m-1:0),A=1;A<m;A++)j[A-1]=arguments[A];const b=h.call(B(this),d,...j);return M.set(b,d.sort?d.sort():[d]),L(b)}}function Z(h){return"function"===typeof h?R(h):(h instanceof IDBTransaction&&function(h){if(S.has(h))return;const d=new Promise(((d,m)=>{const j=()=>{h.removeEventListener("complete",A),h.removeEventListener("error",b),h.removeEventListener("abort",b)},A=()=>{d(),j()},b=()=>{m(h.error||new DOMException("AbortError","AbortError")),j()};h.addEventListener("complete",A),h.addEventListener("error",b),h.addEventListener("abort",b)}));S.set(h,d)}(h),d=h,(w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((h=>d instanceof h))?new Proxy(h,I):h);var d}function L(h){if(h instanceof IDBRequest)return function(h){const d=new Promise(((d,m)=>{const j=()=>{h.removeEventListener("success",A),h.removeEventListener("error",b)},A=()=>{d(L(h.result)),j()},b=()=>{m(h.error),j()};h.addEventListener("success",A),h.addEventListener("error",b)}));return d.then((d=>{d instanceof IDBCursor&&D.set(d,h)})).catch((()=>{})),E.set(d,h),d}(h);if(q.has(h))return q.get(h);const d=Z(h);return d!==h&&(q.set(h,d),E.set(d,h)),d}const B=h=>E.get(h);const V=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],C=new Map;function T(h,d){if(!(h instanceof IDBDatabase)||d in h||"string"!==typeof d)return;if(C.get(d))return C.get(d);const m=d.replace(/FromIndex$/,""),j=d!==m,A=v.includes(m);if(!(m in(j?IDBIndex:IDBObjectStore).prototype)||!A&&!V.includes(m))return;const b=async function(h){const d=this.transaction(h,A?"readwrite":"readonly");let b=d.store;for(var w=arguments.length,a=new Array(w>1?w-1:0),D=1;D<w;D++)a[D-1]=arguments[D];return j&&(b=b.index(a.shift())),(await Promise.all([b[m](...a),A&&d.done]))[0]};return C.set(d,b),b}I=(h=>({...h,get:(d,m,j)=>T(d,m)||h.get(d,m,j),has:(d,m)=>!!T(d,m)||h.has(d,m)}))(I);class o{constructor(h){this.container=h}getPlatformInfoString(){return this.container.getProviders().map((h=>{if(function(h){const d=h.getComponent();return"VERSION"===(null===d||void 0===d?void 0:d.type)}(h)){const d=h.getImmediate();return`${d.library}/${d.version}`}return null})).filter((h=>h)).join(" ")}}const y="@firebase/app",i="0.9.13",g=new A.g("@firebase/app"),F="@firebase/app-compat",f="@firebase/analytics-compat",H="@firebase/analytics",c="@firebase/app-check-compat",k="@firebase/app-check",l="@firebase/auth",K="@firebase/auth-compat",N="@firebase/database",W="@firebase/database-compat",r="@firebase/functions",Y="@firebase/functions-compat",x="@firebase/installations",Q="@firebase/installations-compat",t="@firebase/messaging",U="@firebase/messaging-compat",s="@firebase/performance",J="@firebase/performance-compat",O="@firebase/remote-config",n="@firebase/remote-config-compat",p="@firebase/storage",e="@firebase/storage-compat",X="@firebase/firestore",z="@firebase/firestore-compat",u="firebase",P="[DEFAULT]",G={[y]:"fire-core",[F]:"fire-core-compat",[H]:"fire-analytics",[f]:"fire-analytics-compat",[k]:"fire-app-check",[c]:"fire-app-check-compat",[l]:"fire-auth",[K]:"fire-auth-compat",[N]:"fire-rtdb",[W]:"fire-rtdb-compat",[r]:"fire-fn",[Y]:"fire-fn-compat",[x]:"fire-iid",[Q]:"fire-iid-compat",[t]:"fire-fcm",[U]:"fire-fcm-compat",[s]:"fire-perf",[J]:"fire-perf-compat",[O]:"fire-rc",[n]:"fire-rc-compat",[p]:"fire-gcs",[e]:"fire-gcs-compat",[X]:"fire-fst",[z]:"fire-fst-compat","fire-js":"fire-js",[u]:"fire-js-all"},hh=new Map,dh=new Map;function mh(h,d){try{h.container.uD(d)}catch(m){g.debug(`Component ${d.name} failed to register with FirebaseApp ${h.name}`,m)}}function jh(h,d){h.container.addOrOverwriteComponent(d)}function Ah(h){const d=h.name;if(dh.has(d))return g.debug(`There were multiple attempts to register component ${d}.`),!1;dh.set(d,h);for(const m of hh.values())mh(m,h);return!0}function bh(h,d){const m=h.container.getProvider("heartbeat").getImmediate({optional:!0});return m&&m.triggerHeartbeat(),h.container.getProvider(d)}function wh(h,d){let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;bh(h,d).clearInstance(m)}function ah(){dh.clear()}const Dh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Sh=new b.c("app","Firebase",Dh);class Mh{constructor(h,d,m){this._isDeleted=!1,this._options=Object.assign({},h),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=m,this.container.uD(new j.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(h){this.checkDestroyed(),this._automaticDataCollectionEnabled=h}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(h){this._isDeleted=h}checkDestroyed(){if(this.isDeleted)throw Sh.create("app-deleted",{appName:this._name})}}const qh="9.23.0";function Eh(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=h;if("object"!==typeof d){d={name:d}}const A=Object.assign({name:P,automaticDataCollectionEnabled:!1},d),w=A.name;if("string"!==typeof w||!w)throw Sh.create("bad-app-name",{appName:String(w)});if(m||(m=(0,b.x)()),!m)throw Sh.create("no-options");const a=hh.get(w);if(a){if((0,b.s)(m,a.options)&&(0,b.s)(A,a.config))return a;throw Sh.create("duplicate-app",{appName:w})}const D=new j.c(w);for(const j of dh.values())D.uD(j);const S=new Mh(m,A,D);return hh.set(w,S),S}function Ih(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;const d=hh.get(h);if(!d&&h===P&&(0,b.x)())return Eh();if(!d)throw Sh.create("no-app",{appName:h});return d}function Rh(){return Array.from(hh.values())}async function Zh(h){const d=h.name;hh.has(d)&&(hh.delete(d),await Promise.all(h.container.getProviders().map((h=>h.delete()))),h.isDeleted=!0)}function Lh(h,d,m){var A;let b=null!==(A=G[h])&&void 0!==A?A:h;m&&(b+=`-${m}`);const w=b.match(/\s|\//),a=d.match(/\s|\//);if(w||a){const h=[`Unable to register library "${b}" with version "${d}":`];return w&&h.push(`library name "${b}" contains illegal characters (whitespace or "/")`),w&&a&&h.push("and"),a&&h.push(`version name "${d}" contains illegal characters (whitespace or "/")`),void g.warn(h.join(" "))}Ah(new j.f(`${b}-version`,(()=>({library:b,version:d})),"VERSION"))}function Bh(h,d){if(null!==h&&"function"!==typeof h)throw Sh.create("invalid-log-argument");(0,A.o)(h,d)}function Vh(h){(0,A.k)(h)}const vh="firebase-heartbeat-store";let Ch=null;function Th(){return Ch||(Ch=function(h,d){let{blocked:m,upgrade:j,blocking:A,terminated:b}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const w=indexedDB.open(h,d),a=L(w);return j&&w.addEventListener("upgradeneeded",(h=>{j(L(w.result),h.oldVersion,h.newVersion,L(w.transaction),h)})),m&&w.addEventListener("blocked",(h=>m(h.oldVersion,h.newVersion,h))),a.then((h=>{b&&h.addEventListener("close",(()=>b())),A&&h.addEventListener("versionchange",(h=>A(h.oldVersion,h.newVersion,h)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(h,d)=>{if(0===d)h.createObjectStore(vh)}}).catch((h=>{throw Sh.create("idb-open",{originalErrorMessage:h.message})}))),Ch}async function oh(h,d){try{const m=(await Th()).transaction(vh,"readwrite"),j=m.objectStore(vh);await j.put(d,yh(h)),await m.done}catch(m){if(m instanceof b.d)g.warn(m.message);else{const h=Sh.create("idb-set",{originalErrorMessage:null===m||void 0===m?void 0:m.message});g.warn(h.message)}}}function yh(h){return`${h.name}!${h.options.appId}`}class ih{constructor(h){this.container=h,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this.Cq=new Fh(d),this._heartbeatsCachePromise=this.Cq.read().then((h=>(this._heartbeatsCache=h,h)))}async triggerHeartbeat(){const h=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=gh();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==d&&!this._heartbeatsCache.heartbeats.some((h=>h.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:h}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=2592e6})),this.Cq.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const h=gh(),{heartbeatsToSend:d,unsentEntries:m}=function(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const m=[];let j=h.slice();for(const A of h){const h=m.find((h=>h.agent===A.agent));if(h){if(h.dates.push(A.date),fh(m)>d){h.dates.pop();break}}else if(m.push({agent:A.agent,dates:[A.date]}),fh(m)>d){m.pop();break}j=j.slice(1)}return{heartbeatsToSend:m,unsentEntries:j}}(this._heartbeatsCache.heartbeats),j=(0,b.k)(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=h,m.length>0?(this._heartbeatsCache.heartbeats=m,await this.Cq.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Cq.overwrite(this._heartbeatsCache)),j}}function gh(){return(new Date).toISOString().substring(0,10)}class Fh{constructor(h){this.app=h,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,b.T)()&&(0,b.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(h){try{const d=await Th();return await d.transaction(vh).objectStore(vh).get(yh(h))}catch(d){if(d instanceof b.d)g.warn(d.message);else{const h=Sh.create("idb-get",{originalErrorMessage:null===d||void 0===d?void 0:d.message});g.warn(h.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(h){var d;if(await this._canUseIndexedDBPromise){const m=await this.read();return oh(this.app,{lastSentHeartbeatDate:null!==(d=h.lastSentHeartbeatDate)&&void 0!==d?d:m.lastSentHeartbeatDate,heartbeats:h.heartbeats})}}async add(h){var d;if(await this._canUseIndexedDBPromise){const m=await this.read();return oh(this.app,{lastSentHeartbeatDate:null!==(d=h.lastSentHeartbeatDate)&&void 0!==d?d:m.lastSentHeartbeatDate,heartbeats:[...m.heartbeats,...h.heartbeats]})}}}function fh(h){return(0,b.k)(JSON.stringify({version:2,heartbeats:h})).length}var Hh;Hh="",Ah(new j.f("platform-logger",(h=>new o(h)),"PRIVATE")),Ah(new j.f("heartbeat",(h=>new ih(h)),"PRIVATE")),Lh(y,i,Hh),Lh(y,i,"esm2017"),Lh("fire-js","")},11024:(h,d,m)=>{m.d(d,{c:()=>a,f:()=>A});var j=m(11029);class A{constructor(h,d,m){this.name=h,this.instanceFactory=d,this.type=m,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}const b="[DEFAULT]";class w{constructor(h,d){this.name=h,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(h){const d=this.normalizeInstanceIdentifier(h);if(!this.instancesDeferred.has(d)){const h=new j.b;if(this.instancesDeferred.set(d,h),this.isInitialized(d)||this.shouldAutoInitialize())try{const m=this.getOrInitializeService({instanceIdentifier:d});m&&h.resolve(m)}catch(m){}}return this.instancesDeferred.get(d).promise}getImmediate(h){var d;const m=this.normalizeInstanceIdentifier(null===h||void 0===h?void 0:h.identifier),j=null!==(d=null===h||void 0===h?void 0:h.optional)&&void 0!==d&&d;if(!this.isInitialized(m)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:m})}catch(A){if(j)return null;throw A}}getComponent(){return this.component}setComponent(h){if(h.name!==this.name)throw Error(`Mismatching Component ${h.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=h,this.shouldAutoInitialize()){if(function(h){return"EAGER"===h.instantiationMode}(h))try{this.getOrInitializeService({instanceIdentifier:b})}catch(d){}for(const[h,m]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(h);try{const h=this.getOrInitializeService({instanceIdentifier:j});m.resolve(h)}catch(d){}}}}clearInstance(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;this.instancesDeferred.delete(h),this.instancesOptions.delete(h),this.instances.delete(h)}async delete(){const h=Array.from(this.instances.values());await Promise.all([...h.filter((h=>"INTERNAL"in h)).map((h=>h.INTERNAL.delete())),...h.filter((h=>"_delete"in h)).map((h=>h._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.instances.has(h)}getOptions(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.instancesOptions.get(h)||{}}initialize(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:d={}}=h,m=this.normalizeInstanceIdentifier(h.instanceIdentifier);if(this.isInitialized(m))throw Error(`${this.name}(${m}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:m,options:d});for(const[A,b]of this.instancesDeferred.entries()){m===this.normalizeInstanceIdentifier(A)&&b.resolve(j)}return j}hq(h,d){var m;const j=this.normalizeInstanceIdentifier(d),A=null!==(m=this.onInitCallbacks.get(j))&&void 0!==m?m:new Set;A.add(h),this.onInitCallbacks.set(j,A);const b=this.instances.get(j);return b&&h(b,j),()=>{A.delete(h)}}invokeOnInitCallbacks(h,d){const m=this.onInitCallbacks.get(d);if(m)for(const A of m)try{A(h,d)}catch(j){}}getOrInitializeService(h){let{instanceIdentifier:d,options:m={}}=h,j=this.instances.get(d);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(A=d,A===b?void 0:A),options:m}),this.instances.set(d,j),this.instancesOptions.set(d,m),this.invokeOnInitCallbacks(j,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,j)}catch(w){}var A;return j||null}normalizeInstanceIdentifier(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.component?this.component.multipleInstances?h:b:h}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(h){this.name=h,this.providers=new Map}uD(h){const d=this.getProvider(h.name);if(d.isComponentSet())throw new Error(`Component ${h.name} has already been registered with ${this.name}`);d.setComponent(h)}addOrOverwriteComponent(h){this.getProvider(h.name).isComponentSet()&&this.providers.delete(h.name),this.uD(h)}getProvider(h){if(this.providers.has(h))return this.providers.get(h);const d=new w(h,this);return this.providers.set(h,d),d}getProviders(){return Array.from(this.providers.values())}}},11033:(h,d,m)=>{m.d(d,{d:()=>A,g:()=>S,k:()=>M,o:()=>q});const j=[];var A;!function(h){h[h.DEBUG=0]="DEBUG",h[h.VERBOSE=1]="VERBOSE",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.SILENT=5]="SILENT"}(A||(A={}));const b={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},w=A.INFO,a={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},D=function(h,d){if(d<h.logLevel)return;const m=(new Date).toISOString(),j=a[d];if(!j)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);for(var A=arguments.length,b=new Array(A>2?A-2:0),w=2;w<A;w++)b[w-2]=arguments[w];console[j](`[${m}]  ${h.name}:`,...b)};class S{constructor(h){this.name=h,this._logLevel=w,this._logHandler=D,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in A))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"===typeof h?b[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!==typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...d),this._logHandler(this,A.DEBUG,...d)}log(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...d),this._logHandler(this,A.VERBOSE,...d)}info(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,A.INFO,...d),this._logHandler(this,A.INFO,...d)}warn(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,A.WARN,...d),this._logHandler(this,A.WARN,...d)}error(){for(var h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...d),this._logHandler(this,A.ERROR,...d)}}function M(h){j.forEach((d=>{d.setLogLevel(h)}))}function q(h,d){for(const m of j){let j=null;d&&d.level&&(j=b[d.level]),m.userLogHandler=null===h?null:function(d,m){for(var b=arguments.length,w=new Array(b>2?b-2:0),a=2;a<b;a++)w[a-2]=arguments[a];const D=w.map((h=>{if(null==h)return null;if("string"===typeof h)return h;if("number"===typeof h||"boolean"===typeof h)return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch(d){return null}})).filter((h=>h)).join(" ");m>=(null!==j&&void 0!==j?j:d.logLevel)&&h({level:A[m].toLowerCase(),message:D,args:w,type:d.name})}}}}}]);