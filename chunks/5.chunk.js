/*! For license information please see duieqg.5.f1189273.chunk.js.LICENSE.txt */
"use strict";(self.vfdo5lmva5i=self.vfdo5lmva5i||[]).push([[5],{11509:(w,o,H)=>{H.d(o,{A:()=>g,C:()=>y,E:()=>A,F:()=>z,I:()=>G,M:()=>Q,N:()=>i,R:()=>S,S:()=>V,T:()=>r,V:()=>M,W:()=>s,X:()=>J,_:()=>B,bb:()=>k,c:()=>C,d:()=>O,h:()=>l,k:()=>P,m:()=>t,n:()=>D,q:()=>n,u:()=>b,x:()=>c});const h=function(w){const o=[];let H=0;for(let h=0;h<w.length;h++){let E=w.charCodeAt(h);E<128?o[H++]=E:E<2048?(o[H++]=E>>6|192,o[H++]=63&E|128):55296===(64512&E)&&h+1<w.length&&56320===(64512&w.charCodeAt(h+1))?(E=65536+((1023&E)<<10)+(1023&w.charCodeAt(++h)),o[H++]=E>>18|240,o[H++]=E>>12&63|128,o[H++]=E>>6&63|128,o[H++]=63&E|128):(o[H++]=E>>12|224,o[H++]=E>>6&63|128,o[H++]=63&E|128)}return o},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(w,o){if(!Array.isArray(w))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[];for(let E=0;E<w.length;E+=3){const o=w[E],e=E+1<w.length,D=e?w[E+1]:0,t=E+2<w.length,X=t?w[E+2]:0,L=o>>2,A=(3&o)<<4|D>>4;let y=(15&D)<<2|X>>6,z=63&X;t||(z=64,e||(y=64)),h.push(H[L],H[A],H[y],H[z])}return h.join("")},encodeString(w,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(w):this.encodeByteArray(h(w),o)},decodeString(w,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(w):function(w){const o=[];let H=0,h=0;for(;H<w.length;){const E=w[H++];if(E<128)o[h++]=String.fromCharCode(E);else if(E>191&&E<224){const e=w[H++];o[h++]=String.fromCharCode((31&E)<<6|63&e)}else if(E>239&&E<365){const e=((7&E)<<18|(63&w[H++])<<12|(63&w[H++])<<6|63&w[H++])-65536;o[h++]=String.fromCharCode(55296+(e>>10)),o[h++]=String.fromCharCode(56320+(1023&e))}else{const e=w[H++],D=w[H++];o[h++]=String.fromCharCode((15&E)<<12|(63&e)<<6|63&D)}}return o.join("")}(this.decodeStringToByteArray(w,o))},decodeStringToByteArray(w,o){this.init_();const H=o?this.charToByteMapWebSafe_:this.charToByteMap_,h=[];for(let E=0;E<w.length;){const o=H[w.charAt(E++)],D=E<w.length?H[w.charAt(E)]:0;++E;const t=E<w.length?H[w.charAt(E)]:64;++E;const X=E<w.length?H[w.charAt(E)]:64;if(++E,null==o||null==D||null==t||null==X)throw new e;const L=o<<2|D>>4;if(h.push(L),64!==t){const w=D<<4&240|t>>2;if(h.push(w),64!==X){const w=t<<6&192|X;h.push(w)}}}return h},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let w=0;w<this.ENCODED_VALS.length;w++)this.byteToCharMap_[w]=this.ENCODED_VALS.charAt(w),this.charToByteMap_[this.byteToCharMap_[w]]=w,this.byteToCharMapWebSafe_[w]=this.ENCODED_VALS_WEBSAFE.charAt(w),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[w]]=w,w>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(w)]=w,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(w)]=w)}}};class e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D=function(w){return function(w){const o=h(w);return E.encodeByteArray(o,!0)}(w).replace(/\./g,"")},t=function(w){try{return E.decodeString(w,!0)}catch(o){console.error("base64Decode failed: ",o)}return null};const X=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof H.g)return H.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,L=()=>{try{return X()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let w;try{w=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(H){return}const o=w&&t(w[1]);return o&&JSON.parse(o)})()}catch(w){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${w}`)}},A=w=>{var o,H;return null===(H=null===(o=L())||void 0===o?void 0:o.emulatorHosts)||void 0===H?void 0:H[w]},y=()=>{var w;return null===(w=L())||void 0===w?void 0:w.config},z=w=>{var o;return null===(o=L())||void 0===o?void 0:o[`_${w}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((w,o)=>{this.resolve=w,this.reject=o}))}wrapCallback(w){return(o,H)=>{o?this.reject(o):this.resolve(H),"function"===typeof w&&(this.promise.catch((()=>{})),1===w.length?w(o):w(o,H))}}}function Q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function i(){const w="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof w&&void 0!==w.id}function s(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function V(){const w=Q();return w.indexOf("MSIE ")>=0||w.indexOf("Trident/")>=0}function r(){try{return"object"===typeof indexedDB}catch(w){return!1}}function k(){return new Promise(((w,o)=>{try{let H=!0;const h="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(h);E.onsuccess=()=>{E.result.close(),H||self.indexedDB.deleteDatabase(h),w(!0)},E.onupgradeneeded=()=>{H=!1},E.onerror=()=>{var w;o((null===(w=E.error)||void 0===w?void 0:w.message)||"")}}catch(H){o(H)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class l extends Error{constructor(w,o,H){super(o),this.code=w,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(w,o,H){this.service=w,this.serviceName=o,this.errors=H}create(w){const o=(arguments.length<=1?void 0:arguments[1])||{},H=`${this.service}/${w}`,h=this.errors[w],E=h?function(w,o){return w.replace(T,((w,H)=>{const h=o[H];return null!=h?String(h):`<${H}?>`}))}(h,o):"Error",e=`${this.serviceName}: ${E} (${H}).`;return new l(H,e,o)}}const T=/\{\$([^}]+)}/g;function S(w){for(const o in w)if(Object.prototype.hasOwnProperty.call(w,o))return!1;return!0}function c(w,o){if(w===o)return!0;const H=Object.keys(w),h=Object.keys(o);for(const E of H){if(!h.includes(E))return!1;const H=w[E],e=o[E];if(W(H)&&W(e)){if(!c(H,e))return!1}else if(H!==e)return!1}for(const E of h)if(!H.includes(E))return!1;return!0}function W(w){return null!==w&&"object"===typeof w}function B(w){const o=[];for(const[H,h]of Object.entries(w))Array.isArray(h)?h.forEach((w=>{o.push(encodeURIComponent(H)+"="+encodeURIComponent(w))})):o.push(encodeURIComponent(H)+"="+encodeURIComponent(h));return o.length?"&"+o.join("&"):""}function J(w){const o={};return w.replace(/^\?/,"").split("&").forEach((w=>{if(w){const[H,h]=w.split("=");o[decodeURIComponent(H)]=decodeURIComponent(h)}})),o}function g(w){const o=w.indexOf("?");if(!o)return"";const H=w.indexOf("#",o);return w.substring(o,H>0?H:void 0)}function b(w,o){const H=new p(w,o);return H.subscribe.bind(H)}class p{constructor(w,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then((()=>{w(this)})).catch((w=>{this.error(w)}))}next(w){this.forEachObserver((o=>{o.next(w)}))}error(w){this.forEachObserver((o=>{o.error(w)})),this.close(w)}complete(){this.forEachObserver((w=>{w.complete()})),this.close()}subscribe(w,o,H){let h;if(void 0===w&&void 0===o&&void 0===H)throw new Error("Missing Observer.");h=function(w,o){if("object"!==typeof w||null===w)return!1;for(const H of o)if(H in w&&"function"===typeof w[H])return!0;return!1}(w,["next","error","complete"])?w:{next:w,error:o,complete:H},void 0===h.next&&(h.next=f),void 0===h.error&&(h.error=f),void 0===h.complete&&(h.complete=f);const E=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?h.error(this.finalError):h.complete()}catch(w){}})),this.observers.push(h),E}unsubscribeOne(w){void 0!==this.observers&&void 0!==this.observers[w]&&(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(w){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,w)}sendOne(w,o){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[w])try{o(this.observers[w])}catch(H){"undefined"!==typeof console&&console.error&&console.error(H)}}))}close(w){this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function f(){}const N=1e3,j=2,q=144e5,u=.5;function n(w){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;const H=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N)*Math.pow(o,w),h=Math.round(u*H*(Math.random()-.5)*2);return Math.min(q,H+h)}function G(w){return w&&w._delegate?w._delegate:w}},11495:(w,o,H)=>{H.d(o,{d:()=>e.h,g:()=>yw,h:()=>Y,j:()=>Hw,n:()=>hw,r:()=>ww,t:()=>tw,w:()=>ow,x:()=>ew,y:()=>Ew,A:()=>Dw,D:()=>Mw,F:()=>Cw,E:()=>Qw,J:()=>zw,M:()=>sw,P:()=>iw,R:()=>Vw});var h=H(11500),E=H(11515),e=H(11509);let D,t;const X=new WeakMap,L=new WeakMap,A=new WeakMap,y=new WeakMap,z=new WeakMap;let C={get(w,o,H){if(w instanceof IDBTransaction){if("done"===o)return L.get(w);if("objectStoreNames"===o)return w.objectStoreNames||A.get(w);if("store"===o)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return i(w[o])},set:(w,o,H)=>(w[o]=H,!0),has:(w,o)=>w instanceof IDBTransaction&&("done"===o||"store"===o)||o in w};function Q(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(w)?function(){for(var o=arguments.length,H=new Array(o),h=0;h<o;h++)H[h]=arguments[h];return w.apply(s(this),H),i(X.get(this))}:function(){for(var o=arguments.length,H=new Array(o),h=0;h<o;h++)H[h]=arguments[h];return i(w.apply(s(this),H))}:function(o){for(var H=arguments.length,h=new Array(H>1?H-1:0),E=1;E<H;E++)h[E-1]=arguments[E];const e=w.call(s(this),o,...h);return A.set(e,o.sort?o.sort():[o]),i(e)}}function M(w){return"function"===typeof w?Q(w):(w instanceof IDBTransaction&&function(w){if(L.has(w))return;const o=new Promise(((o,H)=>{const h=()=>{w.removeEventListener("complete",E),w.removeEventListener("error",e),w.removeEventListener("abort",e)},E=()=>{o(),h()},e=()=>{H(w.error||new DOMException("AbortError","AbortError")),h()};w.addEventListener("complete",E),w.addEventListener("error",e),w.addEventListener("abort",e)}));L.set(w,o)}(w),o=w,(D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((w=>o instanceof w))?new Proxy(w,C):w);var o}function i(w){if(w instanceof IDBRequest)return function(w){const o=new Promise(((o,H)=>{const h=()=>{w.removeEventListener("success",E),w.removeEventListener("error",e)},E=()=>{o(i(w.result)),h()},e=()=>{H(w.error),h()};w.addEventListener("success",E),w.addEventListener("error",e)}));return o.then((o=>{o instanceof IDBCursor&&X.set(o,w)})).catch((()=>{})),z.set(o,w),o}(w);if(y.has(w))return y.get(w);const o=M(w);return o!==w&&(y.set(w,o),z.set(o,w)),o}const s=w=>z.get(w);const V=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],k=new Map;function P(w,o){if(!(w instanceof IDBDatabase)||o in w||"string"!==typeof o)return;if(k.get(o))return k.get(o);const H=o.replace(/FromIndex$/,""),h=o!==H,E=r.includes(H);if(!(H in(h?IDBIndex:IDBObjectStore).prototype)||!E&&!V.includes(H))return;const e=async function(w){const o=this.transaction(w,E?"readwrite":"readonly");let e=o.store;for(var D=arguments.length,t=new Array(D>1?D-1:0),X=1;X<D;X++)t[X-1]=arguments[X];return h&&(e=e.index(t.shift())),(await Promise.all([e[H](...t),E&&o.done]))[0]};return k.set(o,e),e}C=(w=>({...w,get:(o,H,h)=>P(o,H)||w.get(o,H,h),has:(o,H)=>!!P(o,H)||w.has(o,H)}))(C);class l{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map((w=>{if(function(w){const o=w.getComponent();return"VERSION"===(null===o||void 0===o?void 0:o.type)}(w)){const o=w.getImmediate();return`${o.library}/${o.version}`}return null})).filter((w=>w)).join(" ")}}const O="@firebase/app",T="0.9.13",S=new E.g("@firebase/app"),c="@firebase/app-compat",W="@firebase/analytics-compat",B="@firebase/analytics",J="@firebase/app-check-compat",g="@firebase/app-check",b="@firebase/auth",p="@firebase/auth-compat",f="@firebase/database",N="@firebase/database-compat",j="@firebase/functions",q="@firebase/functions-compat",u="@firebase/installations",n="@firebase/installations-compat",G="@firebase/messaging",R="@firebase/messaging-compat",a="@firebase/performance",d="@firebase/performance-compat",I="@firebase/remote-config",U="@firebase/remote-config-compat",Z="@firebase/storage",K="@firebase/storage-compat",F="@firebase/firestore",v="@firebase/firestore-compat",mw="firebase",Y="[DEFAULT]",x={[O]:"fire-core",[c]:"fire-core-compat",[B]:"fire-analytics",[W]:"fire-analytics-compat",[g]:"fire-app-check",[J]:"fire-app-check-compat",[b]:"fire-auth",[p]:"fire-auth-compat",[f]:"fire-rtdb",[N]:"fire-rtdb-compat",[j]:"fire-fn",[q]:"fire-fn-compat",[u]:"fire-iid",[n]:"fire-iid-compat",[G]:"fire-fcm",[R]:"fire-fcm-compat",[a]:"fire-perf",[d]:"fire-perf-compat",[I]:"fire-rc",[U]:"fire-rc-compat",[Z]:"fire-gcs",[K]:"fire-gcs-compat",[F]:"fire-fst",[v]:"fire-fst-compat","fire-js":"fire-js",[mw]:"fire-js-all"},ww=new Map,ow=new Map;function Hw(w,o){try{w.container.qX(o)}catch(H){S.debug(`Component ${o.name} failed to register with FirebaseApp ${w.name}`,H)}}function hw(w,o){w.container.addOrOverwriteComponent(o)}function Ew(w){const o=w.name;if(ow.has(o))return S.debug(`There were multiple attempts to register component ${o}.`),!1;ow.set(o,w);for(const H of ww.values())Hw(H,w);return!0}function ew(w,o){const H=w.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),w.container.getProvider(o)}function Dw(w,o){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;ew(w,o).clearInstance(H)}function tw(){ow.clear()}const Xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lw=new e.d("app","Firebase",Xw);class Aw{constructor(w,o,H){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=H,this.container.qX(new h.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw Lw.create("app-deleted",{appName:this._name})}}const yw="9.23.0";function zw(w){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=w;if("object"!==typeof o){o={name:o}}const E=Object.assign({name:Y,automaticDataCollectionEnabled:!1},o),D=E.name;if("string"!==typeof D||!D)throw Lw.create("bad-app-name",{appName:String(D)});if(H||(H=(0,e.C)()),!H)throw Lw.create("no-options");const t=ww.get(D);if(t){if((0,e.x)(H,t.options)&&(0,e.x)(E,t.config))return t;throw Lw.create("duplicate-app",{appName:D})}const X=new h.d(D);for(const h of ow.values())X.qX(h);const L=new Aw(H,E,X);return ww.set(D,L),L}function Cw(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const o=ww.get(w);if(!o&&w===Y&&(0,e.C)())return zw();if(!o)throw Lw.create("no-app",{appName:w});return o}function Qw(){return Array.from(ww.values())}async function Mw(w){const o=w.name;ww.has(o)&&(ww.delete(o),await Promise.all(w.container.getProviders().map((w=>w.delete()))),w.isDeleted=!0)}function iw(w,o,H){var E;let e=null!==(E=x[w])&&void 0!==E?E:w;H&&(e+=`-${H}`);const D=e.match(/\s|\//),t=o.match(/\s|\//);if(D||t){const w=[`Unable to register library "${e}" with version "${o}":`];return D&&w.push(`library name "${e}" contains illegal characters (whitespace or "/")`),D&&t&&w.push("and"),t&&w.push(`version name "${o}" contains illegal characters (whitespace or "/")`),void S.warn(w.join(" "))}Ew(new h.e(`${e}-version`,(()=>({library:e,version:o})),"VERSION"))}function sw(w,o){if(null!==w&&"function"!==typeof w)throw Lw.create("invalid-log-argument");(0,E.i)(w,o)}function Vw(w){(0,E.h)(w)}const rw="firebase-heartbeat-store";let kw=null;function Pw(){return kw||(kw=function(w,o){let{blocked:H,upgrade:h,blocking:E,terminated:e}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const D=indexedDB.open(w,o),t=i(D);return h&&D.addEventListener("upgradeneeded",(w=>{h(i(D.result),w.oldVersion,w.newVersion,i(D.transaction),w)})),H&&D.addEventListener("blocked",(w=>H(w.oldVersion,w.newVersion,w))),t.then((w=>{e&&w.addEventListener("close",(()=>e())),E&&w.addEventListener("versionchange",(w=>E(w.oldVersion,w.newVersion,w)))})).catch((()=>{})),t}("firebase-heartbeat-database",1,{upgrade:(w,o)=>{if(0===o)w.createObjectStore(rw)}}).catch((w=>{throw Lw.create("idb-open",{originalErrorMessage:w.message})}))),kw}async function lw(w,o){try{const H=(await Pw()).transaction(rw,"readwrite"),h=H.objectStore(rw);await h.put(o,Ow(w)),await H.done}catch(H){if(H instanceof e.h)S.warn(H.message);else{const w=Lw.create("idb-set",{originalErrorMessage:null===H||void 0===H?void 0:H.message});S.warn(w.message)}}}function Ow(w){return`${w.name}!${w.options.appId}`}class Tw{constructor(w){this.container=w,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this.zy=new cw(o),this._heartbeatsCachePromise=this.zy.read().then((w=>(this._heartbeatsCache=w,w)))}async triggerHeartbeat(){const w=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sw();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==o&&!this._heartbeatsCache.heartbeats.some((w=>w.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:w}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((w=>{const o=new Date(w.date).valueOf();return Date.now()-o<=2592e6})),this.zy.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const w=Sw(),{heartbeatsToSend:o,unsentEntries:H}=function(w){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const H=[];let h=w.slice();for(const E of w){const w=H.find((w=>w.agent===E.agent));if(w){if(w.dates.push(E.date),Ww(H)>o){w.dates.pop();break}}else if(H.push({agent:E.agent,dates:[E.date]}),Ww(H)>o){H.pop();break}h=h.slice(1)}return{heartbeatsToSend:H,unsentEntries:h}}(this._heartbeatsCache.heartbeats),h=(0,e.n)(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=w,H.length>0?(this._heartbeatsCache.heartbeats=H,await this.zy.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.zy.overwrite(this._heartbeatsCache)),h}}function Sw(){return(new Date).toISOString().substring(0,10)}class cw{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,e.T)()&&(0,e.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(w){try{const o=await Pw();return await o.transaction(rw).objectStore(rw).get(Ow(w))}catch(o){if(o instanceof e.h)S.warn(o.message);else{const w=Lw.create("idb-get",{originalErrorMessage:null===o||void 0===o?void 0:o.message});S.warn(w.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(w){var o;if(await this._canUseIndexedDBPromise){const H=await this.read();return lw(this.app,{lastSentHeartbeatDate:null!==(o=w.lastSentHeartbeatDate)&&void 0!==o?o:H.lastSentHeartbeatDate,heartbeats:w.heartbeats})}}async add(w){var o;if(await this._canUseIndexedDBPromise){const H=await this.read();return lw(this.app,{lastSentHeartbeatDate:null!==(o=w.lastSentHeartbeatDate)&&void 0!==o?o:H.lastSentHeartbeatDate,heartbeats:[...H.heartbeats,...w.heartbeats]})}}}function Ww(w){return(0,e.n)(JSON.stringify({version:2,heartbeats:w})).length}var Bw;Bw="",Ew(new h.e("platform-logger",(w=>new l(w)),"PRIVATE")),Ew(new h.e("heartbeat",(w=>new Tw(w)),"PRIVATE")),iw(O,T,Bw),iw(O,T,"esm2017"),iw("fire-js","")},11500:(w,o,H)=>{H.d(o,{d:()=>t,e:()=>E});var h=H(11509);class E{constructor(w,o,H){this.name=w,this.instanceFactory=o,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(w){return this.instantiationMode=w,this}setMultipleInstances(w){return this.multipleInstances=w,this}setServiceProps(w){return this.serviceProps=w,this}setInstanceCreatedCallback(w){return this.onInstanceCreated=w,this}}const e="[DEFAULT]";class D{constructor(w,o){this.name=w,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(w){const o=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(o)){const w=new h.c;if(this.instancesDeferred.set(o,w),this.isInitialized(o)||this.shouldAutoInitialize())try{const H=this.getOrInitializeService({instanceIdentifier:o});H&&w.resolve(H)}catch(H){}}return this.instancesDeferred.get(o).promise}getImmediate(w){var o;const H=this.normalizeInstanceIdentifier(null===w||void 0===w?void 0:w.identifier),h=null!==(o=null===w||void 0===w?void 0:w.optional)&&void 0!==o&&o;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(h)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(E){if(h)return null;throw E}}getComponent(){return this.component}setComponent(w){if(w.name!==this.name)throw Error(`Mismatching Component ${w.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=w,this.shouldAutoInitialize()){if(function(w){return"EAGER"===w.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:e})}catch(o){}for(const[w,H]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(w);try{const w=this.getOrInitializeService({instanceIdentifier:h});H.resolve(w)}catch(o){}}}}clearInstance(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)}async delete(){const w=Array.from(this.instances.values());await Promise.all([...w.filter((w=>"INTERNAL"in w)).map((w=>w.INTERNAL.delete())),...w.filter((w=>"_delete"in w)).map((w=>w._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return this.instances.has(w)}getOptions(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return this.instancesOptions.get(w)||{}}initialize(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:o={}}=w,H=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const h=this.getOrInitializeService({instanceIdentifier:H,options:o});for(const[E,e]of this.instancesDeferred.entries()){H===this.normalizeInstanceIdentifier(E)&&e.resolve(h)}return h}IA(w,o){var H;const h=this.normalizeInstanceIdentifier(o),E=null!==(H=this.onInitCallbacks.get(h))&&void 0!==H?H:new Set;E.add(w),this.onInitCallbacks.set(h,E);const e=this.instances.get(h);return e&&w(e,h),()=>{E.delete(w)}}invokeOnInitCallbacks(w,o){const H=this.onInitCallbacks.get(o);if(H)for(const E of H)try{E(w,o)}catch(h){}}getOrInitializeService(w){let{instanceIdentifier:o,options:H={}}=w,h=this.instances.get(o);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:(E=o,E===e?void 0:E),options:H}),this.instances.set(o,h),this.instancesOptions.set(o,H),this.invokeOnInitCallbacks(h,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,h)}catch(D){}var E;return h||null}normalizeInstanceIdentifier(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return this.component?this.component.multipleInstances?w:e:w}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class t{constructor(w){this.name=w,this.providers=new Map}qX(w){const o=this.getProvider(w.name);if(o.isComponentSet())throw new Error(`Component ${w.name} has already been registered with ${this.name}`);o.setComponent(w)}addOrOverwriteComponent(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.qX(w)}getProvider(w){if(this.providers.has(w))return this.providers.get(w);const o=new D(w,this);return this.providers.set(w,o),o}getProviders(){return Array.from(this.providers.values())}}},11515:(w,o,H)=>{H.d(o,{d:()=>E,g:()=>L,h:()=>A,i:()=>y});const h=[];var E;!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(E||(E={}));const e={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},D=E.INFO,t={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},X=function(w,o){if(o<w.logLevel)return;const H=(new Date).toISOString(),h=t[o];if(!h)throw new Error(`Attempted to log a message with an invalid logType (value: ${o})`);for(var E=arguments.length,e=new Array(E>2?E-2:0),D=2;D<E;D++)e[D-2]=arguments[D];console[h](`[${H}]  ${w.name}:`,...e)};class L{constructor(w){this.name=w,this._logLevel=D,this._logHandler=X,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(w){if(!(w in E))throw new TypeError(`Invalid value "${w}" assigned to \`logLevel\``);this._logLevel=w}setLogLevel(w){this._logLevel="string"===typeof w?e[w]:w}get logHandler(){return this._logHandler}set logHandler(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}get userLogHandler(){return this._userLogHandler}set userLogHandler(w){this._userLogHandler=w}debug(){for(var w=arguments.length,o=new Array(w),H=0;H<w;H++)o[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...o),this._logHandler(this,E.DEBUG,...o)}log(){for(var w=arguments.length,o=new Array(w),H=0;H<w;H++)o[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...o),this._logHandler(this,E.VERBOSE,...o)}info(){for(var w=arguments.length,o=new Array(w),H=0;H<w;H++)o[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,E.INFO,...o),this._logHandler(this,E.INFO,...o)}warn(){for(var w=arguments.length,o=new Array(w),H=0;H<w;H++)o[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,E.WARN,...o),this._logHandler(this,E.WARN,...o)}error(){for(var w=arguments.length,o=new Array(w),H=0;H<w;H++)o[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,E.ERROR,...o),this._logHandler(this,E.ERROR,...o)}}function A(w){h.forEach((o=>{o.setLogLevel(w)}))}function y(w,o){for(const H of h){let h=null;o&&o.level&&(h=e[o.level]),H.userLogHandler=null===w?null:function(o,H){for(var e=arguments.length,D=new Array(e>2?e-2:0),t=2;t<e;t++)D[t-2]=arguments[t];const X=D.map((w=>{if(null==w)return null;if("string"===typeof w)return w;if("number"===typeof w||"boolean"===typeof w)return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch(o){return null}})).filter((w=>w)).join(" ");H>=(null!==h&&void 0!==h?h:o.logLevel)&&w({level:E[H].toLowerCase(),message:X,args:D,type:o.name})}}}}}]);