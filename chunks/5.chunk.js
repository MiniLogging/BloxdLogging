/*! For license information please see 948nlq.5.3bb46a76.chunk.js.LICENSE.txt */
"use strict";(self.ksd6jhs1yr=self.ksd6jhs1yr||[]).push([[5],{12196:(C,c,d)=>{d.d(c,{A:()=>f,E:()=>k,F:()=>g,G:()=>Z,J:()=>D,N:()=>A,O:()=>q,P:()=>M,Q:()=>t,T:()=>e,U:()=>u,Y:()=>B,_:()=>L,ab:()=>h,c:()=>U,d:()=>N,db:()=>n,g:()=>E,j:()=>W,m:()=>R,q:()=>V,s:()=>v,t:()=>T,w:()=>K});const b=function(C){const c=[];let d=0;for(let b=0;b<C.length;b++){let X=C.charCodeAt(b);X<128?c[d++]=X:X<2048?(c[d++]=X>>6|192,c[d++]=63&X|128):55296===(64512&X)&&b+1<C.length&&56320===(64512&C.charCodeAt(b+1))?(X=65536+((1023&X)<<10)+(1023&C.charCodeAt(++b)),c[d++]=X>>18|240,c[d++]=X>>12&63|128,c[d++]=X>>6&63|128,c[d++]=63&X|128):(c[d++]=X>>12|224,c[d++]=X>>6&63|128,c[d++]=63&X|128)}return c},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(C,c){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const d=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let X=0;X<C.length;X+=3){const c=C[X],P=X+1<C.length,V=P?C[X+1]:0,R=X+2<C.length,p=R?C[X+2]:0,j=c>>2,g=(3&c)<<4|V>>4;let k=(15&V)<<2|p>>6,Z=63&p;R||(Z=64,P||(k=64)),b.push(d[j],d[g],d[k],d[Z])}return b.join("")},encodeString(C,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(C):this.encodeByteArray(b(C),c)},decodeString(C,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(C):function(C){const c=[];let d=0,b=0;for(;d<C.length;){const X=C[d++];if(X<128)c[b++]=String.fromCharCode(X);else if(X>191&&X<224){const P=C[d++];c[b++]=String.fromCharCode((31&X)<<6|63&P)}else if(X>239&&X<365){const P=((7&X)<<18|(63&C[d++])<<12|(63&C[d++])<<6|63&C[d++])-65536;c[b++]=String.fromCharCode(55296+(P>>10)),c[b++]=String.fromCharCode(56320+(1023&P))}else{const P=C[d++],V=C[d++];c[b++]=String.fromCharCode((15&X)<<12|(63&P)<<6|63&V)}}return c.join("")}(this.decodeStringToByteArray(C,c))},decodeStringToByteArray(C,c){this.init_();const d=c?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let X=0;X<C.length;){const c=d[C.charAt(X++)],V=X<C.length?d[C.charAt(X)]:0;++X;const R=X<C.length?d[C.charAt(X)]:64;++X;const p=X<C.length?d[C.charAt(X)]:64;if(++X,null==c||null==V||null==R||null==p)throw new P;const j=c<<2|V>>4;if(b.push(j),64!==R){const C=V<<4&240|R>>2;if(b.push(C),64!==p){const C=R<<6&192|p;b.push(C)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V=function(C){return function(C){const c=b(C);return X.encodeByteArray(c,!0)}(C).replace(/\./g,"")},R=function(C){try{return X.decodeString(C,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const p=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof d.g)return d.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,j=()=>{try{return p()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(d){return}const c=C&&R(C[1]);return c&&JSON.parse(c)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},g=C=>{var c,d;return null===(d=null===(c=j())||void 0===c?void 0:c.emulatorHosts)||void 0===d?void 0:d[C]},k=()=>{var C;return null===(C=j())||void 0===C?void 0:C.config},Z=C=>{var c;return null===(c=j())||void 0===c?void 0:c[`_${C}`]};class U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((C,c)=>{this.resolve=C,this.reject=c}))}wrapCallback(C){return(c,d)=>{c?this.reject(c):this.resolve(d),"function"===typeof C&&(this.promise.catch((()=>{})),1===C.length?C(c):C(c,d))}}}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function q(){const C="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof C&&void 0!==C.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const C=A();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function e(){try{return"object"===typeof indexedDB}catch(C){return!1}}function n(){return new Promise(((C,c)=>{try{let d=!0;const b="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(b);X.onsuccess=()=>{X.result.close(),d||self.indexedDB.deleteDatabase(b),C(!0)},X.onupgradeneeded=()=>{d=!1},X.onerror=()=>{var C;c((null===(C=X.error)||void 0===C?void 0:C.message)||"")}}catch(d){c(d)}}))}function W(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(C,c,d){super(c),this.code=C,this.customData=d,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(C,c,d){this.service=C,this.serviceName=c,this.errors=d}create(C){const c=(arguments.length<=1?void 0:arguments[1])||{},d=`${this.service}/${C}`,b=this.errors[C],X=b?function(C,c){return C.replace(r,((C,d)=>{const b=c[d];return null!=b?String(b):`<${d}?>`}))}(b,c):"Error",P=`${this.serviceName}: ${X} (${d}).`;return new E(d,P,c)}}const r=/\{\$([^}]+)}/g;function M(C){for(const c in C)if(Object.prototype.hasOwnProperty.call(C,c))return!1;return!0}function K(C,c){if(C===c)return!0;const d=Object.keys(C),b=Object.keys(c);for(const X of d){if(!b.includes(X))return!1;const d=C[X],P=c[X];if(i(d)&&i(P)){if(!K(d,P))return!1}else if(d!==P)return!1}for(const X of b)if(!d.includes(X))return!1;return!0}function i(C){return null!==C&&"object"===typeof C}function h(C){const c=[];for(const[d,b]of Object.entries(C))Array.isArray(b)?b.forEach((C=>{c.push(encodeURIComponent(d)+"="+encodeURIComponent(C))})):c.push(encodeURIComponent(d)+"="+encodeURIComponent(b));return c.length?"&"+c.join("&"):""}function L(C){const c={};return C.replace(/^\?/,"").split("&").forEach((C=>{if(C){const[d,b]=C.split("=");c[decodeURIComponent(d)]=decodeURIComponent(b)}})),c}function f(C){const c=C.indexOf("?");if(!c)return"";const d=C.indexOf("#",c);return C.substring(c,d>0?d:void 0)}function T(C,c){const d=new z(C,c);return d.subscribe.bind(d)}class z{constructor(C,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{C(this)})).catch((C=>{this.error(C)}))}next(C){this.forEachObserver((c=>{c.next(C)}))}error(C){this.forEachObserver((c=>{c.error(C)})),this.close(C)}complete(){this.forEachObserver((C=>{C.complete()})),this.close()}subscribe(C,c,d){let b;if(void 0===C&&void 0===c&&void 0===d)throw new Error("Missing Observer.");b=function(C,c){if("object"!==typeof C||null===C)return!1;for(const d of c)if(d in C&&"function"===typeof C[d])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:c,complete:d},void 0===b.next&&(b.next=w),void 0===b.error&&(b.error=w),void 0===b.complete&&(b.complete=w);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch(C){}})),this.observers.push(b),X}unsubscribeOne(C){void 0!==this.observers&&void 0!==this.observers[C]&&(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,C)}sendOne(C,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{c(this.observers[C])}catch(d){"undefined"!==typeof console&&console.error&&console.error(d)}}))}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function w(){}const J=1e3,y=2,x=144e5,H=.5;function v(C){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;const d=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:J)*Math.pow(c,C),b=Math.round(H*d*(Math.random()-.5)*2);return Math.min(x,d+b)}function D(C){return C&&C._delegate?C._delegate:C}},12185:(C,c,d)=>{d.d(c,{c:()=>P.g,g:()=>kC,h:()=>a,l:()=>dC,o:()=>bC,p:()=>CC,r:()=>RC,s:()=>cC,w:()=>PC,y:()=>XC,C:()=>VC,G:()=>uC,J:()=>UC,I:()=>AC,N:()=>ZC,Q:()=>BC,S:()=>qC,T:()=>tC});var b=d(12192),X=d(12199),P=d(12196);let V,R;const p=new WeakMap,j=new WeakMap,g=new WeakMap,k=new WeakMap,Z=new WeakMap;let U={get(C,c,d){if(C instanceof IDBTransaction){if("done"===c)return j.get(C);if("objectStoreNames"===c)return C.objectStoreNames||g.get(C);if("store"===c)return d.objectStoreNames[1]?void 0:d.objectStore(d.objectStoreNames[0])}return q(C[c])},set:(C,c,d)=>(C[c]=d,!0),has:(C,c)=>C instanceof IDBTransaction&&("done"===c||"store"===c)||c in C};function A(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(C)?function(){for(var c=arguments.length,d=new Array(c),b=0;b<c;b++)d[b]=arguments[b];return C.apply(B(this),d),q(p.get(this))}:function(){for(var c=arguments.length,d=new Array(c),b=0;b<c;b++)d[b]=arguments[b];return q(C.apply(B(this),d))}:function(c){for(var d=arguments.length,b=new Array(d>1?d-1:0),X=1;X<d;X++)b[X-1]=arguments[X];const P=C.call(B(this),c,...b);return g.set(P,c.sort?c.sort():[c]),q(P)}}function u(C){return"function"===typeof C?A(C):(C instanceof IDBTransaction&&function(C){if(j.has(C))return;const c=new Promise(((c,d)=>{const b=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",P),C.removeEventListener("abort",P)},X=()=>{c(),b()},P=()=>{d(C.error||new DOMException("AbortError","AbortError")),b()};C.addEventListener("complete",X),C.addEventListener("error",P),C.addEventListener("abort",P)}));j.set(C,c)}(C),c=C,(V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((C=>c instanceof C))?new Proxy(C,U):C);var c}function q(C){if(C instanceof IDBRequest)return function(C){const c=new Promise(((c,d)=>{const b=()=>{C.removeEventListener("success",X),C.removeEventListener("error",P)},X=()=>{c(q(C.result)),b()},P=()=>{d(C.error),b()};C.addEventListener("success",X),C.addEventListener("error",P)}));return c.then((c=>{c instanceof IDBCursor&&p.set(c,C)})).catch((()=>{})),Z.set(c,C),c}(C);if(k.has(C))return k.get(C);const c=u(C);return c!==C&&(k.set(C,c),Z.set(c,C)),c}const B=C=>Z.get(C);const t=["get","getKey","getAll","getAllKeys","count"],e=["put","add","delete","clear"],n=new Map;function W(C,c){if(!(C instanceof IDBDatabase)||c in C||"string"!==typeof c)return;if(n.get(c))return n.get(c);const d=c.replace(/FromIndex$/,""),b=c!==d,X=e.includes(d);if(!(d in(b?IDBIndex:IDBObjectStore).prototype)||!X&&!t.includes(d))return;const P=async function(C){const c=this.transaction(C,X?"readwrite":"readonly");let P=c.store;for(var V=arguments.length,R=new Array(V>1?V-1:0),p=1;p<V;p++)R[p-1]=arguments[p];return b&&(P=P.index(R.shift())),(await Promise.all([P[d](...R),X&&c.done]))[0]};return n.set(c,P),P}U=(C=>({...C,get:(c,d,b)=>W(c,d)||C.get(c,d,b),has:(c,d)=>!!W(c,d)||C.has(c,d)}))(U);class E{constructor(C){this.container=C}getPlatformInfoString(){return this.container.getProviders().map((C=>{if(function(C){const c=C.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(C)){const c=C.getImmediate();return`${c.library}/${c.version}`}return null})).filter((C=>C)).join(" ")}}const N="@firebase/app",r="0.9.13",M=new X.g("@firebase/app"),K="@firebase/app-compat",i="@firebase/analytics-compat",h="@firebase/analytics",L="@firebase/app-check-compat",f="@firebase/app-check",T="@firebase/auth",z="@firebase/auth-compat",w="@firebase/database",J="@firebase/database-compat",y="@firebase/functions",x="@firebase/functions-compat",H="@firebase/installations",v="@firebase/installations-compat",D="@firebase/messaging",s="@firebase/messaging-compat",mC="@firebase/performance",Q="@firebase/performance-compat",I="@firebase/remote-config",o="@firebase/remote-config-compat",F="@firebase/storage",Y="@firebase/storage-compat",l="@firebase/firestore",S="@firebase/firestore-compat",G="firebase",a="[DEFAULT]",O={[N]:"fire-core",[K]:"fire-core-compat",[h]:"fire-analytics",[i]:"fire-analytics-compat",[f]:"fire-app-check",[L]:"fire-app-check-compat",[T]:"fire-auth",[z]:"fire-auth-compat",[w]:"fire-rtdb",[J]:"fire-rtdb-compat",[y]:"fire-fn",[x]:"fire-fn-compat",[H]:"fire-iid",[v]:"fire-iid-compat",[D]:"fire-fcm",[s]:"fire-fcm-compat",[mC]:"fire-perf",[Q]:"fire-perf-compat",[I]:"fire-rc",[o]:"fire-rc-compat",[F]:"fire-gcs",[Y]:"fire-gcs-compat",[l]:"fire-fst",[S]:"fire-fst-compat","fire-js":"fire-js",[G]:"fire-js-all"},CC=new Map,cC=new Map;function dC(C,c){try{C.container.aj(c)}catch(d){M.debug(`Component ${c.name} failed to register with FirebaseApp ${C.name}`,d)}}function bC(C,c){C.container.addOrOverwriteComponent(c)}function XC(C){const c=C.name;if(cC.has(c))return M.debug(`There were multiple attempts to register component ${c}.`),!1;cC.set(c,C);for(const d of CC.values())dC(d,C);return!0}function PC(C,c){const d=C.container.getProvider("heartbeat").getImmediate({optional:!0});return d&&d.triggerHeartbeat(),C.container.getProvider(c)}function VC(C,c){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;PC(C,c).clearInstance(d)}function RC(){cC.clear()}const pC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jC=new P.d("app","Firebase",pC);class gC{constructor(C,c,d){this._isDeleted=!1,this._options=Object.assign({},C),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=d,this.container.aj(new b.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this.checkDestroyed(),this._automaticDataCollectionEnabled=C}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(C){this._isDeleted=C}checkDestroyed(){if(this.isDeleted)throw jC.create("app-deleted",{appName:this._name})}}const kC="9.23.0";function ZC(C){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=C;if("object"!==typeof c){c={name:c}}const X=Object.assign({name:a,automaticDataCollectionEnabled:!1},c),V=X.name;if("string"!==typeof V||!V)throw jC.create("bad-app-name",{appName:String(V)});if(d||(d=(0,P.E)()),!d)throw jC.create("no-options");const R=CC.get(V);if(R){if((0,P.w)(d,R.options)&&(0,P.w)(X,R.config))return R;throw jC.create("duplicate-app",{appName:V})}const p=new b.d(V);for(const b of cC.values())p.aj(b);const j=new gC(d,X,p);return CC.set(V,j),j}function UC(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const c=CC.get(C);if(!c&&C===a&&(0,P.E)())return ZC();if(!c)throw jC.create("no-app",{appName:C});return c}function AC(){return Array.from(CC.values())}async function uC(C){const c=C.name;CC.has(c)&&(CC.delete(c),await Promise.all(C.container.getProviders().map((C=>C.delete()))),C.isDeleted=!0)}function qC(C,c,d){var X;let P=null!==(X=O[C])&&void 0!==X?X:C;d&&(P+=`-${d}`);const V=P.match(/\s|\//),R=c.match(/\s|\//);if(V||R){const C=[`Unable to register library "${P}" with version "${c}":`];return V&&C.push(`library name "${P}" contains illegal characters (whitespace or "/")`),V&&R&&C.push("and"),R&&C.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void M.warn(C.join(" "))}XC(new b.f(`${P}-version`,(()=>({library:P,version:c})),"VERSION"))}function BC(C,c){if(null!==C&&"function"!==typeof C)throw jC.create("invalid-log-argument");(0,X.m)(C,c)}function tC(C){(0,X.i)(C)}const eC="firebase-heartbeat-store";let nC=null;function WC(){return nC||(nC=function(C,c){let{blocked:d,upgrade:b,blocking:X,terminated:P}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const V=indexedDB.open(C,c),R=q(V);return b&&V.addEventListener("upgradeneeded",(C=>{b(q(V.result),C.oldVersion,C.newVersion,q(V.transaction),C)})),d&&V.addEventListener("blocked",(C=>d(C.oldVersion,C.newVersion,C))),R.then((C=>{P&&C.addEventListener("close",(()=>P())),X&&C.addEventListener("versionchange",(C=>X(C.oldVersion,C.newVersion,C)))})).catch((()=>{})),R}("firebase-heartbeat-database",1,{upgrade:(C,c)=>{if(0===c)C.createObjectStore(eC)}}).catch((C=>{throw jC.create("idb-open",{originalErrorMessage:C.message})}))),nC}async function EC(C,c){try{const d=(await WC()).transaction(eC,"readwrite"),b=d.objectStore(eC);await b.put(c,NC(C)),await d.done}catch(d){if(d instanceof P.g)M.warn(d.message);else{const C=jC.create("idb-set",{originalErrorMessage:null===d||void 0===d?void 0:d.message});M.warn(C.message)}}}function NC(C){return`${C.name}!${C.options.appId}`}class rC{constructor(C){this.container=C,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.FZ=new KC(c),this._heartbeatsCachePromise=this.FZ.read().then((C=>(this._heartbeatsCache=C,C)))}async triggerHeartbeat(){const C=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=MC();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((C=>C.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:C}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((C=>{const c=new Date(C.date).valueOf();return Date.now()-c<=2592e6})),this.FZ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const C=MC(),{heartbeatsToSend:c,unsentEntries:d}=function(C){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const d=[];let b=C.slice();for(const X of C){const C=d.find((C=>C.agent===X.agent));if(C){if(C.dates.push(X.date),iC(d)>c){C.dates.pop();break}}else if(d.push({agent:X.agent,dates:[X.date]}),iC(d)>c){d.pop();break}b=b.slice(1)}return{heartbeatsToSend:d,unsentEntries:b}}(this._heartbeatsCache.heartbeats),b=(0,P.q)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=C,d.length>0?(this._heartbeatsCache.heartbeats=d,await this.FZ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.FZ.overwrite(this._heartbeatsCache)),b}}function MC(){return(new Date).toISOString().substring(0,10)}class KC{constructor(C){this.app=C,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,P.T)()&&(0,P.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(C){try{const c=await WC();return await c.transaction(eC).objectStore(eC).get(NC(C))}catch(c){if(c instanceof P.g)M.warn(c.message);else{const C=jC.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});M.warn(C.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(C){var c;if(await this._canUseIndexedDBPromise){const d=await this.read();return EC(this.app,{lastSentHeartbeatDate:null!==(c=C.lastSentHeartbeatDate)&&void 0!==c?c:d.lastSentHeartbeatDate,heartbeats:C.heartbeats})}}async add(C){var c;if(await this._canUseIndexedDBPromise){const d=await this.read();return EC(this.app,{lastSentHeartbeatDate:null!==(c=C.lastSentHeartbeatDate)&&void 0!==c?c:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...C.heartbeats]})}}}function iC(C){return(0,P.q)(JSON.stringify({version:2,heartbeats:C})).length}var hC;hC="",XC(new b.f("platform-logger",(C=>new E(C)),"PRIVATE")),XC(new b.f("heartbeat",(C=>new rC(C)),"PRIVATE")),qC(N,r,hC),qC(N,r,"esm2017"),qC("fire-js","")},12192:(C,c,d)=>{d.d(c,{d:()=>R,f:()=>X});var b=d(12196);class X{constructor(C,c,d){this.name=C,this.instanceFactory=c,this.type=d,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const P="[DEFAULT]";class V{constructor(C,c){this.name=C,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const c=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(c)){const C=new b.c;if(this.instancesDeferred.set(c,C),this.isInitialized(c)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:c});d&&C.resolve(d)}catch(d){}}return this.instancesDeferred.get(c).promise}getImmediate(C){var c;const d=this.normalizeInstanceIdentifier(null===C||void 0===C?void 0:C.identifier),b=null!==(c=null===C||void 0===C?void 0:C.optional)&&void 0!==c&&c;if(!this.isInitialized(d)&&!this.shouldAutoInitialize()){if(b)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:d})}catch(X){if(b)return null;throw X}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function(C){return"EAGER"===C.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:P})}catch(c){}for(const[C,d]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(C);try{const C=this.getOrInitializeService({instanceIdentifier:b});d.resolve(C)}catch(c){}}}}clearInstance(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}async delete(){const C=Array.from(this.instances.values());await Promise.all([...C.filter((C=>"INTERNAL"in C)).map((C=>C.INTERNAL.delete())),...C.filter((C=>"_delete"in C)).map((C=>C._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(C)}getOptions(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(C)||{}}initialize(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=C,d=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(d))throw Error(`${this.name}(${d}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const b=this.getOrInitializeService({instanceIdentifier:d,options:c});for(const[X,P]of this.instancesDeferred.entries()){d===this.normalizeInstanceIdentifier(X)&&P.resolve(b)}return b}rZ(C,c){var d;const b=this.normalizeInstanceIdentifier(c),X=null!==(d=this.onInitCallbacks.get(b))&&void 0!==d?d:new Set;X.add(C),this.onInitCallbacks.set(b,X);const P=this.instances.get(b);return P&&C(P,b),()=>{X.delete(C)}}invokeOnInitCallbacks(C,c){const d=this.onInitCallbacks.get(c);if(d)for(const X of d)try{X(C,c)}catch(b){}}getOrInitializeService(C){let{instanceIdentifier:c,options:d={}}=C,b=this.instances.get(c);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:(X=c,X===P?void 0:X),options:d}),this.instances.set(c,b),this.instancesOptions.set(c,d),this.invokeOnInitCallbacks(b,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,b)}catch(V){}var X;return b||null}normalizeInstanceIdentifier(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?C:P:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R{constructor(C){this.name=C,this.providers=new Map}aj(C){const c=this.getProvider(C.name);if(c.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);c.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.aj(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const c=new V(C,this);return this.providers.set(C,c),c}getProviders(){return Array.from(this.providers.values())}}},12199:(C,c,d)=>{d.d(c,{e:()=>X,g:()=>j,i:()=>g,m:()=>k});const b=[];var X;!function(C){C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT"}(X||(X={}));const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},V=X.INFO,R={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},p=function(C,c){if(c<C.logLevel)return;const d=(new Date).toISOString(),b=R[c];if(!b)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var X=arguments.length,P=new Array(X>2?X-2:0),V=2;V<X;V++)P[V-2]=arguments[V];console[b](`[${d}]  ${C.name}:`,...P)};class j{constructor(C){this.name=C,this._logLevel=V,this._logHandler=p,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(C){if(!(C in X))throw new TypeError(`Invalid value "${C}" assigned to \`logLevel\``);this._logLevel=C}setLogLevel(C){this._logLevel="string"===typeof C?P[C]:C}get logHandler(){return this._logHandler}set logHandler(C){if("function"!==typeof C)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=C}get userLogHandler(){return this._userLogHandler}set userLogHandler(C){this._userLogHandler=C}debug(){for(var C=arguments.length,c=new Array(C),d=0;d<C;d++)c[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...c),this._logHandler(this,X.DEBUG,...c)}log(){for(var C=arguments.length,c=new Array(C),d=0;d<C;d++)c[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...c),this._logHandler(this,X.VERBOSE,...c)}info(){for(var C=arguments.length,c=new Array(C),d=0;d<C;d++)c[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,X.INFO,...c),this._logHandler(this,X.INFO,...c)}warn(){for(var C=arguments.length,c=new Array(C),d=0;d<C;d++)c[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,X.WARN,...c),this._logHandler(this,X.WARN,...c)}error(){for(var C=arguments.length,c=new Array(C),d=0;d<C;d++)c[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,X.ERROR,...c),this._logHandler(this,X.ERROR,...c)}}function g(C){b.forEach((c=>{c.setLogLevel(C)}))}function k(C,c){for(const d of b){let b=null;c&&c.level&&(b=P[c.level]),d.userLogHandler=null===C?null:function(c,d){for(var P=arguments.length,V=new Array(P>2?P-2:0),R=2;R<P;R++)V[R-2]=arguments[R];const p=V.map((C=>{if(null==C)return null;if("string"===typeof C)return C;if("number"===typeof C||"boolean"===typeof C)return C.toString();if(C instanceof Error)return C.message;try{return JSON.stringify(C)}catch(c){return null}})).filter((C=>C)).join(" ");d>=(null!==b&&void 0!==b?b:c.logLevel)&&C({level:X[d].toLowerCase(),message:p,args:V,type:c.name})}}}}}]);