/*! For license information please see rei6f.5.39803ee9.chunk.js.LICENSE.txt */
"use strict";(self.lfntwv94xlc=self.lfntwv94xlc||[]).push([[5],{11139:(m,S,h)=>{h.d(S,{$:()=>n,C:()=>e,E:()=>I,F:()=>V,G:()=>Z,K:()=>c,N:()=>B,Q:()=>E,T:()=>v,V:()=>L,X:()=>U,Y:()=>D,cb:()=>G,e:()=>C,fb:()=>g,i:()=>o,jb:()=>H,m:()=>y,o:()=>R,p:()=>b,r:()=>u,s:()=>K,v:()=>a,y:()=>T});const l=function(m){const S=[];let h=0;for(let l=0;l<m.length;l++){let M=m.charCodeAt(l);M<128?S[h++]=M:M<2048?(S[h++]=M>>6|192,S[h++]=63&M|128):55296===(64512&M)&&l+1<m.length&&56320===(64512&m.charCodeAt(l+1))?(M=65536+((1023&M)<<10)+(1023&m.charCodeAt(++l)),S[h++]=M>>18|240,S[h++]=M>>12&63|128,S[h++]=M>>6&63|128,S[h++]=63&M|128):(S[h++]=M>>12|224,S[h++]=M>>6&63|128,S[h++]=63&M|128)}return S},M={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(m,S){if(!Array.isArray(m))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let M=0;M<m.length;M+=3){const S=m[M],O=M+1<m.length,u=O?m[M+1]:0,b=M+2<m.length,q=b?m[M+2]:0,Y=S>>2,V=(3&S)<<4|u>>4;let I=(15&u)<<2|q>>6,Z=63&q;b||(Z=64,O||(I=64)),l.push(h[Y],h[V],h[I],h[Z])}return l.join("")},encodeString(m,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(m):this.encodeByteArray(l(m),S)},decodeString(m,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(m):function(m){const S=[];let h=0,l=0;for(;h<m.length;){const M=m[h++];if(M<128)S[l++]=String.fromCharCode(M);else if(M>191&&M<224){const O=m[h++];S[l++]=String.fromCharCode((31&M)<<6|63&O)}else if(M>239&&M<365){const O=((7&M)<<18|(63&m[h++])<<12|(63&m[h++])<<6|63&m[h++])-65536;S[l++]=String.fromCharCode(55296+(O>>10)),S[l++]=String.fromCharCode(56320+(1023&O))}else{const O=m[h++],u=m[h++];S[l++]=String.fromCharCode((15&M)<<12|(63&O)<<6|63&u)}}return S.join("")}(this.decodeStringToByteArray(m,S))},decodeStringToByteArray(m,S){this.init_();const h=S?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let M=0;M<m.length;){const S=h[m.charAt(M++)],u=M<m.length?h[m.charAt(M)]:0;++M;const b=M<m.length?h[m.charAt(M)]:64;++M;const q=M<m.length?h[m.charAt(M)]:64;if(++M,null==S||null==u||null==b||null==q)throw new O;const Y=S<<2|u>>4;if(l.push(Y),64!==b){const m=u<<4&240|b>>2;if(l.push(m),64!==q){const m=b<<6&192|q;l.push(m)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let m=0;m<this.ENCODED_VALS.length;m++)this.byteToCharMap_[m]=this.ENCODED_VALS.charAt(m),this.charToByteMap_[this.byteToCharMap_[m]]=m,this.byteToCharMapWebSafe_[m]=this.ENCODED_VALS_WEBSAFE.charAt(m),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[m]]=m,m>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(m)]=m,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(m)]=m)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(m){return function(m){const S=l(m);return M.encodeByteArray(S,!0)}(m).replace(/\./g,"")},b=function(m){try{return M.decodeString(m,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};const q=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof h.g)return h.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Y=()=>{try{return q()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let m;try{m=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(h){return}const S=m&&b(m[1]);return S&&JSON.parse(S)})()}catch(m){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${m}`)}},V=m=>{var S,h;return null===(h=null===(S=Y())||void 0===S?void 0:S.emulatorHosts)||void 0===h?void 0:h[m]},I=()=>{var m;return null===(m=Y())||void 0===m?void 0:m.config},Z=m=>{var S;return null===(S=Y())||void 0===S?void 0:S[`_${m}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((m,S)=>{this.resolve=m,this.reject=S}))}wrapCallback(m){return(S,h)=>{S?this.reject(S):this.resolve(h),"function"===typeof m&&(this.promise.catch((()=>{})),1===m.length?m(S):m(S,h))}}}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function D(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function E(){const m="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof m&&void 0!==m.id}function n(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){const m=B();return m.indexOf("MSIE ")>=0||m.indexOf("Trident/")>=0}function U(){try{return"object"===typeof indexedDB}catch(m){return!1}}function H(){return new Promise(((m,S)=>{try{let h=!0;const l="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(l);M.onsuccess=()=>{M.result.close(),h||self.indexedDB.deleteDatabase(l),m(!0)},M.onupgradeneeded=()=>{h=!1},M.onerror=()=>{var m;S((null===(m=M.error)||void 0===m?void 0:m.message)||"")}}catch(h){S(h)}}))}function R(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class y extends Error{constructor(m,S,h){super(S),this.code=m,this.customData=h,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o.prototype.create)}}class o{constructor(m,S,h){this.service=m,this.serviceName=S,this.errors=h}create(m){const S=(arguments.length<=1?void 0:arguments[1])||{},h=`${this.service}/${m}`,l=this.errors[m],M=l?function(m,S){return m.replace(s,((m,h)=>{const l=S[h];return null!=l?String(l):`<${h}?>`}))}(l,S):"Error",O=`${this.serviceName}: ${M} (${h}).`;return new y(h,O,S)}}const s=/\{\$([^}]+)}/g;function v(m){for(const S in m)if(Object.prototype.hasOwnProperty.call(m,S))return!1;return!0}function T(m,S){if(m===S)return!0;const h=Object.keys(m),l=Object.keys(S);for(const M of h){if(!l.includes(M))return!1;const h=m[M],O=S[M];if(X(h)&&X(O)){if(!T(h,O))return!1}else if(h!==O)return!1}for(const M of l)if(!h.includes(M))return!1;return!0}function X(m){return null!==m&&"object"===typeof m}function g(m){const S=[];for(const[h,l]of Object.entries(m))Array.isArray(l)?l.forEach((m=>{S.push(encodeURIComponent(h)+"="+encodeURIComponent(m))})):S.push(encodeURIComponent(h)+"="+encodeURIComponent(l));return S.length?"&"+S.join("&"):""}function G(m){const S={};return m.replace(/^\?/,"").split("&").forEach((m=>{if(m){const[h,l]=m.split("=");S[decodeURIComponent(h)]=decodeURIComponent(l)}})),S}function e(m){const S=m.indexOf("?");if(!S)return"";const h=m.indexOf("#",S);return m.substring(S,h>0?h:void 0)}function a(m,S){const h=new x(m,S);return h.subscribe.bind(h)}class x{constructor(m,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then((()=>{m(this)})).catch((m=>{this.error(m)}))}next(m){this.forEachObserver((S=>{S.next(m)}))}error(m){this.forEachObserver((S=>{S.error(m)})),this.close(m)}complete(){this.forEachObserver((m=>{m.complete()})),this.close()}subscribe(m,S,h){let l;if(void 0===m&&void 0===S&&void 0===h)throw new Error("Missing Observer.");l=function(m,S){if("object"!==typeof m||null===m)return!1;for(const h of S)if(h in m&&"function"===typeof m[h])return!0;return!1}(m,["next","error","complete"])?m:{next:m,error:S,complete:h},void 0===l.next&&(l.next=P),void 0===l.error&&(l.error=P),void 0===l.complete&&(l.complete=P);const M=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch(m){}})),this.observers.push(l),M}unsubscribeOne(m){void 0!==this.observers&&void 0!==this.observers[m]&&(delete this.observers[m],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(m){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,m)}sendOne(m,S){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[m])try{S(this.observers[m])}catch(h){"undefined"!==typeof console&&console.error&&console.error(h)}}))}close(m){this.finalized||(this.finalized=!0,void 0!==m&&(this.finalError=m),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}const d=1e3,J=2,N=144e5,j=.5;function K(m){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;const h=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:d)*Math.pow(S,m),l=Math.round(j*h*(Math.random()-.5)*2);return Math.min(N,h+l)}function c(m){return m&&m._delegate?m._delegate:m}},11129:(m,S,h)=>{h.d(S,{d:()=>O.m,e:()=>Im,g:()=>i,h:()=>hm,k:()=>lm,o:()=>mm,p:()=>bm,t:()=>Sm,w:()=>Om,x:()=>Mm,y:()=>um,B:()=>Dm,D:()=>Cm,C:()=>Bm,F:()=>Zm,I:()=>nm,K:()=>Em,N:()=>Lm});var l=h(11131),M=h(11144),O=h(11139);let u,b;const q=new WeakMap,Y=new WeakMap,V=new WeakMap,I=new WeakMap,Z=new WeakMap;let C={get(m,S,h){if(m instanceof IDBTransaction){if("done"===S)return Y.get(m);if("objectStoreNames"===S)return m.objectStoreNames||V.get(m);if("store"===S)return h.objectStoreNames[1]?void 0:h.objectStore(h.objectStoreNames[0])}return E(m[S])},set:(m,S,h)=>(m[S]=h,!0),has:(m,S)=>m instanceof IDBTransaction&&("done"===S||"store"===S)||S in m};function B(m){return m!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(m)?function(){for(var S=arguments.length,h=new Array(S),l=0;l<S;l++)h[l]=arguments[l];return m.apply(n(this),h),E(q.get(this))}:function(){for(var S=arguments.length,h=new Array(S),l=0;l<S;l++)h[l]=arguments[l];return E(m.apply(n(this),h))}:function(S){for(var h=arguments.length,l=new Array(h>1?h-1:0),M=1;M<h;M++)l[M-1]=arguments[M];const O=m.call(n(this),S,...l);return V.set(O,S.sort?S.sort():[S]),E(O)}}function D(m){return"function"===typeof m?B(m):(m instanceof IDBTransaction&&function(m){if(Y.has(m))return;const S=new Promise(((S,h)=>{const l=()=>{m.removeEventListener("complete",M),m.removeEventListener("error",O),m.removeEventListener("abort",O)},M=()=>{S(),l()},O=()=>{h(m.error||new DOMException("AbortError","AbortError")),l()};m.addEventListener("complete",M),m.addEventListener("error",O),m.addEventListener("abort",O)}));Y.set(m,S)}(m),S=m,(u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((m=>S instanceof m))?new Proxy(m,C):m);var S}function E(m){if(m instanceof IDBRequest)return function(m){const S=new Promise(((S,h)=>{const l=()=>{m.removeEventListener("success",M),m.removeEventListener("error",O)},M=()=>{S(E(m.result)),l()},O=()=>{h(m.error),l()};m.addEventListener("success",M),m.addEventListener("error",O)}));return S.then((S=>{S instanceof IDBCursor&&q.set(S,m)})).catch((()=>{})),Z.set(S,m),S}(m);if(I.has(m))return I.get(m);const S=D(m);return S!==m&&(I.set(m,S),Z.set(S,m)),S}const n=m=>Z.get(m);const L=["get","getKey","getAll","getAllKeys","count"],U=["put","add","delete","clear"],H=new Map;function R(m,S){if(!(m instanceof IDBDatabase)||S in m||"string"!==typeof S)return;if(H.get(S))return H.get(S);const h=S.replace(/FromIndex$/,""),l=S!==h,M=U.includes(h);if(!(h in(l?IDBIndex:IDBObjectStore).prototype)||!M&&!L.includes(h))return;const O=async function(m){const S=this.transaction(m,M?"readwrite":"readonly");let O=S.store;for(var u=arguments.length,b=new Array(u>1?u-1:0),q=1;q<u;q++)b[q-1]=arguments[q];return l&&(O=O.index(b.shift())),(await Promise.all([O[h](...b),M&&S.done]))[0]};return H.set(S,O),O}C=(m=>({...m,get:(S,h,l)=>R(S,h)||m.get(S,h,l),has:(S,h)=>!!R(S,h)||m.has(S,h)}))(C);class y{constructor(m){this.container=m}getPlatformInfoString(){return this.container.getProviders().map((m=>{if(function(m){const S=m.getComponent();return"VERSION"===(null===S||void 0===S?void 0:S.type)}(m)){const S=m.getImmediate();return`${S.library}/${S.version}`}return null})).filter((m=>m)).join(" ")}}const o="@firebase/app",s="0.9.13",v=new M.g("@firebase/app"),T="@firebase/app-compat",X="@firebase/analytics-compat",g="@firebase/analytics",G="@firebase/app-check-compat",e="@firebase/app-check",a="@firebase/auth",x="@firebase/auth-compat",P="@firebase/database",d="@firebase/database-compat",J="@firebase/functions",N="@firebase/functions-compat",j="@firebase/installations",K="@firebase/installations-compat",c="@firebase/messaging",f="@firebase/messaging-compat",p="@firebase/performance",k="@firebase/performance-compat",r="@firebase/remote-config",z="@firebase/remote-config-compat",Q="@firebase/storage",F="@firebase/storage-compat",w="@firebase/firestore",t="@firebase/firestore-compat",A="firebase",i="[DEFAULT]",W={[o]:"fire-core",[T]:"fire-core-compat",[g]:"fire-analytics",[X]:"fire-analytics-compat",[e]:"fire-app-check",[G]:"fire-app-check-compat",[a]:"fire-auth",[x]:"fire-auth-compat",[P]:"fire-rtdb",[d]:"fire-rtdb-compat",[J]:"fire-fn",[N]:"fire-fn-compat",[j]:"fire-iid",[K]:"fire-iid-compat",[c]:"fire-fcm",[f]:"fire-fcm-compat",[p]:"fire-perf",[k]:"fire-perf-compat",[r]:"fire-rc",[z]:"fire-rc-compat",[Q]:"fire-gcs",[F]:"fire-gcs-compat",[w]:"fire-fst",[t]:"fire-fst-compat","fire-js":"fire-js",[A]:"fire-js-all"},mm=new Map,Sm=new Map;function hm(m,S){try{m.container.uY(S)}catch(h){v.debug(`Component ${S.name} failed to register with FirebaseApp ${m.name}`,h)}}function lm(m,S){m.container.addOrOverwriteComponent(S)}function Mm(m){const S=m.name;if(Sm.has(S))return v.debug(`There were multiple attempts to register component ${S}.`),!1;Sm.set(S,m);for(const h of mm.values())hm(h,m);return!0}function Om(m,S){const h=m.container.getProvider("heartbeat").getImmediate({optional:!0});return h&&h.triggerHeartbeat(),m.container.getProvider(S)}function um(m,S){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;Om(m,S).clearInstance(h)}function bm(){Sm.clear()}const qm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ym=new O.i("app","Firebase",qm);class Vm{constructor(m,S,h){this._isDeleted=!1,this._options=Object.assign({},m),this._config=Object.assign({},S),this._name=S.name,this._automaticDataCollectionEnabled=S.automaticDataCollectionEnabled,this._container=h,this.container.uY(new l.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(m){this.checkDestroyed(),this._automaticDataCollectionEnabled=m}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(m){this._isDeleted=m}checkDestroyed(){if(this.isDeleted)throw Ym.create("app-deleted",{appName:this._name})}}const Im="9.23.0";function Zm(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=m;if("object"!==typeof S){S={name:S}}const M=Object.assign({name:i,automaticDataCollectionEnabled:!1},S),u=M.name;if("string"!==typeof u||!u)throw Ym.create("bad-app-name",{appName:String(u)});if(h||(h=(0,O.E)()),!h)throw Ym.create("no-options");const b=mm.get(u);if(b){if((0,O.y)(h,b.options)&&(0,O.y)(M,b.config))return b;throw Ym.create("duplicate-app",{appName:u})}const q=new l.c(u);for(const l of Sm.values())q.uY(l);const Y=new Vm(h,M,q);return mm.set(u,Y),Y}function Cm(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;const S=mm.get(m);if(!S&&m===i&&(0,O.E)())return Zm();if(!S)throw Ym.create("no-app",{appName:m});return S}function Bm(){return Array.from(mm.values())}async function Dm(m){const S=m.name;mm.has(S)&&(mm.delete(S),await Promise.all(m.container.getProviders().map((m=>m.delete()))),m.isDeleted=!0)}function Em(m,S,h){var M;let O=null!==(M=W[m])&&void 0!==M?M:m;h&&(O+=`-${h}`);const u=O.match(/\s|\//),b=S.match(/\s|\//);if(u||b){const m=[`Unable to register library "${O}" with version "${S}":`];return u&&m.push(`library name "${O}" contains illegal characters (whitespace or "/")`),u&&b&&m.push("and"),b&&m.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void v.warn(m.join(" "))}Mm(new l.g(`${O}-version`,(()=>({library:O,version:S})),"VERSION"))}function nm(m,S){if(null!==m&&"function"!==typeof m)throw Ym.create("invalid-log-argument");(0,M.i)(m,S)}function Lm(m){(0,M.h)(m)}const Um="firebase-heartbeat-store";let Hm=null;function Rm(){return Hm||(Hm=function(m,S){let{blocked:h,upgrade:l,blocking:M,terminated:O}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=indexedDB.open(m,S),b=E(u);return l&&u.addEventListener("upgradeneeded",(m=>{l(E(u.result),m.oldVersion,m.newVersion,E(u.transaction),m)})),h&&u.addEventListener("blocked",(m=>h(m.oldVersion,m.newVersion,m))),b.then((m=>{O&&m.addEventListener("close",(()=>O())),M&&m.addEventListener("versionchange",(m=>M(m.oldVersion,m.newVersion,m)))})).catch((()=>{})),b}("firebase-heartbeat-database",1,{upgrade:(m,S)=>{if(0===S)m.createObjectStore(Um)}}).catch((m=>{throw Ym.create("idb-open",{originalErrorMessage:m.message})}))),Hm}async function ym(m,S){try{const h=(await Rm()).transaction(Um,"readwrite"),l=h.objectStore(Um);await l.put(S,om(m)),await h.done}catch(h){if(h instanceof O.m)v.warn(h.message);else{const m=Ym.create("idb-set",{originalErrorMessage:null===h||void 0===h?void 0:h.message});v.warn(m.message)}}}function om(m){return`${m.name}!${m.options.appId}`}class sm{constructor(m){this.container=m,this._heartbeatsCache=null;const S=this.container.getProvider("app").getImmediate();this.JI=new Tm(S),this._heartbeatsCachePromise=this.JI.read().then((m=>(this._heartbeatsCache=m,m)))}async triggerHeartbeat(){const m=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),S=vm();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==S&&!this._heartbeatsCache.heartbeats.some((m=>m.date===S)))return this._heartbeatsCache.heartbeats.push({date:S,agent:m}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((m=>{const S=new Date(m.date).valueOf();return Date.now()-S<=2592e6})),this.JI.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const m=vm(),{heartbeatsToSend:S,unsentEntries:h}=function(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const h=[];let l=m.slice();for(const M of m){const m=h.find((m=>m.agent===M.agent));if(m){if(m.dates.push(M.date),Xm(h)>S){m.dates.pop();break}}else if(h.push({agent:M.agent,dates:[M.date]}),Xm(h)>S){h.pop();break}l=l.slice(1)}return{heartbeatsToSend:h,unsentEntries:l}}(this._heartbeatsCache.heartbeats),l=(0,O.r)(JSON.stringify({version:2,heartbeats:S}));return this._heartbeatsCache.lastSentHeartbeatDate=m,h.length>0?(this._heartbeatsCache.heartbeats=h,await this.JI.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.JI.overwrite(this._heartbeatsCache)),l}}function vm(){return(new Date).toISOString().substring(0,10)}class Tm{constructor(m){this.app=m,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,O.X)()&&(0,O.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(m){try{const S=await Rm();return await S.transaction(Um).objectStore(Um).get(om(m))}catch(S){if(S instanceof O.m)v.warn(S.message);else{const m=Ym.create("idb-get",{originalErrorMessage:null===S||void 0===S?void 0:S.message});v.warn(m.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(m){var S;if(await this._canUseIndexedDBPromise){const h=await this.read();return ym(this.app,{lastSentHeartbeatDate:null!==(S=m.lastSentHeartbeatDate)&&void 0!==S?S:h.lastSentHeartbeatDate,heartbeats:m.heartbeats})}}async add(m){var S;if(await this._canUseIndexedDBPromise){const h=await this.read();return ym(this.app,{lastSentHeartbeatDate:null!==(S=m.lastSentHeartbeatDate)&&void 0!==S?S:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...m.heartbeats]})}}}function Xm(m){return(0,O.r)(JSON.stringify({version:2,heartbeats:m})).length}var gm;gm="",Mm(new l.g("platform-logger",(m=>new y(m)),"PRIVATE")),Mm(new l.g("heartbeat",(m=>new sm(m)),"PRIVATE")),Em(o,s,gm),Em(o,s,"esm2017"),Em("fire-js","")},11131:(m,S,h)=>{h.d(S,{c:()=>b,g:()=>M});var l=h(11139);class M{constructor(m,S,h){this.name=m,this.instanceFactory=S,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(m){return this.instantiationMode=m,this}setMultipleInstances(m){return this.multipleInstances=m,this}setServiceProps(m){return this.serviceProps=m,this}setInstanceCreatedCallback(m){return this.onInstanceCreated=m,this}}const O="[DEFAULT]";class u{constructor(m,S){this.name=m,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(m){const S=this.normalizeInstanceIdentifier(m);if(!this.instancesDeferred.has(S)){const m=new l.e;if(this.instancesDeferred.set(S,m),this.isInitialized(S)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:S});h&&m.resolve(h)}catch(h){}}return this.instancesDeferred.get(S).promise}getImmediate(m){var S;const h=this.normalizeInstanceIdentifier(null===m||void 0===m?void 0:m.identifier),l=null!==(S=null===m||void 0===m?void 0:m.optional)&&void 0!==S&&S;if(!this.isInitialized(h)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:h})}catch(M){if(l)return null;throw M}}getComponent(){return this.component}setComponent(m){if(m.name!==this.name)throw Error(`Mismatching Component ${m.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=m,this.shouldAutoInitialize()){if(function(m){return"EAGER"===m.instantiationMode}(m))try{this.getOrInitializeService({instanceIdentifier:O})}catch(S){}for(const[m,h]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(m);try{const m=this.getOrInitializeService({instanceIdentifier:l});h.resolve(m)}catch(S){}}}}clearInstance(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;this.instancesDeferred.delete(m),this.instancesOptions.delete(m),this.instances.delete(m)}async delete(){const m=Array.from(this.instances.values());await Promise.all([...m.filter((m=>"INTERNAL"in m)).map((m=>m.INTERNAL.delete())),...m.filter((m=>"_delete"in m)).map((m=>m._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instances.has(m)}getOptions(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instancesOptions.get(m)||{}}initialize(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:S={}}=m,h=this.normalizeInstanceIdentifier(m.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:h,options:S});for(const[M,O]of this.instancesDeferred.entries()){h===this.normalizeInstanceIdentifier(M)&&O.resolve(l)}return l}CI(m,S){var h;const l=this.normalizeInstanceIdentifier(S),M=null!==(h=this.onInitCallbacks.get(l))&&void 0!==h?h:new Set;M.add(m),this.onInitCallbacks.set(l,M);const O=this.instances.get(l);return O&&m(O,l),()=>{M.delete(m)}}invokeOnInitCallbacks(m,S){const h=this.onInitCallbacks.get(S);if(h)for(const M of h)try{M(m,S)}catch(l){}}getOrInitializeService(m){let{instanceIdentifier:S,options:h={}}=m,l=this.instances.get(S);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:(M=S,M===O?void 0:M),options:h}),this.instances.set(S,l),this.instancesOptions.set(S,h),this.invokeOnInitCallbacks(l,S),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,S,l)}catch(u){}var M;return l||null}normalizeInstanceIdentifier(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.component?this.component.multipleInstances?m:O:m}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class b{constructor(m){this.name=m,this.providers=new Map}uY(m){const S=this.getProvider(m.name);if(S.isComponentSet())throw new Error(`Component ${m.name} has already been registered with ${this.name}`);S.setComponent(m)}addOrOverwriteComponent(m){this.getProvider(m.name).isComponentSet()&&this.providers.delete(m.name),this.uY(m)}getProvider(m){if(this.providers.has(m))return this.providers.get(m);const S=new u(m,this);return this.providers.set(m,S),S}getProviders(){return Array.from(this.providers.values())}}},11144:(m,S,h)=>{h.d(S,{c:()=>M,g:()=>Y,h:()=>V,i:()=>I});const l=[];var M;!function(m){m[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT"}(M||(M={}));const O={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},u=M.INFO,b={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},q=function(m,S){if(S<m.logLevel)return;const h=(new Date).toISOString(),l=b[S];if(!l)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);for(var M=arguments.length,O=new Array(M>2?M-2:0),u=2;u<M;u++)O[u-2]=arguments[u];console[l](`[${h}]  ${m.name}:`,...O)};class Y{constructor(m){this.name=m,this._logLevel=u,this._logHandler=q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(m){if(!(m in M))throw new TypeError(`Invalid value "${m}" assigned to \`logLevel\``);this._logLevel=m}setLogLevel(m){this._logLevel="string"===typeof m?O[m]:m}get logHandler(){return this._logHandler}set logHandler(m){if("function"!==typeof m)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=m}get userLogHandler(){return this._userLogHandler}set userLogHandler(m){this._userLogHandler=m}debug(){for(var m=arguments.length,S=new Array(m),h=0;h<m;h++)S[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...S),this._logHandler(this,M.DEBUG,...S)}log(){for(var m=arguments.length,S=new Array(m),h=0;h<m;h++)S[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...S),this._logHandler(this,M.VERBOSE,...S)}info(){for(var m=arguments.length,S=new Array(m),h=0;h<m;h++)S[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,M.INFO,...S),this._logHandler(this,M.INFO,...S)}warn(){for(var m=arguments.length,S=new Array(m),h=0;h<m;h++)S[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,M.WARN,...S),this._logHandler(this,M.WARN,...S)}error(){for(var m=arguments.length,S=new Array(m),h=0;h<m;h++)S[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,M.ERROR,...S),this._logHandler(this,M.ERROR,...S)}}function V(m){l.forEach((S=>{S.setLogLevel(m)}))}function I(m,S){for(const h of l){let l=null;S&&S.level&&(l=O[S.level]),h.userLogHandler=null===m?null:function(S,h){for(var O=arguments.length,u=new Array(O>2?O-2:0),b=2;b<O;b++)u[b-2]=arguments[b];const q=u.map((m=>{if(null==m)return null;if("string"===typeof m)return m;if("number"===typeof m||"boolean"===typeof m)return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch(S){return null}})).filter((m=>m)).join(" ");h>=(null!==l&&void 0!==l?l:S.logLevel)&&m({level:M[h].toLowerCase(),message:q,args:u,type:S.name})}}}}}]);