/*! For license information please see no2ey.5.a4e5c2ef.chunk.js.LICENSE.txt */
"use strict";(self.hmihoa2fs98=self.hmihoa2fs98||[]).push([[5],{11463:(b,d,P)=>{P.d(d,{$:()=>Z,B:()=>H,D:()=>Y,H:()=>x,J:()=>s,N:()=>y,R:()=>w,S:()=>r,V:()=>u,Y:()=>n,cb:()=>t,d:()=>E,gb:()=>B,h:()=>g,hb:()=>U,j:()=>f,jb:()=>R,lb:()=>o,m:()=>A,o:()=>C,p:()=>q,t:()=>V,v:()=>p,y:()=>M});const G=function(b){const d=[];let P=0;for(let G=0;G<b.length;G++){let W=b.charCodeAt(G);W<128?d[P++]=W:W<2048?(d[P++]=W>>6|192,d[P++]=63&W|128):55296===(64512&W)&&G+1<b.length&&56320===(64512&b.charCodeAt(G+1))?(W=65536+((1023&W)<<10)+(1023&b.charCodeAt(++G)),d[P++]=W>>18|240,d[P++]=W>>12&63|128,d[P++]=W>>6&63|128,d[P++]=63&W|128):(d[P++]=W>>12|224,d[P++]=W>>6&63|128,d[P++]=63&W|128)}return d},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(b,d){if(!Array.isArray(b))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let W=0;W<b.length;W+=3){const d=b[W],i=W+1<b.length,q=i?b[W+1]:0,C=W+2<b.length,J=C?b[W+2]:0,L=d>>2,x=(3&d)<<4|q>>4;let Y=(15&q)<<2|J>>6,s=63&J;C||(s=64,i||(Y=64)),G.push(P[L],P[x],P[Y],P[s])}return G.join("")},encodeString(b,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(b):this.encodeByteArray(G(b),d)},decodeString(b,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(b):function(b){const d=[];let P=0,G=0;for(;P<b.length;){const W=b[P++];if(W<128)d[G++]=String.fromCharCode(W);else if(W>191&&W<224){const i=b[P++];d[G++]=String.fromCharCode((31&W)<<6|63&i)}else if(W>239&&W<365){const i=((7&W)<<18|(63&b[P++])<<12|(63&b[P++])<<6|63&b[P++])-65536;d[G++]=String.fromCharCode(55296+(i>>10)),d[G++]=String.fromCharCode(56320+(1023&i))}else{const i=b[P++],q=b[P++];d[G++]=String.fromCharCode((15&W)<<12|(63&i)<<6|63&q)}}return d.join("")}(this.decodeStringToByteArray(b,d))},decodeStringToByteArray(b,d){this.init_();const P=d?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let W=0;W<b.length;){const d=P[b.charAt(W++)],q=W<b.length?P[b.charAt(W)]:0;++W;const C=W<b.length?P[b.charAt(W)]:64;++W;const J=W<b.length?P[b.charAt(W)]:64;if(++W,null==d||null==q||null==C||null==J)throw new i;const L=d<<2|q>>4;if(G.push(L),64!==C){const b=q<<4&240|C>>2;if(G.push(b),64!==J){const b=C<<6&192|J;G.push(b)}}}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let b=0;b<this.ENCODED_VALS.length;b++)this.byteToCharMap_[b]=this.ENCODED_VALS.charAt(b),this.charToByteMap_[this.byteToCharMap_[b]]=b,this.byteToCharMapWebSafe_[b]=this.ENCODED_VALS_WEBSAFE.charAt(b),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[b]]=b,b>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(b)]=b,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(b)]=b)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(b){return function(b){const d=G(b);return W.encodeByteArray(d,!0)}(b).replace(/\./g,"")},C=function(b){try{return W.decodeString(b,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};const J=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof P.g)return P.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,L=()=>{try{return J()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let b;try{b=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(P){return}const d=b&&C(b[1]);return d&&JSON.parse(d)})()}catch(b){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${b}`)}},x=b=>{var d,P;return null===(P=null===(d=L())||void 0===d?void 0:d.emulatorHosts)||void 0===P?void 0:P[b]},Y=()=>{var b;return null===(b=L())||void 0===b?void 0:b.config},s=b=>{var d;return null===(d=L())||void 0===d?void 0:d[`_${b}`]};class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((b,d)=>{this.resolve=b,this.reject=d}))}wrapCallback(b){return(d,P)=>{d?this.reject(d):this.resolve(P),"function"===typeof b&&(this.promise.catch((()=>{})),1===b.length?b(d):b(d,P))}}}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function t(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function r(){const b="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof b&&void 0!==b.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function n(){const b=w();return b.indexOf("MSIE ")>=0||b.indexOf("Trident/")>=0}function Z(){try{return"object"===typeof indexedDB}catch(b){return!1}}function o(){return new Promise(((b,d)=>{try{let P=!0;const G="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(G);W.onsuccess=()=>{W.result.close(),P||self.indexedDB.deleteDatabase(G),b(!0)},W.onupgradeneeded=()=>{P=!1},W.onerror=()=>{var b;d((null===(b=W.error)||void 0===b?void 0:b.message)||"")}}catch(P){d(P)}}))}function A(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class f extends Error{constructor(b,d,P){super(d),this.code=b,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g.prototype.create)}}class g{constructor(b,d,P){this.service=b,this.serviceName=d,this.errors=P}create(b){const d=(arguments.length<=1?void 0:arguments[1])||{},P=`${this.service}/${b}`,G=this.errors[b],W=G?function(b,d){return b.replace(X,((b,P)=>{const G=d[P];return null!=G?String(G):`<${P}?>`}))}(G,d):"Error",i=`${this.serviceName}: ${W} (${P}).`;return new f(P,i,d)}}const X=/\{\$([^}]+)}/g;function u(b){for(const d in b)if(Object.prototype.hasOwnProperty.call(b,d))return!1;return!0}function M(b,d){if(b===d)return!0;const P=Object.keys(b),G=Object.keys(d);for(const W of P){if(!G.includes(W))return!1;const P=b[W],i=d[W];if(e(P)&&e(i)){if(!M(P,i))return!1}else if(P!==i)return!1}for(const W of G)if(!P.includes(W))return!1;return!0}function e(b){return null!==b&&"object"===typeof b}function R(b){const d=[];for(const[P,G]of Object.entries(b))Array.isArray(G)?G.forEach((b=>{d.push(encodeURIComponent(P)+"="+encodeURIComponent(b))})):d.push(encodeURIComponent(P)+"="+encodeURIComponent(G));return d.length?"&"+d.join("&"):""}function U(b){const d={};return b.replace(/^\?/,"").split("&").forEach((b=>{if(b){const[P,G]=b.split("=");d[decodeURIComponent(P)]=decodeURIComponent(G)}})),d}function H(b){const d=b.indexOf("?");if(!d)return"";const P=b.indexOf("#",d);return b.substring(d,P>0?P:void 0)}function p(b,d){const P=new S(b,d);return P.subscribe.bind(P)}class S{constructor(b,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then((()=>{b(this)})).catch((b=>{this.error(b)}))}next(b){this.forEachObserver((d=>{d.next(b)}))}error(b){this.forEachObserver((d=>{d.error(b)})),this.close(b)}complete(){this.forEachObserver((b=>{b.complete()})),this.close()}subscribe(b,d,P){let G;if(void 0===b&&void 0===d&&void 0===P)throw new Error("Missing Observer.");G=function(b,d){if("object"!==typeof b||null===b)return!1;for(const P of d)if(P in b&&"function"===typeof b[P])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:d,complete:P},void 0===G.next&&(G.next=l),void 0===G.error&&(G.error=l),void 0===G.complete&&(G.complete=l);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(b){}})),this.observers.push(G),W}unsubscribeOne(b){void 0!==this.observers&&void 0!==this.observers[b]&&(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,b)}sendOne(b,d){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{d(this.observers[b])}catch(P){"undefined"!==typeof console&&console.error&&console.error(P)}}))}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const N=1e3,j=2,a=144e5,O=.5;function V(b){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;const P=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N)*Math.pow(d,b),G=Math.round(O*P*(Math.random()-.5)*2);return Math.min(a,P+G)}function y(b){return b&&b._delegate?b._delegate:b}},11451:(b,d,P)=>{P.d(d,{b:()=>i.j,d:()=>Yb,e:()=>K,i:()=>Pb,j:()=>Gb,k:()=>bb,n:()=>Cb,r:()=>db,v:()=>ib,x:()=>Wb,y:()=>qb,A:()=>tb,E:()=>Eb,B:()=>wb,H:()=>sb,L:()=>Bb,N:()=>rb,R:()=>nb});var G=P(11455),W=P(11466),i=P(11463);let q,C;const J=new WeakMap,L=new WeakMap,x=new WeakMap,Y=new WeakMap,s=new WeakMap;let E={get(b,d,P){if(b instanceof IDBTransaction){if("done"===d)return L.get(b);if("objectStoreNames"===d)return b.objectStoreNames||x.get(b);if("store"===d)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return r(b[d])},set:(b,d,P)=>(b[d]=P,!0),has:(b,d)=>b instanceof IDBTransaction&&("done"===d||"store"===d)||d in b};function w(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(b)?function(){for(var d=arguments.length,P=new Array(d),G=0;G<d;G++)P[G]=arguments[G];return b.apply(B(this),P),r(J.get(this))}:function(){for(var d=arguments.length,P=new Array(d),G=0;G<d;G++)P[G]=arguments[G];return r(b.apply(B(this),P))}:function(d){for(var P=arguments.length,G=new Array(P>1?P-1:0),W=1;W<P;W++)G[W-1]=arguments[W];const i=b.call(B(this),d,...G);return x.set(i,d.sort?d.sort():[d]),r(i)}}function t(b){return"function"===typeof b?w(b):(b instanceof IDBTransaction&&function(b){if(L.has(b))return;const d=new Promise(((d,P)=>{const G=()=>{b.removeEventListener("complete",W),b.removeEventListener("error",i),b.removeEventListener("abort",i)},W=()=>{d(),G()},i=()=>{P(b.error||new DOMException("AbortError","AbortError")),G()};b.addEventListener("complete",W),b.addEventListener("error",i),b.addEventListener("abort",i)}));L.set(b,d)}(b),d=b,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((b=>d instanceof b))?new Proxy(b,E):b);var d}function r(b){if(b instanceof IDBRequest)return function(b){const d=new Promise(((d,P)=>{const G=()=>{b.removeEventListener("success",W),b.removeEventListener("error",i)},W=()=>{d(r(b.result)),G()},i=()=>{P(b.error),G()};b.addEventListener("success",W),b.addEventListener("error",i)}));return d.then((d=>{d instanceof IDBCursor&&J.set(d,b)})).catch((()=>{})),s.set(d,b),d}(b);if(Y.has(b))return Y.get(b);const d=t(b);return d!==b&&(Y.set(b,d),s.set(d,b)),d}const B=b=>s.get(b);const n=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],o=new Map;function A(b,d){if(!(b instanceof IDBDatabase)||d in b||"string"!==typeof d)return;if(o.get(d))return o.get(d);const P=d.replace(/FromIndex$/,""),G=d!==P,W=Z.includes(P);if(!(P in(G?IDBIndex:IDBObjectStore).prototype)||!W&&!n.includes(P))return;const i=async function(b){const d=this.transaction(b,W?"readwrite":"readonly");let i=d.store;for(var q=arguments.length,C=new Array(q>1?q-1:0),J=1;J<q;J++)C[J-1]=arguments[J];return G&&(i=i.index(C.shift())),(await Promise.all([i[P](...C),W&&d.done]))[0]};return o.set(d,i),i}E=(b=>({...b,get:(d,P,G)=>A(d,P)||b.get(d,P,G),has:(d,P)=>!!A(d,P)||b.has(d,P)}))(E);class f{constructor(b){this.container=b}getPlatformInfoString(){return this.container.getProviders().map((b=>{if(function(b){const d=b.getComponent();return"VERSION"===(null===d||void 0===d?void 0:d.type)}(b)){const d=b.getImmediate();return`${d.library}/${d.version}`}return null})).filter((b=>b)).join(" ")}}const g="@firebase/app",X="0.9.13",u=new W.c("@firebase/app"),M="@firebase/app-compat",e="@firebase/analytics-compat",R="@firebase/analytics",U="@firebase/app-check-compat",H="@firebase/app-check",p="@firebase/auth",S="@firebase/auth-compat",l="@firebase/database",N="@firebase/database-compat",j="@firebase/functions",a="@firebase/functions-compat",O="@firebase/installations",V="@firebase/installations-compat",y="@firebase/messaging",c="@firebase/messaging-compat",D="@firebase/performance",z="@firebase/performance-compat",Q="@firebase/remote-config",I="@firebase/remote-config-compat",m="@firebase/storage",v="@firebase/storage-compat",F="@firebase/firestore",h="@firebase/firestore-compat",T="firebase",K="[DEFAULT]",k={[g]:"fire-core",[M]:"fire-core-compat",[R]:"fire-analytics",[e]:"fire-analytics-compat",[H]:"fire-app-check",[U]:"fire-app-check-compat",[p]:"fire-auth",[S]:"fire-auth-compat",[l]:"fire-rtdb",[N]:"fire-rtdb-compat",[j]:"fire-fn",[a]:"fire-fn-compat",[O]:"fire-iid",[V]:"fire-iid-compat",[y]:"fire-fcm",[c]:"fire-fcm-compat",[D]:"fire-perf",[z]:"fire-perf-compat",[Q]:"fire-rc",[I]:"fire-rc-compat",[m]:"fire-gcs",[v]:"fire-gcs-compat",[F]:"fire-fst",[h]:"fire-fst-compat","fire-js":"fire-js",[T]:"fire-js-all"},bb=new Map,db=new Map;function Pb(b,d){try{b.container.pJ(d)}catch(P){u.debug(`Component ${d.name} failed to register with FirebaseApp ${b.name}`,P)}}function Gb(b,d){b.container.addOrOverwriteComponent(d)}function Wb(b){const d=b.name;if(db.has(d))return u.debug(`There were multiple attempts to register component ${d}.`),!1;db.set(d,b);for(const P of bb.values())Pb(P,b);return!0}function ib(b,d){const P=b.container.getProvider("heartbeat").getImmediate({optional:!0});return P&&P.triggerHeartbeat(),b.container.getProvider(d)}function qb(b,d){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;ib(b,d).clearInstance(P)}function Cb(){db.clear()}const Jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lb=new i.h("app","Firebase",Jb);class xb{constructor(b,d,P){this._isDeleted=!1,this._options=Object.assign({},b),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=P,this.container.pJ(new G.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(b){this.checkDestroyed(),this._automaticDataCollectionEnabled=b}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(b){this._isDeleted=b}checkDestroyed(){if(this.isDeleted)throw Lb.create("app-deleted",{appName:this._name})}}const Yb="9.23.0";function sb(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=b;if("object"!==typeof d){d={name:d}}const W=Object.assign({name:K,automaticDataCollectionEnabled:!1},d),q=W.name;if("string"!==typeof q||!q)throw Lb.create("bad-app-name",{appName:String(q)});if(P||(P=(0,i.D)()),!P)throw Lb.create("no-options");const C=bb.get(q);if(C){if((0,i.y)(P,C.options)&&(0,i.y)(W,C.config))return C;throw Lb.create("duplicate-app",{appName:q})}const J=new G.e(q);for(const G of db.values())J.pJ(G);const L=new xb(P,W,J);return bb.set(q,L),L}function Eb(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;const d=bb.get(b);if(!d&&b===K&&(0,i.D)())return sb();if(!d)throw Lb.create("no-app",{appName:b});return d}function wb(){return Array.from(bb.values())}async function tb(b){const d=b.name;bb.has(d)&&(bb.delete(d),await Promise.all(b.container.getProviders().map((b=>b.delete()))),b.isDeleted=!0)}function rb(b,d,P){var W;let i=null!==(W=k[b])&&void 0!==W?W:b;P&&(i+=`-${P}`);const q=i.match(/\s|\//),C=d.match(/\s|\//);if(q||C){const b=[`Unable to register library "${i}" with version "${d}":`];return q&&b.push(`library name "${i}" contains illegal characters (whitespace or "/")`),q&&C&&b.push("and"),C&&b.push(`version name "${d}" contains illegal characters (whitespace or "/")`),void u.warn(b.join(" "))}Wb(new G.g(`${i}-version`,(()=>({library:i,version:d})),"VERSION"))}function Bb(b,d){if(null!==b&&"function"!==typeof b)throw Lb.create("invalid-log-argument");(0,W.h)(b,d)}function nb(b){(0,W.d)(b)}const Zb="firebase-heartbeat-store";let ob=null;function Ab(){return ob||(ob=function(b,d){let{blocked:P,upgrade:G,blocking:W,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const q=indexedDB.open(b,d),C=r(q);return G&&q.addEventListener("upgradeneeded",(b=>{G(r(q.result),b.oldVersion,b.newVersion,r(q.transaction),b)})),P&&q.addEventListener("blocked",(b=>P(b.oldVersion,b.newVersion,b))),C.then((b=>{i&&b.addEventListener("close",(()=>i())),W&&b.addEventListener("versionchange",(b=>W(b.oldVersion,b.newVersion,b)))})).catch((()=>{})),C}("firebase-heartbeat-database",1,{upgrade:(b,d)=>{if(0===d)b.createObjectStore(Zb)}}).catch((b=>{throw Lb.create("idb-open",{originalErrorMessage:b.message})}))),ob}async function fb(b,d){try{const P=(await Ab()).transaction(Zb,"readwrite"),G=P.objectStore(Zb);await G.put(d,gb(b)),await P.done}catch(P){if(P instanceof i.j)u.warn(P.message);else{const b=Lb.create("idb-set",{originalErrorMessage:null===P||void 0===P?void 0:P.message});u.warn(b.message)}}}function gb(b){return`${b.name}!${b.options.appId}`}class Xb{constructor(b){this.container=b,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this.tY=new Mb(d),this._heartbeatsCachePromise=this.tY.read().then((b=>(this._heartbeatsCache=b,b)))}async triggerHeartbeat(){const b=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=ub();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==d&&!this._heartbeatsCache.heartbeats.some((b=>b.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:b}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((b=>{const d=new Date(b.date).valueOf();return Date.now()-d<=2592e6})),this.tY.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const b=ub(),{heartbeatsToSend:d,unsentEntries:P}=function(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const P=[];let G=b.slice();for(const W of b){const b=P.find((b=>b.agent===W.agent));if(b){if(b.dates.push(W.date),eb(P)>d){b.dates.pop();break}}else if(P.push({agent:W.agent,dates:[W.date]}),eb(P)>d){P.pop();break}G=G.slice(1)}return{heartbeatsToSend:P,unsentEntries:G}}(this._heartbeatsCache.heartbeats),G=(0,i.p)(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=b,P.length>0?(this._heartbeatsCache.heartbeats=P,await this.tY.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.tY.overwrite(this._heartbeatsCache)),G}}function ub(){return(new Date).toISOString().substring(0,10)}class Mb{constructor(b){this.app=b,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.$)()&&(0,i.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(b){try{const d=await Ab();return await d.transaction(Zb).objectStore(Zb).get(gb(b))}catch(d){if(d instanceof i.j)u.warn(d.message);else{const b=Lb.create("idb-get",{originalErrorMessage:null===d||void 0===d?void 0:d.message});u.warn(b.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(b){var d;if(await this._canUseIndexedDBPromise){const P=await this.read();return fb(this.app,{lastSentHeartbeatDate:null!==(d=b.lastSentHeartbeatDate)&&void 0!==d?d:P.lastSentHeartbeatDate,heartbeats:b.heartbeats})}}async add(b){var d;if(await this._canUseIndexedDBPromise){const P=await this.read();return fb(this.app,{lastSentHeartbeatDate:null!==(d=b.lastSentHeartbeatDate)&&void 0!==d?d:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...b.heartbeats]})}}}function eb(b){return(0,i.p)(JSON.stringify({version:2,heartbeats:b})).length}var Rb;Rb="",Wb(new G.g("platform-logger",(b=>new f(b)),"PRIVATE")),Wb(new G.g("heartbeat",(b=>new Xb(b)),"PRIVATE")),rb(g,X,Rb),rb(g,X,"esm2017"),rb("fire-js","")},11455:(b,d,P)=>{P.d(d,{e:()=>C,g:()=>W});var G=P(11463);class W{constructor(b,d,P){this.name=b,this.instanceFactory=d,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(b){return this.instantiationMode=b,this}setMultipleInstances(b){return this.multipleInstances=b,this}setServiceProps(b){return this.serviceProps=b,this}setInstanceCreatedCallback(b){return this.onInstanceCreated=b,this}}const i="[DEFAULT]";class q{constructor(b,d){this.name=b,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(b){const d=this.normalizeInstanceIdentifier(b);if(!this.instancesDeferred.has(d)){const b=new G.d;if(this.instancesDeferred.set(d,b),this.isInitialized(d)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:d});P&&b.resolve(P)}catch(P){}}return this.instancesDeferred.get(d).promise}getImmediate(b){var d;const P=this.normalizeInstanceIdentifier(null===b||void 0===b?void 0:b.identifier),G=null!==(d=null===b||void 0===b?void 0:b.optional)&&void 0!==d&&d;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(G)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(W){if(G)return null;throw W}}getComponent(){return this.component}setComponent(b){if(b.name!==this.name)throw Error(`Mismatching Component ${b.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=b,this.shouldAutoInitialize()){if(function(b){return"EAGER"===b.instantiationMode}(b))try{this.getOrInitializeService({instanceIdentifier:i})}catch(d){}for(const[b,P]of this.instancesDeferred.entries()){const G=this.normalizeInstanceIdentifier(b);try{const b=this.getOrInitializeService({instanceIdentifier:G});P.resolve(b)}catch(d){}}}}clearInstance(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(b),this.instancesOptions.delete(b),this.instances.delete(b)}async delete(){const b=Array.from(this.instances.values());await Promise.all([...b.filter((b=>"INTERNAL"in b)).map((b=>b.INTERNAL.delete())),...b.filter((b=>"_delete"in b)).map((b=>b._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(b)}getOptions(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(b)||{}}initialize(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:d={}}=b,P=this.normalizeInstanceIdentifier(b.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const G=this.getOrInitializeService({instanceIdentifier:P,options:d});for(const[W,i]of this.instancesDeferred.entries()){P===this.normalizeInstanceIdentifier(W)&&i.resolve(G)}return G}mx(b,d){var P;const G=this.normalizeInstanceIdentifier(d),W=null!==(P=this.onInitCallbacks.get(G))&&void 0!==P?P:new Set;W.add(b),this.onInitCallbacks.set(G,W);const i=this.instances.get(G);return i&&b(i,G),()=>{W.delete(b)}}invokeOnInitCallbacks(b,d){const P=this.onInitCallbacks.get(d);if(P)for(const W of P)try{W(b,d)}catch(G){}}getOrInitializeService(b){let{instanceIdentifier:d,options:P={}}=b,G=this.instances.get(d);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(W=d,W===i?void 0:W),options:P}),this.instances.set(d,G),this.instancesOptions.set(d,P),this.invokeOnInitCallbacks(G,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,G)}catch(q){}var W;return G||null}normalizeInstanceIdentifier(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?b:i:b}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class C{constructor(b){this.name=b,this.providers=new Map}pJ(b){const d=this.getProvider(b.name);if(d.isComponentSet())throw new Error(`Component ${b.name} has already been registered with ${this.name}`);d.setComponent(b)}addOrOverwriteComponent(b){this.getProvider(b.name).isComponentSet()&&this.providers.delete(b.name),this.pJ(b)}getProvider(b){if(this.providers.has(b))return this.providers.get(b);const d=new q(b,this);return this.providers.set(b,d),d}getProviders(){return Array.from(this.providers.values())}}},11466:(b,d,P)=>{P.d(d,{b:()=>W,c:()=>L,d:()=>x,h:()=>Y});const G=[];var W;!function(b){b[b.DEBUG=0]="DEBUG",b[b.VERBOSE=1]="VERBOSE",b[b.INFO=2]="INFO",b[b.WARN=3]="WARN",b[b.ERROR=4]="ERROR",b[b.SILENT=5]="SILENT"}(W||(W={}));const i={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},q=W.INFO,C={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},J=function(b,d){if(d<b.logLevel)return;const P=(new Date).toISOString(),G=C[d];if(!G)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);for(var W=arguments.length,i=new Array(W>2?W-2:0),q=2;q<W;q++)i[q-2]=arguments[q];console[G](`[${P}]  ${b.name}:`,...i)};class L{constructor(b){this.name=b,this._logLevel=q,this._logHandler=J,this._userLogHandler=null,G.push(this)}get logLevel(){return this._logLevel}set logLevel(b){if(!(b in W))throw new TypeError(`Invalid value "${b}" assigned to \`logLevel\``);this._logLevel=b}setLogLevel(b){this._logLevel="string"===typeof b?i[b]:b}get logHandler(){return this._logHandler}set logHandler(b){if("function"!==typeof b)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=b}get userLogHandler(){return this._userLogHandler}set userLogHandler(b){this._userLogHandler=b}debug(){for(var b=arguments.length,d=new Array(b),P=0;P<b;P++)d[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...d),this._logHandler(this,W.DEBUG,...d)}log(){for(var b=arguments.length,d=new Array(b),P=0;P<b;P++)d[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...d),this._logHandler(this,W.VERBOSE,...d)}info(){for(var b=arguments.length,d=new Array(b),P=0;P<b;P++)d[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,W.INFO,...d),this._logHandler(this,W.INFO,...d)}warn(){for(var b=arguments.length,d=new Array(b),P=0;P<b;P++)d[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,W.WARN,...d),this._logHandler(this,W.WARN,...d)}error(){for(var b=arguments.length,d=new Array(b),P=0;P<b;P++)d[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,W.ERROR,...d),this._logHandler(this,W.ERROR,...d)}}function x(b){G.forEach((d=>{d.setLogLevel(b)}))}function Y(b,d){for(const P of G){let G=null;d&&d.level&&(G=i[d.level]),P.userLogHandler=null===b?null:function(d,P){for(var i=arguments.length,q=new Array(i>2?i-2:0),C=2;C<i;C++)q[C-2]=arguments[C];const J=q.map((b=>{if(null==b)return null;if("string"===typeof b)return b;if("number"===typeof b||"boolean"===typeof b)return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch(d){return null}})).filter((b=>b)).join(" ");P>=(null!==G&&void 0!==G?G:d.logLevel)&&b({level:W[P].toLowerCase(),message:J,args:q,type:d.name})}}}}}]);