/*! For license information please see yit8yc.5.87f2b1ca.chunk.js.LICENSE.txt */
"use strict";(self.gpkvekif0vo=self.gpkvekif0vo||[]).push([[5],{12162:(a,O,i)=>{i.d(O,{$:()=>J,A:()=>P,E:()=>h,F:()=>x,I:()=>Z,M:()=>r,P:()=>w,S:()=>ma,V:()=>M,Z:()=>F,b:()=>j,bb:()=>B,d:()=>U,e:()=>D,fb:()=>f,g:()=>n,jb:()=>C,k:()=>Q,o:()=>q,p:()=>z,q:()=>A,u:()=>K,x:()=>T,y:()=>e});const H=function(a){const O=[];let i=0;for(let H=0;H<a.length;H++){let b=a.charCodeAt(H);b<128?O[i++]=b:b<2048?(O[i++]=b>>6|192,O[i++]=63&b|128):55296===(64512&b)&&H+1<a.length&&56320===(64512&a.charCodeAt(H+1))?(b=65536+((1023&b)<<10)+(1023&a.charCodeAt(++H)),O[i++]=b>>18|240,O[i++]=b>>12&63|128,O[i++]=b>>6&63|128,O[i++]=63&b|128):(O[i++]=b>>12|224,O[i++]=b>>6&63|128,O[i++]=63&b|128)}return O},b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(a,O){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let b=0;b<a.length;b+=3){const O=a[b],G=b+1<a.length,q=G?a[b+1]:0,Q=b+2<a.length,k=Q?a[b+2]:0,I=O>>2,P=(3&O)<<4|q>>4;let e=(15&q)<<2|k>>6,h=63&k;Q||(h=64,G||(e=64)),H.push(i[I],i[P],i[e],i[h])}return H.join("")},encodeString(a,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(a):this.encodeByteArray(H(a),O)},decodeString(a,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(a):function(a){const O=[];let i=0,H=0;for(;i<a.length;){const b=a[i++];if(b<128)O[H++]=String.fromCharCode(b);else if(b>191&&b<224){const G=a[i++];O[H++]=String.fromCharCode((31&b)<<6|63&G)}else if(b>239&&b<365){const G=((7&b)<<18|(63&a[i++])<<12|(63&a[i++])<<6|63&a[i++])-65536;O[H++]=String.fromCharCode(55296+(G>>10)),O[H++]=String.fromCharCode(56320+(1023&G))}else{const G=a[i++],q=a[i++];O[H++]=String.fromCharCode((15&b)<<12|(63&G)<<6|63&q)}}return O.join("")}(this.decodeStringToByteArray(a,O))},decodeStringToByteArray(a,O){this.init_();const i=O?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let b=0;b<a.length;){const O=i[a.charAt(b++)],q=b<a.length?i[a.charAt(b)]:0;++b;const Q=b<a.length?i[a.charAt(b)]:64;++b;const k=b<a.length?i[a.charAt(b)]:64;if(++b,null==O||null==q||null==Q||null==k)throw new G;const I=O<<2|q>>4;if(H.push(I),64!==Q){const a=q<<4&240|Q>>2;if(H.push(a),64!==k){const a=Q<<6&192|k;H.push(a)}}}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(a){return function(a){const O=H(a);return b.encodeByteArray(O,!0)}(a).replace(/\./g,"")},Q=function(a){try{return b.decodeString(a,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const k=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,I=()=>{try{return k()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const O=a&&Q(a[1]);return O&&JSON.parse(O)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},P=a=>{var O,i;return null===(i=null===(O=I())||void 0===O?void 0:O.emulatorHosts)||void 0===i?void 0:i[a]},e=()=>{var a;return null===(a=I())||void 0===a?void 0:a.config},h=a=>{var O;return null===(O=I())||void 0===O?void 0:O[`_${a}`]};class j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((a,O)=>{this.resolve=a,this.reject=O}))}wrapCallback(a){return(O,i)=>{O?this.reject(O):this.resolve(i),"function"===typeof a&&(this.promise.catch((()=>{})),1===a.length?a(O):a(O,i))}}}function Z(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function r(){const a="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof a&&void 0!==a.id}function J(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ma(){const a=Z();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function M(){try{return"object"===typeof indexedDB}catch(a){return!1}}function C(){return new Promise(((a,O)=>{try{let i=!0;const H="validate-browser-context-for-indexeddb-analytics-module",b=self.indexedDB.open(H);b.onsuccess=()=>{b.result.close(),i||self.indexedDB.deleteDatabase(H),a(!0)},b.onupgradeneeded=()=>{i=!1},b.onerror=()=>{var a;O((null===(a=b.error)||void 0===a?void 0:a.message)||"")}}catch(i){O(i)}}))}function n(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class D extends Error{constructor(a,O,i){super(O),this.code=a,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(a,O,i){this.service=a,this.serviceName=O,this.errors=i}create(a){const O=(arguments.length<=1?void 0:arguments[1])||{},i=`${this.service}/${a}`,H=this.errors[a],b=H?function(a,O){return a.replace(y,((a,i)=>{const H=O[i];return null!=H?String(H):`<${i}?>`}))}(H,O):"Error",G=`${this.serviceName}: ${b} (${i}).`;return new D(i,G,O)}}const y=/\{\$([^}]+)}/g;function w(a){for(const O in a)if(Object.prototype.hasOwnProperty.call(a,O))return!1;return!0}function K(a,O){if(a===O)return!0;const i=Object.keys(a),H=Object.keys(O);for(const b of i){if(!H.includes(b))return!1;const i=a[b],G=O[b];if(S(i)&&S(G)){if(!K(i,G))return!1}else if(i!==G)return!1}for(const b of H)if(!i.includes(b))return!1;return!0}function S(a){return null!==a&&"object"===typeof a}function f(a){const O=[];for(const[i,H]of Object.entries(a))Array.isArray(H)?H.forEach((a=>{O.push(encodeURIComponent(i)+"="+encodeURIComponent(a))})):O.push(encodeURIComponent(i)+"="+encodeURIComponent(H));return O.length?"&"+O.join("&"):""}function B(a){const O={};return a.replace(/^\?/,"").split("&").forEach((a=>{if(a){const[i,H]=a.split("=");O[decodeURIComponent(i)]=decodeURIComponent(H)}})),O}function T(a){const O=a.indexOf("?");if(!O)return"";const i=a.indexOf("#",O);return a.substring(O,i>0?i:void 0)}function A(a,O){const i=new E(a,O);return i.subscribe.bind(i)}class E{constructor(a,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{a(this)})).catch((a=>{this.error(a)}))}next(a){this.forEachObserver((O=>{O.next(a)}))}error(a){this.forEachObserver((O=>{O.error(a)})),this.close(a)}complete(){this.forEachObserver((a=>{a.complete()})),this.close()}subscribe(a,O,i){let H;if(void 0===a&&void 0===O&&void 0===i)throw new Error("Missing Observer.");H=function(a,O){if("object"!==typeof a||null===a)return!1;for(const i of O)if(i in a&&"function"===typeof a[i])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:O,complete:i},void 0===H.next&&(H.next=l),void 0===H.error&&(H.error=l),void 0===H.complete&&(H.complete=l);const b=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(a){}})),this.observers.push(H),b}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,a)}sendOne(a,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{O(this.observers[a])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const W=1e3,u=2,c=144e5,R=.5;function z(a){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:W)*Math.pow(O,a),H=Math.round(R*i*(Math.random()-.5)*2);return Math.min(c,i+H)}function x(a){return a&&a._delegate?a._delegate:a}},12145:(a,O,i)=>{i.d(O,{b:()=>G.e,f:()=>ea,g:()=>t,h:()=>ia,i:()=>Ha,m:()=>aa,p:()=>Qa,q:()=>Oa,s:()=>Ga,u:()=>ba,w:()=>qa,y:()=>Fa,D:()=>ja,B:()=>Za,E:()=>ha,F:()=>Ja,G:()=>ra,K:()=>mO});var H=i(12153),b=i(12166),G=i(12162);let q,Q;const k=new WeakMap,I=new WeakMap,P=new WeakMap,e=new WeakMap,h=new WeakMap;let j={get(a,O,i){if(a instanceof IDBTransaction){if("done"===O)return I.get(a);if("objectStoreNames"===O)return a.objectStoreNames||P.get(a);if("store"===O)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return r(a[O])},set:(a,O,i)=>(a[O]=i,!0),has:(a,O)=>a instanceof IDBTransaction&&("done"===O||"store"===O)||O in a};function Z(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(){for(var O=arguments.length,i=new Array(O),H=0;H<O;H++)i[H]=arguments[H];return a.apply(J(this),i),r(k.get(this))}:function(){for(var O=arguments.length,i=new Array(O),H=0;H<O;H++)i[H]=arguments[H];return r(a.apply(J(this),i))}:function(O){for(var i=arguments.length,H=new Array(i>1?i-1:0),b=1;b<i;b++)H[b-1]=arguments[b];const G=a.call(J(this),O,...H);return P.set(G,O.sort?O.sort():[O]),r(G)}}function F(a){return"function"===typeof a?Z(a):(a instanceof IDBTransaction&&function(a){if(I.has(a))return;const O=new Promise(((O,i)=>{const H=()=>{a.removeEventListener("complete",b),a.removeEventListener("error",G),a.removeEventListener("abort",G)},b=()=>{O(),H()},G=()=>{i(a.error||new DOMException("AbortError","AbortError")),H()};a.addEventListener("complete",b),a.addEventListener("error",G),a.addEventListener("abort",G)}));I.set(a,O)}(a),O=a,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((a=>O instanceof a))?new Proxy(a,j):a);var O}function r(a){if(a instanceof IDBRequest)return function(a){const O=new Promise(((O,i)=>{const H=()=>{a.removeEventListener("success",b),a.removeEventListener("error",G)},b=()=>{O(r(a.result)),H()},G=()=>{i(a.error),H()};a.addEventListener("success",b),a.addEventListener("error",G)}));return O.then((O=>{O instanceof IDBCursor&&k.set(O,a)})).catch((()=>{})),h.set(O,a),O}(a);if(e.has(a))return e.get(a);const O=F(a);return O!==a&&(e.set(a,O),h.set(O,a)),O}const J=a=>h.get(a);const ma=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],C=new Map;function n(a,O){if(!(a instanceof IDBDatabase)||O in a||"string"!==typeof O)return;if(C.get(O))return C.get(O);const i=O.replace(/FromIndex$/,""),H=O!==i,b=M.includes(i);if(!(i in(H?IDBIndex:IDBObjectStore).prototype)||!b&&!ma.includes(i))return;const G=async function(a){const O=this.transaction(a,b?"readwrite":"readonly");let G=O.store;for(var q=arguments.length,Q=new Array(q>1?q-1:0),k=1;k<q;k++)Q[k-1]=arguments[k];return H&&(G=G.index(Q.shift())),(await Promise.all([G[i](...Q),b&&O.done]))[0]};return C.set(O,G),G}j=(a=>({...a,get:(O,i,H)=>n(O,i)||a.get(O,i,H),has:(O,i)=>!!n(O,i)||a.has(O,i)}))(j);class D{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map((a=>{if(function(a){const O=a.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(a)){const O=a.getImmediate();return`${O.library}/${O.version}`}return null})).filter((a=>a)).join(" ")}}const U="@firebase/app",y="0.9.13",w=new b.h("@firebase/app"),K="@firebase/app-compat",S="@firebase/analytics-compat",f="@firebase/analytics",B="@firebase/app-check-compat",T="@firebase/app-check",A="@firebase/auth",E="@firebase/auth-compat",l="@firebase/database",W="@firebase/database-compat",u="@firebase/functions",c="@firebase/functions-compat",R="@firebase/installations",z="@firebase/installations-compat",x="@firebase/messaging",g="@firebase/messaging-compat",N="@firebase/performance",v="@firebase/performance-compat",X="@firebase/remote-config",p="@firebase/remote-config-compat",o="@firebase/storage",d="@firebase/storage-compat",Y="@firebase/firestore",L="@firebase/firestore-compat",s="firebase",t="[DEFAULT]",V={[U]:"fire-core",[K]:"fire-core-compat",[f]:"fire-analytics",[S]:"fire-analytics-compat",[T]:"fire-app-check",[B]:"fire-app-check-compat",[A]:"fire-auth",[E]:"fire-auth-compat",[l]:"fire-rtdb",[W]:"fire-rtdb-compat",[u]:"fire-fn",[c]:"fire-fn-compat",[R]:"fire-iid",[z]:"fire-iid-compat",[x]:"fire-fcm",[g]:"fire-fcm-compat",[N]:"fire-perf",[v]:"fire-perf-compat",[X]:"fire-rc",[p]:"fire-rc-compat",[o]:"fire-gcs",[d]:"fire-gcs-compat",[Y]:"fire-fst",[L]:"fire-fst-compat","fire-js":"fire-js",[s]:"fire-js-all"},aa=new Map,Oa=new Map;function ia(a,O){try{a.container.dk(O)}catch(i){w.debug(`Component ${O.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a,O){a.container.addOrOverwriteComponent(O)}function ba(a){const O=a.name;if(Oa.has(O))return w.debug(`There were multiple attempts to register component ${O}.`),!1;Oa.set(O,a);for(const i of aa.values())ia(i,a);return!0}function Ga(a,O){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(O)}function qa(a,O){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;Ga(a,O).clearInstance(i)}function Qa(){Oa.clear()}const ka={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ia=new G.d("app","Firebase",ka);class Pa{constructor(a,O,i){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=i,this.container.dk(new H.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}const ea="9.23.0";function ha(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a;if("object"!==typeof O){O={name:O}}const b=Object.assign({name:t,automaticDataCollectionEnabled:!1},O),q=b.name;if("string"!==typeof q||!q)throw Ia.create("bad-app-name",{appName:String(q)});if(i||(i=(0,G.y)()),!i)throw Ia.create("no-options");const Q=aa.get(q);if(Q){if((0,G.u)(i,Q.options)&&(0,G.u)(b,Q.config))return Q;throw Ia.create("duplicate-app",{appName:q})}const k=new H.b(q);for(const H of Oa.values())k.dk(H);const I=new Pa(i,b,k);return aa.set(q,I),I}function ja(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;const O=aa.get(a);if(!O&&a===t&&(0,G.y)())return ha();if(!O)throw Ia.create("no-app",{appName:a});return O}function Za(){return Array.from(aa.values())}async function Fa(a){const O=a.name;aa.has(O)&&(aa.delete(O),await Promise.all(a.container.getProviders().map((a=>a.delete()))),a.isDeleted=!0)}function ra(a,O,i){var b;let G=null!==(b=V[a])&&void 0!==b?b:a;i&&(G+=`-${i}`);const q=G.match(/\s|\//),Q=O.match(/\s|\//);if(q||Q){const a=[`Unable to register library "${G}" with version "${O}":`];return q&&a.push(`library name "${G}" contains illegal characters (whitespace or "/")`),q&&Q&&a.push("and"),Q&&a.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void w.warn(a.join(" "))}ba(new H.f(`${G}-version`,(()=>({library:G,version:O})),"VERSION"))}function Ja(a,O){if(null!==a&&"function"!==typeof a)throw Ia.create("invalid-log-argument");(0,b.p)(a,O)}function mO(a){(0,b.l)(a)}const Ma="firebase-heartbeat-store";let Ca=null;function na(){return Ca||(Ca=function(a,O){let{blocked:i,upgrade:H,blocking:b,terminated:G}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const q=indexedDB.open(a,O),Q=r(q);return H&&q.addEventListener("upgradeneeded",(a=>{H(r(q.result),a.oldVersion,a.newVersion,r(q.transaction),a)})),i&&q.addEventListener("blocked",(a=>i(a.oldVersion,a.newVersion,a))),Q.then((a=>{G&&a.addEventListener("close",(()=>G())),b&&a.addEventListener("versionchange",(a=>b(a.oldVersion,a.newVersion,a)))})).catch((()=>{})),Q}("firebase-heartbeat-database",1,{upgrade:(a,O)=>{if(0===O)a.createObjectStore(Ma)}}).catch((a=>{throw Ia.create("idb-open",{originalErrorMessage:a.message})}))),Ca}async function Da(a,O){try{const i=(await na()).transaction(Ma,"readwrite"),H=i.objectStore(Ma);await H.put(O,Ua(a)),await i.done}catch(i){if(i instanceof G.e)w.warn(i.message);else{const a=Ia.create("idb-set",{originalErrorMessage:null===i||void 0===i?void 0:i.message});w.warn(a.message)}}}function Ua(a){return`${a.name}!${a.options.appId}`}class ya{constructor(a){this.container=a,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.xe=new Ka(O),this._heartbeatsCachePromise=this.xe.read().then((a=>(this._heartbeatsCache=a,a)))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=wa();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((a=>a.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((a=>{const O=new Date(a.date).valueOf();return Date.now()-O<=2592e6})),this.xe.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const a=wa(),{heartbeatsToSend:O,unsentEntries:i}=function(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const i=[];let H=a.slice();for(const b of a){const a=i.find((a=>a.agent===b.agent));if(a){if(a.dates.push(b.date),Sa(i)>O){a.dates.pop();break}}else if(i.push({agent:b.agent,dates:[b.date]}),Sa(i)>O){i.pop();break}H=H.slice(1)}return{heartbeatsToSend:i,unsentEntries:H}}(this._heartbeatsCache.heartbeats),H=(0,G.o)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=a,i.length>0?(this._heartbeatsCache.heartbeats=i,await this.xe.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.xe.overwrite(this._heartbeatsCache)),H}}function wa(){return(new Date).toISOString().substring(0,10)}class Ka{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,G.V)()&&(0,G.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(a){try{const O=await na();return await O.transaction(Ma).objectStore(Ma).get(Ua(a))}catch(O){if(O instanceof G.e)w.warn(O.message);else{const a=Ia.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});w.warn(a.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(a){var O;if(await this._canUseIndexedDBPromise){const i=await this.read();return Da(this.app,{lastSentHeartbeatDate:null!==(O=a.lastSentHeartbeatDate)&&void 0!==O?O:i.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){var O;if(await this._canUseIndexedDBPromise){const i=await this.read();return Da(this.app,{lastSentHeartbeatDate:null!==(O=a.lastSentHeartbeatDate)&&void 0!==O?O:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...a.heartbeats]})}}}function Sa(a){return(0,G.o)(JSON.stringify({version:2,heartbeats:a})).length}var fa;fa="",ba(new H.f("platform-logger",(a=>new D(a)),"PRIVATE")),ba(new H.f("heartbeat",(a=>new ya(a)),"PRIVATE")),ra(U,y,fa),ra(U,y,"esm2017"),ra("fire-js","")},12153:(a,O,i)=>{i.d(O,{b:()=>Q,f:()=>b});var H=i(12162);class b{constructor(a,O,i){this.name=a,this.instanceFactory=O,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}const G="[DEFAULT]";class q{constructor(a,O){this.name=a,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const O=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(O)){const a=new H.b;if(this.instancesDeferred.set(O,a),this.isInitialized(O)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:O});i&&a.resolve(i)}catch(i){}}return this.instancesDeferred.get(O).promise}getImmediate(a){var O;const i=this.normalizeInstanceIdentifier(null===a||void 0===a?void 0:a.identifier),H=null!==(O=null===a||void 0===a?void 0:a.optional)&&void 0!==O&&O;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(H)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(b){if(H)return null;throw b}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(function(a){return"EAGER"===a.instantiationMode}(a))try{this.getOrInitializeService({instanceIdentifier:G})}catch(O){}for(const[a,i]of this.instancesDeferred.entries()){const H=this.normalizeInstanceIdentifier(a);try{const a=this.getOrInitializeService({instanceIdentifier:H});i.resolve(a)}catch(O){}}}}clearInstance(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter((a=>"INTERNAL"in a)).map((a=>a.INTERNAL.delete())),...a.filter((a=>"_delete"in a)).map((a=>a._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instances.has(a)}getOptions(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instancesOptions.get(a)||{}}initialize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=a,i=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const H=this.getOrInitializeService({instanceIdentifier:i,options:O});for(const[b,G]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(b)&&G.resolve(H)}return H}He(a,O){var i;const H=this.normalizeInstanceIdentifier(O),b=null!==(i=this.onInitCallbacks.get(H))&&void 0!==i?i:new Set;b.add(a),this.onInitCallbacks.set(H,b);const G=this.instances.get(H);return G&&a(G,H),()=>{b.delete(a)}}invokeOnInitCallbacks(a,O){const i=this.onInitCallbacks.get(O);if(i)for(const b of i)try{b(a,O)}catch(H){}}getOrInitializeService(a){let{instanceIdentifier:O,options:i={}}=a,H=this.instances.get(O);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(b=O,b===G?void 0:b),options:i}),this.instances.set(O,H),this.instancesOptions.set(O,i),this.invokeOnInitCallbacks(H,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,H)}catch(q){}var b;return H||null}normalizeInstanceIdentifier(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.component?this.component.multipleInstances?a:G:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(a){this.name=a,this.providers=new Map}dk(a){const O=this.getProvider(a.name);if(O.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);O.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.dk(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const O=new q(a,this);return this.providers.set(a,O),O}getProviders(){return Array.from(this.providers.values())}}},12166:(a,O,i)=>{i.d(O,{e:()=>b,h:()=>I,l:()=>P,p:()=>e});const H=[];var b;!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(b||(b={}));const G={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},q=b.INFO,Q={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},k=function(a,O){if(O<a.logLevel)return;const i=(new Date).toISOString(),H=Q[O];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var b=arguments.length,G=new Array(b>2?b-2:0),q=2;q<b;q++)G[q-2]=arguments[q];console[H](`[${i}]  ${a.name}:`,...G)};class I{constructor(a){this.name=a,this._logLevel=q,this._logHandler=k,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in b))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"===typeof a?G[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(){for(var a=arguments.length,O=new Array(a),i=0;i<a;i++)O[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...O),this._logHandler(this,b.DEBUG,...O)}log(){for(var a=arguments.length,O=new Array(a),i=0;i<a;i++)O[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...O),this._logHandler(this,b.VERBOSE,...O)}info(){for(var a=arguments.length,O=new Array(a),i=0;i<a;i++)O[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,b.INFO,...O),this._logHandler(this,b.INFO,...O)}warn(){for(var a=arguments.length,O=new Array(a),i=0;i<a;i++)O[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,b.WARN,...O),this._logHandler(this,b.WARN,...O)}error(){for(var a=arguments.length,O=new Array(a),i=0;i<a;i++)O[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,b.ERROR,...O),this._logHandler(this,b.ERROR,...O)}}function P(a){H.forEach((O=>{O.setLogLevel(a)}))}function e(a,O){for(const i of H){let H=null;O&&O.level&&(H=G[O.level]),i.userLogHandler=null===a?null:function(O,i){for(var G=arguments.length,q=new Array(G>2?G-2:0),Q=2;Q<G;Q++)q[Q-2]=arguments[Q];const k=q.map((a=>{if(null==a)return null;if("string"===typeof a)return a;if("number"===typeof a||"boolean"===typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(O){return null}})).filter((a=>a)).join(" ");i>=(null!==H&&void 0!==H?H:O.logLevel)&&a({level:b[i].toLowerCase(),message:k,args:q,type:O.name})}}}}}]);