/*! For license information please see 5sc22.5.6eda7833.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10976:(Z,x,F)=>{F.d(x,{A:()=>R,D:()=>i,F:()=>c,H:()=>o,L:()=>s,N:()=>h,O:()=>p,Q:()=>k,S:()=>q,W:()=>m,Y:()=>C,ab:()=>U,bb:()=>M,cb:()=>l,e:()=>J,f:()=>K,gb:()=>v,j:()=>S,jb:()=>L,m:()=>H,q:()=>j,r:()=>Y,s:()=>A,w:()=>e});const u=function(Z){const x=[];let F=0;for(let u=0;u<Z.length;u++){let G=Z.charCodeAt(u);G<128?x[F++]=G:G<2048?(x[F++]=G>>6|192,x[F++]=63&G|128):55296===(64512&G)&&u+1<Z.length&&56320===(64512&Z.charCodeAt(u+1))?(G=65536+((1023&G)<<10)+(1023&Z.charCodeAt(++u)),x[F++]=G>>18|240,x[F++]=G>>12&63|128,x[F++]=G>>6&63|128,x[F++]=63&G|128):(x[F++]=G>>12|224,x[F++]=G>>6&63|128,x[F++]=63&G|128)}return x},G={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Z,x){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let G=0;G<Z.length;G+=3){const x=Z[G],f=G+1<Z.length,Y=f?Z[G+1]:0,j=G+2<Z.length,d=j?Z[G+2]:0,t=x>>2,o=(3&x)<<4|Y>>4;let c=(15&Y)<<2|d>>6,s=63&d;j||(s=64,f||(c=64)),u.push(F[t],F[o],F[c],F[s])}return u.join("")},encodeString(Z,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(Z):this.encodeByteArray(u(Z),x)},decodeString(Z,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(Z):function(Z){const x=[];let F=0,u=0;for(;F<Z.length;){const G=Z[F++];if(G<128)x[u++]=String.fromCharCode(G);else if(G>191&&G<224){const f=Z[F++];x[u++]=String.fromCharCode((31&G)<<6|63&f)}else if(G>239&&G<365){const f=((7&G)<<18|(63&Z[F++])<<12|(63&Z[F++])<<6|63&Z[F++])-65536;x[u++]=String.fromCharCode(55296+(f>>10)),x[u++]=String.fromCharCode(56320+(1023&f))}else{const f=Z[F++],Y=Z[F++];x[u++]=String.fromCharCode((15&G)<<12|(63&f)<<6|63&Y)}}return x.join("")}(this.decodeStringToByteArray(Z,x))},decodeStringToByteArray(Z,x){this.init_();const F=x?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let G=0;G<Z.length;){const x=F[Z.charAt(G++)],Y=G<Z.length?F[Z.charAt(G)]:0;++G;const j=G<Z.length?F[Z.charAt(G)]:64;++G;const d=G<Z.length?F[Z.charAt(G)]:64;if(++G,null==x||null==Y||null==j||null==d)throw new f;const t=x<<2|Y>>4;if(u.push(t),64!==j){const Z=Y<<4&240|j>>2;if(u.push(Z),64!==d){const Z=j<<6&192|d;u.push(Z)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(Z){return function(Z){const x=u(Z);return G.encodeByteArray(x,!0)}(Z).replace(/\./g,"")},j=function(Z){try{return G.decodeString(Z,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};const d=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof F.g)return F.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,t=()=>{try{return d()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(F){return}const x=Z&&j(Z[1]);return x&&JSON.parse(x)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},o=Z=>{var x,F;return null===(F=null===(x=t())||void 0===x?void 0:x.emulatorHosts)||void 0===F?void 0:F[Z]},c=()=>{var Z;return null===(Z=t())||void 0===Z?void 0:Z.config},s=Z=>{var x;return null===(x=t())||void 0===x?void 0:x[`_${Z}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Z,x)=>{this.resolve=Z,this.reject=x}))}wrapCallback(Z){return(x,F)=>{x?this.reject(x):this.resolve(F),"function"===typeof Z&&(this.promise.catch((()=>{})),1===Z.length?Z(x):Z(x,F))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function U(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function k(){const Z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Z&&void 0!==Z.id}function M(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function m(){const Z=p();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function C(){try{return"object"===typeof indexedDB}catch(Z){return!1}}function L(){return new Promise(((Z,x)=>{try{let F=!0;const u="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(u);G.onsuccess=()=>{G.result.close(),F||self.indexedDB.deleteDatabase(u),Z(!0)},G.onupgradeneeded=()=>{F=!1},G.onerror=()=>{var Z;x((null===(Z=G.error)||void 0===Z?void 0:Z.message)||"")}}catch(F){x(F)}}))}function H(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(Z,x,F){super(x),this.code=Z,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(Z,x,F){this.service=Z,this.serviceName=x,this.errors=F}create(Z){const x=(arguments.length<=1?void 0:arguments[1])||{},F=`${this.service}/${Z}`,u=this.errors[Z],G=u?function(Z,x){return Z.replace(y,((Z,F)=>{const u=x[F];return null!=u?String(u):`<${F}?>`}))}(u,x):"Error",f=`${this.serviceName}: ${G} (${F}).`;return new S(F,f,x)}}const y=/\{\$([^}]+)}/g;function q(Z){for(const x in Z)if(Object.prototype.hasOwnProperty.call(Z,x))return!1;return!0}function R(Z,x){if(Z===x)return!0;const F=Object.keys(Z),u=Object.keys(x);for(const G of F){if(!u.includes(G))return!1;const F=Z[G],f=x[G];if(B(F)&&B(f)){if(!R(F,f))return!1}else if(F!==f)return!1}for(const G of u)if(!F.includes(G))return!1;return!0}function B(Z){return null!==Z&&"object"===typeof Z}function v(Z){const x=[];for(const[F,u]of Object.entries(Z))Array.isArray(u)?u.forEach((Z=>{x.push(encodeURIComponent(F)+"="+encodeURIComponent(Z))})):x.push(encodeURIComponent(F)+"="+encodeURIComponent(u));return x.length?"&"+x.join("&"):""}function l(Z){const x={};return Z.replace(/^\?/,"").split("&").forEach((Z=>{if(Z){const[F,u]=Z.split("=");x[decodeURIComponent(F)]=decodeURIComponent(u)}})),x}function i(Z){const x=Z.indexOf("?");if(!x)return"";const F=Z.indexOf("#",x);return Z.substring(x,F>0?F:void 0)}function e(Z,x){const F=new b(Z,x);return F.subscribe.bind(F)}class b{constructor(Z,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then((()=>{Z(this)})).catch((Z=>{this.error(Z)}))}next(Z){this.forEachObserver((x=>{x.next(Z)}))}error(Z){this.forEachObserver((x=>{x.error(Z)})),this.close(Z)}complete(){this.forEachObserver((Z=>{Z.complete()})),this.close()}subscribe(Z,x,F){let u;if(void 0===Z&&void 0===x&&void 0===F)throw new Error("Missing Observer.");u=function(Z,x){if("object"!==typeof Z||null===Z)return!1;for(const F of x)if(F in Z&&"function"===typeof Z[F])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:x,complete:F},void 0===u.next&&(u.next=E),void 0===u.error&&(u.error=E),void 0===u.complete&&(u.complete=E);const G=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch(Z){}})),this.observers.push(u),G}unsubscribeOne(Z){void 0!==this.observers&&void 0!==this.observers[Z]&&(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,Z)}sendOne(Z,x){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{x(this.observers[Z])}catch(F){"undefined"!==typeof console&&console.error&&console.error(F)}}))}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}const w=1e3,T=2,N=144e5,W=.5;function A(Z){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:w)*Math.pow(x,Z),u=Math.round(W*F*(Math.random()-.5)*2);return Math.min(N,F+u)}function h(Z){return Z&&Z._delegate?Z._delegate:Z}},10965:(Z,x,F)=>{F.d(x,{b:()=>f.j,e:()=>cZ,i:()=>z,k:()=>FZ,l:()=>uZ,o:()=>ZZ,r:()=>jZ,t:()=>xZ,w:()=>fZ,y:()=>GZ,C:()=>YZ,F:()=>UZ,K:()=>JZ,I:()=>pZ,O:()=>sZ,P:()=>MZ,S:()=>kZ,U:()=>mZ});var u=F(10969),G=F(10980),f=F(10976);let Y,j;const d=new WeakMap,t=new WeakMap,o=new WeakMap,c=new WeakMap,s=new WeakMap;let J={get(Z,x,F){if(Z instanceof IDBTransaction){if("done"===x)return t.get(Z);if("objectStoreNames"===x)return Z.objectStoreNames||o.get(Z);if("store"===x)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return k(Z[x])},set:(Z,x,F)=>(Z[x]=F,!0),has:(Z,x)=>Z instanceof IDBTransaction&&("done"===x||"store"===x)||x in Z};function p(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Z)?function(){for(var x=arguments.length,F=new Array(x),u=0;u<x;u++)F[u]=arguments[u];return Z.apply(M(this),F),k(d.get(this))}:function(){for(var x=arguments.length,F=new Array(x),u=0;u<x;u++)F[u]=arguments[u];return k(Z.apply(M(this),F))}:function(x){for(var F=arguments.length,u=new Array(F>1?F-1:0),G=1;G<F;G++)u[G-1]=arguments[G];const f=Z.call(M(this),x,...u);return o.set(f,x.sort?x.sort():[x]),k(f)}}function U(Z){return"function"===typeof Z?p(Z):(Z instanceof IDBTransaction&&function(Z){if(t.has(Z))return;const x=new Promise(((x,F)=>{const u=()=>{Z.removeEventListener("complete",G),Z.removeEventListener("error",f),Z.removeEventListener("abort",f)},G=()=>{x(),u()},f=()=>{F(Z.error||new DOMException("AbortError","AbortError")),u()};Z.addEventListener("complete",G),Z.addEventListener("error",f),Z.addEventListener("abort",f)}));t.set(Z,x)}(Z),x=Z,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Z=>x instanceof Z))?new Proxy(Z,J):Z);var x}function k(Z){if(Z instanceof IDBRequest)return function(Z){const x=new Promise(((x,F)=>{const u=()=>{Z.removeEventListener("success",G),Z.removeEventListener("error",f)},G=()=>{x(k(Z.result)),u()},f=()=>{F(Z.error),u()};Z.addEventListener("success",G),Z.addEventListener("error",f)}));return x.then((x=>{x instanceof IDBCursor&&d.set(x,Z)})).catch((()=>{})),s.set(x,Z),x}(Z);if(c.has(Z))return c.get(Z);const x=U(Z);return x!==Z&&(c.set(Z,x),s.set(x,Z)),x}const M=Z=>s.get(Z);const m=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],L=new Map;function H(Z,x){if(!(Z instanceof IDBDatabase)||x in Z||"string"!==typeof x)return;if(L.get(x))return L.get(x);const F=x.replace(/FromIndex$/,""),u=x!==F,G=C.includes(F);if(!(F in(u?IDBIndex:IDBObjectStore).prototype)||!G&&!m.includes(F))return;const f=async function(Z){const x=this.transaction(Z,G?"readwrite":"readonly");let f=x.store;for(var Y=arguments.length,j=new Array(Y>1?Y-1:0),d=1;d<Y;d++)j[d-1]=arguments[d];return u&&(f=f.index(j.shift())),(await Promise.all([f[F](...j),G&&x.done]))[0]};return L.set(x,f),f}J=(Z=>({...Z,get:(x,F,u)=>H(x,F)||Z.get(x,F,u),has:(x,F)=>!!H(x,F)||Z.has(x,F)}))(J);class S{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Z=>{if(function(Z){const x=Z.getComponent();return"VERSION"===(null===x||void 0===x?void 0:x.type)}(Z)){const x=Z.getImmediate();return`${x.library}/${x.version}`}return null})).filter((Z=>Z)).join(" ")}}const K="@firebase/app",y="0.9.13",q=new G.f("@firebase/app"),R="@firebase/app-compat",B="@firebase/analytics-compat",v="@firebase/analytics",l="@firebase/app-check-compat",i="@firebase/app-check",e="@firebase/auth",b="@firebase/auth-compat",E="@firebase/database",w="@firebase/database-compat",T="@firebase/functions",N="@firebase/functions-compat",W="@firebase/installations",A="@firebase/installations-compat",h="@firebase/messaging",X="@firebase/messaging-compat",D="@firebase/performance",Q="@firebase/performance-compat",g="@firebase/remote-config",O="@firebase/remote-config-compat",n="@firebase/storage",V="@firebase/storage-compat",a="@firebase/firestore",I="@firebase/firestore-compat",r="firebase",z="[DEFAULT]",P={[K]:"fire-core",[R]:"fire-core-compat",[v]:"fire-analytics",[B]:"fire-analytics-compat",[i]:"fire-app-check",[l]:"fire-app-check-compat",[e]:"fire-auth",[b]:"fire-auth-compat",[E]:"fire-rtdb",[w]:"fire-rtdb-compat",[T]:"fire-fn",[N]:"fire-fn-compat",[W]:"fire-iid",[A]:"fire-iid-compat",[h]:"fire-fcm",[X]:"fire-fcm-compat",[D]:"fire-perf",[Q]:"fire-perf-compat",[g]:"fire-rc",[O]:"fire-rc-compat",[n]:"fire-gcs",[V]:"fire-gcs-compat",[a]:"fire-fst",[I]:"fire-fst-compat","fire-js":"fire-js",[r]:"fire-js-all"},ZZ=new Map,xZ=new Map;function FZ(Z,x){try{Z.container.Wd(x)}catch(F){q.debug(`Component ${x.name} failed to register with FirebaseApp ${Z.name}`,F)}}function uZ(Z,x){Z.container.addOrOverwriteComponent(x)}function GZ(Z){const x=Z.name;if(xZ.has(x))return q.debug(`There were multiple attempts to register component ${x}.`),!1;xZ.set(x,Z);for(const F of ZZ.values())FZ(F,Z);return!0}function fZ(Z,x){const F=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return F&&F.triggerHeartbeat(),Z.container.getProvider(x)}function YZ(Z,x){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;fZ(Z,x).clearInstance(F)}function jZ(){xZ.clear()}const dZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tZ=new f.f("app","Firebase",dZ);class oZ{constructor(Z,x,F){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=F,this.container.Wd(new u.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw tZ.create("app-deleted",{appName:this._name})}}const cZ="9.23.0";function sZ(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=Z;if("object"!==typeof x){x={name:x}}const G=Object.assign({name:z,automaticDataCollectionEnabled:!1},x),Y=G.name;if("string"!==typeof Y||!Y)throw tZ.create("bad-app-name",{appName:String(Y)});if(F||(F=(0,f.F)()),!F)throw tZ.create("no-options");const j=ZZ.get(Y);if(j){if((0,f.A)(F,j.options)&&(0,f.A)(G,j.config))return j;throw tZ.create("duplicate-app",{appName:Y})}const d=new u.b(Y);for(const u of xZ.values())d.Wd(u);const t=new oZ(F,G,d);return ZZ.set(Y,t),t}function JZ(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;const x=ZZ.get(Z);if(!x&&Z===z&&(0,f.F)())return sZ();if(!x)throw tZ.create("no-app",{appName:Z});return x}function pZ(){return Array.from(ZZ.values())}async function UZ(Z){const x=Z.name;ZZ.has(x)&&(ZZ.delete(x),await Promise.all(Z.container.getProviders().map((Z=>Z.delete()))),Z.isDeleted=!0)}function kZ(Z,x,F){var G;let f=null!==(G=P[Z])&&void 0!==G?G:Z;F&&(f+=`-${F}`);const Y=f.match(/\s|\//),j=x.match(/\s|\//);if(Y||j){const Z=[`Unable to register library "${f}" with version "${x}":`];return Y&&Z.push(`library name "${f}" contains illegal characters (whitespace or "/")`),Y&&j&&Z.push("and"),j&&Z.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void q.warn(Z.join(" "))}GZ(new u.f(`${f}-version`,(()=>({library:f,version:x})),"VERSION"))}function MZ(Z,x){if(null!==Z&&"function"!==typeof Z)throw tZ.create("invalid-log-argument");(0,G.k)(Z,x)}function mZ(Z){(0,G.h)(Z)}const CZ="firebase-heartbeat-store";let LZ=null;function HZ(){return LZ||(LZ=function(Z,x){let{blocked:F,upgrade:u,blocking:G,terminated:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(Z,x),j=k(Y);return u&&Y.addEventListener("upgradeneeded",(Z=>{u(k(Y.result),Z.oldVersion,Z.newVersion,k(Y.transaction),Z)})),F&&Y.addEventListener("blocked",(Z=>F(Z.oldVersion,Z.newVersion,Z))),j.then((Z=>{f&&Z.addEventListener("close",(()=>f())),G&&Z.addEventListener("versionchange",(Z=>G(Z.oldVersion,Z.newVersion,Z)))})).catch((()=>{})),j}("firebase-heartbeat-database",1,{upgrade:(Z,x)=>{if(0===x)Z.createObjectStore(CZ)}}).catch((Z=>{throw tZ.create("idb-open",{originalErrorMessage:Z.message})}))),LZ}async function SZ(Z,x){try{const F=(await HZ()).transaction(CZ,"readwrite"),u=F.objectStore(CZ);await u.put(x,KZ(Z)),await F.done}catch(F){if(F instanceof f.j)q.warn(F.message);else{const Z=tZ.create("idb-set",{originalErrorMessage:null===F||void 0===F?void 0:F.message});q.warn(Z.message)}}}function KZ(Z){return`${Z.name}!${Z.options.appId}`}class yZ{constructor(Z){this.container=Z,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this.ds=new RZ(x),this._heartbeatsCachePromise=this.ds.read().then((Z=>(this._heartbeatsCache=Z,Z)))}async triggerHeartbeat(){const Z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),x=qZ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==x&&!this._heartbeatsCache.heartbeats.some((Z=>Z.date===x)))return this._heartbeatsCache.heartbeats.push({date:x,agent:Z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Z=>{const x=new Date(Z.date).valueOf();return Date.now()-x<=2592e6})),this.ds.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Z=qZ(),{heartbeatsToSend:x,unsentEntries:F}=function(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const F=[];let u=Z.slice();for(const G of Z){const Z=F.find((Z=>Z.agent===G.agent));if(Z){if(Z.dates.push(G.date),BZ(F)>x){Z.dates.pop();break}}else if(F.push({agent:G.agent,dates:[G.date]}),BZ(F)>x){F.pop();break}u=u.slice(1)}return{heartbeatsToSend:F,unsentEntries:u}}(this._heartbeatsCache.heartbeats),u=(0,f.r)(JSON.stringify({version:2,heartbeats:x}));return this._heartbeatsCache.lastSentHeartbeatDate=Z,F.length>0?(this._heartbeatsCache.heartbeats=F,await this.ds.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ds.overwrite(this._heartbeatsCache)),u}}function qZ(){return(new Date).toISOString().substring(0,10)}class RZ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,f.Y)()&&(0,f.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Z){try{const x=await HZ();return await x.transaction(CZ).objectStore(CZ).get(KZ(Z))}catch(x){if(x instanceof f.j)q.warn(x.message);else{const Z=tZ.create("idb-get",{originalErrorMessage:null===x||void 0===x?void 0:x.message});q.warn(Z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Z){var x;if(await this._canUseIndexedDBPromise){const F=await this.read();return SZ(this.app,{lastSentHeartbeatDate:null!==(x=Z.lastSentHeartbeatDate)&&void 0!==x?x:F.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var x;if(await this._canUseIndexedDBPromise){const F=await this.read();return SZ(this.app,{lastSentHeartbeatDate:null!==(x=Z.lastSentHeartbeatDate)&&void 0!==x?x:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...Z.heartbeats]})}}}function BZ(Z){return(0,f.r)(JSON.stringify({version:2,heartbeats:Z})).length}var vZ;vZ="",GZ(new u.f("platform-logger",(Z=>new S(Z)),"PRIVATE")),GZ(new u.f("heartbeat",(Z=>new yZ(Z)),"PRIVATE")),kZ(K,y,vZ),kZ(K,y,"esm2017"),kZ("fire-js","")},10969:(Z,x,F)=>{F.d(x,{b:()=>j,f:()=>G});var u=F(10976);class G{constructor(Z,x,F){this.name=Z,this.instanceFactory=x,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const f="[DEFAULT]";class Y{constructor(Z,x){this.name=Z,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const x=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(x)){const Z=new u.e;if(this.instancesDeferred.set(x,Z),this.isInitialized(x)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:x});F&&Z.resolve(F)}catch(F){}}return this.instancesDeferred.get(x).promise}getImmediate(Z){var x;const F=this.normalizeInstanceIdentifier(null===Z||void 0===Z?void 0:Z.identifier),u=null!==(x=null===Z||void 0===Z?void 0:Z.optional)&&void 0!==x&&x;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(u)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(G){if(u)return null;throw G}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function(Z){return"EAGER"===Z.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:f})}catch(x){}for(const[Z,F]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(Z);try{const Z=this.getOrInitializeService({instanceIdentifier:u});F.resolve(Z)}catch(x){}}}}clearInstance(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){const Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Z=>"INTERNAL"in Z)).map((Z=>Z.INTERNAL.delete())),...Z.filter((Z=>"_delete"in Z)).map((Z=>Z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(Z)}getOptions(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(Z)||{}}initialize(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:x={}}=Z,F=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(F))throw Error(`${this.name}(${F}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:F,options:x});for(const[G,f]of this.instancesDeferred.entries()){F===this.normalizeInstanceIdentifier(G)&&f.resolve(u)}return u}dc(Z,x){var F;const u=this.normalizeInstanceIdentifier(x),G=null!==(F=this.onInitCallbacks.get(u))&&void 0!==F?F:new Set;G.add(Z),this.onInitCallbacks.set(u,G);const f=this.instances.get(u);return f&&Z(f,u),()=>{G.delete(Z)}}invokeOnInitCallbacks(Z,x){const F=this.onInitCallbacks.get(x);if(F)for(const G of F)try{G(Z,x)}catch(u){}}getOrInitializeService(Z){let{instanceIdentifier:x,options:F={}}=Z,u=this.instances.get(x);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:(G=x,G===f?void 0:G),options:F}),this.instances.set(x,u),this.instancesOptions.set(x,F),this.invokeOnInitCallbacks(u,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,u)}catch(Y){}var G;return u||null}normalizeInstanceIdentifier(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?Z:f:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(Z){this.name=Z,this.providers=new Map}Wd(Z){const x=this.getProvider(Z.name);if(x.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);x.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.Wd(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const x=new Y(Z,this);return this.providers.set(Z,x),x}getProviders(){return Array.from(this.providers.values())}}},10980:(Z,x,F)=>{F.d(x,{d:()=>G,f:()=>t,h:()=>o,k:()=>c});const u=[];var G;!function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"}(G||(G={}));const f={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Y=G.INFO,j={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},d=function(Z,x){if(x<Z.logLevel)return;const F=(new Date).toISOString(),u=j[x];if(!u)throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`);for(var G=arguments.length,f=new Array(G>2?G-2:0),Y=2;Y<G;Y++)f[Y-2]=arguments[Y];console[u](`[${F}]  ${Z.name}:`,...f)};class t{constructor(Z){this.name=Z,this._logLevel=Y,this._logHandler=d,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in G))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"===typeof Z?f[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!==typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(){for(var Z=arguments.length,x=new Array(Z),F=0;F<Z;F++)x[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...x),this._logHandler(this,G.DEBUG,...x)}log(){for(var Z=arguments.length,x=new Array(Z),F=0;F<Z;F++)x[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...x),this._logHandler(this,G.VERBOSE,...x)}info(){for(var Z=arguments.length,x=new Array(Z),F=0;F<Z;F++)x[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,G.INFO,...x),this._logHandler(this,G.INFO,...x)}warn(){for(var Z=arguments.length,x=new Array(Z),F=0;F<Z;F++)x[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,G.WARN,...x),this._logHandler(this,G.WARN,...x)}error(){for(var Z=arguments.length,x=new Array(Z),F=0;F<Z;F++)x[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...x),this._logHandler(this,G.ERROR,...x)}}function o(Z){u.forEach((x=>{x.setLogLevel(Z)}))}function c(Z,x){for(const F of u){let u=null;x&&x.level&&(u=f[x.level]),F.userLogHandler=null===Z?null:function(x,F){for(var f=arguments.length,Y=new Array(f>2?f-2:0),j=2;j<f;j++)Y[j-2]=arguments[j];const d=Y.map((Z=>{if(null==Z)return null;if("string"===typeof Z)return Z;if("number"===typeof Z||"boolean"===typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch(x){return null}})).filter((Z=>Z)).join(" ");F>=(null!==u&&void 0!==u?u:x.logLevel)&&Z({level:G[F].toLowerCase(),message:d,args:Y,type:x.name})}}}}}]);