/*! For license information please see xy4hv.5.a2d66d1e.chunk.js.LICENSE.txt */
"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[5],{12255:(g,i,a)=>{a.d(i,{A:()=>C,D:()=>K,E:()=>I,H:()=>F,K:()=>j,O:()=>z,Q:()=>B,U:()=>D,Y:()=>f,_:()=>R,cb:()=>x,d:()=>y,e:()=>P,gb:()=>c,hb:()=>p,i:()=>v,lb:()=>V,m:()=>X,mb:()=>S,o:()=>k,ob:()=>E,s:()=>b,v:()=>O,w:()=>T});const n=function(g){const i=[];let a=0;for(let n=0;n<g.length;n++){let L=g.charCodeAt(n);L<128?i[a++]=L:L<2048?(i[a++]=L>>6|192,i[a++]=63&L|128):55296===(64512&L)&&n+1<g.length&&56320===(64512&g.charCodeAt(n+1))?(L=65536+((1023&L)<<10)+(1023&g.charCodeAt(++n)),i[a++]=L>>18|240,i[a++]=L>>12&63|128,i[a++]=L>>6&63|128,i[a++]=63&L|128):(i[a++]=L>>12|224,i[a++]=L>>6&63|128,i[a++]=63&L|128)}return i},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(g,i){if(!Array.isArray(g))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let L=0;L<g.length;L+=3){const i=g[L],d=L+1<g.length,b=d?g[L+1]:0,k=L+2<g.length,e=k?g[L+2]:0,N=i>>2,F=(3&i)<<4|b>>4;let I=(15&b)<<2|e>>6,j=63&e;k||(j=64,d||(I=64)),n.push(a[N],a[F],a[I],a[j])}return n.join("")},encodeString(g,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(g):this.encodeByteArray(n(g),i)},decodeString(g,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(g):function(g){const i=[];let a=0,n=0;for(;a<g.length;){const L=g[a++];if(L<128)i[n++]=String.fromCharCode(L);else if(L>191&&L<224){const d=g[a++];i[n++]=String.fromCharCode((31&L)<<6|63&d)}else if(L>239&&L<365){const d=((7&L)<<18|(63&g[a++])<<12|(63&g[a++])<<6|63&g[a++])-65536;i[n++]=String.fromCharCode(55296+(d>>10)),i[n++]=String.fromCharCode(56320+(1023&d))}else{const d=g[a++],b=g[a++];i[n++]=String.fromCharCode((15&L)<<12|(63&d)<<6|63&b)}}return i.join("")}(this.decodeStringToByteArray(g,i))},decodeStringToByteArray(g,i){this.init_();const a=i?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let L=0;L<g.length;){const i=a[g.charAt(L++)],b=L<g.length?a[g.charAt(L)]:0;++L;const k=L<g.length?a[g.charAt(L)]:64;++L;const e=L<g.length?a[g.charAt(L)]:64;if(++L,null==i||null==b||null==k||null==e)throw new d;const N=i<<2|b>>4;if(n.push(N),64!==k){const g=b<<4&240|k>>2;if(n.push(g),64!==e){const g=k<<6&192|e;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let g=0;g<this.ENCODED_VALS.length;g++)this.byteToCharMap_[g]=this.ENCODED_VALS.charAt(g),this.charToByteMap_[this.byteToCharMap_[g]]=g,this.byteToCharMapWebSafe_[g]=this.ENCODED_VALS_WEBSAFE.charAt(g),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[g]]=g,g>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(g)]=g,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(g)]=g)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(g){return function(g){const i=n(g);return L.encodeByteArray(i,!0)}(g).replace(/\./g,"")},k=function(g){try{return L.decodeString(g,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};const e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof a.g)return a.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,N=()=>{try{return e()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let g;try{g=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}const i=g&&k(g[1]);return i&&JSON.parse(i)})()}catch(g){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${g}`)}},F=g=>{var i,a;return null===(a=null===(i=N())||void 0===i?void 0:i.emulatorHosts)||void 0===a?void 0:a[g]},I=()=>{var g;return null===(g=N())||void 0===g?void 0:g.config},j=g=>{var i;return null===(i=N())||void 0===i?void 0:i[`_${g}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((g,i)=>{this.resolve=g,this.reject=i}))}wrapCallback(g){return(i,a)=>{i?this.reject(i):this.resolve(a),"function"===typeof g&&(this.promise.catch((()=>{})),1===g.length?g(i):g(i,a))}}}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())}function D(){const g="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof g&&void 0!==g.id}function p(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){const g=B();return g.indexOf("MSIE ")>=0||g.indexOf("Trident/")>=0}function x(){try{return"object"===typeof indexedDB}catch(g){return!1}}function E(){return new Promise(((g,i)=>{try{let a=!0;const n="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(n);L.onsuccess=()=>{L.result.close(),a||self.indexedDB.deleteDatabase(n),g(!0)},L.onupgradeneeded=()=>{a=!1},L.onerror=()=>{var g;i((null===(g=L.error)||void 0===g?void 0:g.message)||"")}}catch(a){i(a)}}))}function X(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class v extends Error{constructor(g,i,a){super(i),this.code=g,this.customData=a,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(g,i,a){this.service=g,this.serviceName=i,this.errors=a}create(g){const i=(arguments.length<=1?void 0:arguments[1])||{},a=`${this.service}/${g}`,n=this.errors[g],L=n?function(g,i){return g.replace(Y,((g,a)=>{const n=i[a];return null!=n?String(n):`<${a}?>`}))}(n,i):"Error",d=`${this.serviceName}: ${L} (${a}).`;return new v(a,d,i)}}const Y=/\{\$([^}]+)}/g;function f(g){for(const i in g)if(Object.prototype.hasOwnProperty.call(g,i))return!1;return!0}function C(g,i){if(g===i)return!0;const a=Object.keys(g),n=Object.keys(i);for(const L of a){if(!n.includes(L))return!1;const a=g[L],d=i[L];if(U(a)&&U(d)){if(!C(a,d))return!1}else if(a!==d)return!1}for(const L of n)if(!a.includes(L))return!1;return!0}function U(g){return null!==g&&"object"===typeof g}function S(g){const i=[];for(const[a,n]of Object.entries(g))Array.isArray(n)?n.forEach((g=>{i.push(encodeURIComponent(a)+"="+encodeURIComponent(g))})):i.push(encodeURIComponent(a)+"="+encodeURIComponent(n));return i.length?"&"+i.join("&"):""}function V(g){const i={};return g.replace(/^\?/,"").split("&").forEach((g=>{if(g){const[a,n]=g.split("=");i[decodeURIComponent(a)]=decodeURIComponent(n)}})),i}function K(g){const i=g.indexOf("?");if(!i)return"";const a=g.indexOf("#",i);return g.substring(i,a>0?a:void 0)}function T(g,i){const a=new l(g,i);return a.subscribe.bind(a)}class l{constructor(g,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then((()=>{g(this)})).catch((g=>{this.error(g)}))}next(g){this.forEachObserver((i=>{i.next(g)}))}error(g){this.forEachObserver((i=>{i.error(g)})),this.close(g)}complete(){this.forEachObserver((g=>{g.complete()})),this.close()}subscribe(g,i,a){let n;if(void 0===g&&void 0===i&&void 0===a)throw new Error("Missing Observer.");n=function(g,i){if("object"!==typeof g||null===g)return!1;for(const a of i)if(a in g&&"function"===typeof g[a])return!0;return!1}(g,["next","error","complete"])?g:{next:g,error:i,complete:a},void 0===n.next&&(n.next=Z),void 0===n.error&&(n.error=Z),void 0===n.complete&&(n.complete=Z);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(g){}})),this.observers.push(n),L}unsubscribeOne(g){void 0!==this.observers&&void 0!==this.observers[g]&&(delete this.observers[g],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(g){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,g)}sendOne(g,i){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[g])try{i(this.observers[g])}catch(a){"undefined"!==typeof console&&console.error&&console.error(a)}}))}close(g){this.finalized||(this.finalized=!0,void 0!==g&&(this.finalError=g),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Z(){}const h=1e3,w=2,t=144e5,A=.5;function O(g){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;const a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(i,g),n=Math.round(A*a*(Math.random()-.5)*2);return Math.min(t,a+n)}function z(g){return g&&g._delegate?g._delegate:g}},12243:(g,i,a)=>{a.d(i,{e:()=>d.i,i:()=>Ig,l:()=>G,m:()=>ag,o:()=>ng,p:()=>gg,q:()=>kg,t:()=>ig,w:()=>dg,A:()=>Lg,D:()=>bg,E:()=>cg,I:()=>yg,G:()=>Bg,K:()=>jg,M:()=>pg,P:()=>Dg,T:()=>Rg});var n=a(12249),L=a(12263),d=a(12255);let b,k;const e=new WeakMap,N=new WeakMap,F=new WeakMap,I=new WeakMap,j=new WeakMap;let y={get(g,i,a){if(g instanceof IDBTransaction){if("done"===i)return N.get(g);if("objectStoreNames"===i)return g.objectStoreNames||F.get(g);if("store"===i)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return D(g[i])},set:(g,i,a)=>(g[i]=a,!0),has:(g,i)=>g instanceof IDBTransaction&&("done"===i||"store"===i)||i in g};function B(g){return g!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(g)?function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return g.apply(p(this),a),D(e.get(this))}:function(){for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return D(g.apply(p(this),a))}:function(i){for(var a=arguments.length,n=new Array(a>1?a-1:0),L=1;L<a;L++)n[L-1]=arguments[L];const d=g.call(p(this),i,...n);return F.set(d,i.sort?i.sort():[i]),D(d)}}function c(g){return"function"===typeof g?B(g):(g instanceof IDBTransaction&&function(g){if(N.has(g))return;const i=new Promise(((i,a)=>{const n=()=>{g.removeEventListener("complete",L),g.removeEventListener("error",d),g.removeEventListener("abort",d)},L=()=>{i(),n()},d=()=>{a(g.error||new DOMException("AbortError","AbortError")),n()};g.addEventListener("complete",L),g.addEventListener("error",d),g.addEventListener("abort",d)}));N.set(g,i)}(g),i=g,(b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((g=>i instanceof g))?new Proxy(g,y):g);var i}function D(g){if(g instanceof IDBRequest)return function(g){const i=new Promise(((i,a)=>{const n=()=>{g.removeEventListener("success",L),g.removeEventListener("error",d)},L=()=>{i(D(g.result)),n()},d=()=>{a(g.error),n()};g.addEventListener("success",L),g.addEventListener("error",d)}));return i.then((i=>{i instanceof IDBCursor&&e.set(i,g)})).catch((()=>{})),j.set(i,g),i}(g);if(I.has(g))return I.get(g);const i=c(g);return i!==g&&(I.set(g,i),j.set(i,g)),i}const p=g=>j.get(g);const R=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],E=new Map;function X(g,i){if(!(g instanceof IDBDatabase)||i in g||"string"!==typeof i)return;if(E.get(i))return E.get(i);const a=i.replace(/FromIndex$/,""),n=i!==a,L=x.includes(a);if(!(a in(n?IDBIndex:IDBObjectStore).prototype)||!L&&!R.includes(a))return;const d=async function(g){const i=this.transaction(g,L?"readwrite":"readonly");let d=i.store;for(var b=arguments.length,k=new Array(b>1?b-1:0),e=1;e<b;e++)k[e-1]=arguments[e];return n&&(d=d.index(k.shift())),(await Promise.all([d[a](...k),L&&i.done]))[0]};return E.set(i,d),d}y=(g=>({...g,get:(i,a,n)=>X(i,a)||g.get(i,a,n),has:(i,a)=>!!X(i,a)||g.has(i,a)}))(y);class v{constructor(g){this.container=g}getPlatformInfoString(){return this.container.getProviders().map((g=>{if(function(g){const i=g.getComponent();return"VERSION"===(null===i||void 0===i?void 0:i.type)}(g)){const i=g.getImmediate();return`${i.library}/${i.version}`}return null})).filter((g=>g)).join(" ")}}const P="@firebase/app",Y="0.9.13",f=new L.c("@firebase/app"),C="@firebase/app-compat",U="@firebase/analytics-compat",S="@firebase/analytics",V="@firebase/app-check-compat",K="@firebase/app-check",T="@firebase/auth",l="@firebase/auth-compat",Z="@firebase/database",h="@firebase/database-compat",w="@firebase/functions",t="@firebase/functions-compat",A="@firebase/installations",O="@firebase/installations-compat",z="@firebase/messaging",s="@firebase/messaging-compat",mg="@firebase/performance",r="@firebase/performance-compat",Q="@firebase/remote-config",o="@firebase/remote-config-compat",u="@firebase/storage",H="@firebase/storage-compat",M="@firebase/firestore",q="@firebase/firestore-compat",W="firebase",G="[DEFAULT]",J={[P]:"fire-core",[C]:"fire-core-compat",[S]:"fire-analytics",[U]:"fire-analytics-compat",[K]:"fire-app-check",[V]:"fire-app-check-compat",[T]:"fire-auth",[l]:"fire-auth-compat",[Z]:"fire-rtdb",[h]:"fire-rtdb-compat",[w]:"fire-fn",[t]:"fire-fn-compat",[A]:"fire-iid",[O]:"fire-iid-compat",[z]:"fire-fcm",[s]:"fire-fcm-compat",[mg]:"fire-perf",[r]:"fire-perf-compat",[Q]:"fire-rc",[o]:"fire-rc-compat",[u]:"fire-gcs",[H]:"fire-gcs-compat",[M]:"fire-fst",[q]:"fire-fst-compat","fire-js":"fire-js",[W]:"fire-js-all"},gg=new Map,ig=new Map;function ag(g,i){try{g.container.AN(i)}catch(a){f.debug(`Component ${i.name} failed to register with FirebaseApp ${g.name}`,a)}}function ng(g,i){g.container.addOrOverwriteComponent(i)}function Lg(g){const i=g.name;if(ig.has(i))return f.debug(`There were multiple attempts to register component ${i}.`),!1;ig.set(i,g);for(const a of gg.values())ag(a,g);return!0}function dg(g,i){const a=g.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),g.container.getProvider(i)}function bg(g,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;dg(g,i).clearInstance(a)}function kg(){ig.clear()}const eg={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ng=new d.e("app","Firebase",eg);class Fg{constructor(g,i,a){this._isDeleted=!1,this._options=Object.assign({},g),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.AN(new n.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(g){this.checkDestroyed(),this._automaticDataCollectionEnabled=g}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(g){this._isDeleted=g}checkDestroyed(){if(this.isDeleted)throw Ng.create("app-deleted",{appName:this._name})}}const Ig="9.23.0";function jg(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=g;if("object"!==typeof i){i={name:i}}const L=Object.assign({name:G,automaticDataCollectionEnabled:!1},i),b=L.name;if("string"!==typeof b||!b)throw Ng.create("bad-app-name",{appName:String(b)});if(a||(a=(0,d.E)()),!a)throw Ng.create("no-options");const k=gg.get(b);if(k){if((0,d.A)(a,k.options)&&(0,d.A)(L,k.config))return k;throw Ng.create("duplicate-app",{appName:b})}const e=new n.c(b);for(const n of ig.values())e.AN(n);const N=new Fg(a,L,e);return gg.set(b,N),N}function yg(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;const i=gg.get(g);if(!i&&g===G&&(0,d.E)())return jg();if(!i)throw Ng.create("no-app",{appName:g});return i}function Bg(){return Array.from(gg.values())}async function cg(g){const i=g.name;gg.has(i)&&(gg.delete(i),await Promise.all(g.container.getProviders().map((g=>g.delete()))),g.isDeleted=!0)}function Dg(g,i,a){var L;let d=null!==(L=J[g])&&void 0!==L?L:g;a&&(d+=`-${a}`);const b=d.match(/\s|\//),k=i.match(/\s|\//);if(b||k){const g=[`Unable to register library "${d}" with version "${i}":`];return b&&g.push(`library name "${d}" contains illegal characters (whitespace or "/")`),b&&k&&g.push("and"),k&&g.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void f.warn(g.join(" "))}Lg(new n.g(`${d}-version`,(()=>({library:d,version:i})),"VERSION"))}function pg(g,i){if(null!==g&&"function"!==typeof g)throw Ng.create("invalid-log-argument");(0,L.h)(g,i)}function Rg(g){(0,L.f)(g)}const xg="firebase-heartbeat-store";let Eg=null;function Xg(){return Eg||(Eg=function(g,i){let{blocked:a,upgrade:n,blocking:L,terminated:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const b=indexedDB.open(g,i),k=D(b);return n&&b.addEventListener("upgradeneeded",(g=>{n(D(b.result),g.oldVersion,g.newVersion,D(b.transaction),g)})),a&&b.addEventListener("blocked",(g=>a(g.oldVersion,g.newVersion,g))),k.then((g=>{d&&g.addEventListener("close",(()=>d())),L&&g.addEventListener("versionchange",(g=>L(g.oldVersion,g.newVersion,g)))})).catch((()=>{})),k}("firebase-heartbeat-database",1,{upgrade:(g,i)=>{if(0===i)g.createObjectStore(xg)}}).catch((g=>{throw Ng.create("idb-open",{originalErrorMessage:g.message})}))),Eg}async function vg(g,i){try{const a=(await Xg()).transaction(xg,"readwrite"),n=a.objectStore(xg);await n.put(i,Pg(g)),await a.done}catch(a){if(a instanceof d.i)f.warn(a.message);else{const g=Ng.create("idb-set",{originalErrorMessage:null===a||void 0===a?void 0:a.message});f.warn(g.message)}}}function Pg(g){return`${g.name}!${g.options.appId}`}class Yg{constructor(g){this.container=g,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this.yj=new Cg(i),this._heartbeatsCachePromise=this.yj.read().then((g=>(this._heartbeatsCache=g,g)))}async triggerHeartbeat(){const g=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fg();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((g=>g.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:g}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((g=>{const i=new Date(g.date).valueOf();return Date.now()-i<=2592e6})),this.yj.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const g=fg(),{heartbeatsToSend:i,unsentEntries:a}=function(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const a=[];let n=g.slice();for(const L of g){const g=a.find((g=>g.agent===L.agent));if(g){if(g.dates.push(L.date),Ug(a)>i){g.dates.pop();break}}else if(a.push({agent:L.agent,dates:[L.date]}),Ug(a)>i){a.pop();break}n=n.slice(1)}return{heartbeatsToSend:a,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=(0,d.s)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=g,a.length>0?(this._heartbeatsCache.heartbeats=a,await this.yj.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.yj.overwrite(this._heartbeatsCache)),n}}function fg(){return(new Date).toISOString().substring(0,10)}class Cg{constructor(g){this.app=g,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,d.cb)()&&(0,d.ob)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(g){try{const i=await Xg();return await i.transaction(xg).objectStore(xg).get(Pg(g))}catch(i){if(i instanceof d.i)f.warn(i.message);else{const g=Ng.create("idb-get",{originalErrorMessage:null===i||void 0===i?void 0:i.message});f.warn(g.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(g){var i;if(await this._canUseIndexedDBPromise){const a=await this.read();return vg(this.app,{lastSentHeartbeatDate:null!==(i=g.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:g.heartbeats})}}async add(g){var i;if(await this._canUseIndexedDBPromise){const a=await this.read();return vg(this.app,{lastSentHeartbeatDate:null!==(i=g.lastSentHeartbeatDate)&&void 0!==i?i:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...g.heartbeats]})}}}function Ug(g){return(0,d.s)(JSON.stringify({version:2,heartbeats:g})).length}var Sg;Sg="",Lg(new n.g("platform-logger",(g=>new v(g)),"PRIVATE")),Lg(new n.g("heartbeat",(g=>new Yg(g)),"PRIVATE")),Dg(P,Y,Sg),Dg(P,Y,"esm2017"),Dg("fire-js","")},12249:(g,i,a)=>{a.d(i,{c:()=>k,g:()=>L});var n=a(12255);class L{constructor(g,i,a){this.name=g,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(g){return this.instantiationMode=g,this}setMultipleInstances(g){return this.multipleInstances=g,this}setServiceProps(g){return this.serviceProps=g,this}setInstanceCreatedCallback(g){return this.onInstanceCreated=g,this}}const d="[DEFAULT]";class b{constructor(g,i){this.name=g,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(g){const i=this.normalizeInstanceIdentifier(g);if(!this.instancesDeferred.has(i)){const g=new n.d;if(this.instancesDeferred.set(i,g),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&g.resolve(a)}catch(a){}}return this.instancesDeferred.get(i).promise}getImmediate(g){var i;const a=this.normalizeInstanceIdentifier(null===g||void 0===g?void 0:g.identifier),n=null!==(i=null===g||void 0===g?void 0:g.optional)&&void 0!==i&&i;if(!this.isInitialized(a)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a})}catch(L){if(n)return null;throw L}}getComponent(){return this.component}setComponent(g){if(g.name!==this.name)throw Error(`Mismatching Component ${g.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=g,this.shouldAutoInitialize()){if(function(g){return"EAGER"===g.instantiationMode}(g))try{this.getOrInitializeService({instanceIdentifier:d})}catch(i){}for(const[g,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(g);try{const g=this.getOrInitializeService({instanceIdentifier:n});a.resolve(g)}catch(i){}}}}clearInstance(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(g),this.instancesOptions.delete(g),this.instances.delete(g)}async delete(){const g=Array.from(this.instances.values());await Promise.all([...g.filter((g=>"INTERNAL"in g)).map((g=>g.INTERNAL.delete())),...g.filter((g=>"_delete"in g)).map((g=>g._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(g)}getOptions(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(g)||{}}initialize(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:i={}}=g,a=this.normalizeInstanceIdentifier(g.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[L,d]of this.instancesDeferred.entries()){a===this.normalizeInstanceIdentifier(L)&&d.resolve(n)}return n}oI(g,i){var a;const n=this.normalizeInstanceIdentifier(i),L=null!==(a=this.onInitCallbacks.get(n))&&void 0!==a?a:new Set;L.add(g),this.onInitCallbacks.set(n,L);const d=this.instances.get(n);return d&&g(d,n),()=>{L.delete(g)}}invokeOnInitCallbacks(g,i){const a=this.onInitCallbacks.get(i);if(a)for(const L of a)try{L(g,i)}catch(n){}}getOrInitializeService(g){let{instanceIdentifier:i,options:a={}}=g,n=this.instances.get(i);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(L=i,L===d?void 0:L),options:a}),this.instances.set(i,n),this.instancesOptions.set(i,a),this.invokeOnInitCallbacks(n,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,n)}catch(b){}var L;return n||null}normalizeInstanceIdentifier(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?g:d:g}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class k{constructor(g){this.name=g,this.providers=new Map}AN(g){const i=this.getProvider(g.name);if(i.isComponentSet())throw new Error(`Component ${g.name} has already been registered with ${this.name}`);i.setComponent(g)}addOrOverwriteComponent(g){this.getProvider(g.name).isComponentSet()&&this.providers.delete(g.name),this.AN(g)}getProvider(g){if(this.providers.has(g))return this.providers.get(g);const i=new b(g,this);return this.providers.set(g,i),i}getProviders(){return Array.from(this.providers.values())}}},12263:(g,i,a)=>{a.d(i,{b:()=>L,c:()=>N,f:()=>F,h:()=>I});const n=[];var L;!function(g){g[g.DEBUG=0]="DEBUG",g[g.VERBOSE=1]="VERBOSE",g[g.INFO=2]="INFO",g[g.WARN=3]="WARN",g[g.ERROR=4]="ERROR",g[g.SILENT=5]="SILENT"}(L||(L={}));const d={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},b=L.INFO,k={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},e=function(g,i){if(i<g.logLevel)return;const a=(new Date).toISOString(),n=k[i];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);for(var L=arguments.length,d=new Array(L>2?L-2:0),b=2;b<L;b++)d[b-2]=arguments[b];console[n](`[${a}]  ${g.name}:`,...d)};class N{constructor(g){this.name=g,this._logLevel=b,this._logHandler=e,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(g){if(!(g in L))throw new TypeError(`Invalid value "${g}" assigned to \`logLevel\``);this._logLevel=g}setLogLevel(g){this._logLevel="string"===typeof g?d[g]:g}get logHandler(){return this._logHandler}set logHandler(g){if("function"!==typeof g)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=g}get userLogHandler(){return this._userLogHandler}set userLogHandler(g){this._userLogHandler=g}debug(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...i),this._logHandler(this,L.DEBUG,...i)}log(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...i),this._logHandler(this,L.VERBOSE,...i)}info(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,L.INFO,...i),this._logHandler(this,L.INFO,...i)}warn(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,L.WARN,...i),this._logHandler(this,L.WARN,...i)}error(){for(var g=arguments.length,i=new Array(g),a=0;a<g;a++)i[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,L.ERROR,...i),this._logHandler(this,L.ERROR,...i)}}function F(g){n.forEach((i=>{i.setLogLevel(g)}))}function I(g,i){for(const a of n){let n=null;i&&i.level&&(n=d[i.level]),a.userLogHandler=null===g?null:function(i,a){for(var d=arguments.length,b=new Array(d>2?d-2:0),k=2;k<d;k++)b[k-2]=arguments[k];const e=b.map((g=>{if(null==g)return null;if("string"===typeof g)return g;if("number"===typeof g||"boolean"===typeof g)return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(i){return null}})).filter((g=>g)).join(" ");a>=(null!==n&&void 0!==n?n:i.logLevel)&&g({level:L[a].toLowerCase(),message:e,args:b,type:i.name})}}}}}]);