/*! For license information please see 7t1n9t.5.5dbc4275.chunk.js.LICENSE.txt */
"use strict";(self.bbj0x35f849=self.bbj0x35f849||[]).push([[5],{10924:(N,q,C)=>{C.d(q,{$:()=>Q,A:()=>p,E:()=>M,I:()=>t,J:()=>n,L:()=>V,P:()=>c,R:()=>J,S:()=>v,U:()=>z,X:()=>O,Y:()=>K,db:()=>r,e:()=>Z,gb:()=>P,h:()=>l,k:()=>j,kb:()=>X,m:()=>I,ob:()=>i,q:()=>F,r:()=>a,t:()=>D,x:()=>Y});const d=function(N){const q=[];let C=0;for(let d=0;d<N.length;d++){let U=N.charCodeAt(d);U<128?q[C++]=U:U<2048?(q[C++]=U>>6|192,q[C++]=63&U|128):55296===(64512&U)&&d+1<N.length&&56320===(64512&N.charCodeAt(d+1))?(U=65536+((1023&U)<<10)+(1023&N.charCodeAt(++d)),q[C++]=U>>18|240,q[C++]=U>>12&63|128,q[C++]=U>>6&63|128,q[C++]=63&U|128):(q[C++]=U>>12|224,q[C++]=U>>6&63|128,q[C++]=63&U|128)}return q},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(N,q){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let U=0;U<N.length;U+=3){const q=N[U],W=U+1<N.length,a=W?N[U+1]:0,F=U+2<N.length,w=F?N[U+2]:0,A=q>>2,n=(3&q)<<4|a>>4;let t=(15&a)<<2|w>>6,V=63&w;F||(V=64,W||(t=64)),d.push(C[A],C[n],C[t],C[V])}return d.join("")},encodeString(N,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(N):this.encodeByteArray(d(N),q)},decodeString(N,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(N):function(N){const q=[];let C=0,d=0;for(;C<N.length;){const U=N[C++];if(U<128)q[d++]=String.fromCharCode(U);else if(U>191&&U<224){const W=N[C++];q[d++]=String.fromCharCode((31&U)<<6|63&W)}else if(U>239&&U<365){const W=((7&U)<<18|(63&N[C++])<<12|(63&N[C++])<<6|63&N[C++])-65536;q[d++]=String.fromCharCode(55296+(W>>10)),q[d++]=String.fromCharCode(56320+(1023&W))}else{const W=N[C++],a=N[C++];q[d++]=String.fromCharCode((15&U)<<12|(63&W)<<6|63&a)}}return q.join("")}(this.decodeStringToByteArray(N,q))},decodeStringToByteArray(N,q){this.init_();const C=q?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let U=0;U<N.length;){const q=C[N.charAt(U++)],a=U<N.length?C[N.charAt(U)]:0;++U;const F=U<N.length?C[N.charAt(U)]:64;++U;const w=U<N.length?C[N.charAt(U)]:64;if(++U,null==q||null==a||null==F||null==w)throw new W;const A=q<<2|a>>4;if(d.push(A),64!==F){const N=a<<4&240|F>>2;if(d.push(N),64!==w){const N=F<<6&192|w;d.push(N)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(N){return function(N){const q=d(N);return U.encodeByteArray(q,!0)}(N).replace(/\./g,"")},F=function(N){try{return U.decodeString(N,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};const w=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,A=()=>{try{return w()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const q=N&&F(N[1]);return q&&JSON.parse(q)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},n=N=>{var q,C;return null===(C=null===(q=A())||void 0===q?void 0:q.emulatorHosts)||void 0===C?void 0:C[N]},t=()=>{var N;return null===(N=A())||void 0===N?void 0:N.config},V=N=>{var q;return null===(q=A())||void 0===q?void 0:q[`_${N}`]};class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((N,q)=>{this.resolve=N,this.reject=q}))}wrapCallback(N){return(q,C)=>{q?this.reject(q):this.resolve(C),"function"===typeof N&&(this.promise.catch((()=>{})),1===N.length?N(q):N(q,C))}}}function J(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function v(){const N="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof N&&void 0!==N.id}function r(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){const N=J();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function K(){try{return"object"===typeof indexedDB}catch(N){return!1}}function i(){return new Promise(((N,q)=>{try{let C=!0;const d="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(d);U.onsuccess=()=>{U.result.close(),C||self.indexedDB.deleteDatabase(d),N(!0)},U.onupgradeneeded=()=>{C=!1},U.onerror=()=>{var N;q((null===(N=U.error)||void 0===N?void 0:N.message)||"")}}catch(C){q(C)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class j extends Error{constructor(N,q,C){super(q),this.code=N,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(N,q,C){this.service=N,this.serviceName=q,this.errors=C}create(N){const q=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${N}`,d=this.errors[N],U=d?function(N,q){return N.replace(T,((N,C)=>{const d=q[C];return null!=d?String(d):`<${C}?>`}))}(d,q):"Error",W=`${this.serviceName}: ${U} (${C}).`;return new j(C,W,q)}}const T=/\{\$([^}]+)}/g;function z(N){for(const q in N)if(Object.prototype.hasOwnProperty.call(N,q))return!1;return!0}function p(N,q){if(N===q)return!0;const C=Object.keys(N),d=Object.keys(q);for(const U of C){if(!d.includes(U))return!1;const C=N[U],W=q[U];if(s(C)&&s(W)){if(!p(C,W))return!1}else if(C!==W)return!1}for(const U of d)if(!C.includes(U))return!1;return!0}function s(N){return null!==N&&"object"===typeof N}function X(N){const q=[];for(const[C,d]of Object.entries(N))Array.isArray(d)?d.forEach((N=>{q.push(encodeURIComponent(C)+"="+encodeURIComponent(N))})):q.push(encodeURIComponent(C)+"="+encodeURIComponent(d));return q.length?"&"+q.join("&"):""}function P(N){const q={};return N.replace(/^\?/,"").split("&").forEach((N=>{if(N){const[C,d]=N.split("=");q[decodeURIComponent(C)]=decodeURIComponent(d)}})),q}function M(N){const q=N.indexOf("?");if(!q)return"";const C=N.indexOf("#",q);return N.substring(q,C>0?C:void 0)}function Y(N,q){const C=new E(N,q);return C.subscribe.bind(C)}class E{constructor(N,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then((()=>{N(this)})).catch((N=>{this.error(N)}))}next(N){this.forEachObserver((q=>{q.next(N)}))}error(N){this.forEachObserver((q=>{q.error(N)})),this.close(N)}complete(){this.forEachObserver((N=>{N.complete()})),this.close()}subscribe(N,q,C){let d;if(void 0===N&&void 0===q&&void 0===C)throw new Error("Missing Observer.");d=function(N,q){if("object"!==typeof N||null===N)return!1;for(const C of q)if(C in N&&"function"===typeof N[C])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:q,complete:C},void 0===d.next&&(d.next=H),void 0===d.error&&(d.error=H),void 0===d.complete&&(d.complete=H);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch(N){}})),this.observers.push(d),U}unsubscribeOne(N){void 0!==this.observers&&void 0!==this.observers[N]&&(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,N)}sendOne(N,q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{q(this.observers[N])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function H(){}const e=1e3,b=2,o=144e5,S=.5;function D(N){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e)*Math.pow(q,N),d=Math.round(S*C*(Math.random()-.5)*2);return Math.min(o,C+d)}function c(N){return N&&N._delegate?N._delegate:N}},10914:(N,q,C)=>{C.d(q,{b:()=>W.k,e:()=>tN,f:()=>g,i:()=>CN,l:()=>dN,o:()=>NN,r:()=>FN,s:()=>qN,u:()=>WN,x:()=>UN,y:()=>aN,z:()=>QN,D:()=>ZN,A:()=>JN,H:()=>VN,K:()=>rN,O:()=>vN,S:()=>ON});var d=C(10921),U=C(10932),W=C(10924);let a,F;const w=new WeakMap,A=new WeakMap,n=new WeakMap,t=new WeakMap,V=new WeakMap;let Z={get(N,q,C){if(N instanceof IDBTransaction){if("done"===q)return A.get(N);if("objectStoreNames"===q)return N.objectStoreNames||n.get(N);if("store"===q)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return v(N[q])},set:(N,q,C)=>(N[q]=C,!0),has:(N,q)=>N instanceof IDBTransaction&&("done"===q||"store"===q)||q in N};function J(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(N)?function(){for(var q=arguments.length,C=new Array(q),d=0;d<q;d++)C[d]=arguments[d];return N.apply(r(this),C),v(w.get(this))}:function(){for(var q=arguments.length,C=new Array(q),d=0;d<q;d++)C[d]=arguments[d];return v(N.apply(r(this),C))}:function(q){for(var C=arguments.length,d=new Array(C>1?C-1:0),U=1;U<C;U++)d[U-1]=arguments[U];const W=N.call(r(this),q,...d);return n.set(W,q.sort?q.sort():[q]),v(W)}}function Q(N){return"function"===typeof N?J(N):(N instanceof IDBTransaction&&function(N){if(A.has(N))return;const q=new Promise(((q,C)=>{const d=()=>{N.removeEventListener("complete",U),N.removeEventListener("error",W),N.removeEventListener("abort",W)},U=()=>{q(),d()},W=()=>{C(N.error||new DOMException("AbortError","AbortError")),d()};N.addEventListener("complete",U),N.addEventListener("error",W),N.addEventListener("abort",W)}));A.set(N,q)}(N),q=N,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((N=>q instanceof N))?new Proxy(N,Z):N);var q}function v(N){if(N instanceof IDBRequest)return function(N){const q=new Promise(((q,C)=>{const d=()=>{N.removeEventListener("success",U),N.removeEventListener("error",W)},U=()=>{q(v(N.result)),d()},W=()=>{C(N.error),d()};N.addEventListener("success",U),N.addEventListener("error",W)}));return q.then((q=>{q instanceof IDBCursor&&w.set(q,N)})).catch((()=>{})),V.set(q,N),q}(N);if(t.has(N))return t.get(N);const q=Q(N);return q!==N&&(t.set(N,q),V.set(q,N)),q}const r=N=>V.get(N);const O=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],i=new Map;function I(N,q){if(!(N instanceof IDBDatabase)||q in N||"string"!==typeof q)return;if(i.get(q))return i.get(q);const C=q.replace(/FromIndex$/,""),d=q!==C,U=K.includes(C);if(!(C in(d?IDBIndex:IDBObjectStore).prototype)||!U&&!O.includes(C))return;const W=async function(N){const q=this.transaction(N,U?"readwrite":"readonly");let W=q.store;for(var a=arguments.length,F=new Array(a>1?a-1:0),w=1;w<a;w++)F[w-1]=arguments[w];return d&&(W=W.index(F.shift())),(await Promise.all([W[C](...F),U&&q.done]))[0]};return i.set(q,W),W}Z=(N=>({...N,get:(q,C,d)=>I(q,C)||N.get(q,C,d),has:(q,C)=>!!I(q,C)||N.has(q,C)}))(Z);class j{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map((N=>{if(function(N){const q=N.getComponent();return"VERSION"===(null===q||void 0===q?void 0:q.type)}(N)){const q=N.getImmediate();return`${q.library}/${q.version}`}return null})).filter((N=>N)).join(" ")}}const l="@firebase/app",T="0.9.13",z=new U.h("@firebase/app"),p="@firebase/app-compat",s="@firebase/analytics-compat",X="@firebase/analytics",P="@firebase/app-check-compat",M="@firebase/app-check",Y="@firebase/auth",E="@firebase/auth-compat",H="@firebase/database",e="@firebase/database-compat",b="@firebase/functions",o="@firebase/functions-compat",S="@firebase/installations",D="@firebase/installations-compat",c="@firebase/messaging",L="@firebase/messaging-compat",G="@firebase/performance",h="@firebase/performance-compat",B="@firebase/remote-config",y="@firebase/remote-config-compat",R="@firebase/storage",u="@firebase/storage-compat",m="@firebase/firestore",f="@firebase/firestore-compat",k="firebase",g="[DEFAULT]",x={[l]:"fire-core",[p]:"fire-core-compat",[X]:"fire-analytics",[s]:"fire-analytics-compat",[M]:"fire-app-check",[P]:"fire-app-check-compat",[Y]:"fire-auth",[E]:"fire-auth-compat",[H]:"fire-rtdb",[e]:"fire-rtdb-compat",[b]:"fire-fn",[o]:"fire-fn-compat",[S]:"fire-iid",[D]:"fire-iid-compat",[c]:"fire-fcm",[L]:"fire-fcm-compat",[G]:"fire-perf",[h]:"fire-perf-compat",[B]:"fire-rc",[y]:"fire-rc-compat",[R]:"fire-gcs",[u]:"fire-gcs-compat",[m]:"fire-fst",[f]:"fire-fst-compat","fire-js":"fire-js",[k]:"fire-js-all"},NN=new Map,qN=new Map;function CN(N,q){try{N.container.Xw(q)}catch(C){z.debug(`Component ${q.name} failed to register with FirebaseApp ${N.name}`,C)}}function dN(N,q){N.container.addOrOverwriteComponent(q)}function UN(N){const q=N.name;if(qN.has(q))return z.debug(`There were multiple attempts to register component ${q}.`),!1;qN.set(q,N);for(const C of NN.values())CN(C,N);return!0}function WN(N,q){const C=N.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),N.container.getProvider(q)}function aN(N,q){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;WN(N,q).clearInstance(C)}function FN(){qN.clear()}const wN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},AN=new W.h("app","Firebase",wN);class nN{constructor(N,q,C){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=C,this.container.Xw(new d.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw AN.create("app-deleted",{appName:this._name})}}const tN="9.23.0";function VN(N){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=N;if("object"!==typeof q){q={name:q}}const U=Object.assign({name:g,automaticDataCollectionEnabled:!1},q),a=U.name;if("string"!==typeof a||!a)throw AN.create("bad-app-name",{appName:String(a)});if(C||(C=(0,W.I)()),!C)throw AN.create("no-options");const F=NN.get(a);if(F){if((0,W.A)(C,F.options)&&(0,W.A)(U,F.config))return F;throw AN.create("duplicate-app",{appName:a})}const w=new d.b(a);for(const d of qN.values())w.Xw(d);const A=new nN(C,U,w);return NN.set(a,A),A}function ZN(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;const q=NN.get(N);if(!q&&N===g&&(0,W.I)())return VN();if(!q)throw AN.create("no-app",{appName:N});return q}function JN(){return Array.from(NN.values())}async function QN(N){const q=N.name;NN.has(q)&&(NN.delete(q),await Promise.all(N.container.getProviders().map((N=>N.delete()))),N.isDeleted=!0)}function vN(N,q,C){var U;let W=null!==(U=x[N])&&void 0!==U?U:N;C&&(W+=`-${C}`);const a=W.match(/\s|\//),F=q.match(/\s|\//);if(a||F){const N=[`Unable to register library "${W}" with version "${q}":`];return a&&N.push(`library name "${W}" contains illegal characters (whitespace or "/")`),a&&F&&N.push("and"),F&&N.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void z.warn(N.join(" "))}UN(new d.d(`${W}-version`,(()=>({library:W,version:q})),"VERSION"))}function rN(N,q){if(null!==N&&"function"!==typeof N)throw AN.create("invalid-log-argument");(0,U.k)(N,q)}function ON(N){(0,U.i)(N)}const KN="firebase-heartbeat-store";let iN=null;function IN(){return iN||(iN=function(N,q){let{blocked:C,upgrade:d,blocking:U,terminated:W}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(N,q),F=v(a);return d&&a.addEventListener("upgradeneeded",(N=>{d(v(a.result),N.oldVersion,N.newVersion,v(a.transaction),N)})),C&&a.addEventListener("blocked",(N=>C(N.oldVersion,N.newVersion,N))),F.then((N=>{W&&N.addEventListener("close",(()=>W())),U&&N.addEventListener("versionchange",(N=>U(N.oldVersion,N.newVersion,N)))})).catch((()=>{})),F}("firebase-heartbeat-database",1,{upgrade:(N,q)=>{if(0===q)N.createObjectStore(KN)}}).catch((N=>{throw AN.create("idb-open",{originalErrorMessage:N.message})}))),iN}async function jN(N,q){try{const C=(await IN()).transaction(KN,"readwrite"),d=C.objectStore(KN);await d.put(q,lN(N)),await C.done}catch(C){if(C instanceof W.k)z.warn(C.message);else{const N=AN.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});z.warn(N.message)}}}function lN(N){return`${N.name}!${N.options.appId}`}class TN{constructor(N){this.container=N,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this.Wt=new pN(q),this._heartbeatsCachePromise=this.Wt.read().then((N=>(this._heartbeatsCache=N,N)))}async triggerHeartbeat(){const N=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=zN();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==q&&!this._heartbeatsCache.heartbeats.some((N=>N.date===q)))return this._heartbeatsCache.heartbeats.push({date:q,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((N=>{const q=new Date(N.date).valueOf();return Date.now()-q<=2592e6})),this.Wt.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const N=zN(),{heartbeatsToSend:q,unsentEntries:C}=function(N){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let d=N.slice();for(const U of N){const N=C.find((N=>N.agent===U.agent));if(N){if(N.dates.push(U.date),sN(C)>q){N.dates.pop();break}}else if(C.push({agent:U.agent,dates:[U.date]}),sN(C)>q){C.pop();break}d=d.slice(1)}return{heartbeatsToSend:C,unsentEntries:d}}(this._heartbeatsCache.heartbeats),d=(0,W.r)(JSON.stringify({version:2,heartbeats:q}));return this._heartbeatsCache.lastSentHeartbeatDate=N,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.Wt.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Wt.overwrite(this._heartbeatsCache)),d}}function zN(){return(new Date).toISOString().substring(0,10)}class pN{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,W.Y)()&&(0,W.ob)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(N){try{const q=await IN();return await q.transaction(KN).objectStore(KN).get(lN(N))}catch(q){if(q instanceof W.k)z.warn(q.message);else{const N=AN.create("idb-get",{originalErrorMessage:null===q||void 0===q?void 0:q.message});z.warn(N.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(N){var q;if(await this._canUseIndexedDBPromise){const C=await this.read();return jN(this.app,{lastSentHeartbeatDate:null!==(q=N.lastSentHeartbeatDate)&&void 0!==q?q:C.lastSentHeartbeatDate,heartbeats:N.heartbeats})}}async add(N){var q;if(await this._canUseIndexedDBPromise){const C=await this.read();return jN(this.app,{lastSentHeartbeatDate:null!==(q=N.lastSentHeartbeatDate)&&void 0!==q?q:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...N.heartbeats]})}}}function sN(N){return(0,W.r)(JSON.stringify({version:2,heartbeats:N})).length}var XN;XN="",UN(new d.d("platform-logger",(N=>new j(N)),"PRIVATE")),UN(new d.d("heartbeat",(N=>new TN(N)),"PRIVATE")),vN(l,T,XN),vN(l,T,"esm2017"),vN("fire-js","")},10921:(N,q,C)=>{C.d(q,{b:()=>F,d:()=>U});var d=C(10924);class U{constructor(N,q,C){this.name=N,this.instanceFactory=q,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const W="[DEFAULT]";class a{constructor(N,q){this.name=N,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const q=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(q)){const N=new d.e;if(this.instancesDeferred.set(q,N),this.isInitialized(q)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:q});C&&N.resolve(C)}catch(C){}}return this.instancesDeferred.get(q).promise}getImmediate(N){var q;const C=this.normalizeInstanceIdentifier(null===N||void 0===N?void 0:N.identifier),d=null!==(q=null===N||void 0===N?void 0:N.optional)&&void 0!==q&&q;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(d)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(U){if(d)return null;throw U}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function(N){return"EAGER"===N.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:W})}catch(q){}for(const[N,C]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(N);try{const N=this.getOrInitializeService({instanceIdentifier:d});C.resolve(N)}catch(q){}}}}clearInstance(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}async delete(){const N=Array.from(this.instances.values());await Promise.all([...N.filter((N=>"INTERNAL"in N)).map((N=>N.INTERNAL.delete())),...N.filter((N=>"_delete"in N)).map((N=>N._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(N)}getOptions(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(N)||{}}initialize(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:q={}}=N,C=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:C,options:q});for(const[U,W]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(U)&&W.resolve(d)}return d}bn(N,q){var C;const d=this.normalizeInstanceIdentifier(q),U=null!==(C=this.onInitCallbacks.get(d))&&void 0!==C?C:new Set;U.add(N),this.onInitCallbacks.set(d,U);const W=this.instances.get(d);return W&&N(W,d),()=>{U.delete(N)}}invokeOnInitCallbacks(N,q){const C=this.onInitCallbacks.get(q);if(C)for(const U of C)try{U(N,q)}catch(d){}}getOrInitializeService(N){let{instanceIdentifier:q,options:C={}}=N,d=this.instances.get(q);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:(U=q,U===W?void 0:U),options:C}),this.instances.set(q,d),this.instancesOptions.set(q,C),this.invokeOnInitCallbacks(d,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,d)}catch(a){}var U;return d||null}normalizeInstanceIdentifier(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?N:W:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(N){this.name=N,this.providers=new Map}Xw(N){const q=this.getProvider(N.name);if(q.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);q.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.Xw(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const q=new a(N,this);return this.providers.set(N,q),q}getProviders(){return Array.from(this.providers.values())}}},10932:(N,q,C)=>{C.d(q,{e:()=>U,h:()=>A,i:()=>n,k:()=>t});const d=[];var U;!function(N){N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT"}(U||(U={}));const W={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},a=U.INFO,F={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},w=function(N,q){if(q<N.logLevel)return;const C=(new Date).toISOString(),d=F[q];if(!d)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);for(var U=arguments.length,W=new Array(U>2?U-2:0),a=2;a<U;a++)W[a-2]=arguments[a];console[d](`[${C}]  ${N.name}:`,...W)};class A{constructor(N){this.name=N,this._logLevel=a,this._logHandler=w,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in U))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"===typeof N?W[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!==typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(){for(var N=arguments.length,q=new Array(N),C=0;C<N;C++)q[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...q),this._logHandler(this,U.DEBUG,...q)}log(){for(var N=arguments.length,q=new Array(N),C=0;C<N;C++)q[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...q),this._logHandler(this,U.VERBOSE,...q)}info(){for(var N=arguments.length,q=new Array(N),C=0;C<N;C++)q[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,U.INFO,...q),this._logHandler(this,U.INFO,...q)}warn(){for(var N=arguments.length,q=new Array(N),C=0;C<N;C++)q[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,U.WARN,...q),this._logHandler(this,U.WARN,...q)}error(){for(var N=arguments.length,q=new Array(N),C=0;C<N;C++)q[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,U.ERROR,...q),this._logHandler(this,U.ERROR,...q)}}function n(N){d.forEach((q=>{q.setLogLevel(N)}))}function t(N,q){for(const C of d){let d=null;q&&q.level&&(d=W[q.level]),C.userLogHandler=null===N?null:function(q,C){for(var W=arguments.length,a=new Array(W>2?W-2:0),F=2;F<W;F++)a[F-2]=arguments[F];const w=a.map((N=>{if(null==N)return null;if("string"===typeof N)return N;if("number"===typeof N||"boolean"===typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch(q){return null}})).filter((N=>N)).join(" ");C>=(null!==d&&void 0!==d?d:q.logLevel)&&N({level:U[C].toLowerCase(),message:w,args:a,type:q.name})}}}}}]);