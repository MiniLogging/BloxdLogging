/*! For license information please see jbfnxa.5.131d0b55.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10820:(O,f,y)=>{y.d(f,{B:()=>V,F:()=>W,G:()=>D,J:()=>q,N:()=>t,Q:()=>F,R:()=>G,T:()=>A,U:()=>X,V:()=>x,Z:()=>B,ab:()=>j,d:()=>I,eb:()=>J,g:()=>U,hb:()=>w,jb:()=>i,k:()=>p,nb:()=>o,o:()=>L,pb:()=>u,s:()=>v,u:()=>h,x:()=>d});const S=function(O){const f=[];let y=0;for(let S=0;S<O.length;S++){let H=O.charCodeAt(S);H<128?f[y++]=H:H<2048?(f[y++]=H>>6|192,f[y++]=63&H|128):55296===(64512&H)&&S+1<O.length&&56320===(64512&O.charCodeAt(S+1))?(H=65536+((1023&H)<<10)+(1023&O.charCodeAt(++S)),f[y++]=H>>18|240,f[y++]=H>>12&63|128,f[y++]=H>>6&63|128,f[y++]=63&H|128):(f[y++]=H>>12|224,f[y++]=H>>6&63|128,f[y++]=63&H|128)}return f},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(O,f){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=f?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let H=0;H<O.length;H+=3){const f=O[H],b=H+1<O.length,h=b?O[H+1]:0,v=H+2<O.length,N=v?O[H+2]:0,m=f>>2,t=(3&f)<<4|h>>4;let q=(15&h)<<2|N>>6,F=63&N;v||(F=64,b||(q=64)),S.push(y[m],y[t],y[q],y[F])}return S.join("")},encodeString(O,f){return this.HAS_NATIVE_SUPPORT&&!f?btoa(O):this.encodeByteArray(S(O),f)},decodeString(O,f){return this.HAS_NATIVE_SUPPORT&&!f?atob(O):function(O){const f=[];let y=0,S=0;for(;y<O.length;){const H=O[y++];if(H<128)f[S++]=String.fromCharCode(H);else if(H>191&&H<224){const b=O[y++];f[S++]=String.fromCharCode((31&H)<<6|63&b)}else if(H>239&&H<365){const b=((7&H)<<18|(63&O[y++])<<12|(63&O[y++])<<6|63&O[y++])-65536;f[S++]=String.fromCharCode(55296+(b>>10)),f[S++]=String.fromCharCode(56320+(1023&b))}else{const b=O[y++],h=O[y++];f[S++]=String.fromCharCode((15&H)<<12|(63&b)<<6|63&h)}}return f.join("")}(this.decodeStringToByteArray(O,f))},decodeStringToByteArray(O,f){this.init_();const y=f?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let H=0;H<O.length;){const f=y[O.charAt(H++)],h=H<O.length?y[O.charAt(H)]:0;++H;const v=H<O.length?y[O.charAt(H)]:64;++H;const N=H<O.length?y[O.charAt(H)]:64;if(++H,null==f||null==h||null==v||null==N)throw new b;const m=f<<2|h>>4;if(S.push(m),64!==v){const O=h<<4&240|v>>2;if(S.push(O),64!==N){const O=v<<6&192|N;S.push(O)}}}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h=function(O){return function(O){const f=S(O);return H.encodeByteArray(f,!0)}(O).replace(/\./g,"")},v=function(O){try{return H.decodeString(O,!0)}catch(f){console.error("base64Decode failed: ",f)}return null};const N=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof y.g)return y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,m=()=>{try{return N()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(y){return}const f=O&&v(O[1]);return f&&JSON.parse(f)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},t=O=>{var f,y;return null===(y=null===(f=m())||void 0===f?void 0:f.emulatorHosts)||void 0===y?void 0:y[O]},q=()=>{var O;return null===(O=m())||void 0===O?void 0:O.config},F=O=>{var f;return null===(f=m())||void 0===f?void 0:f[`_${O}`]};class I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((O,f)=>{this.resolve=O,this.reject=f}))}wrapCallback(O){return(f,y)=>{f?this.reject(f):this.resolve(y),"function"===typeof O&&(this.promise.catch((()=>{})),1===O.length?O(f):O(f,y))}}}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function J(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function X(){const O="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof O&&void 0!==O.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function B(){const O=A();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function j(){try{return"object"===typeof indexedDB}catch(O){return!1}}function u(){return new Promise(((O,f)=>{try{let y=!0;const S="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(S);H.onsuccess=()=>{H.result.close(),y||self.indexedDB.deleteDatabase(S),O(!0)},H.onupgradeneeded=()=>{y=!1},H.onerror=()=>{var O;f((null===(O=H.error)||void 0===O?void 0:O.message)||"")}}catch(y){f(y)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class p extends Error{constructor(O,f,y){super(f),this.code=O,this.customData=y,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(O,f,y){this.service=O,this.serviceName=f,this.errors=y}create(O){const f=(arguments.length<=1?void 0:arguments[1])||{},y=`${this.service}/${O}`,S=this.errors[O],H=S?function(O,f){return O.replace(l,((O,y)=>{const S=f[y];return null!=S?String(S):`<${y}?>`}))}(S,f):"Error",b=`${this.serviceName}: ${H} (${y}).`;return new p(y,b,f)}}const l=/\{\$([^}]+)}/g;function x(O){for(const f in O)if(Object.prototype.hasOwnProperty.call(O,f))return!1;return!0}function W(O,f){if(O===f)return!0;const y=Object.keys(O),S=Object.keys(f);for(const H of y){if(!S.includes(H))return!1;const y=O[H],b=f[H];if(E(y)&&E(b)){if(!W(y,b))return!1}else if(y!==b)return!1}for(const H of S)if(!y.includes(H))return!1;return!0}function E(O){return null!==O&&"object"===typeof O}function o(O){const f=[];for(const[y,S]of Object.entries(O))Array.isArray(S)?S.forEach((O=>{f.push(encodeURIComponent(y)+"="+encodeURIComponent(O))})):f.push(encodeURIComponent(y)+"="+encodeURIComponent(S));return f.length?"&"+f.join("&"):""}function i(O){const f={};return O.replace(/^\?/,"").split("&").forEach((O=>{if(O){const[y,S]=O.split("=");f[decodeURIComponent(y)]=decodeURIComponent(S)}})),f}function D(O){const f=O.indexOf("?");if(!f)return"";const y=O.indexOf("#",f);return O.substring(f,y>0?y:void 0)}function V(O,f){const y=new g(O,f);return y.subscribe.bind(y)}class g{constructor(O,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then((()=>{O(this)})).catch((O=>{this.error(O)}))}next(O){this.forEachObserver((f=>{f.next(O)}))}error(O){this.forEachObserver((f=>{f.error(O)})),this.close(O)}complete(){this.forEachObserver((O=>{O.complete()})),this.close()}subscribe(O,f,y){let S;if(void 0===O&&void 0===f&&void 0===y)throw new Error("Missing Observer.");S=function(O,f){if("object"!==typeof O||null===O)return!1;for(const y of f)if(y in O&&"function"===typeof O[y])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:f,complete:y},void 0===S.next&&(S.next=R),void 0===S.error&&(S.error=R),void 0===S.complete&&(S.complete=R);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch(O){}})),this.observers.push(S),H}unsubscribeOne(O){void 0!==this.observers&&void 0!==this.observers[O]&&(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,O)}sendOne(O,f){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{f(this.observers[O])}catch(y){"undefined"!==typeof console&&console.error&&console.error(y)}}))}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}const s=1e3,k=2,z=144e5,c=.5;function d(O){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;const y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)*Math.pow(f,O),S=Math.round(c*y*(Math.random()-.5)*2);return Math.min(z,y+S)}function G(O){return O&&O._delegate?O._delegate:O}},10814:(O,f,y)=>{y.d(f,{d:()=>b.k,g:()=>qO,i:()=>r,k:()=>yO,l:()=>SO,m:()=>OO,p:()=>vO,r:()=>fO,t:()=>bO,w:()=>HO,y:()=>hO,B:()=>JO,G:()=>IO,D:()=>AO,I:()=>FO,K:()=>wO,N:()=>XO,R:()=>BO});var S=y(10816),H=y(10824),b=y(10820);let h,v;const N=new WeakMap,m=new WeakMap,t=new WeakMap,q=new WeakMap,F=new WeakMap;let I={get(O,f,y){if(O instanceof IDBTransaction){if("done"===f)return m.get(O);if("objectStoreNames"===f)return O.objectStoreNames||t.get(O);if("store"===f)return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return X(O[f])},set:(O,f,y)=>(O[f]=y,!0),has:(O,f)=>O instanceof IDBTransaction&&("done"===f||"store"===f)||f in O};function A(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(v||(v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(O)?function(){for(var f=arguments.length,y=new Array(f),S=0;S<f;S++)y[S]=arguments[S];return O.apply(w(this),y),X(N.get(this))}:function(){for(var f=arguments.length,y=new Array(f),S=0;S<f;S++)y[S]=arguments[S];return X(O.apply(w(this),y))}:function(f){for(var y=arguments.length,S=new Array(y>1?y-1:0),H=1;H<y;H++)S[H-1]=arguments[H];const b=O.call(w(this),f,...S);return t.set(b,f.sort?f.sort():[f]),X(b)}}function J(O){return"function"===typeof O?A(O):(O instanceof IDBTransaction&&function(O){if(m.has(O))return;const f=new Promise(((f,y)=>{const S=()=>{O.removeEventListener("complete",H),O.removeEventListener("error",b),O.removeEventListener("abort",b)},H=()=>{f(),S()},b=()=>{y(O.error||new DOMException("AbortError","AbortError")),S()};O.addEventListener("complete",H),O.addEventListener("error",b),O.addEventListener("abort",b)}));m.set(O,f)}(O),f=O,(h||(h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((O=>f instanceof O))?new Proxy(O,I):O);var f}function X(O){if(O instanceof IDBRequest)return function(O){const f=new Promise(((f,y)=>{const S=()=>{O.removeEventListener("success",H),O.removeEventListener("error",b)},H=()=>{f(X(O.result)),S()},b=()=>{y(O.error),S()};O.addEventListener("success",H),O.addEventListener("error",b)}));return f.then((f=>{f instanceof IDBCursor&&N.set(f,O)})).catch((()=>{})),F.set(f,O),f}(O);if(q.has(O))return q.get(O);const f=J(O);return f!==O&&(q.set(O,f),F.set(f,O)),f}const w=O=>F.get(O);const B=["get","getKey","getAll","getAllKeys","count"],j=["put","add","delete","clear"],u=new Map;function L(O,f){if(!(O instanceof IDBDatabase)||f in O||"string"!==typeof f)return;if(u.get(f))return u.get(f);const y=f.replace(/FromIndex$/,""),S=f!==y,H=j.includes(y);if(!(y in(S?IDBIndex:IDBObjectStore).prototype)||!H&&!B.includes(y))return;const b=async function(O){const f=this.transaction(O,H?"readwrite":"readonly");let b=f.store;for(var h=arguments.length,v=new Array(h>1?h-1:0),N=1;N<h;N++)v[N-1]=arguments[N];return S&&(b=b.index(v.shift())),(await Promise.all([b[y](...v),H&&f.done]))[0]};return u.set(f,b),b}I=(O=>({...O,get:(f,y,S)=>L(f,y)||O.get(f,y,S),has:(f,y)=>!!L(f,y)||O.has(f,y)}))(I);class p{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map((O=>{if(function(O){const f=O.getComponent();return"VERSION"===(null===f||void 0===f?void 0:f.type)}(O)){const f=O.getImmediate();return`${f.library}/${f.version}`}return null})).filter((O=>O)).join(" ")}}const U="@firebase/app",l="0.9.13",x=new H.c("@firebase/app"),W="@firebase/app-compat",E="@firebase/analytics-compat",o="@firebase/analytics",i="@firebase/app-check-compat",D="@firebase/app-check",V="@firebase/auth",g="@firebase/auth-compat",R="@firebase/database",s="@firebase/database-compat",k="@firebase/functions",z="@firebase/functions-compat",c="@firebase/installations",d="@firebase/installations-compat",G="@firebase/messaging",Y="@firebase/messaging-compat",Z="@firebase/performance",a="@firebase/performance-compat",M="@firebase/remote-config",P="@firebase/remote-config-compat",e="@firebase/storage",K="@firebase/storage-compat",T="@firebase/firestore",Q="@firebase/firestore-compat",C="firebase",r="[DEFAULT]",n={[U]:"fire-core",[W]:"fire-core-compat",[o]:"fire-analytics",[E]:"fire-analytics-compat",[D]:"fire-app-check",[i]:"fire-app-check-compat",[V]:"fire-auth",[g]:"fire-auth-compat",[R]:"fire-rtdb",[s]:"fire-rtdb-compat",[k]:"fire-fn",[z]:"fire-fn-compat",[c]:"fire-iid",[d]:"fire-iid-compat",[G]:"fire-fcm",[Y]:"fire-fcm-compat",[Z]:"fire-perf",[a]:"fire-perf-compat",[M]:"fire-rc",[P]:"fire-rc-compat",[e]:"fire-gcs",[K]:"fire-gcs-compat",[T]:"fire-fst",[Q]:"fire-fst-compat","fire-js":"fire-js",[C]:"fire-js-all"},OO=new Map,fO=new Map;function yO(O,f){try{O.container.Xe(f)}catch(y){x.debug(`Component ${f.name} failed to register with FirebaseApp ${O.name}`,y)}}function SO(O,f){O.container.addOrOverwriteComponent(f)}function HO(O){const f=O.name;if(fO.has(f))return x.debug(`There were multiple attempts to register component ${f}.`),!1;fO.set(f,O);for(const y of OO.values())yO(y,O);return!0}function bO(O,f){const y=O.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),O.container.getProvider(f)}function hO(O,f){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;bO(O,f).clearInstance(y)}function vO(){fO.clear()}const NO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mO=new b.g("app","Firebase",NO);class tO{constructor(O,f,y){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},f),this._name=f.name,this._automaticDataCollectionEnabled=f.automaticDataCollectionEnabled,this._container=y,this.container.Xe(new S.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw mO.create("app-deleted",{appName:this._name})}}const qO="9.23.0";function FO(O){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=O;if("object"!==typeof f){f={name:f}}const H=Object.assign({name:r,automaticDataCollectionEnabled:!1},f),h=H.name;if("string"!==typeof h||!h)throw mO.create("bad-app-name",{appName:String(h)});if(y||(y=(0,b.J)()),!y)throw mO.create("no-options");const v=OO.get(h);if(v){if((0,b.F)(y,v.options)&&(0,b.F)(H,v.config))return v;throw mO.create("duplicate-app",{appName:h})}const N=new S.e(h);for(const S of fO.values())N.Xe(S);const m=new tO(y,H,N);return OO.set(h,m),m}function IO(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;const f=OO.get(O);if(!f&&O===r&&(0,b.J)())return FO();if(!f)throw mO.create("no-app",{appName:O});return f}function AO(){return Array.from(OO.values())}async function JO(O){const f=O.name;OO.has(f)&&(OO.delete(f),await Promise.all(O.container.getProviders().map((O=>O.delete()))),O.isDeleted=!0)}function XO(O,f,y){var H;let b=null!==(H=n[O])&&void 0!==H?H:O;y&&(b+=`-${y}`);const h=b.match(/\s|\//),v=f.match(/\s|\//);if(h||v){const O=[`Unable to register library "${b}" with version "${f}":`];return h&&O.push(`library name "${b}" contains illegal characters (whitespace or "/")`),h&&v&&O.push("and"),v&&O.push(`version name "${f}" contains illegal characters (whitespace or "/")`),void x.warn(O.join(" "))}HO(new S.h(`${b}-version`,(()=>({library:b,version:f})),"VERSION"))}function wO(O,f){if(null!==O&&"function"!==typeof O)throw mO.create("invalid-log-argument");(0,H.g)(O,f)}function BO(O){(0,H.d)(O)}const jO="firebase-heartbeat-store";let uO=null;function LO(){return uO||(uO=function(O,f){let{blocked:y,upgrade:S,blocking:H,terminated:b}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=indexedDB.open(O,f),v=X(h);return S&&h.addEventListener("upgradeneeded",(O=>{S(X(h.result),O.oldVersion,O.newVersion,X(h.transaction),O)})),y&&h.addEventListener("blocked",(O=>y(O.oldVersion,O.newVersion,O))),v.then((O=>{b&&O.addEventListener("close",(()=>b())),H&&O.addEventListener("versionchange",(O=>H(O.oldVersion,O.newVersion,O)))})).catch((()=>{})),v}("firebase-heartbeat-database",1,{upgrade:(O,f)=>{if(0===f)O.createObjectStore(jO)}}).catch((O=>{throw mO.create("idb-open",{originalErrorMessage:O.message})}))),uO}async function pO(O,f){try{const y=(await LO()).transaction(jO,"readwrite"),S=y.objectStore(jO);await S.put(f,UO(O)),await y.done}catch(y){if(y instanceof b.k)x.warn(y.message);else{const O=mO.create("idb-set",{originalErrorMessage:null===y||void 0===y?void 0:y.message});x.warn(O.message)}}}function UO(O){return`${O.name}!${O.options.appId}`}class lO{constructor(O){this.container=O,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this.Ai=new WO(f),this._heartbeatsCachePromise=this.Ai.read().then((O=>(this._heartbeatsCache=O,O)))}async triggerHeartbeat(){const O=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=xO();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==f&&!this._heartbeatsCache.heartbeats.some((O=>O.date===f)))return this._heartbeatsCache.heartbeats.push({date:f,agent:O}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((O=>{const f=new Date(O.date).valueOf();return Date.now()-f<=2592e6})),this.Ai.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const O=xO(),{heartbeatsToSend:f,unsentEntries:y}=function(O){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const y=[];let S=O.slice();for(const H of O){const O=y.find((O=>O.agent===H.agent));if(O){if(O.dates.push(H.date),EO(y)>f){O.dates.pop();break}}else if(y.push({agent:H.agent,dates:[H.date]}),EO(y)>f){y.pop();break}S=S.slice(1)}return{heartbeatsToSend:y,unsentEntries:S}}(this._heartbeatsCache.heartbeats),S=(0,b.u)(JSON.stringify({version:2,heartbeats:f}));return this._heartbeatsCache.lastSentHeartbeatDate=O,y.length>0?(this._heartbeatsCache.heartbeats=y,await this.Ai.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ai.overwrite(this._heartbeatsCache)),S}}function xO(){return(new Date).toISOString().substring(0,10)}class WO{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,b.ab)()&&(0,b.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(O){try{const f=await LO();return await f.transaction(jO).objectStore(jO).get(UO(O))}catch(f){if(f instanceof b.k)x.warn(f.message);else{const O=mO.create("idb-get",{originalErrorMessage:null===f||void 0===f?void 0:f.message});x.warn(O.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(O){var f;if(await this._canUseIndexedDBPromise){const y=await this.read();return pO(this.app,{lastSentHeartbeatDate:null!==(f=O.lastSentHeartbeatDate)&&void 0!==f?f:y.lastSentHeartbeatDate,heartbeats:O.heartbeats})}}async add(O){var f;if(await this._canUseIndexedDBPromise){const y=await this.read();return pO(this.app,{lastSentHeartbeatDate:null!==(f=O.lastSentHeartbeatDate)&&void 0!==f?f:y.lastSentHeartbeatDate,heartbeats:[...y.heartbeats,...O.heartbeats]})}}}function EO(O){return(0,b.u)(JSON.stringify({version:2,heartbeats:O})).length}var oO;oO="",HO(new S.h("platform-logger",(O=>new p(O)),"PRIVATE")),HO(new S.h("heartbeat",(O=>new lO(O)),"PRIVATE")),XO(U,l,oO),XO(U,l,"esm2017"),XO("fire-js","")},10816:(O,f,y)=>{y.d(f,{e:()=>v,h:()=>H});var S=y(10820);class H{constructor(O,f,y){this.name=O,this.instanceFactory=f,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const b="[DEFAULT]";class h{constructor(O,f){this.name=O,this.container=f,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const f=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(f)){const O=new S.d;if(this.instancesDeferred.set(f,O),this.isInitialized(f)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:f});y&&O.resolve(y)}catch(y){}}return this.instancesDeferred.get(f).promise}getImmediate(O){var f;const y=this.normalizeInstanceIdentifier(null===O||void 0===O?void 0:O.identifier),S=null!==(f=null===O||void 0===O?void 0:O.optional)&&void 0!==f&&f;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(S)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(H){if(S)return null;throw H}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function(O){return"EAGER"===O.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:b})}catch(f){}for(const[O,y]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(O);try{const O=this.getOrInitializeService({instanceIdentifier:S});y.resolve(O)}catch(f){}}}}clearInstance(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}async delete(){const O=Array.from(this.instances.values());await Promise.all([...O.filter((O=>"INTERNAL"in O)).map((O=>O.INTERNAL.delete())),...O.filter((O=>"_delete"in O)).map((O=>O._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.instances.has(O)}getOptions(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.instancesOptions.get(O)||{}}initialize(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:f={}}=O,y=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const S=this.getOrInitializeService({instanceIdentifier:y,options:f});for(const[H,b]of this.instancesDeferred.entries()){y===this.normalizeInstanceIdentifier(H)&&b.resolve(S)}return S}ei(O,f){var y;const S=this.normalizeInstanceIdentifier(f),H=null!==(y=this.onInitCallbacks.get(S))&&void 0!==y?y:new Set;H.add(O),this.onInitCallbacks.set(S,H);const b=this.instances.get(S);return b&&O(b,S),()=>{H.delete(O)}}invokeOnInitCallbacks(O,f){const y=this.onInitCallbacks.get(f);if(y)for(const H of y)try{H(O,f)}catch(S){}}getOrInitializeService(O){let{instanceIdentifier:f,options:y={}}=O,S=this.instances.get(f);if(!S&&this.component&&(S=this.component.instanceFactory(this.container,{instanceIdentifier:(H=f,H===b?void 0:H),options:y}),this.instances.set(f,S),this.instancesOptions.set(f,y),this.invokeOnInitCallbacks(S,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,S)}catch(h){}var H;return S||null}normalizeInstanceIdentifier(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return this.component?this.component.multipleInstances?O:b:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class v{constructor(O){this.name=O,this.providers=new Map}Xe(O){const f=this.getProvider(O.name);if(f.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);f.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.Xe(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const f=new h(O,this);return this.providers.set(O,f),f}getProviders(){return Array.from(this.providers.values())}}},10824:(O,f,y)=>{y.d(f,{b:()=>H,c:()=>m,d:()=>t,g:()=>q});const S=[];var H;!function(O){O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT"}(H||(H={}));const b={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},h=H.INFO,v={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},N=function(O,f){if(f<O.logLevel)return;const y=(new Date).toISOString(),S=v[f];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);for(var H=arguments.length,b=new Array(H>2?H-2:0),h=2;h<H;h++)b[h-2]=arguments[h];console[S](`[${y}]  ${O.name}:`,...b)};class m{constructor(O){this.name=O,this._logLevel=h,this._logHandler=N,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(O){if(!(O in H))throw new TypeError(`Invalid value "${O}" assigned to \`logLevel\``);this._logLevel=O}setLogLevel(O){this._logLevel="string"===typeof O?b[O]:O}get logHandler(){return this._logHandler}set logHandler(O){if("function"!==typeof O)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=O}get userLogHandler(){return this._userLogHandler}set userLogHandler(O){this._userLogHandler=O}debug(){for(var O=arguments.length,f=new Array(O),y=0;y<O;y++)f[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...f),this._logHandler(this,H.DEBUG,...f)}log(){for(var O=arguments.length,f=new Array(O),y=0;y<O;y++)f[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...f),this._logHandler(this,H.VERBOSE,...f)}info(){for(var O=arguments.length,f=new Array(O),y=0;y<O;y++)f[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,H.INFO,...f),this._logHandler(this,H.INFO,...f)}warn(){for(var O=arguments.length,f=new Array(O),y=0;y<O;y++)f[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,H.WARN,...f),this._logHandler(this,H.WARN,...f)}error(){for(var O=arguments.length,f=new Array(O),y=0;y<O;y++)f[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,H.ERROR,...f),this._logHandler(this,H.ERROR,...f)}}function t(O){S.forEach((f=>{f.setLogLevel(O)}))}function q(O,f){for(const y of S){let S=null;f&&f.level&&(S=b[f.level]),y.userLogHandler=null===O?null:function(f,y){for(var b=arguments.length,h=new Array(b>2?b-2:0),v=2;v<b;v++)h[v-2]=arguments[v];const N=h.map((O=>{if(null==O)return null;if("string"===typeof O)return O;if("number"===typeof O||"boolean"===typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch(f){return null}})).filter((O=>O)).join(" ");y>=(null!==S&&void 0!==S?S:f.logLevel)&&O({level:H[y].toLowerCase(),message:N,args:h,type:f.name})}}}}}]);