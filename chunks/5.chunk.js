/*! For license information please see x4ubj.5.784b5bd3.chunk.js.LICENSE.txt */
"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[5],{12725:(z,u,U)=>{U.d(u,{C:()=>d,D:()=>S,G:()=>mz,H:()=>k,I:()=>A,K:()=>C,O:()=>O,S:()=>M,T:()=>T,W:()=>E,Z:()=>r,ab:()=>Y,e:()=>Z,eb:()=>K,i:()=>V,ib:()=>X,l:()=>t,m:()=>h,q:()=>w,s:()=>g,t:()=>b,w:()=>N,x:()=>x,z:()=>p});const J=function(z){const u=[];let U=0;for(let J=0;J<z.length;J++){let v=z.charCodeAt(J);v<128?u[U++]=v:v<2048?(u[U++]=v>>6|192,u[U++]=63&v|128):55296===(64512&v)&&J+1<z.length&&56320===(64512&z.charCodeAt(J+1))?(v=65536+((1023&v)<<10)+(1023&z.charCodeAt(++J)),u[U++]=v>>18|240,u[U++]=v>>12&63|128,u[U++]=v>>6&63|128,u[U++]=63&v|128):(u[U++]=v>>12|224,u[U++]=v>>6&63|128,u[U++]=63&v|128)}return u},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(z,u){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=u?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let v=0;v<z.length;v+=3){const u=z[v],f=v+1<z.length,g=f?z[v+1]:0,w=v+2<z.length,P=w?z[v+2]:0,R=u>>2,S=(3&u)<<4|g>>4;let d=(15&g)<<2|P>>6,mz=63&P;w||(mz=64,f||(d=64)),J.push(U[R],U[S],U[d],U[mz])}return J.join("")},encodeString(z,u){return this.HAS_NATIVE_SUPPORT&&!u?btoa(z):this.encodeByteArray(J(z),u)},decodeString(z,u){return this.HAS_NATIVE_SUPPORT&&!u?atob(z):function(z){const u=[];let U=0,J=0;for(;U<z.length;){const v=z[U++];if(v<128)u[J++]=String.fromCharCode(v);else if(v>191&&v<224){const f=z[U++];u[J++]=String.fromCharCode((31&v)<<6|63&f)}else if(v>239&&v<365){const f=((7&v)<<18|(63&z[U++])<<12|(63&z[U++])<<6|63&z[U++])-65536;u[J++]=String.fromCharCode(55296+(f>>10)),u[J++]=String.fromCharCode(56320+(1023&f))}else{const f=z[U++],g=z[U++];u[J++]=String.fromCharCode((15&v)<<12|(63&f)<<6|63&g)}}return u.join("")}(this.decodeStringToByteArray(z,u))},decodeStringToByteArray(z,u){this.init_();const U=u?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let v=0;v<z.length;){const u=U[z.charAt(v++)],g=v<z.length?U[z.charAt(v)]:0;++v;const w=v<z.length?U[z.charAt(v)]:64;++v;const P=v<z.length?U[z.charAt(v)]:64;if(++v,null==u||null==g||null==w||null==P)throw new f;const R=u<<2|g>>4;if(J.push(R),64!==w){const z=g<<4&240|w>>2;if(J.push(z),64!==P){const z=w<<6&192|P;J.push(z)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(z){return function(z){const u=J(z);return v.encodeByteArray(u,!0)}(z).replace(/\./g,"")},w=function(z){try{return v.decodeString(z,!0)}catch(u){console.error("base64Decode failed: ",u)}return null};const P=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof U.g)return U.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,R=()=>{try{return P()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(U){return}const u=z&&w(z[1]);return u&&JSON.parse(u)})()}catch(z){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(z))}},S=z=>{var u,U;return null===(U=null===(u=R())||void 0===u?void 0:u.emulatorHosts)||void 0===U?void 0:U[z]},d=()=>{var z;return null===(z=R())||void 0===z?void 0:z.config},mz=z=>{var u;return null===(u=R())||void 0===u?void 0:u["_".concat(z)]};class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((z,u)=>{this.resolve=z,this.reject=u}))}wrapCallback(z){return(u,U)=>{u?this.reject(u):this.resolve(U),"function"===typeof z&&(this.promise.catch((()=>{})),1===z.length?z(u):z(u,U))}}}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function C(){const z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof z&&void 0!==z.id}function r(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const z=A();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(z){return!1}}function X(){return new Promise(((z,u)=>{try{let U=!0;const J="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(J);v.onsuccess=()=>{v.result.close(),U||self.indexedDB.deleteDatabase(J),z(!0)},v.onupgradeneeded=()=>{U=!1},v.onerror=()=>{var z;u((null===(z=v.error)||void 0===z?void 0:z.message)||"")}}catch(U){u(U)}}))}function h(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class t extends Error{constructor(z,u,U){super(u),this.code=z,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V.prototype.create)}}class V{constructor(z,u,U){this.service=z,this.serviceName=u,this.errors=U}create(z){const u=(arguments.length<=1?void 0:arguments[1])||{},U="".concat(this.service,"/").concat(z),J=this.errors[z],v=J?function(z,u){return z.replace(L,((z,U)=>{const J=u[U];return null!=J?String(J):"<".concat(U,"?>")}))}(J,u):"Error",f="".concat(this.serviceName,": ").concat(v," (").concat(U,").");return new t(U,f,u)}}const L=/\{\$([^}]+)}/g;function O(z){for(const u in z)if(Object.prototype.hasOwnProperty.call(z,u))return!1;return!0}function x(z,u){if(z===u)return!0;const U=Object.keys(z),J=Object.keys(u);for(const v of U){if(!J.includes(v))return!1;const U=z[v],f=u[v];if(Q(U)&&Q(f)){if(!x(U,f))return!1}else if(U!==f)return!1}for(const v of J)if(!U.includes(v))return!1;return!0}function Q(z){return null!==z&&"object"===typeof z}function K(z){const u=[];for(const[U,J]of Object.entries(z))Array.isArray(J)?J.forEach((z=>{u.push(encodeURIComponent(U)+"="+encodeURIComponent(z))})):u.push(encodeURIComponent(U)+"="+encodeURIComponent(J));return u.length?"&"+u.join("&"):""}function Y(z){const u={};return z.replace(/^\?/,"").split("&").forEach((z=>{if(z){const[U,J]=z.split("=");u[decodeURIComponent(U)]=decodeURIComponent(J)}})),u}function p(z){const u=z.indexOf("?");if(!u)return"";const U=z.indexOf("#",u);return z.substring(u,U>0?U:void 0)}function N(z,u){const U=new D(z,u);return U.subscribe.bind(U)}class D{constructor(z,u){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=u,this.task.then((()=>{z(this)})).catch((z=>{this.error(z)}))}next(z){this.forEachObserver((u=>{u.next(z)}))}error(z){this.forEachObserver((u=>{u.error(z)})),this.close(z)}complete(){this.forEachObserver((z=>{z.complete()})),this.close()}subscribe(z,u,U){let J;if(void 0===z&&void 0===u&&void 0===U)throw new Error("Missing Observer.");J=function(z,u){if("object"!==typeof z||null===z)return!1;for(const U of u)if(U in z&&"function"===typeof z[U])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:u,complete:U},void 0===J.next&&(J.next=c),void 0===J.error&&(J.error=c),void 0===J.complete&&(J.complete=c);const v=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(z){}})),this.observers.push(J),v}unsubscribeOne(z){void 0!==this.observers&&void 0!==this.observers[z]&&(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,z)}sendOne(z,u){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{u(this.observers[z])}catch(U){"undefined"!==typeof console&&console.error&&console.error(U)}}))}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function c(){}const W=1e3,j=2,I=144e5,F=.5;function b(z){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;const U=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:W)*Math.pow(u,z),J=Math.round(F*U*(Math.random()-.5)*2);return Math.min(I,U+J)}function k(z){return z&&z._delegate?z._delegate:z}},12709:(z,u,U)=>{U.d(u,{d:()=>f.l,h:()=>mu,i:()=>e,m:()=>Jz,p:()=>vz,t:()=>uz,v:()=>Pz,w:()=>Uz,y:()=>gz,B:()=>fz,E:()=>wz,F:()=>Cz,I:()=>Az,G:()=>Ez,L:()=>Zz,P:()=>Mz,R:()=>rz,S:()=>Tz});var J=U(12717),v=U(12732),f=U(12725),g=U(21);let w,P;const R=new WeakMap,S=new WeakMap,d=new WeakMap,mz=new WeakMap,Z=new WeakMap;let A={get(z,u,U){if(z instanceof IDBTransaction){if("done"===u)return S.get(z);if("objectStoreNames"===u)return z.objectStoreNames||d.get(z);if("store"===u)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return r(z[u])},set:(z,u,U)=>(z[u]=U,!0),has:(z,u)=>z instanceof IDBTransaction&&("done"===u||"store"===u)||u in z};function E(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(z)?function(){for(var u=arguments.length,U=new Array(u),J=0;J<u;J++)U[J]=arguments[J];return z.apply(M(this),U),r(R.get(this))}:function(){for(var u=arguments.length,U=new Array(u),J=0;J<u;J++)U[J]=arguments[J];return r(z.apply(M(this),U))}:function(u){for(var U=arguments.length,J=new Array(U>1?U-1:0),v=1;v<U;v++)J[v-1]=arguments[v];const f=z.call(M(this),u,...J);return d.set(f,u.sort?u.sort():[u]),r(f)}}function C(z){return"function"===typeof z?E(z):(z instanceof IDBTransaction&&function(z){if(S.has(z))return;const u=new Promise(((u,U)=>{const J=()=>{z.removeEventListener("complete",v),z.removeEventListener("error",f),z.removeEventListener("abort",f)},v=()=>{u(),J()},f=()=>{U(z.error||new DOMException("AbortError","AbortError")),J()};z.addEventListener("complete",v),z.addEventListener("error",f),z.addEventListener("abort",f)}));S.set(z,u)}(z),u=z,(w||(w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((z=>u instanceof z))?new Proxy(z,A):z);var u}function r(z){if(z instanceof IDBRequest)return function(z){const u=new Promise(((u,U)=>{const J=()=>{z.removeEventListener("success",v),z.removeEventListener("error",f)},v=()=>{u(r(z.result)),J()},f=()=>{U(z.error),J()};z.addEventListener("success",v),z.addEventListener("error",f)}));return u.then((u=>{u instanceof IDBCursor&&R.set(u,z)})).catch((()=>{})),Z.set(u,z),u}(z);if(mz.has(z))return mz.get(z);const u=C(z);return u!==z&&(mz.set(z,u),Z.set(u,z)),u}const M=z=>Z.get(z);const T=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],h=new Map;function t(z,u){if(!(z instanceof IDBDatabase)||u in z||"string"!==typeof u)return;if(h.get(u))return h.get(u);const U=u.replace(/FromIndex$/,""),J=u!==U,v=X.includes(U);if(!(U in(J?IDBIndex:IDBObjectStore).prototype)||!v&&!T.includes(U))return;const f=async function(z){const u=this.transaction(z,v?"readwrite":"readonly");let f=u.store;for(var g=arguments.length,w=new Array(g>1?g-1:0),P=1;P<g;P++)w[P-1]=arguments[P];return J&&(f=f.index(w.shift())),(await Promise.all([f[U](...w),v&&u.done]))[0]};return h.set(u,f),f}A=(z=>(0,g.e)((0,g.e)({},z),{},{get:(u,U,J)=>t(u,U)||z.get(u,U,J),has:(u,U)=>!!t(u,U)||z.has(u,U)}))(A);class V{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map((z=>{if(function(z){const u=z.getComponent();return"VERSION"===(null===u||void 0===u?void 0:u.type)}(z)){const u=z.getImmediate();return"".concat(u.library,"/").concat(u.version)}return null})).filter((z=>z)).join(" ")}}const L="@firebase/app",O="0.9.13",x=new v.e("@firebase/app"),Q="@firebase/app-compat",K="@firebase/analytics-compat",Y="@firebase/analytics",p="@firebase/app-check-compat",N="@firebase/app-check",D="@firebase/auth",c="@firebase/auth-compat",W="@firebase/database",j="@firebase/database-compat",I="@firebase/functions",F="@firebase/functions-compat",b="@firebase/installations",k="@firebase/installations-compat",B="@firebase/messaging",y="@firebase/messaging-compat",H="@firebase/performance",G="@firebase/performance-compat",a="@firebase/remote-config",i="@firebase/remote-config-compat",n="@firebase/storage",q="@firebase/storage-compat",o="@firebase/firestore",s="@firebase/firestore-compat",l="firebase",e="[DEFAULT]",zz={[L]:"fire-core",[Q]:"fire-core-compat",[Y]:"fire-analytics",[K]:"fire-analytics-compat",[N]:"fire-app-check",[p]:"fire-app-check-compat",[D]:"fire-auth",[c]:"fire-auth-compat",[W]:"fire-rtdb",[j]:"fire-rtdb-compat",[I]:"fire-fn",[F]:"fire-fn-compat",[b]:"fire-iid",[k]:"fire-iid-compat",[B]:"fire-fcm",[y]:"fire-fcm-compat",[H]:"fire-perf",[G]:"fire-perf-compat",[a]:"fire-rc",[i]:"fire-rc-compat",[n]:"fire-gcs",[q]:"fire-gcs-compat",[o]:"fire-fst",[s]:"fire-fst-compat","fire-js":"fire-js",[l]:"fire-js-all"},uz=new Map,Uz=new Map;function Jz(z,u){try{z.container.MR(u)}catch(U){x.debug("Component ".concat(u.name," failed to register with FirebaseApp ").concat(z.name),U)}}function vz(z,u){z.container.addOrOverwriteComponent(u)}function fz(z){const u=z.name;if(Uz.has(u))return x.debug("There were multiple attempts to register component ".concat(u,".")),!1;Uz.set(u,z);for(const U of uz.values())Jz(U,z);return!0}function gz(z,u){const U=z.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),z.container.getProvider(u)}function wz(z,u){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;gz(z,u).clearInstance(U)}function Pz(){Uz.clear()}const Rz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Sz=new f.i("app","Firebase",Rz);class dz{constructor(z,u,U){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},u),this._name=u.name,this._automaticDataCollectionEnabled=u.automaticDataCollectionEnabled,this._container=U,this.container.MR(new J.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Sz.create("app-deleted",{appName:this._name})}}const mu="9.23.0";function Zz(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=z;if("object"!==typeof u){u={name:u}}const v=Object.assign({name:e,automaticDataCollectionEnabled:!1},u),g=v.name;if("string"!==typeof g||!g)throw Sz.create("bad-app-name",{appName:String(g)});if(U||(U=(0,f.C)()),!U)throw Sz.create("no-options");const w=uz.get(g);if(w){if((0,f.x)(U,w.options)&&(0,f.x)(v,w.config))return w;throw Sz.create("duplicate-app",{appName:g})}const P=new J.b(g);for(const J of Uz.values())P.MR(J);const R=new dz(U,v,P);return uz.set(g,R),R}function Az(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;const u=uz.get(z);if(!u&&z===e&&(0,f.C)())return Zz();if(!u)throw Sz.create("no-app",{appName:z});return u}function Ez(){return Array.from(uz.values())}async function Cz(z){const u=z.name;uz.has(u)&&(uz.delete(u),await Promise.all(z.container.getProviders().map((z=>z.delete()))),z.isDeleted=!0)}function rz(z,u,U){var v;let f=null!==(v=zz[z])&&void 0!==v?v:z;U&&(f+="-".concat(U));const g=f.match(/\s|\//),w=u.match(/\s|\//);if(g||w){const z=['Unable to register library "'.concat(f,'" with version "').concat(u,'":')];return g&&z.push('library name "'.concat(f,'" contains illegal characters (whitespace or "/")')),g&&w&&z.push("and"),w&&z.push('version name "'.concat(u,'" contains illegal characters (whitespace or "/")')),void x.warn(z.join(" "))}fz(new J.d("".concat(f,"-version"),(()=>({library:f,version:u})),"VERSION"))}function Mz(z,u){if(null!==z&&"function"!==typeof z)throw Sz.create("invalid-log-argument");(0,v.k)(z,u)}function Tz(z){(0,v.i)(z)}const Xz="firebase-heartbeat-store";let hz=null;function tz(){return hz||(hz=function(z,u){let{blocked:U,upgrade:J,blocking:v,terminated:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(z,u),w=r(g);return J&&g.addEventListener("upgradeneeded",(z=>{J(r(g.result),z.oldVersion,z.newVersion,r(g.transaction),z)})),U&&g.addEventListener("blocked",(z=>U(z.oldVersion,z.newVersion,z))),w.then((z=>{f&&z.addEventListener("close",(()=>f())),v&&z.addEventListener("versionchange",(z=>v(z.oldVersion,z.newVersion,z)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(z,u)=>{if(0===u)z.createObjectStore(Xz)}}).catch((z=>{throw Sz.create("idb-open",{originalErrorMessage:z.message})}))),hz}async function Vz(z,u){try{const U=(await tz()).transaction(Xz,"readwrite"),J=U.objectStore(Xz);await J.put(u,Lz(z)),await U.done}catch(U){if(U instanceof f.l)x.warn(U.message);else{const z=Sz.create("idb-set",{originalErrorMessage:null===U||void 0===U?void 0:U.message});x.warn(z.message)}}}function Lz(z){return"".concat(z.name,"!").concat(z.options.appId)}class Oz{constructor(z){this.container=z,this._heartbeatsCache=null;const u=this.container.getProvider("app").getImmediate();this.Vm=new Qz(u),this._heartbeatsCachePromise=this.Vm.read().then((z=>(this._heartbeatsCache=z,z)))}async triggerHeartbeat(){const z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xz();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==u&&!this._heartbeatsCache.heartbeats.some((z=>z.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((z=>{const u=new Date(z.date).valueOf();return Date.now()-u<=2592e6})),this.Vm.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const z=xz(),{heartbeatsToSend:u,unsentEntries:U}=function(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const U=[];let J=z.slice();for(const v of z){const z=U.find((z=>z.agent===v.agent));if(z){if(z.dates.push(v.date),Kz(U)>u){z.dates.pop();break}}else if(U.push({agent:v.agent,dates:[v.date]}),Kz(U)>u){U.pop();break}J=J.slice(1)}return{heartbeatsToSend:U,unsentEntries:J}}(this._heartbeatsCache.heartbeats),J=(0,f.s)(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=z,U.length>0?(this._heartbeatsCache.heartbeats=U,await this.Vm.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Vm.overwrite(this._heartbeatsCache)),J}}function xz(){return(new Date).toISOString().substring(0,10)}class Qz{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,f.T)()&&(0,f.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(z){try{const u=await tz();return await u.transaction(Xz).objectStore(Xz).get(Lz(z))}catch(u){if(u instanceof f.l)x.warn(u.message);else{const z=Sz.create("idb-get",{originalErrorMessage:null===u||void 0===u?void 0:u.message});x.warn(z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(z){var u;if(await this._canUseIndexedDBPromise){const U=await this.read();return Vz(this.app,{lastSentHeartbeatDate:null!==(u=z.lastSentHeartbeatDate)&&void 0!==u?u:U.lastSentHeartbeatDate,heartbeats:z.heartbeats})}}async add(z){var u;if(await this._canUseIndexedDBPromise){const U=await this.read();return Vz(this.app,{lastSentHeartbeatDate:null!==(u=z.lastSentHeartbeatDate)&&void 0!==u?u:U.lastSentHeartbeatDate,heartbeats:[...U.heartbeats,...z.heartbeats]})}}}function Kz(z){return(0,f.s)(JSON.stringify({version:2,heartbeats:z})).length}var Yz;Yz="",fz(new J.d("platform-logger",(z=>new V(z)),"PRIVATE")),fz(new J.d("heartbeat",(z=>new Oz(z)),"PRIVATE")),rz(L,O,Yz),rz(L,O,"esm2017"),rz("fire-js","")},12717:(z,u,U)=>{U.d(u,{b:()=>w,d:()=>v});var J=U(12725);class v{constructor(z,u,U){this.name=z,this.instanceFactory=u,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const f="[DEFAULT]";class g{constructor(z,u){this.name=z,this.container=u,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const u=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(u)){const z=new J.e;if(this.instancesDeferred.set(u,z),this.isInitialized(u)||this.shouldAutoInitialize())try{const U=this.getOrInitializeService({instanceIdentifier:u});U&&z.resolve(U)}catch(U){}}return this.instancesDeferred.get(u).promise}getImmediate(z){var u;const U=this.normalizeInstanceIdentifier(null===z||void 0===z?void 0:z.identifier),J=null!==(u=null===z||void 0===z?void 0:z.optional)&&void 0!==u&&u;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(J)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(v){if(J)return null;throw v}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error("Mismatching Component ".concat(z.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=z,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:f})}catch(u){}for(const[z,U]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(z);try{const z=this.getOrInitializeService({instanceIdentifier:J});U.resolve(z)}catch(u){}}}}clearInstance(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}async delete(){const z=Array.from(this.instances.values());await Promise.all([...z.filter((z=>"INTERNAL"in z)).map((z=>z.INTERNAL.delete())),...z.filter((z=>"_delete"in z)).map((z=>z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(z)}getOptions(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(z)||{}}initialize(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:u={}}=z,U=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(U))throw Error("".concat(this.name,"(").concat(U,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const J=this.getOrInitializeService({instanceIdentifier:U,options:u});for(const[v,f]of this.instancesDeferred.entries()){U===this.normalizeInstanceIdentifier(v)&&f.resolve(J)}return J}Um(z,u){var U;const J=this.normalizeInstanceIdentifier(u),v=null!==(U=this.onInitCallbacks.get(J))&&void 0!==U?U:new Set;v.add(z),this.onInitCallbacks.set(J,v);const f=this.instances.get(J);return f&&z(f,J),()=>{v.delete(z)}}invokeOnInitCallbacks(z,u){const U=this.onInitCallbacks.get(u);if(U)for(const v of U)try{v(z,u)}catch(J){}}getOrInitializeService(z){let{instanceIdentifier:u,options:U={}}=z,J=this.instances.get(u);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(v=u,v===f?void 0:v),options:U}),this.instances.set(u,J),this.instancesOptions.set(u,U),this.invokeOnInitCallbacks(J,u),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,u,J)}catch(g){}var v;return J||null}normalizeInstanceIdentifier(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?z:f:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(z){this.name=z,this.providers=new Map}MR(z){const u=this.getProvider(z.name);if(u.isComponentSet())throw new Error("Component ".concat(z.name," has already been registered with ").concat(this.name));u.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.MR(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const u=new g(z,this);return this.providers.set(z,u),u}getProviders(){return Array.from(this.providers.values())}}},12732:(z,u,U)=>{U.d(u,{d:()=>v,e:()=>R,i:()=>S,k:()=>d});const J=[];var v;!function(z){z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT"}(v||(v={}));const f={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},g=v.INFO,w={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},P=function(z,u){if(u<z.logLevel)return;const U=(new Date).toISOString(),J=w[u];if(!J)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(u,")"));for(var v=arguments.length,f=new Array(v>2?v-2:0),g=2;g<v;g++)f[g-2]=arguments[g];console[J]("[".concat(U,"]  ").concat(z.name,":"),...f)};class R{constructor(z){this.name=z,this._logLevel=g,this._logHandler=P,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in v))throw new TypeError('Invalid value "'.concat(z,'" assigned to `logLevel`'));this._logLevel=z}setLogLevel(z){this._logLevel="string"===typeof z?f[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!==typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(){for(var z=arguments.length,u=new Array(z),U=0;U<z;U++)u[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...u),this._logHandler(this,v.DEBUG,...u)}log(){for(var z=arguments.length,u=new Array(z),U=0;U<z;U++)u[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...u),this._logHandler(this,v.VERBOSE,...u)}info(){for(var z=arguments.length,u=new Array(z),U=0;U<z;U++)u[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,v.INFO,...u),this._logHandler(this,v.INFO,...u)}warn(){for(var z=arguments.length,u=new Array(z),U=0;U<z;U++)u[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,v.WARN,...u),this._logHandler(this,v.WARN,...u)}error(){for(var z=arguments.length,u=new Array(z),U=0;U<z;U++)u[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,v.ERROR,...u),this._logHandler(this,v.ERROR,...u)}}function S(z){J.forEach((u=>{u.setLogLevel(z)}))}function d(z,u){for(const U of J){let J=null;u&&u.level&&(J=f[u.level]),U.userLogHandler=null===z?null:function(u,U){for(var f=arguments.length,g=new Array(f>2?f-2:0),w=2;w<f;w++)g[w-2]=arguments[w];const P=g.map((z=>{if(null==z)return null;if("string"===typeof z)return z;if("number"===typeof z||"boolean"===typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch(u){return null}})).filter((z=>z)).join(" ");U>=(null!==J&&void 0!==J?J:u.logLevel)&&z({level:v[U].toLowerCase(),message:P,args:g,type:u.name})}}}}}]);