/*! For license information please see zihy6i.5.d0e31357.chunk.js.LICENSE.txt */
"use strict";(self["2fwzcez286e"]=self["2fwzcez286e"]||[]).push([[5],{12782:(B,u,F)=>{F.d(u,{$:()=>C,B:()=>t,F:()=>d,J:()=>D,K:()=>q,N:()=>g,O:()=>X,Q:()=>f,T:()=>L,V:()=>W,W:()=>z,X:()=>T,c:()=>v,g:()=>y,i:()=>U,j:()=>x,k:()=>R,l:()=>G,p:()=>n,r:()=>j,t:()=>J,u:()=>M,w:()=>Q,z:()=>Y});const Z=function(B){const u=[];let F=0;for(let Z=0;Z<B.length;Z++){let V=B.charCodeAt(Z);V<128?u[F++]=V:V<2048?(u[F++]=V>>6|192,u[F++]=63&V|128):55296===(64512&V)&&Z+1<B.length&&56320===(64512&B.charCodeAt(Z+1))?(V=65536+((1023&V)<<10)+(1023&B.charCodeAt(++Z)),u[F++]=V>>18|240,u[F++]=V>>12&63|128,u[F++]=V>>6&63|128,u[F++]=63&V|128):(u[F++]=V>>12|224,u[F++]=V>>6&63|128,u[F++]=63&V|128)}return u},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(B,u){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=u?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let V=0;V<B.length;V+=3){const u=B[V],p=V+1<B.length,G=p?B[V+1]:0,R=V+2<B.length,e=R?B[V+2]:0,s=u>>2,Y=(3&u)<<4|G>>4;let Q=(15&G)<<2|e>>6,t=63&e;R||(t=64,p||(Q=64)),Z.push(F[s],F[Y],F[Q],F[t])}return Z.join("")},encodeString(B,u){return this.HAS_NATIVE_SUPPORT&&!u?btoa(B):this.encodeByteArray(Z(B),u)},decodeString(B,u){return this.HAS_NATIVE_SUPPORT&&!u?atob(B):function(B){const u=[];let F=0,Z=0;for(;F<B.length;){const V=B[F++];if(V<128)u[Z++]=String.fromCharCode(V);else if(V>191&&V<224){const p=B[F++];u[Z++]=String.fromCharCode((31&V)<<6|63&p)}else if(V>239&&V<365){const p=((7&V)<<18|(63&B[F++])<<12|(63&B[F++])<<6|63&B[F++])-65536;u[Z++]=String.fromCharCode(55296+(p>>10)),u[Z++]=String.fromCharCode(56320+(1023&p))}else{const p=B[F++],G=B[F++];u[Z++]=String.fromCharCode((15&V)<<12|(63&p)<<6|63&G)}}return u.join("")}(this.decodeStringToByteArray(B,u))},decodeStringToByteArray(B,u){this.init_();const F=u?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let V=0;V<B.length;){const u=F[B.charAt(V++)],G=V<B.length?F[B.charAt(V)]:0;++V;const R=V<B.length?F[B.charAt(V)]:64;++V;const e=V<B.length?F[B.charAt(V)]:64;if(++V,null==u||null==G||null==R||null==e)throw new p;const s=u<<2|G>>4;if(Z.push(s),64!==R){const B=G<<4&240|R>>2;if(Z.push(B),64!==e){const B=R<<6&192|e;Z.push(B)}}}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G=function(B){return function(B){const u=Z(B);return V.encodeByteArray(u,!0)}(B).replace(/\./g,"")},R=function(B){try{return V.decodeString(B,!0)}catch(u){console.error("base64Decode failed: ",u)}return null};const e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof F.g)return F.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,s=()=>{try{return e()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(F){return}const u=B&&R(B[1]);return u&&JSON.parse(u)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Y=B=>{var u,F;return null===(F=null===(u=s())||void 0===u?void 0:u.emulatorHosts)||void 0===F?void 0:F[B]},Q=()=>{var B;return null===(B=s())||void 0===B?void 0:B.config},t=B=>{var u;return null===(u=s())||void 0===u?void 0:u[`_${B}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((B,u)=>{this.resolve=B,this.reject=u}))}wrapCallback(B){return(u,F)=>{u?this.reject(u):this.resolve(F),"function"===typeof B&&(this.promise.catch((()=>{})),1===B.length?B(u):B(u,F))}}}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function L(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())}function q(){const B="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof B&&void 0!==B.id}function W(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function X(){const B=D();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function f(){try{return"object"===typeof indexedDB}catch(B){return!1}}function C(){return new Promise(((B,u)=>{try{let F=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(Z);V.onsuccess=()=>{V.result.close(),F||self.indexedDB.deleteDatabase(Z),B(!0)},V.onupgradeneeded=()=>{F=!1},V.onerror=()=>{var B;u((null===(B=V.error)||void 0===B?void 0:B.message)||"")}}catch(F){u(F)}}))}function x(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class U extends Error{constructor(B,u,F){super(u),this.code=B,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(B,u,F){this.service=B,this.serviceName=u,this.errors=F}create(B){const u=(arguments.length<=1?void 0:arguments[1])||{},F=`${this.service}/${B}`,Z=this.errors[B],V=Z?function(B,u){return B.replace(O,((B,F)=>{const Z=u[F];return null!=Z?String(Z):`<${F}?>`}))}(Z,u):"Error",p=`${this.serviceName}: ${V} (${F}).`;return new U(F,p,u)}}const O=/\{\$([^}]+)}/g;function g(B){for(const u in B)if(Object.prototype.hasOwnProperty.call(B,u))return!1;return!0}function J(B,u){if(B===u)return!0;const F=Object.keys(B),Z=Object.keys(u);for(const V of F){if(!Z.includes(V))return!1;const F=B[V],p=u[V];if(a(F)&&a(p)){if(!J(F,p))return!1}else if(F!==p)return!1}for(const V of Z)if(!F.includes(V))return!1;return!0}function a(B){return null!==B&&"object"===typeof B}function T(B){const u=[];for(const[F,Z]of Object.entries(B))Array.isArray(Z)?Z.forEach((B=>{u.push(encodeURIComponent(F)+"="+encodeURIComponent(B))})):u.push(encodeURIComponent(F)+"="+encodeURIComponent(Z));return u.length?"&"+u.join("&"):""}function z(B){const u={};return B.replace(/^\?/,"").split("&").forEach((B=>{if(B){const[F,Z]=B.split("=");u[decodeURIComponent(F)]=decodeURIComponent(Z)}})),u}function M(B){const u=B.indexOf("?");if(!u)return"";const F=B.indexOf("#",u);return B.substring(u,F>0?F:void 0)}function j(B,u){const F=new o(B,u);return F.subscribe.bind(F)}class o{constructor(B,u){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=u,this.task.then((()=>{B(this)})).catch((B=>{this.error(B)}))}next(B){this.forEachObserver((u=>{u.next(B)}))}error(B){this.forEachObserver((u=>{u.error(B)})),this.close(B)}complete(){this.forEachObserver((B=>{B.complete()})),this.close()}subscribe(B,u,F){let Z;if(void 0===B&&void 0===u&&void 0===F)throw new Error("Missing Observer.");Z=function(B,u){if("object"!==typeof B||null===B)return!1;for(const F of u)if(F in B&&"function"===typeof B[F])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:u,complete:F},void 0===Z.next&&(Z.next=I),void 0===Z.error&&(Z.error=I),void 0===Z.complete&&(Z.complete=I);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(B){}})),this.observers.push(Z),V}unsubscribeOne(B){void 0!==this.observers&&void 0!==this.observers[B]&&(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,B)}sendOne(B,u){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{u(this.observers[B])}catch(F){"undefined"!==typeof console&&console.error&&console.error(F)}}))}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function I(){}const mB=1e3,E=2,w=144e5,H=.5;function n(B){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:mB)*Math.pow(u,B),Z=Math.round(H*F*(Math.random()-.5)*2);return Math.min(w,F+Z)}function d(B){return B&&B._delegate?B._delegate:B}},12777:(B,u,F)=>{F.d(u,{e:()=>p.i,g:()=>QB,i:()=>k,j:()=>FB,k:()=>ZB,o:()=>BB,s:()=>RB,u:()=>uB,v:()=>pB,z:()=>VB,D:()=>GB,H:()=>LB,K:()=>vB,I:()=>DB,N:()=>tB,R:()=>WB,T:()=>qB,W:()=>XB});var Z=F(12780),V=F(12789),p=F(12782);let G,R;const e=new WeakMap,s=new WeakMap,Y=new WeakMap,Q=new WeakMap,t=new WeakMap;let v={get(B,u,F){if(B instanceof IDBTransaction){if("done"===u)return s.get(B);if("objectStoreNames"===u)return B.objectStoreNames||Y.get(B);if("store"===u)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return q(B[u])},set:(B,u,F)=>(B[u]=F,!0),has:(B,u)=>B instanceof IDBTransaction&&("done"===u||"store"===u)||u in B};function D(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(B)?function(){for(var u=arguments.length,F=new Array(u),Z=0;Z<u;Z++)F[Z]=arguments[Z];return B.apply(W(this),F),q(e.get(this))}:function(){for(var u=arguments.length,F=new Array(u),Z=0;Z<u;Z++)F[Z]=arguments[Z];return q(B.apply(W(this),F))}:function(u){for(var F=arguments.length,Z=new Array(F>1?F-1:0),V=1;V<F;V++)Z[V-1]=arguments[V];const p=B.call(W(this),u,...Z);return Y.set(p,u.sort?u.sort():[u]),q(p)}}function L(B){return"function"===typeof B?D(B):(B instanceof IDBTransaction&&function(B){if(s.has(B))return;const u=new Promise(((u,F)=>{const Z=()=>{B.removeEventListener("complete",V),B.removeEventListener("error",p),B.removeEventListener("abort",p)},V=()=>{u(),Z()},p=()=>{F(B.error||new DOMException("AbortError","AbortError")),Z()};B.addEventListener("complete",V),B.addEventListener("error",p),B.addEventListener("abort",p)}));s.set(B,u)}(B),u=B,(G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((B=>u instanceof B))?new Proxy(B,v):B);var u}function q(B){if(B instanceof IDBRequest)return function(B){const u=new Promise(((u,F)=>{const Z=()=>{B.removeEventListener("success",V),B.removeEventListener("error",p)},V=()=>{u(q(B.result)),Z()},p=()=>{F(B.error),Z()};B.addEventListener("success",V),B.addEventListener("error",p)}));return u.then((u=>{u instanceof IDBCursor&&e.set(u,B)})).catch((()=>{})),t.set(u,B),u}(B);if(Q.has(B))return Q.get(B);const u=L(B);return u!==B&&(Q.set(B,u),t.set(u,B)),u}const W=B=>t.get(B);const X=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],C=new Map;function x(B,u){if(!(B instanceof IDBDatabase)||u in B||"string"!==typeof u)return;if(C.get(u))return C.get(u);const F=u.replace(/FromIndex$/,""),Z=u!==F,V=f.includes(F);if(!(F in(Z?IDBIndex:IDBObjectStore).prototype)||!V&&!X.includes(F))return;const p=async function(B){const u=this.transaction(B,V?"readwrite":"readonly");let p=u.store;for(var G=arguments.length,R=new Array(G>1?G-1:0),e=1;e<G;e++)R[e-1]=arguments[e];return Z&&(p=p.index(R.shift())),(await Promise.all([p[F](...R),V&&u.done]))[0]};return C.set(u,p),p}v=(B=>({...B,get:(u,F,Z)=>x(u,F)||B.get(u,F,Z),has:(u,F)=>!!x(u,F)||B.has(u,F)}))(v);class U{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map((B=>{if(function(B){const u=B.getComponent();return"VERSION"===(null===u||void 0===u?void 0:u.type)}(B)){const u=B.getImmediate();return`${u.library}/${u.version}`}return null})).filter((B=>B)).join(" ")}}const y="@firebase/app",O="0.9.13",g=new V.e("@firebase/app"),J="@firebase/app-compat",a="@firebase/analytics-compat",T="@firebase/analytics",z="@firebase/app-check-compat",M="@firebase/app-check",j="@firebase/auth",o="@firebase/auth-compat",I="@firebase/database",mB="@firebase/database-compat",E="@firebase/functions",w="@firebase/functions-compat",H="@firebase/installations",n="@firebase/installations-compat",d="@firebase/messaging",l="@firebase/messaging-compat",P="@firebase/performance",c="@firebase/performance-compat",h="@firebase/remote-config",i="@firebase/remote-config-compat",r="@firebase/storage",K="@firebase/storage-compat",N="@firebase/firestore",A="@firebase/firestore-compat",b="firebase",k="[DEFAULT]",S={[y]:"fire-core",[J]:"fire-core-compat",[T]:"fire-analytics",[a]:"fire-analytics-compat",[M]:"fire-app-check",[z]:"fire-app-check-compat",[j]:"fire-auth",[o]:"fire-auth-compat",[I]:"fire-rtdb",[mB]:"fire-rtdb-compat",[E]:"fire-fn",[w]:"fire-fn-compat",[H]:"fire-iid",[n]:"fire-iid-compat",[d]:"fire-fcm",[l]:"fire-fcm-compat",[P]:"fire-perf",[c]:"fire-perf-compat",[h]:"fire-rc",[i]:"fire-rc-compat",[r]:"fire-gcs",[K]:"fire-gcs-compat",[N]:"fire-fst",[A]:"fire-fst-compat","fire-js":"fire-js",[b]:"fire-js-all"},BB=new Map,uB=new Map;function FB(B,u){try{B.container.ps(u)}catch(F){g.debug(`Component ${u.name} failed to register with FirebaseApp ${B.name}`,F)}}function ZB(B,u){B.container.addOrOverwriteComponent(u)}function VB(B){const u=B.name;if(uB.has(u))return g.debug(`There were multiple attempts to register component ${u}.`),!1;uB.set(u,B);for(const F of BB.values())FB(F,B);return!0}function pB(B,u){const F=B.container.getProvider("heartbeat").getImmediate({optional:!0});return F&&F.triggerHeartbeat(),B.container.getProvider(u)}function GB(B,u){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;pB(B,u).clearInstance(F)}function RB(){uB.clear()}const eB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sB=new p.g("app","Firebase",eB);class YB{constructor(B,u,F){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},u),this._name=u.name,this._automaticDataCollectionEnabled=u.automaticDataCollectionEnabled,this._container=F,this.container.ps(new Z.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw sB.create("app-deleted",{appName:this._name})}}const QB="9.23.0";function tB(B){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=B;if("object"!==typeof u){u={name:u}}const V=Object.assign({name:k,automaticDataCollectionEnabled:!1},u),G=V.name;if("string"!==typeof G||!G)throw sB.create("bad-app-name",{appName:String(G)});if(F||(F=(0,p.w)()),!F)throw sB.create("no-options");const R=BB.get(G);if(R){if((0,p.t)(F,R.options)&&(0,p.t)(V,R.config))return R;throw sB.create("duplicate-app",{appName:G})}const e=new Z.b(G);for(const Z of uB.values())e.ps(Z);const s=new YB(F,V,e);return BB.set(G,s),s}function vB(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;const u=BB.get(B);if(!u&&B===k&&(0,p.w)())return tB();if(!u)throw sB.create("no-app",{appName:B});return u}function DB(){return Array.from(BB.values())}async function LB(B){const u=B.name;BB.has(u)&&(BB.delete(u),await Promise.all(B.container.getProviders().map((B=>B.delete()))),B.isDeleted=!0)}function qB(B,u,F){var V;let p=null!==(V=S[B])&&void 0!==V?V:B;F&&(p+=`-${F}`);const G=p.match(/\s|\//),R=u.match(/\s|\//);if(G||R){const B=[`Unable to register library "${p}" with version "${u}":`];return G&&B.push(`library name "${p}" contains illegal characters (whitespace or "/")`),G&&R&&B.push("and"),R&&B.push(`version name "${u}" contains illegal characters (whitespace or "/")`),void g.warn(B.join(" "))}VB(new Z.e(`${p}-version`,(()=>({library:p,version:u})),"VERSION"))}function WB(B,u){if(null!==B&&"function"!==typeof B)throw sB.create("invalid-log-argument");(0,V.m)(B,u)}function XB(B){(0,V.i)(B)}const fB="firebase-heartbeat-store";let CB=null;function xB(){return CB||(CB=function(B,u){let{blocked:F,upgrade:Z,blocking:V,terminated:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const G=indexedDB.open(B,u),R=q(G);return Z&&G.addEventListener("upgradeneeded",(B=>{Z(q(G.result),B.oldVersion,B.newVersion,q(G.transaction),B)})),F&&G.addEventListener("blocked",(B=>F(B.oldVersion,B.newVersion,B))),R.then((B=>{p&&B.addEventListener("close",(()=>p())),V&&B.addEventListener("versionchange",(B=>V(B.oldVersion,B.newVersion,B)))})).catch((()=>{})),R}("firebase-heartbeat-database",1,{upgrade:(B,u)=>{if(0===u)B.createObjectStore(fB)}}).catch((B=>{throw sB.create("idb-open",{originalErrorMessage:B.message})}))),CB}async function UB(B,u){try{const F=(await xB()).transaction(fB,"readwrite"),Z=F.objectStore(fB);await Z.put(u,yB(B)),await F.done}catch(F){if(F instanceof p.i)g.warn(F.message);else{const B=sB.create("idb-set",{originalErrorMessage:null===F||void 0===F?void 0:F.message});g.warn(B.message)}}}function yB(B){return`${B.name}!${B.options.appId}`}class OB{constructor(B){this.container=B,this._heartbeatsCache=null;const u=this.container.getProvider("app").getImmediate();this.wQ=new JB(u),this._heartbeatsCachePromise=this.wQ.read().then((B=>(this._heartbeatsCache=B,B)))}async triggerHeartbeat(){const B=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gB();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==u&&!this._heartbeatsCache.heartbeats.some((B=>B.date===u)))return this._heartbeatsCache.heartbeats.push({date:u,agent:B}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((B=>{const u=new Date(B.date).valueOf();return Date.now()-u<=2592e6})),this.wQ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const B=gB(),{heartbeatsToSend:u,unsentEntries:F}=function(B){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const F=[];let Z=B.slice();for(const V of B){const B=F.find((B=>B.agent===V.agent));if(B){if(B.dates.push(V.date),aB(F)>u){B.dates.pop();break}}else if(F.push({agent:V.agent,dates:[V.date]}),aB(F)>u){F.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:F,unsentEntries:Z}}(this._heartbeatsCache.heartbeats),Z=(0,p.l)(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=B,F.length>0?(this._heartbeatsCache.heartbeats=F,await this.wQ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.wQ.overwrite(this._heartbeatsCache)),Z}}function gB(){return(new Date).toISOString().substring(0,10)}class JB{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,p.Q)()&&(0,p.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(B){try{const u=await xB();return await u.transaction(fB).objectStore(fB).get(yB(B))}catch(u){if(u instanceof p.i)g.warn(u.message);else{const B=sB.create("idb-get",{originalErrorMessage:null===u||void 0===u?void 0:u.message});g.warn(B.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(B){var u;if(await this._canUseIndexedDBPromise){const F=await this.read();return UB(this.app,{lastSentHeartbeatDate:null!==(u=B.lastSentHeartbeatDate)&&void 0!==u?u:F.lastSentHeartbeatDate,heartbeats:B.heartbeats})}}async add(B){var u;if(await this._canUseIndexedDBPromise){const F=await this.read();return UB(this.app,{lastSentHeartbeatDate:null!==(u=B.lastSentHeartbeatDate)&&void 0!==u?u:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...B.heartbeats]})}}}function aB(B){return(0,p.l)(JSON.stringify({version:2,heartbeats:B})).length}var TB;TB="",VB(new Z.e("platform-logger",(B=>new U(B)),"PRIVATE")),VB(new Z.e("heartbeat",(B=>new OB(B)),"PRIVATE")),qB(y,O,TB),qB(y,O,"esm2017"),qB("fire-js","")},12780:(B,u,F)=>{F.d(u,{b:()=>R,e:()=>V});var Z=F(12782);class V{constructor(B,u,F){this.name=B,this.instanceFactory=u,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const p="[DEFAULT]";class G{constructor(B,u){this.name=B,this.container=u,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const u=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(u)){const B=new Z.c;if(this.instancesDeferred.set(u,B),this.isInitialized(u)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:u});F&&B.resolve(F)}catch(F){}}return this.instancesDeferred.get(u).promise}getImmediate(B){var u;const F=this.normalizeInstanceIdentifier(null===B||void 0===B?void 0:B.identifier),Z=null!==(u=null===B||void 0===B?void 0:B.optional)&&void 0!==u&&u;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(V){if(Z)return null;throw V}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function(B){return"EAGER"===B.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:p})}catch(u){}for(const[B,F]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(B);try{const B=this.getOrInitializeService({instanceIdentifier:Z});F.resolve(B)}catch(u){}}}}clearInstance(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}async delete(){const B=Array.from(this.instances.values());await Promise.all([...B.filter((B=>"INTERNAL"in B)).map((B=>B.INTERNAL.delete())),...B.filter((B=>"_delete"in B)).map((B=>B._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.instances.has(B)}getOptions(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.instancesOptions.get(B)||{}}initialize(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:u={}}=B,F=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(F))throw Error(`${this.name}(${F}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:F,options:u});for(const[V,p]of this.instancesDeferred.entries()){F===this.normalizeInstanceIdentifier(V)&&p.resolve(Z)}return Z}DQ(B,u){var F;const Z=this.normalizeInstanceIdentifier(u),V=null!==(F=this.onInitCallbacks.get(Z))&&void 0!==F?F:new Set;V.add(B),this.onInitCallbacks.set(Z,V);const p=this.instances.get(Z);return p&&B(p,Z),()=>{V.delete(B)}}invokeOnInitCallbacks(B,u){const F=this.onInitCallbacks.get(u);if(F)for(const V of F)try{V(B,u)}catch(Z){}}getOrInitializeService(B){let{instanceIdentifier:u,options:F={}}=B,Z=this.instances.get(u);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(V=u,V===p?void 0:V),options:F}),this.instances.set(u,Z),this.instancesOptions.set(u,F),this.invokeOnInitCallbacks(Z,u),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,u,Z)}catch(G){}var V;return Z||null}normalizeInstanceIdentifier(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.component?this.component.multipleInstances?B:p:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R{constructor(B){this.name=B,this.providers=new Map}ps(B){const u=this.getProvider(B.name);if(u.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);u.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.ps(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const u=new G(B,this);return this.providers.set(B,u),u}getProviders(){return Array.from(this.providers.values())}}},12789:(B,u,F)=>{F.d(u,{b:()=>V,e:()=>s,i:()=>Y,m:()=>Q});const Z=[];var V;!function(B){B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT"}(V||(V={}));const p={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},G=V.INFO,R={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},e=function(B,u){if(u<B.logLevel)return;const F=(new Date).toISOString(),Z=R[u];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${u})`);for(var V=arguments.length,p=new Array(V>2?V-2:0),G=2;G<V;G++)p[G-2]=arguments[G];console[Z](`[${F}]  ${B.name}:`,...p)};class s{constructor(B){this.name=B,this._logLevel=G,this._logHandler=e,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in V))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"===typeof B?p[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!==typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(){for(var B=arguments.length,u=new Array(B),F=0;F<B;F++)u[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...u),this._logHandler(this,V.DEBUG,...u)}log(){for(var B=arguments.length,u=new Array(B),F=0;F<B;F++)u[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...u),this._logHandler(this,V.VERBOSE,...u)}info(){for(var B=arguments.length,u=new Array(B),F=0;F<B;F++)u[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,V.INFO,...u),this._logHandler(this,V.INFO,...u)}warn(){for(var B=arguments.length,u=new Array(B),F=0;F<B;F++)u[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,V.WARN,...u),this._logHandler(this,V.WARN,...u)}error(){for(var B=arguments.length,u=new Array(B),F=0;F<B;F++)u[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...u),this._logHandler(this,V.ERROR,...u)}}function Y(B){Z.forEach((u=>{u.setLogLevel(B)}))}function Q(B,u){for(const F of Z){let Z=null;u&&u.level&&(Z=p[u.level]),F.userLogHandler=null===B?null:function(u,F){for(var p=arguments.length,G=new Array(p>2?p-2:0),R=2;R<p;R++)G[R-2]=arguments[R];const e=G.map((B=>{if(null==B)return null;if("string"===typeof B)return B;if("number"===typeof B||"boolean"===typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch(u){return null}})).filter((B=>B)).join(" ");F>=(null!==Z&&void 0!==Z?Z:u.logLevel)&&B({level:V[F].toLowerCase(),message:e,args:G,type:u.name})}}}}}]);