/*! For license information please see f8awm.5.3d6698b9.chunk.js.LICENSE.txt */
"use strict";(self["9x1utqq1axc"]=self["9x1utqq1axc"]||[]).push([[5],{12118:(y,c,A)=>{A.d(c,{$:()=>H,C:()=>a,E:()=>o,H:()=>q,L:()=>O,M:()=>Q,O:()=>i,P:()=>P,T:()=>T,V:()=>t,Y:()=>s,bb:()=>D,d:()=>L,fb:()=>k,g:()=>K,h:()=>C,ib:()=>M,l:()=>X,mb:()=>B,n:()=>W,r:()=>p,t:()=>e,x:()=>u,y:()=>z});const l=function(y){const c=[];let A=0;for(let l=0;l<y.length;l++){let w=y.charCodeAt(l);w<128?c[A++]=w:w<2048?(c[A++]=w>>6|192,c[A++]=63&w|128):55296===(64512&w)&&l+1<y.length&&56320===(64512&y.charCodeAt(l+1))?(w=65536+((1023&w)<<10)+(1023&y.charCodeAt(++l)),c[A++]=w>>18|240,c[A++]=w>>12&63|128,c[A++]=w>>6&63|128,c[A++]=63&w|128):(c[A++]=w>>12|224,c[A++]=w>>6&63|128,c[A++]=63&w|128)}return c},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(y,c){if(!Array.isArray(y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let w=0;w<y.length;w+=3){const c=y[w],N=w+1<y.length,p=N?y[w+1]:0,W=w+2<y.length,h=W?y[w+2]:0,I=c>>2,q=(3&c)<<4|p>>4;let o=(15&p)<<2|h>>6,O=63&h;W||(O=64,N||(o=64)),l.push(A[I],A[q],A[o],A[O])}return l.join("")},encodeString(y,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(y):this.encodeByteArray(l(y),c)},decodeString(y,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(y):function(y){const c=[];let A=0,l=0;for(;A<y.length;){const w=y[A++];if(w<128)c[l++]=String.fromCharCode(w);else if(w>191&&w<224){const N=y[A++];c[l++]=String.fromCharCode((31&w)<<6|63&N)}else if(w>239&&w<365){const N=((7&w)<<18|(63&y[A++])<<12|(63&y[A++])<<6|63&y[A++])-65536;c[l++]=String.fromCharCode(55296+(N>>10)),c[l++]=String.fromCharCode(56320+(1023&N))}else{const N=y[A++],p=y[A++];c[l++]=String.fromCharCode((15&w)<<12|(63&N)<<6|63&p)}}return c.join("")}(this.decodeStringToByteArray(y,c))},decodeStringToByteArray(y,c){this.init_();const A=c?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let w=0;w<y.length;){const c=A[y.charAt(w++)],p=w<y.length?A[y.charAt(w)]:0;++w;const W=w<y.length?A[y.charAt(w)]:64;++w;const h=w<y.length?A[y.charAt(w)]:64;if(++w,null==c||null==p||null==W||null==h)throw new N;const I=c<<2|p>>4;if(l.push(I),64!==W){const y=p<<4&240|W>>2;if(l.push(y),64!==h){const y=W<<6&192|h;l.push(y)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let y=0;y<this.ENCODED_VALS.length;y++)this.byteToCharMap_[y]=this.ENCODED_VALS.charAt(y),this.charToByteMap_[this.byteToCharMap_[y]]=y,this.byteToCharMapWebSafe_[y]=this.ENCODED_VALS_WEBSAFE.charAt(y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[y]]=y,y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(y)]=y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(y)]=y)}}};class N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(y){return function(y){const c=l(y);return w.encodeByteArray(c,!0)}(y).replace(/\./g,"")},W=function(y){try{return w.decodeString(y,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const h=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof A.g)return A.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,I=()=>{try{return h()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let y;try{y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(A){return}const c=y&&W(y[1]);return c&&JSON.parse(c)})()}catch(y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${y}`)}},q=y=>{var c,A;return null===(A=null===(c=I())||void 0===c?void 0:c.emulatorHosts)||void 0===A?void 0:A[y]},o=()=>{var y;return null===(y=I())||void 0===y?void 0:y.config},O=y=>{var c;return null===(c=I())||void 0===c?void 0:c[`_${y}`]};class L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((y,c)=>{this.resolve=y,this.reject=c}))}wrapCallback(y){return(c,A)=>{c?this.reject(c):this.resolve(A),"function"===typeof y&&(this.promise.catch((()=>{})),1===y.length?y(c):y(c,A))}}}function i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i())}function P(){const y="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof y&&void 0!==y.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const y=i();return y.indexOf("MSIE ")>=0||y.indexOf("Trident/")>=0}function s(){try{return"object"===typeof indexedDB}catch(y){return!1}}function B(){return new Promise(((y,c)=>{try{let A=!0;const l="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(l);w.onsuccess=()=>{w.result.close(),A||self.indexedDB.deleteDatabase(l),y(!0)},w.onupgradeneeded=()=>{A=!1},w.onerror=()=>{var y;c((null===(y=w.error)||void 0===y?void 0:y.message)||"")}}catch(A){c(A)}}))}function X(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class C extends Error{constructor(y,c,A){super(c),this.code=y,this.customData=A,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(y,c,A){this.service=y,this.serviceName=c,this.errors=A}create(y){const c=(arguments.length<=1?void 0:arguments[1])||{},A=`${this.service}/${y}`,l=this.errors[y],w=l?function(y,c){return y.replace(my,((y,A)=>{const l=c[A];return null!=l?String(l):`<${A}?>`}))}(l,c):"Error",N=`${this.serviceName}: ${w} (${A}).`;return new C(A,N,c)}}const my=/\{\$([^}]+)}/g;function T(y){for(const c in y)if(Object.prototype.hasOwnProperty.call(y,c))return!1;return!0}function z(y,c){if(y===c)return!0;const A=Object.keys(y),l=Object.keys(c);for(const w of A){if(!l.includes(w))return!1;const A=y[w],N=c[w];if(S(A)&&S(N)){if(!z(A,N))return!1}else if(A!==N)return!1}for(const w of l)if(!A.includes(w))return!1;return!0}function S(y){return null!==y&&"object"===typeof y}function M(y){const c=[];for(const[A,l]of Object.entries(y))Array.isArray(l)?l.forEach((y=>{c.push(encodeURIComponent(A)+"="+encodeURIComponent(y))})):c.push(encodeURIComponent(A)+"="+encodeURIComponent(l));return c.length?"&"+c.join("&"):""}function k(y){const c={};return y.replace(/^\?/,"").split("&").forEach((y=>{if(y){const[A,l]=y.split("=");c[decodeURIComponent(A)]=decodeURIComponent(l)}})),c}function a(y){const c=y.indexOf("?");if(!c)return"";const A=y.indexOf("#",c);return y.substring(c,A>0?A:void 0)}function u(y,c){const A=new G(y,c);return A.subscribe.bind(A)}class G{constructor(y,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{y(this)})).catch((y=>{this.error(y)}))}next(y){this.forEachObserver((c=>{c.next(y)}))}error(y){this.forEachObserver((c=>{c.error(y)})),this.close(y)}complete(){this.forEachObserver((y=>{y.complete()})),this.close()}subscribe(y,c,A){let l;if(void 0===y&&void 0===c&&void 0===A)throw new Error("Missing Observer.");l=function(y,c){if("object"!==typeof y||null===y)return!1;for(const A of c)if(A in y&&"function"===typeof y[A])return!0;return!1}(y,["next","error","complete"])?y:{next:y,error:c,complete:A},void 0===l.next&&(l.next=j),void 0===l.error&&(l.error=j),void 0===l.complete&&(l.complete=j);const w=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch(y){}})),this.observers.push(l),w}unsubscribeOne(y){void 0!==this.observers&&void 0!==this.observers[y]&&(delete this.observers[y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(y){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,y)}sendOne(y,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[y])try{c(this.observers[y])}catch(A){"undefined"!==typeof console&&console.error&&console.error(A)}}))}close(y){this.finalized||(this.finalized=!0,void 0!==y&&(this.finalError=y),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(){}const f=1e3,V=2,J=144e5,U=.5;function e(y){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const A=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f)*Math.pow(c,y),l=Math.round(U*A*(Math.random()-.5)*2);return Math.min(J,A+l)}function Q(y){return y&&y._delegate?y._delegate:y}},12106:(y,c,A)=>{A.d(c,{c:()=>N.h,d:()=>oy,h:()=>v,k:()=>Ay,l:()=>ly,o:()=>yy,s:()=>Wy,u:()=>cy,y:()=>Ny,A:()=>wy,B:()=>py,D:()=>Hy,H:()=>Ly,F:()=>iy,I:()=>Oy,J:()=>Dy,M:()=>Py,O:()=>ty});var l=A(12113),w=A(12126),N=A(12118);let p,W;const h=new WeakMap,I=new WeakMap,q=new WeakMap,o=new WeakMap,O=new WeakMap;let L={get(y,c,A){if(y instanceof IDBTransaction){if("done"===c)return I.get(y);if("objectStoreNames"===c)return y.objectStoreNames||q.get(y);if("store"===c)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return P(y[c])},set:(y,c,A)=>(y[c]=A,!0),has:(y,c)=>y instanceof IDBTransaction&&("done"===c||"store"===c)||c in y};function i(y){return y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(y)?function(){for(var c=arguments.length,A=new Array(c),l=0;l<c;l++)A[l]=arguments[l];return y.apply(D(this),A),P(h.get(this))}:function(){for(var c=arguments.length,A=new Array(c),l=0;l<c;l++)A[l]=arguments[l];return P(y.apply(D(this),A))}:function(c){for(var A=arguments.length,l=new Array(A>1?A-1:0),w=1;w<A;w++)l[w-1]=arguments[w];const N=y.call(D(this),c,...l);return q.set(N,c.sort?c.sort():[c]),P(N)}}function H(y){return"function"===typeof y?i(y):(y instanceof IDBTransaction&&function(y){if(I.has(y))return;const c=new Promise(((c,A)=>{const l=()=>{y.removeEventListener("complete",w),y.removeEventListener("error",N),y.removeEventListener("abort",N)},w=()=>{c(),l()},N=()=>{A(y.error||new DOMException("AbortError","AbortError")),l()};y.addEventListener("complete",w),y.addEventListener("error",N),y.addEventListener("abort",N)}));I.set(y,c)}(y),c=y,(p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((y=>c instanceof y))?new Proxy(y,L):y);var c}function P(y){if(y instanceof IDBRequest)return function(y){const c=new Promise(((c,A)=>{const l=()=>{y.removeEventListener("success",w),y.removeEventListener("error",N)},w=()=>{c(P(y.result)),l()},N=()=>{A(y.error),l()};y.addEventListener("success",w),y.addEventListener("error",N)}));return c.then((c=>{c instanceof IDBCursor&&h.set(c,y)})).catch((()=>{})),O.set(c,y),c}(y);if(o.has(y))return o.get(y);const c=H(y);return c!==y&&(o.set(y,c),O.set(c,y)),c}const D=y=>O.get(y);const t=["get","getKey","getAll","getAllKeys","count"],s=["put","add","delete","clear"],B=new Map;function X(y,c){if(!(y instanceof IDBDatabase)||c in y||"string"!==typeof c)return;if(B.get(c))return B.get(c);const A=c.replace(/FromIndex$/,""),l=c!==A,w=s.includes(A);if(!(A in(l?IDBIndex:IDBObjectStore).prototype)||!w&&!t.includes(A))return;const N=async function(y){const c=this.transaction(y,w?"readwrite":"readonly");let N=c.store;for(var p=arguments.length,W=new Array(p>1?p-1:0),h=1;h<p;h++)W[h-1]=arguments[h];return l&&(N=N.index(W.shift())),(await Promise.all([N[A](...W),w&&c.done]))[0]};return B.set(c,N),N}L=(y=>({...y,get:(c,A,l)=>X(c,A)||y.get(c,A,l),has:(c,A)=>!!X(c,A)||y.has(c,A)}))(L);class C{constructor(y){this.container=y}getPlatformInfoString(){return this.container.getProviders().map((y=>{if(function(y){const c=y.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(y)){const c=y.getImmediate();return`${c.library}/${c.version}`}return null})).filter((y=>y)).join(" ")}}const K="@firebase/app",my="0.9.13",T=new w.h("@firebase/app"),z="@firebase/app-compat",S="@firebase/analytics-compat",M="@firebase/analytics",k="@firebase/app-check-compat",a="@firebase/app-check",u="@firebase/auth",G="@firebase/auth-compat",j="@firebase/database",f="@firebase/database-compat",V="@firebase/functions",J="@firebase/functions-compat",U="@firebase/installations",e="@firebase/installations-compat",Q="@firebase/messaging",Y="@firebase/messaging-compat",g="@firebase/performance",x="@firebase/performance-compat",F="@firebase/remote-config",R="@firebase/remote-config-compat",r="@firebase/storage",n="@firebase/storage-compat",E="@firebase/firestore",b="@firebase/firestore-compat",Z="firebase",v="[DEFAULT]",d={[K]:"fire-core",[z]:"fire-core-compat",[M]:"fire-analytics",[S]:"fire-analytics-compat",[a]:"fire-app-check",[k]:"fire-app-check-compat",[u]:"fire-auth",[G]:"fire-auth-compat",[j]:"fire-rtdb",[f]:"fire-rtdb-compat",[V]:"fire-fn",[J]:"fire-fn-compat",[U]:"fire-iid",[e]:"fire-iid-compat",[Q]:"fire-fcm",[Y]:"fire-fcm-compat",[g]:"fire-perf",[x]:"fire-perf-compat",[F]:"fire-rc",[R]:"fire-rc-compat",[r]:"fire-gcs",[n]:"fire-gcs-compat",[E]:"fire-fst",[b]:"fire-fst-compat","fire-js":"fire-js",[Z]:"fire-js-all"},yy=new Map,cy=new Map;function Ay(y,c){try{y.container.LI(c)}catch(A){T.debug(`Component ${c.name} failed to register with FirebaseApp ${y.name}`,A)}}function ly(y,c){y.container.addOrOverwriteComponent(c)}function wy(y){const c=y.name;if(cy.has(c))return T.debug(`There were multiple attempts to register component ${c}.`),!1;cy.set(c,y);for(const A of yy.values())Ay(A,y);return!0}function Ny(y,c){const A=y.container.getProvider("heartbeat").getImmediate({optional:!0});return A&&A.triggerHeartbeat(),y.container.getProvider(c)}function py(y,c){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;Ny(y,c).clearInstance(A)}function Wy(){cy.clear()}const hy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Iy=new N.g("app","Firebase",hy);class qy{constructor(y,c,A){this._isDeleted=!1,this._options=Object.assign({},y),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=A,this.container.LI(new l.c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(y){this.checkDestroyed(),this._automaticDataCollectionEnabled=y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(y){this._isDeleted=y}checkDestroyed(){if(this.isDeleted)throw Iy.create("app-deleted",{appName:this._name})}}const oy="9.23.0";function Oy(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=y;if("object"!==typeof c){c={name:c}}const w=Object.assign({name:v,automaticDataCollectionEnabled:!1},c),p=w.name;if("string"!==typeof p||!p)throw Iy.create("bad-app-name",{appName:String(p)});if(A||(A=(0,N.E)()),!A)throw Iy.create("no-options");const W=yy.get(p);if(W){if((0,N.y)(A,W.options)&&(0,N.y)(w,W.config))return W;throw Iy.create("duplicate-app",{appName:p})}const h=new l.b(p);for(const l of cy.values())h.LI(l);const I=new qy(A,w,h);return yy.set(p,I),I}function Ly(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const c=yy.get(y);if(!c&&y===v&&(0,N.E)())return Oy();if(!c)throw Iy.create("no-app",{appName:y});return c}function iy(){return Array.from(yy.values())}async function Hy(y){const c=y.name;yy.has(c)&&(yy.delete(c),await Promise.all(y.container.getProviders().map((y=>y.delete()))),y.isDeleted=!0)}function Py(y,c,A){var w;let N=null!==(w=d[y])&&void 0!==w?w:y;A&&(N+=`-${A}`);const p=N.match(/\s|\//),W=c.match(/\s|\//);if(p||W){const y=[`Unable to register library "${N}" with version "${c}":`];return p&&y.push(`library name "${N}" contains illegal characters (whitespace or "/")`),p&&W&&y.push("and"),W&&y.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void T.warn(y.join(" "))}wy(new l.c(`${N}-version`,(()=>({library:N,version:c})),"VERSION"))}function Dy(y,c){if(null!==y&&"function"!==typeof y)throw Iy.create("invalid-log-argument");(0,w.m)(y,c)}function ty(y){(0,w.j)(y)}const sy="firebase-heartbeat-store";let By=null;function Xy(){return By||(By=function(y,c){let{blocked:A,upgrade:l,blocking:w,terminated:N}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const p=indexedDB.open(y,c),W=P(p);return l&&p.addEventListener("upgradeneeded",(y=>{l(P(p.result),y.oldVersion,y.newVersion,P(p.transaction),y)})),A&&p.addEventListener("blocked",(y=>A(y.oldVersion,y.newVersion,y))),W.then((y=>{N&&y.addEventListener("close",(()=>N())),w&&y.addEventListener("versionchange",(y=>w(y.oldVersion,y.newVersion,y)))})).catch((()=>{})),W}("firebase-heartbeat-database",1,{upgrade:(y,c)=>{if(0===c)y.createObjectStore(sy)}}).catch((y=>{throw Iy.create("idb-open",{originalErrorMessage:y.message})}))),By}async function Cy(y,c){try{const A=(await Xy()).transaction(sy,"readwrite"),l=A.objectStore(sy);await l.put(c,Ky(y)),await A.done}catch(A){if(A instanceof N.h)T.warn(A.message);else{const y=Iy.create("idb-set",{originalErrorMessage:null===A||void 0===A?void 0:A.message});T.warn(y.message)}}}function Ky(y){return`${y.name}!${y.options.appId}`}class mc{constructor(y){this.container=y,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.Ro=new zy(c),this._heartbeatsCachePromise=this.Ro.read().then((y=>(this._heartbeatsCache=y,y)))}async triggerHeartbeat(){const y=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ty();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((y=>y.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:y}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((y=>{const c=new Date(y.date).valueOf();return Date.now()-c<=2592e6})),this.Ro.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const y=Ty(),{heartbeatsToSend:c,unsentEntries:A}=function(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const A=[];let l=y.slice();for(const w of y){const y=A.find((y=>y.agent===w.agent));if(y){if(y.dates.push(w.date),Sy(A)>c){y.dates.pop();break}}else if(A.push({agent:w.agent,dates:[w.date]}),Sy(A)>c){A.pop();break}l=l.slice(1)}return{heartbeatsToSend:A,unsentEntries:l}}(this._heartbeatsCache.heartbeats),l=(0,N.r)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=y,A.length>0?(this._heartbeatsCache.heartbeats=A,await this.Ro.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ro.overwrite(this._heartbeatsCache)),l}}function Ty(){return(new Date).toISOString().substring(0,10)}class zy{constructor(y){this.app=y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,N.Y)()&&(0,N.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(y){try{const c=await Xy();return await c.transaction(sy).objectStore(sy).get(Ky(y))}catch(c){if(c instanceof N.h)T.warn(c.message);else{const y=Iy.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});T.warn(y.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(y){var c;if(await this._canUseIndexedDBPromise){const A=await this.read();return Cy(this.app,{lastSentHeartbeatDate:null!==(c=y.lastSentHeartbeatDate)&&void 0!==c?c:A.lastSentHeartbeatDate,heartbeats:y.heartbeats})}}async add(y){var c;if(await this._canUseIndexedDBPromise){const A=await this.read();return Cy(this.app,{lastSentHeartbeatDate:null!==(c=y.lastSentHeartbeatDate)&&void 0!==c?c:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...y.heartbeats]})}}}function Sy(y){return(0,N.r)(JSON.stringify({version:2,heartbeats:y})).length}var My;My="",wy(new l.c("platform-logger",(y=>new C(y)),"PRIVATE")),wy(new l.c("heartbeat",(y=>new mc(y)),"PRIVATE")),Py(K,my,My),Py(K,my,"esm2017"),Py("fire-js","")},12113:(y,c,A)=>{A.d(c,{b:()=>W,c:()=>w});var l=A(12118);class w{constructor(y,c,A){this.name=y,this.instanceFactory=c,this.type=A,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(y){return this.instantiationMode=y,this}setMultipleInstances(y){return this.multipleInstances=y,this}setServiceProps(y){return this.serviceProps=y,this}setInstanceCreatedCallback(y){return this.onInstanceCreated=y,this}}const N="[DEFAULT]";class p{constructor(y,c){this.name=y,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(y){const c=this.normalizeInstanceIdentifier(y);if(!this.instancesDeferred.has(c)){const y=new l.d;if(this.instancesDeferred.set(c,y),this.isInitialized(c)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:c});A&&y.resolve(A)}catch(A){}}return this.instancesDeferred.get(c).promise}getImmediate(y){var c;const A=this.normalizeInstanceIdentifier(null===y||void 0===y?void 0:y.identifier),l=null!==(c=null===y||void 0===y?void 0:y.optional)&&void 0!==c&&c;if(!this.isInitialized(A)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:A})}catch(w){if(l)return null;throw w}}getComponent(){return this.component}setComponent(y){if(y.name!==this.name)throw Error(`Mismatching Component ${y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=y,this.shouldAutoInitialize()){if(function(y){return"EAGER"===y.instantiationMode}(y))try{this.getOrInitializeService({instanceIdentifier:N})}catch(c){}for(const[y,A]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(y);try{const y=this.getOrInitializeService({instanceIdentifier:l});A.resolve(y)}catch(c){}}}}clearInstance(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;this.instancesDeferred.delete(y),this.instancesOptions.delete(y),this.instances.delete(y)}async delete(){const y=Array.from(this.instances.values());await Promise.all([...y.filter((y=>"INTERNAL"in y)).map((y=>y.INTERNAL.delete())),...y.filter((y=>"_delete"in y)).map((y=>y._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instances.has(y)}getOptions(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instancesOptions.get(y)||{}}initialize(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=y,A=this.normalizeInstanceIdentifier(y.instanceIdentifier);if(this.isInitialized(A))throw Error(`${this.name}(${A}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:A,options:c});for(const[w,N]of this.instancesDeferred.entries()){A===this.normalizeInstanceIdentifier(w)&&N.resolve(l)}return l}Co(y,c){var A;const l=this.normalizeInstanceIdentifier(c),w=null!==(A=this.onInitCallbacks.get(l))&&void 0!==A?A:new Set;w.add(y),this.onInitCallbacks.set(l,w);const N=this.instances.get(l);return N&&y(N,l),()=>{w.delete(y)}}invokeOnInitCallbacks(y,c){const A=this.onInitCallbacks.get(c);if(A)for(const w of A)try{w(y,c)}catch(l){}}getOrInitializeService(y){let{instanceIdentifier:c,options:A={}}=y,l=this.instances.get(c);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:(w=c,w===N?void 0:w),options:A}),this.instances.set(c,l),this.instancesOptions.set(c,A),this.invokeOnInitCallbacks(l,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,l)}catch(p){}var w;return l||null}normalizeInstanceIdentifier(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.component?this.component.multipleInstances?y:N:y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(y){this.name=y,this.providers=new Map}LI(y){const c=this.getProvider(y.name);if(c.isComponentSet())throw new Error(`Component ${y.name} has already been registered with ${this.name}`);c.setComponent(y)}addOrOverwriteComponent(y){this.getProvider(y.name).isComponentSet()&&this.providers.delete(y.name),this.LI(y)}getProvider(y){if(this.providers.has(y))return this.providers.get(y);const c=new p(y,this);return this.providers.set(y,c),c}getProviders(){return Array.from(this.providers.values())}}},12126:(y,c,A)=>{A.d(c,{d:()=>w,h:()=>I,j:()=>q,m:()=>o});const l=[];var w;!function(y){y[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT"}(w||(w={}));const N={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},p=w.INFO,W={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},h=function(y,c){if(c<y.logLevel)return;const A=(new Date).toISOString(),l=W[c];if(!l)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var w=arguments.length,N=new Array(w>2?w-2:0),p=2;p<w;p++)N[p-2]=arguments[p];console[l](`[${A}]  ${y.name}:`,...N)};class I{constructor(y){this.name=y,this._logLevel=p,this._logHandler=h,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(y){if(!(y in w))throw new TypeError(`Invalid value "${y}" assigned to \`logLevel\``);this._logLevel=y}setLogLevel(y){this._logLevel="string"===typeof y?N[y]:y}get logHandler(){return this._logHandler}set logHandler(y){if("function"!==typeof y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=y}get userLogHandler(){return this._userLogHandler}set userLogHandler(y){this._userLogHandler=y}debug(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...c),this._logHandler(this,w.DEBUG,...c)}log(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...c),this._logHandler(this,w.VERBOSE,...c)}info(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,w.INFO,...c),this._logHandler(this,w.INFO,...c)}warn(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,w.WARN,...c),this._logHandler(this,w.WARN,...c)}error(){for(var y=arguments.length,c=new Array(y),A=0;A<y;A++)c[A]=arguments[A];this._userLogHandler&&this._userLogHandler(this,w.ERROR,...c),this._logHandler(this,w.ERROR,...c)}}function q(y){l.forEach((c=>{c.setLogLevel(y)}))}function o(y,c){for(const A of l){let l=null;c&&c.level&&(l=N[c.level]),A.userLogHandler=null===y?null:function(c,A){for(var N=arguments.length,p=new Array(N>2?N-2:0),W=2;W<N;W++)p[W-2]=arguments[W];const h=p.map((y=>{if(null==y)return null;if("string"===typeof y)return y;if("number"===typeof y||"boolean"===typeof y)return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch(c){return null}})).filter((y=>y)).join(" ");A>=(null!==l&&void 0!==l?l:c.logLevel)&&y({level:w[A].toLowerCase(),message:h,args:p,type:c.name})}}}}}]);