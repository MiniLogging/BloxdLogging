/*! For license information please see 6vj9d.5.f8202d71.chunk.js.LICENSE.txt */
"use strict";(self.u4k1rqylno=self.u4k1rqylno||[]).push([[5],{11515:(e,E,H)=>{H.d(E,{B:()=>i,D:()=>C,G:()=>V,K:()=>me,M:()=>j,O:()=>h,R:()=>s,S:()=>X,W:()=>a,_:()=>F,ab:()=>S,cb:()=>b,e:()=>U,fb:()=>y,g:()=>f,gb:()=>W,h:()=>Y,i:()=>r,l:()=>M,o:()=>P,p:()=>G,s:()=>l,u:()=>p,y:()=>K});const N=function(e){const E=[];let H=0;for(let N=0;N<e.length;N++){let u=e.charCodeAt(N);u<128?E[H++]=u:u<2048?(E[H++]=u>>6|192,E[H++]=63&u|128):55296===(64512&u)&&N+1<e.length&&56320===(64512&e.charCodeAt(N+1))?(u=65536+((1023&u)<<10)+(1023&e.charCodeAt(++N)),E[H++]=u>>18|240,E[H++]=u>>12&63|128,E[H++]=u>>6&63|128,E[H++]=63&u|128):(E[H++]=u>>12|224,E[H++]=u>>6&63|128,E[H++]=63&u|128)}return E},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,E){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let u=0;u<e.length;u+=3){const E=e[u],z=u+1<e.length,P=z?e[u+1]:0,M=u+2<e.length,D=M?e[u+2]:0,A=E>>2,C=(3&E)<<4|P>>4;let i=(15&P)<<2|D>>6,V=63&D;M||(V=64,z||(i=64)),N.push(H[A],H[C],H[i],H[V])}return N.join("")},encodeString(e,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa(e):this.encodeByteArray(N(e),E)},decodeString(e,E){return this.HAS_NATIVE_SUPPORT&&!E?atob(e):function(e){const E=[];let H=0,N=0;for(;H<e.length;){const u=e[H++];if(u<128)E[N++]=String.fromCharCode(u);else if(u>191&&u<224){const z=e[H++];E[N++]=String.fromCharCode((31&u)<<6|63&z)}else if(u>239&&u<365){const z=((7&u)<<18|(63&e[H++])<<12|(63&e[H++])<<6|63&e[H++])-65536;E[N++]=String.fromCharCode(55296+(z>>10)),E[N++]=String.fromCharCode(56320+(1023&z))}else{const z=e[H++],P=e[H++];E[N++]=String.fromCharCode((15&u)<<12|(63&z)<<6|63&P)}}return E.join("")}(this.decodeStringToByteArray(e,E))},decodeStringToByteArray(e,E){this.init_();const H=E?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let u=0;u<e.length;){const E=H[e.charAt(u++)],P=u<e.length?H[e.charAt(u)]:0;++u;const M=u<e.length?H[e.charAt(u)]:64;++u;const D=u<e.length?H[e.charAt(u)]:64;if(++u,null==E||null==P||null==M||null==D)throw new z;const A=E<<2|P>>4;if(N.push(A),64!==M){const e=P<<4&240|M>>2;if(N.push(e),64!==D){const e=M<<6&192|D;N.push(e)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P=function(e){return function(e){const E=N(e);return u.encodeByteArray(E,!0)}(e).replace(/\./g,"")},M=function(e){try{return u.decodeString(e,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};const D=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof H.g)return H.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,A=()=>{try{return D()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(H){return}const E=e&&M(e[1]);return E&&JSON.parse(E)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},C=e=>{var E,H;return null===(H=null===(E=A())||void 0===E?void 0:E.emulatorHosts)||void 0===H?void 0:H[e]},i=()=>{var e;return null===(e=A())||void 0===e?void 0:e.config},V=e=>{var E;return null===(E=A())||void 0===E?void 0:E[`_${e}`]};class U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,E)=>{this.resolve=e,this.reject=E}))}wrapCallback(e){return(E,H)=>{E?this.reject(E):this.resolve(H),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(E):e(E,H))}}}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function h(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function X(){const e=j();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function a(){try{return"object"===typeof indexedDB}catch(e){return!1}}function W(){return new Promise(((e,E)=>{try{let H=!0;const N="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(N);u.onsuccess=()=>{u.result.close(),H||self.indexedDB.deleteDatabase(N),e(!0)},u.onupgradeneeded=()=>{H=!1},u.onerror=()=>{var e;E((null===(e=u.error)||void 0===e?void 0:e.message)||"")}}catch(H){E(H)}}))}function r(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Y extends Error{constructor(e,E,H){super(E),this.code=e,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(e,E,H){this.service=e,this.serviceName=E,this.errors=H}create(e){const E=(arguments.length<=1?void 0:arguments[1])||{},H=`${this.service}/${e}`,N=this.errors[e],u=N?function(e,E){return e.replace(w,((e,H)=>{const N=E[H];return null!=N?String(N):`<${H}?>`}))}(N,E):"Error",z=`${this.serviceName}: ${u} (${H}).`;return new Y(H,z,E)}}const w=/\{\$([^}]+)}/g;function s(e){for(const E in e)if(Object.prototype.hasOwnProperty.call(e,E))return!1;return!0}function p(e,E){if(e===E)return!0;const H=Object.keys(e),N=Object.keys(E);for(const u of H){if(!N.includes(u))return!1;const H=e[u],z=E[u];if(o(H)&&o(z)){if(!p(H,z))return!1}else if(H!==z)return!1}for(const u of N)if(!H.includes(u))return!1;return!0}function o(e){return null!==e&&"object"===typeof e}function y(e){const E=[];for(const[H,N]of Object.entries(e))Array.isArray(N)?N.forEach((e=>{E.push(encodeURIComponent(H)+"="+encodeURIComponent(e))})):E.push(encodeURIComponent(H)+"="+encodeURIComponent(N));return E.length?"&"+E.join("&"):""}function b(e){const E={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[H,N]=e.split("=");E[decodeURIComponent(H)]=decodeURIComponent(N)}})),E}function K(e){const E=e.indexOf("?");if(!E)return"";const H=e.indexOf("#",E);return e.substring(E,H>0?H:void 0)}function l(e,E){const H=new O(e,E);return H.subscribe.bind(H)}class O{constructor(e,E){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=E,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((E=>{E.next(e)}))}error(e){this.forEachObserver((E=>{E.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,E,H){let N;if(void 0===e&&void 0===E&&void 0===H)throw new Error("Missing Observer.");N=function(e,E){if("object"!==typeof e||null===e)return!1;for(const H of E)if(H in e&&"function"===typeof e[H])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:E,complete:H},void 0===N.next&&(N.next=v),void 0===N.error&&(N.error=v),void 0===N.complete&&(N.complete=v);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(e){}})),this.observers.push(N),u}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let E=0;E<this.observers.length;E++)this.sendOne(E,e)}sendOne(e,E){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{E(this.observers[e])}catch(H){"undefined"!==typeof console&&console.error&&console.error(H)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function v(){}const R=1e3,T=2,L=144e5,d=.5;function G(e){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const H=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:R)*Math.pow(E,e),N=Math.round(d*H*(Math.random()-.5)*2);return Math.min(L,H+N)}function me(e){return e&&e._delegate?e._delegate:e}},11498:(e,E,H)=>{H.d(E,{b:()=>z.h,d:()=>ie,f:()=>g,g:()=>He,i:()=>Ne,l:()=>ee,n:()=>Me,r:()=>Ee,u:()=>ze,v:()=>ue,x:()=>Pe,z:()=>Fe,F:()=>Ue,B:()=>je,H:()=>Ve,J:()=>Se,N:()=>he,P:()=>Xe});var N=H(11507),u=H(11521),z=H(11515);let P,M;const D=new WeakMap,A=new WeakMap,C=new WeakMap,i=new WeakMap,V=new WeakMap;let U={get(e,E,H){if(e instanceof IDBTransaction){if("done"===E)return A.get(e);if("objectStoreNames"===E)return e.objectStoreNames||C.get(e);if("store"===E)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return h(e[E])},set:(e,E,H)=>(e[E]=H,!0),has:(e,E)=>e instanceof IDBTransaction&&("done"===E||"store"===E)||E in e};function j(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(M||(M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var E=arguments.length,H=new Array(E),N=0;N<E;N++)H[N]=arguments[N];return e.apply(S(this),H),h(D.get(this))}:function(){for(var E=arguments.length,H=new Array(E),N=0;N<E;N++)H[N]=arguments[N];return h(e.apply(S(this),H))}:function(E){for(var H=arguments.length,N=new Array(H>1?H-1:0),u=1;u<H;u++)N[u-1]=arguments[u];const z=e.call(S(this),E,...N);return C.set(z,E.sort?E.sort():[E]),h(z)}}function F(e){return"function"===typeof e?j(e):(e instanceof IDBTransaction&&function(e){if(A.has(e))return;const E=new Promise(((E,H)=>{const N=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",z),e.removeEventListener("abort",z)},u=()=>{E(),N()},z=()=>{H(e.error||new DOMException("AbortError","AbortError")),N()};e.addEventListener("complete",u),e.addEventListener("error",z),e.addEventListener("abort",z)}));A.set(e,E)}(e),E=e,(P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>E instanceof e))?new Proxy(e,U):e);var E}function h(e){if(e instanceof IDBRequest)return function(e){const E=new Promise(((E,H)=>{const N=()=>{e.removeEventListener("success",u),e.removeEventListener("error",z)},u=()=>{E(h(e.result)),N()},z=()=>{H(e.error),N()};e.addEventListener("success",u),e.addEventListener("error",z)}));return E.then((E=>{E instanceof IDBCursor&&D.set(E,e)})).catch((()=>{})),V.set(E,e),E}(e);if(i.has(e))return i.get(e);const E=F(e);return E!==e&&(i.set(e,E),V.set(E,e)),E}const S=e=>V.get(e);const X=["get","getKey","getAll","getAllKeys","count"],a=["put","add","delete","clear"],W=new Map;function r(e,E){if(!(e instanceof IDBDatabase)||E in e||"string"!==typeof E)return;if(W.get(E))return W.get(E);const H=E.replace(/FromIndex$/,""),N=E!==H,u=a.includes(H);if(!(H in(N?IDBIndex:IDBObjectStore).prototype)||!u&&!X.includes(H))return;const z=async function(e){const E=this.transaction(e,u?"readwrite":"readonly");let z=E.store;for(var P=arguments.length,M=new Array(P>1?P-1:0),D=1;D<P;D++)M[D-1]=arguments[D];return N&&(z=z.index(M.shift())),(await Promise.all([z[H](...M),u&&E.done]))[0]};return W.set(E,z),z}U=(e=>({...e,get:(E,H,N)=>r(E,H)||e.get(E,H,N),has:(E,H)=>!!r(E,H)||e.has(E,H)}))(U);class Y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const E=e.getComponent();return"VERSION"===(null===E||void 0===E?void 0:E.type)}(e)){const E=e.getImmediate();return`${E.library}/${E.version}`}return null})).filter((e=>e)).join(" ")}}const f="@firebase/app",w="0.9.13",s=new u.f("@firebase/app"),p="@firebase/app-compat",o="@firebase/analytics-compat",y="@firebase/analytics",b="@firebase/app-check-compat",K="@firebase/app-check",l="@firebase/auth",O="@firebase/auth-compat",v="@firebase/database",R="@firebase/database-compat",T="@firebase/functions",L="@firebase/functions-compat",d="@firebase/installations",G="@firebase/installations-compat",me="@firebase/messaging",Q="@firebase/messaging-compat",Z="@firebase/performance",k="@firebase/performance-compat",J="@firebase/remote-config",B="@firebase/remote-config-compat",I="@firebase/storage",t="@firebase/storage-compat",q="@firebase/firestore",c="@firebase/firestore-compat",n="firebase",g="[DEFAULT]",x={[f]:"fire-core",[p]:"fire-core-compat",[y]:"fire-analytics",[o]:"fire-analytics-compat",[K]:"fire-app-check",[b]:"fire-app-check-compat",[l]:"fire-auth",[O]:"fire-auth-compat",[v]:"fire-rtdb",[R]:"fire-rtdb-compat",[T]:"fire-fn",[L]:"fire-fn-compat",[d]:"fire-iid",[G]:"fire-iid-compat",[me]:"fire-fcm",[Q]:"fire-fcm-compat",[Z]:"fire-perf",[k]:"fire-perf-compat",[J]:"fire-rc",[B]:"fire-rc-compat",[I]:"fire-gcs",[t]:"fire-gcs-compat",[q]:"fire-fst",[c]:"fire-fst-compat","fire-js":"fire-js",[n]:"fire-js-all"},ee=new Map,Ee=new Map;function He(e,E){try{e.container.yD(E)}catch(H){s.debug(`Component ${E.name} failed to register with FirebaseApp ${e.name}`,H)}}function Ne(e,E){e.container.addOrOverwriteComponent(E)}function ue(e){const E=e.name;if(Ee.has(E))return s.debug(`There were multiple attempts to register component ${E}.`),!1;Ee.set(E,e);for(const H of ee.values())He(H,e);return!0}function ze(e,E){const H=e.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),e.container.getProvider(E)}function Pe(e,E){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;ze(e,E).clearInstance(H)}function Me(){Ee.clear()}const De={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ae=new z.g("app","Firebase",De);class Ce{constructor(e,E,H){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},E),this._name=E.name,this._automaticDataCollectionEnabled=E.automaticDataCollectionEnabled,this._container=H,this.container.yD(new N.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}const ie="9.23.0";function Ve(e){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=e;if("object"!==typeof E){E={name:E}}const u=Object.assign({name:g,automaticDataCollectionEnabled:!1},E),P=u.name;if("string"!==typeof P||!P)throw Ae.create("bad-app-name",{appName:String(P)});if(H||(H=(0,z.B)()),!H)throw Ae.create("no-options");const M=ee.get(P);if(M){if((0,z.u)(H,M.options)&&(0,z.u)(u,M.config))return M;throw Ae.create("duplicate-app",{appName:P})}const D=new N.b(P);for(const N of Ee.values())D.yD(N);const A=new Ce(H,u,D);return ee.set(P,A),A}function Ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;const E=ee.get(e);if(!E&&e===g&&(0,z.B)())return Ve();if(!E)throw Ae.create("no-app",{appName:e});return E}function je(){return Array.from(ee.values())}async function Fe(e){const E=e.name;ee.has(E)&&(ee.delete(E),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function he(e,E,H){var u;let z=null!==(u=x[e])&&void 0!==u?u:e;H&&(z+=`-${H}`);const P=z.match(/\s|\//),M=E.match(/\s|\//);if(P||M){const e=[`Unable to register library "${z}" with version "${E}":`];return P&&e.push(`library name "${z}" contains illegal characters (whitespace or "/")`),P&&M&&e.push("and"),M&&e.push(`version name "${E}" contains illegal characters (whitespace or "/")`),void s.warn(e.join(" "))}ue(new N.f(`${z}-version`,(()=>({library:z,version:E})),"VERSION"))}function Se(e,E){if(null!==e&&"function"!==typeof e)throw Ae.create("invalid-log-argument");(0,u.m)(e,E)}function Xe(e){(0,u.j)(e)}const ae="firebase-heartbeat-store";let We=null;function re(){return We||(We=function(e,E){let{blocked:H,upgrade:N,blocking:u,terminated:z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const P=indexedDB.open(e,E),M=h(P);return N&&P.addEventListener("upgradeneeded",(e=>{N(h(P.result),e.oldVersion,e.newVersion,h(P.transaction),e)})),H&&P.addEventListener("blocked",(e=>H(e.oldVersion,e.newVersion,e))),M.then((e=>{z&&e.addEventListener("close",(()=>z())),u&&e.addEventListener("versionchange",(e=>u(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),M}("firebase-heartbeat-database",1,{upgrade:(e,E)=>{if(0===E)e.createObjectStore(ae)}}).catch((e=>{throw Ae.create("idb-open",{originalErrorMessage:e.message})}))),We}async function Ye(e,E){try{const H=(await re()).transaction(ae,"readwrite"),N=H.objectStore(ae);await N.put(E,fe(e)),await H.done}catch(H){if(H instanceof z.h)s.warn(H.message);else{const e=Ae.create("idb-set",{originalErrorMessage:null===H||void 0===H?void 0:H.message});s.warn(e.message)}}}function fe(e){return`${e.name}!${e.options.appId}`}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const E=this.container.getProvider("app").getImmediate();this.ui=new pe(E),this._heartbeatsCachePromise=this.ui.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),E=se();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==E&&!this._heartbeatsCache.heartbeats.some((e=>e.date===E)))return this._heartbeatsCache.heartbeats.push({date:E,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const E=new Date(e.date).valueOf();return Date.now()-E<=2592e6})),this.ui.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=se(),{heartbeatsToSend:E,unsentEntries:H}=function(e){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const H=[];let N=e.slice();for(const u of e){const e=H.find((e=>e.agent===u.agent));if(e){if(e.dates.push(u.date),oe(H)>E){e.dates.pop();break}}else if(H.push({agent:u.agent,dates:[u.date]}),oe(H)>E){H.pop();break}N=N.slice(1)}return{heartbeatsToSend:H,unsentEntries:N}}(this._heartbeatsCache.heartbeats),N=(0,z.o)(JSON.stringify({version:2,heartbeats:E}));return this._heartbeatsCache.lastSentHeartbeatDate=e,H.length>0?(this._heartbeatsCache.heartbeats=H,await this.ui.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ui.overwrite(this._heartbeatsCache)),N}}function se(){return(new Date).toISOString().substring(0,10)}class pe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,z.W)()&&(0,z.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const E=await re();return await E.transaction(ae).objectStore(ae).get(fe(e))}catch(E){if(E instanceof z.h)s.warn(E.message);else{const e=Ae.create("idb-get",{originalErrorMessage:null===E||void 0===E?void 0:E.message});s.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var E;if(await this._canUseIndexedDBPromise){const H=await this.read();return Ye(this.app,{lastSentHeartbeatDate:null!==(E=e.lastSentHeartbeatDate)&&void 0!==E?E:H.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var E;if(await this._canUseIndexedDBPromise){const H=await this.read();return Ye(this.app,{lastSentHeartbeatDate:null!==(E=e.lastSentHeartbeatDate)&&void 0!==E?E:H.lastSentHeartbeatDate,heartbeats:[...H.heartbeats,...e.heartbeats]})}}}function oe(e){return(0,z.o)(JSON.stringify({version:2,heartbeats:e})).length}var ye;ye="",ue(new N.f("platform-logger",(e=>new Y(e)),"PRIVATE")),ue(new N.f("heartbeat",(e=>new we(e)),"PRIVATE")),he(f,w,ye),he(f,w,"esm2017"),he("fire-js","")},11507:(e,E,H)=>{H.d(E,{b:()=>M,f:()=>u});var N=H(11515);class u{constructor(e,E,H){this.name=e,this.instanceFactory=E,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const z="[DEFAULT]";class P{constructor(e,E){this.name=e,this.container=E,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const E=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(E)){const e=new N.e;if(this.instancesDeferred.set(E,e),this.isInitialized(E)||this.shouldAutoInitialize())try{const H=this.getOrInitializeService({instanceIdentifier:E});H&&e.resolve(H)}catch(H){}}return this.instancesDeferred.get(E).promise}getImmediate(e){var E;const H=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),N=null!==(E=null===e||void 0===e?void 0:e.optional)&&void 0!==E&&E;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(N)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(u){if(N)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:z})}catch(E){}for(const[e,H]of this.instancesDeferred.entries()){const N=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:N});H.resolve(e)}catch(E){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:E={}}=e,H=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const N=this.getOrInitializeService({instanceIdentifier:H,options:E});for(const[u,z]of this.instancesDeferred.entries()){H===this.normalizeInstanceIdentifier(u)&&z.resolve(N)}return N}RC(e,E){var H;const N=this.normalizeInstanceIdentifier(E),u=null!==(H=this.onInitCallbacks.get(N))&&void 0!==H?H:new Set;u.add(e),this.onInitCallbacks.set(N,u);const z=this.instances.get(N);return z&&e(z,N),()=>{u.delete(e)}}invokeOnInitCallbacks(e,E){const H=this.onInitCallbacks.get(E);if(H)for(const u of H)try{u(e,E)}catch(N){}}getOrInitializeService(e){let{instanceIdentifier:E,options:H={}}=e,N=this.instances.get(E);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(u=E,u===z?void 0:u),options:H}),this.instances.set(E,N),this.instancesOptions.set(E,H),this.invokeOnInitCallbacks(N,E),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,E,N)}catch(P){}var u;return N||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?e:z:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class M{constructor(e){this.name=e,this.providers=new Map}yD(e){const E=this.getProvider(e.name);if(E.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);E.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.yD(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const E=new P(e,this);return this.providers.set(e,E),E}getProviders(){return Array.from(this.providers.values())}}},11521:(e,E,H)=>{H.d(E,{e:()=>u,f:()=>A,j:()=>C,m:()=>i});const N=[];var u;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(u||(u={}));const z={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},P=u.INFO,M={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},D=function(e,E){if(E<e.logLevel)return;const H=(new Date).toISOString(),N=M[E];if(!N)throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`);for(var u=arguments.length,z=new Array(u>2?u-2:0),P=2;P<u;P++)z[P-2]=arguments[P];console[N](`[${H}]  ${e.name}:`,...z)};class A{constructor(e){this.name=e,this._logLevel=P,this._logHandler=D,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in u))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?z[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,E=new Array(e),H=0;H<e;H++)E[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...E),this._logHandler(this,u.DEBUG,...E)}log(){for(var e=arguments.length,E=new Array(e),H=0;H<e;H++)E[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...E),this._logHandler(this,u.VERBOSE,...E)}info(){for(var e=arguments.length,E=new Array(e),H=0;H<e;H++)E[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,u.INFO,...E),this._logHandler(this,u.INFO,...E)}warn(){for(var e=arguments.length,E=new Array(e),H=0;H<e;H++)E[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,u.WARN,...E),this._logHandler(this,u.WARN,...E)}error(){for(var e=arguments.length,E=new Array(e),H=0;H<e;H++)E[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,u.ERROR,...E),this._logHandler(this,u.ERROR,...E)}}function C(e){N.forEach((E=>{E.setLogLevel(e)}))}function i(e,E){for(const H of N){let N=null;E&&E.level&&(N=z[E.level]),H.userLogHandler=null===e?null:function(E,H){for(var z=arguments.length,P=new Array(z>2?z-2:0),M=2;M<z;M++)P[M-2]=arguments[M];const D=P.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(E){return null}})).filter((e=>e)).join(" ");H>=(null!==N&&void 0!==N?N:E.logLevel)&&e({level:u[H].toLowerCase(),message:D,args:P,type:E.name})}}}}}]);