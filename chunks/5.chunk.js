/*! For license information please see g2ybjd.5.fc43bf62.chunk.js.LICENSE.txt */
"use strict";(self.qbp2s7qydk=self.qbp2s7qydk||[]).push([[5],{12746:(M,A,O)=>{O.d(A,{A:()=>h,E:()=>e,H:()=>g,K:()=>T,M:()=>v,Q:()=>K,U:()=>d,V:()=>f,Y:()=>I,ab:()=>b,d:()=>J,eb:()=>G,f:()=>H,g:()=>E,h:()=>Y,ib:()=>w,k:()=>c,kb:()=>y,mb:()=>N,o:()=>X,p:()=>p,pb:()=>s,t:()=>u,x:()=>D});const S=function(M){const A=[];let O=0;for(let S=0;S<M.length;S++){let z=M.charCodeAt(S);z<128?A[O++]=z:z<2048?(A[O++]=z>>6|192,A[O++]=63&z|128):55296===(64512&z)&&S+1<M.length&&56320===(64512&M.charCodeAt(S+1))?(z=65536+((1023&z)<<10)+(1023&M.charCodeAt(++S)),A[O++]=z>>18|240,A[O++]=z>>12&63|128,A[O++]=z>>6&63|128,A[O++]=63&z|128):(A[O++]=z>>12|224,A[O++]=z>>6&63|128,A[O++]=63&z|128)}return A},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(M,A){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let z=0;z<M.length;z+=3){const A=M[z],Q=z+1<M.length,X=Q?M[z+1]:0,c=z+2<M.length,j=c?M[z+2]:0,B=A>>2,g=(3&A)<<4|X>>4;let e=(15&X)<<2|j>>6,T=63&j;c||(T=64,Q||(e=64)),S.push(O[B],O[g],O[e],O[T])}return S.join("")},encodeString(M,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(M):this.encodeByteArray(S(M),A)},decodeString(M,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(M):function(M){const A=[];let O=0,S=0;for(;O<M.length;){const z=M[O++];if(z<128)A[S++]=String.fromCharCode(z);else if(z>191&&z<224){const Q=M[O++];A[S++]=String.fromCharCode((31&z)<<6|63&Q)}else if(z>239&&z<365){const Q=((7&z)<<18|(63&M[O++])<<12|(63&M[O++])<<6|63&M[O++])-65536;A[S++]=String.fromCharCode(55296+(Q>>10)),A[S++]=String.fromCharCode(56320+(1023&Q))}else{const Q=M[O++],X=M[O++];A[S++]=String.fromCharCode((15&z)<<12|(63&Q)<<6|63&X)}}return A.join("")}(this.decodeStringToByteArray(M,A))},decodeStringToByteArray(M,A){this.init_();const O=A?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let z=0;z<M.length;){const A=O[M.charAt(z++)],X=z<M.length?O[M.charAt(z)]:0;++z;const c=z<M.length?O[M.charAt(z)]:64;++z;const j=z<M.length?O[M.charAt(z)]:64;if(++z,null==A||null==X||null==c||null==j)throw new Q;const B=A<<2|X>>4;if(S.push(B),64!==c){const M=X<<4&240|c>>2;if(S.push(M),64!==j){const M=c<<6&192|j;S.push(M)}}}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(M){return function(M){const A=S(M);return z.encodeByteArray(A,!0)}(M).replace(/\./g,"")},c=function(M){try{return z.decodeString(M,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};const j=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof O.g)return O.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,B=()=>{try{return j()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(O){return}const A=M&&c(M[1]);return A&&JSON.parse(A)})()}catch(M){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(M))}},g=M=>{var A,O;return null===(O=null===(A=B())||void 0===A?void 0:A.emulatorHosts)||void 0===O?void 0:O[M]},e=()=>{var M;return null===(M=B())||void 0===M?void 0:M.config},T=M=>{var A;return null===(A=B())||void 0===A?void 0:A["_".concat(M)]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((M,A)=>{this.resolve=M,this.reject=A}))}wrapCallback(M){return(A,O)=>{A?this.reject(A):this.resolve(O),"function"===typeof M&&(this.promise.catch((()=>{})),1===M.length?M(A):M(A,O))}}}function K(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function G(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function d(){const M="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof M&&void 0!==M.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const M=K();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function b(){try{return"object"===typeof indexedDB}catch(M){return!1}}function s(){return new Promise(((M,A)=>{try{let O=!0;const S="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(S);z.onsuccess=()=>{z.result.close(),O||self.indexedDB.deleteDatabase(S),M(!0)},z.onupgradeneeded=()=>{O=!1},z.onerror=()=>{var M;A((null===(M=z.error)||void 0===M?void 0:M.message)||"")}}catch(O){A(O)}}))}function Y(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(M,A,O){super(A),this.code=M,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(M,A,O){this.service=M,this.serviceName=A,this.errors=O}create(M){const A=(arguments.length<=1?void 0:arguments[1])||{},O="".concat(this.service,"/").concat(M),S=this.errors[M],z=S?function(M,A){return M.replace(C,((M,O)=>{const S=A[O];return null!=S?String(S):"<".concat(O,"?>")}))}(S,A):"Error",Q="".concat(this.serviceName,": ").concat(z," (").concat(O,").");return new E(O,Q,A)}}const C=/\{\$([^}]+)}/g;function f(M){for(const A in M)if(Object.prototype.hasOwnProperty.call(M,A))return!1;return!0}function D(M,A){if(M===A)return!0;const O=Object.keys(M),S=Object.keys(A);for(const z of O){if(!S.includes(z))return!1;const O=M[z],Q=A[z];if(F(O)&&F(Q)){if(!D(O,Q))return!1}else if(O!==Q)return!1}for(const z of S)if(!O.includes(z))return!1;return!0}function F(M){return null!==M&&"object"===typeof M}function N(M){const A=[];for(const[O,S]of Object.entries(M))Array.isArray(S)?S.forEach((M=>{A.push(encodeURIComponent(O)+"="+encodeURIComponent(M))})):A.push(encodeURIComponent(O)+"="+encodeURIComponent(S));return A.length?"&"+A.join("&"):""}function y(M){const A={};return M.replace(/^\?/,"").split("&").forEach((M=>{if(M){const[O,S]=M.split("=");A[decodeURIComponent(O)]=decodeURIComponent(S)}})),A}function h(M){const A=M.indexOf("?");if(!A)return"";const O=M.indexOf("#",A);return M.substring(A,O>0?O:void 0)}function u(M,A){const O=new i(M,A);return O.subscribe.bind(O)}class i{constructor(M,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then((()=>{M(this)})).catch((M=>{this.error(M)}))}next(M){this.forEachObserver((A=>{A.next(M)}))}error(M){this.forEachObserver((A=>{A.error(M)})),this.close(M)}complete(){this.forEachObserver((M=>{M.complete()})),this.close()}subscribe(M,A,O){let S;if(void 0===M&&void 0===A&&void 0===O)throw new Error("Missing Observer.");S=function(M,A){if("object"!==typeof M||null===M)return!1;for(const O of A)if(O in M&&"function"===typeof M[O])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:A,complete:O},void 0===S.next&&(S.next=U),void 0===S.error&&(S.error=U),void 0===S.complete&&(S.complete=U);const z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch(M){}})),this.observers.push(S),z}unsubscribeOne(M){void 0!==this.observers&&void 0!==this.observers[M]&&(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,M)}sendOne(M,A){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{A(this.observers[M])}catch(O){"undefined"!==typeof console&&console.error&&console.error(O)}}))}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function U(){}const L=1e3,t=2,x=144e5,o=.5;function p(M){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;const O=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:L)*Math.pow(A,M),S=Math.round(o*O*(Math.random()-.5)*2);return Math.min(x,O+S)}function v(M){return M&&M._delegate?M._delegate:M}},12733:(M,A,O)=>{O.d(A,{e:()=>Q.g,g:()=>TM,i:()=>l,k:()=>SM,n:()=>zM,q:()=>AM,t:()=>jM,x:()=>OM,z:()=>XM,D:()=>QM,E:()=>cM,H:()=>dM,M:()=>KM,L:()=>GM,P:()=>JM,Q:()=>IM,S:()=>wM,T:()=>bM});var S=O(12737),z=O(12753),Q=O(12746),X=O(22);let c,j;const B=new WeakMap,g=new WeakMap,e=new WeakMap,T=new WeakMap,J=new WeakMap;let K={get(M,A,O){if(M instanceof IDBTransaction){if("done"===A)return g.get(M);if("objectStoreNames"===A)return M.objectStoreNames||e.get(M);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return w(M[A])},set:(M,A,O)=>(M[A]=O,!0),has:(M,A)=>M instanceof IDBTransaction&&("done"===A||"store"===A)||A in M};function G(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(M)?function(){for(var A=arguments.length,O=new Array(A),S=0;S<A;S++)O[S]=arguments[S];return M.apply(I(this),O),w(B.get(this))}:function(){for(var A=arguments.length,O=new Array(A),S=0;S<A;S++)O[S]=arguments[S];return w(M.apply(I(this),O))}:function(A){for(var O=arguments.length,S=new Array(O>1?O-1:0),z=1;z<O;z++)S[z-1]=arguments[z];const Q=M.call(I(this),A,...S);return e.set(Q,A.sort?A.sort():[A]),w(Q)}}function d(M){return"function"===typeof M?G(M):(M instanceof IDBTransaction&&function(M){if(g.has(M))return;const A=new Promise(((A,O)=>{const S=()=>{M.removeEventListener("complete",z),M.removeEventListener("error",Q),M.removeEventListener("abort",Q)},z=()=>{A(),S()},Q=()=>{O(M.error||new DOMException("AbortError","AbortError")),S()};M.addEventListener("complete",z),M.addEventListener("error",Q),M.addEventListener("abort",Q)}));g.set(M,A)}(M),A=M,(c||(c=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((M=>A instanceof M))?new Proxy(M,K):M);var A}function w(M){if(M instanceof IDBRequest)return function(M){const A=new Promise(((A,O)=>{const S=()=>{M.removeEventListener("success",z),M.removeEventListener("error",Q)},z=()=>{A(w(M.result)),S()},Q=()=>{O(M.error),S()};M.addEventListener("success",z),M.addEventListener("error",Q)}));return A.then((A=>{A instanceof IDBCursor&&B.set(A,M)})).catch((()=>{})),J.set(A,M),A}(M);if(T.has(M))return T.get(M);const A=d(M);return A!==M&&(T.set(M,A),J.set(A,M)),A}const I=M=>J.get(M);const b=["get","getKey","getAll","getAllKeys","count"],s=["put","add","delete","clear"],Y=new Map;function E(M,A){if(!(M instanceof IDBDatabase)||A in M||"string"!==typeof A)return;if(Y.get(A))return Y.get(A);const O=A.replace(/FromIndex$/,""),S=A!==O,z=s.includes(O);if(!(O in(S?IDBIndex:IDBObjectStore).prototype)||!z&&!b.includes(O))return;const Q=async function(M){const A=this.transaction(M,z?"readwrite":"readonly");let Q=A.store;for(var X=arguments.length,c=new Array(X>1?X-1:0),j=1;j<X;j++)c[j-1]=arguments[j];return S&&(Q=Q.index(c.shift())),(await Promise.all([Q[O](...c),z&&A.done]))[0]};return Y.set(A,Q),Q}K=(M=>(0,X.d)((0,X.d)({},M),{},{get:(A,O,S)=>E(A,O)||M.get(A,O,S),has:(A,O)=>!!E(A,O)||M.has(A,O)}))(K);class H{constructor(M){this.container=M}getPlatformInfoString(){return this.container.getProviders().map((M=>{if(function(M){const A=M.getComponent();return"VERSION"===(null===A||void 0===A?void 0:A.type)}(M)){const A=M.getImmediate();return"".concat(A.library,"/").concat(A.version)}return null})).filter((M=>M)).join(" ")}}const C="@firebase/app",f="0.9.13",D=new z.f("@firebase/app"),F="@firebase/app-compat",N="@firebase/analytics-compat",y="@firebase/analytics",h="@firebase/app-check-compat",u="@firebase/app-check",i="@firebase/auth",U="@firebase/auth-compat",L="@firebase/database",t="@firebase/database-compat",x="@firebase/functions",o="@firebase/functions-compat",p="@firebase/installations",v="@firebase/installations-compat",q="@firebase/messaging",r="@firebase/messaging-compat",n="@firebase/performance",a="@firebase/performance-compat",V="@firebase/remote-config",Z="@firebase/remote-config-compat",P="@firebase/storage",mM="@firebase/storage-compat",R="@firebase/firestore",k="@firebase/firestore-compat",W="firebase",l="[DEFAULT]",MM={[C]:"fire-core",[F]:"fire-core-compat",[y]:"fire-analytics",[N]:"fire-analytics-compat",[u]:"fire-app-check",[h]:"fire-app-check-compat",[i]:"fire-auth",[U]:"fire-auth-compat",[L]:"fire-rtdb",[t]:"fire-rtdb-compat",[x]:"fire-fn",[o]:"fire-fn-compat",[p]:"fire-iid",[v]:"fire-iid-compat",[q]:"fire-fcm",[r]:"fire-fcm-compat",[n]:"fire-perf",[a]:"fire-perf-compat",[V]:"fire-rc",[Z]:"fire-rc-compat",[P]:"fire-gcs",[mM]:"fire-gcs-compat",[R]:"fire-fst",[k]:"fire-fst-compat","fire-js":"fire-js",[W]:"fire-js-all"},AM=new Map,OM=new Map;function SM(M,A){try{M.container.sB(A)}catch(O){D.debug("Component ".concat(A.name," failed to register with FirebaseApp ").concat(M.name),O)}}function zM(M,A){M.container.addOrOverwriteComponent(A)}function QM(M){const A=M.name;if(OM.has(A))return D.debug("There were multiple attempts to register component ".concat(A,".")),!1;OM.set(A,M);for(const O of AM.values())SM(O,M);return!0}function XM(M,A){const O=M.container.getProvider("heartbeat").getImmediate({optional:!0});return O&&O.triggerHeartbeat(),M.container.getProvider(A)}function cM(M,A){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;XM(M,A).clearInstance(O)}function jM(){OM.clear()}const BM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gM=new Q.f("app","Firebase",BM);class eM{constructor(M,A,O){this._isDeleted=!1,this._options=Object.assign({},M),this._config=Object.assign({},A),this._name=A.name,this._automaticDataCollectionEnabled=A.automaticDataCollectionEnabled,this._container=O,this.container.sB(new S.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(M){this.checkDestroyed(),this._automaticDataCollectionEnabled=M}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(M){this._isDeleted=M}checkDestroyed(){if(this.isDeleted)throw gM.create("app-deleted",{appName:this._name})}}const TM="9.23.0";function JM(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=M;if("object"!==typeof A){A={name:A}}const z=Object.assign({name:l,automaticDataCollectionEnabled:!1},A),X=z.name;if("string"!==typeof X||!X)throw gM.create("bad-app-name",{appName:String(X)});if(O||(O=(0,Q.E)()),!O)throw gM.create("no-options");const c=AM.get(X);if(c){if((0,Q.x)(O,c.options)&&(0,Q.x)(z,c.config))return c;throw gM.create("duplicate-app",{appName:X})}const j=new S.e(X);for(const S of OM.values())j.sB(S);const B=new eM(O,z,j);return AM.set(X,B),B}function KM(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const A=AM.get(M);if(!A&&M===l&&(0,Q.E)())return JM();if(!A)throw gM.create("no-app",{appName:M});return A}function GM(){return Array.from(AM.values())}async function dM(M){const A=M.name;AM.has(A)&&(AM.delete(A),await Promise.all(M.container.getProviders().map((M=>M.delete()))),M.isDeleted=!0)}function wM(M,A,O){var z;let Q=null!==(z=MM[M])&&void 0!==z?z:M;O&&(Q+="-".concat(O));const X=Q.match(/\s|\//),c=A.match(/\s|\//);if(X||c){const M=['Unable to register library "'.concat(Q,'" with version "').concat(A,'":')];return X&&M.push('library name "'.concat(Q,'" contains illegal characters (whitespace or "/")')),X&&c&&M.push("and"),c&&M.push('version name "'.concat(A,'" contains illegal characters (whitespace or "/")')),void D.warn(M.join(" "))}QM(new S.g("".concat(Q,"-version"),(()=>({library:Q,version:A})),"VERSION"))}function IM(M,A){if(null!==M&&"function"!==typeof M)throw gM.create("invalid-log-argument");(0,z.i)(M,A)}function bM(M){(0,z.h)(M)}const sM="firebase-heartbeat-store";let YM=null;function EM(){return YM||(YM=function(M,A){let{blocked:O,upgrade:S,blocking:z,terminated:Q}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const X=indexedDB.open(M,A),c=w(X);return S&&X.addEventListener("upgradeneeded",(M=>{S(w(X.result),M.oldVersion,M.newVersion,w(X.transaction),M)})),O&&X.addEventListener("blocked",(M=>O(M.oldVersion,M.newVersion,M))),c.then((M=>{Q&&M.addEventListener("close",(()=>Q())),z&&M.addEventListener("versionchange",(M=>z(M.oldVersion,M.newVersion,M)))})).catch((()=>{})),c}("firebase-heartbeat-database",1,{upgrade:(M,A)=>{if(0===A)M.createObjectStore(sM)}}).catch((M=>{throw gM.create("idb-open",{originalErrorMessage:M.message})}))),YM}async function HM(M,A){try{const O=(await EM()).transaction(sM,"readwrite"),S=O.objectStore(sM);await S.put(A,CM(M)),await O.done}catch(O){if(O instanceof Q.g)D.warn(O.message);else{const M=gM.create("idb-set",{originalErrorMessage:null===O||void 0===O?void 0:O.message});D.warn(M.message)}}}function CM(M){return"".concat(M.name,"!").concat(M.options.appId)}class fM{constructor(M){this.container=M,this._heartbeatsCache=null;const A=this.container.getProvider("app").getImmediate();this.DT=new FM(A),this._heartbeatsCachePromise=this.DT.read().then((M=>(this._heartbeatsCache=M,M)))}async triggerHeartbeat(){const M=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),A=DM();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==A&&!this._heartbeatsCache.heartbeats.some((M=>M.date===A)))return this._heartbeatsCache.heartbeats.push({date:A,agent:M}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((M=>{const A=new Date(M.date).valueOf();return Date.now()-A<=2592e6})),this.DT.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const M=DM(),{heartbeatsToSend:A,unsentEntries:O}=function(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const O=[];let S=M.slice();for(const z of M){const M=O.find((M=>M.agent===z.agent));if(M){if(M.dates.push(z.date),NM(O)>A){M.dates.pop();break}}else if(O.push({agent:z.agent,dates:[z.date]}),NM(O)>A){O.pop();break}S=S.slice(1)}return{heartbeatsToSend:O,unsentEntries:S}}(this._heartbeatsCache.heartbeats),S=(0,Q.o)(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=M,O.length>0?(this._heartbeatsCache.heartbeats=O,await this.DT.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.DT.overwrite(this._heartbeatsCache)),S}}function DM(){return(new Date).toISOString().substring(0,10)}class FM{constructor(M){this.app=M,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Q.ab)()&&(0,Q.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(M){try{const A=await EM();return await A.transaction(sM).objectStore(sM).get(CM(M))}catch(A){if(A instanceof Q.g)D.warn(A.message);else{const M=gM.create("idb-get",{originalErrorMessage:null===A||void 0===A?void 0:A.message});D.warn(M.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(M){var A;if(await this._canUseIndexedDBPromise){const O=await this.read();return HM(this.app,{lastSentHeartbeatDate:null!==(A=M.lastSentHeartbeatDate)&&void 0!==A?A:O.lastSentHeartbeatDate,heartbeats:M.heartbeats})}}async add(M){var A;if(await this._canUseIndexedDBPromise){const O=await this.read();return HM(this.app,{lastSentHeartbeatDate:null!==(A=M.lastSentHeartbeatDate)&&void 0!==A?A:O.lastSentHeartbeatDate,heartbeats:[...O.heartbeats,...M.heartbeats]})}}}function NM(M){return(0,Q.o)(JSON.stringify({version:2,heartbeats:M})).length}var yM;yM="",QM(new S.g("platform-logger",(M=>new H(M)),"PRIVATE")),QM(new S.g("heartbeat",(M=>new fM(M)),"PRIVATE")),wM(C,f,yM),wM(C,f,"esm2017"),wM("fire-js","")},12737:(M,A,O)=>{O.d(A,{e:()=>c,g:()=>z});var S=O(12746);class z{constructor(M,A,O){this.name=M,this.instanceFactory=A,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}const Q="[DEFAULT]";class X{constructor(M,A){this.name=M,this.container=A,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(M){const A=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(A)){const M=new S.d;if(this.instancesDeferred.set(A,M),this.isInitialized(A)||this.shouldAutoInitialize())try{const O=this.getOrInitializeService({instanceIdentifier:A});O&&M.resolve(O)}catch(O){}}return this.instancesDeferred.get(A).promise}getImmediate(M){var A;const O=this.normalizeInstanceIdentifier(null===M||void 0===M?void 0:M.identifier),S=null!==(A=null===M||void 0===M?void 0:M.optional)&&void 0!==A&&A;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(S)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(z){if(S)return null;throw z}}getComponent(){return this.component}setComponent(M){if(M.name!==this.name)throw Error("Mismatching Component ".concat(M.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=M,this.shouldAutoInitialize()){if(function(M){return"EAGER"===M.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(A){}for(const[M,O]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(M);try{const M=this.getOrInitializeService({instanceIdentifier:S});O.resolve(M)}catch(A){}}}}clearInstance(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)}async delete(){const M=Array.from(this.instances.values());await Promise.all([...M.filter((M=>"INTERNAL"in M)).map((M=>M.INTERNAL.delete())),...M.filter((M=>"_delete"in M)).map((M=>M._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(M)}getOptions(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(M)||{}}initialize(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:A={}}=M,O=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(O))throw Error("".concat(this.name,"(").concat(O,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const S=this.getOrInitializeService({instanceIdentifier:O,options:A});for(const[z,Q]of this.instancesDeferred.entries()){O===this.normalizeInstanceIdentifier(z)&&Q.resolve(S)}return S}QT(M,A){var O;const S=this.normalizeInstanceIdentifier(A),z=null!==(O=this.onInitCallbacks.get(S))&&void 0!==O?O:new Set;z.add(M),this.onInitCallbacks.set(S,z);const Q=this.instances.get(S);return Q&&M(Q,S),()=>{z.delete(M)}}invokeOnInitCallbacks(M,A){const O=this.onInitCallbacks.get(A);if(O)for(const z of O)try{z(M,A)}catch(S){}}getOrInitializeService(M){let{instanceIdentifier:A,options:O={}}=M,S=this.instances.get(A);if(!S&&this.component&&(S=this.component.instanceFactory(this.container,{instanceIdentifier:(z=A,z===Q?void 0:z),options:O}),this.instances.set(A,S),this.instancesOptions.set(A,O),this.invokeOnInitCallbacks(S,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,S)}catch(X){}var z;return S||null}normalizeInstanceIdentifier(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?M:Q:M}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(M){this.name=M,this.providers=new Map}sB(M){const A=this.getProvider(M.name);if(A.isComponentSet())throw new Error("Component ".concat(M.name," has already been registered with ").concat(this.name));A.setComponent(M)}addOrOverwriteComponent(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.sB(M)}getProvider(M){if(this.providers.has(M))return this.providers.get(M);const A=new X(M,this);return this.providers.set(M,A),A}getProviders(){return Array.from(this.providers.values())}}},12753:(M,A,O)=>{O.d(A,{e:()=>z,f:()=>B,h:()=>g,i:()=>e});const S=[];var z;!function(M){M[M.DEBUG=0]="DEBUG",M[M.VERBOSE=1]="VERBOSE",M[M.INFO=2]="INFO",M[M.WARN=3]="WARN",M[M.ERROR=4]="ERROR",M[M.SILENT=5]="SILENT"}(z||(z={}));const Q={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},X=z.INFO,c={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},j=function(M,A){if(A<M.logLevel)return;const O=(new Date).toISOString(),S=c[A];if(!S)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(A,")"));for(var z=arguments.length,Q=new Array(z>2?z-2:0),X=2;X<z;X++)Q[X-2]=arguments[X];console[S]("[".concat(O,"]  ").concat(M.name,":"),...Q)};class B{constructor(M){this.name=M,this._logLevel=X,this._logHandler=j,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in z))throw new TypeError('Invalid value "'.concat(M,'" assigned to `logLevel`'));this._logLevel=M}setLogLevel(M){this._logLevel="string"===typeof M?Q[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!==typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(){for(var M=arguments.length,A=new Array(M),O=0;O<M;O++)A[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...A),this._logHandler(this,z.DEBUG,...A)}log(){for(var M=arguments.length,A=new Array(M),O=0;O<M;O++)A[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...A),this._logHandler(this,z.VERBOSE,...A)}info(){for(var M=arguments.length,A=new Array(M),O=0;O<M;O++)A[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,z.INFO,...A),this._logHandler(this,z.INFO,...A)}warn(){for(var M=arguments.length,A=new Array(M),O=0;O<M;O++)A[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,z.WARN,...A),this._logHandler(this,z.WARN,...A)}error(){for(var M=arguments.length,A=new Array(M),O=0;O<M;O++)A[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,z.ERROR,...A),this._logHandler(this,z.ERROR,...A)}}function g(M){S.forEach((A=>{A.setLogLevel(M)}))}function e(M,A){for(const O of S){let S=null;A&&A.level&&(S=Q[A.level]),O.userLogHandler=null===M?null:function(A,O){for(var Q=arguments.length,X=new Array(Q>2?Q-2:0),c=2;c<Q;c++)X[c-2]=arguments[c];const j=X.map((M=>{if(null==M)return null;if("string"===typeof M)return M;if("number"===typeof M||"boolean"===typeof M)return M.toString();if(M instanceof Error)return M.message;try{return JSON.stringify(M)}catch(A){return null}})).filter((M=>M)).join(" ");O>=(null!==S&&void 0!==S?S:A.logLevel)&&M({level:z[O].toLowerCase(),message:j,args:X,type:A.name})}}}}}]);