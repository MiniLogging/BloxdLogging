/*! For license information please see ywlsh.5.23dca7bc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10804:(q,c,U)=>{U.d(c,{$:()=>R,D:()=>O,G:()=>u,I:()=>D,J:()=>K,K:()=>m,M:()=>H,N:()=>h,O:()=>F,Q:()=>a,R:()=>p,T:()=>b,V:()=>o,W:()=>V,Y:()=>k,e:()=>r,i:()=>C,l:()=>t,o:()=>I,r:()=>X,v:()=>g,x:()=>T,y:()=>G,z:()=>v});const J=function(q){const c=[];let U=0;for(let J=0;J<q.length;J++){let Q=q.charCodeAt(J);Q<128?c[U++]=Q:Q<2048?(c[U++]=Q>>6|192,c[U++]=63&Q|128):55296===(64512&Q)&&J+1<q.length&&56320===(64512&q.charCodeAt(J+1))?(Q=65536+((1023&Q)<<10)+(1023&q.charCodeAt(++J)),c[U++]=Q>>18|240,c[U++]=Q>>12&63|128,c[U++]=Q>>6&63|128,c[U++]=63&Q|128):(c[U++]=Q>>12|224,c[U++]=Q>>6&63|128,c[U++]=63&Q|128)}return c},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(q,c){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let Q=0;Q<q.length;Q+=3){const c=q[Q],s=Q+1<q.length,g=s?q[Q+1]:0,X=Q+2<q.length,n=X?q[Q+2]:0,W=c>>2,D=(3&c)<<4|g>>4;let u=(15&g)<<2|n>>6,K=63&n;X||(K=64,s||(u=64)),J.push(U[W],U[D],U[u],U[K])}return J.join("")},encodeString(q,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(q):this.encodeByteArray(J(q),c)},decodeString(q,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(q):function(q){const c=[];let U=0,J=0;for(;U<q.length;){const Q=q[U++];if(Q<128)c[J++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const s=q[U++];c[J++]=String.fromCharCode((31&Q)<<6|63&s)}else if(Q>239&&Q<365){const s=((7&Q)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;c[J++]=String.fromCharCode(55296+(s>>10)),c[J++]=String.fromCharCode(56320+(1023&s))}else{const s=q[U++],g=q[U++];c[J++]=String.fromCharCode((15&Q)<<12|(63&s)<<6|63&g)}}return c.join("")}(this.decodeStringToByteArray(q,c))},decodeStringToByteArray(q,c){this.init_();const U=c?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let Q=0;Q<q.length;){const c=U[q.charAt(Q++)],g=Q<q.length?U[q.charAt(Q)]:0;++Q;const X=Q<q.length?U[q.charAt(Q)]:64;++Q;const n=Q<q.length?U[q.charAt(Q)]:64;if(++Q,null==c||null==g||null==X||null==n)throw new s;const W=c<<2|g>>4;if(J.push(W),64!==X){const q=g<<4&240|X>>2;if(J.push(q),64!==n){const q=X<<6&192|n;J.push(q)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(q){return function(q){const c=J(q);return Q.encodeByteArray(c,!0)}(q).replace(/\./g,"")},X=function(q){try{return Q.decodeString(q,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const n=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof U.g)return U.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,W=()=>{try{return n()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(U){return}const c=q&&X(q[1]);return c&&JSON.parse(c)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},D=q=>{var c,U;return null===(U=null===(c=W())||void 0===c?void 0:c.emulatorHosts)||void 0===U?void 0:U[q]},u=()=>{var q;return null===(q=W())||void 0===q?void 0:q.config},K=q=>{var c;return null===(c=W())||void 0===c?void 0:c[`_${q}`]};class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((q,c)=>{this.resolve=q,this.reject=c}))}wrapCallback(q){return(c,U)=>{c?this.reject(c):this.resolve(U),"function"===typeof q&&(this.promise.catch((()=>{})),1===q.length?q(c):q(c,U))}}}function H(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())}function h(){const q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof q&&void 0!==q.id}function o(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function a(){const q=H();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function p(){try{return"object"===typeof indexedDB}catch(q){return!1}}function R(){return new Promise(((q,c)=>{try{let U=!0;const J="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(J);Q.onsuccess=()=>{Q.result.close(),U||self.indexedDB.deleteDatabase(J),q(!0)},Q.onupgradeneeded=()=>{U=!1},Q.onerror=()=>{var q;c((null===(q=Q.error)||void 0===q?void 0:q.message)||"")}}catch(U){c(U)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class t extends Error{constructor(q,c,U){super(c),this.code=q,this.customData=U,this.name="FirebaseError",Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(q,c,U){this.service=q,this.serviceName=c,this.errors=U}create(q){const c=(arguments.length<=1?void 0:arguments[1])||{},U=`${this.service}/${q}`,J=this.errors[q],Q=J?function(q,c){return q.replace(i,((q,U)=>{const J=c[U];return null!=J?String(J):`<${U}?>`}))}(J,c):"Error",s=`${this.serviceName}: ${Q} (${U}).`;return new t(U,s,c)}}const i=/\{\$([^}]+)}/g;function F(q){for(const c in q)if(Object.prototype.hasOwnProperty.call(q,c))return!1;return!0}function v(q,c){if(q===c)return!0;const U=Object.keys(q),J=Object.keys(c);for(const Q of U){if(!J.includes(Q))return!1;const U=q[Q],s=c[Q];if(Y(U)&&Y(s)){if(!v(U,s))return!1}else if(U!==s)return!1}for(const Q of J)if(!U.includes(Q))return!1;return!0}function Y(q){return null!==q&&"object"===typeof q}function k(q){const c=[];for(const[U,J]of Object.entries(q))Array.isArray(J)?J.forEach((q=>{c.push(encodeURIComponent(U)+"="+encodeURIComponent(q))})):c.push(encodeURIComponent(U)+"="+encodeURIComponent(J));return c.length?"&"+c.join("&"):""}function V(q){const c={};return q.replace(/^\?/,"").split("&").forEach((q=>{if(q){const[U,J]=q.split("=");c[decodeURIComponent(U)]=decodeURIComponent(J)}})),c}function O(q){const c=q.indexOf("?");if(!c)return"";const U=q.indexOf("#",c);return q.substring(c,U>0?U:void 0)}function G(q,c){const U=new S(q,c);return U.subscribe.bind(U)}class S{constructor(q,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{q(this)})).catch((q=>{this.error(q)}))}next(q){this.forEachObserver((c=>{c.next(q)}))}error(q){this.forEachObserver((c=>{c.error(q)})),this.close(q)}complete(){this.forEachObserver((q=>{q.complete()})),this.close()}subscribe(q,c,U){let J;if(void 0===q&&void 0===c&&void 0===U)throw new Error("Missing Observer.");J=function(q,c){if("object"!==typeof q||null===q)return!1;for(const U of c)if(U in q&&"function"===typeof q[U])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:c,complete:U},void 0===J.next&&(J.next=Z),void 0===J.error&&(J.error=Z),void 0===J.complete&&(J.complete=Z);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(q){}})),this.observers.push(J),Q}unsubscribeOne(q){void 0!==this.observers&&void 0!==this.observers[q]&&(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,q)}sendOne(q,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{c(this.observers[q])}catch(U){"undefined"!==typeof console&&console.error&&console.error(U)}}))}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Z(){}const x=1e3,z=2,y=144e5,M=.5;function T(q){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;const U=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:x)*Math.pow(c,q),J=Math.round(M*U*(Math.random()-.5)*2);return Math.min(y,U+J)}function m(q){return q&&q._delegate?q._delegate:q}},10795:(q,c,U)=>{U.d(c,{d:()=>s.l,g:()=>uq,h:()=>A,k:()=>Uq,n:()=>Jq,o:()=>qq,s:()=>Xq,w:()=>cq,z:()=>sq,B:()=>Qq,F:()=>gq,H:()=>bq,O:()=>rq,L:()=>Hq,P:()=>Kq,Q:()=>oq,T:()=>hq,U:()=>aq});var J=U(10800),Q=U(10811),s=U(10804);let g,X;const n=new WeakMap,W=new WeakMap,D=new WeakMap,u=new WeakMap,K=new WeakMap;let r={get(q,c,U){if(q instanceof IDBTransaction){if("done"===c)return W.get(q);if("objectStoreNames"===c)return q.objectStoreNames||D.get(q);if("store"===c)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return h(q[c])},set:(q,c,U)=>(q[c]=U,!0),has:(q,c)=>q instanceof IDBTransaction&&("done"===c||"store"===c)||c in q};function H(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(q)?function(){for(var c=arguments.length,U=new Array(c),J=0;J<c;J++)U[J]=arguments[J];return q.apply(o(this),U),h(n.get(this))}:function(){for(var c=arguments.length,U=new Array(c),J=0;J<c;J++)U[J]=arguments[J];return h(q.apply(o(this),U))}:function(c){for(var U=arguments.length,J=new Array(U>1?U-1:0),Q=1;Q<U;Q++)J[Q-1]=arguments[Q];const s=q.call(o(this),c,...J);return D.set(s,c.sort?c.sort():[c]),h(s)}}function b(q){return"function"===typeof q?H(q):(q instanceof IDBTransaction&&function(q){if(W.has(q))return;const c=new Promise(((c,U)=>{const J=()=>{q.removeEventListener("complete",Q),q.removeEventListener("error",s),q.removeEventListener("abort",s)},Q=()=>{c(),J()},s=()=>{U(q.error||new DOMException("AbortError","AbortError")),J()};q.addEventListener("complete",Q),q.addEventListener("error",s),q.addEventListener("abort",s)}));W.set(q,c)}(q),c=q,(g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((q=>c instanceof q))?new Proxy(q,r):q);var c}function h(q){if(q instanceof IDBRequest)return function(q){const c=new Promise(((c,U)=>{const J=()=>{q.removeEventListener("success",Q),q.removeEventListener("error",s)},Q=()=>{c(h(q.result)),J()},s=()=>{U(q.error),J()};q.addEventListener("success",Q),q.addEventListener("error",s)}));return c.then((c=>{c instanceof IDBCursor&&n.set(c,q)})).catch((()=>{})),K.set(c,q),c}(q);if(u.has(q))return u.get(q);const c=b(q);return c!==q&&(u.set(q,c),K.set(c,q)),c}const o=q=>K.get(q);const a=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],R=new Map;function I(q,c){if(!(q instanceof IDBDatabase)||c in q||"string"!==typeof c)return;if(R.get(c))return R.get(c);const U=c.replace(/FromIndex$/,""),J=c!==U,Q=p.includes(U);if(!(U in(J?IDBIndex:IDBObjectStore).prototype)||!Q&&!a.includes(U))return;const s=async function(q){const c=this.transaction(q,Q?"readwrite":"readonly");let s=c.store;for(var g=arguments.length,X=new Array(g>1?g-1:0),n=1;n<g;n++)X[n-1]=arguments[n];return J&&(s=s.index(X.shift())),(await Promise.all([s[U](...X),Q&&c.done]))[0]};return R.set(c,s),s}r=(q=>({...q,get:(c,U,J)=>I(c,U)||q.get(c,U,J),has:(c,U)=>!!I(c,U)||q.has(c,U)}))(r);class t{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map((q=>{if(function(q){const c=q.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(q)){const c=q.getImmediate();return`${c.library}/${c.version}`}return null})).filter((q=>q)).join(" ")}}const C="@firebase/app",i="0.9.13",F=new Q.h("@firebase/app"),v="@firebase/app-compat",Y="@firebase/analytics-compat",k="@firebase/analytics",V="@firebase/app-check-compat",O="@firebase/app-check",G="@firebase/auth",S="@firebase/auth-compat",Z="@firebase/database",x="@firebase/database-compat",z="@firebase/functions",y="@firebase/functions-compat",M="@firebase/installations",T="@firebase/installations-compat",m="@firebase/messaging",d="@firebase/messaging-compat",e="@firebase/performance",B="@firebase/performance-compat",N="@firebase/remote-config",P="@firebase/remote-config-compat",w="@firebase/storage",L="@firebase/storage-compat",l="@firebase/firestore",j="@firebase/firestore-compat",f="firebase",A="[DEFAULT]",E={[C]:"fire-core",[v]:"fire-core-compat",[k]:"fire-analytics",[Y]:"fire-analytics-compat",[O]:"fire-app-check",[V]:"fire-app-check-compat",[G]:"fire-auth",[S]:"fire-auth-compat",[Z]:"fire-rtdb",[x]:"fire-rtdb-compat",[z]:"fire-fn",[y]:"fire-fn-compat",[M]:"fire-iid",[T]:"fire-iid-compat",[m]:"fire-fcm",[d]:"fire-fcm-compat",[e]:"fire-perf",[B]:"fire-perf-compat",[N]:"fire-rc",[P]:"fire-rc-compat",[w]:"fire-gcs",[L]:"fire-gcs-compat",[l]:"fire-fst",[j]:"fire-fst-compat","fire-js":"fire-js",[f]:"fire-js-all"},qq=new Map,cq=new Map;function Uq(q,c){try{q.container.Bn(c)}catch(U){F.debug(`Component ${c.name} failed to register with FirebaseApp ${q.name}`,U)}}function Jq(q,c){q.container.addOrOverwriteComponent(c)}function Qq(q){const c=q.name;if(cq.has(c))return F.debug(`There were multiple attempts to register component ${c}.`),!1;cq.set(c,q);for(const U of qq.values())Uq(U,q);return!0}function sq(q,c){const U=q.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),q.container.getProvider(c)}function gq(q,c){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;sq(q,c).clearInstance(U)}function Xq(){cq.clear()}const nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wq=new s.i("app","Firebase",nq);class Dq{constructor(q,c,U){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=U,this.container.Bn(new J.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw Wq.create("app-deleted",{appName:this._name})}}const uq="9.23.0";function Kq(q){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=q;if("object"!==typeof c){c={name:c}}const Q=Object.assign({name:A,automaticDataCollectionEnabled:!1},c),g=Q.name;if("string"!==typeof g||!g)throw Wq.create("bad-app-name",{appName:String(g)});if(U||(U=(0,s.G)()),!U)throw Wq.create("no-options");const X=qq.get(g);if(X){if((0,s.z)(U,X.options)&&(0,s.z)(Q,X.config))return X;throw Wq.create("duplicate-app",{appName:g})}const n=new J.d(g);for(const J of cq.values())n.Bn(J);const W=new Dq(U,Q,n);return qq.set(g,W),W}function rq(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;const c=qq.get(q);if(!c&&q===A&&(0,s.G)())return Kq();if(!c)throw Wq.create("no-app",{appName:q});return c}function Hq(){return Array.from(qq.values())}async function bq(q){const c=q.name;qq.has(c)&&(qq.delete(c),await Promise.all(q.container.getProviders().map((q=>q.delete()))),q.isDeleted=!0)}function hq(q,c,U){var Q;let s=null!==(Q=E[q])&&void 0!==Q?Q:q;U&&(s+=`-${U}`);const g=s.match(/\s|\//),X=c.match(/\s|\//);if(g||X){const q=[`Unable to register library "${s}" with version "${c}":`];return g&&q.push(`library name "${s}" contains illegal characters (whitespace or "/")`),g&&X&&q.push("and"),X&&q.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void F.warn(q.join(" "))}Qq(new J.f(`${s}-version`,(()=>({library:s,version:c})),"VERSION"))}function oq(q,c){if(null!==q&&"function"!==typeof q)throw Wq.create("invalid-log-argument");(0,Q.n)(q,c)}function aq(q){(0,Q.l)(q)}const pq="firebase-heartbeat-store";let Rq=null;function Iq(){return Rq||(Rq=function(q,c){let{blocked:U,upgrade:J,blocking:Q,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(q,c),X=h(g);return J&&g.addEventListener("upgradeneeded",(q=>{J(h(g.result),q.oldVersion,q.newVersion,h(g.transaction),q)})),U&&g.addEventListener("blocked",(q=>U(q.oldVersion,q.newVersion,q))),X.then((q=>{s&&q.addEventListener("close",(()=>s())),Q&&q.addEventListener("versionchange",(q=>Q(q.oldVersion,q.newVersion,q)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(q,c)=>{if(0===c)q.createObjectStore(pq)}}).catch((q=>{throw Wq.create("idb-open",{originalErrorMessage:q.message})}))),Rq}async function tq(q,c){try{const U=(await Iq()).transaction(pq,"readwrite"),J=U.objectStore(pq);await J.put(c,Cq(q)),await U.done}catch(U){if(U instanceof s.l)F.warn(U.message);else{const q=Wq.create("idb-set",{originalErrorMessage:null===U||void 0===U?void 0:U.message});F.warn(q.message)}}}function Cq(q){return`${q.name}!${q.options.appId}`}class iq{constructor(q){this.container=q,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.Hu=new vq(c),this._heartbeatsCachePromise=this.Hu.read().then((q=>(this._heartbeatsCache=q,q)))}async triggerHeartbeat(){const q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Fq();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((q=>q.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q=>{const c=new Date(q.date).valueOf();return Date.now()-c<=2592e6})),this.Hu.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const q=Fq(),{heartbeatsToSend:c,unsentEntries:U}=function(q){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const U=[];let J=q.slice();for(const Q of q){const q=U.find((q=>q.agent===Q.agent));if(q){if(q.dates.push(Q.date),Yq(U)>c){q.dates.pop();break}}else if(U.push({agent:Q.agent,dates:[Q.date]}),Yq(U)>c){U.pop();break}J=J.slice(1)}return{heartbeatsToSend:U,unsentEntries:J}}(this._heartbeatsCache.heartbeats),J=(0,s.v)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=q,U.length>0?(this._heartbeatsCache.heartbeats=U,await this.Hu.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Hu.overwrite(this._heartbeatsCache)),J}}function Fq(){return(new Date).toISOString().substring(0,10)}class vq{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.R)()&&(0,s.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(q){try{const c=await Iq();return await c.transaction(pq).objectStore(pq).get(Cq(q))}catch(c){if(c instanceof s.l)F.warn(c.message);else{const q=Wq.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});F.warn(q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(q){var c;if(await this._canUseIndexedDBPromise){const U=await this.read();return tq(this.app,{lastSentHeartbeatDate:null!==(c=q.lastSentHeartbeatDate)&&void 0!==c?c:U.lastSentHeartbeatDate,heartbeats:q.heartbeats})}}async add(q){var c;if(await this._canUseIndexedDBPromise){const U=await this.read();return tq(this.app,{lastSentHeartbeatDate:null!==(c=q.lastSentHeartbeatDate)&&void 0!==c?c:U.lastSentHeartbeatDate,heartbeats:[...U.heartbeats,...q.heartbeats]})}}}function Yq(q){return(0,s.v)(JSON.stringify({version:2,heartbeats:q})).length}var kq;kq="",Qq(new J.f("platform-logger",(q=>new t(q)),"PRIVATE")),Qq(new J.f("heartbeat",(q=>new iq(q)),"PRIVATE")),hq(C,i,kq),hq(C,i,"esm2017"),hq("fire-js","")},10800:(q,c,U)=>{U.d(c,{d:()=>X,f:()=>Q});var J=U(10804);class Q{constructor(q,c,U){this.name=q,this.instanceFactory=c,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const s="[DEFAULT]";class g{constructor(q,c){this.name=q,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const c=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(c)){const q=new J.e;if(this.instancesDeferred.set(c,q),this.isInitialized(c)||this.shouldAutoInitialize())try{const U=this.getOrInitializeService({instanceIdentifier:c});U&&q.resolve(U)}catch(U){}}return this.instancesDeferred.get(c).promise}getImmediate(q){var c;const U=this.normalizeInstanceIdentifier(null===q||void 0===q?void 0:q.identifier),J=null!==(c=null===q||void 0===q?void 0:q.optional)&&void 0!==c&&c;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(Q){if(J)return null;throw Q}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:s})}catch(c){}for(const[q,U]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(q);try{const q=this.getOrInitializeService({instanceIdentifier:J});U.resolve(q)}catch(c){}}}}clearInstance(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}async delete(){const q=Array.from(this.instances.values());await Promise.all([...q.filter((q=>"INTERNAL"in q)).map((q=>q.INTERNAL.delete())),...q.filter((q=>"_delete"in q)).map((q=>q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(q)}getOptions(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(q)||{}}initialize(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=q,U=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:U,options:c});for(const[Q,s]of this.instancesDeferred.entries()){U===this.normalizeInstanceIdentifier(Q)&&s.resolve(J)}return J}LD(q,c){var U;const J=this.normalizeInstanceIdentifier(c),Q=null!==(U=this.onInitCallbacks.get(J))&&void 0!==U?U:new Set;Q.add(q),this.onInitCallbacks.set(J,Q);const s=this.instances.get(J);return s&&q(s,J),()=>{Q.delete(q)}}invokeOnInitCallbacks(q,c){const U=this.onInitCallbacks.get(c);if(U)for(const Q of U)try{Q(q,c)}catch(J){}}getOrInitializeService(q){let{instanceIdentifier:c,options:U={}}=q,J=this.instances.get(c);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=c,Q===s?void 0:Q),options:U}),this.instances.set(c,J),this.instancesOptions.set(c,U),this.invokeOnInitCallbacks(J,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,J)}catch(g){}var Q;return J||null}normalizeInstanceIdentifier(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?q:s:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(q){this.name=q,this.providers=new Map}Bn(q){const c=this.getProvider(q.name);if(c.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);c.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.Bn(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const c=new g(q,this);return this.providers.set(q,c),c}getProviders(){return Array.from(this.providers.values())}}},10811:(q,c,U)=>{U.d(c,{d:()=>Q,h:()=>W,l:()=>D,n:()=>u});const J=[];var Q;!function(q){q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT"}(Q||(Q={}));const s={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},g=Q.INFO,X={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},n=function(q,c){if(c<q.logLevel)return;const U=(new Date).toISOString(),J=X[c];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var Q=arguments.length,s=new Array(Q>2?Q-2:0),g=2;g<Q;g++)s[g-2]=arguments[g];console[J](`[${U}]  ${q.name}:`,...s)};class W{constructor(q){this.name=q,this._logLevel=g,this._logHandler=n,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in Q))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"===typeof q?s[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!==typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(){for(var q=arguments.length,c=new Array(q),U=0;U<q;U++)c[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...c),this._logHandler(this,Q.DEBUG,...c)}log(){for(var q=arguments.length,c=new Array(q),U=0;U<q;U++)c[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...c),this._logHandler(this,Q.VERBOSE,...c)}info(){for(var q=arguments.length,c=new Array(q),U=0;U<q;U++)c[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,Q.INFO,...c),this._logHandler(this,Q.INFO,...c)}warn(){for(var q=arguments.length,c=new Array(q),U=0;U<q;U++)c[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,Q.WARN,...c),this._logHandler(this,Q.WARN,...c)}error(){for(var q=arguments.length,c=new Array(q),U=0;U<q;U++)c[U]=arguments[U];this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...c),this._logHandler(this,Q.ERROR,...c)}}function D(q){J.forEach((c=>{c.setLogLevel(q)}))}function u(q,c){for(const U of J){let J=null;c&&c.level&&(J=s[c.level]),U.userLogHandler=null===q?null:function(c,U){for(var s=arguments.length,g=new Array(s>2?s-2:0),X=2;X<s;X++)g[X-2]=arguments[X];const n=g.map((q=>{if(null==q)return null;if("string"===typeof q)return q;if("number"===typeof q||"boolean"===typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(c){return null}})).filter((q=>q)).join(" ");U>=(null!==J&&void 0!==J?J:c.logLevel)&&q({level:Q[U].toLowerCase(),message:n,args:g,type:c.name})}}}}}]);