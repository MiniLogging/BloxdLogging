/*! For license information please see znec.5.2b2e1e72.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10622:(V,p,W)=>{W.d(p,{C:()=>T,D:()=>l,F:()=>i,I:()=>j,L:()=>Y,N:()=>u,R:()=>O,S:()=>o,W:()=>F,_:()=>C,bb:()=>f,cb:()=>U,e:()=>k,eb:()=>x,g:()=>e,hb:()=>L,k:()=>t,l:()=>v,lb:()=>A,p:()=>S,r:()=>z,v:()=>B,x:()=>P,z:()=>K});const N=function(V){const p=[];let W=0;for(let N=0;N<V.length;N++){let d=V.charCodeAt(N);d<128?p[W++]=d:d<2048?(p[W++]=d>>6|192,p[W++]=63&d|128):55296===(64512&d)&&N+1<V.length&&56320===(64512&V.charCodeAt(N+1))?(d=65536+((1023&d)<<10)+(1023&V.charCodeAt(++N)),p[W++]=d>>18|240,p[W++]=d>>12&63|128,p[W++]=d>>6&63|128,p[W++]=63&d|128):(p[W++]=d>>12|224,p[W++]=d>>6&63|128,p[W++]=63&d|128)}return p},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(V,p){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=p?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let d=0;d<V.length;d+=3){const p=V[d],E=d+1<V.length,z=E?V[d+1]:0,S=d+2<V.length,Q=S?V[d+2]:0,J=p>>2,i=(3&p)<<4|z>>4;let l=(15&z)<<2|Q>>6,j=63&Q;S||(j=64,E||(l=64)),N.push(W[J],W[i],W[l],W[j])}return N.join("")},encodeString(V,p){return this.HAS_NATIVE_SUPPORT&&!p?btoa(V):this.encodeByteArray(N(V),p)},decodeString(V,p){return this.HAS_NATIVE_SUPPORT&&!p?atob(V):function(V){const p=[];let W=0,N=0;for(;W<V.length;){const d=V[W++];if(d<128)p[N++]=String.fromCharCode(d);else if(d>191&&d<224){const E=V[W++];p[N++]=String.fromCharCode((31&d)<<6|63&E)}else if(d>239&&d<365){const E=((7&d)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;p[N++]=String.fromCharCode(55296+(E>>10)),p[N++]=String.fromCharCode(56320+(1023&E))}else{const E=V[W++],z=V[W++];p[N++]=String.fromCharCode((15&d)<<12|(63&E)<<6|63&z)}}return p.join("")}(this.decodeStringToByteArray(V,p))},decodeStringToByteArray(V,p){this.init_();const W=p?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let d=0;d<V.length;){const p=W[V.charAt(d++)],z=d<V.length?W[V.charAt(d)]:0;++d;const S=d<V.length?W[V.charAt(d)]:64;++d;const Q=d<V.length?W[V.charAt(d)]:64;if(++d,null==p||null==z||null==S||null==Q)throw new E;const J=p<<2|z>>4;if(N.push(J),64!==S){const V=z<<4&240|S>>2;if(N.push(V),64!==Q){const V=S<<6&192|Q;N.push(V)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z=function(V){return function(V){const p=N(V);return d.encodeByteArray(p,!0)}(V).replace(/\./g,"")},S=function(V){try{return d.decodeString(V,!0)}catch(p){console.error("base64Decode failed: ",p)}return null};const Q=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof W.g)return W.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return Q()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(W){return}const p=V&&S(V[1]);return p&&JSON.parse(p)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},i=V=>{var p,W;return null===(W=null===(p=J())||void 0===p?void 0:p.emulatorHosts)||void 0===W?void 0:W[V]},l=()=>{var V;return null===(V=J())||void 0===V?void 0:V.config},j=V=>{var p;return null===(p=J())||void 0===p?void 0:p[`_${V}`]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((V,p)=>{this.resolve=V,this.reject=p}))}wrapCallback(V){return(p,W)=>{p?this.reject(p):this.resolve(W),"function"===typeof V&&(this.promise.catch((()=>{})),1===V.length?V(p):V(p,W))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function O(){const V="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof V&&void 0!==V.id}function U(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function F(){const V=u();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function C(){try{return"object"===typeof indexedDB}catch(V){return!1}}function A(){return new Promise(((V,p)=>{try{let W=!0;const N="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(N);d.onsuccess=()=>{d.result.close(),W||self.indexedDB.deleteDatabase(N),V(!0)},d.onupgradeneeded=()=>{W=!1},d.onerror=()=>{var V;p((null===(V=d.error)||void 0===V?void 0:V.message)||"")}}catch(W){p(W)}}))}function v(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class t extends Error{constructor(V,p,W){super(p),this.code=V,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e.prototype.create)}}class e{constructor(V,p,W){this.service=V,this.serviceName=p,this.errors=W}create(V){const p=(arguments.length<=1?void 0:arguments[1])||{},W=`${this.service}/${V}`,N=this.errors[V],d=N?function(V,p){return V.replace(Z,((V,W)=>{const N=p[W];return null!=N?String(N):`<${W}?>`}))}(N,p):"Error",E=`${this.serviceName}: ${d} (${W}).`;return new t(W,E,p)}}const Z=/\{\$([^}]+)}/g;function o(V){for(const p in V)if(Object.prototype.hasOwnProperty.call(V,p))return!1;return!0}function K(V,p){if(V===p)return!0;const W=Object.keys(V),N=Object.keys(p);for(const d of W){if(!N.includes(d))return!1;const W=V[d],E=p[d];if(h(W)&&h(E)){if(!K(W,E))return!1}else if(W!==E)return!1}for(const d of N)if(!W.includes(d))return!1;return!0}function h(V){return null!==V&&"object"===typeof V}function L(V){const p=[];for(const[W,N]of Object.entries(V))Array.isArray(N)?N.forEach((V=>{p.push(encodeURIComponent(W)+"="+encodeURIComponent(V))})):p.push(encodeURIComponent(W)+"="+encodeURIComponent(N));return p.length?"&"+p.join("&"):""}function x(V){const p={};return V.replace(/^\?/,"").split("&").forEach((V=>{if(V){const[W,N]=V.split("=");p[decodeURIComponent(W)]=decodeURIComponent(N)}})),p}function T(V){const p=V.indexOf("?");if(!p)return"";const W=V.indexOf("#",p);return V.substring(p,W>0?W:void 0)}function P(V,p){const W=new b(V,p);return W.subscribe.bind(W)}class b{constructor(V,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then((()=>{V(this)})).catch((V=>{this.error(V)}))}next(V){this.forEachObserver((p=>{p.next(V)}))}error(V){this.forEachObserver((p=>{p.error(V)})),this.close(V)}complete(){this.forEachObserver((V=>{V.complete()})),this.close()}subscribe(V,p,W){let N;if(void 0===V&&void 0===p&&void 0===W)throw new Error("Missing Observer.");N=function(V,p){if("object"!==typeof V||null===V)return!1;for(const W of p)if(W in V&&"function"===typeof V[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:p,complete:W},void 0===N.next&&(N.next=s),void 0===N.error&&(N.error=s),void 0===N.complete&&(N.complete=s);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(V){}})),this.observers.push(N),d}unsubscribeOne(V){void 0!==this.observers&&void 0!==this.observers[V]&&(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,V)}sendOne(V,p){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{p(this.observers[V])}catch(W){"undefined"!==typeof console&&console.error&&console.error(W)}}))}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const G=1e3,R=2,X=144e5,r=.5;function B(V){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;const W=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:G)*Math.pow(p,V),N=Math.round(r*W*(Math.random()-.5)*2);return Math.min(X,W+N)}function Y(V){return V&&V._delegate?V._delegate:V}},10612:(V,p,W)=>{W.d(p,{c:()=>E.k,f:()=>lV,j:()=>n,l:()=>WV,n:()=>NV,q:()=>VV,r:()=>SV,v:()=>pV,w:()=>EV,y:()=>dV,C:()=>zV,E:()=>fV,J:()=>kV,F:()=>uV,M:()=>jV,N:()=>UV,O:()=>OV,P:()=>FV});var N=W(10619),d=W(10628),E=W(10622);let z,S;const Q=new WeakMap,J=new WeakMap,i=new WeakMap,l=new WeakMap,j=new WeakMap;let k={get(V,p,W){if(V instanceof IDBTransaction){if("done"===p)return J.get(V);if("objectStoreNames"===p)return V.objectStoreNames||i.get(V);if("store"===p)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return O(V[p])},set:(V,p,W)=>(V[p]=W,!0),has:(V,p)=>V instanceof IDBTransaction&&("done"===p||"store"===p)||p in V};function u(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(V)?function(){for(var p=arguments.length,W=new Array(p),N=0;N<p;N++)W[N]=arguments[N];return V.apply(U(this),W),O(Q.get(this))}:function(){for(var p=arguments.length,W=new Array(p),N=0;N<p;N++)W[N]=arguments[N];return O(V.apply(U(this),W))}:function(p){for(var W=arguments.length,N=new Array(W>1?W-1:0),d=1;d<W;d++)N[d-1]=arguments[d];const E=V.call(U(this),p,...N);return i.set(E,p.sort?p.sort():[p]),O(E)}}function f(V){return"function"===typeof V?u(V):(V instanceof IDBTransaction&&function(V){if(J.has(V))return;const p=new Promise(((p,W)=>{const N=()=>{V.removeEventListener("complete",d),V.removeEventListener("error",E),V.removeEventListener("abort",E)},d=()=>{p(),N()},E=()=>{W(V.error||new DOMException("AbortError","AbortError")),N()};V.addEventListener("complete",d),V.addEventListener("error",E),V.addEventListener("abort",E)}));J.set(V,p)}(V),p=V,(z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((V=>p instanceof V))?new Proxy(V,k):V);var p}function O(V){if(V instanceof IDBRequest)return function(V){const p=new Promise(((p,W)=>{const N=()=>{V.removeEventListener("success",d),V.removeEventListener("error",E)},d=()=>{p(O(V.result)),N()},E=()=>{W(V.error),N()};V.addEventListener("success",d),V.addEventListener("error",E)}));return p.then((p=>{p instanceof IDBCursor&&Q.set(p,V)})).catch((()=>{})),j.set(p,V),p}(V);if(l.has(V))return l.get(V);const p=f(V);return p!==V&&(l.set(V,p),j.set(p,V)),p}const U=V=>j.get(V);const F=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],A=new Map;function v(V,p){if(!(V instanceof IDBDatabase)||p in V||"string"!==typeof p)return;if(A.get(p))return A.get(p);const W=p.replace(/FromIndex$/,""),N=p!==W,d=C.includes(W);if(!(W in(N?IDBIndex:IDBObjectStore).prototype)||!d&&!F.includes(W))return;const E=async function(V){const p=this.transaction(V,d?"readwrite":"readonly");let E=p.store;for(var z=arguments.length,S=new Array(z>1?z-1:0),Q=1;Q<z;Q++)S[Q-1]=arguments[Q];return N&&(E=E.index(S.shift())),(await Promise.all([E[W](...S),d&&p.done]))[0]};return A.set(p,E),E}k=(V=>({...V,get:(p,W,N)=>v(p,W)||V.get(p,W,N),has:(p,W)=>!!v(p,W)||V.has(p,W)}))(k);class t{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map((V=>{if(function(V){const p=V.getComponent();return"VERSION"===(null===p||void 0===p?void 0:p.type)}(V)){const p=V.getImmediate();return`${p.library}/${p.version}`}return null})).filter((V=>V)).join(" ")}}const e="@firebase/app",Z="0.9.13",o=new d.f("@firebase/app"),K="@firebase/app-compat",h="@firebase/analytics-compat",L="@firebase/analytics",x="@firebase/app-check-compat",T="@firebase/app-check",P="@firebase/auth",b="@firebase/auth-compat",s="@firebase/database",G="@firebase/database-compat",R="@firebase/functions",X="@firebase/functions-compat",r="@firebase/installations",B="@firebase/installations-compat",Y="@firebase/messaging",I="@firebase/messaging-compat",c="@firebase/performance",q="@firebase/performance-compat",g="@firebase/remote-config",D="@firebase/remote-config-compat",H="@firebase/storage",m="@firebase/storage-compat",M="@firebase/firestore",a="@firebase/firestore-compat",y="firebase",n="[DEFAULT]",w={[e]:"fire-core",[K]:"fire-core-compat",[L]:"fire-analytics",[h]:"fire-analytics-compat",[T]:"fire-app-check",[x]:"fire-app-check-compat",[P]:"fire-auth",[b]:"fire-auth-compat",[s]:"fire-rtdb",[G]:"fire-rtdb-compat",[R]:"fire-fn",[X]:"fire-fn-compat",[r]:"fire-iid",[B]:"fire-iid-compat",[Y]:"fire-fcm",[I]:"fire-fcm-compat",[c]:"fire-perf",[q]:"fire-perf-compat",[g]:"fire-rc",[D]:"fire-rc-compat",[H]:"fire-gcs",[m]:"fire-gcs-compat",[M]:"fire-fst",[a]:"fire-fst-compat","fire-js":"fire-js",[y]:"fire-js-all"},VV=new Map,pV=new Map;function WV(V,p){try{V.container.hf(p)}catch(W){o.debug(`Component ${p.name} failed to register with FirebaseApp ${V.name}`,W)}}function NV(V,p){V.container.addOrOverwriteComponent(p)}function dV(V){const p=V.name;if(pV.has(p))return o.debug(`There were multiple attempts to register component ${p}.`),!1;pV.set(p,V);for(const W of VV.values())WV(W,V);return!0}function EV(V,p){const W=V.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),V.container.getProvider(p)}function zV(V,p){let W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;EV(V,p).clearInstance(W)}function SV(){pV.clear()}const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},JV=new E.g("app","Firebase",QV);class iV{constructor(V,p,W){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=W,this.container.hf(new N.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw JV.create("app-deleted",{appName:this._name})}}const lV="9.23.0";function jV(V){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=V;if("object"!==typeof p){p={name:p}}const d=Object.assign({name:n,automaticDataCollectionEnabled:!1},p),z=d.name;if("string"!==typeof z||!z)throw JV.create("bad-app-name",{appName:String(z)});if(W||(W=(0,E.D)()),!W)throw JV.create("no-options");const S=VV.get(z);if(S){if((0,E.z)(W,S.options)&&(0,E.z)(d,S.config))return S;throw JV.create("duplicate-app",{appName:z})}const Q=new N.e(z);for(const N of pV.values())Q.hf(N);const J=new iV(W,d,Q);return VV.set(z,J),J}function kV(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const p=VV.get(V);if(!p&&V===n&&(0,E.D)())return jV();if(!p)throw JV.create("no-app",{appName:V});return p}function uV(){return Array.from(VV.values())}async function fV(V){const p=V.name;VV.has(p)&&(VV.delete(p),await Promise.all(V.container.getProviders().map((V=>V.delete()))),V.isDeleted=!0)}function OV(V,p,W){var d;let E=null!==(d=w[V])&&void 0!==d?d:V;W&&(E+=`-${W}`);const z=E.match(/\s|\//),S=p.match(/\s|\//);if(z||S){const V=[`Unable to register library "${E}" with version "${p}":`];return z&&V.push(`library name "${E}" contains illegal characters (whitespace or "/")`),z&&S&&V.push("and"),S&&V.push(`version name "${p}" contains illegal characters (whitespace or "/")`),void o.warn(V.join(" "))}dV(new N.g(`${E}-version`,(()=>({library:E,version:p})),"VERSION"))}function UV(V,p){if(null!==V&&"function"!==typeof V)throw JV.create("invalid-log-argument");(0,d.l)(V,p)}function FV(V){(0,d.i)(V)}const CV="firebase-heartbeat-store";let AV=null;function vV(){return AV||(AV=function(V,p){let{blocked:W,upgrade:N,blocking:d,terminated:E}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const z=indexedDB.open(V,p),S=O(z);return N&&z.addEventListener("upgradeneeded",(V=>{N(O(z.result),V.oldVersion,V.newVersion,O(z.transaction),V)})),W&&z.addEventListener("blocked",(V=>W(V.oldVersion,V.newVersion,V))),S.then((V=>{E&&V.addEventListener("close",(()=>E())),d&&V.addEventListener("versionchange",(V=>d(V.oldVersion,V.newVersion,V)))})).catch((()=>{})),S}("firebase-heartbeat-database",1,{upgrade:(V,p)=>{if(0===p)V.createObjectStore(CV)}}).catch((V=>{throw JV.create("idb-open",{originalErrorMessage:V.message})}))),AV}async function tV(V,p){try{const W=(await vV()).transaction(CV,"readwrite"),N=W.objectStore(CV);await N.put(p,eV(V)),await W.done}catch(W){if(W instanceof E.k)o.warn(W.message);else{const V=JV.create("idb-set",{originalErrorMessage:null===W||void 0===W?void 0:W.message});o.warn(V.message)}}}function eV(V){return`${V.name}!${V.options.appId}`}class ZV{constructor(V){this.container=V,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this.qi=new KV(p),this._heartbeatsCachePromise=this.qi.read().then((V=>(this._heartbeatsCache=V,V)))}async triggerHeartbeat(){const V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=oV();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==p&&!this._heartbeatsCache.heartbeats.some((V=>V.date===p)))return this._heartbeatsCache.heartbeats.push({date:p,agent:V}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((V=>{const p=new Date(V.date).valueOf();return Date.now()-p<=2592e6})),this.qi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const V=oV(),{heartbeatsToSend:p,unsentEntries:W}=function(V){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const W=[];let N=V.slice();for(const d of V){const V=W.find((V=>V.agent===d.agent));if(V){if(V.dates.push(d.date),hV(W)>p){V.dates.pop();break}}else if(W.push({agent:d.agent,dates:[d.date]}),hV(W)>p){W.pop();break}N=N.slice(1)}return{heartbeatsToSend:W,unsentEntries:N}}(this._heartbeatsCache.heartbeats),N=(0,E.r)(JSON.stringify({version:2,heartbeats:p}));return this._heartbeatsCache.lastSentHeartbeatDate=V,W.length>0?(this._heartbeatsCache.heartbeats=W,await this.qi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.qi.overwrite(this._heartbeatsCache)),N}}function oV(){return(new Date).toISOString().substring(0,10)}class KV{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,E._)()&&(0,E.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(V){try{const p=await vV();return await p.transaction(CV).objectStore(CV).get(eV(V))}catch(p){if(p instanceof E.k)o.warn(p.message);else{const V=JV.create("idb-get",{originalErrorMessage:null===p||void 0===p?void 0:p.message});o.warn(V.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(V){var p;if(await this._canUseIndexedDBPromise){const W=await this.read();return tV(this.app,{lastSentHeartbeatDate:null!==(p=V.lastSentHeartbeatDate)&&void 0!==p?p:W.lastSentHeartbeatDate,heartbeats:V.heartbeats})}}async add(V){var p;if(await this._canUseIndexedDBPromise){const W=await this.read();return tV(this.app,{lastSentHeartbeatDate:null!==(p=V.lastSentHeartbeatDate)&&void 0!==p?p:W.lastSentHeartbeatDate,heartbeats:[...W.heartbeats,...V.heartbeats]})}}}function hV(V){return(0,E.r)(JSON.stringify({version:2,heartbeats:V})).length}var LV;LV="",dV(new N.g("platform-logger",(V=>new t(V)),"PRIVATE")),dV(new N.g("heartbeat",(V=>new ZV(V)),"PRIVATE")),OV(e,Z,LV),OV(e,Z,"esm2017"),OV("fire-js","")},10619:(V,p,W)=>{W.d(p,{e:()=>S,g:()=>d});var N=W(10622);class d{constructor(V,p,W){this.name=V,this.instanceFactory=p,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const E="[DEFAULT]";class z{constructor(V,p){this.name=V,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const p=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(p)){const V=new N.e;if(this.instancesDeferred.set(p,V),this.isInitialized(p)||this.shouldAutoInitialize())try{const W=this.getOrInitializeService({instanceIdentifier:p});W&&V.resolve(W)}catch(W){}}return this.instancesDeferred.get(p).promise}getImmediate(V){var p;const W=this.normalizeInstanceIdentifier(null===V||void 0===V?void 0:V.identifier),N=null!==(p=null===V||void 0===V?void 0:V.optional)&&void 0!==p&&p;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(N)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(d){if(N)return null;throw d}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:E})}catch(p){}for(const[V,W]of this.instancesDeferred.entries()){const N=this.normalizeInstanceIdentifier(V);try{const V=this.getOrInitializeService({instanceIdentifier:N});W.resolve(V)}catch(p){}}}}clearInstance(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}async delete(){const V=Array.from(this.instances.values());await Promise.all([...V.filter((V=>"INTERNAL"in V)).map((V=>V.INTERNAL.delete())),...V.filter((V=>"_delete"in V)).map((V=>V._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instances.has(V)}getOptions(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instancesOptions.get(V)||{}}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:p={}}=V,W=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const N=this.getOrInitializeService({instanceIdentifier:W,options:p});for(const[d,E]of this.instancesDeferred.entries()){W===this.normalizeInstanceIdentifier(d)&&E.resolve(N)}return N}Xh(V,p){var W;const N=this.normalizeInstanceIdentifier(p),d=null!==(W=this.onInitCallbacks.get(N))&&void 0!==W?W:new Set;d.add(V),this.onInitCallbacks.set(N,d);const E=this.instances.get(N);return E&&V(E,N),()=>{d.delete(V)}}invokeOnInitCallbacks(V,p){const W=this.onInitCallbacks.get(p);if(W)for(const d of W)try{d(V,p)}catch(N){}}getOrInitializeService(V){let{instanceIdentifier:p,options:W={}}=V,N=this.instances.get(p);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(d=p,d===E?void 0:d),options:W}),this.instances.set(p,N),this.instancesOptions.set(p,W),this.invokeOnInitCallbacks(N,p),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,p,N)}catch(z){}var d;return N||null}normalizeInstanceIdentifier(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.component?this.component.multipleInstances?V:E:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S{constructor(V){this.name=V,this.providers=new Map}hf(V){const p=this.getProvider(V.name);if(p.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);p.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.hf(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const p=new z(V,this);return this.providers.set(V,p),p}getProviders(){return Array.from(this.providers.values())}}},10628:(V,p,W)=>{W.d(p,{b:()=>d,f:()=>J,i:()=>i,l:()=>l});const N=[];var d;!function(V){V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT"}(d||(d={}));const E={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},z=d.INFO,S={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},Q=function(V,p){if(p<V.logLevel)return;const W=(new Date).toISOString(),N=S[p];if(!N)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);for(var d=arguments.length,E=new Array(d>2?d-2:0),z=2;z<d;z++)E[z-2]=arguments[z];console[N](`[${W}]  ${V.name}:`,...E)};class J{constructor(V){this.name=V,this._logLevel=z,this._logHandler=Q,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in d))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"===typeof V?E[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!==typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(){for(var V=arguments.length,p=new Array(V),W=0;W<V;W++)p[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...p),this._logHandler(this,d.DEBUG,...p)}log(){for(var V=arguments.length,p=new Array(V),W=0;W<V;W++)p[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...p),this._logHandler(this,d.VERBOSE,...p)}info(){for(var V=arguments.length,p=new Array(V),W=0;W<V;W++)p[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,d.INFO,...p),this._logHandler(this,d.INFO,...p)}warn(){for(var V=arguments.length,p=new Array(V),W=0;W<V;W++)p[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,d.WARN,...p),this._logHandler(this,d.WARN,...p)}error(){for(var V=arguments.length,p=new Array(V),W=0;W<V;W++)p[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,d.ERROR,...p),this._logHandler(this,d.ERROR,...p)}}function i(V){N.forEach((p=>{p.setLogLevel(V)}))}function l(V,p){for(const W of N){let N=null;p&&p.level&&(N=E[p.level]),W.userLogHandler=null===V?null:function(p,W){for(var E=arguments.length,z=new Array(E>2?E-2:0),S=2;S<E;S++)z[S-2]=arguments[S];const Q=z.map((V=>{if(null==V)return null;if("string"===typeof V)return V;if("number"===typeof V||"boolean"===typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch(p){return null}})).filter((V=>V)).join(" ");W>=(null!==N&&void 0!==N?N:p.logLevel)&&V({level:d[W].toLowerCase(),message:Q,args:z,type:p.name})}}}}}]);