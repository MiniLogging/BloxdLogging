/*! For license information please see jpdc5.5.512c0edb.chunk.js.LICENSE.txt */
"use strict";(self.xeuzlpp225k=self.xeuzlpp225k||[]).push([[5],{11099:(k,Q,i)=>{i.d(Q,{C:()=>G,F:()=>J,G:()=>H,I:()=>A,J:()=>F,K:()=>E,O:()=>u,Q:()=>h,R:()=>c,S:()=>z,U:()=>l,W:()=>K,X:()=>T,Y:()=>f,c:()=>e,g:()=>L,h:()=>y,j:()=>Y,k:()=>o,n:()=>B,r:()=>W,s:()=>N,w:()=>a,z:()=>v});const Z=function(k){const Q=[];let i=0;for(let Z=0;Z<k.length;Z++){let U=k.charCodeAt(Z);U<128?Q[i++]=U:U<2048?(Q[i++]=U>>6|192,Q[i++]=63&U|128):55296===(64512&U)&&Z+1<k.length&&56320===(64512&k.charCodeAt(Z+1))?(U=65536+((1023&U)<<10)+(1023&k.charCodeAt(++Z)),Q[i++]=U>>18|240,Q[i++]=U>>12&63|128,Q[i++]=U>>6&63|128,Q[i++]=63&U|128):(Q[i++]=U>>12|224,Q[i++]=U>>6&63|128,Q[i++]=63&U|128)}return Q},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(k,Q){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let U=0;U<k.length;U+=3){const Q=k[U],C=U+1<k.length,B=C?k[U+1]:0,o=U+2<k.length,m=o?k[U+2]:0,O=Q>>2,J=(3&Q)<<4|B>>4;let G=(15&B)<<2|m>>6,H=63&m;o||(H=64,C||(G=64)),Z.push(i[O],i[J],i[G],i[H])}return Z.join("")},encodeString(k,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(k):this.encodeByteArray(Z(k),Q)},decodeString(k,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(k):function(k){const Q=[];let i=0,Z=0;for(;i<k.length;){const U=k[i++];if(U<128)Q[Z++]=String.fromCharCode(U);else if(U>191&&U<224){const C=k[i++];Q[Z++]=String.fromCharCode((31&U)<<6|63&C)}else if(U>239&&U<365){const C=((7&U)<<18|(63&k[i++])<<12|(63&k[i++])<<6|63&k[i++])-65536;Q[Z++]=String.fromCharCode(55296+(C>>10)),Q[Z++]=String.fromCharCode(56320+(1023&C))}else{const C=k[i++],B=k[i++];Q[Z++]=String.fromCharCode((15&U)<<12|(63&C)<<6|63&B)}}return Q.join("")}(this.decodeStringToByteArray(k,Q))},decodeStringToByteArray(k,Q){this.init_();const i=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let U=0;U<k.length;){const Q=i[k.charAt(U++)],B=U<k.length?i[k.charAt(U)]:0;++U;const o=U<k.length?i[k.charAt(U)]:64;++U;const m=U<k.length?i[k.charAt(U)]:64;if(++U,null==Q||null==B||null==o||null==m)throw new C;const O=Q<<2|B>>4;if(Z.push(O),64!==o){const k=B<<4&240|o>>2;if(Z.push(k),64!==m){const k=o<<6&192|m;Z.push(k)}}}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B=function(k){return function(k){const Q=Z(k);return U.encodeByteArray(Q,!0)}(k).replace(/\./g,"")},o=function(k){try{return U.decodeString(k,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{try{return m()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const Q=k&&o(k[1]);return Q&&JSON.parse(Q)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},J=k=>{var Q,i;return null===(i=null===(Q=O())||void 0===Q?void 0:Q.emulatorHosts)||void 0===i?void 0:i[k]},G=()=>{var k;return null===(k=O())||void 0===k?void 0:k.config},H=k=>{var Q;return null===(Q=O())||void 0===Q?void 0:Q[`_${k}`]};class e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((k,Q)=>{this.resolve=k,this.reject=Q}))}wrapCallback(k){return(Q,i)=>{Q?this.reject(Q):this.resolve(i),"function"===typeof k&&(this.promise.catch((()=>{})),1===k.length?k(Q):k(Q,i))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function E(){const k="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof k&&void 0!==k.id}function l(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){const k=F();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function c(){try{return"object"===typeof indexedDB}catch(k){return!1}}function f(){return new Promise(((k,Q)=>{try{let i=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(Z);U.onsuccess=()=>{U.result.close(),i||self.indexedDB.deleteDatabase(Z),k(!0)},U.onupgradeneeded=()=>{i=!1},U.onerror=()=>{var k;Q((null===(k=U.error)||void 0===k?void 0:k.message)||"")}}catch(i){Q(i)}}))}function Y(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class y extends Error{constructor(k,Q,i){super(Q),this.code=k,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L.prototype.create)}}class L{constructor(k,Q,i){this.service=k,this.serviceName=Q,this.errors=i}create(k){const Q=(arguments.length<=1?void 0:arguments[1])||{},i=`${this.service}/${k}`,Z=this.errors[k],U=Z?function(k,Q){return k.replace(s,((k,i)=>{const Z=Q[i];return null!=Z?String(Z):`<${i}?>`}))}(Z,Q):"Error",C=`${this.serviceName}: ${U} (${i}).`;return new y(i,C,Q)}}const s=/\{\$([^}]+)}/g;function u(k){for(const Q in k)if(Object.prototype.hasOwnProperty.call(k,Q))return!1;return!0}function a(k,Q){if(k===Q)return!0;const i=Object.keys(k),Z=Object.keys(Q);for(const U of i){if(!Z.includes(U))return!1;const i=k[U],C=Q[U];if(j(i)&&j(C)){if(!a(i,C))return!1}else if(i!==C)return!1}for(const U of Z)if(!i.includes(U))return!1;return!0}function j(k){return null!==k&&"object"===typeof k}function T(k){const Q=[];for(const[i,Z]of Object.entries(k))Array.isArray(Z)?Z.forEach((k=>{Q.push(encodeURIComponent(i)+"="+encodeURIComponent(k))})):Q.push(encodeURIComponent(i)+"="+encodeURIComponent(Z));return Q.length?"&"+Q.join("&"):""}function K(k){const Q={};return k.replace(/^\?/,"").split("&").forEach((k=>{if(k){const[i,Z]=k.split("=");Q[decodeURIComponent(i)]=decodeURIComponent(Z)}})),Q}function v(k){const Q=k.indexOf("?");if(!Q)return"";const i=k.indexOf("#",Q);return k.substring(Q,i>0?i:void 0)}function N(k,Q){const i=new X(k,Q);return i.subscribe.bind(i)}class X{constructor(k,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then((()=>{k(this)})).catch((k=>{this.error(k)}))}next(k){this.forEachObserver((Q=>{Q.next(k)}))}error(k){this.forEachObserver((Q=>{Q.error(k)})),this.close(k)}complete(){this.forEachObserver((k=>{k.complete()})),this.close()}subscribe(k,Q,i){let Z;if(void 0===k&&void 0===Q&&void 0===i)throw new Error("Missing Observer.");Z=function(k,Q){if("object"!==typeof k||null===k)return!1;for(const i of Q)if(i in k&&"function"===typeof k[i])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:Q,complete:i},void 0===Z.next&&(Z.next=p),void 0===Z.error&&(Z.error=p),void 0===Z.complete&&(Z.complete=p);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(k){}})),this.observers.push(Z),U}unsubscribeOne(k){void 0!==this.observers&&void 0!==this.observers[k]&&(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,k)}sendOne(k,Q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{Q(this.observers[k])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function p(){}const d=1e3,b=2,D=144e5,M=.5;function W(k){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;const i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:d)*Math.pow(Q,k),Z=Math.round(M*i*(Math.random()-.5)*2);return Math.min(D,i+Z)}function A(k){return k&&k._delegate?k._delegate:k}},11090:(k,Q,i)=>{i.d(Q,{b:()=>C.h,e:()=>Gk,g:()=>x,i:()=>ik,k:()=>Zk,l:()=>kk,p:()=>ok,r:()=>Qk,s:()=>Ck,u:()=>Uk,x:()=>Bk,z:()=>zk,F:()=>ek,D:()=>Fk,I:()=>Hk,L:()=>lk,M:()=>Ek,Q:()=>hk});var Z=i(11092),U=i(11103),C=i(11099);let B,o;const m=new WeakMap,O=new WeakMap,J=new WeakMap,G=new WeakMap,H=new WeakMap;let e={get(k,Q,i){if(k instanceof IDBTransaction){if("done"===Q)return O.get(k);if("objectStoreNames"===Q)return k.objectStoreNames||J.get(k);if("store"===Q)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return E(k[Q])},set:(k,Q,i)=>(k[Q]=i,!0),has:(k,Q)=>k instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in k};function F(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(k)?function(){for(var Q=arguments.length,i=new Array(Q),Z=0;Z<Q;Z++)i[Z]=arguments[Z];return k.apply(l(this),i),E(m.get(this))}:function(){for(var Q=arguments.length,i=new Array(Q),Z=0;Z<Q;Z++)i[Z]=arguments[Z];return E(k.apply(l(this),i))}:function(Q){for(var i=arguments.length,Z=new Array(i>1?i-1:0),U=1;U<i;U++)Z[U-1]=arguments[U];const C=k.call(l(this),Q,...Z);return J.set(C,Q.sort?Q.sort():[Q]),E(C)}}function z(k){return"function"===typeof k?F(k):(k instanceof IDBTransaction&&function(k){if(O.has(k))return;const Q=new Promise(((Q,i)=>{const Z=()=>{k.removeEventListener("complete",U),k.removeEventListener("error",C),k.removeEventListener("abort",C)},U=()=>{Q(),Z()},C=()=>{i(k.error||new DOMException("AbortError","AbortError")),Z()};k.addEventListener("complete",U),k.addEventListener("error",C),k.addEventListener("abort",C)}));O.set(k,Q)}(k),Q=k,(B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((k=>Q instanceof k))?new Proxy(k,e):k);var Q}function E(k){if(k instanceof IDBRequest)return function(k){const Q=new Promise(((Q,i)=>{const Z=()=>{k.removeEventListener("success",U),k.removeEventListener("error",C)},U=()=>{Q(E(k.result)),Z()},C=()=>{i(k.error),Z()};k.addEventListener("success",U),k.addEventListener("error",C)}));return Q.then((Q=>{Q instanceof IDBCursor&&m.set(Q,k)})).catch((()=>{})),H.set(Q,k),Q}(k);if(G.has(k))return G.get(k);const Q=z(k);return Q!==k&&(G.set(k,Q),H.set(Q,k)),Q}const l=k=>H.get(k);const h=["get","getKey","getAll","getAllKeys","count"],c=["put","add","delete","clear"],f=new Map;function Y(k,Q){if(!(k instanceof IDBDatabase)||Q in k||"string"!==typeof Q)return;if(f.get(Q))return f.get(Q);const i=Q.replace(/FromIndex$/,""),Z=Q!==i,U=c.includes(i);if(!(i in(Z?IDBIndex:IDBObjectStore).prototype)||!U&&!h.includes(i))return;const C=async function(k){const Q=this.transaction(k,U?"readwrite":"readonly");let C=Q.store;for(var B=arguments.length,o=new Array(B>1?B-1:0),m=1;m<B;m++)o[m-1]=arguments[m];return Z&&(C=C.index(o.shift())),(await Promise.all([C[i](...o),U&&Q.done]))[0]};return f.set(Q,C),C}e=(k=>({...k,get:(Q,i,Z)=>Y(Q,i)||k.get(Q,i,Z),has:(Q,i)=>!!Y(Q,i)||k.has(Q,i)}))(e);class y{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map((k=>{if(function(k){const Q=k.getComponent();return"VERSION"===(null===Q||void 0===Q?void 0:Q.type)}(k)){const Q=k.getImmediate();return`${Q.library}/${Q.version}`}return null})).filter((k=>k)).join(" ")}}const L="@firebase/app",s="0.9.13",u=new U.f("@firebase/app"),a="@firebase/app-compat",j="@firebase/analytics-compat",T="@firebase/analytics",K="@firebase/app-check-compat",v="@firebase/app-check",N="@firebase/auth",X="@firebase/auth-compat",p="@firebase/database",d="@firebase/database-compat",b="@firebase/functions",D="@firebase/functions-compat",M="@firebase/installations",W="@firebase/installations-compat",A="@firebase/messaging",g="@firebase/messaging-compat",R="@firebase/performance",w="@firebase/performance-compat",S="@firebase/remote-config",q="@firebase/remote-config-compat",P="@firebase/storage",t="@firebase/storage-compat",I="@firebase/firestore",r="@firebase/firestore-compat",n="firebase",x="[DEFAULT]",V={[L]:"fire-core",[a]:"fire-core-compat",[T]:"fire-analytics",[j]:"fire-analytics-compat",[v]:"fire-app-check",[K]:"fire-app-check-compat",[N]:"fire-auth",[X]:"fire-auth-compat",[p]:"fire-rtdb",[d]:"fire-rtdb-compat",[b]:"fire-fn",[D]:"fire-fn-compat",[M]:"fire-iid",[W]:"fire-iid-compat",[A]:"fire-fcm",[g]:"fire-fcm-compat",[R]:"fire-perf",[w]:"fire-perf-compat",[S]:"fire-rc",[q]:"fire-rc-compat",[P]:"fire-gcs",[t]:"fire-gcs-compat",[I]:"fire-fst",[r]:"fire-fst-compat","fire-js":"fire-js",[n]:"fire-js-all"},kk=new Map,Qk=new Map;function ik(k,Q){try{k.container.Nm(Q)}catch(i){u.debug(`Component ${Q.name} failed to register with FirebaseApp ${k.name}`,i)}}function Zk(k,Q){k.container.addOrOverwriteComponent(Q)}function Uk(k){const Q=k.name;if(Qk.has(Q))return u.debug(`There were multiple attempts to register component ${Q}.`),!1;Qk.set(Q,k);for(const i of kk.values())ik(i,k);return!0}function Ck(k,Q){const i=k.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),k.container.getProvider(Q)}function Bk(k,Q){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;Ck(k,Q).clearInstance(i)}function ok(){Qk.clear()}const mk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ok=new C.g("app","Firebase",mk);class Jk{constructor(k,Q,i){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=i,this.container.Nm(new Z.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw Ok.create("app-deleted",{appName:this._name})}}const Gk="9.23.0";function Hk(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=k;if("object"!==typeof Q){Q={name:Q}}const U=Object.assign({name:x,automaticDataCollectionEnabled:!1},Q),B=U.name;if("string"!==typeof B||!B)throw Ok.create("bad-app-name",{appName:String(B)});if(i||(i=(0,C.C)()),!i)throw Ok.create("no-options");const o=kk.get(B);if(o){if((0,C.w)(i,o.options)&&(0,C.w)(U,o.config))return o;throw Ok.create("duplicate-app",{appName:B})}const m=new Z.b(B);for(const Z of Qk.values())m.Nm(Z);const O=new Jk(i,U,m);return kk.set(B,O),O}function ek(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;const Q=kk.get(k);if(!Q&&k===x&&(0,C.C)())return Hk();if(!Q)throw Ok.create("no-app",{appName:k});return Q}function Fk(){return Array.from(kk.values())}async function zk(k){const Q=k.name;kk.has(Q)&&(kk.delete(Q),await Promise.all(k.container.getProviders().map((k=>k.delete()))),k.isDeleted=!0)}function Ek(k,Q,i){var U;let C=null!==(U=V[k])&&void 0!==U?U:k;i&&(C+=`-${i}`);const B=C.match(/\s|\//),o=Q.match(/\s|\//);if(B||o){const k=[`Unable to register library "${C}" with version "${Q}":`];return B&&k.push(`library name "${C}" contains illegal characters (whitespace or "/")`),B&&o&&k.push("and"),o&&k.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void u.warn(k.join(" "))}Uk(new Z.d(`${C}-version`,(()=>({library:C,version:Q})),"VERSION"))}function lk(k,Q){if(null!==k&&"function"!==typeof k)throw Ok.create("invalid-log-argument");(0,U.l)(k,Q)}function hk(k){(0,U.i)(k)}const ck="firebase-heartbeat-store";let fk=null;function Yk(){return fk||(fk=function(k,Q){let{blocked:i,upgrade:Z,blocking:U,terminated:C}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const B=indexedDB.open(k,Q),o=E(B);return Z&&B.addEventListener("upgradeneeded",(k=>{Z(E(B.result),k.oldVersion,k.newVersion,E(B.transaction),k)})),i&&B.addEventListener("blocked",(k=>i(k.oldVersion,k.newVersion,k))),o.then((k=>{C&&k.addEventListener("close",(()=>C())),U&&k.addEventListener("versionchange",(k=>U(k.oldVersion,k.newVersion,k)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(k,Q)=>{if(0===Q)k.createObjectStore(ck)}}).catch((k=>{throw Ok.create("idb-open",{originalErrorMessage:k.message})}))),fk}async function yk(k,Q){try{const i=(await Yk()).transaction(ck,"readwrite"),Z=i.objectStore(ck);await Z.put(Q,Lk(k)),await i.done}catch(i){if(i instanceof C.h)u.warn(i.message);else{const k=Ok.create("idb-set",{originalErrorMessage:null===i||void 0===i?void 0:i.message});u.warn(k.message)}}}function Lk(k){return`${k.name}!${k.options.appId}`}class sk{constructor(k){this.container=k,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this.BG=new ak(Q),this._heartbeatsCachePromise=this.BG.read().then((k=>(this._heartbeatsCache=k,k)))}async triggerHeartbeat(){const k=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Q=uk();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Q&&!this._heartbeatsCache.heartbeats.some((k=>k.date===Q)))return this._heartbeatsCache.heartbeats.push({date:Q,agent:k}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((k=>{const Q=new Date(k.date).valueOf();return Date.now()-Q<=2592e6})),this.BG.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const k=uk(),{heartbeatsToSend:Q,unsentEntries:i}=function(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const i=[];let Z=k.slice();for(const U of k){const k=i.find((k=>k.agent===U.agent));if(k){if(k.dates.push(U.date),jk(i)>Q){k.dates.pop();break}}else if(i.push({agent:U.agent,dates:[U.date]}),jk(i)>Q){i.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:i,unsentEntries:Z}}(this._heartbeatsCache.heartbeats),Z=(0,C.n)(JSON.stringify({version:2,heartbeats:Q}));return this._heartbeatsCache.lastSentHeartbeatDate=k,i.length>0?(this._heartbeatsCache.heartbeats=i,await this.BG.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.BG.overwrite(this._heartbeatsCache)),Z}}function uk(){return(new Date).toISOString().substring(0,10)}class ak{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,C.R)()&&(0,C.Y)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(k){try{const Q=await Yk();return await Q.transaction(ck).objectStore(ck).get(Lk(k))}catch(Q){if(Q instanceof C.h)u.warn(Q.message);else{const k=Ok.create("idb-get",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});u.warn(k.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(k){var Q;if(await this._canUseIndexedDBPromise){const i=await this.read();return yk(this.app,{lastSentHeartbeatDate:null!==(Q=k.lastSentHeartbeatDate)&&void 0!==Q?Q:i.lastSentHeartbeatDate,heartbeats:k.heartbeats})}}async add(k){var Q;if(await this._canUseIndexedDBPromise){const i=await this.read();return yk(this.app,{lastSentHeartbeatDate:null!==(Q=k.lastSentHeartbeatDate)&&void 0!==Q?Q:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...k.heartbeats]})}}}function jk(k){return(0,C.n)(JSON.stringify({version:2,heartbeats:k})).length}var Tk;Tk="",Uk(new Z.d("platform-logger",(k=>new y(k)),"PRIVATE")),Uk(new Z.d("heartbeat",(k=>new sk(k)),"PRIVATE")),Ek(L,s,Tk),Ek(L,s,"esm2017"),Ek("fire-js","")},11092:(k,Q,i)=>{i.d(Q,{b:()=>o,d:()=>U});var Z=i(11099);class U{constructor(k,Q,i){this.name=k,this.instanceFactory=Q,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const C="[DEFAULT]";class B{constructor(k,Q){this.name=k,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const Q=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(Q)){const k=new Z.c;if(this.instancesDeferred.set(Q,k),this.isInitialized(Q)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:Q});i&&k.resolve(i)}catch(i){}}return this.instancesDeferred.get(Q).promise}getImmediate(k){var Q;const i=this.normalizeInstanceIdentifier(null===k||void 0===k?void 0:k.identifier),Z=null!==(Q=null===k||void 0===k?void 0:k.optional)&&void 0!==Q&&Q;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(U){if(Z)return null;throw U}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if(function(k){return"EAGER"===k.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:C})}catch(Q){}for(const[k,i]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(k);try{const k=this.getOrInitializeService({instanceIdentifier:Z});i.resolve(k)}catch(Q){}}}}clearInstance(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}async delete(){const k=Array.from(this.instances.values());await Promise.all([...k.filter((k=>"INTERNAL"in k)).map((k=>k.INTERNAL.delete())),...k.filter((k=>"_delete"in k)).map((k=>k._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instances.has(k)}getOptions(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instancesOptions.get(k)||{}}initialize(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Q={}}=k,i=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:i,options:Q});for(const[U,C]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(U)&&C.resolve(Z)}return Z}MJ(k,Q){var i;const Z=this.normalizeInstanceIdentifier(Q),U=null!==(i=this.onInitCallbacks.get(Z))&&void 0!==i?i:new Set;U.add(k),this.onInitCallbacks.set(Z,U);const C=this.instances.get(Z);return C&&k(C,Z),()=>{U.delete(k)}}invokeOnInitCallbacks(k,Q){const i=this.onInitCallbacks.get(Q);if(i)for(const U of i)try{U(k,Q)}catch(Z){}}getOrInitializeService(k){let{instanceIdentifier:Q,options:i={}}=k,Z=this.instances.get(Q);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(U=Q,U===C?void 0:U),options:i}),this.instances.set(Q,Z),this.instancesOptions.set(Q,i),this.invokeOnInitCallbacks(Z,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Z)}catch(B){}var U;return Z||null}normalizeInstanceIdentifier(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.component?this.component.multipleInstances?k:C:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(k){this.name=k,this.providers=new Map}Nm(k){const Q=this.getProvider(k.name);if(Q.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);Q.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.Nm(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const Q=new B(k,this);return this.providers.set(k,Q),Q}getProviders(){return Array.from(this.providers.values())}}},11103:(k,Q,i)=>{i.d(Q,{b:()=>U,f:()=>O,i:()=>J,l:()=>G});const Z=[];var U;!function(k){k[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT"}(U||(U={}));const C={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},B=U.INFO,o={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},m=function(k,Q){if(Q<k.logLevel)return;const i=(new Date).toISOString(),Z=o[Q];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);for(var U=arguments.length,C=new Array(U>2?U-2:0),B=2;B<U;B++)C[B-2]=arguments[B];console[Z](`[${i}]  ${k.name}:`,...C)};class O{constructor(k){this.name=k,this._logLevel=B,this._logHandler=m,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in U))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"===typeof k?C[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!==typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(){for(var k=arguments.length,Q=new Array(k),i=0;i<k;i++)Q[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...Q),this._logHandler(this,U.DEBUG,...Q)}log(){for(var k=arguments.length,Q=new Array(k),i=0;i<k;i++)Q[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...Q),this._logHandler(this,U.VERBOSE,...Q)}info(){for(var k=arguments.length,Q=new Array(k),i=0;i<k;i++)Q[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,U.INFO,...Q),this._logHandler(this,U.INFO,...Q)}warn(){for(var k=arguments.length,Q=new Array(k),i=0;i<k;i++)Q[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,U.WARN,...Q),this._logHandler(this,U.WARN,...Q)}error(){for(var k=arguments.length,Q=new Array(k),i=0;i<k;i++)Q[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,U.ERROR,...Q),this._logHandler(this,U.ERROR,...Q)}}function J(k){Z.forEach((Q=>{Q.setLogLevel(k)}))}function G(k,Q){for(const i of Z){let Z=null;Q&&Q.level&&(Z=C[Q.level]),i.userLogHandler=null===k?null:function(Q,i){for(var C=arguments.length,B=new Array(C>2?C-2:0),o=2;o<C;o++)B[o-2]=arguments[o];const m=B.map((k=>{if(null==k)return null;if("string"===typeof k)return k;if("number"===typeof k||"boolean"===typeof k)return k.toString();if(k instanceof Error)return k.message;try{return JSON.stringify(k)}catch(Q){return null}})).filter((k=>k)).join(" ");i>=(null!==Z&&void 0!==Z?Z:Q.logLevel)&&k({level:U[i].toLowerCase(),message:m,args:B,type:Q.name})}}}}}]);