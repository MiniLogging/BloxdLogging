/*! For license information please see jm1tmn.5.ce04b599.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10560:(E,Y,C)=>{C.d(Y,{$:()=>h,B:()=>d,E:()=>j,I:()=>w,J:()=>p,M:()=>t,O:()=>W,P:()=>n,S:()=>y,U:()=>V,W:()=>S,Y:()=>M,bb:()=>v,d:()=>k,db:()=>Z,fb:()=>X,g:()=>c,ib:()=>R,k:()=>g,mb:()=>f,o:()=>G,r:()=>T,u:()=>u,y:()=>q});const P=function(E){const Y=[];let C=0;for(let P=0;P<E.length;P++){let K=E.charCodeAt(P);K<128?Y[C++]=K:K<2048?(Y[C++]=K>>6|192,Y[C++]=63&K|128):55296===(64512&K)&&P+1<E.length&&56320===(64512&E.charCodeAt(P+1))?(K=65536+((1023&K)<<10)+(1023&E.charCodeAt(++P)),Y[C++]=K>>18|240,Y[C++]=K>>12&63|128,Y[C++]=K>>6&63|128,Y[C++]=63&K|128):(Y[C++]=K>>12|224,Y[C++]=K>>6&63|128,Y[C++]=63&K|128)}return Y},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(E,Y){if(!Array.isArray(E))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let K=0;K<E.length;K+=3){const Y=E[K],m=K+1<E.length,u=m?E[K+1]:0,T=K+2<E.length,a=T?E[K+2]:0,J=Y>>2,t=(3&Y)<<4|u>>4;let p=(15&u)<<2|a>>6,W=63&a;T||(W=64,m||(p=64)),P.push(C[J],C[t],C[p],C[W])}return P.join("")},encodeString(E,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(E):this.encodeByteArray(P(E),Y)},decodeString(E,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(E):function(E){const Y=[];let C=0,P=0;for(;C<E.length;){const K=E[C++];if(K<128)Y[P++]=String.fromCharCode(K);else if(K>191&&K<224){const m=E[C++];Y[P++]=String.fromCharCode((31&K)<<6|63&m)}else if(K>239&&K<365){const m=((7&K)<<18|(63&E[C++])<<12|(63&E[C++])<<6|63&E[C++])-65536;Y[P++]=String.fromCharCode(55296+(m>>10)),Y[P++]=String.fromCharCode(56320+(1023&m))}else{const m=E[C++],u=E[C++];Y[P++]=String.fromCharCode((15&K)<<12|(63&m)<<6|63&u)}}return Y.join("")}(this.decodeStringToByteArray(E,Y))},decodeStringToByteArray(E,Y){this.init_();const C=Y?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let K=0;K<E.length;){const Y=C[E.charAt(K++)],u=K<E.length?C[E.charAt(K)]:0;++K;const T=K<E.length?C[E.charAt(K)]:64;++K;const a=K<E.length?C[E.charAt(K)]:64;if(++K,null==Y||null==u||null==T||null==a)throw new m;const J=Y<<2|u>>4;if(P.push(J),64!==T){const E=u<<4&240|T>>2;if(P.push(E),64!==a){const E=T<<6&192|a;P.push(E)}}}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let E=0;E<this.ENCODED_VALS.length;E++)this.byteToCharMap_[E]=this.ENCODED_VALS.charAt(E),this.charToByteMap_[this.byteToCharMap_[E]]=E,this.byteToCharMapWebSafe_[E]=this.ENCODED_VALS_WEBSAFE.charAt(E),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[E]]=E,E>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(E)]=E,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(E)]=E)}}};class m extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(E){return function(E){const Y=P(E);return K.encodeByteArray(Y,!0)}(E).replace(/\./g,"")},T=function(E){try{return K.decodeString(E,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return a()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let E;try{E=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const Y=E&&T(E[1]);return Y&&JSON.parse(Y)})()}catch(E){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${E}`)}},t=E=>{var Y,C;return null===(C=null===(Y=J())||void 0===Y?void 0:Y.emulatorHosts)||void 0===C?void 0:C[E]},p=()=>{var E;return null===(E=J())||void 0===E?void 0:E.config},W=E=>{var Y;return null===(Y=J())||void 0===Y?void 0:Y[`_${E}`]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((E,Y)=>{this.resolve=E,this.reject=Y}))}wrapCallback(E){return(Y,C)=>{Y?this.reject(Y):this.resolve(C),"function"===typeof E&&(this.promise.catch((()=>{})),1===E.length?E(Y):E(Y,C))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function V(){const E="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof E&&void 0!==E.id}function Z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const E=y();return E.indexOf("MSIE ")>=0||E.indexOf("Trident/")>=0}function h(){try{return"object"===typeof indexedDB}catch(E){return!1}}function f(){return new Promise(((E,Y)=>{try{let C=!0;const P="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(P);K.onsuccess=()=>{K.result.close(),C||self.indexedDB.deleteDatabase(P),E(!0)},K.onupgradeneeded=()=>{C=!1},K.onerror=()=>{var E;Y((null===(E=K.error)||void 0===E?void 0:E.message)||"")}}catch(C){Y(C)}}))}function G(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class g extends Error{constructor(E,Y,C){super(Y),this.code=E,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c.prototype.create)}}class c{constructor(E,Y,C){this.service=E,this.serviceName=Y,this.errors=C}create(E){const Y=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${E}`,P=this.errors[E],K=P?function(E,Y){return E.replace(D,((E,C)=>{const P=Y[C];return null!=P?String(P):`<${C}?>`}))}(P,Y):"Error",m=`${this.serviceName}: ${K} (${C}).`;return new g(C,m,Y)}}const D=/\{\$([^}]+)}/g;function S(E){for(const Y in E)if(Object.prototype.hasOwnProperty.call(E,Y))return!1;return!0}function j(E,Y){if(E===Y)return!0;const C=Object.keys(E),P=Object.keys(Y);for(const K of C){if(!P.includes(K))return!1;const C=E[K],m=Y[K];if(i(C)&&i(m)){if(!j(C,m))return!1}else if(C!==m)return!1}for(const K of P)if(!C.includes(K))return!1;return!0}function i(E){return null!==E&&"object"===typeof E}function R(E){const Y=[];for(const[C,P]of Object.entries(E))Array.isArray(P)?P.forEach((E=>{Y.push(encodeURIComponent(C)+"="+encodeURIComponent(E))})):Y.push(encodeURIComponent(C)+"="+encodeURIComponent(P));return Y.length?"&"+Y.join("&"):""}function X(E){const Y={};return E.replace(/^\?/,"").split("&").forEach((E=>{if(E){const[C,P]=E.split("=");Y[decodeURIComponent(C)]=decodeURIComponent(P)}})),Y}function w(E){const Y=E.indexOf("?");if(!Y)return"";const C=E.indexOf("#",Y);return E.substring(Y,C>0?C:void 0)}function d(E,Y){const C=new s(E,Y);return C.subscribe.bind(C)}class s{constructor(E,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then((()=>{E(this)})).catch((E=>{this.error(E)}))}next(E){this.forEachObserver((Y=>{Y.next(E)}))}error(E){this.forEachObserver((Y=>{Y.error(E)})),this.close(E)}complete(){this.forEachObserver((E=>{E.complete()})),this.close()}subscribe(E,Y,C){let P;if(void 0===E&&void 0===Y&&void 0===C)throw new Error("Missing Observer.");P=function(E,Y){if("object"!==typeof E||null===E)return!1;for(const C of Y)if(C in E&&"function"===typeof E[C])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:Y,complete:C},void 0===P.next&&(P.next=N),void 0===P.error&&(P.error=N),void 0===P.complete&&(P.complete=N);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(E){}})),this.observers.push(P),K}unsubscribeOne(E){void 0!==this.observers&&void 0!==this.observers[E]&&(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,E)}sendOne(E,Y){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{Y(this.observers[E])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}const l=1e3,H=2,x=144e5,Q=.5;function q(E){let Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)*Math.pow(Y,E),P=Math.round(Q*C*(Math.random()-.5)*2);return Math.min(x,C+P)}function n(E){return E&&E._delegate?E._delegate:E}},10542:(E,Y,C)=>{C.d(Y,{d:()=>m.k,h:()=>pE,i:()=>z,l:()=>CE,o:()=>PE,p:()=>EE,s:()=>TE,w:()=>YE,z:()=>mE,A:()=>KE,C:()=>uE,G:()=>vE,J:()=>kE,I:()=>yE,K:()=>WE,L:()=>ZE,P:()=>VE,R:()=>ME});var P=C(10551),K=C(10568),m=C(10560);let u,T;const a=new WeakMap,J=new WeakMap,t=new WeakMap,p=new WeakMap,W=new WeakMap;let k={get(E,Y,C){if(E instanceof IDBTransaction){if("done"===Y)return J.get(E);if("objectStoreNames"===Y)return E.objectStoreNames||t.get(E);if("store"===Y)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return V(E[Y])},set:(E,Y,C)=>(E[Y]=C,!0),has:(E,Y)=>E instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in E};function y(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(T||(T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(E)?function(){for(var Y=arguments.length,C=new Array(Y),P=0;P<Y;P++)C[P]=arguments[P];return E.apply(Z(this),C),V(a.get(this))}:function(){for(var Y=arguments.length,C=new Array(Y),P=0;P<Y;P++)C[P]=arguments[P];return V(E.apply(Z(this),C))}:function(Y){for(var C=arguments.length,P=new Array(C>1?C-1:0),K=1;K<C;K++)P[K-1]=arguments[K];const m=E.call(Z(this),Y,...P);return t.set(m,Y.sort?Y.sort():[Y]),V(m)}}function v(E){return"function"===typeof E?y(E):(E instanceof IDBTransaction&&function(E){if(J.has(E))return;const Y=new Promise(((Y,C)=>{const P=()=>{E.removeEventListener("complete",K),E.removeEventListener("error",m),E.removeEventListener("abort",m)},K=()=>{Y(),P()},m=()=>{C(E.error||new DOMException("AbortError","AbortError")),P()};E.addEventListener("complete",K),E.addEventListener("error",m),E.addEventListener("abort",m)}));J.set(E,Y)}(E),Y=E,(u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((E=>Y instanceof E))?new Proxy(E,k):E);var Y}function V(E){if(E instanceof IDBRequest)return function(E){const Y=new Promise(((Y,C)=>{const P=()=>{E.removeEventListener("success",K),E.removeEventListener("error",m)},K=()=>{Y(V(E.result)),P()},m=()=>{C(E.error),P()};E.addEventListener("success",K),E.addEventListener("error",m)}));return Y.then((Y=>{Y instanceof IDBCursor&&a.set(Y,E)})).catch((()=>{})),W.set(Y,E),Y}(E);if(p.has(E))return p.get(E);const Y=v(E);return Y!==E&&(p.set(E,Y),W.set(Y,E)),Y}const Z=E=>W.get(E);const M=["get","getKey","getAll","getAllKeys","count"],h=["put","add","delete","clear"],f=new Map;function G(E,Y){if(!(E instanceof IDBDatabase)||Y in E||"string"!==typeof Y)return;if(f.get(Y))return f.get(Y);const C=Y.replace(/FromIndex$/,""),P=Y!==C,K=h.includes(C);if(!(C in(P?IDBIndex:IDBObjectStore).prototype)||!K&&!M.includes(C))return;const m=async function(E){const Y=this.transaction(E,K?"readwrite":"readonly");let m=Y.store;for(var u=arguments.length,T=new Array(u>1?u-1:0),a=1;a<u;a++)T[a-1]=arguments[a];return P&&(m=m.index(T.shift())),(await Promise.all([m[C](...T),K&&Y.done]))[0]};return f.set(Y,m),m}k=(E=>({...E,get:(Y,C,P)=>G(Y,C)||E.get(Y,C,P),has:(Y,C)=>!!G(Y,C)||E.has(Y,C)}))(k);class g{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map((E=>{if(function(E){const Y=E.getComponent();return"VERSION"===(null===Y||void 0===Y?void 0:Y.type)}(E)){const Y=E.getImmediate();return`${Y.library}/${Y.version}`}return null})).filter((E=>E)).join(" ")}}const c="@firebase/app",D="0.9.13",S=new K.f("@firebase/app"),j="@firebase/app-compat",i="@firebase/analytics-compat",R="@firebase/analytics",X="@firebase/app-check-compat",w="@firebase/app-check",d="@firebase/auth",s="@firebase/auth-compat",N="@firebase/database",l="@firebase/database-compat",H="@firebase/functions",x="@firebase/functions-compat",Q="@firebase/installations",q="@firebase/installations-compat",n="@firebase/messaging",r="@firebase/messaging-compat",A="@firebase/performance",e="@firebase/performance-compat",b="@firebase/remote-config",B="@firebase/remote-config-compat",L="@firebase/storage",I="@firebase/storage-compat",O="@firebase/firestore",U="@firebase/firestore-compat",o="firebase",z="[DEFAULT]",F={[c]:"fire-core",[j]:"fire-core-compat",[R]:"fire-analytics",[i]:"fire-analytics-compat",[w]:"fire-app-check",[X]:"fire-app-check-compat",[d]:"fire-auth",[s]:"fire-auth-compat",[N]:"fire-rtdb",[l]:"fire-rtdb-compat",[H]:"fire-fn",[x]:"fire-fn-compat",[Q]:"fire-iid",[q]:"fire-iid-compat",[n]:"fire-fcm",[r]:"fire-fcm-compat",[A]:"fire-perf",[e]:"fire-perf-compat",[b]:"fire-rc",[B]:"fire-rc-compat",[L]:"fire-gcs",[I]:"fire-gcs-compat",[O]:"fire-fst",[U]:"fire-fst-compat","fire-js":"fire-js",[o]:"fire-js-all"},EE=new Map,YE=new Map;function CE(E,Y){try{E.container.tf(Y)}catch(C){S.debug(`Component ${Y.name} failed to register with FirebaseApp ${E.name}`,C)}}function PE(E,Y){E.container.addOrOverwriteComponent(Y)}function KE(E){const Y=E.name;if(YE.has(Y))return S.debug(`There were multiple attempts to register component ${Y}.`),!1;YE.set(Y,E);for(const C of EE.values())CE(C,E);return!0}function mE(E,Y){const C=E.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),E.container.getProvider(Y)}function uE(E,Y){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;mE(E,Y).clearInstance(C)}function TE(){YE.clear()}const aE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},JE=new m.g("app","Firebase",aE);class tE{constructor(E,Y,C){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=C,this.container.tf(new P.i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw JE.create("app-deleted",{appName:this._name})}}const pE="9.23.0";function WE(E){let Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=E;if("object"!==typeof Y){Y={name:Y}}const K=Object.assign({name:z,automaticDataCollectionEnabled:!1},Y),u=K.name;if("string"!==typeof u||!u)throw JE.create("bad-app-name",{appName:String(u)});if(C||(C=(0,m.J)()),!C)throw JE.create("no-options");const T=EE.get(u);if(T){if((0,m.E)(C,T.options)&&(0,m.E)(K,T.config))return T;throw JE.create("duplicate-app",{appName:u})}const a=new P.e(u);for(const P of YE.values())a.tf(P);const J=new tE(C,K,a);return EE.set(u,J),J}function kE(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;const Y=EE.get(E);if(!Y&&E===z&&(0,m.J)())return WE();if(!Y)throw JE.create("no-app",{appName:E});return Y}function yE(){return Array.from(EE.values())}async function vE(E){const Y=E.name;EE.has(Y)&&(EE.delete(Y),await Promise.all(E.container.getProviders().map((E=>E.delete()))),E.isDeleted=!0)}function VE(E,Y,C){var K;let m=null!==(K=F[E])&&void 0!==K?K:E;C&&(m+=`-${C}`);const u=m.match(/\s|\//),T=Y.match(/\s|\//);if(u||T){const E=[`Unable to register library "${m}" with version "${Y}":`];return u&&E.push(`library name "${m}" contains illegal characters (whitespace or "/")`),u&&T&&E.push("and"),T&&E.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void S.warn(E.join(" "))}KE(new P.i(`${m}-version`,(()=>({library:m,version:Y})),"VERSION"))}function ZE(E,Y){if(null!==E&&"function"!==typeof E)throw JE.create("invalid-log-argument");(0,K.i)(E,Y)}function ME(E){(0,K.g)(E)}const hE="firebase-heartbeat-store";let fE=null;function GE(){return fE||(fE=function(E,Y){let{blocked:C,upgrade:P,blocking:K,terminated:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=indexedDB.open(E,Y),T=V(u);return P&&u.addEventListener("upgradeneeded",(E=>{P(V(u.result),E.oldVersion,E.newVersion,V(u.transaction),E)})),C&&u.addEventListener("blocked",(E=>C(E.oldVersion,E.newVersion,E))),T.then((E=>{m&&E.addEventListener("close",(()=>m())),K&&E.addEventListener("versionchange",(E=>K(E.oldVersion,E.newVersion,E)))})).catch((()=>{})),T}("firebase-heartbeat-database",1,{upgrade:(E,Y)=>{if(0===Y)E.createObjectStore(hE)}}).catch((E=>{throw JE.create("idb-open",{originalErrorMessage:E.message})}))),fE}async function gE(E,Y){try{const C=(await GE()).transaction(hE,"readwrite"),P=C.objectStore(hE);await P.put(Y,cE(E)),await C.done}catch(C){if(C instanceof m.k)S.warn(C.message);else{const E=JE.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});S.warn(E.message)}}}function cE(E){return`${E.name}!${E.options.appId}`}class DE{constructor(E){this.container=E,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this.Gi=new jE(Y),this._heartbeatsCachePromise=this.Gi.read().then((E=>(this._heartbeatsCache=E,E)))}async triggerHeartbeat(){const E=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Y=SE();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Y&&!this._heartbeatsCache.heartbeats.some((E=>E.date===Y)))return this._heartbeatsCache.heartbeats.push({date:Y,agent:E}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((E=>{const Y=new Date(E.date).valueOf();return Date.now()-Y<=2592e6})),this.Gi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const E=SE(),{heartbeatsToSend:Y,unsentEntries:C}=function(E){let Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let P=E.slice();for(const K of E){const E=C.find((E=>E.agent===K.agent));if(E){if(E.dates.push(K.date),iE(C)>Y){E.dates.pop();break}}else if(C.push({agent:K.agent,dates:[K.date]}),iE(C)>Y){C.pop();break}P=P.slice(1)}return{heartbeatsToSend:C,unsentEntries:P}}(this._heartbeatsCache.heartbeats),P=(0,m.u)(JSON.stringify({version:2,heartbeats:Y}));return this._heartbeatsCache.lastSentHeartbeatDate=E,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.Gi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Gi.overwrite(this._heartbeatsCache)),P}}function SE(){return(new Date).toISOString().substring(0,10)}class jE{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,m.$)()&&(0,m.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(E){try{const Y=await GE();return await Y.transaction(hE).objectStore(hE).get(cE(E))}catch(Y){if(Y instanceof m.k)S.warn(Y.message);else{const E=JE.create("idb-get",{originalErrorMessage:null===Y||void 0===Y?void 0:Y.message});S.warn(E.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(E){var Y;if(await this._canUseIndexedDBPromise){const C=await this.read();return gE(this.app,{lastSentHeartbeatDate:null!==(Y=E.lastSentHeartbeatDate)&&void 0!==Y?Y:C.lastSentHeartbeatDate,heartbeats:E.heartbeats})}}async add(E){var Y;if(await this._canUseIndexedDBPromise){const C=await this.read();return gE(this.app,{lastSentHeartbeatDate:null!==(Y=E.lastSentHeartbeatDate)&&void 0!==Y?Y:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...E.heartbeats]})}}}function iE(E){return(0,m.u)(JSON.stringify({version:2,heartbeats:E})).length}var RE;RE="",KE(new P.i("platform-logger",(E=>new g(E)),"PRIVATE")),KE(new P.i("heartbeat",(E=>new DE(E)),"PRIVATE")),VE(c,D,RE),VE(c,D,"esm2017"),VE("fire-js","")},10551:(E,Y,C)=>{C.d(Y,{e:()=>T,i:()=>K});var P=C(10560);class K{constructor(E,Y,C){this.name=E,this.instanceFactory=Y,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}const m="[DEFAULT]";class u{constructor(E,Y){this.name=E,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const Y=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(Y)){const E=new P.d;if(this.instancesDeferred.set(Y,E),this.isInitialized(Y)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:Y});C&&E.resolve(C)}catch(C){}}return this.instancesDeferred.get(Y).promise}getImmediate(E){var Y;const C=this.normalizeInstanceIdentifier(null===E||void 0===E?void 0:E.identifier),P=null!==(Y=null===E||void 0===E?void 0:E.optional)&&void 0!==Y&&Y;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(K){if(P)return null;throw K}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,this.shouldAutoInitialize()){if(function(E){return"EAGER"===E.instantiationMode}(E))try{this.getOrInitializeService({instanceIdentifier:m})}catch(Y){}for(const[E,C]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(E);try{const E=this.getOrInitializeService({instanceIdentifier:P});C.resolve(E)}catch(Y){}}}}clearInstance(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}async delete(){const E=Array.from(this.instances.values());await Promise.all([...E.filter((E=>"INTERNAL"in E)).map((E=>E.INTERNAL.delete())),...E.filter((E=>"_delete"in E)).map((E=>E._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instances.has(E)}getOptions(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instancesOptions.get(E)||{}}initialize(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Y={}}=E,C=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:C,options:Y});for(const[K,m]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(K)&&m.resolve(P)}return P}ki(E,Y){var C;const P=this.normalizeInstanceIdentifier(Y),K=null!==(C=this.onInitCallbacks.get(P))&&void 0!==C?C:new Set;K.add(E),this.onInitCallbacks.set(P,K);const m=this.instances.get(P);return m&&E(m,P),()=>{K.delete(E)}}invokeOnInitCallbacks(E,Y){const C=this.onInitCallbacks.get(Y);if(C)for(const K of C)try{K(E,Y)}catch(P){}}getOrInitializeService(E){let{instanceIdentifier:Y,options:C={}}=E,P=this.instances.get(Y);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:(K=Y,K===m?void 0:K),options:C}),this.instances.set(Y,P),this.instancesOptions.set(Y,C),this.invokeOnInitCallbacks(P,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,P)}catch(u){}var K;return P||null}normalizeInstanceIdentifier(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.component?this.component.multipleInstances?E:m:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class T{constructor(E){this.name=E,this.providers=new Map}tf(E){const Y=this.getProvider(E.name);if(Y.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);Y.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.tf(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const Y=new u(E,this);return this.providers.set(E,Y),Y}getProviders(){return Array.from(this.providers.values())}}},10568:(E,Y,C)=>{C.d(Y,{e:()=>K,f:()=>J,g:()=>t,i:()=>p});const P=[];var K;!function(E){E[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT"}(K||(K={}));const m={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},u=K.INFO,T={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},a=function(E,Y){if(Y<E.logLevel)return;const C=(new Date).toISOString(),P=T[Y];if(!P)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);for(var K=arguments.length,m=new Array(K>2?K-2:0),u=2;u<K;u++)m[u-2]=arguments[u];console[P](`[${C}]  ${E.name}:`,...m)};class J{constructor(E){this.name=E,this._logLevel=u,this._logHandler=a,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in K))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"===typeof E?m[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!==typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(){for(var E=arguments.length,Y=new Array(E),C=0;C<E;C++)Y[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...Y),this._logHandler(this,K.DEBUG,...Y)}log(){for(var E=arguments.length,Y=new Array(E),C=0;C<E;C++)Y[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...Y),this._logHandler(this,K.VERBOSE,...Y)}info(){for(var E=arguments.length,Y=new Array(E),C=0;C<E;C++)Y[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.INFO,...Y),this._logHandler(this,K.INFO,...Y)}warn(){for(var E=arguments.length,Y=new Array(E),C=0;C<E;C++)Y[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.WARN,...Y),this._logHandler(this,K.WARN,...Y)}error(){for(var E=arguments.length,Y=new Array(E),C=0;C<E;C++)Y[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,K.ERROR,...Y),this._logHandler(this,K.ERROR,...Y)}}function t(E){P.forEach((Y=>{Y.setLogLevel(E)}))}function p(E,Y){for(const C of P){let P=null;Y&&Y.level&&(P=m[Y.level]),C.userLogHandler=null===E?null:function(Y,C){for(var m=arguments.length,u=new Array(m>2?m-2:0),T=2;T<m;T++)u[T-2]=arguments[T];const a=u.map((E=>{if(null==E)return null;if("string"===typeof E)return E;if("number"===typeof E||"boolean"===typeof E)return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(Y){return null}})).filter((E=>E)).join(" ");C>=(null!==P&&void 0!==P?P:Y.logLevel)&&E({level:K[C].toLowerCase(),message:a,args:u,type:Y.name})}}}}}]);