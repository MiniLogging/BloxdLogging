/*! For license information please see y65ivh.5.4378952b.chunk.js.LICENSE.txt */
"use strict";(self.k9ivgwsw3f=self.k9ivgwsw3f||[]).push([[5],{12622:(Y,b,C)=>{C.d(b,{A:()=>y,C:()=>i,G:()=>n,H:()=>I,L:()=>l,P:()=>Q,Q:()=>N,U:()=>t,W:()=>w,_:()=>P,ab:()=>T,b:()=>S,bb:()=>p,c:()=>u,f:()=>L,i:()=>mY,l:()=>B,m:()=>E,n:()=>H,r:()=>z,t:()=>X,u:()=>v,v:()=>F,x:()=>O});const R=function(Y){const b=[];let C=0;for(let R=0;R<Y.length;R++){let q=Y.charCodeAt(R);q<128?b[C++]=q:q<2048?(b[C++]=q>>6|192,b[C++]=63&q|128):55296===(64512&q)&&R+1<Y.length&&56320===(64512&Y.charCodeAt(R+1))?(q=65536+((1023&q)<<10)+(1023&Y.charCodeAt(++R)),b[C++]=q>>18|240,b[C++]=q>>12&63|128,b[C++]=q>>6&63|128,b[C++]=63&q|128):(b[C++]=q>>12|224,b[C++]=q>>6&63|128,b[C++]=63&q|128)}return b},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Y,b){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const C=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let q=0;q<Y.length;q+=3){const b=Y[q],A=q+1<Y.length,E=A?Y[q+1]:0,B=q+2<Y.length,g=B?Y[q+2]:0,r=b>>2,O=(3&b)<<4|E>>4;let F=(15&E)<<2|g>>6,y=63&g;B||(y=64,A||(F=64)),R.push(C[r],C[O],C[F],C[y])}return R.join("")},encodeString(Y,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(Y):this.encodeByteArray(R(Y),b)},decodeString(Y,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(Y):function(Y){const b=[];let C=0,R=0;for(;C<Y.length;){const q=Y[C++];if(q<128)b[R++]=String.fromCharCode(q);else if(q>191&&q<224){const A=Y[C++];b[R++]=String.fromCharCode((31&q)<<6|63&A)}else if(q>239&&q<365){const A=((7&q)<<18|(63&Y[C++])<<12|(63&Y[C++])<<6|63&Y[C++])-65536;b[R++]=String.fromCharCode(55296+(A>>10)),b[R++]=String.fromCharCode(56320+(1023&A))}else{const A=Y[C++],E=Y[C++];b[R++]=String.fromCharCode((15&q)<<12|(63&A)<<6|63&E)}}return b.join("")}(this.decodeStringToByteArray(Y,b))},decodeStringToByteArray(Y,b){this.init_();const C=b?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let q=0;q<Y.length;){const b=C[Y.charAt(q++)],E=q<Y.length?C[Y.charAt(q)]:0;++q;const B=q<Y.length?C[Y.charAt(q)]:64;++q;const g=q<Y.length?C[Y.charAt(q)]:64;if(++q,null==b||null==E||null==B||null==g)throw new A;const r=b<<2|E>>4;if(R.push(r),64!==B){const Y=E<<4&240|B>>2;if(R.push(Y),64!==g){const Y=B<<6&192|g;R.push(Y)}}}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E=function(Y){return function(Y){const b=R(Y);return q.encodeByteArray(b,!0)}(Y).replace(/\./g,"")},B=function(Y){try{return q.decodeString(Y,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const g=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof C.g)return C.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,r=()=>{try{return g()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(C){return}const b=Y&&B(Y[1]);return b&&JSON.parse(b)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},O=Y=>{var b,C;return null===(C=null===(b=r())||void 0===b?void 0:b.emulatorHosts)||void 0===C?void 0:C[Y]},F=()=>{var Y;return null===(Y=r())||void 0===Y?void 0:Y.config},y=Y=>{var b;return null===(b=r())||void 0===b?void 0:b[`_${Y}`]};class S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Y,b)=>{this.resolve=Y,this.reject=b}))}wrapCallback(Y){return(b,C)=>{b?this.reject(b):this.resolve(C),"function"===typeof Y&&(this.promise.catch((()=>{})),1===Y.length?Y(b):Y(b,C))}}}function n(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function t(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n())}function I(){const Y="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Y&&void 0!==Y.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Q(){const Y=n();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function N(){try{return"object"===typeof indexedDB}catch(Y){return!1}}function p(){return new Promise(((Y,b)=>{try{let C=!0;const R="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(R);q.onsuccess=()=>{q.result.close(),C||self.indexedDB.deleteDatabase(R),Y(!0)},q.onupgradeneeded=()=>{C=!1},q.onerror=()=>{var Y;b((null===(Y=q.error)||void 0===Y?void 0:Y.message)||"")}}catch(C){b(C)}}))}function mY(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(Y,b,C){super(b),this.code=Y,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(Y,b,C){this.service=Y,this.serviceName=b,this.errors=C}create(Y){const b=(arguments.length<=1?void 0:arguments[1])||{},C=`${this.service}/${Y}`,R=this.errors[Y],q=R?function(Y,b){return Y.replace(c,((Y,C)=>{const R=b[C];return null!=R?String(R):`<${C}?>`}))}(R,b):"Error",A=`${this.serviceName}: ${q} (${C}).`;return new L(C,A,b)}}const c=/\{\$([^}]+)}/g;function l(Y){for(const b in Y)if(Object.prototype.hasOwnProperty.call(Y,b))return!1;return!0}function X(Y,b){if(Y===b)return!0;const C=Object.keys(Y),R=Object.keys(b);for(const q of C){if(!R.includes(q))return!1;const C=Y[q],A=b[q];if(j(C)&&j(A)){if(!X(C,A))return!1}else if(C!==A)return!1}for(const q of R)if(!C.includes(q))return!1;return!0}function j(Y){return null!==Y&&"object"===typeof Y}function T(Y){const b=[];for(const[C,R]of Object.entries(Y))Array.isArray(R)?R.forEach((Y=>{b.push(encodeURIComponent(C)+"="+encodeURIComponent(Y))})):b.push(encodeURIComponent(C)+"="+encodeURIComponent(R));return b.length?"&"+b.join("&"):""}function P(Y){const b={};return Y.replace(/^\?/,"").split("&").forEach((Y=>{if(Y){const[C,R]=Y.split("=");b[decodeURIComponent(C)]=decodeURIComponent(R)}})),b}function v(Y){const b=Y.indexOf("?");if(!b)return"";const C=Y.indexOf("#",b);return Y.substring(b,C>0?C:void 0)}function z(Y,b){const C=new J(Y,b);return C.subscribe.bind(C)}class J{constructor(Y,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{Y(this)})).catch((Y=>{this.error(Y)}))}next(Y){this.forEachObserver((b=>{b.next(Y)}))}error(Y){this.forEachObserver((b=>{b.error(Y)})),this.close(Y)}complete(){this.forEachObserver((Y=>{Y.complete()})),this.close()}subscribe(Y,b,C){let R;if(void 0===Y&&void 0===b&&void 0===C)throw new Error("Missing Observer.");R=function(Y,b){if("object"!==typeof Y||null===Y)return!1;for(const C of b)if(C in Y&&"function"===typeof Y[C])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:b,complete:C},void 0===R.next&&(R.next=U),void 0===R.error&&(R.error=U),void 0===R.complete&&(R.complete=U);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch(Y){}})),this.observers.push(R),q}unsubscribeOne(Y){void 0!==this.observers&&void 0!==this.observers[Y]&&(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,Y)}sendOne(Y,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{b(this.observers[Y])}catch(C){"undefined"!==typeof console&&console.error&&console.error(C)}}))}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function U(){}const o=1e3,G=2,h=144e5,e=.5;function H(Y){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;const C=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(b,Y),R=Math.round(e*C*(Math.random()-.5)*2);return Math.min(h,C+R)}function i(Y){return Y&&Y._delegate?Y._delegate:Y}},12614:(Y,b,C)=>{C.d(b,{e:()=>A.f,f:()=>FY,i:()=>f,k:()=>CY,o:()=>RY,p:()=>YY,q:()=>BY,u:()=>bY,y:()=>AY,A:()=>qY,B:()=>EY,C:()=>tY,G:()=>SY,D:()=>nY,H:()=>yY,J:()=>wY,K:()=>IY,L:()=>QY});var R=C(12618),q=C(12625),A=C(12622);let E,B;const g=new WeakMap,r=new WeakMap,O=new WeakMap,F=new WeakMap,y=new WeakMap;let S={get(Y,b,C){if(Y instanceof IDBTransaction){if("done"===b)return r.get(Y);if("objectStoreNames"===b)return Y.objectStoreNames||O.get(Y);if("store"===b)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return I(Y[b])},set:(Y,b,C)=>(Y[b]=C,!0),has:(Y,b)=>Y instanceof IDBTransaction&&("done"===b||"store"===b)||b in Y};function n(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Y)?function(){for(var b=arguments.length,C=new Array(b),R=0;R<b;R++)C[R]=arguments[R];return Y.apply(w(this),C),I(g.get(this))}:function(){for(var b=arguments.length,C=new Array(b),R=0;R<b;R++)C[R]=arguments[R];return I(Y.apply(w(this),C))}:function(b){for(var C=arguments.length,R=new Array(C>1?C-1:0),q=1;q<C;q++)R[q-1]=arguments[q];const A=Y.call(w(this),b,...R);return O.set(A,b.sort?b.sort():[b]),I(A)}}function t(Y){return"function"===typeof Y?n(Y):(Y instanceof IDBTransaction&&function(Y){if(r.has(Y))return;const b=new Promise(((b,C)=>{const R=()=>{Y.removeEventListener("complete",q),Y.removeEventListener("error",A),Y.removeEventListener("abort",A)},q=()=>{b(),R()},A=()=>{C(Y.error||new DOMException("AbortError","AbortError")),R()};Y.addEventListener("complete",q),Y.addEventListener("error",A),Y.addEventListener("abort",A)}));r.set(Y,b)}(Y),b=Y,(E||(E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Y=>b instanceof Y))?new Proxy(Y,S):Y);var b}function I(Y){if(Y instanceof IDBRequest)return function(Y){const b=new Promise(((b,C)=>{const R=()=>{Y.removeEventListener("success",q),Y.removeEventListener("error",A)},q=()=>{b(I(Y.result)),R()},A=()=>{C(Y.error),R()};Y.addEventListener("success",q),Y.addEventListener("error",A)}));return b.then((b=>{b instanceof IDBCursor&&g.set(b,Y)})).catch((()=>{})),y.set(b,Y),b}(Y);if(F.has(Y))return F.get(Y);const b=t(Y);return b!==Y&&(F.set(Y,b),y.set(b,Y)),b}const w=Y=>y.get(Y);const Q=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],p=new Map;function mY(Y,b){if(!(Y instanceof IDBDatabase)||b in Y||"string"!==typeof b)return;if(p.get(b))return p.get(b);const C=b.replace(/FromIndex$/,""),R=b!==C,q=N.includes(C);if(!(C in(R?IDBIndex:IDBObjectStore).prototype)||!q&&!Q.includes(C))return;const A=async function(Y){const b=this.transaction(Y,q?"readwrite":"readonly");let A=b.store;for(var E=arguments.length,B=new Array(E>1?E-1:0),g=1;g<E;g++)B[g-1]=arguments[g];return R&&(A=A.index(B.shift())),(await Promise.all([A[C](...B),q&&b.done]))[0]};return p.set(b,A),A}S=(Y=>({...Y,get:(b,C,R)=>mY(b,C)||Y.get(b,C,R),has:(b,C)=>!!mY(b,C)||Y.has(b,C)}))(S);class L{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map((Y=>{if(function(Y){const b=Y.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(Y)){const b=Y.getImmediate();return`${b.library}/${b.version}`}return null})).filter((Y=>Y)).join(" ")}}const u="@firebase/app",c="0.9.13",l=new q.d("@firebase/app"),X="@firebase/app-compat",j="@firebase/analytics-compat",T="@firebase/analytics",P="@firebase/app-check-compat",v="@firebase/app-check",z="@firebase/auth",J="@firebase/auth-compat",U="@firebase/database",o="@firebase/database-compat",G="@firebase/functions",h="@firebase/functions-compat",e="@firebase/installations",H="@firebase/installations-compat",i="@firebase/messaging",W="@firebase/messaging-compat",s="@firebase/performance",D="@firebase/performance-compat",d="@firebase/remote-config",V="@firebase/remote-config-compat",k="@firebase/storage",x="@firebase/storage-compat",a="@firebase/firestore",M="@firebase/firestore-compat",K="firebase",f="[DEFAULT]",Z={[u]:"fire-core",[X]:"fire-core-compat",[T]:"fire-analytics",[j]:"fire-analytics-compat",[v]:"fire-app-check",[P]:"fire-app-check-compat",[z]:"fire-auth",[J]:"fire-auth-compat",[U]:"fire-rtdb",[o]:"fire-rtdb-compat",[G]:"fire-fn",[h]:"fire-fn-compat",[e]:"fire-iid",[H]:"fire-iid-compat",[i]:"fire-fcm",[W]:"fire-fcm-compat",[s]:"fire-perf",[D]:"fire-perf-compat",[d]:"fire-rc",[V]:"fire-rc-compat",[k]:"fire-gcs",[x]:"fire-gcs-compat",[a]:"fire-fst",[M]:"fire-fst-compat","fire-js":"fire-js",[K]:"fire-js-all"},YY=new Map,bY=new Map;function CY(Y,b){try{Y.container.cr(b)}catch(C){l.debug(`Component ${b.name} failed to register with FirebaseApp ${Y.name}`,C)}}function RY(Y,b){Y.container.addOrOverwriteComponent(b)}function qY(Y){const b=Y.name;if(bY.has(b))return l.debug(`There were multiple attempts to register component ${b}.`),!1;bY.set(b,Y);for(const C of YY.values())CY(C,Y);return!0}function AY(Y,b){const C=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return C&&C.triggerHeartbeat(),Y.container.getProvider(b)}function EY(Y,b){let C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;AY(Y,b).clearInstance(C)}function BY(){bY.clear()}const gY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rY=new A.c("app","Firebase",gY);class OY{constructor(Y,b,C){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=C,this.container.cr(new R.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw rY.create("app-deleted",{appName:this._name})}}const FY="9.23.0";function yY(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=Y;if("object"!==typeof b){b={name:b}}const q=Object.assign({name:f,automaticDataCollectionEnabled:!1},b),E=q.name;if("string"!==typeof E||!E)throw rY.create("bad-app-name",{appName:String(E)});if(C||(C=(0,A.v)()),!C)throw rY.create("no-options");const B=YY.get(E);if(B){if((0,A.t)(C,B.options)&&(0,A.t)(q,B.config))return B;throw rY.create("duplicate-app",{appName:E})}const g=new R.e(E);for(const R of bY.values())g.cr(R);const r=new OY(C,q,g);return YY.set(E,r),r}function SY(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const b=YY.get(Y);if(!b&&Y===f&&(0,A.v)())return yY();if(!b)throw rY.create("no-app",{appName:Y});return b}function nY(){return Array.from(YY.values())}async function tY(Y){const b=Y.name;YY.has(b)&&(YY.delete(b),await Promise.all(Y.container.getProviders().map((Y=>Y.delete()))),Y.isDeleted=!0)}function IY(Y,b,C){var q;let A=null!==(q=Z[Y])&&void 0!==q?q:Y;C&&(A+=`-${C}`);const E=A.match(/\s|\//),B=b.match(/\s|\//);if(E||B){const Y=[`Unable to register library "${A}" with version "${b}":`];return E&&Y.push(`library name "${A}" contains illegal characters (whitespace or "/")`),E&&B&&Y.push("and"),B&&Y.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void l.warn(Y.join(" "))}qY(new R.g(`${A}-version`,(()=>({library:A,version:b})),"VERSION"))}function wY(Y,b){if(null!==Y&&"function"!==typeof Y)throw rY.create("invalid-log-argument");(0,q.j)(Y,b)}function QY(Y){(0,q.g)(Y)}const NY="firebase-heartbeat-store";let pY=null;function mb(){return pY||(pY=function(Y,b){let{blocked:C,upgrade:R,blocking:q,terminated:A}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const E=indexedDB.open(Y,b),B=I(E);return R&&E.addEventListener("upgradeneeded",(Y=>{R(I(E.result),Y.oldVersion,Y.newVersion,I(E.transaction),Y)})),C&&E.addEventListener("blocked",(Y=>C(Y.oldVersion,Y.newVersion,Y))),B.then((Y=>{A&&Y.addEventListener("close",(()=>A())),q&&Y.addEventListener("versionchange",(Y=>q(Y.oldVersion,Y.newVersion,Y)))})).catch((()=>{})),B}("firebase-heartbeat-database",1,{upgrade:(Y,b)=>{if(0===b)Y.createObjectStore(NY)}}).catch((Y=>{throw rY.create("idb-open",{originalErrorMessage:Y.message})}))),pY}async function LY(Y,b){try{const C=(await mb()).transaction(NY,"readwrite"),R=C.objectStore(NY);await R.put(b,uY(Y)),await C.done}catch(C){if(C instanceof A.f)l.warn(C.message);else{const Y=rY.create("idb-set",{originalErrorMessage:null===C||void 0===C?void 0:C.message});l.warn(Y.message)}}}function uY(Y){return`${Y.name}!${Y.options.appId}`}class cY{constructor(Y){this.container=Y,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.Ry=new XY(b),this._heartbeatsCachePromise=this.Ry.read().then((Y=>(this._heartbeatsCache=Y,Y)))}async triggerHeartbeat(){const Y=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=lY();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((Y=>Y.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:Y}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Y=>{const b=new Date(Y.date).valueOf();return Date.now()-b<=2592e6})),this.Ry.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Y=lY(),{heartbeatsToSend:b,unsentEntries:C}=function(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const C=[];let R=Y.slice();for(const q of Y){const Y=C.find((Y=>Y.agent===q.agent));if(Y){if(Y.dates.push(q.date),jY(C)>b){Y.dates.pop();break}}else if(C.push({agent:q.agent,dates:[q.date]}),jY(C)>b){C.pop();break}R=R.slice(1)}return{heartbeatsToSend:C,unsentEntries:R}}(this._heartbeatsCache.heartbeats),R=(0,A.m)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=Y,C.length>0?(this._heartbeatsCache.heartbeats=C,await this.Ry.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ry.overwrite(this._heartbeatsCache)),R}}function lY(){return(new Date).toISOString().substring(0,10)}class XY{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,A.Q)()&&(0,A.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Y){try{const b=await mb();return await b.transaction(NY).objectStore(NY).get(uY(Y))}catch(b){if(b instanceof A.f)l.warn(b.message);else{const Y=rY.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});l.warn(Y.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Y){var b;if(await this._canUseIndexedDBPromise){const C=await this.read();return LY(this.app,{lastSentHeartbeatDate:null!==(b=Y.lastSentHeartbeatDate)&&void 0!==b?b:C.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}}async add(Y){var b;if(await this._canUseIndexedDBPromise){const C=await this.read();return LY(this.app,{lastSentHeartbeatDate:null!==(b=Y.lastSentHeartbeatDate)&&void 0!==b?b:C.lastSentHeartbeatDate,heartbeats:[...C.heartbeats,...Y.heartbeats]})}}}function jY(Y){return(0,A.m)(JSON.stringify({version:2,heartbeats:Y})).length}var TY;TY="",qY(new R.g("platform-logger",(Y=>new L(Y)),"PRIVATE")),qY(new R.g("heartbeat",(Y=>new cY(Y)),"PRIVATE")),IY(u,c,TY),IY(u,c,"esm2017"),IY("fire-js","")},12618:(Y,b,C)=>{C.d(b,{e:()=>B,g:()=>q});var R=C(12622);class q{constructor(Y,b,C){this.name=Y,this.instanceFactory=b,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const A="[DEFAULT]";class E{constructor(Y,b){this.name=Y,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const b=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(b)){const Y=new R.b;if(this.instancesDeferred.set(b,Y),this.isInitialized(b)||this.shouldAutoInitialize())try{const C=this.getOrInitializeService({instanceIdentifier:b});C&&Y.resolve(C)}catch(C){}}return this.instancesDeferred.get(b).promise}getImmediate(Y){var b;const C=this.normalizeInstanceIdentifier(null===Y||void 0===Y?void 0:Y.identifier),R=null!==(b=null===Y||void 0===Y?void 0:Y.optional)&&void 0!==b&&b;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(R)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(q){if(R)return null;throw q}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:A})}catch(b){}for(const[Y,C]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(Y);try{const Y=this.getOrInitializeService({instanceIdentifier:R});C.resolve(Y)}catch(b){}}}}clearInstance(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}async delete(){const Y=Array.from(this.instances.values());await Promise.all([...Y.filter((Y=>"INTERNAL"in Y)).map((Y=>Y.INTERNAL.delete())),...Y.filter((Y=>"_delete"in Y)).map((Y=>Y._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instances.has(Y)}getOptions(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instancesOptions.get(Y)||{}}initialize(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=Y,C=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:C,options:b});for(const[q,A]of this.instancesDeferred.entries()){C===this.normalizeInstanceIdentifier(q)&&A.resolve(R)}return R}oF(Y,b){var C;const R=this.normalizeInstanceIdentifier(b),q=null!==(C=this.onInitCallbacks.get(R))&&void 0!==C?C:new Set;q.add(Y),this.onInitCallbacks.set(R,q);const A=this.instances.get(R);return A&&Y(A,R),()=>{q.delete(Y)}}invokeOnInitCallbacks(Y,b){const C=this.onInitCallbacks.get(b);if(C)for(const q of C)try{q(Y,b)}catch(R){}}getOrInitializeService(Y){let{instanceIdentifier:b,options:C={}}=Y,R=this.instances.get(b);if(!R&&this.component&&(R=this.component.instanceFactory(this.container,{instanceIdentifier:(q=b,q===A?void 0:q),options:C}),this.instances.set(b,R),this.instancesOptions.set(b,C),this.invokeOnInitCallbacks(R,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,R)}catch(E){}var q;return R||null}normalizeInstanceIdentifier(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.component?this.component.multipleInstances?Y:A:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class B{constructor(Y){this.name=Y,this.providers=new Map}cr(Y){const b=this.getProvider(Y.name);if(b.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);b.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.cr(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const b=new E(Y,this);return this.providers.set(Y,b),b}getProviders(){return Array.from(this.providers.values())}}},12625:(Y,b,C)=>{C.d(b,{c:()=>q,d:()=>r,g:()=>O,j:()=>F});const R=[];var q;!function(Y){Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT"}(q||(q={}));const A={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},E=q.INFO,B={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},g=function(Y,b){if(b<Y.logLevel)return;const C=(new Date).toISOString(),R=B[b];if(!R)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var q=arguments.length,A=new Array(q>2?q-2:0),E=2;E<q;E++)A[E-2]=arguments[E];console[R](`[${C}]  ${Y.name}:`,...A)};class r{constructor(Y){this.name=Y,this._logLevel=E,this._logHandler=g,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in q))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"===typeof Y?A[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!==typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(){for(var Y=arguments.length,b=new Array(Y),C=0;C<Y;C++)b[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...b),this._logHandler(this,q.DEBUG,...b)}log(){for(var Y=arguments.length,b=new Array(Y),C=0;C<Y;C++)b[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...b),this._logHandler(this,q.VERBOSE,...b)}info(){for(var Y=arguments.length,b=new Array(Y),C=0;C<Y;C++)b[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,q.INFO,...b),this._logHandler(this,q.INFO,...b)}warn(){for(var Y=arguments.length,b=new Array(Y),C=0;C<Y;C++)b[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,q.WARN,...b),this._logHandler(this,q.WARN,...b)}error(){for(var Y=arguments.length,b=new Array(Y),C=0;C<Y;C++)b[C]=arguments[C];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...b),this._logHandler(this,q.ERROR,...b)}}function O(Y){R.forEach((b=>{b.setLogLevel(Y)}))}function F(Y,b){for(const C of R){let R=null;b&&b.level&&(R=A[b.level]),C.userLogHandler=null===Y?null:function(b,C){for(var A=arguments.length,E=new Array(A>2?A-2:0),B=2;B<A;B++)E[B-2]=arguments[B];const g=E.map((Y=>{if(null==Y)return null;if("string"===typeof Y)return Y;if("number"===typeof Y||"boolean"===typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(b){return null}})).filter((Y=>Y)).join(" ");C>=(null!==R&&void 0!==R?R:b.logLevel)&&Y({level:q[C].toLowerCase(),message:g,args:E,type:b.name})}}}}}]);