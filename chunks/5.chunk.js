/*! For license information please see j24x8k.5.d8132d42.chunk.js.LICENSE.txt */
"use strict";(self["9jl1vn4ei5r"]=self["9jl1vn4ei5r"]||[]).push([[5],{11604:(M,p,b)=>{b.d(p,{B:()=>H,D:()=>o,F:()=>h,J:()=>i,N:()=>j,O:()=>x,P:()=>D,Q:()=>a,U:()=>A,W:()=>K,X:()=>r,Y:()=>N,ab:()=>s,d:()=>W,e:()=>R,g:()=>f,j:()=>S,k:()=>u,m:()=>k,q:()=>V,r:()=>w,t:()=>P,u:()=>Y,x:()=>F});const Q=function(M){const p=[];let b=0;for(let Q=0;Q<M.length;Q++){let q=M.charCodeAt(Q);q<128?p[b++]=q:q<2048?(p[b++]=q>>6|192,p[b++]=63&q|128):55296===(64512&q)&&Q+1<M.length&&56320===(64512&M.charCodeAt(Q+1))?(q=65536+((1023&q)<<10)+(1023&M.charCodeAt(++Q)),p[b++]=q>>18|240,p[b++]=q>>12&63|128,p[b++]=q>>6&63|128,p[b++]=63&q|128):(p[b++]=q>>12|224,p[b++]=q>>6&63|128,p[b++]=63&q|128)}return p},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(M,p){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=p?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let q=0;q<M.length;q+=3){const p=M[q],B=q+1<M.length,k=B?M[q+1]:0,u=q+2<M.length,T=u?M[q+2]:0,O=p>>2,H=(3&p)<<4|k>>4;let F=(15&k)<<2|T>>6,o=63&T;u||(o=64,B||(F=64)),Q.push(b[O],b[H],b[F],b[o])}return Q.join("")},encodeString(M,p){return this.HAS_NATIVE_SUPPORT&&!p?btoa(M):this.encodeByteArray(Q(M),p)},decodeString(M,p){return this.HAS_NATIVE_SUPPORT&&!p?atob(M):function(M){const p=[];let b=0,Q=0;for(;b<M.length;){const q=M[b++];if(q<128)p[Q++]=String.fromCharCode(q);else if(q>191&&q<224){const B=M[b++];p[Q++]=String.fromCharCode((31&q)<<6|63&B)}else if(q>239&&q<365){const B=((7&q)<<18|(63&M[b++])<<12|(63&M[b++])<<6|63&M[b++])-65536;p[Q++]=String.fromCharCode(55296+(B>>10)),p[Q++]=String.fromCharCode(56320+(1023&B))}else{const B=M[b++],k=M[b++];p[Q++]=String.fromCharCode((15&q)<<12|(63&B)<<6|63&k)}}return p.join("")}(this.decodeStringToByteArray(M,p))},decodeStringToByteArray(M,p){this.init_();const b=p?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let q=0;q<M.length;){const p=b[M.charAt(q++)],k=q<M.length?b[M.charAt(q)]:0;++q;const u=q<M.length?b[M.charAt(q)]:64;++q;const T=q<M.length?b[M.charAt(q)]:64;if(++q,null==p||null==k||null==u||null==T)throw new B;const O=p<<2|k>>4;if(Q.push(O),64!==u){const M=k<<4&240|u>>2;if(Q.push(M),64!==T){const M=u<<6&192|T;Q.push(M)}}}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k=function(M){return function(M){const p=Q(M);return q.encodeByteArray(p,!0)}(M).replace(/\./g,"")},u=function(M){try{return q.decodeString(M,!0)}catch(p){console.error("base64Decode failed: ",p)}return null};const T=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof b.g)return b.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{try{return T()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(b){return}const p=M&&u(M[1]);return p&&JSON.parse(p)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},H=M=>{var p,b;return null===(b=null===(p=O())||void 0===p?void 0:p.emulatorHosts)||void 0===b?void 0:b[M]},F=()=>{var M;return null===(M=O())||void 0===M?void 0:M.config},o=M=>{var p;return null===(p=O())||void 0===p?void 0:p[`_${M}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((M,p)=>{this.resolve=M,this.reject=p}))}wrapCallback(M){return(p,b)=>{p?this.reject(p):this.resolve(b),"function"===typeof M&&(this.promise.catch((()=>{})),1===M.length?M(p):M(p,b))}}}function i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function A(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i())}function j(){const M="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof M&&void 0!==M.id}function K(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function D(){const M=i();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function a(){try{return"object"===typeof indexedDB}catch(M){return!1}}function s(){return new Promise(((M,p)=>{try{let b=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Q);q.onsuccess=()=>{q.result.close(),b||self.indexedDB.deleteDatabase(Q),M(!0)},q.onupgradeneeded=()=>{b=!1},q.onerror=()=>{var M;p((null===(M=q.error)||void 0===M?void 0:M.message)||"")}}catch(b){p(b)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class f extends Error{constructor(M,p,b){super(p),this.code=M,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(M,p,b){this.service=M,this.serviceName=p,this.errors=b}create(M){const p=(arguments.length<=1?void 0:arguments[1])||{},b=`${this.service}/${M}`,Q=this.errors[M],q=Q?function(M,p){return M.replace(y,((M,b)=>{const Q=p[b];return null!=Q?String(Q):`<${b}?>`}))}(Q,p):"Error",B=`${this.serviceName}: ${q} (${b}).`;return new f(b,B,p)}}const y=/\{\$([^}]+)}/g;function x(M){for(const p in M)if(Object.prototype.hasOwnProperty.call(M,p))return!1;return!0}function P(M,p){if(M===p)return!0;const b=Object.keys(M),Q=Object.keys(p);for(const q of b){if(!Q.includes(q))return!1;const b=M[q],B=p[q];if(L(b)&&L(B)){if(!P(b,B))return!1}else if(b!==B)return!1}for(const q of Q)if(!b.includes(q))return!1;return!0}function L(M){return null!==M&&"object"===typeof M}function N(M){const p=[];for(const[b,Q]of Object.entries(M))Array.isArray(Q)?Q.forEach((M=>{p.push(encodeURIComponent(b)+"="+encodeURIComponent(M))})):p.push(encodeURIComponent(b)+"="+encodeURIComponent(Q));return p.length?"&"+p.join("&"):""}function r(M){const p={};return M.replace(/^\?/,"").split("&").forEach((M=>{if(M){const[b,Q]=M.split("=");p[decodeURIComponent(b)]=decodeURIComponent(Q)}})),p}function Y(M){const p=M.indexOf("?");if(!p)return"";const b=M.indexOf("#",p);return M.substring(p,b>0?b:void 0)}function w(M,p){const b=new E(M,p);return b.subscribe.bind(b)}class E{constructor(M,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then((()=>{M(this)})).catch((M=>{this.error(M)}))}next(M){this.forEachObserver((p=>{p.next(M)}))}error(M){this.forEachObserver((p=>{p.error(M)})),this.close(M)}complete(){this.forEachObserver((M=>{M.complete()})),this.close()}subscribe(M,p,b){let Q;if(void 0===M&&void 0===p&&void 0===b)throw new Error("Missing Observer.");Q=function(M,p){if("object"!==typeof M||null===M)return!1;for(const b of p)if(b in M&&"function"===typeof M[b])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:p,complete:b},void 0===Q.next&&(Q.next=n),void 0===Q.error&&(Q.error=n),void 0===Q.complete&&(Q.complete=n);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(M){}})),this.observers.push(Q),q}unsubscribeOne(M){void 0!==this.observers&&void 0!==this.observers[M]&&(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,M)}sendOne(M,p){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{p(this.observers[M])}catch(b){"undefined"!==typeof console&&console.error&&console.error(b)}}))}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function n(){}const g=1e3,U=2,c=144e5,d=.5;function V(M){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;const b=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:g)*Math.pow(p,M),Q=Math.round(d*b*(Math.random()-.5)*2);return Math.min(c,b+Q)}function h(M){return M&&M._delegate?M._delegate:M}},11592:(M,p,b)=>{b.d(p,{e:()=>B.g,i:()=>FM,j:()=>X,l:()=>bM,p:()=>QM,r:()=>MM,t:()=>uM,x:()=>pM,B:()=>BM,F:()=>qM,H:()=>kM,J:()=>AM,M:()=>WM,K:()=>iM,N:()=>oM,Q:()=>KM,U:()=>jM,Y:()=>DM});var Q=b(11599),q=b(11606),B=b(11604);let k,u;const T=new WeakMap,O=new WeakMap,H=new WeakMap,F=new WeakMap,o=new WeakMap;let W={get(M,p,b){if(M instanceof IDBTransaction){if("done"===p)return O.get(M);if("objectStoreNames"===p)return M.objectStoreNames||H.get(M);if("store"===p)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return j(M[p])},set:(M,p,b)=>(M[p]=b,!0),has:(M,p)=>M instanceof IDBTransaction&&("done"===p||"store"===p)||p in M};function i(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(u||(u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(M)?function(){for(var p=arguments.length,b=new Array(p),Q=0;Q<p;Q++)b[Q]=arguments[Q];return M.apply(K(this),b),j(T.get(this))}:function(){for(var p=arguments.length,b=new Array(p),Q=0;Q<p;Q++)b[Q]=arguments[Q];return j(M.apply(K(this),b))}:function(p){for(var b=arguments.length,Q=new Array(b>1?b-1:0),q=1;q<b;q++)Q[q-1]=arguments[q];const B=M.call(K(this),p,...Q);return H.set(B,p.sort?p.sort():[p]),j(B)}}function A(M){return"function"===typeof M?i(M):(M instanceof IDBTransaction&&function(M){if(O.has(M))return;const p=new Promise(((p,b)=>{const Q=()=>{M.removeEventListener("complete",q),M.removeEventListener("error",B),M.removeEventListener("abort",B)},q=()=>{p(),Q()},B=()=>{b(M.error||new DOMException("AbortError","AbortError")),Q()};M.addEventListener("complete",q),M.addEventListener("error",B),M.addEventListener("abort",B)}));O.set(M,p)}(M),p=M,(k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((M=>p instanceof M))?new Proxy(M,W):M);var p}function j(M){if(M instanceof IDBRequest)return function(M){const p=new Promise(((p,b)=>{const Q=()=>{M.removeEventListener("success",q),M.removeEventListener("error",B)},q=()=>{p(j(M.result)),Q()},B=()=>{b(M.error),Q()};M.addEventListener("success",q),M.addEventListener("error",B)}));return p.then((p=>{p instanceof IDBCursor&&T.set(p,M)})).catch((()=>{})),o.set(p,M),p}(M);if(F.has(M))return F.get(M);const p=A(M);return p!==M&&(F.set(M,p),o.set(p,M)),p}const K=M=>o.get(M);const D=["get","getKey","getAll","getAllKeys","count"],a=["put","add","delete","clear"],s=new Map;function S(M,p){if(!(M instanceof IDBDatabase)||p in M||"string"!==typeof p)return;if(s.get(p))return s.get(p);const b=p.replace(/FromIndex$/,""),Q=p!==b,q=a.includes(b);if(!(b in(Q?IDBIndex:IDBObjectStore).prototype)||!q&&!D.includes(b))return;const B=async function(M){const p=this.transaction(M,q?"readwrite":"readonly");let B=p.store;for(var k=arguments.length,u=new Array(k>1?k-1:0),T=1;T<k;T++)u[T-1]=arguments[T];return Q&&(B=B.index(u.shift())),(await Promise.all([B[b](...u),q&&p.done]))[0]};return s.set(p,B),B}W=(M=>({...M,get:(p,b,Q)=>S(p,b)||M.get(p,b,Q),has:(p,b)=>!!S(p,b)||M.has(p,b)}))(W);class f{constructor(M){this.container=M}getPlatformInfoString(){return this.container.getProviders().map((M=>{if(function(M){const p=M.getComponent();return"VERSION"===(null===p||void 0===p?void 0:p.type)}(M)){const p=M.getImmediate();return`${p.library}/${p.version}`}return null})).filter((M=>M)).join(" ")}}const R="@firebase/app",y="0.9.13",x=new q.g("@firebase/app"),P="@firebase/app-compat",L="@firebase/analytics-compat",N="@firebase/analytics",r="@firebase/app-check-compat",Y="@firebase/app-check",w="@firebase/auth",E="@firebase/auth-compat",n="@firebase/database",g="@firebase/database-compat",U="@firebase/functions",c="@firebase/functions-compat",d="@firebase/installations",V="@firebase/installations-compat",h="@firebase/messaging",I="@firebase/messaging-compat",Z="@firebase/performance",J="@firebase/performance-compat",v="@firebase/remote-config",z="@firebase/remote-config-compat",t="@firebase/storage",e="@firebase/storage-compat",G="@firebase/firestore",mM="@firebase/firestore-compat",C="firebase",X="[DEFAULT]",l={[R]:"fire-core",[P]:"fire-core-compat",[N]:"fire-analytics",[L]:"fire-analytics-compat",[Y]:"fire-app-check",[r]:"fire-app-check-compat",[w]:"fire-auth",[E]:"fire-auth-compat",[n]:"fire-rtdb",[g]:"fire-rtdb-compat",[U]:"fire-fn",[c]:"fire-fn-compat",[d]:"fire-iid",[V]:"fire-iid-compat",[h]:"fire-fcm",[I]:"fire-fcm-compat",[Z]:"fire-perf",[J]:"fire-perf-compat",[v]:"fire-rc",[z]:"fire-rc-compat",[t]:"fire-gcs",[e]:"fire-gcs-compat",[G]:"fire-fst",[mM]:"fire-fst-compat","fire-js":"fire-js",[C]:"fire-js-all"},MM=new Map,pM=new Map;function bM(M,p){try{M.container.tT(p)}catch(b){x.debug(`Component ${p.name} failed to register with FirebaseApp ${M.name}`,b)}}function QM(M,p){M.container.addOrOverwriteComponent(p)}function qM(M){const p=M.name;if(pM.has(p))return x.debug(`There were multiple attempts to register component ${p}.`),!1;pM.set(p,M);for(const b of MM.values())bM(b,M);return!0}function BM(M,p){const b=M.container.getProvider("heartbeat").getImmediate({optional:!0});return b&&b.triggerHeartbeat(),M.container.getProvider(p)}function kM(M,p){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;BM(M,p).clearInstance(b)}function uM(){pM.clear()}const TM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},OM=new B.e("app","Firebase",TM);class HM{constructor(M,p,b){this._isDeleted=!1,this._options=Object.assign({},M),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=b,this.container.tT(new Q.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(M){this.checkDestroyed(),this._automaticDataCollectionEnabled=M}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(M){this._isDeleted=M}checkDestroyed(){if(this.isDeleted)throw OM.create("app-deleted",{appName:this._name})}}const FM="9.23.0";function oM(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=M;if("object"!==typeof p){p={name:p}}const q=Object.assign({name:X,automaticDataCollectionEnabled:!1},p),k=q.name;if("string"!==typeof k||!k)throw OM.create("bad-app-name",{appName:String(k)});if(b||(b=(0,B.x)()),!b)throw OM.create("no-options");const u=MM.get(k);if(u){if((0,B.t)(b,u.options)&&(0,B.t)(q,u.config))return u;throw OM.create("duplicate-app",{appName:k})}const T=new Q.c(k);for(const Q of pM.values())T.tT(Q);const O=new HM(b,q,T);return MM.set(k,O),O}function WM(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const p=MM.get(M);if(!p&&M===X&&(0,B.x)())return oM();if(!p)throw OM.create("no-app",{appName:M});return p}function iM(){return Array.from(MM.values())}async function AM(M){const p=M.name;MM.has(p)&&(MM.delete(p),await Promise.all(M.container.getProviders().map((M=>M.delete()))),M.isDeleted=!0)}function jM(M,p,b){var q;let B=null!==(q=l[M])&&void 0!==q?q:M;b&&(B+=`-${b}`);const k=B.match(/\s|\//),u=p.match(/\s|\//);if(k||u){const M=[`Unable to register library "${B}" with version "${p}":`];return k&&M.push(`library name "${B}" contains illegal characters (whitespace or "/")`),k&&u&&M.push("and"),u&&M.push(`version name "${p}" contains illegal characters (whitespace or "/")`),void x.warn(M.join(" "))}qM(new Q.e(`${B}-version`,(()=>({library:B,version:p})),"VERSION"))}function KM(M,p){if(null!==M&&"function"!==typeof M)throw OM.create("invalid-log-argument");(0,q.m)(M,p)}function DM(M){(0,q.i)(M)}const aM="firebase-heartbeat-store";let sM=null;function SM(){return sM||(sM=function(M,p){let{blocked:b,upgrade:Q,blocking:q,terminated:B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const k=indexedDB.open(M,p),u=j(k);return Q&&k.addEventListener("upgradeneeded",(M=>{Q(j(k.result),M.oldVersion,M.newVersion,j(k.transaction),M)})),b&&k.addEventListener("blocked",(M=>b(M.oldVersion,M.newVersion,M))),u.then((M=>{B&&M.addEventListener("close",(()=>B())),q&&M.addEventListener("versionchange",(M=>q(M.oldVersion,M.newVersion,M)))})).catch((()=>{})),u}("firebase-heartbeat-database",1,{upgrade:(M,p)=>{if(0===p)M.createObjectStore(aM)}}).catch((M=>{throw OM.create("idb-open",{originalErrorMessage:M.message})}))),sM}async function fM(M,p){try{const b=(await SM()).transaction(aM,"readwrite"),Q=b.objectStore(aM);await Q.put(p,RM(M)),await b.done}catch(b){if(b instanceof B.g)x.warn(b.message);else{const M=OM.create("idb-set",{originalErrorMessage:null===b||void 0===b?void 0:b.message});x.warn(M.message)}}}function RM(M){return`${M.name}!${M.options.appId}`}class yM{constructor(M){this.container=M,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this.sF=new PM(p),this._heartbeatsCachePromise=this.sF.read().then((M=>(this._heartbeatsCache=M,M)))}async triggerHeartbeat(){const M=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=xM();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==p&&!this._heartbeatsCache.heartbeats.some((M=>M.date===p)))return this._heartbeatsCache.heartbeats.push({date:p,agent:M}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((M=>{const p=new Date(M.date).valueOf();return Date.now()-p<=2592e6})),this.sF.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const M=xM(),{heartbeatsToSend:p,unsentEntries:b}=function(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const b=[];let Q=M.slice();for(const q of M){const M=b.find((M=>M.agent===q.agent));if(M){if(M.dates.push(q.date),LM(b)>p){M.dates.pop();break}}else if(b.push({agent:q.agent,dates:[q.date]}),LM(b)>p){b.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:b,unsentEntries:Q}}(this._heartbeatsCache.heartbeats),Q=(0,B.m)(JSON.stringify({version:2,heartbeats:p}));return this._heartbeatsCache.lastSentHeartbeatDate=M,b.length>0?(this._heartbeatsCache.heartbeats=b,await this.sF.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.sF.overwrite(this._heartbeatsCache)),Q}}function xM(){return(new Date).toISOString().substring(0,10)}class PM{constructor(M){this.app=M,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,B.Q)()&&(0,B.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(M){try{const p=await SM();return await p.transaction(aM).objectStore(aM).get(RM(M))}catch(p){if(p instanceof B.g)x.warn(p.message);else{const M=OM.create("idb-get",{originalErrorMessage:null===p||void 0===p?void 0:p.message});x.warn(M.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(M){var p;if(await this._canUseIndexedDBPromise){const b=await this.read();return fM(this.app,{lastSentHeartbeatDate:null!==(p=M.lastSentHeartbeatDate)&&void 0!==p?p:b.lastSentHeartbeatDate,heartbeats:M.heartbeats})}}async add(M){var p;if(await this._canUseIndexedDBPromise){const b=await this.read();return fM(this.app,{lastSentHeartbeatDate:null!==(p=M.lastSentHeartbeatDate)&&void 0!==p?p:b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...M.heartbeats]})}}}function LM(M){return(0,B.m)(JSON.stringify({version:2,heartbeats:M})).length}var NM;NM="",qM(new Q.e("platform-logger",(M=>new f(M)),"PRIVATE")),qM(new Q.e("heartbeat",(M=>new yM(M)),"PRIVATE")),jM(R,y,NM),jM(R,y,"esm2017"),jM("fire-js","")},11599:(M,p,b)=>{b.d(p,{c:()=>u,e:()=>q});var Q=b(11604);class q{constructor(M,p,b){this.name=M,this.instanceFactory=p,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}const B="[DEFAULT]";class k{constructor(M,p){this.name=M,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(M){const p=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(p)){const M=new Q.d;if(this.instancesDeferred.set(p,M),this.isInitialized(p)||this.shouldAutoInitialize())try{const b=this.getOrInitializeService({instanceIdentifier:p});b&&M.resolve(b)}catch(b){}}return this.instancesDeferred.get(p).promise}getImmediate(M){var p;const b=this.normalizeInstanceIdentifier(null===M||void 0===M?void 0:M.identifier),Q=null!==(p=null===M||void 0===M?void 0:M.optional)&&void 0!==p&&p;if(!this.isInitialized(b)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:b})}catch(q){if(Q)return null;throw q}}getComponent(){return this.component}setComponent(M){if(M.name!==this.name)throw Error(`Mismatching Component ${M.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=M,this.shouldAutoInitialize()){if(function(M){return"EAGER"===M.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:B})}catch(p){}for(const[M,b]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(M);try{const M=this.getOrInitializeService({instanceIdentifier:Q});b.resolve(M)}catch(p){}}}}clearInstance(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)}async delete(){const M=Array.from(this.instances.values());await Promise.all([...M.filter((M=>"INTERNAL"in M)).map((M=>M.INTERNAL.delete())),...M.filter((M=>"_delete"in M)).map((M=>M._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(M)}getOptions(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(M)||{}}initialize(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:p={}}=M,b=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:b,options:p});for(const[q,B]of this.instancesDeferred.entries()){b===this.normalizeInstanceIdentifier(q)&&B.resolve(Q)}return Q}lH(M,p){var b;const Q=this.normalizeInstanceIdentifier(p),q=null!==(b=this.onInitCallbacks.get(Q))&&void 0!==b?b:new Set;q.add(M),this.onInitCallbacks.set(Q,q);const B=this.instances.get(Q);return B&&M(B,Q),()=>{q.delete(M)}}invokeOnInitCallbacks(M,p){const b=this.onInitCallbacks.get(p);if(b)for(const q of b)try{q(M,p)}catch(Q){}}getOrInitializeService(M){let{instanceIdentifier:p,options:b={}}=M,Q=this.instances.get(p);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(q=p,q===B?void 0:q),options:b}),this.instances.set(p,Q),this.instancesOptions.set(p,b),this.invokeOnInitCallbacks(Q,p),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,p,Q)}catch(k){}var q;return Q||null}normalizeInstanceIdentifier(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?M:B:M}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u{constructor(M){this.name=M,this.providers=new Map}tT(M){const p=this.getProvider(M.name);if(p.isComponentSet())throw new Error(`Component ${M.name} has already been registered with ${this.name}`);p.setComponent(M)}addOrOverwriteComponent(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.tT(M)}getProvider(M){if(this.providers.has(M))return this.providers.get(M);const p=new k(M,this);return this.providers.set(M,p),p}getProviders(){return Array.from(this.providers.values())}}},11606:(M,p,b)=>{b.d(p,{e:()=>q,g:()=>O,i:()=>H,m:()=>F});const Q=[];var q;!function(M){M[M.DEBUG=0]="DEBUG",M[M.VERBOSE=1]="VERBOSE",M[M.INFO=2]="INFO",M[M.WARN=3]="WARN",M[M.ERROR=4]="ERROR",M[M.SILENT=5]="SILENT"}(q||(q={}));const B={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},k=q.INFO,u={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},T=function(M,p){if(p<M.logLevel)return;const b=(new Date).toISOString(),Q=u[p];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);for(var q=arguments.length,B=new Array(q>2?q-2:0),k=2;k<q;k++)B[k-2]=arguments[k];console[Q](`[${b}]  ${M.name}:`,...B)};class O{constructor(M){this.name=M,this._logLevel=k,this._logHandler=T,this._userLogHandler=null,Q.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in q))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"===typeof M?B[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!==typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(){for(var M=arguments.length,p=new Array(M),b=0;b<M;b++)p[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...p),this._logHandler(this,q.DEBUG,...p)}log(){for(var M=arguments.length,p=new Array(M),b=0;b<M;b++)p[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...p),this._logHandler(this,q.VERBOSE,...p)}info(){for(var M=arguments.length,p=new Array(M),b=0;b<M;b++)p[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,q.INFO,...p),this._logHandler(this,q.INFO,...p)}warn(){for(var M=arguments.length,p=new Array(M),b=0;b<M;b++)p[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,q.WARN,...p),this._logHandler(this,q.WARN,...p)}error(){for(var M=arguments.length,p=new Array(M),b=0;b<M;b++)p[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...p),this._logHandler(this,q.ERROR,...p)}}function H(M){Q.forEach((p=>{p.setLogLevel(M)}))}function F(M,p){for(const b of Q){let Q=null;p&&p.level&&(Q=B[p.level]),b.userLogHandler=null===M?null:function(p,b){for(var B=arguments.length,k=new Array(B>2?B-2:0),u=2;u<B;u++)k[u-2]=arguments[u];const T=k.map((M=>{if(null==M)return null;if("string"===typeof M)return M;if("number"===typeof M||"boolean"===typeof M)return M.toString();if(M instanceof Error)return M.message;try{return JSON.stringify(M)}catch(p){return null}})).filter((M=>M)).join(" ");b>=(null!==Q&&void 0!==Q?Q:p.logLevel)&&M({level:q[b].toLowerCase(),message:T,args:k,type:p.name})}}}}}]);