/*! For license information please see k76s1.5.1f5f68ac.chunk.js.LICENSE.txt */
"use strict";(self.n52dyox90qa=self.n52dyox90qa||[]).push([[5],{11604:(E,t,z)=>{z.d(t,{C:()=>d,D:()=>q,F:()=>O,I:()=>a,K:()=>f,M:()=>mE,P:()=>W,T:()=>c,X:()=>L,_:()=>b,ab:()=>B,c:()=>y,eb:()=>I,f:()=>S,h:()=>D,j:()=>e,l:()=>p,m:()=>u,o:()=>T,p:()=>J,q:()=>K,u:()=>x,w:()=>h,z:()=>H});const A=function(E){const t=[];let z=0;for(let A=0;A<E.length;A++){let X=E.charCodeAt(A);X<128?t[z++]=X:X<2048?(t[z++]=X>>6|192,t[z++]=63&X|128):55296===(64512&X)&&A+1<E.length&&56320===(64512&E.charCodeAt(A+1))?(X=65536+((1023&X)<<10)+(1023&E.charCodeAt(++A)),t[z++]=X>>18|240,t[z++]=X>>12&63|128,t[z++]=X>>6&63|128,t[z++]=63&X|128):(t[z++]=X>>12|224,t[z++]=X>>6&63|128,t[z++]=63&X|128)}return t},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(E,t){if(!Array.isArray(E))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let X=0;X<E.length;X+=3){const t=E[X],R=X+1<E.length,u=R?E[X+1]:0,p=X+2<E.length,C=p?E[X+2]:0,Z=t>>2,H=(3&t)<<4|u>>4;let h=(15&u)<<2|C>>6,d=63&C;p||(d=64,R||(h=64)),A.push(z[Z],z[H],z[h],z[d])}return A.join("")},encodeString(E,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(E):this.encodeByteArray(A(E),t)},decodeString(E,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(E):function(E){const t=[];let z=0,A=0;for(;z<E.length;){const X=E[z++];if(X<128)t[A++]=String.fromCharCode(X);else if(X>191&&X<224){const R=E[z++];t[A++]=String.fromCharCode((31&X)<<6|63&R)}else if(X>239&&X<365){const R=((7&X)<<18|(63&E[z++])<<12|(63&E[z++])<<6|63&E[z++])-65536;t[A++]=String.fromCharCode(55296+(R>>10)),t[A++]=String.fromCharCode(56320+(1023&R))}else{const R=E[z++],u=E[z++];t[A++]=String.fromCharCode((15&X)<<12|(63&R)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(E,t))},decodeStringToByteArray(E,t){this.init_();const z=t?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let X=0;X<E.length;){const t=z[E.charAt(X++)],u=X<E.length?z[E.charAt(X)]:0;++X;const p=X<E.length?z[E.charAt(X)]:64;++X;const C=X<E.length?z[E.charAt(X)]:64;if(++X,null==t||null==u||null==p||null==C)throw new R;const Z=t<<2|u>>4;if(A.push(Z),64!==p){const E=u<<4&240|p>>2;if(A.push(E),64!==C){const E=p<<6&192|C;A.push(E)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let E=0;E<this.ENCODED_VALS.length;E++)this.byteToCharMap_[E]=this.ENCODED_VALS.charAt(E),this.charToByteMap_[this.byteToCharMap_[E]]=E,this.byteToCharMapWebSafe_[E]=this.ENCODED_VALS_WEBSAFE.charAt(E),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[E]]=E,E>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(E)]=E,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(E)]=E)}}};class R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(E){return function(E){const t=A(E);return X.encodeByteArray(t,!0)}(E).replace(/\./g,"")},p=function(E){try{return X.decodeString(E,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof z.g)return z.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Z=()=>{try{return C()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let E;try{E=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(z){return}const t=E&&p(E[1]);return t&&JSON.parse(t)})()}catch(E){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${E}`)}},H=E=>{var t,z;return null===(z=null===(t=Z())||void 0===t?void 0:t.emulatorHosts)||void 0===z?void 0:z[E]},h=()=>{var E;return null===(E=Z())||void 0===E?void 0:E.config},d=E=>{var t;return null===(t=Z())||void 0===t?void 0:t[`_${E}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((E,t)=>{this.resolve=E,this.reject=t}))}wrapCallback(E){return(t,z)=>{t?this.reject(t):this.resolve(z),"function"===typeof E&&(this.promise.catch((()=>{})),1===E.length?E(t):E(t,z))}}}function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function a(){const E="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof E&&void 0!==E.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mE(){const E=O();return E.indexOf("MSIE ")>=0||E.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(E){return!1}}function I(){return new Promise(((E,t)=>{try{let z=!0;const A="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(A);X.onsuccess=()=>{X.result.close(),z||self.indexedDB.deleteDatabase(A),E(!0)},X.onupgradeneeded=()=>{z=!1},X.onerror=()=>{var E;t((null===(E=X.error)||void 0===E?void 0:E.message)||"")}}catch(z){t(z)}}))}function e(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class D extends Error{constructor(E,t,z){super(t),this.code=E,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(E,t,z){this.service=E,this.serviceName=t,this.errors=z}create(E){const t=(arguments.length<=1?void 0:arguments[1])||{},z=`${this.service}/${E}`,A=this.errors[E],X=A?function(E,t){return E.replace(l,((E,z)=>{const A=t[z];return null!=A?String(A):`<${z}?>`}))}(A,t):"Error",R=`${this.serviceName}: ${X} (${z}).`;return new D(z,R,t)}}const l=/\{\$([^}]+)}/g;function f(E){for(const t in E)if(Object.prototype.hasOwnProperty.call(E,t))return!1;return!0}function K(E,t){if(E===t)return!0;const z=Object.keys(E),A=Object.keys(t);for(const X of z){if(!A.includes(X))return!1;const z=E[X],R=t[X];if(F(z)&&F(R)){if(!K(z,R))return!1}else if(z!==R)return!1}for(const X of A)if(!z.includes(X))return!1;return!0}function F(E){return null!==E&&"object"===typeof E}function B(E){const t=[];for(const[z,A]of Object.entries(E))Array.isArray(A)?A.forEach((E=>{t.push(encodeURIComponent(z)+"="+encodeURIComponent(E))})):t.push(encodeURIComponent(z)+"="+encodeURIComponent(A));return t.length?"&"+t.join("&"):""}function b(E){const t={};return E.replace(/^\?/,"").split("&").forEach((E=>{if(E){const[z,A]=E.split("=");t[decodeURIComponent(z)]=decodeURIComponent(A)}})),t}function x(E){const t=E.indexOf("?");if(!t)return"";const z=E.indexOf("#",t);return E.substring(t,z>0?z:void 0)}function J(E,t){const z=new V(E,t);return z.subscribe.bind(z)}class V{constructor(E,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{E(this)})).catch((E=>{this.error(E)}))}next(E){this.forEachObserver((t=>{t.next(E)}))}error(E){this.forEachObserver((t=>{t.error(E)})),this.close(E)}complete(){this.forEachObserver((E=>{E.complete()})),this.close()}subscribe(E,t,z){let A;if(void 0===E&&void 0===t&&void 0===z)throw new Error("Missing Observer.");A=function(E,t){if("object"!==typeof E||null===E)return!1;for(const z of t)if(z in E&&"function"===typeof E[z])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:t,complete:z},void 0===A.next&&(A.next=r),void 0===A.error&&(A.error=r),void 0===A.complete&&(A.complete=r);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(E){}})),this.observers.push(A),X}unsubscribeOne(E){void 0!==this.observers&&void 0!==this.observers[E]&&(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,E)}sendOne(E,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{t(this.observers[E])}catch(z){"undefined"!==typeof console&&console.error&&console.error(z)}}))}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function r(){}const i=1e3,g=2,o=144e5,Q=.5;function T(E){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const z=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i)*Math.pow(t,E),A=Math.round(Q*z*(Math.random()-.5)*2);return Math.min(o,z+A)}function q(E){return E&&E._delegate?E._delegate:E}},11597:(E,t,z)=>{z.d(t,{e:()=>R.h,g:()=>hE,k:()=>N,n:()=>zE,r:()=>AE,t:()=>EE,w:()=>pE,A:()=>tE,C:()=>RE,F:()=>XE,H:()=>uE,L:()=>cE,Q:()=>yE,N:()=>OE,T:()=>dE,V:()=>LE,Z:()=>aE,bb:()=>mt});var A=z(11601),X=z(11609),R=z(11604);let u,p;const C=new WeakMap,Z=new WeakMap,H=new WeakMap,h=new WeakMap,d=new WeakMap;let y={get(E,t,z){if(E instanceof IDBTransaction){if("done"===t)return Z.get(E);if("objectStoreNames"===t)return E.objectStoreNames||H.get(E);if("store"===t)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return a(E[t])},set:(E,t,z)=>(E[t]=z,!0),has:(E,t)=>E instanceof IDBTransaction&&("done"===t||"store"===t)||t in E};function O(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(p||(p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(E)?function(){for(var t=arguments.length,z=new Array(t),A=0;A<t;A++)z[A]=arguments[A];return E.apply(L(this),z),a(C.get(this))}:function(){for(var t=arguments.length,z=new Array(t),A=0;A<t;A++)z[A]=arguments[A];return a(E.apply(L(this),z))}:function(t){for(var z=arguments.length,A=new Array(z>1?z-1:0),X=1;X<z;X++)A[X-1]=arguments[X];const R=E.call(L(this),t,...A);return H.set(R,t.sort?t.sort():[t]),a(R)}}function c(E){return"function"===typeof E?O(E):(E instanceof IDBTransaction&&function(E){if(Z.has(E))return;const t=new Promise(((t,z)=>{const A=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",R),E.removeEventListener("abort",R)},X=()=>{t(),A()},R=()=>{z(E.error||new DOMException("AbortError","AbortError")),A()};E.addEventListener("complete",X),E.addEventListener("error",R),E.addEventListener("abort",R)}));Z.set(E,t)}(E),t=E,(u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((E=>t instanceof E))?new Proxy(E,y):E);var t}function a(E){if(E instanceof IDBRequest)return function(E){const t=new Promise(((t,z)=>{const A=()=>{E.removeEventListener("success",X),E.removeEventListener("error",R)},X=()=>{t(a(E.result)),A()},R=()=>{z(E.error),A()};E.addEventListener("success",X),E.addEventListener("error",R)}));return t.then((t=>{t instanceof IDBCursor&&C.set(t,E)})).catch((()=>{})),d.set(t,E),t}(E);if(h.has(E))return h.get(E);const t=c(E);return t!==E&&(h.set(E,t),d.set(t,E)),t}const L=E=>d.get(E);const mE=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],I=new Map;function e(E,t){if(!(E instanceof IDBDatabase)||t in E||"string"!==typeof t)return;if(I.get(t))return I.get(t);const z=t.replace(/FromIndex$/,""),A=t!==z,X=W.includes(z);if(!(z in(A?IDBIndex:IDBObjectStore).prototype)||!X&&!mE.includes(z))return;const R=async function(E){const t=this.transaction(E,X?"readwrite":"readonly");let R=t.store;for(var u=arguments.length,p=new Array(u>1?u-1:0),C=1;C<u;C++)p[C-1]=arguments[C];return A&&(R=R.index(p.shift())),(await Promise.all([R[z](...p),X&&t.done]))[0]};return I.set(t,R),R}y=(E=>({...E,get:(t,z,A)=>e(t,z)||E.get(t,z,A),has:(t,z)=>!!e(t,z)||E.has(t,z)}))(y);class D{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map((E=>{if(function(E){const t=E.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(E)){const t=E.getImmediate();return`${t.library}/${t.version}`}return null})).filter((E=>E)).join(" ")}}const S="@firebase/app",l="0.9.13",f=new X.f("@firebase/app"),K="@firebase/app-compat",F="@firebase/analytics-compat",B="@firebase/analytics",b="@firebase/app-check-compat",x="@firebase/app-check",J="@firebase/auth",V="@firebase/auth-compat",r="@firebase/database",i="@firebase/database-compat",g="@firebase/functions",o="@firebase/functions-compat",Q="@firebase/installations",T="@firebase/installations-compat",q="@firebase/messaging",M="@firebase/messaging-compat",w="@firebase/performance",n="@firebase/performance-compat",s="@firebase/remote-config",j="@firebase/remote-config-compat",U="@firebase/storage",k="@firebase/storage-compat",v="@firebase/firestore",Y="@firebase/firestore-compat",G="firebase",N="[DEFAULT]",P={[S]:"fire-core",[K]:"fire-core-compat",[B]:"fire-analytics",[F]:"fire-analytics-compat",[x]:"fire-app-check",[b]:"fire-app-check-compat",[J]:"fire-auth",[V]:"fire-auth-compat",[r]:"fire-rtdb",[i]:"fire-rtdb-compat",[g]:"fire-fn",[o]:"fire-fn-compat",[Q]:"fire-iid",[T]:"fire-iid-compat",[q]:"fire-fcm",[M]:"fire-fcm-compat",[w]:"fire-perf",[n]:"fire-perf-compat",[s]:"fire-rc",[j]:"fire-rc-compat",[U]:"fire-gcs",[k]:"fire-gcs-compat",[v]:"fire-fst",[Y]:"fire-fst-compat","fire-js":"fire-js",[G]:"fire-js-all"},EE=new Map,tE=new Map;function zE(E,t){try{E.container.xC(t)}catch(z){f.debug(`Component ${t.name} failed to register with FirebaseApp ${E.name}`,z)}}function AE(E,t){E.container.addOrOverwriteComponent(t)}function XE(E){const t=E.name;if(tE.has(t))return f.debug(`There were multiple attempts to register component ${t}.`),!1;tE.set(t,E);for(const z of EE.values())zE(z,E);return!0}function RE(E,t){const z=E.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),E.container.getProvider(t)}function uE(E,t){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;RE(E,t).clearInstance(z)}function pE(){tE.clear()}const CE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ZE=new R.f("app","Firebase",CE);class HE{constructor(E,t,z){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=z,this.container.xC(new A.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw ZE.create("app-deleted",{appName:this._name})}}const hE="9.23.0";function dE(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=E;if("object"!==typeof t){t={name:t}}const X=Object.assign({name:N,automaticDataCollectionEnabled:!1},t),u=X.name;if("string"!==typeof u||!u)throw ZE.create("bad-app-name",{appName:String(u)});if(z||(z=(0,R.w)()),!z)throw ZE.create("no-options");const p=EE.get(u);if(p){if((0,R.q)(z,p.options)&&(0,R.q)(X,p.config))return p;throw ZE.create("duplicate-app",{appName:u})}const C=new A.c(u);for(const A of tE.values())C.xC(A);const Z=new HE(z,X,C);return EE.set(u,Z),Z}function yE(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;const t=EE.get(E);if(!t&&E===N&&(0,R.w)())return dE();if(!t)throw ZE.create("no-app",{appName:E});return t}function OE(){return Array.from(EE.values())}async function cE(E){const t=E.name;EE.has(t)&&(EE.delete(t),await Promise.all(E.container.getProviders().map((E=>E.delete()))),E.isDeleted=!0)}function aE(E,t,z){var X;let R=null!==(X=P[E])&&void 0!==X?X:E;z&&(R+=`-${z}`);const u=R.match(/\s|\//),p=t.match(/\s|\//);if(u||p){const E=[`Unable to register library "${R}" with version "${t}":`];return u&&E.push(`library name "${R}" contains illegal characters (whitespace or "/")`),u&&p&&E.push("and"),p&&E.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void f.warn(E.join(" "))}XE(new A.e(`${R}-version`,(()=>({library:R,version:t})),"VERSION"))}function LE(E,t){if(null!==E&&"function"!==typeof E)throw ZE.create("invalid-log-argument");(0,X.j)(E,t)}function mt(E){(0,X.g)(E)}const WE="firebase-heartbeat-store";let IE=null;function eE(){return IE||(IE=function(E,t){let{blocked:z,upgrade:A,blocking:X,terminated:R}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=indexedDB.open(E,t),p=a(u);return A&&u.addEventListener("upgradeneeded",(E=>{A(a(u.result),E.oldVersion,E.newVersion,a(u.transaction),E)})),z&&u.addEventListener("blocked",(E=>z(E.oldVersion,E.newVersion,E))),p.then((E=>{R&&E.addEventListener("close",(()=>R())),X&&E.addEventListener("versionchange",(E=>X(E.oldVersion,E.newVersion,E)))})).catch((()=>{})),p}("firebase-heartbeat-database",1,{upgrade:(E,t)=>{if(0===t)E.createObjectStore(WE)}}).catch((E=>{throw ZE.create("idb-open",{originalErrorMessage:E.message})}))),IE}async function DE(E,t){try{const z=(await eE()).transaction(WE,"readwrite"),A=z.objectStore(WE);await A.put(t,SE(E)),await z.done}catch(z){if(z instanceof R.h)f.warn(z.message);else{const E=ZE.create("idb-set",{originalErrorMessage:null===z||void 0===z?void 0:z.message});f.warn(E.message)}}}function SE(E){return`${E.name}!${E.options.appId}`}class lE{constructor(E){this.container=E,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this.ph=new KE(t),this._heartbeatsCachePromise=this.ph.read().then((E=>(this._heartbeatsCache=E,E)))}async triggerHeartbeat(){const E=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=fE();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((E=>E.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:E}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((E=>{const t=new Date(E.date).valueOf();return Date.now()-t<=2592e6})),this.ph.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const E=fE(),{heartbeatsToSend:t,unsentEntries:z}=function(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const z=[];let A=E.slice();for(const X of E){const E=z.find((E=>E.agent===X.agent));if(E){if(E.dates.push(X.date),FE(z)>t){E.dates.pop();break}}else if(z.push({agent:X.agent,dates:[X.date]}),FE(z)>t){z.pop();break}A=A.slice(1)}return{heartbeatsToSend:z,unsentEntries:A}}(this._heartbeatsCache.heartbeats),A=(0,R.m)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=E,z.length>0?(this._heartbeatsCache.heartbeats=z,await this.ph.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ph.overwrite(this._heartbeatsCache)),A}}function fE(){return(new Date).toISOString().substring(0,10)}class KE{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,R.P)()&&(0,R.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(E){try{const t=await eE();return await t.transaction(WE).objectStore(WE).get(SE(E))}catch(t){if(t instanceof R.h)f.warn(t.message);else{const E=ZE.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});f.warn(E.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(E){var t;if(await this._canUseIndexedDBPromise){const z=await this.read();return DE(this.app,{lastSentHeartbeatDate:null!==(t=E.lastSentHeartbeatDate)&&void 0!==t?t:z.lastSentHeartbeatDate,heartbeats:E.heartbeats})}}async add(E){var t;if(await this._canUseIndexedDBPromise){const z=await this.read();return DE(this.app,{lastSentHeartbeatDate:null!==(t=E.lastSentHeartbeatDate)&&void 0!==t?t:z.lastSentHeartbeatDate,heartbeats:[...z.heartbeats,...E.heartbeats]})}}}function FE(E){return(0,R.m)(JSON.stringify({version:2,heartbeats:E})).length}var BE;BE="",XE(new A.e("platform-logger",(E=>new D(E)),"PRIVATE")),XE(new A.e("heartbeat",(E=>new lE(E)),"PRIVATE")),aE(S,l,BE),aE(S,l,"esm2017"),aE("fire-js","")},11601:(E,t,z)=>{z.d(t,{c:()=>p,e:()=>X});var A=z(11604);class X{constructor(E,t,z){this.name=E,this.instanceFactory=t,this.type=z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}const R="[DEFAULT]";class u{constructor(E,t){this.name=E,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const t=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(t)){const E=new A.c;if(this.instancesDeferred.set(t,E),this.isInitialized(t)||this.shouldAutoInitialize())try{const z=this.getOrInitializeService({instanceIdentifier:t});z&&E.resolve(z)}catch(z){}}return this.instancesDeferred.get(t).promise}getImmediate(E){var t;const z=this.normalizeInstanceIdentifier(null===E||void 0===E?void 0:E.identifier),A=null!==(t=null===E||void 0===E?void 0:E.optional)&&void 0!==t&&t;if(!this.isInitialized(z)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:z})}catch(X){if(A)return null;throw X}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,this.shouldAutoInitialize()){if(function(E){return"EAGER"===E.instantiationMode}(E))try{this.getOrInitializeService({instanceIdentifier:R})}catch(t){}for(const[E,z]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(E);try{const E=this.getOrInitializeService({instanceIdentifier:A});z.resolve(E)}catch(t){}}}}clearInstance(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}async delete(){const E=Array.from(this.instances.values());await Promise.all([...E.filter((E=>"INTERNAL"in E)).map((E=>E.INTERNAL.delete())),...E.filter((E=>"_delete"in E)).map((E=>E._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instances.has(E)}getOptions(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instancesOptions.get(E)||{}}initialize(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=E,z=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(z))throw Error(`${this.name}(${z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:z,options:t});for(const[X,R]of this.instancesDeferred.entries()){z===this.normalizeInstanceIdentifier(X)&&R.resolve(A)}return A}QH(E,t){var z;const A=this.normalizeInstanceIdentifier(t),X=null!==(z=this.onInitCallbacks.get(A))&&void 0!==z?z:new Set;X.add(E),this.onInitCallbacks.set(A,X);const R=this.instances.get(A);return R&&E(R,A),()=>{X.delete(E)}}invokeOnInitCallbacks(E,t){const z=this.onInitCallbacks.get(t);if(z)for(const X of z)try{X(E,t)}catch(A){}}getOrInitializeService(E){let{instanceIdentifier:t,options:z={}}=E,A=this.instances.get(t);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(X=t,X===R?void 0:X),options:z}),this.instances.set(t,A),this.instancesOptions.set(t,z),this.invokeOnInitCallbacks(A,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,A)}catch(u){}var X;return A||null}normalizeInstanceIdentifier(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.component?this.component.multipleInstances?E:R:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class p{constructor(E){this.name=E,this.providers=new Map}xC(E){const t=this.getProvider(E.name);if(t.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);t.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.xC(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const t=new u(E,this);return this.providers.set(E,t),t}getProviders(){return Array.from(this.providers.values())}}},11609:(E,t,z)=>{z.d(t,{e:()=>X,f:()=>Z,g:()=>H,j:()=>h});const A=[];var X;!function(E){E[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT"}(X||(X={}));const R={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},u=X.INFO,p={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},C=function(E,t){if(t<E.logLevel)return;const z=(new Date).toISOString(),A=p[t];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var X=arguments.length,R=new Array(X>2?X-2:0),u=2;u<X;u++)R[u-2]=arguments[u];console[A](`[${z}]  ${E.name}:`,...R)};class Z{constructor(E){this.name=E,this._logLevel=u,this._logHandler=C,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in X))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"===typeof E?R[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!==typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(){for(var E=arguments.length,t=new Array(E),z=0;z<E;z++)t[z]=arguments[z];this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...t),this._logHandler(this,X.DEBUG,...t)}log(){for(var E=arguments.length,t=new Array(E),z=0;z<E;z++)t[z]=arguments[z];this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...t),this._logHandler(this,X.VERBOSE,...t)}info(){for(var E=arguments.length,t=new Array(E),z=0;z<E;z++)t[z]=arguments[z];this._userLogHandler&&this._userLogHandler(this,X.INFO,...t),this._logHandler(this,X.INFO,...t)}warn(){for(var E=arguments.length,t=new Array(E),z=0;z<E;z++)t[z]=arguments[z];this._userLogHandler&&this._userLogHandler(this,X.WARN,...t),this._logHandler(this,X.WARN,...t)}error(){for(var E=arguments.length,t=new Array(E),z=0;z<E;z++)t[z]=arguments[z];this._userLogHandler&&this._userLogHandler(this,X.ERROR,...t),this._logHandler(this,X.ERROR,...t)}}function H(E){A.forEach((t=>{t.setLogLevel(E)}))}function h(E,t){for(const z of A){let A=null;t&&t.level&&(A=R[t.level]),z.userLogHandler=null===E?null:function(t,z){for(var R=arguments.length,u=new Array(R>2?R-2:0),p=2;p<R;p++)u[p-2]=arguments[p];const C=u.map((E=>{if(null==E)return null;if("string"===typeof E)return E;if("number"===typeof E||"boolean"===typeof E)return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(t){return null}})).filter((E=>E)).join(" ");z>=(null!==A&&void 0!==A?A:t.logLevel)&&E({level:X[z].toLowerCase(),message:C,args:u,type:t.name})}}}}}]);