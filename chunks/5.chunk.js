/*! For license information please see 593js5.5.1e5ba5f1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10427:(z,a,K)=>{K.d(a,{C:()=>F,G:()=>e,K:()=>l,N:()=>c,O:()=>x,R:()=>w,S:()=>H,W:()=>V,X:()=>C,Z:()=>n,ab:()=>i,bb:()=>f,c:()=>G,e:()=>q,g:()=>I,h:()=>Y,j:()=>j,n:()=>p,p:()=>t,t:()=>P,w:()=>Z,x:()=>X,y:()=>W,z:()=>r});const v=function(z){const a=[];let K=0;for(let v=0;v<z.length;v++){let T=z.charCodeAt(v);T<128?a[K++]=T:T<2048?(a[K++]=T>>6|192,a[K++]=63&T|128):55296===(64512&T)&&v+1<z.length&&56320===(64512&z.charCodeAt(v+1))?(T=65536+((1023&T)<<10)+(1023&z.charCodeAt(++v)),a[K++]=T>>18|240,a[K++]=T>>12&63|128,a[K++]=T>>6&63|128,a[K++]=63&T|128):(a[K++]=T>>12|224,a[K++]=T>>6&63|128,a[K++]=63&T|128)}return a},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(z,a){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,v=[];for(let T=0;T<z.length;T+=3){const a=z[T],m=T+1<z.length,p=m?z[T+1]:0,j=T+2<z.length,s=j?z[T+2]:0,M=a>>2,r=(3&a)<<4|p>>4;let W=(15&p)<<2|s>>6,F=63&s;j||(F=64,m||(W=64)),v.push(K[M],K[r],K[W],K[F])}return v.join("")},encodeString(z,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(z):this.encodeByteArray(v(z),a)},decodeString(z,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(z):function(z){const a=[];let K=0,v=0;for(;K<z.length;){const T=z[K++];if(T<128)a[v++]=String.fromCharCode(T);else if(T>191&&T<224){const m=z[K++];a[v++]=String.fromCharCode((31&T)<<6|63&m)}else if(T>239&&T<365){const m=((7&T)<<18|(63&z[K++])<<12|(63&z[K++])<<6|63&z[K++])-65536;a[v++]=String.fromCharCode(55296+(m>>10)),a[v++]=String.fromCharCode(56320+(1023&m))}else{const m=z[K++],p=z[K++];a[v++]=String.fromCharCode((15&T)<<12|(63&m)<<6|63&p)}}return a.join("")}(this.decodeStringToByteArray(z,a))},decodeStringToByteArray(z,a){this.init_();const K=a?this.charToByteMapWebSafe_:this.charToByteMap_,v=[];for(let T=0;T<z.length;){const a=K[z.charAt(T++)],p=T<z.length?K[z.charAt(T)]:0;++T;const j=T<z.length?K[z.charAt(T)]:64;++T;const s=T<z.length?K[z.charAt(T)]:64;if(++T,null==a||null==p||null==j||null==s)throw new m;const M=a<<2|p>>4;if(v.push(M),64!==j){const z=p<<4&240|j>>2;if(v.push(z),64!==s){const z=j<<6&192|s;v.push(z)}}}return v},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class m extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(z){return function(z){const a=v(z);return T.encodeByteArray(a,!0)}(z).replace(/\./g,"")},j=function(z){try{return T.decodeString(z,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};const s=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof K.g)return K.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,M=()=>{try{return s()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(K){return}const a=z&&j(z[1]);return a&&JSON.parse(a)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},r=z=>{var a,K;return null===(K=null===(a=M())||void 0===a?void 0:a.emulatorHosts)||void 0===K?void 0:K[z]},W=()=>{var z;return null===(z=M())||void 0===z?void 0:z.config},F=z=>{var a;return null===(a=M())||void 0===a?void 0:a[`_${z}`]};class G{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((z,a)=>{this.resolve=z,this.reject=a}))}wrapCallback(z){return(a,K)=>{a?this.reject(a):this.resolve(K),"function"===typeof z&&(this.promise.catch((()=>{})),1===z.length?z(a):z(a,K))}}}function l(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function V(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function c(){const z="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof z&&void 0!==z.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){const z=l();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function H(){try{return"object"===typeof indexedDB}catch(z){return!1}}function f(){return new Promise(((z,a)=>{try{let K=!0;const v="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(v);T.onsuccess=()=>{T.result.close(),K||self.indexedDB.deleteDatabase(v),z(!0)},T.onupgradeneeded=()=>{K=!1},T.onerror=()=>{var z;a((null===(z=T.error)||void 0===z?void 0:z.message)||"")}}catch(K){a(K)}}))}function Y(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class I extends Error{constructor(z,a,K){super(a),this.code=z,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q.prototype.create)}}class q{constructor(z,a,K){this.service=z,this.serviceName=a,this.errors=K}create(z){const a=(arguments.length<=1?void 0:arguments[1])||{},K=`${this.service}/${z}`,v=this.errors[z],T=v?function(z,a){return z.replace(B,((z,K)=>{const v=a[K];return null!=v?String(v):`<${K}?>`}))}(v,a):"Error",m=`${this.serviceName}: ${T} (${K}).`;return new I(K,m,a)}}const B=/\{\$([^}]+)}/g;function x(z){for(const a in z)if(Object.prototype.hasOwnProperty.call(z,a))return!1;return!0}function Z(z,a){if(z===a)return!0;const K=Object.keys(z),v=Object.keys(a);for(const T of K){if(!v.includes(T))return!1;const K=z[T],m=a[T];if(y(K)&&y(m)){if(!Z(K,m))return!1}else if(K!==m)return!1}for(const T of v)if(!K.includes(T))return!1;return!0}function y(z){return null!==z&&"object"===typeof z}function i(z){const a=[];for(const[K,v]of Object.entries(z))Array.isArray(v)?v.forEach((z=>{a.push(encodeURIComponent(K)+"="+encodeURIComponent(z))})):a.push(encodeURIComponent(K)+"="+encodeURIComponent(v));return a.length?"&"+a.join("&"):""}function n(z){const a={};return z.replace(/^\?/,"").split("&").forEach((z=>{if(z){const[K,v]=z.split("=");a[decodeURIComponent(K)]=decodeURIComponent(v)}})),a}function X(z){const a=z.indexOf("?");if(!a)return"";const K=z.indexOf("#",a);return z.substring(a,K>0?K:void 0)}function P(z,a){const K=new J(z,a);return K.subscribe.bind(K)}class J{constructor(z,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then((()=>{z(this)})).catch((z=>{this.error(z)}))}next(z){this.forEachObserver((a=>{a.next(z)}))}error(z){this.forEachObserver((a=>{a.error(z)})),this.close(z)}complete(){this.forEachObserver((z=>{z.complete()})),this.close()}subscribe(z,a,K){let v;if(void 0===z&&void 0===a&&void 0===K)throw new Error("Missing Observer.");v=function(z,a){if("object"!==typeof z||null===z)return!1;for(const K of a)if(K in z&&"function"===typeof z[K])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:a,complete:K},void 0===v.next&&(v.next=o),void 0===v.error&&(v.error=o),void 0===v.complete&&(v.complete=o);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch(z){}})),this.observers.push(v),T}unsubscribeOne(z){void 0!==this.observers&&void 0!==this.observers[z]&&(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,z)}sendOne(z,a){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{a(this.observers[z])}catch(K){"undefined"!==typeof console&&console.error&&console.error(K)}}))}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function o(){}const N=1e3,A=2,g=144e5,d=.5;function t(z){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;const K=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N)*Math.pow(a,z),v=Math.round(d*K*(Math.random()-.5)*2);return Math.min(g,K+v)}function e(z){return z&&z._delegate?z._delegate:z}},10414:(z,a,K)=>{K.d(a,{b:()=>m.g,f:()=>Wz,i:()=>Q,k:()=>Kz,n:()=>vz,r:()=>zz,s:()=>jz,w:()=>az,x:()=>mz,y:()=>Tz,A:()=>pz,C:()=>Vz,G:()=>Gz,D:()=>lz,H:()=>Fz,L:()=>Cz,M:()=>cz,Q:()=>wz});var v=K(10421),T=K(10431),m=K(10427);let p,j;const s=new WeakMap,M=new WeakMap,r=new WeakMap,W=new WeakMap,F=new WeakMap;let G={get(z,a,K){if(z instanceof IDBTransaction){if("done"===a)return M.get(z);if("objectStoreNames"===a)return z.objectStoreNames||r.get(z);if("store"===a)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return c(z[a])},set:(z,a,K)=>(z[a]=K,!0),has:(z,a)=>z instanceof IDBTransaction&&("done"===a||"store"===a)||a in z};function l(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(z)?function(){for(var a=arguments.length,K=new Array(a),v=0;v<a;v++)K[v]=arguments[v];return z.apply(C(this),K),c(s.get(this))}:function(){for(var a=arguments.length,K=new Array(a),v=0;v<a;v++)K[v]=arguments[v];return c(z.apply(C(this),K))}:function(a){for(var K=arguments.length,v=new Array(K>1?K-1:0),T=1;T<K;T++)v[T-1]=arguments[T];const m=z.call(C(this),a,...v);return r.set(m,a.sort?a.sort():[a]),c(m)}}function V(z){return"function"===typeof z?l(z):(z instanceof IDBTransaction&&function(z){if(M.has(z))return;const a=new Promise(((a,K)=>{const v=()=>{z.removeEventListener("complete",T),z.removeEventListener("error",m),z.removeEventListener("abort",m)},T=()=>{a(),v()},m=()=>{K(z.error||new DOMException("AbortError","AbortError")),v()};z.addEventListener("complete",T),z.addEventListener("error",m),z.addEventListener("abort",m)}));M.set(z,a)}(z),a=z,(p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((z=>a instanceof z))?new Proxy(z,G):z);var a}function c(z){if(z instanceof IDBRequest)return function(z){const a=new Promise(((a,K)=>{const v=()=>{z.removeEventListener("success",T),z.removeEventListener("error",m)},T=()=>{a(c(z.result)),v()},m=()=>{K(z.error),v()};z.addEventListener("success",T),z.addEventListener("error",m)}));return a.then((a=>{a instanceof IDBCursor&&s.set(a,z)})).catch((()=>{})),F.set(a,z),a}(z);if(W.has(z))return W.get(z);const a=V(z);return a!==z&&(W.set(z,a),F.set(a,z)),a}const C=z=>F.get(z);const w=["get","getKey","getAll","getAllKeys","count"],H=["put","add","delete","clear"],f=new Map;function Y(z,a){if(!(z instanceof IDBDatabase)||a in z||"string"!==typeof a)return;if(f.get(a))return f.get(a);const K=a.replace(/FromIndex$/,""),v=a!==K,T=H.includes(K);if(!(K in(v?IDBIndex:IDBObjectStore).prototype)||!T&&!w.includes(K))return;const m=async function(z){const a=this.transaction(z,T?"readwrite":"readonly");let m=a.store;for(var p=arguments.length,j=new Array(p>1?p-1:0),s=1;s<p;s++)j[s-1]=arguments[s];return v&&(m=m.index(j.shift())),(await Promise.all([m[K](...j),T&&a.done]))[0]};return f.set(a,m),m}G=(z=>({...z,get:(a,K,v)=>Y(a,K)||z.get(a,K,v),has:(a,K)=>!!Y(a,K)||z.has(a,K)}))(G);class I{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map((z=>{if(function(z){const a=z.getComponent();return"VERSION"===(null===a||void 0===a?void 0:a.type)}(z)){const a=z.getImmediate();return`${a.library}/${a.version}`}return null})).filter((z=>z)).join(" ")}}const q="@firebase/app",B="0.9.13",x=new T.f("@firebase/app"),Z="@firebase/app-compat",y="@firebase/analytics-compat",i="@firebase/analytics",n="@firebase/app-check-compat",X="@firebase/app-check",P="@firebase/auth",J="@firebase/auth-compat",o="@firebase/database",N="@firebase/database-compat",A="@firebase/functions",g="@firebase/functions-compat",d="@firebase/installations",t="@firebase/installations-compat",e="@firebase/messaging",L="@firebase/messaging-compat",E="@firebase/performance",b="@firebase/performance-compat",D="@firebase/remote-config",u="@firebase/remote-config-compat",U="@firebase/storage",R="@firebase/storage-compat",k="@firebase/firestore",h="@firebase/firestore-compat",S="firebase",Q="[DEFAULT]",O={[q]:"fire-core",[Z]:"fire-core-compat",[i]:"fire-analytics",[y]:"fire-analytics-compat",[X]:"fire-app-check",[n]:"fire-app-check-compat",[P]:"fire-auth",[J]:"fire-auth-compat",[o]:"fire-rtdb",[N]:"fire-rtdb-compat",[A]:"fire-fn",[g]:"fire-fn-compat",[d]:"fire-iid",[t]:"fire-iid-compat",[e]:"fire-fcm",[L]:"fire-fcm-compat",[E]:"fire-perf",[b]:"fire-perf-compat",[D]:"fire-rc",[u]:"fire-rc-compat",[U]:"fire-gcs",[R]:"fire-gcs-compat",[k]:"fire-fst",[h]:"fire-fst-compat","fire-js":"fire-js",[S]:"fire-js-all"},zz=new Map,az=new Map;function Kz(z,a){try{z.container.af(a)}catch(K){x.debug(`Component ${a.name} failed to register with FirebaseApp ${z.name}`,K)}}function vz(z,a){z.container.addOrOverwriteComponent(a)}function Tz(z){const a=z.name;if(az.has(a))return x.debug(`There were multiple attempts to register component ${a}.`),!1;az.set(a,z);for(const K of zz.values())Kz(K,z);return!0}function mz(z,a){const K=z.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),z.container.getProvider(a)}function pz(z,a){let K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;mz(z,a).clearInstance(K)}function jz(){az.clear()}const sz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Mz=new m.e("app","Firebase",sz);class rz{constructor(z,a,K){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=K,this.container.af(new v.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Mz.create("app-deleted",{appName:this._name})}}const Wz="9.23.0";function Fz(z){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},K=z;if("object"!==typeof a){a={name:a}}const T=Object.assign({name:Q,automaticDataCollectionEnabled:!1},a),p=T.name;if("string"!==typeof p||!p)throw Mz.create("bad-app-name",{appName:String(p)});if(K||(K=(0,m.y)()),!K)throw Mz.create("no-options");const j=zz.get(p);if(j){if((0,m.w)(K,j.options)&&(0,m.w)(T,j.config))return j;throw Mz.create("duplicate-app",{appName:p})}const s=new v.d(p);for(const v of az.values())s.af(v);const M=new rz(K,T,s);return zz.set(p,M),M}function Gz(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const a=zz.get(z);if(!a&&z===Q&&(0,m.y)())return Fz();if(!a)throw Mz.create("no-app",{appName:z});return a}function lz(){return Array.from(zz.values())}async function Vz(z){const a=z.name;zz.has(a)&&(zz.delete(a),await Promise.all(z.container.getProviders().map((z=>z.delete()))),z.isDeleted=!0)}function cz(z,a,K){var T;let m=null!==(T=O[z])&&void 0!==T?T:z;K&&(m+=`-${K}`);const p=m.match(/\s|\//),j=a.match(/\s|\//);if(p||j){const z=[`Unable to register library "${m}" with version "${a}":`];return p&&z.push(`library name "${m}" contains illegal characters (whitespace or "/")`),p&&j&&z.push("and"),j&&z.push(`version name "${a}" contains illegal characters (whitespace or "/")`),void x.warn(z.join(" "))}Tz(new v.h(`${m}-version`,(()=>({library:m,version:a})),"VERSION"))}function Cz(z,a){if(null!==z&&"function"!==typeof z)throw Mz.create("invalid-log-argument");(0,T.j)(z,a)}function wz(z){(0,T.g)(z)}const Hz="firebase-heartbeat-store";let fz=null;function Yz(){return fz||(fz=function(z,a){let{blocked:K,upgrade:v,blocking:T,terminated:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const p=indexedDB.open(z,a),j=c(p);return v&&p.addEventListener("upgradeneeded",(z=>{v(c(p.result),z.oldVersion,z.newVersion,c(p.transaction),z)})),K&&p.addEventListener("blocked",(z=>K(z.oldVersion,z.newVersion,z))),j.then((z=>{m&&z.addEventListener("close",(()=>m())),T&&z.addEventListener("versionchange",(z=>T(z.oldVersion,z.newVersion,z)))})).catch((()=>{})),j}("firebase-heartbeat-database",1,{upgrade:(z,a)=>{if(0===a)z.createObjectStore(Hz)}}).catch((z=>{throw Mz.create("idb-open",{originalErrorMessage:z.message})}))),fz}async function Iz(z,a){try{const K=(await Yz()).transaction(Hz,"readwrite"),v=K.objectStore(Hz);await v.put(a,qz(z)),await K.done}catch(K){if(K instanceof m.g)x.warn(K.message);else{const z=Mz.create("idb-set",{originalErrorMessage:null===K||void 0===K?void 0:K.message});x.warn(z.message)}}}function qz(z){return`${z.name}!${z.options.appId}`}class Bz{constructor(z){this.container=z,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this.Ei=new Zz(a),this._heartbeatsCachePromise=this.Ei.read().then((z=>(this._heartbeatsCache=z,z)))}async triggerHeartbeat(){const z=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xz();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((z=>z.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:z}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((z=>{const a=new Date(z.date).valueOf();return Date.now()-a<=2592e6})),this.Ei.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const z=xz(),{heartbeatsToSend:a,unsentEntries:K}=function(z){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const K=[];let v=z.slice();for(const T of z){const z=K.find((z=>z.agent===T.agent));if(z){if(z.dates.push(T.date),yz(K)>a){z.dates.pop();break}}else if(K.push({agent:T.agent,dates:[T.date]}),yz(K)>a){K.pop();break}v=v.slice(1)}return{heartbeatsToSend:K,unsentEntries:v}}(this._heartbeatsCache.heartbeats),v=(0,m.n)(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=z,K.length>0?(this._heartbeatsCache.heartbeats=K,await this.Ei.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ei.overwrite(this._heartbeatsCache)),v}}function xz(){return(new Date).toISOString().substring(0,10)}class Zz{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,m.S)()&&(0,m.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(z){try{const a=await Yz();return await a.transaction(Hz).objectStore(Hz).get(qz(z))}catch(a){if(a instanceof m.g)x.warn(a.message);else{const z=Mz.create("idb-get",{originalErrorMessage:null===a||void 0===a?void 0:a.message});x.warn(z.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(z){var a;if(await this._canUseIndexedDBPromise){const K=await this.read();return Iz(this.app,{lastSentHeartbeatDate:null!==(a=z.lastSentHeartbeatDate)&&void 0!==a?a:K.lastSentHeartbeatDate,heartbeats:z.heartbeats})}}async add(z){var a;if(await this._canUseIndexedDBPromise){const K=await this.read();return Iz(this.app,{lastSentHeartbeatDate:null!==(a=z.lastSentHeartbeatDate)&&void 0!==a?a:K.lastSentHeartbeatDate,heartbeats:[...K.heartbeats,...z.heartbeats]})}}}function yz(z){return(0,m.n)(JSON.stringify({version:2,heartbeats:z})).length}var iz;iz="",Tz(new v.h("platform-logger",(z=>new I(z)),"PRIVATE")),Tz(new v.h("heartbeat",(z=>new Bz(z)),"PRIVATE")),cz(q,B,iz),cz(q,B,"esm2017"),cz("fire-js","")},10421:(z,a,K)=>{K.d(a,{d:()=>j,h:()=>T});var v=K(10427);class T{constructor(z,a,K){this.name=z,this.instanceFactory=a,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const m="[DEFAULT]";class p{constructor(z,a){this.name=z,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const a=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(a)){const z=new v.c;if(this.instancesDeferred.set(a,z),this.isInitialized(a)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:a});K&&z.resolve(K)}catch(K){}}return this.instancesDeferred.get(a).promise}getImmediate(z){var a;const K=this.normalizeInstanceIdentifier(null===z||void 0===z?void 0:z.identifier),v=null!==(a=null===z||void 0===z?void 0:z.optional)&&void 0!==a&&a;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(v)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(T){if(v)return null;throw T}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:m})}catch(a){}for(const[z,K]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(z);try{const z=this.getOrInitializeService({instanceIdentifier:v});K.resolve(z)}catch(a){}}}}clearInstance(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}async delete(){const z=Array.from(this.instances.values());await Promise.all([...z.filter((z=>"INTERNAL"in z)).map((z=>z.INTERNAL.delete())),...z.filter((z=>"_delete"in z)).map((z=>z._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instances.has(z)}getOptions(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instancesOptions.get(z)||{}}initialize(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:a={}}=z,K=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const v=this.getOrInitializeService({instanceIdentifier:K,options:a});for(const[T,m]of this.instancesDeferred.entries()){K===this.normalizeInstanceIdentifier(T)&&m.resolve(v)}return v}ei(z,a){var K;const v=this.normalizeInstanceIdentifier(a),T=null!==(K=this.onInitCallbacks.get(v))&&void 0!==K?K:new Set;T.add(z),this.onInitCallbacks.set(v,T);const m=this.instances.get(v);return m&&z(m,v),()=>{T.delete(z)}}invokeOnInitCallbacks(z,a){const K=this.onInitCallbacks.get(a);if(K)for(const T of K)try{T(z,a)}catch(v){}}getOrInitializeService(z){let{instanceIdentifier:a,options:K={}}=z,v=this.instances.get(a);if(!v&&this.component&&(v=this.component.instanceFactory(this.container,{instanceIdentifier:(T=a,T===m?void 0:T),options:K}),this.instances.set(a,v),this.instancesOptions.set(a,K),this.invokeOnInitCallbacks(v,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,v)}catch(p){}var T;return v||null}normalizeInstanceIdentifier(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.component?this.component.multipleInstances?z:m:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(z){this.name=z,this.providers=new Map}af(z){const a=this.getProvider(z.name);if(a.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);a.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.af(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const a=new p(z,this);return this.providers.set(z,a),a}getProviders(){return Array.from(this.providers.values())}}},10431:(z,a,K)=>{K.d(a,{b:()=>T,f:()=>M,g:()=>r,j:()=>W});const v=[];var T;!function(z){z[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT"}(T||(T={}));const m={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},p=T.INFO,j={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},s=function(z,a){if(a<z.logLevel)return;const K=(new Date).toISOString(),v=j[a];if(!v)throw new Error(`Attempted to log a message with an invalid logType (value: ${a})`);for(var T=arguments.length,m=new Array(T>2?T-2:0),p=2;p<T;p++)m[p-2]=arguments[p];console[v](`[${K}]  ${z.name}:`,...m)};class M{constructor(z){this.name=z,this._logLevel=p,this._logHandler=s,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in T))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"===typeof z?m[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!==typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(){for(var z=arguments.length,a=new Array(z),K=0;K<z;K++)a[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...a),this._logHandler(this,T.DEBUG,...a)}log(){for(var z=arguments.length,a=new Array(z),K=0;K<z;K++)a[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...a),this._logHandler(this,T.VERBOSE,...a)}info(){for(var z=arguments.length,a=new Array(z),K=0;K<z;K++)a[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,T.INFO,...a),this._logHandler(this,T.INFO,...a)}warn(){for(var z=arguments.length,a=new Array(z),K=0;K<z;K++)a[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,T.WARN,...a),this._logHandler(this,T.WARN,...a)}error(){for(var z=arguments.length,a=new Array(z),K=0;K<z;K++)a[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,T.ERROR,...a),this._logHandler(this,T.ERROR,...a)}}function r(z){v.forEach((a=>{a.setLogLevel(z)}))}function W(z,a){for(const K of v){let v=null;a&&a.level&&(v=m[a.level]),K.userLogHandler=null===z?null:function(a,K){for(var m=arguments.length,p=new Array(m>2?m-2:0),j=2;j<m;j++)p[j-2]=arguments[j];const s=p.map((z=>{if(null==z)return null;if("string"===typeof z)return z;if("number"===typeof z||"boolean"===typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch(a){return null}})).filter((z=>z)).join(" ");K>=(null!==v&&void 0!==v?v:a.logLevel)&&z({level:T[K].toLowerCase(),message:s,args:p,type:a.name})}}}}}]);