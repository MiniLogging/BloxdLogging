/*! For license information please see jt0ced8.5.ab5c1bc5.chunk.js.LICENSE.txt */
"use strict";(self.isj1uwvwrek=self.isj1uwvwrek||[]).push([[5],{12770:(I,x,L)=>{L.d(x,{B:()=>K,D:()=>Q,H:()=>W,I:()=>e,M:()=>r,O:()=>v,Q:()=>H,S:()=>R,V:()=>U,W:()=>q,X:()=>z,Y:()=>s,Z:()=>M,ab:()=>d,bb:()=>y,d:()=>g,g:()=>t,k:()=>Z,n:()=>T,r:()=>p,v:()=>Y,w:()=>D,x:()=>u,y:()=>n});const F=function(I){const x=[];let L=0;for(let F=0;F<I.length;F++){let X=I.charCodeAt(F);X<128?x[L++]=X:X<2048?(x[L++]=X>>6|192,x[L++]=63&X|128):55296===(64512&X)&&F+1<I.length&&56320===(64512&I.charCodeAt(F+1))?(X=65536+((1023&X)<<10)+(1023&I.charCodeAt(++F)),x[L++]=X>>18|240,x[L++]=X>>12&63|128,x[L++]=X>>6&63|128,x[L++]=63&X|128):(x[L++]=X>>12|224,x[L++]=X>>6&63|128,x[L++]=63&X|128)}return x},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(I,x){if(!Array.isArray(I))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let X=0;X<I.length;X+=3){const x=I[X],G=X+1<I.length,Y=G?I[X+1]:0,p=X+2<I.length,B=p?I[X+2]:0,l=x>>2,W=(3&x)<<4|Y>>4;let Q=(15&Y)<<2|B>>6,e=63&B;p||(e=64,G||(Q=64)),F.push(L[l],L[W],L[Q],L[e])}return F.join("")},encodeString(I,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(I):this.encodeByteArray(F(I),x)},decodeString(I,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(I):function(I){const x=[];let L=0,F=0;for(;L<I.length;){const X=I[L++];if(X<128)x[F++]=String.fromCharCode(X);else if(X>191&&X<224){const G=I[L++];x[F++]=String.fromCharCode((31&X)<<6|63&G)}else if(X>239&&X<365){const G=((7&X)<<18|(63&I[L++])<<12|(63&I[L++])<<6|63&I[L++])-65536;x[F++]=String.fromCharCode(55296+(G>>10)),x[F++]=String.fromCharCode(56320+(1023&G))}else{const G=I[L++],Y=I[L++];x[F++]=String.fromCharCode((15&X)<<12|(63&G)<<6|63&Y)}}return x.join("")}(this.decodeStringToByteArray(I,x))},decodeStringToByteArray(I,x){this.init_();const L=x?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let X=0;X<I.length;){const x=L[I.charAt(X++)],Y=X<I.length?L[I.charAt(X)]:0;++X;const p=X<I.length?L[I.charAt(X)]:64;++X;const B=X<I.length?L[I.charAt(X)]:64;if(++X,null==x||null==Y||null==p||null==B)throw new G;const l=x<<2|Y>>4;if(F.push(l),64!==p){const I=Y<<4&240|p>>2;if(F.push(I),64!==B){const I=p<<6&192|B;F.push(I)}}}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let I=0;I<this.ENCODED_VALS.length;I++)this.byteToCharMap_[I]=this.ENCODED_VALS.charAt(I),this.charToByteMap_[this.byteToCharMap_[I]]=I,this.byteToCharMapWebSafe_[I]=this.ENCODED_VALS_WEBSAFE.charAt(I),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[I]]=I,I>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(I)]=I,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(I)]=I)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(I){return function(I){const x=F(I);return X.encodeByteArray(x,!0)}(I).replace(/\./g,"")},p=function(I){try{return X.decodeString(I,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};const B=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof L.g)return L.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return B()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let I;try{I=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(L){return}const x=I&&p(I[1]);return x&&JSON.parse(x)})()}catch(I){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${I}`)}},W=I=>{var x,L;return null===(L=null===(x=l())||void 0===x?void 0:x.emulatorHosts)||void 0===L?void 0:L[I]},Q=()=>{var I;return null===(I=l())||void 0===I?void 0:I.config},e=I=>{var x;return null===(x=l())||void 0===x?void 0:x[`_${I}`]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((I,x)=>{this.resolve=I,this.reject=x}))}wrapCallback(I){return(x,L)=>{x?this.reject(x):this.resolve(L),"function"===typeof I&&(this.promise.catch((()=>{})),1===I.length?I(x):I(x,L))}}}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function H(){const I="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof I&&void 0!==I.id}function s(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function U(){const I=v();return I.indexOf("MSIE ")>=0||I.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(I){return!1}}function y(){return new Promise(((I,x)=>{try{let L=!0;const F="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(F);X.onsuccess=()=>{X.result.close(),L||self.indexedDB.deleteDatabase(F),I(!0)},X.onupgradeneeded=()=>{L=!1},X.onerror=()=>{var I;x((null===(I=X.error)||void 0===I?void 0:I.message)||"")}}catch(L){x(L)}}))}function T(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Z extends Error{constructor(I,x,L){super(x),this.code=I,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t.prototype.create)}}class t{constructor(I,x,L){this.service=I,this.serviceName=x,this.errors=L}create(I){const x=(arguments.length<=1?void 0:arguments[1])||{},L=`${this.service}/${I}`,F=this.errors[I],X=F?function(I,x){return I.replace(f,((I,L)=>{const F=x[L];return null!=F?String(F):`<${L}?>`}))}(F,x):"Error",G=`${this.serviceName}: ${X} (${L}).`;return new Z(L,G,x)}}const f=/\{\$([^}]+)}/g;function R(I){for(const x in I)if(Object.prototype.hasOwnProperty.call(I,x))return!1;return!0}function n(I,x){if(I===x)return!0;const L=Object.keys(I),F=Object.keys(x);for(const X of L){if(!F.includes(X))return!1;const L=I[X],G=x[X];if(P(L)&&P(G)){if(!n(L,G))return!1}else if(L!==G)return!1}for(const X of F)if(!L.includes(X))return!1;return!0}function P(I){return null!==I&&"object"===typeof I}function d(I){const x=[];for(const[L,F]of Object.entries(I))Array.isArray(F)?F.forEach((I=>{x.push(encodeURIComponent(L)+"="+encodeURIComponent(I))})):x.push(encodeURIComponent(L)+"="+encodeURIComponent(F));return x.length?"&"+x.join("&"):""}function M(I){const x={};return I.replace(/^\?/,"").split("&").forEach((I=>{if(I){const[L,F]=I.split("=");x[decodeURIComponent(L)]=decodeURIComponent(F)}})),x}function K(I){const x=I.indexOf("?");if(!x)return"";const L=I.indexOf("#",x);return I.substring(x,L>0?L:void 0)}function u(I,x){const L=new A(I,x);return L.subscribe.bind(L)}class A{constructor(I,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then((()=>{I(this)})).catch((I=>{this.error(I)}))}next(I){this.forEachObserver((x=>{x.next(I)}))}error(I){this.forEachObserver((x=>{x.error(I)})),this.close(I)}complete(){this.forEachObserver((I=>{I.complete()})),this.close()}subscribe(I,x,L){let F;if(void 0===I&&void 0===x&&void 0===L)throw new Error("Missing Observer.");F=function(I,x){if("object"!==typeof I||null===I)return!1;for(const L of x)if(L in I&&"function"===typeof I[L])return!0;return!1}(I,["next","error","complete"])?I:{next:I,error:x,complete:L},void 0===F.next&&(F.next=mI),void 0===F.error&&(F.error=mI),void 0===F.complete&&(F.complete=mI);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch(I){}})),this.observers.push(F),X}unsubscribeOne(I){void 0!==this.observers&&void 0!==this.observers[I]&&(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(I){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,I)}sendOne(I,x){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[I])try{x(this.observers[I])}catch(L){"undefined"!==typeof console&&console.error&&console.error(L)}}))}close(I){this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function mI(){}const O=1e3,w=2,k=144e5,a=.5;function D(I){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;const L=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:O)*Math.pow(x,I),F=Math.round(a*L*(Math.random()-.5)*2);return Math.min(k,L+F)}function r(I){return I&&I._delegate?I._delegate:I}},12765:(I,x,L)=>{L.d(x,{c:()=>G.k,e:()=>QI,h:()=>C,i:()=>LI,j:()=>FI,l:()=>II,p:()=>pI,t:()=>xI,v:()=>GI,y:()=>XI,C:()=>YI,G:()=>zI,N:()=>gI,K:()=>vI,R:()=>eI,T:()=>sI,X:()=>HI,_:()=>UI});var F=L(12768),X=L(12774),G=L(12770);let Y,p;const B=new WeakMap,l=new WeakMap,W=new WeakMap,Q=new WeakMap,e=new WeakMap;let g={get(I,x,L){if(I instanceof IDBTransaction){if("done"===x)return l.get(I);if("objectStoreNames"===x)return I.objectStoreNames||W.get(I);if("store"===x)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return H(I[x])},set:(I,x,L)=>(I[x]=L,!0),has:(I,x)=>I instanceof IDBTransaction&&("done"===x||"store"===x)||x in I};function v(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(p||(p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(I)?function(){for(var x=arguments.length,L=new Array(x),F=0;F<x;F++)L[F]=arguments[F];return I.apply(s(this),L),H(B.get(this))}:function(){for(var x=arguments.length,L=new Array(x),F=0;F<x;F++)L[F]=arguments[F];return H(I.apply(s(this),L))}:function(x){for(var L=arguments.length,F=new Array(L>1?L-1:0),X=1;X<L;X++)F[X-1]=arguments[X];const G=I.call(s(this),x,...F);return W.set(G,x.sort?x.sort():[x]),H(G)}}function z(I){return"function"===typeof I?v(I):(I instanceof IDBTransaction&&function(I){if(l.has(I))return;const x=new Promise(((x,L)=>{const F=()=>{I.removeEventListener("complete",X),I.removeEventListener("error",G),I.removeEventListener("abort",G)},X=()=>{x(),F()},G=()=>{L(I.error||new DOMException("AbortError","AbortError")),F()};I.addEventListener("complete",X),I.addEventListener("error",G),I.addEventListener("abort",G)}));l.set(I,x)}(I),x=I,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((I=>x instanceof I))?new Proxy(I,g):I);var x}function H(I){if(I instanceof IDBRequest)return function(I){const x=new Promise(((x,L)=>{const F=()=>{I.removeEventListener("success",X),I.removeEventListener("error",G)},X=()=>{x(H(I.result)),F()},G=()=>{L(I.error),F()};I.addEventListener("success",X),I.addEventListener("error",G)}));return x.then((x=>{x instanceof IDBCursor&&B.set(x,I)})).catch((()=>{})),e.set(x,I),x}(I);if(Q.has(I))return Q.get(I);const x=z(I);return x!==I&&(Q.set(I,x),e.set(x,I)),x}const s=I=>e.get(I);const U=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],y=new Map;function T(I,x){if(!(I instanceof IDBDatabase)||x in I||"string"!==typeof x)return;if(y.get(x))return y.get(x);const L=x.replace(/FromIndex$/,""),F=x!==L,X=q.includes(L);if(!(L in(F?IDBIndex:IDBObjectStore).prototype)||!X&&!U.includes(L))return;const G=async function(I){const x=this.transaction(I,X?"readwrite":"readonly");let G=x.store;for(var Y=arguments.length,p=new Array(Y>1?Y-1:0),B=1;B<Y;B++)p[B-1]=arguments[B];return F&&(G=G.index(p.shift())),(await Promise.all([G[L](...p),X&&x.done]))[0]};return y.set(x,G),G}g=(I=>({...I,get:(x,L,F)=>T(x,L)||I.get(x,L,F),has:(x,L)=>!!T(x,L)||I.has(x,L)}))(g);class Z{constructor(I){this.container=I}getPlatformInfoString(){return this.container.getProviders().map((I=>{if(function(I){const x=I.getComponent();return"VERSION"===(null===x||void 0===x?void 0:x.type)}(I)){const x=I.getImmediate();return`${x.library}/${x.version}`}return null})).filter((I=>I)).join(" ")}}const t="@firebase/app",f="0.9.13",R=new X.c("@firebase/app"),n="@firebase/app-compat",P="@firebase/analytics-compat",d="@firebase/analytics",M="@firebase/app-check-compat",K="@firebase/app-check",u="@firebase/auth",A="@firebase/auth-compat",mI="@firebase/database",O="@firebase/database-compat",w="@firebase/functions",k="@firebase/functions-compat",a="@firebase/installations",D="@firebase/installations-compat",r="@firebase/messaging",N="@firebase/messaging-compat",S="@firebase/performance",c="@firebase/performance-compat",o="@firebase/remote-config",J="@firebase/remote-config-compat",h="@firebase/storage",E="@firebase/storage-compat",i="@firebase/firestore",V="@firebase/firestore-compat",j="firebase",C="[DEFAULT]",b={[t]:"fire-core",[n]:"fire-core-compat",[d]:"fire-analytics",[P]:"fire-analytics-compat",[K]:"fire-app-check",[M]:"fire-app-check-compat",[u]:"fire-auth",[A]:"fire-auth-compat",[mI]:"fire-rtdb",[O]:"fire-rtdb-compat",[w]:"fire-fn",[k]:"fire-fn-compat",[a]:"fire-iid",[D]:"fire-iid-compat",[r]:"fire-fcm",[N]:"fire-fcm-compat",[S]:"fire-perf",[c]:"fire-perf-compat",[o]:"fire-rc",[J]:"fire-rc-compat",[h]:"fire-gcs",[E]:"fire-gcs-compat",[i]:"fire-fst",[V]:"fire-fst-compat","fire-js":"fire-js",[j]:"fire-js-all"},II=new Map,xI=new Map;function LI(I,x){try{I.container.yl(x)}catch(L){R.debug(`Component ${x.name} failed to register with FirebaseApp ${I.name}`,L)}}function FI(I,x){I.container.addOrOverwriteComponent(x)}function XI(I){const x=I.name;if(xI.has(x))return R.debug(`There were multiple attempts to register component ${x}.`),!1;xI.set(x,I);for(const L of II.values())LI(L,I);return!0}function GI(I,x){const L=I.container.getProvider("heartbeat").getImmediate({optional:!0});return L&&L.triggerHeartbeat(),I.container.getProvider(x)}function YI(I,x){let L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;GI(I,x).clearInstance(L)}function pI(){xI.clear()}const BI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lI=new G.g("app","Firebase",BI);class WI{constructor(I,x,L){this._isDeleted=!1,this._options=Object.assign({},I),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=L,this.container.yl(new F.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this.checkDestroyed(),this._automaticDataCollectionEnabled=I}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(I){this._isDeleted=I}checkDestroyed(){if(this.isDeleted)throw lI.create("app-deleted",{appName:this._name})}}const QI="9.23.0";function eI(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=I;if("object"!==typeof x){x={name:x}}const X=Object.assign({name:C,automaticDataCollectionEnabled:!1},x),Y=X.name;if("string"!==typeof Y||!Y)throw lI.create("bad-app-name",{appName:String(Y)});if(L||(L=(0,G.D)()),!L)throw lI.create("no-options");const p=II.get(Y);if(p){if((0,G.y)(L,p.options)&&(0,G.y)(X,p.config))return p;throw lI.create("duplicate-app",{appName:Y})}const B=new F.e(Y);for(const F of xI.values())B.yl(F);const l=new WI(L,X,B);return II.set(Y,l),l}function gI(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;const x=II.get(I);if(!x&&I===C&&(0,G.D)())return eI();if(!x)throw lI.create("no-app",{appName:I});return x}function vI(){return Array.from(II.values())}async function zI(I){const x=I.name;II.has(x)&&(II.delete(x),await Promise.all(I.container.getProviders().map((I=>I.delete()))),I.isDeleted=!0)}function HI(I,x,L){var X;let G=null!==(X=b[I])&&void 0!==X?X:I;L&&(G+=`-${L}`);const Y=G.match(/\s|\//),p=x.match(/\s|\//);if(Y||p){const I=[`Unable to register library "${G}" with version "${x}":`];return Y&&I.push(`library name "${G}" contains illegal characters (whitespace or "/")`),Y&&p&&I.push("and"),p&&I.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void R.warn(I.join(" "))}XI(new F.g(`${G}-version`,(()=>({library:G,version:x})),"VERSION"))}function sI(I,x){if(null!==I&&"function"!==typeof I)throw lI.create("invalid-log-argument");(0,X.f)(I,x)}function UI(I){(0,X.e)(I)}const qI="firebase-heartbeat-store";let yI=null;function TI(){return yI||(yI=function(I,x){let{blocked:L,upgrade:F,blocking:X,terminated:G}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(I,x),p=H(Y);return F&&Y.addEventListener("upgradeneeded",(I=>{F(H(Y.result),I.oldVersion,I.newVersion,H(Y.transaction),I)})),L&&Y.addEventListener("blocked",(I=>L(I.oldVersion,I.newVersion,I))),p.then((I=>{G&&I.addEventListener("close",(()=>G())),X&&I.addEventListener("versionchange",(I=>X(I.oldVersion,I.newVersion,I)))})).catch((()=>{})),p}("firebase-heartbeat-database",1,{upgrade:(I,x)=>{if(0===x)I.createObjectStore(qI)}}).catch((I=>{throw lI.create("idb-open",{originalErrorMessage:I.message})}))),yI}async function ZI(I,x){try{const L=(await TI()).transaction(qI,"readwrite"),F=L.objectStore(qI);await F.put(x,tI(I)),await L.done}catch(L){if(L instanceof G.k)R.warn(L.message);else{const I=lI.create("idb-set",{originalErrorMessage:null===L||void 0===L?void 0:L.message});R.warn(I.message)}}}function tI(I){return`${I.name}!${I.options.appId}`}class fI{constructor(I){this.container=I,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this.jQ=new nI(x),this._heartbeatsCachePromise=this.jQ.read().then((I=>(this._heartbeatsCache=I,I)))}async triggerHeartbeat(){const I=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),x=RI();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==x&&!this._heartbeatsCache.heartbeats.some((I=>I.date===x)))return this._heartbeatsCache.heartbeats.push({date:x,agent:I}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((I=>{const x=new Date(I.date).valueOf();return Date.now()-x<=2592e6})),this.jQ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const I=RI(),{heartbeatsToSend:x,unsentEntries:L}=function(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const L=[];let F=I.slice();for(const X of I){const I=L.find((I=>I.agent===X.agent));if(I){if(I.dates.push(X.date),PI(L)>x){I.dates.pop();break}}else if(L.push({agent:X.agent,dates:[X.date]}),PI(L)>x){L.pop();break}F=F.slice(1)}return{heartbeatsToSend:L,unsentEntries:F}}(this._heartbeatsCache.heartbeats),F=(0,G.v)(JSON.stringify({version:2,heartbeats:x}));return this._heartbeatsCache.lastSentHeartbeatDate=I,L.length>0?(this._heartbeatsCache.heartbeats=L,await this.jQ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.jQ.overwrite(this._heartbeatsCache)),F}}function RI(){return(new Date).toISOString().substring(0,10)}class nI{constructor(I){this.app=I,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,G.W)()&&(0,G.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(I){try{const x=await TI();return await x.transaction(qI).objectStore(qI).get(tI(I))}catch(x){if(x instanceof G.k)R.warn(x.message);else{const I=lI.create("idb-get",{originalErrorMessage:null===x||void 0===x?void 0:x.message});R.warn(I.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(I){var x;if(await this._canUseIndexedDBPromise){const L=await this.read();return ZI(this.app,{lastSentHeartbeatDate:null!==(x=I.lastSentHeartbeatDate)&&void 0!==x?x:L.lastSentHeartbeatDate,heartbeats:I.heartbeats})}}async add(I){var x;if(await this._canUseIndexedDBPromise){const L=await this.read();return ZI(this.app,{lastSentHeartbeatDate:null!==(x=I.lastSentHeartbeatDate)&&void 0!==x?x:L.lastSentHeartbeatDate,heartbeats:[...L.heartbeats,...I.heartbeats]})}}}function PI(I){return(0,G.v)(JSON.stringify({version:2,heartbeats:I})).length}var dI;dI="",XI(new F.g("platform-logger",(I=>new Z(I)),"PRIVATE")),XI(new F.g("heartbeat",(I=>new fI(I)),"PRIVATE")),HI(t,f,dI),HI(t,f,"esm2017"),HI("fire-js","")},12768:(I,x,L)=>{L.d(x,{e:()=>p,g:()=>X});var F=L(12770);class X{constructor(I,x,L){this.name=I,this.instanceFactory=x,this.type=L,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(I){return this.instantiationMode=I,this}setMultipleInstances(I){return this.multipleInstances=I,this}setServiceProps(I){return this.serviceProps=I,this}setInstanceCreatedCallback(I){return this.onInstanceCreated=I,this}}const G="[DEFAULT]";class Y{constructor(I,x){this.name=I,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(I){const x=this.normalizeInstanceIdentifier(I);if(!this.instancesDeferred.has(x)){const I=new F.d;if(this.instancesDeferred.set(x,I),this.isInitialized(x)||this.shouldAutoInitialize())try{const L=this.getOrInitializeService({instanceIdentifier:x});L&&I.resolve(L)}catch(L){}}return this.instancesDeferred.get(x).promise}getImmediate(I){var x;const L=this.normalizeInstanceIdentifier(null===I||void 0===I?void 0:I.identifier),F=null!==(x=null===I||void 0===I?void 0:I.optional)&&void 0!==x&&x;if(!this.isInitialized(L)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:L})}catch(X){if(F)return null;throw X}}getComponent(){return this.component}setComponent(I){if(I.name!==this.name)throw Error(`Mismatching Component ${I.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=I,this.shouldAutoInitialize()){if(function(I){return"EAGER"===I.instantiationMode}(I))try{this.getOrInitializeService({instanceIdentifier:G})}catch(x){}for(const[I,L]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(I);try{const I=this.getOrInitializeService({instanceIdentifier:F});L.resolve(I)}catch(x){}}}}clearInstance(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;this.instancesDeferred.delete(I),this.instancesOptions.delete(I),this.instances.delete(I)}async delete(){const I=Array.from(this.instances.values());await Promise.all([...I.filter((I=>"INTERNAL"in I)).map((I=>I.INTERNAL.delete())),...I.filter((I=>"_delete"in I)).map((I=>I._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instances.has(I)}getOptions(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instancesOptions.get(I)||{}}initialize(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:x={}}=I,L=this.normalizeInstanceIdentifier(I.instanceIdentifier);if(this.isInitialized(L))throw Error(`${this.name}(${L}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:L,options:x});for(const[X,G]of this.instancesDeferred.entries()){L===this.normalizeInstanceIdentifier(X)&&G.resolve(F)}return F}dQ(I,x){var L;const F=this.normalizeInstanceIdentifier(x),X=null!==(L=this.onInitCallbacks.get(F))&&void 0!==L?L:new Set;X.add(I),this.onInitCallbacks.set(F,X);const G=this.instances.get(F);return G&&I(G,F),()=>{X.delete(I)}}invokeOnInitCallbacks(I,x){const L=this.onInitCallbacks.get(x);if(L)for(const X of L)try{X(I,x)}catch(F){}}getOrInitializeService(I){let{instanceIdentifier:x,options:L={}}=I,F=this.instances.get(x);if(!F&&this.component&&(F=this.component.instanceFactory(this.container,{instanceIdentifier:(X=x,X===G?void 0:X),options:L}),this.instances.set(x,F),this.instancesOptions.set(x,L),this.invokeOnInitCallbacks(F,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,F)}catch(Y){}var X;return F||null}normalizeInstanceIdentifier(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.component?this.component.multipleInstances?I:G:I}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class p{constructor(I){this.name=I,this.providers=new Map}yl(I){const x=this.getProvider(I.name);if(x.isComponentSet())throw new Error(`Component ${I.name} has already been registered with ${this.name}`);x.setComponent(I)}addOrOverwriteComponent(I){this.getProvider(I.name).isComponentSet()&&this.providers.delete(I.name),this.yl(I)}getProvider(I){if(this.providers.has(I))return this.providers.get(I);const x=new Y(I,this);return this.providers.set(I,x),x}getProviders(){return Array.from(this.providers.values())}}},12774:(I,x,L)=>{L.d(x,{b:()=>X,c:()=>l,e:()=>W,f:()=>Q});const F=[];var X;!function(I){I[I.DEBUG=0]="DEBUG",I[I.VERBOSE=1]="VERBOSE",I[I.INFO=2]="INFO",I[I.WARN=3]="WARN",I[I.ERROR=4]="ERROR",I[I.SILENT=5]="SILENT"}(X||(X={}));const G={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Y=X.INFO,p={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},B=function(I,x){if(x<I.logLevel)return;const L=(new Date).toISOString(),F=p[x];if(!F)throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`);for(var X=arguments.length,G=new Array(X>2?X-2:0),Y=2;Y<X;Y++)G[Y-2]=arguments[Y];console[F](`[${L}]  ${I.name}:`,...G)};class l{constructor(I){this.name=I,this._logLevel=Y,this._logHandler=B,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in X))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"===typeof I?G[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!==typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(){for(var I=arguments.length,x=new Array(I),L=0;L<I;L++)x[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...x),this._logHandler(this,X.DEBUG,...x)}log(){for(var I=arguments.length,x=new Array(I),L=0;L<I;L++)x[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...x),this._logHandler(this,X.VERBOSE,...x)}info(){for(var I=arguments.length,x=new Array(I),L=0;L<I;L++)x[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,X.INFO,...x),this._logHandler(this,X.INFO,...x)}warn(){for(var I=arguments.length,x=new Array(I),L=0;L<I;L++)x[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,X.WARN,...x),this._logHandler(this,X.WARN,...x)}error(){for(var I=arguments.length,x=new Array(I),L=0;L<I;L++)x[L]=arguments[L];this._userLogHandler&&this._userLogHandler(this,X.ERROR,...x),this._logHandler(this,X.ERROR,...x)}}function W(I){F.forEach((x=>{x.setLogLevel(I)}))}function Q(I,x){for(const L of F){let F=null;x&&x.level&&(F=G[x.level]),L.userLogHandler=null===I?null:function(x,L){for(var G=arguments.length,Y=new Array(G>2?G-2:0),p=2;p<G;p++)Y[p-2]=arguments[p];const B=Y.map((I=>{if(null==I)return null;if("string"===typeof I)return I;if("number"===typeof I||"boolean"===typeof I)return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch(x){return null}})).filter((I=>I)).join(" ");L>=(null!==F&&void 0!==F?F:x.logLevel)&&I({level:X[L].toLowerCase(),message:B,args:Y,type:x.name})}}}}}]);