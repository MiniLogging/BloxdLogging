/*! For license information please see s8oeea.5.da761894.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{11116:(G,V,W)=>{W.d(V,{$:()=>Y,B:()=>f,E:()=>x,H:()=>A,I:()=>q,K:()=>M,O:()=>t,S:()=>g,T:()=>n,V:()=>S,Z:()=>p,ab:()=>B,d:()=>L,e:()=>u,eb:()=>F,fb:()=>e,gb:()=>b,i:()=>y,k:()=>r,l:()=>z,o:()=>k,r:()=>a,v:()=>v,z:()=>D});const J=function(G){const V=[];let W=0;for(let J=0;J<G.length;J++){let R=G.charCodeAt(J);R<128?V[W++]=R:R<2048?(V[W++]=R>>6|192,V[W++]=63&R|128):55296===(64512&R)&&J+1<G.length&&56320===(64512&G.charCodeAt(J+1))?(R=65536+((1023&R)<<10)+(1023&G.charCodeAt(++J)),V[W++]=R>>18|240,V[W++]=R>>12&63|128,V[W++]=R>>6&63|128,V[W++]=63&R|128):(V[W++]=R>>12|224,V[W++]=R>>6&63|128,V[W++]=63&R|128)}return V},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(G,V){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let R=0;R<G.length;R+=3){const V=G[R],d=R+1<G.length,k=d?G[R+1]:0,z=R+2<G.length,X=z?G[R+2]:0,P=V>>2,A=(3&V)<<4|k>>4;let x=(15&k)<<2|X>>6,q=63&X;z||(q=64,d||(x=64)),J.push(W[P],W[A],W[x],W[q])}return J.join("")},encodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(G):this.encodeByteArray(J(G),V)},decodeString(G,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(G):function(G){const V=[];let W=0,J=0;for(;W<G.length;){const R=G[W++];if(R<128)V[J++]=String.fromCharCode(R);else if(R>191&&R<224){const d=G[W++];V[J++]=String.fromCharCode((31&R)<<6|63&d)}else if(R>239&&R<365){const d=((7&R)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;V[J++]=String.fromCharCode(55296+(d>>10)),V[J++]=String.fromCharCode(56320+(1023&d))}else{const d=G[W++],k=G[W++];V[J++]=String.fromCharCode((15&R)<<12|(63&d)<<6|63&k)}}return V.join("")}(this.decodeStringToByteArray(G,V))},decodeStringToByteArray(G,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let R=0;R<G.length;){const V=W[G.charAt(R++)],k=R<G.length?W[G.charAt(R)]:0;++R;const z=R<G.length?W[G.charAt(R)]:64;++R;const X=R<G.length?W[G.charAt(R)]:64;if(++R,null==V||null==k||null==z||null==X)throw new d;const P=V<<2|k>>4;if(J.push(P),64!==z){const G=k<<4&240|z>>2;if(J.push(G),64!==X){const G=z<<6&192|X;J.push(G)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k=function(G){return function(G){const V=J(G);return R.encodeByteArray(V,!0)}(G).replace(/\./g,"")},z=function(G){try{return R.decodeString(G,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};const X=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof W.g)return W.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,P=()=>{try{return X()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(W){return}const V=G&&z(G[1]);return V&&JSON.parse(V)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},A=G=>{var V,W;return null===(W=null===(V=P())||void 0===V?void 0:V.emulatorHosts)||void 0===W?void 0:W[G]},x=()=>{var G;return null===(G=P())||void 0===G?void 0:G.config},q=G=>{var V;return null===(V=P())||void 0===V?void 0:V[`_${G}`]};class L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((G,V)=>{this.resolve=G,this.reject=V}))}wrapCallback(G){return(V,W)=>{V?this.reject(V):this.resolve(W),"function"===typeof G&&(this.promise.catch((()=>{})),1===G.length?G(V):G(V,W))}}}function t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t())}function g(){const G="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof G&&void 0!==G.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){const G=t();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function p(){try{return"object"===typeof indexedDB}catch(G){return!1}}function b(){return new Promise(((G,V)=>{try{let W=!0;const J="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(J);R.onsuccess=()=>{R.result.close(),W||self.indexedDB.deleteDatabase(J),G(!0)},R.onupgradeneeded=()=>{W=!1},R.onerror=()=>{var G;V((null===(G=R.error)||void 0===G?void 0:G.message)||"")}}catch(W){V(W)}}))}function r(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class y extends Error{constructor(G,V,W){super(V),this.code=G,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(G,V,W){this.service=G,this.serviceName=V,this.errors=W}create(G){const V=(arguments.length<=1?void 0:arguments[1])||{},W=`${this.service}/${G}`,J=this.errors[G],R=J?function(G,V){return G.replace(H,((G,W)=>{const J=V[W];return null!=J?String(J):`<${W}?>`}))}(J,V):"Error",d=`${this.serviceName}: ${R} (${W}).`;return new y(W,d,V)}}const H=/\{\$([^}]+)}/g;function n(G){for(const V in G)if(Object.prototype.hasOwnProperty.call(G,V))return!1;return!0}function D(G,V){if(G===V)return!0;const W=Object.keys(G),J=Object.keys(V);for(const R of W){if(!J.includes(R))return!1;const W=G[R],d=V[R];if(i(W)&&i(d)){if(!D(W,d))return!1}else if(W!==d)return!1}for(const R of J)if(!W.includes(R))return!1;return!0}function i(G){return null!==G&&"object"===typeof G}function e(G){const V=[];for(const[W,J]of Object.entries(G))Array.isArray(J)?J.forEach((G=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(G))})):V.push(encodeURIComponent(W)+"="+encodeURIComponent(J));return V.length?"&"+V.join("&"):""}function F(G){const V={};return G.replace(/^\?/,"").split("&").forEach((G=>{if(G){const[W,J]=G.split("=");V[decodeURIComponent(W)]=decodeURIComponent(J)}})),V}function f(G){const V=G.indexOf("?");if(!V)return"";const W=G.indexOf("#",V);return G.substring(V,W>0?W:void 0)}function v(G,V){const W=new C(G,V);return W.subscribe.bind(W)}class C{constructor(G,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then((()=>{G(this)})).catch((G=>{this.error(G)}))}next(G){this.forEachObserver((V=>{V.next(G)}))}error(G){this.forEachObserver((V=>{V.error(G)})),this.close(G)}complete(){this.forEachObserver((G=>{G.complete()})),this.close()}subscribe(G,V,W){let J;if(void 0===G&&void 0===V&&void 0===W)throw new Error("Missing Observer.");J=function(G,V){if("object"!==typeof G||null===G)return!1;for(const W of V)if(W in G&&"function"===typeof G[W])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:V,complete:W},void 0===J.next&&(J.next=l),void 0===J.error&&(J.error=l),void 0===J.complete&&(J.complete=l);const R=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(G){}})),this.observers.push(J),R}unsubscribeOne(G){void 0!==this.observers&&void 0!==this.observers[G]&&(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,G)}sendOne(G,V){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{V(this.observers[G])}catch(W){"undefined"!==typeof console&&console.error&&console.error(W)}}))}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const m=1e3,w=2,N=144e5,U=.5;function a(G){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;const W=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:m)*Math.pow(V,G),J=Math.round(U*W*(Math.random()-.5)*2);return Math.min(N,W+J)}function M(G){return G&&G._delegate?G._delegate:G}},11104:(G,V,W)=>{W.d(V,{d:()=>d.i,h:()=>xG,k:()=>I,n:()=>WG,p:()=>JG,s:()=>GG,t:()=>zG,u:()=>VG,x:()=>dG,A:()=>RG,D:()=>kG,F:()=>YG,L:()=>LG,J:()=>tG,M:()=>qG,Q:()=>BG,T:()=>gG,V:()=>SG});var J=W(11113),R=W(11119),d=W(11116);let k,z;const X=new WeakMap,P=new WeakMap,A=new WeakMap,x=new WeakMap,q=new WeakMap;let L={get(G,V,W){if(G instanceof IDBTransaction){if("done"===V)return P.get(G);if("objectStoreNames"===V)return G.objectStoreNames||A.get(G);if("store"===V)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return g(G[V])},set:(G,V,W)=>(G[V]=W,!0),has:(G,V)=>G instanceof IDBTransaction&&("done"===V||"store"===V)||V in G};function t(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(G)?function(){for(var V=arguments.length,W=new Array(V),J=0;J<V;J++)W[J]=arguments[J];return G.apply(B(this),W),g(X.get(this))}:function(){for(var V=arguments.length,W=new Array(V),J=0;J<V;J++)W[J]=arguments[J];return g(G.apply(B(this),W))}:function(V){for(var W=arguments.length,J=new Array(W>1?W-1:0),R=1;R<W;R++)J[R-1]=arguments[R];const d=G.call(B(this),V,...J);return A.set(d,V.sort?V.sort():[V]),g(d)}}function Y(G){return"function"===typeof G?t(G):(G instanceof IDBTransaction&&function(G){if(P.has(G))return;const V=new Promise(((V,W)=>{const J=()=>{G.removeEventListener("complete",R),G.removeEventListener("error",d),G.removeEventListener("abort",d)},R=()=>{V(),J()},d=()=>{W(G.error||new DOMException("AbortError","AbortError")),J()};G.addEventListener("complete",R),G.addEventListener("error",d),G.addEventListener("abort",d)}));P.set(G,V)}(G),V=G,(k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((G=>V instanceof G))?new Proxy(G,L):G);var V}function g(G){if(G instanceof IDBRequest)return function(G){const V=new Promise(((V,W)=>{const J=()=>{G.removeEventListener("success",R),G.removeEventListener("error",d)},R=()=>{V(g(G.result)),J()},d=()=>{W(G.error),J()};G.addEventListener("success",R),G.addEventListener("error",d)}));return V.then((V=>{V instanceof IDBCursor&&X.set(V,G)})).catch((()=>{})),q.set(V,G),V}(G);if(x.has(G))return x.get(G);const V=Y(G);return V!==G&&(x.set(G,V),q.set(V,G)),V}const B=G=>q.get(G);const S=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],b=new Map;function r(G,V){if(!(G instanceof IDBDatabase)||V in G||"string"!==typeof V)return;if(b.get(V))return b.get(V);const W=V.replace(/FromIndex$/,""),J=V!==W,R=p.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!R&&!S.includes(W))return;const d=async function(G){const V=this.transaction(G,R?"readwrite":"readonly");let d=V.store;for(var k=arguments.length,z=new Array(k>1?k-1:0),X=1;X<k;X++)z[X-1]=arguments[X];return J&&(d=d.index(z.shift())),(await Promise.all([d[W](...z),R&&V.done]))[0]};return b.set(V,d),d}L=(G=>({...G,get:(V,W,J)=>r(V,W)||G.get(V,W,J),has:(V,W)=>!!r(V,W)||G.has(V,W)}))(L);class y{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map((G=>{if(function(G){const V=G.getComponent();return"VERSION"===(null===V||void 0===V?void 0:V.type)}(G)){const V=G.getImmediate();return`${V.library}/${V.version}`}return null})).filter((G=>G)).join(" ")}}const u="@firebase/app",H="0.9.13",n=new R.e("@firebase/app"),D="@firebase/app-compat",i="@firebase/analytics-compat",e="@firebase/analytics",F="@firebase/app-check-compat",f="@firebase/app-check",v="@firebase/auth",C="@firebase/auth-compat",l="@firebase/database",m="@firebase/database-compat",w="@firebase/functions",N="@firebase/functions-compat",U="@firebase/installations",a="@firebase/installations-compat",M="@firebase/messaging",T="@firebase/messaging-compat",K="@firebase/performance",s="@firebase/performance-compat",Q="@firebase/remote-config",Z="@firebase/remote-config-compat",E="@firebase/storage",h="@firebase/storage-compat",o="@firebase/firestore",c="@firebase/firestore-compat",j="firebase",I="[DEFAULT]",O={[u]:"fire-core",[D]:"fire-core-compat",[e]:"fire-analytics",[i]:"fire-analytics-compat",[f]:"fire-app-check",[F]:"fire-app-check-compat",[v]:"fire-auth",[C]:"fire-auth-compat",[l]:"fire-rtdb",[m]:"fire-rtdb-compat",[w]:"fire-fn",[N]:"fire-fn-compat",[U]:"fire-iid",[a]:"fire-iid-compat",[M]:"fire-fcm",[T]:"fire-fcm-compat",[K]:"fire-perf",[s]:"fire-perf-compat",[Q]:"fire-rc",[Z]:"fire-rc-compat",[E]:"fire-gcs",[h]:"fire-gcs-compat",[o]:"fire-fst",[c]:"fire-fst-compat","fire-js":"fire-js",[j]:"fire-js-all"},GG=new Map,VG=new Map;function WG(G,V){try{G.container.SX(V)}catch(W){n.debug(`Component ${V.name} failed to register with FirebaseApp ${G.name}`,W)}}function JG(G,V){G.container.addOrOverwriteComponent(V)}function RG(G){const V=G.name;if(VG.has(V))return n.debug(`There were multiple attempts to register component ${V}.`),!1;VG.set(V,G);for(const W of GG.values())WG(W,G);return!0}function dG(G,V){const W=G.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),G.container.getProvider(V)}function kG(G,V){let W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;dG(G,V).clearInstance(W)}function zG(){VG.clear()}const XG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},PG=new d.e("app","Firebase",XG);class AG{constructor(G,V,W){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},V),this._name=V.name,this._automaticDataCollectionEnabled=V.automaticDataCollectionEnabled,this._container=W,this.container.SX(new J.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw PG.create("app-deleted",{appName:this._name})}}const xG="9.23.0";function qG(G){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=G;if("object"!==typeof V){V={name:V}}const R=Object.assign({name:I,automaticDataCollectionEnabled:!1},V),k=R.name;if("string"!==typeof k||!k)throw PG.create("bad-app-name",{appName:String(k)});if(W||(W=(0,d.E)()),!W)throw PG.create("no-options");const z=GG.get(k);if(z){if((0,d.z)(W,z.options)&&(0,d.z)(R,z.config))return z;throw PG.create("duplicate-app",{appName:k})}const X=new J.e(k);for(const J of VG.values())X.SX(J);const P=new AG(W,R,X);return GG.set(k,P),P}function LG(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const V=GG.get(G);if(!V&&G===I&&(0,d.E)())return qG();if(!V)throw PG.create("no-app",{appName:G});return V}function tG(){return Array.from(GG.values())}async function YG(G){const V=G.name;GG.has(V)&&(GG.delete(V),await Promise.all(G.container.getProviders().map((G=>G.delete()))),G.isDeleted=!0)}function gG(G,V,W){var R;let d=null!==(R=O[G])&&void 0!==R?R:G;W&&(d+=`-${W}`);const k=d.match(/\s|\//),z=V.match(/\s|\//);if(k||z){const G=[`Unable to register library "${d}" with version "${V}":`];return k&&G.push(`library name "${d}" contains illegal characters (whitespace or "/")`),k&&z&&G.push("and"),z&&G.push(`version name "${V}" contains illegal characters (whitespace or "/")`),void n.warn(G.join(" "))}RG(new J.f(`${d}-version`,(()=>({library:d,version:V})),"VERSION"))}function BG(G,V){if(null!==G&&"function"!==typeof G)throw PG.create("invalid-log-argument");(0,R.j)(G,V)}function SG(G){(0,R.g)(G)}const pG="firebase-heartbeat-store";let bG=null;function rG(){return bG||(bG=function(G,V){let{blocked:W,upgrade:J,blocking:R,terminated:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const k=indexedDB.open(G,V),z=g(k);return J&&k.addEventListener("upgradeneeded",(G=>{J(g(k.result),G.oldVersion,G.newVersion,g(k.transaction),G)})),W&&k.addEventListener("blocked",(G=>W(G.oldVersion,G.newVersion,G))),z.then((G=>{d&&G.addEventListener("close",(()=>d())),R&&G.addEventListener("versionchange",(G=>R(G.oldVersion,G.newVersion,G)))})).catch((()=>{})),z}("firebase-heartbeat-database",1,{upgrade:(G,V)=>{if(0===V)G.createObjectStore(pG)}}).catch((G=>{throw PG.create("idb-open",{originalErrorMessage:G.message})}))),bG}async function yG(G,V){try{const W=(await rG()).transaction(pG,"readwrite"),J=W.objectStore(pG);await J.put(V,uG(G)),await W.done}catch(W){if(W instanceof d.i)n.warn(W.message);else{const G=PG.create("idb-set",{originalErrorMessage:null===W||void 0===W?void 0:W.message});n.warn(G.message)}}}function uG(G){return`${G.name}!${G.options.appId}`}class HG{constructor(G){this.container=G,this._heartbeatsCache=null;const V=this.container.getProvider("app").getImmediate();this.KA=new DG(V),this._heartbeatsCachePromise=this.KA.read().then((G=>(this._heartbeatsCache=G,G)))}async triggerHeartbeat(){const G=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),V=nG();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==V&&!this._heartbeatsCache.heartbeats.some((G=>G.date===V)))return this._heartbeatsCache.heartbeats.push({date:V,agent:G}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((G=>{const V=new Date(G.date).valueOf();return Date.now()-V<=2592e6})),this.KA.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const G=nG(),{heartbeatsToSend:V,unsentEntries:W}=function(G){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const W=[];let J=G.slice();for(const R of G){const G=W.find((G=>G.agent===R.agent));if(G){if(G.dates.push(R.date),iG(W)>V){G.dates.pop();break}}else if(W.push({agent:R.agent,dates:[R.date]}),iG(W)>V){W.pop();break}J=J.slice(1)}return{heartbeatsToSend:W,unsentEntries:J}}(this._heartbeatsCache.heartbeats),J=(0,d.o)(JSON.stringify({version:2,heartbeats:V}));return this._heartbeatsCache.lastSentHeartbeatDate=G,W.length>0?(this._heartbeatsCache.heartbeats=W,await this.KA.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.KA.overwrite(this._heartbeatsCache)),J}}function nG(){return(new Date).toISOString().substring(0,10)}class DG{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,d.Z)()&&(0,d.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(G){try{const V=await rG();return await V.transaction(pG).objectStore(pG).get(uG(G))}catch(V){if(V instanceof d.i)n.warn(V.message);else{const G=PG.create("idb-get",{originalErrorMessage:null===V||void 0===V?void 0:V.message});n.warn(G.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(G){var V;if(await this._canUseIndexedDBPromise){const W=await this.read();return yG(this.app,{lastSentHeartbeatDate:null!==(V=G.lastSentHeartbeatDate)&&void 0!==V?V:W.lastSentHeartbeatDate,heartbeats:G.heartbeats})}}async add(G){var V;if(await this._canUseIndexedDBPromise){const W=await this.read();return yG(this.app,{lastSentHeartbeatDate:null!==(V=G.lastSentHeartbeatDate)&&void 0!==V?V:W.lastSentHeartbeatDate,heartbeats:[...W.heartbeats,...G.heartbeats]})}}}function iG(G){return(0,d.o)(JSON.stringify({version:2,heartbeats:G})).length}var eG;eG="",RG(new J.f("platform-logger",(G=>new y(G)),"PRIVATE")),RG(new J.f("heartbeat",(G=>new HG(G)),"PRIVATE")),gG(u,H,eG),gG(u,H,"esm2017"),gG("fire-js","")},11113:(G,V,W)=>{W.d(V,{e:()=>z,f:()=>R});var J=W(11116);class R{constructor(G,V,W){this.name=G,this.instanceFactory=V,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const d="[DEFAULT]";class k{constructor(G,V){this.name=G,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const V=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(V)){const G=new J.d;if(this.instancesDeferred.set(V,G),this.isInitialized(V)||this.shouldAutoInitialize())try{const W=this.getOrInitializeService({instanceIdentifier:V});W&&G.resolve(W)}catch(W){}}return this.instancesDeferred.get(V).promise}getImmediate(G){var V;const W=this.normalizeInstanceIdentifier(null===G||void 0===G?void 0:G.identifier),J=null!==(V=null===G||void 0===G?void 0:G.optional)&&void 0!==V&&V;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(J)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(R){if(J)return null;throw R}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:d})}catch(V){}for(const[G,W]of this.instancesDeferred.entries()){const J=this.normalizeInstanceIdentifier(G);try{const G=this.getOrInitializeService({instanceIdentifier:J});W.resolve(G)}catch(V){}}}}clearInstance(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}async delete(){const G=Array.from(this.instances.values());await Promise.all([...G.filter((G=>"INTERNAL"in G)).map((G=>G.INTERNAL.delete())),...G.filter((G=>"_delete"in G)).map((G=>G._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(G)}getOptions(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(G)||{}}initialize(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:V={}}=G,W=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const J=this.getOrInitializeService({instanceIdentifier:W,options:V});for(const[R,d]of this.instancesDeferred.entries()){W===this.normalizeInstanceIdentifier(R)&&d.resolve(J)}return J}rA(G,V){var W;const J=this.normalizeInstanceIdentifier(V),R=null!==(W=this.onInitCallbacks.get(J))&&void 0!==W?W:new Set;R.add(G),this.onInitCallbacks.set(J,R);const d=this.instances.get(J);return d&&G(d,J),()=>{R.delete(G)}}invokeOnInitCallbacks(G,V){const W=this.onInitCallbacks.get(V);if(W)for(const R of W)try{R(G,V)}catch(J){}}getOrInitializeService(G){let{instanceIdentifier:V,options:W={}}=G,J=this.instances.get(V);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(R=V,R===d?void 0:R),options:W}),this.instances.set(V,J),this.instancesOptions.set(V,W),this.invokeOnInitCallbacks(J,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,J)}catch(k){}var R;return J||null}normalizeInstanceIdentifier(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?G:d:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(G){this.name=G,this.providers=new Map}SX(G){const V=this.getProvider(G.name);if(V.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);V.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.SX(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const V=new k(G,this);return this.providers.set(G,V),V}getProviders(){return Array.from(this.providers.values())}}},11119:(G,V,W)=>{W.d(V,{d:()=>R,e:()=>P,g:()=>A,j:()=>x});const J=[];var R;!function(G){G[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT"}(R||(R={}));const d={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},k=R.INFO,z={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},X=function(G,V){if(V<G.logLevel)return;const W=(new Date).toISOString(),J=z[V];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);for(var R=arguments.length,d=new Array(R>2?R-2:0),k=2;k<R;k++)d[k-2]=arguments[k];console[J](`[${W}]  ${G.name}:`,...d)};class P{constructor(G){this.name=G,this._logLevel=k,this._logHandler=X,this._userLogHandler=null,J.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in R))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"===typeof G?d[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!==typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(){for(var G=arguments.length,V=new Array(G),W=0;W<G;W++)V[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...V),this._logHandler(this,R.DEBUG,...V)}log(){for(var G=arguments.length,V=new Array(G),W=0;W<G;W++)V[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...V),this._logHandler(this,R.VERBOSE,...V)}info(){for(var G=arguments.length,V=new Array(G),W=0;W<G;W++)V[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,R.INFO,...V),this._logHandler(this,R.INFO,...V)}warn(){for(var G=arguments.length,V=new Array(G),W=0;W<G;W++)V[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,R.WARN,...V),this._logHandler(this,R.WARN,...V)}error(){for(var G=arguments.length,V=new Array(G),W=0;W<G;W++)V[W]=arguments[W];this._userLogHandler&&this._userLogHandler(this,R.ERROR,...V),this._logHandler(this,R.ERROR,...V)}}function A(G){J.forEach((V=>{V.setLogLevel(G)}))}function x(G,V){for(const W of J){let J=null;V&&V.level&&(J=d[V.level]),W.userLogHandler=null===G?null:function(V,W){for(var d=arguments.length,k=new Array(d>2?d-2:0),z=2;z<d;z++)k[z-2]=arguments[z];const X=k.map((G=>{if(null==G)return null;if("string"===typeof G)return G;if("number"===typeof G||"boolean"===typeof G)return G.toString();if(G instanceof Error)return G.message;try{return JSON.stringify(G)}catch(V){return null}})).filter((G=>G)).join(" ");W>=(null!==J&&void 0!==J?J:V.logLevel)&&G({level:R[W].toLowerCase(),message:X,args:k,type:V.name})}}}}}]);