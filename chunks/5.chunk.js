/*! For license information please see urj3w.5.c9aade40.chunk.js.LICENSE.txt */
"use strict";(self.fkqm0epoq5=self.fkqm0epoq5||[]).push([[5],{11510:(D,l,G)=>{G.d(l,{C:()=>g,G:()=>n,H:()=>j,K:()=>Y,M:()=>K,N:()=>d,Q:()=>I,R:()=>h,T:()=>x,X:()=>F,_:()=>H,b:()=>e,bb:()=>S,e:()=>u,eb:()=>y,h:()=>L,hb:()=>r,l:()=>o,o:()=>X,r:()=>b,t:()=>J,v:()=>s,w:()=>W,y:()=>O});const V=function(D){const l=[];let G=0;for(let V=0;V<D.length;V++){let N=D.charCodeAt(V);N<128?l[G++]=N:N<2048?(l[G++]=N>>6|192,l[G++]=63&N|128):55296===(64512&N)&&V+1<D.length&&56320===(64512&D.charCodeAt(V+1))?(N=65536+((1023&N)<<10)+(1023&D.charCodeAt(++V)),l[G++]=N>>18|240,l[G++]=N>>12&63|128,l[G++]=N>>6&63|128,l[G++]=63&N|128):(l[G++]=N>>12|224,l[G++]=N>>6&63|128,l[G++]=63&N|128)}return l},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(D,l){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=l?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let N=0;N<D.length;N+=3){const l=D[N],M=N+1<D.length,b=M?D[N+1]:0,X=N+2<D.length,t=X?D[N+2]:0,R=l>>2,n=(3&l)<<4|b>>4;let g=(15&b)<<2|t>>6,j=63&t;X||(j=64,M||(g=64)),V.push(G[R],G[n],G[g],G[j])}return V.join("")},encodeString(D,l){return this.HAS_NATIVE_SUPPORT&&!l?btoa(D):this.encodeByteArray(V(D),l)},decodeString(D,l){return this.HAS_NATIVE_SUPPORT&&!l?atob(D):function(D){const l=[];let G=0,V=0;for(;G<D.length;){const N=D[G++];if(N<128)l[V++]=String.fromCharCode(N);else if(N>191&&N<224){const M=D[G++];l[V++]=String.fromCharCode((31&N)<<6|63&M)}else if(N>239&&N<365){const M=((7&N)<<18|(63&D[G++])<<12|(63&D[G++])<<6|63&D[G++])-65536;l[V++]=String.fromCharCode(55296+(M>>10)),l[V++]=String.fromCharCode(56320+(1023&M))}else{const M=D[G++],b=D[G++];l[V++]=String.fromCharCode((15&N)<<12|(63&M)<<6|63&b)}}return l.join("")}(this.decodeStringToByteArray(D,l))},decodeStringToByteArray(D,l){this.init_();const G=l?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let N=0;N<D.length;){const l=G[D.charAt(N++)],b=N<D.length?G[D.charAt(N)]:0;++N;const X=N<D.length?G[D.charAt(N)]:64;++N;const t=N<D.length?G[D.charAt(N)]:64;if(++N,null==l||null==b||null==X||null==t)throw new M;const R=l<<2|b>>4;if(V.push(R),64!==X){const D=b<<4&240|X>>2;if(V.push(D),64!==t){const D=X<<6&192|t;V.push(D)}}}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(D){return function(D){const l=V(D);return N.encodeByteArray(l,!0)}(D).replace(/\./g,"")},X=function(D){try{return N.decodeString(D,!0)}catch(l){console.error("base64Decode failed: ",l)}return null};const t=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof G.g)return G.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,R=()=>{try{return t()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(G){return}const l=D&&X(D[1]);return l&&JSON.parse(l)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},n=D=>{var l,G;return null===(G=null===(l=R())||void 0===l?void 0:l.emulatorHosts)||void 0===G?void 0:G[D]},g=()=>{var D;return null===(D=R())||void 0===D?void 0:D.config},j=D=>{var l;return null===(l=R())||void 0===l?void 0:l[`_${D}`]};class e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((D,l)=>{this.resolve=D,this.reject=l}))}wrapCallback(D){return(l,G)=>{l?this.reject(l):this.resolve(G),"function"===typeof D&&(this.promise.catch((()=>{})),1===D.length?D(l):D(l,G))}}}function K(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function F(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function d(){const D="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof D&&void 0!==D.id}function H(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){const D=K();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function x(){try{return"object"===typeof indexedDB}catch(D){return!1}}function r(){return new Promise(((D,l)=>{try{let G=!0;const V="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(V);N.onsuccess=()=>{N.result.close(),G||self.indexedDB.deleteDatabase(V),D(!0)},N.onupgradeneeded=()=>{G=!1},N.onerror=()=>{var D;l((null===(D=N.error)||void 0===D?void 0:D.message)||"")}}catch(G){l(G)}}))}function o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(D,l,G){super(l),this.code=D,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(D,l,G){this.service=D,this.serviceName=l,this.errors=G}create(D){const l=(arguments.length<=1?void 0:arguments[1])||{},G=`${this.service}/${D}`,V=this.errors[D],N=V?function(D,l){return D.replace(B,((D,G)=>{const V=l[G];return null!=V?String(V):`<${G}?>`}))}(V,l):"Error",M=`${this.serviceName}: ${N} (${G}).`;return new L(G,M,l)}}const B=/\{\$([^}]+)}/g;function I(D){for(const l in D)if(Object.prototype.hasOwnProperty.call(D,l))return!1;return!0}function W(D,l){if(D===l)return!0;const G=Object.keys(D),V=Object.keys(l);for(const N of G){if(!V.includes(N))return!1;const G=D[N],M=l[N];if(i(G)&&i(M)){if(!W(G,M))return!1}else if(G!==M)return!1}for(const N of V)if(!G.includes(N))return!1;return!0}function i(D){return null!==D&&"object"===typeof D}function y(D){const l=[];for(const[G,V]of Object.entries(D))Array.isArray(V)?V.forEach((D=>{l.push(encodeURIComponent(G)+"="+encodeURIComponent(D))})):l.push(encodeURIComponent(G)+"="+encodeURIComponent(V));return l.length?"&"+l.join("&"):""}function S(D){const l={};return D.replace(/^\?/,"").split("&").forEach((D=>{if(D){const[G,V]=D.split("=");l[decodeURIComponent(G)]=decodeURIComponent(V)}})),l}function O(D){const l=D.indexOf("?");if(!l)return"";const G=D.indexOf("#",l);return D.substring(l,G>0?G:void 0)}function s(D,l){const G=new U(D,l);return G.subscribe.bind(G)}class U{constructor(D,l){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=l,this.task.then((()=>{D(this)})).catch((D=>{this.error(D)}))}next(D){this.forEachObserver((l=>{l.next(D)}))}error(D){this.forEachObserver((l=>{l.error(D)})),this.close(D)}complete(){this.forEachObserver((D=>{D.complete()})),this.close()}subscribe(D,l,G){let V;if(void 0===D&&void 0===l&&void 0===G)throw new Error("Missing Observer.");V=function(D,l){if("object"!==typeof D||null===D)return!1;for(const G of l)if(G in D&&"function"===typeof D[G])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:l,complete:G},void 0===V.next&&(V.next=f),void 0===V.error&&(V.error=f),void 0===V.complete&&(V.complete=f);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(D){}})),this.observers.push(V),N}unsubscribeOne(D){void 0!==this.observers&&void 0!==this.observers[D]&&(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let l=0;l<this.observers.length;l++)this.sendOne(l,D)}sendOne(D,l){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{l(this.observers[D])}catch(G){"undefined"!==typeof console&&console.error&&console.error(G)}}))}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function f(){}const q=1e3,c=2,v=144e5,Z=.5;function J(D){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const G=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(l,D),V=Math.round(Z*G*(Math.random()-.5)*2);return Math.min(v,G+V)}function Y(D){return D&&D._delegate?D._delegate:D}},11498:(D,l,G)=>{G.d(l,{b:()=>M.h,c:()=>gD,d:()=>a,g:()=>GD,k:()=>VD,l:()=>DD,n:()=>XD,r:()=>lD,s:()=>MD,v:()=>ND,x:()=>bD,A:()=>FD,G:()=>eD,E:()=>KD,H:()=>jD,K:()=>HD,O:()=>dD,R:()=>hD});var V=G(11507),N=G(11518),M=G(11510);let b,X;const t=new WeakMap,R=new WeakMap,n=new WeakMap,g=new WeakMap,j=new WeakMap;let e={get(D,l,G){if(D instanceof IDBTransaction){if("done"===l)return R.get(D);if("objectStoreNames"===l)return D.objectStoreNames||n.get(D);if("store"===l)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return d(D[l])},set:(D,l,G)=>(D[l]=G,!0),has:(D,l)=>D instanceof IDBTransaction&&("done"===l||"store"===l)||l in D};function K(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(D)?function(){for(var l=arguments.length,G=new Array(l),V=0;V<l;V++)G[V]=arguments[V];return D.apply(H(this),G),d(t.get(this))}:function(){for(var l=arguments.length,G=new Array(l),V=0;V<l;V++)G[V]=arguments[V];return d(D.apply(H(this),G))}:function(l){for(var G=arguments.length,V=new Array(G>1?G-1:0),N=1;N<G;N++)V[N-1]=arguments[N];const M=D.call(H(this),l,...V);return n.set(M,l.sort?l.sort():[l]),d(M)}}function F(D){return"function"===typeof D?K(D):(D instanceof IDBTransaction&&function(D){if(R.has(D))return;const l=new Promise(((l,G)=>{const V=()=>{D.removeEventListener("complete",N),D.removeEventListener("error",M),D.removeEventListener("abort",M)},N=()=>{l(),V()},M=()=>{G(D.error||new DOMException("AbortError","AbortError")),V()};D.addEventListener("complete",N),D.addEventListener("error",M),D.addEventListener("abort",M)}));R.set(D,l)}(D),l=D,(b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((D=>l instanceof D))?new Proxy(D,e):D);var l}function d(D){if(D instanceof IDBRequest)return function(D){const l=new Promise(((l,G)=>{const V=()=>{D.removeEventListener("success",N),D.removeEventListener("error",M)},N=()=>{l(d(D.result)),V()},M=()=>{G(D.error),V()};D.addEventListener("success",N),D.addEventListener("error",M)}));return l.then((l=>{l instanceof IDBCursor&&t.set(l,D)})).catch((()=>{})),j.set(l,D),l}(D);if(g.has(D))return g.get(D);const l=F(D);return l!==D&&(g.set(D,l),j.set(l,D)),l}const H=D=>j.get(D);const h=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],r=new Map;function o(D,l){if(!(D instanceof IDBDatabase)||l in D||"string"!==typeof l)return;if(r.get(l))return r.get(l);const G=l.replace(/FromIndex$/,""),V=l!==G,N=x.includes(G);if(!(G in(V?IDBIndex:IDBObjectStore).prototype)||!N&&!h.includes(G))return;const M=async function(D){const l=this.transaction(D,N?"readwrite":"readonly");let M=l.store;for(var b=arguments.length,X=new Array(b>1?b-1:0),t=1;t<b;t++)X[t-1]=arguments[t];return V&&(M=M.index(X.shift())),(await Promise.all([M[G](...X),N&&l.done]))[0]};return r.set(l,M),M}e=(D=>({...D,get:(l,G,V)=>o(l,G)||D.get(l,G,V),has:(l,G)=>!!o(l,G)||D.has(l,G)}))(e);class L{constructor(D){this.container=D}getPlatformInfoString(){return this.container.getProviders().map((D=>{if(function(D){const l=D.getComponent();return"VERSION"===(null===l||void 0===l?void 0:l.type)}(D)){const l=D.getImmediate();return`${l.library}/${l.version}`}return null})).filter((D=>D)).join(" ")}}const u="@firebase/app",B="0.9.13",I=new N.g("@firebase/app"),W="@firebase/app-compat",i="@firebase/analytics-compat",y="@firebase/analytics",S="@firebase/app-check-compat",O="@firebase/app-check",s="@firebase/auth",U="@firebase/auth-compat",f="@firebase/database",q="@firebase/database-compat",c="@firebase/functions",v="@firebase/functions-compat",Z="@firebase/installations",J="@firebase/installations-compat",Y="@firebase/messaging",z="@firebase/messaging-compat",E="@firebase/performance",P="@firebase/performance-compat",p="@firebase/remote-config",k="@firebase/remote-config-compat",m="@firebase/storage",T="@firebase/storage-compat",C="@firebase/firestore",w="@firebase/firestore-compat",A="firebase",a="[DEFAULT]",Q={[u]:"fire-core",[W]:"fire-core-compat",[y]:"fire-analytics",[i]:"fire-analytics-compat",[O]:"fire-app-check",[S]:"fire-app-check-compat",[s]:"fire-auth",[U]:"fire-auth-compat",[f]:"fire-rtdb",[q]:"fire-rtdb-compat",[c]:"fire-fn",[v]:"fire-fn-compat",[Z]:"fire-iid",[J]:"fire-iid-compat",[Y]:"fire-fcm",[z]:"fire-fcm-compat",[E]:"fire-perf",[P]:"fire-perf-compat",[p]:"fire-rc",[k]:"fire-rc-compat",[m]:"fire-gcs",[T]:"fire-gcs-compat",[C]:"fire-fst",[w]:"fire-fst-compat","fire-js":"fire-js",[A]:"fire-js-all"},DD=new Map,lD=new Map;function GD(D,l){try{D.container.kt(l)}catch(G){I.debug(`Component ${l.name} failed to register with FirebaseApp ${D.name}`,G)}}function VD(D,l){D.container.addOrOverwriteComponent(l)}function ND(D){const l=D.name;if(lD.has(l))return I.debug(`There were multiple attempts to register component ${l}.`),!1;lD.set(l,D);for(const G of DD.values())GD(G,D);return!0}function MD(D,l){const G=D.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),D.container.getProvider(l)}function bD(D,l){let G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;MD(D,l).clearInstance(G)}function XD(){lD.clear()}const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},RD=new M.e("app","Firebase",tD);class nD{constructor(D,l,G){this._isDeleted=!1,this._options=Object.assign({},D),this._config=Object.assign({},l),this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=G,this.container.kt(new V.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(D){this.checkDestroyed(),this._automaticDataCollectionEnabled=D}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(D){this._isDeleted=D}checkDestroyed(){if(this.isDeleted)throw RD.create("app-deleted",{appName:this._name})}}const gD="9.23.0";function jD(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=D;if("object"!==typeof l){l={name:l}}const N=Object.assign({name:a,automaticDataCollectionEnabled:!1},l),b=N.name;if("string"!==typeof b||!b)throw RD.create("bad-app-name",{appName:String(b)});if(G||(G=(0,M.C)()),!G)throw RD.create("no-options");const X=DD.get(b);if(X){if((0,M.w)(G,X.options)&&(0,M.w)(N,X.config))return X;throw RD.create("duplicate-app",{appName:b})}const t=new V.c(b);for(const V of lD.values())t.kt(V);const R=new nD(G,N,t);return DD.set(b,R),R}function eD(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const l=DD.get(D);if(!l&&D===a&&(0,M.C)())return jD();if(!l)throw RD.create("no-app",{appName:D});return l}function KD(){return Array.from(DD.values())}async function FD(D){const l=D.name;DD.has(l)&&(DD.delete(l),await Promise.all(D.container.getProviders().map((D=>D.delete()))),D.isDeleted=!0)}function dD(D,l,G){var N;let M=null!==(N=Q[D])&&void 0!==N?N:D;G&&(M+=`-${G}`);const b=M.match(/\s|\//),X=l.match(/\s|\//);if(b||X){const D=[`Unable to register library "${M}" with version "${l}":`];return b&&D.push(`library name "${M}" contains illegal characters (whitespace or "/")`),b&&X&&D.push("and"),X&&D.push(`version name "${l}" contains illegal characters (whitespace or "/")`),void I.warn(D.join(" "))}ND(new V.g(`${M}-version`,(()=>({library:M,version:l})),"VERSION"))}function HD(D,l){if(null!==D&&"function"!==typeof D)throw RD.create("invalid-log-argument");(0,N.m)(D,l)}function hD(D){(0,N.k)(D)}const xD="firebase-heartbeat-store";let rD=null;function oD(){return rD||(rD=function(D,l){let{blocked:G,upgrade:V,blocking:N,terminated:M}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const b=indexedDB.open(D,l),X=d(b);return V&&b.addEventListener("upgradeneeded",(D=>{V(d(b.result),D.oldVersion,D.newVersion,d(b.transaction),D)})),G&&b.addEventListener("blocked",(D=>G(D.oldVersion,D.newVersion,D))),X.then((D=>{M&&D.addEventListener("close",(()=>M())),N&&D.addEventListener("versionchange",(D=>N(D.oldVersion,D.newVersion,D)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(D,l)=>{if(0===l)D.createObjectStore(xD)}}).catch((D=>{throw RD.create("idb-open",{originalErrorMessage:D.message})}))),rD}async function LD(D,l){try{const G=(await oD()).transaction(xD,"readwrite"),V=G.objectStore(xD);await V.put(l,uD(D)),await G.done}catch(G){if(G instanceof M.h)I.warn(G.message);else{const D=RD.create("idb-set",{originalErrorMessage:null===G||void 0===G?void 0:G.message});I.warn(D.message)}}}function uD(D){return`${D.name}!${D.options.appId}`}class BD{constructor(D){this.container=D,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this.cg=new WD(l),this._heartbeatsCachePromise=this.cg.read().then((D=>(this._heartbeatsCache=D,D)))}async triggerHeartbeat(){const D=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ID();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==l&&!this._heartbeatsCache.heartbeats.some((D=>D.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:D}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((D=>{const l=new Date(D.date).valueOf();return Date.now()-l<=2592e6})),this.cg.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const D=ID(),{heartbeatsToSend:l,unsentEntries:G}=function(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const G=[];let V=D.slice();for(const N of D){const D=G.find((D=>D.agent===N.agent));if(D){if(D.dates.push(N.date),iD(G)>l){D.dates.pop();break}}else if(G.push({agent:N.agent,dates:[N.date]}),iD(G)>l){G.pop();break}V=V.slice(1)}return{heartbeatsToSend:G,unsentEntries:V}}(this._heartbeatsCache.heartbeats),V=(0,M.r)(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=D,G.length>0?(this._heartbeatsCache.heartbeats=G,await this.cg.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.cg.overwrite(this._heartbeatsCache)),V}}function ID(){return(new Date).toISOString().substring(0,10)}class WD{constructor(D){this.app=D,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,M.T)()&&(0,M.hb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(D){try{const l=await oD();return await l.transaction(xD).objectStore(xD).get(uD(D))}catch(l){if(l instanceof M.h)I.warn(l.message);else{const D=RD.create("idb-get",{originalErrorMessage:null===l||void 0===l?void 0:l.message});I.warn(D.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(D){var l;if(await this._canUseIndexedDBPromise){const G=await this.read();return LD(this.app,{lastSentHeartbeatDate:null!==(l=D.lastSentHeartbeatDate)&&void 0!==l?l:G.lastSentHeartbeatDate,heartbeats:D.heartbeats})}}async add(D){var l;if(await this._canUseIndexedDBPromise){const G=await this.read();return LD(this.app,{lastSentHeartbeatDate:null!==(l=D.lastSentHeartbeatDate)&&void 0!==l?l:G.lastSentHeartbeatDate,heartbeats:[...G.heartbeats,...D.heartbeats]})}}}function iD(D){return(0,M.r)(JSON.stringify({version:2,heartbeats:D})).length}var yD;yD="",ND(new V.g("platform-logger",(D=>new L(D)),"PRIVATE")),ND(new V.g("heartbeat",(D=>new BD(D)),"PRIVATE")),dD(u,B,yD),dD(u,B,"esm2017"),dD("fire-js","")},11507:(D,l,G)=>{G.d(l,{c:()=>X,g:()=>N});var V=G(11510);class N{constructor(D,l,G){this.name=D,this.instanceFactory=l,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(D){return this.instantiationMode=D,this}setMultipleInstances(D){return this.multipleInstances=D,this}setServiceProps(D){return this.serviceProps=D,this}setInstanceCreatedCallback(D){return this.onInstanceCreated=D,this}}const M="[DEFAULT]";class b{constructor(D,l){this.name=D,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(D){const l=this.normalizeInstanceIdentifier(D);if(!this.instancesDeferred.has(l)){const D=new V.b;if(this.instancesDeferred.set(l,D),this.isInitialized(l)||this.shouldAutoInitialize())try{const G=this.getOrInitializeService({instanceIdentifier:l});G&&D.resolve(G)}catch(G){}}return this.instancesDeferred.get(l).promise}getImmediate(D){var l;const G=this.normalizeInstanceIdentifier(null===D||void 0===D?void 0:D.identifier),V=null!==(l=null===D||void 0===D?void 0:D.optional)&&void 0!==l&&l;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(V)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(N){if(V)return null;throw N}}getComponent(){return this.component}setComponent(D){if(D.name!==this.name)throw Error(`Mismatching Component ${D.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=D,this.shouldAutoInitialize()){if(function(D){return"EAGER"===D.instantiationMode}(D))try{this.getOrInitializeService({instanceIdentifier:M})}catch(l){}for(const[D,G]of this.instancesDeferred.entries()){const V=this.normalizeInstanceIdentifier(D);try{const D=this.getOrInitializeService({instanceIdentifier:V});G.resolve(D)}catch(l){}}}}clearInstance(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;this.instancesDeferred.delete(D),this.instancesOptions.delete(D),this.instances.delete(D)}async delete(){const D=Array.from(this.instances.values());await Promise.all([...D.filter((D=>"INTERNAL"in D)).map((D=>D.INTERNAL.delete())),...D.filter((D=>"_delete"in D)).map((D=>D._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instances.has(D)}getOptions(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instancesOptions.get(D)||{}}initialize(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:l={}}=D,G=this.normalizeInstanceIdentifier(D.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const V=this.getOrInitializeService({instanceIdentifier:G,options:l});for(const[N,M]of this.instancesDeferred.entries()){G===this.normalizeInstanceIdentifier(N)&&M.resolve(V)}return V}Gg(D,l){var G;const V=this.normalizeInstanceIdentifier(l),N=null!==(G=this.onInitCallbacks.get(V))&&void 0!==G?G:new Set;N.add(D),this.onInitCallbacks.set(V,N);const M=this.instances.get(V);return M&&D(M,V),()=>{N.delete(D)}}invokeOnInitCallbacks(D,l){const G=this.onInitCallbacks.get(l);if(G)for(const N of G)try{N(D,l)}catch(V){}}getOrInitializeService(D){let{instanceIdentifier:l,options:G={}}=D,V=this.instances.get(l);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(N=l,N===M?void 0:N),options:G}),this.instances.set(l,V),this.instancesOptions.set(l,G),this.invokeOnInitCallbacks(V,l),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,l,V)}catch(b){}var N;return V||null}normalizeInstanceIdentifier(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.component?this.component.multipleInstances?D:M:D}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(D){this.name=D,this.providers=new Map}kt(D){const l=this.getProvider(D.name);if(l.isComponentSet())throw new Error(`Component ${D.name} has already been registered with ${this.name}`);l.setComponent(D)}addOrOverwriteComponent(D){this.getProvider(D.name).isComponentSet()&&this.providers.delete(D.name),this.kt(D)}getProvider(D){if(this.providers.has(D))return this.providers.get(D);const l=new b(D,this);return this.providers.set(D,l),l}getProviders(){return Array.from(this.providers.values())}}},11518:(D,l,G)=>{G.d(l,{e:()=>N,g:()=>R,k:()=>n,m:()=>g});const V=[];var N;!function(D){D[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT"}(N||(N={}));const M={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},b=N.INFO,X={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},t=function(D,l){if(l<D.logLevel)return;const G=(new Date).toISOString(),V=X[l];if(!V)throw new Error(`Attempted to log a message with an invalid logType (value: ${l})`);for(var N=arguments.length,M=new Array(N>2?N-2:0),b=2;b<N;b++)M[b-2]=arguments[b];console[V](`[${G}]  ${D.name}:`,...M)};class R{constructor(D){this.name=D,this._logLevel=b,this._logHandler=t,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(D){if(!(D in N))throw new TypeError(`Invalid value "${D}" assigned to \`logLevel\``);this._logLevel=D}setLogLevel(D){this._logLevel="string"===typeof D?M[D]:D}get logHandler(){return this._logHandler}set logHandler(D){if("function"!==typeof D)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=D}get userLogHandler(){return this._userLogHandler}set userLogHandler(D){this._userLogHandler=D}debug(){for(var D=arguments.length,l=new Array(D),G=0;G<D;G++)l[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...l),this._logHandler(this,N.DEBUG,...l)}log(){for(var D=arguments.length,l=new Array(D),G=0;G<D;G++)l[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...l),this._logHandler(this,N.VERBOSE,...l)}info(){for(var D=arguments.length,l=new Array(D),G=0;G<D;G++)l[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,N.INFO,...l),this._logHandler(this,N.INFO,...l)}warn(){for(var D=arguments.length,l=new Array(D),G=0;G<D;G++)l[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,N.WARN,...l),this._logHandler(this,N.WARN,...l)}error(){for(var D=arguments.length,l=new Array(D),G=0;G<D;G++)l[G]=arguments[G];this._userLogHandler&&this._userLogHandler(this,N.ERROR,...l),this._logHandler(this,N.ERROR,...l)}}function n(D){V.forEach((l=>{l.setLogLevel(D)}))}function g(D,l){for(const G of V){let V=null;l&&l.level&&(V=M[l.level]),G.userLogHandler=null===D?null:function(l,G){for(var M=arguments.length,b=new Array(M>2?M-2:0),X=2;X<M;X++)b[X-2]=arguments[X];const t=b.map((D=>{if(null==D)return null;if("string"===typeof D)return D;if("number"===typeof D||"boolean"===typeof D)return D.toString();if(D instanceof Error)return D.message;try{return JSON.stringify(D)}catch(l){return null}})).filter((D=>D)).join(" ");G>=(null!==V&&void 0!==V?V:l.logLevel)&&D({level:N[G].toLowerCase(),message:t,args:b,type:l.name})}}}}}]);