/*! For license information please see eeoa1r.5.df1b505e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10635:(E,b,h)=>{h.d(b,{$:()=>Y,C:()=>U,F:()=>s,H:()=>B,I:()=>K,K:()=>u,L:()=>g,N:()=>c,P:()=>M,R:()=>I,V:()=>D,Y:()=>S,_:()=>r,bb:()=>j,e:()=>o,i:()=>n,j:()=>A,l:()=>P,m:()=>l,o:()=>V,s:()=>m,t:()=>N,v:()=>z,y:()=>w});const a=function(E){const b=[];let h=0;for(let a=0;a<E.length;a++){let k=E.charCodeAt(a);k<128?b[h++]=k:k<2048?(b[h++]=k>>6|192,b[h++]=63&k|128):55296===(64512&k)&&a+1<E.length&&56320===(64512&E.charCodeAt(a+1))?(k=65536+((1023&k)<<10)+(1023&E.charCodeAt(++a)),b[h++]=k>>18|240,b[h++]=k>>12&63|128,b[h++]=k>>6&63|128,b[h++]=63&k|128):(b[h++]=k>>12|224,b[h++]=k>>6&63|128,b[h++]=63&k|128)}return b},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(E,b){if(!Array.isArray(E))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let k=0;k<E.length;k+=3){const b=E[k],G=k+1<E.length,V=G?E[k+1]:0,l=k+2<E.length,O=l?E[k+2]:0,v=b>>2,s=(3&b)<<4|V>>4;let U=(15&V)<<2|O>>6,B=63&O;l||(B=64,G||(U=64)),a.push(h[v],h[s],h[U],h[B])}return a.join("")},encodeString(E,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(E):this.encodeByteArray(a(E),b)},decodeString(E,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(E):function(E){const b=[];let h=0,a=0;for(;h<E.length;){const k=E[h++];if(k<128)b[a++]=String.fromCharCode(k);else if(k>191&&k<224){const G=E[h++];b[a++]=String.fromCharCode((31&k)<<6|63&G)}else if(k>239&&k<365){const G=((7&k)<<18|(63&E[h++])<<12|(63&E[h++])<<6|63&E[h++])-65536;b[a++]=String.fromCharCode(55296+(G>>10)),b[a++]=String.fromCharCode(56320+(1023&G))}else{const G=E[h++],V=E[h++];b[a++]=String.fromCharCode((15&k)<<12|(63&G)<<6|63&V)}}return b.join("")}(this.decodeStringToByteArray(E,b))},decodeStringToByteArray(E,b){this.init_();const h=b?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let k=0;k<E.length;){const b=h[E.charAt(k++)],V=k<E.length?h[E.charAt(k)]:0;++k;const l=k<E.length?h[E.charAt(k)]:64;++k;const O=k<E.length?h[E.charAt(k)]:64;if(++k,null==b||null==V||null==l||null==O)throw new G;const v=b<<2|V>>4;if(a.push(v),64!==l){const E=V<<4&240|l>>2;if(a.push(E),64!==O){const E=l<<6&192|O;a.push(E)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let E=0;E<this.ENCODED_VALS.length;E++)this.byteToCharMap_[E]=this.ENCODED_VALS.charAt(E),this.charToByteMap_[this.byteToCharMap_[E]]=E,this.byteToCharMapWebSafe_[E]=this.ENCODED_VALS_WEBSAFE.charAt(E),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[E]]=E,E>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(E)]=E,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(E)]=E)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V=function(E){return function(E){const b=a(E);return k.encodeByteArray(b,!0)}(E).replace(/\./g,"")},l=function(E){try{return k.decodeString(E,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const O=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof h.g)return h.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,v=()=>{try{return O()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let E;try{E=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(h){return}const b=E&&l(E[1]);return b&&JSON.parse(b)})()}catch(E){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${E}`)}},s=E=>{var b,h;return null===(h=null===(b=v())||void 0===b?void 0:b.emulatorHosts)||void 0===h?void 0:h[E]},U=()=>{var E;return null===(E=v())||void 0===E?void 0:E.config},B=E=>{var b;return null===(b=v())||void 0===b?void 0:b[`_${E}`]};class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((E,b)=>{this.resolve=E,this.reject=b}))}wrapCallback(E){return(b,h)=>{b?this.reject(b):this.resolve(h),"function"===typeof E&&(this.promise.catch((()=>{})),1===E.length?E(b):E(b,h))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function D(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function g(){const E="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof E&&void 0!==E.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const E=u();return E.indexOf("MSIE ")>=0||E.indexOf("Trident/")>=0}function I(){try{return"object"===typeof indexedDB}catch(E){return!1}}function j(){return new Promise(((E,b)=>{try{let h=!0;const a="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(a);k.onsuccess=()=>{k.result.close(),h||self.indexedDB.deleteDatabase(a),E(!0)},k.onupgradeneeded=()=>{h=!1},k.onerror=()=>{var E;b((null===(E=k.error)||void 0===E?void 0:E.message)||"")}}catch(h){b(h)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class A extends Error{constructor(E,b,h){super(b),this.code=E,this.customData=h,this.name="FirebaseError",Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n.prototype.create)}}class n{constructor(E,b,h){this.service=E,this.serviceName=b,this.errors=h}create(E){const b=(arguments.length<=1?void 0:arguments[1])||{},h=`${this.service}/${E}`,a=this.errors[E],k=a?function(E,b){return E.replace(d,((E,h)=>{const a=b[h];return null!=a?String(a):`<${h}?>`}))}(a,b):"Error",G=`${this.serviceName}: ${k} (${h}).`;return new A(h,G,b)}}const d=/\{\$([^}]+)}/g;function c(E){for(const b in E)if(Object.prototype.hasOwnProperty.call(E,b))return!1;return!0}function z(E,b){if(E===b)return!0;const h=Object.keys(E),a=Object.keys(b);for(const k of h){if(!a.includes(k))return!1;const h=E[k],G=b[k];if(Z(h)&&Z(G)){if(!z(h,G))return!1}else if(h!==G)return!1}for(const k of a)if(!h.includes(k))return!1;return!0}function Z(E){return null!==E&&"object"===typeof E}function Y(E){const b=[];for(const[h,a]of Object.entries(E))Array.isArray(a)?a.forEach((E=>{b.push(encodeURIComponent(h)+"="+encodeURIComponent(E))})):b.push(encodeURIComponent(h)+"="+encodeURIComponent(a));return b.length?"&"+b.join("&"):""}function r(E){const b={};return E.replace(/^\?/,"").split("&").forEach((E=>{if(E){const[h,a]=E.split("=");b[decodeURIComponent(h)]=decodeURIComponent(a)}})),b}function w(E){const b=E.indexOf("?");if(!b)return"";const h=E.indexOf("#",b);return E.substring(b,h>0?h:void 0)}function N(E,b){const h=new H(E,b);return h.subscribe.bind(h)}class H{constructor(E,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{E(this)})).catch((E=>{this.error(E)}))}next(E){this.forEachObserver((b=>{b.next(E)}))}error(E){this.forEachObserver((b=>{b.error(E)})),this.close(E)}complete(){this.forEachObserver((E=>{E.complete()})),this.close()}subscribe(E,b,h){let a;if(void 0===E&&void 0===b&&void 0===h)throw new Error("Missing Observer.");a=function(E,b){if("object"!==typeof E||null===E)return!1;for(const h of b)if(h in E&&"function"===typeof E[h])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:b,complete:h},void 0===a.next&&(a.next=f),void 0===a.error&&(a.error=f),void 0===a.complete&&(a.complete=f);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch(E){}})),this.observers.push(a),k}unsubscribeOne(E){void 0!==this.observers&&void 0!==this.observers[E]&&(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,E)}sendOne(E,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{b(this.observers[E])}catch(h){"undefined"!==typeof console&&console.error&&console.error(h)}}))}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function f(){}const F=1e3,y=2,e=144e5,J=.5;function m(E){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;const h=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F)*Math.pow(b,E),a=Math.round(J*h*(Math.random()-.5)*2);return Math.min(e,h+a)}function K(E){return E&&E._delegate?E._delegate:E}},10627:(E,b,h)=>{h.d(b,{d:()=>G.j,g:()=>UE,j:()=>i,k:()=>hE,o:()=>aE,p:()=>EE,q:()=>lE,t:()=>bE,w:()=>GE,A:()=>kE,C:()=>VE,D:()=>DE,F:()=>oE,E:()=>uE,J:()=>BE,N:()=>SE,Q:()=>gE,U:()=>ME});var a=h(10632),k=h(10637),G=h(10635);let V,l;const O=new WeakMap,v=new WeakMap,s=new WeakMap,U=new WeakMap,B=new WeakMap;let o={get(E,b,h){if(E instanceof IDBTransaction){if("done"===b)return v.get(E);if("objectStoreNames"===b)return E.objectStoreNames||s.get(E);if("store"===b)return h.objectStoreNames[1]?void 0:h.objectStore(h.objectStoreNames[0])}return g(E[b])},set:(E,b,h)=>(E[b]=h,!0),has:(E,b)=>E instanceof IDBTransaction&&("done"===b||"store"===b)||b in E};function u(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(E)?function(){for(var b=arguments.length,h=new Array(b),a=0;a<b;a++)h[a]=arguments[a];return E.apply(S(this),h),g(O.get(this))}:function(){for(var b=arguments.length,h=new Array(b),a=0;a<b;a++)h[a]=arguments[a];return g(E.apply(S(this),h))}:function(b){for(var h=arguments.length,a=new Array(h>1?h-1:0),k=1;k<h;k++)a[k-1]=arguments[k];const G=E.call(S(this),b,...a);return s.set(G,b.sort?b.sort():[b]),g(G)}}function D(E){return"function"===typeof E?u(E):(E instanceof IDBTransaction&&function(E){if(v.has(E))return;const b=new Promise(((b,h)=>{const a=()=>{E.removeEventListener("complete",k),E.removeEventListener("error",G),E.removeEventListener("abort",G)},k=()=>{b(),a()},G=()=>{h(E.error||new DOMException("AbortError","AbortError")),a()};E.addEventListener("complete",k),E.addEventListener("error",G),E.addEventListener("abort",G)}));v.set(E,b)}(E),b=E,(V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((E=>b instanceof E))?new Proxy(E,o):E);var b}function g(E){if(E instanceof IDBRequest)return function(E){const b=new Promise(((b,h)=>{const a=()=>{E.removeEventListener("success",k),E.removeEventListener("error",G)},k=()=>{b(g(E.result)),a()},G=()=>{h(E.error),a()};E.addEventListener("success",k),E.addEventListener("error",G)}));return b.then((b=>{b instanceof IDBCursor&&O.set(b,E)})).catch((()=>{})),B.set(b,E),b}(E);if(U.has(E))return U.get(E);const b=D(E);return b!==E&&(U.set(E,b),B.set(b,E)),b}const S=E=>B.get(E);const M=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],j=new Map;function P(E,b){if(!(E instanceof IDBDatabase)||b in E||"string"!==typeof b)return;if(j.get(b))return j.get(b);const h=b.replace(/FromIndex$/,""),a=b!==h,k=I.includes(h);if(!(h in(a?IDBIndex:IDBObjectStore).prototype)||!k&&!M.includes(h))return;const G=async function(E){const b=this.transaction(E,k?"readwrite":"readonly");let G=b.store;for(var V=arguments.length,l=new Array(V>1?V-1:0),O=1;O<V;O++)l[O-1]=arguments[O];return a&&(G=G.index(l.shift())),(await Promise.all([G[h](...l),k&&b.done]))[0]};return j.set(b,G),G}o=(E=>({...E,get:(b,h,a)=>P(b,h)||E.get(b,h,a),has:(b,h)=>!!P(b,h)||E.has(b,h)}))(o);class A{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map((E=>{if(function(E){const b=E.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(E)){const b=E.getImmediate();return`${b.library}/${b.version}`}return null})).filter((E=>E)).join(" ")}}const n="@firebase/app",d="0.9.13",c=new k.d("@firebase/app"),z="@firebase/app-compat",Z="@firebase/analytics-compat",Y="@firebase/analytics",r="@firebase/app-check-compat",w="@firebase/app-check",N="@firebase/auth",H="@firebase/auth-compat",f="@firebase/database",F="@firebase/database-compat",y="@firebase/functions",e="@firebase/functions-compat",J="@firebase/installations",m="@firebase/installations-compat",K="@firebase/messaging",x="@firebase/messaging-compat",W="@firebase/performance",L="@firebase/performance-compat",t="@firebase/remote-config",T="@firebase/remote-config-compat",X="@firebase/storage",C="@firebase/storage-compat",q="@firebase/firestore",R="@firebase/firestore-compat",Q="firebase",i="[DEFAULT]",p={[n]:"fire-core",[z]:"fire-core-compat",[Y]:"fire-analytics",[Z]:"fire-analytics-compat",[w]:"fire-app-check",[r]:"fire-app-check-compat",[N]:"fire-auth",[H]:"fire-auth-compat",[f]:"fire-rtdb",[F]:"fire-rtdb-compat",[y]:"fire-fn",[e]:"fire-fn-compat",[J]:"fire-iid",[m]:"fire-iid-compat",[K]:"fire-fcm",[x]:"fire-fcm-compat",[W]:"fire-perf",[L]:"fire-perf-compat",[t]:"fire-rc",[T]:"fire-rc-compat",[X]:"fire-gcs",[C]:"fire-gcs-compat",[q]:"fire-fst",[R]:"fire-fst-compat","fire-js":"fire-js",[Q]:"fire-js-all"},EE=new Map,bE=new Map;function hE(E,b){try{E.container.vf(b)}catch(h){c.debug(`Component ${b.name} failed to register with FirebaseApp ${E.name}`,h)}}function aE(E,b){E.container.addOrOverwriteComponent(b)}function kE(E){const b=E.name;if(bE.has(b))return c.debug(`There were multiple attempts to register component ${b}.`),!1;bE.set(b,E);for(const h of EE.values())hE(h,E);return!0}function GE(E,b){const h=E.container.getProvider("heartbeat").getImmediate({optional:!0});return h&&h.triggerHeartbeat(),E.container.getProvider(b)}function VE(E,b){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;GE(E,b).clearInstance(h)}function lE(){bE.clear()}const OE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vE=new G.i("app","Firebase",OE);class sE{constructor(E,b,h){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=h,this.container.vf(new a.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw vE.create("app-deleted",{appName:this._name})}}const UE="9.23.0";function BE(E){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=E;if("object"!==typeof b){b={name:b}}const k=Object.assign({name:i,automaticDataCollectionEnabled:!1},b),V=k.name;if("string"!==typeof V||!V)throw vE.create("bad-app-name",{appName:String(V)});if(h||(h=(0,G.C)()),!h)throw vE.create("no-options");const l=EE.get(V);if(l){if((0,G.v)(h,l.options)&&(0,G.v)(k,l.config))return l;throw vE.create("duplicate-app",{appName:V})}const O=new a.b(V);for(const a of bE.values())O.vf(a);const v=new sE(h,k,O);return EE.set(V,v),v}function oE(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;const b=EE.get(E);if(!b&&E===i&&(0,G.C)())return BE();if(!b)throw vE.create("no-app",{appName:E});return b}function uE(){return Array.from(EE.values())}async function DE(E){const b=E.name;EE.has(b)&&(EE.delete(b),await Promise.all(E.container.getProviders().map((E=>E.delete()))),E.isDeleted=!0)}function gE(E,b,h){var k;let G=null!==(k=p[E])&&void 0!==k?k:E;h&&(G+=`-${h}`);const V=G.match(/\s|\//),l=b.match(/\s|\//);if(V||l){const E=[`Unable to register library "${G}" with version "${b}":`];return V&&E.push(`library name "${G}" contains illegal characters (whitespace or "/")`),V&&l&&E.push("and"),l&&E.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void c.warn(E.join(" "))}kE(new a.f(`${G}-version`,(()=>({library:G,version:b})),"VERSION"))}function SE(E,b){if(null!==E&&"function"!==typeof E)throw vE.create("invalid-log-argument");(0,k.i)(E,b)}function ME(E){(0,k.g)(E)}const IE="firebase-heartbeat-store";let jE=null;function PE(){return jE||(jE=function(E,b){let{blocked:h,upgrade:a,blocking:k,terminated:G}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const V=indexedDB.open(E,b),l=g(V);return a&&V.addEventListener("upgradeneeded",(E=>{a(g(V.result),E.oldVersion,E.newVersion,g(V.transaction),E)})),h&&V.addEventListener("blocked",(E=>h(E.oldVersion,E.newVersion,E))),l.then((E=>{G&&E.addEventListener("close",(()=>G())),k&&E.addEventListener("versionchange",(E=>k(E.oldVersion,E.newVersion,E)))})).catch((()=>{})),l}("firebase-heartbeat-database",1,{upgrade:(E,b)=>{if(0===b)E.createObjectStore(IE)}}).catch((E=>{throw vE.create("idb-open",{originalErrorMessage:E.message})}))),jE}async function AE(E,b){try{const h=(await PE()).transaction(IE,"readwrite"),a=h.objectStore(IE);await a.put(b,nE(E)),await h.done}catch(h){if(h instanceof G.j)c.warn(h.message);else{const E=vE.create("idb-set",{originalErrorMessage:null===h||void 0===h?void 0:h.message});c.warn(E.message)}}}function nE(E){return`${E.name}!${E.options.appId}`}class dE{constructor(E){this.container=E,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.Ki=new zE(b),this._heartbeatsCachePromise=this.Ki.read().then((E=>(this._heartbeatsCache=E,E)))}async triggerHeartbeat(){const E=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=cE();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((E=>E.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:E}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((E=>{const b=new Date(E.date).valueOf();return Date.now()-b<=2592e6})),this.Ki.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const E=cE(),{heartbeatsToSend:b,unsentEntries:h}=function(E){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const h=[];let a=E.slice();for(const k of E){const E=h.find((E=>E.agent===k.agent));if(E){if(E.dates.push(k.date),ZE(h)>b){E.dates.pop();break}}else if(h.push({agent:k.agent,dates:[k.date]}),ZE(h)>b){h.pop();break}a=a.slice(1)}return{heartbeatsToSend:h,unsentEntries:a}}(this._heartbeatsCache.heartbeats),a=(0,G.o)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=E,h.length>0?(this._heartbeatsCache.heartbeats=h,await this.Ki.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ki.overwrite(this._heartbeatsCache)),a}}function cE(){return(new Date).toISOString().substring(0,10)}class zE{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,G.R)()&&(0,G.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(E){try{const b=await PE();return await b.transaction(IE).objectStore(IE).get(nE(E))}catch(b){if(b instanceof G.j)c.warn(b.message);else{const E=vE.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});c.warn(E.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(E){var b;if(await this._canUseIndexedDBPromise){const h=await this.read();return AE(this.app,{lastSentHeartbeatDate:null!==(b=E.lastSentHeartbeatDate)&&void 0!==b?b:h.lastSentHeartbeatDate,heartbeats:E.heartbeats})}}async add(E){var b;if(await this._canUseIndexedDBPromise){const h=await this.read();return AE(this.app,{lastSentHeartbeatDate:null!==(b=E.lastSentHeartbeatDate)&&void 0!==b?b:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...E.heartbeats]})}}}function ZE(E){return(0,G.o)(JSON.stringify({version:2,heartbeats:E})).length}var YE;YE="",kE(new a.f("platform-logger",(E=>new A(E)),"PRIVATE")),kE(new a.f("heartbeat",(E=>new dE(E)),"PRIVATE")),gE(n,d,YE),gE(n,d,"esm2017"),gE("fire-js","")},10632:(E,b,h)=>{h.d(b,{b:()=>l,f:()=>k});var a=h(10635);class k{constructor(E,b,h){this.name=E,this.instanceFactory=b,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}const G="[DEFAULT]";class V{constructor(E,b){this.name=E,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const b=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(b)){const E=new a.e;if(this.instancesDeferred.set(b,E),this.isInitialized(b)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:b});h&&E.resolve(h)}catch(h){}}return this.instancesDeferred.get(b).promise}getImmediate(E){var b;const h=this.normalizeInstanceIdentifier(null===E||void 0===E?void 0:E.identifier),a=null!==(b=null===E||void 0===E?void 0:E.optional)&&void 0!==b&&b;if(!this.isInitialized(h)&&!this.shouldAutoInitialize()){if(a)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:h})}catch(k){if(a)return null;throw k}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,this.shouldAutoInitialize()){if(function(E){return"EAGER"===E.instantiationMode}(E))try{this.getOrInitializeService({instanceIdentifier:G})}catch(b){}for(const[E,h]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(E);try{const E=this.getOrInitializeService({instanceIdentifier:a});h.resolve(E)}catch(b){}}}}clearInstance(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}async delete(){const E=Array.from(this.instances.values());await Promise.all([...E.filter((E=>"INTERNAL"in E)).map((E=>E.INTERNAL.delete())),...E.filter((E=>"_delete"in E)).map((E=>E._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instances.has(E)}getOptions(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instancesOptions.get(E)||{}}initialize(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=E,h=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:h,options:b});for(const[k,G]of this.instancesDeferred.entries()){h===this.normalizeInstanceIdentifier(k)&&G.resolve(a)}return a}oi(E,b){var h;const a=this.normalizeInstanceIdentifier(b),k=null!==(h=this.onInitCallbacks.get(a))&&void 0!==h?h:new Set;k.add(E),this.onInitCallbacks.set(a,k);const G=this.instances.get(a);return G&&E(G,a),()=>{k.delete(E)}}invokeOnInitCallbacks(E,b){const h=this.onInitCallbacks.get(b);if(h)for(const k of h)try{k(E,b)}catch(a){}}getOrInitializeService(E){let{instanceIdentifier:b,options:h={}}=E,a=this.instances.get(b);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(k=b,k===G?void 0:k),options:h}),this.instances.set(b,a),this.instancesOptions.set(b,h),this.invokeOnInitCallbacks(a,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,a)}catch(V){}var k;return a||null}normalizeInstanceIdentifier(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.component?this.component.multipleInstances?E:G:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(E){this.name=E,this.providers=new Map}vf(E){const b=this.getProvider(E.name);if(b.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);b.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.vf(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const b=new V(E,this);return this.providers.set(E,b),b}getProviders(){return Array.from(this.providers.values())}}},10637:(E,b,h)=>{h.d(b,{b:()=>k,d:()=>v,g:()=>s,i:()=>U});const a=[];var k;!function(E){E[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT"}(k||(k={}));const G={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},V=k.INFO,l={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},O=function(E,b){if(b<E.logLevel)return;const h=(new Date).toISOString(),a=l[b];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var k=arguments.length,G=new Array(k>2?k-2:0),V=2;V<k;V++)G[V-2]=arguments[V];console[a](`[${h}]  ${E.name}:`,...G)};class v{constructor(E){this.name=E,this._logLevel=V,this._logHandler=O,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in k))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"===typeof E?G[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!==typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(){for(var E=arguments.length,b=new Array(E),h=0;h<E;h++)b[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...b),this._logHandler(this,k.DEBUG,...b)}log(){for(var E=arguments.length,b=new Array(E),h=0;h<E;h++)b[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...b),this._logHandler(this,k.VERBOSE,...b)}info(){for(var E=arguments.length,b=new Array(E),h=0;h<E;h++)b[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,k.INFO,...b),this._logHandler(this,k.INFO,...b)}warn(){for(var E=arguments.length,b=new Array(E),h=0;h<E;h++)b[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,k.WARN,...b),this._logHandler(this,k.WARN,...b)}error(){for(var E=arguments.length,b=new Array(E),h=0;h<E;h++)b[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,k.ERROR,...b),this._logHandler(this,k.ERROR,...b)}}function s(E){a.forEach((b=>{b.setLogLevel(E)}))}function U(E,b){for(const h of a){let a=null;b&&b.level&&(a=G[b.level]),h.userLogHandler=null===E?null:function(b,h){for(var G=arguments.length,V=new Array(G>2?G-2:0),l=2;l<G;l++)V[l-2]=arguments[l];const O=V.map((E=>{if(null==E)return null;if("string"===typeof E)return E;if("number"===typeof E||"boolean"===typeof E)return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(b){return null}})).filter((E=>E)).join(" ");h>=(null!==a&&void 0!==a?a:b.logLevel)&&E({level:k[h].toLowerCase(),message:O,args:V,type:b.name})}}}}}]);