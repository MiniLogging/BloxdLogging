/*! For license information please see ae19fm.5.e9590499.chunk.js.LICENSE.txt */
"use strict";(self.ufnpnb83drd=self.ufnpnb83drd||[]).push([[5],{12137:(E,U,g)=>{g.d(U,{$:()=>e,A:()=>r,D:()=>P,F:()=>B,G:()=>F,K:()=>mE,O:()=>d,S:()=>y,W:()=>b,Y:()=>V,c:()=>f,cb:()=>I,g:()=>t,gb:()=>h,h:()=>Y,hb:()=>c,i:()=>l,ib:()=>o,j:()=>u,kb:()=>x,n:()=>S,q:()=>M,t:()=>j,w:()=>T});const N=function(E){const U=[];let g=0;for(let N=0;N<E.length;N++){let L=E.charCodeAt(N);L<128?U[g++]=L:L<2048?(U[g++]=L>>6|192,U[g++]=63&L|128):55296===(64512&L)&&N+1<E.length&&56320===(64512&E.charCodeAt(N+1))?(L=65536+((1023&L)<<10)+(1023&E.charCodeAt(++N)),U[g++]=L>>18|240,U[g++]=L>>12&63|128,U[g++]=L>>6&63|128,U[g++]=63&L|128):(U[g++]=L>>12|224,U[g++]=L>>6&63|128,U[g++]=63&L|128)}return U},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(E,U){if(!Array.isArray(E))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let L=0;L<E.length;L+=3){const U=E[L],D=L+1<E.length,S=D?E[L+1]:0,u=L+2<E.length,s=u?E[L+2]:0,C=U>>2,B=(3&U)<<4|S>>4;let P=(15&S)<<2|s>>6,F=63&s;u||(F=64,D||(P=64)),N.push(g[C],g[B],g[P],g[F])}return N.join("")},encodeString(E,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(E):this.encodeByteArray(N(E),U)},decodeString(E,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(E):function(E){const U=[];let g=0,N=0;for(;g<E.length;){const L=E[g++];if(L<128)U[N++]=String.fromCharCode(L);else if(L>191&&L<224){const D=E[g++];U[N++]=String.fromCharCode((31&L)<<6|63&D)}else if(L>239&&L<365){const D=((7&L)<<18|(63&E[g++])<<12|(63&E[g++])<<6|63&E[g++])-65536;U[N++]=String.fromCharCode(55296+(D>>10)),U[N++]=String.fromCharCode(56320+(1023&D))}else{const D=E[g++],S=E[g++];U[N++]=String.fromCharCode((15&L)<<12|(63&D)<<6|63&S)}}return U.join("")}(this.decodeStringToByteArray(E,U))},decodeStringToByteArray(E,U){this.init_();const g=U?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let L=0;L<E.length;){const U=g[E.charAt(L++)],S=L<E.length?g[E.charAt(L)]:0;++L;const u=L<E.length?g[E.charAt(L)]:64;++L;const s=L<E.length?g[E.charAt(L)]:64;if(++L,null==U||null==S||null==u||null==s)throw new D;const C=U<<2|S>>4;if(N.push(C),64!==u){const E=S<<4&240|u>>2;if(N.push(E),64!==s){const E=u<<6&192|s;N.push(E)}}}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let E=0;E<this.ENCODED_VALS.length;E++)this.byteToCharMap_[E]=this.ENCODED_VALS.charAt(E),this.charToByteMap_[this.byteToCharMap_[E]]=E,this.byteToCharMapWebSafe_[E]=this.ENCODED_VALS_WEBSAFE.charAt(E),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[E]]=E,E>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(E)]=E,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(E)]=E)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S=function(E){return function(E){const U=N(E);return L.encodeByteArray(U,!0)}(E).replace(/\./g,"")},u=function(E){try{return L.decodeString(E,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const s=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof g.g)return g.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,C=()=>{try{return s()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let E;try{E=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(g){return}const U=E&&u(E[1]);return U&&JSON.parse(U)})()}catch(E){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${E}`)}},B=E=>{var U,g;return null===(g=null===(U=C())||void 0===U?void 0:U.emulatorHosts)||void 0===g?void 0:g[E]},P=()=>{var E;return null===(E=C())||void 0===E?void 0:E.config},F=E=>{var U;return null===(U=C())||void 0===U?void 0:U[`_${E}`]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((E,U)=>{this.resolve=E,this.reject=U}))}wrapCallback(E){return(U,g)=>{U?this.reject(U):this.resolve(g),"function"===typeof E&&(this.promise.catch((()=>{})),1===E.length?E(U):E(U,g))}}}function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function y(){const E="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof E&&void 0!==E.id}function h(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function V(){const E=d();return E.indexOf("MSIE ")>=0||E.indexOf("Trident/")>=0}function e(){try{return"object"===typeof indexedDB}catch(E){return!1}}function x(){return new Promise(((E,U)=>{try{let g=!0;const N="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(N);L.onsuccess=()=>{L.result.close(),g||self.indexedDB.deleteDatabase(N),E(!0)},L.onupgradeneeded=()=>{g=!1},L.onerror=()=>{var E;U((null===(E=L.error)||void 0===E?void 0:E.message)||"")}}catch(g){U(g)}}))}function l(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Y extends Error{constructor(E,U,g){super(U),this.code=E,this.customData=g,this.name="FirebaseError",Object.setPrototypeOf(this,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t.prototype.create)}}class t{constructor(E,U,g){this.service=E,this.serviceName=U,this.errors=g}create(E){const U=(arguments.length<=1?void 0:arguments[1])||{},g=`${this.service}/${E}`,N=this.errors[E],L=N?function(E,U){return E.replace(G,((E,g)=>{const N=U[g];return null!=N?String(N):`<${g}?>`}))}(N,U):"Error",D=`${this.serviceName}: ${L} (${g}).`;return new Y(g,D,U)}}const G=/\{\$([^}]+)}/g;function b(E){for(const U in E)if(Object.prototype.hasOwnProperty.call(E,U))return!1;return!0}function T(E,U){if(E===U)return!0;const g=Object.keys(E),N=Object.keys(U);for(const L of g){if(!N.includes(L))return!1;const g=E[L],D=U[L];if(v(g)&&v(D)){if(!T(g,D))return!1}else if(g!==D)return!1}for(const L of N)if(!g.includes(L))return!1;return!0}function v(E){return null!==E&&"object"===typeof E}function o(E){const U=[];for(const[g,N]of Object.entries(E))Array.isArray(N)?N.forEach((E=>{U.push(encodeURIComponent(g)+"="+encodeURIComponent(E))})):U.push(encodeURIComponent(g)+"="+encodeURIComponent(N));return U.length?"&"+U.join("&"):""}function c(E){const U={};return E.replace(/^\?/,"").split("&").forEach((E=>{if(E){const[g,N]=E.split("=");U[decodeURIComponent(g)]=decodeURIComponent(N)}})),U}function r(E){const U=E.indexOf("?");if(!U)return"";const g=E.indexOf("#",U);return E.substring(U,g>0?g:void 0)}function j(E,U){const g=new Z(E,U);return g.subscribe.bind(g)}class Z{constructor(E,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{E(this)})).catch((E=>{this.error(E)}))}next(E){this.forEachObserver((U=>{U.next(E)}))}error(E){this.forEachObserver((U=>{U.error(E)})),this.close(E)}complete(){this.forEachObserver((E=>{E.complete()})),this.close()}subscribe(E,U,g){let N;if(void 0===E&&void 0===U&&void 0===g)throw new Error("Missing Observer.");N=function(E,U){if("object"!==typeof E||null===E)return!1;for(const g of U)if(g in E&&"function"===typeof E[g])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:U,complete:g},void 0===N.next&&(N.next=A),void 0===N.error&&(N.error=A),void 0===N.complete&&(N.complete=A);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(E){}})),this.observers.push(N),L}unsubscribeOne(E){void 0!==this.observers&&void 0!==this.observers[E]&&(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,E)}sendOne(E,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{U(this.observers[E])}catch(g){"undefined"!==typeof console&&console.error&&console.error(g)}}))}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function A(){}const w=1e3,a=2,J=144e5,q=.5;function M(E){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:w)*Math.pow(U,E),N=Math.round(q*g*(Math.random()-.5)*2);return Math.min(J,g+N)}function mE(E){return E&&E._delegate?E._delegate:E}},12131:(E,U,g)=>{g.d(U,{d:()=>D.h,g:()=>PE,k:()=>K,l:()=>gE,p:()=>NE,q:()=>EE,t:()=>uE,u:()=>UE,y:()=>DE,z:()=>LE,D:()=>SE,H:()=>IE,N:()=>fE,L:()=>dE,Q:()=>FE,T:()=>hE,V:()=>yE,W:()=>VE});var N=g(12135),L=g(12141),D=g(12137);let S,u;const s=new WeakMap,C=new WeakMap,B=new WeakMap,P=new WeakMap,F=new WeakMap;let f={get(E,U,g){if(E instanceof IDBTransaction){if("done"===U)return C.get(E);if("objectStoreNames"===U)return E.objectStoreNames||B.get(E);if("store"===U)return g.objectStoreNames[1]?void 0:g.objectStore(g.objectStoreNames[0])}return y(E[U])},set:(E,U,g)=>(E[U]=g,!0),has:(E,U)=>E instanceof IDBTransaction&&("done"===U||"store"===U)||U in E};function d(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(u||(u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(E)?function(){for(var U=arguments.length,g=new Array(U),N=0;N<U;N++)g[N]=arguments[N];return E.apply(h(this),g),y(s.get(this))}:function(){for(var U=arguments.length,g=new Array(U),N=0;N<U;N++)g[N]=arguments[N];return y(E.apply(h(this),g))}:function(U){for(var g=arguments.length,N=new Array(g>1?g-1:0),L=1;L<g;L++)N[L-1]=arguments[L];const D=E.call(h(this),U,...N);return B.set(D,U.sort?U.sort():[U]),y(D)}}function I(E){return"function"===typeof E?d(E):(E instanceof IDBTransaction&&function(E){if(C.has(E))return;const U=new Promise(((U,g)=>{const N=()=>{E.removeEventListener("complete",L),E.removeEventListener("error",D),E.removeEventListener("abort",D)},L=()=>{U(),N()},D=()=>{g(E.error||new DOMException("AbortError","AbortError")),N()};E.addEventListener("complete",L),E.addEventListener("error",D),E.addEventListener("abort",D)}));C.set(E,U)}(E),U=E,(S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((E=>U instanceof E))?new Proxy(E,f):E);var U}function y(E){if(E instanceof IDBRequest)return function(E){const U=new Promise(((U,g)=>{const N=()=>{E.removeEventListener("success",L),E.removeEventListener("error",D)},L=()=>{U(y(E.result)),N()},D=()=>{g(E.error),N()};E.addEventListener("success",L),E.addEventListener("error",D)}));return U.then((U=>{U instanceof IDBCursor&&s.set(U,E)})).catch((()=>{})),F.set(U,E),U}(E);if(P.has(E))return P.get(E);const U=I(E);return U!==E&&(P.set(E,U),F.set(U,E)),U}const h=E=>F.get(E);const V=["get","getKey","getAll","getAllKeys","count"],e=["put","add","delete","clear"],x=new Map;function l(E,U){if(!(E instanceof IDBDatabase)||U in E||"string"!==typeof U)return;if(x.get(U))return x.get(U);const g=U.replace(/FromIndex$/,""),N=U!==g,L=e.includes(g);if(!(g in(N?IDBIndex:IDBObjectStore).prototype)||!L&&!V.includes(g))return;const D=async function(E){const U=this.transaction(E,L?"readwrite":"readonly");let D=U.store;for(var S=arguments.length,u=new Array(S>1?S-1:0),s=1;s<S;s++)u[s-1]=arguments[s];return N&&(D=D.index(u.shift())),(await Promise.all([D[g](...u),L&&U.done]))[0]};return x.set(U,D),D}f=(E=>({...E,get:(U,g,N)=>l(U,g)||E.get(U,g,N),has:(U,g)=>!!l(U,g)||E.has(U,g)}))(f);class Y{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map((E=>{if(function(E){const U=E.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(E)){const U=E.getImmediate();return`${U.library}/${U.version}`}return null})).filter((E=>E)).join(" ")}}const t="@firebase/app",G="0.9.13",b=new L.f("@firebase/app"),T="@firebase/app-compat",v="@firebase/analytics-compat",o="@firebase/analytics",c="@firebase/app-check-compat",r="@firebase/app-check",j="@firebase/auth",Z="@firebase/auth-compat",A="@firebase/database",w="@firebase/database-compat",a="@firebase/functions",J="@firebase/functions-compat",q="@firebase/installations",M="@firebase/installations-compat",mE="@firebase/messaging",W="@firebase/messaging-compat",O="@firebase/performance",Q="@firebase/performance-compat",R="@firebase/remote-config",n="@firebase/remote-config-compat",k="@firebase/storage",z="@firebase/storage-compat",i="@firebase/firestore",p="@firebase/firestore-compat",H="firebase",K="[DEFAULT]",X={[t]:"fire-core",[T]:"fire-core-compat",[o]:"fire-analytics",[v]:"fire-analytics-compat",[r]:"fire-app-check",[c]:"fire-app-check-compat",[j]:"fire-auth",[Z]:"fire-auth-compat",[A]:"fire-rtdb",[w]:"fire-rtdb-compat",[a]:"fire-fn",[J]:"fire-fn-compat",[q]:"fire-iid",[M]:"fire-iid-compat",[mE]:"fire-fcm",[W]:"fire-fcm-compat",[O]:"fire-perf",[Q]:"fire-perf-compat",[R]:"fire-rc",[n]:"fire-rc-compat",[k]:"fire-gcs",[z]:"fire-gcs-compat",[i]:"fire-fst",[p]:"fire-fst-compat","fire-js":"fire-js",[H]:"fire-js-all"},EE=new Map,UE=new Map;function gE(E,U){try{E.container.rs(U)}catch(g){b.debug(`Component ${U.name} failed to register with FirebaseApp ${E.name}`,g)}}function NE(E,U){E.container.addOrOverwriteComponent(U)}function LE(E){const U=E.name;if(UE.has(U))return b.debug(`There were multiple attempts to register component ${U}.`),!1;UE.set(U,E);for(const g of EE.values())gE(g,E);return!0}function DE(E,U){const g=E.container.getProvider("heartbeat").getImmediate({optional:!0});return g&&g.triggerHeartbeat(),E.container.getProvider(U)}function SE(E,U){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;DE(E,U).clearInstance(g)}function uE(){UE.clear()}const sE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},CE=new D.g("app","Firebase",sE);class BE{constructor(E,U,g){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=g,this.container.rs(new N.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw CE.create("app-deleted",{appName:this._name})}}const PE="9.23.0";function FE(E){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=E;if("object"!==typeof U){U={name:U}}const L=Object.assign({name:K,automaticDataCollectionEnabled:!1},U),S=L.name;if("string"!==typeof S||!S)throw CE.create("bad-app-name",{appName:String(S)});if(g||(g=(0,D.D)()),!g)throw CE.create("no-options");const u=EE.get(S);if(u){if((0,D.w)(g,u.options)&&(0,D.w)(L,u.config))return u;throw CE.create("duplicate-app",{appName:S})}const s=new N.c(S);for(const N of UE.values())s.rs(N);const C=new BE(g,L,s);return EE.set(S,C),C}function fE(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;const U=EE.get(E);if(!U&&E===K&&(0,D.D)())return FE();if(!U)throw CE.create("no-app",{appName:E});return U}function dE(){return Array.from(EE.values())}async function IE(E){const U=E.name;EE.has(U)&&(EE.delete(U),await Promise.all(E.container.getProviders().map((E=>E.delete()))),E.isDeleted=!0)}function yE(E,U,g){var L;let D=null!==(L=X[E])&&void 0!==L?L:E;g&&(D+=`-${g}`);const S=D.match(/\s|\//),u=U.match(/\s|\//);if(S||u){const E=[`Unable to register library "${D}" with version "${U}":`];return S&&E.push(`library name "${D}" contains illegal characters (whitespace or "/")`),S&&u&&E.push("and"),u&&E.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void b.warn(E.join(" "))}LE(new N.e(`${D}-version`,(()=>({library:D,version:U})),"VERSION"))}function hE(E,U){if(null!==E&&"function"!==typeof E)throw CE.create("invalid-log-argument");(0,L.l)(E,U)}function VE(E){(0,L.h)(E)}const eE="firebase-heartbeat-store";let xE=null;function lE(){return xE||(xE=function(E,U){let{blocked:g,upgrade:N,blocking:L,terminated:D}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const S=indexedDB.open(E,U),u=y(S);return N&&S.addEventListener("upgradeneeded",(E=>{N(y(S.result),E.oldVersion,E.newVersion,y(S.transaction),E)})),g&&S.addEventListener("blocked",(E=>g(E.oldVersion,E.newVersion,E))),u.then((E=>{D&&E.addEventListener("close",(()=>D())),L&&E.addEventListener("versionchange",(E=>L(E.oldVersion,E.newVersion,E)))})).catch((()=>{})),u}("firebase-heartbeat-database",1,{upgrade:(E,U)=>{if(0===U)E.createObjectStore(eE)}}).catch((E=>{throw CE.create("idb-open",{originalErrorMessage:E.message})}))),xE}async function YE(E,U){try{const g=(await lE()).transaction(eE,"readwrite"),N=g.objectStore(eE);await N.put(U,tE(E)),await g.done}catch(g){if(g instanceof D.h)b.warn(g.message);else{const E=CE.create("idb-set",{originalErrorMessage:null===g||void 0===g?void 0:g.message});b.warn(E.message)}}}function tE(E){return`${E.name}!${E.options.appId}`}class GE{constructor(E){this.container=E,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.uP=new TE(U),this._heartbeatsCachePromise=this.uP.read().then((E=>(this._heartbeatsCache=E,E)))}async triggerHeartbeat(){const E=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=bE();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((E=>E.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:E}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((E=>{const U=new Date(E.date).valueOf();return Date.now()-U<=2592e6})),this.uP.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const E=bE(),{heartbeatsToSend:U,unsentEntries:g}=function(E){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const g=[];let N=E.slice();for(const L of E){const E=g.find((E=>E.agent===L.agent));if(E){if(E.dates.push(L.date),vE(g)>U){E.dates.pop();break}}else if(g.push({agent:L.agent,dates:[L.date]}),vE(g)>U){g.pop();break}N=N.slice(1)}return{heartbeatsToSend:g,unsentEntries:N}}(this._heartbeatsCache.heartbeats),N=(0,D.n)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=E,g.length>0?(this._heartbeatsCache.heartbeats=g,await this.uP.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.uP.overwrite(this._heartbeatsCache)),N}}function bE(){return(new Date).toISOString().substring(0,10)}class TE{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,D.$)()&&(0,D.kb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(E){try{const U=await lE();return await U.transaction(eE).objectStore(eE).get(tE(E))}catch(U){if(U instanceof D.h)b.warn(U.message);else{const E=CE.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});b.warn(E.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(E){var U;if(await this._canUseIndexedDBPromise){const g=await this.read();return YE(this.app,{lastSentHeartbeatDate:null!==(U=E.lastSentHeartbeatDate)&&void 0!==U?U:g.lastSentHeartbeatDate,heartbeats:E.heartbeats})}}async add(E){var U;if(await this._canUseIndexedDBPromise){const g=await this.read();return YE(this.app,{lastSentHeartbeatDate:null!==(U=E.lastSentHeartbeatDate)&&void 0!==U?U:g.lastSentHeartbeatDate,heartbeats:[...g.heartbeats,...E.heartbeats]})}}}function vE(E){return(0,D.n)(JSON.stringify({version:2,heartbeats:E})).length}var oE;oE="",LE(new N.e("platform-logger",(E=>new Y(E)),"PRIVATE")),LE(new N.e("heartbeat",(E=>new GE(E)),"PRIVATE")),yE(t,G,oE),yE(t,G,"esm2017"),yE("fire-js","")},12135:(E,U,g)=>{g.d(U,{c:()=>u,e:()=>L});var N=g(12137);class L{constructor(E,U,g){this.name=E,this.instanceFactory=U,this.type=g,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(E){return this.instantiationMode=E,this}setMultipleInstances(E){return this.multipleInstances=E,this}setServiceProps(E){return this.serviceProps=E,this}setInstanceCreatedCallback(E){return this.onInstanceCreated=E,this}}const D="[DEFAULT]";class S{constructor(E,U){this.name=E,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(E){const U=this.normalizeInstanceIdentifier(E);if(!this.instancesDeferred.has(U)){const E=new N.c;if(this.instancesDeferred.set(U,E),this.isInitialized(U)||this.shouldAutoInitialize())try{const g=this.getOrInitializeService({instanceIdentifier:U});g&&E.resolve(g)}catch(g){}}return this.instancesDeferred.get(U).promise}getImmediate(E){var U;const g=this.normalizeInstanceIdentifier(null===E||void 0===E?void 0:E.identifier),N=null!==(U=null===E||void 0===E?void 0:E.optional)&&void 0!==U&&U;if(!this.isInitialized(g)&&!this.shouldAutoInitialize()){if(N)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:g})}catch(L){if(N)return null;throw L}}getComponent(){return this.component}setComponent(E){if(E.name!==this.name)throw Error(`Mismatching Component ${E.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=E,this.shouldAutoInitialize()){if(function(E){return"EAGER"===E.instantiationMode}(E))try{this.getOrInitializeService({instanceIdentifier:D})}catch(U){}for(const[E,g]of this.instancesDeferred.entries()){const N=this.normalizeInstanceIdentifier(E);try{const E=this.getOrInitializeService({instanceIdentifier:N});g.resolve(E)}catch(U){}}}}clearInstance(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(E),this.instancesOptions.delete(E),this.instances.delete(E)}async delete(){const E=Array.from(this.instances.values());await Promise.all([...E.filter((E=>"INTERNAL"in E)).map((E=>E.INTERNAL.delete())),...E.filter((E=>"_delete"in E)).map((E=>E._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(E)}getOptions(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(E)||{}}initialize(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=E,g=this.normalizeInstanceIdentifier(E.instanceIdentifier);if(this.isInitialized(g))throw Error(`${this.name}(${g}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const N=this.getOrInitializeService({instanceIdentifier:g,options:U});for(const[L,D]of this.instancesDeferred.entries()){g===this.normalizeInstanceIdentifier(L)&&D.resolve(N)}return N}MB(E,U){var g;const N=this.normalizeInstanceIdentifier(U),L=null!==(g=this.onInitCallbacks.get(N))&&void 0!==g?g:new Set;L.add(E),this.onInitCallbacks.set(N,L);const D=this.instances.get(N);return D&&E(D,N),()=>{L.delete(E)}}invokeOnInitCallbacks(E,U){const g=this.onInitCallbacks.get(U);if(g)for(const L of g)try{L(E,U)}catch(N){}}getOrInitializeService(E){let{instanceIdentifier:U,options:g={}}=E,N=this.instances.get(U);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(L=U,L===D?void 0:L),options:g}),this.instances.set(U,N),this.instancesOptions.set(U,g),this.invokeOnInitCallbacks(N,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,N)}catch(S){}var L;return N||null}normalizeInstanceIdentifier(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?E:D:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class u{constructor(E){this.name=E,this.providers=new Map}rs(E){const U=this.getProvider(E.name);if(U.isComponentSet())throw new Error(`Component ${E.name} has already been registered with ${this.name}`);U.setComponent(E)}addOrOverwriteComponent(E){this.getProvider(E.name).isComponentSet()&&this.providers.delete(E.name),this.rs(E)}getProvider(E){if(this.providers.has(E))return this.providers.get(E);const U=new S(E,this);return this.providers.set(E,U),U}getProviders(){return Array.from(this.providers.values())}}},12141:(E,U,g)=>{g.d(U,{c:()=>L,f:()=>C,h:()=>B,l:()=>P});const N=[];var L;!function(E){E[E.DEBUG=0]="DEBUG",E[E.VERBOSE=1]="VERBOSE",E[E.INFO=2]="INFO",E[E.WARN=3]="WARN",E[E.ERROR=4]="ERROR",E[E.SILENT=5]="SILENT"}(L||(L={}));const D={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},S=L.INFO,u={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},s=function(E,U){if(U<E.logLevel)return;const g=(new Date).toISOString(),N=u[U];if(!N)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var L=arguments.length,D=new Array(L>2?L-2:0),S=2;S<L;S++)D[S-2]=arguments[S];console[N](`[${g}]  ${E.name}:`,...D)};class C{constructor(E){this.name=E,this._logLevel=S,this._logHandler=s,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in L))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"===typeof E?D[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!==typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(){for(var E=arguments.length,U=new Array(E),g=0;g<E;g++)U[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...U),this._logHandler(this,L.DEBUG,...U)}log(){for(var E=arguments.length,U=new Array(E),g=0;g<E;g++)U[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...U),this._logHandler(this,L.VERBOSE,...U)}info(){for(var E=arguments.length,U=new Array(E),g=0;g<E;g++)U[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,L.INFO,...U),this._logHandler(this,L.INFO,...U)}warn(){for(var E=arguments.length,U=new Array(E),g=0;g<E;g++)U[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,L.WARN,...U),this._logHandler(this,L.WARN,...U)}error(){for(var E=arguments.length,U=new Array(E),g=0;g<E;g++)U[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,L.ERROR,...U),this._logHandler(this,L.ERROR,...U)}}function B(E){N.forEach((U=>{U.setLogLevel(E)}))}function P(E,U){for(const g of N){let N=null;U&&U.level&&(N=D[U.level]),g.userLogHandler=null===E?null:function(U,g){for(var D=arguments.length,S=new Array(D>2?D-2:0),u=2;u<D;u++)S[u-2]=arguments[u];const s=S.map((E=>{if(null==E)return null;if("string"===typeof E)return E;if("number"===typeof E||"boolean"===typeof E)return E.toString();if(E instanceof Error)return E.message;try{return JSON.stringify(E)}catch(U){return null}})).filter((E=>E)).join(" ");g>=(null!==N&&void 0!==N?N:U.logLevel)&&E({level:L[g].toLowerCase(),message:s,args:S,type:U.name})}}}}}]);