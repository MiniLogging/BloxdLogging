/*! For license information please see ohk0vd.5.873444d8.chunk.js.LICENSE.txt */
"use strict";(self["686i8587bmi"]=self["686i8587bmi"]||[]).push([[5],{12551:(h,d,T)=>{T.d(d,{D:()=>x,G:()=>k,K:()=>S,O:()=>Z,S:()=>r,U:()=>e,Y:()=>O,_:()=>J,ab:()=>z,c:()=>c,db:()=>L,f:()=>s,gb:()=>D,ib:()=>f,j:()=>w,kb:()=>W,m:()=>i,o:()=>X,ob:()=>p,rb:()=>H,s:()=>n,sb:()=>V,w:()=>a,z:()=>o});const Y=function(h){const d=[];let T=0;for(let Y=0;Y<h.length;Y++){let y=h.charCodeAt(Y);y<128?d[T++]=y:y<2048?(d[T++]=y>>6|192,d[T++]=63&y|128):55296===(64512&y)&&Y+1<h.length&&56320===(64512&h.charCodeAt(Y+1))?(y=65536+((1023&y)<<10)+(1023&h.charCodeAt(++Y)),d[T++]=y>>18|240,d[T++]=y>>12&63|128,d[T++]=y>>6&63|128,d[T++]=63&y|128):(d[T++]=y>>12|224,d[T++]=y>>6&63|128,d[T++]=63&y|128)}return d},y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(h,d){if(!Array.isArray(h))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let y=0;y<h.length;y+=3){const d=h[y],C=y+1<h.length,n=C?h[y+1]:0,X=y+2<h.length,F=X?h[y+2]:0,U=d>>2,Z=(3&d)<<4|n>>4;let S=(15&n)<<2|F>>6,r=63&F;X||(r=64,C||(S=64)),Y.push(T[U],T[Z],T[S],T[r])}return Y.join("")},encodeString(h,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(h):this.encodeByteArray(Y(h),d)},decodeString(h,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(h):function(h){const d=[];let T=0,Y=0;for(;T<h.length;){const y=h[T++];if(y<128)d[Y++]=String.fromCharCode(y);else if(y>191&&y<224){const C=h[T++];d[Y++]=String.fromCharCode((31&y)<<6|63&C)}else if(y>239&&y<365){const C=((7&y)<<18|(63&h[T++])<<12|(63&h[T++])<<6|63&h[T++])-65536;d[Y++]=String.fromCharCode(55296+(C>>10)),d[Y++]=String.fromCharCode(56320+(1023&C))}else{const C=h[T++],n=h[T++];d[Y++]=String.fromCharCode((15&y)<<12|(63&C)<<6|63&n)}}return d.join("")}(this.decodeStringToByteArray(h,d))},decodeStringToByteArray(h,d){this.init_();const T=d?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let y=0;y<h.length;){const d=T[h.charAt(y++)],n=y<h.length?T[h.charAt(y)]:0;++y;const X=y<h.length?T[h.charAt(y)]:64;++y;const F=y<h.length?T[h.charAt(y)]:64;if(++y,null==d||null==n||null==X||null==F)throw new C;const U=d<<2|n>>4;if(Y.push(U),64!==X){const h=n<<4&240|X>>2;if(Y.push(h),64!==F){const h=X<<6&192|F;Y.push(h)}}}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let h=0;h<this.ENCODED_VALS.length;h++)this.byteToCharMap_[h]=this.ENCODED_VALS.charAt(h),this.charToByteMap_[this.byteToCharMap_[h]]=h,this.byteToCharMapWebSafe_[h]=this.ENCODED_VALS_WEBSAFE.charAt(h),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[h]]=h,h>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(h)]=h,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(h)]=h)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n=function(h){return function(h){const d=Y(h);return y.encodeByteArray(d,!0)}(h).replace(/\./g,"")},X=function(h){try{return y.decodeString(h,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};const F=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof T.g)return T.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,U=()=>{try{return F()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let h;try{h=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(T){return}const d=h&&X(h[1]);return d&&JSON.parse(d)})()}catch(h){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${h}`)}},Z=h=>{var d,T;return null===(T=null===(d=U())||void 0===d?void 0:d.emulatorHosts)||void 0===T?void 0:T[h]},S=()=>{var h;return null===(h=U())||void 0===h?void 0:h.config},r=h=>{var d;return null===(d=U())||void 0===d?void 0:d[`_${h}`]};class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((h,d)=>{this.resolve=h,this.reject=d}))}wrapCallback(h){return(d,T)=>{d?this.reject(d):this.resolve(T),"function"===typeof h&&(this.promise.catch((()=>{})),1===h.length?h(d):h(d,T))}}}function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function J(){const h="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof h&&void 0!==h.id}function W(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){const h=O();return h.indexOf("MSIE ")>=0||h.indexOf("Trident/")>=0}function D(){try{return"object"===typeof indexedDB}catch(h){return!1}}function V(){return new Promise(((h,d)=>{try{let T=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",y=self.indexedDB.open(Y);y.onsuccess=()=>{y.result.close(),T||self.indexedDB.deleteDatabase(Y),h(!0)},y.onupgradeneeded=()=>{T=!1},y.onerror=()=>{var h;d((null===(h=y.error)||void 0===h?void 0:h.message)||"")}}catch(T){d(T)}}))}function i(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class w extends Error{constructor(h,d,T){super(d),this.code=h,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s.prototype.create)}}class s{constructor(h,d,T){this.service=h,this.serviceName=d,this.errors=T}create(h){const d=(arguments.length<=1?void 0:arguments[1])||{},T=`${this.service}/${h}`,Y=this.errors[h],y=Y?function(h,d){return h.replace(E,((h,T)=>{const Y=d[T];return null!=Y?String(Y):`<${T}?>`}))}(Y,d):"Error",C=`${this.serviceName}: ${y} (${T}).`;return new w(T,C,d)}}const E=/\{\$([^}]+)}/g;function z(h){for(const d in h)if(Object.prototype.hasOwnProperty.call(h,d))return!1;return!0}function x(h,d){if(h===d)return!0;const T=Object.keys(h),Y=Object.keys(d);for(const y of T){if(!Y.includes(y))return!1;const T=h[y],C=d[y];if(g(T)&&g(C)){if(!x(T,C))return!1}else if(T!==C)return!1}for(const y of Y)if(!T.includes(y))return!1;return!0}function g(h){return null!==h&&"object"===typeof h}function H(h){const d=[];for(const[T,Y]of Object.entries(h))Array.isArray(Y)?Y.forEach((h=>{d.push(encodeURIComponent(T)+"="+encodeURIComponent(h))})):d.push(encodeURIComponent(T)+"="+encodeURIComponent(Y));return d.length?"&"+d.join("&"):""}function p(h){const d={};return h.replace(/^\?/,"").split("&").forEach((h=>{if(h){const[T,Y]=h.split("=");d[decodeURIComponent(T)]=decodeURIComponent(Y)}})),d}function k(h){const d=h.indexOf("?");if(!d)return"";const T=h.indexOf("#",d);return h.substring(d,T>0?T:void 0)}function o(h,d){const T=new u(h,d);return T.subscribe.bind(T)}class u{constructor(h,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then((()=>{h(this)})).catch((h=>{this.error(h)}))}next(h){this.forEachObserver((d=>{d.next(h)}))}error(h){this.forEachObserver((d=>{d.error(h)})),this.close(h)}complete(){this.forEachObserver((h=>{h.complete()})),this.close()}subscribe(h,d,T){let Y;if(void 0===h&&void 0===d&&void 0===T)throw new Error("Missing Observer.");Y=function(h,d){if("object"!==typeof h||null===h)return!1;for(const T of d)if(T in h&&"function"===typeof h[T])return!0;return!1}(h,["next","error","complete"])?h:{next:h,error:d,complete:T},void 0===Y.next&&(Y.next=N),void 0===Y.error&&(Y.error=N),void 0===Y.complete&&(Y.complete=N);const y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(h){}})),this.observers.push(Y),y}unsubscribeOne(h){void 0!==this.observers&&void 0!==this.observers[h]&&(delete this.observers[h],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(h){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,h)}sendOne(h,d){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[h])try{d(this.observers[h])}catch(T){"undefined"!==typeof console&&console.error&&console.error(T)}}))}close(h){this.finalized||(this.finalized=!0,void 0!==h&&(this.finalError=h),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}const K=1e3,l=2,q=144e5,j=.5;function a(h){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;const T=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(d,h),Y=Math.round(j*T*(Math.random()-.5)*2);return Math.min(q,T+Y)}function e(h){return h&&h._delegate?h._delegate:h}},12538:(h,d,T)=>{T.d(d,{b:()=>C.j,d:()=>Sh,g:()=>P,k:()=>Th,o:()=>Yh,s:()=>hh,w:()=>Xh,z:()=>dh,B:()=>Ch,C:()=>yh,G:()=>nh,K:()=>fh,S:()=>ch,O:()=>Oh,W:()=>rh,Y:()=>Wh,$:()=>Jh,cb:()=>Lh});var Y=T(12543),y=T(12555),C=T(12551);let n,X;const F=new WeakMap,U=new WeakMap,Z=new WeakMap,S=new WeakMap,r=new WeakMap;let c={get(h,d,T){if(h instanceof IDBTransaction){if("done"===d)return U.get(h);if("objectStoreNames"===d)return h.objectStoreNames||Z.get(h);if("store"===d)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return J(h[d])},set:(h,d,T)=>(h[d]=T,!0),has:(h,d)=>h instanceof IDBTransaction&&("done"===d||"store"===d)||d in h};function O(h){return h!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(h)?function(){for(var d=arguments.length,T=new Array(d),Y=0;Y<d;Y++)T[Y]=arguments[Y];return h.apply(W(this),T),J(F.get(this))}:function(){for(var d=arguments.length,T=new Array(d),Y=0;Y<d;Y++)T[Y]=arguments[Y];return J(h.apply(W(this),T))}:function(d){for(var T=arguments.length,Y=new Array(T>1?T-1:0),y=1;y<T;y++)Y[y-1]=arguments[y];const C=h.call(W(this),d,...Y);return Z.set(C,d.sort?d.sort():[d]),J(C)}}function f(h){return"function"===typeof h?O(h):(h instanceof IDBTransaction&&function(h){if(U.has(h))return;const d=new Promise(((d,T)=>{const Y=()=>{h.removeEventListener("complete",y),h.removeEventListener("error",C),h.removeEventListener("abort",C)},y=()=>{d(),Y()},C=()=>{T(h.error||new DOMException("AbortError","AbortError")),Y()};h.addEventListener("complete",y),h.addEventListener("error",C),h.addEventListener("abort",C)}));U.set(h,d)}(h),d=h,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((h=>d instanceof h))?new Proxy(h,c):h);var d}function J(h){if(h instanceof IDBRequest)return function(h){const d=new Promise(((d,T)=>{const Y=()=>{h.removeEventListener("success",y),h.removeEventListener("error",C)},y=()=>{d(J(h.result)),Y()},C=()=>{T(h.error),Y()};h.addEventListener("success",y),h.addEventListener("error",C)}));return d.then((d=>{d instanceof IDBCursor&&F.set(d,h)})).catch((()=>{})),r.set(d,h),d}(h);if(S.has(h))return S.get(h);const d=f(h);return d!==h&&(S.set(h,d),r.set(d,h)),d}const W=h=>r.get(h);const L=["get","getKey","getAll","getAllKeys","count"],D=["put","add","delete","clear"],V=new Map;function i(h,d){if(!(h instanceof IDBDatabase)||d in h||"string"!==typeof d)return;if(V.get(d))return V.get(d);const T=d.replace(/FromIndex$/,""),Y=d!==T,y=D.includes(T);if(!(T in(Y?IDBIndex:IDBObjectStore).prototype)||!y&&!L.includes(T))return;const C=async function(h){const d=this.transaction(h,y?"readwrite":"readonly");let C=d.store;for(var n=arguments.length,X=new Array(n>1?n-1:0),F=1;F<n;F++)X[F-1]=arguments[F];return Y&&(C=C.index(X.shift())),(await Promise.all([C[T](...X),y&&d.done]))[0]};return V.set(d,C),C}c=(h=>({...h,get:(d,T,Y)=>i(d,T)||h.get(d,T,Y),has:(d,T)=>!!i(d,T)||h.has(d,T)}))(c);class w{constructor(h){this.container=h}getPlatformInfoString(){return this.container.getProviders().map((h=>{if(function(h){const d=h.getComponent();return"VERSION"===(null===d||void 0===d?void 0:d.type)}(h)){const d=h.getImmediate();return`${d.library}/${d.version}`}return null})).filter((h=>h)).join(" ")}}const s="@firebase/app",E="0.9.13",z=new y.f("@firebase/app"),x="@firebase/app-compat",g="@firebase/analytics-compat",H="@firebase/analytics",p="@firebase/app-check-compat",k="@firebase/app-check",o="@firebase/auth",u="@firebase/auth-compat",N="@firebase/database",K="@firebase/database-compat",l="@firebase/functions",q="@firebase/functions-compat",j="@firebase/installations",a="@firebase/installations-compat",e="@firebase/messaging",v="@firebase/messaging-compat",G="@firebase/performance",b="@firebase/performance-compat",B="@firebase/remote-config",M="@firebase/remote-config-compat",mh="@firebase/storage",R="@firebase/storage-compat",Q="@firebase/firestore",I="@firebase/firestore-compat",A="firebase",P="[DEFAULT]",t={[s]:"fire-core",[x]:"fire-core-compat",[H]:"fire-analytics",[g]:"fire-analytics-compat",[k]:"fire-app-check",[p]:"fire-app-check-compat",[o]:"fire-auth",[u]:"fire-auth-compat",[N]:"fire-rtdb",[K]:"fire-rtdb-compat",[l]:"fire-fn",[q]:"fire-fn-compat",[j]:"fire-iid",[a]:"fire-iid-compat",[e]:"fire-fcm",[v]:"fire-fcm-compat",[G]:"fire-perf",[b]:"fire-perf-compat",[B]:"fire-rc",[M]:"fire-rc-compat",[mh]:"fire-gcs",[R]:"fire-gcs-compat",[Q]:"fire-fst",[I]:"fire-fst-compat","fire-js":"fire-js",[A]:"fire-js-all"},hh=new Map,dh=new Map;function Th(h,d){try{h.container.IF(d)}catch(T){z.debug(`Component ${d.name} failed to register with FirebaseApp ${h.name}`,T)}}function Yh(h,d){h.container.addOrOverwriteComponent(d)}function yh(h){const d=h.name;if(dh.has(d))return z.debug(`There were multiple attempts to register component ${d}.`),!1;dh.set(d,h);for(const T of hh.values())Th(T,h);return!0}function Ch(h,d){const T=h.container.getProvider("heartbeat").getImmediate({optional:!0});return T&&T.triggerHeartbeat(),h.container.getProvider(d)}function nh(h,d){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;Ch(h,d).clearInstance(T)}function Xh(){dh.clear()}const Fh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Uh=new C.f("app","Firebase",Fh);class Zh{constructor(h,d,T){this._isDeleted=!1,this._options=Object.assign({},h),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=T,this.container.IF(new Y.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(h){this.checkDestroyed(),this._automaticDataCollectionEnabled=h}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(h){this._isDeleted=h}checkDestroyed(){if(this.isDeleted)throw Uh.create("app-deleted",{appName:this._name})}}const Sh="9.23.0";function rh(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=h;if("object"!==typeof d){d={name:d}}const y=Object.assign({name:P,automaticDataCollectionEnabled:!1},d),n=y.name;if("string"!==typeof n||!n)throw Uh.create("bad-app-name",{appName:String(n)});if(T||(T=(0,C.K)()),!T)throw Uh.create("no-options");const X=hh.get(n);if(X){if((0,C.D)(T,X.options)&&(0,C.D)(y,X.config))return X;throw Uh.create("duplicate-app",{appName:n})}const F=new Y.e(n);for(const Y of dh.values())F.IF(Y);const U=new Zh(T,y,F);return hh.set(n,U),U}function ch(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;const d=hh.get(h);if(!d&&h===P&&(0,C.K)())return rh();if(!d)throw Uh.create("no-app",{appName:h});return d}function Oh(){return Array.from(hh.values())}async function fh(h){const d=h.name;hh.has(d)&&(hh.delete(d),await Promise.all(h.container.getProviders().map((h=>h.delete()))),h.isDeleted=!0)}function Jh(h,d,T){var y;let C=null!==(y=t[h])&&void 0!==y?y:h;T&&(C+=`-${T}`);const n=C.match(/\s|\//),X=d.match(/\s|\//);if(n||X){const h=[`Unable to register library "${C}" with version "${d}":`];return n&&h.push(`library name "${C}" contains illegal characters (whitespace or "/")`),n&&X&&h.push("and"),X&&h.push(`version name "${d}" contains illegal characters (whitespace or "/")`),void z.warn(h.join(" "))}yh(new Y.f(`${C}-version`,(()=>({library:C,version:d})),"VERSION"))}function Wh(h,d){if(null!==h&&"function"!==typeof h)throw Uh.create("invalid-log-argument");(0,y.i)(h,d)}function Lh(h){(0,y.h)(h)}const Dh="firebase-heartbeat-store";let Vh=null;function ih(){return Vh||(Vh=function(h,d){let{blocked:T,upgrade:Y,blocking:y,terminated:C}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=indexedDB.open(h,d),X=J(n);return Y&&n.addEventListener("upgradeneeded",(h=>{Y(J(n.result),h.oldVersion,h.newVersion,J(n.transaction),h)})),T&&n.addEventListener("blocked",(h=>T(h.oldVersion,h.newVersion,h))),X.then((h=>{C&&h.addEventListener("close",(()=>C())),y&&h.addEventListener("versionchange",(h=>y(h.oldVersion,h.newVersion,h)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(h,d)=>{if(0===d)h.createObjectStore(Dh)}}).catch((h=>{throw Uh.create("idb-open",{originalErrorMessage:h.message})}))),Vh}async function wh(h,d){try{const T=(await ih()).transaction(Dh,"readwrite"),Y=T.objectStore(Dh);await Y.put(d,sh(h)),await T.done}catch(T){if(T instanceof C.j)z.warn(T.message);else{const h=Uh.create("idb-set",{originalErrorMessage:null===T||void 0===T?void 0:T.message});z.warn(h.message)}}}function sh(h){return`${h.name}!${h.options.appId}`}class Eh{constructor(h){this.container=h,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this.ES=new xh(d),this._heartbeatsCachePromise=this.ES.read().then((h=>(this._heartbeatsCache=h,h)))}async triggerHeartbeat(){const h=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=zh();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==d&&!this._heartbeatsCache.heartbeats.some((h=>h.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:h}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=2592e6})),this.ES.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const h=zh(),{heartbeatsToSend:d,unsentEntries:T}=function(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const T=[];let Y=h.slice();for(const y of h){const h=T.find((h=>h.agent===y.agent));if(h){if(h.dates.push(y.date),gh(T)>d){h.dates.pop();break}}else if(T.push({agent:y.agent,dates:[y.date]}),gh(T)>d){T.pop();break}Y=Y.slice(1)}return{heartbeatsToSend:T,unsentEntries:Y}}(this._heartbeatsCache.heartbeats),Y=(0,C.s)(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=h,T.length>0?(this._heartbeatsCache.heartbeats=T,await this.ES.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ES.overwrite(this._heartbeatsCache)),Y}}function zh(){return(new Date).toISOString().substring(0,10)}class xh{constructor(h){this.app=h,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,C.gb)()&&(0,C.sb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(h){try{const d=await ih();return await d.transaction(Dh).objectStore(Dh).get(sh(h))}catch(d){if(d instanceof C.j)z.warn(d.message);else{const h=Uh.create("idb-get",{originalErrorMessage:null===d||void 0===d?void 0:d.message});z.warn(h.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(h){var d;if(await this._canUseIndexedDBPromise){const T=await this.read();return wh(this.app,{lastSentHeartbeatDate:null!==(d=h.lastSentHeartbeatDate)&&void 0!==d?d:T.lastSentHeartbeatDate,heartbeats:h.heartbeats})}}async add(h){var d;if(await this._canUseIndexedDBPromise){const T=await this.read();return wh(this.app,{lastSentHeartbeatDate:null!==(d=h.lastSentHeartbeatDate)&&void 0!==d?d:T.lastSentHeartbeatDate,heartbeats:[...T.heartbeats,...h.heartbeats]})}}}function gh(h){return(0,C.s)(JSON.stringify({version:2,heartbeats:h})).length}var Hh;Hh="",yh(new Y.f("platform-logger",(h=>new w(h)),"PRIVATE")),yh(new Y.f("heartbeat",(h=>new Eh(h)),"PRIVATE")),Jh(s,E,Hh),Jh(s,E,"esm2017"),Jh("fire-js","")},12543:(h,d,T)=>{T.d(d,{e:()=>X,f:()=>y});var Y=T(12551);class y{constructor(h,d,T){this.name=h,this.instanceFactory=d,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}const C="[DEFAULT]";class n{constructor(h,d){this.name=h,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(h){const d=this.normalizeInstanceIdentifier(h);if(!this.instancesDeferred.has(d)){const h=new Y.c;if(this.instancesDeferred.set(d,h),this.isInitialized(d)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:d});T&&h.resolve(T)}catch(T){}}return this.instancesDeferred.get(d).promise}getImmediate(h){var d;const T=this.normalizeInstanceIdentifier(null===h||void 0===h?void 0:h.identifier),Y=null!==(d=null===h||void 0===h?void 0:h.optional)&&void 0!==d&&d;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(y){if(Y)return null;throw y}}getComponent(){return this.component}setComponent(h){if(h.name!==this.name)throw Error(`Mismatching Component ${h.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=h,this.shouldAutoInitialize()){if(function(h){return"EAGER"===h.instantiationMode}(h))try{this.getOrInitializeService({instanceIdentifier:C})}catch(d){}for(const[h,T]of this.instancesDeferred.entries()){const Y=this.normalizeInstanceIdentifier(h);try{const h=this.getOrInitializeService({instanceIdentifier:Y});T.resolve(h)}catch(d){}}}}clearInstance(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.instancesDeferred.delete(h),this.instancesOptions.delete(h),this.instances.delete(h)}async delete(){const h=Array.from(this.instances.values());await Promise.all([...h.filter((h=>"INTERNAL"in h)).map((h=>h.INTERNAL.delete())),...h.filter((h=>"_delete"in h)).map((h=>h._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instances.has(h)}getOptions(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instancesOptions.get(h)||{}}initialize(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:d={}}=h,T=this.normalizeInstanceIdentifier(h.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Y=this.getOrInitializeService({instanceIdentifier:T,options:d});for(const[y,C]of this.instancesDeferred.entries()){T===this.normalizeInstanceIdentifier(y)&&C.resolve(Y)}return Y}YS(h,d){var T;const Y=this.normalizeInstanceIdentifier(d),y=null!==(T=this.onInitCallbacks.get(Y))&&void 0!==T?T:new Set;y.add(h),this.onInitCallbacks.set(Y,y);const C=this.instances.get(Y);return C&&h(C,Y),()=>{y.delete(h)}}invokeOnInitCallbacks(h,d){const T=this.onInitCallbacks.get(d);if(T)for(const y of T)try{y(h,d)}catch(Y){}}getOrInitializeService(h){let{instanceIdentifier:d,options:T={}}=h,Y=this.instances.get(d);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(y=d,y===C?void 0:y),options:T}),this.instances.set(d,Y),this.instancesOptions.set(d,T),this.invokeOnInitCallbacks(Y,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,Y)}catch(n){}var y;return Y||null}normalizeInstanceIdentifier(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.component?this.component.multipleInstances?h:C:h}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(h){this.name=h,this.providers=new Map}IF(h){const d=this.getProvider(h.name);if(d.isComponentSet())throw new Error(`Component ${h.name} has already been registered with ${this.name}`);d.setComponent(h)}addOrOverwriteComponent(h){this.getProvider(h.name).isComponentSet()&&this.providers.delete(h.name),this.IF(h)}getProvider(h){if(this.providers.has(h))return this.providers.get(h);const d=new n(h,this);return this.providers.set(h,d),d}getProviders(){return Array.from(this.providers.values())}}},12555:(h,d,T)=>{T.d(d,{d:()=>y,f:()=>U,h:()=>Z,i:()=>S});const Y=[];var y;!function(h){h[h.DEBUG=0]="DEBUG",h[h.VERBOSE=1]="VERBOSE",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.SILENT=5]="SILENT"}(y||(y={}));const C={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},n=y.INFO,X={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},F=function(h,d){if(d<h.logLevel)return;const T=(new Date).toISOString(),Y=X[d];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);for(var y=arguments.length,C=new Array(y>2?y-2:0),n=2;n<y;n++)C[n-2]=arguments[n];console[Y](`[${T}]  ${h.name}:`,...C)};class U{constructor(h){this.name=h,this._logLevel=n,this._logHandler=F,this._userLogHandler=null,Y.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in y))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"===typeof h?C[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!==typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(){for(var h=arguments.length,d=new Array(h),T=0;T<h;T++)d[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...d),this._logHandler(this,y.DEBUG,...d)}log(){for(var h=arguments.length,d=new Array(h),T=0;T<h;T++)d[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...d),this._logHandler(this,y.VERBOSE,...d)}info(){for(var h=arguments.length,d=new Array(h),T=0;T<h;T++)d[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,y.INFO,...d),this._logHandler(this,y.INFO,...d)}warn(){for(var h=arguments.length,d=new Array(h),T=0;T<h;T++)d[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,y.WARN,...d),this._logHandler(this,y.WARN,...d)}error(){for(var h=arguments.length,d=new Array(h),T=0;T<h;T++)d[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,y.ERROR,...d),this._logHandler(this,y.ERROR,...d)}}function Z(h){Y.forEach((d=>{d.setLogLevel(h)}))}function S(h,d){for(const T of Y){let Y=null;d&&d.level&&(Y=C[d.level]),T.userLogHandler=null===h?null:function(d,T){for(var C=arguments.length,n=new Array(C>2?C-2:0),X=2;X<C;X++)n[X-2]=arguments[X];const F=n.map((h=>{if(null==h)return null;if("string"===typeof h)return h;if("number"===typeof h||"boolean"===typeof h)return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch(d){return null}})).filter((h=>h)).join(" ");T>=(null!==Y&&void 0!==Y?Y:d.logLevel)&&h({level:y[T].toLowerCase(),message:F,args:n,type:d.name})}}}}}]);