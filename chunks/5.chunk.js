/*! For license information please see cmhiow.5.1ba14f0f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10995:(w,p,e)=>{e.d(p,{B:()=>k,F:()=>X,J:()=>m,L:()=>F,P:()=>K,Q:()=>c,R:()=>n,U:()=>O,V:()=>a,X:()=>y,_:()=>s,ab:()=>v,d:()=>J,eb:()=>U,f:()=>i,fb:()=>A,h:()=>M,l:()=>z,m:()=>q,p:()=>f,q:()=>W,t:()=>V,v:()=>l,x:()=>R});const r=function(w){const p=[];let e=0;for(let r=0;r<w.length;r++){let I=w.charCodeAt(r);I<128?p[e++]=I:I<2048?(p[e++]=I>>6|192,p[e++]=63&I|128):55296===(64512&I)&&r+1<w.length&&56320===(64512&w.charCodeAt(r+1))?(I=65536+((1023&I)<<10)+(1023&w.charCodeAt(++r)),p[e++]=I>>18|240,p[e++]=I>>12&63|128,p[e++]=I>>6&63|128,p[e++]=63&I|128):(p[e++]=I>>12|224,p[e++]=I>>6&63|128,p[e++]=63&I|128)}return p},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(w,p){if(!Array.isArray(w))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=p?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let I=0;I<w.length;I+=3){const p=w[I],d=I+1<w.length,f=d?w[I+1]:0,q=I+2<w.length,E=q?w[I+2]:0,j=p>>2,X=(3&p)<<4|f>>4;let k=(15&f)<<2|E>>6,m=63&E;q||(m=64,d||(k=64)),r.push(e[j],e[X],e[k],e[m])}return r.join("")},encodeString(w,p){return this.HAS_NATIVE_SUPPORT&&!p?btoa(w):this.encodeByteArray(r(w),p)},decodeString(w,p){return this.HAS_NATIVE_SUPPORT&&!p?atob(w):function(w){const p=[];let e=0,r=0;for(;e<w.length;){const I=w[e++];if(I<128)p[r++]=String.fromCharCode(I);else if(I>191&&I<224){const d=w[e++];p[r++]=String.fromCharCode((31&I)<<6|63&d)}else if(I>239&&I<365){const d=((7&I)<<18|(63&w[e++])<<12|(63&w[e++])<<6|63&w[e++])-65536;p[r++]=String.fromCharCode(55296+(d>>10)),p[r++]=String.fromCharCode(56320+(1023&d))}else{const d=w[e++],f=w[e++];p[r++]=String.fromCharCode((15&I)<<12|(63&d)<<6|63&f)}}return p.join("")}(this.decodeStringToByteArray(w,p))},decodeStringToByteArray(w,p){this.init_();const e=p?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let I=0;I<w.length;){const p=e[w.charAt(I++)],f=I<w.length?e[w.charAt(I)]:0;++I;const q=I<w.length?e[w.charAt(I)]:64;++I;const E=I<w.length?e[w.charAt(I)]:64;if(++I,null==p||null==f||null==q||null==E)throw new d;const j=p<<2|f>>4;if(r.push(j),64!==q){const w=f<<4&240|q>>2;if(r.push(w),64!==E){const w=q<<6&192|E;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let w=0;w<this.ENCODED_VALS.length;w++)this.byteToCharMap_[w]=this.ENCODED_VALS.charAt(w),this.charToByteMap_[this.byteToCharMap_[w]]=w,this.byteToCharMapWebSafe_[w]=this.ENCODED_VALS_WEBSAFE.charAt(w),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[w]]=w,w>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(w)]=w,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(w)]=w)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(w){return function(w){const p=r(w);return I.encodeByteArray(p,!0)}(w).replace(/\./g,"")},q=function(w){try{return I.decodeString(w,!0)}catch(p){console.error("base64Decode failed: ",p)}return null};const E=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,j=()=>{try{return E()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let w;try{w=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const p=w&&q(w[1]);return p&&JSON.parse(p)})()}catch(w){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${w}`)}},X=w=>{var p,e;return null===(e=null===(p=j())||void 0===p?void 0:p.emulatorHosts)||void 0===e?void 0:e[w]},k=()=>{var w;return null===(w=j())||void 0===w?void 0:w.config},m=w=>{var p;return null===(p=j())||void 0===p?void 0:p[`_${w}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((w,p)=>{this.resolve=w,this.reject=p}))}wrapCallback(w){return(p,e)=>{p?this.reject(p):this.resolve(e),"function"===typeof w&&(this.promise.catch((()=>{})),1===w.length?w(p):w(p,e))}}}function K(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function c(){const w="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof w&&void 0!==w.id}function s(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){const w=K();return w.indexOf("MSIE ")>=0||w.indexOf("Trident/")>=0}function a(){try{return"object"===typeof indexedDB}catch(w){return!1}}function A(){return new Promise(((w,p)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",I=self.indexedDB.open(r);I.onsuccess=()=>{I.result.close(),e||self.indexedDB.deleteDatabase(r),w(!0)},I.onupgradeneeded=()=>{e=!1},I.onerror=()=>{var w;p((null===(w=I.error)||void 0===w?void 0:w.message)||"")}}catch(e){p(e)}}))}function z(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(w,p,e){super(p),this.code=w,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i.prototype.create)}}class i{constructor(w,p,e){this.service=w,this.serviceName=p,this.errors=e}create(w){const p=(arguments.length<=1?void 0:arguments[1])||{},e=`${this.service}/${w}`,r=this.errors[w],I=r?function(w,p){return w.replace(t,((w,e)=>{const r=p[e];return null!=r?String(r):`<${e}?>`}))}(r,p):"Error",d=`${this.serviceName}: ${I} (${e}).`;return new M(e,d,p)}}const t=/\{\$([^}]+)}/g;function n(w){for(const p in w)if(Object.prototype.hasOwnProperty.call(w,p))return!1;return!0}function l(w,p){if(w===p)return!0;const e=Object.keys(w),r=Object.keys(p);for(const I of e){if(!r.includes(I))return!1;const e=w[I],d=p[I];if(N(e)&&N(d)){if(!l(e,d))return!1}else if(e!==d)return!1}for(const I of r)if(!e.includes(I))return!1;return!0}function N(w){return null!==w&&"object"===typeof w}function U(w){const p=[];for(const[e,r]of Object.entries(w))Array.isArray(r)?r.forEach((w=>{p.push(encodeURIComponent(e)+"="+encodeURIComponent(w))})):p.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return p.length?"&"+p.join("&"):""}function v(w){const p={};return w.replace(/^\?/,"").split("&").forEach((w=>{if(w){const[e,r]=w.split("=");p[decodeURIComponent(e)]=decodeURIComponent(r)}})),p}function R(w){const p=w.indexOf("?");if(!p)return"";const e=w.indexOf("#",p);return w.substring(p,e>0?e:void 0)}function V(w,p){const e=new b(w,p);return e.subscribe.bind(e)}class b{constructor(w,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then((()=>{w(this)})).catch((w=>{this.error(w)}))}next(w){this.forEachObserver((p=>{p.next(w)}))}error(w){this.forEachObserver((p=>{p.error(w)})),this.close(w)}complete(){this.forEachObserver((w=>{w.complete()})),this.close()}subscribe(w,p,e){let r;if(void 0===w&&void 0===p&&void 0===e)throw new Error("Missing Observer.");r=function(w,p){if("object"!==typeof w||null===w)return!1;for(const e of p)if(e in w&&"function"===typeof w[e])return!0;return!1}(w,["next","error","complete"])?w:{next:w,error:p,complete:e},void 0===r.next&&(r.next=h),void 0===r.error&&(r.error=h),void 0===r.complete&&(r.complete=h);const I=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(w){}})),this.observers.push(r),I}unsubscribeOne(w){void 0!==this.observers&&void 0!==this.observers[w]&&(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(w){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,w)}sendOne(w,p){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[w])try{p(this.observers[w])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}close(w){this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function h(){}const P=1e3,u=2,Y=144e5,L=.5;function W(w){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:P)*Math.pow(p,w),r=Math.round(L*e*(Math.random()-.5)*2);return Math.min(Y,e+r)}function F(w){return w&&w._delegate?w._delegate:w}},10982:(w,p,e)=>{e.d(p,{b:()=>d.h,e:()=>kw,g:()=>x,k:()=>ew,l:()=>rw,n:()=>ww,o:()=>qw,p:()=>pw,t:()=>dw,x:()=>Iw,A:()=>fw,B:()=>yw,G:()=>Jw,C:()=>Kw,I:()=>mw,J:()=>sw,M:()=>cw,N:()=>Ow});var r=e(10989),I=e(10998),d=e(10995);let f,q;const E=new WeakMap,j=new WeakMap,X=new WeakMap,k=new WeakMap,m=new WeakMap;let J={get(w,p,e){if(w instanceof IDBTransaction){if("done"===p)return j.get(w);if("objectStoreNames"===p)return w.objectStoreNames||X.get(w);if("store"===p)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return c(w[p])},set:(w,p,e)=>(w[p]=e,!0),has:(w,p)=>w instanceof IDBTransaction&&("done"===p||"store"===p)||p in w};function K(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(w)?function(){for(var p=arguments.length,e=new Array(p),r=0;r<p;r++)e[r]=arguments[r];return w.apply(s(this),e),c(E.get(this))}:function(){for(var p=arguments.length,e=new Array(p),r=0;r<p;r++)e[r]=arguments[r];return c(w.apply(s(this),e))}:function(p){for(var e=arguments.length,r=new Array(e>1?e-1:0),I=1;I<e;I++)r[I-1]=arguments[I];const d=w.call(s(this),p,...r);return X.set(d,p.sort?p.sort():[p]),c(d)}}function y(w){return"function"===typeof w?K(w):(w instanceof IDBTransaction&&function(w){if(j.has(w))return;const p=new Promise(((p,e)=>{const r=()=>{w.removeEventListener("complete",I),w.removeEventListener("error",d),w.removeEventListener("abort",d)},I=()=>{p(),r()},d=()=>{e(w.error||new DOMException("AbortError","AbortError")),r()};w.addEventListener("complete",I),w.addEventListener("error",d),w.addEventListener("abort",d)}));j.set(w,p)}(w),p=w,(f||(f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((w=>p instanceof w))?new Proxy(w,J):w);var p}function c(w){if(w instanceof IDBRequest)return function(w){const p=new Promise(((p,e)=>{const r=()=>{w.removeEventListener("success",I),w.removeEventListener("error",d)},I=()=>{p(c(w.result)),r()},d=()=>{e(w.error),r()};w.addEventListener("success",I),w.addEventListener("error",d)}));return p.then((p=>{p instanceof IDBCursor&&E.set(p,w)})).catch((()=>{})),m.set(p,w),p}(w);if(k.has(w))return k.get(w);const p=y(w);return p!==w&&(k.set(w,p),m.set(p,w)),p}const s=w=>m.get(w);const O=["get","getKey","getAll","getAllKeys","count"],a=["put","add","delete","clear"],A=new Map;function z(w,p){if(!(w instanceof IDBDatabase)||p in w||"string"!==typeof p)return;if(A.get(p))return A.get(p);const e=p.replace(/FromIndex$/,""),r=p!==e,I=a.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!I&&!O.includes(e))return;const d=async function(w){const p=this.transaction(w,I?"readwrite":"readonly");let d=p.store;for(var f=arguments.length,q=new Array(f>1?f-1:0),E=1;E<f;E++)q[E-1]=arguments[E];return r&&(d=d.index(q.shift())),(await Promise.all([d[e](...q),I&&p.done]))[0]};return A.set(p,d),d}J=(w=>({...w,get:(p,e,r)=>z(p,e)||w.get(p,e,r),has:(p,e)=>!!z(p,e)||w.has(p,e)}))(J);class M{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map((w=>{if(function(w){const p=w.getComponent();return"VERSION"===(null===p||void 0===p?void 0:p.type)}(w)){const p=w.getImmediate();return`${p.library}/${p.version}`}return null})).filter((w=>w)).join(" ")}}const i="@firebase/app",t="0.9.13",n=new I.d("@firebase/app"),l="@firebase/app-compat",N="@firebase/analytics-compat",U="@firebase/analytics",v="@firebase/app-check-compat",R="@firebase/app-check",V="@firebase/auth",b="@firebase/auth-compat",h="@firebase/database",P="@firebase/database-compat",u="@firebase/functions",Y="@firebase/functions-compat",L="@firebase/installations",W="@firebase/installations-compat",F="@firebase/messaging",H="@firebase/messaging-compat",B="@firebase/performance",D="@firebase/performance-compat",T="@firebase/remote-config",Z="@firebase/remote-config-compat",G="@firebase/storage",g="@firebase/storage-compat",o="@firebase/firestore",C="@firebase/firestore-compat",Q="firebase",x="[DEFAULT]",S={[i]:"fire-core",[l]:"fire-core-compat",[U]:"fire-analytics",[N]:"fire-analytics-compat",[R]:"fire-app-check",[v]:"fire-app-check-compat",[V]:"fire-auth",[b]:"fire-auth-compat",[h]:"fire-rtdb",[P]:"fire-rtdb-compat",[u]:"fire-fn",[Y]:"fire-fn-compat",[L]:"fire-iid",[W]:"fire-iid-compat",[F]:"fire-fcm",[H]:"fire-fcm-compat",[B]:"fire-perf",[D]:"fire-perf-compat",[T]:"fire-rc",[Z]:"fire-rc-compat",[G]:"fire-gcs",[g]:"fire-gcs-compat",[o]:"fire-fst",[C]:"fire-fst-compat","fire-js":"fire-js",[Q]:"fire-js-all"},ww=new Map,pw=new Map;function ew(w,p){try{w.container.jj(p)}catch(e){n.debug(`Component ${p.name} failed to register with FirebaseApp ${w.name}`,e)}}function rw(w,p){w.container.addOrOverwriteComponent(p)}function Iw(w){const p=w.name;if(pw.has(p))return n.debug(`There were multiple attempts to register component ${p}.`),!1;pw.set(p,w);for(const e of ww.values())ew(e,w);return!0}function dw(w,p){const e=w.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),w.container.getProvider(p)}function fw(w,p){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;dw(w,p).clearInstance(e)}function qw(){pw.clear()}const Ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jw=new d.f("app","Firebase",Ew);class Xw{constructor(w,p,e){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},p),this._name=p.name,this._automaticDataCollectionEnabled=p.automaticDataCollectionEnabled,this._container=e,this.container.jj(new r.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw jw.create("app-deleted",{appName:this._name})}}const kw="9.23.0";function mw(w){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=w;if("object"!==typeof p){p={name:p}}const I=Object.assign({name:x,automaticDataCollectionEnabled:!1},p),f=I.name;if("string"!==typeof f||!f)throw jw.create("bad-app-name",{appName:String(f)});if(e||(e=(0,d.B)()),!e)throw jw.create("no-options");const q=ww.get(f);if(q){if((0,d.v)(e,q.options)&&(0,d.v)(I,q.config))return q;throw jw.create("duplicate-app",{appName:f})}const E=new r.c(f);for(const r of pw.values())E.jj(r);const j=new Xw(e,I,E);return ww.set(f,j),j}function Jw(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;const p=ww.get(w);if(!p&&w===x&&(0,d.B)())return mw();if(!p)throw jw.create("no-app",{appName:w});return p}function Kw(){return Array.from(ww.values())}async function yw(w){const p=w.name;ww.has(p)&&(ww.delete(p),await Promise.all(w.container.getProviders().map((w=>w.delete()))),w.isDeleted=!0)}function cw(w,p,e){var I;let d=null!==(I=S[w])&&void 0!==I?I:w;e&&(d+=`-${e}`);const f=d.match(/\s|\//),q=p.match(/\s|\//);if(f||q){const w=[`Unable to register library "${d}" with version "${p}":`];return f&&w.push(`library name "${d}" contains illegal characters (whitespace or "/")`),f&&q&&w.push("and"),q&&w.push(`version name "${p}" contains illegal characters (whitespace or "/")`),void n.warn(w.join(" "))}Iw(new r.d(`${d}-version`,(()=>({library:d,version:p})),"VERSION"))}function sw(w,p){if(null!==w&&"function"!==typeof w)throw jw.create("invalid-log-argument");(0,I.k)(w,p)}function Ow(w){(0,I.h)(w)}const aw="firebase-heartbeat-store";let Aw=null;function zw(){return Aw||(Aw=function(w,p){let{blocked:e,upgrade:r,blocking:I,terminated:d}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const f=indexedDB.open(w,p),q=c(f);return r&&f.addEventListener("upgradeneeded",(w=>{r(c(f.result),w.oldVersion,w.newVersion,c(f.transaction),w)})),e&&f.addEventListener("blocked",(w=>e(w.oldVersion,w.newVersion,w))),q.then((w=>{d&&w.addEventListener("close",(()=>d())),I&&w.addEventListener("versionchange",(w=>I(w.oldVersion,w.newVersion,w)))})).catch((()=>{})),q}("firebase-heartbeat-database",1,{upgrade:(w,p)=>{if(0===p)w.createObjectStore(aw)}}).catch((w=>{throw jw.create("idb-open",{originalErrorMessage:w.message})}))),Aw}async function Mw(w,p){try{const e=(await zw()).transaction(aw,"readwrite"),r=e.objectStore(aw);await r.put(p,iw(w)),await e.done}catch(e){if(e instanceof d.h)n.warn(e.message);else{const w=jw.create("idb-set",{originalErrorMessage:null===e||void 0===e?void 0:e.message});n.warn(w.message)}}}function iw(w){return`${w.name}!${w.options.appId}`}class tw{constructor(w){this.container=w,this._heartbeatsCache=null;const p=this.container.getProvider("app").getImmediate();this.hk=new lw(p),this._heartbeatsCachePromise=this.hk.read().then((w=>(this._heartbeatsCache=w,w)))}async triggerHeartbeat(){const w=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),p=nw();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==p&&!this._heartbeatsCache.heartbeats.some((w=>w.date===p)))return this._heartbeatsCache.heartbeats.push({date:p,agent:w}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((w=>{const p=new Date(w.date).valueOf();return Date.now()-p<=2592e6})),this.hk.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const w=nw(),{heartbeatsToSend:p,unsentEntries:e}=function(w){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const e=[];let r=w.slice();for(const I of w){const w=e.find((w=>w.agent===I.agent));if(w){if(w.dates.push(I.date),Nw(e)>p){w.dates.pop();break}}else if(e.push({agent:I.agent,dates:[I.date]}),Nw(e)>p){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,d.p)(JSON.stringify({version:2,heartbeats:p}));return this._heartbeatsCache.lastSentHeartbeatDate=w,e.length>0?(this._heartbeatsCache.heartbeats=e,await this.hk.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.hk.overwrite(this._heartbeatsCache)),r}}function nw(){return(new Date).toISOString().substring(0,10)}class lw{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,d.V)()&&(0,d.fb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(w){try{const p=await zw();return await p.transaction(aw).objectStore(aw).get(iw(w))}catch(p){if(p instanceof d.h)n.warn(p.message);else{const w=jw.create("idb-get",{originalErrorMessage:null===p||void 0===p?void 0:p.message});n.warn(w.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(w){var p;if(await this._canUseIndexedDBPromise){const e=await this.read();return Mw(this.app,{lastSentHeartbeatDate:null!==(p=w.lastSentHeartbeatDate)&&void 0!==p?p:e.lastSentHeartbeatDate,heartbeats:w.heartbeats})}}async add(w){var p;if(await this._canUseIndexedDBPromise){const e=await this.read();return Mw(this.app,{lastSentHeartbeatDate:null!==(p=w.lastSentHeartbeatDate)&&void 0!==p?p:e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...w.heartbeats]})}}}function Nw(w){return(0,d.p)(JSON.stringify({version:2,heartbeats:w})).length}var Uw;Uw="",Iw(new r.d("platform-logger",(w=>new M(w)),"PRIVATE")),Iw(new r.d("heartbeat",(w=>new tw(w)),"PRIVATE")),cw(i,t,Uw),cw(i,t,"esm2017"),cw("fire-js","")},10989:(w,p,e)=>{e.d(p,{c:()=>q,d:()=>I});var r=e(10995);class I{constructor(w,p,e){this.name=w,this.instanceFactory=p,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(w){return this.instantiationMode=w,this}setMultipleInstances(w){return this.multipleInstances=w,this}setServiceProps(w){return this.serviceProps=w,this}setInstanceCreatedCallback(w){return this.onInstanceCreated=w,this}}const d="[DEFAULT]";class f{constructor(w,p){this.name=w,this.container=p,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(w){const p=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(p)){const w=new r.d;if(this.instancesDeferred.set(p,w),this.isInitialized(p)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:p});e&&w.resolve(e)}catch(e){}}return this.instancesDeferred.get(p).promise}getImmediate(w){var p;const e=this.normalizeInstanceIdentifier(null===w||void 0===w?void 0:w.identifier),r=null!==(p=null===w||void 0===w?void 0:w.optional)&&void 0!==p&&p;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(I){if(r)return null;throw I}}getComponent(){return this.component}setComponent(w){if(w.name!==this.name)throw Error(`Mismatching Component ${w.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=w,this.shouldAutoInitialize()){if(function(w){return"EAGER"===w.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:d})}catch(p){}for(const[w,e]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(w);try{const w=this.getOrInitializeService({instanceIdentifier:r});e.resolve(w)}catch(p){}}}}clearInstance(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)}async delete(){const w=Array.from(this.instances.values());await Promise.all([...w.filter((w=>"INTERNAL"in w)).map((w=>w.INTERNAL.delete())),...w.filter((w=>"_delete"in w)).map((w=>w._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(w)}getOptions(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(w)||{}}initialize(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:p={}}=w,e=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(e))throw Error(`${this.name}(${e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:e,options:p});for(const[I,d]of this.instancesDeferred.entries()){e===this.normalizeInstanceIdentifier(I)&&d.resolve(r)}return r}Jk(w,p){var e;const r=this.normalizeInstanceIdentifier(p),I=null!==(e=this.onInitCallbacks.get(r))&&void 0!==e?e:new Set;I.add(w),this.onInitCallbacks.set(r,I);const d=this.instances.get(r);return d&&w(d,r),()=>{I.delete(w)}}invokeOnInitCallbacks(w,p){const e=this.onInitCallbacks.get(p);if(e)for(const I of e)try{I(w,p)}catch(r){}}getOrInitializeService(w){let{instanceIdentifier:p,options:e={}}=w,r=this.instances.get(p);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(I=p,I===d?void 0:I),options:e}),this.instances.set(p,r),this.instancesOptions.set(p,e),this.invokeOnInitCallbacks(r,p),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,p,r)}catch(f){}var I;return r||null}normalizeInstanceIdentifier(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?w:d:w}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class q{constructor(w){this.name=w,this.providers=new Map}jj(w){const p=this.getProvider(w.name);if(p.isComponentSet())throw new Error(`Component ${w.name} has already been registered with ${this.name}`);p.setComponent(w)}addOrOverwriteComponent(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.jj(w)}getProvider(w){if(this.providers.has(w))return this.providers.get(w);const p=new f(w,this);return this.providers.set(w,p),p}getProviders(){return Array.from(this.providers.values())}}},10998:(w,p,e)=>{e.d(p,{c:()=>I,d:()=>j,h:()=>X,k:()=>k});const r=[];var I;!function(w){w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT"}(I||(I={}));const d={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},f=I.INFO,q={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},E=function(w,p){if(p<w.logLevel)return;const e=(new Date).toISOString(),r=q[p];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${p})`);for(var I=arguments.length,d=new Array(I>2?I-2:0),f=2;f<I;f++)d[f-2]=arguments[f];console[r](`[${e}]  ${w.name}:`,...d)};class j{constructor(w){this.name=w,this._logLevel=f,this._logHandler=E,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(w){if(!(w in I))throw new TypeError(`Invalid value "${w}" assigned to \`logLevel\``);this._logLevel=w}setLogLevel(w){this._logLevel="string"===typeof w?d[w]:w}get logHandler(){return this._logHandler}set logHandler(w){if("function"!==typeof w)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=w}get userLogHandler(){return this._userLogHandler}set userLogHandler(w){this._userLogHandler=w}debug(){for(var w=arguments.length,p=new Array(w),e=0;e<w;e++)p[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...p),this._logHandler(this,I.DEBUG,...p)}log(){for(var w=arguments.length,p=new Array(w),e=0;e<w;e++)p[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...p),this._logHandler(this,I.VERBOSE,...p)}info(){for(var w=arguments.length,p=new Array(w),e=0;e<w;e++)p[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,I.INFO,...p),this._logHandler(this,I.INFO,...p)}warn(){for(var w=arguments.length,p=new Array(w),e=0;e<w;e++)p[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,I.WARN,...p),this._logHandler(this,I.WARN,...p)}error(){for(var w=arguments.length,p=new Array(w),e=0;e<w;e++)p[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,I.ERROR,...p),this._logHandler(this,I.ERROR,...p)}}function X(w){r.forEach((p=>{p.setLogLevel(w)}))}function k(w,p){for(const e of r){let r=null;p&&p.level&&(r=d[p.level]),e.userLogHandler=null===w?null:function(p,e){for(var d=arguments.length,f=new Array(d>2?d-2:0),q=2;q<d;q++)f[q-2]=arguments[q];const E=f.map((w=>{if(null==w)return null;if("string"===typeof w)return w;if("number"===typeof w||"boolean"===typeof w)return w.toString();if(w instanceof Error)return w.message;try{return JSON.stringify(w)}catch(p){return null}})).filter((w=>w)).join(" ");e>=(null!==r&&void 0!==r?r:p.logLevel)&&w({level:I[e].toLowerCase(),message:E,args:f,type:p.name})}}}}}]);