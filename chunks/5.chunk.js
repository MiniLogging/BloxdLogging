/*! For license information please see dr3w0o.5.a76e71f9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10547:(y,g,f)=>{f.d(g,{A:()=>c,E:()=>C,F:()=>V,J:()=>W,M:()=>P,P:()=>w,R:()=>R,T:()=>G,U:()=>j,X:()=>B,_:()=>n,b:()=>q,bb:()=>Y,db:()=>z,e:()=>m,g:()=>Q,i:()=>T,m:()=>H,o:()=>i,q:()=>J,s:()=>r,v:()=>o,x:()=>M,y:()=>Z});const p=function(y){const g=[];let f=0;for(let p=0;p<y.length;p++){let S=y.charCodeAt(p);S<128?g[f++]=S:S<2048?(g[f++]=S>>6|192,g[f++]=63&S|128):55296===(64512&S)&&p+1<y.length&&56320===(64512&y.charCodeAt(p+1))?(S=65536+((1023&S)<<10)+(1023&y.charCodeAt(++p)),g[f++]=S>>18|240,g[f++]=S>>12&63|128,g[f++]=S>>6&63|128,g[f++]=63&S|128):(g[f++]=S>>12|224,g[f++]=S>>6&63|128,g[f++]=63&S|128)}return g},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(y,g){if(!Array.isArray(y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const f=g?this.byteToCharMapWebSafe_:this.byteToCharMap_,p=[];for(let S=0;S<y.length;S+=3){const g=y[S],k=S+1<y.length,i=k?y[S+1]:0,H=S+2<y.length,U=H?y[S+2]:0,l=g>>2,c=(3&g)<<4|i>>4;let Z=(15&i)<<2|U>>6,C=63&U;H||(C=64,k||(Z=64)),p.push(f[l],f[c],f[Z],f[C])}return p.join("")},encodeString(y,g){return this.HAS_NATIVE_SUPPORT&&!g?btoa(y):this.encodeByteArray(p(y),g)},decodeString(y,g){return this.HAS_NATIVE_SUPPORT&&!g?atob(y):function(y){const g=[];let f=0,p=0;for(;f<y.length;){const S=y[f++];if(S<128)g[p++]=String.fromCharCode(S);else if(S>191&&S<224){const k=y[f++];g[p++]=String.fromCharCode((31&S)<<6|63&k)}else if(S>239&&S<365){const k=((7&S)<<18|(63&y[f++])<<12|(63&y[f++])<<6|63&y[f++])-65536;g[p++]=String.fromCharCode(55296+(k>>10)),g[p++]=String.fromCharCode(56320+(1023&k))}else{const k=y[f++],i=y[f++];g[p++]=String.fromCharCode((15&S)<<12|(63&k)<<6|63&i)}}return g.join("")}(this.decodeStringToByteArray(y,g))},decodeStringToByteArray(y,g){this.init_();const f=g?this.charToByteMapWebSafe_:this.charToByteMap_,p=[];for(let S=0;S<y.length;){const g=f[y.charAt(S++)],i=S<y.length?f[y.charAt(S)]:0;++S;const H=S<y.length?f[y.charAt(S)]:64;++S;const U=S<y.length?f[y.charAt(S)]:64;if(++S,null==g||null==i||null==H||null==U)throw new k;const l=g<<2|i>>4;if(p.push(l),64!==H){const y=i<<4&240|H>>2;if(p.push(y),64!==U){const y=H<<6&192|U;p.push(y)}}}return p},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let y=0;y<this.ENCODED_VALS.length;y++)this.byteToCharMap_[y]=this.ENCODED_VALS.charAt(y),this.charToByteMap_[this.byteToCharMap_[y]]=y,this.byteToCharMapWebSafe_[y]=this.ENCODED_VALS_WEBSAFE.charAt(y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[y]]=y,y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(y)]=y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(y)]=y)}}};class k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(y){return function(y){const g=p(y);return S.encodeByteArray(g,!0)}(y).replace(/\./g,"")},H=function(y){try{return S.decodeString(y,!0)}catch(g){console.error("base64Decode failed: ",g)}return null};const U=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof f.g)return f.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return U()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let y;try{y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(f){return}const g=y&&H(y[1]);return g&&JSON.parse(g)})()}catch(y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${y}`)}},c=y=>{var g,f;return null===(f=null===(g=l())||void 0===g?void 0:g.emulatorHosts)||void 0===f?void 0:f[y]},Z=()=>{var y;return null===(y=l())||void 0===y?void 0:y.config},C=y=>{var g;return null===(g=l())||void 0===g?void 0:g[`_${y}`]};class q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((y,g)=>{this.resolve=y,this.reject=g}))}wrapCallback(y){return(g,f)=>{g?this.reject(g):this.resolve(f),"function"===typeof y&&(this.promise.catch((()=>{})),1===y.length?y(g):y(g,f))}}}function W(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function j(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function P(){const y="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof y&&void 0!==y.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){const y=W();return y.indexOf("MSIE ")>=0||y.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(y){return!1}}function z(){return new Promise(((y,g)=>{try{let f=!0;const p="validate-browser-context-for-indexeddb-analytics-module",S=self.indexedDB.open(p);S.onsuccess=()=>{S.result.close(),f||self.indexedDB.deleteDatabase(p),y(!0)},S.onupgradeneeded=()=>{f=!1},S.onerror=()=>{var y;g((null===(y=S.error)||void 0===y?void 0:y.message)||"")}}catch(f){g(f)}}))}function T(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class Q extends Error{constructor(y,g,f){super(g),this.code=y,this.customData=f,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m.prototype.create)}}class m{constructor(y,g,f){this.service=y,this.serviceName=g,this.errors=f}create(y){const g=(arguments.length<=1?void 0:arguments[1])||{},f=`${this.service}/${y}`,p=this.errors[y],S=p?function(y,g){return y.replace(a,((y,f)=>{const p=g[f];return null!=p?String(p):`<${f}?>`}))}(p,g):"Error",k=`${this.serviceName}: ${S} (${f}).`;return new Q(f,k,g)}}const a=/\{\$([^}]+)}/g;function w(y){for(const g in y)if(Object.prototype.hasOwnProperty.call(y,g))return!1;return!0}function o(y,g){if(y===g)return!0;const f=Object.keys(y),p=Object.keys(g);for(const S of f){if(!p.includes(S))return!1;const f=y[S],k=g[S];if(I(f)&&I(k)){if(!o(f,k))return!1}else if(f!==k)return!1}for(const S of p)if(!f.includes(S))return!1;return!0}function I(y){return null!==y&&"object"===typeof y}function Y(y){const g=[];for(const[f,p]of Object.entries(y))Array.isArray(p)?p.forEach((y=>{g.push(encodeURIComponent(f)+"="+encodeURIComponent(y))})):g.push(encodeURIComponent(f)+"="+encodeURIComponent(p));return g.length?"&"+g.join("&"):""}function n(y){const g={};return y.replace(/^\?/,"").split("&").forEach((y=>{if(y){const[f,p]=y.split("=");g[decodeURIComponent(f)]=decodeURIComponent(p)}})),g}function M(y){const g=y.indexOf("?");if(!g)return"";const f=y.indexOf("#",g);return y.substring(g,f>0?f:void 0)}function r(y,g){const f=new N(y,g);return f.subscribe.bind(f)}class N{constructor(y,g){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=g,this.task.then((()=>{y(this)})).catch((y=>{this.error(y)}))}next(y){this.forEachObserver((g=>{g.next(y)}))}error(y){this.forEachObserver((g=>{g.error(y)})),this.close(y)}complete(){this.forEachObserver((y=>{y.complete()})),this.close()}subscribe(y,g,f){let p;if(void 0===y&&void 0===g&&void 0===f)throw new Error("Missing Observer.");p=function(y,g){if("object"!==typeof y||null===y)return!1;for(const f of g)if(f in y&&"function"===typeof y[f])return!0;return!1}(y,["next","error","complete"])?y:{next:y,error:g,complete:f},void 0===p.next&&(p.next=b),void 0===p.error&&(p.error=b),void 0===p.complete&&(p.complete=b);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?p.error(this.finalError):p.complete()}catch(y){}})),this.observers.push(p),S}unsubscribeOne(y){void 0!==this.observers&&void 0!==this.observers[y]&&(delete this.observers[y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(y){if(!this.finalized)for(let g=0;g<this.observers.length;g++)this.sendOne(g,y)}sendOne(y,g){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[y])try{g(this.observers[y])}catch(f){"undefined"!==typeof console&&console.error&&console.error(f)}}))}close(y){this.finalized||(this.finalized=!0,void 0!==y&&(this.finalError=y),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function b(){}const s=1e3,u=2,F=144e5,A=.5;function J(y){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const f=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)*Math.pow(g,y),p=Math.round(A*f*(Math.random()-.5)*2);return Math.min(F,f+p)}function V(y){return y&&y._delegate?y._delegate:y}},10541:(y,g,f)=>{f.d(g,{c:()=>k.g,e:()=>Zy,h:()=>t,k:()=>fy,n:()=>py,o:()=>yy,p:()=>Hy,s:()=>gy,w:()=>ky,y:()=>Sy,z:()=>iy,C:()=>jy,G:()=>qy,F:()=>Wy,J:()=>Cy,N:()=>By,O:()=>Py,P:()=>Ry});var p=f(10545),S=f(10551),k=f(10547);let i,H;const U=new WeakMap,l=new WeakMap,c=new WeakMap,Z=new WeakMap,C=new WeakMap;let q={get(y,g,f){if(y instanceof IDBTransaction){if("done"===g)return l.get(y);if("objectStoreNames"===g)return y.objectStoreNames||c.get(y);if("store"===g)return f.objectStoreNames[1]?void 0:f.objectStore(f.objectStoreNames[0])}return P(y[g])},set:(y,g,f)=>(y[g]=f,!0),has:(y,g)=>y instanceof IDBTransaction&&("done"===g||"store"===g)||g in y};function W(y){return y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(y)?function(){for(var g=arguments.length,f=new Array(g),p=0;p<g;p++)f[p]=arguments[p];return y.apply(B(this),f),P(U.get(this))}:function(){for(var g=arguments.length,f=new Array(g),p=0;p<g;p++)f[p]=arguments[p];return P(y.apply(B(this),f))}:function(g){for(var f=arguments.length,p=new Array(f>1?f-1:0),S=1;S<f;S++)p[S-1]=arguments[S];const k=y.call(B(this),g,...p);return c.set(k,g.sort?g.sort():[g]),P(k)}}function j(y){return"function"===typeof y?W(y):(y instanceof IDBTransaction&&function(y){if(l.has(y))return;const g=new Promise(((g,f)=>{const p=()=>{y.removeEventListener("complete",S),y.removeEventListener("error",k),y.removeEventListener("abort",k)},S=()=>{g(),p()},k=()=>{f(y.error||new DOMException("AbortError","AbortError")),p()};y.addEventListener("complete",S),y.addEventListener("error",k),y.addEventListener("abort",k)}));l.set(y,g)}(y),g=y,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((y=>g instanceof y))?new Proxy(y,q):y);var g}function P(y){if(y instanceof IDBRequest)return function(y){const g=new Promise(((g,f)=>{const p=()=>{y.removeEventListener("success",S),y.removeEventListener("error",k)},S=()=>{g(P(y.result)),p()},k=()=>{f(y.error),p()};y.addEventListener("success",S),y.addEventListener("error",k)}));return g.then((g=>{g instanceof IDBCursor&&U.set(g,y)})).catch((()=>{})),C.set(g,y),g}(y);if(Z.has(y))return Z.get(y);const g=j(y);return g!==y&&(Z.set(y,g),C.set(g,y)),g}const B=y=>C.get(y);const R=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],z=new Map;function T(y,g){if(!(y instanceof IDBDatabase)||g in y||"string"!==typeof g)return;if(z.get(g))return z.get(g);const f=g.replace(/FromIndex$/,""),p=g!==f,S=G.includes(f);if(!(f in(p?IDBIndex:IDBObjectStore).prototype)||!S&&!R.includes(f))return;const k=async function(y){const g=this.transaction(y,S?"readwrite":"readonly");let k=g.store;for(var i=arguments.length,H=new Array(i>1?i-1:0),U=1;U<i;U++)H[U-1]=arguments[U];return p&&(k=k.index(H.shift())),(await Promise.all([k[f](...H),S&&g.done]))[0]};return z.set(g,k),k}q=(y=>({...y,get:(g,f,p)=>T(g,f)||y.get(g,f,p),has:(g,f)=>!!T(g,f)||y.has(g,f)}))(q);class Q{constructor(y){this.container=y}getPlatformInfoString(){return this.container.getProviders().map((y=>{if(function(y){const g=y.getComponent();return"VERSION"===(null===g||void 0===g?void 0:g.type)}(y)){const g=y.getImmediate();return`${g.library}/${g.version}`}return null})).filter((y=>y)).join(" ")}}const m="@firebase/app",a="0.9.13",w=new S.i("@firebase/app"),o="@firebase/app-compat",I="@firebase/analytics-compat",Y="@firebase/analytics",n="@firebase/app-check-compat",M="@firebase/app-check",r="@firebase/auth",N="@firebase/auth-compat",b="@firebase/database",s="@firebase/database-compat",u="@firebase/functions",F="@firebase/functions-compat",A="@firebase/installations",J="@firebase/installations-compat",V="@firebase/messaging",e="@firebase/messaging-compat",h="@firebase/performance",D="@firebase/performance-compat",K="@firebase/remote-config",X="@firebase/remote-config-compat",E="@firebase/storage",O="@firebase/storage-compat",L="@firebase/firestore",x="@firebase/firestore-compat",d="firebase",t="[DEFAULT]",v={[m]:"fire-core",[o]:"fire-core-compat",[Y]:"fire-analytics",[I]:"fire-analytics-compat",[M]:"fire-app-check",[n]:"fire-app-check-compat",[r]:"fire-auth",[N]:"fire-auth-compat",[b]:"fire-rtdb",[s]:"fire-rtdb-compat",[u]:"fire-fn",[F]:"fire-fn-compat",[A]:"fire-iid",[J]:"fire-iid-compat",[V]:"fire-fcm",[e]:"fire-fcm-compat",[h]:"fire-perf",[D]:"fire-perf-compat",[K]:"fire-rc",[X]:"fire-rc-compat",[E]:"fire-gcs",[O]:"fire-gcs-compat",[L]:"fire-fst",[x]:"fire-fst-compat","fire-js":"fire-js",[d]:"fire-js-all"},yy=new Map,gy=new Map;function fy(y,g){try{y.container.if(g)}catch(f){w.debug(`Component ${g.name} failed to register with FirebaseApp ${y.name}`,f)}}function py(y,g){y.container.addOrOverwriteComponent(g)}function Sy(y){const g=y.name;if(gy.has(g))return w.debug(`There were multiple attempts to register component ${g}.`),!1;gy.set(g,y);for(const f of yy.values())fy(f,y);return!0}function ky(y,g){const f=y.container.getProvider("heartbeat").getImmediate({optional:!0});return f&&f.triggerHeartbeat(),y.container.getProvider(g)}function iy(y,g){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;ky(y,g).clearInstance(f)}function Hy(){gy.clear()}const Uy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ly=new k.e("app","Firebase",Uy);class cy{constructor(y,g,f){this._isDeleted=!1,this._options=Object.assign({},y),this._config=Object.assign({},g),this._name=g.name,this._automaticDataCollectionEnabled=g.automaticDataCollectionEnabled,this._container=f,this.container.if(new p.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(y){this.checkDestroyed(),this._automaticDataCollectionEnabled=y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(y){this._isDeleted=y}checkDestroyed(){if(this.isDeleted)throw ly.create("app-deleted",{appName:this._name})}}const Zy="9.23.0";function Cy(y){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=y;if("object"!==typeof g){g={name:g}}const S=Object.assign({name:t,automaticDataCollectionEnabled:!1},g),i=S.name;if("string"!==typeof i||!i)throw ly.create("bad-app-name",{appName:String(i)});if(f||(f=(0,k.y)()),!f)throw ly.create("no-options");const H=yy.get(i);if(H){if((0,k.v)(f,H.options)&&(0,k.v)(S,H.config))return H;throw ly.create("duplicate-app",{appName:i})}const U=new p.b(i);for(const p of gy.values())U.if(p);const l=new cy(f,S,U);return yy.set(i,l),l}function qy(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;const g=yy.get(y);if(!g&&y===t&&(0,k.y)())return Cy();if(!g)throw ly.create("no-app",{appName:y});return g}function Wy(){return Array.from(yy.values())}async function jy(y){const g=y.name;yy.has(g)&&(yy.delete(g),await Promise.all(y.container.getProviders().map((y=>y.delete()))),y.isDeleted=!0)}function Py(y,g,f){var S;let k=null!==(S=v[y])&&void 0!==S?S:y;f&&(k+=`-${f}`);const i=k.match(/\s|\//),H=g.match(/\s|\//);if(i||H){const y=[`Unable to register library "${k}" with version "${g}":`];return i&&y.push(`library name "${k}" contains illegal characters (whitespace or "/")`),i&&H&&y.push("and"),H&&y.push(`version name "${g}" contains illegal characters (whitespace or "/")`),void w.warn(y.join(" "))}Sy(new p.f(`${k}-version`,(()=>({library:k,version:g})),"VERSION"))}function By(y,g){if(null!==y&&"function"!==typeof y)throw ly.create("invalid-log-argument");(0,S.k)(y,g)}function Ry(y){(0,S.j)(y)}const Gy="firebase-heartbeat-store";let zy=null;function Ty(){return zy||(zy=function(y,g){let{blocked:f,upgrade:p,blocking:S,terminated:k}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(y,g),H=P(i);return p&&i.addEventListener("upgradeneeded",(y=>{p(P(i.result),y.oldVersion,y.newVersion,P(i.transaction),y)})),f&&i.addEventListener("blocked",(y=>f(y.oldVersion,y.newVersion,y))),H.then((y=>{k&&y.addEventListener("close",(()=>k())),S&&y.addEventListener("versionchange",(y=>S(y.oldVersion,y.newVersion,y)))})).catch((()=>{})),H}("firebase-heartbeat-database",1,{upgrade:(y,g)=>{if(0===g)y.createObjectStore(Gy)}}).catch((y=>{throw ly.create("idb-open",{originalErrorMessage:y.message})}))),zy}async function Qy(y,g){try{const f=(await Ty()).transaction(Gy,"readwrite"),p=f.objectStore(Gy);await p.put(g,my(y)),await f.done}catch(f){if(f instanceof k.g)w.warn(f.message);else{const y=ly.create("idb-set",{originalErrorMessage:null===f||void 0===f?void 0:f.message});w.warn(y.message)}}}function my(y){return`${y.name}!${y.options.appId}`}class ay{constructor(y){this.container=y,this._heartbeatsCache=null;const g=this.container.getProvider("app").getImmediate();this.Gi=new oy(g),this._heartbeatsCachePromise=this.Gi.read().then((y=>(this._heartbeatsCache=y,y)))}async triggerHeartbeat(){const y=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),g=wy();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==g&&!this._heartbeatsCache.heartbeats.some((y=>y.date===g)))return this._heartbeatsCache.heartbeats.push({date:g,agent:y}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((y=>{const g=new Date(y.date).valueOf();return Date.now()-g<=2592e6})),this.Gi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const y=wy(),{heartbeatsToSend:g,unsentEntries:f}=function(y){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const f=[];let p=y.slice();for(const S of y){const y=f.find((y=>y.agent===S.agent));if(y){if(y.dates.push(S.date),Iy(f)>g){y.dates.pop();break}}else if(f.push({agent:S.agent,dates:[S.date]}),Iy(f)>g){f.pop();break}p=p.slice(1)}return{heartbeatsToSend:f,unsentEntries:p}}(this._heartbeatsCache.heartbeats),p=(0,k.o)(JSON.stringify({version:2,heartbeats:g}));return this._heartbeatsCache.lastSentHeartbeatDate=y,f.length>0?(this._heartbeatsCache.heartbeats=f,await this.Gi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Gi.overwrite(this._heartbeatsCache)),p}}function wy(){return(new Date).toISOString().substring(0,10)}class oy{constructor(y){this.app=y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,k.T)()&&(0,k.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(y){try{const g=await Ty();return await g.transaction(Gy).objectStore(Gy).get(my(y))}catch(g){if(g instanceof k.g)w.warn(g.message);else{const y=ly.create("idb-get",{originalErrorMessage:null===g||void 0===g?void 0:g.message});w.warn(y.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(y){var g;if(await this._canUseIndexedDBPromise){const f=await this.read();return Qy(this.app,{lastSentHeartbeatDate:null!==(g=y.lastSentHeartbeatDate)&&void 0!==g?g:f.lastSentHeartbeatDate,heartbeats:y.heartbeats})}}async add(y){var g;if(await this._canUseIndexedDBPromise){const f=await this.read();return Qy(this.app,{lastSentHeartbeatDate:null!==(g=y.lastSentHeartbeatDate)&&void 0!==g?g:f.lastSentHeartbeatDate,heartbeats:[...f.heartbeats,...y.heartbeats]})}}}function Iy(y){return(0,k.o)(JSON.stringify({version:2,heartbeats:y})).length}var Yy;Yy="",Sy(new p.f("platform-logger",(y=>new Q(y)),"PRIVATE")),Sy(new p.f("heartbeat",(y=>new ay(y)),"PRIVATE")),Py(m,a,Yy),Py(m,a,"esm2017"),Py("fire-js","")},10545:(y,g,f)=>{f.d(g,{b:()=>H,f:()=>S});var p=f(10547);class S{constructor(y,g,f){this.name=y,this.instanceFactory=g,this.type=f,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(y){return this.instantiationMode=y,this}setMultipleInstances(y){return this.multipleInstances=y,this}setServiceProps(y){return this.serviceProps=y,this}setInstanceCreatedCallback(y){return this.onInstanceCreated=y,this}}const k="[DEFAULT]";class i{constructor(y,g){this.name=y,this.container=g,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(y){const g=this.normalizeInstanceIdentifier(y);if(!this.instancesDeferred.has(g)){const y=new p.b;if(this.instancesDeferred.set(g,y),this.isInitialized(g)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:g});f&&y.resolve(f)}catch(f){}}return this.instancesDeferred.get(g).promise}getImmediate(y){var g;const f=this.normalizeInstanceIdentifier(null===y||void 0===y?void 0:y.identifier),p=null!==(g=null===y||void 0===y?void 0:y.optional)&&void 0!==g&&g;if(!this.isInitialized(f)&&!this.shouldAutoInitialize()){if(p)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:f})}catch(S){if(p)return null;throw S}}getComponent(){return this.component}setComponent(y){if(y.name!==this.name)throw Error(`Mismatching Component ${y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=y,this.shouldAutoInitialize()){if(function(y){return"EAGER"===y.instantiationMode}(y))try{this.getOrInitializeService({instanceIdentifier:k})}catch(g){}for(const[y,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(y);try{const y=this.getOrInitializeService({instanceIdentifier:p});f.resolve(y)}catch(g){}}}}clearInstance(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;this.instancesDeferred.delete(y),this.instancesOptions.delete(y),this.instances.delete(y)}async delete(){const y=Array.from(this.instances.values());await Promise.all([...y.filter((y=>"INTERNAL"in y)).map((y=>y.INTERNAL.delete())),...y.filter((y=>"_delete"in y)).map((y=>y._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return this.instances.has(y)}getOptions(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return this.instancesOptions.get(y)||{}}initialize(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:g={}}=y,f=this.normalizeInstanceIdentifier(y.instanceIdentifier);if(this.isInitialized(f))throw Error(`${this.name}(${f}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const p=this.getOrInitializeService({instanceIdentifier:f,options:g});for(const[S,k]of this.instancesDeferred.entries()){f===this.normalizeInstanceIdentifier(S)&&k.resolve(p)}return p}ki(y,g){var f;const p=this.normalizeInstanceIdentifier(g),S=null!==(f=this.onInitCallbacks.get(p))&&void 0!==f?f:new Set;S.add(y),this.onInitCallbacks.set(p,S);const k=this.instances.get(p);return k&&y(k,p),()=>{S.delete(y)}}invokeOnInitCallbacks(y,g){const f=this.onInitCallbacks.get(g);if(f)for(const S of f)try{S(y,g)}catch(p){}}getOrInitializeService(y){let{instanceIdentifier:g,options:f={}}=y,p=this.instances.get(g);if(!p&&this.component&&(p=this.component.instanceFactory(this.container,{instanceIdentifier:(S=g,S===k?void 0:S),options:f}),this.instances.set(g,p),this.instancesOptions.set(g,f),this.invokeOnInitCallbacks(p,g),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,g,p)}catch(i){}var S;return p||null}normalizeInstanceIdentifier(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return this.component?this.component.multipleInstances?y:k:y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class H{constructor(y){this.name=y,this.providers=new Map}if(y){const g=this.getProvider(y.name);if(g.isComponentSet())throw new Error(`Component ${y.name} has already been registered with ${this.name}`);g.setComponent(y)}addOrOverwriteComponent(y){this.getProvider(y.name).isComponentSet()&&this.providers.delete(y.name),this.if(y)}getProvider(y){if(this.providers.has(y))return this.providers.get(y);const g=new i(y,this);return this.providers.set(y,g),g}getProviders(){return Array.from(this.providers.values())}}},10551:(y,g,f)=>{f.d(g,{e:()=>S,i:()=>l,j:()=>c,k:()=>Z});const p=[];var S;!function(y){y[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT"}(S||(S={}));const k={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},i=S.INFO,H={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},U=function(y,g){if(g<y.logLevel)return;const f=(new Date).toISOString(),p=H[g];if(!p)throw new Error(`Attempted to log a message with an invalid logType (value: ${g})`);for(var S=arguments.length,k=new Array(S>2?S-2:0),i=2;i<S;i++)k[i-2]=arguments[i];console[p](`[${f}]  ${y.name}:`,...k)};class l{constructor(y){this.name=y,this._logLevel=i,this._logHandler=U,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(y){if(!(y in S))throw new TypeError(`Invalid value "${y}" assigned to \`logLevel\``);this._logLevel=y}setLogLevel(y){this._logLevel="string"===typeof y?k[y]:y}get logHandler(){return this._logHandler}set logHandler(y){if("function"!==typeof y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=y}get userLogHandler(){return this._userLogHandler}set userLogHandler(y){this._userLogHandler=y}debug(){for(var y=arguments.length,g=new Array(y),f=0;f<y;f++)g[f]=arguments[f];this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...g),this._logHandler(this,S.DEBUG,...g)}log(){for(var y=arguments.length,g=new Array(y),f=0;f<y;f++)g[f]=arguments[f];this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...g),this._logHandler(this,S.VERBOSE,...g)}info(){for(var y=arguments.length,g=new Array(y),f=0;f<y;f++)g[f]=arguments[f];this._userLogHandler&&this._userLogHandler(this,S.INFO,...g),this._logHandler(this,S.INFO,...g)}warn(){for(var y=arguments.length,g=new Array(y),f=0;f<y;f++)g[f]=arguments[f];this._userLogHandler&&this._userLogHandler(this,S.WARN,...g),this._logHandler(this,S.WARN,...g)}error(){for(var y=arguments.length,g=new Array(y),f=0;f<y;f++)g[f]=arguments[f];this._userLogHandler&&this._userLogHandler(this,S.ERROR,...g),this._logHandler(this,S.ERROR,...g)}}function c(y){p.forEach((g=>{g.setLogLevel(y)}))}function Z(y,g){for(const f of p){let p=null;g&&g.level&&(p=k[g.level]),f.userLogHandler=null===y?null:function(g,f){for(var k=arguments.length,i=new Array(k>2?k-2:0),H=2;H<k;H++)i[H-2]=arguments[H];const U=i.map((y=>{if(null==y)return null;if("string"===typeof y)return y;if("number"===typeof y||"boolean"===typeof y)return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch(g){return null}})).filter((y=>y)).join(" ");f>=(null!==p&&void 0!==p?p:g.logLevel)&&y({level:S[f].toLowerCase(),message:U,args:i,type:g.name})}}}}}]);