/*! For license information please see ljhqg.5.c0cff8bb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10893:(q,S,b)=>{b.d(S,{$:()=>E,A:()=>y,B:()=>n,F:()=>G,J:()=>H,K:()=>t,O:()=>k,Q:()=>W,U:()=>Z,W:()=>Q,_:()=>e,c:()=>R,d:()=>T,db:()=>N,f:()=>X,i:()=>u,k:()=>g,n:()=>U,o:()=>a,q:()=>J,t:()=>f,v:()=>i,x:()=>l,y:()=>V});const z=function(q){const S=[];let b=0;for(let z=0;z<q.length;z++){let C=q.charCodeAt(z);C<128?S[b++]=C:C<2048?(S[b++]=C>>6|192,S[b++]=63&C|128):55296===(64512&C)&&z+1<q.length&&56320===(64512&q.charCodeAt(z+1))?(C=65536+((1023&C)<<10)+(1023&q.charCodeAt(++z)),S[b++]=C>>18|240,S[b++]=C>>12&63|128,S[b++]=C>>6&63|128,S[b++]=63&C|128):(S[b++]=C>>12|224,S[b++]=C>>6&63|128,S[b++]=63&C|128)}return S},C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(q,S){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let C=0;C<q.length;C+=3){const S=q[C],v=C+1<q.length,U=v?q[C+1]:0,g=C+2<q.length,r=g?q[C+2]:0,I=S>>2,V=(3&S)<<4|U>>4;let l=(15&U)<<2|r>>6,y=63&r;g||(y=64,v||(l=64)),z.push(b[I],b[V],b[l],b[y])}return z.join("")},encodeString(q,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(q):this.encodeByteArray(z(q),S)},decodeString(q,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(q):function(q){const S=[];let b=0,z=0;for(;b<q.length;){const C=q[b++];if(C<128)S[z++]=String.fromCharCode(C);else if(C>191&&C<224){const v=q[b++];S[z++]=String.fromCharCode((31&C)<<6|63&v)}else if(C>239&&C<365){const v=((7&C)<<18|(63&q[b++])<<12|(63&q[b++])<<6|63&q[b++])-65536;S[z++]=String.fromCharCode(55296+(v>>10)),S[z++]=String.fromCharCode(56320+(1023&v))}else{const v=q[b++],U=q[b++];S[z++]=String.fromCharCode((15&C)<<12|(63&v)<<6|63&U)}}return S.join("")}(this.decodeStringToByteArray(q,S))},decodeStringToByteArray(q,S){this.init_();const b=S?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let C=0;C<q.length;){const S=b[q.charAt(C++)],U=C<q.length?b[q.charAt(C)]:0;++C;const g=C<q.length?b[q.charAt(C)]:64;++C;const r=C<q.length?b[q.charAt(C)]:64;if(++C,null==S||null==U||null==g||null==r)throw new v;const I=S<<2|U>>4;if(z.push(I),64!==g){const q=U<<4&240|g>>2;if(z.push(q),64!==r){const q=g<<6&192|r;z.push(q)}}}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(q){return function(q){const S=z(q);return C.encodeByteArray(S,!0)}(q).replace(/\./g,"")},g=function(q){try{return C.decodeString(q,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};const r=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof b.g)return b.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,I=()=>{try{return r()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(b){return}const S=q&&g(q[1]);return S&&JSON.parse(S)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},V=q=>{var S,b;return null===(b=null===(S=I())||void 0===S?void 0:S.emulatorHosts)||void 0===b?void 0:b[q]},l=()=>{var q;return null===(q=I())||void 0===q?void 0:q.config},y=q=>{var S;return null===(S=I())||void 0===S?void 0:S[`_${q}`]};class R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((q,S)=>{this.resolve=q,this.reject=S}))}wrapCallback(q){return(S,b)=>{S?this.reject(S):this.resolve(b),"function"===typeof q&&(this.promise.catch((()=>{})),1===q.length?q(S):q(S,b))}}}function G(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Z(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G())}function H(){const q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof q&&void 0!==q.id}function Q(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){const q=G();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(q){return!1}}function N(){return new Promise(((q,S)=>{try{let b=!0;const z="validate-browser-context-for-indexeddb-analytics-module",C=self.indexedDB.open(z);C.onsuccess=()=>{C.result.close(),b||self.indexedDB.deleteDatabase(z),q(!0)},C.onupgradeneeded=()=>{b=!1},C.onerror=()=>{var q;S((null===(q=C.error)||void 0===q?void 0:q.message)||"")}}catch(b){S(b)}}))}function u(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class X extends Error{constructor(q,S,b){super(S),this.code=q,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(q,S,b){this.service=q,this.serviceName=S,this.errors=b}create(q){const S=(arguments.length<=1?void 0:arguments[1])||{},b=`${this.service}/${q}`,z=this.errors[q],C=z?function(q,S){return q.replace(B,((q,b)=>{const z=S[b];return null!=z?String(z):`<${b}?>`}))}(z,S):"Error",v=`${this.serviceName}: ${C} (${b}).`;return new X(b,v,S)}}const B=/\{\$([^}]+)}/g;function t(q){for(const S in q)if(Object.prototype.hasOwnProperty.call(q,S))return!1;return!0}function f(q,S){if(q===S)return!0;const b=Object.keys(q),z=Object.keys(S);for(const C of b){if(!z.includes(C))return!1;const b=q[C],v=S[C];if(m(b)&&m(v)){if(!f(b,v))return!1}else if(b!==v)return!1}for(const C of z)if(!b.includes(C))return!1;return!0}function m(q){return null!==q&&"object"===typeof q}function E(q){const S=[];for(const[b,z]of Object.entries(q))Array.isArray(z)?z.forEach((q=>{S.push(encodeURIComponent(b)+"="+encodeURIComponent(q))})):S.push(encodeURIComponent(b)+"="+encodeURIComponent(z));return S.length?"&"+S.join("&"):""}function e(q){const S={};return q.replace(/^\?/,"").split("&").forEach((q=>{if(q){const[b,z]=q.split("=");S[decodeURIComponent(b)]=decodeURIComponent(z)}})),S}function i(q){const S=q.indexOf("?");if(!S)return"";const b=q.indexOf("#",S);return q.substring(S,b>0?b:void 0)}function J(q,S){const b=new L(q,S);return b.subscribe.bind(b)}class L{constructor(q,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then((()=>{q(this)})).catch((q=>{this.error(q)}))}next(q){this.forEachObserver((S=>{S.next(q)}))}error(q){this.forEachObserver((S=>{S.error(q)})),this.close(q)}complete(){this.forEachObserver((q=>{q.complete()})),this.close()}subscribe(q,S,b){let z;if(void 0===q&&void 0===S&&void 0===b)throw new Error("Missing Observer.");z=function(q,S){if("object"!==typeof q||null===q)return!1;for(const b of S)if(b in q&&"function"===typeof q[b])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:S,complete:b},void 0===z.next&&(z.next=d),void 0===z.error&&(z.error=d),void 0===z.complete&&(z.complete=d);const C=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(q){}})),this.observers.push(z),C}unsubscribeOne(q){void 0!==this.observers&&void 0!==this.observers[q]&&(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,q)}sendOne(q,S){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{S(this.observers[q])}catch(b){"undefined"!==typeof console&&console.error&&console.error(b)}}))}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function d(){}const K=1e3,D=2,x=144e5,F=.5;function a(q){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const b=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(S,q),z=Math.round(F*b*(Math.random()-.5)*2);return Math.min(x,b+z)}function n(q){return q&&q._delegate?q._delegate:q}},10879:(q,S,b)=>{b.d(S,{b:()=>v.f,e:()=>lq,g:()=>Y,h:()=>bq,l:()=>zq,n:()=>qq,q:()=>gq,s:()=>Sq,t:()=>vq,u:()=>Cq,y:()=>Uq,A:()=>Zq,I:()=>Rq,E:()=>Gq,K:()=>yq,N:()=>Qq,P:()=>Hq,R:()=>kq});var z=b(10887),C=b(10902),v=b(10893);let U,g;const r=new WeakMap,I=new WeakMap,V=new WeakMap,l=new WeakMap,y=new WeakMap;let R={get(q,S,b){if(q instanceof IDBTransaction){if("done"===S)return I.get(q);if("objectStoreNames"===S)return q.objectStoreNames||V.get(q);if("store"===S)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return H(q[S])},set:(q,S,b)=>(q[S]=b,!0),has:(q,S)=>q instanceof IDBTransaction&&("done"===S||"store"===S)||S in q};function G(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(g||(g=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(q)?function(){for(var S=arguments.length,b=new Array(S),z=0;z<S;z++)b[z]=arguments[z];return q.apply(Q(this),b),H(r.get(this))}:function(){for(var S=arguments.length,b=new Array(S),z=0;z<S;z++)b[z]=arguments[z];return H(q.apply(Q(this),b))}:function(S){for(var b=arguments.length,z=new Array(b>1?b-1:0),C=1;C<b;C++)z[C-1]=arguments[C];const v=q.call(Q(this),S,...z);return V.set(v,S.sort?S.sort():[S]),H(v)}}function Z(q){return"function"===typeof q?G(q):(q instanceof IDBTransaction&&function(q){if(I.has(q))return;const S=new Promise(((S,b)=>{const z=()=>{q.removeEventListener("complete",C),q.removeEventListener("error",v),q.removeEventListener("abort",v)},C=()=>{S(),z()},v=()=>{b(q.error||new DOMException("AbortError","AbortError")),z()};q.addEventListener("complete",C),q.addEventListener("error",v),q.addEventListener("abort",v)}));I.set(q,S)}(q),S=q,(U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((q=>S instanceof q))?new Proxy(q,R):q);var S}function H(q){if(q instanceof IDBRequest)return function(q){const S=new Promise(((S,b)=>{const z=()=>{q.removeEventListener("success",C),q.removeEventListener("error",v)},C=()=>{S(H(q.result)),z()},v=()=>{b(q.error),z()};q.addEventListener("success",C),q.addEventListener("error",v)}));return S.then((S=>{S instanceof IDBCursor&&r.set(S,q)})).catch((()=>{})),y.set(S,q),S}(q);if(l.has(q))return l.get(q);const S=Z(q);return S!==q&&(l.set(q,S),y.set(S,q)),S}const Q=q=>y.get(q);const k=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],N=new Map;function u(q,S){if(!(q instanceof IDBDatabase)||S in q||"string"!==typeof S)return;if(N.get(S))return N.get(S);const b=S.replace(/FromIndex$/,""),z=S!==b,C=W.includes(b);if(!(b in(z?IDBIndex:IDBObjectStore).prototype)||!C&&!k.includes(b))return;const v=async function(q){const S=this.transaction(q,C?"readwrite":"readonly");let v=S.store;for(var U=arguments.length,g=new Array(U>1?U-1:0),r=1;r<U;r++)g[r-1]=arguments[r];return z&&(v=v.index(g.shift())),(await Promise.all([v[b](...g),C&&S.done]))[0]};return N.set(S,v),v}R=(q=>({...q,get:(S,b,z)=>u(S,b)||q.get(S,b,z),has:(S,b)=>!!u(S,b)||q.has(S,b)}))(R);class X{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map((q=>{if(function(q){const S=q.getComponent();return"VERSION"===(null===S||void 0===S?void 0:S.type)}(q)){const S=q.getImmediate();return`${S.library}/${S.version}`}return null})).filter((q=>q)).join(" ")}}const T="@firebase/app",B="0.9.13",t=new C.g("@firebase/app"),f="@firebase/app-compat",m="@firebase/analytics-compat",E="@firebase/analytics",e="@firebase/app-check-compat",i="@firebase/app-check",J="@firebase/auth",L="@firebase/auth-compat",d="@firebase/database",K="@firebase/database-compat",D="@firebase/functions",x="@firebase/functions-compat",F="@firebase/installations",a="@firebase/installations-compat",n="@firebase/messaging",o="@firebase/messaging-compat",s="@firebase/performance",A="@firebase/performance-compat",w="@firebase/remote-config",P="@firebase/remote-config-compat",h="@firebase/storage",O="@firebase/storage-compat",j="@firebase/firestore",M="@firebase/firestore-compat",p="firebase",Y="[DEFAULT]",c={[T]:"fire-core",[f]:"fire-core-compat",[E]:"fire-analytics",[m]:"fire-analytics-compat",[i]:"fire-app-check",[e]:"fire-app-check-compat",[J]:"fire-auth",[L]:"fire-auth-compat",[d]:"fire-rtdb",[K]:"fire-rtdb-compat",[D]:"fire-fn",[x]:"fire-fn-compat",[F]:"fire-iid",[a]:"fire-iid-compat",[n]:"fire-fcm",[o]:"fire-fcm-compat",[s]:"fire-perf",[A]:"fire-perf-compat",[w]:"fire-rc",[P]:"fire-rc-compat",[h]:"fire-gcs",[O]:"fire-gcs-compat",[j]:"fire-fst",[M]:"fire-fst-compat","fire-js":"fire-js",[p]:"fire-js-all"},qq=new Map,Sq=new Map;function bq(q,S){try{q.container.vI(S)}catch(b){t.debug(`Component ${S.name} failed to register with FirebaseApp ${q.name}`,b)}}function zq(q,S){q.container.addOrOverwriteComponent(S)}function Cq(q){const S=q.name;if(Sq.has(S))return t.debug(`There were multiple attempts to register component ${S}.`),!1;Sq.set(S,q);for(const b of qq.values())bq(b,q);return!0}function vq(q,S){const b=q.container.getProvider("heartbeat").getImmediate({optional:!0});return b&&b.triggerHeartbeat(),q.container.getProvider(S)}function Uq(q,S){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;vq(q,S).clearInstance(b)}function gq(){Sq.clear()}const rq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Iq=new v.d("app","Firebase",rq);class Vq{constructor(q,S,b){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},S),this._name=S.name,this._automaticDataCollectionEnabled=S.automaticDataCollectionEnabled,this._container=b,this.container.vI(new z.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw Iq.create("app-deleted",{appName:this._name})}}const lq="9.23.0";function yq(q){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=q;if("object"!==typeof S){S={name:S}}const C=Object.assign({name:Y,automaticDataCollectionEnabled:!1},S),U=C.name;if("string"!==typeof U||!U)throw Iq.create("bad-app-name",{appName:String(U)});if(b||(b=(0,v.x)()),!b)throw Iq.create("no-options");const g=qq.get(U);if(g){if((0,v.t)(b,g.options)&&(0,v.t)(C,g.config))return g;throw Iq.create("duplicate-app",{appName:U})}const r=new z.b(U);for(const z of Sq.values())r.vI(z);const I=new Vq(b,C,r);return qq.set(U,I),I}function Rq(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const S=qq.get(q);if(!S&&q===Y&&(0,v.x)())return yq();if(!S)throw Iq.create("no-app",{appName:q});return S}function Gq(){return Array.from(qq.values())}async function Zq(q){const S=q.name;qq.has(S)&&(qq.delete(S),await Promise.all(q.container.getProviders().map((q=>q.delete()))),q.isDeleted=!0)}function Hq(q,S,b){var C;let v=null!==(C=c[q])&&void 0!==C?C:q;b&&(v+=`-${b}`);const U=v.match(/\s|\//),g=S.match(/\s|\//);if(U||g){const q=[`Unable to register library "${v}" with version "${S}":`];return U&&q.push(`library name "${v}" contains illegal characters (whitespace or "/")`),U&&g&&q.push("and"),g&&q.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void t.warn(q.join(" "))}Cq(new z.d(`${v}-version`,(()=>({library:v,version:S})),"VERSION"))}function Qq(q,S){if(null!==q&&"function"!==typeof q)throw Iq.create("invalid-log-argument");(0,C.j)(q,S)}function kq(q){(0,C.h)(q)}const Wq="firebase-heartbeat-store";let Nq=null;function uq(){return Nq||(Nq=function(q,S){let{blocked:b,upgrade:z,blocking:C,terminated:v}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const U=indexedDB.open(q,S),g=H(U);return z&&U.addEventListener("upgradeneeded",(q=>{z(H(U.result),q.oldVersion,q.newVersion,H(U.transaction),q)})),b&&U.addEventListener("blocked",(q=>b(q.oldVersion,q.newVersion,q))),g.then((q=>{v&&q.addEventListener("close",(()=>v())),C&&q.addEventListener("versionchange",(q=>C(q.oldVersion,q.newVersion,q)))})).catch((()=>{})),g}("firebase-heartbeat-database",1,{upgrade:(q,S)=>{if(0===S)q.createObjectStore(Wq)}}).catch((q=>{throw Iq.create("idb-open",{originalErrorMessage:q.message})}))),Nq}async function Xq(q,S){try{const b=(await uq()).transaction(Wq,"readwrite"),z=b.objectStore(Wq);await z.put(S,Tq(q)),await b.done}catch(b){if(b instanceof v.f)t.warn(b.message);else{const q=Iq.create("idb-set",{originalErrorMessage:null===b||void 0===b?void 0:b.message});t.warn(q.message)}}}function Tq(q){return`${q.name}!${q.options.appId}`}class Bq{constructor(q){this.container=q,this._heartbeatsCache=null;const S=this.container.getProvider("app").getImmediate();this.el=new fq(S),this._heartbeatsCachePromise=this.el.read().then((q=>(this._heartbeatsCache=q,q)))}async triggerHeartbeat(){const q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),S=tq();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==S&&!this._heartbeatsCache.heartbeats.some((q=>q.date===S)))return this._heartbeatsCache.heartbeats.push({date:S,agent:q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q=>{const S=new Date(q.date).valueOf();return Date.now()-S<=2592e6})),this.el.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const q=tq(),{heartbeatsToSend:S,unsentEntries:b}=function(q){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const b=[];let z=q.slice();for(const C of q){const q=b.find((q=>q.agent===C.agent));if(q){if(q.dates.push(C.date),mq(b)>S){q.dates.pop();break}}else if(b.push({agent:C.agent,dates:[C.date]}),mq(b)>S){b.pop();break}z=z.slice(1)}return{heartbeatsToSend:b,unsentEntries:z}}(this._heartbeatsCache.heartbeats),z=(0,v.n)(JSON.stringify({version:2,heartbeats:S}));return this._heartbeatsCache.lastSentHeartbeatDate=q,b.length>0?(this._heartbeatsCache.heartbeats=b,await this.el.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.el.overwrite(this._heartbeatsCache)),z}}function tq(){return(new Date).toISOString().substring(0,10)}class fq{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,v.Q)()&&(0,v.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(q){try{const S=await uq();return await S.transaction(Wq).objectStore(Wq).get(Tq(q))}catch(S){if(S instanceof v.f)t.warn(S.message);else{const q=Iq.create("idb-get",{originalErrorMessage:null===S||void 0===S?void 0:S.message});t.warn(q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(q){var S;if(await this._canUseIndexedDBPromise){const b=await this.read();return Xq(this.app,{lastSentHeartbeatDate:null!==(S=q.lastSentHeartbeatDate)&&void 0!==S?S:b.lastSentHeartbeatDate,heartbeats:q.heartbeats})}}async add(q){var S;if(await this._canUseIndexedDBPromise){const b=await this.read();return Xq(this.app,{lastSentHeartbeatDate:null!==(S=q.lastSentHeartbeatDate)&&void 0!==S?S:b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...q.heartbeats]})}}}function mq(q){return(0,v.n)(JSON.stringify({version:2,heartbeats:q})).length}var Eq;Eq="",Cq(new z.d("platform-logger",(q=>new X(q)),"PRIVATE")),Cq(new z.d("heartbeat",(q=>new Bq(q)),"PRIVATE")),Hq(T,B,Eq),Hq(T,B,"esm2017"),Hq("fire-js","")},10887:(q,S,b)=>{b.d(S,{b:()=>g,d:()=>C});var z=b(10893);class C{constructor(q,S,b){this.name=q,this.instanceFactory=S,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const v="[DEFAULT]";class U{constructor(q,S){this.name=q,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const S=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(S)){const q=new z.c;if(this.instancesDeferred.set(S,q),this.isInitialized(S)||this.shouldAutoInitialize())try{const b=this.getOrInitializeService({instanceIdentifier:S});b&&q.resolve(b)}catch(b){}}return this.instancesDeferred.get(S).promise}getImmediate(q){var S;const b=this.normalizeInstanceIdentifier(null===q||void 0===q?void 0:q.identifier),z=null!==(S=null===q||void 0===q?void 0:q.optional)&&void 0!==S&&S;if(!this.isInitialized(b)&&!this.shouldAutoInitialize()){if(z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:b})}catch(C){if(z)return null;throw C}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:v})}catch(S){}for(const[q,b]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(q);try{const q=this.getOrInitializeService({instanceIdentifier:z});b.resolve(q)}catch(S){}}}}clearInstance(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}async delete(){const q=Array.from(this.instances.values());await Promise.all([...q.filter((q=>"INTERNAL"in q)).map((q=>q.INTERNAL.delete())),...q.filter((q=>"_delete"in q)).map((q=>q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.instances.has(q)}getOptions(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.instancesOptions.get(q)||{}}initialize(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:S={}}=q,b=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:b,options:S});for(const[C,v]of this.instancesDeferred.entries()){b===this.normalizeInstanceIdentifier(C)&&v.resolve(z)}return z}Il(q,S){var b;const z=this.normalizeInstanceIdentifier(S),C=null!==(b=this.onInitCallbacks.get(z))&&void 0!==b?b:new Set;C.add(q),this.onInitCallbacks.set(z,C);const v=this.instances.get(z);return v&&q(v,z),()=>{C.delete(q)}}invokeOnInitCallbacks(q,S){const b=this.onInitCallbacks.get(S);if(b)for(const C of b)try{C(q,S)}catch(z){}}getOrInitializeService(q){let{instanceIdentifier:S,options:b={}}=q,z=this.instances.get(S);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:(C=S,C===v?void 0:C),options:b}),this.instances.set(S,z),this.instancesOptions.set(S,b),this.invokeOnInitCallbacks(z,S),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,S,z)}catch(U){}var C;return z||null}normalizeInstanceIdentifier(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return this.component?this.component.multipleInstances?q:v:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class g{constructor(q){this.name=q,this.providers=new Map}vI(q){const S=this.getProvider(q.name);if(S.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);S.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.vI(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const S=new U(q,this);return this.providers.set(q,S),S}getProviders(){return Array.from(this.providers.values())}}},10902:(q,S,b)=>{b.d(S,{c:()=>C,g:()=>I,h:()=>V,j:()=>l});const z=[];var C;!function(q){q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT"}(C||(C={}));const v={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},U=C.INFO,g={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},r=function(q,S){if(S<q.logLevel)return;const b=(new Date).toISOString(),z=g[S];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);for(var C=arguments.length,v=new Array(C>2?C-2:0),U=2;U<C;U++)v[U-2]=arguments[U];console[z](`[${b}]  ${q.name}:`,...v)};class I{constructor(q){this.name=q,this._logLevel=U,this._logHandler=r,this._userLogHandler=null,z.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in C))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"===typeof q?v[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!==typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(){for(var q=arguments.length,S=new Array(q),b=0;b<q;b++)S[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...S),this._logHandler(this,C.DEBUG,...S)}log(){for(var q=arguments.length,S=new Array(q),b=0;b<q;b++)S[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...S),this._logHandler(this,C.VERBOSE,...S)}info(){for(var q=arguments.length,S=new Array(q),b=0;b<q;b++)S[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,C.INFO,...S),this._logHandler(this,C.INFO,...S)}warn(){for(var q=arguments.length,S=new Array(q),b=0;b<q;b++)S[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,C.WARN,...S),this._logHandler(this,C.WARN,...S)}error(){for(var q=arguments.length,S=new Array(q),b=0;b<q;b++)S[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,C.ERROR,...S),this._logHandler(this,C.ERROR,...S)}}function V(q){z.forEach((S=>{S.setLogLevel(q)}))}function l(q,S){for(const b of z){let z=null;S&&S.level&&(z=v[S.level]),b.userLogHandler=null===q?null:function(S,b){for(var v=arguments.length,U=new Array(v>2?v-2:0),g=2;g<v;g++)U[g-2]=arguments[g];const r=U.map((q=>{if(null==q)return null;if("string"===typeof q)return q;if("number"===typeof q||"boolean"===typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(S){return null}})).filter((q=>q)).join(" ");b>=(null!==z&&void 0!==z?z:S.logLevel)&&q({level:C[b].toLowerCase(),message:r,args:U,type:S.name})}}}}}]);