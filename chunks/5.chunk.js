/*! For license information please see 6bgy3s.5.430d520a.chunk.js.LICENSE.txt */
"use strict";(self.dwifukwnts=self.dwifukwnts||[]).push([[5],{11375:(U,X,b)=>{b.d(X,{B:()=>R,F:()=>S,I:()=>n,M:()=>K,P:()=>J,R:()=>x,U:()=>e,X:()=>O,_:()=>N,ab:()=>m,bb:()=>I,cb:()=>v,db:()=>k,e:()=>a,f:()=>f,fb:()=>u,j:()=>P,k:()=>i,n:()=>z,p:()=>Q,r:()=>Y,s:()=>s,v:()=>l,y:()=>A});const F=function(U){const X=[];let b=0;for(let F=0;F<U.length;F++){let E=U.charCodeAt(F);E<128?X[b++]=E:E<2048?(X[b++]=E>>6|192,X[b++]=63&E|128):55296===(64512&E)&&F+1<U.length&&56320===(64512&U.charCodeAt(F+1))?(E=65536+((1023&E)<<10)+(1023&U.charCodeAt(++F)),X[b++]=E>>18|240,X[b++]=E>>12&63|128,X[b++]=E>>6&63|128,X[b++]=63&E|128):(X[b++]=E>>12|224,X[b++]=E>>6&63|128,X[b++]=63&E|128)}return X},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(U,X){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let E=0;E<U.length;E+=3){const X=U[E],w=E+1<U.length,Q=w?U[E+1]:0,z=E+2<U.length,q=z?U[E+2]:0,p=X>>2,S=(3&X)<<4|Q>>4;let R=(15&Q)<<2|q>>6,n=63&q;z||(n=64,w||(R=64)),F.push(b[p],b[S],b[R],b[n])}return F.join("")},encodeString(U,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(U):this.encodeByteArray(F(U),X)},decodeString(U,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(U):function(U){const X=[];let b=0,F=0;for(;b<U.length;){const E=U[b++];if(E<128)X[F++]=String.fromCharCode(E);else if(E>191&&E<224){const w=U[b++];X[F++]=String.fromCharCode((31&E)<<6|63&w)}else if(E>239&&E<365){const w=((7&E)<<18|(63&U[b++])<<12|(63&U[b++])<<6|63&U[b++])-65536;X[F++]=String.fromCharCode(55296+(w>>10)),X[F++]=String.fromCharCode(56320+(1023&w))}else{const w=U[b++],Q=U[b++];X[F++]=String.fromCharCode((15&E)<<12|(63&w)<<6|63&Q)}}return X.join("")}(this.decodeStringToByteArray(U,X))},decodeStringToByteArray(U,X){this.init_();const b=X?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let E=0;E<U.length;){const X=b[U.charAt(E++)],Q=E<U.length?b[U.charAt(E)]:0;++E;const z=E<U.length?b[U.charAt(E)]:64;++E;const q=E<U.length?b[U.charAt(E)]:64;if(++E,null==X||null==Q||null==z||null==q)throw new w;const p=X<<2|Q>>4;if(F.push(p),64!==z){const U=Q<<4&240|z>>2;if(F.push(U),64!==q){const U=z<<6&192|q;F.push(U)}}}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(U){return function(U){const X=F(U);return E.encodeByteArray(X,!0)}(U).replace(/\./g,"")},z=function(U){try{return E.decodeString(U,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};const q=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof b.g)return b.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,p=()=>{try{return q()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(b){return}const X=U&&z(U[1]);return X&&JSON.parse(X)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},S=U=>{var X,b;return null===(b=null===(X=p())||void 0===X?void 0:X.emulatorHosts)||void 0===b?void 0:b[U]},R=()=>{var U;return null===(U=p())||void 0===U?void 0:U.config},n=U=>{var X;return null===(X=p())||void 0===X?void 0:X[`_${U}`]};class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((U,X)=>{this.resolve=U,this.reject=X}))}wrapCallback(U){return(X,b)=>{X?this.reject(X):this.resolve(b),"function"===typeof U&&(this.promise.catch((()=>{})),1===U.length?U(X):U(X,b))}}}function J(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function x(){const U="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof U&&void 0!==U.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){const U=J();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function N(){try{return"object"===typeof indexedDB}catch(U){return!1}}function u(){return new Promise(((U,X)=>{try{let b=!0;const F="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(F);E.onsuccess=()=>{E.result.close(),b||self.indexedDB.deleteDatabase(F),U(!0)},E.onupgradeneeded=()=>{b=!1},E.onerror=()=>{var U;X((null===(U=E.error)||void 0===U?void 0:U.message)||"")}}catch(b){X(b)}}))}function i(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class P extends Error{constructor(U,X,b){super(X),this.code=U,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f.prototype.create)}}class f{constructor(U,X,b){this.service=U,this.serviceName=X,this.errors=b}create(U){const X=(arguments.length<=1?void 0:arguments[1])||{},b=`${this.service}/${U}`,F=this.errors[U],E=F?function(U,X){return U.replace(j,((U,b)=>{const F=X[b];return null!=F?String(F):`<${b}?>`}))}(F,X):"Error",w=`${this.serviceName}: ${E} (${b}).`;return new P(b,w,X)}}const j=/\{\$([^}]+)}/g;function e(U){for(const X in U)if(Object.prototype.hasOwnProperty.call(U,X))return!1;return!0}function l(U,X){if(U===X)return!0;const b=Object.keys(U),F=Object.keys(X);for(const E of b){if(!F.includes(E))return!1;const b=U[E],w=X[E];if(d(b)&&d(w)){if(!l(b,w))return!1}else if(b!==w)return!1}for(const E of F)if(!b.includes(E))return!1;return!0}function d(U){return null!==U&&"object"===typeof U}function k(U){const X=[];for(const[b,F]of Object.entries(U))Array.isArray(F)?F.forEach((U=>{X.push(encodeURIComponent(b)+"="+encodeURIComponent(U))})):X.push(encodeURIComponent(b)+"="+encodeURIComponent(F));return X.length?"&"+X.join("&"):""}function v(U){const X={};return U.replace(/^\?/,"").split("&").forEach((U=>{if(U){const[b,F]=U.split("=");X[decodeURIComponent(b)]=decodeURIComponent(F)}})),X}function A(U){const X=U.indexOf("?");if(!X)return"";const b=U.indexOf("#",X);return U.substring(X,b>0?b:void 0)}function s(U,X){const b=new h(U,X);return b.subscribe.bind(b)}class h{constructor(U,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then((()=>{U(this)})).catch((U=>{this.error(U)}))}next(U){this.forEachObserver((X=>{X.next(U)}))}error(U){this.forEachObserver((X=>{X.error(U)})),this.close(U)}complete(){this.forEachObserver((U=>{U.complete()})),this.close()}subscribe(U,X,b){let F;if(void 0===U&&void 0===X&&void 0===b)throw new Error("Missing Observer.");F=function(U,X){if("object"!==typeof U||null===U)return!1;for(const b of X)if(b in U&&"function"===typeof U[b])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:X,complete:b},void 0===F.next&&(F.next=B),void 0===F.error&&(F.error=B),void 0===F.complete&&(F.complete=B);const E=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch(U){}})),this.observers.push(F),E}unsubscribeOne(U){void 0!==this.observers&&void 0!==this.observers[U]&&(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,U)}sendOne(U,X){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{X(this.observers[U])}catch(b){"undefined"!==typeof console&&console.error&&console.error(b)}}))}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function B(){}const o=1e3,y=2,t=144e5,W=.5;function Y(U){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;const b=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(X,U),F=Math.round(W*b*(Math.random()-.5)*2);return Math.min(t,b+F)}function K(U){return U&&U._delegate?U._delegate:U}},11368:(U,X,b)=>{b.d(X,{d:()=>w.j,e:()=>RU,h:()=>T,l:()=>bU,m:()=>FU,p:()=>UU,q:()=>zU,u:()=>XU,x:()=>wU,z:()=>EU,A:()=>QU,D:()=>mU,L:()=>aU,H:()=>JU,O:()=>nU,Q:()=>IU,T:()=>xU,W:()=>OU});var F=b(11373),E=b(11377),w=b(11375);let Q,z;const q=new WeakMap,p=new WeakMap,S=new WeakMap,R=new WeakMap,n=new WeakMap;let a={get(U,X,b){if(U instanceof IDBTransaction){if("done"===X)return p.get(U);if("objectStoreNames"===X)return U.objectStoreNames||S.get(U);if("store"===X)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return x(U[X])},set:(U,X,b)=>(U[X]=b,!0),has:(U,X)=>U instanceof IDBTransaction&&("done"===X||"store"===X)||X in U};function J(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(U)?function(){for(var X=arguments.length,b=new Array(X),F=0;F<X;F++)b[F]=arguments[F];return U.apply(I(this),b),x(q.get(this))}:function(){for(var X=arguments.length,b=new Array(X),F=0;F<X;F++)b[F]=arguments[F];return x(U.apply(I(this),b))}:function(X){for(var b=arguments.length,F=new Array(b>1?b-1:0),E=1;E<b;E++)F[E-1]=arguments[E];const w=U.call(I(this),X,...F);return S.set(w,X.sort?X.sort():[X]),x(w)}}function m(U){return"function"===typeof U?J(U):(U instanceof IDBTransaction&&function(U){if(p.has(U))return;const X=new Promise(((X,b)=>{const F=()=>{U.removeEventListener("complete",E),U.removeEventListener("error",w),U.removeEventListener("abort",w)},E=()=>{X(),F()},w=()=>{b(U.error||new DOMException("AbortError","AbortError")),F()};U.addEventListener("complete",E),U.addEventListener("error",w),U.addEventListener("abort",w)}));p.set(U,X)}(U),X=U,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((U=>X instanceof U))?new Proxy(U,a):U);var X}function x(U){if(U instanceof IDBRequest)return function(U){const X=new Promise(((X,b)=>{const F=()=>{U.removeEventListener("success",E),U.removeEventListener("error",w)},E=()=>{X(x(U.result)),F()},w=()=>{b(U.error),F()};U.addEventListener("success",E),U.addEventListener("error",w)}));return X.then((X=>{X instanceof IDBCursor&&q.set(X,U)})).catch((()=>{})),n.set(X,U),X}(U);if(R.has(U))return R.get(U);const X=m(U);return X!==U&&(R.set(U,X),n.set(X,U)),X}const I=U=>n.get(U);const O=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],u=new Map;function i(U,X){if(!(U instanceof IDBDatabase)||X in U||"string"!==typeof X)return;if(u.get(X))return u.get(X);const b=X.replace(/FromIndex$/,""),F=X!==b,E=N.includes(b);if(!(b in(F?IDBIndex:IDBObjectStore).prototype)||!E&&!O.includes(b))return;const w=async function(U){const X=this.transaction(U,E?"readwrite":"readonly");let w=X.store;for(var Q=arguments.length,z=new Array(Q>1?Q-1:0),q=1;q<Q;q++)z[q-1]=arguments[q];return F&&(w=w.index(z.shift())),(await Promise.all([w[b](...z),E&&X.done]))[0]};return u.set(X,w),w}a=(U=>({...U,get:(X,b,F)=>i(X,b)||U.get(X,b,F),has:(X,b)=>!!i(X,b)||U.has(X,b)}))(a);class P{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map((U=>{if(function(U){const X=U.getComponent();return"VERSION"===(null===X||void 0===X?void 0:X.type)}(U)){const X=U.getImmediate();return`${X.library}/${X.version}`}return null})).filter((U=>U)).join(" ")}}const f="@firebase/app",j="0.9.13",e=new E.f("@firebase/app"),l="@firebase/app-compat",d="@firebase/analytics-compat",k="@firebase/analytics",v="@firebase/app-check-compat",A="@firebase/app-check",s="@firebase/auth",h="@firebase/auth-compat",B="@firebase/database",o="@firebase/database-compat",y="@firebase/functions",t="@firebase/functions-compat",W="@firebase/installations",Y="@firebase/installations-compat",K="@firebase/messaging",V="@firebase/messaging-compat",g="@firebase/performance",L="@firebase/performance-compat",D="@firebase/remote-config",G="@firebase/remote-config-compat",Z="@firebase/storage",c="@firebase/storage-compat",r="@firebase/firestore",M="@firebase/firestore-compat",H="firebase",T="[DEFAULT]",C={[f]:"fire-core",[l]:"fire-core-compat",[k]:"fire-analytics",[d]:"fire-analytics-compat",[A]:"fire-app-check",[v]:"fire-app-check-compat",[s]:"fire-auth",[h]:"fire-auth-compat",[B]:"fire-rtdb",[o]:"fire-rtdb-compat",[y]:"fire-fn",[t]:"fire-fn-compat",[W]:"fire-iid",[Y]:"fire-iid-compat",[K]:"fire-fcm",[V]:"fire-fcm-compat",[g]:"fire-perf",[L]:"fire-perf-compat",[D]:"fire-rc",[G]:"fire-rc-compat",[Z]:"fire-gcs",[c]:"fire-gcs-compat",[r]:"fire-fst",[M]:"fire-fst-compat","fire-js":"fire-js",[H]:"fire-js-all"},UU=new Map,XU=new Map;function bU(U,X){try{U.container.Zq(X)}catch(b){e.debug(`Component ${X.name} failed to register with FirebaseApp ${U.name}`,b)}}function FU(U,X){U.container.addOrOverwriteComponent(X)}function EU(U){const X=U.name;if(XU.has(X))return e.debug(`There were multiple attempts to register component ${X}.`),!1;XU.set(X,U);for(const b of UU.values())bU(b,U);return!0}function wU(U,X){const b=U.container.getProvider("heartbeat").getImmediate({optional:!0});return b&&b.triggerHeartbeat(),U.container.getProvider(X)}function QU(U,X){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;wU(U,X).clearInstance(b)}function zU(){XU.clear()}const qU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pU=new w.f("app","Firebase",qU);class SU{constructor(U,X,b){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=b,this.container.Zq(new F.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw pU.create("app-deleted",{appName:this._name})}}const RU="9.23.0";function nU(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=U;if("object"!==typeof X){X={name:X}}const E=Object.assign({name:T,automaticDataCollectionEnabled:!1},X),Q=E.name;if("string"!==typeof Q||!Q)throw pU.create("bad-app-name",{appName:String(Q)});if(b||(b=(0,w.B)()),!b)throw pU.create("no-options");const z=UU.get(Q);if(z){if((0,w.v)(b,z.options)&&(0,w.v)(E,z.config))return z;throw pU.create("duplicate-app",{appName:Q})}const q=new F.d(Q);for(const F of XU.values())q.Zq(F);const p=new SU(b,E,q);return UU.set(Q,p),p}function aU(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;const X=UU.get(U);if(!X&&U===T&&(0,w.B)())return nU();if(!X)throw pU.create("no-app",{appName:U});return X}function JU(){return Array.from(UU.values())}async function mU(U){const X=U.name;UU.has(X)&&(UU.delete(X),await Promise.all(U.container.getProviders().map((U=>U.delete()))),U.isDeleted=!0)}function xU(U,X,b){var E;let w=null!==(E=C[U])&&void 0!==E?E:U;b&&(w+=`-${b}`);const Q=w.match(/\s|\//),z=X.match(/\s|\//);if(Q||z){const U=[`Unable to register library "${w}" with version "${X}":`];return Q&&U.push(`library name "${w}" contains illegal characters (whitespace or "/")`),Q&&z&&U.push("and"),z&&U.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void e.warn(U.join(" "))}EU(new F.h(`${w}-version`,(()=>({library:w,version:X})),"VERSION"))}function IU(U,X){if(null!==U&&"function"!==typeof U)throw pU.create("invalid-log-argument");(0,E.l)(U,X)}function OU(U){(0,E.j)(U)}const NU="firebase-heartbeat-store";let uU=null;function iU(){return uU||(uU=function(U,X){let{blocked:b,upgrade:F,blocking:E,terminated:w}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Q=indexedDB.open(U,X),z=x(Q);return F&&Q.addEventListener("upgradeneeded",(U=>{F(x(Q.result),U.oldVersion,U.newVersion,x(Q.transaction),U)})),b&&Q.addEventListener("blocked",(U=>b(U.oldVersion,U.newVersion,U))),z.then((U=>{w&&U.addEventListener("close",(()=>w())),E&&U.addEventListener("versionchange",(U=>E(U.oldVersion,U.newVersion,U)))})).catch((()=>{})),z}("firebase-heartbeat-database",1,{upgrade:(U,X)=>{if(0===X)U.createObjectStore(NU)}}).catch((U=>{throw pU.create("idb-open",{originalErrorMessage:U.message})}))),uU}async function PU(U,X){try{const b=(await iU()).transaction(NU,"readwrite"),F=b.objectStore(NU);await F.put(X,fU(U)),await b.done}catch(b){if(b instanceof w.j)e.warn(b.message);else{const U=pU.create("idb-set",{originalErrorMessage:null===b||void 0===b?void 0:b.message});e.warn(U.message)}}}function fU(U){return`${U.name}!${U.options.appId}`}class jU{constructor(U){this.container=U,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this.iR=new lU(X),this._heartbeatsCachePromise=this.iR.read().then((U=>(this._heartbeatsCache=U,U)))}async triggerHeartbeat(){const U=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=eU();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==X&&!this._heartbeatsCache.heartbeats.some((U=>U.date===X)))return this._heartbeatsCache.heartbeats.push({date:X,agent:U}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((U=>{const X=new Date(U.date).valueOf();return Date.now()-X<=2592e6})),this.iR.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const U=eU(),{heartbeatsToSend:X,unsentEntries:b}=function(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const b=[];let F=U.slice();for(const E of U){const U=b.find((U=>U.agent===E.agent));if(U){if(U.dates.push(E.date),dU(b)>X){U.dates.pop();break}}else if(b.push({agent:E.agent,dates:[E.date]}),dU(b)>X){b.pop();break}F=F.slice(1)}return{heartbeatsToSend:b,unsentEntries:F}}(this._heartbeatsCache.heartbeats),F=(0,w.p)(JSON.stringify({version:2,heartbeats:X}));return this._heartbeatsCache.lastSentHeartbeatDate=U,b.length>0?(this._heartbeatsCache.heartbeats=b,await this.iR.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.iR.overwrite(this._heartbeatsCache)),F}}function eU(){return(new Date).toISOString().substring(0,10)}class lU{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,w._)()&&(0,w.fb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(U){try{const X=await iU();return await X.transaction(NU).objectStore(NU).get(fU(U))}catch(X){if(X instanceof w.j)e.warn(X.message);else{const U=pU.create("idb-get",{originalErrorMessage:null===X||void 0===X?void 0:X.message});e.warn(U.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(U){var X;if(await this._canUseIndexedDBPromise){const b=await this.read();return PU(this.app,{lastSentHeartbeatDate:null!==(X=U.lastSentHeartbeatDate)&&void 0!==X?X:b.lastSentHeartbeatDate,heartbeats:U.heartbeats})}}async add(U){var X;if(await this._canUseIndexedDBPromise){const b=await this.read();return PU(this.app,{lastSentHeartbeatDate:null!==(X=U.lastSentHeartbeatDate)&&void 0!==X?X:b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...U.heartbeats]})}}}function dU(U){return(0,w.p)(JSON.stringify({version:2,heartbeats:U})).length}var kU;kU="",EU(new F.h("platform-logger",(U=>new P(U)),"PRIVATE")),EU(new F.h("heartbeat",(U=>new jU(U)),"PRIVATE")),xU(f,j,kU),xU(f,j,"esm2017"),xU("fire-js","")},11373:(U,X,b)=>{b.d(X,{d:()=>z,h:()=>E});var F=b(11375);class E{constructor(U,X,b){this.name=U,this.instanceFactory=X,this.type=b,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const w="[DEFAULT]";class Q{constructor(U,X){this.name=U,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const X=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(X)){const U=new F.e;if(this.instancesDeferred.set(X,U),this.isInitialized(X)||this.shouldAutoInitialize())try{const b=this.getOrInitializeService({instanceIdentifier:X});b&&U.resolve(b)}catch(b){}}return this.instancesDeferred.get(X).promise}getImmediate(U){var X;const b=this.normalizeInstanceIdentifier(null===U||void 0===U?void 0:U.identifier),F=null!==(X=null===U||void 0===U?void 0:U.optional)&&void 0!==X&&X;if(!this.isInitialized(b)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:b})}catch(E){if(F)return null;throw E}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function(U){return"EAGER"===U.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:w})}catch(X){}for(const[U,b]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(U);try{const U=this.getOrInitializeService({instanceIdentifier:F});b.resolve(U)}catch(X){}}}}clearInstance(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}async delete(){const U=Array.from(this.instances.values());await Promise.all([...U.filter((U=>"INTERNAL"in U)).map((U=>U.INTERNAL.delete())),...U.filter((U=>"_delete"in U)).map((U=>U._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.instances.has(U)}getOptions(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.instancesOptions.get(U)||{}}initialize(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:X={}}=U,b=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(b))throw Error(`${this.name}(${b}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:b,options:X});for(const[E,w]of this.instancesDeferred.entries()){b===this.normalizeInstanceIdentifier(E)&&w.resolve(F)}return F}UR(U,X){var b;const F=this.normalizeInstanceIdentifier(X),E=null!==(b=this.onInitCallbacks.get(F))&&void 0!==b?b:new Set;E.add(U),this.onInitCallbacks.set(F,E);const w=this.instances.get(F);return w&&U(w,F),()=>{E.delete(U)}}invokeOnInitCallbacks(U,X){const b=this.onInitCallbacks.get(X);if(b)for(const E of b)try{E(U,X)}catch(F){}}getOrInitializeService(U){let{instanceIdentifier:X,options:b={}}=U,F=this.instances.get(X);if(!F&&this.component&&(F=this.component.instanceFactory(this.container,{instanceIdentifier:(E=X,E===w?void 0:E),options:b}),this.instances.set(X,F),this.instancesOptions.set(X,b),this.invokeOnInitCallbacks(F,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,F)}catch(Q){}var E;return F||null}normalizeInstanceIdentifier(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return this.component?this.component.multipleInstances?U:w:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(U){this.name=U,this.providers=new Map}Zq(U){const X=this.getProvider(U.name);if(X.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);X.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.Zq(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const X=new Q(U,this);return this.providers.set(U,X),X}getProviders(){return Array.from(this.providers.values())}}},11377:(U,X,b)=>{b.d(X,{e:()=>E,f:()=>p,j:()=>S,l:()=>R});const F=[];var E;!function(U){U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT"}(E||(E={}));const w={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Q=E.INFO,z={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},q=function(U,X){if(X<U.logLevel)return;const b=(new Date).toISOString(),F=z[X];if(!F)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);for(var E=arguments.length,w=new Array(E>2?E-2:0),Q=2;Q<E;Q++)w[Q-2]=arguments[Q];console[F](`[${b}]  ${U.name}:`,...w)};class p{constructor(U){this.name=U,this._logLevel=Q,this._logHandler=q,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in E))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"===typeof U?w[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!==typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(){for(var U=arguments.length,X=new Array(U),b=0;b<U;b++)X[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...X),this._logHandler(this,E.DEBUG,...X)}log(){for(var U=arguments.length,X=new Array(U),b=0;b<U;b++)X[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...X),this._logHandler(this,E.VERBOSE,...X)}info(){for(var U=arguments.length,X=new Array(U),b=0;b<U;b++)X[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,E.INFO,...X),this._logHandler(this,E.INFO,...X)}warn(){for(var U=arguments.length,X=new Array(U),b=0;b<U;b++)X[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,E.WARN,...X),this._logHandler(this,E.WARN,...X)}error(){for(var U=arguments.length,X=new Array(U),b=0;b<U;b++)X[b]=arguments[b];this._userLogHandler&&this._userLogHandler(this,E.ERROR,...X),this._logHandler(this,E.ERROR,...X)}}function S(U){F.forEach((X=>{X.setLogLevel(U)}))}function R(U,X){for(const b of F){let F=null;X&&X.level&&(F=w[X.level]),b.userLogHandler=null===U?null:function(X,b){for(var w=arguments.length,Q=new Array(w>2?w-2:0),z=2;z<w;z++)Q[z-2]=arguments[z];const q=Q.map((U=>{if(null==U)return null;if("string"===typeof U)return U;if("number"===typeof U||"boolean"===typeof U)return U.toString();if(U instanceof Error)return U.message;try{return JSON.stringify(U)}catch(X){return null}})).filter((U=>U)).join(" ");b>=(null!==F&&void 0!==F?F:X.logLevel)&&U({level:E[b].toLowerCase(),message:q,args:Q,type:X.name})}}}}}]);