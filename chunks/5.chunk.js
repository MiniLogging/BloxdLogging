/*! For license information please see tnmf9a.5.f6e07216.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{11010:(V,I,m)=>{m.d(I,{A:()=>v,D:()=>t,E:()=>y,H:()=>b,L:()=>T,O:()=>N,R:()=>D,T:()=>W,V:()=>B,Y:()=>n,b:()=>O,c:()=>c,d:()=>S,e:()=>x,h:()=>k,j:()=>F,m:()=>q,q:()=>G,s:()=>z,v:()=>Q,w:()=>Y,x:()=>K,y:()=>X,z:()=>P});const C=function(V){const I=[];let m=0;for(let C=0;C<V.length;C++){let l=V.charCodeAt(C);l<128?I[m++]=l:l<2048?(I[m++]=l>>6|192,I[m++]=63&l|128):55296===(64512&l)&&C+1<V.length&&56320===(64512&V.charCodeAt(C+1))?(l=65536+((1023&l)<<10)+(1023&V.charCodeAt(++C)),I[m++]=l>>18|240,I[m++]=l>>12&63|128,I[m++]=l>>6&63|128,I[m++]=63&l|128):(I[m++]=l>>12|224,I[m++]=l>>6&63|128,I[m++]=63&l|128)}return I},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(V,I){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const m=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let l=0;l<V.length;l+=3){const I=V[l],s=l+1<V.length,F=s?V[l+1]:0,k=l+2<V.length,j=k?V[l+2]:0,E=I>>2,K=(3&I)<<4|F>>4;let Y=(15&F)<<2|j>>6,X=63&j;k||(X=64,s||(Y=64)),C.push(m[E],m[K],m[Y],m[X])}return C.join("")},encodeString(V,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(V):this.encodeByteArray(C(V),I)},decodeString(V,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(V):function(V){const I=[];let m=0,C=0;for(;m<V.length;){const l=V[m++];if(l<128)I[C++]=String.fromCharCode(l);else if(l>191&&l<224){const s=V[m++];I[C++]=String.fromCharCode((31&l)<<6|63&s)}else if(l>239&&l<365){const s=((7&l)<<18|(63&V[m++])<<12|(63&V[m++])<<6|63&V[m++])-65536;I[C++]=String.fromCharCode(55296+(s>>10)),I[C++]=String.fromCharCode(56320+(1023&s))}else{const s=V[m++],F=V[m++];I[C++]=String.fromCharCode((15&l)<<12|(63&s)<<6|63&F)}}return I.join("")}(this.decodeStringToByteArray(V,I))},decodeStringToByteArray(V,I){this.init_();const m=I?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let l=0;l<V.length;){const I=m[V.charAt(l++)],F=l<V.length?m[V.charAt(l)]:0;++l;const k=l<V.length?m[V.charAt(l)]:64;++l;const j=l<V.length?m[V.charAt(l)]:64;if(++l,null==I||null==F||null==k||null==j)throw new s;const E=I<<2|F>>4;if(C.push(E),64!==k){const V=F<<4&240|k>>2;if(C.push(V),64!==j){const V=k<<6&192|j;C.push(V)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(V){return function(V){const I=C(V);return l.encodeByteArray(I,!0)}(V).replace(/\./g,"")},k=function(V){try{return l.decodeString(V,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};const j=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof m.g)return m.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,E=()=>{try{return j()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(m){return}const I=V&&k(V[1]);return I&&JSON.parse(I)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},K=V=>{var I,m;return null===(m=null===(I=E())||void 0===I?void 0:I.emulatorHosts)||void 0===m?void 0:m[V]},Y=()=>{var V;return null===(V=E())||void 0===V?void 0:V.config},X=V=>{var I;return null===(I=E())||void 0===I?void 0:I[`_${V}`]};class O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((V,I)=>{this.resolve=V,this.reject=I}))}wrapCallback(V){return(I,m)=>{I?this.reject(I):this.resolve(m),"function"===typeof V&&(this.promise.catch((()=>{})),1===V.length?V(I):V(I,m))}}}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function N(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function t(){const V="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof V&&void 0!==V.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function b(){const V=v();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(V){return!1}}function n(){return new Promise(((V,I)=>{try{let m=!0;const C="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(C);l.onsuccess=()=>{l.result.close(),m||self.indexedDB.deleteDatabase(C),V(!0)},l.onupgradeneeded=()=>{m=!1},l.onerror=()=>{var V;I((null===(V=l.error)||void 0===V?void 0:V.message)||"")}}catch(m){I(m)}}))}function x(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(V,I,m){super(I),this.code=V,this.customData=m,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c.prototype.create)}}class c{constructor(V,I,m){this.service=V,this.serviceName=I,this.errors=m}create(V){const I=(arguments.length<=1?void 0:arguments[1])||{},m=`${this.service}/${V}`,C=this.errors[V],l=C?function(V,I){return V.replace(H,((V,m)=>{const C=I[m];return null!=C?String(C):`<${m}?>`}))}(C,I):"Error",s=`${this.serviceName}: ${l} (${m}).`;return new S(m,s,I)}}const H=/\{\$([^}]+)}/g;function y(V){for(const I in V)if(Object.prototype.hasOwnProperty.call(V,I))return!1;return!0}function z(V,I){if(V===I)return!0;const m=Object.keys(V),C=Object.keys(I);for(const l of m){if(!C.includes(l))return!1;const m=V[l],s=I[l];if(Z(m)&&Z(s)){if(!z(m,s))return!1}else if(m!==s)return!1}for(const l of C)if(!m.includes(l))return!1;return!0}function Z(V){return null!==V&&"object"===typeof V}function B(V){const I=[];for(const[m,C]of Object.entries(V))Array.isArray(C)?C.forEach((V=>{I.push(encodeURIComponent(m)+"="+encodeURIComponent(V))})):I.push(encodeURIComponent(m)+"="+encodeURIComponent(C));return I.length?"&"+I.join("&"):""}function W(V){const I={};return V.replace(/^\?/,"").split("&").forEach((V=>{if(V){const[m,C]=V.split("=");I[decodeURIComponent(m)]=decodeURIComponent(C)}})),I}function Q(V){const I=V.indexOf("?");if(!I)return"";const m=V.indexOf("#",I);return V.substring(I,m>0?m:void 0)}function G(V,I){const m=new r(V,I);return m.subscribe.bind(m)}class r{constructor(V,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then((()=>{V(this)})).catch((V=>{this.error(V)}))}next(V){this.forEachObserver((I=>{I.next(V)}))}error(V){this.forEachObserver((I=>{I.error(V)})),this.close(V)}complete(){this.forEachObserver((V=>{V.complete()})),this.close()}subscribe(V,I,m){let C;if(void 0===V&&void 0===I&&void 0===m)throw new Error("Missing Observer.");C=function(V,I){if("object"!==typeof V||null===V)return!1;for(const m of I)if(m in V&&"function"===typeof V[m])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:I,complete:m},void 0===C.next&&(C.next=g),void 0===C.error&&(C.error=g),void 0===C.complete&&(C.complete=g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?C.error(this.finalError):C.complete()}catch(V){}})),this.observers.push(C),l}unsubscribeOne(V){void 0!==this.observers&&void 0!==this.observers[V]&&(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,V)}sendOne(V,I){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{I(this.observers[V])}catch(m){"undefined"!==typeof console&&console.error&&console.error(m)}}))}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function g(){}const h=1e3,d=2,R=144e5,i=.5;function q(V){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;const m=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(I,V),C=Math.round(i*m*(Math.random()-.5)*2);return Math.min(R,m+C)}function P(V){return V&&V._delegate?V._delegate:V}},10994:(V,I,m)=>{m.d(I,{e:()=>s.d,i:()=>YV,k:()=>a,m:()=>mV,q:()=>CV,t:()=>VV,w:()=>kV,y:()=>IV,A:()=>sV,C:()=>lV,E:()=>FV,G:()=>NV,N:()=>OV,J:()=>vV,Q:()=>XV,U:()=>DV,X:()=>tV,_:()=>bV});var C=m(11002),l=m(11017),s=m(11010);let F,k;const j=new WeakMap,E=new WeakMap,K=new WeakMap,Y=new WeakMap,X=new WeakMap;let O={get(V,I,m){if(V instanceof IDBTransaction){if("done"===I)return E.get(V);if("objectStoreNames"===I)return V.objectStoreNames||K.get(V);if("store"===I)return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return t(V[I])},set:(V,I,m)=>(V[I]=m,!0),has:(V,I)=>V instanceof IDBTransaction&&("done"===I||"store"===I)||I in V};function v(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(V)?function(){for(var I=arguments.length,m=new Array(I),C=0;C<I;C++)m[C]=arguments[C];return V.apply(D(this),m),t(j.get(this))}:function(){for(var I=arguments.length,m=new Array(I),C=0;C<I;C++)m[C]=arguments[C];return t(V.apply(D(this),m))}:function(I){for(var m=arguments.length,C=new Array(m>1?m-1:0),l=1;l<m;l++)C[l-1]=arguments[l];const s=V.call(D(this),I,...C);return K.set(s,I.sort?I.sort():[I]),t(s)}}function N(V){return"function"===typeof V?v(V):(V instanceof IDBTransaction&&function(V){if(E.has(V))return;const I=new Promise(((I,m)=>{const C=()=>{V.removeEventListener("complete",l),V.removeEventListener("error",s),V.removeEventListener("abort",s)},l=()=>{I(),C()},s=()=>{m(V.error||new DOMException("AbortError","AbortError")),C()};V.addEventListener("complete",l),V.addEventListener("error",s),V.addEventListener("abort",s)}));E.set(V,I)}(V),I=V,(F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((V=>I instanceof V))?new Proxy(V,O):V);var I}function t(V){if(V instanceof IDBRequest)return function(V){const I=new Promise(((I,m)=>{const C=()=>{V.removeEventListener("success",l),V.removeEventListener("error",s)},l=()=>{I(t(V.result)),C()},s=()=>{m(V.error),C()};V.addEventListener("success",l),V.addEventListener("error",s)}));return I.then((I=>{I instanceof IDBCursor&&j.set(I,V)})).catch((()=>{})),X.set(I,V),I}(V);if(Y.has(V))return Y.get(V);const I=N(V);return I!==V&&(Y.set(V,I),X.set(I,V)),I}const D=V=>X.get(V);const b=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],n=new Map;function x(V,I){if(!(V instanceof IDBDatabase)||I in V||"string"!==typeof I)return;if(n.get(I))return n.get(I);const m=I.replace(/FromIndex$/,""),C=I!==m,l=T.includes(m);if(!(m in(C?IDBIndex:IDBObjectStore).prototype)||!l&&!b.includes(m))return;const s=async function(V){const I=this.transaction(V,l?"readwrite":"readonly");let s=I.store;for(var F=arguments.length,k=new Array(F>1?F-1:0),j=1;j<F;j++)k[j-1]=arguments[j];return C&&(s=s.index(k.shift())),(await Promise.all([s[m](...k),l&&I.done]))[0]};return n.set(I,s),s}O=(V=>({...V,get:(I,m,C)=>x(I,m)||V.get(I,m,C),has:(I,m)=>!!x(I,m)||V.has(I,m)}))(O);class S{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map((V=>{if(function(V){const I=V.getComponent();return"VERSION"===(null===I||void 0===I?void 0:I.type)}(V)){const I=V.getImmediate();return`${I.library}/${I.version}`}return null})).filter((V=>V)).join(" ")}}const c="@firebase/app",H="0.9.13",y=new l.g("@firebase/app"),z="@firebase/app-compat",Z="@firebase/analytics-compat",B="@firebase/analytics",W="@firebase/app-check-compat",Q="@firebase/app-check",G="@firebase/auth",r="@firebase/auth-compat",g="@firebase/database",h="@firebase/database-compat",d="@firebase/functions",R="@firebase/functions-compat",i="@firebase/installations",q="@firebase/installations-compat",P="@firebase/messaging",u="@firebase/messaging-compat",o="@firebase/performance",p="@firebase/performance-compat",M="@firebase/remote-config",f="@firebase/remote-config-compat",w="@firebase/storage",A="@firebase/storage-compat",J="@firebase/firestore",U="@firebase/firestore-compat",e="firebase",a="[DEFAULT]",L={[c]:"fire-core",[z]:"fire-core-compat",[B]:"fire-analytics",[Z]:"fire-analytics-compat",[Q]:"fire-app-check",[W]:"fire-app-check-compat",[G]:"fire-auth",[r]:"fire-auth-compat",[g]:"fire-rtdb",[h]:"fire-rtdb-compat",[d]:"fire-fn",[R]:"fire-fn-compat",[i]:"fire-iid",[q]:"fire-iid-compat",[P]:"fire-fcm",[u]:"fire-fcm-compat",[o]:"fire-perf",[p]:"fire-perf-compat",[M]:"fire-rc",[f]:"fire-rc-compat",[w]:"fire-gcs",[A]:"fire-gcs-compat",[J]:"fire-fst",[U]:"fire-fst-compat","fire-js":"fire-js",[e]:"fire-js-all"},VV=new Map,IV=new Map;function mV(V,I){try{V.container.Dj(I)}catch(m){y.debug(`Component ${I.name} failed to register with FirebaseApp ${V.name}`,m)}}function CV(V,I){V.container.addOrOverwriteComponent(I)}function lV(V){const I=V.name;if(IV.has(I))return y.debug(`There were multiple attempts to register component ${I}.`),!1;IV.set(I,V);for(const m of VV.values())mV(m,V);return!0}function sV(V,I){const m=V.container.getProvider("heartbeat").getImmediate({optional:!0});return m&&m.triggerHeartbeat(),V.container.getProvider(I)}function FV(V,I){let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;sV(V,I).clearInstance(m)}function kV(){IV.clear()}const jV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},EV=new s.c("app","Firebase",jV);class KV{constructor(V,I,m){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=m,this.container.Dj(new C.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw EV.create("app-deleted",{appName:this._name})}}const YV="9.23.0";function XV(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=V;if("object"!==typeof I){I={name:I}}const l=Object.assign({name:a,automaticDataCollectionEnabled:!1},I),F=l.name;if("string"!==typeof F||!F)throw EV.create("bad-app-name",{appName:String(F)});if(m||(m=(0,s.w)()),!m)throw EV.create("no-options");const k=VV.get(F);if(k){if((0,s.s)(m,k.options)&&(0,s.s)(l,k.config))return k;throw EV.create("duplicate-app",{appName:F})}const j=new C.e(F);for(const C of IV.values())j.Dj(C);const E=new KV(m,l,j);return VV.set(F,E),E}function OV(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const I=VV.get(V);if(!I&&V===a&&(0,s.w)())return XV();if(!I)throw EV.create("no-app",{appName:V});return I}function vV(){return Array.from(VV.values())}async function NV(V){const I=V.name;VV.has(I)&&(VV.delete(I),await Promise.all(V.container.getProviders().map((V=>V.delete()))),V.isDeleted=!0)}function tV(V,I,m){var l;let s=null!==(l=L[V])&&void 0!==l?l:V;m&&(s+=`-${m}`);const F=s.match(/\s|\//),k=I.match(/\s|\//);if(F||k){const V=[`Unable to register library "${s}" with version "${I}":`];return F&&V.push(`library name "${s}" contains illegal characters (whitespace or "/")`),F&&k&&V.push("and"),k&&V.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void y.warn(V.join(" "))}lV(new C.h(`${s}-version`,(()=>({library:s,version:I})),"VERSION"))}function DV(V,I){if(null!==V&&"function"!==typeof V)throw EV.create("invalid-log-argument");(0,l.k)(V,I)}function bV(V){(0,l.h)(V)}const TV="firebase-heartbeat-store";let nV=null;function xV(){return nV||(nV=function(V,I){let{blocked:m,upgrade:C,blocking:l,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const F=indexedDB.open(V,I),k=t(F);return C&&F.addEventListener("upgradeneeded",(V=>{C(t(F.result),V.oldVersion,V.newVersion,t(F.transaction),V)})),m&&F.addEventListener("blocked",(V=>m(V.oldVersion,V.newVersion,V))),k.then((V=>{s&&V.addEventListener("close",(()=>s())),l&&V.addEventListener("versionchange",(V=>l(V.oldVersion,V.newVersion,V)))})).catch((()=>{})),k}("firebase-heartbeat-database",1,{upgrade:(V,I)=>{if(0===I)V.createObjectStore(TV)}}).catch((V=>{throw EV.create("idb-open",{originalErrorMessage:V.message})}))),nV}async function SV(V,I){try{const m=(await xV()).transaction(TV,"readwrite"),C=m.objectStore(TV);await C.put(I,cV(V)),await m.done}catch(m){if(m instanceof s.d)y.warn(m.message);else{const V=EV.create("idb-set",{originalErrorMessage:null===m||void 0===m?void 0:m.message});y.warn(V.message)}}}function cV(V){return`${V.name}!${V.options.appId}`}class HV{constructor(V){this.container=V,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this.oK=new zV(I),this._heartbeatsCachePromise=this.oK.read().then((V=>(this._heartbeatsCache=V,V)))}async triggerHeartbeat(){const V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=yV();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==I&&!this._heartbeatsCache.heartbeats.some((V=>V.date===I)))return this._heartbeatsCache.heartbeats.push({date:I,agent:V}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((V=>{const I=new Date(V.date).valueOf();return Date.now()-I<=2592e6})),this.oK.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const V=yV(),{heartbeatsToSend:I,unsentEntries:m}=function(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const m=[];let C=V.slice();for(const l of V){const V=m.find((V=>V.agent===l.agent));if(V){if(V.dates.push(l.date),ZV(m)>I){V.dates.pop();break}}else if(m.push({agent:l.agent,dates:[l.date]}),ZV(m)>I){m.pop();break}C=C.slice(1)}return{heartbeatsToSend:m,unsentEntries:C}}(this._heartbeatsCache.heartbeats),C=(0,s.j)(JSON.stringify({version:2,heartbeats:I}));return this._heartbeatsCache.lastSentHeartbeatDate=V,m.length>0?(this._heartbeatsCache.heartbeats=m,await this.oK.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.oK.overwrite(this._heartbeatsCache)),C}}function yV(){return(new Date).toISOString().substring(0,10)}class zV{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.L)()&&(0,s.Y)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(V){try{const I=await xV();return await I.transaction(TV).objectStore(TV).get(cV(V))}catch(I){if(I instanceof s.d)y.warn(I.message);else{const V=EV.create("idb-get",{originalErrorMessage:null===I||void 0===I?void 0:I.message});y.warn(V.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(V){var I;if(await this._canUseIndexedDBPromise){const m=await this.read();return SV(this.app,{lastSentHeartbeatDate:null!==(I=V.lastSentHeartbeatDate)&&void 0!==I?I:m.lastSentHeartbeatDate,heartbeats:V.heartbeats})}}async add(V){var I;if(await this._canUseIndexedDBPromise){const m=await this.read();return SV(this.app,{lastSentHeartbeatDate:null!==(I=V.lastSentHeartbeatDate)&&void 0!==I?I:m.lastSentHeartbeatDate,heartbeats:[...m.heartbeats,...V.heartbeats]})}}}function ZV(V){return(0,s.j)(JSON.stringify({version:2,heartbeats:V})).length}var BV;BV="",lV(new C.h("platform-logger",(V=>new S(V)),"PRIVATE")),lV(new C.h("heartbeat",(V=>new HV(V)),"PRIVATE")),tV(c,H,BV),tV(c,H,"esm2017"),tV("fire-js","")},11002:(V,I,m)=>{m.d(I,{e:()=>k,h:()=>l});var C=m(11010);class l{constructor(V,I,m){this.name=V,this.instanceFactory=I,this.type=m,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const s="[DEFAULT]";class F{constructor(V,I){this.name=V,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const I=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(I)){const V=new C.b;if(this.instancesDeferred.set(I,V),this.isInitialized(I)||this.shouldAutoInitialize())try{const m=this.getOrInitializeService({instanceIdentifier:I});m&&V.resolve(m)}catch(m){}}return this.instancesDeferred.get(I).promise}getImmediate(V){var I;const m=this.normalizeInstanceIdentifier(null===V||void 0===V?void 0:V.identifier),C=null!==(I=null===V||void 0===V?void 0:V.optional)&&void 0!==I&&I;if(!this.isInitialized(m)&&!this.shouldAutoInitialize()){if(C)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:m})}catch(l){if(C)return null;throw l}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:s})}catch(I){}for(const[V,m]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(V);try{const V=this.getOrInitializeService({instanceIdentifier:C});m.resolve(V)}catch(I){}}}}clearInstance(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}async delete(){const V=Array.from(this.instances.values());await Promise.all([...V.filter((V=>"INTERNAL"in V)).map((V=>V.INTERNAL.delete())),...V.filter((V=>"_delete"in V)).map((V=>V._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(V)}getOptions(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(V)||{}}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:I={}}=V,m=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(m))throw Error(`${this.name}(${m}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const C=this.getOrInitializeService({instanceIdentifier:m,options:I});for(const[l,s]of this.instancesDeferred.entries()){m===this.normalizeInstanceIdentifier(l)&&s.resolve(C)}return C}xK(V,I){var m;const C=this.normalizeInstanceIdentifier(I),l=null!==(m=this.onInitCallbacks.get(C))&&void 0!==m?m:new Set;l.add(V),this.onInitCallbacks.set(C,l);const s=this.instances.get(C);return s&&V(s,C),()=>{l.delete(V)}}invokeOnInitCallbacks(V,I){const m=this.onInitCallbacks.get(I);if(m)for(const l of m)try{l(V,I)}catch(C){}}getOrInitializeService(V){let{instanceIdentifier:I,options:m={}}=V,C=this.instances.get(I);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:(l=I,l===s?void 0:l),options:m}),this.instances.set(I,C),this.instancesOptions.set(I,m),this.invokeOnInitCallbacks(C,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,C)}catch(F){}var l;return C||null}normalizeInstanceIdentifier(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?V:s:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class k{constructor(V){this.name=V,this.providers=new Map}Dj(V){const I=this.getProvider(V.name);if(I.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);I.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.Dj(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const I=new F(V,this);return this.providers.set(V,I),I}getProviders(){return Array.from(this.providers.values())}}},11017:(V,I,m)=>{m.d(I,{e:()=>l,g:()=>E,h:()=>K,k:()=>Y});const C=[];var l;!function(V){V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT"}(l||(l={}));const s={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},F=l.INFO,k={[l.DEBUG]:"log",[l.VERBOSE]:"log",[l.INFO]:"info",[l.WARN]:"warn",[l.ERROR]:"error"},j=function(V,I){if(I<V.logLevel)return;const m=(new Date).toISOString(),C=k[I];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);for(var l=arguments.length,s=new Array(l>2?l-2:0),F=2;F<l;F++)s[F-2]=arguments[F];console[C](`[${m}]  ${V.name}:`,...s)};class E{constructor(V){this.name=V,this._logLevel=F,this._logHandler=j,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in l))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"===typeof V?s[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!==typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(){for(var V=arguments.length,I=new Array(V),m=0;m<V;m++)I[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,l.DEBUG,...I),this._logHandler(this,l.DEBUG,...I)}log(){for(var V=arguments.length,I=new Array(V),m=0;m<V;m++)I[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,l.VERBOSE,...I),this._logHandler(this,l.VERBOSE,...I)}info(){for(var V=arguments.length,I=new Array(V),m=0;m<V;m++)I[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,l.INFO,...I),this._logHandler(this,l.INFO,...I)}warn(){for(var V=arguments.length,I=new Array(V),m=0;m<V;m++)I[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,l.WARN,...I),this._logHandler(this,l.WARN,...I)}error(){for(var V=arguments.length,I=new Array(V),m=0;m<V;m++)I[m]=arguments[m];this._userLogHandler&&this._userLogHandler(this,l.ERROR,...I),this._logHandler(this,l.ERROR,...I)}}function K(V){C.forEach((I=>{I.setLogLevel(V)}))}function Y(V,I){for(const m of C){let C=null;I&&I.level&&(C=s[I.level]),m.userLogHandler=null===V?null:function(I,m){for(var s=arguments.length,F=new Array(s>2?s-2:0),k=2;k<s;k++)F[k-2]=arguments[k];const j=F.map((V=>{if(null==V)return null;if("string"===typeof V)return V;if("number"===typeof V||"boolean"===typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch(I){return null}})).filter((V=>V)).join(" ");m>=(null!==C&&void 0!==C?C:I.logLevel)&&V({level:l[m].toLowerCase(),message:j,args:F,type:I.name})}}}}}]);