/*! For license information please see d0h99.5.783b7bf3.chunk.js.LICENSE.txt */
"use strict";(self.qcdfysujsyf=self.qcdfysujsyf||[]).push([[5],{12513:(K,A,T)=>{T.d(A,{$:()=>d,D:()=>Z,F:()=>Y,I:()=>x,L:()=>I,N:()=>b,R:()=>F,T:()=>l,U:()=>N,W:()=>D,X:()=>P,ab:()=>H,b:()=>J,bb:()=>n,d:()=>g,eb:()=>mK,g:()=>z,i:()=>U,j:()=>O,m:()=>f,o:()=>v,s:()=>p,v:()=>u,z:()=>e});const G=function(K){const A=[];let T=0;for(let G=0;G<K.length;G++){let B=K.charCodeAt(G);B<128?A[T++]=B:B<2048?(A[T++]=B>>6|192,A[T++]=63&B|128):55296===(64512&B)&&G+1<K.length&&56320===(64512&K.charCodeAt(G+1))?(B=65536+((1023&B)<<10)+(1023&K.charCodeAt(++G)),A[T++]=B>>18|240,A[T++]=B>>12&63|128,A[T++]=B>>6&63|128,A[T++]=63&B|128):(A[T++]=B>>12|224,A[T++]=B>>6&63|128,A[T++]=63&B|128)}return A},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(K,A){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=A?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let B=0;B<K.length;B+=3){const A=K[B],L=B+1<K.length,f=L?K[B+1]:0,O=B+2<K.length,C=O?K[B+2]:0,Q=A>>2,Y=(3&A)<<4|f>>4;let Z=(15&f)<<2|C>>6,x=63&C;O||(x=64,L||(Z=64)),G.push(T[Q],T[Y],T[Z],T[x])}return G.join("")},encodeString(K,A){return this.HAS_NATIVE_SUPPORT&&!A?btoa(K):this.encodeByteArray(G(K),A)},decodeString(K,A){return this.HAS_NATIVE_SUPPORT&&!A?atob(K):function(K){const A=[];let T=0,G=0;for(;T<K.length;){const B=K[T++];if(B<128)A[G++]=String.fromCharCode(B);else if(B>191&&B<224){const L=K[T++];A[G++]=String.fromCharCode((31&B)<<6|63&L)}else if(B>239&&B<365){const L=((7&B)<<18|(63&K[T++])<<12|(63&K[T++])<<6|63&K[T++])-65536;A[G++]=String.fromCharCode(55296+(L>>10)),A[G++]=String.fromCharCode(56320+(1023&L))}else{const L=K[T++],f=K[T++];A[G++]=String.fromCharCode((15&B)<<12|(63&L)<<6|63&f)}}return A.join("")}(this.decodeStringToByteArray(K,A))},decodeStringToByteArray(K,A){this.init_();const T=A?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let B=0;B<K.length;){const A=T[K.charAt(B++)],f=B<K.length?T[K.charAt(B)]:0;++B;const O=B<K.length?T[K.charAt(B)]:64;++B;const C=B<K.length?T[K.charAt(B)]:64;if(++B,null==A||null==f||null==O||null==C)throw new L;const Q=A<<2|f>>4;if(G.push(Q),64!==O){const K=f<<4&240|O>>2;if(G.push(K),64!==C){const K=O<<6&192|C;G.push(K)}}}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(K){return function(K){const A=G(K);return B.encodeByteArray(A,!0)}(K).replace(/\./g,"")},O=function(K){try{return B.decodeString(K,!0)}catch(A){console.error("base64Decode failed: ",A)}return null};const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof T.g)return T.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Q=()=>{try{return C()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(T){return}const A=K&&O(K[1]);return A&&JSON.parse(A)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Y=K=>{var A,T;return null===(T=null===(A=Q())||void 0===A?void 0:A.emulatorHosts)||void 0===T?void 0:T[K]},Z=()=>{var K;return null===(K=Q())||void 0===K?void 0:K.config},x=K=>{var A;return null===(A=Q())||void 0===A?void 0:A[`_${K}`]};class J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((K,A)=>{this.resolve=K,this.reject=A}))}wrapCallback(K){return(A,T)=>{A?this.reject(A):this.resolve(T),"function"===typeof K&&(this.promise.catch((()=>{})),1===K.length?K(A):K(A,T))}}}function b(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function F(){const K="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof K&&void 0!==K.id}function d(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){const K=b();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function D(){try{return"object"===typeof indexedDB}catch(K){return!1}}function mK(){return new Promise(((K,A)=>{try{let T=!0;const G="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(G);B.onsuccess=()=>{B.result.close(),T||self.indexedDB.deleteDatabase(G),K(!0)},B.onupgradeneeded=()=>{T=!1},B.onerror=()=>{var K;A((null===(K=B.error)||void 0===K?void 0:K.message)||"")}}catch(T){A(T)}}))}function U(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class z extends Error{constructor(K,A,T){super(A),this.code=K,this.customData=T,this.name="FirebaseError",Object.setPrototypeOf(this,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g.prototype.create)}}class g{constructor(K,A,T){this.service=K,this.serviceName=A,this.errors=T}create(K){const A=(arguments.length<=1?void 0:arguments[1])||{},T=`${this.service}/${K}`,G=this.errors[K],B=G?function(K,A){return K.replace(S,((K,T)=>{const G=A[T];return null!=G?String(G):`<${T}?>`}))}(G,A):"Error",L=`${this.serviceName}: ${B} (${T}).`;return new z(T,L,A)}}const S=/\{\$([^}]+)}/g;function l(K){for(const A in K)if(Object.prototype.hasOwnProperty.call(K,A))return!1;return!0}function u(K,A){if(K===A)return!0;const T=Object.keys(K),G=Object.keys(A);for(const B of T){if(!G.includes(B))return!1;const T=K[B],L=A[B];if(c(T)&&c(L)){if(!u(T,L))return!1}else if(T!==L)return!1}for(const B of G)if(!T.includes(B))return!1;return!0}function c(K){return null!==K&&"object"===typeof K}function n(K){const A=[];for(const[T,G]of Object.entries(K))Array.isArray(G)?G.forEach((K=>{A.push(encodeURIComponent(T)+"="+encodeURIComponent(K))})):A.push(encodeURIComponent(T)+"="+encodeURIComponent(G));return A.length?"&"+A.join("&"):""}function H(K){const A={};return K.replace(/^\?/,"").split("&").forEach((K=>{if(K){const[T,G]=K.split("=");A[decodeURIComponent(T)]=decodeURIComponent(G)}})),A}function e(K){const A=K.indexOf("?");if(!A)return"";const T=K.indexOf("#",A);return K.substring(A,T>0?T:void 0)}function p(K,A){const T=new r(K,A);return T.subscribe.bind(T)}class r{constructor(K,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then((()=>{K(this)})).catch((K=>{this.error(K)}))}next(K){this.forEachObserver((A=>{A.next(K)}))}error(K){this.forEachObserver((A=>{A.error(K)})),this.close(K)}complete(){this.forEachObserver((K=>{K.complete()})),this.close()}subscribe(K,A,T){let G;if(void 0===K&&void 0===A&&void 0===T)throw new Error("Missing Observer.");G=function(K,A){if("object"!==typeof K||null===K)return!1;for(const T of A)if(T in K&&"function"===typeof K[T])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:A,complete:T},void 0===G.next&&(G.next=h),void 0===G.error&&(G.error=h),void 0===G.complete&&(G.complete=h);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(K){}})),this.observers.push(G),B}unsubscribeOne(K){void 0!==this.observers&&void 0!==this.observers[K]&&(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,K)}sendOne(K,A){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{A(this.observers[K])}catch(T){"undefined"!==typeof console&&console.error&&console.error(T)}}))}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function h(){}const k=1e3,s=2,j=144e5,R=.5;function v(K){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const T=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:k)*Math.pow(A,K),G=Math.round(R*T*(Math.random()-.5)*2);return Math.min(j,T+G)}function I(K){return K&&K._delegate?K._delegate:K}},12504:(K,A,T)=>{T.d(A,{e:()=>L.g,g:()=>ZK,k:()=>E,l:()=>TK,n:()=>GK,r:()=>KK,u:()=>OK,v:()=>AK,z:()=>LK,C:()=>BK,F:()=>fK,H:()=>PK,P:()=>JK,L:()=>bK,S:()=>xK,U:()=>dK,X:()=>FK,Z:()=>NK});var G=T(12506),B=T(12515),L=T(12513);let f,O;const C=new WeakMap,Q=new WeakMap,Y=new WeakMap,Z=new WeakMap,x=new WeakMap;let J={get(K,A,T){if(K instanceof IDBTransaction){if("done"===A)return Q.get(K);if("objectStoreNames"===A)return K.objectStoreNames||Y.get(K);if("store"===A)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return F(K[A])},set:(K,A,T)=>(K[A]=T,!0),has:(K,A)=>K instanceof IDBTransaction&&("done"===A||"store"===A)||A in K};function b(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(){for(var A=arguments.length,T=new Array(A),G=0;G<A;G++)T[G]=arguments[G];return K.apply(d(this),T),F(C.get(this))}:function(){for(var A=arguments.length,T=new Array(A),G=0;G<A;G++)T[G]=arguments[G];return F(K.apply(d(this),T))}:function(A){for(var T=arguments.length,G=new Array(T>1?T-1:0),B=1;B<T;B++)G[B-1]=arguments[B];const L=K.call(d(this),A,...G);return Y.set(L,A.sort?A.sort():[A]),F(L)}}function P(K){return"function"===typeof K?b(K):(K instanceof IDBTransaction&&function(K){if(Q.has(K))return;const A=new Promise(((A,T)=>{const G=()=>{K.removeEventListener("complete",B),K.removeEventListener("error",L),K.removeEventListener("abort",L)},B=()=>{A(),G()},L=()=>{T(K.error||new DOMException("AbortError","AbortError")),G()};K.addEventListener("complete",B),K.addEventListener("error",L),K.addEventListener("abort",L)}));Q.set(K,A)}(K),A=K,(f||(f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((K=>A instanceof K))?new Proxy(K,J):K);var A}function F(K){if(K instanceof IDBRequest)return function(K){const A=new Promise(((A,T)=>{const G=()=>{K.removeEventListener("success",B),K.removeEventListener("error",L)},B=()=>{A(F(K.result)),G()},L=()=>{T(K.error),G()};K.addEventListener("success",B),K.addEventListener("error",L)}));return A.then((A=>{A instanceof IDBCursor&&C.set(A,K)})).catch((()=>{})),x.set(A,K),A}(K);if(Z.has(K))return Z.get(K);const A=P(K);return A!==K&&(Z.set(K,A),x.set(A,K)),A}const d=K=>x.get(K);const N=["get","getKey","getAll","getAllKeys","count"],D=["put","add","delete","clear"],mK=new Map;function U(K,A){if(!(K instanceof IDBDatabase)||A in K||"string"!==typeof A)return;if(mK.get(A))return mK.get(A);const T=A.replace(/FromIndex$/,""),G=A!==T,B=D.includes(T);if(!(T in(G?IDBIndex:IDBObjectStore).prototype)||!B&&!N.includes(T))return;const L=async function(K){const A=this.transaction(K,B?"readwrite":"readonly");let L=A.store;for(var f=arguments.length,O=new Array(f>1?f-1:0),C=1;C<f;C++)O[C-1]=arguments[C];return G&&(L=L.index(O.shift())),(await Promise.all([L[T](...O),B&&A.done]))[0]};return mK.set(A,L),L}J=(K=>({...K,get:(A,T,G)=>U(A,T)||K.get(A,T,G),has:(A,T)=>!!U(A,T)||K.has(A,T)}))(J);class z{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map((K=>{if(function(K){const A=K.getComponent();return"VERSION"===(null===A||void 0===A?void 0:A.type)}(K)){const A=K.getImmediate();return`${A.library}/${A.version}`}return null})).filter((K=>K)).join(" ")}}const g="@firebase/app",S="0.9.13",l=new B.e("@firebase/app"),u="@firebase/app-compat",c="@firebase/analytics-compat",n="@firebase/analytics",H="@firebase/app-check-compat",e="@firebase/app-check",p="@firebase/auth",r="@firebase/auth-compat",h="@firebase/database",k="@firebase/database-compat",s="@firebase/functions",j="@firebase/functions-compat",R="@firebase/installations",v="@firebase/installations-compat",I="@firebase/messaging",o="@firebase/messaging-compat",W="@firebase/performance",i="@firebase/performance-compat",V="@firebase/remote-config",X="@firebase/remote-config-compat",q="@firebase/storage",y="@firebase/storage-compat",w="@firebase/firestore",a="@firebase/firestore-compat",M="firebase",E="[DEFAULT]",t={[g]:"fire-core",[u]:"fire-core-compat",[n]:"fire-analytics",[c]:"fire-analytics-compat",[e]:"fire-app-check",[H]:"fire-app-check-compat",[p]:"fire-auth",[r]:"fire-auth-compat",[h]:"fire-rtdb",[k]:"fire-rtdb-compat",[s]:"fire-fn",[j]:"fire-fn-compat",[R]:"fire-iid",[v]:"fire-iid-compat",[I]:"fire-fcm",[o]:"fire-fcm-compat",[W]:"fire-perf",[i]:"fire-perf-compat",[V]:"fire-rc",[X]:"fire-rc-compat",[q]:"fire-gcs",[y]:"fire-gcs-compat",[w]:"fire-fst",[a]:"fire-fst-compat","fire-js":"fire-js",[M]:"fire-js-all"},KK=new Map,AK=new Map;function TK(K,A){try{K.container.AQ(A)}catch(T){l.debug(`Component ${A.name} failed to register with FirebaseApp ${K.name}`,T)}}function GK(K,A){K.container.addOrOverwriteComponent(A)}function BK(K){const A=K.name;if(AK.has(A))return l.debug(`There were multiple attempts to register component ${A}.`),!1;AK.set(A,K);for(const T of KK.values())TK(T,K);return!0}function LK(K,A){const T=K.container.getProvider("heartbeat").getImmediate({optional:!0});return T&&T.triggerHeartbeat(),K.container.getProvider(A)}function fK(K,A){let T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;LK(K,A).clearInstance(T)}function OK(){AK.clear()}const CK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},QK=new L.d("app","Firebase",CK);class YK{constructor(K,A,T){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},A),this._name=A.name,this._automaticDataCollectionEnabled=A.automaticDataCollectionEnabled,this._container=T,this.container.AQ(new G.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw QK.create("app-deleted",{appName:this._name})}}const ZK="9.23.0";function xK(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=K;if("object"!==typeof A){A={name:A}}const B=Object.assign({name:E,automaticDataCollectionEnabled:!1},A),f=B.name;if("string"!==typeof f||!f)throw QK.create("bad-app-name",{appName:String(f)});if(T||(T=(0,L.D)()),!T)throw QK.create("no-options");const O=KK.get(f);if(O){if((0,L.v)(T,O.options)&&(0,L.v)(B,O.config))return O;throw QK.create("duplicate-app",{appName:f})}const C=new G.d(f);for(const G of AK.values())C.AQ(G);const Q=new YK(T,B,C);return KK.set(f,Q),Q}function JK(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;const A=KK.get(K);if(!A&&K===E&&(0,L.D)())return xK();if(!A)throw QK.create("no-app",{appName:K});return A}function bK(){return Array.from(KK.values())}async function PK(K){const A=K.name;KK.has(A)&&(KK.delete(A),await Promise.all(K.container.getProviders().map((K=>K.delete()))),K.isDeleted=!0)}function FK(K,A,T){var B;let L=null!==(B=t[K])&&void 0!==B?B:K;T&&(L+=`-${T}`);const f=L.match(/\s|\//),O=A.match(/\s|\//);if(f||O){const K=[`Unable to register library "${L}" with version "${A}":`];return f&&K.push(`library name "${L}" contains illegal characters (whitespace or "/")`),f&&O&&K.push("and"),O&&K.push(`version name "${A}" contains illegal characters (whitespace or "/")`),void l.warn(K.join(" "))}BK(new G.e(`${L}-version`,(()=>({library:L,version:A})),"VERSION"))}function dK(K,A){if(null!==K&&"function"!==typeof K)throw QK.create("invalid-log-argument");(0,B.h)(K,A)}function NK(K){(0,B.f)(K)}const DK="firebase-heartbeat-store";let mA=null;function UK(){return mA||(mA=function(K,A){let{blocked:T,upgrade:G,blocking:B,terminated:L}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const f=indexedDB.open(K,A),O=F(f);return G&&f.addEventListener("upgradeneeded",(K=>{G(F(f.result),K.oldVersion,K.newVersion,F(f.transaction),K)})),T&&f.addEventListener("blocked",(K=>T(K.oldVersion,K.newVersion,K))),O.then((K=>{L&&K.addEventListener("close",(()=>L())),B&&K.addEventListener("versionchange",(K=>B(K.oldVersion,K.newVersion,K)))})).catch((()=>{})),O}("firebase-heartbeat-database",1,{upgrade:(K,A)=>{if(0===A)K.createObjectStore(DK)}}).catch((K=>{throw QK.create("idb-open",{originalErrorMessage:K.message})}))),mA}async function zK(K,A){try{const T=(await UK()).transaction(DK,"readwrite"),G=T.objectStore(DK);await G.put(A,gK(K)),await T.done}catch(T){if(T instanceof L.g)l.warn(T.message);else{const K=QK.create("idb-set",{originalErrorMessage:null===T||void 0===T?void 0:T.message});l.warn(K.message)}}}function gK(K){return`${K.name}!${K.options.appId}`}class SK{constructor(K){this.container=K,this._heartbeatsCache=null;const A=this.container.getProvider("app").getImmediate();this.pZ=new uK(A),this._heartbeatsCachePromise=this.pZ.read().then((K=>(this._heartbeatsCache=K,K)))}async triggerHeartbeat(){const K=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),A=lK();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==A&&!this._heartbeatsCache.heartbeats.some((K=>K.date===A)))return this._heartbeatsCache.heartbeats.push({date:A,agent:K}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((K=>{const A=new Date(K.date).valueOf();return Date.now()-A<=2592e6})),this.pZ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const K=lK(),{heartbeatsToSend:A,unsentEntries:T}=function(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const T=[];let G=K.slice();for(const B of K){const K=T.find((K=>K.agent===B.agent));if(K){if(K.dates.push(B.date),cK(T)>A){K.dates.pop();break}}else if(T.push({agent:B.agent,dates:[B.date]}),cK(T)>A){T.pop();break}G=G.slice(1)}return{heartbeatsToSend:T,unsentEntries:G}}(this._heartbeatsCache.heartbeats),G=(0,L.m)(JSON.stringify({version:2,heartbeats:A}));return this._heartbeatsCache.lastSentHeartbeatDate=K,T.length>0?(this._heartbeatsCache.heartbeats=T,await this.pZ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.pZ.overwrite(this._heartbeatsCache)),G}}function lK(){return(new Date).toISOString().substring(0,10)}class uK{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,L.W)()&&(0,L.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(K){try{const A=await UK();return await A.transaction(DK).objectStore(DK).get(gK(K))}catch(A){if(A instanceof L.g)l.warn(A.message);else{const K=QK.create("idb-get",{originalErrorMessage:null===A||void 0===A?void 0:A.message});l.warn(K.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(K){var A;if(await this._canUseIndexedDBPromise){const T=await this.read();return zK(this.app,{lastSentHeartbeatDate:null!==(A=K.lastSentHeartbeatDate)&&void 0!==A?A:T.lastSentHeartbeatDate,heartbeats:K.heartbeats})}}async add(K){var A;if(await this._canUseIndexedDBPromise){const T=await this.read();return zK(this.app,{lastSentHeartbeatDate:null!==(A=K.lastSentHeartbeatDate)&&void 0!==A?A:T.lastSentHeartbeatDate,heartbeats:[...T.heartbeats,...K.heartbeats]})}}}function cK(K){return(0,L.m)(JSON.stringify({version:2,heartbeats:K})).length}var nK;nK="",BK(new G.e("platform-logger",(K=>new z(K)),"PRIVATE")),BK(new G.e("heartbeat",(K=>new SK(K)),"PRIVATE")),FK(g,S,nK),FK(g,S,"esm2017"),FK("fire-js","")},12506:(K,A,T)=>{T.d(A,{d:()=>O,e:()=>B});var G=T(12513);class B{constructor(K,A,T){this.name=K,this.instanceFactory=A,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const L="[DEFAULT]";class f{constructor(K,A){this.name=K,this.container=A,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const A=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(A)){const K=new G.b;if(this.instancesDeferred.set(A,K),this.isInitialized(A)||this.shouldAutoInitialize())try{const T=this.getOrInitializeService({instanceIdentifier:A});T&&K.resolve(T)}catch(T){}}return this.instancesDeferred.get(A).promise}getImmediate(K){var A;const T=this.normalizeInstanceIdentifier(null===K||void 0===K?void 0:K.identifier),G=null!==(A=null===K||void 0===K?void 0:K.optional)&&void 0!==A&&A;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(G)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(B){if(G)return null;throw B}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:L})}catch(A){}for(const[K,T]of this.instancesDeferred.entries()){const G=this.normalizeInstanceIdentifier(K);try{const K=this.getOrInitializeService({instanceIdentifier:G});T.resolve(K)}catch(A){}}}}clearInstance(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}async delete(){const K=Array.from(this.instances.values());await Promise.all([...K.filter((K=>"INTERNAL"in K)).map((K=>K.INTERNAL.delete())),...K.filter((K=>"_delete"in K)).map((K=>K._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instances.has(K)}getOptions(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instancesOptions.get(K)||{}}initialize(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:A={}}=K,T=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const G=this.getOrInitializeService({instanceIdentifier:T,options:A});for(const[B,L]of this.instancesDeferred.entries()){T===this.normalizeInstanceIdentifier(B)&&L.resolve(G)}return G}QZ(K,A){var T;const G=this.normalizeInstanceIdentifier(A),B=null!==(T=this.onInitCallbacks.get(G))&&void 0!==T?T:new Set;B.add(K),this.onInitCallbacks.set(G,B);const L=this.instances.get(G);return L&&K(L,G),()=>{B.delete(K)}}invokeOnInitCallbacks(K,A){const T=this.onInitCallbacks.get(A);if(T)for(const B of T)try{B(K,A)}catch(G){}}getOrInitializeService(K){let{instanceIdentifier:A,options:T={}}=K,G=this.instances.get(A);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(B=A,B===L?void 0:B),options:T}),this.instances.set(A,G),this.instancesOptions.set(A,T),this.invokeOnInitCallbacks(G,A),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,A,G)}catch(f){}var B;return G||null}normalizeInstanceIdentifier(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.component?this.component.multipleInstances?K:L:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(K){this.name=K,this.providers=new Map}AQ(K){const A=this.getProvider(K.name);if(A.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);A.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.AQ(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const A=new f(K,this);return this.providers.set(K,A),A}getProviders(){return Array.from(this.providers.values())}}},12515:(K,A,T)=>{T.d(A,{b:()=>B,e:()=>Q,f:()=>Y,h:()=>Z});const G=[];var B;!function(K){K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT"}(B||(B={}));const L={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},f=B.INFO,O={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},C=function(K,A){if(A<K.logLevel)return;const T=(new Date).toISOString(),G=O[A];if(!G)throw new Error(`Attempted to log a message with an invalid logType (value: ${A})`);for(var B=arguments.length,L=new Array(B>2?B-2:0),f=2;f<B;f++)L[f-2]=arguments[f];console[G](`[${T}]  ${K.name}:`,...L)};class Q{constructor(K){this.name=K,this._logLevel=f,this._logHandler=C,this._userLogHandler=null,G.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in B))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"===typeof K?L[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!==typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(){for(var K=arguments.length,A=new Array(K),T=0;T<K;T++)A[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...A),this._logHandler(this,B.DEBUG,...A)}log(){for(var K=arguments.length,A=new Array(K),T=0;T<K;T++)A[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...A),this._logHandler(this,B.VERBOSE,...A)}info(){for(var K=arguments.length,A=new Array(K),T=0;T<K;T++)A[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,B.INFO,...A),this._logHandler(this,B.INFO,...A)}warn(){for(var K=arguments.length,A=new Array(K),T=0;T<K;T++)A[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,B.WARN,...A),this._logHandler(this,B.WARN,...A)}error(){for(var K=arguments.length,A=new Array(K),T=0;T<K;T++)A[T]=arguments[T];this._userLogHandler&&this._userLogHandler(this,B.ERROR,...A),this._logHandler(this,B.ERROR,...A)}}function Y(K){G.forEach((A=>{A.setLogLevel(K)}))}function Z(K,A){for(const T of G){let G=null;A&&A.level&&(G=L[A.level]),T.userLogHandler=null===K?null:function(A,T){for(var L=arguments.length,f=new Array(L>2?L-2:0),O=2;O<L;O++)f[O-2]=arguments[O];const C=f.map((K=>{if(null==K)return null;if("string"===typeof K)return K;if("number"===typeof K||"boolean"===typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(A){return null}})).filter((K=>K)).join(" ");T>=(null!==G&&void 0!==G?G:A.logLevel)&&K({level:B[T].toLowerCase(),message:C,args:f,type:A.name})}}}}}]);