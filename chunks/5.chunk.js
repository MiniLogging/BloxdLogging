/*! For license information please see eq249d.5.6f64b231.chunk.js.LICENSE.txt */
"use strict";(self["6xhfpmwgjr5"]=self["6xhfpmwgjr5"]||[]).push([[5],{12207:(P,a,R)=>{R.d(a,{C:()=>h,G:()=>V,H:()=>M,I:()=>O,L:()=>y,N:()=>mP,O:()=>W,Q:()=>k,U:()=>q,V:()=>t,W:()=>c,X:()=>L,Z:()=>x,c:()=>f,f:()=>G,g:()=>d,i:()=>s,l:()=>j,n:()=>p,p:()=>v,q:()=>Y,u:()=>N,w:()=>u,y:()=>l});const S=function(P){const a=[];let R=0;for(let S=0;S<P.length;S++){let A=P.charCodeAt(S);A<128?a[R++]=A:A<2048?(a[R++]=A>>6|192,a[R++]=63&A|128):55296===(64512&A)&&S+1<P.length&&56320===(64512&P.charCodeAt(S+1))?(A=65536+((1023&A)<<10)+(1023&P.charCodeAt(++S)),a[R++]=A>>18|240,a[R++]=A>>12&63|128,a[R++]=A>>6&63|128,a[R++]=63&A|128):(a[R++]=A>>12|224,a[R++]=A>>6&63|128,a[R++]=63&A|128)}return a},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(P,a){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let A=0;A<P.length;A+=3){const a=P[A],Z=A+1<P.length,p=Z?P[A+1]:0,j=A+2<P.length,U=j?P[A+2]:0,Q=a>>2,h=(3&a)<<4|p>>4;let l=(15&p)<<2|U>>6,V=63&U;j||(V=64,Z||(l=64)),S.push(R[Q],R[h],R[l],R[V])}return S.join("")},encodeString(P,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(P):this.encodeByteArray(S(P),a)},decodeString(P,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(P):function(P){const a=[];let R=0,S=0;for(;R<P.length;){const A=P[R++];if(A<128)a[S++]=String.fromCharCode(A);else if(A>191&&A<224){const Z=P[R++];a[S++]=String.fromCharCode((31&A)<<6|63&Z)}else if(A>239&&A<365){const Z=((7&A)<<18|(63&P[R++])<<12|(63&P[R++])<<6|63&P[R++])-65536;a[S++]=String.fromCharCode(55296+(Z>>10)),a[S++]=String.fromCharCode(56320+(1023&Z))}else{const Z=P[R++],p=P[R++];a[S++]=String.fromCharCode((15&A)<<12|(63&Z)<<6|63&p)}}return a.join("")}(this.decodeStringToByteArray(P,a))},decodeStringToByteArray(P,a){this.init_();const R=a?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let A=0;A<P.length;){const a=R[P.charAt(A++)],p=A<P.length?R[P.charAt(A)]:0;++A;const j=A<P.length?R[P.charAt(A)]:64;++A;const U=A<P.length?R[P.charAt(A)]:64;if(++A,null==a||null==p||null==j||null==U)throw new Z;const Q=a<<2|p>>4;if(S.push(Q),64!==j){const P=p<<4&240|j>>2;if(S.push(P),64!==U){const P=j<<6&192|U;S.push(P)}}}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(P){return function(P){const a=S(P);return A.encodeByteArray(a,!0)}(P).replace(/\./g,"")},j=function(P){try{return A.decodeString(P,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};const U=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof R.g)return R.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Q=()=>{try{return U()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(R){return}const a=P&&j(P[1]);return a&&JSON.parse(a)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},h=P=>{var a,R;return null===(R=null===(a=Q())||void 0===a?void 0:a.emulatorHosts)||void 0===R?void 0:R[P]},l=()=>{var P;return null===(P=Q())||void 0===P?void 0:P.config},V=P=>{var a;return null===(a=Q())||void 0===a?void 0:a[`_${P}`]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((P,a)=>{this.resolve=P,this.reject=a}))}wrapCallback(P){return(a,R)=>{a?this.reject(a):this.resolve(R),"function"===typeof P&&(this.promise.catch((()=>{})),1===P.length?P(a):P(a,R))}}}function O(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function y(){const P="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof P&&void 0!==P.id}function t(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function W(){const P=O();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function k(){try{return"object"===typeof indexedDB}catch(P){return!1}}function x(){return new Promise(((P,a)=>{try{let R=!0;const S="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(S);A.onsuccess=()=>{A.result.close(),R||self.indexedDB.deleteDatabase(S),P(!0)},A.onupgradeneeded=()=>{R=!1},A.onerror=()=>{var P;a((null===(P=A.error)||void 0===P?void 0:P.message)||"")}}catch(R){a(R)}}))}function s(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class d extends Error{constructor(P,a,R){super(a),this.code=P,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(P,a,R){this.service=P,this.serviceName=a,this.errors=R}create(P){const a=(arguments.length<=1?void 0:arguments[1])||{},R=`${this.service}/${P}`,S=this.errors[P],A=S?function(P,a){return P.replace(H,((P,R)=>{const S=a[R];return null!=S?String(S):`<${R}?>`}))}(S,a):"Error",Z=`${this.serviceName}: ${A} (${R}).`;return new d(R,Z,a)}}const H=/\{\$([^}]+)}/g;function mP(P){for(const a in P)if(Object.prototype.hasOwnProperty.call(P,a))return!1;return!0}function N(P,a){if(P===a)return!0;const R=Object.keys(P),S=Object.keys(a);for(const A of R){if(!S.includes(A))return!1;const R=P[A],Z=a[A];if(D(R)&&D(Z)){if(!N(R,Z))return!1}else if(R!==Z)return!1}for(const A of S)if(!R.includes(A))return!1;return!0}function D(P){return null!==P&&"object"===typeof P}function L(P){const a=[];for(const[R,S]of Object.entries(P))Array.isArray(S)?S.forEach((P=>{a.push(encodeURIComponent(R)+"="+encodeURIComponent(P))})):a.push(encodeURIComponent(R)+"="+encodeURIComponent(S));return a.length?"&"+a.join("&"):""}function c(P){const a={};return P.replace(/^\?/,"").split("&").forEach((P=>{if(P){const[R,S]=P.split("=");a[decodeURIComponent(R)]=decodeURIComponent(S)}})),a}function u(P){const a=P.indexOf("?");if(!a)return"";const R=P.indexOf("#",a);return P.substring(a,R>0?R:void 0)}function Y(P,a){const R=new J(P,a);return R.subscribe.bind(R)}class J{constructor(P,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then((()=>{P(this)})).catch((P=>{this.error(P)}))}next(P){this.forEachObserver((a=>{a.next(P)}))}error(P){this.forEachObserver((a=>{a.error(P)})),this.close(P)}complete(){this.forEachObserver((P=>{P.complete()})),this.close()}subscribe(P,a,R){let S;if(void 0===P&&void 0===a&&void 0===R)throw new Error("Missing Observer.");S=function(P,a){if("object"!==typeof P||null===P)return!1;for(const R of a)if(R in P&&"function"===typeof P[R])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:a,complete:R},void 0===S.next&&(S.next=n),void 0===S.error&&(S.error=n),void 0===S.complete&&(S.complete=n);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch(P){}})),this.observers.push(S),A}unsubscribeOne(P){void 0!==this.observers&&void 0!==this.observers[P]&&(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,P)}sendOne(P,a){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{a(this.observers[P])}catch(R){"undefined"!==typeof console&&console.error&&console.error(R)}}))}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function n(){}const b=1e3,B=2,o=144e5,r=.5;function v(P){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;const R=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)*Math.pow(a,P),S=Math.round(r*R*(Math.random()-.5)*2);return Math.min(o,R+S)}function M(P){return P&&P._delegate?P._delegate:P}},12193:(P,a,R)=>{R.d(a,{b:()=>Z.g,f:()=>lP,g:()=>F,i:()=>RP,j:()=>SP,m:()=>PP,q:()=>jP,t:()=>aP,u:()=>ZP,x:()=>AP,z:()=>pP,A:()=>qP,E:()=>fP,C:()=>OP,G:()=>VP,H:()=>tP,L:()=>yP,N:()=>WP});var S=R(12198),A=R(12209),Z=R(12207);let p,j;const U=new WeakMap,Q=new WeakMap,h=new WeakMap,l=new WeakMap,V=new WeakMap;let f={get(P,a,R){if(P instanceof IDBTransaction){if("done"===a)return Q.get(P);if("objectStoreNames"===a)return P.objectStoreNames||h.get(P);if("store"===a)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return y(P[a])},set:(P,a,R)=>(P[a]=R,!0),has:(P,a)=>P instanceof IDBTransaction&&("done"===a||"store"===a)||a in P};function O(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(P)?function(){for(var a=arguments.length,R=new Array(a),S=0;S<a;S++)R[S]=arguments[S];return P.apply(t(this),R),y(U.get(this))}:function(){for(var a=arguments.length,R=new Array(a),S=0;S<a;S++)R[S]=arguments[S];return y(P.apply(t(this),R))}:function(a){for(var R=arguments.length,S=new Array(R>1?R-1:0),A=1;A<R;A++)S[A-1]=arguments[A];const Z=P.call(t(this),a,...S);return h.set(Z,a.sort?a.sort():[a]),y(Z)}}function q(P){return"function"===typeof P?O(P):(P instanceof IDBTransaction&&function(P){if(Q.has(P))return;const a=new Promise(((a,R)=>{const S=()=>{P.removeEventListener("complete",A),P.removeEventListener("error",Z),P.removeEventListener("abort",Z)},A=()=>{a(),S()},Z=()=>{R(P.error||new DOMException("AbortError","AbortError")),S()};P.addEventListener("complete",A),P.addEventListener("error",Z),P.addEventListener("abort",Z)}));Q.set(P,a)}(P),a=P,(p||(p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((P=>a instanceof P))?new Proxy(P,f):P);var a}function y(P){if(P instanceof IDBRequest)return function(P){const a=new Promise(((a,R)=>{const S=()=>{P.removeEventListener("success",A),P.removeEventListener("error",Z)},A=()=>{a(y(P.result)),S()},Z=()=>{R(P.error),S()};P.addEventListener("success",A),P.addEventListener("error",Z)}));return a.then((a=>{a instanceof IDBCursor&&U.set(a,P)})).catch((()=>{})),V.set(a,P),a}(P);if(l.has(P))return l.get(P);const a=q(P);return a!==P&&(l.set(P,a),V.set(a,P)),a}const t=P=>V.get(P);const W=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],x=new Map;function s(P,a){if(!(P instanceof IDBDatabase)||a in P||"string"!==typeof a)return;if(x.get(a))return x.get(a);const R=a.replace(/FromIndex$/,""),S=a!==R,A=k.includes(R);if(!(R in(S?IDBIndex:IDBObjectStore).prototype)||!A&&!W.includes(R))return;const Z=async function(P){const a=this.transaction(P,A?"readwrite":"readonly");let Z=a.store;for(var p=arguments.length,j=new Array(p>1?p-1:0),U=1;U<p;U++)j[U-1]=arguments[U];return S&&(Z=Z.index(j.shift())),(await Promise.all([Z[R](...j),A&&a.done]))[0]};return x.set(a,Z),Z}f=(P=>({...P,get:(a,R,S)=>s(a,R)||P.get(a,R,S),has:(a,R)=>!!s(a,R)||P.has(a,R)}))(f);class d{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map((P=>{if(function(P){const a=P.getComponent();return"VERSION"===(null===a||void 0===a?void 0:a.type)}(P)){const a=P.getImmediate();return`${a.library}/${a.version}`}return null})).filter((P=>P)).join(" ")}}const G="@firebase/app",H="0.9.13",mP=new A.f("@firebase/app"),N="@firebase/app-compat",D="@firebase/analytics-compat",L="@firebase/analytics",c="@firebase/app-check-compat",u="@firebase/app-check",Y="@firebase/auth",J="@firebase/auth-compat",n="@firebase/database",b="@firebase/database-compat",B="@firebase/functions",o="@firebase/functions-compat",r="@firebase/installations",v="@firebase/installations-compat",M="@firebase/messaging",E="@firebase/messaging-compat",e="@firebase/performance",w="@firebase/performance-compat",T="@firebase/remote-config",I="@firebase/remote-config-compat",i="@firebase/storage",X="@firebase/storage-compat",C="@firebase/firestore",z="@firebase/firestore-compat",K="firebase",F="[DEFAULT]",g={[G]:"fire-core",[N]:"fire-core-compat",[L]:"fire-analytics",[D]:"fire-analytics-compat",[u]:"fire-app-check",[c]:"fire-app-check-compat",[Y]:"fire-auth",[J]:"fire-auth-compat",[n]:"fire-rtdb",[b]:"fire-rtdb-compat",[B]:"fire-fn",[o]:"fire-fn-compat",[r]:"fire-iid",[v]:"fire-iid-compat",[M]:"fire-fcm",[E]:"fire-fcm-compat",[e]:"fire-perf",[w]:"fire-perf-compat",[T]:"fire-rc",[I]:"fire-rc-compat",[i]:"fire-gcs",[X]:"fire-gcs-compat",[C]:"fire-fst",[z]:"fire-fst-compat","fire-js":"fire-js",[K]:"fire-js-all"},PP=new Map,aP=new Map;function RP(P,a){try{P.container.cU(a)}catch(R){mP.debug(`Component ${a.name} failed to register with FirebaseApp ${P.name}`,R)}}function SP(P,a){P.container.addOrOverwriteComponent(a)}function AP(P){const a=P.name;if(aP.has(a))return mP.debug(`There were multiple attempts to register component ${a}.`),!1;aP.set(a,P);for(const R of PP.values())RP(R,P);return!0}function ZP(P,a){const R=P.container.getProvider("heartbeat").getImmediate({optional:!0});return R&&R.triggerHeartbeat(),P.container.getProvider(a)}function pP(P,a){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;ZP(P,a).clearInstance(R)}function jP(){aP.clear()}const UP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},QP=new Z.f("app","Firebase",UP);class hP{constructor(P,a,R){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=R,this.container.cU(new S.c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw QP.create("app-deleted",{appName:this._name})}}const lP="9.23.0";function VP(P){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=P;if("object"!==typeof a){a={name:a}}const A=Object.assign({name:F,automaticDataCollectionEnabled:!1},a),p=A.name;if("string"!==typeof p||!p)throw QP.create("bad-app-name",{appName:String(p)});if(R||(R=(0,Z.y)()),!R)throw QP.create("no-options");const j=PP.get(p);if(j){if((0,Z.u)(R,j.options)&&(0,Z.u)(A,j.config))return j;throw QP.create("duplicate-app",{appName:p})}const U=new S.b(p);for(const S of aP.values())U.cU(S);const Q=new hP(R,A,U);return PP.set(p,Q),Q}function fP(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const a=PP.get(P);if(!a&&P===F&&(0,Z.y)())return VP();if(!a)throw QP.create("no-app",{appName:P});return a}function OP(){return Array.from(PP.values())}async function qP(P){const a=P.name;PP.has(a)&&(PP.delete(a),await Promise.all(P.container.getProviders().map((P=>P.delete()))),P.isDeleted=!0)}function yP(P,a,R){var A;let Z=null!==(A=g[P])&&void 0!==A?A:P;R&&(Z+=`-${R}`);const p=Z.match(/\s|\//),j=a.match(/\s|\//);if(p||j){const P=[`Unable to register library "${Z}" with version "${a}":`];return p&&P.push(`library name "${Z}" contains illegal characters (whitespace or "/")`),p&&j&&P.push("and"),j&&P.push(`version name "${a}" contains illegal characters (whitespace or "/")`),void mP.warn(P.join(" "))}AP(new S.c(`${Z}-version`,(()=>({library:Z,version:a})),"VERSION"))}function tP(P,a){if(null!==P&&"function"!==typeof P)throw QP.create("invalid-log-argument");(0,A.j)(P,a)}function WP(P){(0,A.g)(P)}const kP="firebase-heartbeat-store";let xP=null;function sP(){return xP||(xP=function(P,a){let{blocked:R,upgrade:S,blocking:A,terminated:Z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const p=indexedDB.open(P,a),j=y(p);return S&&p.addEventListener("upgradeneeded",(P=>{S(y(p.result),P.oldVersion,P.newVersion,y(p.transaction),P)})),R&&p.addEventListener("blocked",(P=>R(P.oldVersion,P.newVersion,P))),j.then((P=>{Z&&P.addEventListener("close",(()=>Z())),A&&P.addEventListener("versionchange",(P=>A(P.oldVersion,P.newVersion,P)))})).catch((()=>{})),j}("firebase-heartbeat-database",1,{upgrade:(P,a)=>{if(0===a)P.createObjectStore(kP)}}).catch((P=>{throw QP.create("idb-open",{originalErrorMessage:P.message})}))),xP}async function dP(P,a){try{const R=(await sP()).transaction(kP,"readwrite"),S=R.objectStore(kP);await S.put(a,GP(P)),await R.done}catch(R){if(R instanceof Z.g)mP.warn(R.message);else{const P=QP.create("idb-set",{originalErrorMessage:null===R||void 0===R?void 0:R.message});mP.warn(P.message)}}}function GP(P){return`${P.name}!${P.options.appId}`}class HP{constructor(P){this.container=P,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this.xl=new NP(a),this._heartbeatsCachePromise=this.xl.read().then((P=>(this._heartbeatsCache=P,P)))}async triggerHeartbeat(){const P=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ma();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((P=>P.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:P}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((P=>{const a=new Date(P.date).valueOf();return Date.now()-a<=2592e6})),this.xl.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const P=ma(),{heartbeatsToSend:a,unsentEntries:R}=function(P){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const R=[];let S=P.slice();for(const A of P){const P=R.find((P=>P.agent===A.agent));if(P){if(P.dates.push(A.date),DP(R)>a){P.dates.pop();break}}else if(R.push({agent:A.agent,dates:[A.date]}),DP(R)>a){R.pop();break}S=S.slice(1)}return{heartbeatsToSend:R,unsentEntries:S}}(this._heartbeatsCache.heartbeats),S=(0,Z.n)(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=P,R.length>0?(this._heartbeatsCache.heartbeats=R,await this.xl.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.xl.overwrite(this._heartbeatsCache)),S}}function ma(){return(new Date).toISOString().substring(0,10)}class NP{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Z.Q)()&&(0,Z.Z)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(P){try{const a=await sP();return await a.transaction(kP).objectStore(kP).get(GP(P))}catch(a){if(a instanceof Z.g)mP.warn(a.message);else{const P=QP.create("idb-get",{originalErrorMessage:null===a||void 0===a?void 0:a.message});mP.warn(P.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(P){var a;if(await this._canUseIndexedDBPromise){const R=await this.read();return dP(this.app,{lastSentHeartbeatDate:null!==(a=P.lastSentHeartbeatDate)&&void 0!==a?a:R.lastSentHeartbeatDate,heartbeats:P.heartbeats})}}async add(P){var a;if(await this._canUseIndexedDBPromise){const R=await this.read();return dP(this.app,{lastSentHeartbeatDate:null!==(a=P.lastSentHeartbeatDate)&&void 0!==a?a:R.lastSentHeartbeatDate,heartbeats:[...R.heartbeats,...P.heartbeats]})}}}function DP(P){return(0,Z.n)(JSON.stringify({version:2,heartbeats:P})).length}var LP;LP="",AP(new S.c("platform-logger",(P=>new d(P)),"PRIVATE")),AP(new S.c("heartbeat",(P=>new HP(P)),"PRIVATE")),yP(G,H,LP),yP(G,H,"esm2017"),yP("fire-js","")},12198:(P,a,R)=>{R.d(a,{b:()=>j,c:()=>A});var S=R(12207);class A{constructor(P,a,R){this.name=P,this.instanceFactory=a,this.type=R,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const Z="[DEFAULT]";class p{constructor(P,a){this.name=P,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const a=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(a)){const P=new S.c;if(this.instancesDeferred.set(a,P),this.isInitialized(a)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:a});R&&P.resolve(R)}catch(R){}}return this.instancesDeferred.get(a).promise}getImmediate(P){var a;const R=this.normalizeInstanceIdentifier(null===P||void 0===P?void 0:P.identifier),S=null!==(a=null===P||void 0===P?void 0:P.optional)&&void 0!==a&&a;if(!this.isInitialized(R)&&!this.shouldAutoInitialize()){if(S)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:R})}catch(A){if(S)return null;throw A}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function(P){return"EAGER"===P.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(a){}for(const[P,R]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(P);try{const P=this.getOrInitializeService({instanceIdentifier:S});R.resolve(P)}catch(a){}}}}clearInstance(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}async delete(){const P=Array.from(this.instances.values());await Promise.all([...P.filter((P=>"INTERNAL"in P)).map((P=>P.INTERNAL.delete())),...P.filter((P=>"_delete"in P)).map((P=>P._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instances.has(P)}getOptions(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instancesOptions.get(P)||{}}initialize(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:a={}}=P,R=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(R))throw Error(`${this.name}(${R}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const S=this.getOrInitializeService({instanceIdentifier:R,options:a});for(const[A,Z]of this.instancesDeferred.entries()){R===this.normalizeInstanceIdentifier(A)&&Z.resolve(S)}return S}gh(P,a){var R;const S=this.normalizeInstanceIdentifier(a),A=null!==(R=this.onInitCallbacks.get(S))&&void 0!==R?R:new Set;A.add(P),this.onInitCallbacks.set(S,A);const Z=this.instances.get(S);return Z&&P(Z,S),()=>{A.delete(P)}}invokeOnInitCallbacks(P,a){const R=this.onInitCallbacks.get(a);if(R)for(const A of R)try{A(P,a)}catch(S){}}getOrInitializeService(P){let{instanceIdentifier:a,options:R={}}=P,S=this.instances.get(a);if(!S&&this.component&&(S=this.component.instanceFactory(this.container,{instanceIdentifier:(A=a,A===Z?void 0:A),options:R}),this.instances.set(a,S),this.instancesOptions.set(a,R),this.invokeOnInitCallbacks(S,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,S)}catch(p){}var A;return S||null}normalizeInstanceIdentifier(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.component?this.component.multipleInstances?P:Z:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(P){this.name=P,this.providers=new Map}cU(P){const a=this.getProvider(P.name);if(a.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);a.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.cU(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const a=new p(P,this);return this.providers.set(P,a),a}getProviders(){return Array.from(this.providers.values())}}},12209:(P,a,R)=>{R.d(a,{c:()=>A,f:()=>Q,g:()=>h,j:()=>l});const S=[];var A;!function(P){P[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT"}(A||(A={}));const Z={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},p=A.INFO,j={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},U=function(P,a){if(a<P.logLevel)return;const R=(new Date).toISOString(),S=j[a];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${a})`);for(var A=arguments.length,Z=new Array(A>2?A-2:0),p=2;p<A;p++)Z[p-2]=arguments[p];console[S](`[${R}]  ${P.name}:`,...Z)};class Q{constructor(P){this.name=P,this._logLevel=p,this._logHandler=U,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in A))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"===typeof P?Z[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!==typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(){for(var P=arguments.length,a=new Array(P),R=0;R<P;R++)a[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...a),this._logHandler(this,A.DEBUG,...a)}log(){for(var P=arguments.length,a=new Array(P),R=0;R<P;R++)a[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...a),this._logHandler(this,A.VERBOSE,...a)}info(){for(var P=arguments.length,a=new Array(P),R=0;R<P;R++)a[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,A.INFO,...a),this._logHandler(this,A.INFO,...a)}warn(){for(var P=arguments.length,a=new Array(P),R=0;R<P;R++)a[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,A.WARN,...a),this._logHandler(this,A.WARN,...a)}error(){for(var P=arguments.length,a=new Array(P),R=0;R<P;R++)a[R]=arguments[R];this._userLogHandler&&this._userLogHandler(this,A.ERROR,...a),this._logHandler(this,A.ERROR,...a)}}function h(P){S.forEach((a=>{a.setLogLevel(P)}))}function l(P,a){for(const R of S){let S=null;a&&a.level&&(S=Z[a.level]),R.userLogHandler=null===P?null:function(a,R){for(var Z=arguments.length,p=new Array(Z>2?Z-2:0),j=2;j<Z;j++)p[j-2]=arguments[j];const U=p.map((P=>{if(null==P)return null;if("string"===typeof P)return P;if("number"===typeof P||"boolean"===typeof P)return P.toString();if(P instanceof Error)return P.message;try{return JSON.stringify(P)}catch(a){return null}})).filter((P=>P)).join(" ");R>=(null!==S&&void 0!==S?S:a.logLevel)&&P({level:A[R].toLowerCase(),message:U,args:p,type:a.name})}}}}}]);