/*! For license information please see hektwi.5.1d8a23d6.chunk.js.LICENSE.txt */
"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[5],{11587:(b,n,i)=>{i.d(n,{B:()=>x,E:()=>E,I:()=>N,M:()=>mb,P:()=>Z,S:()=>r,U:()=>z,V:()=>I,W:()=>D,_:()=>u,ab:()=>d,db:()=>K,e:()=>T,fb:()=>O,g:()=>j,i:()=>M,jb:()=>A,lb:()=>s,m:()=>o,ob:()=>G,q:()=>Y,u:()=>U,y:()=>k,z:()=>C});const e=function(b){const n=[];let i=0;for(let e=0;e<b.length;e++){let V=b.charCodeAt(e);V<128?n[i++]=V:V<2048?(n[i++]=V>>6|192,n[i++]=63&V|128):55296===(64512&V)&&e+1<b.length&&56320===(64512&b.charCodeAt(e+1))?(V=65536+((1023&V)<<10)+(1023&b.charCodeAt(++e)),n[i++]=V>>18|240,n[i++]=V>>12&63|128,n[i++]=V>>6&63|128,n[i++]=63&V|128):(n[i++]=V>>12|224,n[i++]=V>>6&63|128,n[i++]=63&V|128)}return n},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(b,n){if(!Array.isArray(b))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,e=[];for(let V=0;V<b.length;V+=3){const n=b[V],Q=V+1<b.length,U=Q?b[V+1]:0,Y=V+2<b.length,L=Y?b[V+2]:0,B=n>>2,mb=(3&n)<<4|U>>4;let N=(15&U)<<2|L>>6,Z=63&L;Y||(Z=64,Q||(N=64)),e.push(i[B],i[mb],i[N],i[Z])}return e.join("")},encodeString(b,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(b):this.encodeByteArray(e(b),n)},decodeString(b,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(b):function(b){const n=[];let i=0,e=0;for(;i<b.length;){const V=b[i++];if(V<128)n[e++]=String.fromCharCode(V);else if(V>191&&V<224){const Q=b[i++];n[e++]=String.fromCharCode((31&V)<<6|63&Q)}else if(V>239&&V<365){const Q=((7&V)<<18|(63&b[i++])<<12|(63&b[i++])<<6|63&b[i++])-65536;n[e++]=String.fromCharCode(55296+(Q>>10)),n[e++]=String.fromCharCode(56320+(1023&Q))}else{const Q=b[i++],U=b[i++];n[e++]=String.fromCharCode((15&V)<<12|(63&Q)<<6|63&U)}}return n.join("")}(this.decodeStringToByteArray(b,n))},decodeStringToByteArray(b,n){this.init_();const i=n?this.charToByteMapWebSafe_:this.charToByteMap_,e=[];for(let V=0;V<b.length;){const n=i[b.charAt(V++)],U=V<b.length?i[b.charAt(V)]:0;++V;const Y=V<b.length?i[b.charAt(V)]:64;++V;const L=V<b.length?i[b.charAt(V)]:64;if(++V,null==n||null==U||null==Y||null==L)throw new Q;const B=n<<2|U>>4;if(e.push(B),64!==Y){const b=U<<4&240|Y>>2;if(e.push(b),64!==L){const b=Y<<6&192|L;e.push(b)}}}return e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let b=0;b<this.ENCODED_VALS.length;b++)this.byteToCharMap_[b]=this.ENCODED_VALS.charAt(b),this.charToByteMap_[this.byteToCharMap_[b]]=b,this.byteToCharMapWebSafe_[b]=this.ENCODED_VALS_WEBSAFE.charAt(b),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[b]]=b,b>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(b)]=b,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(b)]=b)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(b){return function(b){const n=e(b);return V.encodeByteArray(n,!0)}(b).replace(/\./g,"")},Y=function(b){try{return V.decodeString(b,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};const L=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,B=()=>{try{return L()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let b;try{b=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const n=b&&Y(b[1]);return n&&JSON.parse(n)})()}catch(b){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${b}`)}},mb=b=>{var n,i;return null===(i=null===(n=B())||void 0===n?void 0:n.emulatorHosts)||void 0===i?void 0:i[b]},N=()=>{var b;return null===(b=B())||void 0===b?void 0:b.config},Z=b=>{var n;return null===(n=B())||void 0===n?void 0:n[`_${b}`]};class T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((b,n)=>{this.resolve=b,this.reject=n}))}wrapCallback(b){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"===typeof b&&(this.promise.catch((()=>{})),1===b.length?b(n):b(n,i))}}}function z(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function K(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z())}function I(){const b="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof b&&void 0!==b.id}function O(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function u(){const b=z();return b.indexOf("MSIE ")>=0||b.indexOf("Trident/")>=0}function d(){try{return"object"===typeof indexedDB}catch(b){return!1}}function G(){return new Promise(((b,n)=>{try{let i=!0;const e="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(e);V.onsuccess=()=>{V.result.close(),i||self.indexedDB.deleteDatabase(e),b(!0)},V.onupgradeneeded=()=>{i=!1},V.onerror=()=>{var b;n((null===(b=V.error)||void 0===b?void 0:b.message)||"")}}catch(i){n(i)}}))}function o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class M extends Error{constructor(b,n,i){super(n),this.code=b,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(b,n,i){this.service=b,this.serviceName=n,this.errors=i}create(b){const n=(arguments.length<=1?void 0:arguments[1])||{},i=`${this.service}/${b}`,e=this.errors[b],V=e?function(b,n){return b.replace(a,((b,i)=>{const e=n[i];return null!=e?String(e):`<${i}?>`}))}(e,n):"Error",Q=`${this.serviceName}: ${V} (${i}).`;return new M(i,Q,n)}}const a=/\{\$([^}]+)}/g;function D(b){for(const n in b)if(Object.prototype.hasOwnProperty.call(b,n))return!1;return!0}function x(b,n){if(b===n)return!0;const i=Object.keys(b),e=Object.keys(n);for(const V of i){if(!e.includes(V))return!1;const i=b[V],Q=n[V];if(y(i)&&y(Q)){if(!x(i,Q))return!1}else if(i!==Q)return!1}for(const V of e)if(!i.includes(V))return!1;return!0}function y(b){return null!==b&&"object"===typeof b}function s(b){const n=[];for(const[i,e]of Object.entries(b))Array.isArray(e)?e.forEach((b=>{n.push(encodeURIComponent(i)+"="+encodeURIComponent(b))})):n.push(encodeURIComponent(i)+"="+encodeURIComponent(e));return n.length?"&"+n.join("&"):""}function A(b){const n={};return b.replace(/^\?/,"").split("&").forEach((b=>{if(b){const[i,e]=b.split("=");n[decodeURIComponent(i)]=decodeURIComponent(e)}})),n}function E(b){const n=b.indexOf("?");if(!n)return"";const i=b.indexOf("#",n);return b.substring(n,i>0?i:void 0)}function C(b,n){const i=new t(b,n);return i.subscribe.bind(i)}class t{constructor(b,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((()=>{b(this)})).catch((b=>{this.error(b)}))}next(b){this.forEachObserver((n=>{n.next(b)}))}error(b){this.forEachObserver((n=>{n.error(b)})),this.close(b)}complete(){this.forEachObserver((b=>{b.complete()})),this.close()}subscribe(b,n,i){let e;if(void 0===b&&void 0===n&&void 0===i)throw new Error("Missing Observer.");e=function(b,n){if("object"!==typeof b||null===b)return!1;for(const i of n)if(i in b&&"function"===typeof b[i])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:n,complete:i},void 0===e.next&&(e.next=w),void 0===e.error&&(e.error=w),void 0===e.complete&&(e.complete=w);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?e.error(this.finalError):e.complete()}catch(b){}})),this.observers.push(e),V}unsubscribeOne(b){void 0!==this.observers&&void 0!==this.observers[b]&&(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,b)}sendOne(b,n){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{n(this.observers[b])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function w(){}const h=1e3,W=2,J=144e5,R=.5;function k(b){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;const i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(n,b),e=Math.round(R*i*(Math.random()-.5)*2);return Math.min(J,i+e)}function r(b){return b&&b._delegate?b._delegate:b}},11570:(b,n,i)=>{i.d(n,{e:()=>Q.i,h:()=>Nb,i:()=>f,l:()=>ib,p:()=>eb,q:()=>bb,r:()=>Yb,u:()=>nb,x:()=>Qb,y:()=>Vb,z:()=>Ub,D:()=>Kb,I:()=>Tb,G:()=>zb,L:()=>Zb,M:()=>Ob,N:()=>Ib,O:()=>ub});var e=i(11579),V=i(11590),Q=i(11587);let U,Y;const L=new WeakMap,B=new WeakMap,mb=new WeakMap,N=new WeakMap,Z=new WeakMap;let T={get(b,n,i){if(b instanceof IDBTransaction){if("done"===n)return B.get(b);if("objectStoreNames"===n)return b.objectStoreNames||mb.get(b);if("store"===n)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return I(b[n])},set:(b,n,i)=>(b[n]=i,!0),has:(b,n)=>b instanceof IDBTransaction&&("done"===n||"store"===n)||n in b};function z(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(b)?function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return b.apply(O(this),i),I(L.get(this))}:function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return I(b.apply(O(this),i))}:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),V=1;V<i;V++)e[V-1]=arguments[V];const Q=b.call(O(this),n,...e);return mb.set(Q,n.sort?n.sort():[n]),I(Q)}}function K(b){return"function"===typeof b?z(b):(b instanceof IDBTransaction&&function(b){if(B.has(b))return;const n=new Promise(((n,i)=>{const e=()=>{b.removeEventListener("complete",V),b.removeEventListener("error",Q),b.removeEventListener("abort",Q)},V=()=>{n(),e()},Q=()=>{i(b.error||new DOMException("AbortError","AbortError")),e()};b.addEventListener("complete",V),b.addEventListener("error",Q),b.addEventListener("abort",Q)}));B.set(b,n)}(b),n=b,(U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((b=>n instanceof b))?new Proxy(b,T):b);var n}function I(b){if(b instanceof IDBRequest)return function(b){const n=new Promise(((n,i)=>{const e=()=>{b.removeEventListener("success",V),b.removeEventListener("error",Q)},V=()=>{n(I(b.result)),e()},Q=()=>{i(b.error),e()};b.addEventListener("success",V),b.addEventListener("error",Q)}));return n.then((n=>{n instanceof IDBCursor&&L.set(n,b)})).catch((()=>{})),Z.set(n,b),n}(b);if(N.has(b))return N.get(b);const n=K(b);return n!==b&&(N.set(b,n),Z.set(n,b)),n}const O=b=>Z.get(b);const u=["get","getKey","getAll","getAllKeys","count"],d=["put","add","delete","clear"],G=new Map;function o(b,n){if(!(b instanceof IDBDatabase)||n in b||"string"!==typeof n)return;if(G.get(n))return G.get(n);const i=n.replace(/FromIndex$/,""),e=n!==i,V=d.includes(i);if(!(i in(e?IDBIndex:IDBObjectStore).prototype)||!V&&!u.includes(i))return;const Q=async function(b){const n=this.transaction(b,V?"readwrite":"readonly");let Q=n.store;for(var U=arguments.length,Y=new Array(U>1?U-1:0),L=1;L<U;L++)Y[L-1]=arguments[L];return e&&(Q=Q.index(Y.shift())),(await Promise.all([Q[i](...Y),V&&n.done]))[0]};return G.set(n,Q),Q}T=(b=>({...b,get:(n,i,e)=>o(n,i)||b.get(n,i,e),has:(n,i)=>!!o(n,i)||b.has(n,i)}))(T);class M{constructor(b){this.container=b}getPlatformInfoString(){return this.container.getProviders().map((b=>{if(function(b){const n=b.getComponent();return"VERSION"===(null===n||void 0===n?void 0:n.type)}(b)){const n=b.getImmediate();return`${n.library}/${n.version}`}return null})).filter((b=>b)).join(" ")}}const j="@firebase/app",a="0.9.13",D=new V.g("@firebase/app"),x="@firebase/app-compat",y="@firebase/analytics-compat",s="@firebase/analytics",A="@firebase/app-check-compat",E="@firebase/app-check",C="@firebase/auth",t="@firebase/auth-compat",w="@firebase/database",h="@firebase/database-compat",W="@firebase/functions",J="@firebase/functions-compat",R="@firebase/installations",k="@firebase/installations-compat",r="@firebase/messaging",X="@firebase/messaging-compat",g="@firebase/performance",P="@firebase/performance-compat",c="@firebase/remote-config",q="@firebase/remote-config-compat",S="@firebase/storage",H="@firebase/storage-compat",l="@firebase/firestore",v="@firebase/firestore-compat",p="firebase",f="[DEFAULT]",F={[j]:"fire-core",[x]:"fire-core-compat",[s]:"fire-analytics",[y]:"fire-analytics-compat",[E]:"fire-app-check",[A]:"fire-app-check-compat",[C]:"fire-auth",[t]:"fire-auth-compat",[w]:"fire-rtdb",[h]:"fire-rtdb-compat",[W]:"fire-fn",[J]:"fire-fn-compat",[R]:"fire-iid",[k]:"fire-iid-compat",[r]:"fire-fcm",[X]:"fire-fcm-compat",[g]:"fire-perf",[P]:"fire-perf-compat",[c]:"fire-rc",[q]:"fire-rc-compat",[S]:"fire-gcs",[H]:"fire-gcs-compat",[l]:"fire-fst",[v]:"fire-fst-compat","fire-js":"fire-js",[p]:"fire-js-all"},bb=new Map,nb=new Map;function ib(b,n){try{b.container.AL(n)}catch(i){D.debug(`Component ${n.name} failed to register with FirebaseApp ${b.name}`,i)}}function eb(b,n){b.container.addOrOverwriteComponent(n)}function Vb(b){const n=b.name;if(nb.has(n))return D.debug(`There were multiple attempts to register component ${n}.`),!1;nb.set(n,b);for(const i of bb.values())ib(i,b);return!0}function Qb(b,n){const i=b.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),b.container.getProvider(n)}function Ub(b,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;Qb(b,n).clearInstance(i)}function Yb(){nb.clear()}const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bb=new Q.g("app","Firebase",Lb);class mn{constructor(b,n,i){this._isDeleted=!1,this._options=Object.assign({},b),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.AL(new e.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(b){this.checkDestroyed(),this._automaticDataCollectionEnabled=b}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(b){this._isDeleted=b}checkDestroyed(){if(this.isDeleted)throw Bb.create("app-deleted",{appName:this._name})}}const Nb="9.23.0";function Zb(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=b;if("object"!==typeof n){n={name:n}}const V=Object.assign({name:f,automaticDataCollectionEnabled:!1},n),U=V.name;if("string"!==typeof U||!U)throw Bb.create("bad-app-name",{appName:String(U)});if(i||(i=(0,Q.I)()),!i)throw Bb.create("no-options");const Y=bb.get(U);if(Y){if((0,Q.B)(i,Y.options)&&(0,Q.B)(V,Y.config))return Y;throw Bb.create("duplicate-app",{appName:U})}const L=new e.b(U);for(const e of nb.values())L.AL(e);const B=new mn(i,V,L);return bb.set(U,B),B}function Tb(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const n=bb.get(b);if(!n&&b===f&&(0,Q.I)())return Zb();if(!n)throw Bb.create("no-app",{appName:b});return n}function zb(){return Array.from(bb.values())}async function Kb(b){const n=b.name;bb.has(n)&&(bb.delete(n),await Promise.all(b.container.getProviders().map((b=>b.delete()))),b.isDeleted=!0)}function Ib(b,n,i){var V;let Q=null!==(V=F[b])&&void 0!==V?V:b;i&&(Q+=`-${i}`);const U=Q.match(/\s|\//),Y=n.match(/\s|\//);if(U||Y){const b=[`Unable to register library "${Q}" with version "${n}":`];return U&&b.push(`library name "${Q}" contains illegal characters (whitespace or "/")`),U&&Y&&b.push("and"),Y&&b.push(`version name "${n}" contains illegal characters (whitespace or "/")`),void D.warn(b.join(" "))}Vb(new e.d(`${Q}-version`,(()=>({library:Q,version:n})),"VERSION"))}function Ob(b,n){if(null!==b&&"function"!==typeof b)throw Bb.create("invalid-log-argument");(0,V.m)(b,n)}function ub(b){(0,V.i)(b)}const db="firebase-heartbeat-store";let Gb=null;function ob(){return Gb||(Gb=function(b,n){let{blocked:i,upgrade:e,blocking:V,terminated:Q}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const U=indexedDB.open(b,n),Y=I(U);return e&&U.addEventListener("upgradeneeded",(b=>{e(I(U.result),b.oldVersion,b.newVersion,I(U.transaction),b)})),i&&U.addEventListener("blocked",(b=>i(b.oldVersion,b.newVersion,b))),Y.then((b=>{Q&&b.addEventListener("close",(()=>Q())),V&&b.addEventListener("versionchange",(b=>V(b.oldVersion,b.newVersion,b)))})).catch((()=>{})),Y}("firebase-heartbeat-database",1,{upgrade:(b,n)=>{if(0===n)b.createObjectStore(db)}}).catch((b=>{throw Bb.create("idb-open",{originalErrorMessage:b.message})}))),Gb}async function Mb(b,n){try{const i=(await ob()).transaction(db,"readwrite"),e=i.objectStore(db);await e.put(n,jb(b)),await i.done}catch(i){if(i instanceof Q.i)D.warn(i.message);else{const b=Bb.create("idb-set",{originalErrorMessage:null===i||void 0===i?void 0:i.message});D.warn(b.message)}}}function jb(b){return`${b.name}!${b.options.appId}`}class ab{constructor(b){this.container=b,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this.YN=new xb(n),this._heartbeatsCachePromise=this.YN.read().then((b=>(this._heartbeatsCache=b,b)))}async triggerHeartbeat(){const b=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Db();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((b=>b.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:b}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((b=>{const n=new Date(b.date).valueOf();return Date.now()-n<=2592e6})),this.YN.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const b=Db(),{heartbeatsToSend:n,unsentEntries:i}=function(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const i=[];let e=b.slice();for(const V of b){const b=i.find((b=>b.agent===V.agent));if(b){if(b.dates.push(V.date),yb(i)>n){b.dates.pop();break}}else if(i.push({agent:V.agent,dates:[V.date]}),yb(i)>n){i.pop();break}e=e.slice(1)}return{heartbeatsToSend:i,unsentEntries:e}}(this._heartbeatsCache.heartbeats),e=(0,Q.u)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=b,i.length>0?(this._heartbeatsCache.heartbeats=i,await this.YN.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.YN.overwrite(this._heartbeatsCache)),e}}function Db(){return(new Date).toISOString().substring(0,10)}class xb{constructor(b){this.app=b,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Q.ab)()&&(0,Q.ob)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(b){try{const n=await ob();return await n.transaction(db).objectStore(db).get(jb(b))}catch(n){if(n instanceof Q.i)D.warn(n.message);else{const b=Bb.create("idb-get",{originalErrorMessage:null===n||void 0===n?void 0:n.message});D.warn(b.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(b){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:null!==(n=b.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:b.heartbeats})}}async add(b){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Mb(this.app,{lastSentHeartbeatDate:null!==(n=b.lastSentHeartbeatDate)&&void 0!==n?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...b.heartbeats]})}}}function yb(b){return(0,Q.u)(JSON.stringify({version:2,heartbeats:b})).length}var sb;sb="",Vb(new e.d("platform-logger",(b=>new M(b)),"PRIVATE")),Vb(new e.d("heartbeat",(b=>new ab(b)),"PRIVATE")),Ib(j,a,sb),Ib(j,a,"esm2017"),Ib("fire-js","")},11579:(b,n,i)=>{i.d(n,{b:()=>Y,d:()=>V});var e=i(11587);class V{constructor(b,n,i){this.name=b,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(b){return this.instantiationMode=b,this}setMultipleInstances(b){return this.multipleInstances=b,this}setServiceProps(b){return this.serviceProps=b,this}setInstanceCreatedCallback(b){return this.onInstanceCreated=b,this}}const Q="[DEFAULT]";class U{constructor(b,n){this.name=b,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(b){const n=this.normalizeInstanceIdentifier(b);if(!this.instancesDeferred.has(n)){const b=new e.e;if(this.instancesDeferred.set(n,b),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&b.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(b){var n;const i=this.normalizeInstanceIdentifier(null===b||void 0===b?void 0:b.identifier),e=null!==(n=null===b||void 0===b?void 0:b.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(V){if(e)return null;throw V}}getComponent(){return this.component}setComponent(b){if(b.name!==this.name)throw Error(`Mismatching Component ${b.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=b,this.shouldAutoInitialize()){if(function(b){return"EAGER"===b.instantiationMode}(b))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(n){}for(const[b,i]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(b);try{const b=this.getOrInitializeService({instanceIdentifier:e});i.resolve(b)}catch(n){}}}}clearInstance(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;this.instancesDeferred.delete(b),this.instancesOptions.delete(b),this.instances.delete(b)}async delete(){const b=Array.from(this.instances.values());await Promise.all([...b.filter((b=>"INTERNAL"in b)).map((b=>b.INTERNAL.delete())),...b.filter((b=>"_delete"in b)).map((b=>b._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instances.has(b)}getOptions(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.instancesOptions.get(b)||{}}initialize(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:n={}}=b,i=this.normalizeInstanceIdentifier(b.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const e=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[V,Q]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(V)&&Q.resolve(e)}return e}Rm(b,n){var i;const e=this.normalizeInstanceIdentifier(n),V=null!==(i=this.onInitCallbacks.get(e))&&void 0!==i?i:new Set;V.add(b),this.onInitCallbacks.set(e,V);const Q=this.instances.get(e);return Q&&b(Q,e),()=>{V.delete(b)}}invokeOnInitCallbacks(b,n){const i=this.onInitCallbacks.get(n);if(i)for(const V of i)try{V(b,n)}catch(e){}}getOrInitializeService(b){let{instanceIdentifier:n,options:i={}}=b,e=this.instances.get(n);if(!e&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(V=n,V===Q?void 0:V),options:i}),this.instances.set(n,e),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(e,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,e)}catch(U){}var V;return e||null}normalizeInstanceIdentifier(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;return this.component?this.component.multipleInstances?b:Q:b}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(b){this.name=b,this.providers=new Map}AL(b){const n=this.getProvider(b.name);if(n.isComponentSet())throw new Error(`Component ${b.name} has already been registered with ${this.name}`);n.setComponent(b)}addOrOverwriteComponent(b){this.getProvider(b.name).isComponentSet()&&this.providers.delete(b.name),this.AL(b)}getProvider(b){if(this.providers.has(b))return this.providers.get(b);const n=new U(b,this);return this.providers.set(b,n),n}getProviders(){return Array.from(this.providers.values())}}},11590:(b,n,i)=>{i.d(n,{c:()=>V,g:()=>B,i:()=>mb,m:()=>N});const e=[];var V;!function(b){b[b.DEBUG=0]="DEBUG",b[b.VERBOSE=1]="VERBOSE",b[b.INFO=2]="INFO",b[b.WARN=3]="WARN",b[b.ERROR=4]="ERROR",b[b.SILENT=5]="SILENT"}(V||(V={}));const Q={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},U=V.INFO,Y={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},L=function(b,n){if(n<b.logLevel)return;const i=(new Date).toISOString(),e=Y[n];if(!e)throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`);for(var V=arguments.length,Q=new Array(V>2?V-2:0),U=2;U<V;U++)Q[U-2]=arguments[U];console[e](`[${i}]  ${b.name}:`,...Q)};class B{constructor(b){this.name=b,this._logLevel=U,this._logHandler=L,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(b){if(!(b in V))throw new TypeError(`Invalid value "${b}" assigned to \`logLevel\``);this._logLevel=b}setLogLevel(b){this._logLevel="string"===typeof b?Q[b]:b}get logHandler(){return this._logHandler}set logHandler(b){if("function"!==typeof b)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=b}get userLogHandler(){return this._userLogHandler}set userLogHandler(b){this._userLogHandler=b}debug(){for(var b=arguments.length,n=new Array(b),i=0;i<b;i++)n[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...n),this._logHandler(this,V.DEBUG,...n)}log(){for(var b=arguments.length,n=new Array(b),i=0;i<b;i++)n[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...n),this._logHandler(this,V.VERBOSE,...n)}info(){for(var b=arguments.length,n=new Array(b),i=0;i<b;i++)n[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,V.INFO,...n),this._logHandler(this,V.INFO,...n)}warn(){for(var b=arguments.length,n=new Array(b),i=0;i<b;i++)n[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,V.WARN,...n),this._logHandler(this,V.WARN,...n)}error(){for(var b=arguments.length,n=new Array(b),i=0;i<b;i++)n[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...n),this._logHandler(this,V.ERROR,...n)}}function mb(b){e.forEach((n=>{n.setLogLevel(b)}))}function N(b,n){for(const i of e){let e=null;n&&n.level&&(e=Q[n.level]),i.userLogHandler=null===b?null:function(n,i){for(var Q=arguments.length,U=new Array(Q>2?Q-2:0),Y=2;Y<Q;Y++)U[Y-2]=arguments[Y];const L=U.map((b=>{if(null==b)return null;if("string"===typeof b)return b;if("number"===typeof b||"boolean"===typeof b)return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch(n){return null}})).filter((b=>b)).join(" ");i>=(null!==e&&void 0!==e?e:n.logLevel)&&b({level:V[i].toLowerCase(),message:L,args:U,type:n.name})}}}}}]);