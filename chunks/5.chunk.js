/*! For license information please see 4mz9cd.5.50a486b7.chunk.js.LICENSE.txt */
"use strict";(self.n4ygn1cq9vg=self.n4ygn1cq9vg||[]).push([[5],{12216:(e,d,v)=>{v.d(d,{C:()=>Y,D:()=>w,H:()=>U,L:()=>i,O:()=>C,P:()=>q,S:()=>G,U:()=>D,X:()=>f,Z:()=>Z,bb:()=>h,c:()=>F,e:()=>A,f:()=>n,i:()=>l,k:()=>X,n:()=>B,p:()=>R,s:()=>S,u:()=>me,v:()=>T,w:()=>k,y:()=>V,z:()=>g});const P=function(e){const d=[];let v=0;for(let P=0;P<e.length;P++){let p=e.charCodeAt(P);p<128?d[v++]=p:p<2048?(d[v++]=p>>6|192,d[v++]=63&p|128):55296===(64512&p)&&P+1<e.length&&56320===(64512&e.charCodeAt(P+1))?(p=65536+((1023&p)<<10)+(1023&e.charCodeAt(++P)),d[v++]=p>>18|240,d[v++]=p>>12&63|128,d[v++]=p>>6&63|128,d[v++]=63&p|128):(d[v++]=p>>12|224,d[v++]=p>>6&63|128,d[v++]=63&p|128)}return d},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,d){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const v=d?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let p=0;p<e.length;p+=3){const d=e[p],L=p+1<e.length,B=L?e[p+1]:0,X=p+2<e.length,z=X?e[p+2]:0,W=d>>2,V=(3&d)<<4|B>>4;let k=(15&B)<<2|z>>6,g=63&z;X||(g=64,L||(k=64)),P.push(v[W],v[V],v[k],v[g])}return P.join("")},encodeString(e,d){return this.HAS_NATIVE_SUPPORT&&!d?btoa(e):this.encodeByteArray(P(e),d)},decodeString(e,d){return this.HAS_NATIVE_SUPPORT&&!d?atob(e):function(e){const d=[];let v=0,P=0;for(;v<e.length;){const p=e[v++];if(p<128)d[P++]=String.fromCharCode(p);else if(p>191&&p<224){const L=e[v++];d[P++]=String.fromCharCode((31&p)<<6|63&L)}else if(p>239&&p<365){const L=((7&p)<<18|(63&e[v++])<<12|(63&e[v++])<<6|63&e[v++])-65536;d[P++]=String.fromCharCode(55296+(L>>10)),d[P++]=String.fromCharCode(56320+(1023&L))}else{const L=e[v++],B=e[v++];d[P++]=String.fromCharCode((15&p)<<12|(63&L)<<6|63&B)}}return d.join("")}(this.decodeStringToByteArray(e,d))},decodeStringToByteArray(e,d){this.init_();const v=d?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let p=0;p<e.length;){const d=v[e.charAt(p++)],B=p<e.length?v[e.charAt(p)]:0;++p;const X=p<e.length?v[e.charAt(p)]:64;++p;const z=p<e.length?v[e.charAt(p)]:64;if(++p,null==d||null==B||null==X||null==z)throw new L;const W=d<<2|B>>4;if(P.push(W),64!==X){const e=B<<4&240|X>>2;if(P.push(e),64!==z){const e=X<<6&192|z;P.push(e)}}}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B=function(e){return function(e){const d=P(e);return p.encodeByteArray(d,!0)}(e).replace(/\./g,"")},X=function(e){try{return p.decodeString(e,!0)}catch(d){console.error("base64Decode failed: ",d)}return null};const z=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof v.g)return v.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,W=()=>{try{return z()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(v){return}const d=e&&X(e[1]);return d&&JSON.parse(d)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},V=e=>{var d,v;return null===(v=null===(d=W())||void 0===d?void 0:d.emulatorHosts)||void 0===v?void 0:v[e]},k=()=>{var e;return null===(e=W())||void 0===e?void 0:e.config},g=e=>{var d;return null===(d=W())||void 0===d?void 0:d[`_${e}`]};class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,d)=>{this.resolve=e,this.reject=d}))}wrapCallback(e){return(d,v)=>{d?this.reject(d):this.resolve(v),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(d):e(d,v))}}}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function G(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function U(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(e){return!1}}function h(){return new Promise(((e,d)=>{try{let v=!0;const P="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(P);p.onsuccess=()=>{p.result.close(),v||self.indexedDB.deleteDatabase(P),e(!0)},p.onupgradeneeded=()=>{v=!1},p.onerror=()=>{var e;d((null===(e=p.error)||void 0===e?void 0:e.message)||"")}}catch(v){d(v)}}))}function l(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class n extends Error{constructor(e,d,v){super(d),this.code=e,this.customData=v,this.name="FirebaseError",Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,d,v){this.service=e,this.serviceName=d,this.errors=v}create(e){const d=(arguments.length<=1?void 0:arguments[1])||{},v=`${this.service}/${e}`,P=this.errors[e],p=P?function(e,d){return e.replace(x,((e,v)=>{const P=d[v];return null!=P?String(P):`<${v}?>`}))}(P,d):"Error",L=`${this.serviceName}: ${p} (${v}).`;return new n(v,L,d)}}const x=/\{\$([^}]+)}/g;function i(e){for(const d in e)if(Object.prototype.hasOwnProperty.call(e,d))return!1;return!0}function me(e,d){if(e===d)return!0;const v=Object.keys(e),P=Object.keys(d);for(const p of v){if(!P.includes(p))return!1;const v=e[p],L=d[p];if(r(v)&&r(L)){if(!me(v,L))return!1}else if(v!==L)return!1}for(const p of P)if(!v.includes(p))return!1;return!0}function r(e){return null!==e&&"object"===typeof e}function Z(e){const d=[];for(const[v,P]of Object.entries(e))Array.isArray(P)?P.forEach((e=>{d.push(encodeURIComponent(v)+"="+encodeURIComponent(e))})):d.push(encodeURIComponent(v)+"="+encodeURIComponent(P));return d.length?"&"+d.join("&"):""}function f(e){const d={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[v,P]=e.split("=");d[decodeURIComponent(v)]=decodeURIComponent(P)}})),d}function T(e){const d=e.indexOf("?");if(!d)return"";const v=e.indexOf("#",d);return e.substring(d,v>0?v:void 0)}function S(e,d){const v=new o(e,d);return v.subscribe.bind(v)}class o{constructor(e,d){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=d,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((d=>{d.next(e)}))}error(e){this.forEachObserver((d=>{d.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,d,v){let P;if(void 0===e&&void 0===d&&void 0===v)throw new Error("Missing Observer.");P=function(e,d){if("object"!==typeof e||null===e)return!1;for(const v of d)if(v in e&&"function"===typeof e[v])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:d,complete:v},void 0===P.next&&(P.next=K),void 0===P.error&&(P.error=K),void 0===P.complete&&(P.complete=K);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(e){}})),this.observers.push(P),p}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let d=0;d<this.observers.length;d++)this.sendOne(d,e)}sendOne(e,d){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{d(this.observers[e])}catch(v){"undefined"!==typeof console&&console.error&&console.error(v)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function K(){}const Q=1e3,N=2,u=144e5,O=.5;function R(e){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;const v=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q)*Math.pow(d,e),P=Math.round(O*v*(Math.random()-.5)*2);return Math.min(u,v+P)}function Y(e){return e&&e._delegate?e._delegate:e}},12204:(e,d,v)=>{v.d(d,{c:()=>L.f,f:()=>ke,j:()=>J,n:()=>ve,r:()=>Pe,s:()=>ee,v:()=>Xe,x:()=>de,z:()=>Le,B:()=>pe,D:()=>Be,F:()=>Ge,I:()=>Fe,G:()=>we,K:()=>ge,O:()=>De,R:()=>Ue,V:()=>Ce});var P=v(12211),p=v(12225),L=v(12216);let B,X;const z=new WeakMap,W=new WeakMap,V=new WeakMap,k=new WeakMap,g=new WeakMap;let F={get(e,d,v){if(e instanceof IDBTransaction){if("done"===d)return W.get(e);if("objectStoreNames"===d)return e.objectStoreNames||V.get(e);if("store"===d)return v.objectStoreNames[1]?void 0:v.objectStore(v.objectStoreNames[0])}return U(e[d])},set:(e,d,v)=>(e[d]=v,!0),has:(e,d)=>e instanceof IDBTransaction&&("done"===d||"store"===d)||d in e};function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var d=arguments.length,v=new Array(d),P=0;P<d;P++)v[P]=arguments[P];return e.apply(D(this),v),U(z.get(this))}:function(){for(var d=arguments.length,v=new Array(d),P=0;P<d;P++)v[P]=arguments[P];return U(e.apply(D(this),v))}:function(d){for(var v=arguments.length,P=new Array(v>1?v-1:0),p=1;p<v;p++)P[p-1]=arguments[p];const L=e.call(D(this),d,...P);return V.set(L,d.sort?d.sort():[d]),U(L)}}function G(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&function(e){if(W.has(e))return;const d=new Promise(((d,v)=>{const P=()=>{e.removeEventListener("complete",p),e.removeEventListener("error",L),e.removeEventListener("abort",L)},p=()=>{d(),P()},L=()=>{v(e.error||new DOMException("AbortError","AbortError")),P()};e.addEventListener("complete",p),e.addEventListener("error",L),e.addEventListener("abort",L)}));W.set(e,d)}(e),d=e,(B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>d instanceof e))?new Proxy(e,F):e);var d}function U(e){if(e instanceof IDBRequest)return function(e){const d=new Promise(((d,v)=>{const P=()=>{e.removeEventListener("success",p),e.removeEventListener("error",L)},p=()=>{d(U(e.result)),P()},L=()=>{v(e.error),P()};e.addEventListener("success",p),e.addEventListener("error",L)}));return d.then((d=>{d instanceof IDBCursor&&z.set(d,e)})).catch((()=>{})),g.set(d,e),d}(e);if(k.has(e))return k.get(e);const d=G(e);return d!==e&&(k.set(e,d),g.set(d,e)),d}const D=e=>g.get(e);const C=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],h=new Map;function l(e,d){if(!(e instanceof IDBDatabase)||d in e||"string"!==typeof d)return;if(h.get(d))return h.get(d);const v=d.replace(/FromIndex$/,""),P=d!==v,p=q.includes(v);if(!(v in(P?IDBIndex:IDBObjectStore).prototype)||!p&&!C.includes(v))return;const L=async function(e){const d=this.transaction(e,p?"readwrite":"readonly");let L=d.store;for(var B=arguments.length,X=new Array(B>1?B-1:0),z=1;z<B;z++)X[z-1]=arguments[z];return P&&(L=L.index(X.shift())),(await Promise.all([L[v](...X),p&&d.done]))[0]};return h.set(d,L),L}F=(e=>({...e,get:(d,v,P)=>l(d,v)||e.get(d,v,P),has:(d,v)=>!!l(d,v)||e.has(d,v)}))(F);class n{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const d=e.getComponent();return"VERSION"===(null===d||void 0===d?void 0:d.type)}(e)){const d=e.getImmediate();return`${d.library}/${d.version}`}return null})).filter((e=>e)).join(" ")}}const A="@firebase/app",x="0.9.13",i=new p.i("@firebase/app"),me="@firebase/app-compat",r="@firebase/analytics-compat",Z="@firebase/analytics",f="@firebase/app-check-compat",T="@firebase/app-check",S="@firebase/auth",o="@firebase/auth-compat",K="@firebase/database",Q="@firebase/database-compat",N="@firebase/functions",u="@firebase/functions-compat",O="@firebase/installations",R="@firebase/installations-compat",Y="@firebase/messaging",H="@firebase/messaging-compat",a="@firebase/performance",t="@firebase/performance-compat",I="@firebase/remote-config",c="@firebase/remote-config-compat",b="@firebase/storage",M="@firebase/storage-compat",s="@firebase/firestore",y="@firebase/firestore-compat",j="firebase",J="[DEFAULT]",E={[A]:"fire-core",[me]:"fire-core-compat",[Z]:"fire-analytics",[r]:"fire-analytics-compat",[T]:"fire-app-check",[f]:"fire-app-check-compat",[S]:"fire-auth",[o]:"fire-auth-compat",[K]:"fire-rtdb",[Q]:"fire-rtdb-compat",[N]:"fire-fn",[u]:"fire-fn-compat",[O]:"fire-iid",[R]:"fire-iid-compat",[Y]:"fire-fcm",[H]:"fire-fcm-compat",[a]:"fire-perf",[t]:"fire-perf-compat",[I]:"fire-rc",[c]:"fire-rc-compat",[b]:"fire-gcs",[M]:"fire-gcs-compat",[s]:"fire-fst",[y]:"fire-fst-compat","fire-js":"fire-js",[j]:"fire-js-all"},ee=new Map,de=new Map;function ve(e,d){try{e.container.Kz(d)}catch(v){i.debug(`Component ${d.name} failed to register with FirebaseApp ${e.name}`,v)}}function Pe(e,d){e.container.addOrOverwriteComponent(d)}function pe(e){const d=e.name;if(de.has(d))return i.debug(`There were multiple attempts to register component ${d}.`),!1;de.set(d,e);for(const v of ee.values())ve(v,e);return!0}function Le(e,d){const v=e.container.getProvider("heartbeat").getImmediate({optional:!0});return v&&v.triggerHeartbeat(),e.container.getProvider(d)}function Be(e,d){let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;Le(e,d).clearInstance(v)}function Xe(){de.clear()}const ze={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},We=new L.e("app","Firebase",ze);class Ve{constructor(e,d,v){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=v,this.container.Kz(new P.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw We.create("app-deleted",{appName:this._name})}}const ke="9.23.0";function ge(e){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=e;if("object"!==typeof d){d={name:d}}const p=Object.assign({name:J,automaticDataCollectionEnabled:!1},d),B=p.name;if("string"!==typeof B||!B)throw We.create("bad-app-name",{appName:String(B)});if(v||(v=(0,L.w)()),!v)throw We.create("no-options");const X=ee.get(B);if(X){if((0,L.u)(v,X.options)&&(0,L.u)(p,X.config))return X;throw We.create("duplicate-app",{appName:B})}const z=new P.b(B);for(const P of de.values())z.Kz(P);const W=new Ve(v,p,z);return ee.set(B,W),W}function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const d=ee.get(e);if(!d&&e===J&&(0,L.w)())return ge();if(!d)throw We.create("no-app",{appName:e});return d}function we(){return Array.from(ee.values())}async function Ge(e){const d=e.name;ee.has(d)&&(ee.delete(d),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ue(e,d,v){var p;let L=null!==(p=E[e])&&void 0!==p?p:e;v&&(L+=`-${v}`);const B=L.match(/\s|\//),X=d.match(/\s|\//);if(B||X){const e=[`Unable to register library "${L}" with version "${d}":`];return B&&e.push(`library name "${L}" contains illegal characters (whitespace or "/")`),B&&X&&e.push("and"),X&&e.push(`version name "${d}" contains illegal characters (whitespace or "/")`),void i.warn(e.join(" "))}pe(new P.e(`${L}-version`,(()=>({library:L,version:d})),"VERSION"))}function De(e,d){if(null!==e&&"function"!==typeof e)throw We.create("invalid-log-argument");(0,p.q)(e,d)}function Ce(e){(0,p.m)(e)}const qe="firebase-heartbeat-store";let he=null;function le(){return he||(he=function(e,d){let{blocked:v,upgrade:P,blocking:p,terminated:L}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const B=indexedDB.open(e,d),X=U(B);return P&&B.addEventListener("upgradeneeded",(e=>{P(U(B.result),e.oldVersion,e.newVersion,U(B.transaction),e)})),v&&B.addEventListener("blocked",(e=>v(e.oldVersion,e.newVersion,e))),X.then((e=>{L&&e.addEventListener("close",(()=>L())),p&&e.addEventListener("versionchange",(e=>p(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(e,d)=>{if(0===d)e.createObjectStore(qe)}}).catch((e=>{throw We.create("idb-open",{originalErrorMessage:e.message})}))),he}async function ne(e,d){try{const v=(await le()).transaction(qe,"readwrite"),P=v.objectStore(qe);await P.put(d,Ae(e)),await v.done}catch(v){if(v instanceof L.f)i.warn(v.message);else{const e=We.create("idb-set",{originalErrorMessage:null===v||void 0===v?void 0:v.message});i.warn(e.message)}}}function Ae(e){return`${e.name}!${e.options.appId}`}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this.Vk=new md(d),this._heartbeatsCachePromise=this.Vk.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=ie();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==d&&!this._heartbeatsCache.heartbeats.some((e=>e.date===d)))return this._heartbeatsCache.heartbeats.push({date:d,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const d=new Date(e.date).valueOf();return Date.now()-d<=2592e6})),this.Vk.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ie(),{heartbeatsToSend:d,unsentEntries:v}=function(e){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const v=[];let P=e.slice();for(const p of e){const e=v.find((e=>e.agent===p.agent));if(e){if(e.dates.push(p.date),re(v)>d){e.dates.pop();break}}else if(v.push({agent:p.agent,dates:[p.date]}),re(v)>d){v.pop();break}P=P.slice(1)}return{heartbeatsToSend:v,unsentEntries:P}}(this._heartbeatsCache.heartbeats),P=(0,L.n)(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=e,v.length>0?(this._heartbeatsCache.heartbeats=v,await this.Vk.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Vk.overwrite(this._heartbeatsCache)),P}}function ie(){return(new Date).toISOString().substring(0,10)}class md{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,L.P)()&&(0,L.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const d=await le();return await d.transaction(qe).objectStore(qe).get(Ae(e))}catch(d){if(d instanceof L.f)i.warn(d.message);else{const e=We.create("idb-get",{originalErrorMessage:null===d||void 0===d?void 0:d.message});i.warn(e.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var d;if(await this._canUseIndexedDBPromise){const v=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(d=e.lastSentHeartbeatDate)&&void 0!==d?d:v.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var d;if(await this._canUseIndexedDBPromise){const v=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(d=e.lastSentHeartbeatDate)&&void 0!==d?d:v.lastSentHeartbeatDate,heartbeats:[...v.heartbeats,...e.heartbeats]})}}}function re(e){return(0,L.n)(JSON.stringify({version:2,heartbeats:e})).length}var Ze;Ze="",pe(new P.e("platform-logger",(e=>new n(e)),"PRIVATE")),pe(new P.e("heartbeat",(e=>new xe(e)),"PRIVATE")),Ue(A,x,Ze),Ue(A,x,"esm2017"),Ue("fire-js","")},12211:(e,d,v)=>{v.d(d,{b:()=>X,e:()=>p});var P=v(12216);class p{constructor(e,d,v){this.name=e,this.instanceFactory=d,this.type=v,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const L="[DEFAULT]";class B{constructor(e,d){this.name=e,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const d=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(d)){const e=new P.c;if(this.instancesDeferred.set(d,e),this.isInitialized(d)||this.shouldAutoInitialize())try{const v=this.getOrInitializeService({instanceIdentifier:d});v&&e.resolve(v)}catch(v){}}return this.instancesDeferred.get(d).promise}getImmediate(e){var d;const v=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),P=null!==(d=null===e||void 0===e?void 0:e.optional)&&void 0!==d&&d;if(!this.isInitialized(v)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:v})}catch(p){if(P)return null;throw p}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:L})}catch(d){}for(const[e,v]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:P});v.resolve(e)}catch(d){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:d={}}=e,v=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(v))throw Error(`${this.name}(${v}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:v,options:d});for(const[p,L]of this.instancesDeferred.entries()){v===this.normalizeInstanceIdentifier(p)&&L.resolve(P)}return P}aV(e,d){var v;const P=this.normalizeInstanceIdentifier(d),p=null!==(v=this.onInitCallbacks.get(P))&&void 0!==v?v:new Set;p.add(e),this.onInitCallbacks.set(P,p);const L=this.instances.get(P);return L&&e(L,P),()=>{p.delete(e)}}invokeOnInitCallbacks(e,d){const v=this.onInitCallbacks.get(d);if(v)for(const p of v)try{p(e,d)}catch(P){}}getOrInitializeService(e){let{instanceIdentifier:d,options:v={}}=e,P=this.instances.get(d);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:(p=d,p===L?void 0:p),options:v}),this.instances.set(d,P),this.instancesOptions.set(d,v),this.invokeOnInitCallbacks(P,d),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,d,P)}catch(B){}var p;return P||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.component?this.component.multipleInstances?e:L:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(e){this.name=e,this.providers=new Map}Kz(e){const d=this.getProvider(e.name);if(d.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);d.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.Kz(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const d=new B(e,this);return this.providers.set(e,d),d}getProviders(){return Array.from(this.providers.values())}}},12225:(e,d,v)=>{v.d(d,{e:()=>p,i:()=>W,m:()=>V,q:()=>k});const P=[];var p;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(p||(p={}));const L={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},B=p.INFO,X={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},z=function(e,d){if(d<e.logLevel)return;const v=(new Date).toISOString(),P=X[d];if(!P)throw new Error(`Attempted to log a message with an invalid logType (value: ${d})`);for(var p=arguments.length,L=new Array(p>2?p-2:0),B=2;B<p;B++)L[B-2]=arguments[B];console[P](`[${v}]  ${e.name}:`,...L)};class W{constructor(e){this.name=e,this._logLevel=B,this._logHandler=z,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in p))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,d=new Array(e),v=0;v<e;v++)d[v]=arguments[v];this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...d),this._logHandler(this,p.DEBUG,...d)}log(){for(var e=arguments.length,d=new Array(e),v=0;v<e;v++)d[v]=arguments[v];this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...d),this._logHandler(this,p.VERBOSE,...d)}info(){for(var e=arguments.length,d=new Array(e),v=0;v<e;v++)d[v]=arguments[v];this._userLogHandler&&this._userLogHandler(this,p.INFO,...d),this._logHandler(this,p.INFO,...d)}warn(){for(var e=arguments.length,d=new Array(e),v=0;v<e;v++)d[v]=arguments[v];this._userLogHandler&&this._userLogHandler(this,p.WARN,...d),this._logHandler(this,p.WARN,...d)}error(){for(var e=arguments.length,d=new Array(e),v=0;v<e;v++)d[v]=arguments[v];this._userLogHandler&&this._userLogHandler(this,p.ERROR,...d),this._logHandler(this,p.ERROR,...d)}}function V(e){P.forEach((d=>{d.setLogLevel(e)}))}function k(e,d){for(const v of P){let P=null;d&&d.level&&(P=L[d.level]),v.userLogHandler=null===e?null:function(d,v){for(var L=arguments.length,B=new Array(L>2?L-2:0),X=2;X<L;X++)B[X-2]=arguments[X];const z=B.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(d){return null}})).filter((e=>e)).join(" ");v>=(null!==P&&void 0!==P?P:d.logLevel)&&e({level:p[v].toLowerCase(),message:z,args:B,type:d.name})}}}}}]);