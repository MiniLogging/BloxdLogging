/*! For license information please see 05x8s.5.354812c2.chunk.js.LICENSE.txt */
"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[5],{12268:(u,R,I)=>{I.d(R,{$:()=>Q,B:()=>G,C:()=>b,F:()=>W,G:()=>P,I:()=>E,K:()=>M,N:()=>f,Q:()=>T,S:()=>X,U:()=>z,X:()=>x,Z:()=>h,d:()=>r,f:()=>e,i:()=>q,l:()=>V,n:()=>D,q:()=>C,s:()=>i,u:()=>v,v:()=>o,w:()=>g,x:()=>S});const B=function(u){const R=[];let I=0;for(let B=0;B<u.length;B++){let U=u.charCodeAt(B);U<128?R[I++]=U:U<2048?(R[I++]=U>>6|192,R[I++]=63&U|128):55296===(64512&U)&&B+1<u.length&&56320===(64512&u.charCodeAt(B+1))?(U=65536+((1023&U)<<10)+(1023&u.charCodeAt(++B)),R[I++]=U>>18|240,R[I++]=U>>12&63|128,R[I++]=U>>6&63|128,R[I++]=63&U|128):(R[I++]=U>>12|224,R[I++]=U>>6&63|128,R[I++]=63&U|128)}return R},U={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(u,R){if(!Array.isArray(u))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let U=0;U<u.length;U+=3){const R=u[U],K=U+1<u.length,C=K?u[U+1]:0,D=U+2<u.length,s=D?u[U+2]:0,t=R>>2,G=(3&R)<<4|C>>4;let S=(15&C)<<2|s>>6,b=63&s;D||(b=64,K||(S=64)),B.push(I[t],I[G],I[S],I[b])}return B.join("")},encodeString(u,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(u):this.encodeByteArray(B(u),R)},decodeString(u,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(u):function(u){const R=[];let I=0,B=0;for(;I<u.length;){const U=u[I++];if(U<128)R[B++]=String.fromCharCode(U);else if(U>191&&U<224){const K=u[I++];R[B++]=String.fromCharCode((31&U)<<6|63&K)}else if(U>239&&U<365){const K=((7&U)<<18|(63&u[I++])<<12|(63&u[I++])<<6|63&u[I++])-65536;R[B++]=String.fromCharCode(55296+(K>>10)),R[B++]=String.fromCharCode(56320+(1023&K))}else{const K=u[I++],C=u[I++];R[B++]=String.fromCharCode((15&U)<<12|(63&K)<<6|63&C)}}return R.join("")}(this.decodeStringToByteArray(u,R))},decodeStringToByteArray(u,R){this.init_();const I=R?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let U=0;U<u.length;){const R=I[u.charAt(U++)],C=U<u.length?I[u.charAt(U)]:0;++U;const D=U<u.length?I[u.charAt(U)]:64;++U;const s=U<u.length?I[u.charAt(U)]:64;if(++U,null==R||null==C||null==D||null==s)throw new K;const t=R<<2|C>>4;if(B.push(t),64!==D){const u=C<<4&240|D>>2;if(B.push(u),64!==s){const u=D<<6&192|s;B.push(u)}}}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let u=0;u<this.ENCODED_VALS.length;u++)this.byteToCharMap_[u]=this.ENCODED_VALS.charAt(u),this.charToByteMap_[this.byteToCharMap_[u]]=u,this.byteToCharMapWebSafe_[u]=this.ENCODED_VALS_WEBSAFE.charAt(u),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[u]]=u,u>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(u)]=u,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(u)]=u)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C=function(u){return function(u){const R=B(u);return U.encodeByteArray(R,!0)}(u).replace(/\./g,"")},D=function(u){try{return U.decodeString(u,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};const s=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof I.g)return I.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,t=()=>{try{return s()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let u;try{u=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(I){return}const R=u&&D(u[1]);return R&&JSON.parse(R)})()}catch(u){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${u}`)}},G=u=>{var R,I;return null===(I=null===(R=t())||void 0===R?void 0:R.emulatorHosts)||void 0===I?void 0:I[u]},S=()=>{var u;return null===(u=t())||void 0===u?void 0:u.config},b=u=>{var R;return null===(R=t())||void 0===R?void 0:R[`_${u}`]};class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((u,R)=>{this.resolve=u,this.reject=R}))}wrapCallback(u){return(R,I)=>{R?this.reject(R):this.resolve(I),"function"===typeof u&&(this.promise.catch((()=>{})),1===u.length?u(R):u(R,I))}}}function P(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function X(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P())}function E(){const u="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof u&&void 0!==u.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){const u=P();return u.indexOf("MSIE ")>=0||u.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(u){return!1}}function Q(){return new Promise(((u,R)=>{try{let I=!0;const B="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(B);U.onsuccess=()=>{U.result.close(),I||self.indexedDB.deleteDatabase(B),u(!0)},U.onupgradeneeded=()=>{I=!1},U.onerror=()=>{var u;R((null===(u=U.error)||void 0===u?void 0:u.message)||"")}}catch(I){R(I)}}))}function V(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class q extends Error{constructor(u,R,I){super(R),this.code=u,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e.prototype.create)}}class e{constructor(u,R,I){this.service=u,this.serviceName=R,this.errors=I}create(u){const R=(arguments.length<=1?void 0:arguments[1])||{},I=`${this.service}/${u}`,B=this.errors[u],U=B?function(u,R){return u.replace(Y,((u,I)=>{const B=R[I];return null!=B?String(B):`<${I}?>`}))}(B,R):"Error",K=`${this.serviceName}: ${U} (${I}).`;return new q(I,K,R)}}const Y=/\{\$([^}]+)}/g;function M(u){for(const R in u)if(Object.prototype.hasOwnProperty.call(u,R))return!1;return!0}function o(u,R){if(u===R)return!0;const I=Object.keys(u),B=Object.keys(R);for(const U of I){if(!B.includes(U))return!1;const I=u[U],K=R[U];if(j(I)&&j(K)){if(!o(I,K))return!1}else if(I!==K)return!1}for(const U of B)if(!I.includes(U))return!1;return!0}function j(u){return null!==u&&"object"===typeof u}function h(u){const R=[];for(const[I,B]of Object.entries(u))Array.isArray(B)?B.forEach((u=>{R.push(encodeURIComponent(I)+"="+encodeURIComponent(u))})):R.push(encodeURIComponent(I)+"="+encodeURIComponent(B));return R.length?"&"+R.join("&"):""}function x(u){const R={};return u.replace(/^\?/,"").split("&").forEach((u=>{if(u){const[I,B]=u.split("=");R[decodeURIComponent(I)]=decodeURIComponent(B)}})),R}function g(u){const R=u.indexOf("?");if(!R)return"";const I=u.indexOf("#",R);return u.substring(R,I>0?I:void 0)}function v(u,R){const I=new p(u,R);return I.subscribe.bind(I)}class p{constructor(u,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then((()=>{u(this)})).catch((u=>{this.error(u)}))}next(u){this.forEachObserver((R=>{R.next(u)}))}error(u){this.forEachObserver((R=>{R.error(u)})),this.close(u)}complete(){this.forEachObserver((u=>{u.complete()})),this.close()}subscribe(u,R,I){let B;if(void 0===u&&void 0===R&&void 0===I)throw new Error("Missing Observer.");B=function(u,R){if("object"!==typeof u||null===u)return!1;for(const I of R)if(I in u&&"function"===typeof u[I])return!0;return!1}(u,["next","error","complete"])?u:{next:u,error:R,complete:I},void 0===B.next&&(B.next=l),void 0===B.error&&(B.error=l),void 0===B.complete&&(B.complete=l);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(u){}})),this.observers.push(B),U}unsubscribeOne(u){void 0!==this.observers&&void 0!==this.observers[u]&&(delete this.observers[u],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(u){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,u)}sendOne(u,R){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[u])try{R(this.observers[u])}catch(I){"undefined"!==typeof console&&console.error&&console.error(I)}}))}close(u){this.finalized||(this.finalized=!0,void 0!==u&&(this.finalError=u),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const Z=1e3,c=2,k=144e5,w=.5;function i(u){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const I=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z)*Math.pow(R,u),B=Math.round(w*I*(Math.random()-.5)*2);return Math.min(k,I+B)}function W(u){return u&&u._delegate?u._delegate:u}},12255:(u,R,I)=>{I.d(R,{e:()=>K.i,i:()=>Su,j:()=>n,m:()=>Iu,p:()=>Bu,s:()=>uu,t:()=>Du,x:()=>Ru,y:()=>Ku,A:()=>Uu,B:()=>Cu,C:()=>Xu,E:()=>ru,D:()=>Pu,I:()=>bu,K:()=>zu,N:()=>Eu,P:()=>fu});var B=I(12260),U=I(12277),K=I(12268);let C,D;const s=new WeakMap,t=new WeakMap,G=new WeakMap,S=new WeakMap,b=new WeakMap;let r={get(u,R,I){if(u instanceof IDBTransaction){if("done"===R)return t.get(u);if("objectStoreNames"===R)return u.objectStoreNames||G.get(u);if("store"===R)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return E(u[R])},set:(u,R,I)=>(u[R]=I,!0),has:(u,R)=>u instanceof IDBTransaction&&("done"===R||"store"===R)||R in u};function P(u){return u!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(D||(D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(u)?function(){for(var R=arguments.length,I=new Array(R),B=0;B<R;B++)I[B]=arguments[B];return u.apply(z(this),I),E(s.get(this))}:function(){for(var R=arguments.length,I=new Array(R),B=0;B<R;B++)I[B]=arguments[B];return E(u.apply(z(this),I))}:function(R){for(var I=arguments.length,B=new Array(I>1?I-1:0),U=1;U<I;U++)B[U-1]=arguments[U];const K=u.call(z(this),R,...B);return G.set(K,R.sort?R.sort():[R]),E(K)}}function X(u){return"function"===typeof u?P(u):(u instanceof IDBTransaction&&function(u){if(t.has(u))return;const R=new Promise(((R,I)=>{const B=()=>{u.removeEventListener("complete",U),u.removeEventListener("error",K),u.removeEventListener("abort",K)},U=()=>{R(),B()},K=()=>{I(u.error||new DOMException("AbortError","AbortError")),B()};u.addEventListener("complete",U),u.addEventListener("error",K),u.addEventListener("abort",K)}));t.set(u,R)}(u),R=u,(C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((u=>R instanceof u))?new Proxy(u,r):u);var R}function E(u){if(u instanceof IDBRequest)return function(u){const R=new Promise(((R,I)=>{const B=()=>{u.removeEventListener("success",U),u.removeEventListener("error",K)},U=()=>{R(E(u.result)),B()},K=()=>{I(u.error),B()};u.addEventListener("success",U),u.addEventListener("error",K)}));return R.then((R=>{R instanceof IDBCursor&&s.set(R,u)})).catch((()=>{})),b.set(R,u),R}(u);if(S.has(u))return S.get(u);const R=X(u);return R!==u&&(S.set(u,R),b.set(R,u)),R}const z=u=>b.get(u);const f=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],Q=new Map;function V(u,R){if(!(u instanceof IDBDatabase)||R in u||"string"!==typeof R)return;if(Q.get(R))return Q.get(R);const I=R.replace(/FromIndex$/,""),B=R!==I,U=T.includes(I);if(!(I in(B?IDBIndex:IDBObjectStore).prototype)||!U&&!f.includes(I))return;const K=async function(u){const R=this.transaction(u,U?"readwrite":"readonly");let K=R.store;for(var C=arguments.length,D=new Array(C>1?C-1:0),s=1;s<C;s++)D[s-1]=arguments[s];return B&&(K=K.index(D.shift())),(await Promise.all([K[I](...D),U&&R.done]))[0]};return Q.set(R,K),K}r=(u=>({...u,get:(R,I,B)=>V(R,I)||u.get(R,I,B),has:(R,I)=>!!V(R,I)||u.has(R,I)}))(r);class q{constructor(u){this.container=u}getPlatformInfoString(){return this.container.getProviders().map((u=>{if(function(u){const R=u.getComponent();return"VERSION"===(null===R||void 0===R?void 0:R.type)}(u)){const R=u.getImmediate();return`${R.library}/${R.version}`}return null})).filter((u=>u)).join(" ")}}const e="@firebase/app",Y="0.9.13",M=new U.h("@firebase/app"),o="@firebase/app-compat",j="@firebase/analytics-compat",h="@firebase/analytics",x="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",p="@firebase/auth-compat",l="@firebase/database",Z="@firebase/database-compat",c="@firebase/functions",k="@firebase/functions-compat",w="@firebase/installations",i="@firebase/installations-compat",W="@firebase/messaging",a="@firebase/messaging-compat",A="@firebase/performance",O="@firebase/performance-compat",N="@firebase/remote-config",J="@firebase/remote-config-compat",mu="@firebase/storage",L="@firebase/storage-compat",H="@firebase/firestore",y="@firebase/firestore-compat",F="firebase",n="[DEFAULT]",d={[e]:"fire-core",[o]:"fire-core-compat",[h]:"fire-analytics",[j]:"fire-analytics-compat",[g]:"fire-app-check",[x]:"fire-app-check-compat",[v]:"fire-auth",[p]:"fire-auth-compat",[l]:"fire-rtdb",[Z]:"fire-rtdb-compat",[c]:"fire-fn",[k]:"fire-fn-compat",[w]:"fire-iid",[i]:"fire-iid-compat",[W]:"fire-fcm",[a]:"fire-fcm-compat",[A]:"fire-perf",[O]:"fire-perf-compat",[N]:"fire-rc",[J]:"fire-rc-compat",[mu]:"fire-gcs",[L]:"fire-gcs-compat",[H]:"fire-fst",[y]:"fire-fst-compat","fire-js":"fire-js",[F]:"fire-js-all"},uu=new Map,Ru=new Map;function Iu(u,R){try{u.container.ps(R)}catch(I){M.debug(`Component ${R.name} failed to register with FirebaseApp ${u.name}`,I)}}function Bu(u,R){u.container.addOrOverwriteComponent(R)}function Uu(u){const R=u.name;if(Ru.has(R))return M.debug(`There were multiple attempts to register component ${R}.`),!1;Ru.set(R,u);for(const I of uu.values())Iu(I,u);return!0}function Ku(u,R){const I=u.container.getProvider("heartbeat").getImmediate({optional:!0});return I&&I.triggerHeartbeat(),u.container.getProvider(R)}function Cu(u,R){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;Ku(u,R).clearInstance(I)}function Du(){Ru.clear()}const su={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tu=new K.f("app","Firebase",su);class Gu{constructor(u,R,I){this._isDeleted=!1,this._options=Object.assign({},u),this._config=Object.assign({},R),this._name=R.name,this._automaticDataCollectionEnabled=R.automaticDataCollectionEnabled,this._container=I,this.container.ps(new B.i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(u){this.checkDestroyed(),this._automaticDataCollectionEnabled=u}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(u){this._isDeleted=u}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}const Su="9.23.0";function bu(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=u;if("object"!==typeof R){R={name:R}}const U=Object.assign({name:n,automaticDataCollectionEnabled:!1},R),C=U.name;if("string"!==typeof C||!C)throw tu.create("bad-app-name",{appName:String(C)});if(I||(I=(0,K.x)()),!I)throw tu.create("no-options");const D=uu.get(C);if(D){if((0,K.v)(I,D.options)&&(0,K.v)(U,D.config))return D;throw tu.create("duplicate-app",{appName:C})}const s=new B.e(C);for(const B of Ru.values())s.ps(B);const t=new Gu(I,U,s);return uu.set(C,t),t}function ru(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const R=uu.get(u);if(!R&&u===n&&(0,K.x)())return bu();if(!R)throw tu.create("no-app",{appName:u});return R}function Pu(){return Array.from(uu.values())}async function Xu(u){const R=u.name;uu.has(R)&&(uu.delete(R),await Promise.all(u.container.getProviders().map((u=>u.delete()))),u.isDeleted=!0)}function Eu(u,R,I){var U;let K=null!==(U=d[u])&&void 0!==U?U:u;I&&(K+=`-${I}`);const C=K.match(/\s|\//),D=R.match(/\s|\//);if(C||D){const u=[`Unable to register library "${K}" with version "${R}":`];return C&&u.push(`library name "${K}" contains illegal characters (whitespace or "/")`),C&&D&&u.push("and"),D&&u.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void M.warn(u.join(" "))}Uu(new B.i(`${K}-version`,(()=>({library:K,version:R})),"VERSION"))}function zu(u,R){if(null!==u&&"function"!==typeof u)throw tu.create("invalid-log-argument");(0,U.p)(u,R)}function fu(u){(0,U.l)(u)}const Tu="firebase-heartbeat-store";let Qu=null;function Vu(){return Qu||(Qu=function(u,R){let{blocked:I,upgrade:B,blocking:U,terminated:K}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const C=indexedDB.open(u,R),D=E(C);return B&&C.addEventListener("upgradeneeded",(u=>{B(E(C.result),u.oldVersion,u.newVersion,E(C.transaction),u)})),I&&C.addEventListener("blocked",(u=>I(u.oldVersion,u.newVersion,u))),D.then((u=>{K&&u.addEventListener("close",(()=>K())),U&&u.addEventListener("versionchange",(u=>U(u.oldVersion,u.newVersion,u)))})).catch((()=>{})),D}("firebase-heartbeat-database",1,{upgrade:(u,R)=>{if(0===R)u.createObjectStore(Tu)}}).catch((u=>{throw tu.create("idb-open",{originalErrorMessage:u.message})}))),Qu}async function qu(u,R){try{const I=(await Vu()).transaction(Tu,"readwrite"),B=I.objectStore(Tu);await B.put(R,eu(u)),await I.done}catch(I){if(I instanceof K.i)M.warn(I.message);else{const u=tu.create("idb-set",{originalErrorMessage:null===I||void 0===I?void 0:I.message});M.warn(u.message)}}}function eu(u){return`${u.name}!${u.options.appId}`}class Yu{constructor(u){this.container=u,this._heartbeatsCache=null;const R=this.container.getProvider("app").getImmediate();this.rS=new ou(R),this._heartbeatsCachePromise=this.rS.read().then((u=>(this._heartbeatsCache=u,u)))}async triggerHeartbeat(){const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),R=Mu();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==R&&!this._heartbeatsCache.heartbeats.some((u=>u.date===R)))return this._heartbeatsCache.heartbeats.push({date:R,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((u=>{const R=new Date(u.date).valueOf();return Date.now()-R<=2592e6})),this.rS.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const u=Mu(),{heartbeatsToSend:R,unsentEntries:I}=function(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const I=[];let B=u.slice();for(const U of u){const u=I.find((u=>u.agent===U.agent));if(u){if(u.dates.push(U.date),ju(I)>R){u.dates.pop();break}}else if(I.push({agent:U.agent,dates:[U.date]}),ju(I)>R){I.pop();break}B=B.slice(1)}return{heartbeatsToSend:I,unsentEntries:B}}(this._heartbeatsCache.heartbeats),B=(0,K.q)(JSON.stringify({version:2,heartbeats:R}));return this._heartbeatsCache.lastSentHeartbeatDate=u,I.length>0?(this._heartbeatsCache.heartbeats=I,await this.rS.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.rS.overwrite(this._heartbeatsCache)),B}}function Mu(){return(new Date).toISOString().substring(0,10)}class ou{constructor(u){this.app=u,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,K.Q)()&&(0,K.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(u){try{const R=await Vu();return await R.transaction(Tu).objectStore(Tu).get(eu(u))}catch(R){if(R instanceof K.i)M.warn(R.message);else{const u=tu.create("idb-get",{originalErrorMessage:null===R||void 0===R?void 0:R.message});M.warn(u.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(u){var R;if(await this._canUseIndexedDBPromise){const I=await this.read();return qu(this.app,{lastSentHeartbeatDate:null!==(R=u.lastSentHeartbeatDate)&&void 0!==R?R:I.lastSentHeartbeatDate,heartbeats:u.heartbeats})}}async add(u){var R;if(await this._canUseIndexedDBPromise){const I=await this.read();return qu(this.app,{lastSentHeartbeatDate:null!==(R=u.lastSentHeartbeatDate)&&void 0!==R?R:I.lastSentHeartbeatDate,heartbeats:[...I.heartbeats,...u.heartbeats]})}}}function ju(u){return(0,K.q)(JSON.stringify({version:2,heartbeats:u})).length}var hu;hu="",Uu(new B.i("platform-logger",(u=>new q(u)),"PRIVATE")),Uu(new B.i("heartbeat",(u=>new Yu(u)),"PRIVATE")),Eu(e,Y,hu),Eu(e,Y,"esm2017"),Eu("fire-js","")},12260:(u,R,I)=>{I.d(R,{e:()=>D,i:()=>U});var B=I(12268);class U{constructor(u,R,I){this.name=u,this.instanceFactory=R,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(u){return this.instantiationMode=u,this}setMultipleInstances(u){return this.multipleInstances=u,this}setServiceProps(u){return this.serviceProps=u,this}setInstanceCreatedCallback(u){return this.onInstanceCreated=u,this}}const K="[DEFAULT]";class C{constructor(u,R){this.name=u,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(u){const R=this.normalizeInstanceIdentifier(u);if(!this.instancesDeferred.has(R)){const u=new B.d;if(this.instancesDeferred.set(R,u),this.isInitialized(R)||this.shouldAutoInitialize())try{const I=this.getOrInitializeService({instanceIdentifier:R});I&&u.resolve(I)}catch(I){}}return this.instancesDeferred.get(R).promise}getImmediate(u){var R;const I=this.normalizeInstanceIdentifier(null===u||void 0===u?void 0:u.identifier),B=null!==(R=null===u||void 0===u?void 0:u.optional)&&void 0!==R&&R;if(!this.isInitialized(I)&&!this.shouldAutoInitialize()){if(B)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:I})}catch(U){if(B)return null;throw U}}getComponent(){return this.component}setComponent(u){if(u.name!==this.name)throw Error(`Mismatching Component ${u.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=u,this.shouldAutoInitialize()){if(function(u){return"EAGER"===u.instantiationMode}(u))try{this.getOrInitializeService({instanceIdentifier:K})}catch(R){}for(const[u,I]of this.instancesDeferred.entries()){const B=this.normalizeInstanceIdentifier(u);try{const u=this.getOrInitializeService({instanceIdentifier:B});I.resolve(u)}catch(R){}}}}clearInstance(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;this.instancesDeferred.delete(u),this.instancesOptions.delete(u),this.instances.delete(u)}async delete(){const u=Array.from(this.instances.values());await Promise.all([...u.filter((u=>"INTERNAL"in u)).map((u=>u.INTERNAL.delete())),...u.filter((u=>"_delete"in u)).map((u=>u._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instances.has(u)}getOptions(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instancesOptions.get(u)||{}}initialize(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:R={}}=u,I=this.normalizeInstanceIdentifier(u.instanceIdentifier);if(this.isInitialized(I))throw Error(`${this.name}(${I}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const B=this.getOrInitializeService({instanceIdentifier:I,options:R});for(const[U,K]of this.instancesDeferred.entries()){I===this.normalizeInstanceIdentifier(U)&&K.resolve(B)}return B}JG(u,R){var I;const B=this.normalizeInstanceIdentifier(R),U=null!==(I=this.onInitCallbacks.get(B))&&void 0!==I?I:new Set;U.add(u),this.onInitCallbacks.set(B,U);const K=this.instances.get(B);return K&&u(K,B),()=>{U.delete(u)}}invokeOnInitCallbacks(u,R){const I=this.onInitCallbacks.get(R);if(I)for(const U of I)try{U(u,R)}catch(B){}}getOrInitializeService(u){let{instanceIdentifier:R,options:I={}}=u,B=this.instances.get(R);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(U=R,U===K?void 0:U),options:I}),this.instances.set(R,B),this.instancesOptions.set(R,I),this.invokeOnInitCallbacks(B,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,B)}catch(C){}var U;return B||null}normalizeInstanceIdentifier(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.component?this.component.multipleInstances?u:K:u}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(u){this.name=u,this.providers=new Map}ps(u){const R=this.getProvider(u.name);if(R.isComponentSet())throw new Error(`Component ${u.name} has already been registered with ${this.name}`);R.setComponent(u)}addOrOverwriteComponent(u){this.getProvider(u.name).isComponentSet()&&this.providers.delete(u.name),this.ps(u)}getProvider(u){if(this.providers.has(u))return this.providers.get(u);const R=new C(u,this);return this.providers.set(u,R),R}getProviders(){return Array.from(this.providers.values())}}},12277:(u,R,I)=>{I.d(R,{d:()=>U,h:()=>t,l:()=>G,p:()=>S});const B=[];var U;!function(u){u[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT"}(U||(U={}));const K={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},C=U.INFO,D={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},s=function(u,R){if(R<u.logLevel)return;const I=(new Date).toISOString(),B=D[R];if(!B)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);for(var U=arguments.length,K=new Array(U>2?U-2:0),C=2;C<U;C++)K[C-2]=arguments[C];console[B](`[${I}]  ${u.name}:`,...K)};class t{constructor(u){this.name=u,this._logLevel=C,this._logHandler=s,this._userLogHandler=null,B.push(this)}get logLevel(){return this._logLevel}set logLevel(u){if(!(u in U))throw new TypeError(`Invalid value "${u}" assigned to \`logLevel\``);this._logLevel=u}setLogLevel(u){this._logLevel="string"===typeof u?K[u]:u}get logHandler(){return this._logHandler}set logHandler(u){if("function"!==typeof u)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=u}get userLogHandler(){return this._userLogHandler}set userLogHandler(u){this._userLogHandler=u}debug(){for(var u=arguments.length,R=new Array(u),I=0;I<u;I++)R[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...R),this._logHandler(this,U.DEBUG,...R)}log(){for(var u=arguments.length,R=new Array(u),I=0;I<u;I++)R[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...R),this._logHandler(this,U.VERBOSE,...R)}info(){for(var u=arguments.length,R=new Array(u),I=0;I<u;I++)R[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,U.INFO,...R),this._logHandler(this,U.INFO,...R)}warn(){for(var u=arguments.length,R=new Array(u),I=0;I<u;I++)R[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,U.WARN,...R),this._logHandler(this,U.WARN,...R)}error(){for(var u=arguments.length,R=new Array(u),I=0;I<u;I++)R[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,U.ERROR,...R),this._logHandler(this,U.ERROR,...R)}}function G(u){B.forEach((R=>{R.setLogLevel(u)}))}function S(u,R){for(const I of B){let B=null;R&&R.level&&(B=K[R.level]),I.userLogHandler=null===u?null:function(R,I){for(var K=arguments.length,C=new Array(K>2?K-2:0),D=2;D<K;D++)C[D-2]=arguments[D];const s=C.map((u=>{if(null==u)return null;if("string"===typeof u)return u;if("number"===typeof u||"boolean"===typeof u)return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch(R){return null}})).filter((u=>u)).join(" ");I>=(null!==B&&void 0!==B?B:R.logLevel)&&u({level:U[I].toLowerCase(),message:s,args:C,type:R.name})}}}}}]);