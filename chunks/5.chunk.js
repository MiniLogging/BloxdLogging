/*! For license information please see f7r5om.5.2e78506c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10991:(P,f,Y)=>{Y.d(f,{C:()=>s,E:()=>y,F:()=>R,J:()=>r,M:()=>Z,Q:()=>u,T:()=>S,V:()=>T,Y:()=>M,Z:()=>V,_:()=>g,bb:()=>K,c:()=>i,f:()=>v,fb:()=>e,gb:()=>j,i:()=>l,jb:()=>O,k:()=>n,n:()=>o,p:()=>L,t:()=>k,x:()=>a,z:()=>U});const C=function(P){const f=[];let Y=0;for(let C=0;C<P.length;C++){let q=P.charCodeAt(C);q<128?f[Y++]=q:q<2048?(f[Y++]=q>>6|192,f[Y++]=63&q|128):55296===(64512&q)&&C+1<P.length&&56320===(64512&P.charCodeAt(C+1))?(q=65536+((1023&q)<<10)+(1023&P.charCodeAt(++C)),f[Y++]=q>>18|240,f[Y++]=q>>12&63|128,f[Y++]=q>>6&63|128,f[Y++]=63&q|128):(f[Y++]=q>>12|224,f[Y++]=q>>6&63|128,f[Y++]=63&q|128)}return f},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(P,f){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=f?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let q=0;q<P.length;q+=3){const f=P[q],m=q+1<P.length,L=m?P[q+1]:0,o=q+2<P.length,w=o?P[q+2]:0,d=f>>2,R=(3&f)<<4|L>>4;let y=(15&L)<<2|w>>6,r=63&w;o||(r=64,m||(y=64)),C.push(Y[d],Y[R],Y[y],Y[r])}return C.join("")},encodeString(P,f){return this.HAS_NATIVE_SUPPORT&&!f?btoa(P):this.encodeByteArray(C(P),f)},decodeString(P,f){return this.HAS_NATIVE_SUPPORT&&!f?atob(P):function(P){const f=[];let Y=0,C=0;for(;Y<P.length;){const q=P[Y++];if(q<128)f[C++]=String.fromCharCode(q);else if(q>191&&q<224){const m=P[Y++];f[C++]=String.fromCharCode((31&q)<<6|63&m)}else if(q>239&&q<365){const m=((7&q)<<18|(63&P[Y++])<<12|(63&P[Y++])<<6|63&P[Y++])-65536;f[C++]=String.fromCharCode(55296+(m>>10)),f[C++]=String.fromCharCode(56320+(1023&m))}else{const m=P[Y++],L=P[Y++];f[C++]=String.fromCharCode((15&q)<<12|(63&m)<<6|63&L)}}return f.join("")}(this.decodeStringToByteArray(P,f))},decodeStringToByteArray(P,f){this.init_();const Y=f?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let q=0;q<P.length;){const f=Y[P.charAt(q++)],L=q<P.length?Y[P.charAt(q)]:0;++q;const o=q<P.length?Y[P.charAt(q)]:64;++q;const w=q<P.length?Y[P.charAt(q)]:64;if(++q,null==f||null==L||null==o||null==w)throw new m;const d=f<<2|L>>4;if(C.push(d),64!==o){const P=L<<4&240|o>>2;if(C.push(P),64!==w){const P=o<<6&192|w;C.push(P)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class m extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(P){return function(P){const f=C(P);return q.encodeByteArray(f,!0)}(P).replace(/\./g,"")},o=function(P){try{return q.decodeString(P,!0)}catch(f){console.error("base64Decode failed: ",f)}return null};const w=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Y.g)return Y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,d=()=>{try{return w()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Y){return}const f=P&&o(P[1]);return f&&JSON.parse(f)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},R=P=>{var f,Y;return null===(Y=null===(f=d())||void 0===f?void 0:f.emulatorHosts)||void 0===Y?void 0:Y[P]},y=()=>{var P;return null===(P=d())||void 0===P?void 0:P.config},r=P=>{var f;return null===(f=d())||void 0===f?void 0:f[`_${P}`]};class i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((P,f)=>{this.resolve=P,this.reject=f}))}wrapCallback(P){return(f,Y)=>{f?this.reject(f):this.resolve(Y),"function"===typeof P&&(this.promise.catch((()=>{})),1===P.length?P(f):P(f,Y))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function S(){const P="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof P&&void 0!==P.id}function K(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const P=u();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function V(){try{return"object"===typeof indexedDB}catch(P){return!1}}function O(){return new Promise(((P,f)=>{try{let Y=!0;const C="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(C);q.onsuccess=()=>{q.result.close(),Y||self.indexedDB.deleteDatabase(C),P(!0)},q.onupgradeneeded=()=>{Y=!1},q.onerror=()=>{var P;f((null===(P=q.error)||void 0===P?void 0:P.message)||"")}}catch(Y){f(Y)}}))}function n(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class l extends Error{constructor(P,f,Y){super(f),this.code=P,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(P,f,Y){this.service=P,this.serviceName=f,this.errors=Y}create(P){const f=(arguments.length<=1?void 0:arguments[1])||{},Y=`${this.service}/${P}`,C=this.errors[P],q=C?function(P,f){return P.replace(c,((P,Y)=>{const C=f[Y];return null!=C?String(C):`<${Y}?>`}))}(C,f):"Error",m=`${this.serviceName}: ${q} (${Y}).`;return new l(Y,m,f)}}const c=/\{\$([^}]+)}/g;function T(P){for(const f in P)if(Object.prototype.hasOwnProperty.call(P,f))return!1;return!0}function U(P,f){if(P===f)return!0;const Y=Object.keys(P),C=Object.keys(f);for(const q of Y){if(!C.includes(q))return!1;const Y=P[q],m=f[q];if(D(Y)&&D(m)){if(!U(Y,m))return!1}else if(Y!==m)return!1}for(const q of C)if(!Y.includes(q))return!1;return!0}function D(P){return null!==P&&"object"===typeof P}function j(P){const f=[];for(const[Y,C]of Object.entries(P))Array.isArray(C)?C.forEach((P=>{f.push(encodeURIComponent(Y)+"="+encodeURIComponent(P))})):f.push(encodeURIComponent(Y)+"="+encodeURIComponent(C));return f.length?"&"+f.join("&"):""}function e(P){const f={};return P.replace(/^\?/,"").split("&").forEach((P=>{if(P){const[Y,C]=P.split("=");f[decodeURIComponent(Y)]=decodeURIComponent(C)}})),f}function s(P){const f=P.indexOf("?");if(!f)return"";const Y=P.indexOf("#",f);return P.substring(f,Y>0?Y:void 0)}function a(P,f){const Y=new Q(P,f);return Y.subscribe.bind(Y)}class Q{constructor(P,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then((()=>{P(this)})).catch((P=>{this.error(P)}))}next(P){this.forEachObserver((f=>{f.next(P)}))}error(P){this.forEachObserver((f=>{f.error(P)})),this.close(P)}complete(){this.forEachObserver((P=>{P.complete()})),this.close()}subscribe(P,f,Y){let C;if(void 0===P&&void 0===f&&void 0===Y)throw new Error("Missing Observer.");C=function(P,f){if("object"!==typeof P||null===P)return!1;for(const Y of f)if(Y in P&&"function"===typeof P[Y])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:f,complete:Y},void 0===C.next&&(C.next=J),void 0===C.error&&(C.error=J),void 0===C.complete&&(C.complete=J);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?C.error(this.finalError):C.complete()}catch(P){}})),this.observers.push(C),q}unsubscribeOne(P){void 0!==this.observers&&void 0!==this.observers[P]&&(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,P)}sendOne(P,f){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{f(this.observers[P])}catch(Y){"undefined"!==typeof console&&console.error&&console.error(Y)}}))}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function J(){}const N=1e3,I=2,X=144e5,x=.5;function k(P){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;const Y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N)*Math.pow(f,P),C=Math.round(x*Y*(Math.random()-.5)*2);return Math.min(X,Y+C)}function Z(P){return P&&P._delegate?P._delegate:P}},10986:(P,f,Y)=>{Y.d(f,{c:()=>m.i,f:()=>yP,h:()=>h,k:()=>YP,o:()=>CP,q:()=>PP,s:()=>oP,t:()=>fP,w:()=>mP,x:()=>qP,y:()=>LP,A:()=>gP,F:()=>iP,C:()=>uP,I:()=>rP,L:()=>KP,O:()=>SP,S:()=>MP});var C=Y(10989),q=Y(10994),m=Y(10991);let L,o;const w=new WeakMap,d=new WeakMap,R=new WeakMap,y=new WeakMap,r=new WeakMap;let i={get(P,f,Y){if(P instanceof IDBTransaction){if("done"===f)return d.get(P);if("objectStoreNames"===f)return P.objectStoreNames||R.get(P);if("store"===f)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return S(P[f])},set:(P,f,Y)=>(P[f]=Y,!0),has:(P,f)=>P instanceof IDBTransaction&&("done"===f||"store"===f)||f in P};function u(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(P)?function(){for(var f=arguments.length,Y=new Array(f),C=0;C<f;C++)Y[C]=arguments[C];return P.apply(K(this),Y),S(w.get(this))}:function(){for(var f=arguments.length,Y=new Array(f),C=0;C<f;C++)Y[C]=arguments[C];return S(P.apply(K(this),Y))}:function(f){for(var Y=arguments.length,C=new Array(Y>1?Y-1:0),q=1;q<Y;q++)C[q-1]=arguments[q];const m=P.call(K(this),f,...C);return R.set(m,f.sort?f.sort():[f]),S(m)}}function g(P){return"function"===typeof P?u(P):(P instanceof IDBTransaction&&function(P){if(d.has(P))return;const f=new Promise(((f,Y)=>{const C=()=>{P.removeEventListener("complete",q),P.removeEventListener("error",m),P.removeEventListener("abort",m)},q=()=>{f(),C()},m=()=>{Y(P.error||new DOMException("AbortError","AbortError")),C()};P.addEventListener("complete",q),P.addEventListener("error",m),P.addEventListener("abort",m)}));d.set(P,f)}(P),f=P,(L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((P=>f instanceof P))?new Proxy(P,i):P);var f}function S(P){if(P instanceof IDBRequest)return function(P){const f=new Promise(((f,Y)=>{const C=()=>{P.removeEventListener("success",q),P.removeEventListener("error",m)},q=()=>{f(S(P.result)),C()},m=()=>{Y(P.error),C()};P.addEventListener("success",q),P.addEventListener("error",m)}));return f.then((f=>{f instanceof IDBCursor&&w.set(f,P)})).catch((()=>{})),r.set(f,P),f}(P);if(y.has(P))return y.get(P);const f=g(P);return f!==P&&(y.set(P,f),r.set(f,P)),f}const K=P=>r.get(P);const M=["get","getKey","getAll","getAllKeys","count"],V=["put","add","delete","clear"],O=new Map;function n(P,f){if(!(P instanceof IDBDatabase)||f in P||"string"!==typeof f)return;if(O.get(f))return O.get(f);const Y=f.replace(/FromIndex$/,""),C=f!==Y,q=V.includes(Y);if(!(Y in(C?IDBIndex:IDBObjectStore).prototype)||!q&&!M.includes(Y))return;const m=async function(P){const f=this.transaction(P,q?"readwrite":"readonly");let m=f.store;for(var L=arguments.length,o=new Array(L>1?L-1:0),w=1;w<L;w++)o[w-1]=arguments[w];return C&&(m=m.index(o.shift())),(await Promise.all([m[Y](...o),q&&f.done]))[0]};return O.set(f,m),m}i=(P=>({...P,get:(f,Y,C)=>n(f,Y)||P.get(f,Y,C),has:(f,Y)=>!!n(f,Y)||P.has(f,Y)}))(i);class l{constructor(P){this.container=P}getPlatformInfoString(){return this.container.getProviders().map((P=>{if(function(P){const f=P.getComponent();return"VERSION"===(null===f||void 0===f?void 0:f.type)}(P)){const f=P.getImmediate();return`${f.library}/${f.version}`}return null})).filter((P=>P)).join(" ")}}const v="@firebase/app",c="0.9.13",T=new q.f("@firebase/app"),U="@firebase/app-compat",D="@firebase/analytics-compat",j="@firebase/analytics",e="@firebase/app-check-compat",s="@firebase/app-check",a="@firebase/auth",Q="@firebase/auth-compat",J="@firebase/database",N="@firebase/database-compat",I="@firebase/functions",X="@firebase/functions-compat",x="@firebase/installations",k="@firebase/installations-compat",Z="@firebase/messaging",A="@firebase/messaging-compat",E="@firebase/performance",t="@firebase/performance-compat",G="@firebase/remote-config",z="@firebase/remote-config-compat",B="@firebase/storage",b="@firebase/storage-compat",H="@firebase/firestore",W="@firebase/firestore-compat",p="firebase",h="[DEFAULT]",F={[v]:"fire-core",[U]:"fire-core-compat",[j]:"fire-analytics",[D]:"fire-analytics-compat",[s]:"fire-app-check",[e]:"fire-app-check-compat",[a]:"fire-auth",[Q]:"fire-auth-compat",[J]:"fire-rtdb",[N]:"fire-rtdb-compat",[I]:"fire-fn",[X]:"fire-fn-compat",[x]:"fire-iid",[k]:"fire-iid-compat",[Z]:"fire-fcm",[A]:"fire-fcm-compat",[E]:"fire-perf",[t]:"fire-perf-compat",[G]:"fire-rc",[z]:"fire-rc-compat",[B]:"fire-gcs",[b]:"fire-gcs-compat",[H]:"fire-fst",[W]:"fire-fst-compat","fire-js":"fire-js",[p]:"fire-js-all"},PP=new Map,fP=new Map;function YP(P,f){try{P.container.Vw(f)}catch(Y){T.debug(`Component ${f.name} failed to register with FirebaseApp ${P.name}`,Y)}}function CP(P,f){P.container.addOrOverwriteComponent(f)}function qP(P){const f=P.name;if(fP.has(f))return T.debug(`There were multiple attempts to register component ${f}.`),!1;fP.set(f,P);for(const Y of PP.values())YP(Y,P);return!0}function mP(P,f){const Y=P.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),P.container.getProvider(f)}function LP(P,f){let Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;mP(P,f).clearInstance(Y)}function oP(){fP.clear()}const wP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},dP=new m.f("app","Firebase",wP);class RP{constructor(P,f,Y){this._isDeleted=!1,this._options=Object.assign({},P),this._config=Object.assign({},f),this._name=f.name,this._automaticDataCollectionEnabled=f.automaticDataCollectionEnabled,this._container=Y,this.container.Vw(new C.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(P){this.checkDestroyed(),this._automaticDataCollectionEnabled=P}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(P){this._isDeleted=P}checkDestroyed(){if(this.isDeleted)throw dP.create("app-deleted",{appName:this._name})}}const yP="9.23.0";function rP(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=P;if("object"!==typeof f){f={name:f}}const q=Object.assign({name:h,automaticDataCollectionEnabled:!1},f),L=q.name;if("string"!==typeof L||!L)throw dP.create("bad-app-name",{appName:String(L)});if(Y||(Y=(0,m.E)()),!Y)throw dP.create("no-options");const o=PP.get(L);if(o){if((0,m.z)(Y,o.options)&&(0,m.z)(q,o.config))return o;throw dP.create("duplicate-app",{appName:L})}const w=new C.e(L);for(const C of fP.values())w.Vw(C);const d=new RP(Y,q,w);return PP.set(L,d),d}function iP(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const f=PP.get(P);if(!f&&P===h&&(0,m.E)())return rP();if(!f)throw dP.create("no-app",{appName:P});return f}function uP(){return Array.from(PP.values())}async function gP(P){const f=P.name;PP.has(f)&&(PP.delete(f),await Promise.all(P.container.getProviders().map((P=>P.delete()))),P.isDeleted=!0)}function SP(P,f,Y){var q;let m=null!==(q=F[P])&&void 0!==q?q:P;Y&&(m+=`-${Y}`);const L=m.match(/\s|\//),o=f.match(/\s|\//);if(L||o){const P=[`Unable to register library "${m}" with version "${f}":`];return L&&P.push(`library name "${m}" contains illegal characters (whitespace or "/")`),L&&o&&P.push("and"),o&&P.push(`version name "${f}" contains illegal characters (whitespace or "/")`),void T.warn(P.join(" "))}qP(new C.f(`${m}-version`,(()=>({library:m,version:f})),"VERSION"))}function KP(P,f){if(null!==P&&"function"!==typeof P)throw dP.create("invalid-log-argument");(0,q.k)(P,f)}function MP(P){(0,q.g)(P)}const VP="firebase-heartbeat-store";let OP=null;function nP(){return OP||(OP=function(P,f){let{blocked:Y,upgrade:C,blocking:q,terminated:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const L=indexedDB.open(P,f),o=S(L);return C&&L.addEventListener("upgradeneeded",(P=>{C(S(L.result),P.oldVersion,P.newVersion,S(L.transaction),P)})),Y&&L.addEventListener("blocked",(P=>Y(P.oldVersion,P.newVersion,P))),o.then((P=>{m&&P.addEventListener("close",(()=>m())),q&&P.addEventListener("versionchange",(P=>q(P.oldVersion,P.newVersion,P)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(P,f)=>{if(0===f)P.createObjectStore(VP)}}).catch((P=>{throw dP.create("idb-open",{originalErrorMessage:P.message})}))),OP}async function lP(P,f){try{const Y=(await nP()).transaction(VP,"readwrite"),C=Y.objectStore(VP);await C.put(f,vP(P)),await Y.done}catch(Y){if(Y instanceof m.i)T.warn(Y.message);else{const P=dP.create("idb-set",{originalErrorMessage:null===Y||void 0===Y?void 0:Y.message});T.warn(P.message)}}}function vP(P){return`${P.name}!${P.options.appId}`}class cP{constructor(P){this.container=P,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this.Oy=new UP(f),this._heartbeatsCachePromise=this.Oy.read().then((P=>(this._heartbeatsCache=P,P)))}async triggerHeartbeat(){const P=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=TP();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==f&&!this._heartbeatsCache.heartbeats.some((P=>P.date===f)))return this._heartbeatsCache.heartbeats.push({date:f,agent:P}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((P=>{const f=new Date(P.date).valueOf();return Date.now()-f<=2592e6})),this.Oy.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const P=TP(),{heartbeatsToSend:f,unsentEntries:Y}=function(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Y=[];let C=P.slice();for(const q of P){const P=Y.find((P=>P.agent===q.agent));if(P){if(P.dates.push(q.date),DP(Y)>f){P.dates.pop();break}}else if(Y.push({agent:q.agent,dates:[q.date]}),DP(Y)>f){Y.pop();break}C=C.slice(1)}return{heartbeatsToSend:Y,unsentEntries:C}}(this._heartbeatsCache.heartbeats),C=(0,m.p)(JSON.stringify({version:2,heartbeats:f}));return this._heartbeatsCache.lastSentHeartbeatDate=P,Y.length>0?(this._heartbeatsCache.heartbeats=Y,await this.Oy.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Oy.overwrite(this._heartbeatsCache)),C}}function TP(){return(new Date).toISOString().substring(0,10)}class UP{constructor(P){this.app=P,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,m.Z)()&&(0,m.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(P){try{const f=await nP();return await f.transaction(VP).objectStore(VP).get(vP(P))}catch(f){if(f instanceof m.i)T.warn(f.message);else{const P=dP.create("idb-get",{originalErrorMessage:null===f||void 0===f?void 0:f.message});T.warn(P.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(P){var f;if(await this._canUseIndexedDBPromise){const Y=await this.read();return lP(this.app,{lastSentHeartbeatDate:null!==(f=P.lastSentHeartbeatDate)&&void 0!==f?f:Y.lastSentHeartbeatDate,heartbeats:P.heartbeats})}}async add(P){var f;if(await this._canUseIndexedDBPromise){const Y=await this.read();return lP(this.app,{lastSentHeartbeatDate:null!==(f=P.lastSentHeartbeatDate)&&void 0!==f?f:Y.lastSentHeartbeatDate,heartbeats:[...Y.heartbeats,...P.heartbeats]})}}}function DP(P){return(0,m.p)(JSON.stringify({version:2,heartbeats:P})).length}var jP;jP="",qP(new C.f("platform-logger",(P=>new l(P)),"PRIVATE")),qP(new C.f("heartbeat",(P=>new cP(P)),"PRIVATE")),SP(v,c,jP),SP(v,c,"esm2017"),SP("fire-js","")},10989:(P,f,Y)=>{Y.d(f,{e:()=>o,f:()=>q});var C=Y(10991);class q{constructor(P,f,Y){this.name=P,this.instanceFactory=f,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const m="[DEFAULT]";class L{constructor(P,f){this.name=P,this.container=f,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const f=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(f)){const P=new C.c;if(this.instancesDeferred.set(f,P),this.isInitialized(f)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:f});Y&&P.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(f).promise}getImmediate(P){var f;const Y=this.normalizeInstanceIdentifier(null===P||void 0===P?void 0:P.identifier),C=null!==(f=null===P||void 0===P?void 0:P.optional)&&void 0!==f&&f;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(C)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(q){if(C)return null;throw q}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if(function(P){return"EAGER"===P.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:m})}catch(f){}for(const[P,Y]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(P);try{const P=this.getOrInitializeService({instanceIdentifier:C});Y.resolve(P)}catch(f){}}}}clearInstance(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}async delete(){const P=Array.from(this.instances.values());await Promise.all([...P.filter((P=>"INTERNAL"in P)).map((P=>P.INTERNAL.delete())),...P.filter((P=>"_delete"in P)).map((P=>P._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instances.has(P)}getOptions(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instancesOptions.get(P)||{}}initialize(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:f={}}=P,Y=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const C=this.getOrInitializeService({instanceIdentifier:Y,options:f});for(const[q,m]of this.instancesDeferred.entries()){Y===this.normalizeInstanceIdentifier(q)&&m.resolve(C)}return C}WR(P,f){var Y;const C=this.normalizeInstanceIdentifier(f),q=null!==(Y=this.onInitCallbacks.get(C))&&void 0!==Y?Y:new Set;q.add(P),this.onInitCallbacks.set(C,q);const m=this.instances.get(C);return m&&P(m,C),()=>{q.delete(P)}}invokeOnInitCallbacks(P,f){const Y=this.onInitCallbacks.get(f);if(Y)for(const q of Y)try{q(P,f)}catch(C){}}getOrInitializeService(P){let{instanceIdentifier:f,options:Y={}}=P,C=this.instances.get(f);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:(q=f,q===m?void 0:q),options:Y}),this.instances.set(f,C),this.instancesOptions.set(f,Y),this.invokeOnInitCallbacks(C,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,C)}catch(L){}var q;return C||null}normalizeInstanceIdentifier(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.component?this.component.multipleInstances?P:m:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(P){this.name=P,this.providers=new Map}Vw(P){const f=this.getProvider(P.name);if(f.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);f.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.Vw(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const f=new L(P,this);return this.providers.set(P,f),f}getProviders(){return Array.from(this.providers.values())}}},10994:(P,f,Y)=>{Y.d(f,{d:()=>q,f:()=>d,g:()=>R,k:()=>y});const C=[];var q;!function(P){P[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT"}(q||(q={}));const m={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},L=q.INFO,o={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},w=function(P,f){if(f<P.logLevel)return;const Y=(new Date).toISOString(),C=o[f];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);for(var q=arguments.length,m=new Array(q>2?q-2:0),L=2;L<q;L++)m[L-2]=arguments[L];console[C](`[${Y}]  ${P.name}:`,...m)};class d{constructor(P){this.name=P,this._logLevel=L,this._logHandler=w,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(P){if(!(P in q))throw new TypeError(`Invalid value "${P}" assigned to \`logLevel\``);this._logLevel=P}setLogLevel(P){this._logLevel="string"===typeof P?m[P]:P}get logHandler(){return this._logHandler}set logHandler(P){if("function"!==typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P}get userLogHandler(){return this._userLogHandler}set userLogHandler(P){this._userLogHandler=P}debug(){for(var P=arguments.length,f=new Array(P),Y=0;Y<P;Y++)f[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...f),this._logHandler(this,q.DEBUG,...f)}log(){for(var P=arguments.length,f=new Array(P),Y=0;Y<P;Y++)f[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...f),this._logHandler(this,q.VERBOSE,...f)}info(){for(var P=arguments.length,f=new Array(P),Y=0;Y<P;Y++)f[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,q.INFO,...f),this._logHandler(this,q.INFO,...f)}warn(){for(var P=arguments.length,f=new Array(P),Y=0;Y<P;Y++)f[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,q.WARN,...f),this._logHandler(this,q.WARN,...f)}error(){for(var P=arguments.length,f=new Array(P),Y=0;Y<P;Y++)f[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,q.ERROR,...f),this._logHandler(this,q.ERROR,...f)}}function R(P){C.forEach((f=>{f.setLogLevel(P)}))}function y(P,f){for(const Y of C){let C=null;f&&f.level&&(C=m[f.level]),Y.userLogHandler=null===P?null:function(f,Y){for(var m=arguments.length,L=new Array(m>2?m-2:0),o=2;o<m;o++)L[o-2]=arguments[o];const w=L.map((P=>{if(null==P)return null;if("string"===typeof P)return P;if("number"===typeof P||"boolean"===typeof P)return P.toString();if(P instanceof Error)return P.message;try{return JSON.stringify(P)}catch(f){return null}})).filter((P=>P)).join(" ");Y>=(null!==C&&void 0!==C?C:f.logLevel)&&P({level:q[Y].toLowerCase(),message:w,args:L,type:f.name})}}}}}]);