/*! For license information please see ardsm.5.959c8b98.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10693:(V,O,Z)=>{Z.d(O,{A:()=>A,D:()=>n,G:()=>M,H:()=>i,J:()=>c,L:()=>J,P:()=>F,S:()=>b,U:()=>v,V:()=>H,X:()=>S,Z:()=>Q,ab:()=>U,c:()=>W,db:()=>g,f:()=>t,g:()=>w,hb:()=>I,k:()=>G,lb:()=>z,m:()=>m,q:()=>Y,u:()=>L,x:()=>e});const d=function(V){const O=[];let Z=0;for(let d=0;d<V.length;d++){let p=V.charCodeAt(d);p<128?O[Z++]=p:p<2048?(O[Z++]=p>>6|192,O[Z++]=63&p|128):55296===(64512&p)&&d+1<V.length&&56320===(64512&V.charCodeAt(d+1))?(p=65536+((1023&p)<<10)+(1023&V.charCodeAt(++d)),O[Z++]=p>>18|240,O[Z++]=p>>12&63|128,O[Z++]=p>>6&63|128,O[Z++]=63&p|128):(O[Z++]=p>>12|224,O[Z++]=p>>6&63|128,O[Z++]=63&p|128)}return O},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(V,O){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let p=0;p<V.length;p+=3){const O=V[p],r=p+1<V.length,Y=r?V[p+1]:0,m=p+2<V.length,a=m?V[p+2]:0,R=O>>2,i=(3&O)<<4|Y>>4;let M=(15&Y)<<2|a>>6,c=63&a;m||(c=64,r||(M=64)),d.push(Z[R],Z[i],Z[M],Z[c])}return d.join("")},encodeString(V,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(V):this.encodeByteArray(d(V),O)},decodeString(V,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(V):function(V){const O=[];let Z=0,d=0;for(;Z<V.length;){const p=V[Z++];if(p<128)O[d++]=String.fromCharCode(p);else if(p>191&&p<224){const r=V[Z++];O[d++]=String.fromCharCode((31&p)<<6|63&r)}else if(p>239&&p<365){const r=((7&p)<<18|(63&V[Z++])<<12|(63&V[Z++])<<6|63&V[Z++])-65536;O[d++]=String.fromCharCode(55296+(r>>10)),O[d++]=String.fromCharCode(56320+(1023&r))}else{const r=V[Z++],Y=V[Z++];O[d++]=String.fromCharCode((15&p)<<12|(63&r)<<6|63&Y)}}return O.join("")}(this.decodeStringToByteArray(V,O))},decodeStringToByteArray(V,O){this.init_();const Z=O?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let p=0;p<V.length;){const O=Z[V.charAt(p++)],Y=p<V.length?Z[V.charAt(p)]:0;++p;const m=p<V.length?Z[V.charAt(p)]:64;++p;const a=p<V.length?Z[V.charAt(p)]:64;if(++p,null==O||null==Y||null==m||null==a)throw new r;const R=O<<2|Y>>4;if(d.push(R),64!==m){const V=Y<<4&240|m>>2;if(d.push(V),64!==a){const V=m<<6&192|a;d.push(V)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class r extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(V){return function(V){const O=d(V);return p.encodeByteArray(O,!0)}(V).replace(/\./g,"")},m=function(V){try{return p.decodeString(V,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const a=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Z.g)return Z.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,R=()=>{try{return a()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Z){return}const O=V&&m(V[1]);return O&&JSON.parse(O)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},i=V=>{var O,Z;return null===(Z=null===(O=R())||void 0===O?void 0:O.emulatorHosts)||void 0===Z?void 0:Z[V]},M=()=>{var V;return null===(V=R())||void 0===V?void 0:V.config},c=V=>{var O;return null===(O=R())||void 0===O?void 0:O[`_${V}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((V,O)=>{this.resolve=V,this.reject=O}))}wrapCallback(V){return(O,Z)=>{O?this.reject(O):this.resolve(Z),"function"===typeof V&&(this.promise.catch((()=>{})),1===V.length?V(O):V(O,Z))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Q(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function b(){const V="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof V&&void 0!==V.id}function U(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function H(){const V=F();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function S(){try{return"object"===typeof indexedDB}catch(V){return!1}}function z(){return new Promise(((V,O)=>{try{let Z=!0;const d="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(d);p.onsuccess=()=>{p.result.close(),Z||self.indexedDB.deleteDatabase(d),V(!0)},p.onupgradeneeded=()=>{Z=!1},p.onerror=()=>{var V;O((null===(V=p.error)||void 0===V?void 0:V.message)||"")}}catch(Z){O(Z)}}))}function G(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class w extends Error{constructor(V,O,Z){super(O),this.code=V,this.customData=Z,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t.prototype.create)}}class t{constructor(V,O,Z){this.service=V,this.serviceName=O,this.errors=Z}create(V){const O=(arguments.length<=1?void 0:arguments[1])||{},Z=`${this.service}/${V}`,d=this.errors[V],p=d?function(V,O){return V.replace(C,((V,Z)=>{const d=O[Z];return null!=d?String(d):`<${Z}?>`}))}(d,O):"Error",r=`${this.serviceName}: ${p} (${Z}).`;return new w(Z,r,O)}}const C=/\{\$([^}]+)}/g;function v(V){for(const O in V)if(Object.prototype.hasOwnProperty.call(V,O))return!1;return!0}function A(V,O){if(V===O)return!0;const Z=Object.keys(V),d=Object.keys(O);for(const p of Z){if(!d.includes(p))return!1;const Z=V[p],r=O[p];if(l(Z)&&l(r)){if(!A(Z,r))return!1}else if(Z!==r)return!1}for(const p of d)if(!Z.includes(p))return!1;return!0}function l(V){return null!==V&&"object"===typeof V}function I(V){const O=[];for(const[Z,d]of Object.entries(V))Array.isArray(d)?d.forEach((V=>{O.push(encodeURIComponent(Z)+"="+encodeURIComponent(V))})):O.push(encodeURIComponent(Z)+"="+encodeURIComponent(d));return O.length?"&"+O.join("&"):""}function g(V){const O={};return V.replace(/^\?/,"").split("&").forEach((V=>{if(V){const[Z,d]=V.split("=");O[decodeURIComponent(Z)]=decodeURIComponent(d)}})),O}function n(V){const O=V.indexOf("?");if(!O)return"";const Z=V.indexOf("#",O);return V.substring(O,Z>0?Z:void 0)}function e(V,O){const Z=new u(V,O);return Z.subscribe.bind(Z)}class u{constructor(V,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{V(this)})).catch((V=>{this.error(V)}))}next(V){this.forEachObserver((O=>{O.next(V)}))}error(V){this.forEachObserver((O=>{O.error(V)})),this.close(V)}complete(){this.forEachObserver((V=>{V.complete()})),this.close()}subscribe(V,O,Z){let d;if(void 0===V&&void 0===O&&void 0===Z)throw new Error("Missing Observer.");d=function(V,O){if("object"!==typeof V||null===V)return!1;for(const Z of O)if(Z in V&&"function"===typeof V[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:O,complete:Z},void 0===d.next&&(d.next=k),void 0===d.error&&(d.error=k),void 0===d.complete&&(d.complete=k);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch(V){}})),this.observers.push(d),p}unsubscribeOne(V){void 0!==this.observers&&void 0!==this.observers[V]&&(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,V)}sendOne(V,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{O(this.observers[V])}catch(Z){"undefined"!==typeof console&&console.error&&console.error(Z)}}))}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function k(){}const D=1e3,X=2,o=144e5,E=.5;function L(V){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X;const Z=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:D)*Math.pow(O,V),d=Math.round(E*Z*(Math.random()-.5)*2);return Math.min(o,Z+d)}function J(V){return V&&V._delegate?V._delegate:V}},10677:(V,O,Z)=>{Z.d(O,{e:()=>r.g,i:()=>MV,j:()=>B,n:()=>ZV,q:()=>dV,u:()=>VV,y:()=>mV,A:()=>OV,B:()=>rV,D:()=>pV,F:()=>YV,G:()=>QV,M:()=>WV,J:()=>FV,Q:()=>cV,S:()=>UV,U:()=>bV,Y:()=>HV});var d=Z(10684),p=Z(10695),r=Z(10693);let Y,m;const a=new WeakMap,R=new WeakMap,i=new WeakMap,M=new WeakMap,c=new WeakMap;let W={get(V,O,Z){if(V instanceof IDBTransaction){if("done"===O)return R.get(V);if("objectStoreNames"===O)return V.objectStoreNames||i.get(V);if("store"===O)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return b(V[O])},set:(V,O,Z)=>(V[O]=Z,!0),has:(V,O)=>V instanceof IDBTransaction&&("done"===O||"store"===O)||O in V};function F(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(m||(m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(V)?function(){for(var O=arguments.length,Z=new Array(O),d=0;d<O;d++)Z[d]=arguments[d];return V.apply(U(this),Z),b(a.get(this))}:function(){for(var O=arguments.length,Z=new Array(O),d=0;d<O;d++)Z[d]=arguments[d];return b(V.apply(U(this),Z))}:function(O){for(var Z=arguments.length,d=new Array(Z>1?Z-1:0),p=1;p<Z;p++)d[p-1]=arguments[p];const r=V.call(U(this),O,...d);return i.set(r,O.sort?O.sort():[O]),b(r)}}function Q(V){return"function"===typeof V?F(V):(V instanceof IDBTransaction&&function(V){if(R.has(V))return;const O=new Promise(((O,Z)=>{const d=()=>{V.removeEventListener("complete",p),V.removeEventListener("error",r),V.removeEventListener("abort",r)},p=()=>{O(),d()},r=()=>{Z(V.error||new DOMException("AbortError","AbortError")),d()};V.addEventListener("complete",p),V.addEventListener("error",r),V.addEventListener("abort",r)}));R.set(V,O)}(V),O=V,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((V=>O instanceof V))?new Proxy(V,W):V);var O}function b(V){if(V instanceof IDBRequest)return function(V){const O=new Promise(((O,Z)=>{const d=()=>{V.removeEventListener("success",p),V.removeEventListener("error",r)},p=()=>{O(b(V.result)),d()},r=()=>{Z(V.error),d()};V.addEventListener("success",p),V.addEventListener("error",r)}));return O.then((O=>{O instanceof IDBCursor&&a.set(O,V)})).catch((()=>{})),c.set(O,V),O}(V);if(M.has(V))return M.get(V);const O=Q(V);return O!==V&&(M.set(V,O),c.set(O,V)),O}const U=V=>c.get(V);const H=["get","getKey","getAll","getAllKeys","count"],S=["put","add","delete","clear"],z=new Map;function G(V,O){if(!(V instanceof IDBDatabase)||O in V||"string"!==typeof O)return;if(z.get(O))return z.get(O);const Z=O.replace(/FromIndex$/,""),d=O!==Z,p=S.includes(Z);if(!(Z in(d?IDBIndex:IDBObjectStore).prototype)||!p&&!H.includes(Z))return;const r=async function(V){const O=this.transaction(V,p?"readwrite":"readonly");let r=O.store;for(var Y=arguments.length,m=new Array(Y>1?Y-1:0),a=1;a<Y;a++)m[a-1]=arguments[a];return d&&(r=r.index(m.shift())),(await Promise.all([r[Z](...m),p&&O.done]))[0]};return z.set(O,r),r}W=(V=>({...V,get:(O,Z,d)=>G(O,Z)||V.get(O,Z,d),has:(O,Z)=>!!G(O,Z)||V.has(O,Z)}))(W);class w{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map((V=>{if(function(V){const O=V.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(V)){const O=V.getImmediate();return`${O.library}/${O.version}`}return null})).filter((V=>V)).join(" ")}}const t="@firebase/app",C="0.9.13",v=new p.f("@firebase/app"),A="@firebase/app-compat",l="@firebase/analytics-compat",I="@firebase/analytics",g="@firebase/app-check-compat",n="@firebase/app-check",e="@firebase/auth",u="@firebase/auth-compat",k="@firebase/database",D="@firebase/database-compat",X="@firebase/functions",o="@firebase/functions-compat",E="@firebase/installations",L="@firebase/installations-compat",J="@firebase/messaging",N="@firebase/messaging-compat",P="@firebase/performance",f="@firebase/performance-compat",q="@firebase/remote-config",K="@firebase/remote-config-compat",s="@firebase/storage",h="@firebase/storage-compat",x="@firebase/firestore",y="@firebase/firestore-compat",T="firebase",B="[DEFAULT]",j={[t]:"fire-core",[A]:"fire-core-compat",[I]:"fire-analytics",[l]:"fire-analytics-compat",[n]:"fire-app-check",[g]:"fire-app-check-compat",[e]:"fire-auth",[u]:"fire-auth-compat",[k]:"fire-rtdb",[D]:"fire-rtdb-compat",[X]:"fire-fn",[o]:"fire-fn-compat",[E]:"fire-iid",[L]:"fire-iid-compat",[J]:"fire-fcm",[N]:"fire-fcm-compat",[P]:"fire-perf",[f]:"fire-perf-compat",[q]:"fire-rc",[K]:"fire-rc-compat",[s]:"fire-gcs",[h]:"fire-gcs-compat",[x]:"fire-fst",[y]:"fire-fst-compat","fire-js":"fire-js",[T]:"fire-js-all"},VV=new Map,OV=new Map;function ZV(V,O){try{V.container.ke(O)}catch(Z){v.debug(`Component ${O.name} failed to register with FirebaseApp ${V.name}`,Z)}}function dV(V,O){V.container.addOrOverwriteComponent(O)}function pV(V){const O=V.name;if(OV.has(O))return v.debug(`There were multiple attempts to register component ${O}.`),!1;OV.set(O,V);for(const Z of VV.values())ZV(Z,V);return!0}function rV(V,O){const Z=V.container.getProvider("heartbeat").getImmediate({optional:!0});return Z&&Z.triggerHeartbeat(),V.container.getProvider(O)}function YV(V,O){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;rV(V,O).clearInstance(Z)}function mV(){OV.clear()}const aV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},RV=new r.f("app","Firebase",aV);class iV{constructor(V,O,Z){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=Z,this.container.ke(new d.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw RV.create("app-deleted",{appName:this._name})}}const MV="9.23.0";function cV(V){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Z=V;if("object"!==typeof O){O={name:O}}const p=Object.assign({name:B,automaticDataCollectionEnabled:!1},O),Y=p.name;if("string"!==typeof Y||!Y)throw RV.create("bad-app-name",{appName:String(Y)});if(Z||(Z=(0,r.G)()),!Z)throw RV.create("no-options");const m=VV.get(Y);if(m){if((0,r.A)(Z,m.options)&&(0,r.A)(p,m.config))return m;throw RV.create("duplicate-app",{appName:Y})}const a=new d.e(Y);for(const d of OV.values())a.ke(d);const R=new iV(Z,p,a);return VV.set(Y,R),R}function WV(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;const O=VV.get(V);if(!O&&V===B&&(0,r.G)())return cV();if(!O)throw RV.create("no-app",{appName:V});return O}function FV(){return Array.from(VV.values())}async function QV(V){const O=V.name;VV.has(O)&&(VV.delete(O),await Promise.all(V.container.getProviders().map((V=>V.delete()))),V.isDeleted=!0)}function bV(V,O,Z){var p;let r=null!==(p=j[V])&&void 0!==p?p:V;Z&&(r+=`-${Z}`);const Y=r.match(/\s|\//),m=O.match(/\s|\//);if(Y||m){const V=[`Unable to register library "${r}" with version "${O}":`];return Y&&V.push(`library name "${r}" contains illegal characters (whitespace or "/")`),Y&&m&&V.push("and"),m&&V.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void v.warn(V.join(" "))}pV(new d.h(`${r}-version`,(()=>({library:r,version:O})),"VERSION"))}function UV(V,O){if(null!==V&&"function"!==typeof V)throw RV.create("invalid-log-argument");(0,p.j)(V,O)}function HV(V){(0,p.g)(V)}const SV="firebase-heartbeat-store";let zV=null;function GV(){return zV||(zV=function(V,O){let{blocked:Z,upgrade:d,blocking:p,terminated:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(V,O),m=b(Y);return d&&Y.addEventListener("upgradeneeded",(V=>{d(b(Y.result),V.oldVersion,V.newVersion,b(Y.transaction),V)})),Z&&Y.addEventListener("blocked",(V=>Z(V.oldVersion,V.newVersion,V))),m.then((V=>{r&&V.addEventListener("close",(()=>r())),p&&V.addEventListener("versionchange",(V=>p(V.oldVersion,V.newVersion,V)))})).catch((()=>{})),m}("firebase-heartbeat-database",1,{upgrade:(V,O)=>{if(0===O)V.createObjectStore(SV)}}).catch((V=>{throw RV.create("idb-open",{originalErrorMessage:V.message})}))),zV}async function wV(V,O){try{const Z=(await GV()).transaction(SV,"readwrite"),d=Z.objectStore(SV);await d.put(O,tV(V)),await Z.done}catch(Z){if(Z instanceof r.g)v.warn(Z.message);else{const V=RV.create("idb-set",{originalErrorMessage:null===Z||void 0===Z?void 0:Z.message});v.warn(V.message)}}}function tV(V){return`${V.name}!${V.options.appId}`}class CV{constructor(V){this.container=V,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.ni=new AV(O),this._heartbeatsCachePromise=this.ni.read().then((V=>(this._heartbeatsCache=V,V)))}async triggerHeartbeat(){const V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=vV();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((V=>V.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:V}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((V=>{const O=new Date(V.date).valueOf();return Date.now()-O<=2592e6})),this.ni.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const V=vV(),{heartbeatsToSend:O,unsentEntries:Z}=function(V){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Z=[];let d=V.slice();for(const p of V){const V=Z.find((V=>V.agent===p.agent));if(V){if(V.dates.push(p.date),lV(Z)>O){V.dates.pop();break}}else if(Z.push({agent:p.agent,dates:[p.date]}),lV(Z)>O){Z.pop();break}d=d.slice(1)}return{heartbeatsToSend:Z,unsentEntries:d}}(this._heartbeatsCache.heartbeats),d=(0,r.q)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=V,Z.length>0?(this._heartbeatsCache.heartbeats=Z,await this.ni.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ni.overwrite(this._heartbeatsCache)),d}}function vV(){return(new Date).toISOString().substring(0,10)}class AV{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,r.X)()&&(0,r.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(V){try{const O=await GV();return await O.transaction(SV).objectStore(SV).get(tV(V))}catch(O){if(O instanceof r.g)v.warn(O.message);else{const V=RV.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});v.warn(V.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(V){var O;if(await this._canUseIndexedDBPromise){const Z=await this.read();return wV(this.app,{lastSentHeartbeatDate:null!==(O=V.lastSentHeartbeatDate)&&void 0!==O?O:Z.lastSentHeartbeatDate,heartbeats:V.heartbeats})}}async add(V){var O;if(await this._canUseIndexedDBPromise){const Z=await this.read();return wV(this.app,{lastSentHeartbeatDate:null!==(O=V.lastSentHeartbeatDate)&&void 0!==O?O:Z.lastSentHeartbeatDate,heartbeats:[...Z.heartbeats,...V.heartbeats]})}}}function lV(V){return(0,r.q)(JSON.stringify({version:2,heartbeats:V})).length}var IV;IV="",pV(new d.h("platform-logger",(V=>new w(V)),"PRIVATE")),pV(new d.h("heartbeat",(V=>new CV(V)),"PRIVATE")),bV(t,C,IV),bV(t,C,"esm2017"),bV("fire-js","")},10684:(V,O,Z)=>{Z.d(O,{e:()=>m,h:()=>p});var d=Z(10693);class p{constructor(V,O,Z){this.name=V,this.instanceFactory=O,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const r="[DEFAULT]";class Y{constructor(V,O){this.name=V,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const O=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(O)){const V=new d.c;if(this.instancesDeferred.set(O,V),this.isInitialized(O)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:O});Z&&V.resolve(Z)}catch(Z){}}return this.instancesDeferred.get(O).promise}getImmediate(V){var O;const Z=this.normalizeInstanceIdentifier(null===V||void 0===V?void 0:V.identifier),d=null!==(O=null===V||void 0===V?void 0:V.optional)&&void 0!==O&&O;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(d)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(p){if(d)return null;throw p}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:r})}catch(O){}for(const[V,Z]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(V);try{const V=this.getOrInitializeService({instanceIdentifier:d});Z.resolve(V)}catch(O){}}}}clearInstance(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}async delete(){const V=Array.from(this.instances.values());await Promise.all([...V.filter((V=>"INTERNAL"in V)).map((V=>V.INTERNAL.delete())),...V.filter((V=>"_delete"in V)).map((V=>V._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.instances.has(V)}getOptions(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.instancesOptions.get(V)||{}}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=V,Z=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:Z,options:O});for(const[p,r]of this.instancesDeferred.entries()){Z===this.normalizeInstanceIdentifier(p)&&r.resolve(d)}return d}Th(V,O){var Z;const d=this.normalizeInstanceIdentifier(O),p=null!==(Z=this.onInitCallbacks.get(d))&&void 0!==Z?Z:new Set;p.add(V),this.onInitCallbacks.set(d,p);const r=this.instances.get(d);return r&&V(r,d),()=>{p.delete(V)}}invokeOnInitCallbacks(V,O){const Z=this.onInitCallbacks.get(O);if(Z)for(const p of Z)try{p(V,O)}catch(d){}}getOrInitializeService(V){let{instanceIdentifier:O,options:Z={}}=V,d=this.instances.get(O);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:(p=O,p===r?void 0:p),options:Z}),this.instances.set(O,d),this.instancesOptions.set(O,Z),this.invokeOnInitCallbacks(d,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,d)}catch(Y){}var p;return d||null}normalizeInstanceIdentifier(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return this.component?this.component.multipleInstances?V:r:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(V){this.name=V,this.providers=new Map}ke(V){const O=this.getProvider(V.name);if(O.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);O.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.ke(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const O=new Y(V,this);return this.providers.set(V,O),O}getProviders(){return Array.from(this.providers.values())}}},10695:(V,O,Z)=>{Z.d(O,{d:()=>p,f:()=>R,g:()=>i,j:()=>M});const d=[];var p;!function(V){V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT"}(p||(p={}));const r={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},Y=p.INFO,m={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},a=function(V,O){if(O<V.logLevel)return;const Z=(new Date).toISOString(),d=m[O];if(!d)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var p=arguments.length,r=new Array(p>2?p-2:0),Y=2;Y<p;Y++)r[Y-2]=arguments[Y];console[d](`[${Z}]  ${V.name}:`,...r)};class R{constructor(V){this.name=V,this._logLevel=Y,this._logHandler=a,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in p))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"===typeof V?r[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!==typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(){for(var V=arguments.length,O=new Array(V),Z=0;Z<V;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...O),this._logHandler(this,p.DEBUG,...O)}log(){for(var V=arguments.length,O=new Array(V),Z=0;Z<V;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...O),this._logHandler(this,p.VERBOSE,...O)}info(){for(var V=arguments.length,O=new Array(V),Z=0;Z<V;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,p.INFO,...O),this._logHandler(this,p.INFO,...O)}warn(){for(var V=arguments.length,O=new Array(V),Z=0;Z<V;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,p.WARN,...O),this._logHandler(this,p.WARN,...O)}error(){for(var V=arguments.length,O=new Array(V),Z=0;Z<V;Z++)O[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler(this,p.ERROR,...O),this._logHandler(this,p.ERROR,...O)}}function i(V){d.forEach((O=>{O.setLogLevel(V)}))}function M(V,O){for(const Z of d){let d=null;O&&O.level&&(d=r[O.level]),Z.userLogHandler=null===V?null:function(O,Z){for(var r=arguments.length,Y=new Array(r>2?r-2:0),m=2;m<r;m++)Y[m-2]=arguments[m];const a=Y.map((V=>{if(null==V)return null;if("string"===typeof V)return V;if("number"===typeof V||"boolean"===typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch(O){return null}})).filter((V=>V)).join(" ");Z>=(null!==d&&void 0!==d?d:O.logLevel)&&V({level:p[Z].toLowerCase(),message:a,args:Y,type:O.name})}}}}}]);