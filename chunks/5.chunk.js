/*! For license information please see n181bj.5.ac9fa0d4.chunk.js.LICENSE.txt */
"use strict";(self["5dou0t7wntc"]=self["5dou0t7wntc"]||[]).push([[5],{11491:(K,O,F)=>{F.d(O,{B:()=>R,E:()=>W,G:()=>Q,K:()=>t,O:()=>M,S:()=>j,V:()=>B,W:()=>u,X:()=>o,_:()=>e,bb:()=>N,db:()=>Z,e:()=>X,hb:()=>T,i:()=>g,kb:()=>k,m:()=>a,nb:()=>A,o:()=>d,pb:()=>y,r:()=>J,rb:()=>L,v:()=>q,y:()=>Y});const f=function(K){const O=[];let F=0;for(let f=0;f<K.length;f++){let r=K.charCodeAt(f);r<128?O[F++]=r:r<2048?(O[F++]=r>>6|192,O[F++]=63&r|128):55296===(64512&r)&&f+1<K.length&&56320===(64512&K.charCodeAt(f+1))?(r=65536+((1023&r)<<10)+(1023&K.charCodeAt(++f)),O[F++]=r>>18|240,O[F++]=r>>12&63|128,O[F++]=r>>6&63|128,O[F++]=63&r|128):(O[F++]=r>>12|224,O[F++]=r>>6&63|128,O[F++]=63&r|128)}return O},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(K,O){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let r=0;r<K.length;r+=3){const O=K[r],l=r+1<K.length,q=l?K[r+1]:0,J=r+2<K.length,c=J?K[r+2]:0,E=O>>2,M=(3&O)<<4|q>>4;let t=(15&q)<<2|c>>6,j=63&c;J||(j=64,l||(t=64)),f.push(F[E],F[M],F[t],F[j])}return f.join("")},encodeString(K,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(K):this.encodeByteArray(f(K),O)},decodeString(K,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(K):function(K){const O=[];let F=0,f=0;for(;F<K.length;){const r=K[F++];if(r<128)O[f++]=String.fromCharCode(r);else if(r>191&&r<224){const l=K[F++];O[f++]=String.fromCharCode((31&r)<<6|63&l)}else if(r>239&&r<365){const l=((7&r)<<18|(63&K[F++])<<12|(63&K[F++])<<6|63&K[F++])-65536;O[f++]=String.fromCharCode(55296+(l>>10)),O[f++]=String.fromCharCode(56320+(1023&l))}else{const l=K[F++],q=K[F++];O[f++]=String.fromCharCode((15&r)<<12|(63&l)<<6|63&q)}}return O.join("")}(this.decodeStringToByteArray(K,O))},decodeStringToByteArray(K,O){this.init_();const F=O?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let r=0;r<K.length;){const O=F[K.charAt(r++)],q=r<K.length?F[K.charAt(r)]:0;++r;const J=r<K.length?F[K.charAt(r)]:64;++r;const c=r<K.length?F[K.charAt(r)]:64;if(++r,null==O||null==q||null==J||null==c)throw new l;const E=O<<2|q>>4;if(f.push(E),64!==J){const K=q<<4&240|J>>2;if(f.push(K),64!==c){const K=J<<6&192|c;f.push(K)}}}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(K){return function(K){const O=f(K);return r.encodeByteArray(O,!0)}(K).replace(/\./g,"")},J=function(K){try{return r.decodeString(K,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof F.g)return F.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,E=()=>{try{return c()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(F){return}const O=K&&J(K[1]);return O&&JSON.parse(O)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},M=K=>{var O,F;return null===(F=null===(O=E())||void 0===O?void 0:O.emulatorHosts)||void 0===F?void 0:F[K]},t=()=>{var K;return null===(K=E())||void 0===K?void 0:K.config},j=K=>{var O;return null===(O=E())||void 0===O?void 0:O[`_${K}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((K,O)=>{this.resolve=K,this.reject=O}))}wrapCallback(K){return(O,F)=>{O?this.reject(O):this.resolve(F),"function"===typeof K&&(this.promise.catch((()=>{})),1===K.length?K(O):K(O,F))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function o(){const K="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof K&&void 0!==K.id}function k(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){const K=u();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Z(){try{return"object"===typeof indexedDB}catch(K){return!1}}function L(){return new Promise(((K,O)=>{try{let F=!0;const f="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(f);r.onsuccess=()=>{r.result.close(),F||self.indexedDB.deleteDatabase(f),K(!0)},r.onupgradeneeded=()=>{F=!1},r.onerror=()=>{var K;O((null===(K=r.error)||void 0===K?void 0:K.message)||"")}}catch(F){O(F)}}))}function d(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class a extends Error{constructor(K,O,F){super(O),this.code=K,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g.prototype.create)}}class g{constructor(K,O,F){this.service=K,this.serviceName=O,this.errors=F}create(K){const O=(arguments.length<=1?void 0:arguments[1])||{},F=`${this.service}/${K}`,f=this.errors[K],r=f?function(K,O){return K.replace(H,((K,F)=>{const f=O[F];return null!=f?String(f):`<${F}?>`}))}(f,O):"Error",l=`${this.serviceName}: ${r} (${F}).`;return new a(F,l,O)}}const H=/\{\$([^}]+)}/g;function e(K){for(const O in K)if(Object.prototype.hasOwnProperty.call(K,O))return!1;return!0}function W(K,O){if(K===O)return!0;const F=Object.keys(K),f=Object.keys(O);for(const r of F){if(!f.includes(r))return!1;const F=K[r],l=O[r];if(p(F)&&p(l)){if(!W(F,l))return!1}else if(F!==l)return!1}for(const r of f)if(!F.includes(r))return!1;return!0}function p(K){return null!==K&&"object"===typeof K}function y(K){const O=[];for(const[F,f]of Object.entries(K))Array.isArray(f)?f.forEach((K=>{O.push(encodeURIComponent(F)+"="+encodeURIComponent(K))})):O.push(encodeURIComponent(F)+"="+encodeURIComponent(f));return O.length?"&"+O.join("&"):""}function A(K){const O={};return K.replace(/^\?/,"").split("&").forEach((K=>{if(K){const[F,f]=K.split("=");O[decodeURIComponent(F)]=decodeURIComponent(f)}})),O}function Q(K){const O=K.indexOf("?");if(!O)return"";const F=K.indexOf("#",O);return K.substring(O,F>0?F:void 0)}function R(K,O){const F=new G(K,O);return F.subscribe.bind(F)}class G{constructor(K,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{K(this)})).catch((K=>{this.error(K)}))}next(K){this.forEachObserver((O=>{O.next(K)}))}error(K){this.forEachObserver((O=>{O.error(K)})),this.close(K)}complete(){this.forEachObserver((K=>{K.complete()})),this.close()}subscribe(K,O,F){let f;if(void 0===K&&void 0===O&&void 0===F)throw new Error("Missing Observer.");f=function(K,O){if("object"!==typeof K||null===K)return!1;for(const F of O)if(F in K&&"function"===typeof K[F])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:O,complete:F},void 0===f.next&&(f.next=z),void 0===f.error&&(f.error=z),void 0===f.complete&&(f.complete=z);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?f.error(this.finalError):f.complete()}catch(K){}})),this.observers.push(f),r}unsubscribeOne(K){void 0!==this.observers&&void 0!==this.observers[K]&&(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,K)}sendOne(K,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{O(this.observers[K])}catch(F){"undefined"!==typeof console&&console.error&&console.error(F)}}))}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(){}const m=1e3,x=2,V=144e5,v=.5;function Y(K){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const F=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:m)*Math.pow(O,K),f=Math.round(v*F*(Math.random()-.5)*2);return Math.min(V,F+f)}function B(K){return K&&K._delegate?K._delegate:K}},11480:(K,O,F)=>{F.d(O,{b:()=>l.m,f:()=>tK,h:()=>P,j:()=>FK,n:()=>fK,p:()=>KK,q:()=>JK,r:()=>OK,s:()=>lK,u:()=>rK,y:()=>qK,B:()=>TK,J:()=>XK,F:()=>uK,K:()=>jK,O:()=>kK,P:()=>oK,T:()=>NK});var f=F(11482),r=F(11499),l=F(11491);let q,J;const c=new WeakMap,E=new WeakMap,M=new WeakMap,t=new WeakMap,j=new WeakMap;let X={get(K,O,F){if(K instanceof IDBTransaction){if("done"===O)return E.get(K);if("objectStoreNames"===O)return K.objectStoreNames||M.get(K);if("store"===O)return F.objectStoreNames[1]?void 0:F.objectStore(F.objectStoreNames[0])}return o(K[O])},set:(K,O,F)=>(K[O]=F,!0),has:(K,O)=>K instanceof IDBTransaction&&("done"===O||"store"===O)||O in K};function u(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(){for(var O=arguments.length,F=new Array(O),f=0;f<O;f++)F[f]=arguments[f];return K.apply(k(this),F),o(c.get(this))}:function(){for(var O=arguments.length,F=new Array(O),f=0;f<O;f++)F[f]=arguments[f];return o(K.apply(k(this),F))}:function(O){for(var F=arguments.length,f=new Array(F>1?F-1:0),r=1;r<F;r++)f[r-1]=arguments[r];const l=K.call(k(this),O,...f);return M.set(l,O.sort?O.sort():[O]),o(l)}}function T(K){return"function"===typeof K?u(K):(K instanceof IDBTransaction&&function(K){if(E.has(K))return;const O=new Promise(((O,F)=>{const f=()=>{K.removeEventListener("complete",r),K.removeEventListener("error",l),K.removeEventListener("abort",l)},r=()=>{O(),f()},l=()=>{F(K.error||new DOMException("AbortError","AbortError")),f()};K.addEventListener("complete",r),K.addEventListener("error",l),K.addEventListener("abort",l)}));E.set(K,O)}(K),O=K,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((K=>O instanceof K))?new Proxy(K,X):K);var O}function o(K){if(K instanceof IDBRequest)return function(K){const O=new Promise(((O,F)=>{const f=()=>{K.removeEventListener("success",r),K.removeEventListener("error",l)},r=()=>{O(o(K.result)),f()},l=()=>{F(K.error),f()};K.addEventListener("success",r),K.addEventListener("error",l)}));return O.then((O=>{O instanceof IDBCursor&&c.set(O,K)})).catch((()=>{})),j.set(O,K),O}(K);if(t.has(K))return t.get(K);const O=T(K);return O!==K&&(t.set(K,O),j.set(O,K)),O}const k=K=>j.get(K);const N=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],L=new Map;function d(K,O){if(!(K instanceof IDBDatabase)||O in K||"string"!==typeof O)return;if(L.get(O))return L.get(O);const F=O.replace(/FromIndex$/,""),f=O!==F,r=Z.includes(F);if(!(F in(f?IDBIndex:IDBObjectStore).prototype)||!r&&!N.includes(F))return;const l=async function(K){const O=this.transaction(K,r?"readwrite":"readonly");let l=O.store;for(var q=arguments.length,J=new Array(q>1?q-1:0),c=1;c<q;c++)J[c-1]=arguments[c];return f&&(l=l.index(J.shift())),(await Promise.all([l[F](...J),r&&O.done]))[0]};return L.set(O,l),l}X=(K=>({...K,get:(O,F,f)=>d(O,F)||K.get(O,F,f),has:(O,F)=>!!d(O,F)||K.has(O,F)}))(X);class a{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map((K=>{if(function(K){const O=K.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(K)){const O=K.getImmediate();return`${O.library}/${O.version}`}return null})).filter((K=>K)).join(" ")}}const g="@firebase/app",H="0.9.13",e=new r.g("@firebase/app"),W="@firebase/app-compat",p="@firebase/analytics-compat",y="@firebase/analytics",A="@firebase/app-check-compat",Q="@firebase/app-check",R="@firebase/auth",G="@firebase/auth-compat",z="@firebase/database",m="@firebase/database-compat",x="@firebase/functions",V="@firebase/functions-compat",v="@firebase/installations",Y="@firebase/installations-compat",B="@firebase/messaging",n="@firebase/messaging-compat",C="@firebase/performance",I="@firebase/performance-compat",D="@firebase/remote-config",h="@firebase/remote-config-compat",b="@firebase/storage",i="@firebase/storage-compat",w="@firebase/firestore",s="@firebase/firestore-compat",U="firebase",P="[DEFAULT]",S={[g]:"fire-core",[W]:"fire-core-compat",[y]:"fire-analytics",[p]:"fire-analytics-compat",[Q]:"fire-app-check",[A]:"fire-app-check-compat",[R]:"fire-auth",[G]:"fire-auth-compat",[z]:"fire-rtdb",[m]:"fire-rtdb-compat",[x]:"fire-fn",[V]:"fire-fn-compat",[v]:"fire-iid",[Y]:"fire-iid-compat",[B]:"fire-fcm",[n]:"fire-fcm-compat",[C]:"fire-perf",[I]:"fire-perf-compat",[D]:"fire-rc",[h]:"fire-rc-compat",[b]:"fire-gcs",[i]:"fire-gcs-compat",[w]:"fire-fst",[s]:"fire-fst-compat","fire-js":"fire-js",[U]:"fire-js-all"},KK=new Map,OK=new Map;function FK(K,O){try{K.container.XE(O)}catch(F){e.debug(`Component ${O.name} failed to register with FirebaseApp ${K.name}`,F)}}function fK(K,O){K.container.addOrOverwriteComponent(O)}function rK(K){const O=K.name;if(OK.has(O))return e.debug(`There were multiple attempts to register component ${O}.`),!1;OK.set(O,K);for(const F of KK.values())FK(F,K);return!0}function lK(K,O){const F=K.container.getProvider("heartbeat").getImmediate({optional:!0});return F&&F.triggerHeartbeat(),K.container.getProvider(O)}function qK(K,O){let F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;lK(K,O).clearInstance(F)}function JK(){OK.clear()}const cK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},EK=new l.i("app","Firebase",cK);class MK{constructor(K,O,F){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=F,this.container.XE(new f.i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw EK.create("app-deleted",{appName:this._name})}}const tK="9.23.0";function jK(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=K;if("object"!==typeof O){O={name:O}}const r=Object.assign({name:P,automaticDataCollectionEnabled:!1},O),q=r.name;if("string"!==typeof q||!q)throw EK.create("bad-app-name",{appName:String(q)});if(F||(F=(0,l.K)()),!F)throw EK.create("no-options");const J=KK.get(q);if(J){if((0,l.E)(F,J.options)&&(0,l.E)(r,J.config))return J;throw EK.create("duplicate-app",{appName:q})}const c=new f.e(q);for(const f of OK.values())c.XE(f);const E=new MK(F,r,c);return KK.set(q,E),E}function XK(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;const O=KK.get(K);if(!O&&K===P&&(0,l.K)())return jK();if(!O)throw EK.create("no-app",{appName:K});return O}function uK(){return Array.from(KK.values())}async function TK(K){const O=K.name;KK.has(O)&&(KK.delete(O),await Promise.all(K.container.getProviders().map((K=>K.delete()))),K.isDeleted=!0)}function oK(K,O,F){var r;let l=null!==(r=S[K])&&void 0!==r?r:K;F&&(l+=`-${F}`);const q=l.match(/\s|\//),J=O.match(/\s|\//);if(q||J){const K=[`Unable to register library "${l}" with version "${O}":`];return q&&K.push(`library name "${l}" contains illegal characters (whitespace or "/")`),q&&J&&K.push("and"),J&&K.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void e.warn(K.join(" "))}rK(new f.i(`${l}-version`,(()=>({library:l,version:O})),"VERSION"))}function kK(K,O){if(null!==K&&"function"!==typeof K)throw EK.create("invalid-log-argument");(0,r.k)(K,O)}function NK(K){(0,r.h)(K)}const ZK="firebase-heartbeat-store";let LK=null;function dK(){return LK||(LK=function(K,O){let{blocked:F,upgrade:f,blocking:r,terminated:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const q=indexedDB.open(K,O),J=o(q);return f&&q.addEventListener("upgradeneeded",(K=>{f(o(q.result),K.oldVersion,K.newVersion,o(q.transaction),K)})),F&&q.addEventListener("blocked",(K=>F(K.oldVersion,K.newVersion,K))),J.then((K=>{l&&K.addEventListener("close",(()=>l())),r&&K.addEventListener("versionchange",(K=>r(K.oldVersion,K.newVersion,K)))})).catch((()=>{})),J}("firebase-heartbeat-database",1,{upgrade:(K,O)=>{if(0===O)K.createObjectStore(ZK)}}).catch((K=>{throw EK.create("idb-open",{originalErrorMessage:K.message})}))),LK}async function aK(K,O){try{const F=(await dK()).transaction(ZK,"readwrite"),f=F.objectStore(ZK);await f.put(O,gK(K)),await F.done}catch(F){if(F instanceof l.m)e.warn(F.message);else{const K=EK.create("idb-set",{originalErrorMessage:null===F||void 0===F?void 0:F.message});e.warn(K.message)}}}function gK(K){return`${K.name}!${K.options.appId}`}class HK{constructor(K){this.container=K,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.Dt=new WK(O),this._heartbeatsCachePromise=this.Dt.read().then((K=>(this._heartbeatsCache=K,K)))}async triggerHeartbeat(){const K=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=eK();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((K=>K.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:K}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((K=>{const O=new Date(K.date).valueOf();return Date.now()-O<=2592e6})),this.Dt.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const K=eK(),{heartbeatsToSend:O,unsentEntries:F}=function(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const F=[];let f=K.slice();for(const r of K){const K=F.find((K=>K.agent===r.agent));if(K){if(K.dates.push(r.date),pK(F)>O){K.dates.pop();break}}else if(F.push({agent:r.agent,dates:[r.date]}),pK(F)>O){F.pop();break}f=f.slice(1)}return{heartbeatsToSend:F,unsentEntries:f}}(this._heartbeatsCache.heartbeats),f=(0,l.v)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=K,F.length>0?(this._heartbeatsCache.heartbeats=F,await this.Dt.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Dt.overwrite(this._heartbeatsCache)),f}}function eK(){return(new Date).toISOString().substring(0,10)}class WK{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.db)()&&(0,l.rb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(K){try{const O=await dK();return await O.transaction(ZK).objectStore(ZK).get(gK(K))}catch(O){if(O instanceof l.m)e.warn(O.message);else{const K=EK.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});e.warn(K.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(K){var O;if(await this._canUseIndexedDBPromise){const F=await this.read();return aK(this.app,{lastSentHeartbeatDate:null!==(O=K.lastSentHeartbeatDate)&&void 0!==O?O:F.lastSentHeartbeatDate,heartbeats:K.heartbeats})}}async add(K){var O;if(await this._canUseIndexedDBPromise){const F=await this.read();return aK(this.app,{lastSentHeartbeatDate:null!==(O=K.lastSentHeartbeatDate)&&void 0!==O?O:F.lastSentHeartbeatDate,heartbeats:[...F.heartbeats,...K.heartbeats]})}}}function pK(K){return(0,l.v)(JSON.stringify({version:2,heartbeats:K})).length}var yK;yK="",rK(new f.i("platform-logger",(K=>new a(K)),"PRIVATE")),rK(new f.i("heartbeat",(K=>new HK(K)),"PRIVATE")),oK(g,H,yK),oK(g,H,"esm2017"),oK("fire-js","")},11482:(K,O,F)=>{F.d(O,{e:()=>J,i:()=>r});var f=F(11491);class r{constructor(K,O,F){this.name=K,this.instanceFactory=O,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const l="[DEFAULT]";class q{constructor(K,O){this.name=K,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const O=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(O)){const K=new f.e;if(this.instancesDeferred.set(O,K),this.isInitialized(O)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:O});F&&K.resolve(F)}catch(F){}}return this.instancesDeferred.get(O).promise}getImmediate(K){var O;const F=this.normalizeInstanceIdentifier(null===K||void 0===K?void 0:K.identifier),f=null!==(O=null===K||void 0===K?void 0:K.optional)&&void 0!==O&&O;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(f)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(r){if(f)return null;throw r}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function(K){return"EAGER"===K.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:l})}catch(O){}for(const[K,F]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(K);try{const K=this.getOrInitializeService({instanceIdentifier:f});F.resolve(K)}catch(O){}}}}clearInstance(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}async delete(){const K=Array.from(this.instances.values());await Promise.all([...K.filter((K=>"INTERNAL"in K)).map((K=>K.INTERNAL.delete())),...K.filter((K=>"_delete"in K)).map((K=>K._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instances.has(K)}getOptions(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.instancesOptions.get(K)||{}}initialize(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=K,F=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(F))throw Error(`${this.name}(${F}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:F,options:O});for(const[r,l]of this.instancesDeferred.entries()){F===this.normalizeInstanceIdentifier(r)&&l.resolve(f)}return f}Zt(K,O){var F;const f=this.normalizeInstanceIdentifier(O),r=null!==(F=this.onInitCallbacks.get(f))&&void 0!==F?F:new Set;r.add(K),this.onInitCallbacks.set(f,r);const l=this.instances.get(f);return l&&K(l,f),()=>{r.delete(K)}}invokeOnInitCallbacks(K,O){const F=this.onInitCallbacks.get(O);if(F)for(const r of F)try{r(K,O)}catch(f){}}getOrInitializeService(K){let{instanceIdentifier:O,options:F={}}=K,f=this.instances.get(O);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(r=O,r===l?void 0:r),options:F}),this.instances.set(O,f),this.instancesOptions.set(O,F),this.invokeOnInitCallbacks(f,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,f)}catch(q){}var r;return f||null}normalizeInstanceIdentifier(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return this.component?this.component.multipleInstances?K:l:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(K){this.name=K,this.providers=new Map}XE(K){const O=this.getProvider(K.name);if(O.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);O.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.XE(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const O=new q(K,this);return this.providers.set(K,O),O}getProviders(){return Array.from(this.providers.values())}}},11499:(K,O,F)=>{F.d(O,{d:()=>r,g:()=>E,h:()=>M,k:()=>t});const f=[];var r;!function(K){K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT"}(r||(r={}));const l={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},q=r.INFO,J={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},c=function(K,O){if(O<K.logLevel)return;const F=(new Date).toISOString(),f=J[O];if(!f)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var r=arguments.length,l=new Array(r>2?r-2:0),q=2;q<r;q++)l[q-2]=arguments[q];console[f](`[${F}]  ${K.name}:`,...l)};class E{constructor(K){this.name=K,this._logLevel=q,this._logHandler=c,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in r))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"===typeof K?l[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!==typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(){for(var K=arguments.length,O=new Array(K),F=0;F<K;F++)O[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...O),this._logHandler(this,r.DEBUG,...O)}log(){for(var K=arguments.length,O=new Array(K),F=0;F<K;F++)O[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...O),this._logHandler(this,r.VERBOSE,...O)}info(){for(var K=arguments.length,O=new Array(K),F=0;F<K;F++)O[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,r.INFO,...O),this._logHandler(this,r.INFO,...O)}warn(){for(var K=arguments.length,O=new Array(K),F=0;F<K;F++)O[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,r.WARN,...O),this._logHandler(this,r.WARN,...O)}error(){for(var K=arguments.length,O=new Array(K),F=0;F<K;F++)O[F]=arguments[F];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...O),this._logHandler(this,r.ERROR,...O)}}function M(K){f.forEach((O=>{O.setLogLevel(K)}))}function t(K,O){for(const F of f){let f=null;O&&O.level&&(f=l[O.level]),F.userLogHandler=null===K?null:function(O,F){for(var l=arguments.length,q=new Array(l>2?l-2:0),J=2;J<l;J++)q[J-2]=arguments[J];const c=q.map((K=>{if(null==K)return null;if("string"===typeof K)return K;if("number"===typeof K||"boolean"===typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(O){return null}})).filter((K=>K)).join(" ");F>=(null!==f&&void 0!==f?f:O.logLevel)&&K({level:r[F].toLowerCase(),message:c,args:q,type:O.name})}}}}}]);