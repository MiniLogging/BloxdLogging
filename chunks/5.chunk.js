/*! For license information please see nfmzpf.5.b2e2e5bc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10916:(q,f,j)=>{j.d(f,{B:()=>X,D:()=>u,E:()=>z,G:()=>k,K:()=>D,O:()=>t,S:()=>I,V:()=>N,W:()=>w,_:()=>i,cb:()=>O,db:()=>U,e:()=>B,fb:()=>n,g:()=>e,hb:()=>E,k:()=>S,n:()=>s,p:()=>Q,s:()=>L,t:()=>A,u:()=>v,v:()=>T,z:()=>Y});const d=function(q){const f=[];let j=0;for(let d=0;d<q.length;d++){let g=q.charCodeAt(d);g<128?f[j++]=g:g<2048?(f[j++]=g>>6|192,f[j++]=63&g|128):55296===(64512&g)&&d+1<q.length&&56320===(64512&q.charCodeAt(d+1))?(g=65536+((1023&g)<<10)+(1023&q.charCodeAt(++d)),f[j++]=g>>18|240,f[j++]=g>>12&63|128,f[j++]=g>>6&63|128,f[j++]=63&g|128):(f[j++]=g>>12|224,f[j++]=g>>6&63|128,f[j++]=63&g|128)}return f},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(q,f){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=f?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let g=0;g<q.length;g+=3){const f=q[g],h=g+1<q.length,L=h?q[g+1]:0,Q=g+2<q.length,H=Q?q[g+2]:0,r=f>>2,u=(3&f)<<4|L>>4;let X=(15&L)<<2|H>>6,z=63&H;Q||(z=64,h||(X=64)),d.push(j[r],j[u],j[X],j[z])}return d.join("")},encodeString(q,f){return this.HAS_NATIVE_SUPPORT&&!f?btoa(q):this.encodeByteArray(d(q),f)},decodeString(q,f){return this.HAS_NATIVE_SUPPORT&&!f?atob(q):function(q){const f=[];let j=0,d=0;for(;j<q.length;){const g=q[j++];if(g<128)f[d++]=String.fromCharCode(g);else if(g>191&&g<224){const h=q[j++];f[d++]=String.fromCharCode((31&g)<<6|63&h)}else if(g>239&&g<365){const h=((7&g)<<18|(63&q[j++])<<12|(63&q[j++])<<6|63&q[j++])-65536;f[d++]=String.fromCharCode(55296+(h>>10)),f[d++]=String.fromCharCode(56320+(1023&h))}else{const h=q[j++],L=q[j++];f[d++]=String.fromCharCode((15&g)<<12|(63&h)<<6|63&L)}}return f.join("")}(this.decodeStringToByteArray(q,f))},decodeStringToByteArray(q,f){this.init_();const j=f?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let g=0;g<q.length;){const f=j[q.charAt(g++)],L=g<q.length?j[q.charAt(g)]:0;++g;const Q=g<q.length?j[q.charAt(g)]:64;++g;const H=g<q.length?j[q.charAt(g)]:64;if(++g,null==f||null==L||null==Q||null==H)throw new h;const r=f<<2|L>>4;if(d.push(r),64!==Q){const q=L<<4&240|Q>>2;if(d.push(q),64!==H){const q=Q<<6&192|H;d.push(q)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(q){return function(q){const f=d(q);return g.encodeByteArray(f,!0)}(q).replace(/\./g,"")},Q=function(q){try{return g.decodeString(q,!0)}catch(f){console.error("base64Decode failed: ",f)}return null};const H=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof j.g)return j.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,r=()=>{try{return H()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(j){return}const f=q&&Q(q[1]);return f&&JSON.parse(f)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},u=q=>{var f,j;return null===(j=null===(f=r())||void 0===f?void 0:f.emulatorHosts)||void 0===j?void 0:j[q]},X=()=>{var q;return null===(q=r())||void 0===q?void 0:q.config},z=q=>{var f;return null===(f=r())||void 0===f?void 0:f[`_${q}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((q,f)=>{this.resolve=q,this.reject=f}))}wrapCallback(q){return(f,j)=>{f?this.reject(f):this.resolve(j),"function"===typeof q&&(this.promise.catch((()=>{})),1===q.length?q(f):q(f,j))}}}function D(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function i(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())}function t(){const q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof q&&void 0!==q.id}function O(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){const q=D();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function w(){try{return"object"===typeof indexedDB}catch(q){return!1}}function E(){return new Promise(((q,f)=>{try{let j=!0;const d="validate-browser-context-for-indexeddb-analytics-module",g=self.indexedDB.open(d);g.onsuccess=()=>{g.result.close(),j||self.indexedDB.deleteDatabase(d),q(!0)},g.onupgradeneeded=()=>{j=!1},g.onerror=()=>{var q;f((null===(q=g.error)||void 0===q?void 0:q.message)||"")}}catch(j){f(j)}}))}function s(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(q,f,j){super(f),this.code=q,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e.prototype.create)}}class e{constructor(q,f,j){this.service=q,this.serviceName=f,this.errors=j}create(q){const f=(arguments.length<=1?void 0:arguments[1])||{},j=`${this.service}/${q}`,d=this.errors[q],g=d?function(q,f){return q.replace(Z,((q,j)=>{const d=f[j];return null!=d?String(d):`<${j}?>`}))}(d,f):"Error",h=`${this.serviceName}: ${g} (${j}).`;return new S(j,h,f)}}const Z=/\{\$([^}]+)}/g;function I(q){for(const f in q)if(Object.prototype.hasOwnProperty.call(q,f))return!1;return!0}function T(q,f){if(q===f)return!0;const j=Object.keys(q),d=Object.keys(f);for(const g of j){if(!d.includes(g))return!1;const j=q[g],h=f[g];if(W(j)&&W(h)){if(!T(j,h))return!1}else if(j!==h)return!1}for(const g of d)if(!j.includes(g))return!1;return!0}function W(q){return null!==q&&"object"===typeof q}function n(q){const f=[];for(const[j,d]of Object.entries(q))Array.isArray(d)?d.forEach((q=>{f.push(encodeURIComponent(j)+"="+encodeURIComponent(q))})):f.push(encodeURIComponent(j)+"="+encodeURIComponent(d));return f.length?"&"+f.join("&"):""}function U(q){const f={};return q.replace(/^\?/,"").split("&").forEach((q=>{if(q){const[j,d]=q.split("=");f[decodeURIComponent(j)]=decodeURIComponent(d)}})),f}function Y(q){const f=q.indexOf("?");if(!f)return"";const j=q.indexOf("#",f);return q.substring(f,j>0?j:void 0)}function v(q,f){const j=new F(q,f);return j.subscribe.bind(j)}class F{constructor(q,f){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=f,this.task.then((()=>{q(this)})).catch((q=>{this.error(q)}))}next(q){this.forEachObserver((f=>{f.next(q)}))}error(q){this.forEachObserver((f=>{f.error(q)})),this.close(q)}complete(){this.forEachObserver((q=>{q.complete()})),this.close()}subscribe(q,f,j){let d;if(void 0===q&&void 0===f&&void 0===j)throw new Error("Missing Observer.");d=function(q,f){if("object"!==typeof q||null===q)return!1;for(const j of f)if(j in q&&"function"===typeof q[j])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:f,complete:j},void 0===d.next&&(d.next=M),void 0===d.error&&(d.error=M),void 0===d.complete&&(d.complete=M);const g=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch(q){}})),this.observers.push(d),g}unsubscribeOne(q){void 0!==this.observers&&void 0!==this.observers[q]&&(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let f=0;f<this.observers.length;f++)this.sendOne(f,q)}sendOne(q,f){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{f(this.observers[q])}catch(j){"undefined"!==typeof console&&console.error&&console.error(j)}}))}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function M(){}const o=1e3,b=2,x=144e5,R=.5;function A(q){let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;const j=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(f,q),d=Math.round(R*j*(Math.random()-.5)*2);return Math.min(x,j+d)}function k(q){return q&&q._delegate?q._delegate:q}},10905:(q,f,j)=>{j.d(f,{d:()=>h.k,h:()=>Xq,j:()=>K,k:()=>jq,n:()=>dq,o:()=>qq,q:()=>Qq,s:()=>fq,t:()=>hq,v:()=>gq,y:()=>Lq,C:()=>iq,F:()=>Bq,D:()=>Dq,J:()=>zq,L:()=>Oq,M:()=>tq,O:()=>Nq});var d=j(10912),g=j(10920),h=j(10916);let L,Q;const H=new WeakMap,r=new WeakMap,u=new WeakMap,X=new WeakMap,z=new WeakMap;let B={get(q,f,j){if(q instanceof IDBTransaction){if("done"===f)return r.get(q);if("objectStoreNames"===f)return q.objectStoreNames||u.get(q);if("store"===f)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return t(q[f])},set:(q,f,j)=>(q[f]=j,!0),has:(q,f)=>q instanceof IDBTransaction&&("done"===f||"store"===f)||f in q};function D(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(q)?function(){for(var f=arguments.length,j=new Array(f),d=0;d<f;d++)j[d]=arguments[d];return q.apply(O(this),j),t(H.get(this))}:function(){for(var f=arguments.length,j=new Array(f),d=0;d<f;d++)j[d]=arguments[d];return t(q.apply(O(this),j))}:function(f){for(var j=arguments.length,d=new Array(j>1?j-1:0),g=1;g<j;g++)d[g-1]=arguments[g];const h=q.call(O(this),f,...d);return u.set(h,f.sort?f.sort():[f]),t(h)}}function i(q){return"function"===typeof q?D(q):(q instanceof IDBTransaction&&function(q){if(r.has(q))return;const f=new Promise(((f,j)=>{const d=()=>{q.removeEventListener("complete",g),q.removeEventListener("error",h),q.removeEventListener("abort",h)},g=()=>{f(),d()},h=()=>{j(q.error||new DOMException("AbortError","AbortError")),d()};q.addEventListener("complete",g),q.addEventListener("error",h),q.addEventListener("abort",h)}));r.set(q,f)}(q),f=q,(L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((q=>f instanceof q))?new Proxy(q,B):q);var f}function t(q){if(q instanceof IDBRequest)return function(q){const f=new Promise(((f,j)=>{const d=()=>{q.removeEventListener("success",g),q.removeEventListener("error",h)},g=()=>{f(t(q.result)),d()},h=()=>{j(q.error),d()};q.addEventListener("success",g),q.addEventListener("error",h)}));return f.then((f=>{f instanceof IDBCursor&&H.set(f,q)})).catch((()=>{})),z.set(f,q),f}(q);if(X.has(q))return X.get(q);const f=i(q);return f!==q&&(X.set(q,f),z.set(f,q)),f}const O=q=>z.get(q);const N=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],E=new Map;function s(q,f){if(!(q instanceof IDBDatabase)||f in q||"string"!==typeof f)return;if(E.get(f))return E.get(f);const j=f.replace(/FromIndex$/,""),d=f!==j,g=w.includes(j);if(!(j in(d?IDBIndex:IDBObjectStore).prototype)||!g&&!N.includes(j))return;const h=async function(q){const f=this.transaction(q,g?"readwrite":"readonly");let h=f.store;for(var L=arguments.length,Q=new Array(L>1?L-1:0),H=1;H<L;H++)Q[H-1]=arguments[H];return d&&(h=h.index(Q.shift())),(await Promise.all([h[j](...Q),g&&f.done]))[0]};return E.set(f,h),h}B=(q=>({...q,get:(f,j,d)=>s(f,j)||q.get(f,j,d),has:(f,j)=>!!s(f,j)||q.has(f,j)}))(B);class S{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map((q=>{if(function(q){const f=q.getComponent();return"VERSION"===(null===f||void 0===f?void 0:f.type)}(q)){const f=q.getImmediate();return`${f.library}/${f.version}`}return null})).filter((q=>q)).join(" ")}}const e="@firebase/app",Z="0.9.13",I=new g.h("@firebase/app"),T="@firebase/app-compat",W="@firebase/analytics-compat",n="@firebase/analytics",U="@firebase/app-check-compat",Y="@firebase/app-check",v="@firebase/auth",F="@firebase/auth-compat",M="@firebase/database",o="@firebase/database-compat",b="@firebase/functions",x="@firebase/functions-compat",R="@firebase/installations",A="@firebase/installations-compat",k="@firebase/messaging",y="@firebase/messaging-compat",p="@firebase/performance",l="@firebase/performance-compat",V="@firebase/remote-config",a="@firebase/remote-config-compat",P="@firebase/storage",C="@firebase/storage-compat",c="@firebase/firestore",G="@firebase/firestore-compat",m="firebase",K="[DEFAULT]",J={[e]:"fire-core",[T]:"fire-core-compat",[n]:"fire-analytics",[W]:"fire-analytics-compat",[Y]:"fire-app-check",[U]:"fire-app-check-compat",[v]:"fire-auth",[F]:"fire-auth-compat",[M]:"fire-rtdb",[o]:"fire-rtdb-compat",[b]:"fire-fn",[x]:"fire-fn-compat",[R]:"fire-iid",[A]:"fire-iid-compat",[k]:"fire-fcm",[y]:"fire-fcm-compat",[p]:"fire-perf",[l]:"fire-perf-compat",[V]:"fire-rc",[a]:"fire-rc-compat",[P]:"fire-gcs",[C]:"fire-gcs-compat",[c]:"fire-fst",[G]:"fire-fst-compat","fire-js":"fire-js",[m]:"fire-js-all"},qq=new Map,fq=new Map;function jq(q,f){try{q.container.rr(f)}catch(j){I.debug(`Component ${f.name} failed to register with FirebaseApp ${q.name}`,j)}}function dq(q,f){q.container.addOrOverwriteComponent(f)}function gq(q){const f=q.name;if(fq.has(f))return I.debug(`There were multiple attempts to register component ${f}.`),!1;fq.set(f,q);for(const j of qq.values())jq(j,q);return!0}function hq(q,f){const j=q.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),q.container.getProvider(f)}function Lq(q,f){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;hq(q,f).clearInstance(j)}function Qq(){fq.clear()}const Hq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rq=new h.g("app","Firebase",Hq);class uq{constructor(q,f,j){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},f),this._name=f.name,this._automaticDataCollectionEnabled=f.automaticDataCollectionEnabled,this._container=j,this.container.rr(new d.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw rq.create("app-deleted",{appName:this._name})}}const Xq="9.23.0";function zq(q){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=q;if("object"!==typeof f){f={name:f}}const g=Object.assign({name:K,automaticDataCollectionEnabled:!1},f),L=g.name;if("string"!==typeof L||!L)throw rq.create("bad-app-name",{appName:String(L)});if(j||(j=(0,h.B)()),!j)throw rq.create("no-options");const Q=qq.get(L);if(Q){if((0,h.v)(j,Q.options)&&(0,h.v)(g,Q.config))return Q;throw rq.create("duplicate-app",{appName:L})}const H=new d.c(L);for(const d of fq.values())H.rr(d);const r=new uq(j,g,H);return qq.set(L,r),r}function Bq(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;const f=qq.get(q);if(!f&&q===K&&(0,h.B)())return zq();if(!f)throw rq.create("no-app",{appName:q});return f}function Dq(){return Array.from(qq.values())}async function iq(q){const f=q.name;qq.has(f)&&(qq.delete(f),await Promise.all(q.container.getProviders().map((q=>q.delete()))),q.isDeleted=!0)}function tq(q,f,j){var g;let h=null!==(g=J[q])&&void 0!==g?g:q;j&&(h+=`-${j}`);const L=h.match(/\s|\//),Q=f.match(/\s|\//);if(L||Q){const q=[`Unable to register library "${h}" with version "${f}":`];return L&&q.push(`library name "${h}" contains illegal characters (whitespace or "/")`),L&&Q&&q.push("and"),Q&&q.push(`version name "${f}" contains illegal characters (whitespace or "/")`),void I.warn(q.join(" "))}gq(new d.g(`${h}-version`,(()=>({library:h,version:f})),"VERSION"))}function Oq(q,f){if(null!==q&&"function"!==typeof q)throw rq.create("invalid-log-argument");(0,g.m)(q,f)}function Nq(q){(0,g.i)(q)}const wq="firebase-heartbeat-store";let Eq=null;function sq(){return Eq||(Eq=function(q,f){let{blocked:j,upgrade:d,blocking:g,terminated:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const L=indexedDB.open(q,f),Q=t(L);return d&&L.addEventListener("upgradeneeded",(q=>{d(t(L.result),q.oldVersion,q.newVersion,t(L.transaction),q)})),j&&L.addEventListener("blocked",(q=>j(q.oldVersion,q.newVersion,q))),Q.then((q=>{h&&q.addEventListener("close",(()=>h())),g&&q.addEventListener("versionchange",(q=>g(q.oldVersion,q.newVersion,q)))})).catch((()=>{})),Q}("firebase-heartbeat-database",1,{upgrade:(q,f)=>{if(0===f)q.createObjectStore(wq)}}).catch((q=>{throw rq.create("idb-open",{originalErrorMessage:q.message})}))),Eq}async function Sq(q,f){try{const j=(await sq()).transaction(wq,"readwrite"),d=j.objectStore(wq);await d.put(f,eq(q)),await j.done}catch(j){if(j instanceof h.k)I.warn(j.message);else{const q=rq.create("idb-set",{originalErrorMessage:null===j||void 0===j?void 0:j.message});I.warn(q.message)}}}function eq(q){return`${q.name}!${q.options.appId}`}class Zq{constructor(q){this.container=q,this._heartbeatsCache=null;const f=this.container.getProvider("app").getImmediate();this.bX=new Tq(f),this._heartbeatsCachePromise=this.bX.read().then((q=>(this._heartbeatsCache=q,q)))}async triggerHeartbeat(){const q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Iq();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==f&&!this._heartbeatsCache.heartbeats.some((q=>q.date===f)))return this._heartbeatsCache.heartbeats.push({date:f,agent:q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q=>{const f=new Date(q.date).valueOf();return Date.now()-f<=2592e6})),this.bX.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const q=Iq(),{heartbeatsToSend:f,unsentEntries:j}=function(q){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const j=[];let d=q.slice();for(const g of q){const q=j.find((q=>q.agent===g.agent));if(q){if(q.dates.push(g.date),Wq(j)>f){q.dates.pop();break}}else if(j.push({agent:g.agent,dates:[g.date]}),Wq(j)>f){j.pop();break}d=d.slice(1)}return{heartbeatsToSend:j,unsentEntries:d}}(this._heartbeatsCache.heartbeats),d=(0,h.s)(JSON.stringify({version:2,heartbeats:f}));return this._heartbeatsCache.lastSentHeartbeatDate=q,j.length>0?(this._heartbeatsCache.heartbeats=j,await this.bX.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.bX.overwrite(this._heartbeatsCache)),d}}function Iq(){return(new Date).toISOString().substring(0,10)}class Tq{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,h.W)()&&(0,h.hb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(q){try{const f=await sq();return await f.transaction(wq).objectStore(wq).get(eq(q))}catch(f){if(f instanceof h.k)I.warn(f.message);else{const q=rq.create("idb-get",{originalErrorMessage:null===f||void 0===f?void 0:f.message});I.warn(q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(q){var f;if(await this._canUseIndexedDBPromise){const j=await this.read();return Sq(this.app,{lastSentHeartbeatDate:null!==(f=q.lastSentHeartbeatDate)&&void 0!==f?f:j.lastSentHeartbeatDate,heartbeats:q.heartbeats})}}async add(q){var f;if(await this._canUseIndexedDBPromise){const j=await this.read();return Sq(this.app,{lastSentHeartbeatDate:null!==(f=q.lastSentHeartbeatDate)&&void 0!==f?f:j.lastSentHeartbeatDate,heartbeats:[...j.heartbeats,...q.heartbeats]})}}}function Wq(q){return(0,h.s)(JSON.stringify({version:2,heartbeats:q})).length}var nq;nq="",gq(new d.g("platform-logger",(q=>new S(q)),"PRIVATE")),gq(new d.g("heartbeat",(q=>new Zq(q)),"PRIVATE")),tq(e,Z,nq),tq(e,Z,"esm2017"),tq("fire-js","")},10912:(q,f,j)=>{j.d(f,{c:()=>Q,g:()=>g});var d=j(10916);class g{constructor(q,f,j){this.name=q,this.instanceFactory=f,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const h="[DEFAULT]";class L{constructor(q,f){this.name=q,this.container=f,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const f=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(f)){const q=new d.e;if(this.instancesDeferred.set(f,q),this.isInitialized(f)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:f});j&&q.resolve(j)}catch(j){}}return this.instancesDeferred.get(f).promise}getImmediate(q){var f;const j=this.normalizeInstanceIdentifier(null===q||void 0===q?void 0:q.identifier),d=null!==(f=null===q||void 0===q?void 0:q.optional)&&void 0!==f&&f;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(d)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(g){if(d)return null;throw g}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:h})}catch(f){}for(const[q,j]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(q);try{const q=this.getOrInitializeService({instanceIdentifier:d});j.resolve(q)}catch(f){}}}}clearInstance(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}async delete(){const q=Array.from(this.instances.values());await Promise.all([...q.filter((q=>"INTERNAL"in q)).map((q=>q.INTERNAL.delete())),...q.filter((q=>"_delete"in q)).map((q=>q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instances.has(q)}getOptions(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.instancesOptions.get(q)||{}}initialize(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:f={}}=q,j=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:j,options:f});for(const[g,h]of this.instancesDeferred.entries()){j===this.normalizeInstanceIdentifier(g)&&h.resolve(d)}return d}iX(q,f){var j;const d=this.normalizeInstanceIdentifier(f),g=null!==(j=this.onInitCallbacks.get(d))&&void 0!==j?j:new Set;g.add(q),this.onInitCallbacks.set(d,g);const h=this.instances.get(d);return h&&q(h,d),()=>{g.delete(q)}}invokeOnInitCallbacks(q,f){const j=this.onInitCallbacks.get(f);if(j)for(const g of j)try{g(q,f)}catch(d){}}getOrInitializeService(q){let{instanceIdentifier:f,options:j={}}=q,d=this.instances.get(f);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:(g=f,g===h?void 0:g),options:j}),this.instances.set(f,d),this.instancesOptions.set(f,j),this.invokeOnInitCallbacks(d,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,d)}catch(L){}var g;return d||null}normalizeInstanceIdentifier(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return this.component?this.component.multipleInstances?q:h:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(q){this.name=q,this.providers=new Map}rr(q){const f=this.getProvider(q.name);if(f.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);f.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.rr(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const f=new L(q,this);return this.providers.set(q,f),f}getProviders(){return Array.from(this.providers.values())}}},10920:(q,f,j)=>{j.d(f,{d:()=>g,h:()=>r,i:()=>u,m:()=>X});const d=[];var g;!function(q){q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT"}(g||(g={}));const h={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},L=g.INFO,Q={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},H=function(q,f){if(f<q.logLevel)return;const j=(new Date).toISOString(),d=Q[f];if(!d)throw new Error(`Attempted to log a message with an invalid logType (value: ${f})`);for(var g=arguments.length,h=new Array(g>2?g-2:0),L=2;L<g;L++)h[L-2]=arguments[L];console[d](`[${j}]  ${q.name}:`,...h)};class r{constructor(q){this.name=q,this._logLevel=L,this._logHandler=H,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in g))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"===typeof q?h[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!==typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(){for(var q=arguments.length,f=new Array(q),j=0;j<q;j++)f[j]=arguments[j];this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...f),this._logHandler(this,g.DEBUG,...f)}log(){for(var q=arguments.length,f=new Array(q),j=0;j<q;j++)f[j]=arguments[j];this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...f),this._logHandler(this,g.VERBOSE,...f)}info(){for(var q=arguments.length,f=new Array(q),j=0;j<q;j++)f[j]=arguments[j];this._userLogHandler&&this._userLogHandler(this,g.INFO,...f),this._logHandler(this,g.INFO,...f)}warn(){for(var q=arguments.length,f=new Array(q),j=0;j<q;j++)f[j]=arguments[j];this._userLogHandler&&this._userLogHandler(this,g.WARN,...f),this._logHandler(this,g.WARN,...f)}error(){for(var q=arguments.length,f=new Array(q),j=0;j<q;j++)f[j]=arguments[j];this._userLogHandler&&this._userLogHandler(this,g.ERROR,...f),this._logHandler(this,g.ERROR,...f)}}function u(q){d.forEach((f=>{f.setLogLevel(q)}))}function X(q,f){for(const j of d){let d=null;f&&f.level&&(d=h[f.level]),j.userLogHandler=null===q?null:function(f,j){for(var h=arguments.length,L=new Array(h>2?h-2:0),Q=2;Q<h;Q++)L[Q-2]=arguments[Q];const H=L.map((q=>{if(null==q)return null;if("string"===typeof q)return q;if("number"===typeof q||"boolean"===typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(f){return null}})).filter((q=>q)).join(" ");j>=(null!==d&&void 0!==d?d:f.logLevel)&&q({level:g[j].toLowerCase(),message:H,args:L,type:f.name})}}}}}]);