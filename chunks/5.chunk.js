/*! For license information please see 0imlxq.5.382ee867.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10536:(a,R,Y)=>{Y.d(R,{$:()=>A,A:()=>B,E:()=>e,I:()=>C,L:()=>Z,P:()=>u,S:()=>o,U:()=>d,X:()=>J,cb:()=>r,db:()=>i,e:()=>W,f:()=>N,gb:()=>v,h:()=>L,kb:()=>D,l:()=>H,n:()=>t,nb:()=>F,pb:()=>m,q:()=>g,s:()=>O,v:()=>l,x:()=>Q});const T=function(a){const R=[];let Y=0;for(let T=0;T<a.length;T++){let c=a.charCodeAt(T);c<128?R[Y++]=c:c<2048?(R[Y++]=c>>6|192,R[Y++]=63&c|128):55296===(64512&c)&&T+1<a.length&&56320===(64512&a.charCodeAt(T+1))?(c=65536+((1023&c)<<10)+(1023&a.charCodeAt(++T)),R[Y++]=c>>18|240,R[Y++]=c>>12&63|128,R[Y++]=c>>6&63|128,R[Y++]=63&c|128):(R[Y++]=c>>12|224,R[Y++]=c>>6&63|128,R[Y++]=63&c|128)}return R},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(a,R){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,T=[];for(let c=0;c<a.length;c+=3){const R=a[c],K=c+1<a.length,g=K?a[c+1]:0,t=c+2<a.length,U=t?a[c+2]:0,b=R>>2,C=(3&R)<<4|g>>4;let e=(15&g)<<2|U>>6,Z=63&U;t||(Z=64,K||(e=64)),T.push(Y[b],Y[C],Y[e],Y[Z])}return T.join("")},encodeString(a,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(a):this.encodeByteArray(T(a),R)},decodeString(a,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(a):function(a){const R=[];let Y=0,T=0;for(;Y<a.length;){const c=a[Y++];if(c<128)R[T++]=String.fromCharCode(c);else if(c>191&&c<224){const K=a[Y++];R[T++]=String.fromCharCode((31&c)<<6|63&K)}else if(c>239&&c<365){const K=((7&c)<<18|(63&a[Y++])<<12|(63&a[Y++])<<6|63&a[Y++])-65536;R[T++]=String.fromCharCode(55296+(K>>10)),R[T++]=String.fromCharCode(56320+(1023&K))}else{const K=a[Y++],g=a[Y++];R[T++]=String.fromCharCode((15&c)<<12|(63&K)<<6|63&g)}}return R.join("")}(this.decodeStringToByteArray(a,R))},decodeStringToByteArray(a,R){this.init_();const Y=R?this.charToByteMapWebSafe_:this.charToByteMap_,T=[];for(let c=0;c<a.length;){const R=Y[a.charAt(c++)],g=c<a.length?Y[a.charAt(c)]:0;++c;const t=c<a.length?Y[a.charAt(c)]:64;++c;const U=c<a.length?Y[a.charAt(c)]:64;if(++c,null==R||null==g||null==t||null==U)throw new K;const b=R<<2|g>>4;if(T.push(b),64!==t){const a=g<<4&240|t>>2;if(T.push(a),64!==U){const a=t<<6&192|U;T.push(a)}}}return T},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class K extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(a){return function(a){const R=T(a);return c.encodeByteArray(R,!0)}(a).replace(/\./g,"")},t=function(a){try{return c.decodeString(a,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};const U=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Y.g)return Y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,b=()=>{try{return U()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Y){return}const R=a&&t(a[1]);return R&&JSON.parse(R)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},C=a=>{var R,Y;return null===(Y=null===(R=b())||void 0===R?void 0:R.emulatorHosts)||void 0===Y?void 0:Y[a]},e=()=>{var a;return null===(a=b())||void 0===a?void 0:a.config},Z=a=>{var R;return null===(R=b())||void 0===R?void 0:R[`_${a}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((a,R)=>{this.resolve=a,this.reject=R}))}wrapCallback(a){return(R,Y)=>{R?this.reject(R):this.resolve(Y),"function"===typeof a&&(this.promise.catch((()=>{})),1===a.length?a(R):a(R,Y))}}}function o(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function i(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function d(){const a="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof a&&void 0!==a.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function A(){const a=o();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function r(){try{return"object"===typeof indexedDB}catch(a){return!1}}function m(){return new Promise(((a,R)=>{try{let Y=!0;const T="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(T);c.onsuccess=()=>{c.result.close(),Y||self.indexedDB.deleteDatabase(T),a(!0)},c.onupgradeneeded=()=>{Y=!1},c.onerror=()=>{var a;R((null===(a=c.error)||void 0===a?void 0:a.message)||"")}}catch(Y){R(Y)}}))}function H(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(a,R,Y){super(R),this.code=a,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(a,R,Y){this.service=a,this.serviceName=R,this.errors=Y}create(a){const R=(arguments.length<=1?void 0:arguments[1])||{},Y=`${this.service}/${a}`,T=this.errors[a],c=T?function(a,R){return a.replace(k,((a,Y)=>{const T=R[Y];return null!=T?String(T):`<${Y}?>`}))}(T,R):"Error",K=`${this.serviceName}: ${c} (${Y}).`;return new L(Y,K,R)}}const k=/\{\$([^}]+)}/g;function J(a){for(const R in a)if(Object.prototype.hasOwnProperty.call(a,R))return!1;return!0}function Q(a,R){if(a===R)return!0;const Y=Object.keys(a),T=Object.keys(R);for(const c of Y){if(!T.includes(c))return!1;const Y=a[c],K=R[c];if(s(Y)&&s(K)){if(!Q(Y,K))return!1}else if(Y!==K)return!1}for(const c of T)if(!Y.includes(c))return!1;return!0}function s(a){return null!==a&&"object"===typeof a}function F(a){const R=[];for(const[Y,T]of Object.entries(a))Array.isArray(T)?T.forEach((a=>{R.push(encodeURIComponent(Y)+"="+encodeURIComponent(a))})):R.push(encodeURIComponent(Y)+"="+encodeURIComponent(T));return R.length?"&"+R.join("&"):""}function D(a){const R={};return a.replace(/^\?/,"").split("&").forEach((a=>{if(a){const[Y,T]=a.split("=");R[decodeURIComponent(Y)]=decodeURIComponent(T)}})),R}function B(a){const R=a.indexOf("?");if(!R)return"";const Y=a.indexOf("#",R);return a.substring(R,Y>0?Y:void 0)}function l(a,R){const Y=new V(a,R);return Y.subscribe.bind(Y)}class V{constructor(a,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then((()=>{a(this)})).catch((a=>{this.error(a)}))}next(a){this.forEachObserver((R=>{R.next(a)}))}error(a){this.forEachObserver((R=>{R.error(a)})),this.close(a)}complete(){this.forEachObserver((a=>{a.complete()})),this.close()}subscribe(a,R,Y){let T;if(void 0===a&&void 0===R&&void 0===Y)throw new Error("Missing Observer.");T=function(a,R){if("object"!==typeof a||null===a)return!1;for(const Y of R)if(Y in a&&"function"===typeof a[Y])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:R,complete:Y},void 0===T.next&&(T.next=f),void 0===T.error&&(T.error=f),void 0===T.complete&&(T.complete=f);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch(a){}})),this.observers.push(T),c}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,a)}sendOne(a,R){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{R(this.observers[a])}catch(Y){"undefined"!==typeof console&&console.error&&console.error(Y)}}))}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function f(){}const I=1e3,j=2,x=144e5,E=.5;function O(a){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;const Y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:I)*Math.pow(R,a),T=Math.round(E*Y*(Math.random()-.5)*2);return Math.min(x,Y+T)}function u(a){return a&&a._delegate?a._delegate:a}},10525:(a,R,Y)=>{Y.d(R,{c:()=>K.h,d:()=>ea,h:()=>y,i:()=>Ya,l:()=>Ta,m:()=>aa,n:()=>ta,o:()=>Ra,p:()=>Ka,t:()=>ca,x:()=>ga,z:()=>ia,E:()=>Wa,C:()=>oa,G:()=>Za,J:()=>va,M:()=>da,Q:()=>Aa});var T=Y(10528),c=Y(10539),K=Y(10536);let g,t;const U=new WeakMap,b=new WeakMap,C=new WeakMap,e=new WeakMap,Z=new WeakMap;let W={get(a,R,Y){if(a instanceof IDBTransaction){if("done"===R)return b.get(a);if("objectStoreNames"===R)return a.objectStoreNames||C.get(a);if("store"===R)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return d(a[R])},set:(a,R,Y)=>(a[R]=Y,!0),has:(a,R)=>a instanceof IDBTransaction&&("done"===R||"store"===R)||R in a};function o(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(){for(var R=arguments.length,Y=new Array(R),T=0;T<R;T++)Y[T]=arguments[T];return a.apply(v(this),Y),d(U.get(this))}:function(){for(var R=arguments.length,Y=new Array(R),T=0;T<R;T++)Y[T]=arguments[T];return d(a.apply(v(this),Y))}:function(R){for(var Y=arguments.length,T=new Array(Y>1?Y-1:0),c=1;c<Y;c++)T[c-1]=arguments[c];const K=a.call(v(this),R,...T);return C.set(K,R.sort?R.sort():[R]),d(K)}}function i(a){return"function"===typeof a?o(a):(a instanceof IDBTransaction&&function(a){if(b.has(a))return;const R=new Promise(((R,Y)=>{const T=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",K),a.removeEventListener("abort",K)},c=()=>{R(),T()},K=()=>{Y(a.error||new DOMException("AbortError","AbortError")),T()};a.addEventListener("complete",c),a.addEventListener("error",K),a.addEventListener("abort",K)}));b.set(a,R)}(a),R=a,(g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((a=>R instanceof a))?new Proxy(a,W):a);var R}function d(a){if(a instanceof IDBRequest)return function(a){const R=new Promise(((R,Y)=>{const T=()=>{a.removeEventListener("success",c),a.removeEventListener("error",K)},c=()=>{R(d(a.result)),T()},K=()=>{Y(a.error),T()};a.addEventListener("success",c),a.addEventListener("error",K)}));return R.then((R=>{R instanceof IDBCursor&&U.set(R,a)})).catch((()=>{})),Z.set(R,a),R}(a);if(e.has(a))return e.get(a);const R=i(a);return R!==a&&(e.set(a,R),Z.set(R,a)),R}const v=a=>Z.get(a);const A=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],m=new Map;function H(a,R){if(!(a instanceof IDBDatabase)||R in a||"string"!==typeof R)return;if(m.get(R))return m.get(R);const Y=R.replace(/FromIndex$/,""),T=R!==Y,c=r.includes(Y);if(!(Y in(T?IDBIndex:IDBObjectStore).prototype)||!c&&!A.includes(Y))return;const K=async function(a){const R=this.transaction(a,c?"readwrite":"readonly");let K=R.store;for(var g=arguments.length,t=new Array(g>1?g-1:0),U=1;U<g;U++)t[U-1]=arguments[U];return T&&(K=K.index(t.shift())),(await Promise.all([K[Y](...t),c&&R.done]))[0]};return m.set(R,K),K}W=(a=>({...a,get:(R,Y,T)=>H(R,Y)||a.get(R,Y,T),has:(R,Y)=>!!H(R,Y)||a.has(R,Y)}))(W);class L{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map((a=>{if(function(a){const R=a.getComponent();return"VERSION"===(null===R||void 0===R?void 0:R.type)}(a)){const R=a.getImmediate();return`${R.library}/${R.version}`}return null})).filter((a=>a)).join(" ")}}const N="@firebase/app",k="0.9.13",J=new c.e("@firebase/app"),Q="@firebase/app-compat",s="@firebase/analytics-compat",F="@firebase/analytics",D="@firebase/app-check-compat",B="@firebase/app-check",l="@firebase/auth",V="@firebase/auth-compat",f="@firebase/database",I="@firebase/database-compat",j="@firebase/functions",x="@firebase/functions-compat",E="@firebase/installations",O="@firebase/installations-compat",u="@firebase/messaging",M="@firebase/messaging-compat",S="@firebase/performance",h="@firebase/performance-compat",P="@firebase/remote-config",w="@firebase/remote-config-compat",p="@firebase/storage",G="@firebase/storage-compat",z="@firebase/firestore",n="@firebase/firestore-compat",X="firebase",y="[DEFAULT]",q={[N]:"fire-core",[Q]:"fire-core-compat",[F]:"fire-analytics",[s]:"fire-analytics-compat",[B]:"fire-app-check",[D]:"fire-app-check-compat",[l]:"fire-auth",[V]:"fire-auth-compat",[f]:"fire-rtdb",[I]:"fire-rtdb-compat",[j]:"fire-fn",[x]:"fire-fn-compat",[E]:"fire-iid",[O]:"fire-iid-compat",[u]:"fire-fcm",[M]:"fire-fcm-compat",[S]:"fire-perf",[h]:"fire-perf-compat",[P]:"fire-rc",[w]:"fire-rc-compat",[p]:"fire-gcs",[G]:"fire-gcs-compat",[z]:"fire-fst",[n]:"fire-fst-compat","fire-js":"fire-js",[X]:"fire-js-all"},aa=new Map,Ra=new Map;function Ya(a,R){try{a.container.gf(R)}catch(Y){J.debug(`Component ${R.name} failed to register with FirebaseApp ${a.name}`,Y)}}function Ta(a,R){a.container.addOrOverwriteComponent(R)}function ca(a){const R=a.name;if(Ra.has(R))return J.debug(`There were multiple attempts to register component ${R}.`),!1;Ra.set(R,a);for(const Y of aa.values())Ya(Y,a);return!0}function Ka(a,R){const Y=a.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),a.container.getProvider(R)}function ga(a,R){let Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;Ka(a,R).clearInstance(Y)}function ta(){Ra.clear()}const Ua={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ba=new K.f("app","Firebase",Ua);class Ca{constructor(a,R,Y){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},R),this._name=R.name,this._automaticDataCollectionEnabled=R.automaticDataCollectionEnabled,this._container=Y,this.container.gf(new T.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const ea="9.23.0";function Za(a){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=a;if("object"!==typeof R){R={name:R}}const c=Object.assign({name:y,automaticDataCollectionEnabled:!1},R),g=c.name;if("string"!==typeof g||!g)throw ba.create("bad-app-name",{appName:String(g)});if(Y||(Y=(0,K.E)()),!Y)throw ba.create("no-options");const t=aa.get(g);if(t){if((0,K.x)(Y,t.options)&&(0,K.x)(c,t.config))return t;throw ba.create("duplicate-app",{appName:g})}const U=new T.c(g);for(const T of Ra.values())U.gf(T);const b=new Ca(Y,c,U);return aa.set(g,b),b}function Wa(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;const R=aa.get(a);if(!R&&a===y&&(0,K.E)())return Za();if(!R)throw ba.create("no-app",{appName:a});return R}function oa(){return Array.from(aa.values())}async function ia(a){const R=a.name;aa.has(R)&&(aa.delete(R),await Promise.all(a.container.getProviders().map((a=>a.delete()))),a.isDeleted=!0)}function da(a,R,Y){var c;let K=null!==(c=q[a])&&void 0!==c?c:a;Y&&(K+=`-${Y}`);const g=K.match(/\s|\//),t=R.match(/\s|\//);if(g||t){const a=[`Unable to register library "${K}" with version "${R}":`];return g&&a.push(`library name "${K}" contains illegal characters (whitespace or "/")`),g&&t&&a.push("and"),t&&a.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void J.warn(a.join(" "))}ca(new T.e(`${K}-version`,(()=>({library:K,version:R})),"VERSION"))}function va(a,R){if(null!==a&&"function"!==typeof a)throw ba.create("invalid-log-argument");(0,c.l)(a,R)}function Aa(a){(0,c.i)(a)}const ra="firebase-heartbeat-store";let ma=null;function Ha(){return ma||(ma=function(a,R){let{blocked:Y,upgrade:T,blocking:c,terminated:K}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(a,R),t=d(g);return T&&g.addEventListener("upgradeneeded",(a=>{T(d(g.result),a.oldVersion,a.newVersion,d(g.transaction),a)})),Y&&g.addEventListener("blocked",(a=>Y(a.oldVersion,a.newVersion,a))),t.then((a=>{K&&a.addEventListener("close",(()=>K())),c&&a.addEventListener("versionchange",(a=>c(a.oldVersion,a.newVersion,a)))})).catch((()=>{})),t}("firebase-heartbeat-database",1,{upgrade:(a,R)=>{if(0===R)a.createObjectStore(ra)}}).catch((a=>{throw ba.create("idb-open",{originalErrorMessage:a.message})}))),ma}async function La(a,R){try{const Y=(await Ha()).transaction(ra,"readwrite"),T=Y.objectStore(ra);await T.put(R,Na(a)),await Y.done}catch(Y){if(Y instanceof K.h)J.warn(Y.message);else{const a=ba.create("idb-set",{originalErrorMessage:null===Y||void 0===Y?void 0:Y.message});J.warn(a.message)}}}function Na(a){return`${a.name}!${a.options.appId}`}class ka{constructor(a){this.container=a,this._heartbeatsCache=null;const R=this.container.getProvider("app").getImmediate();this.Ji=new Qa(R),this._heartbeatsCachePromise=this.Ji.read().then((a=>(this._heartbeatsCache=a,a)))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),R=Ja();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==R&&!this._heartbeatsCache.heartbeats.some((a=>a.date===R)))return this._heartbeatsCache.heartbeats.push({date:R,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((a=>{const R=new Date(a.date).valueOf();return Date.now()-R<=2592e6})),this.Ji.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const a=Ja(),{heartbeatsToSend:R,unsentEntries:Y}=function(a){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Y=[];let T=a.slice();for(const c of a){const a=Y.find((a=>a.agent===c.agent));if(a){if(a.dates.push(c.date),sa(Y)>R){a.dates.pop();break}}else if(Y.push({agent:c.agent,dates:[c.date]}),sa(Y)>R){Y.pop();break}T=T.slice(1)}return{heartbeatsToSend:Y,unsentEntries:T}}(this._heartbeatsCache.heartbeats),T=(0,K.q)(JSON.stringify({version:2,heartbeats:R}));return this._heartbeatsCache.lastSentHeartbeatDate=a,Y.length>0?(this._heartbeatsCache.heartbeats=Y,await this.Ji.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ji.overwrite(this._heartbeatsCache)),T}}function Ja(){return(new Date).toISOString().substring(0,10)}class Qa{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,K.cb)()&&(0,K.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(a){try{const R=await Ha();return await R.transaction(ra).objectStore(ra).get(Na(a))}catch(R){if(R instanceof K.h)J.warn(R.message);else{const a=ba.create("idb-get",{originalErrorMessage:null===R||void 0===R?void 0:R.message});J.warn(a.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(a){var R;if(await this._canUseIndexedDBPromise){const Y=await this.read();return La(this.app,{lastSentHeartbeatDate:null!==(R=a.lastSentHeartbeatDate)&&void 0!==R?R:Y.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){var R;if(await this._canUseIndexedDBPromise){const Y=await this.read();return La(this.app,{lastSentHeartbeatDate:null!==(R=a.lastSentHeartbeatDate)&&void 0!==R?R:Y.lastSentHeartbeatDate,heartbeats:[...Y.heartbeats,...a.heartbeats]})}}}function sa(a){return(0,K.q)(JSON.stringify({version:2,heartbeats:a})).length}var Fa;Fa="",ca(new T.e("platform-logger",(a=>new L(a)),"PRIVATE")),ca(new T.e("heartbeat",(a=>new ka(a)),"PRIVATE")),da(N,k,Fa),da(N,k,"esm2017"),da("fire-js","")},10528:(a,R,Y)=>{Y.d(R,{c:()=>t,e:()=>c});var T=Y(10536);class c{constructor(a,R,Y){this.name=a,this.instanceFactory=R,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}const K="[DEFAULT]";class g{constructor(a,R){this.name=a,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const R=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(R)){const a=new T.e;if(this.instancesDeferred.set(R,a),this.isInitialized(R)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:R});Y&&a.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(R).promise}getImmediate(a){var R;const Y=this.normalizeInstanceIdentifier(null===a||void 0===a?void 0:a.identifier),T=null!==(R=null===a||void 0===a?void 0:a.optional)&&void 0!==R&&R;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(T)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(c){if(T)return null;throw c}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(function(a){return"EAGER"===a.instantiationMode}(a))try{this.getOrInitializeService({instanceIdentifier:K})}catch(R){}for(const[a,Y]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(a);try{const a=this.getOrInitializeService({instanceIdentifier:T});Y.resolve(a)}catch(R){}}}}clearInstance(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter((a=>"INTERNAL"in a)).map((a=>a.INTERNAL.delete())),...a.filter((a=>"_delete"in a)).map((a=>a._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instances.has(a)}getOptions(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.instancesOptions.get(a)||{}}initialize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:R={}}=a,Y=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:Y,options:R});for(const[c,K]of this.instancesDeferred.entries()){Y===this.normalizeInstanceIdentifier(c)&&K.resolve(T)}return T}ni(a,R){var Y;const T=this.normalizeInstanceIdentifier(R),c=null!==(Y=this.onInitCallbacks.get(T))&&void 0!==Y?Y:new Set;c.add(a),this.onInitCallbacks.set(T,c);const K=this.instances.get(T);return K&&a(K,T),()=>{c.delete(a)}}invokeOnInitCallbacks(a,R){const Y=this.onInitCallbacks.get(R);if(Y)for(const c of Y)try{c(a,R)}catch(T){}}getOrInitializeService(a){let{instanceIdentifier:R,options:Y={}}=a,T=this.instances.get(R);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(c=R,c===K?void 0:c),options:Y}),this.instances.set(R,T),this.instancesOptions.set(R,Y),this.invokeOnInitCallbacks(T,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,T)}catch(g){}var c;return T||null}normalizeInstanceIdentifier(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return this.component?this.component.multipleInstances?a:K:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class t{constructor(a){this.name=a,this.providers=new Map}gf(a){const R=this.getProvider(a.name);if(R.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);R.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.gf(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const R=new g(a,this);return this.providers.set(a,R),R}getProviders(){return Array.from(this.providers.values())}}},10539:(a,R,Y)=>{Y.d(R,{d:()=>c,e:()=>b,i:()=>C,l:()=>e});const T=[];var c;!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(c||(c={}));const K={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},g=c.INFO,t={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},U=function(a,R){if(R<a.logLevel)return;const Y=(new Date).toISOString(),T=t[R];if(!T)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);for(var c=arguments.length,K=new Array(c>2?c-2:0),g=2;g<c;g++)K[g-2]=arguments[g];console[T](`[${Y}]  ${a.name}:`,...K)};class b{constructor(a){this.name=a,this._logLevel=g,this._logHandler=U,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in c))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"===typeof a?K[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(){for(var a=arguments.length,R=new Array(a),Y=0;Y<a;Y++)R[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...R),this._logHandler(this,c.DEBUG,...R)}log(){for(var a=arguments.length,R=new Array(a),Y=0;Y<a;Y++)R[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...R),this._logHandler(this,c.VERBOSE,...R)}info(){for(var a=arguments.length,R=new Array(a),Y=0;Y<a;Y++)R[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,c.INFO,...R),this._logHandler(this,c.INFO,...R)}warn(){for(var a=arguments.length,R=new Array(a),Y=0;Y<a;Y++)R[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,c.WARN,...R),this._logHandler(this,c.WARN,...R)}error(){for(var a=arguments.length,R=new Array(a),Y=0;Y<a;Y++)R[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,c.ERROR,...R),this._logHandler(this,c.ERROR,...R)}}function C(a){T.forEach((R=>{R.setLogLevel(a)}))}function e(a,R){for(const Y of T){let T=null;R&&R.level&&(T=K[R.level]),Y.userLogHandler=null===a?null:function(R,Y){for(var K=arguments.length,g=new Array(K>2?K-2:0),t=2;t<K;t++)g[t-2]=arguments[t];const U=g.map((a=>{if(null==a)return null;if("string"===typeof a)return a;if("number"===typeof a||"boolean"===typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(R){return null}})).filter((a=>a)).join(" ");Y>=(null!==T&&void 0!==T?T:R.logLevel)&&a({level:c[Y].toLowerCase(),message:U,sc:g,type:R.name})}}}}}]);