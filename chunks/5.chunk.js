/*! For license information please see kuaz9x.5.5fd8d62b.chunk.js.LICENSE.txt */
"use strict";(self.mo7o6813fhb=self.mo7o6813fhb||[]).push([[5],{12177:(t,U,y)=>{y.d(U,{B:()=>M,C:()=>h,F:()=>O,H:()=>F,L:()=>w,N:()=>S,R:()=>l,T:()=>g,U:()=>E,X:()=>D,Y:()=>a,Z:()=>J,b:()=>Q,bb:()=>B,e:()=>c,f:()=>p,j:()=>b,k:()=>X,o:()=>mt,q:()=>v,u:()=>q,v:()=>N,y:()=>d,z:()=>L});const I=function(t){const U=[];let y=0;for(let I=0;I<t.length;I++){let r=t.charCodeAt(I);r<128?U[y++]=r:r<2048?(U[y++]=r>>6|192,U[y++]=63&r|128):55296===(64512&r)&&I+1<t.length&&56320===(64512&t.charCodeAt(I+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++I)),U[y++]=r>>18|240,U[y++]=r>>12&63|128,U[y++]=r>>6&63|128,U[y++]=63&r|128):(U[y++]=r>>12|224,U[y++]=r>>6&63|128,U[y++]=63&r|128)}return U},r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,U){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let r=0;r<t.length;r+=3){const U=t[r],Y=r+1<t.length,mt=Y?t[r+1]:0,X=r+2<t.length,P=X?t[r+2]:0,G=U>>2,M=(3&U)<<4|mt>>4;let L=(15&mt)<<2|P>>6,h=63&P;X||(h=64,Y||(L=64)),I.push(y[G],y[M],y[L],y[h])}return I.join("")},encodeString(t,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(t):this.encodeByteArray(I(t),U)},decodeString(t,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(t):function(t){const U=[];let y=0,I=0;for(;y<t.length;){const r=t[y++];if(r<128)U[I++]=String.fromCharCode(r);else if(r>191&&r<224){const Y=t[y++];U[I++]=String.fromCharCode((31&r)<<6|63&Y)}else if(r>239&&r<365){const Y=((7&r)<<18|(63&t[y++])<<12|(63&t[y++])<<6|63&t[y++])-65536;U[I++]=String.fromCharCode(55296+(Y>>10)),U[I++]=String.fromCharCode(56320+(1023&Y))}else{const Y=t[y++],mt=t[y++];U[I++]=String.fromCharCode((15&r)<<12|(63&Y)<<6|63&mt)}}return U.join("")}(this.decodeStringToByteArray(t,U))},decodeStringToByteArray(t,U){this.init_();const y=U?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let r=0;r<t.length;){const U=y[t.charAt(r++)],mt=r<t.length?y[t.charAt(r)]:0;++r;const X=r<t.length?y[t.charAt(r)]:64;++r;const P=r<t.length?y[t.charAt(r)]:64;if(++r,null==U||null==mt||null==X||null==P)throw new Y;const G=U<<2|mt>>4;if(I.push(G),64!==X){const t=mt<<4&240|X>>2;if(I.push(t),64!==P){const t=X<<6&192|P;I.push(t)}}}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mt=function(t){return function(t){const U=I(t);return r.encodeByteArray(U,!0)}(t).replace(/\./g,"")},X=function(t){try{return r.decodeString(t,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const P=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof y.g)return y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,G=()=>{try{return P()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(y){return}const U=t&&X(t[1]);return U&&JSON.parse(U)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},M=t=>{var U,y;return null===(y=null===(U=G())||void 0===U?void 0:U.emulatorHosts)||void 0===y?void 0:y[t]},L=()=>{var t;return null===(t=G())||void 0===t?void 0:t.config},h=t=>{var U;return null===(U=G())||void 0===U?void 0:U[`_${t}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,U)=>{this.resolve=t,this.reject=U}))}wrapCallback(t){return(U,y)=>{U?this.reject(U):this.resolve(y),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(U):t(U,y))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function w(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function l(){const t=F();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){try{return"object"===typeof indexedDB}catch(t){return!1}}function B(){return new Promise(((t,U)=>{try{let y=!0;const I="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(I);r.onsuccess=()=>{r.result.close(),y||self.indexedDB.deleteDatabase(I),t(!0)},r.onupgradeneeded=()=>{y=!1},r.onerror=()=>{var t;U((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(y){U(y)}}))}function b(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class p extends Error{constructor(t,U,y){super(U),this.code=t,this.customData=y,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c.prototype.create)}}class c{constructor(t,U,y){this.service=t,this.serviceName=U,this.errors=y}create(t){const U=(arguments.length<=1?void 0:arguments[1])||{},y=`${this.service}/${t}`,I=this.errors[t],r=I?function(t,U){return t.replace(f,((t,y)=>{const I=U[y];return null!=I?String(I):`<${y}?>`}))}(I,U):"Error",Y=`${this.serviceName}: ${r} (${y}).`;return new p(y,Y,U)}}const f=/\{\$([^}]+)}/g;function S(t){for(const U in t)if(Object.prototype.hasOwnProperty.call(t,U))return!1;return!0}function N(t,U){if(t===U)return!0;const y=Object.keys(t),I=Object.keys(U);for(const r of y){if(!I.includes(r))return!1;const y=t[r],Y=U[r];if(j(y)&&j(Y)){if(!N(y,Y))return!1}else if(y!==Y)return!1}for(const r of I)if(!y.includes(r))return!1;return!0}function j(t){return null!==t&&"object"===typeof t}function J(t){const U=[];for(const[y,I]of Object.entries(t))Array.isArray(I)?I.forEach((t=>{U.push(encodeURIComponent(y)+"="+encodeURIComponent(t))})):U.push(encodeURIComponent(y)+"="+encodeURIComponent(I));return U.length?"&"+U.join("&"):""}function a(t){const U={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[y,I]=t.split("=");U[decodeURIComponent(y)]=decodeURIComponent(I)}})),U}function d(t){const U=t.indexOf("?");if(!U)return"";const y=t.indexOf("#",U);return t.substring(U,y>0?y:void 0)}function q(t,U){const y=new H(t,U);return y.subscribe.bind(y)}class H{constructor(t,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((U=>{U.next(t)}))}error(t){this.forEachObserver((U=>{U.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,U,y){let I;if(void 0===t&&void 0===U&&void 0===y)throw new Error("Missing Observer.");I=function(t,U){if("object"!==typeof t||null===t)return!1;for(const y of U)if(y in t&&"function"===typeof t[y])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:U,complete:y},void 0===I.next&&(I.next=e),void 0===I.error&&(I.error=e),void 0===I.complete&&(I.complete=e);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?I.error(this.finalError):I.complete()}catch(t){}})),this.observers.push(I),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,t)}sendOne(t,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{U(this.observers[t])}catch(y){"undefined"!==typeof console&&console.error&&console.error(y)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function e(){}const o=1e3,V=2,n=144e5,i=.5;function v(t){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(U,t),I=Math.round(i*y*(Math.random()-.5)*2);return Math.min(n,y+I)}function O(t){return t&&t._delegate?t._delegate:t}},12162:(t,U,y)=>{y.d(U,{e:()=>Y.f,g:()=>Lt,i:()=>T,j:()=>yt,k:()=>It,o:()=>tt,q:()=>Xt,r:()=>Ut,u:()=>Yt,w:()=>rt,y:()=>mU,A:()=>Et,F:()=>Qt,C:()=>Ft,H:()=>ht,L:()=>Dt,P:()=>wt,T:()=>lt});var I=y(12169),r=y(12179),Y=y(12177);let mt,X;const P=new WeakMap,G=new WeakMap,M=new WeakMap,L=new WeakMap,h=new WeakMap;let Q={get(t,U,y){if(t instanceof IDBTransaction){if("done"===U)return G.get(t);if("objectStoreNames"===U)return t.objectStoreNames||M.get(t);if("store"===U)return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return w(t[U])},set:(t,U,y)=>(t[U]=y,!0),has:(t,U)=>t instanceof IDBTransaction&&("done"===U||"store"===U)||U in t};function F(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var U=arguments.length,y=new Array(U),I=0;I<U;I++)y[I]=arguments[I];return t.apply(D(this),y),w(P.get(this))}:function(){for(var U=arguments.length,y=new Array(U),I=0;I<U;I++)y[I]=arguments[I];return w(t.apply(D(this),y))}:function(U){for(var y=arguments.length,I=new Array(y>1?y-1:0),r=1;r<y;r++)I[r-1]=arguments[r];const Y=t.call(D(this),U,...I);return M.set(Y,U.sort?U.sort():[U]),w(Y)}}function E(t){return"function"===typeof t?F(t):(t instanceof IDBTransaction&&function(t){if(G.has(t))return;const U=new Promise(((U,y)=>{const I=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",Y),t.removeEventListener("abort",Y)},r=()=>{U(),I()},Y=()=>{y(t.error||new DOMException("AbortError","AbortError")),I()};t.addEventListener("complete",r),t.addEventListener("error",Y),t.addEventListener("abort",Y)}));G.set(t,U)}(t),U=t,(mt||(mt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>U instanceof t))?new Proxy(t,Q):t);var U}function w(t){if(t instanceof IDBRequest)return function(t){const U=new Promise(((U,y)=>{const I=()=>{t.removeEventListener("success",r),t.removeEventListener("error",Y)},r=()=>{U(w(t.result)),I()},Y=()=>{y(t.error),I()};t.addEventListener("success",r),t.addEventListener("error",Y)}));return U.then((U=>{U instanceof IDBCursor&&P.set(U,t)})).catch((()=>{})),h.set(U,t),U}(t);if(L.has(t))return L.get(t);const U=E(t);return U!==t&&(L.set(t,U),h.set(U,t)),U}const D=t=>h.get(t);const l=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],B=new Map;function b(t,U){if(!(t instanceof IDBDatabase)||U in t||"string"!==typeof U)return;if(B.get(U))return B.get(U);const y=U.replace(/FromIndex$/,""),I=U!==y,r=g.includes(y);if(!(y in(I?IDBIndex:IDBObjectStore).prototype)||!r&&!l.includes(y))return;const Y=async function(t){const U=this.transaction(t,r?"readwrite":"readonly");let Y=U.store;for(var mt=arguments.length,X=new Array(mt>1?mt-1:0),P=1;P<mt;P++)X[P-1]=arguments[P];return I&&(Y=Y.index(X.shift())),(await Promise.all([Y[y](...X),r&&U.done]))[0]};return B.set(U,Y),Y}Q=(t=>({...t,get:(U,y,I)=>b(U,y)||t.get(U,y,I),has:(U,y)=>!!b(U,y)||t.has(U,y)}))(Q);class p{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const U=t.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(t)){const U=t.getImmediate();return`${U.library}/${U.version}`}return null})).filter((t=>t)).join(" ")}}const c="@firebase/app",f="0.9.13",S=new r.f("@firebase/app"),N="@firebase/app-compat",j="@firebase/analytics-compat",J="@firebase/analytics",a="@firebase/app-check-compat",d="@firebase/app-check",q="@firebase/auth",H="@firebase/auth-compat",e="@firebase/database",o="@firebase/database-compat",V="@firebase/functions",n="@firebase/functions-compat",i="@firebase/installations",v="@firebase/installations-compat",O="@firebase/messaging",k="@firebase/messaging-compat",s="@firebase/performance",x="@firebase/performance-compat",Z="@firebase/remote-config",W="@firebase/remote-config-compat",A="@firebase/storage",K="@firebase/storage-compat",C="@firebase/firestore",R="@firebase/firestore-compat",u="firebase",T="[DEFAULT]",z={[c]:"fire-core",[N]:"fire-core-compat",[J]:"fire-analytics",[j]:"fire-analytics-compat",[d]:"fire-app-check",[a]:"fire-app-check-compat",[q]:"fire-auth",[H]:"fire-auth-compat",[e]:"fire-rtdb",[o]:"fire-rtdb-compat",[V]:"fire-fn",[n]:"fire-fn-compat",[i]:"fire-iid",[v]:"fire-iid-compat",[O]:"fire-fcm",[k]:"fire-fcm-compat",[s]:"fire-perf",[x]:"fire-perf-compat",[Z]:"fire-rc",[W]:"fire-rc-compat",[A]:"fire-gcs",[K]:"fire-gcs-compat",[C]:"fire-fst",[R]:"fire-fst-compat","fire-js":"fire-js",[u]:"fire-js-all"},tt=new Map,Ut=new Map;function yt(t,U){try{t.container.WP(U)}catch(y){S.debug(`Component ${U.name} failed to register with FirebaseApp ${t.name}`,y)}}function It(t,U){t.container.addOrOverwriteComponent(U)}function rt(t){const U=t.name;if(Ut.has(U))return S.debug(`There were multiple attempts to register component ${U}.`),!1;Ut.set(U,t);for(const y of tt.values())yt(y,t);return!0}function Yt(t,U){const y=t.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),t.container.getProvider(U)}function mU(t,U){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;Yt(t,U).clearInstance(y)}function Xt(){Ut.clear()}const Pt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gt=new Y.e("app","Firebase",Pt);class Mt{constructor(t,U,y){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=y,this.container.WP(new I.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const Lt="9.23.0";function ht(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=t;if("object"!==typeof U){U={name:U}}const r=Object.assign({name:T,automaticDataCollectionEnabled:!1},U),mt=r.name;if("string"!==typeof mt||!mt)throw Gt.create("bad-app-name",{appName:String(mt)});if(y||(y=(0,Y.z)()),!y)throw Gt.create("no-options");const X=tt.get(mt);if(X){if((0,Y.v)(y,X.options)&&(0,Y.v)(r,X.config))return X;throw Gt.create("duplicate-app",{appName:mt})}const P=new I.b(mt);for(const I of Ut.values())P.WP(I);const G=new Mt(y,r,P);return tt.set(mt,G),G}function Qt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;const U=tt.get(t);if(!U&&t===T&&(0,Y.z)())return ht();if(!U)throw Gt.create("no-app",{appName:t});return U}function Ft(){return Array.from(tt.values())}async function Et(t){const U=t.name;tt.has(U)&&(tt.delete(U),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function wt(t,U,y){var r;let Y=null!==(r=z[t])&&void 0!==r?r:t;y&&(Y+=`-${y}`);const mt=Y.match(/\s|\//),X=U.match(/\s|\//);if(mt||X){const t=[`Unable to register library "${Y}" with version "${U}":`];return mt&&t.push(`library name "${Y}" contains illegal characters (whitespace or "/")`),mt&&X&&t.push("and"),X&&t.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void S.warn(t.join(" "))}rt(new I.d(`${Y}-version`,(()=>({library:Y,version:U})),"VERSION"))}function Dt(t,U){if(null!==t&&"function"!==typeof t)throw Gt.create("invalid-log-argument");(0,r.m)(t,U)}function lt(t){(0,r.i)(t)}const gt="firebase-heartbeat-store";let Bt=null;function bt(){return Bt||(Bt=function(t,U){let{blocked:y,upgrade:I,blocking:r,terminated:Y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const mt=indexedDB.open(t,U),X=w(mt);return I&&mt.addEventListener("upgradeneeded",(t=>{I(w(mt.result),t.oldVersion,t.newVersion,w(mt.transaction),t)})),y&&mt.addEventListener("blocked",(t=>y(t.oldVersion,t.newVersion,t))),X.then((t=>{Y&&t.addEventListener("close",(()=>Y())),r&&t.addEventListener("versionchange",(t=>r(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),X}("firebase-heartbeat-database",1,{upgrade:(t,U)=>{if(0===U)t.createObjectStore(gt)}}).catch((t=>{throw Gt.create("idb-open",{originalErrorMessage:t.message})}))),Bt}async function pt(t,U){try{const y=(await bt()).transaction(gt,"readwrite"),I=y.objectStore(gt);await I.put(U,ct(t)),await y.done}catch(y){if(y instanceof Y.f)S.warn(y.message);else{const t=Gt.create("idb-set",{originalErrorMessage:null===y||void 0===y?void 0:y.message});S.warn(t.message)}}}function ct(t){return`${t.name}!${t.options.appId}`}class ft{constructor(t){this.container=t,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.bL=new Nt(U),this._heartbeatsCachePromise=this.bL.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=St();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((t=>t.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const U=new Date(t.date).valueOf();return Date.now()-U<=2592e6})),this.bL.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=St(),{heartbeatsToSend:U,unsentEntries:y}=function(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const y=[];let I=t.slice();for(const r of t){const t=y.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),jt(y)>U){t.dates.pop();break}}else if(y.push({agent:r.agent,dates:[r.date]}),jt(y)>U){y.pop();break}I=I.slice(1)}return{heartbeatsToSend:y,unsentEntries:I}}(this._heartbeatsCache.heartbeats),I=(0,Y.o)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=t,y.length>0?(this._heartbeatsCache.heartbeats=y,await this.bL.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.bL.overwrite(this._heartbeatsCache)),I}}function St(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Y.T)()&&(0,Y.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{const U=await bt();return await U.transaction(gt).objectStore(gt).get(ct(t))}catch(U){if(U instanceof Y.f)S.warn(U.message);else{const t=Gt.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});S.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var U;if(await this._canUseIndexedDBPromise){const y=await this.read();return pt(this.app,{lastSentHeartbeatDate:null!==(U=t.lastSentHeartbeatDate)&&void 0!==U?U:y.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var U;if(await this._canUseIndexedDBPromise){const y=await this.read();return pt(this.app,{lastSentHeartbeatDate:null!==(U=t.lastSentHeartbeatDate)&&void 0!==U?U:y.lastSentHeartbeatDate,heartbeats:[...y.heartbeats,...t.heartbeats]})}}}function jt(t){return(0,Y.o)(JSON.stringify({version:2,heartbeats:t})).length}var Jt;Jt="",rt(new I.d("platform-logger",(t=>new p(t)),"PRIVATE")),rt(new I.d("heartbeat",(t=>new ft(t)),"PRIVATE")),wt(c,f,Jt),wt(c,f,"esm2017"),wt("fire-js","")},12169:(t,U,y)=>{y.d(U,{b:()=>X,d:()=>r});var I=y(12177);class r{constructor(t,U,y){this.name=t,this.instanceFactory=U,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Y="[DEFAULT]";class mt{constructor(t,U){this.name=t,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const U=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(U)){const t=new I.b;if(this.instancesDeferred.set(U,t),this.isInitialized(U)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:U});y&&t.resolve(y)}catch(y){}}return this.instancesDeferred.get(U).promise}getImmediate(t){var U;const y=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),I=null!==(U=null===t||void 0===t?void 0:t.optional)&&void 0!==U&&U;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(I)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(r){if(I)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Y})}catch(U){}for(const[t,y]of this.instancesDeferred.entries()){const I=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:I});y.resolve(t)}catch(U){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=t,y=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const I=this.getOrInitializeService({instanceIdentifier:y,options:U});for(const[r,Y]of this.instancesDeferred.entries()){y===this.normalizeInstanceIdentifier(r)&&Y.resolve(I)}return I}zM(t,U){var y;const I=this.normalizeInstanceIdentifier(U),r=null!==(y=this.onInitCallbacks.get(I))&&void 0!==y?y:new Set;r.add(t),this.onInitCallbacks.set(I,r);const Y=this.instances.get(I);return Y&&t(Y,I),()=>{r.delete(t)}}invokeOnInitCallbacks(t,U){const y=this.onInitCallbacks.get(U);if(y)for(const r of y)try{r(t,U)}catch(I){}}getOrInitializeService(t){let{instanceIdentifier:U,options:y={}}=t,I=this.instances.get(U);if(!I&&this.component&&(I=this.component.instanceFactory(this.container,{instanceIdentifier:(r=U,r===Y?void 0:r),options:y}),this.instances.set(U,I),this.instancesOptions.set(U,y),this.invokeOnInitCallbacks(I,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,I)}catch(mt){}var r;return I||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return this.component?this.component.multipleInstances?t:Y:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(t){this.name=t,this.providers=new Map}WP(t){const U=this.getProvider(t.name);if(U.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);U.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.WP(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const U=new mt(t,this);return this.providers.set(t,U),U}getProviders(){return Array.from(this.providers.values())}}},12179:(t,U,y)=>{y.d(U,{b:()=>r,f:()=>G,i:()=>M,m:()=>L});const I=[];var r;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));const Y={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},mt=r.INFO,X={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},P=function(t,U){if(U<t.logLevel)return;const y=(new Date).toISOString(),I=X[U];if(!I)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var r=arguments.length,Y=new Array(r>2?r-2:0),mt=2;mt<r;mt++)Y[mt-2]=arguments[mt];console[I](`[${y}]  ${t.name}:`,...Y)};class G{constructor(t){this.name=t,this._logLevel=mt,this._logHandler=P,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Y[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,U=new Array(t),y=0;y<t;y++)U[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...U),this._logHandler(this,r.DEBUG,...U)}log(){for(var t=arguments.length,U=new Array(t),y=0;y<t;y++)U[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...U),this._logHandler(this,r.VERBOSE,...U)}info(){for(var t=arguments.length,U=new Array(t),y=0;y<t;y++)U[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,r.INFO,...U),this._logHandler(this,r.INFO,...U)}warn(){for(var t=arguments.length,U=new Array(t),y=0;y<t;y++)U[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,r.WARN,...U),this._logHandler(this,r.WARN,...U)}error(){for(var t=arguments.length,U=new Array(t),y=0;y<t;y++)U[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,r.ERROR,...U),this._logHandler(this,r.ERROR,...U)}}function M(t){I.forEach((U=>{U.setLogLevel(t)}))}function L(t,U){for(const y of I){let I=null;U&&U.level&&(I=Y[U.level]),y.userLogHandler=null===t?null:function(U,y){for(var Y=arguments.length,mt=new Array(Y>2?Y-2:0),X=2;X<Y;X++)mt[X-2]=arguments[X];const P=mt.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(U){return null}})).filter((t=>t)).join(" ");y>=(null!==I&&void 0!==I?I:U.logLevel)&&t({level:r[y].toLowerCase(),message:P,args:mt,type:U.name})}}}}}]);