/*! For license information please see v4lu1n.5.4a56e685.chunk.js.LICENSE.txt */
"use strict";(self.fwuvyyymhp8=self.fwuvyyymhp8||[]).push([[5],{12148:(N,U,V)=>{V.d(U,{A:()=>p,C:()=>E,D:()=>k,E:()=>G,F:()=>C,H:()=>J,J:()=>s,N:()=>r,R:()=>v,S:()=>x,T:()=>d,W:()=>w,Z:()=>mN,bb:()=>h,e:()=>B,g:()=>Y,j:()=>H,m:()=>c,q:()=>i,r:()=>q,t:()=>D,v:()=>e,y:()=>M,z:()=>X});const A=function(N){const U=[];let V=0;for(let A=0;A<N.length;A++){let t=N.charCodeAt(A);t<128?U[V++]=t:t<2048?(U[V++]=t>>6|192,U[V++]=63&t|128):55296===(64512&t)&&A+1<N.length&&56320===(64512&N.charCodeAt(A+1))?(t=65536+((1023&t)<<10)+(1023&N.charCodeAt(++A)),U[V++]=t>>18|240,U[V++]=t>>12&63|128,U[V++]=t>>6&63|128,U[V++]=63&t|128):(U[V++]=t>>12|224,U[V++]=t>>6&63|128,U[V++]=63&t|128)}return U},t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(N,U){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let t=0;t<N.length;t+=3){const U=N[t],n=t+1<N.length,q=n?N[t+1]:0,i=t+2<N.length,z=i?N[t+2]:0,S=U>>2,E=(3&U)<<4|q>>4;let p=(15&q)<<2|z>>6,k=63&z;i||(k=64,n||(p=64)),A.push(V[S],V[E],V[p],V[k])}return A.join("")},encodeString(N,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(N):this.encodeByteArray(A(N),U)},decodeString(N,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(N):function(N){const U=[];let V=0,A=0;for(;V<N.length;){const t=N[V++];if(t<128)U[A++]=String.fromCharCode(t);else if(t>191&&t<224){const n=N[V++];U[A++]=String.fromCharCode((31&t)<<6|63&n)}else if(t>239&&t<365){const n=((7&t)<<18|(63&N[V++])<<12|(63&N[V++])<<6|63&N[V++])-65536;U[A++]=String.fromCharCode(55296+(n>>10)),U[A++]=String.fromCharCode(56320+(1023&n))}else{const n=N[V++],q=N[V++];U[A++]=String.fromCharCode((15&t)<<12|(63&n)<<6|63&q)}}return U.join("")}(this.decodeStringToByteArray(N,U))},decodeStringToByteArray(N,U){this.init_();const V=U?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let t=0;t<N.length;){const U=V[N.charAt(t++)],q=t<N.length?V[N.charAt(t)]:0;++t;const i=t<N.length?V[N.charAt(t)]:64;++t;const z=t<N.length?V[N.charAt(t)]:64;if(++t,null==U||null==q||null==i||null==z)throw new n;const S=U<<2|q>>4;if(A.push(S),64!==i){const N=q<<4&240|i>>2;if(A.push(N),64!==z){const N=i<<6&192|z;A.push(N)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class n extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(N){return function(N){const U=A(N);return t.encodeByteArray(U,!0)}(N).replace(/\./g,"")},i=function(N){try{return t.decodeString(N,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const z=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof V.g)return V.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,S=()=>{try{return z()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(V){return}const U=N&&i(N[1]);return U&&JSON.parse(U)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},E=N=>{var U,V;return null===(V=null===(U=S())||void 0===U?void 0:U.emulatorHosts)||void 0===V?void 0:V[N]},p=()=>{var N;return null===(N=S())||void 0===N?void 0:N.config},k=N=>{var U;return null===(U=S())||void 0===U?void 0:U[`_${N}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((N,U)=>{this.resolve=N,this.reject=U}))}wrapCallback(N){return(U,V)=>{U?this.reject(U):this.resolve(V),"function"===typeof N&&(this.promise.catch((()=>{})),1===N.length?N(U):N(U,V))}}}function C(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function x(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function J(){const N="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof N&&void 0!==N.id}function d(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function r(){const N=C();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function v(){try{return"object"===typeof indexedDB}catch(N){return!1}}function h(){return new Promise(((N,U)=>{try{let V=!0;const A="validate-browser-context-for-indexeddb-analytics-module",t=self.indexedDB.open(A);t.onsuccess=()=>{t.result.close(),V||self.indexedDB.deleteDatabase(A),N(!0)},t.onupgradeneeded=()=>{V=!1},t.onerror=()=>{var N;U((null===(N=t.error)||void 0===N?void 0:N.message)||"")}}catch(V){U(V)}}))}function c(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class H extends Error{constructor(N,U,V){super(U),this.code=N,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y.prototype.create)}}class Y{constructor(N,U,V){this.service=N,this.serviceName=U,this.errors=V}create(N){const U=(arguments.length<=1?void 0:arguments[1])||{},V=`${this.service}/${N}`,A=this.errors[N],t=A?function(N,U){return N.replace(W,((N,V)=>{const A=U[V];return null!=A?String(A):`<${V}?>`}))}(A,U):"Error",n=`${this.serviceName}: ${t} (${V}).`;return new H(V,n,U)}}const W=/\{\$([^}]+)}/g;function s(N){for(const U in N)if(Object.prototype.hasOwnProperty.call(N,U))return!1;return!0}function M(N,U){if(N===U)return!0;const V=Object.keys(N),A=Object.keys(U);for(const t of V){if(!A.includes(t))return!1;const V=N[t],n=U[t];if(a(V)&&a(n)){if(!M(V,n))return!1}else if(V!==n)return!1}for(const t of A)if(!V.includes(t))return!1;return!0}function a(N){return null!==N&&"object"===typeof N}function mN(N){const U=[];for(const[V,A]of Object.entries(N))Array.isArray(A)?A.forEach((N=>{U.push(encodeURIComponent(V)+"="+encodeURIComponent(N))})):U.push(encodeURIComponent(V)+"="+encodeURIComponent(A));return U.length?"&"+U.join("&"):""}function w(N){const U={};return N.replace(/^\?/,"").split("&").forEach((N=>{if(N){const[V,A]=N.split("=");U[decodeURIComponent(V)]=decodeURIComponent(A)}})),U}function X(N){const U=N.indexOf("?");if(!U)return"";const V=N.indexOf("#",U);return N.substring(U,V>0?V:void 0)}function e(N,U){const V=new Q(N,U);return V.subscribe.bind(V)}class Q{constructor(N,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{N(this)})).catch((N=>{this.error(N)}))}next(N){this.forEachObserver((U=>{U.next(N)}))}error(N){this.forEachObserver((U=>{U.error(N)})),this.close(N)}complete(){this.forEachObserver((N=>{N.complete()})),this.close()}subscribe(N,U,V){let A;if(void 0===N&&void 0===U&&void 0===V)throw new Error("Missing Observer.");A=function(N,U){if("object"!==typeof N||null===N)return!1;for(const V of U)if(V in N&&"function"===typeof N[V])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:U,complete:V},void 0===A.next&&(A.next=u),void 0===A.error&&(A.error=u),void 0===A.complete&&(A.complete=u);const t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(N){}})),this.observers.push(A),t}unsubscribeOne(N){void 0!==this.observers&&void 0!==this.observers[N]&&(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,N)}sendOne(N,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{U(this.observers[N])}catch(V){"undefined"!==typeof console&&console.error&&console.error(V)}}))}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function u(){}const L=1e3,I=2,o=144e5,R=.5;function D(N){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;const V=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:L)*Math.pow(U,N),A=Math.round(R*V*(Math.random()-.5)*2);return Math.min(o,V+A)}function G(N){return N&&N._delegate?N._delegate:N}},12136:(N,U,V)=>{V.d(U,{b:()=>n.j,e:()=>pN,g:()=>b,h:()=>VN,j:()=>AN,l:()=>NN,n:()=>iN,q:()=>UN,r:()=>nN,s:()=>tN,t:()=>qN,v:()=>xN,A:()=>BN,z:()=>CN,B:()=>kN,E:()=>dN,G:()=>JN,J:()=>rN});var A=V(12139),t=V(12155),n=V(12148);let q,i;const z=new WeakMap,S=new WeakMap,E=new WeakMap,p=new WeakMap,k=new WeakMap;let B={get(N,U,V){if(N instanceof IDBTransaction){if("done"===U)return S.get(N);if("objectStoreNames"===U)return N.objectStoreNames||E.get(N);if("store"===U)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return J(N[U])},set:(N,U,V)=>(N[U]=V,!0),has:(N,U)=>N instanceof IDBTransaction&&("done"===U||"store"===U)||U in N};function C(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(N)?function(){for(var U=arguments.length,V=new Array(U),A=0;A<U;A++)V[A]=arguments[A];return N.apply(d(this),V),J(z.get(this))}:function(){for(var U=arguments.length,V=new Array(U),A=0;A<U;A++)V[A]=arguments[A];return J(N.apply(d(this),V))}:function(U){for(var V=arguments.length,A=new Array(V>1?V-1:0),t=1;t<V;t++)A[t-1]=arguments[t];const n=N.call(d(this),U,...A);return E.set(n,U.sort?U.sort():[U]),J(n)}}function x(N){return"function"===typeof N?C(N):(N instanceof IDBTransaction&&function(N){if(S.has(N))return;const U=new Promise(((U,V)=>{const A=()=>{N.removeEventListener("complete",t),N.removeEventListener("error",n),N.removeEventListener("abort",n)},t=()=>{U(),A()},n=()=>{V(N.error||new DOMException("AbortError","AbortError")),A()};N.addEventListener("complete",t),N.addEventListener("error",n),N.addEventListener("abort",n)}));S.set(N,U)}(N),U=N,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((N=>U instanceof N))?new Proxy(N,B):N);var U}function J(N){if(N instanceof IDBRequest)return function(N){const U=new Promise(((U,V)=>{const A=()=>{N.removeEventListener("success",t),N.removeEventListener("error",n)},t=()=>{U(J(N.result)),A()},n=()=>{V(N.error),A()};N.addEventListener("success",t),N.addEventListener("error",n)}));return U.then((U=>{U instanceof IDBCursor&&z.set(U,N)})).catch((()=>{})),k.set(U,N),U}(N);if(p.has(N))return p.get(N);const U=x(N);return U!==N&&(p.set(N,U),k.set(U,N)),U}const d=N=>k.get(N);const r=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],h=new Map;function c(N,U){if(!(N instanceof IDBDatabase)||U in N||"string"!==typeof U)return;if(h.get(U))return h.get(U);const V=U.replace(/FromIndex$/,""),A=U!==V,t=v.includes(V);if(!(V in(A?IDBIndex:IDBObjectStore).prototype)||!t&&!r.includes(V))return;const n=async function(N){const U=this.transaction(N,t?"readwrite":"readonly");let n=U.store;for(var q=arguments.length,i=new Array(q>1?q-1:0),z=1;z<q;z++)i[z-1]=arguments[z];return A&&(n=n.index(i.shift())),(await Promise.all([n[V](...i),t&&U.done]))[0]};return h.set(U,n),n}B=(N=>({...N,get:(U,V,A)=>c(U,V)||N.get(U,V,A),has:(U,V)=>!!c(U,V)||N.has(U,V)}))(B);class H{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map((N=>{if(function(N){const U=N.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(N)){const U=N.getImmediate();return`${U.library}/${U.version}`}return null})).filter((N=>N)).join(" ")}}const Y="@firebase/app",W="0.9.13",s=new t.i("@firebase/app"),M="@firebase/app-compat",a="@firebase/analytics-compat",mN="@firebase/analytics",w="@firebase/app-check-compat",X="@firebase/app-check",e="@firebase/auth",Q="@firebase/auth-compat",u="@firebase/database",L="@firebase/database-compat",I="@firebase/functions",o="@firebase/functions-compat",R="@firebase/installations",D="@firebase/installations-compat",G="@firebase/messaging",g="@firebase/messaging-compat",l="@firebase/performance",K="@firebase/performance-compat",j="@firebase/remote-config",F="@firebase/remote-config-compat",P="@firebase/storage",T="@firebase/storage-compat",f="@firebase/firestore",O="@firebase/firestore-compat",Z="firebase",b="[DEFAULT]",y={[Y]:"fire-core",[M]:"fire-core-compat",[mN]:"fire-analytics",[a]:"fire-analytics-compat",[X]:"fire-app-check",[w]:"fire-app-check-compat",[e]:"fire-auth",[Q]:"fire-auth-compat",[u]:"fire-rtdb",[L]:"fire-rtdb-compat",[I]:"fire-fn",[o]:"fire-fn-compat",[R]:"fire-iid",[D]:"fire-iid-compat",[G]:"fire-fcm",[g]:"fire-fcm-compat",[l]:"fire-perf",[K]:"fire-perf-compat",[j]:"fire-rc",[F]:"fire-rc-compat",[P]:"fire-gcs",[T]:"fire-gcs-compat",[f]:"fire-fst",[O]:"fire-fst-compat","fire-js":"fire-js",[Z]:"fire-js-all"},NN=new Map,UN=new Map;function VN(N,U){try{N.container.Gz(U)}catch(V){s.debug(`Component ${U.name} failed to register with FirebaseApp ${N.name}`,V)}}function AN(N,U){N.container.addOrOverwriteComponent(U)}function tN(N){const U=N.name;if(UN.has(U))return s.debug(`There were multiple attempts to register component ${U}.`),!1;UN.set(U,N);for(const V of NN.values())VN(V,N);return!0}function nN(N,U){const V=N.container.getProvider("heartbeat").getImmediate({optional:!0});return V&&V.triggerHeartbeat(),N.container.getProvider(U)}function qN(N,U){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;nN(N,U).clearInstance(V)}function iN(){UN.clear()}const zN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},SN=new n.g("app","Firebase",zN);class EN{constructor(N,U,V){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=V,this.container.Gz(new A.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw SN.create("app-deleted",{appName:this._name})}}const pN="9.23.0";function kN(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=N;if("object"!==typeof U){U={name:U}}const t=Object.assign({name:b,automaticDataCollectionEnabled:!1},U),q=t.name;if("string"!==typeof q||!q)throw SN.create("bad-app-name",{appName:String(q)});if(V||(V=(0,n.A)()),!V)throw SN.create("no-options");const i=NN.get(q);if(i){if((0,n.y)(V,i.options)&&(0,n.y)(t,i.config))return i;throw SN.create("duplicate-app",{appName:q})}const z=new A.d(q);for(const A of UN.values())z.Gz(A);const S=new EN(V,t,z);return NN.set(q,S),S}function BN(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;const U=NN.get(N);if(!U&&N===b&&(0,n.A)())return kN();if(!U)throw SN.create("no-app",{appName:N});return U}function CN(){return Array.from(NN.values())}async function xN(N){const U=N.name;NN.has(U)&&(NN.delete(U),await Promise.all(N.container.getProviders().map((N=>N.delete()))),N.isDeleted=!0)}function JN(N,U,V){var t;let n=null!==(t=y[N])&&void 0!==t?t:N;V&&(n+=`-${V}`);const q=n.match(/\s|\//),i=U.match(/\s|\//);if(q||i){const N=[`Unable to register library "${n}" with version "${U}":`];return q&&N.push(`library name "${n}" contains illegal characters (whitespace or "/")`),q&&i&&N.push("and"),i&&N.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void s.warn(N.join(" "))}tN(new A.h(`${n}-version`,(()=>({library:n,version:U})),"VERSION"))}function dN(N,U){if(null!==N&&"function"!==typeof N)throw SN.create("invalid-log-argument");(0,t.o)(N,U)}function rN(N){(0,t.m)(N)}const vN="firebase-heartbeat-store";let hN=null;function cN(){return hN||(hN=function(N,U){let{blocked:V,upgrade:A,blocking:t,terminated:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const q=indexedDB.open(N,U),i=J(q);return A&&q.addEventListener("upgradeneeded",(N=>{A(J(q.result),N.oldVersion,N.newVersion,J(q.transaction),N)})),V&&q.addEventListener("blocked",(N=>V(N.oldVersion,N.newVersion,N))),i.then((N=>{n&&N.addEventListener("close",(()=>n())),t&&N.addEventListener("versionchange",(N=>t(N.oldVersion,N.newVersion,N)))})).catch((()=>{})),i}("firebase-heartbeat-database",1,{upgrade:(N,U)=>{if(0===U)N.createObjectStore(vN)}}).catch((N=>{throw SN.create("idb-open",{originalErrorMessage:N.message})}))),hN}async function HN(N,U){try{const V=(await cN()).transaction(vN,"readwrite"),A=V.objectStore(vN);await A.put(U,YN(N)),await V.done}catch(V){if(V instanceof n.j)s.warn(V.message);else{const N=SN.create("idb-set",{originalErrorMessage:null===V||void 0===V?void 0:V.message});s.warn(N.message)}}}function YN(N){return`${N.name}!${N.options.appId}`}class WN{constructor(N){this.container=N,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.xp=new MN(U),this._heartbeatsCachePromise=this.xp.read().then((N=>(this._heartbeatsCache=N,N)))}async triggerHeartbeat(){const N=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=sN();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((N=>N.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((N=>{const U=new Date(N.date).valueOf();return Date.now()-U<=2592e6})),this.xp.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const N=sN(),{heartbeatsToSend:U,unsentEntries:V}=function(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const V=[];let A=N.slice();for(const t of N){const N=V.find((N=>N.agent===t.agent));if(N){if(N.dates.push(t.date),aN(V)>U){N.dates.pop();break}}else if(V.push({agent:t.agent,dates:[t.date]}),aN(V)>U){V.pop();break}A=A.slice(1)}return{heartbeatsToSend:V,unsentEntries:A}}(this._heartbeatsCache.heartbeats),A=(0,n.r)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=N,V.length>0?(this._heartbeatsCache.heartbeats=V,await this.xp.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.xp.overwrite(this._heartbeatsCache)),A}}function sN(){return(new Date).toISOString().substring(0,10)}class MN{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,n.R)()&&(0,n.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(N){try{const U=await cN();return await U.transaction(vN).objectStore(vN).get(YN(N))}catch(U){if(U instanceof n.j)s.warn(U.message);else{const N=SN.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});s.warn(N.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(N){var U;if(await this._canUseIndexedDBPromise){const V=await this.read();return HN(this.app,{lastSentHeartbeatDate:null!==(U=N.lastSentHeartbeatDate)&&void 0!==U?U:V.lastSentHeartbeatDate,heartbeats:N.heartbeats})}}async add(N){var U;if(await this._canUseIndexedDBPromise){const V=await this.read();return HN(this.app,{lastSentHeartbeatDate:null!==(U=N.lastSentHeartbeatDate)&&void 0!==U?U:V.lastSentHeartbeatDate,heartbeats:[...V.heartbeats,...N.heartbeats]})}}}function aN(N){return(0,n.r)(JSON.stringify({version:2,heartbeats:N})).length}var mU;mU="",tN(new A.h("platform-logger",(N=>new H(N)),"PRIVATE")),tN(new A.h("heartbeat",(N=>new WN(N)),"PRIVATE")),JN(Y,W,mU),JN(Y,W,"esm2017"),JN("fire-js","")},12139:(N,U,V)=>{V.d(U,{d:()=>i,h:()=>t});var A=V(12148);class t{constructor(N,U,V){this.name=N,this.instanceFactory=U,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const n="[DEFAULT]";class q{constructor(N,U){this.name=N,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const U=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(U)){const N=new A.e;if(this.instancesDeferred.set(U,N),this.isInitialized(U)||this.shouldAutoInitialize())try{const V=this.getOrInitializeService({instanceIdentifier:U});V&&N.resolve(V)}catch(V){}}return this.instancesDeferred.get(U).promise}getImmediate(N){var U;const V=this.normalizeInstanceIdentifier(null===N||void 0===N?void 0:N.identifier),A=null!==(U=null===N||void 0===N?void 0:N.optional)&&void 0!==U&&U;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(t){if(A)return null;throw t}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function(N){return"EAGER"===N.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:n})}catch(U){}for(const[N,V]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(N);try{const N=this.getOrInitializeService({instanceIdentifier:A});V.resolve(N)}catch(U){}}}}clearInstance(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}async delete(){const N=Array.from(this.instances.values());await Promise.all([...N.filter((N=>"INTERNAL"in N)).map((N=>N.INTERNAL.delete())),...N.filter((N=>"_delete"in N)).map((N=>N._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.instances.has(N)}getOptions(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.instancesOptions.get(N)||{}}initialize(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=N,V=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:V,options:U});for(const[t,n]of this.instancesDeferred.entries()){V===this.normalizeInstanceIdentifier(t)&&n.resolve(A)}return A}PE(N,U){var V;const A=this.normalizeInstanceIdentifier(U),t=null!==(V=this.onInitCallbacks.get(A))&&void 0!==V?V:new Set;t.add(N),this.onInitCallbacks.set(A,t);const n=this.instances.get(A);return n&&N(n,A),()=>{t.delete(N)}}invokeOnInitCallbacks(N,U){const V=this.onInitCallbacks.get(U);if(V)for(const t of V)try{t(N,U)}catch(A){}}getOrInitializeService(N){let{instanceIdentifier:U,options:V={}}=N,A=this.instances.get(U);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(t=U,t===n?void 0:t),options:V}),this.instances.set(U,A),this.instancesOptions.set(U,V),this.invokeOnInitCallbacks(A,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,A)}catch(q){}var t;return A||null}normalizeInstanceIdentifier(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return this.component?this.component.multipleInstances?N:n:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class i{constructor(N){this.name=N,this.providers=new Map}Gz(N){const U=this.getProvider(N.name);if(U.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);U.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.Gz(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const U=new q(N,this);return this.providers.set(N,U),U}getProviders(){return Array.from(this.providers.values())}}},12155:(N,U,V)=>{V.d(U,{e:()=>t,i:()=>S,m:()=>E,o:()=>p});const A=[];var t;!function(N){N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT"}(t||(t={}));const n={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},q=t.INFO,i={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},z=function(N,U){if(U<N.logLevel)return;const V=(new Date).toISOString(),A=i[U];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var t=arguments.length,n=new Array(t>2?t-2:0),q=2;q<t;q++)n[q-2]=arguments[q];console[A](`[${V}]  ${N.name}:`,...n)};class S{constructor(N){this.name=N,this._logLevel=q,this._logHandler=z,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in t))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"===typeof N?n[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!==typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...U),this._logHandler(this,t.DEBUG,...U)}log(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...U),this._logHandler(this,t.VERBOSE,...U)}info(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,t.INFO,...U),this._logHandler(this,t.INFO,...U)}warn(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,t.WARN,...U),this._logHandler(this,t.WARN,...U)}error(){for(var N=arguments.length,U=new Array(N),V=0;V<N;V++)U[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,t.ERROR,...U),this._logHandler(this,t.ERROR,...U)}}function E(N){A.forEach((U=>{U.setLogLevel(N)}))}function p(N,U){for(const V of A){let A=null;U&&U.level&&(A=n[U.level]),V.userLogHandler=null===N?null:function(U,V){for(var n=arguments.length,q=new Array(n>2?n-2:0),i=2;i<n;i++)q[i-2]=arguments[i];const z=q.map((N=>{if(null==N)return null;if("string"===typeof N)return N;if("number"===typeof N||"boolean"===typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch(U){return null}})).filter((N=>N)).join(" ");V>=(null!==A&&void 0!==A?A:U.logLevel)&&N({level:t[V].toLowerCase(),message:z,args:q,type:U.name})}}}}}]);