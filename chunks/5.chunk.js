/*! For license information please see 2ztdbp.5.e5152f13.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[5],{10512:(A,e,E)=>{E.d(e,{D:()=>S,G:()=>b,I:()=>c,J:()=>a,N:()=>q,Q:()=>I,S:()=>J,W:()=>D,_:()=>z,ab:()=>n,b:()=>v,c:()=>u,e:()=>T,eb:()=>Z,g:()=>P,hb:()=>K,i:()=>h,k:()=>H,l:()=>k,o:()=>m,r:()=>O,t:()=>o,x:()=>r,z:()=>w});const Q=function(A){const e=[];let E=0;for(let Q=0;Q<A.length;Q++){let x=A.charCodeAt(Q);x<128?e[E++]=x:x<2048?(e[E++]=x>>6|192,e[E++]=63&x|128):55296===(64512&x)&&Q+1<A.length&&56320===(64512&A.charCodeAt(Q+1))?(x=65536+((1023&x)<<10)+(1023&A.charCodeAt(++Q)),e[E++]=x>>18|240,e[E++]=x>>12&63|128,e[E++]=x>>6&63|128,e[E++]=63&x|128):(e[E++]=x>>12|224,e[E++]=x>>6&63|128,e[E++]=63&x|128)}return e},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(A,e){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let x=0;x<A.length;x+=3){const e=A[x],t=x+1<A.length,H=t?A[x+1]:0,h=x+2<A.length,Y=h?A[x+2]:0,F=e>>2,w=(3&e)<<4|H>>4;let r=(15&H)<<2|Y>>6,S=63&Y;h||(S=64,t||(r=64)),Q.push(E[F],E[w],E[r],E[S])}return Q.join("")},encodeString(A,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(A):this.encodeByteArray(Q(A),e)},decodeString(A,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(A):function(A){const e=[];let E=0,Q=0;for(;E<A.length;){const x=A[E++];if(x<128)e[Q++]=String.fromCharCode(x);else if(x>191&&x<224){const t=A[E++];e[Q++]=String.fromCharCode((31&x)<<6|63&t)}else if(x>239&&x<365){const t=((7&x)<<18|(63&A[E++])<<12|(63&A[E++])<<6|63&A[E++])-65536;e[Q++]=String.fromCharCode(55296+(t>>10)),e[Q++]=String.fromCharCode(56320+(1023&t))}else{const t=A[E++],H=A[E++];e[Q++]=String.fromCharCode((15&x)<<12|(63&t)<<6|63&H)}}return e.join("")}(this.decodeStringToByteArray(A,e))},decodeStringToByteArray(A,e){this.init_();const E=e?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let x=0;x<A.length;){const e=E[A.charAt(x++)],H=x<A.length?E[A.charAt(x)]:0;++x;const h=x<A.length?E[A.charAt(x)]:64;++x;const Y=x<A.length?E[A.charAt(x)]:64;if(++x,null==e||null==H||null==h||null==Y)throw new t;const F=e<<2|H>>4;if(Q.push(F),64!==h){const A=H<<4&240|h>>2;if(Q.push(A),64!==Y){const A=h<<6&192|Y;Q.push(A)}}}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H=function(A){return function(A){const e=Q(A);return x.encodeByteArray(e,!0)}(A).replace(/\./g,"")},h=function(A){try{return x.decodeString(A,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const Y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof E.g)return E.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,F=()=>{try{return Y()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(E){return}const e=A&&h(A[1]);return e&&JSON.parse(e)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},w=A=>{var e,E;return null===(E=null===(e=F())||void 0===e?void 0:e.emulatorHosts)||void 0===E?void 0:E[A]},r=()=>{var A;return null===(A=F())||void 0===A?void 0:A.config},S=A=>{var e;return null===(e=F())||void 0===e?void 0:e[`_${A}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((A,e)=>{this.resolve=A,this.reject=e}))}wrapCallback(A){return(e,E)=>{e?this.reject(e):this.resolve(E),"function"===typeof A&&(this.promise.catch((()=>{})),1===A.length?A(e):A(e,E))}}}function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function D(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function a(){const A="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof A&&void 0!==A.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function I(){const A=c();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function J(){try{return"object"===typeof indexedDB}catch(A){return!1}}function K(){return new Promise(((A,e)=>{try{let E=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(Q);x.onsuccess=()=>{x.result.close(),E||self.indexedDB.deleteDatabase(Q),A(!0)},x.onupgradeneeded=()=>{E=!1},x.onerror=()=>{var A;e((null===(A=x.error)||void 0===A?void 0:A.message)||"")}}catch(E){e(E)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class T extends Error{constructor(A,e,E){super(e),this.code=A,this.customData=E,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(A,e,E){this.service=A,this.serviceName=e,this.errors=E}create(A){const e=(arguments.length<=1?void 0:arguments[1])||{},E=`${this.service}/${A}`,Q=this.errors[A],x=Q?function(A,e){return A.replace(g,((A,E)=>{const Q=e[E];return null!=Q?String(Q):`<${E}?>`}))}(Q,e):"Error",t=`${this.serviceName}: ${x} (${E}).`;return new T(E,t,e)}}const g=/\{\$([^}]+)}/g;function q(A){for(const e in A)if(Object.prototype.hasOwnProperty.call(A,e))return!1;return!0}function O(A,e){if(A===e)return!0;const E=Object.keys(A),Q=Object.keys(e);for(const x of E){if(!Q.includes(x))return!1;const E=A[x],t=e[x];if(j(E)&&j(t)){if(!O(E,t))return!1}else if(E!==t)return!1}for(const x of Q)if(!E.includes(x))return!1;return!0}function j(A){return null!==A&&"object"===typeof A}function Z(A){const e=[];for(const[E,Q]of Object.entries(A))Array.isArray(Q)?Q.forEach((A=>{e.push(encodeURIComponent(E)+"="+encodeURIComponent(A))})):e.push(encodeURIComponent(E)+"="+encodeURIComponent(Q));return e.length?"&"+e.join("&"):""}function n(A){const e={};return A.replace(/^\?/,"").split("&").forEach((A=>{if(A){const[E,Q]=A.split("=");e[decodeURIComponent(E)]=decodeURIComponent(Q)}})),e}function o(A){const e=A.indexOf("?");if(!e)return"";const E=A.indexOf("#",e);return A.substring(e,E>0?E:void 0)}function m(A,e){const E=new N(A,e);return E.subscribe.bind(E)}class N{constructor(A,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{A(this)})).catch((A=>{this.error(A)}))}next(A){this.forEachObserver((e=>{e.next(A)}))}error(A){this.forEachObserver((e=>{e.error(A)})),this.close(A)}complete(){this.forEachObserver((A=>{A.complete()})),this.close()}subscribe(A,e,E){let Q;if(void 0===A&&void 0===e&&void 0===E)throw new Error("Missing Observer.");Q=function(A,e){if("object"!==typeof A||null===A)return!1;for(const E of e)if(E in A&&"function"===typeof A[E])return!0;return!1}(A,["next","error","complete"])?A:{next:A,error:e,complete:E},void 0===Q.next&&(Q.next=R),void 0===Q.error&&(Q.error=R),void 0===Q.complete&&(Q.complete=R);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(A){}})),this.observers.push(Q),x}unsubscribeOne(A){void 0!==this.observers&&void 0!==this.observers[A]&&(delete this.observers[A],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,A)}sendOne(A,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[A])try{e(this.observers[A])}catch(E){"undefined"!==typeof console&&console.error&&console.error(E)}}))}close(A){this.finalized||(this.finalized=!0,void 0!==A&&(this.finalError=A),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}const l=1e3,i=2,G=144e5,L=.5;function k(A){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const E=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)*Math.pow(e,A),Q=Math.round(L*E*(Math.random()-.5)*2);return Math.min(G,E+Q)}function b(A){return A&&A._delegate?A._delegate:A}},10497:(A,e,E)=>{E.d(e,{c:()=>t.e,d:()=>rA,e:()=>B,i:()=>EA,m:()=>QA,q:()=>AA,u:()=>hA,y:()=>eA,z:()=>tA,C:()=>xA,G:()=>HA,I:()=>DA,P:()=>vA,L:()=>cA,Q:()=>SA,T:()=>zA,W:()=>aA,Z:()=>IA});var Q=E(10506),x=E(10519),t=E(10512);let H,h;const Y=new WeakMap,F=new WeakMap,w=new WeakMap,r=new WeakMap,S=new WeakMap;let v={get(A,e,E){if(A instanceof IDBTransaction){if("done"===e)return F.get(A);if("objectStoreNames"===e)return A.objectStoreNames||w.get(A);if("store"===e)return E.objectStoreNames[1]?void 0:E.objectStore(E.objectStoreNames[0])}return a(A[e])},set:(A,e,E)=>(A[e]=E,!0),has:(A,e)=>A instanceof IDBTransaction&&("done"===e||"store"===e)||e in A};function c(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(h||(h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(A)?function(){for(var e=arguments.length,E=new Array(e),Q=0;Q<e;Q++)E[Q]=arguments[Q];return A.apply(z(this),E),a(Y.get(this))}:function(){for(var e=arguments.length,E=new Array(e),Q=0;Q<e;Q++)E[Q]=arguments[Q];return a(A.apply(z(this),E))}:function(e){for(var E=arguments.length,Q=new Array(E>1?E-1:0),x=1;x<E;x++)Q[x-1]=arguments[x];const t=A.call(z(this),e,...Q);return w.set(t,e.sort?e.sort():[e]),a(t)}}function D(A){return"function"===typeof A?c(A):(A instanceof IDBTransaction&&function(A){if(F.has(A))return;const e=new Promise(((e,E)=>{const Q=()=>{A.removeEventListener("complete",x),A.removeEventListener("error",t),A.removeEventListener("abort",t)},x=()=>{e(),Q()},t=()=>{E(A.error||new DOMException("AbortError","AbortError")),Q()};A.addEventListener("complete",x),A.addEventListener("error",t),A.addEventListener("abort",t)}));F.set(A,e)}(A),e=A,(H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((A=>e instanceof A))?new Proxy(A,v):A);var e}function a(A){if(A instanceof IDBRequest)return function(A){const e=new Promise(((e,E)=>{const Q=()=>{A.removeEventListener("success",x),A.removeEventListener("error",t)},x=()=>{e(a(A.result)),Q()},t=()=>{E(A.error),Q()};A.addEventListener("success",x),A.addEventListener("error",t)}));return e.then((e=>{e instanceof IDBCursor&&Y.set(e,A)})).catch((()=>{})),S.set(e,A),e}(A);if(r.has(A))return r.get(A);const e=D(A);return e!==A&&(r.set(A,e),S.set(e,A)),e}const z=A=>S.get(A);const I=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],K=new Map;function P(A,e){if(!(A instanceof IDBDatabase)||e in A||"string"!==typeof e)return;if(K.get(e))return K.get(e);const E=e.replace(/FromIndex$/,""),Q=e!==E,x=J.includes(E);if(!(E in(Q?IDBIndex:IDBObjectStore).prototype)||!x&&!I.includes(E))return;const t=async function(A){const e=this.transaction(A,x?"readwrite":"readonly");let t=e.store;for(var H=arguments.length,h=new Array(H>1?H-1:0),Y=1;Y<H;Y++)h[Y-1]=arguments[Y];return Q&&(t=t.index(h.shift())),(await Promise.all([t[E](...h),x&&e.done]))[0]};return K.set(e,t),t}v=(A=>({...A,get:(e,E,Q)=>P(e,E)||A.get(e,E,Q),has:(e,E)=>!!P(e,E)||A.has(e,E)}))(v);class T{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map((A=>{if(function(A){const e=A.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(A)){const e=A.getImmediate();return`${e.library}/${e.version}`}return null})).filter((A=>A)).join(" ")}}const u="@firebase/app",g="0.9.13",q=new x.c("@firebase/app"),O="@firebase/app-compat",j="@firebase/analytics-compat",Z="@firebase/analytics",n="@firebase/app-check-compat",o="@firebase/app-check",m="@firebase/auth",N="@firebase/auth-compat",R="@firebase/database",l="@firebase/database-compat",i="@firebase/functions",G="@firebase/functions-compat",L="@firebase/installations",k="@firebase/installations-compat",b="@firebase/messaging",W="@firebase/messaging-compat",p="@firebase/performance",U="@firebase/performance-compat",V="@firebase/remote-config",s="@firebase/remote-config-compat",f="@firebase/storage",X="@firebase/storage-compat",M="@firebase/firestore",y="@firebase/firestore-compat",C="firebase",B="[DEFAULT]",d={[u]:"fire-core",[O]:"fire-core-compat",[Z]:"fire-analytics",[j]:"fire-analytics-compat",[o]:"fire-app-check",[n]:"fire-app-check-compat",[m]:"fire-auth",[N]:"fire-auth-compat",[R]:"fire-rtdb",[l]:"fire-rtdb-compat",[i]:"fire-fn",[G]:"fire-fn-compat",[L]:"fire-iid",[k]:"fire-iid-compat",[b]:"fire-fcm",[W]:"fire-fcm-compat",[p]:"fire-perf",[U]:"fire-perf-compat",[V]:"fire-rc",[s]:"fire-rc-compat",[f]:"fire-gcs",[X]:"fire-gcs-compat",[M]:"fire-fst",[y]:"fire-fst-compat","fire-js":"fire-js",[C]:"fire-js-all"},AA=new Map,eA=new Map;function EA(A,e){try{A.container.zf(e)}catch(E){q.debug(`Component ${e.name} failed to register with FirebaseApp ${A.name}`,E)}}function QA(A,e){A.container.addOrOverwriteComponent(e)}function xA(A){const e=A.name;if(eA.has(e))return q.debug(`There were multiple attempts to register component ${e}.`),!1;eA.set(e,A);for(const E of AA.values())EA(E,A);return!0}function tA(A,e){const E=A.container.getProvider("heartbeat").getImmediate({optional:!0});return E&&E.triggerHeartbeat(),A.container.getProvider(e)}function HA(A,e){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;tA(A,e).clearInstance(E)}function hA(){eA.clear()}const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},FA=new t.c("app","Firebase",YA);class wA{constructor(A,e,E){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=E,this.container.zf(new Q.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw FA.create("app-deleted",{appName:this._name})}}const rA="9.23.0";function SA(A){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=A;if("object"!==typeof e){e={name:e}}const x=Object.assign({name:B,automaticDataCollectionEnabled:!1},e),H=x.name;if("string"!==typeof H||!H)throw FA.create("bad-app-name",{appName:String(H)});if(E||(E=(0,t.x)()),!E)throw FA.create("no-options");const h=AA.get(H);if(h){if((0,t.r)(E,h.options)&&(0,t.r)(x,h.config))return h;throw FA.create("duplicate-app",{appName:H})}const Y=new Q.c(H);for(const Q of eA.values())Y.zf(Q);const F=new wA(E,x,Y);return AA.set(H,F),F}function vA(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;const e=AA.get(A);if(!e&&A===B&&(0,t.x)())return SA();if(!e)throw FA.create("no-app",{appName:A});return e}function cA(){return Array.from(AA.values())}async function DA(A){const e=A.name;AA.has(e)&&(AA.delete(e),await Promise.all(A.container.getProviders().map((A=>A.delete()))),A.isDeleted=!0)}function aA(A,e,E){var x;let t=null!==(x=d[A])&&void 0!==x?x:A;E&&(t+=`-${E}`);const H=t.match(/\s|\//),h=e.match(/\s|\//);if(H||h){const A=[`Unable to register library "${t}" with version "${e}":`];return H&&A.push(`library name "${t}" contains illegal characters (whitespace or "/")`),H&&h&&A.push("and"),h&&A.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void q.warn(A.join(" "))}xA(new Q.f(`${t}-version`,(()=>({library:t,version:e})),"VERSION"))}function zA(A,e){if(null!==A&&"function"!==typeof A)throw FA.create("invalid-log-argument");(0,x.k)(A,e)}function IA(A){(0,x.g)(A)}const JA="firebase-heartbeat-store";let KA=null;function PA(){return KA||(KA=function(A,e){let{blocked:E,upgrade:Q,blocking:x,terminated:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const H=indexedDB.open(A,e),h=a(H);return Q&&H.addEventListener("upgradeneeded",(A=>{Q(a(H.result),A.oldVersion,A.newVersion,a(H.transaction),A)})),E&&H.addEventListener("blocked",(A=>E(A.oldVersion,A.newVersion,A))),h.then((A=>{t&&A.addEventListener("close",(()=>t())),x&&A.addEventListener("versionchange",(A=>x(A.oldVersion,A.newVersion,A)))})).catch((()=>{})),h}("firebase-heartbeat-database",1,{upgrade:(A,e)=>{if(0===e)A.createObjectStore(JA)}}).catch((A=>{throw FA.create("idb-open",{originalErrorMessage:A.message})}))),KA}async function TA(A,e){try{const E=(await PA()).transaction(JA,"readwrite"),Q=E.objectStore(JA);await Q.put(e,uA(A)),await E.done}catch(E){if(E instanceof t.e)q.warn(E.message);else{const A=FA.create("idb-set",{originalErrorMessage:null===E||void 0===E?void 0:E.message});q.warn(A.message)}}}function uA(A){return`${A.name}!${A.options.appId}`}class gA{constructor(A){this.container=A,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this.Mi=new OA(e),this._heartbeatsCachePromise=this.Mi.read().then((A=>(this._heartbeatsCache=A,A)))}async triggerHeartbeat(){const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=qA();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((A=>A.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((A=>{const e=new Date(A.date).valueOf();return Date.now()-e<=2592e6})),this.Mi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const A=qA(),{heartbeatsToSend:e,unsentEntries:E}=function(A){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const E=[];let Q=A.slice();for(const x of A){const A=E.find((A=>A.agent===x.agent));if(A){if(A.dates.push(x.date),jA(E)>e){A.dates.pop();break}}else if(E.push({agent:x.agent,dates:[x.date]}),jA(E)>e){E.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:E,unsentEntries:Q}}(this._heartbeatsCache.heartbeats),Q=(0,t.k)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=A,E.length>0?(this._heartbeatsCache.heartbeats=E,await this.Mi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Mi.overwrite(this._heartbeatsCache)),Q}}function qA(){return(new Date).toISOString().substring(0,10)}class OA{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,t.S)()&&(0,t.hb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(A){try{const e=await PA();return await e.transaction(JA).objectStore(JA).get(uA(A))}catch(e){if(e instanceof t.e)q.warn(e.message);else{const A=FA.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});q.warn(A.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(A){var e;if(await this._canUseIndexedDBPromise){const E=await this.read();return TA(this.app,{lastSentHeartbeatDate:null!==(e=A.lastSentHeartbeatDate)&&void 0!==e?e:E.lastSentHeartbeatDate,heartbeats:A.heartbeats})}}async add(A){var e;if(await this._canUseIndexedDBPromise){const E=await this.read();return TA(this.app,{lastSentHeartbeatDate:null!==(e=A.lastSentHeartbeatDate)&&void 0!==e?e:E.lastSentHeartbeatDate,heartbeats:[...E.heartbeats,...A.heartbeats]})}}}function jA(A){return(0,t.k)(JSON.stringify({version:2,heartbeats:A})).length}var ZA;ZA="",xA(new Q.f("platform-logger",(A=>new T(A)),"PRIVATE")),xA(new Q.f("heartbeat",(A=>new gA(A)),"PRIVATE")),aA(u,g,ZA),aA(u,g,"esm2017"),aA("fire-js","")},10506:(A,e,E)=>{E.d(e,{c:()=>h,f:()=>x});var Q=E(10512);class x{constructor(A,e,E){this.name=A,this.instanceFactory=e,this.type=E,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}const t="[DEFAULT]";class H{constructor(A,e){this.name=A,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const e=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(e)){const A=new Q.b;if(this.instancesDeferred.set(e,A),this.isInitialized(e)||this.shouldAutoInitialize())try{const E=this.getOrInitializeService({instanceIdentifier:e});E&&A.resolve(E)}catch(E){}}return this.instancesDeferred.get(e).promise}getImmediate(A){var e;const E=this.normalizeInstanceIdentifier(null===A||void 0===A?void 0:A.identifier),Q=null!==(e=null===A||void 0===A?void 0:A.optional)&&void 0!==e&&e;if(!this.isInitialized(E)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:E})}catch(x){if(Q)return null;throw x}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,this.shouldAutoInitialize()){if(function(A){return"EAGER"===A.instantiationMode}(A))try{this.getOrInitializeService({instanceIdentifier:t})}catch(e){}for(const[A,E]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(A);try{const A=this.getOrInitializeService({instanceIdentifier:Q});E.resolve(A)}catch(e){}}}}clearInstance(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter((A=>"INTERNAL"in A)).map((A=>A.INTERNAL.delete())),...A.filter((A=>"_delete"in A)).map((A=>A._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instances.has(A)}getOptions(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instancesOptions.get(A)||{}}initialize(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=A,E=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(E))throw Error(`${this.name}(${E}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:E,options:e});for(const[x,t]of this.instancesDeferred.entries()){E===this.normalizeInstanceIdentifier(x)&&t.resolve(Q)}return Q}qi(A,e){var E;const Q=this.normalizeInstanceIdentifier(e),x=null!==(E=this.onInitCallbacks.get(Q))&&void 0!==E?E:new Set;x.add(A),this.onInitCallbacks.set(Q,x);const t=this.instances.get(Q);return t&&A(t,Q),()=>{x.delete(A)}}invokeOnInitCallbacks(A,e){const E=this.onInitCallbacks.get(e);if(E)for(const x of E)try{x(A,e)}catch(Q){}}getOrInitializeService(A){let{instanceIdentifier:e,options:E={}}=A,Q=this.instances.get(e);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(x=e,x===t?void 0:x),options:E}),this.instances.set(e,Q),this.instancesOptions.set(e,E),this.invokeOnInitCallbacks(Q,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,Q)}catch(H){}var x;return Q||null}normalizeInstanceIdentifier(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.component?this.component.multipleInstances?A:t:A}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class h{constructor(A){this.name=A,this.providers=new Map}zf(A){const e=this.getProvider(A.name);if(e.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);e.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.zf(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const e=new H(A,this);return this.providers.set(A,e),e}getProviders(){return Array.from(this.providers.values())}}},10519:(A,e,E)=>{E.d(e,{b:()=>x,c:()=>F,g:()=>w,k:()=>r});const Q=[];var x;!function(A){A[A.DEBUG=0]="DEBUG",A[A.VERBOSE=1]="VERBOSE",A[A.INFO=2]="INFO",A[A.WARN=3]="WARN",A[A.ERROR=4]="ERROR",A[A.SILENT=5]="SILENT"}(x||(x={}));const t={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},H=x.INFO,h={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},Y=function(A,e){if(e<A.logLevel)return;const E=(new Date).toISOString(),Q=h[e];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var x=arguments.length,t=new Array(x>2?x-2:0),H=2;H<x;H++)t[H-2]=arguments[H];console[Q](`[${E}]  ${A.name}:`,...t)};class F{constructor(A){this.name=A,this._logLevel=H,this._logHandler=Y,this._userLogHandler=null,Q.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in x))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"===typeof A?t[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!==typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(){for(var A=arguments.length,e=new Array(A),E=0;E<A;E++)e[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...e),this._logHandler(this,x.DEBUG,...e)}log(){for(var A=arguments.length,e=new Array(A),E=0;E<A;E++)e[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...e),this._logHandler(this,x.VERBOSE,...e)}info(){for(var A=arguments.length,e=new Array(A),E=0;E<A;E++)e[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.INFO,...e),this._logHandler(this,x.INFO,...e)}warn(){for(var A=arguments.length,e=new Array(A),E=0;E<A;E++)e[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.WARN,...e),this._logHandler(this,x.WARN,...e)}error(){for(var A=arguments.length,e=new Array(A),E=0;E<A;E++)e[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.ERROR,...e),this._logHandler(this,x.ERROR,...e)}}function w(A){Q.forEach((e=>{e.setLogLevel(A)}))}function r(A,e){for(const E of Q){let Q=null;e&&e.level&&(Q=t[e.level]),E.userLogHandler=null===A?null:function(e,E){for(var t=arguments.length,H=new Array(t>2?t-2:0),h=2;h<t;h++)H[h-2]=arguments[h];const Y=H.map((A=>{if(null==A)return null;if("string"===typeof A)return A;if("number"===typeof A||"boolean"===typeof A)return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch(e){return null}})).filter((A=>A)).join(" ");E>=(null!==Q&&void 0!==Q?Q:e.logLevel)&&A({level:x[E].toLowerCase(),message:Y,args:H,type:e.name})}}}}}]);