/*! For license information please see nmw19.5.a408cc0e.chunk.js.LICENSE.txt */
"use strict";(self["3gghkoft8x"]=self["3gghkoft8x"]||[]).push([[5],{12107:(y,S,I)=>{I.d(S,{A:()=>K,E:()=>u,F:()=>G,J:()=>a,M:()=>L,O:()=>l,Q:()=>E,S:()=>s,U:()=>O,Y:()=>T,Z:()=>j,bb:()=>n,d:()=>p,eb:()=>h,g:()=>D,hb:()=>f,j:()=>C,n:()=>my,o:()=>d,r:()=>B,s:()=>W,t:()=>P,v:()=>z,z:()=>v});const V=function(y){const S=[];let I=0;for(let V=0;V<y.length;V++){let i=y.charCodeAt(V);i<128?S[I++]=i:i<2048?(S[I++]=i>>6|192,S[I++]=63&i|128):55296===(64512&i)&&V+1<y.length&&56320===(64512&y.charCodeAt(V+1))?(i=65536+((1023&i)<<10)+(1023&y.charCodeAt(++V)),S[I++]=i>>18|240,S[I++]=i>>12&63|128,S[I++]=i>>6&63|128,S[I++]=63&i|128):(S[I++]=i>>12|224,S[I++]=i>>6&63|128,S[I++]=63&i|128)}return S},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(y,S){if(!Array.isArray(y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let i=0;i<y.length;i+=3){const S=y[i],A=i+1<y.length,B=A?y[i+1]:0,d=i+2<y.length,F=d?y[i+2]:0,J=S>>2,u=(3&S)<<4|B>>4;let K=(15&B)<<2|F>>6,G=63&F;d||(G=64,A||(K=64)),V.push(I[J],I[u],I[K],I[G])}return V.join("")},encodeString(y,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(y):this.encodeByteArray(V(y),S)},decodeString(y,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(y):function(y){const S=[];let I=0,V=0;for(;I<y.length;){const i=y[I++];if(i<128)S[V++]=String.fromCharCode(i);else if(i>191&&i<224){const A=y[I++];S[V++]=String.fromCharCode((31&i)<<6|63&A)}else if(i>239&&i<365){const A=((7&i)<<18|(63&y[I++])<<12|(63&y[I++])<<6|63&y[I++])-65536;S[V++]=String.fromCharCode(55296+(A>>10)),S[V++]=String.fromCharCode(56320+(1023&A))}else{const A=y[I++],B=y[I++];S[V++]=String.fromCharCode((15&i)<<12|(63&A)<<6|63&B)}}return S.join("")}(this.decodeStringToByteArray(y,S))},decodeStringToByteArray(y,S){this.init_();const I=S?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let i=0;i<y.length;){const S=I[y.charAt(i++)],B=i<y.length?I[y.charAt(i)]:0;++i;const d=i<y.length?I[y.charAt(i)]:64;++i;const F=i<y.length?I[y.charAt(i)]:64;if(++i,null==S||null==B||null==d||null==F)throw new A;const J=S<<2|B>>4;if(V.push(J),64!==d){const y=B<<4&240|d>>2;if(V.push(y),64!==F){const y=d<<6&192|F;V.push(y)}}}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let y=0;y<this.ENCODED_VALS.length;y++)this.byteToCharMap_[y]=this.ENCODED_VALS.charAt(y),this.charToByteMap_[this.byteToCharMap_[y]]=y,this.byteToCharMapWebSafe_[y]=this.ENCODED_VALS_WEBSAFE.charAt(y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[y]]=y,y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(y)]=y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(y)]=y)}}};class A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B=function(y){return function(y){const S=V(y);return i.encodeByteArray(S,!0)}(y).replace(/\./g,"")},d=function(y){try{return i.decodeString(y,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};const F=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof I.g)return I.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return F()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let y;try{y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(I){return}const S=y&&d(y[1]);return S&&JSON.parse(S)})()}catch(y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${y}`)}},u=y=>{var S,I;return null===(I=null===(S=J())||void 0===S?void 0:S.emulatorHosts)||void 0===I?void 0:I[y]},K=()=>{var y;return null===(y=J())||void 0===y?void 0:y.config},G=y=>{var S;return null===(S=J())||void 0===S?void 0:S[`_${y}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((y,S)=>{this.resolve=y,this.reject=S}))}wrapCallback(y){return(S,I)=>{S?this.reject(S):this.resolve(I),"function"===typeof y&&(this.promise.catch((()=>{})),1===y.length?y(S):y(S,I))}}}function L(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function l(){const y="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof y&&void 0!==y.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function s(){const y=L();return y.indexOf("MSIE ")>=0||y.indexOf("Trident/")>=0}function O(){try{return"object"===typeof indexedDB}catch(y){return!1}}function f(){return new Promise(((y,S)=>{try{let I=!0;const V="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(V);i.onsuccess=()=>{i.result.close(),I||self.indexedDB.deleteDatabase(V),y(!0)},i.onupgradeneeded=()=>{I=!1},i.onerror=()=>{var y;S((null===(y=i.error)||void 0===y?void 0:y.message)||"")}}catch(I){S(I)}}))}function my(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class C extends Error{constructor(y,S,I){super(S),this.code=y,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(y,S,I){this.service=y,this.serviceName=S,this.errors=I}create(y){const S=(arguments.length<=1?void 0:arguments[1])||{},I=`${this.service}/${y}`,V=this.errors[y],i=V?function(y,S){return y.replace(o,((y,I)=>{const V=S[I];return null!=V?String(V):`<${I}?>`}))}(V,S):"Error",A=`${this.serviceName}: ${i} (${I}).`;return new C(I,A,S)}}const o=/\{\$([^}]+)}/g;function E(y){for(const S in y)if(Object.prototype.hasOwnProperty.call(y,S))return!1;return!0}function z(y,S){if(y===S)return!0;const I=Object.keys(y),V=Object.keys(S);for(const i of I){if(!V.includes(i))return!1;const I=y[i],A=S[i];if(r(I)&&r(A)){if(!z(I,A))return!1}else if(I!==A)return!1}for(const i of V)if(!I.includes(i))return!1;return!0}function r(y){return null!==y&&"object"===typeof y}function h(y){const S=[];for(const[I,V]of Object.entries(y))Array.isArray(V)?V.forEach((y=>{S.push(encodeURIComponent(I)+"="+encodeURIComponent(y))})):S.push(encodeURIComponent(I)+"="+encodeURIComponent(V));return S.length?"&"+S.join("&"):""}function n(y){const S={};return y.replace(/^\?/,"").split("&").forEach((y=>{if(y){const[I,V]=y.split("=");S[decodeURIComponent(I)]=decodeURIComponent(V)}})),S}function v(y){const S=y.indexOf("?");if(!S)return"";const I=y.indexOf("#",S);return y.substring(S,I>0?I:void 0)}function P(y,S){const I=new q(y,S);return I.subscribe.bind(I)}class q{constructor(y,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then((()=>{y(this)})).catch((y=>{this.error(y)}))}next(y){this.forEachObserver((S=>{S.next(y)}))}error(y){this.forEachObserver((S=>{S.error(y)})),this.close(y)}complete(){this.forEachObserver((y=>{y.complete()})),this.close()}subscribe(y,S,I){let V;if(void 0===y&&void 0===S&&void 0===I)throw new Error("Missing Observer.");V=function(y,S){if("object"!==typeof y||null===y)return!1;for(const I of S)if(I in y&&"function"===typeof y[I])return!0;return!1}(y,["next","error","complete"])?y:{next:y,error:S,complete:I},void 0===V.next&&(V.next=g),void 0===V.error&&(V.error=g),void 0===V.complete&&(V.complete=g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(y){}})),this.observers.push(V),i}unsubscribeOne(y){void 0!==this.observers&&void 0!==this.observers[y]&&(delete this.observers[y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(y){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,y)}sendOne(y,S){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[y])try{S(this.observers[y])}catch(I){"undefined"!==typeof console&&console.error&&console.error(I)}}))}close(y){this.finalized||(this.finalized=!0,void 0!==y&&(this.finalError=y),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function g(){}const k=1e3,R=2,b=144e5,U=.5;function W(y){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;const I=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:k)*Math.pow(S,y),V=Math.round(U*I*(Math.random()-.5)*2);return Math.min(b,I+V)}function a(y){return y&&y._delegate?y._delegate:y}},12102:(y,S,I)=>{I.d(S,{b:()=>A.j,d:()=>Ky,g:()=>Z,j:()=>Iy,k:()=>Vy,n:()=>yy,r:()=>dy,s:()=>Sy,v:()=>Ay,y:()=>iy,A:()=>By,E:()=>Ty,L:()=>py,H:()=>Ly,M:()=>Gy,O:()=>jy,Q:()=>ly,T:()=>sy});var V=I(12105),i=I(12115),A=I(12107);let B,d;const F=new WeakMap,J=new WeakMap,u=new WeakMap,K=new WeakMap,G=new WeakMap;let p={get(y,S,I){if(y instanceof IDBTransaction){if("done"===S)return J.get(y);if("objectStoreNames"===S)return y.objectStoreNames||u.get(y);if("store"===S)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return l(y[S])},set:(y,S,I)=>(y[S]=I,!0),has:(y,S)=>y instanceof IDBTransaction&&("done"===S||"store"===S)||S in y};function L(y){return y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(y)?function(){for(var S=arguments.length,I=new Array(S),V=0;V<S;V++)I[V]=arguments[V];return y.apply(j(this),I),l(F.get(this))}:function(){for(var S=arguments.length,I=new Array(S),V=0;V<S;V++)I[V]=arguments[V];return l(y.apply(j(this),I))}:function(S){for(var I=arguments.length,V=new Array(I>1?I-1:0),i=1;i<I;i++)V[i-1]=arguments[i];const A=y.call(j(this),S,...V);return u.set(A,S.sort?S.sort():[S]),l(A)}}function T(y){return"function"===typeof y?L(y):(y instanceof IDBTransaction&&function(y){if(J.has(y))return;const S=new Promise(((S,I)=>{const V=()=>{y.removeEventListener("complete",i),y.removeEventListener("error",A),y.removeEventListener("abort",A)},i=()=>{S(),V()},A=()=>{I(y.error||new DOMException("AbortError","AbortError")),V()};y.addEventListener("complete",i),y.addEventListener("error",A),y.addEventListener("abort",A)}));J.set(y,S)}(y),S=y,(B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((y=>S instanceof y))?new Proxy(y,p):y);var S}function l(y){if(y instanceof IDBRequest)return function(y){const S=new Promise(((S,I)=>{const V=()=>{y.removeEventListener("success",i),y.removeEventListener("error",A)},i=()=>{S(l(y.result)),V()},A=()=>{I(y.error),V()};y.addEventListener("success",i),y.addEventListener("error",A)}));return S.then((S=>{S instanceof IDBCursor&&F.set(S,y)})).catch((()=>{})),G.set(S,y),S}(y);if(K.has(y))return K.get(y);const S=T(y);return S!==y&&(K.set(y,S),G.set(S,y)),S}const j=y=>G.get(y);const s=["get","getKey","getAll","getAllKeys","count"],O=["put","add","delete","clear"],f=new Map;function my(y,S){if(!(y instanceof IDBDatabase)||S in y||"string"!==typeof S)return;if(f.get(S))return f.get(S);const I=S.replace(/FromIndex$/,""),V=S!==I,i=O.includes(I);if(!(I in(V?IDBIndex:IDBObjectStore).prototype)||!i&&!s.includes(I))return;const A=async function(y){const S=this.transaction(y,i?"readwrite":"readonly");let A=S.store;for(var B=arguments.length,d=new Array(B>1?B-1:0),F=1;F<B;F++)d[F-1]=arguments[F];return V&&(A=A.index(d.shift())),(await Promise.all([A[I](...d),i&&S.done]))[0]};return f.set(S,A),A}p=(y=>({...y,get:(S,I,V)=>my(S,I)||y.get(S,I,V),has:(S,I)=>!!my(S,I)||y.has(S,I)}))(p);class C{constructor(y){this.container=y}getPlatformInfoString(){return this.container.getProviders().map((y=>{if(function(y){const S=y.getComponent();return"VERSION"===(null===S||void 0===S?void 0:S.type)}(y)){const S=y.getImmediate();return`${S.library}/${S.version}`}return null})).filter((y=>y)).join(" ")}}const D="@firebase/app",o="0.9.13",E=new i.g("@firebase/app"),z="@firebase/app-compat",r="@firebase/analytics-compat",h="@firebase/analytics",n="@firebase/app-check-compat",v="@firebase/app-check",P="@firebase/auth",q="@firebase/auth-compat",g="@firebase/database",k="@firebase/database-compat",R="@firebase/functions",b="@firebase/functions-compat",U="@firebase/installations",W="@firebase/installations-compat",a="@firebase/messaging",e="@firebase/messaging-compat",x="@firebase/performance",Q="@firebase/performance-compat",c="@firebase/remote-config",X="@firebase/remote-config-compat",M="@firebase/storage",t="@firebase/storage-compat",N="@firebase/firestore",Y="@firebase/firestore-compat",H="firebase",Z="[DEFAULT]",w={[D]:"fire-core",[z]:"fire-core-compat",[h]:"fire-analytics",[r]:"fire-analytics-compat",[v]:"fire-app-check",[n]:"fire-app-check-compat",[P]:"fire-auth",[q]:"fire-auth-compat",[g]:"fire-rtdb",[k]:"fire-rtdb-compat",[R]:"fire-fn",[b]:"fire-fn-compat",[U]:"fire-iid",[W]:"fire-iid-compat",[a]:"fire-fcm",[e]:"fire-fcm-compat",[x]:"fire-perf",[Q]:"fire-perf-compat",[c]:"fire-rc",[X]:"fire-rc-compat",[M]:"fire-gcs",[t]:"fire-gcs-compat",[N]:"fire-fst",[Y]:"fire-fst-compat","fire-js":"fire-js",[H]:"fire-js-all"},yy=new Map,Sy=new Map;function Iy(y,S){try{y.container.NF(S)}catch(I){E.debug(`Component ${S.name} failed to register with FirebaseApp ${y.name}`,I)}}function Vy(y,S){y.container.addOrOverwriteComponent(S)}function iy(y){const S=y.name;if(Sy.has(S))return E.debug(`There were multiple attempts to register component ${S}.`),!1;Sy.set(S,y);for(const I of yy.values())Iy(I,y);return!0}function Ay(y,S){const I=y.container.getProvider("heartbeat").getImmediate({optional:!0});return I&&I.triggerHeartbeat(),y.container.getProvider(S)}function By(y,S){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;Ay(y,S).clearInstance(I)}function dy(){Sy.clear()}const Fy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jy=new A.g("app","Firebase",Fy);class uy{constructor(y,S,I){this._isDeleted=!1,this._options=Object.assign({},y),this._config=Object.assign({},S),this._name=S.name,this._automaticDataCollectionEnabled=S.automaticDataCollectionEnabled,this._container=I,this.container.NF(new V.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(y){this.checkDestroyed(),this._automaticDataCollectionEnabled=y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(y){this._isDeleted=y}checkDestroyed(){if(this.isDeleted)throw Jy.create("app-deleted",{appName:this._name})}}const Ky="9.23.0";function Gy(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=y;if("object"!==typeof S){S={name:S}}const i=Object.assign({name:Z,automaticDataCollectionEnabled:!1},S),B=i.name;if("string"!==typeof B||!B)throw Jy.create("bad-app-name",{appName:String(B)});if(I||(I=(0,A.A)()),!I)throw Jy.create("no-options");const d=yy.get(B);if(d){if((0,A.v)(I,d.options)&&(0,A.v)(i,d.config))return d;throw Jy.create("duplicate-app",{appName:B})}const F=new V.b(B);for(const V of Sy.values())F.NF(V);const J=new uy(I,i,F);return yy.set(B,J),J}function py(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const S=yy.get(y);if(!S&&y===Z&&(0,A.A)())return Gy();if(!S)throw Jy.create("no-app",{appName:y});return S}function Ly(){return Array.from(yy.values())}async function Ty(y){const S=y.name;yy.has(S)&&(yy.delete(S),await Promise.all(y.container.getProviders().map((y=>y.delete()))),y.isDeleted=!0)}function ly(y,S,I){var i;let A=null!==(i=w[y])&&void 0!==i?i:y;I&&(A+=`-${I}`);const B=A.match(/\s|\//),d=S.match(/\s|\//);if(B||d){const y=[`Unable to register library "${A}" with version "${S}":`];return B&&y.push(`library name "${A}" contains illegal characters (whitespace or "/")`),B&&d&&y.push("and"),d&&y.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void E.warn(y.join(" "))}iy(new V.f(`${A}-version`,(()=>({library:A,version:S})),"VERSION"))}function jy(y,S){if(null!==y&&"function"!==typeof y)throw Jy.create("invalid-log-argument");(0,i.l)(y,S)}function sy(y){(0,i.i)(y)}const Oy="firebase-heartbeat-store";let fy=null;function mS(){return fy||(fy=function(y,S){let{blocked:I,upgrade:V,blocking:i,terminated:A}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const B=indexedDB.open(y,S),d=l(B);return V&&B.addEventListener("upgradeneeded",(y=>{V(l(B.result),y.oldVersion,y.newVersion,l(B.transaction),y)})),I&&B.addEventListener("blocked",(y=>I(y.oldVersion,y.newVersion,y))),d.then((y=>{A&&y.addEventListener("close",(()=>A())),i&&y.addEventListener("versionchange",(y=>i(y.oldVersion,y.newVersion,y)))})).catch((()=>{})),d}("firebase-heartbeat-database",1,{upgrade:(y,S)=>{if(0===S)y.createObjectStore(Oy)}}).catch((y=>{throw Jy.create("idb-open",{originalErrorMessage:y.message})}))),fy}async function Cy(y,S){try{const I=(await mS()).transaction(Oy,"readwrite"),V=I.objectStore(Oy);await V.put(S,Dy(y)),await I.done}catch(I){if(I instanceof A.j)E.warn(I.message);else{const y=Jy.create("idb-set",{originalErrorMessage:null===I||void 0===I?void 0:I.message});E.warn(y.message)}}}function Dy(y){return`${y.name}!${y.options.appId}`}class oy{constructor(y){this.container=y,this._heartbeatsCache=null;const S=this.container.getProvider("app").getImmediate();this.DK=new zy(S),this._heartbeatsCachePromise=this.DK.read().then((y=>(this._heartbeatsCache=y,y)))}async triggerHeartbeat(){const y=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),S=Ey();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==S&&!this._heartbeatsCache.heartbeats.some((y=>y.date===S)))return this._heartbeatsCache.heartbeats.push({date:S,agent:y}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((y=>{const S=new Date(y.date).valueOf();return Date.now()-S<=2592e6})),this.DK.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const y=Ey(),{heartbeatsToSend:S,unsentEntries:I}=function(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const I=[];let V=y.slice();for(const i of y){const y=I.find((y=>y.agent===i.agent));if(y){if(y.dates.push(i.date),ry(I)>S){y.dates.pop();break}}else if(I.push({agent:i.agent,dates:[i.date]}),ry(I)>S){I.pop();break}V=V.slice(1)}return{heartbeatsToSend:I,unsentEntries:V}}(this._heartbeatsCache.heartbeats),V=(0,A.r)(JSON.stringify({version:2,heartbeats:S}));return this._heartbeatsCache.lastSentHeartbeatDate=y,I.length>0?(this._heartbeatsCache.heartbeats=I,await this.DK.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.DK.overwrite(this._heartbeatsCache)),V}}function Ey(){return(new Date).toISOString().substring(0,10)}class zy{constructor(y){this.app=y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,A.U)()&&(0,A.hb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(y){try{const S=await mS();return await S.transaction(Oy).objectStore(Oy).get(Dy(y))}catch(S){if(S instanceof A.j)E.warn(S.message);else{const y=Jy.create("idb-get",{originalErrorMessage:null===S||void 0===S?void 0:S.message});E.warn(y.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(y){var S;if(await this._canUseIndexedDBPromise){const I=await this.read();return Cy(this.app,{lastSentHeartbeatDate:null!==(S=y.lastSentHeartbeatDate)&&void 0!==S?S:I.lastSentHeartbeatDate,heartbeats:y.heartbeats})}}async add(y){var S;if(await this._canUseIndexedDBPromise){const I=await this.read();return Cy(this.app,{lastSentHeartbeatDate:null!==(S=y.lastSentHeartbeatDate)&&void 0!==S?S:I.lastSentHeartbeatDate,heartbeats:[...I.heartbeats,...y.heartbeats]})}}}function ry(y){return(0,A.r)(JSON.stringify({version:2,heartbeats:y})).length}var hy;hy="",iy(new V.f("platform-logger",(y=>new C(y)),"PRIVATE")),iy(new V.f("heartbeat",(y=>new oy(y)),"PRIVATE")),ly(D,o,hy),ly(D,o,"esm2017"),ly("fire-js","")},12105:(y,S,I)=>{I.d(S,{b:()=>d,f:()=>i});var V=I(12107);class i{constructor(y,S,I){this.name=y,this.instanceFactory=S,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(y){return this.instantiationMode=y,this}setMultipleInstances(y){return this.multipleInstances=y,this}setServiceProps(y){return this.serviceProps=y,this}setInstanceCreatedCallback(y){return this.onInstanceCreated=y,this}}const A="[DEFAULT]";class B{constructor(y,S){this.name=y,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(y){const S=this.normalizeInstanceIdentifier(y);if(!this.instancesDeferred.has(S)){const y=new V.d;if(this.instancesDeferred.set(S,y),this.isInitialized(S)||this.shouldAutoInitialize())try{const I=this.getOrInitializeService({instanceIdentifier:S});I&&y.resolve(I)}catch(I){}}return this.instancesDeferred.get(S).promise}getImmediate(y){var S;const I=this.normalizeInstanceIdentifier(null===y||void 0===y?void 0:y.identifier),V=null!==(S=null===y||void 0===y?void 0:y.optional)&&void 0!==S&&S;if(!this.isInitialized(I)&&!this.shouldAutoInitialize()){if(V)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:I})}catch(i){if(V)return null;throw i}}getComponent(){return this.component}setComponent(y){if(y.name!==this.name)throw Error(`Mismatching Component ${y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=y,this.shouldAutoInitialize()){if(function(y){return"EAGER"===y.instantiationMode}(y))try{this.getOrInitializeService({instanceIdentifier:A})}catch(S){}for(const[y,I]of this.instancesDeferred.entries()){const V=this.normalizeInstanceIdentifier(y);try{const y=this.getOrInitializeService({instanceIdentifier:V});I.resolve(y)}catch(S){}}}}clearInstance(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;this.instancesDeferred.delete(y),this.instancesOptions.delete(y),this.instances.delete(y)}async delete(){const y=Array.from(this.instances.values());await Promise.all([...y.filter((y=>"INTERNAL"in y)).map((y=>y.INTERNAL.delete())),...y.filter((y=>"_delete"in y)).map((y=>y._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instances.has(y)}getOptions(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instancesOptions.get(y)||{}}initialize(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:S={}}=y,I=this.normalizeInstanceIdentifier(y.instanceIdentifier);if(this.isInitialized(I))throw Error(`${this.name}(${I}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const V=this.getOrInitializeService({instanceIdentifier:I,options:S});for(const[i,A]of this.instancesDeferred.entries()){I===this.normalizeInstanceIdentifier(i)&&A.resolve(V)}return V}SK(y,S){var I;const V=this.normalizeInstanceIdentifier(S),i=null!==(I=this.onInitCallbacks.get(V))&&void 0!==I?I:new Set;i.add(y),this.onInitCallbacks.set(V,i);const A=this.instances.get(V);return A&&y(A,V),()=>{i.delete(y)}}invokeOnInitCallbacks(y,S){const I=this.onInitCallbacks.get(S);if(I)for(const i of I)try{i(y,S)}catch(V){}}getOrInitializeService(y){let{instanceIdentifier:S,options:I={}}=y,V=this.instances.get(S);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(i=S,i===A?void 0:i),options:I}),this.instances.set(S,V),this.instancesOptions.set(S,I),this.invokeOnInitCallbacks(V,S),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,S,V)}catch(B){}var i;return V||null}normalizeInstanceIdentifier(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.component?this.component.multipleInstances?y:A:y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d{constructor(y){this.name=y,this.providers=new Map}NF(y){const S=this.getProvider(y.name);if(S.isComponentSet())throw new Error(`Component ${y.name} has already been registered with ${this.name}`);S.setComponent(y)}addOrOverwriteComponent(y){this.getProvider(y.name).isComponentSet()&&this.providers.delete(y.name),this.NF(y)}getProvider(y){if(this.providers.has(y))return this.providers.get(y);const S=new B(y,this);return this.providers.set(y,S),S}getProviders(){return Array.from(this.providers.values())}}},12115:(y,S,I)=>{I.d(S,{d:()=>i,g:()=>J,i:()=>u,l:()=>K});const V=[];var i;!function(y){y[y.DEBUG=0]="DEBUG",y[y.VERBOSE=1]="VERBOSE",y[y.INFO=2]="INFO",y[y.WARN=3]="WARN",y[y.ERROR=4]="ERROR",y[y.SILENT=5]="SILENT"}(i||(i={}));const A={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},B=i.INFO,d={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},F=function(y,S){if(S<y.logLevel)return;const I=(new Date).toISOString(),V=d[S];if(!V)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);for(var i=arguments.length,A=new Array(i>2?i-2:0),B=2;B<i;B++)A[B-2]=arguments[B];console[V](`[${I}]  ${y.name}:`,...A)};class J{constructor(y){this.name=y,this._logLevel=B,this._logHandler=F,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(y){if(!(y in i))throw new TypeError(`Invalid value "${y}" assigned to \`logLevel\``);this._logLevel=y}setLogLevel(y){this._logLevel="string"===typeof y?A[y]:y}get logHandler(){return this._logHandler}set logHandler(y){if("function"!==typeof y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=y}get userLogHandler(){return this._userLogHandler}set userLogHandler(y){this._userLogHandler=y}debug(){for(var y=arguments.length,S=new Array(y),I=0;I<y;I++)S[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...S),this._logHandler(this,i.DEBUG,...S)}log(){for(var y=arguments.length,S=new Array(y),I=0;I<y;I++)S[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...S),this._logHandler(this,i.VERBOSE,...S)}info(){for(var y=arguments.length,S=new Array(y),I=0;I<y;I++)S[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,i.INFO,...S),this._logHandler(this,i.INFO,...S)}warn(){for(var y=arguments.length,S=new Array(y),I=0;I<y;I++)S[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,i.WARN,...S),this._logHandler(this,i.WARN,...S)}error(){for(var y=arguments.length,S=new Array(y),I=0;I<y;I++)S[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...S),this._logHandler(this,i.ERROR,...S)}}function u(y){V.forEach((S=>{S.setLogLevel(y)}))}function K(y,S){for(const I of V){let V=null;S&&S.level&&(V=A[S.level]),I.userLogHandler=null===y?null:function(S,I){for(var A=arguments.length,B=new Array(A>2?A-2:0),d=2;d<A;d++)B[d-2]=arguments[d];const F=B.map((y=>{if(null==y)return null;if("string"===typeof y)return y;if("number"===typeof y||"boolean"===typeof y)return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch(S){return null}})).filter((y=>y)).join(" ");I>=(null!==V&&void 0!==V?V:S.logLevel)&&y({level:i[I].toLowerCase(),message:F,args:B,type:S.name})}}}}}]);