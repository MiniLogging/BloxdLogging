/*! For license information please see 1gabsc.5.c93f3596.chunk.js.LICENSE.txt */
"use strict";(self.b15p7b72fr8=self.b15p7b72fr8||[]).push([[5],{12381:(s,k,h)=>{h.d(k,{A:()=>z,E:()=>S,I:()=>c,J:()=>a,L:()=>V,O:()=>d,P:()=>j,T:()=>p,X:()=>R,Y:()=>D,ab:()=>E,b:()=>r,d:()=>G,eb:()=>P,f:()=>u,i:()=>B,ib:()=>t,k:()=>K,l:()=>i,lb:()=>b,p:()=>M,pb:()=>w,t:()=>C,w:()=>I});const A=function(s){const k=[];let h=0;for(let A=0;A<s.length;A++){let g=s.charCodeAt(A);g<128?k[h++]=g:g<2048?(k[h++]=g>>6|192,k[h++]=63&g|128):55296===(64512&g)&&A+1<s.length&&56320===(64512&s.charCodeAt(A+1))?(g=65536+((1023&g)<<10)+(1023&s.charCodeAt(++A)),k[h++]=g>>18|240,k[h++]=g>>12&63|128,k[h++]=g>>6&63|128,k[h++]=63&g|128):(k[h++]=g>>12|224,k[h++]=g>>6&63|128,k[h++]=63&g|128)}return k},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(s,k){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let g=0;g<s.length;g+=3){const k=s[g],ms=g+1<s.length,i=ms?s[g+1]:0,K=g+2<s.length,H=K?s[g+2]:0,O=k>>2,c=(3&k)<<4|i>>4;let S=(15&i)<<2|H>>6,a=63&H;K||(a=64,ms||(S=64)),A.push(h[O],h[c],h[S],h[a])}return A.join("")},encodeString(s,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(s):this.encodeByteArray(A(s),k)},decodeString(s,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(s):function(s){const k=[];let h=0,A=0;for(;h<s.length;){const g=s[h++];if(g<128)k[A++]=String.fromCharCode(g);else if(g>191&&g<224){const ms=s[h++];k[A++]=String.fromCharCode((31&g)<<6|63&ms)}else if(g>239&&g<365){const ms=((7&g)<<18|(63&s[h++])<<12|(63&s[h++])<<6|63&s[h++])-65536;k[A++]=String.fromCharCode(55296+(ms>>10)),k[A++]=String.fromCharCode(56320+(1023&ms))}else{const ms=s[h++],i=s[h++];k[A++]=String.fromCharCode((15&g)<<12|(63&ms)<<6|63&i)}}return k.join("")}(this.decodeStringToByteArray(s,k))},decodeStringToByteArray(s,k){this.init_();const h=k?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let g=0;g<s.length;){const k=h[s.charAt(g++)],i=g<s.length?h[s.charAt(g)]:0;++g;const K=g<s.length?h[s.charAt(g)]:64;++g;const H=g<s.length?h[s.charAt(g)]:64;if(++g,null==k||null==i||null==K||null==H)throw new ms;const O=k<<2|i>>4;if(A.push(O),64!==K){const s=i<<4&240|K>>2;if(A.push(s),64!==H){const s=K<<6&192|H;A.push(s)}}}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ms extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(s){return function(s){const k=A(s);return g.encodeByteArray(k,!0)}(s).replace(/\./g,"")},K=function(s){try{return g.decodeString(s,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};const H=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof h.g)return h.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{try{return H()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(h){return}const k=s&&K(s[1]);return k&&JSON.parse(k)})()}catch(s){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`)}},c=s=>{var k,h;return null===(h=null===(k=O())||void 0===k?void 0:k.emulatorHosts)||void 0===h?void 0:h[s]},S=()=>{var s;return null===(s=O())||void 0===s?void 0:s.config},a=s=>{var k;return null===(k=O())||void 0===k?void 0:k[`_${s}`]};class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((s,k)=>{this.resolve=s,this.reject=k}))}wrapCallback(s){return(k,h)=>{k?this.reject(k):this.resolve(h),"function"===typeof s&&(this.promise.catch((()=>{})),1===s.length?s(k):s(k,h))}}}function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function j(){const s="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof s&&void 0!==s.id}function P(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){const s=d();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function D(){try{return"object"===typeof indexedDB}catch(s){return!1}}function w(){return new Promise(((s,k)=>{try{let h=!0;const A="validate-browser-context-for-indexeddb-analytics-module",g=self.indexedDB.open(A);g.onsuccess=()=>{g.result.close(),h||self.indexedDB.deleteDatabase(A),s(!0)},g.onupgradeneeded=()=>{h=!1},g.onerror=()=>{var s;k((null===(s=g.error)||void 0===s?void 0:s.message)||"")}}catch(h){k(h)}}))}function B(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class u extends Error{constructor(s,k,h){super(k),this.code=s,this.customData=h,this.name="FirebaseError",Object.setPrototypeOf(this,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(s,k,h){this.service=s,this.serviceName=k,this.errors=h}create(s){const k=(arguments.length<=1?void 0:arguments[1])||{},h=`${this.service}/${s}`,A=this.errors[s],g=A?function(s,k){return s.replace(Q,((s,h)=>{const A=k[h];return null!=A?String(A):`<${h}?>`}))}(A,k):"Error",ms=`${this.serviceName}: ${g} (${h}).`;return new u(h,ms,k)}}const Q=/\{\$([^}]+)}/g;function p(s){for(const k in s)if(Object.prototype.hasOwnProperty.call(s,k))return!1;return!0}function I(s,k){if(s===k)return!0;const h=Object.keys(s),A=Object.keys(k);for(const g of h){if(!A.includes(g))return!1;const h=s[g],ms=k[g];if(N(h)&&N(ms)){if(!I(h,ms))return!1}else if(h!==ms)return!1}for(const g of A)if(!h.includes(g))return!1;return!0}function N(s){return null!==s&&"object"===typeof s}function b(s){const k=[];for(const[h,A]of Object.entries(s))Array.isArray(A)?A.forEach((s=>{k.push(encodeURIComponent(h)+"="+encodeURIComponent(s))})):k.push(encodeURIComponent(h)+"="+encodeURIComponent(A));return k.length?"&"+k.join("&"):""}function t(s){const k={};return s.replace(/^\?/,"").split("&").forEach((s=>{if(s){const[h,A]=s.split("=");k[decodeURIComponent(h)]=decodeURIComponent(A)}})),k}function z(s){const k=s.indexOf("?");if(!k)return"";const h=s.indexOf("#",k);return s.substring(k,h>0?h:void 0)}function C(s,k){const h=new v(s,k);return h.subscribe.bind(h)}class v{constructor(s,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then((()=>{s(this)})).catch((s=>{this.error(s)}))}next(s){this.forEachObserver((k=>{k.next(s)}))}error(s){this.forEachObserver((k=>{k.error(s)})),this.close(s)}complete(){this.forEachObserver((s=>{s.complete()})),this.close()}subscribe(s,k,h){let A;if(void 0===s&&void 0===k&&void 0===h)throw new Error("Missing Observer.");A=function(s,k){if("object"!==typeof s||null===s)return!1;for(const h of k)if(h in s&&"function"===typeof s[h])return!0;return!1}(s,["next","error","complete"])?s:{next:s,error:k,complete:h},void 0===A.next&&(A.next=Y),void 0===A.error&&(A.error=Y),void 0===A.complete&&(A.complete=Y);const g=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch(s){}})),this.observers.push(A),g}unsubscribeOne(s){void 0!==this.observers&&void 0!==this.observers[s]&&(delete this.observers[s],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(s){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,s)}sendOne(s,k){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[s])try{k(this.observers[s])}catch(h){"undefined"!==typeof console&&console.error&&console.error(h)}}))}close(s){this.finalized||(this.finalized=!0,void 0!==s&&(this.finalError=s),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Y(){}const n=1e3,T=2,U=144e5,q=.5;function M(s){let k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const h=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n)*Math.pow(k,s),A=Math.round(q*h*(Math.random()-.5)*2);return Math.min(U,h+A)}function V(s){return s&&s._delegate?s._delegate:s}},12372:(s,k,h)=>{h.d(k,{d:()=>ms.f,g:()=>Ss,j:()=>f,k:()=>hs,n:()=>As,p:()=>ss,r:()=>Ks,v:()=>ks,x:()=>mk,z:()=>gs,B:()=>is,F:()=>Es,N:()=>rs,J:()=>ds,R:()=>as,U:()=>Ps,Y:()=>js,Z:()=>Rs});var A=h(12375),g=h(12384),ms=h(12381);let i,K;const H=new WeakMap,O=new WeakMap,c=new WeakMap,S=new WeakMap,a=new WeakMap;let r={get(s,k,h){if(s instanceof IDBTransaction){if("done"===k)return O.get(s);if("objectStoreNames"===k)return s.objectStoreNames||c.get(s);if("store"===k)return h.objectStoreNames[1]?void 0:h.objectStore(h.objectStoreNames[0])}return j(s[k])},set:(s,k,h)=>(s[k]=h,!0),has:(s,k)=>s instanceof IDBTransaction&&("done"===k||"store"===k)||k in s};function d(s){return s!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(s)?function(){for(var k=arguments.length,h=new Array(k),A=0;A<k;A++)h[A]=arguments[A];return s.apply(P(this),h),j(H.get(this))}:function(){for(var k=arguments.length,h=new Array(k),A=0;A<k;A++)h[A]=arguments[A];return j(s.apply(P(this),h))}:function(k){for(var h=arguments.length,A=new Array(h>1?h-1:0),g=1;g<h;g++)A[g-1]=arguments[g];const ms=s.call(P(this),k,...A);return c.set(ms,k.sort?k.sort():[k]),j(ms)}}function E(s){return"function"===typeof s?d(s):(s instanceof IDBTransaction&&function(s){if(O.has(s))return;const k=new Promise(((k,h)=>{const A=()=>{s.removeEventListener("complete",g),s.removeEventListener("error",ms),s.removeEventListener("abort",ms)},g=()=>{k(),A()},ms=()=>{h(s.error||new DOMException("AbortError","AbortError")),A()};s.addEventListener("complete",g),s.addEventListener("error",ms),s.addEventListener("abort",ms)}));O.set(s,k)}(s),k=s,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((s=>k instanceof s))?new Proxy(s,r):s);var k}function j(s){if(s instanceof IDBRequest)return function(s){const k=new Promise(((k,h)=>{const A=()=>{s.removeEventListener("success",g),s.removeEventListener("error",ms)},g=()=>{k(j(s.result)),A()},ms=()=>{h(s.error),A()};s.addEventListener("success",g),s.addEventListener("error",ms)}));return k.then((k=>{k instanceof IDBCursor&&H.set(k,s)})).catch((()=>{})),a.set(k,s),k}(s);if(S.has(s))return S.get(s);const k=E(s);return k!==s&&(S.set(s,k),a.set(k,s)),k}const P=s=>a.get(s);const R=["get","getKey","getAll","getAllKeys","count"],D=["put","add","delete","clear"],w=new Map;function B(s,k){if(!(s instanceof IDBDatabase)||k in s||"string"!==typeof k)return;if(w.get(k))return w.get(k);const h=k.replace(/FromIndex$/,""),A=k!==h,g=D.includes(h);if(!(h in(A?IDBIndex:IDBObjectStore).prototype)||!g&&!R.includes(h))return;const ms=async function(s){const k=this.transaction(s,g?"readwrite":"readonly");let ms=k.store;for(var i=arguments.length,K=new Array(i>1?i-1:0),H=1;H<i;H++)K[H-1]=arguments[H];return A&&(ms=ms.index(K.shift())),(await Promise.all([ms[h](...K),g&&k.done]))[0]};return w.set(k,ms),ms}r=(s=>({...s,get:(k,h,A)=>B(k,h)||s.get(k,h,A),has:(k,h)=>!!B(k,h)||s.has(k,h)}))(r);class u{constructor(s){this.container=s}getPlatformInfoString(){return this.container.getProviders().map((s=>{if(function(s){const k=s.getComponent();return"VERSION"===(null===k||void 0===k?void 0:k.type)}(s)){const k=s.getImmediate();return`${k.library}/${k.version}`}return null})).filter((s=>s)).join(" ")}}const G="@firebase/app",Q="0.9.13",p=new g.f("@firebase/app"),I="@firebase/app-compat",N="@firebase/analytics-compat",b="@firebase/analytics",t="@firebase/app-check-compat",z="@firebase/app-check",C="@firebase/auth",v="@firebase/auth-compat",Y="@firebase/database",n="@firebase/database-compat",T="@firebase/functions",U="@firebase/functions-compat",q="@firebase/installations",M="@firebase/installations-compat",V="@firebase/messaging",X="@firebase/messaging-compat",L="@firebase/performance",Z="@firebase/performance-compat",x="@firebase/remote-config",y="@firebase/remote-config-compat",W="@firebase/storage",J="@firebase/storage-compat",F="@firebase/firestore",o="@firebase/firestore-compat",l="firebase",f="[DEFAULT]",e={[G]:"fire-core",[I]:"fire-core-compat",[b]:"fire-analytics",[N]:"fire-analytics-compat",[z]:"fire-app-check",[t]:"fire-app-check-compat",[C]:"fire-auth",[v]:"fire-auth-compat",[Y]:"fire-rtdb",[n]:"fire-rtdb-compat",[T]:"fire-fn",[U]:"fire-fn-compat",[q]:"fire-iid",[M]:"fire-iid-compat",[V]:"fire-fcm",[X]:"fire-fcm-compat",[L]:"fire-perf",[Z]:"fire-perf-compat",[x]:"fire-rc",[y]:"fire-rc-compat",[W]:"fire-gcs",[J]:"fire-gcs-compat",[F]:"fire-fst",[o]:"fire-fst-compat","fire-js":"fire-js",[l]:"fire-js-all"},ss=new Map,ks=new Map;function hs(s,k){try{s.container.JH(k)}catch(h){p.debug(`Component ${k.name} failed to register with FirebaseApp ${s.name}`,h)}}function As(s,k){s.container.addOrOverwriteComponent(k)}function gs(s){const k=s.name;if(ks.has(k))return p.debug(`There were multiple attempts to register component ${k}.`),!1;ks.set(k,s);for(const h of ss.values())hs(h,s);return!0}function mk(s,k){const h=s.container.getProvider("heartbeat").getImmediate({optional:!0});return h&&h.triggerHeartbeat(),s.container.getProvider(k)}function is(s,k){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;mk(s,k).clearInstance(h)}function Ks(){ks.clear()}const Hs={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Os=new ms.d("app","Firebase",Hs);class cs{constructor(s,k,h){this._isDeleted=!1,this._options=Object.assign({},s),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=h,this.container.JH(new A.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(s){this.checkDestroyed(),this._automaticDataCollectionEnabled=s}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(s){this._isDeleted=s}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}const Ss="9.23.0";function as(s){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=s;if("object"!==typeof k){k={name:k}}const g=Object.assign({name:f,automaticDataCollectionEnabled:!1},k),i=g.name;if("string"!==typeof i||!i)throw Os.create("bad-app-name",{appName:String(i)});if(h||(h=(0,ms.E)()),!h)throw Os.create("no-options");const K=ss.get(i);if(K){if((0,ms.w)(h,K.options)&&(0,ms.w)(g,K.config))return K;throw Os.create("duplicate-app",{appName:i})}const H=new A.d(i);for(const A of ks.values())H.JH(A);const O=new cs(h,g,H);return ss.set(i,O),O}function rs(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const k=ss.get(s);if(!k&&s===f&&(0,ms.E)())return as();if(!k)throw Os.create("no-app",{appName:s});return k}function ds(){return Array.from(ss.values())}async function Es(s){const k=s.name;ss.has(k)&&(ss.delete(k),await Promise.all(s.container.getProviders().map((s=>s.delete()))),s.isDeleted=!0)}function js(s,k,h){var g;let ms=null!==(g=e[s])&&void 0!==g?g:s;h&&(ms+=`-${h}`);const i=ms.match(/\s|\//),K=k.match(/\s|\//);if(i||K){const s=[`Unable to register library "${ms}" with version "${k}":`];return i&&s.push(`library name "${ms}" contains illegal characters (whitespace or "/")`),i&&K&&s.push("and"),K&&s.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void p.warn(s.join(" "))}gs(new A.f(`${ms}-version`,(()=>({library:ms,version:k})),"VERSION"))}function Ps(s,k){if(null!==s&&"function"!==typeof s)throw Os.create("invalid-log-argument");(0,g.k)(s,k)}function Rs(s){(0,g.h)(s)}const Ds="firebase-heartbeat-store";let ws=null;function Bs(){return ws||(ws=function(s,k){let{blocked:h,upgrade:A,blocking:g,terminated:ms}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(s,k),K=j(i);return A&&i.addEventListener("upgradeneeded",(s=>{A(j(i.result),s.oldVersion,s.newVersion,j(i.transaction),s)})),h&&i.addEventListener("blocked",(s=>h(s.oldVersion,s.newVersion,s))),K.then((s=>{ms&&s.addEventListener("close",(()=>ms())),g&&s.addEventListener("versionchange",(s=>g(s.oldVersion,s.newVersion,s)))})).catch((()=>{})),K}("firebase-heartbeat-database",1,{upgrade:(s,k)=>{if(0===k)s.createObjectStore(Ds)}}).catch((s=>{throw Os.create("idb-open",{originalErrorMessage:s.message})}))),ws}async function us(s,k){try{const h=(await Bs()).transaction(Ds,"readwrite"),A=h.objectStore(Ds);await A.put(k,Gs(s)),await h.done}catch(h){if(h instanceof ms.f)p.warn(h.message);else{const s=Os.create("idb-set",{originalErrorMessage:null===h||void 0===h?void 0:h.message});p.warn(s.message)}}}function Gs(s){return`${s.name}!${s.options.appId}`}class Qs{constructor(s){this.container=s,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this.ra=new Is(k),this._heartbeatsCachePromise=this.ra.read().then((s=>(this._heartbeatsCache=s,s)))}async triggerHeartbeat(){const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),k=ps();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==k&&!this._heartbeatsCache.heartbeats.some((s=>s.date===k)))return this._heartbeatsCache.heartbeats.push({date:k,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((s=>{const k=new Date(s.date).valueOf();return Date.now()-k<=2592e6})),this.ra.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const s=ps(),{heartbeatsToSend:k,unsentEntries:h}=function(s){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const h=[];let A=s.slice();for(const g of s){const s=h.find((s=>s.agent===g.agent));if(s){if(s.dates.push(g.date),Ns(h)>k){s.dates.pop();break}}else if(h.push({agent:g.agent,dates:[g.date]}),Ns(h)>k){h.pop();break}A=A.slice(1)}return{heartbeatsToSend:h,unsentEntries:A}}(this._heartbeatsCache.heartbeats),A=(0,ms.l)(JSON.stringify({version:2,heartbeats:k}));return this._heartbeatsCache.lastSentHeartbeatDate=s,h.length>0?(this._heartbeatsCache.heartbeats=h,await this.ra.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ra.overwrite(this._heartbeatsCache)),A}}function ps(){return(new Date).toISOString().substring(0,10)}class Is{constructor(s){this.app=s,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,ms.Y)()&&(0,ms.pb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(s){try{const k=await Bs();return await k.transaction(Ds).objectStore(Ds).get(Gs(s))}catch(k){if(k instanceof ms.f)p.warn(k.message);else{const s=Os.create("idb-get",{originalErrorMessage:null===k||void 0===k?void 0:k.message});p.warn(s.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(s){var k;if(await this._canUseIndexedDBPromise){const h=await this.read();return us(this.app,{lastSentHeartbeatDate:null!==(k=s.lastSentHeartbeatDate)&&void 0!==k?k:h.lastSentHeartbeatDate,heartbeats:s.heartbeats})}}async add(s){var k;if(await this._canUseIndexedDBPromise){const h=await this.read();return us(this.app,{lastSentHeartbeatDate:null!==(k=s.lastSentHeartbeatDate)&&void 0!==k?k:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...s.heartbeats]})}}}function Ns(s){return(0,ms.l)(JSON.stringify({version:2,heartbeats:s})).length}var bs;bs="",gs(new A.f("platform-logger",(s=>new u(s)),"PRIVATE")),gs(new A.f("heartbeat",(s=>new Qs(s)),"PRIVATE")),js(G,Q,bs),js(G,Q,"esm2017"),js("fire-js","")},12375:(s,k,h)=>{h.d(k,{d:()=>K,f:()=>g});var A=h(12381);class g{constructor(s,k,h){this.name=s,this.instanceFactory=k,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(s){return this.instantiationMode=s,this}setMultipleInstances(s){return this.multipleInstances=s,this}setServiceProps(s){return this.serviceProps=s,this}setInstanceCreatedCallback(s){return this.onInstanceCreated=s,this}}const ms="[DEFAULT]";class i{constructor(s,k){this.name=s,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(s){const k=this.normalizeInstanceIdentifier(s);if(!this.instancesDeferred.has(k)){const s=new A.b;if(this.instancesDeferred.set(k,s),this.isInitialized(k)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:k});h&&s.resolve(h)}catch(h){}}return this.instancesDeferred.get(k).promise}getImmediate(s){var k;const h=this.normalizeInstanceIdentifier(null===s||void 0===s?void 0:s.identifier),A=null!==(k=null===s||void 0===s?void 0:s.optional)&&void 0!==k&&k;if(!this.isInitialized(h)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:h})}catch(g){if(A)return null;throw g}}getComponent(){return this.component}setComponent(s){if(s.name!==this.name)throw Error(`Mismatching Component ${s.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=s,this.shouldAutoInitialize()){if(function(s){return"EAGER"===s.instantiationMode}(s))try{this.getOrInitializeService({instanceIdentifier:ms})}catch(k){}for(const[s,h]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(s);try{const s=this.getOrInitializeService({instanceIdentifier:A});h.resolve(s)}catch(k){}}}}clearInstance(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;this.instancesDeferred.delete(s),this.instancesOptions.delete(s),this.instances.delete(s)}async delete(){const s=Array.from(this.instances.values());await Promise.all([...s.filter((s=>"INTERNAL"in s)).map((s=>s.INTERNAL.delete())),...s.filter((s=>"_delete"in s)).map((s=>s._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.instances.has(s)}getOptions(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.instancesOptions.get(s)||{}}initialize(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:k={}}=s,h=this.normalizeInstanceIdentifier(s.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:h,options:k});for(const[g,ms]of this.instancesDeferred.entries()){h===this.normalizeInstanceIdentifier(g)&&ms.resolve(A)}return A}yS(s,k){var h;const A=this.normalizeInstanceIdentifier(k),g=null!==(h=this.onInitCallbacks.get(A))&&void 0!==h?h:new Set;g.add(s),this.onInitCallbacks.set(A,g);const ms=this.instances.get(A);return ms&&s(ms,A),()=>{g.delete(s)}}invokeOnInitCallbacks(s,k){const h=this.onInitCallbacks.get(k);if(h)for(const g of h)try{g(s,k)}catch(A){}}getOrInitializeService(s){let{instanceIdentifier:k,options:h={}}=s,A=this.instances.get(k);if(!A&&this.component&&(A=this.component.instanceFactory(this.container,{instanceIdentifier:(g=k,g===ms?void 0:g),options:h}),this.instances.set(k,A),this.instancesOptions.set(k,h),this.invokeOnInitCallbacks(A,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,A)}catch(i){}var g;return A||null}normalizeInstanceIdentifier(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms;return this.component?this.component.multipleInstances?s:ms:s}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(s){this.name=s,this.providers=new Map}JH(s){const k=this.getProvider(s.name);if(k.isComponentSet())throw new Error(`Component ${s.name} has already been registered with ${this.name}`);k.setComponent(s)}addOrOverwriteComponent(s){this.getProvider(s.name).isComponentSet()&&this.providers.delete(s.name),this.JH(s)}getProvider(s){if(this.providers.has(s))return this.providers.get(s);const k=new i(s,this);return this.providers.set(s,k),k}getProviders(){return Array.from(this.providers.values())}}},12384:(s,k,h)=>{h.d(k,{b:()=>g,f:()=>O,h:()=>c,k:()=>S});const A=[];var g;!function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"}(g||(g={}));const ms={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},i=g.INFO,K={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},H=function(s,k){if(k<s.logLevel)return;const h=(new Date).toISOString(),A=K[k];if(!A)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);for(var g=arguments.length,ms=new Array(g>2?g-2:0),i=2;i<g;i++)ms[i-2]=arguments[i];console[A](`[${h}]  ${s.name}:`,...ms)};class O{constructor(s){this.name=s,this._logLevel=i,this._logHandler=H,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(s){if(!(s in g))throw new TypeError(`Invalid value "${s}" assigned to \`logLevel\``);this._logLevel=s}setLogLevel(s){this._logLevel="string"===typeof s?ms[s]:s}get logHandler(){return this._logHandler}set logHandler(s){if("function"!==typeof s)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=s}get userLogHandler(){return this._userLogHandler}set userLogHandler(s){this._userLogHandler=s}debug(){for(var s=arguments.length,k=new Array(s),h=0;h<s;h++)k[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...k),this._logHandler(this,g.DEBUG,...k)}log(){for(var s=arguments.length,k=new Array(s),h=0;h<s;h++)k[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...k),this._logHandler(this,g.VERBOSE,...k)}info(){for(var s=arguments.length,k=new Array(s),h=0;h<s;h++)k[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,g.INFO,...k),this._logHandler(this,g.INFO,...k)}warn(){for(var s=arguments.length,k=new Array(s),h=0;h<s;h++)k[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,g.WARN,...k),this._logHandler(this,g.WARN,...k)}error(){for(var s=arguments.length,k=new Array(s),h=0;h<s;h++)k[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,g.ERROR,...k),this._logHandler(this,g.ERROR,...k)}}function c(s){A.forEach((k=>{k.setLogLevel(s)}))}function S(s,k){for(const h of A){let A=null;k&&k.level&&(A=ms[k.level]),h.userLogHandler=null===s?null:function(k,h){for(var ms=arguments.length,i=new Array(ms>2?ms-2:0),K=2;K<ms;K++)i[K-2]=arguments[K];const H=i.map((s=>{if(null==s)return null;if("string"===typeof s)return s;if("number"===typeof s||"boolean"===typeof s)return s.toString();if(s instanceof Error)return s.message;try{return JSON.stringify(s)}catch(k){return null}})).filter((s=>s)).join(" ");h>=(null!==A&&void 0!==A?A:k.logLevel)&&s({level:g[h].toLowerCase(),message:H,args:i,type:k.name})}}}}}]);