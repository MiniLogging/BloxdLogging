/*! For license information please see 18k1w.5.43641913.chunk.js.LICENSE.txt */
"use strict";(self.rvold1i0ywi=self.rvold1i0ywi||[]).push([[5],{11108:(F,b,Q)=>{Q.d(b,{B:()=>K,D:()=>G,F:()=>e,J:()=>x,K:()=>y,M:()=>c,P:()=>D,R:()=>L,V:()=>i,X:()=>E,Y:()=>X,_:()=>w,bb:()=>j,d:()=>N,eb:()=>f,f:()=>R,h:()=>m,i:()=>k,m:()=>W,p:()=>g,r:()=>O,t:()=>s,x:()=>P,z:()=>Y});const C=function(F){const b=[];let Q=0;for(let C=0;C<F.length;C++){let z=F.charCodeAt(C);z<128?b[Q++]=z:z<2048?(b[Q++]=z>>6|192,b[Q++]=63&z|128):55296===(64512&z)&&C+1<F.length&&56320===(64512&F.charCodeAt(C+1))?(z=65536+((1023&z)<<10)+(1023&F.charCodeAt(++C)),b[Q++]=z>>18|240,b[Q++]=z>>12&63|128,b[Q++]=z>>6&63|128,b[Q++]=63&z|128):(b[Q++]=z>>12|224,b[Q++]=z>>6&63|128,b[Q++]=63&z|128)}return b},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(F,b){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let z=0;z<F.length;z+=3){const b=F[z],t=z+1<F.length,g=t?F[z+1]:0,W=z+2<F.length,Z=W?F[z+2]:0,q=b>>2,G=(3&b)<<4|g>>4;let K=(15&g)<<2|Z>>6,e=63&Z;W||(e=64,t||(K=64)),C.push(Q[q],Q[G],Q[K],Q[e])}return C.join("")},encodeString(F,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(F):this.encodeByteArray(C(F),b)},decodeString(F,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(F):function(F){const b=[];let Q=0,C=0;for(;Q<F.length;){const z=F[Q++];if(z<128)b[C++]=String.fromCharCode(z);else if(z>191&&z<224){const t=F[Q++];b[C++]=String.fromCharCode((31&z)<<6|63&t)}else if(z>239&&z<365){const t=((7&z)<<18|(63&F[Q++])<<12|(63&F[Q++])<<6|63&F[Q++])-65536;b[C++]=String.fromCharCode(55296+(t>>10)),b[C++]=String.fromCharCode(56320+(1023&t))}else{const t=F[Q++],g=F[Q++];b[C++]=String.fromCharCode((15&z)<<12|(63&t)<<6|63&g)}}return b.join("")}(this.decodeStringToByteArray(F,b))},decodeStringToByteArray(F,b){this.init_();const Q=b?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let z=0;z<F.length;){const b=Q[F.charAt(z++)],g=z<F.length?Q[F.charAt(z)]:0;++z;const W=z<F.length?Q[F.charAt(z)]:64;++z;const Z=z<F.length?Q[F.charAt(z)]:64;if(++z,null==b||null==g||null==W||null==Z)throw new t;const q=b<<2|g>>4;if(C.push(q),64!==W){const F=g<<4&240|W>>2;if(C.push(F),64!==Z){const F=W<<6&192|Z;C.push(F)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class t extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(F){return function(F){const b=C(F);return z.encodeByteArray(b,!0)}(F).replace(/\./g,"")},W=function(F){try{return z.decodeString(F,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const Z=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,q=()=>{try{return Z()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const b=F&&W(F[1]);return b&&JSON.parse(b)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},G=F=>{var b,Q;return null===(Q=null===(b=q())||void 0===b?void 0:b.emulatorHosts)||void 0===Q?void 0:Q[F]},K=()=>{var F;return null===(F=q())||void 0===F?void 0:F.config},e=F=>{var b;return null===(b=q())||void 0===b?void 0:b[`_${F}`]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((F,b)=>{this.resolve=F,this.reject=b}))}wrapCallback(F){return(b,Q)=>{b?this.reject(b):this.resolve(Q),"function"===typeof F&&(this.promise.catch((()=>{})),1===F.length?F(b):F(b,Q))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function c(){const F="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof F&&void 0!==F.id}function X(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){const F=y();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function i(){try{return"object"===typeof indexedDB}catch(F){return!1}}function f(){return new Promise(((F,b)=>{try{let Q=!0;const C="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(C);z.onsuccess=()=>{z.result.close(),Q||self.indexedDB.deleteDatabase(C),F(!0)},z.onupgradeneeded=()=>{Q=!1},z.onerror=()=>{var F;b((null===(F=z.error)||void 0===F?void 0:F.message)||"")}}catch(Q){b(Q)}}))}function k(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class m extends Error{constructor(F,b,Q){super(b),this.code=F,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(F,b,Q){this.service=F,this.serviceName=b,this.errors=Q}create(F){const b=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${F}`,C=this.errors[F],z=C?function(F,b){return F.replace(p,((F,Q)=>{const C=b[Q];return null!=C?String(C):`<${Q}?>`}))}(C,b):"Error",t=`${this.serviceName}: ${z} (${Q}).`;return new m(Q,t,b)}}const p=/\{\$([^}]+)}/g;function D(F){for(const b in F)if(Object.prototype.hasOwnProperty.call(F,b))return!1;return!0}function P(F,b){if(F===b)return!0;const Q=Object.keys(F),C=Object.keys(b);for(const z of Q){if(!C.includes(z))return!1;const Q=F[z],t=b[z];if(n(Q)&&n(t)){if(!P(Q,t))return!1}else if(Q!==t)return!1}for(const z of C)if(!Q.includes(z))return!1;return!0}function n(F){return null!==F&&"object"===typeof F}function j(F){const b=[];for(const[Q,C]of Object.entries(F))Array.isArray(C)?C.forEach((F=>{b.push(encodeURIComponent(Q)+"="+encodeURIComponent(F))})):b.push(encodeURIComponent(Q)+"="+encodeURIComponent(C));return b.length?"&"+b.join("&"):""}function w(F){const b={};return F.replace(/^\?/,"").split("&").forEach((F=>{if(F){const[Q,C]=F.split("=");b[decodeURIComponent(Q)]=decodeURIComponent(C)}})),b}function Y(F){const b=F.indexOf("?");if(!b)return"";const Q=F.indexOf("#",b);return F.substring(b,Q>0?Q:void 0)}function s(F,b){const Q=new V(F,b);return Q.subscribe.bind(Q)}class V{constructor(F,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{F(this)})).catch((F=>{this.error(F)}))}next(F){this.forEachObserver((b=>{b.next(F)}))}error(F){this.forEachObserver((b=>{b.error(F)})),this.close(F)}complete(){this.forEachObserver((F=>{F.complete()})),this.close()}subscribe(F,b,Q){let C;if(void 0===F&&void 0===b&&void 0===Q)throw new Error("Missing Observer.");C=function(F,b){if("object"!==typeof F||null===F)return!1;for(const Q of b)if(Q in F&&"function"===typeof F[Q])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:b,complete:Q},void 0===C.next&&(C.next=h),void 0===C.error&&(C.error=h),void 0===C.complete&&(C.complete=h);const z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?C.error(this.finalError):C.complete()}catch(F){}})),this.observers.push(C),z}unsubscribeOne(F){void 0!==this.observers&&void 0!==this.observers[F]&&(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,F)}sendOne(F,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{b(this.observers[F])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function h(){}const l=1e3,T=2,o=144e5,S=.5;function O(F){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)*Math.pow(b,F),C=Math.round(S*Q*(Math.random()-.5)*2);return Math.min(o,Q+C)}function x(F){return F&&F._delegate?F._delegate:F}},11095:(F,b,Q)=>{Q.d(b,{e:()=>t.h,f:()=>KF,i:()=>B,k:()=>QF,m:()=>CF,n:()=>FF,q:()=>WF,t:()=>bF,w:()=>tF,x:()=>zF,B:()=>gF,F:()=>EF,J:()=>NF,H:()=>yF,M:()=>eF,O:()=>XF,S:()=>cF,T:()=>LF});var C=Q(11100),z=Q(11113),t=Q(11108);let g,W;const Z=new WeakMap,q=new WeakMap,G=new WeakMap,K=new WeakMap,e=new WeakMap;let N={get(F,b,Q){if(F instanceof IDBTransaction){if("done"===b)return q.get(F);if("objectStoreNames"===b)return F.objectStoreNames||G.get(F);if("store"===b)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return c(F[b])},set:(F,b,Q)=>(F[b]=Q,!0),has:(F,b)=>F instanceof IDBTransaction&&("done"===b||"store"===b)||b in F};function y(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(F)?function(){for(var b=arguments.length,Q=new Array(b),C=0;C<b;C++)Q[C]=arguments[C];return F.apply(X(this),Q),c(Z.get(this))}:function(){for(var b=arguments.length,Q=new Array(b),C=0;C<b;C++)Q[C]=arguments[C];return c(F.apply(X(this),Q))}:function(b){for(var Q=arguments.length,C=new Array(Q>1?Q-1:0),z=1;z<Q;z++)C[z-1]=arguments[z];const t=F.call(X(this),b,...C);return G.set(t,b.sort?b.sort():[b]),c(t)}}function E(F){return"function"===typeof F?y(F):(F instanceof IDBTransaction&&function(F){if(q.has(F))return;const b=new Promise(((b,Q)=>{const C=()=>{F.removeEventListener("complete",z),F.removeEventListener("error",t),F.removeEventListener("abort",t)},z=()=>{b(),C()},t=()=>{Q(F.error||new DOMException("AbortError","AbortError")),C()};F.addEventListener("complete",z),F.addEventListener("error",t),F.addEventListener("abort",t)}));q.set(F,b)}(F),b=F,(g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((F=>b instanceof F))?new Proxy(F,N):F);var b}function c(F){if(F instanceof IDBRequest)return function(F){const b=new Promise(((b,Q)=>{const C=()=>{F.removeEventListener("success",z),F.removeEventListener("error",t)},z=()=>{b(c(F.result)),C()},t=()=>{Q(F.error),C()};F.addEventListener("success",z),F.addEventListener("error",t)}));return b.then((b=>{b instanceof IDBCursor&&Z.set(b,F)})).catch((()=>{})),e.set(b,F),b}(F);if(K.has(F))return K.get(F);const b=E(F);return b!==F&&(K.set(F,b),e.set(b,F)),b}const X=F=>e.get(F);const L=["get","getKey","getAll","getAllKeys","count"],i=["put","add","delete","clear"],f=new Map;function k(F,b){if(!(F instanceof IDBDatabase)||b in F||"string"!==typeof b)return;if(f.get(b))return f.get(b);const Q=b.replace(/FromIndex$/,""),C=b!==Q,z=i.includes(Q);if(!(Q in(C?IDBIndex:IDBObjectStore).prototype)||!z&&!L.includes(Q))return;const t=async function(F){const b=this.transaction(F,z?"readwrite":"readonly");let t=b.store;for(var g=arguments.length,W=new Array(g>1?g-1:0),Z=1;Z<g;Z++)W[Z-1]=arguments[Z];return C&&(t=t.index(W.shift())),(await Promise.all([t[Q](...W),z&&b.done]))[0]};return f.set(b,t),t}N=(F=>({...F,get:(b,Q,C)=>k(b,Q)||F.get(b,Q,C),has:(b,Q)=>!!k(b,Q)||F.has(b,Q)}))(N);class m{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map((F=>{if(function(F){const b=F.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(F)){const b=F.getImmediate();return`${b.library}/${b.version}`}return null})).filter((F=>F)).join(" ")}}const R="@firebase/app",p="0.9.13",D=new z.g("@firebase/app"),P="@firebase/app-compat",n="@firebase/analytics-compat",j="@firebase/analytics",w="@firebase/app-check-compat",Y="@firebase/app-check",s="@firebase/auth",V="@firebase/auth-compat",h="@firebase/database",l="@firebase/database-compat",T="@firebase/functions",o="@firebase/functions-compat",S="@firebase/installations",O="@firebase/installations-compat",x="@firebase/messaging",a="@firebase/messaging-compat",A="@firebase/performance",U="@firebase/performance-compat",u="@firebase/remote-config",v="@firebase/remote-config-compat",J="@firebase/storage",I="@firebase/storage-compat",M="@firebase/firestore",r="@firebase/firestore-compat",H="firebase",B="[DEFAULT]",d={[R]:"fire-core",[P]:"fire-core-compat",[j]:"fire-analytics",[n]:"fire-analytics-compat",[Y]:"fire-app-check",[w]:"fire-app-check-compat",[s]:"fire-auth",[V]:"fire-auth-compat",[h]:"fire-rtdb",[l]:"fire-rtdb-compat",[T]:"fire-fn",[o]:"fire-fn-compat",[S]:"fire-iid",[O]:"fire-iid-compat",[x]:"fire-fcm",[a]:"fire-fcm-compat",[A]:"fire-perf",[U]:"fire-perf-compat",[u]:"fire-rc",[v]:"fire-rc-compat",[J]:"fire-gcs",[I]:"fire-gcs-compat",[M]:"fire-fst",[r]:"fire-fst-compat","fire-js":"fire-js",[H]:"fire-js-all"},FF=new Map,bF=new Map;function QF(F,b){try{F.container.Gq(b)}catch(Q){D.debug(`Component ${b.name} failed to register with FirebaseApp ${F.name}`,Q)}}function CF(F,b){F.container.addOrOverwriteComponent(b)}function zF(F){const b=F.name;if(bF.has(b))return D.debug(`There were multiple attempts to register component ${b}.`),!1;bF.set(b,F);for(const Q of FF.values())QF(Q,F);return!0}function tF(F,b){const Q=F.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),F.container.getProvider(b)}function gF(F,b){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;tF(F,b).clearInstance(Q)}function WF(){bF.clear()}const ZF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qF=new t.f("app","Firebase",ZF);class GF{constructor(F,b,Q){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=Q,this.container.Gq(new C.c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw qF.create("app-deleted",{appName:this._name})}}const KF="9.23.0";function eF(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=F;if("object"!==typeof b){b={name:b}}const z=Object.assign({name:B,automaticDataCollectionEnabled:!1},b),g=z.name;if("string"!==typeof g||!g)throw qF.create("bad-app-name",{appName:String(g)});if(Q||(Q=(0,t.B)()),!Q)throw qF.create("no-options");const W=FF.get(g);if(W){if((0,t.x)(Q,W.options)&&(0,t.x)(z,W.config))return W;throw qF.create("duplicate-app",{appName:g})}const Z=new C.b(g);for(const C of bF.values())Z.Gq(C);const q=new GF(Q,z,Z);return FF.set(g,q),q}function NF(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;const b=FF.get(F);if(!b&&F===B&&(0,t.B)())return eF();if(!b)throw qF.create("no-app",{appName:F});return b}function yF(){return Array.from(FF.values())}async function EF(F){const b=F.name;FF.has(b)&&(FF.delete(b),await Promise.all(F.container.getProviders().map((F=>F.delete()))),F.isDeleted=!0)}function cF(F,b,Q){var z;let t=null!==(z=d[F])&&void 0!==z?z:F;Q&&(t+=`-${Q}`);const g=t.match(/\s|\//),W=b.match(/\s|\//);if(g||W){const F=[`Unable to register library "${t}" with version "${b}":`];return g&&F.push(`library name "${t}" contains illegal characters (whitespace or "/")`),g&&W&&F.push("and"),W&&F.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void D.warn(F.join(" "))}zF(new C.c(`${t}-version`,(()=>({library:t,version:b})),"VERSION"))}function XF(F,b){if(null!==F&&"function"!==typeof F)throw qF.create("invalid-log-argument");(0,z.j)(F,b)}function LF(F){(0,z.i)(F)}const iF="firebase-heartbeat-store";let fF=null;function kF(){return fF||(fF=function(F,b){let{blocked:Q,upgrade:C,blocking:z,terminated:t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(F,b),W=c(g);return C&&g.addEventListener("upgradeneeded",(F=>{C(c(g.result),F.oldVersion,F.newVersion,c(g.transaction),F)})),Q&&g.addEventListener("blocked",(F=>Q(F.oldVersion,F.newVersion,F))),W.then((F=>{t&&F.addEventListener("close",(()=>t())),z&&F.addEventListener("versionchange",(F=>z(F.oldVersion,F.newVersion,F)))})).catch((()=>{})),W}("firebase-heartbeat-database",1,{upgrade:(F,b)=>{if(0===b)F.createObjectStore(iF)}}).catch((F=>{throw qF.create("idb-open",{originalErrorMessage:F.message})}))),fF}async function mF(F,b){try{const Q=(await kF()).transaction(iF,"readwrite"),C=Q.objectStore(iF);await C.put(b,RF(F)),await Q.done}catch(Q){if(Q instanceof t.h)D.warn(Q.message);else{const F=qF.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});D.warn(F.message)}}}function RF(F){return`${F.name}!${F.options.appId}`}class pF{constructor(F){this.container=F,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.xK=new PF(b),this._heartbeatsCachePromise=this.xK.read().then((F=>(this._heartbeatsCache=F,F)))}async triggerHeartbeat(){const F=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=DF();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((F=>F.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:F}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((F=>{const b=new Date(F.date).valueOf();return Date.now()-b<=2592e6})),this.xK.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const F=DF(),{heartbeatsToSend:b,unsentEntries:Q}=function(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let C=F.slice();for(const z of F){const F=Q.find((F=>F.agent===z.agent));if(F){if(F.dates.push(z.date),nF(Q)>b){F.dates.pop();break}}else if(Q.push({agent:z.agent,dates:[z.date]}),nF(Q)>b){Q.pop();break}C=C.slice(1)}return{heartbeatsToSend:Q,unsentEntries:C}}(this._heartbeatsCache.heartbeats),C=(0,t.p)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=F,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.xK.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.xK.overwrite(this._heartbeatsCache)),C}}function DF(){return(new Date).toISOString().substring(0,10)}class PF{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,t.V)()&&(0,t.eb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(F){try{const b=await kF();return await b.transaction(iF).objectStore(iF).get(RF(F))}catch(b){if(b instanceof t.h)D.warn(b.message);else{const F=qF.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});D.warn(F.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(F){var b;if(await this._canUseIndexedDBPromise){const Q=await this.read();return mF(this.app,{lastSentHeartbeatDate:null!==(b=F.lastSentHeartbeatDate)&&void 0!==b?b:Q.lastSentHeartbeatDate,heartbeats:F.heartbeats})}}async add(F){var b;if(await this._canUseIndexedDBPromise){const Q=await this.read();return mF(this.app,{lastSentHeartbeatDate:null!==(b=F.lastSentHeartbeatDate)&&void 0!==b?b:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...F.heartbeats]})}}}function nF(F){return(0,t.p)(JSON.stringify({version:2,heartbeats:F})).length}var jF;jF="",zF(new C.c("platform-logger",(F=>new m(F)),"PRIVATE")),zF(new C.c("heartbeat",(F=>new pF(F)),"PRIVATE")),cF(R,p,jF),cF(R,p,"esm2017"),cF("fire-js","")},11100:(F,b,Q)=>{Q.d(b,{b:()=>W,c:()=>z});var C=Q(11108);class z{constructor(F,b,Q){this.name=F,this.instanceFactory=b,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const t="[DEFAULT]";class g{constructor(F,b){this.name=F,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const b=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(b)){const F=new C.d;if(this.instancesDeferred.set(b,F),this.isInitialized(b)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:b});Q&&F.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(b).promise}getImmediate(F){var b;const Q=this.normalizeInstanceIdentifier(null===F||void 0===F?void 0:F.identifier),C=null!==(b=null===F||void 0===F?void 0:F.optional)&&void 0!==b&&b;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(C)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(z){if(C)return null;throw z}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function(F){return"EAGER"===F.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:t})}catch(b){}for(const[F,Q]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(F);try{const F=this.getOrInitializeService({instanceIdentifier:C});Q.resolve(F)}catch(b){}}}}clearInstance(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}async delete(){const F=Array.from(this.instances.values());await Promise.all([...F.filter((F=>"INTERNAL"in F)).map((F=>F.INTERNAL.delete())),...F.filter((F=>"_delete"in F)).map((F=>F._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instances.has(F)}getOptions(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.instancesOptions.get(F)||{}}initialize(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=F,Q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const C=this.getOrInitializeService({instanceIdentifier:Q,options:b});for(const[z,t]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(z)&&t.resolve(C)}return C}XK(F,b){var Q;const C=this.normalizeInstanceIdentifier(b),z=null!==(Q=this.onInitCallbacks.get(C))&&void 0!==Q?Q:new Set;z.add(F),this.onInitCallbacks.set(C,z);const t=this.instances.get(C);return t&&F(t,C),()=>{z.delete(F)}}invokeOnInitCallbacks(F,b){const Q=this.onInitCallbacks.get(b);if(Q)for(const z of Q)try{z(F,b)}catch(C){}}getOrInitializeService(F){let{instanceIdentifier:b,options:Q={}}=F,C=this.instances.get(b);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:(z=b,z===t?void 0:z),options:Q}),this.instances.set(b,C),this.instancesOptions.set(b,Q),this.invokeOnInitCallbacks(C,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,C)}catch(g){}var z;return C||null}normalizeInstanceIdentifier(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return this.component?this.component.multipleInstances?F:t:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(F){this.name=F,this.providers=new Map}Gq(F){const b=this.getProvider(F.name);if(b.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);b.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.Gq(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const b=new g(F,this);return this.providers.set(F,b),b}getProviders(){return Array.from(this.providers.values())}}},11113:(F,b,Q)=>{Q.d(b,{c:()=>z,g:()=>q,i:()=>G,j:()=>K});const C=[];var z;!function(F){F[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT"}(z||(z={}));const t={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},g=z.INFO,W={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Z=function(F,b){if(b<F.logLevel)return;const Q=(new Date).toISOString(),C=W[b];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var z=arguments.length,t=new Array(z>2?z-2:0),g=2;g<z;g++)t[g-2]=arguments[g];console[C](`[${Q}]  ${F.name}:`,...t)};class q{constructor(F){this.name=F,this._logLevel=g,this._logHandler=Z,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in z))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"===typeof F?t[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!==typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(){for(var F=arguments.length,b=new Array(F),Q=0;Q<F;Q++)b[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...b),this._logHandler(this,z.DEBUG,...b)}log(){for(var F=arguments.length,b=new Array(F),Q=0;Q<F;Q++)b[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...b),this._logHandler(this,z.VERBOSE,...b)}info(){for(var F=arguments.length,b=new Array(F),Q=0;Q<F;Q++)b[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,z.INFO,...b),this._logHandler(this,z.INFO,...b)}warn(){for(var F=arguments.length,b=new Array(F),Q=0;Q<F;Q++)b[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,z.WARN,...b),this._logHandler(this,z.WARN,...b)}error(){for(var F=arguments.length,b=new Array(F),Q=0;Q<F;Q++)b[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,z.ERROR,...b),this._logHandler(this,z.ERROR,...b)}}function G(F){C.forEach((b=>{b.setLogLevel(F)}))}function K(F,b){for(const Q of C){let C=null;b&&b.level&&(C=t[b.level]),Q.userLogHandler=null===F?null:function(b,Q){for(var t=arguments.length,g=new Array(t>2?t-2:0),W=2;W<t;W++)g[W-2]=arguments[W];const Z=g.map((F=>{if(null==F)return null;if("string"===typeof F)return F;if("number"===typeof F||"boolean"===typeof F)return F.toString();if(F instanceof Error)return F.message;try{return JSON.stringify(F)}catch(b){return null}})).filter((F=>F)).join(" ");Q>=(null!==C&&void 0!==C?C:b.logLevel)&&F({level:z[Q].toLowerCase(),message:Z,args:g,type:b.name})}}}}}]);