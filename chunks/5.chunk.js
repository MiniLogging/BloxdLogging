/*! For license information please see v7vvaj.5.f2c3cda5.chunk.js.LICENSE.txt */
"use strict";(self["9d4d30r2sf"]=self["9d4d30r2sf"]||[]).push([[5],{12271:(o,v,V)=>{V.d(v,{$:()=>R,D:()=>h,E:()=>f,H:()=>H,K:()=>S,N:()=>c,O:()=>a,S:()=>j,W:()=>t,X:()=>T,bb:()=>d,cb:()=>J,d:()=>l,f:()=>u,g:()=>b,gb:()=>s,j:()=>L,l:()=>U,m:()=>Q,o:()=>y,s:()=>Y,t:()=>F,w:()=>N,z:()=>x});const g=function(o){const v=[];let V=0;for(let g=0;g<o.length;g++){let E=o.charCodeAt(g);E<128?v[V++]=E:E<2048?(v[V++]=E>>6|192,v[V++]=63&E|128):55296===(64512&E)&&g+1<o.length&&56320===(64512&o.charCodeAt(g+1))?(E=65536+((1023&E)<<10)+(1023&o.charCodeAt(++g)),v[V++]=E>>18|240,v[V++]=E>>12&63|128,v[V++]=E>>6&63|128,v[V++]=63&E|128):(v[V++]=E>>12|224,v[V++]=E>>6&63|128,v[V++]=63&E|128)}return v},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(o,v){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=v?this.byteToCharMapWebSafe_:this.byteToCharMap_,g=[];for(let E=0;E<o.length;E+=3){const v=o[E],I=E+1<o.length,Q=I?o[E+1]:0,U=E+2<o.length,n=U?o[E+2]:0,O=v>>2,h=(3&v)<<4|Q>>4;let x=(15&Q)<<2|n>>6,f=63&n;U||(f=64,I||(x=64)),g.push(V[O],V[h],V[x],V[f])}return g.join("")},encodeString(o,v){return this.HAS_NATIVE_SUPPORT&&!v?btoa(o):this.encodeByteArray(g(o),v)},decodeString(o,v){return this.HAS_NATIVE_SUPPORT&&!v?atob(o):function(o){const v=[];let V=0,g=0;for(;V<o.length;){const E=o[V++];if(E<128)v[g++]=String.fromCharCode(E);else if(E>191&&E<224){const I=o[V++];v[g++]=String.fromCharCode((31&E)<<6|63&I)}else if(E>239&&E<365){const I=((7&E)<<18|(63&o[V++])<<12|(63&o[V++])<<6|63&o[V++])-65536;v[g++]=String.fromCharCode(55296+(I>>10)),v[g++]=String.fromCharCode(56320+(1023&I))}else{const I=o[V++],Q=o[V++];v[g++]=String.fromCharCode((15&E)<<12|(63&I)<<6|63&Q)}}return v.join("")}(this.decodeStringToByteArray(o,v))},decodeStringToByteArray(o,v){this.init_();const V=v?this.charToByteMapWebSafe_:this.charToByteMap_,g=[];for(let E=0;E<o.length;){const v=V[o.charAt(E++)],Q=E<o.length?V[o.charAt(E)]:0;++E;const U=E<o.length?V[o.charAt(E)]:64;++E;const n=E<o.length?V[o.charAt(E)]:64;if(++E,null==v||null==Q||null==U||null==n)throw new I;const O=v<<2|Q>>4;if(g.push(O),64!==U){const o=Q<<4&240|U>>2;if(g.push(o),64!==n){const o=U<<6&192|n;g.push(o)}}}return g},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(o){return function(o){const v=g(o);return E.encodeByteArray(v,!0)}(o).replace(/\./g,"")},U=function(o){try{return E.decodeString(o,!0)}catch(v){console.error("base64Decode failed: ",v)}return null};const n=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof V.g)return V.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,O=()=>{try{return n()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(V){return}const v=o&&U(o[1]);return v&&JSON.parse(v)})()}catch(o){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`)}},h=o=>{var v,V;return null===(V=null===(v=O())||void 0===v?void 0:v.emulatorHosts)||void 0===V?void 0:V[o]},x=()=>{var o;return null===(o=O())||void 0===o?void 0:o.config},f=o=>{var v;return null===(v=O())||void 0===v?void 0:v[`_${o}`]};class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((o,v)=>{this.resolve=o,this.reject=v}))}wrapCallback(o){return(v,V)=>{v?this.reject(v):this.resolve(V),"function"===typeof o&&(this.promise.catch((()=>{})),1===o.length?o(v):o(v,V))}}}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function c(){const o="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof o&&void 0!==o.id}function R(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function j(){const o=S();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function t(){try{return"object"===typeof indexedDB}catch(o){return!1}}function s(){return new Promise(((o,v)=>{try{let V=!0;const g="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(g);E.onsuccess=()=>{E.result.close(),V||self.indexedDB.deleteDatabase(g),o(!0)},E.onupgradeneeded=()=>{V=!1},E.onerror=()=>{var o;v((null===(o=E.error)||void 0===o?void 0:o.message)||"")}}catch(V){v(V)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class b extends Error{constructor(o,v,V){super(v),this.code=o,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u.prototype.create)}}class u{constructor(o,v,V){this.service=o,this.serviceName=v,this.errors=V}create(o){const v=(arguments.length<=1?void 0:arguments[1])||{},V=`${this.service}/${o}`,g=this.errors[o],E=g?function(o,v){return o.replace(mo,((o,V)=>{const g=v[V];return null!=g?String(g):`<${V}?>`}))}(g,v):"Error",I=`${this.serviceName}: ${E} (${V}).`;return new b(V,I,v)}}const mo=/\{\$([^}]+)}/g;function a(o){for(const v in o)if(Object.prototype.hasOwnProperty.call(o,v))return!1;return!0}function F(o,v){if(o===v)return!0;const V=Object.keys(o),g=Object.keys(v);for(const E of V){if(!g.includes(E))return!1;const V=o[E],I=v[E];if(i(V)&&i(I)){if(!F(V,I))return!1}else if(V!==I)return!1}for(const E of g)if(!V.includes(E))return!1;return!0}function i(o){return null!==o&&"object"===typeof o}function J(o){const v=[];for(const[V,g]of Object.entries(o))Array.isArray(g)?g.forEach((o=>{v.push(encodeURIComponent(V)+"="+encodeURIComponent(o))})):v.push(encodeURIComponent(V)+"="+encodeURIComponent(g));return v.length?"&"+v.join("&"):""}function d(o){const v={};return o.replace(/^\?/,"").split("&").forEach((o=>{if(o){const[V,g]=o.split("=");v[decodeURIComponent(V)]=decodeURIComponent(g)}})),v}function N(o){const v=o.indexOf("?");if(!v)return"";const V=o.indexOf("#",v);return o.substring(v,V>0?V:void 0)}function Y(o,v){const V=new q(o,v);return V.subscribe.bind(V)}class q{constructor(o,v){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=v,this.task.then((()=>{o(this)})).catch((o=>{this.error(o)}))}next(o){this.forEachObserver((v=>{v.next(o)}))}error(o){this.forEachObserver((v=>{v.error(o)})),this.close(o)}complete(){this.forEachObserver((o=>{o.complete()})),this.close()}subscribe(o,v,V){let g;if(void 0===o&&void 0===v&&void 0===V)throw new Error("Missing Observer.");g=function(o,v){if("object"!==typeof o||null===o)return!1;for(const V of v)if(V in o&&"function"===typeof o[V])return!0;return!1}(o,["next","error","complete"])?o:{next:o,error:v,complete:V},void 0===g.next&&(g.next=P),void 0===g.error&&(g.error=P),void 0===g.complete&&(g.complete=P);const E=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?g.error(this.finalError):g.complete()}catch(o){}})),this.observers.push(g),E}unsubscribeOne(o){void 0!==this.observers&&void 0!==this.observers[o]&&(delete this.observers[o],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(o){if(!this.finalized)for(let v=0;v<this.observers.length;v++)this.sendOne(v,o)}sendOne(o,v){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[o])try{v(this.observers[o])}catch(V){"undefined"!==typeof console&&console.error&&console.error(V)}}))}close(o){this.finalized||(this.finalized=!0,void 0!==o&&(this.finalError=o),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function P(){}const M=1e3,W=2,w=144e5,z=.5;function y(o){let v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;const V=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:M)*Math.pow(v,o),g=Math.round(z*V*(Math.random()-.5)*2);return Math.min(w,V+g)}function H(o){return o&&o._delegate?o._delegate:o}},12254:(o,v,V)=>{V.d(v,{d:()=>I.g,g:()=>xo,j:()=>G,m:()=>Vo,o:()=>go,s:()=>oo,v:()=>Uo,x:()=>vo,B:()=>Io,C:()=>Eo,G:()=>Qo,K:()=>To,R:()=>lo,N:()=>So,S:()=>fo,T:()=>Ro,X:()=>co,Y:()=>jo});var g=V(12263),E=V(12278),I=V(12271);let Q,U;const n=new WeakMap,O=new WeakMap,h=new WeakMap,x=new WeakMap,f=new WeakMap;let l={get(o,v,V){if(o instanceof IDBTransaction){if("done"===v)return O.get(o);if("objectStoreNames"===v)return o.objectStoreNames||h.get(o);if("store"===v)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return c(o[v])},set:(o,v,V)=>(o[v]=V,!0),has:(o,v)=>o instanceof IDBTransaction&&("done"===v||"store"===v)||v in o};function S(o){return o!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(o)?function(){for(var v=arguments.length,V=new Array(v),g=0;g<v;g++)V[g]=arguments[g];return o.apply(R(this),V),c(n.get(this))}:function(){for(var v=arguments.length,V=new Array(v),g=0;g<v;g++)V[g]=arguments[g];return c(o.apply(R(this),V))}:function(v){for(var V=arguments.length,g=new Array(V>1?V-1:0),E=1;E<V;E++)g[E-1]=arguments[E];const I=o.call(R(this),v,...g);return h.set(I,v.sort?v.sort():[v]),c(I)}}function T(o){return"function"===typeof o?S(o):(o instanceof IDBTransaction&&function(o){if(O.has(o))return;const v=new Promise(((v,V)=>{const g=()=>{o.removeEventListener("complete",E),o.removeEventListener("error",I),o.removeEventListener("abort",I)},E=()=>{v(),g()},I=()=>{V(o.error||new DOMException("AbortError","AbortError")),g()};o.addEventListener("complete",E),o.addEventListener("error",I),o.addEventListener("abort",I)}));O.set(o,v)}(o),v=o,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((o=>v instanceof o))?new Proxy(o,l):o);var v}function c(o){if(o instanceof IDBRequest)return function(o){const v=new Promise(((v,V)=>{const g=()=>{o.removeEventListener("success",E),o.removeEventListener("error",I)},E=()=>{v(c(o.result)),g()},I=()=>{V(o.error),g()};o.addEventListener("success",E),o.addEventListener("error",I)}));return v.then((v=>{v instanceof IDBCursor&&n.set(v,o)})).catch((()=>{})),f.set(v,o),v}(o);if(x.has(o))return x.get(o);const v=T(o);return v!==o&&(x.set(o,v),f.set(v,o)),v}const R=o=>f.get(o);const j=["get","getKey","getAll","getAllKeys","count"],t=["put","add","delete","clear"],s=new Map;function L(o,v){if(!(o instanceof IDBDatabase)||v in o||"string"!==typeof v)return;if(s.get(v))return s.get(v);const V=v.replace(/FromIndex$/,""),g=v!==V,E=t.includes(V);if(!(V in(g?IDBIndex:IDBObjectStore).prototype)||!E&&!j.includes(V))return;const I=async function(o){const v=this.transaction(o,E?"readwrite":"readonly");let I=v.store;for(var Q=arguments.length,U=new Array(Q>1?Q-1:0),n=1;n<Q;n++)U[n-1]=arguments[n];return g&&(I=I.index(U.shift())),(await Promise.all([I[V](...U),E&&v.done]))[0]};return s.set(v,I),I}l=(o=>({...o,get:(v,V,g)=>L(v,V)||o.get(v,V,g),has:(v,V)=>!!L(v,V)||o.has(v,V)}))(l);class b{constructor(o){this.container=o}getPlatformInfoString(){return this.container.getProviders().map((o=>{if(function(o){const v=o.getComponent();return"VERSION"===(null===v||void 0===v?void 0:v.type)}(o)){const v=o.getImmediate();return`${v.library}/${v.version}`}return null})).filter((o=>o)).join(" ")}}const u="@firebase/app",mo="0.9.13",a=new E.f("@firebase/app"),F="@firebase/app-compat",i="@firebase/analytics-compat",J="@firebase/analytics",d="@firebase/app-check-compat",N="@firebase/app-check",Y="@firebase/auth",q="@firebase/auth-compat",P="@firebase/database",M="@firebase/database-compat",W="@firebase/functions",w="@firebase/functions-compat",z="@firebase/installations",y="@firebase/installations-compat",H="@firebase/messaging",e="@firebase/messaging-compat",D="@firebase/performance",Z="@firebase/performance-compat",K="@firebase/remote-config",X="@firebase/remote-config-compat",r="@firebase/storage",B="@firebase/storage-compat",A="@firebase/firestore",C="@firebase/firestore-compat",p="firebase",G="[DEFAULT]",k={[u]:"fire-core",[F]:"fire-core-compat",[J]:"fire-analytics",[i]:"fire-analytics-compat",[N]:"fire-app-check",[d]:"fire-app-check-compat",[Y]:"fire-auth",[q]:"fire-auth-compat",[P]:"fire-rtdb",[M]:"fire-rtdb-compat",[W]:"fire-fn",[w]:"fire-fn-compat",[z]:"fire-iid",[y]:"fire-iid-compat",[H]:"fire-fcm",[e]:"fire-fcm-compat",[D]:"fire-perf",[Z]:"fire-perf-compat",[K]:"fire-rc",[X]:"fire-rc-compat",[r]:"fire-gcs",[B]:"fire-gcs-compat",[A]:"fire-fst",[C]:"fire-fst-compat","fire-js":"fire-js",[p]:"fire-js-all"},oo=new Map,vo=new Map;function Vo(o,v){try{o.container.Mn(v)}catch(V){a.debug(`Component ${v.name} failed to register with FirebaseApp ${o.name}`,V)}}function go(o,v){o.container.addOrOverwriteComponent(v)}function Eo(o){const v=o.name;if(vo.has(v))return a.debug(`There were multiple attempts to register component ${v}.`),!1;vo.set(v,o);for(const V of oo.values())Vo(V,o);return!0}function Io(o,v){const V=o.container.getProvider("heartbeat").getImmediate({optional:!0});return V&&V.triggerHeartbeat(),o.container.getProvider(v)}function Qo(o,v){let V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;Io(o,v).clearInstance(V)}function Uo(){vo.clear()}const no={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Oo=new I.f("app","Firebase",no);class ho{constructor(o,v,V){this._isDeleted=!1,this._options=Object.assign({},o),this._config=Object.assign({},v),this._name=v.name,this._automaticDataCollectionEnabled=v.automaticDataCollectionEnabled,this._container=V,this.container.Mn(new g.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(o){this.checkDestroyed(),this._automaticDataCollectionEnabled=o}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(o){this._isDeleted=o}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}const xo="9.23.0";function fo(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=o;if("object"!==typeof v){v={name:v}}const E=Object.assign({name:G,automaticDataCollectionEnabled:!1},v),Q=E.name;if("string"!==typeof Q||!Q)throw Oo.create("bad-app-name",{appName:String(Q)});if(V||(V=(0,I.z)()),!V)throw Oo.create("no-options");const U=oo.get(Q);if(U){if((0,I.t)(V,U.options)&&(0,I.t)(E,U.config))return U;throw Oo.create("duplicate-app",{appName:Q})}const n=new g.c(Q);for(const g of vo.values())n.Mn(g);const O=new ho(V,E,n);return oo.set(Q,O),O}function lo(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;const v=oo.get(o);if(!v&&o===G&&(0,I.z)())return fo();if(!v)throw Oo.create("no-app",{appName:o});return v}function So(){return Array.from(oo.values())}async function To(o){const v=o.name;oo.has(v)&&(oo.delete(v),await Promise.all(o.container.getProviders().map((o=>o.delete()))),o.isDeleted=!0)}function co(o,v,V){var E;let I=null!==(E=k[o])&&void 0!==E?E:o;V&&(I+=`-${V}`);const Q=I.match(/\s|\//),U=v.match(/\s|\//);if(Q||U){const o=[`Unable to register library "${I}" with version "${v}":`];return Q&&o.push(`library name "${I}" contains illegal characters (whitespace or "/")`),Q&&U&&o.push("and"),U&&o.push(`version name "${v}" contains illegal characters (whitespace or "/")`),void a.warn(o.join(" "))}Eo(new g.f(`${I}-version`,(()=>({library:I,version:v})),"VERSION"))}function Ro(o,v){if(null!==o&&"function"!==typeof o)throw Oo.create("invalid-log-argument");(0,E.k)(o,v)}function jo(o){(0,E.g)(o)}const to="firebase-heartbeat-store";let so=null;function Lo(){return so||(so=function(o,v){let{blocked:V,upgrade:g,blocking:E,terminated:I}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Q=indexedDB.open(o,v),U=c(Q);return g&&Q.addEventListener("upgradeneeded",(o=>{g(c(Q.result),o.oldVersion,o.newVersion,c(Q.transaction),o)})),V&&Q.addEventListener("blocked",(o=>V(o.oldVersion,o.newVersion,o))),U.then((o=>{I&&o.addEventListener("close",(()=>I())),E&&o.addEventListener("versionchange",(o=>E(o.oldVersion,o.newVersion,o)))})).catch((()=>{})),U}("firebase-heartbeat-database",1,{upgrade:(o,v)=>{if(0===v)o.createObjectStore(to)}}).catch((o=>{throw Oo.create("idb-open",{originalErrorMessage:o.message})}))),so}async function bo(o,v){try{const V=(await Lo()).transaction(to,"readwrite"),g=V.objectStore(to);await g.put(v,uo(o)),await V.done}catch(V){if(V instanceof I.g)a.warn(V.message);else{const o=Oo.create("idb-set",{originalErrorMessage:null===V||void 0===V?void 0:V.message});a.warn(o.message)}}}function uo(o){return`${o.name}!${o.options.appId}`}class mv{constructor(o){this.container=o,this._heartbeatsCache=null;const v=this.container.getProvider("app").getImmediate();this.Wx=new Fo(v),this._heartbeatsCachePromise=this.Wx.read().then((o=>(this._heartbeatsCache=o,o)))}async triggerHeartbeat(){const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),v=ao();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==v&&!this._heartbeatsCache.heartbeats.some((o=>o.date===v)))return this._heartbeatsCache.heartbeats.push({date:v,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((o=>{const v=new Date(o.date).valueOf();return Date.now()-v<=2592e6})),this.Wx.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const o=ao(),{heartbeatsToSend:v,unsentEntries:V}=function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const V=[];let g=o.slice();for(const E of o){const o=V.find((o=>o.agent===E.agent));if(o){if(o.dates.push(E.date),io(V)>v){o.dates.pop();break}}else if(V.push({agent:E.agent,dates:[E.date]}),io(V)>v){V.pop();break}g=g.slice(1)}return{heartbeatsToSend:V,unsentEntries:g}}(this._heartbeatsCache.heartbeats),g=(0,I.m)(JSON.stringify({version:2,heartbeats:v}));return this._heartbeatsCache.lastSentHeartbeatDate=o,V.length>0?(this._heartbeatsCache.heartbeats=V,await this.Wx.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Wx.overwrite(this._heartbeatsCache)),g}}function ao(){return(new Date).toISOString().substring(0,10)}class Fo{constructor(o){this.app=o,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,I.W)()&&(0,I.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(o){try{const v=await Lo();return await v.transaction(to).objectStore(to).get(uo(o))}catch(v){if(v instanceof I.g)a.warn(v.message);else{const o=Oo.create("idb-get",{originalErrorMessage:null===v||void 0===v?void 0:v.message});a.warn(o.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(o){var v;if(await this._canUseIndexedDBPromise){const V=await this.read();return bo(this.app,{lastSentHeartbeatDate:null!==(v=o.lastSentHeartbeatDate)&&void 0!==v?v:V.lastSentHeartbeatDate,heartbeats:o.heartbeats})}}async add(o){var v;if(await this._canUseIndexedDBPromise){const V=await this.read();return bo(this.app,{lastSentHeartbeatDate:null!==(v=o.lastSentHeartbeatDate)&&void 0!==v?v:V.lastSentHeartbeatDate,heartbeats:[...V.heartbeats,...o.heartbeats]})}}}function io(o){return(0,I.m)(JSON.stringify({version:2,heartbeats:o})).length}var Jo;Jo="",Eo(new g.f("platform-logger",(o=>new b(o)),"PRIVATE")),Eo(new g.f("heartbeat",(o=>new mv(o)),"PRIVATE")),co(u,mo,Jo),co(u,mo,"esm2017"),co("fire-js","")},12263:(o,v,V)=>{V.d(v,{c:()=>U,f:()=>E});var g=V(12271);class E{constructor(o,v,V){this.name=o,this.instanceFactory=v,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(o){return this.instantiationMode=o,this}setMultipleInstances(o){return this.multipleInstances=o,this}setServiceProps(o){return this.serviceProps=o,this}setInstanceCreatedCallback(o){return this.onInstanceCreated=o,this}}const I="[DEFAULT]";class Q{constructor(o,v){this.name=o,this.container=v,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(o){const v=this.normalizeInstanceIdentifier(o);if(!this.instancesDeferred.has(v)){const o=new g.d;if(this.instancesDeferred.set(v,o),this.isInitialized(v)||this.shouldAutoInitialize())try{const V=this.getOrInitializeService({instanceIdentifier:v});V&&o.resolve(V)}catch(V){}}return this.instancesDeferred.get(v).promise}getImmediate(o){var v;const V=this.normalizeInstanceIdentifier(null===o||void 0===o?void 0:o.identifier),g=null!==(v=null===o||void 0===o?void 0:o.optional)&&void 0!==v&&v;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(g)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(E){if(g)return null;throw E}}getComponent(){return this.component}setComponent(o){if(o.name!==this.name)throw Error(`Mismatching Component ${o.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=o,this.shouldAutoInitialize()){if(function(o){return"EAGER"===o.instantiationMode}(o))try{this.getOrInitializeService({instanceIdentifier:I})}catch(v){}for(const[o,V]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(o);try{const o=this.getOrInitializeService({instanceIdentifier:g});V.resolve(o)}catch(v){}}}}clearInstance(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;this.instancesDeferred.delete(o),this.instancesOptions.delete(o),this.instances.delete(o)}async delete(){const o=Array.from(this.instances.values());await Promise.all([...o.filter((o=>"INTERNAL"in o)).map((o=>o.INTERNAL.delete())),...o.filter((o=>"_delete"in o)).map((o=>o._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return this.instances.has(o)}getOptions(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return this.instancesOptions.get(o)||{}}initialize(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:v={}}=o,V=this.normalizeInstanceIdentifier(o.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const g=this.getOrInitializeService({instanceIdentifier:V,options:v});for(const[E,I]of this.instancesDeferred.entries()){V===this.normalizeInstanceIdentifier(E)&&I.resolve(g)}return g}hx(o,v){var V;const g=this.normalizeInstanceIdentifier(v),E=null!==(V=this.onInitCallbacks.get(g))&&void 0!==V?V:new Set;E.add(o),this.onInitCallbacks.set(g,E);const I=this.instances.get(g);return I&&o(I,g),()=>{E.delete(o)}}invokeOnInitCallbacks(o,v){const V=this.onInitCallbacks.get(v);if(V)for(const E of V)try{E(o,v)}catch(g){}}getOrInitializeService(o){let{instanceIdentifier:v,options:V={}}=o,g=this.instances.get(v);if(!g&&this.component&&(g=this.component.instanceFactory(this.container,{instanceIdentifier:(E=v,E===I?void 0:E),options:V}),this.instances.set(v,g),this.instancesOptions.set(v,V),this.invokeOnInitCallbacks(g,v),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,v,g)}catch(Q){}var E;return g||null}normalizeInstanceIdentifier(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return this.component?this.component.multipleInstances?o:I:o}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class U{constructor(o){this.name=o,this.providers=new Map}Mn(o){const v=this.getProvider(o.name);if(v.isComponentSet())throw new Error(`Component ${o.name} has already been registered with ${this.name}`);v.setComponent(o)}addOrOverwriteComponent(o){this.getProvider(o.name).isComponentSet()&&this.providers.delete(o.name),this.Mn(o)}getProvider(o){if(this.providers.has(o))return this.providers.get(o);const v=new Q(o,this);return this.providers.set(o,v),v}getProviders(){return Array.from(this.providers.values())}}},12278:(o,v,V)=>{V.d(v,{b:()=>E,f:()=>O,g:()=>h,k:()=>x});const g=[];var E;!function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"}(E||(E={}));const I={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Q=E.INFO,U={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},n=function(o,v){if(v<o.logLevel)return;const V=(new Date).toISOString(),g=U[v];if(!g)throw new Error(`Attempted to log a message with an invalid logType (value: ${v})`);for(var E=arguments.length,I=new Array(E>2?E-2:0),Q=2;Q<E;Q++)I[Q-2]=arguments[Q];console[g](`[${V}]  ${o.name}:`,...I)};class O{constructor(o){this.name=o,this._logLevel=Q,this._logHandler=n,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(o){if(!(o in E))throw new TypeError(`Invalid value "${o}" assigned to \`logLevel\``);this._logLevel=o}setLogLevel(o){this._logLevel="string"===typeof o?I[o]:o}get logHandler(){return this._logHandler}set logHandler(o){if("function"!==typeof o)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=o}get userLogHandler(){return this._userLogHandler}set userLogHandler(o){this._userLogHandler=o}debug(){for(var o=arguments.length,v=new Array(o),V=0;V<o;V++)v[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...v),this._logHandler(this,E.DEBUG,...v)}log(){for(var o=arguments.length,v=new Array(o),V=0;V<o;V++)v[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...v),this._logHandler(this,E.VERBOSE,...v)}info(){for(var o=arguments.length,v=new Array(o),V=0;V<o;V++)v[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,E.INFO,...v),this._logHandler(this,E.INFO,...v)}warn(){for(var o=arguments.length,v=new Array(o),V=0;V<o;V++)v[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,E.WARN,...v),this._logHandler(this,E.WARN,...v)}error(){for(var o=arguments.length,v=new Array(o),V=0;V<o;V++)v[V]=arguments[V];this._userLogHandler&&this._userLogHandler(this,E.ERROR,...v),this._logHandler(this,E.ERROR,...v)}}function h(o){g.forEach((v=>{v.setLogLevel(o)}))}function x(o,v){for(const V of g){let g=null;v&&v.level&&(g=I[v.level]),V.userLogHandler=null===o?null:function(v,V){for(var I=arguments.length,Q=new Array(I>2?I-2:0),U=2;U<I;U++)Q[U-2]=arguments[U];const n=Q.map((o=>{if(null==o)return null;if("string"===typeof o)return o;if("number"===typeof o||"boolean"===typeof o)return o.toString();if(o instanceof Error)return o.message;try{return JSON.stringify(o)}catch(v){return null}})).filter((o=>o)).join(" ");V>=(null!==g&&void 0!==g?g:v.logLevel)&&o({level:E[V].toLowerCase(),message:n,args:Q,type:v.name})}}}}}]);