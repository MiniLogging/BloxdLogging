/*! For license information please see dnlz7.5.037018ce.chunk.js.LICENSE.txt */
"use strict";(self.jr1pmf6bwuf=self.jr1pmf6bwuf||[]).push([[5],{12672:(Y,c,h)=>{h.d(c,{C:()=>W,E:()=>k,I:()=>o,M:()=>p,O:()=>y,P:()=>G,Q:()=>D,S:()=>T,U:()=>P,Y:()=>d,Z:()=>x,ab:()=>s,d:()=>M,db:()=>e,h:()=>Z,i:()=>X,j:()=>r,k:()=>b,n:()=>Q,q:()=>O,s:()=>V,u:()=>K,v:()=>A,y:()=>q});const C=function(Y){const c=[];let h=0;for(let C=0;C<Y.length;C++){let E=Y.charCodeAt(C);E<128?c[h++]=E:E<2048?(c[h++]=E>>6|192,c[h++]=63&E|128):55296===(64512&E)&&C+1<Y.length&&56320===(64512&Y.charCodeAt(C+1))?(E=65536+((1023&E)<<10)+(1023&Y.charCodeAt(++C)),c[h++]=E>>18|240,c[h++]=E>>12&63|128,c[h++]=E>>6&63|128,c[h++]=63&E|128):(c[h++]=E>>12|224,c[h++]=E>>6&63|128,c[h++]=63&E|128)}return c},E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Y,c){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const h=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let E=0;E<Y.length;E+=3){const c=Y[E],N=E+1<Y.length,Q=N?Y[E+1]:0,b=E+2<Y.length,H=b?Y[E+2]:0,w=c>>2,W=(3&c)<<4|Q>>4;let q=(15&Q)<<2|H>>6,k=63&H;b||(k=64,N||(q=64)),C.push(h[w],h[W],h[q],h[k])}return C.join("")},encodeString(Y,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(Y):this.encodeByteArray(C(Y),c)},decodeString(Y,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(Y):function(Y){const c=[];let h=0,C=0;for(;h<Y.length;){const E=Y[h++];if(E<128)c[C++]=String.fromCharCode(E);else if(E>191&&E<224){const N=Y[h++];c[C++]=String.fromCharCode((31&E)<<6|63&N)}else if(E>239&&E<365){const N=((7&E)<<18|(63&Y[h++])<<12|(63&Y[h++])<<6|63&Y[h++])-65536;c[C++]=String.fromCharCode(55296+(N>>10)),c[C++]=String.fromCharCode(56320+(1023&N))}else{const N=Y[h++],Q=Y[h++];c[C++]=String.fromCharCode((15&E)<<12|(63&N)<<6|63&Q)}}return c.join("")}(this.decodeStringToByteArray(Y,c))},decodeStringToByteArray(Y,c){this.init_();const h=c?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let E=0;E<Y.length;){const c=h[Y.charAt(E++)],Q=E<Y.length?h[Y.charAt(E)]:0;++E;const b=E<Y.length?h[Y.charAt(E)]:64;++E;const H=E<Y.length?h[Y.charAt(E)]:64;if(++E,null==c||null==Q||null==b||null==H)throw new N;const w=c<<2|Q>>4;if(C.push(w),64!==b){const Y=Q<<4&240|b>>2;if(C.push(Y),64!==H){const Y=b<<6&192|H;C.push(Y)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(Y){return function(Y){const c=C(Y);return E.encodeByteArray(c,!0)}(Y).replace(/\./g,"")},b=function(Y){try{return E.decodeString(Y,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};const H=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof h.g)return h.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return H()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(h){return}const c=Y&&b(Y[1]);return c&&JSON.parse(c)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},W=Y=>{var c,h;return null===(h=null===(c=w())||void 0===c?void 0:c.emulatorHosts)||void 0===h?void 0:h[Y]},q=()=>{var Y;return null===(Y=w())||void 0===Y?void 0:Y.config},k=Y=>{var c;return null===(c=w())||void 0===c?void 0:c[`_${Y}`]};class M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Y,c)=>{this.resolve=Y,this.reject=c}))}wrapCallback(Y){return(c,h)=>{c?this.reject(c):this.resolve(h),"function"===typeof Y&&(this.promise.catch((()=>{})),1===Y.length?Y(c):Y(c,h))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function y(){const Y="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Y&&void 0!==Y.id}function d(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function D(){const Y=p();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(Y){return!1}}function e(){return new Promise(((Y,c)=>{try{let h=!0;const C="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(C);E.onsuccess=()=>{E.result.close(),h||self.indexedDB.deleteDatabase(C),Y(!0)},E.onupgradeneeded=()=>{h=!1},E.onerror=()=>{var Y;c((null===(Y=E.error)||void 0===Y?void 0:Y.message)||"")}}catch(h){c(h)}}))}function r(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class X extends Error{constructor(Y,c,h){super(c),this.code=Y,this.customData=h,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(Y,c,h){this.service=Y,this.serviceName=c,this.errors=h}create(Y){const c=(arguments.length<=1?void 0:arguments[1])||{},h=`${this.service}/${Y}`,C=this.errors[Y],E=C?function(Y,c){return Y.replace(a,((Y,h)=>{const C=c[h];return null!=C?String(C):`<${h}?>`}))}(C,c):"Error",N=`${this.serviceName}: ${E} (${h}).`;return new X(h,N,c)}}const a=/\{\$([^}]+)}/g;function G(Y){for(const c in Y)if(Object.prototype.hasOwnProperty.call(Y,c))return!1;return!0}function K(Y,c){if(Y===c)return!0;const h=Object.keys(Y),C=Object.keys(c);for(const E of h){if(!C.includes(E))return!1;const h=Y[E],N=c[E];if(I(h)&&I(N)){if(!K(h,N))return!1}else if(h!==N)return!1}for(const E of C)if(!h.includes(E))return!1;return!0}function I(Y){return null!==Y&&"object"===typeof Y}function s(Y){const c=[];for(const[h,C]of Object.entries(Y))Array.isArray(C)?C.forEach((Y=>{c.push(encodeURIComponent(h)+"="+encodeURIComponent(Y))})):c.push(encodeURIComponent(h)+"="+encodeURIComponent(C));return c.length?"&"+c.join("&"):""}function x(Y){const c={};return Y.replace(/^\?/,"").split("&").forEach((Y=>{if(Y){const[h,C]=Y.split("=");c[decodeURIComponent(h)]=decodeURIComponent(C)}})),c}function A(Y){const c=Y.indexOf("?");if(!c)return"";const h=Y.indexOf("#",c);return Y.substring(c,h>0?h:void 0)}function V(Y,c){const h=new U(Y,c);return h.subscribe.bind(h)}class U{constructor(Y,c){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=c,this.task.then((()=>{Y(this)})).catch((Y=>{this.error(Y)}))}next(Y){this.forEachObserver((c=>{c.next(Y)}))}error(Y){this.forEachObserver((c=>{c.error(Y)})),this.close(Y)}complete(){this.forEachObserver((Y=>{Y.complete()})),this.close()}subscribe(Y,c,h){let C;if(void 0===Y&&void 0===c&&void 0===h)throw new Error("Missing Observer.");C=function(Y,c){if("object"!==typeof Y||null===Y)return!1;for(const h of c)if(h in Y&&"function"===typeof Y[h])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:c,complete:h},void 0===C.next&&(C.next=l),void 0===C.error&&(C.error=l),void 0===C.complete&&(C.complete=l);const E=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?C.error(this.finalError):C.complete()}catch(Y){}})),this.observers.push(C),E}unsubscribeOne(Y){void 0!==this.observers&&void 0!==this.observers[Y]&&(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let c=0;c<this.observers.length;c++)this.sendOne(c,Y)}sendOne(Y,c){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{c(this.observers[Y])}catch(h){"undefined"!==typeof console&&console.error&&console.error(h)}}))}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const n=1e3,v=2,g=144e5,z=.5;function O(Y){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;const h=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n)*Math.pow(c,Y),C=Math.round(z*h*(Math.random()-.5)*2);return Math.min(g,h+C)}function o(Y){return Y&&Y._delegate?Y._delegate:Y}},12660:(Y,c,h)=>{h.d(c,{c:()=>N.i,f:()=>qY,g:()=>S,h:()=>hY,j:()=>CY,l:()=>YY,o:()=>bY,p:()=>cY,r:()=>NY,s:()=>EY,w:()=>QY,y:()=>PY,G:()=>MY,C:()=>pY,I:()=>kY,K:()=>dY,N:()=>yY,P:()=>DY});var C=h(12669),E=h(12677),N=h(12672);let Q,b;const H=new WeakMap,w=new WeakMap,W=new WeakMap,q=new WeakMap,k=new WeakMap;let M={get(Y,c,h){if(Y instanceof IDBTransaction){if("done"===c)return w.get(Y);if("objectStoreNames"===c)return Y.objectStoreNames||W.get(Y);if("store"===c)return h.objectStoreNames[1]?void 0:h.objectStore(h.objectStoreNames[0])}return y(Y[c])},set:(Y,c,h)=>(Y[c]=h,!0),has:(Y,c)=>Y instanceof IDBTransaction&&("done"===c||"store"===c)||c in Y};function p(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Y)?function(){for(var c=arguments.length,h=new Array(c),C=0;C<c;C++)h[C]=arguments[C];return Y.apply(d(this),h),y(H.get(this))}:function(){for(var c=arguments.length,h=new Array(c),C=0;C<c;C++)h[C]=arguments[C];return y(Y.apply(d(this),h))}:function(c){for(var h=arguments.length,C=new Array(h>1?h-1:0),E=1;E<h;E++)C[E-1]=arguments[E];const N=Y.call(d(this),c,...C);return W.set(N,c.sort?c.sort():[c]),y(N)}}function P(Y){return"function"===typeof Y?p(Y):(Y instanceof IDBTransaction&&function(Y){if(w.has(Y))return;const c=new Promise(((c,h)=>{const C=()=>{Y.removeEventListener("complete",E),Y.removeEventListener("error",N),Y.removeEventListener("abort",N)},E=()=>{c(),C()},N=()=>{h(Y.error||new DOMException("AbortError","AbortError")),C()};Y.addEventListener("complete",E),Y.addEventListener("error",N),Y.addEventListener("abort",N)}));w.set(Y,c)}(Y),c=Y,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Y=>c instanceof Y))?new Proxy(Y,M):Y);var c}function y(Y){if(Y instanceof IDBRequest)return function(Y){const c=new Promise(((c,h)=>{const C=()=>{Y.removeEventListener("success",E),Y.removeEventListener("error",N)},E=()=>{c(y(Y.result)),C()},N=()=>{h(Y.error),C()};Y.addEventListener("success",E),Y.addEventListener("error",N)}));return c.then((c=>{c instanceof IDBCursor&&H.set(c,Y)})).catch((()=>{})),k.set(c,Y),c}(Y);if(q.has(Y))return q.get(Y);const c=P(Y);return c!==Y&&(q.set(Y,c),k.set(c,Y)),c}const d=Y=>k.get(Y);const D=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],e=new Map;function r(Y,c){if(!(Y instanceof IDBDatabase)||c in Y||"string"!==typeof c)return;if(e.get(c))return e.get(c);const h=c.replace(/FromIndex$/,""),C=c!==h,E=T.includes(h);if(!(h in(C?IDBIndex:IDBObjectStore).prototype)||!E&&!D.includes(h))return;const N=async function(Y){const c=this.transaction(Y,E?"readwrite":"readonly");let N=c.store;for(var Q=arguments.length,b=new Array(Q>1?Q-1:0),H=1;H<Q;H++)b[H-1]=arguments[H];return C&&(N=N.index(b.shift())),(await Promise.all([N[h](...b),E&&c.done]))[0]};return e.set(c,N),N}M=(Y=>({...Y,get:(c,h,C)=>r(c,h)||Y.get(c,h,C),has:(c,h)=>!!r(c,h)||Y.has(c,h)}))(M);class X{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map((Y=>{if(function(Y){const c=Y.getComponent();return"VERSION"===(null===c||void 0===c?void 0:c.type)}(Y)){const c=Y.getImmediate();return`${c.library}/${c.version}`}return null})).filter((Y=>Y)).join(" ")}}const Z="@firebase/app",a="0.9.13",G=new E.g("@firebase/app"),K="@firebase/app-compat",I="@firebase/analytics-compat",s="@firebase/analytics",x="@firebase/app-check-compat",A="@firebase/app-check",V="@firebase/auth",U="@firebase/auth-compat",l="@firebase/database",n="@firebase/database-compat",v="@firebase/functions",g="@firebase/functions-compat",z="@firebase/installations",O="@firebase/installations-compat",o="@firebase/messaging",f="@firebase/messaging-compat",L="@firebase/performance",u="@firebase/performance-compat",i="@firebase/remote-config",R="@firebase/remote-config-compat",B="@firebase/storage",t="@firebase/storage-compat",F="@firebase/firestore",J="@firebase/firestore-compat",j="firebase",S="[DEFAULT]",mY={[Z]:"fire-core",[K]:"fire-core-compat",[s]:"fire-analytics",[I]:"fire-analytics-compat",[A]:"fire-app-check",[x]:"fire-app-check-compat",[V]:"fire-auth",[U]:"fire-auth-compat",[l]:"fire-rtdb",[n]:"fire-rtdb-compat",[v]:"fire-fn",[g]:"fire-fn-compat",[z]:"fire-iid",[O]:"fire-iid-compat",[o]:"fire-fcm",[f]:"fire-fcm-compat",[L]:"fire-perf",[u]:"fire-perf-compat",[i]:"fire-rc",[R]:"fire-rc-compat",[B]:"fire-gcs",[t]:"fire-gcs-compat",[F]:"fire-fst",[J]:"fire-fst-compat","fire-js":"fire-js",[j]:"fire-js-all"},YY=new Map,cY=new Map;function hY(Y,c){try{Y.container.aW(c)}catch(h){G.debug(`Component ${c.name} failed to register with FirebaseApp ${Y.name}`,h)}}function CY(Y,c){Y.container.addOrOverwriteComponent(c)}function EY(Y){const c=Y.name;if(cY.has(c))return G.debug(`There were multiple attempts to register component ${c}.`),!1;cY.set(c,Y);for(const h of YY.values())hY(h,Y);return!0}function NY(Y,c){const h=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return h&&h.triggerHeartbeat(),Y.container.getProvider(c)}function QY(Y,c){let h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;NY(Y,c).clearInstance(h)}function bY(){cY.clear()}const HY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wY=new N.h("app","Firebase",HY);class WY{constructor(Y,c,h){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},c),this._name=c.name,this._automaticDataCollectionEnabled=c.automaticDataCollectionEnabled,this._container=h,this.container.aW(new C.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw wY.create("app-deleted",{appName:this._name})}}const qY="9.23.0";function kY(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=Y;if("object"!==typeof c){c={name:c}}const E=Object.assign({name:S,automaticDataCollectionEnabled:!1},c),Q=E.name;if("string"!==typeof Q||!Q)throw wY.create("bad-app-name",{appName:String(Q)});if(h||(h=(0,N.y)()),!h)throw wY.create("no-options");const b=YY.get(Q);if(b){if((0,N.u)(h,b.options)&&(0,N.u)(E,b.config))return b;throw wY.create("duplicate-app",{appName:Q})}const H=new C.e(Q);for(const C of cY.values())H.aW(C);const w=new WY(h,E,H);return YY.set(Q,w),w}function MY(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;const c=YY.get(Y);if(!c&&Y===S&&(0,N.y)())return kY();if(!c)throw wY.create("no-app",{appName:Y});return c}function pY(){return Array.from(YY.values())}async function PY(Y){const c=Y.name;YY.has(c)&&(YY.delete(c),await Promise.all(Y.container.getProviders().map((Y=>Y.delete()))),Y.isDeleted=!0)}function yY(Y,c,h){var E;let N=null!==(E=mY[Y])&&void 0!==E?E:Y;h&&(N+=`-${h}`);const Q=N.match(/\s|\//),b=c.match(/\s|\//);if(Q||b){const Y=[`Unable to register library "${N}" with version "${c}":`];return Q&&Y.push(`library name "${N}" contains illegal characters (whitespace or "/")`),Q&&b&&Y.push("and"),b&&Y.push(`version name "${c}" contains illegal characters (whitespace or "/")`),void G.warn(Y.join(" "))}EY(new C.g(`${N}-version`,(()=>({library:N,version:c})),"VERSION"))}function dY(Y,c){if(null!==Y&&"function"!==typeof Y)throw wY.create("invalid-log-argument");(0,E.m)(Y,c)}function DY(Y){(0,E.k)(Y)}const TY="firebase-heartbeat-store";let eY=null;function rY(){return eY||(eY=function(Y,c){let{blocked:h,upgrade:C,blocking:E,terminated:N}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Q=indexedDB.open(Y,c),b=y(Q);return C&&Q.addEventListener("upgradeneeded",(Y=>{C(y(Q.result),Y.oldVersion,Y.newVersion,y(Q.transaction),Y)})),h&&Q.addEventListener("blocked",(Y=>h(Y.oldVersion,Y.newVersion,Y))),b.then((Y=>{N&&Y.addEventListener("close",(()=>N())),E&&Y.addEventListener("versionchange",(Y=>E(Y.oldVersion,Y.newVersion,Y)))})).catch((()=>{})),b}("firebase-heartbeat-database",1,{upgrade:(Y,c)=>{if(0===c)Y.createObjectStore(TY)}}).catch((Y=>{throw wY.create("idb-open",{originalErrorMessage:Y.message})}))),eY}async function XY(Y,c){try{const h=(await rY()).transaction(TY,"readwrite"),C=h.objectStore(TY);await C.put(c,ZY(Y)),await h.done}catch(h){if(h instanceof N.i)G.warn(h.message);else{const Y=wY.create("idb-set",{originalErrorMessage:null===h||void 0===h?void 0:h.message});G.warn(Y.message)}}}function ZY(Y){return`${Y.name}!${Y.options.appId}`}class aY{constructor(Y){this.container=Y,this._heartbeatsCache=null;const c=this.container.getProvider("app").getImmediate();this.cM=new KY(c),this._heartbeatsCachePromise=this.cM.read().then((Y=>(this._heartbeatsCache=Y,Y)))}async triggerHeartbeat(){const Y=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=GY();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==c&&!this._heartbeatsCache.heartbeats.some((Y=>Y.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:Y}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Y=>{const c=new Date(Y.date).valueOf();return Date.now()-c<=2592e6})),this.cM.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Y=GY(),{heartbeatsToSend:c,unsentEntries:h}=function(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const h=[];let C=Y.slice();for(const E of Y){const Y=h.find((Y=>Y.agent===E.agent));if(Y){if(Y.dates.push(E.date),IY(h)>c){Y.dates.pop();break}}else if(h.push({agent:E.agent,dates:[E.date]}),IY(h)>c){h.pop();break}C=C.slice(1)}return{heartbeatsToSend:h,unsentEntries:C}}(this._heartbeatsCache.heartbeats),C=(0,N.n)(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=Y,h.length>0?(this._heartbeatsCache.heartbeats=h,await this.cM.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.cM.overwrite(this._heartbeatsCache)),C}}function GY(){return(new Date).toISOString().substring(0,10)}class KY{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,N.S)()&&(0,N.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Y){try{const c=await rY();return await c.transaction(TY).objectStore(TY).get(ZY(Y))}catch(c){if(c instanceof N.i)G.warn(c.message);else{const Y=wY.create("idb-get",{originalErrorMessage:null===c||void 0===c?void 0:c.message});G.warn(Y.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Y){var c;if(await this._canUseIndexedDBPromise){const h=await this.read();return XY(this.app,{lastSentHeartbeatDate:null!==(c=Y.lastSentHeartbeatDate)&&void 0!==c?c:h.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}}async add(Y){var c;if(await this._canUseIndexedDBPromise){const h=await this.read();return XY(this.app,{lastSentHeartbeatDate:null!==(c=Y.lastSentHeartbeatDate)&&void 0!==c?c:h.lastSentHeartbeatDate,heartbeats:[...h.heartbeats,...Y.heartbeats]})}}}function IY(Y){return(0,N.n)(JSON.stringify({version:2,heartbeats:Y})).length}var sY;sY="",EY(new C.g("platform-logger",(Y=>new X(Y)),"PRIVATE")),EY(new C.g("heartbeat",(Y=>new aY(Y)),"PRIVATE")),yY(Z,a,sY),yY(Z,a,"esm2017"),yY("fire-js","")},12669:(Y,c,h)=>{h.d(c,{e:()=>b,g:()=>E});var C=h(12672);class E{constructor(Y,c,h){this.name=Y,this.instanceFactory=c,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const N="[DEFAULT]";class Q{constructor(Y,c){this.name=Y,this.container=c,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const c=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(c)){const Y=new C.d;if(this.instancesDeferred.set(c,Y),this.isInitialized(c)||this.shouldAutoInitialize())try{const h=this.getOrInitializeService({instanceIdentifier:c});h&&Y.resolve(h)}catch(h){}}return this.instancesDeferred.get(c).promise}getImmediate(Y){var c;const h=this.normalizeInstanceIdentifier(null===Y||void 0===Y?void 0:Y.identifier),C=null!==(c=null===Y||void 0===Y?void 0:Y.optional)&&void 0!==c&&c;if(!this.isInitialized(h)&&!this.shouldAutoInitialize()){if(C)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:h})}catch(E){if(C)return null;throw E}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:N})}catch(c){}for(const[Y,h]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(Y);try{const Y=this.getOrInitializeService({instanceIdentifier:C});h.resolve(Y)}catch(c){}}}}clearInstance(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}async delete(){const Y=Array.from(this.instances.values());await Promise.all([...Y.filter((Y=>"INTERNAL"in Y)).map((Y=>Y.INTERNAL.delete())),...Y.filter((Y=>"_delete"in Y)).map((Y=>Y._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instances.has(Y)}getOptions(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.instancesOptions.get(Y)||{}}initialize(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:c={}}=Y,h=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const C=this.getOrInitializeService({instanceIdentifier:h,options:c});for(const[E,N]of this.instancesDeferred.entries()){h===this.normalizeInstanceIdentifier(E)&&N.resolve(C)}return C}Vk(Y,c){var h;const C=this.normalizeInstanceIdentifier(c),E=null!==(h=this.onInitCallbacks.get(C))&&void 0!==h?h:new Set;E.add(Y),this.onInitCallbacks.set(C,E);const N=this.instances.get(C);return N&&Y(N,C),()=>{E.delete(Y)}}invokeOnInitCallbacks(Y,c){const h=this.onInitCallbacks.get(c);if(h)for(const E of h)try{E(Y,c)}catch(C){}}getOrInitializeService(Y){let{instanceIdentifier:c,options:h={}}=Y,C=this.instances.get(c);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:(E=c,E===N?void 0:E),options:h}),this.instances.set(c,C),this.instancesOptions.set(c,h),this.invokeOnInitCallbacks(C,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,C)}catch(Q){}var E;return C||null}normalizeInstanceIdentifier(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return this.component?this.component.multipleInstances?Y:N:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class b{constructor(Y){this.name=Y,this.providers=new Map}aW(Y){const c=this.getProvider(Y.name);if(c.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);c.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.aW(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const c=new Q(Y,this);return this.providers.set(Y,c),c}getProviders(){return Array.from(this.providers.values())}}},12677:(Y,c,h)=>{h.d(c,{c:()=>E,g:()=>w,k:()=>W,m:()=>q});const C=[];var E;!function(Y){Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT"}(E||(E={}));const N={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},Q=E.INFO,b={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},H=function(Y,c){if(c<Y.logLevel)return;const h=(new Date).toISOString(),C=b[c];if(!C)throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`);for(var E=arguments.length,N=new Array(E>2?E-2:0),Q=2;Q<E;Q++)N[Q-2]=arguments[Q];console[C](`[${h}]  ${Y.name}:`,...N)};class w{constructor(Y){this.name=Y,this._logLevel=Q,this._logHandler=H,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in E))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"===typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!==typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(){for(var Y=arguments.length,c=new Array(Y),h=0;h<Y;h++)c[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...c),this._logHandler(this,E.DEBUG,...c)}log(){for(var Y=arguments.length,c=new Array(Y),h=0;h<Y;h++)c[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...c),this._logHandler(this,E.VERBOSE,...c)}info(){for(var Y=arguments.length,c=new Array(Y),h=0;h<Y;h++)c[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,E.INFO,...c),this._logHandler(this,E.INFO,...c)}warn(){for(var Y=arguments.length,c=new Array(Y),h=0;h<Y;h++)c[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,E.WARN,...c),this._logHandler(this,E.WARN,...c)}error(){for(var Y=arguments.length,c=new Array(Y),h=0;h<Y;h++)c[h]=arguments[h];this._userLogHandler&&this._userLogHandler(this,E.ERROR,...c),this._logHandler(this,E.ERROR,...c)}}function W(Y){C.forEach((c=>{c.setLogLevel(Y)}))}function q(Y,c){for(const h of C){let C=null;c&&c.level&&(C=N[c.level]),h.userLogHandler=null===Y?null:function(c,h){for(var N=arguments.length,Q=new Array(N>2?N-2:0),b=2;b<N;b++)Q[b-2]=arguments[b];const H=Q.map((Y=>{if(null==Y)return null;if("string"===typeof Y)return Y;if("number"===typeof Y||"boolean"===typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(c){return null}})).filter((Y=>Y)).join(" ");h>=(null!==C&&void 0!==C?C:c.logLevel)&&Y({level:E[h].toLowerCase(),message:H,args:Q,type:c.name})}}}}}]);