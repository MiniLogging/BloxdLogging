/*! For license information please see uw1a49.5.dc412805.chunk.js.LICENSE.txt */
"use strict";(self.a14qw1h7fq=self.a14qw1h7fq||[]).push([[5],{11009:(R,J,B)=>{B.d(J,{$:()=>u,D:()=>l,F:()=>D,I:()=>E,M:()=>j,N:()=>n,R:()=>A,S:()=>M,V:()=>S,W:()=>f,Y:()=>P,b:()=>O,d:()=>I,db:()=>c,h:()=>x,hb:()=>X,k:()=>s,kb:()=>a,m:()=>r,p:()=>N,s:()=>L,v:()=>p,x:()=>H,z:()=>z});const Q=function(R){const J=[];let B=0;for(let Q=0;Q<R.length;Q++){let h=R.charCodeAt(Q);h<128?J[B++]=h:h<2048?(J[B++]=h>>6|192,J[B++]=63&h|128):55296===(64512&h)&&Q+1<R.length&&56320===(64512&R.charCodeAt(Q+1))?(h=65536+((1023&h)<<10)+(1023&R.charCodeAt(++Q)),J[B++]=h>>18|240,J[B++]=h>>12&63|128,J[B++]=h>>6&63|128,J[B++]=63&h|128):(J[B++]=h>>12|224,J[B++]=h>>6&63|128,J[B++]=63&h|128)}return J},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(R,J){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let h=0;h<R.length;h+=3){const J=R[h],y=h+1<R.length,N=y?R[h+1]:0,r=h+2<R.length,q=r?R[h+2]:0,e=J>>2,D=(3&J)<<4|N>>4;let l=(15&N)<<2|q>>6,E=63&q;r||(E=64,y||(l=64)),Q.push(B[e],B[D],B[l],B[E])}return Q.join("")},encodeString(R,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(R):this.encodeByteArray(Q(R),J)},decodeString(R,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(R):function(R){const J=[];let B=0,Q=0;for(;B<R.length;){const h=R[B++];if(h<128)J[Q++]=String.fromCharCode(h);else if(h>191&&h<224){const y=R[B++];J[Q++]=String.fromCharCode((31&h)<<6|63&y)}else if(h>239&&h<365){const y=((7&h)<<18|(63&R[B++])<<12|(63&R[B++])<<6|63&R[B++])-65536;J[Q++]=String.fromCharCode(55296+(y>>10)),J[Q++]=String.fromCharCode(56320+(1023&y))}else{const y=R[B++],N=R[B++];J[Q++]=String.fromCharCode((15&h)<<12|(63&y)<<6|63&N)}}return J.join("")}(this.decodeStringToByteArray(R,J))},decodeStringToByteArray(R,J){this.init_();const B=J?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let h=0;h<R.length;){const J=B[R.charAt(h++)],N=h<R.length?B[R.charAt(h)]:0;++h;const r=h<R.length?B[R.charAt(h)]:64;++h;const q=h<R.length?B[R.charAt(h)]:64;if(++h,null==J||null==N||null==r||null==q)throw new y;const e=J<<2|N>>4;if(Q.push(e),64!==r){const R=N<<4&240|r>>2;if(Q.push(R),64!==q){const R=r<<6&192|q;Q.push(R)}}}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N=function(R){return function(R){const J=Q(R);return h.encodeByteArray(J,!0)}(R).replace(/\./g,"")},r=function(R){try{return h.decodeString(R,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};const q=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof B.g)return B.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,e=()=>{try{return q()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(B){return}const J=R&&r(R[1]);return J&&JSON.parse(J)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},D=R=>{var J,B;return null===(B=null===(J=e())||void 0===J?void 0:J.emulatorHosts)||void 0===B?void 0:B[R]},l=()=>{var R;return null===(R=e())||void 0===R?void 0:R.config},E=R=>{var J;return null===(J=e())||void 0===J?void 0:J[`_${R}`]};class O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((R,J)=>{this.resolve=R,this.reject=J}))}wrapCallback(R){return(J,B)=>{J?this.reject(J):this.resolve(B),"function"===typeof R&&(this.promise.catch((()=>{})),1===R.length?R(J):R(J,B))}}}function n(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n())}function A(){const R="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof R&&void 0!==R.id}function u(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){const R=n();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function f(){try{return"object"===typeof indexedDB}catch(R){return!1}}function a(){return new Promise(((R,J)=>{try{let B=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(Q);h.onsuccess=()=>{h.result.close(),B||self.indexedDB.deleteDatabase(Q),R(!0)},h.onupgradeneeded=()=>{B=!1},h.onerror=()=>{var R;J((null===(R=h.error)||void 0===R?void 0:R.message)||"")}}catch(B){J(B)}}))}function s(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class x extends Error{constructor(R,J,B){super(J),this.code=R,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(R,J,B){this.service=R,this.serviceName=J,this.errors=B}create(R){const J=(arguments.length<=1?void 0:arguments[1])||{},B=`${this.service}/${R}`,Q=this.errors[R],h=Q?function(R,J){return R.replace(V,((R,B)=>{const Q=J[B];return null!=Q?String(Q):`<${B}?>`}))}(Q,J):"Error",y=`${this.serviceName}: ${h} (${B}).`;return new x(B,y,J)}}const V=/\{\$([^}]+)}/g;function M(R){for(const J in R)if(Object.prototype.hasOwnProperty.call(R,J))return!1;return!0}function H(R,J){if(R===J)return!0;const B=Object.keys(R),Q=Object.keys(J);for(const h of B){if(!Q.includes(h))return!1;const B=R[h],y=J[h];if(d(B)&&d(y)){if(!H(B,y))return!1}else if(B!==y)return!1}for(const h of Q)if(!B.includes(h))return!1;return!0}function d(R){return null!==R&&"object"===typeof R}function X(R){const J=[];for(const[B,Q]of Object.entries(R))Array.isArray(Q)?Q.forEach((R=>{J.push(encodeURIComponent(B)+"="+encodeURIComponent(R))})):J.push(encodeURIComponent(B)+"="+encodeURIComponent(Q));return J.length?"&"+J.join("&"):""}function c(R){const J={};return R.replace(/^\?/,"").split("&").forEach((R=>{if(R){const[B,Q]=R.split("=");J[decodeURIComponent(B)]=decodeURIComponent(Q)}})),J}function z(R){const J=R.indexOf("?");if(!J)return"";const B=R.indexOf("#",J);return R.substring(J,B>0?B:void 0)}function p(R,J){const B=new i(R,J);return B.subscribe.bind(B)}class i{constructor(R,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then((()=>{R(this)})).catch((R=>{this.error(R)}))}next(R){this.forEachObserver((J=>{J.next(R)}))}error(R){this.forEachObserver((J=>{J.error(R)})),this.close(R)}complete(){this.forEachObserver((R=>{R.complete()})),this.close()}subscribe(R,J,B){let Q;if(void 0===R&&void 0===J&&void 0===B)throw new Error("Missing Observer.");Q=function(R,J){if("object"!==typeof R||null===R)return!1;for(const B of J)if(B in R&&"function"===typeof R[B])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:J,complete:B},void 0===Q.next&&(Q.next=W),void 0===Q.error&&(Q.error=W),void 0===Q.complete&&(Q.complete=W);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(R){}})),this.observers.push(Q),h}unsubscribeOne(R){void 0!==this.observers&&void 0!==this.observers[R]&&(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,R)}sendOne(R,J){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{J(this.observers[R])}catch(B){"undefined"!==typeof console&&console.error&&console.error(B)}}))}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function W(){}const k=1e3,Y=2,G=144e5,g=.5;function L(R){let J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;const B=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:k)*Math.pow(J,R),Q=Math.round(g*B*(Math.random()-.5)*2);return Math.min(G,B+Q)}function j(R){return R&&R._delegate?R._delegate:R}},11001:(R,J,B)=>{B.d(J,{b:()=>y.h,c:()=>lR,f:()=>Z,j:()=>BR,k:()=>QR,o:()=>RR,p:()=>rR,q:()=>JR,s:()=>yR,t:()=>hR,w:()=>NR,z:()=>PR,E:()=>OR,A:()=>nR,G:()=>ER,H:()=>uR,J:()=>AR,M:()=>SR});var Q=B(11005),h=B(11016),y=B(11009);let N,r;const q=new WeakMap,e=new WeakMap,D=new WeakMap,l=new WeakMap,E=new WeakMap;let O={get(R,J,B){if(R instanceof IDBTransaction){if("done"===J)return e.get(R);if("objectStoreNames"===J)return R.objectStoreNames||D.get(R);if("store"===J)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return A(R[J])},set:(R,J,B)=>(R[J]=B,!0),has:(R,J)=>R instanceof IDBTransaction&&("done"===J||"store"===J)||J in R};function n(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(R)?function(){for(var J=arguments.length,B=new Array(J),Q=0;Q<J;Q++)B[Q]=arguments[Q];return R.apply(u(this),B),A(q.get(this))}:function(){for(var J=arguments.length,B=new Array(J),Q=0;Q<J;Q++)B[Q]=arguments[Q];return A(R.apply(u(this),B))}:function(J){for(var B=arguments.length,Q=new Array(B>1?B-1:0),h=1;h<B;h++)Q[h-1]=arguments[h];const y=R.call(u(this),J,...Q);return D.set(y,J.sort?J.sort():[J]),A(y)}}function P(R){return"function"===typeof R?n(R):(R instanceof IDBTransaction&&function(R){if(e.has(R))return;const J=new Promise(((J,B)=>{const Q=()=>{R.removeEventListener("complete",h),R.removeEventListener("error",y),R.removeEventListener("abort",y)},h=()=>{J(),Q()},y=()=>{B(R.error||new DOMException("AbortError","AbortError")),Q()};R.addEventListener("complete",h),R.addEventListener("error",y),R.addEventListener("abort",y)}));e.set(R,J)}(R),J=R,(N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((R=>J instanceof R))?new Proxy(R,O):R);var J}function A(R){if(R instanceof IDBRequest)return function(R){const J=new Promise(((J,B)=>{const Q=()=>{R.removeEventListener("success",h),R.removeEventListener("error",y)},h=()=>{J(A(R.result)),Q()},y=()=>{B(R.error),Q()};R.addEventListener("success",h),R.addEventListener("error",y)}));return J.then((J=>{J instanceof IDBCursor&&q.set(J,R)})).catch((()=>{})),E.set(J,R),J}(R);if(l.has(R))return l.get(R);const J=P(R);return J!==R&&(l.set(R,J),E.set(J,R)),J}const u=R=>E.get(R);const S=["get","getKey","getAll","getAllKeys","count"],f=["put","add","delete","clear"],a=new Map;function s(R,J){if(!(R instanceof IDBDatabase)||J in R||"string"!==typeof J)return;if(a.get(J))return a.get(J);const B=J.replace(/FromIndex$/,""),Q=J!==B,h=f.includes(B);if(!(B in(Q?IDBIndex:IDBObjectStore).prototype)||!h&&!S.includes(B))return;const y=async function(R){const J=this.transaction(R,h?"readwrite":"readonly");let y=J.store;for(var N=arguments.length,r=new Array(N>1?N-1:0),q=1;q<N;q++)r[q-1]=arguments[q];return Q&&(y=y.index(r.shift())),(await Promise.all([y[B](...r),h&&J.done]))[0]};return a.set(J,y),y}O=(R=>({...R,get:(J,B,Q)=>s(J,B)||R.get(J,B,Q),has:(J,B)=>!!s(J,B)||R.has(J,B)}))(O);class x{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map((R=>{if(function(R){const J=R.getComponent();return"VERSION"===(null===J||void 0===J?void 0:J.type)}(R)){const J=R.getImmediate();return`${J.library}/${J.version}`}return null})).filter((R=>R)).join(" ")}}const I="@firebase/app",V="0.9.13",M=new h.g("@firebase/app"),H="@firebase/app-compat",d="@firebase/analytics-compat",X="@firebase/analytics",c="@firebase/app-check-compat",z="@firebase/app-check",p="@firebase/auth",i="@firebase/auth-compat",W="@firebase/database",k="@firebase/database-compat",Y="@firebase/functions",G="@firebase/functions-compat",g="@firebase/installations",L="@firebase/installations-compat",j="@firebase/messaging",T="@firebase/messaging-compat",F="@firebase/performance",C="@firebase/performance-compat",b="@firebase/remote-config",w="@firebase/remote-config-compat",K="@firebase/storage",v="@firebase/storage-compat",m="@firebase/firestore",o="@firebase/firestore-compat",t="firebase",Z="[DEFAULT]",U={[I]:"fire-core",[H]:"fire-core-compat",[X]:"fire-analytics",[d]:"fire-analytics-compat",[z]:"fire-app-check",[c]:"fire-app-check-compat",[p]:"fire-auth",[i]:"fire-auth-compat",[W]:"fire-rtdb",[k]:"fire-rtdb-compat",[Y]:"fire-fn",[G]:"fire-fn-compat",[g]:"fire-iid",[L]:"fire-iid-compat",[j]:"fire-fcm",[T]:"fire-fcm-compat",[F]:"fire-perf",[C]:"fire-perf-compat",[b]:"fire-rc",[w]:"fire-rc-compat",[K]:"fire-gcs",[v]:"fire-gcs-compat",[m]:"fire-fst",[o]:"fire-fst-compat","fire-js":"fire-js",[t]:"fire-js-all"},RR=new Map,JR=new Map;function BR(R,J){try{R.container.Yq(J)}catch(B){M.debug(`Component ${J.name} failed to register with FirebaseApp ${R.name}`,B)}}function QR(R,J){R.container.addOrOverwriteComponent(J)}function hR(R){const J=R.name;if(JR.has(J))return M.debug(`There were multiple attempts to register component ${J}.`),!1;JR.set(J,R);for(const B of RR.values())BR(B,R);return!0}function yR(R,J){const B=R.container.getProvider("heartbeat").getImmediate({optional:!0});return B&&B.triggerHeartbeat(),R.container.getProvider(J)}function NR(R,J){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;yR(R,J).clearInstance(B)}function rR(){JR.clear()}const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},eR=new y.d("app","Firebase",qR);class DR{constructor(R,J,B){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=B,this.container.Yq(new Q.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw eR.create("app-deleted",{appName:this._name})}}const lR="9.23.0";function ER(R){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=R;if("object"!==typeof J){J={name:J}}const h=Object.assign({name:Z,automaticDataCollectionEnabled:!1},J),N=h.name;if("string"!==typeof N||!N)throw eR.create("bad-app-name",{appName:String(N)});if(B||(B=(0,y.D)()),!B)throw eR.create("no-options");const r=RR.get(N);if(r){if((0,y.x)(B,r.options)&&(0,y.x)(h,r.config))return r;throw eR.create("duplicate-app",{appName:N})}const q=new Q.e(N);for(const Q of JR.values())q.Yq(Q);const e=new DR(B,h,q);return RR.set(N,e),e}function OR(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;const J=RR.get(R);if(!J&&R===Z&&(0,y.D)())return ER();if(!J)throw eR.create("no-app",{appName:R});return J}function nR(){return Array.from(RR.values())}async function PR(R){const J=R.name;RR.has(J)&&(RR.delete(J),await Promise.all(R.container.getProviders().map((R=>R.delete()))),R.isDeleted=!0)}function AR(R,J,B){var h;let y=null!==(h=U[R])&&void 0!==h?h:R;B&&(y+=`-${B}`);const N=y.match(/\s|\//),r=J.match(/\s|\//);if(N||r){const R=[`Unable to register library "${y}" with version "${J}":`];return N&&R.push(`library name "${y}" contains illegal characters (whitespace or "/")`),N&&r&&R.push("and"),r&&R.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void M.warn(R.join(" "))}hR(new Q.h(`${y}-version`,(()=>({library:y,version:J})),"VERSION"))}function uR(R,J){if(null!==R&&"function"!==typeof R)throw eR.create("invalid-log-argument");(0,h.k)(R,J)}function SR(R){(0,h.h)(R)}const fR="firebase-heartbeat-store";let aR=null;function sR(){return aR||(aR=function(R,J){let{blocked:B,upgrade:Q,blocking:h,terminated:y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const N=indexedDB.open(R,J),r=A(N);return Q&&N.addEventListener("upgradeneeded",(R=>{Q(A(N.result),R.oldVersion,R.newVersion,A(N.transaction),R)})),B&&N.addEventListener("blocked",(R=>B(R.oldVersion,R.newVersion,R))),r.then((R=>{y&&R.addEventListener("close",(()=>y())),h&&R.addEventListener("versionchange",(R=>h(R.oldVersion,R.newVersion,R)))})).catch((()=>{})),r}("firebase-heartbeat-database",1,{upgrade:(R,J)=>{if(0===J)R.createObjectStore(fR)}}).catch((R=>{throw eR.create("idb-open",{originalErrorMessage:R.message})}))),aR}async function xR(R,J){try{const B=(await sR()).transaction(fR,"readwrite"),Q=B.objectStore(fR);await Q.put(J,IR(R)),await B.done}catch(B){if(B instanceof y.h)M.warn(B.message);else{const R=eR.create("idb-set",{originalErrorMessage:null===B||void 0===B?void 0:B.message});M.warn(R.message)}}}function IR(R){return`${R.name}!${R.options.appId}`}class VR{constructor(R){this.container=R,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this.cl=new HR(J),this._heartbeatsCachePromise=this.cl.read().then((R=>(this._heartbeatsCache=R,R)))}async triggerHeartbeat(){const R=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),J=MR();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==J&&!this._heartbeatsCache.heartbeats.some((R=>R.date===J)))return this._heartbeatsCache.heartbeats.push({date:J,agent:R}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((R=>{const J=new Date(R.date).valueOf();return Date.now()-J<=2592e6})),this.cl.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const R=MR(),{heartbeatsToSend:J,unsentEntries:B}=function(R){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const B=[];let Q=R.slice();for(const h of R){const R=B.find((R=>R.agent===h.agent));if(R){if(R.dates.push(h.date),dR(B)>J){R.dates.pop();break}}else if(B.push({agent:h.agent,dates:[h.date]}),dR(B)>J){B.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:B,unsentEntries:Q}}(this._heartbeatsCache.heartbeats),Q=(0,y.p)(JSON.stringify({version:2,heartbeats:J}));return this._heartbeatsCache.lastSentHeartbeatDate=R,B.length>0?(this._heartbeatsCache.heartbeats=B,await this.cl.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.cl.overwrite(this._heartbeatsCache)),Q}}function MR(){return(new Date).toISOString().substring(0,10)}class HR{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,y.W)()&&(0,y.kb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(R){try{const J=await sR();return await J.transaction(fR).objectStore(fR).get(IR(R))}catch(J){if(J instanceof y.h)M.warn(J.message);else{const R=eR.create("idb-get",{originalErrorMessage:null===J||void 0===J?void 0:J.message});M.warn(R.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(R){var J;if(await this._canUseIndexedDBPromise){const B=await this.read();return xR(this.app,{lastSentHeartbeatDate:null!==(J=R.lastSentHeartbeatDate)&&void 0!==J?J:B.lastSentHeartbeatDate,heartbeats:R.heartbeats})}}async add(R){var J;if(await this._canUseIndexedDBPromise){const B=await this.read();return xR(this.app,{lastSentHeartbeatDate:null!==(J=R.lastSentHeartbeatDate)&&void 0!==J?J:B.lastSentHeartbeatDate,heartbeats:[...B.heartbeats,...R.heartbeats]})}}}function dR(R){return(0,y.p)(JSON.stringify({version:2,heartbeats:R})).length}var XR;XR="",hR(new Q.h("platform-logger",(R=>new x(R)),"PRIVATE")),hR(new Q.h("heartbeat",(R=>new VR(R)),"PRIVATE")),AR(I,V,XR),AR(I,V,"esm2017"),AR("fire-js","")},11005:(R,J,B)=>{B.d(J,{e:()=>r,h:()=>h});var Q=B(11009);class h{constructor(R,J,B){this.name=R,this.instanceFactory=J,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const y="[DEFAULT]";class N{constructor(R,J){this.name=R,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const J=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(J)){const R=new Q.b;if(this.instancesDeferred.set(J,R),this.isInitialized(J)||this.shouldAutoInitialize())try{const B=this.getOrInitializeService({instanceIdentifier:J});B&&R.resolve(B)}catch(B){}}return this.instancesDeferred.get(J).promise}getImmediate(R){var J;const B=this.normalizeInstanceIdentifier(null===R||void 0===R?void 0:R.identifier),Q=null!==(J=null===R||void 0===R?void 0:R.optional)&&void 0!==J&&J;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(h){if(Q)return null;throw h}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function(R){return"EAGER"===R.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:y})}catch(J){}for(const[R,B]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(R);try{const R=this.getOrInitializeService({instanceIdentifier:Q});B.resolve(R)}catch(J){}}}}clearInstance(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}async delete(){const R=Array.from(this.instances.values());await Promise.all([...R.filter((R=>"INTERNAL"in R)).map((R=>R.INTERNAL.delete())),...R.filter((R=>"_delete"in R)).map((R=>R._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.instances.has(R)}getOptions(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.instancesOptions.get(R)||{}}initialize(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:J={}}=R,B=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:B,options:J});for(const[h,y]of this.instancesDeferred.entries()){B===this.normalizeInstanceIdentifier(h)&&y.resolve(Q)}return Q}ql(R,J){var B;const Q=this.normalizeInstanceIdentifier(J),h=null!==(B=this.onInitCallbacks.get(Q))&&void 0!==B?B:new Set;h.add(R),this.onInitCallbacks.set(Q,h);const y=this.instances.get(Q);return y&&R(y,Q),()=>{h.delete(R)}}invokeOnInitCallbacks(R,J){const B=this.onInitCallbacks.get(J);if(B)for(const h of B)try{h(R,J)}catch(Q){}}getOrInitializeService(R){let{instanceIdentifier:J,options:B={}}=R,Q=this.instances.get(J);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(h=J,h===y?void 0:h),options:B}),this.instances.set(J,Q),this.instancesOptions.set(J,B),this.invokeOnInitCallbacks(Q,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Q)}catch(N){}var h;return Q||null}normalizeInstanceIdentifier(){let R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return this.component?this.component.multipleInstances?R:y:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class r{constructor(R){this.name=R,this.providers=new Map}Yq(R){const J=this.getProvider(R.name);if(J.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);J.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.Yq(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const J=new N(R,this);return this.providers.set(R,J),J}getProviders(){return Array.from(this.providers.values())}}},11016:(R,J,B)=>{B.d(J,{e:()=>h,g:()=>e,h:()=>D,k:()=>l});const Q=[];var h;!function(R){R[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT"}(h||(h={}));const y={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},N=h.INFO,r={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},q=function(R,J){if(J<R.logLevel)return;const B=(new Date).toISOString(),Q=r[J];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);for(var h=arguments.length,y=new Array(h>2?h-2:0),N=2;N<h;N++)y[N-2]=arguments[N];console[Q](`[${B}]  ${R.name}:`,...y)};class e{constructor(R){this.name=R,this._logLevel=N,this._logHandler=q,this._userLogHandler=null,Q.push(this)}get logLevel(){return this._logLevel}set logLevel(R){if(!(R in h))throw new TypeError(`Invalid value "${R}" assigned to \`logLevel\``);this._logLevel=R}setLogLevel(R){this._logLevel="string"===typeof R?y[R]:R}get logHandler(){return this._logHandler}set logHandler(R){if("function"!==typeof R)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=R}get userLogHandler(){return this._userLogHandler}set userLogHandler(R){this._userLogHandler=R}debug(){for(var R=arguments.length,J=new Array(R),B=0;B<R;B++)J[B]=arguments[B];this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...J),this._logHandler(this,h.DEBUG,...J)}log(){for(var R=arguments.length,J=new Array(R),B=0;B<R;B++)J[B]=arguments[B];this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...J),this._logHandler(this,h.VERBOSE,...J)}info(){for(var R=arguments.length,J=new Array(R),B=0;B<R;B++)J[B]=arguments[B];this._userLogHandler&&this._userLogHandler(this,h.INFO,...J),this._logHandler(this,h.INFO,...J)}warn(){for(var R=arguments.length,J=new Array(R),B=0;B<R;B++)J[B]=arguments[B];this._userLogHandler&&this._userLogHandler(this,h.WARN,...J),this._logHandler(this,h.WARN,...J)}error(){for(var R=arguments.length,J=new Array(R),B=0;B<R;B++)J[B]=arguments[B];this._userLogHandler&&this._userLogHandler(this,h.ERROR,...J),this._logHandler(this,h.ERROR,...J)}}function D(R){Q.forEach((J=>{J.setLogLevel(R)}))}function l(R,J){for(const B of Q){let Q=null;J&&J.level&&(Q=y[J.level]),B.userLogHandler=null===R?null:function(J,B){for(var y=arguments.length,N=new Array(y>2?y-2:0),r=2;r<y;r++)N[r-2]=arguments[r];const q=N.map((R=>{if(null==R)return null;if("string"===typeof R)return R;if("number"===typeof R||"boolean"===typeof R)return R.toString();if(R instanceof Error)return R.message;try{return JSON.stringify(R)}catch(J){return null}})).filter((R=>R)).join(" ");B>=(null!==Q&&void 0!==Q?Q:J.logLevel)&&R({level:h[B].toLowerCase(),message:q,args:N,type:J.name})}}}}}]);