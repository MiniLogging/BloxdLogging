/*! For license information please see l65s6m.5.8206f764.chunk.js.LICENSE.txt */
"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[5],{12666:(h,R,l)=>{l.d(R,{$:()=>I,A:()=>v,E:()=>n,I:()=>c,J:()=>u,L:()=>J,M:()=>k,O:()=>Q,Q:()=>s,S:()=>y,T:()=>f,U:()=>T,W:()=>Y,Y:()=>t,Z:()=>L,ab:()=>E,d:()=>q,h:()=>p,k:()=>G,n:()=>x,p:()=>F,q:()=>U,t:()=>H,w:()=>r});const j=function(h){const R=[];let l=0;for(let j=0;j<h.length;j++){let a=h.charCodeAt(j);a<128?R[l++]=a:a<2048?(R[l++]=a>>6|192,R[l++]=63&a|128):55296===(64512&a)&&j+1<h.length&&56320===(64512&h.charCodeAt(j+1))?(a=65536+((1023&a)<<10)+(1023&h.charCodeAt(++j)),R[l++]=a>>18|240,R[l++]=a>>12&63|128,R[l++]=a>>6&63|128,R[l++]=63&a|128):(R[l++]=a>>12|224,R[l++]=a>>6&63|128,R[l++]=63&a|128)}return R},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(h,R){if(!Array.isArray(h))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let a=0;a<h.length;a+=3){const R=h[a],D=a+1<h.length,U=D?h[a+1]:0,F=a+2<h.length,w=F?h[a+2]:0,mh=R>>2,u=(3&R)<<4|U>>4;let c=(15&U)<<2|w>>6,J=63&w;F||(J=64,D||(c=64)),j.push(l[mh],l[u],l[c],l[J])}return j.join("")},encodeString(h,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(h):this.encodeByteArray(j(h),R)},decodeString(h,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(h):function(h){const R=[];let l=0,j=0;for(;l<h.length;){const a=h[l++];if(a<128)R[j++]=String.fromCharCode(a);else if(a>191&&a<224){const D=h[l++];R[j++]=String.fromCharCode((31&a)<<6|63&D)}else if(a>239&&a<365){const D=((7&a)<<18|(63&h[l++])<<12|(63&h[l++])<<6|63&h[l++])-65536;R[j++]=String.fromCharCode(55296+(D>>10)),R[j++]=String.fromCharCode(56320+(1023&D))}else{const D=h[l++],U=h[l++];R[j++]=String.fromCharCode((15&a)<<12|(63&D)<<6|63&U)}}return R.join("")}(this.decodeStringToByteArray(h,R))},decodeStringToByteArray(h,R){this.init_();const l=R?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let a=0;a<h.length;){const R=l[h.charAt(a++)],U=a<h.length?l[h.charAt(a)]:0;++a;const F=a<h.length?l[h.charAt(a)]:64;++a;const w=a<h.length?l[h.charAt(a)]:64;if(++a,null==R||null==U||null==F||null==w)throw new D;const mh=R<<2|U>>4;if(j.push(mh),64!==F){const h=U<<4&240|F>>2;if(j.push(h),64!==w){const h=F<<6&192|w;j.push(h)}}}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let h=0;h<this.ENCODED_VALS.length;h++)this.byteToCharMap_[h]=this.ENCODED_VALS.charAt(h),this.charToByteMap_[this.byteToCharMap_[h]]=h,this.byteToCharMapWebSafe_[h]=this.ENCODED_VALS_WEBSAFE.charAt(h),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[h]]=h,h>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(h)]=h,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(h)]=h)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U=function(h){return function(h){const R=j(h);return a.encodeByteArray(R,!0)}(h).replace(/\./g,"")},F=function(h){try{return a.decodeString(h,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};const w=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof l.g)return l.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,mh=()=>{try{return w()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let h;try{h=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(l){return}const R=h&&F(h[1]);return R&&JSON.parse(R)})()}catch(h){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${h}`)}},u=h=>{var R,l;return null===(l=null===(R=mh())||void 0===R?void 0:R.emulatorHosts)||void 0===l?void 0:l[h]},c=()=>{var h;return null===(h=mh())||void 0===h?void 0:h.config},J=h=>{var R;return null===(R=mh())||void 0===R?void 0:R[`_${h}`]};class q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((h,R)=>{this.resolve=h,this.reject=R}))}wrapCallback(h){return(R,l)=>{R?this.reject(R):this.resolve(l),"function"===typeof h&&(this.promise.catch((()=>{})),1===h.length?h(R):h(R,l))}}}function Q(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function s(){const h="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof h&&void 0!==h.id}function t(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function f(){const h=Q();return h.indexOf("MSIE ")>=0||h.indexOf("Trident/")>=0}function T(){try{return"object"===typeof indexedDB}catch(h){return!1}}function E(){return new Promise(((h,R)=>{try{let l=!0;const j="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(j);a.onsuccess=()=>{a.result.close(),l||self.indexedDB.deleteDatabase(j),h(!0)},a.onupgradeneeded=()=>{l=!1},a.onerror=()=>{var h;R((null===(h=a.error)||void 0===h?void 0:h.message)||"")}}catch(l){R(l)}}))}function x(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class G extends Error{constructor(h,R,l){super(R),this.code=h,this.customData=l,this.name="FirebaseError",Object.setPrototypeOf(this,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(h,R,l){this.service=h,this.serviceName=R,this.errors=l}create(h){const R=(arguments.length<=1?void 0:arguments[1])||{},l=`${this.service}/${h}`,j=this.errors[h],a=j?function(h,R){return h.replace(O,((h,l)=>{const j=R[l];return null!=j?String(j):`<${l}?>`}))}(j,R):"Error",D=`${this.serviceName}: ${a} (${l}).`;return new G(l,D,R)}}const O=/\{\$([^}]+)}/g;function y(h){for(const R in h)if(Object.prototype.hasOwnProperty.call(h,R))return!1;return!0}function v(h,R){if(h===R)return!0;const l=Object.keys(h),j=Object.keys(R);for(const a of l){if(!j.includes(a))return!1;const l=h[a],D=R[a];if(b(l)&&b(D)){if(!v(l,D))return!1}else if(l!==D)return!1}for(const a of j)if(!l.includes(a))return!1;return!0}function b(h){return null!==h&&"object"===typeof h}function I(h){const R=[];for(const[l,j]of Object.entries(h))Array.isArray(j)?j.forEach((h=>{R.push(encodeURIComponent(l)+"="+encodeURIComponent(h))})):R.push(encodeURIComponent(l)+"="+encodeURIComponent(j));return R.length?"&"+R.join("&"):""}function L(h){const R={};return h.replace(/^\?/,"").split("&").forEach((h=>{if(h){const[l,j]=h.split("=");R[decodeURIComponent(l)]=decodeURIComponent(j)}})),R}function n(h){const R=h.indexOf("?");if(!R)return"";const l=h.indexOf("#",R);return h.substring(R,l>0?l:void 0)}function r(h,R){const l=new P(h,R);return l.subscribe.bind(l)}class P{constructor(h,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then((()=>{h(this)})).catch((h=>{this.error(h)}))}next(h){this.forEachObserver((R=>{R.next(h)}))}error(h){this.forEachObserver((R=>{R.error(h)})),this.close(h)}complete(){this.forEachObserver((h=>{h.complete()})),this.close()}subscribe(h,R,l){let j;if(void 0===h&&void 0===R&&void 0===l)throw new Error("Missing Observer.");j=function(h,R){if("object"!==typeof h||null===h)return!1;for(const l of R)if(l in h&&"function"===typeof h[l])return!0;return!1}(h,["next","error","complete"])?h:{next:h,error:R,complete:l},void 0===j.next&&(j.next=z),void 0===j.error&&(j.error=z),void 0===j.complete&&(j.complete=z);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(h){}})),this.observers.push(j),a}unsubscribeOne(h){void 0!==this.observers&&void 0!==this.observers[h]&&(delete this.observers[h],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(h){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,h)}sendOne(h,R){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[h])try{R(this.observers[h])}catch(l){"undefined"!==typeof console&&console.error&&console.error(l)}}))}close(h){this.finalized||(this.finalized=!0,void 0!==h&&(this.finalError=h),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function z(){}const o=1e3,K=2,W=144e5,g=.5;function H(h){let R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K;const l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(R,h),j=Math.round(g*l*(Math.random()-.5)*2);return Math.min(W,l+j)}function k(h){return h&&h._delegate?h._delegate:h}},12656:(h,R,l)=>{l.d(R,{b:()=>D.k,e:()=>ch,g:()=>B,k:()=>lh,l:()=>jh,o:()=>hh,r:()=>Fh,s:()=>Rh,u:()=>Dh,y:()=>ah,B:()=>Uh,D:()=>Yh,F:()=>qh,E:()=>Qh,G:()=>Jh,H:()=>th,K:()=>sh,L:()=>fh});var j=l(12660),a=l(12671),D=l(12666);let U,F;const w=new WeakMap,mh=new WeakMap,u=new WeakMap,c=new WeakMap,J=new WeakMap;let q={get(h,R,l){if(h instanceof IDBTransaction){if("done"===R)return mh.get(h);if("objectStoreNames"===R)return h.objectStoreNames||u.get(h);if("store"===R)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return s(h[R])},set:(h,R,l)=>(h[R]=l,!0),has:(h,R)=>h instanceof IDBTransaction&&("done"===R||"store"===R)||R in h};function Q(h){return h!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(h)?function(){for(var R=arguments.length,l=new Array(R),j=0;j<R;j++)l[j]=arguments[j];return h.apply(t(this),l),s(w.get(this))}:function(){for(var R=arguments.length,l=new Array(R),j=0;j<R;j++)l[j]=arguments[j];return s(h.apply(t(this),l))}:function(R){for(var l=arguments.length,j=new Array(l>1?l-1:0),a=1;a<l;a++)j[a-1]=arguments[a];const D=h.call(t(this),R,...j);return u.set(D,R.sort?R.sort():[R]),s(D)}}function Y(h){return"function"===typeof h?Q(h):(h instanceof IDBTransaction&&function(h){if(mh.has(h))return;const R=new Promise(((R,l)=>{const j=()=>{h.removeEventListener("complete",a),h.removeEventListener("error",D),h.removeEventListener("abort",D)},a=()=>{R(),j()},D=()=>{l(h.error||new DOMException("AbortError","AbortError")),j()};h.addEventListener("complete",a),h.addEventListener("error",D),h.addEventListener("abort",D)}));mh.set(h,R)}(h),R=h,(U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((h=>R instanceof h))?new Proxy(h,q):h);var R}function s(h){if(h instanceof IDBRequest)return function(h){const R=new Promise(((R,l)=>{const j=()=>{h.removeEventListener("success",a),h.removeEventListener("error",D)},a=()=>{R(s(h.result)),j()},D=()=>{l(h.error),j()};h.addEventListener("success",a),h.addEventListener("error",D)}));return R.then((R=>{R instanceof IDBCursor&&w.set(R,h)})).catch((()=>{})),J.set(R,h),R}(h);if(c.has(h))return c.get(h);const R=Y(h);return R!==h&&(c.set(h,R),J.set(R,h)),R}const t=h=>J.get(h);const f=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],E=new Map;function x(h,R){if(!(h instanceof IDBDatabase)||R in h||"string"!==typeof R)return;if(E.get(R))return E.get(R);const l=R.replace(/FromIndex$/,""),j=R!==l,a=T.includes(l);if(!(l in(j?IDBIndex:IDBObjectStore).prototype)||!a&&!f.includes(l))return;const D=async function(h){const R=this.transaction(h,a?"readwrite":"readonly");let D=R.store;for(var U=arguments.length,F=new Array(U>1?U-1:0),w=1;w<U;w++)F[w-1]=arguments[w];return j&&(D=D.index(F.shift())),(await Promise.all([D[l](...F),a&&R.done]))[0]};return E.set(R,D),D}q=(h=>({...h,get:(R,l,j)=>x(R,l)||h.get(R,l,j),has:(R,l)=>!!x(R,l)||h.has(R,l)}))(q);class G{constructor(h){this.container=h}getPlatformInfoString(){return this.container.getProviders().map((h=>{if(function(h){const R=h.getComponent();return"VERSION"===(null===R||void 0===R?void 0:R.type)}(h)){const R=h.getImmediate();return`${R.library}/${R.version}`}return null})).filter((h=>h)).join(" ")}}const p="@firebase/app",O="0.9.13",y=new a.f("@firebase/app"),v="@firebase/app-compat",b="@firebase/analytics-compat",I="@firebase/analytics",L="@firebase/app-check-compat",n="@firebase/app-check",r="@firebase/auth",P="@firebase/auth-compat",z="@firebase/database",o="@firebase/database-compat",K="@firebase/functions",W="@firebase/functions-compat",g="@firebase/installations",H="@firebase/installations-compat",k="@firebase/messaging",C="@firebase/messaging-compat",A="@firebase/performance",e="@firebase/performance-compat",S="@firebase/remote-config",Z="@firebase/remote-config-compat",M="@firebase/storage",i="@firebase/storage-compat",d="@firebase/firestore",X="@firebase/firestore-compat",V="firebase",B="[DEFAULT]",N={[p]:"fire-core",[v]:"fire-core-compat",[I]:"fire-analytics",[b]:"fire-analytics-compat",[n]:"fire-app-check",[L]:"fire-app-check-compat",[r]:"fire-auth",[P]:"fire-auth-compat",[z]:"fire-rtdb",[o]:"fire-rtdb-compat",[K]:"fire-fn",[W]:"fire-fn-compat",[g]:"fire-iid",[H]:"fire-iid-compat",[k]:"fire-fcm",[C]:"fire-fcm-compat",[A]:"fire-perf",[e]:"fire-perf-compat",[S]:"fire-rc",[Z]:"fire-rc-compat",[M]:"fire-gcs",[i]:"fire-gcs-compat",[d]:"fire-fst",[X]:"fire-fst-compat","fire-js":"fire-js",[V]:"fire-js-all"},hh=new Map,Rh=new Map;function lh(h,R){try{h.container.Aw(R)}catch(l){y.debug(`Component ${R.name} failed to register with FirebaseApp ${h.name}`,l)}}function jh(h,R){h.container.addOrOverwriteComponent(R)}function ah(h){const R=h.name;if(Rh.has(R))return y.debug(`There were multiple attempts to register component ${R}.`),!1;Rh.set(R,h);for(const l of hh.values())lh(l,h);return!0}function Dh(h,R){const l=h.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),h.container.getProvider(R)}function Uh(h,R){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;Dh(h,R).clearInstance(l)}function Fh(){Rh.clear()}const wh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mR=new D.h("app","Firebase",wh);class uh{constructor(h,R,l){this._isDeleted=!1,this._options=Object.assign({},h),this._config=Object.assign({},R),this._name=R.name,this._automaticDataCollectionEnabled=R.automaticDataCollectionEnabled,this._container=l,this.container.Aw(new j.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(h){this.checkDestroyed(),this._automaticDataCollectionEnabled=h}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(h){this._isDeleted=h}checkDestroyed(){if(this.isDeleted)throw mR.create("app-deleted",{appName:this._name})}}const ch="9.23.0";function Jh(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=h;if("object"!==typeof R){R={name:R}}const a=Object.assign({name:B,automaticDataCollectionEnabled:!1},R),U=a.name;if("string"!==typeof U||!U)throw mR.create("bad-app-name",{appName:String(U)});if(l||(l=(0,D.I)()),!l)throw mR.create("no-options");const F=hh.get(U);if(F){if((0,D.A)(l,F.options)&&(0,D.A)(a,F.config))return F;throw mR.create("duplicate-app",{appName:U})}const w=new j.d(U);for(const j of Rh.values())w.Aw(j);const mh=new uh(l,a,w);return hh.set(U,mh),mh}function qh(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;const R=hh.get(h);if(!R&&h===B&&(0,D.I)())return Jh();if(!R)throw mR.create("no-app",{appName:h});return R}function Qh(){return Array.from(hh.values())}async function Yh(h){const R=h.name;hh.has(R)&&(hh.delete(R),await Promise.all(h.container.getProviders().map((h=>h.delete()))),h.isDeleted=!0)}function sh(h,R,l){var a;let D=null!==(a=N[h])&&void 0!==a?a:h;l&&(D+=`-${l}`);const U=D.match(/\s|\//),F=R.match(/\s|\//);if(U||F){const h=[`Unable to register library "${D}" with version "${R}":`];return U&&h.push(`library name "${D}" contains illegal characters (whitespace or "/")`),U&&F&&h.push("and"),F&&h.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void y.warn(h.join(" "))}ah(new j.f(`${D}-version`,(()=>({library:D,version:R})),"VERSION"))}function th(h,R){if(null!==h&&"function"!==typeof h)throw mR.create("invalid-log-argument");(0,a.i)(h,R)}function fh(h){(0,a.g)(h)}const Th="firebase-heartbeat-store";let Eh=null;function xh(){return Eh||(Eh=function(h,R){let{blocked:l,upgrade:j,blocking:a,terminated:D}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const U=indexedDB.open(h,R),F=s(U);return j&&U.addEventListener("upgradeneeded",(h=>{j(s(U.result),h.oldVersion,h.newVersion,s(U.transaction),h)})),l&&U.addEventListener("blocked",(h=>l(h.oldVersion,h.newVersion,h))),F.then((h=>{D&&h.addEventListener("close",(()=>D())),a&&h.addEventListener("versionchange",(h=>a(h.oldVersion,h.newVersion,h)))})).catch((()=>{})),F}("firebase-heartbeat-database",1,{upgrade:(h,R)=>{if(0===R)h.createObjectStore(Th)}}).catch((h=>{throw mR.create("idb-open",{originalErrorMessage:h.message})}))),Eh}async function Gh(h,R){try{const l=(await xh()).transaction(Th,"readwrite"),j=l.objectStore(Th);await j.put(R,ph(h)),await l.done}catch(l){if(l instanceof D.k)y.warn(l.message);else{const h=mR.create("idb-set",{originalErrorMessage:null===l||void 0===l?void 0:l.message});y.warn(h.message)}}}function ph(h){return`${h.name}!${h.options.appId}`}class Oh{constructor(h){this.container=h,this._heartbeatsCache=null;const R=this.container.getProvider("app").getImmediate();this.UJ=new vh(R),this._heartbeatsCachePromise=this.UJ.read().then((h=>(this._heartbeatsCache=h,h)))}async triggerHeartbeat(){const h=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),R=yh();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==R&&!this._heartbeatsCache.heartbeats.some((h=>h.date===R)))return this._heartbeatsCache.heartbeats.push({date:R,agent:h}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((h=>{const R=new Date(h.date).valueOf();return Date.now()-R<=2592e6})),this.UJ.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const h=yh(),{heartbeatsToSend:R,unsentEntries:l}=function(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const l=[];let j=h.slice();for(const a of h){const h=l.find((h=>h.agent===a.agent));if(h){if(h.dates.push(a.date),bh(l)>R){h.dates.pop();break}}else if(l.push({agent:a.agent,dates:[a.date]}),bh(l)>R){l.pop();break}j=j.slice(1)}return{heartbeatsToSend:l,unsentEntries:j}}(this._heartbeatsCache.heartbeats),j=(0,D.q)(JSON.stringify({version:2,heartbeats:R}));return this._heartbeatsCache.lastSentHeartbeatDate=h,l.length>0?(this._heartbeatsCache.heartbeats=l,await this.UJ.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.UJ.overwrite(this._heartbeatsCache)),j}}function yh(){return(new Date).toISOString().substring(0,10)}class vh{constructor(h){this.app=h,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,D.U)()&&(0,D.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(h){try{const R=await xh();return await R.transaction(Th).objectStore(Th).get(ph(h))}catch(R){if(R instanceof D.k)y.warn(R.message);else{const h=mR.create("idb-get",{originalErrorMessage:null===R||void 0===R?void 0:R.message});y.warn(h.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(h){var R;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gh(this.app,{lastSentHeartbeatDate:null!==(R=h.lastSentHeartbeatDate)&&void 0!==R?R:l.lastSentHeartbeatDate,heartbeats:h.heartbeats})}}async add(h){var R;if(await this._canUseIndexedDBPromise){const l=await this.read();return Gh(this.app,{lastSentHeartbeatDate:null!==(R=h.lastSentHeartbeatDate)&&void 0!==R?R:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...h.heartbeats]})}}}function bh(h){return(0,D.q)(JSON.stringify({version:2,heartbeats:h})).length}var Ih;Ih="",ah(new j.f("platform-logger",(h=>new G(h)),"PRIVATE")),ah(new j.f("heartbeat",(h=>new Oh(h)),"PRIVATE")),sh(p,O,Ih),sh(p,O,"esm2017"),sh("fire-js","")},12660:(h,R,l)=>{l.d(R,{d:()=>F,f:()=>a});var j=l(12666);class a{constructor(h,R,l){this.name=h,this.instanceFactory=R,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(h){return this.instantiationMode=h,this}setMultipleInstances(h){return this.multipleInstances=h,this}setServiceProps(h){return this.serviceProps=h,this}setInstanceCreatedCallback(h){return this.onInstanceCreated=h,this}}const D="[DEFAULT]";class U{constructor(h,R){this.name=h,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(h){const R=this.normalizeInstanceIdentifier(h);if(!this.instancesDeferred.has(R)){const h=new j.d;if(this.instancesDeferred.set(R,h),this.isInitialized(R)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:R});l&&h.resolve(l)}catch(l){}}return this.instancesDeferred.get(R).promise}getImmediate(h){var R;const l=this.normalizeInstanceIdentifier(null===h||void 0===h?void 0:h.identifier),j=null!==(R=null===h||void 0===h?void 0:h.optional)&&void 0!==R&&R;if(!this.isInitialized(l)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:l})}catch(a){if(j)return null;throw a}}getComponent(){return this.component}setComponent(h){if(h.name!==this.name)throw Error(`Mismatching Component ${h.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=h,this.shouldAutoInitialize()){if(function(h){return"EAGER"===h.instantiationMode}(h))try{this.getOrInitializeService({instanceIdentifier:D})}catch(R){}for(const[h,l]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(h);try{const h=this.getOrInitializeService({instanceIdentifier:j});l.resolve(h)}catch(R){}}}}clearInstance(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(h),this.instancesOptions.delete(h),this.instances.delete(h)}async delete(){const h=Array.from(this.instances.values());await Promise.all([...h.filter((h=>"INTERNAL"in h)).map((h=>h.INTERNAL.delete())),...h.filter((h=>"_delete"in h)).map((h=>h._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(h)}getOptions(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(h)||{}}initialize(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:R={}}=h,l=this.normalizeInstanceIdentifier(h.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:l,options:R});for(const[a,D]of this.instancesDeferred.entries()){l===this.normalizeInstanceIdentifier(a)&&D.resolve(j)}return j}Bu(h,R){var l;const j=this.normalizeInstanceIdentifier(R),a=null!==(l=this.onInitCallbacks.get(j))&&void 0!==l?l:new Set;a.add(h),this.onInitCallbacks.set(j,a);const D=this.instances.get(j);return D&&h(D,j),()=>{a.delete(h)}}invokeOnInitCallbacks(h,R){const l=this.onInitCallbacks.get(R);if(l)for(const a of l)try{a(h,R)}catch(j){}}getOrInitializeService(h){let{instanceIdentifier:R,options:l={}}=h,j=this.instances.get(R);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(a=R,a===D?void 0:a),options:l}),this.instances.set(R,j),this.instancesOptions.set(R,l),this.invokeOnInitCallbacks(j,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,j)}catch(U){}var a;return j||null}normalizeInstanceIdentifier(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?h:D:h}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(h){this.name=h,this.providers=new Map}Aw(h){const R=this.getProvider(h.name);if(R.isComponentSet())throw new Error(`Component ${h.name} has already been registered with ${this.name}`);R.setComponent(h)}addOrOverwriteComponent(h){this.getProvider(h.name).isComponentSet()&&this.providers.delete(h.name),this.Aw(h)}getProvider(h){if(this.providers.has(h))return this.providers.get(h);const R=new U(h,this);return this.providers.set(h,R),R}getProviders(){return Array.from(this.providers.values())}}},12671:(h,R,l)=>{l.d(R,{d:()=>a,f:()=>mh,g:()=>u,i:()=>c});const j=[];var a;!function(h){h[h.DEBUG=0]="DEBUG",h[h.VERBOSE=1]="VERBOSE",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.SILENT=5]="SILENT"}(a||(a={}));const D={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},U=a.INFO,F={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},w=function(h,R){if(R<h.logLevel)return;const l=(new Date).toISOString(),j=F[R];if(!j)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);for(var a=arguments.length,D=new Array(a>2?a-2:0),U=2;U<a;U++)D[U-2]=arguments[U];console[j](`[${l}]  ${h.name}:`,...D)};class mh{constructor(h){this.name=h,this._logLevel=U,this._logHandler=w,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(h){if(!(h in a))throw new TypeError(`Invalid value "${h}" assigned to \`logLevel\``);this._logLevel=h}setLogLevel(h){this._logLevel="string"===typeof h?D[h]:h}get logHandler(){return this._logHandler}set logHandler(h){if("function"!==typeof h)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=h}get userLogHandler(){return this._userLogHandler}set userLogHandler(h){this._userLogHandler=h}debug(){for(var h=arguments.length,R=new Array(h),l=0;l<h;l++)R[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...R),this._logHandler(this,a.DEBUG,...R)}log(){for(var h=arguments.length,R=new Array(h),l=0;l<h;l++)R[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...R),this._logHandler(this,a.VERBOSE,...R)}info(){for(var h=arguments.length,R=new Array(h),l=0;l<h;l++)R[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,a.INFO,...R),this._logHandler(this,a.INFO,...R)}warn(){for(var h=arguments.length,R=new Array(h),l=0;l<h;l++)R[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,a.WARN,...R),this._logHandler(this,a.WARN,...R)}error(){for(var h=arguments.length,R=new Array(h),l=0;l<h;l++)R[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,a.ERROR,...R),this._logHandler(this,a.ERROR,...R)}}function u(h){j.forEach((R=>{R.setLogLevel(h)}))}function c(h,R){for(const l of j){let j=null;R&&R.level&&(j=D[R.level]),l.userLogHandler=null===h?null:function(R,l){for(var D=arguments.length,U=new Array(D>2?D-2:0),F=2;F<D;F++)U[F-2]=arguments[F];const w=U.map((h=>{if(null==h)return null;if("string"===typeof h)return h;if("number"===typeof h||"boolean"===typeof h)return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch(R){return null}})).filter((h=>h)).join(" ");l>=(null!==j&&void 0!==j?j:R.logLevel)&&h({level:a[l].toLowerCase(),message:w,args:U,type:R.name})}}}}}]);