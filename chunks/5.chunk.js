/*! For license information please see mllir8.5.d2b56802.chunk.js.LICENSE.txt */
"use strict";(self.yg1iw12lizp=self.yg1iw12lizp||[]).push([[5],{12368:(L,U,x)=>{x.d(U,{A:()=>h,C:()=>r,G:()=>b,K:()=>J,O:()=>Y,S:()=>V,U:()=>K,X:()=>Q,Y:()=>q,ab:()=>S,c:()=>E,d:()=>P,eb:()=>H,g:()=>D,h:()=>v,ib:()=>t,k:()=>a,mb:()=>X,nb:()=>f,o:()=>F,p:()=>M,s:()=>n,u:()=>l,x:()=>y});const mL=function(L){const U=[];let x=0;for(let mL=0;mL<L.length;mL++){let p=L.charCodeAt(mL);p<128?U[x++]=p:p<2048?(U[x++]=p>>6|192,U[x++]=63&p|128):55296===(64512&p)&&mL+1<L.length&&56320===(64512&L.charCodeAt(mL+1))?(p=65536+((1023&p)<<10)+(1023&L.charCodeAt(++mL)),U[x++]=p>>18|240,U[x++]=p>>12&63|128,U[x++]=p>>6&63|128,U[x++]=63&p|128):(U[x++]=p>>12|224,U[x++]=p>>6&63|128,U[x++]=63&p|128)}return U},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(L,U){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,mL=[];for(let p=0;p<L.length;p+=3){const U=L[p],G=p+1<L.length,F=G?L[p+1]:0,a=p+2<L.length,o=a?L[p+2]:0,A=U>>2,r=(3&U)<<4|F>>4;let h=(15&F)<<2|o>>6,b=63&o;a||(b=64,G||(h=64)),mL.push(x[A],x[r],x[h],x[b])}return mL.join("")},encodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(L):this.encodeByteArray(mL(L),U)},decodeString(L,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(L):function(L){const U=[];let x=0,mL=0;for(;x<L.length;){const p=L[x++];if(p<128)U[mL++]=String.fromCharCode(p);else if(p>191&&p<224){const G=L[x++];U[mL++]=String.fromCharCode((31&p)<<6|63&G)}else if(p>239&&p<365){const G=((7&p)<<18|(63&L[x++])<<12|(63&L[x++])<<6|63&L[x++])-65536;U[mL++]=String.fromCharCode(55296+(G>>10)),U[mL++]=String.fromCharCode(56320+(1023&G))}else{const G=L[x++],F=L[x++];U[mL++]=String.fromCharCode((15&p)<<12|(63&G)<<6|63&F)}}return U.join("")}(this.decodeStringToByteArray(L,U))},decodeStringToByteArray(L,U){this.init_();const x=U?this.charToByteMapWebSafe_:this.charToByteMap_,mL=[];for(let p=0;p<L.length;){const U=x[L.charAt(p++)],F=p<L.length?x[L.charAt(p)]:0;++p;const a=p<L.length?x[L.charAt(p)]:64;++p;const o=p<L.length?x[L.charAt(p)]:64;if(++p,null==U||null==F||null==a||null==o)throw new G;const A=U<<2|F>>4;if(mL.push(A),64!==a){const L=F<<4&240|a>>2;if(mL.push(L),64!==o){const L=a<<6&192|o;mL.push(L)}}}return mL},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(L){return function(L){const U=mL(L);return p.encodeByteArray(U,!0)}(L).replace(/\./g,"")},a=function(L){try{return p.decodeString(L,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};const o=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof x.g)return x.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,A=()=>{try{return o()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(x){return}const U=L&&a(L[1]);return U&&JSON.parse(U)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},r=L=>{var U,x;return null===(x=null===(U=A())||void 0===U?void 0:U.emulatorHosts)||void 0===x?void 0:x[L]},h=()=>{var L;return null===(L=A())||void 0===L?void 0:L.config},b=L=>{var U;return null===(U=A())||void 0===U?void 0:U[`_${L}`]};class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((L,U)=>{this.resolve=L,this.reject=U}))}wrapCallback(L){return(U,x)=>{U?this.reject(U):this.resolve(x),"function"===typeof L&&(this.promise.catch((()=>{})),1===L.length?L(U):L(U,x))}}}function Y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function V(){const L="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof L&&void 0!==L.id}function H(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Q(){const L=Y();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(L){return!1}}function f(){return new Promise(((L,U)=>{try{let x=!0;const mL="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(mL);p.onsuccess=()=>{p.result.close(),x||self.indexedDB.deleteDatabase(mL),L(!0)},p.onupgradeneeded=()=>{x=!1},p.onerror=()=>{var L;U((null===(L=p.error)||void 0===L?void 0:L.message)||"")}}catch(x){U(x)}}))}function v(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class D extends Error{constructor(L,U,x){super(U),this.code=L,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(L,U,x){this.service=L,this.serviceName=U,this.errors=x}create(L){const U=(arguments.length<=1?void 0:arguments[1])||{},x=`${this.service}/${L}`,mL=this.errors[L],p=mL?function(L,U){return L.replace(d,((L,x)=>{const mL=U[x];return null!=mL?String(mL):`<${x}?>`}))}(mL,U):"Error",G=`${this.serviceName}: ${p} (${x}).`;return new D(x,G,U)}}const d=/\{\$([^}]+)}/g;function K(L){for(const U in L)if(Object.prototype.hasOwnProperty.call(L,U))return!1;return!0}function l(L,U){if(L===U)return!0;const x=Object.keys(L),mL=Object.keys(U);for(const p of x){if(!mL.includes(p))return!1;const x=L[p],G=U[p];if(i(x)&&i(G)){if(!l(x,G))return!1}else if(x!==G)return!1}for(const p of mL)if(!x.includes(p))return!1;return!0}function i(L){return null!==L&&"object"===typeof L}function X(L){const U=[];for(const[x,mL]of Object.entries(L))Array.isArray(mL)?mL.forEach((L=>{U.push(encodeURIComponent(x)+"="+encodeURIComponent(L))})):U.push(encodeURIComponent(x)+"="+encodeURIComponent(mL));return U.length?"&"+U.join("&"):""}function t(L){const U={};return L.replace(/^\?/,"").split("&").forEach((L=>{if(L){const[x,mL]=L.split("=");U[decodeURIComponent(x)]=decodeURIComponent(mL)}})),U}function y(L){const U=L.indexOf("?");if(!U)return"";const x=L.indexOf("#",U);return L.substring(U,x>0?x:void 0)}function n(L,U){const x=new N(L,U);return x.subscribe.bind(x)}class N{constructor(L,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then((()=>{L(this)})).catch((L=>{this.error(L)}))}next(L){this.forEachObserver((U=>{U.next(L)}))}error(L){this.forEachObserver((U=>{U.error(L)})),this.close(L)}complete(){this.forEachObserver((L=>{L.complete()})),this.close()}subscribe(L,U,x){let mL;if(void 0===L&&void 0===U&&void 0===x)throw new Error("Missing Observer.");mL=function(L,U){if("object"!==typeof L||null===L)return!1;for(const x of U)if(x in L&&"function"===typeof L[x])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:U,complete:x},void 0===mL.next&&(mL.next=e),void 0===mL.error&&(mL.error=e),void 0===mL.complete&&(mL.complete=e);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?mL.error(this.finalError):mL.complete()}catch(L){}})),this.observers.push(mL),p}unsubscribeOne(L){void 0!==this.observers&&void 0!==this.observers[L]&&(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,L)}sendOne(L,U){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{U(this.observers[L])}catch(x){"undefined"!==typeof console&&console.error&&console.error(x)}}))}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function e(){}const u=1e3,Z=2,g=144e5,z=.5;function M(L){let U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;const x=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:u)*Math.pow(U,L),mL=Math.round(z*x*(Math.random()-.5)*2);return Math.min(g,x+mL)}function J(L){return L&&L._delegate?L._delegate:L}},12354:(L,U,x)=>{x.d(U,{e:()=>G.g,i:()=>hL,m:()=>T,n:()=>xL,r:()=>mU,t:()=>LL,x:()=>aL,A:()=>UL,C:()=>GL,E:()=>pL,F:()=>FL,G:()=>SL,J:()=>EL,H:()=>YL,M:()=>bL,Q:()=>HL,U:()=>VL,X:()=>QL});var mL=x(12363),p=x(12372),G=x(12368);let F,a;const o=new WeakMap,A=new WeakMap,r=new WeakMap,h=new WeakMap,b=new WeakMap;let E={get(L,U,x){if(L instanceof IDBTransaction){if("done"===U)return A.get(L);if("objectStoreNames"===U)return L.objectStoreNames||r.get(L);if("store"===U)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return V(L[U])},set:(L,U,x)=>(L[U]=x,!0),has:(L,U)=>L instanceof IDBTransaction&&("done"===U||"store"===U)||U in L};function Y(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(L)?function(){for(var U=arguments.length,x=new Array(U),mL=0;mL<U;mL++)x[mL]=arguments[mL];return L.apply(H(this),x),V(o.get(this))}:function(){for(var U=arguments.length,x=new Array(U),mL=0;mL<U;mL++)x[mL]=arguments[mL];return V(L.apply(H(this),x))}:function(U){for(var x=arguments.length,mL=new Array(x>1?x-1:0),p=1;p<x;p++)mL[p-1]=arguments[p];const G=L.call(H(this),U,...mL);return r.set(G,U.sort?U.sort():[U]),V(G)}}function S(L){return"function"===typeof L?Y(L):(L instanceof IDBTransaction&&function(L){if(A.has(L))return;const U=new Promise(((U,x)=>{const mL=()=>{L.removeEventListener("complete",p),L.removeEventListener("error",G),L.removeEventListener("abort",G)},p=()=>{U(),mL()},G=()=>{x(L.error||new DOMException("AbortError","AbortError")),mL()};L.addEventListener("complete",p),L.addEventListener("error",G),L.addEventListener("abort",G)}));A.set(L,U)}(L),U=L,(F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((L=>U instanceof L))?new Proxy(L,E):L);var U}function V(L){if(L instanceof IDBRequest)return function(L){const U=new Promise(((U,x)=>{const mL=()=>{L.removeEventListener("success",p),L.removeEventListener("error",G)},p=()=>{U(V(L.result)),mL()},G=()=>{x(L.error),mL()};L.addEventListener("success",p),L.addEventListener("error",G)}));return U.then((U=>{U instanceof IDBCursor&&o.set(U,L)})).catch((()=>{})),b.set(U,L),U}(L);if(h.has(L))return h.get(L);const U=S(L);return U!==L&&(h.set(L,U),b.set(U,L)),U}const H=L=>b.get(L);const Q=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],f=new Map;function v(L,U){if(!(L instanceof IDBDatabase)||U in L||"string"!==typeof U)return;if(f.get(U))return f.get(U);const x=U.replace(/FromIndex$/,""),mL=U!==x,p=q.includes(x);if(!(x in(mL?IDBIndex:IDBObjectStore).prototype)||!p&&!Q.includes(x))return;const G=async function(L){const U=this.transaction(L,p?"readwrite":"readonly");let G=U.store;for(var F=arguments.length,a=new Array(F>1?F-1:0),o=1;o<F;o++)a[o-1]=arguments[o];return mL&&(G=G.index(a.shift())),(await Promise.all([G[x](...a),p&&U.done]))[0]};return f.set(U,G),G}E=(L=>({...L,get:(U,x,mL)=>v(U,x)||L.get(U,x,mL),has:(U,x)=>!!v(U,x)||L.has(U,x)}))(E);class D{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map((L=>{if(function(L){const U=L.getComponent();return"VERSION"===(null===U||void 0===U?void 0:U.type)}(L)){const U=L.getImmediate();return`${U.library}/${U.version}`}return null})).filter((L=>L)).join(" ")}}const P="@firebase/app",d="0.9.13",K=new p.e("@firebase/app"),l="@firebase/app-compat",i="@firebase/analytics-compat",X="@firebase/analytics",t="@firebase/app-check-compat",y="@firebase/app-check",n="@firebase/auth",N="@firebase/auth-compat",e="@firebase/database",u="@firebase/database-compat",Z="@firebase/functions",g="@firebase/functions-compat",z="@firebase/installations",M="@firebase/installations-compat",J="@firebase/messaging",j="@firebase/messaging-compat",R="@firebase/performance",c="@firebase/performance-compat",W="@firebase/remote-config",I="@firebase/remote-config-compat",w="@firebase/storage",B="@firebase/storage-compat",s="@firebase/firestore",C="@firebase/firestore-compat",k="firebase",T="[DEFAULT]",O={[P]:"fire-core",[l]:"fire-core-compat",[X]:"fire-analytics",[i]:"fire-analytics-compat",[y]:"fire-app-check",[t]:"fire-app-check-compat",[n]:"fire-auth",[N]:"fire-auth-compat",[e]:"fire-rtdb",[u]:"fire-rtdb-compat",[Z]:"fire-fn",[g]:"fire-fn-compat",[z]:"fire-iid",[M]:"fire-iid-compat",[J]:"fire-fcm",[j]:"fire-fcm-compat",[R]:"fire-perf",[c]:"fire-perf-compat",[W]:"fire-rc",[I]:"fire-rc-compat",[w]:"fire-gcs",[B]:"fire-gcs-compat",[s]:"fire-fst",[C]:"fire-fst-compat","fire-js":"fire-js",[k]:"fire-js-all"},LL=new Map,UL=new Map;function xL(L,U){try{L.container.Io(U)}catch(x){K.debug(`Component ${U.name} failed to register with FirebaseApp ${L.name}`,x)}}function mU(L,U){L.container.addOrOverwriteComponent(U)}function pL(L){const U=L.name;if(UL.has(U))return K.debug(`There were multiple attempts to register component ${U}.`),!1;UL.set(U,L);for(const x of LL.values())xL(x,L);return!0}function GL(L,U){const x=L.container.getProvider("heartbeat").getImmediate({optional:!0});return x&&x.triggerHeartbeat(),L.container.getProvider(U)}function FL(L,U){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;GL(L,U).clearInstance(x)}function aL(){UL.clear()}const oL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},AL=new G.d("app","Firebase",oL);class rL{constructor(L,U,x){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=x,this.container.Io(new mL.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw AL.create("app-deleted",{appName:this._name})}}const hL="9.23.0";function bL(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=L;if("object"!==typeof U){U={name:U}}const p=Object.assign({name:T,automaticDataCollectionEnabled:!1},U),F=p.name;if("string"!==typeof F||!F)throw AL.create("bad-app-name",{appName:String(F)});if(x||(x=(0,G.A)()),!x)throw AL.create("no-options");const a=LL.get(F);if(a){if((0,G.u)(x,a.options)&&(0,G.u)(p,a.config))return a;throw AL.create("duplicate-app",{appName:F})}const o=new mL.b(F);for(const mL of UL.values())o.Io(mL);const A=new rL(x,p,o);return LL.set(F,A),A}function EL(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;const U=LL.get(L);if(!U&&L===T&&(0,G.A)())return bL();if(!U)throw AL.create("no-app",{appName:L});return U}function YL(){return Array.from(LL.values())}async function SL(L){const U=L.name;LL.has(U)&&(LL.delete(U),await Promise.all(L.container.getProviders().map((L=>L.delete()))),L.isDeleted=!0)}function VL(L,U,x){var p;let G=null!==(p=O[L])&&void 0!==p?p:L;x&&(G+=`-${x}`);const F=G.match(/\s|\//),a=U.match(/\s|\//);if(F||a){const L=[`Unable to register library "${G}" with version "${U}":`];return F&&L.push(`library name "${G}" contains illegal characters (whitespace or "/")`),F&&a&&L.push("and"),a&&L.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void K.warn(L.join(" "))}pL(new mL.f(`${G}-version`,(()=>({library:G,version:U})),"VERSION"))}function HL(L,U){if(null!==L&&"function"!==typeof L)throw AL.create("invalid-log-argument");(0,p.l)(L,U)}function QL(L){(0,p.h)(L)}const qL="firebase-heartbeat-store";let fL=null;function vL(){return fL||(fL=function(L,U){let{blocked:x,upgrade:mL,blocking:p,terminated:G}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const F=indexedDB.open(L,U),a=V(F);return mL&&F.addEventListener("upgradeneeded",(L=>{mL(V(F.result),L.oldVersion,L.newVersion,V(F.transaction),L)})),x&&F.addEventListener("blocked",(L=>x(L.oldVersion,L.newVersion,L))),a.then((L=>{G&&L.addEventListener("close",(()=>G())),p&&L.addEventListener("versionchange",(L=>p(L.oldVersion,L.newVersion,L)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(L,U)=>{if(0===U)L.createObjectStore(qL)}}).catch((L=>{throw AL.create("idb-open",{originalErrorMessage:L.message})}))),fL}async function DL(L,U){try{const x=(await vL()).transaction(qL,"readwrite"),mL=x.objectStore(qL);await mL.put(U,PL(L)),await x.done}catch(x){if(x instanceof G.g)K.warn(x.message);else{const L=AL.create("idb-set",{originalErrorMessage:null===x||void 0===x?void 0:x.message});K.warn(L.message)}}}function PL(L){return`${L.name}!${L.options.appId}`}class dL{constructor(L){this.container=L,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this.Mh=new lL(U),this._heartbeatsCachePromise=this.Mh.read().then((L=>(this._heartbeatsCache=L,L)))}async triggerHeartbeat(){const L=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),U=KL();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==U&&!this._heartbeatsCache.heartbeats.some((L=>L.date===U)))return this._heartbeatsCache.heartbeats.push({date:U,agent:L}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((L=>{const U=new Date(L.date).valueOf();return Date.now()-U<=2592e6})),this.Mh.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const L=KL(),{heartbeatsToSend:U,unsentEntries:x}=function(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const x=[];let mL=L.slice();for(const p of L){const L=x.find((L=>L.agent===p.agent));if(L){if(L.dates.push(p.date),iL(x)>U){L.dates.pop();break}}else if(x.push({agent:p.agent,dates:[p.date]}),iL(x)>U){x.pop();break}mL=mL.slice(1)}return{heartbeatsToSend:x,unsentEntries:mL}}(this._heartbeatsCache.heartbeats),mL=(0,G.o)(JSON.stringify({version:2,heartbeats:U}));return this._heartbeatsCache.lastSentHeartbeatDate=L,x.length>0?(this._heartbeatsCache.heartbeats=x,await this.Mh.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Mh.overwrite(this._heartbeatsCache)),mL}}function KL(){return(new Date).toISOString().substring(0,10)}class lL{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,G.Y)()&&(0,G.nb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(L){try{const U=await vL();return await U.transaction(qL).objectStore(qL).get(PL(L))}catch(U){if(U instanceof G.g)K.warn(U.message);else{const L=AL.create("idb-get",{originalErrorMessage:null===U||void 0===U?void 0:U.message});K.warn(L.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(L){var U;if(await this._canUseIndexedDBPromise){const x=await this.read();return DL(this.app,{lastSentHeartbeatDate:null!==(U=L.lastSentHeartbeatDate)&&void 0!==U?U:x.lastSentHeartbeatDate,heartbeats:L.heartbeats})}}async add(L){var U;if(await this._canUseIndexedDBPromise){const x=await this.read();return DL(this.app,{lastSentHeartbeatDate:null!==(U=L.lastSentHeartbeatDate)&&void 0!==U?U:x.lastSentHeartbeatDate,heartbeats:[...x.heartbeats,...L.heartbeats]})}}}function iL(L){return(0,G.o)(JSON.stringify({version:2,heartbeats:L})).length}var XL;XL="",pL(new mL.f("platform-logger",(L=>new D(L)),"PRIVATE")),pL(new mL.f("heartbeat",(L=>new dL(L)),"PRIVATE")),VL(P,d,XL),VL(P,d,"esm2017"),VL("fire-js","")},12363:(L,U,x)=>{x.d(U,{b:()=>a,f:()=>p});var mL=x(12368);class p{constructor(L,U,x){this.name=L,this.instanceFactory=U,this.type=x,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const G="[DEFAULT]";class F{constructor(L,U){this.name=L,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const U=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(U)){const L=new mL.c;if(this.instancesDeferred.set(U,L),this.isInitialized(U)||this.shouldAutoInitialize())try{const x=this.getOrInitializeService({instanceIdentifier:U});x&&L.resolve(x)}catch(x){}}return this.instancesDeferred.get(U).promise}getImmediate(L){var U;const x=this.normalizeInstanceIdentifier(null===L||void 0===L?void 0:L.identifier),mL=null!==(U=null===L||void 0===L?void 0:L.optional)&&void 0!==U&&U;if(!this.isInitialized(x)&&!this.shouldAutoInitialize()){if(mL)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:x})}catch(p){if(mL)return null;throw p}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function(L){return"EAGER"===L.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:G})}catch(U){}for(const[L,x]of this.instancesDeferred.entries()){const mL=this.normalizeInstanceIdentifier(L);try{const L=this.getOrInitializeService({instanceIdentifier:mL});x.resolve(L)}catch(U){}}}}clearInstance(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}async delete(){const L=Array.from(this.instances.values());await Promise.all([...L.filter((L=>"INTERNAL"in L)).map((L=>L.INTERNAL.delete())),...L.filter((L=>"_delete"in L)).map((L=>L._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instances.has(L)}getOptions(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.instancesOptions.get(L)||{}}initialize(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:U={}}=L,x=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(x))throw Error(`${this.name}(${x}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mL=this.getOrInitializeService({instanceIdentifier:x,options:U});for(const[p,G]of this.instancesDeferred.entries()){x===this.normalizeInstanceIdentifier(p)&&G.resolve(mL)}return mL}ah(L,U){var x;const mL=this.normalizeInstanceIdentifier(U),p=null!==(x=this.onInitCallbacks.get(mL))&&void 0!==x?x:new Set;p.add(L),this.onInitCallbacks.set(mL,p);const G=this.instances.get(mL);return G&&L(G,mL),()=>{p.delete(L)}}invokeOnInitCallbacks(L,U){const x=this.onInitCallbacks.get(U);if(x)for(const p of x)try{p(L,U)}catch(mL){}}getOrInitializeService(L){let{instanceIdentifier:U,options:x={}}=L,mL=this.instances.get(U);if(!mL&&this.component&&(mL=this.component.instanceFactory(this.container,{instanceIdentifier:(p=U,p===G?void 0:p),options:x}),this.instances.set(U,mL),this.instancesOptions.set(U,x),this.invokeOnInitCallbacks(mL,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,mL)}catch(F){}var p;return mL||null}normalizeInstanceIdentifier(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return this.component?this.component.multipleInstances?L:G:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(L){this.name=L,this.providers=new Map}Io(L){const U=this.getProvider(L.name);if(U.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);U.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.Io(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const U=new F(L,this);return this.providers.set(L,U),U}getProviders(){return Array.from(this.providers.values())}}},12372:(L,U,x)=>{x.d(U,{b:()=>p,e:()=>A,h:()=>r,l:()=>h});const mL=[];var p;!function(L){L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT"}(p||(p={}));const G={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},F=p.INFO,a={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},o=function(L,U){if(U<L.logLevel)return;const x=(new Date).toISOString(),mL=a[U];if(!mL)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);for(var p=arguments.length,G=new Array(p>2?p-2:0),F=2;F<p;F++)G[F-2]=arguments[F];console[mL](`[${x}]  ${L.name}:`,...G)};class A{constructor(L){this.name=L,this._logLevel=F,this._logHandler=o,this._userLogHandler=null,mL.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in p))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"===typeof L?G[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!==typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(){for(var L=arguments.length,U=new Array(L),x=0;x<L;x++)U[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...U),this._logHandler(this,p.DEBUG,...U)}log(){for(var L=arguments.length,U=new Array(L),x=0;x<L;x++)U[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...U),this._logHandler(this,p.VERBOSE,...U)}info(){for(var L=arguments.length,U=new Array(L),x=0;x<L;x++)U[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,p.INFO,...U),this._logHandler(this,p.INFO,...U)}warn(){for(var L=arguments.length,U=new Array(L),x=0;x<L;x++)U[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,p.WARN,...U),this._logHandler(this,p.WARN,...U)}error(){for(var L=arguments.length,U=new Array(L),x=0;x<L;x++)U[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,p.ERROR,...U),this._logHandler(this,p.ERROR,...U)}}function r(L){mL.forEach((U=>{U.setLogLevel(L)}))}function h(L,U){for(const x of mL){let mL=null;U&&U.level&&(mL=G[U.level]),x.userLogHandler=null===L?null:function(U,x){for(var G=arguments.length,F=new Array(G>2?G-2:0),a=2;a<G;a++)F[a-2]=arguments[a];const o=F.map((L=>{if(null==L)return null;if("string"===typeof L)return L;if("number"===typeof L||"boolean"===typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch(U){return null}})).filter((L=>L)).join(" ");x>=(null!==mL&&void 0!==mL?mL:U.logLevel)&&L({level:p[x].toLowerCase(),message:o,args:F,type:U.name})}}}}}]);