"use strict";(self["9jl1vn4ei5r"]=self["9jl1vn4ei5r"]||[]).push([[13],{11848:(M,p,b)=>{b.d(p,{e:()=>Q});let Q=!1},11809:(M,p,b)=>{b.d(p,{d:()=>o});var Q=b(11784),q=b(11788),B=b(11624),k=b(11796),u=b(11664),T=b(11764),O=(b(11671),b(11814));class H{get wrapU(){return this._wrapU}set wrapU(M){this._wrapU=M}get wrapV(){return this._wrapV}set wrapV(M){this._wrapV=M}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(M){this._texture&&(this._texture.isCube=M)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(M){this._texture&&(this._texture.is3D=M)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(M){this._texture&&(this._texture.is2DArray=M)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(M){return void 0!==(null===M||void 0===M?void 0:M.shareDepth)}constructor(M){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=O.c.Zero(),this._cachedBaseSize=O.c.Zero(),this._initialSamplingMode=2,this._texture=H._IsRenderTargetWrapper(M)?M.texture:M,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(M){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(M,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var F=b(11823);class o extends H{set Hb(M){this._hasAlpha!==M&&(this._hasAlpha=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get Hb(){return this._hasAlpha}set getAlphaFromRGB(M){this._getAlphaFromRGB!==M&&(this._getAlphaFromRGB=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(M){this._coordinatesIndex!==M&&(this._coordinatesIndex=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(M){this._coordinatesMode!==M&&(this._coordinatesMode=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(M){this._wrapU=M}get wrapV(){return this._wrapV}set wrapV(M){this._wrapV=M}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(M){this._texture?this._texture.isCube=M:this._isCube=M}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(M){this._texture&&(this._texture.is3D=M)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(M){this._texture&&(this._texture.is2DArray=M)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(M){var p;if(this._texture){if(this._texture._gammaSpace===M)return;this._texture._gammaSpace=M}else{if(this._gammaSpace===M)return;this._gammaSpace=M}null===(p=this.RM())||void 0===p||p.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(M){var p;M!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=M),null===(p=this.RM())||void 0===p||p.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(M){this._texture&&(this._texture._lodGenerationOffset=M)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(M){this._texture&&(this._texture._lodGenerationScale=M)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(M){this._texture&&(this._texture._linearSpecularLOD=M)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(M){this._texture&&(this._texture._irradianceTexture=M)}get uid(){return this._uid||(this._uid=(0,T.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(M){this._onDisposeObserver&&this.bb.remove(this._onDisposeObserver),this._onDisposeObserver=this.bb.add(M)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=o.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.bb=new B.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,M?o._IsScene(M)?this._scene=M:this._engine=M:this._scene=u.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=p,this._uid=null}RM(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return k.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return k.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(M){}get canRescale(){return!1}_getFromCache(M,p,b,Q,q,B){const k=this._getEngine();if(!k)return null;const u=k._getUseSRGBBuffer(!!q,p),T=k.getLoadedTexturesCache();for(let O=0;O<T.length;O++){const k=T[O];if((void 0===q||u===k._useSRGBBuffer)&&(void 0===Q||Q===k.invertY)&&k.url===M&&k.generateMipMaps===!p&&(!b||b===k.samplingMode)&&(void 0===B||B===k.isCube))return k.incrementReferences(),k}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const M=this.RM();M&&M.markAllMaterialsAsDirty(1)}readPixels(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Q=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const O=this._getEngine();if(!O)return null;const H=this.getSize();let F=H.width,o=H.height;0!==p&&(F/=Math.pow(2,p),o/=Math.pow(2,p),F=Math.round(F),o=Math.round(o)),u=Math.min(F,u),T=Math.min(o,T);try{return this._texture.isCube?O._readTexturePixels(this._texture,u,T,M,p,b,Q,q,B,k):O._readTexturePixels(this._texture,u,T,-1,p,b,Q,q,B,k)}catch(W){return null}}_readPixelsSync(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Q=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const B=this.getSize();let k=B.width,u=B.height;const T=this._getEngine();if(!T)return null;0!=p&&(k/=Math.pow(2,p),u/=Math.pow(2,p),k=Math.round(k),u=Math.round(u));try{return this._texture.isCube?T._readTexturePixelsSync(this._texture,k,u,M,p,b,Q,q):T._readTexturePixelsSync(this._texture,k,u,-1,p,b,Q,q)}catch(O){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const M=this._scene.textures.indexOf(this);if(M>=0&&this._scene.textures.splice(M,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const M=this._parentContainer.textures.indexOf(this);M>-1&&this._parentContainer.textures.splice(M,1),this._parentContainer=null}}this.bb.notifyObservers(this),this.bb.clear(),this.metadata=null,super.dispose()}serialize(){let M=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!M)return null;const p=F.b.Serialize(this);return F.b.AppendSerializedAnimations(this,p),p}static WhenAllReady(M,p){let b=M.length;if(0!==b)for(let Q=0;Q<M.length;Q++){const q=M[Q];if(q.isReady())0===--b&&p();else{const M=q.onLoadObservable;M?M.addOnce((()=>{0===--b&&p()})):0===--b&&p()}}else p()}static _IsScene(M){return"Scene"===M.getClassName()}}o.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,Q.c)([(0,q.R)()],o.prototype,"uniqueId",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"name",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"displayName",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"metadata",void 0),(0,Q.c)([(0,q.R)("Hb")],o.prototype,"_hasAlpha",void 0),(0,Q.c)([(0,q.R)("getAlphaFromRGB")],o.prototype,"_getAlphaFromRGB",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"level",void 0),(0,Q.c)([(0,q.R)("coordinatesIndex")],o.prototype,"_coordinatesIndex",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"optimizeUVAllocation",void 0),(0,Q.c)([(0,q.R)("coordinatesMode")],o.prototype,"_coordinatesMode",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"wrapU",null),(0,Q.c)([(0,q.R)()],o.prototype,"wrapV",null),(0,Q.c)([(0,q.R)()],o.prototype,"wrapR",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"anisotropicFilteringLevel",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"isCube",null),(0,Q.c)([(0,q.R)()],o.prototype,"is3D",null),(0,Q.c)([(0,q.R)()],o.prototype,"is2DArray",null),(0,Q.c)([(0,q.R)()],o.prototype,"gammaSpace",null),(0,Q.c)([(0,q.R)()],o.prototype,"invertZ",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"lodLevelInAlpha",void 0),(0,Q.c)([(0,q.R)()],o.prototype,"lodGenerationOffset",null),(0,Q.c)([(0,q.R)()],o.prototype,"lodGenerationScale",null),(0,Q.c)([(0,q.R)()],o.prototype,"linearSpecularLOD",null),(0,Q.c)([(0,q.J)()],o.prototype,"irradianceTexture",null),(0,Q.c)([(0,q.R)()],o.prototype,"isRenderTarget",void 0)},11780:(M,p,b)=>{b.d(p,{b:()=>a});var Q=b(11784),q=b(11788),B=b(11624),k=b(11796),u=b(11809),T=b(11757),O=b(11651),H=b(11693),F=b(11751),o=b(11842),W=b(11678);function i(M,p){let b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const Q=p.width,q=p.height;if(M instanceof Float32Array){let p=M.byteLength/M.BYTES_PER_ELEMENT;const b=new Uint8Array(p);for(;--p>=0;){let Q=M[p];Q<0?Q=0:Q>1&&(Q=1),b[p]=255*Q}M=b}const B=document.createElement("canvas");B.width=Q,B.height=q;const k=B.getContext("2d");if(!k)return null;const u=k.createImageData(Q,q);if(u.data.set(M),k.putImageData(u,0,0),b){const M=document.createElement("canvas");M.width=Q,M.height=q;const p=M.getContext("2d");return p?(p.translate(0,q),p.scale(1,-1),p.drawImage(B,0,0),M.toDataURL("image/png")):null}return B.toDataURL("image/png")}function A(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Q=M.getInternalTexture();if(!Q)return null;const q=M._readPixelsSync(p,b);return q?i(q,M.getSize(),Q.invertY):null}async function j(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Q=M.getInternalTexture();if(!Q)return null;const q=await M.readPixels(p,b);return q?i(q,M.getSize(),Q.invertY):null}var K=b(11848),D=b(11823);class a extends u.d{static _CreateVideoTexture(M,p,b){arguments.length>5&&void 0!==arguments[5]||a.TRILINEAR_SAMPLINGMODE;throw(0,O.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(M){this._isBlocking=M}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(M,p,b,Q){let q,k=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TRILINEAR_SAMPLINGMODE,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F=arguments.length>8&&void 0!==arguments[8]&&arguments[8],o=arguments.length>9?arguments[9]:void 0,W=arguments.length>10?arguments[10]:void 0,i=arguments.length>11?arguments[11]:void 0,A=arguments.length>12?arguments[12]:void 0,j=arguments.length>13?arguments[13]:void 0;super(p),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new B.b,this._isBlocking=!0,this.name=M||"",this.url=M;let D=!1,s=null,S=!0;"object"===typeof b&&null!==b?(q=b.noMipmap??!1,Q=b.invertY??!K.e,k=b.samplingMode??a.TRILINEAR_SAMPLINGMODE,u=b.C??null,T=b.onError??null,O=b.buffer??null,F=b.deleteBuffer??!1,o=b.format,W=b.mimeType,i=b.loaderOptions,A=b.creationFlags,D=b.useSRGBBuffer??!1,s=b.internalTexture??null,S=b.gammaSpace??S,j=b.forcedExtension??j):q=!!b,this._gammaSpace=S,this._noMipmap=q,this._invertY=void 0===Q?!K.e:Q,this._initialSamplingMode=k,this._buffer=O,this._deleteBuffer=F,this._mimeType=W,this._loaderOptions=i,this._creationFlags=A,this._useSRGBBuffer=D,this._forcedExtension=j,void 0!==o&&(this._format=o);const f=this.RM(),R=this._getEngine();if(!R)return;R.onBeforeTextureInitObservable.notifyObservers(this);const y=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),u&&u(),!this.isBlocking&&f&&f.resetCachedMaterial()},x=(M,p)=>{this._loadingError=!0,this._errorObject={message:M,exception:p},T&&T(M,p),a.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!s)return this._delayedOnLoad=y,void(this._delayedOnError=x);if(this._texture=s??this._getFromCache(this.url,q,k,this._invertY,D,this.isCube),this._texture)if(this._texture.isReady)H.e.SetImmediate((()=>y()));else{const M=this._texture.onLoadedObservable.add(y);this._texture.onErrorObservable.add((p=>{var b;x(p.message,p.exception),null===(b=this._texture)||void 0===b||b.onLoadedObservable.remove(M)}))}else if(f&&f.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=y,this._delayedOnError=x;else{try{this._texture=R.createTexture(this.url,q,this._invertY,f,k,y,x,this._buffer,void 0,this._format,this._forcedExtension,W,i,A,D)}catch(P){throw x("error loading",P),P}F&&(this._buffer=null)}}updateURL(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2?arguments[2]:void 0,Q=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.RM().markAllMaterialsAsDirty(1,(M=>M.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=M),this.url=M,this._buffer=p,this._forcedExtension=Q,this.delayLoadState=4,b&&(this._delayedOnLoad=b),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const M=this.RM();M&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?H.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=M.getEngine().createTexture(this.url,this._noMipmap,this._invertY,M,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(M,p,b,Q){M*=this._cachedUScale,p*=this._cachedVScale,M-=this.uRotationCenter*this._cachedUScale,p-=this.vRotationCenter*this._cachedVScale,b-=this.wRotationCenter,k.Ap.TransformCoordinatesFromFloatsToRef(M,p,b,this._rowGenerationMatrix,Q),Q.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,Q.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,Q.z+=this.wRotationCenter}getTextureMatrix(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*M===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*M,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=k.Matrix.Zero(),this._rowGenerationMatrix=new k.Matrix,this._t0=k.Ap.Zero(),this._t1=k.Ap.Zero(),this._t2=k.Ap.Zero()),k.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(k.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,k.TmpVectors.Matrix[0]),k.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,k.TmpVectors.Matrix[1]),k.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,k.TmpVectors.Matrix[2]),k.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,k.TmpVectors.Matrix[3]),k.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.TF(this._t0),this._t2.TF(this._t0),k.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const p=this.RM();if(!p)return this._cachedTextureMatrix;const b=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&b!==this._cachedIdentity3x2&&p.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const M=this.RM();if(!M)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==a.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===M.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=k.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=k.Matrix.Zero());const p=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case a.PLANAR_MODE:k.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case a.PROJECTION_MODE:{k.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const p=M.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=p.updateFlag,p.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:k.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return p&&M.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const M={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,C:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return D.b.Clone((()=>new a(this._texture?this._texture.url:null,this.RM(),M)),this)}serialize(){var M;const p=this.name;a.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const b=super.serialize(a._SerializeInternalTextureUniqueId);if(!b)return null;if(a.SerializeBuffers||a.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))b.base64String=this._buffer,b.name=b.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const M=this.mimeType||"image/png";b.base64String=`data:${M};base64,${(0,W.i)(this._buffer)}`}else(a.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(b.base64String=!this._engine||this._engine._features.supportSyncTextureRead?A(this):j(this));var Q;(b.invertY=this._invertY,b.samplingMode=this.samplingMode,b._creationFlags=this._creationFlags,b._useSRGBBuffer=this._useSRGBBuffer,a._SerializeInternalTextureUniqueId)&&(b.internalTextureUniqueId=null===(Q=this._texture)||void 0===Q?void 0:Q.uniqueId);return b.internalTextureLabel=null===(M=this._texture)||void 0===M?void 0:M.label,b.noMipmap=this._noMipmap,this.name=p,b}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(M,p,b){if(M.customType){const Q=F.c.Instantiate(M.customType).Parse(M,p,b);return M.samplingMode&&Q.updateSamplingMode&&Q._samplingMode&&Q._samplingMode!==M.samplingMode&&Q.updateSamplingMode(M.samplingMode),Q}if(M.isCube&&!M.isRenderTarget)return a._CubeTextureParser(M,p,b);const Q=void 0!==M.internalTextureUniqueId;if(!M.name&&!M.isRenderTarget&&!Q)return null;let q;if(Q){const b=p.getEngine().getLoadedTexturesCache();for(const p of b)if(p.uniqueId===M.internalTextureUniqueId){q=p;break}}const B=p=>{if(p&&p._texture&&(p._texture._cachedWrapU=null,p._texture._cachedWrapV=null,p._texture._cachedWrapR=null),M.samplingMode){const b=M.samplingMode;p&&p.samplingMode!==b&&p.updateSamplingMode(b)}if(p&&M.animations)for(let b=0;b<M.animations.length;b++){const Q=M.animations[b],q=(0,T.c)("BABYLON.Animation");q&&p.animations.push(q.Parse(Q))}p&&p._texture&&(Q&&!q&&p._texture._setUniqueId(M.internalTextureUniqueId),p._texture.label=M.internalTextureLabel)};return D.b.Parse((()=>{let Q=!0;if(M.noMipmap&&(Q=!1),M.mirrorPlane){const b=a._CreateMirror(M.name,M.renderTargetSize,p,Q);return b._waitingRenderList=M.renderList,b.mirrorPlane=o.e.sp(M.mirrorPlane),B(b),b}if(M.isRenderTarget){let b=null;if(M.isCube){if(p.reflectionProbes)for(let Q=0;Q<p.reflectionProbes.length;Q++){const b=p.reflectionProbes[Q];if(b.name===M.name)return b.cubeTexture}}else b=a._CreateRenderTargetTexture(M.name,M.renderTargetSize,p,Q,M._creationFlags??0),b._waitingRenderList=M.renderList;return B(b),b}if(M.isVideo){const q=a._CreateVideoTexture(b+(M.url||M.name),b+(M.src||M.url),p,Q,M.invertY,M.samplingMode,M.settings||{});return B(q),q}{let k;if(M.base64String&&!q)k=a.CreateFromBase64String(M.base64String,M.base64String,p,!Q,M.invertY,M.samplingMode,(()=>{B(k)}),M._creationFlags??0,M._useSRGBBuffer??!1),k.name=M.name;else{let u;u=M.name&&(M.name.indexOf("://")>0||M.name.startsWith("data:"))?M.name:b+M.name,M.url&&(M.url.startsWith("data:")||a.UseSerializedUrlIfAny)&&(u=M.url);const T={noMipmap:!Q,invertY:M.invertY,samplingMode:M.samplingMode,C:()=>{B(k)},internalTexture:q};k=new a(u,p,T)}return k}}),M,p)}static CreateFromBase64String(M,p,b,Q,q){let B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.TRILINEAR_SAMPLINGMODE;return new a("data:"+p,b,Q,q,B,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,M,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(M,p,b){let Q=arguments.length>3&&void 0!==arguments[3]&&arguments[3],q=arguments.length>4?arguments[4]:void 0,B=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a.TRILINEAR_SAMPLINGMODE,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,O=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,H=arguments.length>10?arguments[10]:void 0,F=arguments.length>11?arguments[11]:void 0;return"data:"!==M.substring(0,5)&&(M="data:"+M),new a(M,b,q,B,k,u,T,p,Q,O,void 0,void 0,H,F)}}a.SerializeBuffers=!0,a.ForceSerializeBuffers=!1,a.OnTextureLoadErrorObservable=new B.b,a._SerializeInternalTextureUniqueId=!1,a._CubeTextureParser=(M,p,b)=>{throw(0,O.c)("CubeTexture")},a._CreateMirror=(M,p,b,Q)=>{throw(0,O.c)("MirrorTexture")},a._CreateRenderTargetTexture=(M,p,b,Q,q)=>{throw(0,O.c)("RenderTargetTexture")},a.NEAREST_SAMPLINGMODE=1,a.NEAREST_NEAREST_MIPLINEAR=8,a.BILINEAR_SAMPLINGMODE=2,a.LINEAR_LINEAR_MIPNEAREST=11,a.TRILINEAR_SAMPLINGMODE=3,a.LINEAR_LINEAR_MIPLINEAR=3,a.NEAREST_NEAREST_MIPNEAREST=4,a.NEAREST_LINEAR_MIPNEAREST=5,a.NEAREST_LINEAR_MIPLINEAR=6,a.NEAREST_LINEAR=7,a.NEAREST_NEAREST=1,a.LINEAR_NEAREST_MIPNEAREST=9,a.LINEAR_NEAREST_MIPLINEAR=10,a.LINEAR_LINEAR=2,a.LINEAR_NEAREST=12,a.EXPLICIT_MODE=0,a.SPHERICAL_MODE=1,a.PLANAR_MODE=2,a.CUBIC_MODE=3,a.PROJECTION_MODE=4,a.SKYBOX_MODE=5,a.INVCUBIC_MODE=6,a.EQUIRECTANGULAR_MODE=7,a.FIXED_EQUIRECTANGULAR_MODE=8,a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,a.CLAMP_ADDRESSMODE=0,a.WRAP_ADDRESSMODE=1,a.MIRROR_ADDRESSMODE=2,a.UseSerializedUrlIfAny=!1,(0,Q.c)([(0,q.R)()],a.prototype,"url",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"uOffset",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"vOffset",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"uScale",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"vScale",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"uAng",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"vAng",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"wAng",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"uRotationCenter",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"vRotationCenter",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"wRotationCenter",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"homogeneousRotationInUVTransform",void 0),(0,Q.c)([(0,q.R)()],a.prototype,"isBlocking",null),(0,T.g)("BABYLON.Texture",a),D.b._TextureParser=a.Parse},11842:(M,p,b)=>{b.d(p,{e:()=>q});var Q=b(11796);class q{constructor(M,p,b,q){this.normal=new Q.Ap(M,p,b),this.d=q}Ob(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let M=this.normal.getHashCode();return M=397*M^this.d,M}normalize(){const M=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let p=0;return 0!==M&&(p=1/M),this.normal.x*=p,this.normal.y*=p,this.normal.z*=p,this.d*=p,this}transform(M){const p=q._TmpMatrix;M.invertToRef(p);const b=p.m,Q=this.normal.x,B=this.normal.y,k=this.normal.z,u=this.d,T=Q*b[0]+B*b[1]+k*b[2]+u*b[3],O=Q*b[4]+B*b[5]+k*b[6]+u*b[7],H=Q*b[8]+B*b[9]+k*b[10]+u*b[11],F=Q*b[12]+B*b[13]+k*b[14]+u*b[15];return new q(T,O,H,F)}dotCoordinate(M){return this.normal.x*M.x+this.normal.y*M.y+this.normal.z*M.z+this.d}copyFromPoints(M,p,b){const Q=p.x-M.x,q=p.y-M.y,B=p.z-M.z,k=b.x-M.x,u=b.y-M.y,T=b.z-M.z,O=q*T-B*u,H=B*k-Q*T,F=Q*u-q*k,o=Math.sqrt(O*O+H*H+F*F);let W;return W=0!==o?1/o:0,this.normal.x=O*W,this.normal.y=H*W,this.normal.z=F*W,this.d=-(this.normal.x*M.x+this.normal.y*M.y+this.normal.z*M.z),this}isFrontFacingTo(M,p){return Q.Ap.Dot(this.normal,M)<=p}signedDistanceTo(M){return Q.Ap.Dot(M,this.normal)+this.d}static sp(M){return new q(M[0],M[1],M[2],M[3])}static FromPoints(M,p,b){const Q=new q(0,0,0,0);return Q.copyFromPoints(M,p,b),Q}static FromPositionAndNormal(M,p){const b=new q(0,0,0,0);return this.FromPositionAndNormalToRef(M,p,b)}static FromPositionAndNormalToRef(M,p,b){return b.normal.B(p),b.normal.normalize(),b.d=-M.dot(b.normal),b}static SignedDistanceToPlaneFromPositionAndNormal(M,p,b){const q=-(p.x*M.x+p.y*M.y+p.z*M.z);return Q.Ap.Dot(b,p)+q}}q._TmpMatrix=Q.Matrix.Identity()},11814:(M,p,b)=>{b.d(p,{c:()=>Q});class Q{constructor(M,p){this.width=M,this.height=p}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let M=0|this.width;return M=397*M^this.height,M}B(M){this.width=M.width,this.height=M.height}Db(M,p){return this.width=M,this.height=p,this}set(M,p){return this.Db(M,p)}multiplyByFloats(M,p){return new Q(this.width*M,this.height*p)}clone(){return new Q(this.width,this.height)}equals(M){return!!M&&(this.width===M.width&&this.height===M.height)}get surface(){return this.width*this.height}static Zero(){return new Q(0,0)}add(M){return new Q(this.width+M.width,this.height+M.height)}jp(M){return new Q(this.width-M.width,this.height-M.height)}scale(M){return new Q(this.width*M,this.height*M)}static Lerp(M,p,b){const q=M.width+(p.width-M.width)*b,B=M.height+(p.height-M.height)*b;return new Q(q,B)}}},11791:(M,p,b)=>{b.d(p,{c:()=>B,g:()=>k});const Q={},q={};function B(M){const p=M.getClassName();return q[p]||(q[p]={}),q[p]}function k(M){const p=M.getClassName();if(Q[p])return Q[p];Q[p]={};const b=Q[p];let B=M,k=p;for(;k;){const M=q[k];for(const q in M)b[q]=M[q];let p,Q=!1;do{if(p=Object.getPrototypeOf(B),!p.getClassName){Q=!0;break}if(p.getClassName()!==k)break;B=p}while(p);if(Q)break;k=p.getClassName(),B=p}return b}},11788:(M,p,b)=>{b.d(p,{B:()=>K,D:()=>o,F:()=>j,J:()=>u,L:()=>H,N:()=>F,R:()=>k,e:()=>B,i:()=>D,m:()=>W,o:()=>T,r:()=>i,v:()=>O,x:()=>A});var Q=b(11791);function q(M,p){return(b,q)=>{const B=(0,Q.c)(b);B[q]||(B[q]={type:M,sourceName:p})}}function B(M){return function(M){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(b,Q)=>{const q=p||"_"+Q;Object.defineProperty(b,Q,{get:function(){return this[q]},set:function(p){var Q;"function"===typeof(null===(Q=this[q])||void 0===Q?void 0:Q.equals)&&this[q].equals(p)||this[q]!==p&&(this[q]=p,b[M].apply(this))},enumerable:!0,configurable:!0})}}(M,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function k(M){return q(0,M)}function u(M){return q(1,M)}function T(M){return q(2,M)}function O(M){return q(3,M)}function H(M){return q(4,M)}function F(M){return q(5,M)}function o(M){return q(6,M)}function W(M){return q(7,M)}function i(M){return q(8,M)}function A(M){return q(9,M)}function j(M){return q(10,M)}function K(M){return q(12,M)}function D(M,p,b,Q){const q=b.value;b.value=function(){let b=q;if("undefined"!==typeof _native&&_native[p]){const M=_native[p];b=Q?function(){return Q(...arguments)?M(...arguments):q(...arguments)}:M}return M[p]=b,b(...arguments)}}D.filter=function(M){return(p,b,Q)=>D(p,b,Q,M)}},11823:(M,p,b)=>{b.d(p,{b:()=>O});var Q=b(11651),q=b(11829),B=b(11833),k=b(11796),u=b(11791);const T=function(M,p,b){let Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const B=M();q.c&&q.c.HasTags(p)&&q.c.AddTagsTo(B,q.c.GetTags(p,!0));const k=(0,u.g)(B),T={};for(const q in k){const M=k[q],u=p[q],H=M.type;if(void 0!==u&&null!==u&&("uniqueId"!==q||O.AllowLoadingUniqueId))switch(H){case 0:case 6:case 9:case 11:B[q]=u;break;case 1:Q.cloneTexturesOnlyOnce&&T[u.uniqueId]?B[q]=T[u.uniqueId]:(B[q]=b||u.isRenderTarget?u:u.clone(),T[u.uniqueId]=B[q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:B[q]=b?u:u.clone()}}return B};class O{static AppendSerializedAnimations(M,p){if(M.animations){p.animations=[];for(let b=0;b<M.animations.length;b++){const Q=M.animations[b];p.animations.push(Q.serialize())}}}static Serialize(M,p){p||(p={}),q.c&&(p.tags=q.c.GetTags(M));const b=(0,u.g)(M);for(const Q in b){const q=b[Q],B=q.sourceName||Q,k=q.type,u=M[Q];if(void 0!==u&&null!==u&&("uniqueId"!==Q||O.AllowLoadingUniqueId))switch(k){case 0:p[B]=u;break;case 1:case 3:case 7:case 9:p[B]=u.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:p[B]=u.Ob();break;case 6:case 11:p[B]=u.id}}return p}static ParseProperties(M,p,b,Q){Q||(Q="");const q=(0,u.g)(p);for(const u in q){const T=q[u],H=M[T.sourceName||u],F=T.type;if(void 0!==H&&null!==H&&("uniqueId"!==u||O.AllowLoadingUniqueId)){const M=p;switch(F){case 0:M[u]=H;break;case 1:b&&(M[u]=O._TextureParser(H,b,Q));break;case 2:M[u]=B.ap.sp(H);break;case 3:M[u]=O._FresnelParametersParser(H);break;case 4:M[u]=k.Vector2.sp(H);break;case 5:M[u]=k.Ap.sp(H);break;case 6:b&&(M[u]=b.getLastMeshById(H));break;case 7:M[u]=O._ColorCurvesParser(H);break;case 8:M[u]=B.Sb.sp(H);break;case 9:M[u]=O._ImageProcessingConfigurationParser(H);break;case 10:M[u]=k.Quaternion.sp(H);break;case 11:b&&(M[u]=b.getCameraById(H));break;case 12:M[u]=k.Matrix.sp(H)}}}}static Parse(M,p,b){let Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const B=M();return q.c&&q.c.AddTagsTo(B,p.tags),O.ParseProperties(p,B,b,Q),B}static Clone(M,p){return T(M,p,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(M,p){return T(M,p,!0)}}O.AllowLoadingUniqueId=!1,O._ImageProcessingConfigurationParser=M=>{throw(0,Q.c)("ImageProcessingConfiguration")},O._FresnelParametersParser=M=>{throw(0,Q.c)("FresnelParameters")},O._ColorCurvesParser=M=>{throw(0,Q.c)("ColorCurves")},O._TextureParser=(M,p,b)=>{throw(0,Q.c)("Texture")}},11829:(M,p,b)=>{b.d(p,{c:()=>q});class Q{static Eval(M,p){return"true"===(M=M.match(/\([^()]*\)/g)?M.replace(/\([^()]*\)/g,(M=>(M=M.slice(1,M.length-1),Q._HandleParenthesisContent(M,p)))):Q._HandleParenthesisContent(M,p))||"false"!==M&&Q.Eval(M,p)}static _HandleParenthesisContent(M,p){let b;p=p||(M=>"true"===M);const q=M.split("||");for(const B in q)if(Object.prototype.hasOwnProperty.call(q,B)){let M=Q._SimplifyNegation(q[B].trim());const k=M.split("&&");if(k.length>1)for(let q=0;q<k.length;++q){const B=Q._SimplifyNegation(k[q].trim());if(b="true"!==B&&"false"!==B?"!"===B[0]?!p(B.substring(1)):p(B):"true"===B,!b){M="false";break}}if(b||"true"===M){b=!0;break}b="true"!==M&&"false"!==M?"!"===M[0]?!p(M.substring(1)):p(M):"true"===M}return b?"true":"false"}static _SimplifyNegation(M){return"!true"===(M=(M=M.replace(/^[\s!]+/,(M=>(M=M.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?M="false":"!false"===M&&(M="true"),M}}class q{static EnableFor(M){M._tags=M._tags||{},M.hasTags=()=>q.HasTags(M),M.addTags=p=>q.AddTagsTo(M,p),M.removeTags=p=>q.RemoveTagsFrom(M,p),M.matchesTagsQuery=p=>q.MatchesQuery(M,p)}static DisableFor(M){delete M._tags,delete M.hasTags,delete M.addTags,delete M.removeTags,delete M.matchesTagsQuery}static HasTags(M){if(!M._tags)return!1;const p=M._tags;for(const b in p)if(Object.prototype.hasOwnProperty.call(p,b))return!0;return!1}static GetTags(M){let p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!M._tags)return null;if(p){const p=[];for(const b in M._tags)Object.prototype.hasOwnProperty.call(M._tags,b)&&!0===M._tags[b]&&p.push(b);return p.join(" ")}return M._tags}static AddTagsTo(M,p){if(!p)return;if("string"!==typeof p)return;const b=p.split(" ");for(const Q of b)q._AddTagTo(M,Q)}static _AddTagTo(M,p){""!==(p=p.trim())&&"true"!==p&&"false"!==p&&(p.match(/[\s]/)||p.match(/^([!]|([|]|[&]){2})/)||(q.EnableFor(M),M._tags[p]=!0))}static RemoveTagsFrom(M,p){if(!q.HasTags(M))return;const b=p.split(" ");for(const Q in b)q._RemoveTagFrom(M,b[Q])}static _RemoveTagFrom(M,p){delete M._tags[p]}static MatchesQuery(M,p){return void 0===p||(""===p?q.HasTags(M):Q.Eval(p,(p=>q.HasTags(M)&&M._tags[p])))}}},11784:(M,p,b)=>{b.d(p,{c:()=>Q});function Q(M,p,b,Q){var q,B=arguments.length,k=B<3?p:null===Q?Q=Object.getOwnPropertyDescriptor(p,b):Q;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)k=Reflect.decorate(M,p,b,Q);else for(var u=M.length-1;u>=0;u--)(q=M[u])&&(k=(B<3?q(k):B>3?q(p,b,k):q(p,b))||k);return B>3&&k&&Object.defineProperty(p,b,k),k}Object.create;Object.create}}]);