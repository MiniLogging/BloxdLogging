"use strict";(self.uji65st81d=self.uji65st81d||[]).push([[13],{12460:(V,h,mV)=>{mV.d(h,{b:()=>t});let t=!1},12438:(V,h,mV)=>{mV.d(h,{b:()=>q});var t=mV(12409),L=mV(12413),N=mV(12258),A=mV(12422),k=mV(12300),C=mV(12393),K=(mV(12303),mV(12444));class o{get wrapU(){return this._wrapU}set wrapU(V){this._wrapU=V}get wrapV(){return this._wrapV}set wrapV(V){this._wrapV=V}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(V){this._texture&&(this._texture.isCube=V)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(V){this._texture&&(this._texture.is3D=V)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(V){this._texture&&(this._texture.is2DArray=V)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(V){return void 0!==(null===V||void 0===V?void 0:V.shareDepth)}constructor(V){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=K.e.Zero(),this._cachedBaseSize=K.e.Zero(),this._initialSamplingMode=2,this._texture=o._IsRenderTargetWrapper(V)?V.texture:V,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(V){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(V,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var n=mV(12448);class q extends o{set Mk(V){this._hasAlpha!==V&&(this._hasAlpha=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get Mk(){return this._hasAlpha}set getAlphaFromRGB(V){this._getAlphaFromRGB!==V&&(this._getAlphaFromRGB=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(V){this._coordinatesIndex!==V&&(this._coordinatesIndex=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(V){this._coordinatesMode!==V&&(this._coordinatesMode=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(V){this._wrapU=V}get wrapV(){return this._wrapV}set wrapV(V){this._wrapV=V}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(V){this._texture?this._texture.isCube=V:this._isCube=V}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(V){this._texture&&(this._texture.is3D=V)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(V){this._texture&&(this._texture.is2DArray=V)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(V){var h;if(this._texture){if(this._texture._gammaSpace===V)return;this._texture._gammaSpace=V}else{if(this._gammaSpace===V)return;this._gammaSpace=V}null===(h=this.DV())||void 0===h||h.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(V){var h;V!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=V),null===(h=this.DV())||void 0===h||h.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(V){this._texture&&(this._texture._lodGenerationOffset=V)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(V){this._texture&&(this._texture._lodGenerationScale=V)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(V){this._texture&&(this._texture._linearSpecularLOD=V)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(V){this._texture&&(this._texture._irradianceTexture=V)}get uid(){return this._uid||(this._uid=(0,C.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(V){this._onDisposeObserver&&this.XL.remove(this._onDisposeObserver),this._onDisposeObserver=this.XL.add(V)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.XL=new N.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,V?q._IsScene(V)?this._scene=V:this._engine=V:this._scene=k.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=h,this._uid=null}DV(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return A.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return A.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(V){}get canRescale(){return!1}_getFromCache(V,h,mV,t,L,N){const A=this._getEngine();if(!A)return null;const k=A._getUseSRGBBuffer(!!L,h),C=A.getLoadedTexturesCache();for(let K=0;K<C.length;K++){const A=C[K];if((void 0===L||k===A._useSRGBBuffer)&&(void 0===t||t===A.invertY)&&A.url===V&&A.generateMipMaps===!h&&(!mV||mV===A.samplingMode)&&(void 0===N||N===A.isCube))return A.incrementReferences(),A}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const V=this.DV();V&&V.markAllMaterialsAsDirty(1)}readPixels(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],L=arguments.length>4&&void 0!==arguments[4]&&arguments[4],N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const K=this._getEngine();if(!K)return null;const o=this.getSize();let n=o.width,q=o.height;0!==h&&(n/=Math.pow(2,h),q/=Math.pow(2,h),n=Math.round(n),q=Math.round(q)),k=Math.min(n,k),C=Math.min(q,C);try{return this._texture.isCube?K._readTexturePixels(this._texture,k,C,V,h,mV,t,L,N,A):K._readTexturePixels(this._texture,k,C,-1,h,mV,t,L,N,A)}catch(x){return null}}_readPixelsSync(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],L=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const N=this.getSize();let A=N.width,k=N.height;const C=this._getEngine();if(!C)return null;0!=h&&(A/=Math.pow(2,h),k/=Math.pow(2,h),A=Math.round(A),k=Math.round(k));try{return this._texture.isCube?C._readTexturePixelsSync(this._texture,A,k,V,h,mV,t,L):C._readTexturePixelsSync(this._texture,A,k,-1,h,mV,t,L)}catch(K){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const V=this._scene.textures.indexOf(this);if(V>=0&&this._scene.textures.splice(V,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const V=this._parentContainer.textures.indexOf(this);V>-1&&this._parentContainer.textures.splice(V,1),this._parentContainer=null}}this.XL.notifyObservers(this),this.XL.clear(),this.metadata=null,super.dispose()}serialize(){let V=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!V)return null;const h=n.e.Serialize(this);return n.e.AppendSerializedAnimations(this,h),h}static WhenAllReady(V,h){let mV=V.length;if(0!==mV)for(let t=0;t<V.length;t++){const L=V[t];if(L.isReady())0===--mV&&h();else{const V=L.onLoadObservable;V?V.addOnce((()=>{0===--mV&&h()})):0===--mV&&h()}}else h()}static _IsScene(V){return"Scene"===V.getClassName()}}q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,t.e)([(0,L.J)()],q.prototype,"uniqueId",void 0),(0,t.e)([(0,L.J)()],q.prototype,"name",void 0),(0,t.e)([(0,L.J)()],q.prototype,"displayName",void 0),(0,t.e)([(0,L.J)()],q.prototype,"metadata",void 0),(0,t.e)([(0,L.J)("Mk")],q.prototype,"_hasAlpha",void 0),(0,t.e)([(0,L.J)("getAlphaFromRGB")],q.prototype,"_getAlphaFromRGB",void 0),(0,t.e)([(0,L.J)()],q.prototype,"level",void 0),(0,t.e)([(0,L.J)("coordinatesIndex")],q.prototype,"_coordinatesIndex",void 0),(0,t.e)([(0,L.J)()],q.prototype,"optimizeUVAllocation",void 0),(0,t.e)([(0,L.J)("coordinatesMode")],q.prototype,"_coordinatesMode",void 0),(0,t.e)([(0,L.J)()],q.prototype,"wrapU",null),(0,t.e)([(0,L.J)()],q.prototype,"wrapV",null),(0,t.e)([(0,L.J)()],q.prototype,"wrapR",void 0),(0,t.e)([(0,L.J)()],q.prototype,"anisotropicFilteringLevel",void 0),(0,t.e)([(0,L.J)()],q.prototype,"isCube",null),(0,t.e)([(0,L.J)()],q.prototype,"is3D",null),(0,t.e)([(0,L.J)()],q.prototype,"is2DArray",null),(0,t.e)([(0,L.J)()],q.prototype,"gammaSpace",null),(0,t.e)([(0,L.J)()],q.prototype,"invertZ",void 0),(0,t.e)([(0,L.J)()],q.prototype,"lodLevelInAlpha",void 0),(0,t.e)([(0,L.J)()],q.prototype,"lodGenerationOffset",null),(0,t.e)([(0,L.J)()],q.prototype,"lodGenerationScale",null),(0,t.e)([(0,L.J)()],q.prototype,"linearSpecularLOD",null),(0,t.e)([(0,L.B)()],q.prototype,"irradianceTexture",null),(0,t.e)([(0,L.J)()],q.prototype,"isRenderTarget",void 0)},12406:(V,h,mV)=>{mV.d(h,{d:()=>z});var t=mV(12409),L=mV(12413),N=mV(12258),A=mV(12422),k=mV(12438),C=mV(12388),K=mV(12288),o=mV(12322),n=mV(12380),q=mV(12458),x=mV(12309);function R(V,h){let mV=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const t=h.width,L=h.height;if(V instanceof Float32Array){let h=V.byteLength/V.BYTES_PER_ELEMENT;const mV=new Uint8Array(h);for(;--h>=0;){let t=V[h];t<0?t=0:t>1&&(t=1),mV[h]=255*t}V=mV}const N=document.createElement("canvas");N.width=t,N.height=L;const A=N.getContext("2d");if(!A)return null;const k=A.createImageData(t,L);if(k.data.set(V),A.putImageData(k,0,0),mV){const V=document.createElement("canvas");V.width=t,V.height=L;const h=V.getContext("2d");return h?(h.translate(0,L),h.scale(1,-1),h.drawImage(N,0,0),V.toDataURL("image/png")):null}return N.toDataURL("image/png")}function d(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const t=V.getInternalTexture();if(!t)return null;const L=V._readPixelsSync(h,mV);return L?R(L,V.getSize(),t.invertY):null}async function s(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mV=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const t=V.getInternalTexture();if(!t)return null;const L=await V.readPixels(h,mV);return L?R(L,V.getSize(),t.invertY):null}var M=mV(12460),c=mV(12448);class z extends k.b{static _CreateVideoTexture(V,h,mV){arguments.length>5&&void 0!==arguments[5]||z.TRILINEAR_SAMPLINGMODE;throw(0,K.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(V){this._isBlocking=V}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(V,h,mV,t){let L,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z.TRILINEAR_SAMPLINGMODE,k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,K=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,n=arguments.length>8&&void 0!==arguments[8]&&arguments[8],q=arguments.length>9?arguments[9]:void 0,x=arguments.length>10?arguments[10]:void 0,R=arguments.length>11?arguments[11]:void 0,d=arguments.length>12?arguments[12]:void 0,s=arguments.length>13?arguments[13]:void 0;super(h),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new N.d,this._isBlocking=!0,this.name=V||"",this.url=V;let c=!1,Q=null,J=!0;"object"===typeof mV&&null!==mV?(L=mV.noMipmap??!1,t=mV.invertY??!M.b,A=mV.samplingMode??z.TRILINEAR_SAMPLINGMODE,k=mV.W??null,C=mV.onError??null,K=mV.buffer??null,n=mV.deleteBuffer??!1,q=mV.format,x=mV.mimeType,R=mV.loaderOptions,d=mV.creationFlags,c=mV.useSRGBBuffer??!1,Q=mV.internalTexture??null,J=mV.gammaSpace??J,s=mV.forcedExtension??s):L=!!mV,this._gammaSpace=J,this._noMipmap=L,this._invertY=void 0===t?!M.b:t,this._initialSamplingMode=A,this._buffer=K,this._deleteBuffer=n,this._mimeType=x,this._loaderOptions=R,this._creationFlags=d,this._useSRGBBuffer=c,this._forcedExtension=s,void 0!==q&&(this._format=q);const v=this.DV(),D=this._getEngine();if(!D)return;D.onBeforeTextureInitObservable.notifyObservers(this);const H=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),k&&k(),!this.isBlocking&&v&&v.resetCachedMaterial()},j=(V,h)=>{this._loadingError=!0,this._errorObject={message:V,exception:h},C&&C(V,h),z.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Q)return this._delayedOnLoad=H,void(this._delayedOnError=j);if(this._texture=Q??this._getFromCache(this.url,L,A,this._invertY,c,this.isCube),this._texture)if(this._texture.isReady)o.b.SetImmediate((()=>H()));else{const V=this._texture.onLoadedObservable.add(H);this._texture.onErrorObservable.add((h=>{var mV;j(h.message,h.exception),null===(mV=this._texture)||void 0===mV||mV.onLoadedObservable.remove(V)}))}else if(v&&v.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=H,this._delayedOnError=j;else{try{this._texture=D.createTexture(this.url,L,this._invertY,v,A,H,j,this._buffer,void 0,this._format,this._forcedExtension,x,R,d,c)}catch(l){throw j("error loading",l),l}n&&(this._buffer=null)}}updateURL(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,mV=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.DV().markAllMaterialsAsDirty(1,(V=>V.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=V),this.url=V,this._buffer=h,this._forcedExtension=t,this.delayLoadState=4,mV&&(this._delayedOnLoad=mV),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const V=this.DV();V&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?o.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=V.getEngine().createTexture(this.url,this._noMipmap,this._invertY,V,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(V,h,mV,t){V*=this._cachedUScale,h*=this._cachedVScale,V-=this.uRotationCenter*this._cachedUScale,h-=this.vRotationCenter*this._cachedVScale,mV-=this.wRotationCenter,A.sh.TransformCoordinatesFromFloatsToRef(V,h,mV,this._rowGenerationMatrix,t),t.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,t.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,t.z+=this.wRotationCenter}getTextureMatrix(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*V===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*V,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=A.Matrix.Zero(),this._rowGenerationMatrix=new A.Matrix,this._t0=A.sh.Zero(),this._t1=A.sh.Zero(),this._t2=A.sh.Zero()),A.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(A.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,A.TmpVectors.Matrix[0]),A.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,A.TmpVectors.Matrix[1]),A.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,A.TmpVectors.Matrix[2]),A.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,A.TmpVectors.Matrix[3]),A.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.An(this._t0),this._t2.An(this._t0),A.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const h=this.DV();if(!h)return this._cachedTextureMatrix;const mV=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&mV!==this._cachedIdentity3x2&&h.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const V=this.DV();if(!V)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==z.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===V.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=A.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=A.Matrix.Zero());const h=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case z.PLANAR_MODE:A.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case z.PROJECTION_MODE:{A.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const h=V.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=h.updateFlag,h.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:A.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return h&&V.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const V={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,W:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return c.e.Clone((()=>new z(this._texture?this._texture.url:null,this.DV(),V)),this)}serialize(){var V;const h=this.name;z.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const mV=super.serialize(z._SerializeInternalTextureUniqueId);if(!mV)return null;if(z.SerializeBuffers||z.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))mV.base64String=this._buffer,mV.name=mV.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const V=this.mimeType||"image/png";mV.base64String=`data:${V};base64,${(0,x.i)(this._buffer)}`}else(z.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(mV.base64String=!this._engine||this._engine._features.supportSyncTextureRead?d(this):s(this));var t;(mV.invertY=this._invertY,mV.samplingMode=this.samplingMode,mV._creationFlags=this._creationFlags,mV._useSRGBBuffer=this._useSRGBBuffer,z._SerializeInternalTextureUniqueId)&&(mV.internalTextureUniqueId=null===(t=this._texture)||void 0===t?void 0:t.uniqueId);return mV.internalTextureLabel=null===(V=this._texture)||void 0===V?void 0:V.label,mV.noMipmap=this._noMipmap,this.name=h,mV}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(V,h,mV){if(V.customType){const t=n.c.Instantiate(V.customType).Parse(V,h,mV);return V.samplingMode&&t.updateSamplingMode&&t._samplingMode&&t._samplingMode!==V.samplingMode&&t.updateSamplingMode(V.samplingMode),t}if(V.isCube&&!V.isRenderTarget)return z._CubeTextureParser(V,h,mV);const t=void 0!==V.internalTextureUniqueId;if(!V.name&&!V.isRenderTarget&&!t)return null;let L;if(t){const mV=h.getEngine().getLoadedTexturesCache();for(const h of mV)if(h.uniqueId===V.internalTextureUniqueId){L=h;break}}const N=h=>{if(h&&h._texture&&(h._texture._cachedWrapU=null,h._texture._cachedWrapV=null,h._texture._cachedWrapR=null),V.samplingMode){const mV=V.samplingMode;h&&h.samplingMode!==mV&&h.updateSamplingMode(mV)}if(h&&V.animations)for(let mV=0;mV<V.animations.length;mV++){const t=V.animations[mV],L=(0,C.e)("BABYLON.Animation");L&&h.animations.push(L.Parse(t))}h&&h._texture&&(t&&!L&&h._texture._setUniqueId(V.internalTextureUniqueId),h._texture.label=V.internalTextureLabel)};return c.e.Parse((()=>{let t=!0;if(V.noMipmap&&(t=!1),V.mirrorPlane){const mV=z._CreateMirror(V.name,V.renderTargetSize,h,t);return mV._waitingRenderList=V.renderList,mV.mirrorPlane=q.b.Dh(V.mirrorPlane),N(mV),mV}if(V.isRenderTarget){let mV=null;if(V.isCube){if(h.reflectionProbes)for(let t=0;t<h.reflectionProbes.length;t++){const mV=h.reflectionProbes[t];if(mV.name===V.name)return mV.cubeTexture}}else mV=z._CreateRenderTargetTexture(V.name,V.renderTargetSize,h,t,V._creationFlags??0),mV._waitingRenderList=V.renderList;return N(mV),mV}if(V.isVideo){const L=z._CreateVideoTexture(mV+(V.url||V.name),mV+(V.src||V.url),h,t,V.invertY,V.samplingMode,V.settings||{});return N(L),L}{let A;if(V.base64String&&!L)A=z.CreateFromBase64String(V.base64String,V.base64String,h,!t,V.invertY,V.samplingMode,(()=>{N(A)}),V._creationFlags??0,V._useSRGBBuffer??!1),A.name=V.name;else{let k;k=V.name&&(V.name.indexOf("://")>0||V.name.startsWith("data:"))?V.name:mV+V.name,V.url&&(V.url.startsWith("data:")||z.UseSerializedUrlIfAny)&&(k=V.url);const C={noMipmap:!t,invertY:V.invertY,samplingMode:V.samplingMode,W:()=>{N(A)},internalTexture:L};A=new z(k,h,C)}return A}}),V,h)}static CreateFromBase64String(V,h,mV,t,L){let N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z.TRILINEAR_SAMPLINGMODE;return new z("data:"+h,mV,t,L,N,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,V,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(V,h,mV){let t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],L=arguments.length>4?arguments[4]:void 0,N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:z.TRILINEAR_SAMPLINGMODE,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,K=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,o=arguments.length>10?arguments[10]:void 0,n=arguments.length>11?arguments[11]:void 0;return"data:"!==V.substring(0,5)&&(V="data:"+V),new z(V,mV,L,N,A,k,C,h,t,K,void 0,void 0,o,n)}}z.SerializeBuffers=!0,z.ForceSerializeBuffers=!1,z.OnTextureLoadErrorObservable=new N.d,z._SerializeInternalTextureUniqueId=!1,z._CubeTextureParser=(V,h,mV)=>{throw(0,K.c)("CubeTexture")},z._CreateMirror=(V,h,mV,t)=>{throw(0,K.c)("MirrorTexture")},z._CreateRenderTargetTexture=(V,h,mV,t,L)=>{throw(0,K.c)("RenderTargetTexture")},z.NEAREST_SAMPLINGMODE=1,z.NEAREST_NEAREST_MIPLINEAR=8,z.BILINEAR_SAMPLINGMODE=2,z.LINEAR_LINEAR_MIPNEAREST=11,z.TRILINEAR_SAMPLINGMODE=3,z.LINEAR_LINEAR_MIPLINEAR=3,z.NEAREST_NEAREST_MIPNEAREST=4,z.NEAREST_LINEAR_MIPNEAREST=5,z.NEAREST_LINEAR_MIPLINEAR=6,z.NEAREST_LINEAR=7,z.NEAREST_NEAREST=1,z.LINEAR_NEAREST_MIPNEAREST=9,z.LINEAR_NEAREST_MIPLINEAR=10,z.LINEAR_LINEAR=2,z.LINEAR_NEAREST=12,z.EXPLICIT_MODE=0,z.SPHERICAL_MODE=1,z.PLANAR_MODE=2,z.CUBIC_MODE=3,z.PROJECTION_MODE=4,z.SKYBOX_MODE=5,z.INVCUBIC_MODE=6,z.EQUIRECTANGULAR_MODE=7,z.FIXED_EQUIRECTANGULAR_MODE=8,z.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,z.CLAMP_ADDRESSMODE=0,z.WRAP_ADDRESSMODE=1,z.MIRROR_ADDRESSMODE=2,z.UseSerializedUrlIfAny=!1,(0,t.e)([(0,L.J)()],z.prototype,"url",void 0),(0,t.e)([(0,L.J)()],z.prototype,"uOffset",void 0),(0,t.e)([(0,L.J)()],z.prototype,"vOffset",void 0),(0,t.e)([(0,L.J)()],z.prototype,"uScale",void 0),(0,t.e)([(0,L.J)()],z.prototype,"vScale",void 0),(0,t.e)([(0,L.J)()],z.prototype,"uAng",void 0),(0,t.e)([(0,L.J)()],z.prototype,"vAng",void 0),(0,t.e)([(0,L.J)()],z.prototype,"wAng",void 0),(0,t.e)([(0,L.J)()],z.prototype,"uRotationCenter",void 0),(0,t.e)([(0,L.J)()],z.prototype,"vRotationCenter",void 0),(0,t.e)([(0,L.J)()],z.prototype,"wRotationCenter",void 0),(0,t.e)([(0,L.J)()],z.prototype,"homogeneousRotationInUVTransform",void 0),(0,t.e)([(0,L.J)()],z.prototype,"isBlocking",null),(0,C.i)("BABYLON.Texture",z),c.e._TextureParser=z.Parse},12458:(V,h,mV)=>{mV.d(h,{b:()=>L});var t=mV(12422);class L{constructor(V,h,mV,L){this.normal=new t.sh(V,h,mV),this.d=L}sk(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new L(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let V=this.normal.getHashCode();return V=397*V^this.d,V}normalize(){const V=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let h=0;return 0!==V&&(h=1/V),this.normal.x*=h,this.normal.y*=h,this.normal.z*=h,this.d*=h,this}transform(V){const h=L._TmpMatrix;V.invertToRef(h);const mV=h.m,t=this.normal.x,N=this.normal.y,A=this.normal.z,k=this.d,C=t*mV[0]+N*mV[1]+A*mV[2]+k*mV[3],K=t*mV[4]+N*mV[5]+A*mV[6]+k*mV[7],o=t*mV[8]+N*mV[9]+A*mV[10]+k*mV[11],n=t*mV[12]+N*mV[13]+A*mV[14]+k*mV[15];return new L(C,K,o,n)}dotCoordinate(V){return this.normal.x*V.x+this.normal.y*V.y+this.normal.z*V.z+this.d}copyFromPoints(V,h,mV){const t=h.x-V.x,L=h.y-V.y,N=h.z-V.z,A=mV.x-V.x,k=mV.y-V.y,C=mV.z-V.z,K=L*C-N*k,o=N*A-t*C,n=t*k-L*A,q=Math.sqrt(K*K+o*o+n*n);let x;return x=0!==q?1/q:0,this.normal.x=K*x,this.normal.y=o*x,this.normal.z=n*x,this.d=-(this.normal.x*V.x+this.normal.y*V.y+this.normal.z*V.z),this}isFrontFacingTo(V,h){return t.sh.Dot(this.normal,V)<=h}signedDistanceTo(V){return t.sh.Dot(V,this.normal)+this.d}static Dh(V){return new L(V[0],V[1],V[2],V[3])}static FromPoints(V,h,mV){const t=new L(0,0,0,0);return t.copyFromPoints(V,h,mV),t}static FromPositionAndNormal(V,h){const mV=new L(0,0,0,0);return this.FromPositionAndNormalToRef(V,h,mV)}static FromPositionAndNormalToRef(V,h,mV){return mV.normal.t(h),mV.normal.normalize(),mV.d=-V.dot(mV.normal),mV}static SignedDistanceToPlaneFromPositionAndNormal(V,h,mV){const L=-(h.x*V.x+h.y*V.y+h.z*V.z);return t.sh.Dot(mV,h)+L}}L._TmpMatrix=t.Matrix.Identity()},12444:(V,h,mV)=>{mV.d(h,{e:()=>t});class t{constructor(V,h){this.width=V,this.height=h}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let V=0|this.width;return V=397*V^this.height,V}t(V){this.width=V.width,this.height=V.height}Hk(V,h){return this.width=V,this.height=h,this}set(V,h){return this.Hk(V,h)}multiplyByFloats(V,h){return new t(this.width*V,this.height*h)}clone(){return new t(this.width,this.height)}equals(V){return!!V&&(this.width===V.width&&this.height===V.height)}get surface(){return this.width*this.height}static Zero(){return new t(0,0)}add(V){return new t(this.width+V.width,this.height+V.height)}Mh(V){return new t(this.width-V.width,this.height-V.height)}scale(V){return new t(this.width*V,this.height*V)}static Lerp(V,h,mV){const L=V.width+(h.width-V.width)*mV,N=V.height+(h.height-V.height)*mV;return new t(L,N)}}},12418:(V,h,mV)=>{mV.d(h,{c:()=>N,f:()=>A});const t={},L={};function N(V){const h=V.getClassName();return L[h]||(L[h]={}),L[h]}function A(V){const h=V.getClassName();if(t[h])return t[h];t[h]={};const mV=t[h];let N=V,A=h;for(;A;){const V=L[A];for(const L in V)mV[L]=V[L];let h,t=!1;do{if(h=Object.getPrototypeOf(N),!h.getClassName){t=!0;break}if(h.getClassName()!==A)break;N=h}while(h);if(t)break;A=h.getClassName(),N=h}return mV}},12413:(V,h,mV)=>{mV.d(h,{B:()=>k,F:()=>o,I:()=>n,J:()=>A,c:()=>N,e:()=>c,i:()=>x,l:()=>C,n:()=>R,p:()=>K,t:()=>d,v:()=>M,w:()=>q,z:()=>s});var t=mV(12418);function L(V,h){return(mV,L)=>{const N=(0,t.c)(mV);N[L]||(N[L]={type:V,sourceName:h})}}function N(V){return function(V){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(mV,t)=>{const L=h||"_"+t;Object.defineProperty(mV,t,{get:function(){return this[L]},set:function(h){var t;"function"===typeof(null===(t=this[L])||void 0===t?void 0:t.equals)&&this[L].equals(h)||this[L]!==h&&(this[L]=h,mV[V].apply(this))},enumerable:!0,configurable:!0})}}(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function A(V){return L(0,V)}function k(V){return L(1,V)}function C(V){return L(2,V)}function K(V){return L(3,V)}function o(V){return L(4,V)}function n(V){return L(5,V)}function q(V){return L(6,V)}function x(V){return L(7,V)}function R(V){return L(8,V)}function d(V){return L(9,V)}function s(V){return L(10,V)}function M(V){return L(12,V)}function c(V,h,mV,t){const L=mV.value;mV.value=function(){let mV=L;if("undefined"!==typeof _native&&_native[h]){const V=_native[h];mV=t?function(){return t(...arguments)?V(...arguments):L(...arguments)}:V}return V[h]=mV,mV(...arguments)}}c.filter=function(V){return(h,mV,t)=>c(h,mV,t,V)}},12448:(V,h,mV)=>{mV.d(h,{e:()=>K});var t=mV(12288),L=mV(12450),N=mV(12453),A=mV(12422),k=mV(12418);const C=function(V,h,mV){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const N=V();L.e&&L.e.HasTags(h)&&L.e.AddTagsTo(N,L.e.GetTags(h,!0));const A=(0,k.f)(N),C={};for(const L in A){const V=A[L],k=h[L],o=V.type;if(void 0!==k&&null!==k&&("uniqueId"!==L||K.AllowLoadingUniqueId))switch(o){case 0:case 6:case 9:case 11:N[L]=k;break;case 1:t.cloneTexturesOnlyOnce&&C[k.uniqueId]?N[L]=C[k.uniqueId]:(N[L]=mV||k.isRenderTarget?k:k.clone(),C[k.uniqueId]=N[L]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:N[L]=mV?k:k.clone()}}return N};class K{static AppendSerializedAnimations(V,h){if(V.animations){h.animations=[];for(let mV=0;mV<V.animations.length;mV++){const t=V.animations[mV];h.animations.push(t.serialize())}}}static Serialize(V,h){h||(h={}),L.e&&(h.tags=L.e.GetTags(V));const mV=(0,k.f)(V);for(const t in mV){const L=mV[t],N=L.sourceName||t,A=L.type,k=V[t];if(void 0!==k&&null!==k&&("uniqueId"!==t||K.AllowLoadingUniqueId))switch(A){case 0:h[N]=k;break;case 1:case 3:case 7:case 9:h[N]=k.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:h[N]=k.sk();break;case 6:case 11:h[N]=k.id}}return h}static ParseProperties(V,h,mV,t){t||(t="");const L=(0,k.f)(h);for(const k in L){const C=L[k],o=V[C.sourceName||k],n=C.type;if(void 0!==o&&null!==o&&("uniqueId"!==k||K.AllowLoadingUniqueId)){const V=h;switch(n){case 0:V[k]=o;break;case 1:mV&&(V[k]=K._TextureParser(o,mV,t));break;case 2:V[k]=N.Jh.Dh(o);break;case 3:V[k]=K._FresnelParametersParser(o);break;case 4:V[k]=A.Vector2.Dh(o);break;case 5:V[k]=A.sh.Dh(o);break;case 6:mV&&(V[k]=mV.getLastMeshById(o));break;case 7:V[k]=K._ColorCurvesParser(o);break;case 8:V[k]=N.Gk.Dh(o);break;case 9:V[k]=K._ImageProcessingConfigurationParser(o);break;case 10:V[k]=A.Quaternion.Dh(o);break;case 11:mV&&(V[k]=mV.getCameraById(o));break;case 12:V[k]=A.Matrix.Dh(o)}}}}static Parse(V,h,mV){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const N=V();return L.e&&L.e.AddTagsTo(N,h.tags),K.ParseProperties(h,N,mV,t),N}static Clone(V,h){return C(V,h,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(V,h){return C(V,h,!0)}}K.AllowLoadingUniqueId=!1,K._ImageProcessingConfigurationParser=V=>{throw(0,t.c)("ImageProcessingConfiguration")},K._FresnelParametersParser=V=>{throw(0,t.c)("FresnelParameters")},K._ColorCurvesParser=V=>{throw(0,t.c)("ColorCurves")},K._TextureParser=(V,h,mV)=>{throw(0,t.c)("Texture")}},12450:(V,h,mV)=>{mV.d(h,{e:()=>L});class t{static Eval(V,h){return"true"===(V=V.match(/\([^()]*\)/g)?V.replace(/\([^()]*\)/g,(V=>(V=V.slice(1,V.length-1),t._HandleParenthesisContent(V,h)))):t._HandleParenthesisContent(V,h))||"false"!==V&&t.Eval(V,h)}static _HandleParenthesisContent(V,h){let mV;h=h||(V=>"true"===V);const L=V.split("||");for(const N in L)if(Object.prototype.hasOwnProperty.call(L,N)){let V=t._SimplifyNegation(L[N].trim());const A=V.split("&&");if(A.length>1)for(let L=0;L<A.length;++L){const N=t._SimplifyNegation(A[L].trim());if(mV="true"!==N&&"false"!==N?"!"===N[0]?!h(N.substring(1)):h(N):"true"===N,!mV){V="false";break}}if(mV||"true"===V){mV=!0;break}mV="true"!==V&&"false"!==V?"!"===V[0]?!h(V.substring(1)):h(V):"true"===V}return mV?"true":"false"}static _SimplifyNegation(V){return"!true"===(V=(V=V.replace(/^[\s!]+/,(V=>(V=V.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?V="false":"!false"===V&&(V="true"),V}}class L{static EnableFor(V){V._tags=V._tags||{},V.hasTags=()=>L.HasTags(V),V.addTags=h=>L.AddTagsTo(V,h),V.removeTags=h=>L.RemoveTagsFrom(V,h),V.matchesTagsQuery=h=>L.MatchesQuery(V,h)}static DisableFor(V){delete V._tags,delete V.hasTags,delete V.addTags,delete V.removeTags,delete V.matchesTagsQuery}static HasTags(V){if(!V._tags)return!1;const h=V._tags;for(const mV in h)if(Object.prototype.hasOwnProperty.call(h,mV))return!0;return!1}static GetTags(V){let h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!V._tags)return null;if(h){const h=[];for(const mV in V._tags)Object.prototype.hasOwnProperty.call(V._tags,mV)&&!0===V._tags[mV]&&h.push(mV);return h.join(" ")}return V._tags}static AddTagsTo(V,h){if(!h)return;if("string"!==typeof h)return;const mV=h.split(" ");for(const t of mV)L._AddTagTo(V,t)}static _AddTagTo(V,h){""!==(h=h.trim())&&"true"!==h&&"false"!==h&&(h.match(/[\s]/)||h.match(/^([!]|([|]|[&]){2})/)||(L.EnableFor(V),V._tags[h]=!0))}static RemoveTagsFrom(V,h){if(!L.HasTags(V))return;const mV=h.split(" ");for(const t in mV)L._RemoveTagFrom(V,mV[t])}static _RemoveTagFrom(V,h){delete V._tags[h]}static MatchesQuery(V,h){return void 0===h||(""===h?L.HasTags(V):t.Eval(h,(h=>L.HasTags(V)&&V._tags[h])))}}},12409:(V,h,mV)=>{mV.d(h,{e:()=>t});function t(V,h,mV,t){var L,N=arguments.length,A=N<3?h:null===t?t=Object.getOwnPropertyDescriptor(h,mV):t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)A=Reflect.decorate(V,h,mV,t);else for(var k=V.length-1;k>=0;k--)(L=V[k])&&(A=(N<3?L(A):N>3?L(h,mV,A):L(h,mV))||A);return N>3&&A&&Object.defineProperty(h,mV,A),A}Object.create;Object.create}}]);