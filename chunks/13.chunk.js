"use strict";(self["686i8587bmi"]=self["686i8587bmi"]||[]).push([[13],{12817:(h,d,T)=>{T.d(d,{b:()=>Y});let Y=!1},12791:(h,d,T)=>{T.d(d,{d:()=>r});var Y=T(12750),y=T(12757),C=T(12583),n=T(12765),X=T(12625),F=T(12722),U=(T(12627),T(12793));class Z{get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(h){this._texture&&(this._texture.isCube=h)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(h){return void 0!==(null===h||void 0===h?void 0:h.shareDepth)}constructor(h){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=U.e.Zero(),this._cachedBaseSize=U.e.Zero(),this._initialSamplingMode=2,this._texture=Z._IsRenderTargetWrapper(h)?h.texture:h,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(h){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(h,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var S=T(12801);class r extends Z{set vd(h){this._hasAlpha!==h&&(this._hasAlpha=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get vd(){return this._hasAlpha}set getAlphaFromRGB(h){this._getAlphaFromRGB!==h&&(this._getAlphaFromRGB=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(h){this._coordinatesIndex!==h&&(this._coordinatesIndex=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(h){this._coordinatesMode!==h&&(this._coordinatesMode=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(h){this._texture?this._texture.isCube=h:this._isCube=h}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(h){var d;if(this._texture){if(this._texture._gammaSpace===h)return;this._texture._gammaSpace=h}else{if(this._gammaSpace===h)return;this._gammaSpace=h}null===(d=this.Eh())||void 0===d||d.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(h){var d;h!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=h),null===(d=this.Eh())||void 0===d||d.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(h){this._texture&&(this._texture._lodGenerationOffset=h)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(h){this._texture&&(this._texture._lodGenerationScale=h)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(h){this._texture&&(this._texture._linearSpecularLOD=h)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(h){this._texture&&(this._texture._irradianceTexture=h)}get uid(){return this._uid||(this._uid=(0,F.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(h){this._onDisposeObserver&&this.zd.remove(this._onDisposeObserver),this._onDisposeObserver=this.zd.add(h)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=r.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.zd=new C.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,h?r._IsScene(h)?this._scene=h:this._engine=h:this._scene=X.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=d,this._uid=null}Eh(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return n.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return n.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(h){}get canRescale(){return!1}_getFromCache(h,d,T,Y,y,C){const n=this._getEngine();if(!n)return null;const X=n._getUseSRGBBuffer(!!y,d),F=n.getLoadedTexturesCache();for(let U=0;U<F.length;U++){const n=F[U];if((void 0===y||X===n._useSRGBBuffer)&&(void 0===Y||Y===n.invertY)&&n.url===h&&n.generateMipMaps===!d&&(!T||T===n.samplingMode)&&(void 0===C||C===n.isCube))return n.incrementReferences(),n}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const h=this.Eh();h&&h.markAllMaterialsAsDirty(1)}readPixels(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],y=arguments.length>4&&void 0!==arguments[4]&&arguments[4],C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const U=this._getEngine();if(!U)return null;const Z=this.getSize();let S=Z.width,r=Z.height;0!==d&&(S/=Math.pow(2,d),r/=Math.pow(2,d),S=Math.round(S),r=Math.round(r)),X=Math.min(S,X),F=Math.min(r,F);try{return this._texture.isCube?U._readTexturePixels(this._texture,X,F,h,d,T,Y,y,C,n):U._readTexturePixels(this._texture,X,F,-1,d,T,Y,y,C,n)}catch(c){return null}}_readPixelsSync(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],y=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const C=this.getSize();let n=C.width,X=C.height;const F=this._getEngine();if(!F)return null;0!=d&&(n/=Math.pow(2,d),X/=Math.pow(2,d),n=Math.round(n),X=Math.round(X));try{return this._texture.isCube?F._readTexturePixelsSync(this._texture,n,X,h,d,T,Y,y):F._readTexturePixelsSync(this._texture,n,X,-1,d,T,Y,y)}catch(U){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const h=this._scene.textures.indexOf(this);if(h>=0&&this._scene.textures.splice(h,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const h=this._parentContainer.textures.indexOf(this);h>-1&&this._parentContainer.textures.splice(h,1),this._parentContainer=null}}this.zd.notifyObservers(this),this.zd.clear(),this.metadata=null,super.dispose()}serialize(){let h=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!h)return null;const d=S.e.Serialize(this);return S.e.AppendSerializedAnimations(this,d),d}static WhenAllReady(h,d){let T=h.length;if(0!==T)for(let Y=0;Y<h.length;Y++){const y=h[Y];if(y.isReady())0===--T&&d();else{const h=y.onLoadObservable;h?h.addOnce((()=>{0===--T&&d()})):0===--T&&d()}}else d()}static _IsScene(h){return"Scene"===h.getClassName()}}r.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,Y.c)([(0,y.E)()],r.prototype,"uniqueId",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"name",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"displayName",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"metadata",void 0),(0,Y.c)([(0,y.E)("vd")],r.prototype,"_hasAlpha",void 0),(0,Y.c)([(0,y.E)("getAlphaFromRGB")],r.prototype,"_getAlphaFromRGB",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"level",void 0),(0,Y.c)([(0,y.E)("coordinatesIndex")],r.prototype,"_coordinatesIndex",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"optimizeUVAllocation",void 0),(0,Y.c)([(0,y.E)("coordinatesMode")],r.prototype,"_coordinatesMode",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"wrapU",null),(0,Y.c)([(0,y.E)()],r.prototype,"wrapV",null),(0,Y.c)([(0,y.E)()],r.prototype,"wrapR",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"anisotropicFilteringLevel",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"isCube",null),(0,Y.c)([(0,y.E)()],r.prototype,"is3D",null),(0,Y.c)([(0,y.E)()],r.prototype,"is2DArray",null),(0,Y.c)([(0,y.E)()],r.prototype,"gammaSpace",null),(0,Y.c)([(0,y.E)()],r.prototype,"invertZ",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"lodLevelInAlpha",void 0),(0,Y.c)([(0,y.E)()],r.prototype,"lodGenerationOffset",null),(0,Y.c)([(0,y.E)()],r.prototype,"lodGenerationScale",null),(0,Y.c)([(0,y.E)()],r.prototype,"linearSpecularLOD",null),(0,Y.c)([(0,y.z)()],r.prototype,"irradianceTexture",null),(0,Y.c)([(0,y.E)()],r.prototype,"isRenderTarget",void 0)},12741:(h,d,T)=>{T.d(d,{c:()=>D});var Y=T(12750),y=T(12757),C=T(12583),n=T(12765),X=T(12791),F=T(12714),U=T(12617),Z=T(12651),S=T(12707),r=T(12814),c=T(12633);function O(h,d){let T=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const Y=d.width,y=d.height;if(h instanceof Float32Array){let d=h.byteLength/h.BYTES_PER_ELEMENT;const T=new Uint8Array(d);for(;--d>=0;){let Y=h[d];Y<0?Y=0:Y>1&&(Y=1),T[d]=255*Y}h=T}const C=document.createElement("canvas");C.width=Y,C.height=y;const n=C.getContext("2d");if(!n)return null;const X=n.createImageData(Y,y);if(X.data.set(h),n.putImageData(X,0,0),T){const h=document.createElement("canvas");h.width=Y,h.height=y;const d=h.getContext("2d");return d?(d.translate(0,y),d.scale(1,-1),d.drawImage(C,0,0),h.toDataURL("image/png")):null}return C.toDataURL("image/png")}function f(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Y=h.getInternalTexture();if(!Y)return null;const y=h._readPixelsSync(d,T);return y?O(y,h.getSize(),Y.invertY):null}async function J(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Y=h.getInternalTexture();if(!Y)return null;const y=await h.readPixels(d,T);return y?O(y,h.getSize(),Y.invertY):null}var W=T(12817),L=T(12801);class D extends X.d{static _CreateVideoTexture(h,d,T){arguments.length>5&&void 0!==arguments[5]||D.TRILINEAR_SAMPLINGMODE;throw(0,U.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(h){this._isBlocking=h}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(h,d,T,Y){let y,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:D.TRILINEAR_SAMPLINGMODE,X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,U=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,S=arguments.length>8&&void 0!==arguments[8]&&arguments[8],r=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,O=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,J=arguments.length>13?arguments[13]:void 0;super(d),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new C.e,this._isBlocking=!0,this.name=h||"",this.url=h;let L=!1,V=null,i=!0;"object"===typeof T&&null!==T?(y=T.noMipmap??!1,Y=T.invertY??!W.b,n=T.samplingMode??D.TRILINEAR_SAMPLINGMODE,X=T.A??null,F=T.onError??null,U=T.buffer??null,S=T.deleteBuffer??!1,r=T.format,c=T.mimeType,O=T.loaderOptions,f=T.creationFlags,L=T.useSRGBBuffer??!1,V=T.internalTexture??null,i=T.gammaSpace??i,J=T.forcedExtension??J):y=!!T,this._gammaSpace=i,this._noMipmap=y,this._invertY=void 0===Y?!W.b:Y,this._initialSamplingMode=n,this._buffer=U,this._deleteBuffer=S,this._mimeType=c,this._loaderOptions=O,this._creationFlags=f,this._useSRGBBuffer=L,this._forcedExtension=J,void 0!==r&&(this._format=r);const w=this.Eh(),s=this._getEngine();if(!s)return;s.onBeforeTextureInitObservable.notifyObservers(this);const E=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),X&&X(),!this.isBlocking&&w&&w.resetCachedMaterial()},z=(h,d)=>{this._loadingError=!0,this._errorObject={message:h,exception:d},F&&F(h,d),D.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!V)return this._delayedOnLoad=E,void(this._delayedOnError=z);if(this._texture=V??this._getFromCache(this.url,y,n,this._invertY,L,this.isCube),this._texture)if(this._texture.isReady)Z.c.SetImmediate((()=>E()));else{const h=this._texture.onLoadedObservable.add(E);this._texture.onErrorObservable.add((d=>{var T;z(d.message,d.exception),null===(T=this._texture)||void 0===T||T.onLoadedObservable.remove(h)}))}else if(w&&w.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=E,this._delayedOnError=z;else{try{this._texture=s.createTexture(this.url,y,this._invertY,w,n,E,z,this._buffer,void 0,this._format,this._forcedExtension,c,O,f,L)}catch(x){throw z("error loading",x),x}S&&(this._buffer=null)}}updateURL(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0,Y=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Eh().markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=h),this.url=h,this._buffer=d,this._forcedExtension=Y,this.delayLoadState=4,T&&(this._delayedOnLoad=T),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const h=this.Eh();h&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?Z.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=h.getEngine().createTexture(this.url,this._noMipmap,this._invertY,h,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(h,d,T,Y){h*=this._cachedUScale,d*=this._cachedVScale,h-=this.uRotationCenter*this._cachedUScale,d-=this.vRotationCenter*this._cachedVScale,T-=this.wRotationCenter,n.pd.TransformCoordinatesFromFloatsToRef(h,d,T,this._rowGenerationMatrix,Y),Y.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,Y.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,Y.z+=this.wRotationCenter}getTextureMatrix(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*h===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*h,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=n.Matrix.Zero(),this._rowGenerationMatrix=new n.Matrix,this._t0=n.pd.Zero(),this._t1=n.pd.Zero(),this._t2=n.pd.Zero()),n.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(n.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,n.TmpVectors.Matrix[0]),n.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,n.TmpVectors.Matrix[1]),n.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,n.TmpVectors.Matrix[2]),n.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,n.TmpVectors.Matrix[3]),n.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(n.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(n.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(n.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.rS(this._t0),this._t2.rS(this._t0),n.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const d=this.Eh();if(!d)return this._cachedTextureMatrix;const T=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&T!==this._cachedIdentity3x2&&d.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const h=this.Eh();if(!h)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==D.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===h.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=n.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=n.Matrix.Zero());const d=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case D.PLANAR_MODE:n.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case D.PROJECTION_MODE:{n.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const d=h.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=d.updateFlag,d.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:n.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return d&&h.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const h={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,A:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return L.e.Clone((()=>new D(this._texture?this._texture.url:null,this.Eh(),h)),this)}serialize(){var h;const d=this.name;D.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const T=super.serialize(D._SerializeInternalTextureUniqueId);if(!T)return null;if(D.SerializeBuffers||D.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))T.base64String=this._buffer,T.name=T.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const h=this.mimeType||"image/png";T.base64String=`data:${h};base64,${(0,c.g)(this._buffer)}`}else(D.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(T.base64String=!this._engine||this._engine._features.supportSyncTextureRead?f(this):J(this));var Y;(T.invertY=this._invertY,T.samplingMode=this.samplingMode,T._creationFlags=this._creationFlags,T._useSRGBBuffer=this._useSRGBBuffer,D._SerializeInternalTextureUniqueId)&&(T.internalTextureUniqueId=null===(Y=this._texture)||void 0===Y?void 0:Y.uniqueId);return T.internalTextureLabel=null===(h=this._texture)||void 0===h?void 0:h.label,T.noMipmap=this._noMipmap,this.name=d,T}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(h,d,T){if(h.customType){const Y=S.c.Instantiate(h.customType).Parse(h,d,T);return h.samplingMode&&Y.updateSamplingMode&&Y._samplingMode&&Y._samplingMode!==h.samplingMode&&Y.updateSamplingMode(h.samplingMode),Y}if(h.isCube&&!h.isRenderTarget)return D._CubeTextureParser(h,d,T);const Y=void 0!==h.internalTextureUniqueId;if(!h.name&&!h.isRenderTarget&&!Y)return null;let y;if(Y){const T=d.getEngine().getLoadedTexturesCache();for(const d of T)if(d.uniqueId===h.internalTextureUniqueId){y=d;break}}const C=d=>{if(d&&d._texture&&(d._texture._cachedWrapU=null,d._texture._cachedWrapV=null,d._texture._cachedWrapR=null),h.samplingMode){const T=h.samplingMode;d&&d.samplingMode!==T&&d.updateSamplingMode(T)}if(d&&h.animations)for(let T=0;T<h.animations.length;T++){const Y=h.animations[T],y=(0,F.d)("BABYLON.Animation");y&&d.animations.push(y.Parse(Y))}d&&d._texture&&(Y&&!y&&d._texture._setUniqueId(h.internalTextureUniqueId),d._texture.label=h.internalTextureLabel)};return L.e.Parse((()=>{let Y=!0;if(h.noMipmap&&(Y=!1),h.mirrorPlane){const T=D._CreateMirror(h.name,h.renderTargetSize,d,Y);return T._waitingRenderList=h.renderList,T.mirrorPlane=r.d.Bd(h.mirrorPlane),C(T),T}if(h.isRenderTarget){let T=null;if(h.isCube){if(d.reflectionProbes)for(let Y=0;Y<d.reflectionProbes.length;Y++){const T=d.reflectionProbes[Y];if(T.name===h.name)return T.cubeTexture}}else T=D._CreateRenderTargetTexture(h.name,h.renderTargetSize,d,Y,h._creationFlags??0),T._waitingRenderList=h.renderList;return C(T),T}if(h.isVideo){const y=D._CreateVideoTexture(T+(h.url||h.name),T+(h.src||h.url),d,Y,h.invertY,h.samplingMode,h.settings||{});return C(y),y}{let n;if(h.base64String&&!y)n=D.CreateFromBase64String(h.base64String,h.base64String,d,!Y,h.invertY,h.samplingMode,(()=>{C(n)}),h._creationFlags??0,h._useSRGBBuffer??!1),n.name=h.name;else{let X;X=h.name&&(h.name.indexOf("://")>0||h.name.startsWith("data:"))?h.name:T+h.name,h.url&&(h.url.startsWith("data:")||D.UseSerializedUrlIfAny)&&(X=h.url);const F={noMipmap:!Y,invertY:h.invertY,samplingMode:h.samplingMode,A:()=>{C(n)},internalTexture:y};n=new D(X,d,F)}return n}}),h,d)}static CreateFromBase64String(h,d,T,Y,y){let C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:D.TRILINEAR_SAMPLINGMODE;return new D("data:"+d,T,Y,y,C,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(h,d,T){let Y=arguments.length>3&&void 0!==arguments[3]&&arguments[3],y=arguments.length>4?arguments[4]:void 0,C=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:D.TRILINEAR_SAMPLINGMODE,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,U=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,Z=arguments.length>10?arguments[10]:void 0,S=arguments.length>11?arguments[11]:void 0;return"data:"!==h.substring(0,5)&&(h="data:"+h),new D(h,T,y,C,n,X,F,d,Y,U,void 0,void 0,Z,S)}}D.SerializeBuffers=!0,D.ForceSerializeBuffers=!1,D.OnTextureLoadErrorObservable=new C.e,D._SerializeInternalTextureUniqueId=!1,D._CubeTextureParser=(h,d,T)=>{throw(0,U.e)("CubeTexture")},D._CreateMirror=(h,d,T,Y)=>{throw(0,U.e)("MirrorTexture")},D._CreateRenderTargetTexture=(h,d,T,Y,y)=>{throw(0,U.e)("RenderTargetTexture")},D.NEAREST_SAMPLINGMODE=1,D.NEAREST_NEAREST_MIPLINEAR=8,D.BILINEAR_SAMPLINGMODE=2,D.LINEAR_LINEAR_MIPNEAREST=11,D.TRILINEAR_SAMPLINGMODE=3,D.LINEAR_LINEAR_MIPLINEAR=3,D.NEAREST_NEAREST_MIPNEAREST=4,D.NEAREST_LINEAR_MIPNEAREST=5,D.NEAREST_LINEAR_MIPLINEAR=6,D.NEAREST_LINEAR=7,D.NEAREST_NEAREST=1,D.LINEAR_NEAREST_MIPNEAREST=9,D.LINEAR_NEAREST_MIPLINEAR=10,D.LINEAR_LINEAR=2,D.LINEAR_NEAREST=12,D.EXPLICIT_MODE=0,D.SPHERICAL_MODE=1,D.PLANAR_MODE=2,D.CUBIC_MODE=3,D.PROJECTION_MODE=4,D.SKYBOX_MODE=5,D.INVCUBIC_MODE=6,D.EQUIRECTANGULAR_MODE=7,D.FIXED_EQUIRECTANGULAR_MODE=8,D.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,D.CLAMP_ADDRESSMODE=0,D.WRAP_ADDRESSMODE=1,D.MIRROR_ADDRESSMODE=2,D.UseSerializedUrlIfAny=!1,(0,Y.c)([(0,y.E)()],D.prototype,"url",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"uOffset",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"vOffset",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"uScale",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"vScale",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"uAng",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"vAng",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"wAng",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"uRotationCenter",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"vRotationCenter",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"wRotationCenter",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"homogeneousRotationInUVTransform",void 0),(0,Y.c)([(0,y.E)()],D.prototype,"isBlocking",null),(0,F.e)("BABYLON.Texture",D),L.e._TextureParser=D.Parse},12814:(h,d,T)=>{T.d(d,{d:()=>y});var Y=T(12765);class y{constructor(h,d,T,y){this.normal=new Y.pd(h,d,T),this.d=y}ad(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new y(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let h=this.normal.getHashCode();return h=397*h^this.d,h}normalize(){const h=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let d=0;return 0!==h&&(d=1/h),this.normal.x*=d,this.normal.y*=d,this.normal.z*=d,this.d*=d,this}transform(h){const d=y._TmpMatrix;h.invertToRef(d);const T=d.m,Y=this.normal.x,C=this.normal.y,n=this.normal.z,X=this.d,F=Y*T[0]+C*T[1]+n*T[2]+X*T[3],U=Y*T[4]+C*T[5]+n*T[6]+X*T[7],Z=Y*T[8]+C*T[9]+n*T[10]+X*T[11],S=Y*T[12]+C*T[13]+n*T[14]+X*T[15];return new y(F,U,Z,S)}dotCoordinate(h){return this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z+this.d}copyFromPoints(h,d,T){const Y=d.x-h.x,y=d.y-h.y,C=d.z-h.z,n=T.x-h.x,X=T.y-h.y,F=T.z-h.z,U=y*F-C*X,Z=C*n-Y*F,S=Y*X-y*n,r=Math.sqrt(U*U+Z*Z+S*S);let c;return c=0!==r?1/r:0,this.normal.x=U*c,this.normal.y=Z*c,this.normal.z=S*c,this.d=-(this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z),this}isFrontFacingTo(h,d){return Y.pd.Dot(this.normal,h)<=d}signedDistanceTo(h){return Y.pd.Dot(h,this.normal)+this.d}static Bd(h){return new y(h[0],h[1],h[2],h[3])}static FromPoints(h,d,T){const Y=new y(0,0,0,0);return Y.copyFromPoints(h,d,T),Y}static FromPositionAndNormal(h,d){const T=new y(0,0,0,0);return this.FromPositionAndNormalToRef(h,d,T)}static FromPositionAndNormalToRef(h,d,T){return T.normal.C(d),T.normal.normalize(),T.d=-h.dot(T.normal),T}static SignedDistanceToPlaneFromPositionAndNormal(h,d,T){const y=-(d.x*h.x+d.y*h.y+d.z*h.z);return Y.pd.Dot(T,d)+y}}y._TmpMatrix=Y.Matrix.Identity()},12793:(h,d,T)=>{T.d(d,{e:()=>Y});class Y{constructor(h,d){this.width=h,this.height=d}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let h=0|this.width;return h=397*h^this.height,h}C(h){this.width=h.width,this.height=h.height}ny(h,d){return this.width=h,this.height=d,this}set(h,d){return this.ny(h,d)}multiplyByFloats(h,d){return new Y(this.width*h,this.height*d)}clone(){return new Y(this.width,this.height)}equals(h){return!!h&&(this.width===h.width&&this.height===h.height)}get surface(){return this.width*this.height}static Zero(){return new Y(0,0)}add(h){return new Y(this.width+h.width,this.height+h.height)}Nd(h){return new Y(this.width-h.width,this.height-h.height)}scale(h){return new Y(this.width*h,this.height*h)}static Lerp(h,d,T){const y=h.width+(d.width-h.width)*T,C=h.height+(d.height-h.height)*T;return new Y(y,C)}}},12760:(h,d,T)=>{T.d(d,{b:()=>C,e:()=>n});const Y={},y={};function C(h){const d=h.getClassName();return y[d]||(y[d]={}),y[d]}function n(h){const d=h.getClassName();if(Y[d])return Y[d];Y[d]={};const T=Y[d];let C=h,n=d;for(;n;){const h=y[n];for(const y in h)T[y]=h[y];let d,Y=!1;do{if(d=Object.getPrototypeOf(C),!d.getClassName){Y=!0;break}if(d.getClassName()!==n)break;C=d}while(d);if(Y)break;n=d.getClassName(),C=d}return T}},12757:(h,d,T)=>{T.d(d,{A:()=>Z,B:()=>S,E:()=>n,c:()=>C,d:()=>L,h:()=>c,l:()=>F,o:()=>O,p:()=>U,s:()=>f,t:()=>W,v:()=>r,x:()=>J,z:()=>X});var Y=T(12760);function y(h,d){return(T,y)=>{const C=(0,Y.b)(T);C[y]||(C[y]={type:h,sourceName:d})}}function C(h){return function(h){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(T,Y)=>{const y=d||"_"+Y;Object.defineProperty(T,Y,{get:function(){return this[y]},set:function(d){var Y;"function"===typeof(null===(Y=this[y])||void 0===Y?void 0:Y.equals)&&this[y].equals(d)||this[y]!==d&&(this[y]=d,T[h].apply(this))},enumerable:!0,configurable:!0})}}(h,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function n(h){return y(0,h)}function X(h){return y(1,h)}function F(h){return y(2,h)}function U(h){return y(3,h)}function Z(h){return y(4,h)}function S(h){return y(5,h)}function r(h){return y(6,h)}function c(h){return y(7,h)}function O(h){return y(8,h)}function f(h){return y(9,h)}function J(h){return y(10,h)}function W(h){return y(12,h)}function L(h,d,T,Y){const y=T.value;T.value=function(){let T=y;if("undefined"!==typeof _native&&_native[d]){const h=_native[d];T=Y?function(){return Y(...arguments)?h(...arguments):y(...arguments)}:h}return h[d]=T,T(...arguments)}}L.filter=function(h){return(d,T,Y)=>L(d,T,Y,h)}},12801:(h,d,T)=>{T.d(d,{e:()=>U});var Y=T(12617),y=T(12809),C=T(12812),n=T(12765),X=T(12760);const F=function(h,d,T){let Y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const C=h();y.e&&y.e.HasTags(d)&&y.e.AddTagsTo(C,y.e.GetTags(d,!0));const n=(0,X.e)(C),F={};for(const y in n){const h=n[y],X=d[y],Z=h.type;if(void 0!==X&&null!==X&&("uniqueId"!==y||U.AllowLoadingUniqueId))switch(Z){case 0:case 6:case 9:case 11:C[y]=X;break;case 1:Y.cloneTexturesOnlyOnce&&F[X.uniqueId]?C[y]=F[X.uniqueId]:(C[y]=T||X.isRenderTarget?X:X.clone(),F[X.uniqueId]=C[y]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:C[y]=T?X:X.clone()}}return C};class U{static AppendSerializedAnimations(h,d){if(h.animations){d.animations=[];for(let T=0;T<h.animations.length;T++){const Y=h.animations[T];d.animations.push(Y.serialize())}}}static Serialize(h,d){d||(d={}),y.e&&(d.tags=y.e.GetTags(h));const T=(0,X.e)(h);for(const Y in T){const y=T[Y],C=y.sourceName||Y,n=y.type,X=h[Y];if(void 0!==X&&null!==X&&("uniqueId"!==Y||U.AllowLoadingUniqueId))switch(n){case 0:d[C]=X;break;case 1:case 3:case 7:case 9:d[C]=X.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:d[C]=X.ad();break;case 6:case 11:d[C]=X.id}}return d}static ParseProperties(h,d,T,Y){Y||(Y="");const y=(0,X.e)(d);for(const X in y){const F=y[X],Z=h[F.sourceName||X],S=F.type;if(void 0!==Z&&null!==Z&&("uniqueId"!==X||U.AllowLoadingUniqueId)){const h=d;switch(S){case 0:h[X]=Z;break;case 1:T&&(h[X]=U._TextureParser(Z,T,Y));break;case 2:h[X]=C.ed.Bd(Z);break;case 3:h[X]=U._FresnelParametersParser(Z);break;case 4:h[X]=n.Vector2.Bd(Z);break;case 5:h[X]=n.pd.Bd(Z);break;case 6:T&&(h[X]=T.getLastMeshById(Z));break;case 7:h[X]=U._ColorCurvesParser(Z);break;case 8:h[X]=C.ln.Bd(Z);break;case 9:h[X]=U._ImageProcessingConfigurationParser(Z);break;case 10:h[X]=n.Quaternion.Bd(Z);break;case 11:T&&(h[X]=T.getCameraById(Z));break;case 12:h[X]=n.Matrix.Bd(Z)}}}}static Parse(h,d,T){let Y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const C=h();return y.e&&y.e.AddTagsTo(C,d.tags),U.ParseProperties(d,C,T,Y),C}static Clone(h,d){return F(h,d,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(h,d){return F(h,d,!0)}}U.AllowLoadingUniqueId=!1,U._ImageProcessingConfigurationParser=h=>{throw(0,Y.e)("ImageProcessingConfiguration")},U._FresnelParametersParser=h=>{throw(0,Y.e)("FresnelParameters")},U._ColorCurvesParser=h=>{throw(0,Y.e)("ColorCurves")},U._TextureParser=(h,d,T)=>{throw(0,Y.e)("Texture")}},12809:(h,d,T)=>{T.d(d,{e:()=>y});class Y{static Eval(h,d){return"true"===(h=h.match(/\([^()]*\)/g)?h.replace(/\([^()]*\)/g,(h=>(h=h.slice(1,h.length-1),Y._HandleParenthesisContent(h,d)))):Y._HandleParenthesisContent(h,d))||"false"!==h&&Y.Eval(h,d)}static _HandleParenthesisContent(h,d){let T;d=d||(h=>"true"===h);const y=h.split("||");for(const C in y)if(Object.prototype.hasOwnProperty.call(y,C)){let h=Y._SimplifyNegation(y[C].trim());const n=h.split("&&");if(n.length>1)for(let y=0;y<n.length;++y){const C=Y._SimplifyNegation(n[y].trim());if(T="true"!==C&&"false"!==C?"!"===C[0]?!d(C.substring(1)):d(C):"true"===C,!T){h="false";break}}if(T||"true"===h){T=!0;break}T="true"!==h&&"false"!==h?"!"===h[0]?!d(h.substring(1)):d(h):"true"===h}return T?"true":"false"}static _SimplifyNegation(h){return"!true"===(h=(h=h.replace(/^[\s!]+/,(h=>(h=h.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?h="false":"!false"===h&&(h="true"),h}}class y{static EnableFor(h){h._tags=h._tags||{},h.hasTags=()=>y.HasTags(h),h.addTags=d=>y.AddTagsTo(h,d),h.removeTags=d=>y.RemoveTagsFrom(h,d),h.matchesTagsQuery=d=>y.MatchesQuery(h,d)}static DisableFor(h){delete h._tags,delete h.hasTags,delete h.addTags,delete h.removeTags,delete h.matchesTagsQuery}static HasTags(h){if(!h._tags)return!1;const d=h._tags;for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T))return!0;return!1}static GetTags(h){let d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!h._tags)return null;if(d){const d=[];for(const T in h._tags)Object.prototype.hasOwnProperty.call(h._tags,T)&&!0===h._tags[T]&&d.push(T);return d.join(" ")}return h._tags}static AddTagsTo(h,d){if(!d)return;if("string"!==typeof d)return;const T=d.split(" ");for(const Y of T)y._AddTagTo(h,Y)}static _AddTagTo(h,d){""!==(d=d.trim())&&"true"!==d&&"false"!==d&&(d.match(/[\s]/)||d.match(/^([!]|([|]|[&]){2})/)||(y.EnableFor(h),h._tags[d]=!0))}static RemoveTagsFrom(h,d){if(!y.HasTags(h))return;const T=d.split(" ");for(const Y in T)y._RemoveTagFrom(h,T[Y])}static _RemoveTagFrom(h,d){delete h._tags[d]}static MatchesQuery(h,d){return void 0===d||(""===d?y.HasTags(h):Y.Eval(d,(d=>y.HasTags(h)&&h._tags[d])))}}},12750:(h,d,T)=>{T.d(d,{c:()=>Y});function Y(h,d,T,Y){var y,C=arguments.length,n=C<3?d:null===Y?Y=Object.getOwnPropertyDescriptor(d,T):Y;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(h,d,T,Y);else for(var X=h.length-1;X>=0;X--)(y=h[X])&&(n=(C<3?y(n):C>3?y(d,T,n):y(d,T))||n);return C>3&&n&&Object.defineProperty(d,T,n),n}Object.create;Object.create}}]);