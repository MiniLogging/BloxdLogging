"use strict";(self.n52dyox90qa=self.n52dyox90qa||[]).push([[13],{11870:(E,t,z)=>{z.d(t,{d:()=>A});let A=!1},11840:(E,t,z)=>{z.d(t,{b:()=>d});var A=z(11792),X=z(11801),R=z(11632),u=z(11812),p=z(11667),C=z(11772),Z=(z(11674),z(11843));class H{get wrapU(){return this._wrapU}set wrapU(E){this._wrapU=E}get wrapV(){return this._wrapV}set wrapV(E){this._wrapV=E}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(E){this._texture&&(this._texture.isCube=E)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(E){this._texture&&(this._texture.is3D=E)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(E){this._texture&&(this._texture.is2DArray=E)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(E){return void 0!==(null===E||void 0===E?void 0:E.shareDepth)}constructor(E){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=Z.e.Zero(),this._cachedBaseSize=Z.e.Zero(),this._initialSamplingMode=2,this._texture=H._IsRenderTargetWrapper(E)?E.texture:E,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(E){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(E,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var h=z(11849);class d extends H{set pp(E){this._hasAlpha!==E&&(this._hasAlpha=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get pp(){return this._hasAlpha}set getAlphaFromRGB(E){this._getAlphaFromRGB!==E&&(this._getAlphaFromRGB=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(E){this._coordinatesIndex!==E&&(this._coordinatesIndex=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(E){this._coordinatesMode!==E&&(this._coordinatesMode=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(E){this._wrapU=E}get wrapV(){return this._wrapV}set wrapV(E){this._wrapV=E}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(E){this._texture?this._texture.isCube=E:this._isCube=E}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(E){this._texture&&(this._texture.is3D=E)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(E){this._texture&&(this._texture.is2DArray=E)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(E){var t;if(this._texture){if(this._texture._gammaSpace===E)return;this._texture._gammaSpace=E}else{if(this._gammaSpace===E)return;this._gammaSpace=E}null===(t=this.lE())||void 0===t||t.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(E){var t;E!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=E),null===(t=this.lE())||void 0===t||t.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(E){this._texture&&(this._texture._lodGenerationOffset=E)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(E){this._texture&&(this._texture._lodGenerationScale=E)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(E){this._texture&&(this._texture._linearSpecularLOD=E)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(E){this._texture&&(this._texture._irradianceTexture=E)}get uid(){return this._uid||(this._uid=(0,C.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(E){this._onDisposeObserver&&this.IX.remove(this._onDisposeObserver),this._onDisposeObserver=this.IX.add(E)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=d.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.IX=new R.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,E?d._IsScene(E)?this._scene=E:this._engine=E:this._scene=p.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=t,this._uid=null}lE(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return u.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return u.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(E){}get canRescale(){return!1}_getFromCache(E,t,z,A,X,R){const u=this._getEngine();if(!u)return null;const p=u._getUseSRGBBuffer(!!X,t),C=u.getLoadedTexturesCache();for(let Z=0;Z<C.length;Z++){const u=C[Z];if((void 0===X||p===u._useSRGBBuffer)&&(void 0===A||A===u.invertY)&&u.url===E&&u.generateMipMaps===!t&&(!z||z===u.samplingMode)&&(void 0===R||R===u.isCube))return u.incrementReferences(),u}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const E=this.lE();E&&E.markAllMaterialsAsDirty(1)}readPixels(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4],R=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const Z=this._getEngine();if(!Z)return null;const H=this.getSize();let h=H.width,d=H.height;0!==t&&(h/=Math.pow(2,t),d/=Math.pow(2,t),h=Math.round(h),d=Math.round(d)),p=Math.min(h,p),C=Math.min(d,C);try{return this._texture.isCube?Z._readTexturePixels(this._texture,p,C,E,t,z,A,X,R,u):Z._readTexturePixels(this._texture,p,C,-1,t,z,A,X,R,u)}catch(y){return null}}_readPixelsSync(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const R=this.getSize();let u=R.width,p=R.height;const C=this._getEngine();if(!C)return null;0!=t&&(u/=Math.pow(2,t),p/=Math.pow(2,t),u=Math.round(u),p=Math.round(p));try{return this._texture.isCube?C._readTexturePixelsSync(this._texture,u,p,E,t,z,A,X):C._readTexturePixelsSync(this._texture,u,p,-1,t,z,A,X)}catch(Z){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const E=this._scene.textures.indexOf(this);if(E>=0&&this._scene.textures.splice(E,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const E=this._parentContainer.textures.indexOf(this);E>-1&&this._parentContainer.textures.splice(E,1),this._parentContainer=null}}this.IX.notifyObservers(this),this.IX.clear(),this.metadata=null,super.dispose()}serialize(){let E=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!E)return null;const t=h.b.Serialize(this);return h.b.AppendSerializedAnimations(this,t),t}static WhenAllReady(E,t){let z=E.length;if(0!==z)for(let A=0;A<E.length;A++){const X=E[A];if(X.isReady())0===--z&&t();else{const E=X.onLoadObservable;E?E.addOnce((()=>{0===--z&&t()})):0===--z&&t()}}else t()}static _IsScene(E){return"Scene"===E.getClassName()}}d.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,A.b)([(0,X.K)()],d.prototype,"uniqueId",void 0),(0,A.b)([(0,X.K)()],d.prototype,"name",void 0),(0,A.b)([(0,X.K)()],d.prototype,"displayName",void 0),(0,A.b)([(0,X.K)()],d.prototype,"metadata",void 0),(0,A.b)([(0,X.K)("pp")],d.prototype,"_hasAlpha",void 0),(0,A.b)([(0,X.K)("getAlphaFromRGB")],d.prototype,"_getAlphaFromRGB",void 0),(0,A.b)([(0,X.K)()],d.prototype,"level",void 0),(0,A.b)([(0,X.K)("coordinatesIndex")],d.prototype,"_coordinatesIndex",void 0),(0,A.b)([(0,X.K)()],d.prototype,"optimizeUVAllocation",void 0),(0,A.b)([(0,X.K)("coordinatesMode")],d.prototype,"_coordinatesMode",void 0),(0,A.b)([(0,X.K)()],d.prototype,"wrapU",null),(0,A.b)([(0,X.K)()],d.prototype,"wrapV",null),(0,A.b)([(0,X.K)()],d.prototype,"wrapR",void 0),(0,A.b)([(0,X.K)()],d.prototype,"anisotropicFilteringLevel",void 0),(0,A.b)([(0,X.K)()],d.prototype,"isCube",null),(0,A.b)([(0,X.K)()],d.prototype,"is3D",null),(0,A.b)([(0,X.K)()],d.prototype,"is2DArray",null),(0,A.b)([(0,X.K)()],d.prototype,"gammaSpace",null),(0,A.b)([(0,X.K)()],d.prototype,"invertZ",void 0),(0,A.b)([(0,X.K)()],d.prototype,"lodLevelInAlpha",void 0),(0,A.b)([(0,X.K)()],d.prototype,"lodGenerationOffset",null),(0,A.b)([(0,X.K)()],d.prototype,"lodGenerationScale",null),(0,A.b)([(0,X.K)()],d.prototype,"linearSpecularLOD",null),(0,A.b)([(0,X.B)()],d.prototype,"irradianceTexture",null),(0,A.b)([(0,X.K)()],d.prototype,"isRenderTarget",void 0)},11790:(E,t,z)=>{z.d(t,{d:()=>W});var A=z(11792),X=z(11801),R=z(11632),u=z(11812),p=z(11840),C=z(11766),Z=z(11657),H=z(11707),h=z(11761),d=z(11861),y=z(11689);function O(E,t){let z=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=t.width,X=t.height;if(E instanceof Float32Array){let t=E.byteLength/E.BYTES_PER_ELEMENT;const z=new Uint8Array(t);for(;--t>=0;){let A=E[t];A<0?A=0:A>1&&(A=1),z[t]=255*A}E=z}const R=document.createElement("canvas");R.width=A,R.height=X;const u=R.getContext("2d");if(!u)return null;const p=u.createImageData(A,X);if(p.data.set(E),u.putImageData(p,0,0),z){const E=document.createElement("canvas");E.width=A,E.height=X;const t=E.getContext("2d");return t?(t.translate(0,X),t.scale(1,-1),t.drawImage(R,0,0),E.toDataURL("image/png")):null}return R.toDataURL("image/png")}function c(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=E.getInternalTexture();if(!A)return null;const X=E._readPixelsSync(t,z);return X?O(X,E.getSize(),A.invertY):null}async function a(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=E.getInternalTexture();if(!A)return null;const X=await E.readPixels(t,z);return X?O(X,E.getSize(),A.invertY):null}var L=z(11870),mE=z(11849);class W extends p.b{static _CreateVideoTexture(E,t,z){arguments.length>5&&void 0!==arguments[5]||W.TRILINEAR_SAMPLINGMODE;throw(0,Z.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(E){this._isBlocking=E}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(E,t,z,A){let X,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W.TRILINEAR_SAMPLINGMODE,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,Z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0,O=arguments.length>11?arguments[11]:void 0,c=arguments.length>12?arguments[12]:void 0,a=arguments.length>13?arguments[13]:void 0;super(t),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new R.b,this._isBlocking=!0,this.name=E||"",this.url=E;let mE=!1,I=null,e=!0;"object"===typeof z&&null!==z?(X=z.noMipmap??!1,A=z.invertY??!L.d,u=z.samplingMode??W.TRILINEAR_SAMPLINGMODE,p=z.G??null,C=z.onError??null,Z=z.buffer??null,h=z.deleteBuffer??!1,d=z.format,y=z.mimeType,O=z.loaderOptions,c=z.creationFlags,mE=z.useSRGBBuffer??!1,I=z.internalTexture??null,e=z.gammaSpace??e,a=z.forcedExtension??a):X=!!z,this._gammaSpace=e,this._noMipmap=X,this._invertY=void 0===A?!L.d:A,this._initialSamplingMode=u,this._buffer=Z,this._deleteBuffer=h,this._mimeType=y,this._loaderOptions=O,this._creationFlags=c,this._useSRGBBuffer=mE,this._forcedExtension=a,void 0!==d&&(this._format=d);const D=this.lE(),S=this._getEngine();if(!S)return;S.onBeforeTextureInitObservable.notifyObservers(this);const l=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),p&&p(),!this.isBlocking&&D&&D.resetCachedMaterial()},f=(E,t)=>{this._loadingError=!0,this._errorObject={message:E,exception:t},C&&C(E,t),W.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!I)return this._delayedOnLoad=l,void(this._delayedOnError=f);if(this._texture=I??this._getFromCache(this.url,X,u,this._invertY,mE,this.isCube),this._texture)if(this._texture.isReady)H.c.SetImmediate((()=>l()));else{const E=this._texture.onLoadedObservable.add(l);this._texture.onErrorObservable.add((t=>{var z;f(t.message,t.exception),null===(z=this._texture)||void 0===z||z.onLoadedObservable.remove(E)}))}else if(D&&D.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=l,this._delayedOnError=f;else{try{this._texture=S.createTexture(this.url,X,this._invertY,D,u,l,f,this._buffer,void 0,this._format,this._forcedExtension,y,O,c,mE)}catch(K){throw f("error loading",K),K}h&&(this._buffer=null)}}updateURL(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,z=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.lE().markAllMaterialsAsDirty(1,(E=>E.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=E),this.url=E,this._buffer=t,this._forcedExtension=A,this.delayLoadState=4,z&&(this._delayedOnLoad=z),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const E=this.lE();E&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?H.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=E.getEngine().createTexture(this.url,this._noMipmap,this._invertY,E,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(E,t,z,A){E*=this._cachedUScale,t*=this._cachedVScale,E-=this.uRotationCenter*this._cachedUScale,t-=this.vRotationCenter*this._cachedVScale,z-=this.wRotationCenter,u.Lt.TransformCoordinatesFromFloatsToRef(E,t,z,this._rowGenerationMatrix,A),A.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,A.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,A.z+=this.wRotationCenter}getTextureMatrix(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*E===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*E,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=u.Matrix.Zero(),this._rowGenerationMatrix=new u.Matrix,this._t0=u.Lt.Zero(),this._t1=u.Lt.Zero(),this._t2=u.Lt.Zero()),u.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(u.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,u.TmpVectors.Matrix[0]),u.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,u.TmpVectors.Matrix[1]),u.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,u.TmpVectors.Matrix[2]),u.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,u.TmpVectors.Matrix[3]),u.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.kH(this._t0),this._t2.kH(this._t0),u.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const t=this.lE();if(!t)return this._cachedTextureMatrix;const z=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&z!==this._cachedIdentity3x2&&t.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const E=this.lE();if(!E)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==W.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===E.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=u.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=u.Matrix.Zero());const t=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case W.PLANAR_MODE:u.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case W.PROJECTION_MODE:{u.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const t=E.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=t.updateFlag,t.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:u.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return t&&E.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const E={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,G:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return mE.b.Clone((()=>new W(this._texture?this._texture.url:null,this.lE(),E)),this)}serialize(){var E;const t=this.name;W.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const z=super.serialize(W._SerializeInternalTextureUniqueId);if(!z)return null;if(W.SerializeBuffers||W.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))z.base64String=this._buffer,z.name=z.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const E=this.mimeType||"image/png";z.base64String=`data:${E};base64,${(0,y.k)(this._buffer)}`}else(W.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(z.base64String=!this._engine||this._engine._features.supportSyncTextureRead?c(this):a(this));var A;(z.invertY=this._invertY,z.samplingMode=this.samplingMode,z._creationFlags=this._creationFlags,z._useSRGBBuffer=this._useSRGBBuffer,W._SerializeInternalTextureUniqueId)&&(z.internalTextureUniqueId=null===(A=this._texture)||void 0===A?void 0:A.uniqueId);return z.internalTextureLabel=null===(E=this._texture)||void 0===E?void 0:E.label,z.noMipmap=this._noMipmap,this.name=t,z}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(E,t,z){if(E.customType){const A=h.b.Instantiate(E.customType).Parse(E,t,z);return E.samplingMode&&A.updateSamplingMode&&A._samplingMode&&A._samplingMode!==E.samplingMode&&A.updateSamplingMode(E.samplingMode),A}if(E.isCube&&!E.isRenderTarget)return W._CubeTextureParser(E,t,z);const A=void 0!==E.internalTextureUniqueId;if(!E.name&&!E.isRenderTarget&&!A)return null;let X;if(A){const z=t.getEngine().getLoadedTexturesCache();for(const t of z)if(t.uniqueId===E.internalTextureUniqueId){X=t;break}}const R=t=>{if(t&&t._texture&&(t._texture._cachedWrapU=null,t._texture._cachedWrapV=null,t._texture._cachedWrapR=null),E.samplingMode){const z=E.samplingMode;t&&t.samplingMode!==z&&t.updateSamplingMode(z)}if(t&&E.animations)for(let z=0;z<E.animations.length;z++){const A=E.animations[z],X=(0,C.d)("BABYLON.Animation");X&&t.animations.push(X.Parse(A))}t&&t._texture&&(A&&!X&&t._texture._setUniqueId(E.internalTextureUniqueId),t._texture.label=E.internalTextureLabel)};return mE.b.Parse((()=>{let A=!0;if(E.noMipmap&&(A=!1),E.mirrorPlane){const z=W._CreateMirror(E.name,E.renderTargetSize,t,A);return z._waitingRenderList=E.renderList,z.mirrorPlane=d.d.St(E.mirrorPlane),R(z),z}if(E.isRenderTarget){let z=null;if(E.isCube){if(t.reflectionProbes)for(let A=0;A<t.reflectionProbes.length;A++){const z=t.reflectionProbes[A];if(z.name===E.name)return z.cubeTexture}}else z=W._CreateRenderTargetTexture(E.name,E.renderTargetSize,t,A,E._creationFlags??0),z._waitingRenderList=E.renderList;return R(z),z}if(E.isVideo){const X=W._CreateVideoTexture(z+(E.url||E.name),z+(E.src||E.url),t,A,E.invertY,E.samplingMode,E.settings||{});return R(X),X}{let u;if(E.base64String&&!X)u=W.CreateFromBase64String(E.base64String,E.base64String,t,!A,E.invertY,E.samplingMode,(()=>{R(u)}),E._creationFlags??0,E._useSRGBBuffer??!1),u.name=E.name;else{let p;p=E.name&&(E.name.indexOf("://")>0||E.name.startsWith("data:"))?E.name:z+E.name,E.url&&(E.url.startsWith("data:")||W.UseSerializedUrlIfAny)&&(p=E.url);const C={noMipmap:!A,invertY:E.invertY,samplingMode:E.samplingMode,G:()=>{R(u)},internalTexture:X};u=new W(p,t,C)}return u}}),E,t)}static CreateFromBase64String(E,t,z,A,X){let R=arguments.length>5&&void 0!==arguments[5]?arguments[5]:W.TRILINEAR_SAMPLINGMODE;return new W("data:"+t,z,A,X,R,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(E,t,z){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3],X=arguments.length>4?arguments[4]:void 0,R=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:W.TRILINEAR_SAMPLINGMODE,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,Z=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,H=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return"data:"!==E.substring(0,5)&&(E="data:"+E),new W(E,z,X,R,u,p,C,t,A,Z,void 0,void 0,H,h)}}W.SerializeBuffers=!0,W.ForceSerializeBuffers=!1,W.OnTextureLoadErrorObservable=new R.b,W._SerializeInternalTextureUniqueId=!1,W._CubeTextureParser=(E,t,z)=>{throw(0,Z.b)("CubeTexture")},W._CreateMirror=(E,t,z,A)=>{throw(0,Z.b)("MirrorTexture")},W._CreateRenderTargetTexture=(E,t,z,A,X)=>{throw(0,Z.b)("RenderTargetTexture")},W.NEAREST_SAMPLINGMODE=1,W.NEAREST_NEAREST_MIPLINEAR=8,W.BILINEAR_SAMPLINGMODE=2,W.LINEAR_LINEAR_MIPNEAREST=11,W.TRILINEAR_SAMPLINGMODE=3,W.LINEAR_LINEAR_MIPLINEAR=3,W.NEAREST_NEAREST_MIPNEAREST=4,W.NEAREST_LINEAR_MIPNEAREST=5,W.NEAREST_LINEAR_MIPLINEAR=6,W.NEAREST_LINEAR=7,W.NEAREST_NEAREST=1,W.LINEAR_NEAREST_MIPNEAREST=9,W.LINEAR_NEAREST_MIPLINEAR=10,W.LINEAR_LINEAR=2,W.LINEAR_NEAREST=12,W.EXPLICIT_MODE=0,W.SPHERICAL_MODE=1,W.PLANAR_MODE=2,W.CUBIC_MODE=3,W.PROJECTION_MODE=4,W.SKYBOX_MODE=5,W.INVCUBIC_MODE=6,W.EQUIRECTANGULAR_MODE=7,W.FIXED_EQUIRECTANGULAR_MODE=8,W.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,W.CLAMP_ADDRESSMODE=0,W.WRAP_ADDRESSMODE=1,W.MIRROR_ADDRESSMODE=2,W.UseSerializedUrlIfAny=!1,(0,A.b)([(0,X.K)()],W.prototype,"url",void 0),(0,A.b)([(0,X.K)()],W.prototype,"uOffset",void 0),(0,A.b)([(0,X.K)()],W.prototype,"vOffset",void 0),(0,A.b)([(0,X.K)()],W.prototype,"uScale",void 0),(0,A.b)([(0,X.K)()],W.prototype,"vScale",void 0),(0,A.b)([(0,X.K)()],W.prototype,"uAng",void 0),(0,A.b)([(0,X.K)()],W.prototype,"vAng",void 0),(0,A.b)([(0,X.K)()],W.prototype,"wAng",void 0),(0,A.b)([(0,X.K)()],W.prototype,"uRotationCenter",void 0),(0,A.b)([(0,X.K)()],W.prototype,"vRotationCenter",void 0),(0,A.b)([(0,X.K)()],W.prototype,"wRotationCenter",void 0),(0,A.b)([(0,X.K)()],W.prototype,"homogeneousRotationInUVTransform",void 0),(0,A.b)([(0,X.K)()],W.prototype,"isBlocking",null),(0,C.f)("BABYLON.Texture",W),mE.b._TextureParser=W.Parse},11861:(E,t,z)=>{z.d(t,{d:()=>X});var A=z(11812);class X{constructor(E,t,z,X){this.normal=new A.Lt(E,t,z),this.d=X}upE(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new X(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let E=this.normal.getHashCode();return E=397*E^this.d,E}normalize(){const E=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let t=0;return 0!==E&&(t=1/E),this.normal.x*=t,this.normal.y*=t,this.normal.z*=t,this.d*=t,this}transform(E){const t=X._TmpMatrix;E.invertToRef(t);const z=t.m,A=this.normal.x,R=this.normal.y,u=this.normal.z,p=this.d,C=A*z[0]+R*z[1]+u*z[2]+p*z[3],Z=A*z[4]+R*z[5]+u*z[6]+p*z[7],H=A*z[8]+R*z[9]+u*z[10]+p*z[11],h=A*z[12]+R*z[13]+u*z[14]+p*z[15];return new X(C,Z,H,h)}dotCoordinate(E){return this.normal.x*E.x+this.normal.y*E.y+this.normal.z*E.z+this.d}copyFromPoints(E,t,z){const A=t.x-E.x,X=t.y-E.y,R=t.z-E.z,u=z.x-E.x,p=z.y-E.y,C=z.z-E.z,Z=X*C-R*p,H=R*u-A*C,h=A*p-X*u,d=Math.sqrt(Z*Z+H*H+h*h);let y;return y=0!==d?1/d:0,this.normal.x=Z*y,this.normal.y=H*y,this.normal.z=h*y,this.d=-(this.normal.x*E.x+this.normal.y*E.y+this.normal.z*E.z),this}isFrontFacingTo(E,t){return A.Lt.Dot(this.normal,E)<=t}signedDistanceTo(E){return A.Lt.Dot(E,this.normal)+this.d}static St(E){return new X(E[0],E[1],E[2],E[3])}static FromPoints(E,t,z){const A=new X(0,0,0,0);return A.copyFromPoints(E,t,z),A}static FromPositionAndNormal(E,t){const z=new X(0,0,0,0);return this.FromPositionAndNormalToRef(E,t,z)}static FromPositionAndNormalToRef(E,t,z){return z.normal.R(t),z.normal.normalize(),z.d=-E.dot(z.normal),z}static SignedDistanceToPlaneFromPositionAndNormal(E,t,z){const X=-(t.x*E.x+t.y*E.y+t.z*E.z);return A.Lt.Dot(z,t)+X}}X._TmpMatrix=A.Matrix.Identity()},11843:(E,t,z)=>{z.d(t,{e:()=>A});class A{constructor(E,t){this.width=E,this.height=t}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let E=0|this.width;return E=397*E^this.height,E}R(E){this.width=E.width,this.height=E.height}Op(E,t){return this.width=E,this.height=t,this}set(E,t){return this.Op(E,t)}multiplyByFloats(E,t){return new A(this.width*E,this.height*t)}clone(){return new A(this.width,this.height)}equals(E){return!!E&&(this.width===E.width&&this.height===E.height)}get surface(){return this.width*this.height}static Zero(){return new A(0,0)}add(E){return new A(this.width+E.width,this.height+E.height)}Wt(E){return new A(this.width-E.width,this.height-E.height)}scale(E){return new A(this.width*E,this.height*E)}static Lerp(E,t,z){const X=E.width+(t.width-E.width)*z,R=E.height+(t.height-E.height)*z;return new A(X,R)}}},11803:(E,t,z)=>{z.d(t,{b:()=>R,c:()=>u});const A={},X={};function R(E){const t=E.getClassName();return X[t]||(X[t]={}),X[t]}function u(E){const t=E.getClassName();if(A[t])return A[t];A[t]={};const z=A[t];let R=E,u=t;for(;u;){const E=X[u];for(const X in E)z[X]=E[X];let t,A=!1;do{if(t=Object.getPrototypeOf(R),!t.getClassName){A=!0;break}if(t.getClassName()!==u)break;R=t}while(t);if(A)break;u=t.getClassName(),R=t}return z}},11801:(E,t,z)=>{z.d(t,{B:()=>p,D:()=>H,G:()=>h,K:()=>u,c:()=>R,d:()=>mE,f:()=>y,j:()=>C,n:()=>O,o:()=>Z,s:()=>c,v:()=>L,x:()=>d,y:()=>a});var A=z(11803);function X(E,t){return(z,X)=>{const R=(0,A.b)(z);R[X]||(R[X]={type:E,sourceName:t})}}function R(E){return function(E){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(z,A)=>{const X=t||"_"+A;Object.defineProperty(z,A,{get:function(){return this[X]},set:function(t){var A;"function"===typeof(null===(A=this[X])||void 0===A?void 0:A.equals)&&this[X].equals(t)||this[X]!==t&&(this[X]=t,z[E].apply(this))},enumerable:!0,configurable:!0})}}(E,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function u(E){return X(0,E)}function p(E){return X(1,E)}function C(E){return X(2,E)}function Z(E){return X(3,E)}function H(E){return X(4,E)}function h(E){return X(5,E)}function d(E){return X(6,E)}function y(E){return X(7,E)}function O(E){return X(8,E)}function c(E){return X(9,E)}function a(E){return X(10,E)}function L(E){return X(12,E)}function mE(E,t,z,A){const X=z.value;z.value=function(){let z=X;if("undefined"!==typeof _native&&_native[t]){const E=_native[t];z=A?function(){return A(...arguments)?E(...arguments):X(...arguments)}:E}return E[t]=z,z(...arguments)}}mE.filter=function(E){return(t,z,A)=>mE(t,z,A,E)}},11849:(E,t,z)=>{z.d(t,{b:()=>Z});var A=z(11657),X=z(11852),R=z(11856),u=z(11812),p=z(11803);const C=function(E,t,z){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const R=E();X.d&&X.d.HasTags(t)&&X.d.AddTagsTo(R,X.d.GetTags(t,!0));const u=(0,p.c)(R),C={};for(const X in u){const E=u[X],p=t[X],H=E.type;if(void 0!==p&&null!==p&&("uniqueId"!==X||Z.AllowLoadingUniqueId))switch(H){case 0:case 6:case 9:case 11:R[X]=p;break;case 1:A.cloneTexturesOnlyOnce&&C[p.uniqueId]?R[X]=C[p.uniqueId]:(R[X]=z||p.isRenderTarget?p:p.clone(),C[p.uniqueId]=R[X]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:R[X]=z?p:p.clone()}}return R};class Z{static AppendSerializedAnimations(E,t){if(E.animations){t.animations=[];for(let z=0;z<E.animations.length;z++){const A=E.animations[z];t.animations.push(A.serialize())}}}static Serialize(E,t){t||(t={}),X.d&&(t.tags=X.d.GetTags(E));const z=(0,p.c)(E);for(const A in z){const X=z[A],R=X.sourceName||A,u=X.type,p=E[A];if(void 0!==p&&null!==p&&("uniqueId"!==A||Z.AllowLoadingUniqueId))switch(u){case 0:t[R]=p;break;case 1:case 3:case 7:case 9:t[R]=p.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:t[R]=p.upE();break;case 6:case 11:t[R]=p.id}}return t}static ParseProperties(E,t,z,A){A||(A="");const X=(0,p.c)(t);for(const p in X){const C=X[p],H=E[C.sourceName||p],h=C.type;if(void 0!==H&&null!==H&&("uniqueId"!==p||Z.AllowLoadingUniqueId)){const E=t;switch(h){case 0:E[p]=H;break;case 1:z&&(E[p]=Z._TextureParser(H,z,A));break;case 2:E[p]=R.Dt.St(H);break;case 3:E[p]=Z._FresnelParametersParser(H);break;case 4:E[p]=u.Vector2.St(H);break;case 5:E[p]=u.Lt.St(H);break;case 6:z&&(E[p]=z.getLastMeshById(H));break;case 7:E[p]=Z._ColorCurvesParser(H);break;case 8:E[p]=R.Lp.St(H);break;case 9:E[p]=Z._ImageProcessingConfigurationParser(H);break;case 10:E[p]=u.Quaternion.St(H);break;case 11:z&&(E[p]=z.getCameraById(H));break;case 12:E[p]=u.Matrix.St(H)}}}}static Parse(E,t,z){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const R=E();return X.d&&X.d.AddTagsTo(R,t.tags),Z.ParseProperties(t,R,z,A),R}static Clone(E,t){return C(E,t,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(E,t){return C(E,t,!0)}}Z.AllowLoadingUniqueId=!1,Z._ImageProcessingConfigurationParser=E=>{throw(0,A.b)("ImageProcessingConfiguration")},Z._FresnelParametersParser=E=>{throw(0,A.b)("FresnelParameters")},Z._ColorCurvesParser=E=>{throw(0,A.b)("ColorCurves")},Z._TextureParser=(E,t,z)=>{throw(0,A.b)("Texture")}},11852:(E,t,z)=>{z.d(t,{d:()=>X});class A{static Eval(E,t){return"true"===(E=E.match(/\([^()]*\)/g)?E.replace(/\([^()]*\)/g,(E=>(E=E.slice(1,E.length-1),A._HandleParenthesisContent(E,t)))):A._HandleParenthesisContent(E,t))||"false"!==E&&A.Eval(E,t)}static _HandleParenthesisContent(E,t){let z;t=t||(E=>"true"===E);const X=E.split("||");for(const R in X)if(Object.prototype.hasOwnProperty.call(X,R)){let E=A._SimplifyNegation(X[R].trim());const u=E.split("&&");if(u.length>1)for(let X=0;X<u.length;++X){const R=A._SimplifyNegation(u[X].trim());if(z="true"!==R&&"false"!==R?"!"===R[0]?!t(R.substring(1)):t(R):"true"===R,!z){E="false";break}}if(z||"true"===E){z=!0;break}z="true"!==E&&"false"!==E?"!"===E[0]?!t(E.substring(1)):t(E):"true"===E}return z?"true":"false"}static _SimplifyNegation(E){return"!true"===(E=(E=E.replace(/^[\s!]+/,(E=>(E=E.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?E="false":"!false"===E&&(E="true"),E}}class X{static EnableFor(E){E._tags=E._tags||{},E.hasTags=()=>X.HasTags(E),E.addTags=t=>X.AddTagsTo(E,t),E.removeTags=t=>X.RemoveTagsFrom(E,t),E.matchesTagsQuery=t=>X.MatchesQuery(E,t)}static DisableFor(E){delete E._tags,delete E.hasTags,delete E.addTags,delete E.removeTags,delete E.matchesTagsQuery}static HasTags(E){if(!E._tags)return!1;const t=E._tags;for(const z in t)if(Object.prototype.hasOwnProperty.call(t,z))return!0;return!1}static GetTags(E){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!E._tags)return null;if(t){const t=[];for(const z in E._tags)Object.prototype.hasOwnProperty.call(E._tags,z)&&!0===E._tags[z]&&t.push(z);return t.join(" ")}return E._tags}static AddTagsTo(E,t){if(!t)return;if("string"!==typeof t)return;const z=t.split(" ");for(const A of z)X._AddTagTo(E,A)}static _AddTagTo(E,t){""!==(t=t.trim())&&"true"!==t&&"false"!==t&&(t.match(/[\s]/)||t.match(/^([!]|([|]|[&]){2})/)||(X.EnableFor(E),E._tags[t]=!0))}static RemoveTagsFrom(E,t){if(!X.HasTags(E))return;const z=t.split(" ");for(const A in z)X._RemoveTagFrom(E,z[A])}static _RemoveTagFrom(E,t){delete E._tags[t]}static MatchesQuery(E,t){return void 0===t||(""===t?X.HasTags(E):A.Eval(t,(t=>X.HasTags(E)&&E._tags[t])))}}},11792:(E,t,z)=>{z.d(t,{b:()=>A});function A(E,t,z,A){var X,R=arguments.length,u=R<3?t:null===A?A=Object.getOwnPropertyDescriptor(t,z):A;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(E,t,z,A);else for(var p=E.length-1;p>=0;p--)(X=E[p])&&(u=(R<3?X(u):R>3?X(t,z,u):X(t,z))||u);return R>3&&u&&Object.defineProperty(t,z,u),u}Object.create;Object.create}}]);