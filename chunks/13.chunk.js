"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[13],{11829:(b,n,i)=>{i.d(n,{e:()=>e});let e=!1},11803:(b,n,i)=>{i.d(n,{e:()=>Z});var e=i(11756),V=i(11762),Q=i(11612),U=i(11778),Y=i(11646),L=i(11737),B=(i(11655),i(11808));class mb{get wrapU(){return this._wrapU}set wrapU(b){this._wrapU=b}get wrapV(){return this._wrapV}set wrapV(b){this._wrapV=b}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(b){this._texture&&(this._texture.isCube=b)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(b){this._texture&&(this._texture.is3D=b)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(b){this._texture&&(this._texture.is2DArray=b)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(b){return void 0!==(null===b||void 0===b?void 0:b.shareDepth)}constructor(b){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=B.c.Zero(),this._cachedBaseSize=B.c.Zero(),this._initialSamplingMode=2,this._texture=mb._IsRenderTargetWrapper(b)?b.texture:b,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(b){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(b,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var N=i(11811);class Z extends mb{set se(b){this._hasAlpha!==b&&(this._hasAlpha=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get se(){return this._hasAlpha}set getAlphaFromRGB(b){this._getAlphaFromRGB!==b&&(this._getAlphaFromRGB=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(b){this._coordinatesIndex!==b&&(this._coordinatesIndex=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(b){this._coordinatesMode!==b&&(this._coordinatesMode=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(b){this._wrapU=b}get wrapV(){return this._wrapV}set wrapV(b){this._wrapV=b}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(b){this._texture?this._texture.isCube=b:this._isCube=b}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(b){this._texture&&(this._texture.is3D=b)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(b){this._texture&&(this._texture.is2DArray=b)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(b){var n;if(this._texture){if(this._texture._gammaSpace===b)return;this._texture._gammaSpace=b}else{if(this._gammaSpace===b)return;this._gammaSpace=b}null===(n=this.ab())||void 0===n||n.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(b){var n;b!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=b),null===(n=this.ab())||void 0===n||n.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(b){this._texture&&(this._texture._lodGenerationOffset=b)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(b){this._texture&&(this._texture._lodGenerationScale=b)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(b){this._texture&&(this._texture._linearSpecularLOD=b)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(b){this._texture&&(this._texture._irradianceTexture=b)}get uid(){return this._uid||(this._uid=(0,L.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(b){this._onDisposeObserver&&this.Qe.remove(this._onDisposeObserver),this._onDisposeObserver=this.Qe.add(b)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Qe=new Q.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,b?Z._IsScene(b)?this._scene=b:this._engine=b:this._scene=Y.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=n,this._uid=null}ab(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return U.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return U.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(b){}get canRescale(){return!1}_getFromCache(b,n,i,e,V,Q){const U=this._getEngine();if(!U)return null;const Y=U._getUseSRGBBuffer(!!V,n),L=U.getLoadedTexturesCache();for(let B=0;B<L.length;B++){const U=L[B];if((void 0===V||Y===U._useSRGBBuffer)&&(void 0===e||e===U.invertY)&&U.url===b&&U.generateMipMaps===!n&&(!i||i===U.samplingMode)&&(void 0===Q||Q===U.isCube))return U.incrementReferences(),U}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const b=this.ab();b&&b.markAllMaterialsAsDirty(1)}readPixels(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],V=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,Y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,L=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const B=this._getEngine();if(!B)return null;const mb=this.getSize();let N=mb.width,Z=mb.height;0!==n&&(N/=Math.pow(2,n),Z/=Math.pow(2,n),N=Math.round(N),Z=Math.round(Z)),Y=Math.min(N,Y),L=Math.min(Z,L);try{return this._texture.isCube?B._readTexturePixels(this._texture,Y,L,b,n,i,e,V,Q,U):B._readTexturePixels(this._texture,Y,L,-1,n,i,e,V,Q,U)}catch(T){return null}}_readPixelsSync(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],V=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const Q=this.getSize();let U=Q.width,Y=Q.height;const L=this._getEngine();if(!L)return null;0!=n&&(U/=Math.pow(2,n),Y/=Math.pow(2,n),U=Math.round(U),Y=Math.round(Y));try{return this._texture.isCube?L._readTexturePixelsSync(this._texture,U,Y,b,n,i,e,V):L._readTexturePixelsSync(this._texture,U,Y,-1,n,i,e,V)}catch(B){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const b=this._scene.textures.indexOf(this);if(b>=0&&this._scene.textures.splice(b,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const b=this._parentContainer.textures.indexOf(this);b>-1&&this._parentContainer.textures.splice(b,1),this._parentContainer=null}}this.Qe.notifyObservers(this),this.Qe.clear(),this.metadata=null,super.dispose()}serialize(){let b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!b)return null;const n=N.c.Serialize(this);return N.c.AppendSerializedAnimations(this,n),n}static WhenAllReady(b,n){let i=b.length;if(0!==i)for(let e=0;e<b.length;e++){const V=b[e];if(V.isReady())0===--i&&n();else{const b=V.onLoadObservable;b?b.addOnce((()=>{0===--i&&n()})):0===--i&&n()}}else n()}static _IsScene(b){return"Scene"===b.getClassName()}}Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,e.e)([(0,V.W)()],Z.prototype,"uniqueId",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"name",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"displayName",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"metadata",void 0),(0,e.e)([(0,V.W)("se")],Z.prototype,"_hasAlpha",void 0),(0,e.e)([(0,V.W)("getAlphaFromRGB")],Z.prototype,"_getAlphaFromRGB",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"level",void 0),(0,e.e)([(0,V.W)("coordinatesIndex")],Z.prototype,"_coordinatesIndex",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"optimizeUVAllocation",void 0),(0,e.e)([(0,V.W)("coordinatesMode")],Z.prototype,"_coordinatesMode",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"wrapU",null),(0,e.e)([(0,V.W)()],Z.prototype,"wrapV",null),(0,e.e)([(0,V.W)()],Z.prototype,"wrapR",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"anisotropicFilteringLevel",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"isCube",null),(0,e.e)([(0,V.W)()],Z.prototype,"is3D",null),(0,e.e)([(0,V.W)()],Z.prototype,"is2DArray",null),(0,e.e)([(0,V.W)()],Z.prototype,"gammaSpace",null),(0,e.e)([(0,V.W)()],Z.prototype,"invertZ",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"lodLevelInAlpha",void 0),(0,e.e)([(0,V.W)()],Z.prototype,"lodGenerationOffset",null),(0,e.e)([(0,V.W)()],Z.prototype,"lodGenerationScale",null),(0,e.e)([(0,V.W)()],Z.prototype,"linearSpecularLOD",null),(0,e.e)([(0,V.K)()],Z.prototype,"irradianceTexture",null),(0,e.e)([(0,V.W)()],Z.prototype,"isRenderTarget",void 0)},11748:(b,n,i)=>{i.d(n,{e:()=>d});var e=i(11756),V=i(11762),Q=i(11612),U=i(11778),Y=i(11803),L=i(11734),B=i(11636),mb=i(11674),N=i(11727),Z=i(11824),T=i(11662);function z(b,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const e=n.width,V=n.height;if(b instanceof Float32Array){let n=b.byteLength/b.BYTES_PER_ELEMENT;const i=new Uint8Array(n);for(;--n>=0;){let e=b[n];e<0?e=0:e>1&&(e=1),i[n]=255*e}b=i}const Q=document.createElement("canvas");Q.width=e,Q.height=V;const U=Q.getContext("2d");if(!U)return null;const Y=U.createImageData(e,V);if(Y.data.set(b),U.putImageData(Y,0,0),i){const b=document.createElement("canvas");b.width=e,b.height=V;const n=b.getContext("2d");return n?(n.translate(0,V),n.scale(1,-1),n.drawImage(Q,0,0),b.toDataURL("image/png")):null}return Q.toDataURL("image/png")}function K(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=b.getInternalTexture();if(!e)return null;const V=b._readPixelsSync(n,i);return V?z(V,b.getSize(),e.invertY):null}async function I(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=b.getInternalTexture();if(!e)return null;const V=await b.readPixels(n,i);return V?z(V,b.getSize(),e.invertY):null}var O=i(11829),u=i(11811);class d extends Y.e{static _CreateVideoTexture(b,n,i){arguments.length>5&&void 0!==arguments[5]||d.TRILINEAR_SAMPLINGMODE;throw(0,B.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(b){this._isBlocking=b}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(b,n,i,e){let V,U=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TRILINEAR_SAMPLINGMODE,Y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,B=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,N=arguments.length>8&&void 0!==arguments[8]&&arguments[8],Z=arguments.length>9?arguments[9]:void 0,T=arguments.length>10?arguments[10]:void 0,z=arguments.length>11?arguments[11]:void 0,K=arguments.length>12?arguments[12]:void 0,I=arguments.length>13?arguments[13]:void 0;super(n),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new Q.e,this._isBlocking=!0,this.name=b||"",this.url=b;let u=!1,G=null,o=!0;"object"===typeof i&&null!==i?(V=i.noMipmap??!1,e=i.invertY??!O.e,U=i.samplingMode??d.TRILINEAR_SAMPLINGMODE,Y=i.v??null,L=i.onError??null,B=i.buffer??null,N=i.deleteBuffer??!1,Z=i.format,T=i.mimeType,z=i.loaderOptions,K=i.creationFlags,u=i.useSRGBBuffer??!1,G=i.internalTexture??null,o=i.gammaSpace??o,I=i.forcedExtension??I):V=!!i,this._gammaSpace=o,this._noMipmap=V,this._invertY=void 0===e?!O.e:e,this._initialSamplingMode=U,this._buffer=B,this._deleteBuffer=N,this._mimeType=T,this._loaderOptions=z,this._creationFlags=K,this._useSRGBBuffer=u,this._forcedExtension=I,void 0!==Z&&(this._format=Z);const M=this.ab(),j=this._getEngine();if(!j)return;j.onBeforeTextureInitObservable.notifyObservers(this);const a=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),Y&&Y(),!this.isBlocking&&M&&M.resetCachedMaterial()},D=(b,n)=>{this._loadingError=!0,this._errorObject={message:b,exception:n},L&&L(b,n),d.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!G)return this._delayedOnLoad=a,void(this._delayedOnError=D);if(this._texture=G??this._getFromCache(this.url,V,U,this._invertY,u,this.isCube),this._texture)if(this._texture.isReady)mb.e.SetImmediate((()=>a()));else{const b=this._texture.onLoadedObservable.add(a);this._texture.onErrorObservable.add((n=>{var i;D(n.message,n.exception),null===(i=this._texture)||void 0===i||i.onLoadedObservable.remove(b)}))}else if(M&&M.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=a,this._delayedOnError=D;else{try{this._texture=j.createTexture(this.url,V,this._invertY,M,U,a,D,this._buffer,void 0,this._format,this._forcedExtension,T,z,K,u)}catch(x){throw D("error loading",x),x}N&&(this._buffer=null)}}updateURL(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.ab().markAllMaterialsAsDirty(1,(b=>b.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=b),this.url=b,this._buffer=n,this._forcedExtension=e,this.delayLoadState=4,i&&(this._delayedOnLoad=i),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const b=this.ab();b&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?mb.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=b.getEngine().createTexture(this.url,this._noMipmap,this._invertY,b,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(b,n,i,e){b*=this._cachedUScale,n*=this._cachedVScale,b-=this.uRotationCenter*this._cachedUScale,n-=this.vRotationCenter*this._cachedVScale,i-=this.wRotationCenter,U.On.TransformCoordinatesFromFloatsToRef(b,n,i,this._rowGenerationMatrix,e),e.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,e.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,e.z+=this.wRotationCenter}getTextureMatrix(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*b===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*b,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=U.Matrix.Zero(),this._rowGenerationMatrix=new U.Matrix,this._t0=U.On.Zero(),this._t1=U.On.Zero(),this._t2=U.On.Zero()),U.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(U.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,U.TmpVectors.Matrix[0]),U.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,U.TmpVectors.Matrix[1]),U.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,U.TmpVectors.Matrix[2]),U.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,U.TmpVectors.Matrix[3]),U.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.lm(this._t0),this._t2.lm(this._t0),U.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const n=this.ab();if(!n)return this._cachedTextureMatrix;const i=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&i!==this._cachedIdentity3x2&&n.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const b=this.ab();if(!b)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==d.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===b.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=U.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=U.Matrix.Zero());const n=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case d.PLANAR_MODE:U.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case d.PROJECTION_MODE:{U.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const n=b.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=n.updateFlag,n.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:U.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return n&&b.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const b={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,v:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return u.c.Clone((()=>new d(this._texture?this._texture.url:null,this.ab(),b)),this)}serialize(){var b;const n=this.name;d.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const i=super.serialize(d._SerializeInternalTextureUniqueId);if(!i)return null;if(d.SerializeBuffers||d.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))i.base64String=this._buffer,i.name=i.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const b=this.mimeType||"image/png";i.base64String=`data:${b};base64,${(0,T.k)(this._buffer)}`}else(d.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(i.base64String=!this._engine||this._engine._features.supportSyncTextureRead?K(this):I(this));var e;(i.invertY=this._invertY,i.samplingMode=this.samplingMode,i._creationFlags=this._creationFlags,i._useSRGBBuffer=this._useSRGBBuffer,d._SerializeInternalTextureUniqueId)&&(i.internalTextureUniqueId=null===(e=this._texture)||void 0===e?void 0:e.uniqueId);return i.internalTextureLabel=null===(b=this._texture)||void 0===b?void 0:b.label,i.noMipmap=this._noMipmap,this.name=n,i}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(b,n,i){if(b.customType){const e=N.b.Instantiate(b.customType).Parse(b,n,i);return b.samplingMode&&e.updateSamplingMode&&e._samplingMode&&e._samplingMode!==b.samplingMode&&e.updateSamplingMode(b.samplingMode),e}if(b.isCube&&!b.isRenderTarget)return d._CubeTextureParser(b,n,i);const e=void 0!==b.internalTextureUniqueId;if(!b.name&&!b.isRenderTarget&&!e)return null;let V;if(e){const i=n.getEngine().getLoadedTexturesCache();for(const n of i)if(n.uniqueId===b.internalTextureUniqueId){V=n;break}}const Q=n=>{if(n&&n._texture&&(n._texture._cachedWrapU=null,n._texture._cachedWrapV=null,n._texture._cachedWrapR=null),b.samplingMode){const i=b.samplingMode;n&&n.samplingMode!==i&&n.updateSamplingMode(i)}if(n&&b.animations)for(let i=0;i<b.animations.length;i++){const e=b.animations[i],V=(0,L.e)("BABYLON.Animation");V&&n.animations.push(V.Parse(e))}n&&n._texture&&(e&&!V&&n._texture._setUniqueId(b.internalTextureUniqueId),n._texture.label=b.internalTextureLabel)};return u.c.Parse((()=>{let e=!0;if(b.noMipmap&&(e=!1),b.mirrorPlane){const i=d._CreateMirror(b.name,b.renderTargetSize,n,e);return i._waitingRenderList=b.renderList,i.mirrorPlane=Z.c.jn(b.mirrorPlane),Q(i),i}if(b.isRenderTarget){let i=null;if(b.isCube){if(n.reflectionProbes)for(let e=0;e<n.reflectionProbes.length;e++){const i=n.reflectionProbes[e];if(i.name===b.name)return i.cubeTexture}}else i=d._CreateRenderTargetTexture(b.name,b.renderTargetSize,n,e,b._creationFlags??0),i._waitingRenderList=b.renderList;return Q(i),i}if(b.isVideo){const V=d._CreateVideoTexture(i+(b.url||b.name),i+(b.src||b.url),n,e,b.invertY,b.samplingMode,b.settings||{});return Q(V),V}{let U;if(b.base64String&&!V)U=d.CreateFromBase64String(b.base64String,b.base64String,n,!e,b.invertY,b.samplingMode,(()=>{Q(U)}),b._creationFlags??0,b._useSRGBBuffer??!1),U.name=b.name;else{let Y;Y=b.name&&(b.name.indexOf("://")>0||b.name.startsWith("data:"))?b.name:i+b.name,b.url&&(b.url.startsWith("data:")||d.UseSerializedUrlIfAny)&&(Y=b.url);const L={noMipmap:!e,invertY:b.invertY,samplingMode:b.samplingMode,v:()=>{Q(U)},internalTexture:V};U=new d(Y,n,L)}return U}}),b,n)}static CreateFromBase64String(b,n,i,e,V){let Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.TRILINEAR_SAMPLINGMODE;return new d("data:"+n,i,e,V,Q,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,b,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(b,n,i){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],V=arguments.length>4?arguments[4]:void 0,Q=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d.TRILINEAR_SAMPLINGMODE,Y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,L=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,B=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,mb=arguments.length>10?arguments[10]:void 0,N=arguments.length>11?arguments[11]:void 0;return"data:"!==b.substring(0,5)&&(b="data:"+b),new d(b,i,V,Q,U,Y,L,n,e,B,void 0,void 0,mb,N)}}d.SerializeBuffers=!0,d.ForceSerializeBuffers=!1,d.OnTextureLoadErrorObservable=new Q.e,d._SerializeInternalTextureUniqueId=!1,d._CubeTextureParser=(b,n,i)=>{throw(0,B.e)("CubeTexture")},d._CreateMirror=(b,n,i,e)=>{throw(0,B.e)("MirrorTexture")},d._CreateRenderTargetTexture=(b,n,i,e,V)=>{throw(0,B.e)("RenderTargetTexture")},d.NEAREST_SAMPLINGMODE=1,d.NEAREST_NEAREST_MIPLINEAR=8,d.BILINEAR_SAMPLINGMODE=2,d.LINEAR_LINEAR_MIPNEAREST=11,d.TRILINEAR_SAMPLINGMODE=3,d.LINEAR_LINEAR_MIPLINEAR=3,d.NEAREST_NEAREST_MIPNEAREST=4,d.NEAREST_LINEAR_MIPNEAREST=5,d.NEAREST_LINEAR_MIPLINEAR=6,d.NEAREST_LINEAR=7,d.NEAREST_NEAREST=1,d.LINEAR_NEAREST_MIPNEAREST=9,d.LINEAR_NEAREST_MIPLINEAR=10,d.LINEAR_LINEAR=2,d.LINEAR_NEAREST=12,d.EXPLICIT_MODE=0,d.SPHERICAL_MODE=1,d.PLANAR_MODE=2,d.CUBIC_MODE=3,d.PROJECTION_MODE=4,d.SKYBOX_MODE=5,d.INVCUBIC_MODE=6,d.EQUIRECTANGULAR_MODE=7,d.FIXED_EQUIRECTANGULAR_MODE=8,d.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,d.CLAMP_ADDRESSMODE=0,d.WRAP_ADDRESSMODE=1,d.MIRROR_ADDRESSMODE=2,d.UseSerializedUrlIfAny=!1,(0,e.e)([(0,V.W)()],d.prototype,"url",void 0),(0,e.e)([(0,V.W)()],d.prototype,"uOffset",void 0),(0,e.e)([(0,V.W)()],d.prototype,"vOffset",void 0),(0,e.e)([(0,V.W)()],d.prototype,"uScale",void 0),(0,e.e)([(0,V.W)()],d.prototype,"vScale",void 0),(0,e.e)([(0,V.W)()],d.prototype,"uAng",void 0),(0,e.e)([(0,V.W)()],d.prototype,"vAng",void 0),(0,e.e)([(0,V.W)()],d.prototype,"wAng",void 0),(0,e.e)([(0,V.W)()],d.prototype,"uRotationCenter",void 0),(0,e.e)([(0,V.W)()],d.prototype,"vRotationCenter",void 0),(0,e.e)([(0,V.W)()],d.prototype,"wRotationCenter",void 0),(0,e.e)([(0,V.W)()],d.prototype,"homogeneousRotationInUVTransform",void 0),(0,e.e)([(0,V.W)()],d.prototype,"isBlocking",null),(0,L.i)("BABYLON.Texture",d),u.c._TextureParser=d.Parse},11824:(b,n,i)=>{i.d(n,{c:()=>V});var e=i(11778);class V{constructor(b,n,i,V){this.normal=new e.On(b,n,i),this.d=V}ye(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new V(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let b=this.normal.getHashCode();return b=397*b^this.d,b}normalize(){const b=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let n=0;return 0!==b&&(n=1/b),this.normal.x*=n,this.normal.y*=n,this.normal.z*=n,this.d*=n,this}transform(b){const n=V._TmpMatrix;b.invertToRef(n);const i=n.m,e=this.normal.x,Q=this.normal.y,U=this.normal.z,Y=this.d,L=e*i[0]+Q*i[1]+U*i[2]+Y*i[3],B=e*i[4]+Q*i[5]+U*i[6]+Y*i[7],mb=e*i[8]+Q*i[9]+U*i[10]+Y*i[11],N=e*i[12]+Q*i[13]+U*i[14]+Y*i[15];return new V(L,B,mb,N)}dotCoordinate(b){return this.normal.x*b.x+this.normal.y*b.y+this.normal.z*b.z+this.d}copyFromPoints(b,n,i){const e=n.x-b.x,V=n.y-b.y,Q=n.z-b.z,U=i.x-b.x,Y=i.y-b.y,L=i.z-b.z,B=V*L-Q*Y,mb=Q*U-e*L,N=e*Y-V*U,Z=Math.sqrt(B*B+mb*mb+N*N);let T;return T=0!==Z?1/Z:0,this.normal.x=B*T,this.normal.y=mb*T,this.normal.z=N*T,this.d=-(this.normal.x*b.x+this.normal.y*b.y+this.normal.z*b.z),this}isFrontFacingTo(b,n){return e.On.Dot(this.normal,b)<=n}signedDistanceTo(b){return e.On.Dot(b,this.normal)+this.d}static jn(b){return new V(b[0],b[1],b[2],b[3])}static FromPoints(b,n,i){const e=new V(0,0,0,0);return e.copyFromPoints(b,n,i),e}static FromPositionAndNormal(b,n){const i=new V(0,0,0,0);return this.FromPositionAndNormalToRef(b,n,i)}static FromPositionAndNormalToRef(b,n,i){return i.normal.L(n),i.normal.normalize(),i.d=-b.dot(i.normal),i}static SignedDistanceToPlaneFromPositionAndNormal(b,n,i){const V=-(n.x*b.x+n.y*b.y+n.z*b.z);return e.On.Dot(i,n)+V}}V._TmpMatrix=e.Matrix.Identity()},11808:(b,n,i)=>{i.d(n,{c:()=>e});class e{constructor(b,n){this.width=b,this.height=n}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let b=0|this.width;return b=397*b^this.height,b}L(b){this.width=b.width,this.height=b.height}re(b,n){return this.width=b,this.height=n,this}set(b,n){return this.re(b,n)}multiplyByFloats(b,n){return new e(this.width*b,this.height*n)}clone(){return new e(this.width,this.height)}equals(b){return!!b&&(this.width===b.width&&this.height===b.height)}get surface(){return this.width*this.height}static Zero(){return new e(0,0)}add(b){return new e(this.width+b.width,this.height+b.height)}un(b){return new e(this.width-b.width,this.height-b.height)}scale(b){return new e(this.width*b,this.height*b)}static Lerp(b,n,i){const V=b.width+(n.width-b.width)*i,Q=b.height+(n.height-b.height)*i;return new e(V,Q)}}},11771:(b,n,i)=>{i.d(n,{c:()=>Q,e:()=>U});const e={},V={};function Q(b){const n=b.getClassName();return V[n]||(V[n]={}),V[n]}function U(b){const n=b.getClassName();if(e[n])return e[n];e[n]={};const i=e[n];let Q=b,U=n;for(;U;){const b=V[U];for(const V in b)i[V]=b[V];let n,e=!1;do{if(n=Object.getPrototypeOf(Q),!n.getClassName){e=!0;break}if(n.getClassName()!==U)break;Q=n}while(n);if(e)break;U=n.getClassName(),Q=n}return i}},11762:(b,n,i)=>{i.d(n,{A:()=>O,E:()=>Z,I:()=>I,K:()=>Y,O:()=>mb,S:()=>N,W:()=>U,e:()=>Q,h:()=>u,l:()=>T,p:()=>L,q:()=>z,t:()=>B,w:()=>K});var e=i(11771);function V(b,n){return(i,V)=>{const Q=(0,e.c)(i);Q[V]||(Q[V]={type:b,sourceName:n})}}function Q(b){return function(b){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(i,e)=>{const V=n||"_"+e;Object.defineProperty(i,e,{get:function(){return this[V]},set:function(n){var e;"function"===typeof(null===(e=this[V])||void 0===e?void 0:e.equals)&&this[V].equals(n)||this[V]!==n&&(this[V]=n,i[b].apply(this))},enumerable:!0,configurable:!0})}}(b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function U(b){return V(0,b)}function Y(b){return V(1,b)}function L(b){return V(2,b)}function B(b){return V(3,b)}function mb(b){return V(4,b)}function N(b){return V(5,b)}function Z(b){return V(6,b)}function T(b){return V(7,b)}function z(b){return V(8,b)}function K(b){return V(9,b)}function I(b){return V(10,b)}function O(b){return V(12,b)}function u(b,n,i,e){const V=i.value;i.value=function(){let i=V;if("undefined"!==typeof _native&&_native[n]){const b=_native[n];i=e?function(){return e(...arguments)?b(...arguments):V(...arguments)}:b}return b[n]=i,i(...arguments)}}u.filter=function(b){return(n,i,e)=>u(n,i,e,b)}},11811:(b,n,i)=>{i.d(n,{c:()=>B});var e=i(11636),V=i(11813),Q=i(11822),U=i(11778),Y=i(11771);const L=function(b,n,i){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const Q=b();V.d&&V.d.HasTags(n)&&V.d.AddTagsTo(Q,V.d.GetTags(n,!0));const U=(0,Y.e)(Q),L={};for(const V in U){const b=U[V],Y=n[V],mb=b.type;if(void 0!==Y&&null!==Y&&("uniqueId"!==V||B.AllowLoadingUniqueId))switch(mb){case 0:case 6:case 9:case 11:Q[V]=Y;break;case 1:e.cloneTexturesOnlyOnce&&L[Y.uniqueId]?Q[V]=L[Y.uniqueId]:(Q[V]=i||Y.isRenderTarget?Y:Y.clone(),L[Y.uniqueId]=Q[V]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:Q[V]=i?Y:Y.clone()}}return Q};class B{static AppendSerializedAnimations(b,n){if(b.animations){n.animations=[];for(let i=0;i<b.animations.length;i++){const e=b.animations[i];n.animations.push(e.serialize())}}}static Serialize(b,n){n||(n={}),V.d&&(n.tags=V.d.GetTags(b));const i=(0,Y.e)(b);for(const e in i){const V=i[e],Q=V.sourceName||e,U=V.type,Y=b[e];if(void 0!==Y&&null!==Y&&("uniqueId"!==e||B.AllowLoadingUniqueId))switch(U){case 0:n[Q]=Y;break;case 1:case 3:case 7:case 9:n[Q]=Y.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:n[Q]=Y.ye();break;case 6:case 11:n[Q]=Y.id}}return n}static ParseProperties(b,n,i,e){e||(e="");const V=(0,Y.e)(n);for(const Y in V){const L=V[Y],mb=b[L.sourceName||Y],N=L.type;if(void 0!==mb&&null!==mb&&("uniqueId"!==Y||B.AllowLoadingUniqueId)){const b=n;switch(N){case 0:b[Y]=mb;break;case 1:i&&(b[Y]=B._TextureParser(mb,i,e));break;case 2:b[Y]=Q.Mn.jn(mb);break;case 3:b[Y]=B._FresnelParametersParser(mb);break;case 4:b[Y]=U.Vector2.jn(mb);break;case 5:b[Y]=U.On.jn(mb);break;case 6:i&&(b[Y]=i.getLastMeshById(mb));break;case 7:b[Y]=B._ColorCurvesParser(mb);break;case 8:b[Y]=Q.IV.jn(mb);break;case 9:b[Y]=B._ImageProcessingConfigurationParser(mb);break;case 10:b[Y]=U.Quaternion.jn(mb);break;case 11:i&&(b[Y]=i.getCameraById(mb));break;case 12:b[Y]=U.Matrix.jn(mb)}}}}static Parse(b,n,i){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const Q=b();return V.d&&V.d.AddTagsTo(Q,n.tags),B.ParseProperties(n,Q,i,e),Q}static Clone(b,n){return L(b,n,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(b,n){return L(b,n,!0)}}B.AllowLoadingUniqueId=!1,B._ImageProcessingConfigurationParser=b=>{throw(0,e.e)("ImageProcessingConfiguration")},B._FresnelParametersParser=b=>{throw(0,e.e)("FresnelParameters")},B._ColorCurvesParser=b=>{throw(0,e.e)("ColorCurves")},B._TextureParser=(b,n,i)=>{throw(0,e.e)("Texture")}},11813:(b,n,i)=>{i.d(n,{d:()=>V});class e{static Eval(b,n){return"true"===(b=b.match(/\([^()]*\)/g)?b.replace(/\([^()]*\)/g,(b=>(b=b.slice(1,b.length-1),e._HandleParenthesisContent(b,n)))):e._HandleParenthesisContent(b,n))||"false"!==b&&e.Eval(b,n)}static _HandleParenthesisContent(b,n){let i;n=n||(b=>"true"===b);const V=b.split("||");for(const Q in V)if(Object.prototype.hasOwnProperty.call(V,Q)){let b=e._SimplifyNegation(V[Q].trim());const U=b.split("&&");if(U.length>1)for(let V=0;V<U.length;++V){const Q=e._SimplifyNegation(U[V].trim());if(i="true"!==Q&&"false"!==Q?"!"===Q[0]?!n(Q.substring(1)):n(Q):"true"===Q,!i){b="false";break}}if(i||"true"===b){i=!0;break}i="true"!==b&&"false"!==b?"!"===b[0]?!n(b.substring(1)):n(b):"true"===b}return i?"true":"false"}static _SimplifyNegation(b){return"!true"===(b=(b=b.replace(/^[\s!]+/,(b=>(b=b.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?b="false":"!false"===b&&(b="true"),b}}class V{static EnableFor(b){b._tags=b._tags||{},b.hasTags=()=>V.HasTags(b),b.addTags=n=>V.AddTagsTo(b,n),b.removeTags=n=>V.RemoveTagsFrom(b,n),b.matchesTagsQuery=n=>V.MatchesQuery(b,n)}static DisableFor(b){delete b._tags,delete b.hasTags,delete b.addTags,delete b.removeTags,delete b.matchesTagsQuery}static HasTags(b){if(!b._tags)return!1;const n=b._tags;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i))return!0;return!1}static GetTags(b){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!b._tags)return null;if(n){const n=[];for(const i in b._tags)Object.prototype.hasOwnProperty.call(b._tags,i)&&!0===b._tags[i]&&n.push(i);return n.join(" ")}return b._tags}static AddTagsTo(b,n){if(!n)return;if("string"!==typeof n)return;const i=n.split(" ");for(const e of i)V._AddTagTo(b,e)}static _AddTagTo(b,n){""!==(n=n.trim())&&"true"!==n&&"false"!==n&&(n.match(/[\s]/)||n.match(/^([!]|([|]|[&]){2})/)||(V.EnableFor(b),b._tags[n]=!0))}static RemoveTagsFrom(b,n){if(!V.HasTags(b))return;const i=n.split(" ");for(const e in i)V._RemoveTagFrom(b,i[e])}static _RemoveTagFrom(b,n){delete b._tags[n]}static MatchesQuery(b,n){return void 0===n||(""===n?V.HasTags(b):e.Eval(n,(n=>V.HasTags(b)&&b._tags[n])))}}},11756:(b,n,i)=>{i.d(n,{e:()=>e});function e(b,n,i,e){var V,Q=arguments.length,U=Q<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,i):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)U=Reflect.decorate(b,n,i,e);else for(var Y=b.length-1;Y>=0;Y--)(V=b[Y])&&(U=(Q<3?V(U):Q>3?V(n,i,U):V(n,i))||U);return Q>3&&U&&Object.defineProperty(n,i,U),U}Object.create;Object.create}}]);