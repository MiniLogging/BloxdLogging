"use strict";(self["269hv5nclphh"]=self["269hv5nclphh"]||[]).push([[13],{12448:(E,H,d)=>{d.d(H,{e:()=>n});let n=!1},12414:(E,H,d)=>{d.d(H,{b:()=>V});var n=d(12369),Z=d(12372),I=d(12230),g=d(12384),l=d(12268),r=d(12350),t=(d(12271),d(12419));class S{get wrapU(){return this._wrapU}set wrapU(E){this._wrapU=E}get wrapV(){return this._wrapV}set wrapV(E){this._wrapV=E}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(E){this._texture&&(this._texture.isCube=E)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(E){this._texture&&(this._texture.is3D=E)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(E){this._texture&&(this._texture.is2DArray=E)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(E){return void 0!==(null===E||void 0===E?void 0:E.shareDepth)}constructor(E){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=t.c.Zero(),this._cachedBaseSize=t.c.Zero(),this._initialSamplingMode=2,this._texture=S._IsRenderTargetWrapper(E)?E.texture:E,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(E){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(E,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var M=d(12428);class V extends S{set Od(E){this._hasAlpha!==E&&(this._hasAlpha=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get Od(){return this._hasAlpha}set getAlphaFromRGB(E){this._getAlphaFromRGB!==E&&(this._getAlphaFromRGB=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(E){this._coordinatesIndex!==E&&(this._coordinatesIndex=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(E){this._coordinatesMode!==E&&(this._coordinatesMode=E,this._scene&&this._scene.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(E){this._wrapU=E}get wrapV(){return this._wrapV}set wrapV(E){this._wrapV=E}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(E){this._texture?this._texture.isCube=E:this._isCube=E}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(E){this._texture&&(this._texture.is3D=E)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(E){this._texture&&(this._texture.is2DArray=E)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(E){var H;if(this._texture){if(this._texture._gammaSpace===E)return;this._texture._gammaSpace=E}else{if(this._gammaSpace===E)return;this._gammaSpace=E}null===(H=this.fE())||void 0===H||H.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(E){var H;E!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=E),null===(H=this.fE())||void 0===H||H.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(E){this._texture&&(this._texture._lodGenerationOffset=E)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(E){this._texture&&(this._texture._lodGenerationScale=E)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(E){this._texture&&(this._texture._linearSpecularLOD=E)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(E){this._texture&&(this._texture._irradianceTexture=E)}get uid(){return this._uid||(this._uid=(0,r.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(E){this._onDisposeObserver&&this.Qd.remove(this._onDisposeObserver),this._onDisposeObserver=this.Qd.add(E)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=V.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Qd=new I.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,E?V._IsScene(E)?this._scene=E:this._engine=E:this._scene=l.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=H,this._uid=null}fE(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return g.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return g.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(E){}get canRescale(){return!1}_getFromCache(E,H,d,n,Z,I){const g=this._getEngine();if(!g)return null;const l=g._getUseSRGBBuffer(!!Z,H),r=g.getLoadedTexturesCache();for(let t=0;t<r.length;t++){const g=r[t];if((void 0===Z||l===g._useSRGBBuffer)&&(void 0===n||n===g.invertY)&&g.url===E&&g.generateMipMaps===!H&&(!d||d===g.samplingMode)&&(void 0===I||I===g.isCube))return g.incrementReferences(),g}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const E=this.fE();E&&E.markAllMaterialsAsDirty(1)}readPixels(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Z=arguments.length>4&&void 0!==arguments[4]&&arguments[4],I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,r=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const t=this._getEngine();if(!t)return null;const S=this.getSize();let M=S.width,V=S.height;0!==H&&(M/=Math.pow(2,H),V/=Math.pow(2,H),M=Math.round(M),V=Math.round(V)),l=Math.min(M,l),r=Math.min(V,r);try{return this._texture.isCube?t._readTexturePixels(this._texture,l,r,E,H,d,n,Z,I,g):t._readTexturePixels(this._texture,l,r,-1,H,d,n,Z,I,g)}catch(C){return null}}_readPixelsSync(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Z=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const I=this.getSize();let g=I.width,l=I.height;const r=this._getEngine();if(!r)return null;0!=H&&(g/=Math.pow(2,H),l/=Math.pow(2,H),g=Math.round(g),l=Math.round(l));try{return this._texture.isCube?r._readTexturePixelsSync(this._texture,g,l,E,H,d,n,Z):r._readTexturePixelsSync(this._texture,g,l,-1,H,d,n,Z)}catch(t){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const E=this._scene.textures.indexOf(this);if(E>=0&&this._scene.textures.splice(E,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const E=this._parentContainer.textures.indexOf(this);E>-1&&this._parentContainer.textures.splice(E,1),this._parentContainer=null}}this.Qd.notifyObservers(this),this.Qd.clear(),this.metadata=null,super.dispose()}serialize(){let E=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!E)return null;const H=M.c.Serialize(this);return M.c.AppendSerializedAnimations(this,H),H}static WhenAllReady(E,H){let d=E.length;if(0!==d)for(let n=0;n<E.length;n++){const Z=E[n];if(Z.isReady())0===--d&&H();else{const E=Z.onLoadObservable;E?E.addOnce((()=>{0===--d&&H()})):0===--d&&H()}}else H()}static _IsScene(E){return"Scene"===E.getClassName()}}V.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,n.e)([(0,Z.K)()],V.prototype,"uniqueId",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"name",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"displayName",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"metadata",void 0),(0,n.e)([(0,Z.K)("Od")],V.prototype,"_hasAlpha",void 0),(0,n.e)([(0,Z.K)("getAlphaFromRGB")],V.prototype,"_getAlphaFromRGB",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"level",void 0),(0,n.e)([(0,Z.K)("coordinatesIndex")],V.prototype,"_coordinatesIndex",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"optimizeUVAllocation",void 0),(0,n.e)([(0,Z.K)("coordinatesMode")],V.prototype,"_coordinatesMode",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"wrapU",null),(0,n.e)([(0,Z.K)()],V.prototype,"wrapV",null),(0,n.e)([(0,Z.K)()],V.prototype,"wrapR",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"anisotropicFilteringLevel",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"isCube",null),(0,n.e)([(0,Z.K)()],V.prototype,"is3D",null),(0,n.e)([(0,Z.K)()],V.prototype,"is2DArray",null),(0,n.e)([(0,Z.K)()],V.prototype,"gammaSpace",null),(0,n.e)([(0,Z.K)()],V.prototype,"invertZ",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"lodLevelInAlpha",void 0),(0,n.e)([(0,Z.K)()],V.prototype,"lodGenerationOffset",null),(0,n.e)([(0,Z.K)()],V.prototype,"lodGenerationScale",null),(0,n.e)([(0,Z.K)()],V.prototype,"linearSpecularLOD",null),(0,n.e)([(0,Z.A)()],V.prototype,"irradianceTexture",null),(0,n.e)([(0,Z.K)()],V.prototype,"isRenderTarget",void 0)},12366:(E,H,d)=>{d.d(H,{c:()=>e});var n=d(12369),Z=d(12372),I=d(12230),g=d(12384),l=d(12414),r=d(12344),t=d(12256),S=d(12287),M=d(12337),V=d(12439),C=d(12279);function w(E,H){let d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=H.width,Z=H.height;if(E instanceof Float32Array){let H=E.byteLength/E.BYTES_PER_ELEMENT;const d=new Uint8Array(H);for(;--H>=0;){let n=E[H];n<0?n=0:n>1&&(n=1),d[H]=255*n}E=d}const I=document.createElement("canvas");I.width=n,I.height=Z;const g=I.getContext("2d");if(!g)return null;const l=g.createImageData(n,Z);if(l.data.set(E),g.putImageData(l,0,0),d){const E=document.createElement("canvas");E.width=n,E.height=Z;const H=E.getContext("2d");return H?(H.translate(0,Z),H.scale(1,-1),H.drawImage(I,0,0),E.toDataURL("image/png")):null}return I.toDataURL("image/png")}function R(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=E.getInternalTexture();if(!n)return null;const Z=E._readPixelsSync(H,d);return Z?w(Z,E.getSize(),n.invertY):null}async function Q(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=E.getInternalTexture();if(!n)return null;const Z=await E.readPixels(H,d);return Z?w(Z,E.getSize(),n.invertY):null}var L=d(12448),D=d(12428);class e extends l.b{static _CreateVideoTexture(E,H,d){arguments.length>5&&void 0!==arguments[5]||e.TRILINEAR_SAMPLINGMODE;throw(0,t.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(E){this._isBlocking=E}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(E,H,d,n){let Z,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.TRILINEAR_SAMPLINGMODE,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,M=arguments.length>8&&void 0!==arguments[8]&&arguments[8],V=arguments.length>9?arguments[9]:void 0,C=arguments.length>10?arguments[10]:void 0,w=arguments.length>11?arguments[11]:void 0,R=arguments.length>12?arguments[12]:void 0,Q=arguments.length>13?arguments[13]:void 0;super(H),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new I.e,this._isBlocking=!0,this.name=E||"",this.url=E;let D=!1,s=null,i=!0;"object"===typeof d&&null!==d?(Z=d.noMipmap??!1,n=d.invertY??!L.e,g=d.samplingMode??e.TRILINEAR_SAMPLINGMODE,l=d.A??null,r=d.onError??null,t=d.buffer??null,M=d.deleteBuffer??!1,V=d.format,C=d.mimeType,w=d.loaderOptions,R=d.creationFlags,D=d.useSRGBBuffer??!1,s=d.internalTexture??null,i=d.gammaSpace??i,Q=d.forcedExtension??Q):Z=!!d,this._gammaSpace=i,this._noMipmap=Z,this._invertY=void 0===n?!L.e:n,this._initialSamplingMode=g,this._buffer=t,this._deleteBuffer=M,this._mimeType=C,this._loaderOptions=w,this._creationFlags=R,this._useSRGBBuffer=D,this._forcedExtension=Q,void 0!==V&&(this._format=V);const p=this.fE(),f=this._getEngine();if(!f)return;f.onBeforeTextureInitObservable.notifyObservers(this);const P=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),l&&l(),!this.isBlocking&&p&&p.resetCachedMaterial()},j=(E,H)=>{this._loadingError=!0,this._errorObject={message:E,exception:H},r&&r(E,H),e.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!s)return this._delayedOnLoad=P,void(this._delayedOnError=j);if(this._texture=s??this._getFromCache(this.url,Z,g,this._invertY,D,this.isCube),this._texture)if(this._texture.isReady)S.b.SetImmediate((()=>P()));else{const E=this._texture.onLoadedObservable.add(P);this._texture.onErrorObservable.add((H=>{var d;j(H.message,H.exception),null===(d=this._texture)||void 0===d||d.onLoadedObservable.remove(E)}))}else if(p&&p.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=P,this._delayedOnError=j;else{try{this._texture=f.createTexture(this.url,Z,this._invertY,p,g,P,j,this._buffer,void 0,this._format,this._forcedExtension,C,w,R,D)}catch(X){throw j("error loading",X),X}M&&(this._buffer=null)}}updateURL(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,d=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.fE().markAllMaterialsAsDirty(1,(E=>E.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=E),this.url=E,this._buffer=H,this._forcedExtension=n,this.delayLoadState=4,d&&(this._delayedOnLoad=d),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const E=this.fE();E&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?S.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=E.getEngine().createTexture(this.url,this._noMipmap,this._invertY,E,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(E,H,d,n){E*=this._cachedUScale,H*=this._cachedVScale,E-=this.uRotationCenter*this._cachedUScale,H-=this.vRotationCenter*this._cachedVScale,d-=this.wRotationCenter,g.wH.TransformCoordinatesFromFloatsToRef(E,H,d,this._rowGenerationMatrix,n),n.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,n.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,n.z+=this.wRotationCenter}getTextureMatrix(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*E===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*E,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=g.Matrix.Zero(),this._rowGenerationMatrix=new g.Matrix,this._t0=g.wH.Zero(),this._t1=g.wH.Zero(),this._t2=g.wH.Zero()),g.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(g.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,g.TmpVectors.Matrix[0]),g.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,g.TmpVectors.Matrix[1]),g.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,g.TmpVectors.Matrix[2]),g.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,g.TmpVectors.Matrix[3]),g.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.MM(this._t0),this._t2.MM(this._t0),g.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const H=this.fE();if(!H)return this._cachedTextureMatrix;const d=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&d!==this._cachedIdentity3x2&&H.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const E=this.fE();if(!E)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==e.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===E.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=g.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=g.Matrix.Zero());const H=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case e.PLANAR_MODE:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case e.PROJECTION_MODE:{g.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const H=E.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=H.updateFlag,H.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return H&&E.markAllMaterialsAsDirty(1,(E=>E.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const E={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,A:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return D.c.Clone((()=>new e(this._texture?this._texture.url:null,this.fE(),E)),this)}serialize(){var E;const H=this.name;e.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const d=super.serialize(e._SerializeInternalTextureUniqueId);if(!d)return null;if(e.SerializeBuffers||e.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))d.base64String=this._buffer,d.name=d.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const E=this.mimeType||"image/png";d.base64String=`data:${E};base64,${(0,C.k)(this._buffer)}`}else(e.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(d.base64String=!this._engine||this._engine._features.supportSyncTextureRead?R(this):Q(this));var n;(d.invertY=this._invertY,d.samplingMode=this.samplingMode,d._creationFlags=this._creationFlags,d._useSRGBBuffer=this._useSRGBBuffer,e._SerializeInternalTextureUniqueId)&&(d.internalTextureUniqueId=null===(n=this._texture)||void 0===n?void 0:n.uniqueId);return d.internalTextureLabel=null===(E=this._texture)||void 0===E?void 0:E.label,d.noMipmap=this._noMipmap,this.name=H,d}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(E,H,d){if(E.customType){const n=M.c.Instantiate(E.customType).Parse(E,H,d);return E.samplingMode&&n.updateSamplingMode&&n._samplingMode&&n._samplingMode!==E.samplingMode&&n.updateSamplingMode(E.samplingMode),n}if(E.isCube&&!E.isRenderTarget)return e._CubeTextureParser(E,H,d);const n=void 0!==E.internalTextureUniqueId;if(!E.name&&!E.isRenderTarget&&!n)return null;let Z;if(n){const d=H.getEngine().getLoadedTexturesCache();for(const H of d)if(H.uniqueId===E.internalTextureUniqueId){Z=H;break}}const I=H=>{if(H&&H._texture&&(H._texture._cachedWrapU=null,H._texture._cachedWrapV=null,H._texture._cachedWrapR=null),E.samplingMode){const d=E.samplingMode;H&&H.samplingMode!==d&&H.updateSamplingMode(d)}if(H&&E.animations)for(let d=0;d<E.animations.length;d++){const n=E.animations[d],Z=(0,r.c)("BABYLON.Animation");Z&&H.animations.push(Z.Parse(n))}H&&H._texture&&(n&&!Z&&H._texture._setUniqueId(E.internalTextureUniqueId),H._texture.label=E.internalTextureLabel)};return D.c.Parse((()=>{let n=!0;if(E.noMipmap&&(n=!1),E.mirrorPlane){const d=e._CreateMirror(E.name,E.renderTargetSize,H,n);return d._waitingRenderList=E.renderList,d.mirrorPlane=V.d.eH(E.mirrorPlane),I(d),d}if(E.isRenderTarget){let d=null;if(E.isCube){if(H.reflectionProbes)for(let n=0;n<H.reflectionProbes.length;n++){const d=H.reflectionProbes[n];if(d.name===E.name)return d.cubeTexture}}else d=e._CreateRenderTargetTexture(E.name,E.renderTargetSize,H,n,E._creationFlags??0),d._waitingRenderList=E.renderList;return I(d),d}if(E.isVideo){const Z=e._CreateVideoTexture(d+(E.url||E.name),d+(E.src||E.url),H,n,E.invertY,E.samplingMode,E.settings||{});return I(Z),Z}{let g;if(E.base64String&&!Z)g=e.CreateFromBase64String(E.base64String,E.base64String,H,!n,E.invertY,E.samplingMode,(()=>{I(g)}),E._creationFlags??0,E._useSRGBBuffer??!1),g.name=E.name;else{let l;l=E.name&&(E.name.indexOf("://")>0||E.name.startsWith("data:"))?E.name:d+E.name,E.url&&(E.url.startsWith("data:")||e.UseSerializedUrlIfAny)&&(l=E.url);const r={noMipmap:!n,invertY:E.invertY,samplingMode:E.samplingMode,A:()=>{I(g)},internalTexture:Z};g=new e(l,H,r)}return g}}),E,H)}static CreateFromBase64String(E,H,d,n,Z){let I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.TRILINEAR_SAMPLINGMODE;return new e("data:"+H,d,n,Z,I,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(E,H,d){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Z=arguments.length>4?arguments[4]:void 0,I=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e.TRILINEAR_SAMPLINGMODE,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,r=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,t=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,S=arguments.length>10?arguments[10]:void 0,M=arguments.length>11?arguments[11]:void 0;return"data:"!==E.substring(0,5)&&(E="data:"+E),new e(E,d,Z,I,g,l,r,H,n,t,void 0,void 0,S,M)}}e.SerializeBuffers=!0,e.ForceSerializeBuffers=!1,e.OnTextureLoadErrorObservable=new I.e,e._SerializeInternalTextureUniqueId=!1,e._CubeTextureParser=(E,H,d)=>{throw(0,t.c)("CubeTexture")},e._CreateMirror=(E,H,d,n)=>{throw(0,t.c)("MirrorTexture")},e._CreateRenderTargetTexture=(E,H,d,n,Z)=>{throw(0,t.c)("RenderTargetTexture")},e.NEAREST_SAMPLINGMODE=1,e.NEAREST_NEAREST_MIPLINEAR=8,e.BILINEAR_SAMPLINGMODE=2,e.LINEAR_LINEAR_MIPNEAREST=11,e.TRILINEAR_SAMPLINGMODE=3,e.LINEAR_LINEAR_MIPLINEAR=3,e.NEAREST_NEAREST_MIPNEAREST=4,e.NEAREST_LINEAR_MIPNEAREST=5,e.NEAREST_LINEAR_MIPLINEAR=6,e.NEAREST_LINEAR=7,e.NEAREST_NEAREST=1,e.LINEAR_NEAREST_MIPNEAREST=9,e.LINEAR_NEAREST_MIPLINEAR=10,e.LINEAR_LINEAR=2,e.LINEAR_NEAREST=12,e.EXPLICIT_MODE=0,e.SPHERICAL_MODE=1,e.PLANAR_MODE=2,e.CUBIC_MODE=3,e.PROJECTION_MODE=4,e.SKYBOX_MODE=5,e.INVCUBIC_MODE=6,e.EQUIRECTANGULAR_MODE=7,e.FIXED_EQUIRECTANGULAR_MODE=8,e.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,e.CLAMP_ADDRESSMODE=0,e.WRAP_ADDRESSMODE=1,e.MIRROR_ADDRESSMODE=2,e.UseSerializedUrlIfAny=!1,(0,n.e)([(0,Z.K)()],e.prototype,"url",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"uOffset",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"vOffset",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"uScale",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"vScale",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"uAng",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"vAng",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"wAng",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"uRotationCenter",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"vRotationCenter",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"wRotationCenter",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"homogeneousRotationInUVTransform",void 0),(0,n.e)([(0,Z.K)()],e.prototype,"isBlocking",null),(0,r.e)("BABYLON.Texture",e),D.c._TextureParser=e.Parse},12439:(E,H,d)=>{d.d(H,{d:()=>Z});var n=d(12384);class Z{constructor(E,H,d,Z){this.normal=new n.wH(E,H,d),this.d=Z}kd(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new Z(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let E=this.normal.getHashCode();return E=397*E^this.d,E}normalize(){const E=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let H=0;return 0!==E&&(H=1/E),this.normal.x*=H,this.normal.y*=H,this.normal.z*=H,this.d*=H,this}transform(E){const H=Z._TmpMatrix;E.invertToRef(H);const d=H.m,n=this.normal.x,I=this.normal.y,g=this.normal.z,l=this.d,r=n*d[0]+I*d[1]+g*d[2]+l*d[3],t=n*d[4]+I*d[5]+g*d[6]+l*d[7],S=n*d[8]+I*d[9]+g*d[10]+l*d[11],M=n*d[12]+I*d[13]+g*d[14]+l*d[15];return new Z(r,t,S,M)}dotCoordinate(E){return this.normal.x*E.x+this.normal.y*E.y+this.normal.z*E.z+this.d}copyFromPoints(E,H,d){const n=H.x-E.x,Z=H.y-E.y,I=H.z-E.z,g=d.x-E.x,l=d.y-E.y,r=d.z-E.z,t=Z*r-I*l,S=I*g-n*r,M=n*l-Z*g,V=Math.sqrt(t*t+S*S+M*M);let C;return C=0!==V?1/V:0,this.normal.x=t*C,this.normal.y=S*C,this.normal.z=M*C,this.d=-(this.normal.x*E.x+this.normal.y*E.y+this.normal.z*E.z),this}isFrontFacingTo(E,H){return n.wH.Dot(this.normal,E)<=H}signedDistanceTo(E){return n.wH.Dot(E,this.normal)+this.d}static eH(E){return new Z(E[0],E[1],E[2],E[3])}static FromPoints(E,H,d){const n=new Z(0,0,0,0);return n.copyFromPoints(E,H,d),n}static FromPositionAndNormal(E,H){const d=new Z(0,0,0,0);return this.FromPositionAndNormalToRef(E,H,d)}static FromPositionAndNormalToRef(E,H,d){return d.normal.l(H),d.normal.normalize(),d.d=-E.dot(d.normal),d}static SignedDistanceToPlaneFromPositionAndNormal(E,H,d){const Z=-(H.x*E.x+H.y*E.y+H.z*E.z);return n.wH.Dot(d,H)+Z}}Z._TmpMatrix=n.Matrix.Identity()},12419:(E,H,d)=>{d.d(H,{c:()=>n});class n{constructor(E,H){this.width=E,this.height=H}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let E=0|this.width;return E=397*E^this.height,E}l(E){this.width=E.width,this.height=E.height}en(E,H){return this.width=E,this.height=H,this}set(E,H){return this.en(E,H)}multiplyByFloats(E,H){return new n(this.width*E,this.height*H)}clone(){return new n(this.width,this.height)}equals(E){return!!E&&(this.width===E.width&&this.height===E.height)}get surface(){return this.width*this.height}static Zero(){return new n(0,0)}add(E){return new n(this.width+E.width,this.height+E.height)}RH(E){return new n(this.width-E.width,this.height-E.height)}scale(E){return new n(this.width*E,this.height*E)}static Lerp(E,H,d){const Z=E.width+(H.width-E.width)*d,I=E.height+(H.height-E.height)*d;return new n(Z,I)}}},12380:(E,H,d)=>{d.d(H,{d:()=>I,e:()=>g});const n={},Z={};function I(E){const H=E.getClassName();return Z[H]||(Z[H]={}),Z[H]}function g(E){const H=E.getClassName();if(n[H])return n[H];n[H]={};const d=n[H];let I=E,g=H;for(;g;){const E=Z[g];for(const Z in E)d[Z]=E[Z];let H,n=!1;do{if(H=Object.getPrototypeOf(I),!H.getClassName){n=!0;break}if(H.getClassName()!==g)break;I=H}while(H);if(n)break;g=H.getClassName(),I=H}return d}},12372:(E,H,d)=>{d.d(H,{A:()=>l,E:()=>S,I:()=>M,K:()=>g,b:()=>I,d:()=>D,e:()=>C,g:()=>r,k:()=>w,n:()=>t,q:()=>R,s:()=>L,t:()=>V,x:()=>Q});var n=d(12380);function Z(E,H){return(d,Z)=>{const I=(0,n.d)(d);I[Z]||(I[Z]={type:E,sourceName:H})}}function I(E){return function(E){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(d,n)=>{const Z=H||"_"+n;Object.defineProperty(d,n,{get:function(){return this[Z]},set:function(H){var n;"function"===typeof(null===(n=this[Z])||void 0===n?void 0:n.equals)&&this[Z].equals(H)||this[Z]!==H&&(this[Z]=H,d[E].apply(this))},enumerable:!0,configurable:!0})}}(E,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function g(E){return Z(0,E)}function l(E){return Z(1,E)}function r(E){return Z(2,E)}function t(E){return Z(3,E)}function S(E){return Z(4,E)}function M(E){return Z(5,E)}function V(E){return Z(6,E)}function C(E){return Z(7,E)}function w(E){return Z(8,E)}function R(E){return Z(9,E)}function Q(E){return Z(10,E)}function L(E){return Z(12,E)}function D(E,H,d,n){const Z=d.value;d.value=function(){let d=Z;if("undefined"!==typeof _native&&_native[H]){const E=_native[H];d=n?function(){return n(...arguments)?E(...arguments):Z(...arguments)}:E}return E[H]=d,d(...arguments)}}D.filter=function(E){return(H,d,n)=>D(H,d,n,E)}},12428:(E,H,d)=>{d.d(H,{c:()=>t});var n=d(12256),Z=d(12432),I=d(12437),g=d(12384),l=d(12380);const r=function(E,H,d){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const I=E();Z.e&&Z.e.HasTags(H)&&Z.e.AddTagsTo(I,Z.e.GetTags(H,!0));const g=(0,l.e)(I),r={};for(const Z in g){const E=g[Z],l=H[Z],S=E.type;if(void 0!==l&&null!==l&&("uniqueId"!==Z||t.AllowLoadingUniqueId))switch(S){case 0:case 6:case 9:case 11:I[Z]=l;break;case 1:n.cloneTexturesOnlyOnce&&r[l.uniqueId]?I[Z]=r[l.uniqueId]:(I[Z]=d||l.isRenderTarget?l:l.clone(),r[l.uniqueId]=I[Z]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:I[Z]=d?l:l.clone()}}return I};class t{static AppendSerializedAnimations(E,H){if(E.animations){H.animations=[];for(let d=0;d<E.animations.length;d++){const n=E.animations[d];H.animations.push(n.serialize())}}}static Serialize(E,H){H||(H={}),Z.e&&(H.tags=Z.e.GetTags(E));const d=(0,l.e)(E);for(const n in d){const Z=d[n],I=Z.sourceName||n,g=Z.type,l=E[n];if(void 0!==l&&null!==l&&("uniqueId"!==n||t.AllowLoadingUniqueId))switch(g){case 0:H[I]=l;break;case 1:case 3:case 7:case 9:H[I]=l.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:H[I]=l.kd();break;case 6:case 11:H[I]=l.id}}return H}static ParseProperties(E,H,d,n){n||(n="");const Z=(0,l.e)(H);for(const l in Z){const r=Z[l],S=E[r.sourceName||l],M=r.type;if(void 0!==S&&null!==S&&("uniqueId"!==l||t.AllowLoadingUniqueId)){const E=H;switch(M){case 0:E[l]=S;break;case 1:d&&(E[l]=t._TextureParser(S,d,n));break;case 2:E[l]=I.DH.eH(S);break;case 3:E[l]=t._FresnelParametersParser(S);break;case 4:E[l]=g.Vector2.eH(S);break;case 5:E[l]=g.wH.eH(S);break;case 6:d&&(E[l]=d.getLastMeshById(S));break;case 7:E[l]=t._ColorCurvesParser(S);break;case 8:E[l]=I.gg.eH(S);break;case 9:E[l]=t._ImageProcessingConfigurationParser(S);break;case 10:E[l]=g.Quaternion.eH(S);break;case 11:d&&(E[l]=d.getCameraById(S));break;case 12:E[l]=g.Matrix.eH(S)}}}}static Parse(E,H,d){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const I=E();return Z.e&&Z.e.AddTagsTo(I,H.tags),t.ParseProperties(H,I,d,n),I}static Clone(E,H){return r(E,H,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(E,H){return r(E,H,!0)}}t.AllowLoadingUniqueId=!1,t._ImageProcessingConfigurationParser=E=>{throw(0,n.c)("ImageProcessingConfiguration")},t._FresnelParametersParser=E=>{throw(0,n.c)("FresnelParameters")},t._ColorCurvesParser=E=>{throw(0,n.c)("ColorCurves")},t._TextureParser=(E,H,d)=>{throw(0,n.c)("Texture")}},12432:(E,H,d)=>{d.d(H,{e:()=>Z});class n{static Eval(E,H){return"true"===(E=E.match(/\([^()]*\)/g)?E.replace(/\([^()]*\)/g,(E=>(E=E.slice(1,E.length-1),n._HandleParenthesisContent(E,H)))):n._HandleParenthesisContent(E,H))||"false"!==E&&n.Eval(E,H)}static _HandleParenthesisContent(E,H){let d;H=H||(E=>"true"===E);const Z=E.split("||");for(const I in Z)if(Object.prototype.hasOwnProperty.call(Z,I)){let E=n._SimplifyNegation(Z[I].trim());const g=E.split("&&");if(g.length>1)for(let Z=0;Z<g.length;++Z){const I=n._SimplifyNegation(g[Z].trim());if(d="true"!==I&&"false"!==I?"!"===I[0]?!H(I.substring(1)):H(I):"true"===I,!d){E="false";break}}if(d||"true"===E){d=!0;break}d="true"!==E&&"false"!==E?"!"===E[0]?!H(E.substring(1)):H(E):"true"===E}return d?"true":"false"}static _SimplifyNegation(E){return"!true"===(E=(E=E.replace(/^[\s!]+/,(E=>(E=E.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?E="false":"!false"===E&&(E="true"),E}}class Z{static EnableFor(E){E._tags=E._tags||{},E.hasTags=()=>Z.HasTags(E),E.addTags=H=>Z.AddTagsTo(E,H),E.removeTags=H=>Z.RemoveTagsFrom(E,H),E.matchesTagsQuery=H=>Z.MatchesQuery(E,H)}static DisableFor(E){delete E._tags,delete E.hasTags,delete E.addTags,delete E.removeTags,delete E.matchesTagsQuery}static HasTags(E){if(!E._tags)return!1;const H=E._tags;for(const d in H)if(Object.prototype.hasOwnProperty.call(H,d))return!0;return!1}static GetTags(E){let H=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!E._tags)return null;if(H){const H=[];for(const d in E._tags)Object.prototype.hasOwnProperty.call(E._tags,d)&&!0===E._tags[d]&&H.push(d);return H.join(" ")}return E._tags}static AddTagsTo(E,H){if(!H)return;if("string"!==typeof H)return;const d=H.split(" ");for(const n of d)Z._AddTagTo(E,n)}static _AddTagTo(E,H){""!==(H=H.trim())&&"true"!==H&&"false"!==H&&(H.match(/[\s]/)||H.match(/^([!]|([|]|[&]){2})/)||(Z.EnableFor(E),E._tags[H]=!0))}static RemoveTagsFrom(E,H){if(!Z.HasTags(E))return;const d=H.split(" ");for(const n in d)Z._RemoveTagFrom(E,d[n])}static _RemoveTagFrom(E,H){delete E._tags[H]}static MatchesQuery(E,H){return void 0===H||(""===H?Z.HasTags(E):n.Eval(H,(H=>Z.HasTags(E)&&E._tags[H])))}}},12369:(E,H,d)=>{d.d(H,{e:()=>n});function n(E,H,d,n){var Z,I=arguments.length,g=I<3?H:null===n?n=Object.getOwnPropertyDescriptor(H,d):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(E,H,d,n);else for(var l=E.length-1;l>=0;l--)(Z=E[l])&&(g=(I<3?Z(g):I>3?Z(H,d,g):Z(H,d))||g);return I>3&&g&&Object.defineProperty(H,d,g),g}Object.create;Object.create}}]);