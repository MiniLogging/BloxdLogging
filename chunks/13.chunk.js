"use strict";(self.zjjkhojdx1=self.zjjkhojdx1||[]).push([[13],{11292:(k,h,o)=>{o.d(h,{c:()=>x});let x=!1},11266:(k,h,o)=>{o.d(h,{c:()=>a});var x=o(11227),I=o(11233),q=o(11082),Y=o(11239),J=o(11120),G=o(11208),l=(o(11127),o(11269));class A{get wrapU(){return this._wrapU}set wrapU(k){this._wrapU=k}get wrapV(){return this._wrapV}set wrapV(k){this._wrapV=k}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(k){this._texture&&(this._texture.isCube=k)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(k){this._texture&&(this._texture.is3D=k)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(k){this._texture&&(this._texture.is2DArray=k)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(k){return void 0!==(null===k||void 0===k?void 0:k.shareDepth)}constructor(k){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=l.d.Zero(),this._cachedBaseSize=l.d.Zero(),this._initialSamplingMode=2,this._texture=A._IsRenderTargetWrapper(k)?k.texture:k,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(k){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(k,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var K=o(11271);class a extends A{set Sh(k){this._hasAlpha!==k&&(this._hasAlpha=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get Sh(){return this._hasAlpha}set getAlphaFromRGB(k){this._getAlphaFromRGB!==k&&(this._getAlphaFromRGB=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(k){this._coordinatesIndex!==k&&(this._coordinatesIndex=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(k){this._coordinatesMode!==k&&(this._coordinatesMode=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(k){this._wrapU=k}get wrapV(){return this._wrapV}set wrapV(k){this._wrapV=k}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(k){this._texture?this._texture.isCube=k:this._isCube=k}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(k){this._texture&&(this._texture.is3D=k)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(k){this._texture&&(this._texture.is2DArray=k)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(k){var h;if(this._texture){if(this._texture._gammaSpace===k)return;this._texture._gammaSpace=k}else{if(this._gammaSpace===k)return;this._gammaSpace=k}null===(h=this.ik())||void 0===h||h.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(k){var h;k!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=k),null===(h=this.ik())||void 0===h||h.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(k){this._texture&&(this._texture._lodGenerationOffset=k)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(k){this._texture&&(this._texture._lodGenerationScale=k)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(k){this._texture&&(this._texture._linearSpecularLOD=k)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(k){this._texture&&(this._texture._irradianceTexture=k)}get uid(){return this._uid||(this._uid=(0,G.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(k){this._onDisposeObserver&&this.sh.remove(this._onDisposeObserver),this._onDisposeObserver=this.sh.add(k)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(k){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=a.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.sh=new q.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,k?a._IsScene(k)?this._scene=k:this._engine=k:this._scene=J.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=h,this._uid=null}ik(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(k){}get canRescale(){return!1}_getFromCache(k,h,o,x,I,q){const Y=this._getEngine();if(!Y)return null;const J=Y._getUseSRGBBuffer(!!I,h),G=Y.getLoadedTexturesCache();for(let l=0;l<G.length;l++){const Y=G[l];if((void 0===I||J===Y._useSRGBBuffer)&&(void 0===x||x===Y.invertY)&&Y.url===k&&Y.generateMipMaps===!h&&(!o||o===Y.samplingMode)&&(void 0===q||q===Y.isCube))return Y.incrementReferences(),Y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const k=this.ik();k&&k.markAllMaterialsAsDirty(1)}readPixels(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],I=arguments.length>4&&void 0!==arguments[4]&&arguments[4],q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,G=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const l=this._getEngine();if(!l)return null;const A=this.getSize();let K=A.width,a=A.height;0!==h&&(K/=Math.pow(2,h),a/=Math.pow(2,h),K=Math.round(K),a=Math.round(a)),J=Math.min(K,J),G=Math.min(a,G);try{return this._texture.isCube?l._readTexturePixels(this._texture,J,G,k,h,o,x,I,q,Y):l._readTexturePixels(this._texture,J,G,-1,h,o,x,I,q,Y)}catch(N){return null}}_readPixelsSync(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],I=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const q=this.getSize();let Y=q.width,J=q.height;const G=this._getEngine();if(!G)return null;0!=h&&(Y/=Math.pow(2,h),J/=Math.pow(2,h),Y=Math.round(Y),J=Math.round(J));try{return this._texture.isCube?G._readTexturePixelsSync(this._texture,Y,J,k,h,o,x,I):G._readTexturePixelsSync(this._texture,Y,J,-1,h,o,x,I)}catch(l){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const k=this._scene.textures.indexOf(this);if(k>=0&&this._scene.textures.splice(k,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const k=this._parentContainer.textures.indexOf(this);k>-1&&this._parentContainer.textures.splice(k,1),this._parentContainer=null}}this.sh.notifyObservers(this),this.sh.clear(),this.metadata=null,super.dispose()}serialize(){let k=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!k)return null;const h=K.c.Serialize(this);return K.c.AppendSerializedAnimations(this,h),h}static WhenAllReady(k,h){let o=k.length;if(0!==o)for(let x=0;x<k.length;x++){const I=k[x];if(I.isReady())0===--o&&h();else{const k=I.onLoadObservable;k?k.addOnce((()=>{0===--o&&h()})):0===--o&&h()}}else h()}static _IsScene(k){return"Scene"===k.getClassName()}}a.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,x.d)([(0,I.E)()],a.prototype,"uniqueId",void 0),(0,x.d)([(0,I.E)()],a.prototype,"name",void 0),(0,x.d)([(0,I.E)()],a.prototype,"displayName",void 0),(0,x.d)([(0,I.E)()],a.prototype,"metadata",void 0),(0,x.d)([(0,I.E)("Sh")],a.prototype,"_hasAlpha",void 0),(0,x.d)([(0,I.E)("getAlphaFromRGB")],a.prototype,"_getAlphaFromRGB",void 0),(0,x.d)([(0,I.E)()],a.prototype,"level",void 0),(0,x.d)([(0,I.E)("coordinatesIndex")],a.prototype,"_coordinatesIndex",void 0),(0,x.d)([(0,I.E)()],a.prototype,"optimizeUVAllocation",void 0),(0,x.d)([(0,I.E)("coordinatesMode")],a.prototype,"_coordinatesMode",void 0),(0,x.d)([(0,I.E)()],a.prototype,"wrapU",null),(0,x.d)([(0,I.E)()],a.prototype,"wrapV",null),(0,x.d)([(0,I.E)()],a.prototype,"wrapR",void 0),(0,x.d)([(0,I.E)()],a.prototype,"anisotropicFilteringLevel",void 0),(0,x.d)([(0,I.E)()],a.prototype,"isCube",null),(0,x.d)([(0,I.E)()],a.prototype,"is3D",null),(0,x.d)([(0,I.E)()],a.prototype,"is2DArray",null),(0,x.d)([(0,I.E)()],a.prototype,"gammaSpace",null),(0,x.d)([(0,I.E)()],a.prototype,"invertZ",void 0),(0,x.d)([(0,I.E)()],a.prototype,"lodLevelInAlpha",void 0),(0,x.d)([(0,I.E)()],a.prototype,"lodGenerationOffset",null),(0,x.d)([(0,I.E)()],a.prototype,"lodGenerationScale",null),(0,x.d)([(0,I.E)()],a.prototype,"linearSpecularLOD",null),(0,x.d)([(0,I.z)()],a.prototype,"irradianceTexture",null),(0,x.d)([(0,I.E)()],a.prototype,"isRenderTarget",void 0)},11223:(k,h,o)=>{o.d(h,{b:()=>T});var x=o(11227),I=o(11233),q=o(11082),Y=o(11239),J=o(11266),G=o(11199),l=o(11108),A=o(11145),K=o(11196),a=o(11288),N=o(11134);function X(k,h){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const x=h.width,I=h.height;if(k instanceof Float32Array){let h=k.byteLength/k.BYTES_PER_ELEMENT;const o=new Uint8Array(h);for(;--h>=0;){let x=k[h];x<0?x=0:x>1&&(x=1),o[h]=255*x}k=o}const q=document.createElement("canvas");q.width=x,q.height=I;const Y=q.getContext("2d");if(!Y)return null;const J=Y.createImageData(x,I);if(J.data.set(k),Y.putImageData(J,0,0),o){const k=document.createElement("canvas");k.width=x,k.height=I;const h=k.getContext("2d");return h?(h.translate(0,I),h.scale(1,-1),h.drawImage(q,0,0),k.toDataURL("image/png")):null}return q.toDataURL("image/png")}function c(k){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const x=k.getInternalTexture();if(!x)return null;const I=k._readPixelsSync(h,o);return I?X(I,k.getSize(),x.invertY):null}async function W(k){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const x=k.getInternalTexture();if(!x)return null;const I=await k.readPixels(h,o);return I?X(I,k.getSize(),x.invertY):null}var f=o(11292),M=o(11271);class T extends J.c{static _CreateVideoTexture(k,h,o){arguments.length>5&&void 0!==arguments[5]||T.TRILINEAR_SAMPLINGMODE;throw(0,l.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(k){this._isBlocking=k}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(k,h,o,x){let I,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.TRILINEAR_SAMPLINGMODE,J=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,G=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]&&arguments[8],a=arguments.length>9?arguments[9]:void 0,N=arguments.length>10?arguments[10]:void 0,X=arguments.length>11?arguments[11]:void 0,c=arguments.length>12?arguments[12]:void 0,W=arguments.length>13?arguments[13]:void 0;super(h),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new q.d,this._isBlocking=!0,this.name=k||"",this.url=k;let M=!1,j=null,d=!0;"object"===typeof o&&null!==o?(I=o.noMipmap??!1,x=o.invertY??!f.c,Y=o.samplingMode??T.TRILINEAR_SAMPLINGMODE,J=o.S??null,G=o.onError??null,l=o.buffer??null,K=o.deleteBuffer??!1,a=o.format,N=o.mimeType,X=o.loaderOptions,c=o.creationFlags,M=o.useSRGBBuffer??!1,j=o.internalTexture??null,d=o.gammaSpace??d,W=o.forcedExtension??W):I=!!o,this._gammaSpace=d,this._noMipmap=I,this._invertY=void 0===x?!f.c:x,this._initialSamplingMode=Y,this._buffer=l,this._deleteBuffer=K,this._mimeType=N,this._loaderOptions=X,this._creationFlags=c,this._useSRGBBuffer=M,this._forcedExtension=W,void 0!==a&&(this._format=a);const b=this.ik(),V=this._getEngine();if(!V)return;V.onBeforeTextureInitObservable.notifyObservers(this);const i=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),J&&J(),!this.isBlocking&&b&&b.resetCachedMaterial()},F=(k,h)=>{this._loadingError=!0,this._errorObject={message:k,exception:h},G&&G(k,h),T.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!j)return this._delayedOnLoad=i,void(this._delayedOnError=F);if(this._texture=j??this._getFromCache(this.url,I,Y,this._invertY,M,this.isCube),this._texture)if(this._texture.isReady)A.c.SetImmediate((()=>i()));else{const k=this._texture.onLoadedObservable.add(i);this._texture.onErrorObservable.add((h=>{var o;F(h.message,h.exception),null===(o=this._texture)||void 0===o||o.onLoadedObservable.remove(k)}))}else if(b&&b.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=i,this._delayedOnError=F;else{try{this._texture=V.createTexture(this.url,I,this._invertY,b,Y,i,F,this._buffer,void 0,this._format,this._forcedExtension,N,X,c,M)}catch(R){throw F("error loading",R),R}K&&(this._buffer=null)}}updateURL(k){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2?arguments[2]:void 0,x=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.ik().markAllMaterialsAsDirty(1,(k=>k.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=k),this.url=k,this._buffer=h,this._forcedExtension=x,this.delayLoadState=4,o&&(this._delayedOnLoad=o),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const k=this.ik();k&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?A.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=k.getEngine().createTexture(this.url,this._noMipmap,this._invertY,k,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(k,h,o,x){k*=this._cachedUScale,h*=this._cachedVScale,k-=this.uRotationCenter*this._cachedUScale,h-=this.vRotationCenter*this._cachedVScale,o-=this.wRotationCenter,Y.Vh.TransformCoordinatesFromFloatsToRef(k,h,o,this._rowGenerationMatrix,x),x.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,x.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,x.z+=this.wRotationCenter}getTextureMatrix(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*k===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*k,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Y.Matrix.Zero(),this._rowGenerationMatrix=new Y.Matrix,this._t0=Y.Vh.Zero(),this._t1=Y.Vh.Zero(),this._t2=Y.Vh.Zero()),Y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Y.TmpVectors.Matrix[0]),Y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Y.TmpVectors.Matrix[1]),Y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Y.TmpVectors.Matrix[2]),Y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Y.TmpVectors.Matrix[3]),Y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.xK(this._t0),this._t2.xK(this._t0),Y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const h=this.ik();if(!h)return this._cachedTextureMatrix;const o=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&o!==this._cachedIdentity3x2&&h.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const k=this.ik();if(!k)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==T.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===k.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Y.Matrix.Zero());const h=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case T.PLANAR_MODE:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case T.PROJECTION_MODE:{Y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const h=k.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=h.updateFlag,h.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return h&&k.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const k={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,S:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return M.c.Clone((()=>new T(this._texture?this._texture.url:null,this.ik(),k)),this)}serialize(){var k;const h=this.name;T.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const o=super.serialize(T._SerializeInternalTextureUniqueId);if(!o)return null;if(T.SerializeBuffers||T.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))o.base64String=this._buffer,o.name=o.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const k=this.mimeType||"image/png";o.base64String=`data:${k};base64,${(0,N.l)(this._buffer)}`}else(T.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(o.base64String=!this._engine||this._engine._features.supportSyncTextureRead?c(this):W(this));var x;(o.invertY=this._invertY,o.samplingMode=this.samplingMode,o._creationFlags=this._creationFlags,o._useSRGBBuffer=this._useSRGBBuffer,T._SerializeInternalTextureUniqueId)&&(o.internalTextureUniqueId=null===(x=this._texture)||void 0===x?void 0:x.uniqueId);return o.internalTextureLabel=null===(k=this._texture)||void 0===k?void 0:k.label,o.noMipmap=this._noMipmap,this.name=h,o}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(k,h,o){if(k.customType){const x=K.c.Instantiate(k.customType).Parse(k,h,o);return k.samplingMode&&x.updateSamplingMode&&x._samplingMode&&x._samplingMode!==k.samplingMode&&x.updateSamplingMode(k.samplingMode),x}if(k.isCube&&!k.isRenderTarget)return T._CubeTextureParser(k,h,o);const x=void 0!==k.internalTextureUniqueId;if(!k.name&&!k.isRenderTarget&&!x)return null;let I;if(x){const o=h.getEngine().getLoadedTexturesCache();for(const h of o)if(h.uniqueId===k.internalTextureUniqueId){I=h;break}}const q=h=>{if(h&&h._texture&&(h._texture._cachedWrapU=null,h._texture._cachedWrapV=null,h._texture._cachedWrapR=null),k.samplingMode){const o=k.samplingMode;h&&h.samplingMode!==o&&h.updateSamplingMode(o)}if(h&&k.animations)for(let o=0;o<k.animations.length;o++){const x=k.animations[o],I=(0,G.e)("BABYLON.Animation");I&&h.animations.push(I.Parse(x))}h&&h._texture&&(x&&!I&&h._texture._setUniqueId(k.internalTextureUniqueId),h._texture.label=k.internalTextureLabel)};return M.c.Parse((()=>{let x=!0;if(k.noMipmap&&(x=!1),k.mirrorPlane){const o=T._CreateMirror(k.name,k.renderTargetSize,h,x);return o._waitingRenderList=k.renderList,o.mirrorPlane=a.b.Uh(k.mirrorPlane),q(o),o}if(k.isRenderTarget){let o=null;if(k.isCube){if(h.reflectionProbes)for(let x=0;x<h.reflectionProbes.length;x++){const o=h.reflectionProbes[x];if(o.name===k.name)return o.cubeTexture}}else o=T._CreateRenderTargetTexture(k.name,k.renderTargetSize,h,x,k._creationFlags??0),o._waitingRenderList=k.renderList;return q(o),o}if(k.isVideo){const I=T._CreateVideoTexture(o+(k.url||k.name),o+(k.src||k.url),h,x,k.invertY,k.samplingMode,k.settings||{});return q(I),I}{let Y;if(k.base64String&&!I)Y=T.CreateFromBase64String(k.base64String,k.base64String,h,!x,k.invertY,k.samplingMode,(()=>{q(Y)}),k._creationFlags??0,k._useSRGBBuffer??!1),Y.name=k.name;else{let J;J=k.name&&(k.name.indexOf("://")>0||k.name.startsWith("data:"))?k.name:o+k.name,k.url&&(k.url.startsWith("data:")||T.UseSerializedUrlIfAny)&&(J=k.url);const G={noMipmap:!x,invertY:k.invertY,samplingMode:k.samplingMode,S:()=>{q(Y)},internalTexture:I};Y=new T(J,h,G)}return Y}}),k,h)}static CreateFromBase64String(k,h,o,x,I){let q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.TRILINEAR_SAMPLINGMODE;return new T("data:"+h,o,x,I,q,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,k,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(k,h,o){let x=arguments.length>3&&void 0!==arguments[3]&&arguments[3],I=arguments.length>4?arguments[4]:void 0,q=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:T.TRILINEAR_SAMPLINGMODE,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,G=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,A=arguments.length>10?arguments[10]:void 0,K=arguments.length>11?arguments[11]:void 0;return"data:"!==k.substring(0,5)&&(k="data:"+k),new T(k,o,I,q,Y,J,G,h,x,l,void 0,void 0,A,K)}}T.SerializeBuffers=!0,T.ForceSerializeBuffers=!1,T.OnTextureLoadErrorObservable=new q.d,T._SerializeInternalTextureUniqueId=!1,T._CubeTextureParser=(k,h,o)=>{throw(0,l.e)("CubeTexture")},T._CreateMirror=(k,h,o,x)=>{throw(0,l.e)("MirrorTexture")},T._CreateRenderTargetTexture=(k,h,o,x,I)=>{throw(0,l.e)("RenderTargetTexture")},T.NEAREST_SAMPLINGMODE=1,T.NEAREST_NEAREST_MIPLINEAR=8,T.BILINEAR_SAMPLINGMODE=2,T.LINEAR_LINEAR_MIPNEAREST=11,T.TRILINEAR_SAMPLINGMODE=3,T.LINEAR_LINEAR_MIPLINEAR=3,T.NEAREST_NEAREST_MIPNEAREST=4,T.NEAREST_LINEAR_MIPNEAREST=5,T.NEAREST_LINEAR_MIPLINEAR=6,T.NEAREST_LINEAR=7,T.NEAREST_NEAREST=1,T.LINEAR_NEAREST_MIPNEAREST=9,T.LINEAR_NEAREST_MIPLINEAR=10,T.LINEAR_LINEAR=2,T.LINEAR_NEAREST=12,T.EXPLICIT_MODE=0,T.SPHERICAL_MODE=1,T.PLANAR_MODE=2,T.CUBIC_MODE=3,T.PROJECTION_MODE=4,T.SKYBOX_MODE=5,T.INVCUBIC_MODE=6,T.EQUIRECTANGULAR_MODE=7,T.FIXED_EQUIRECTANGULAR_MODE=8,T.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,T.CLAMP_ADDRESSMODE=0,T.WRAP_ADDRESSMODE=1,T.MIRROR_ADDRESSMODE=2,T.UseSerializedUrlIfAny=!1,(0,x.d)([(0,I.E)()],T.prototype,"url",void 0),(0,x.d)([(0,I.E)()],T.prototype,"uOffset",void 0),(0,x.d)([(0,I.E)()],T.prototype,"vOffset",void 0),(0,x.d)([(0,I.E)()],T.prototype,"uScale",void 0),(0,x.d)([(0,I.E)()],T.prototype,"vScale",void 0),(0,x.d)([(0,I.E)()],T.prototype,"uAng",void 0),(0,x.d)([(0,I.E)()],T.prototype,"vAng",void 0),(0,x.d)([(0,I.E)()],T.prototype,"wAng",void 0),(0,x.d)([(0,I.E)()],T.prototype,"uRotationCenter",void 0),(0,x.d)([(0,I.E)()],T.prototype,"vRotationCenter",void 0),(0,x.d)([(0,I.E)()],T.prototype,"wRotationCenter",void 0),(0,x.d)([(0,I.E)()],T.prototype,"homogeneousRotationInUVTransform",void 0),(0,x.d)([(0,I.E)()],T.prototype,"isBlocking",null),(0,G.g)("BABYLON.Texture",T),M.c._TextureParser=T.Parse},11288:(k,h,o)=>{o.d(h,{b:()=>I});var x=o(11239);class I{constructor(k,h,o,I){this.normal=new x.Vh(k,h,o),this.d=I}rh(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new I(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let k=this.normal.getHashCode();return k=397*k^this.d,k}normalize(){const k=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let h=0;return 0!==k&&(h=1/k),this.normal.x*=h,this.normal.y*=h,this.normal.z*=h,this.d*=h,this}transform(k){const h=I._TmpMatrix;k.invertToRef(h);const o=h.m,x=this.normal.x,q=this.normal.y,Y=this.normal.z,J=this.d,G=x*o[0]+q*o[1]+Y*o[2]+J*o[3],l=x*o[4]+q*o[5]+Y*o[6]+J*o[7],A=x*o[8]+q*o[9]+Y*o[10]+J*o[11],K=x*o[12]+q*o[13]+Y*o[14]+J*o[15];return new I(G,l,A,K)}dotCoordinate(k){return this.normal.x*k.x+this.normal.y*k.y+this.normal.z*k.z+this.d}copyFromPoints(k,h,o){const x=h.x-k.x,I=h.y-k.y,q=h.z-k.z,Y=o.x-k.x,J=o.y-k.y,G=o.z-k.z,l=I*G-q*J,A=q*Y-x*G,K=x*J-I*Y,a=Math.sqrt(l*l+A*A+K*K);let N;return N=0!==a?1/a:0,this.normal.x=l*N,this.normal.y=A*N,this.normal.z=K*N,this.d=-(this.normal.x*k.x+this.normal.y*k.y+this.normal.z*k.z),this}isFrontFacingTo(k,h){return x.Vh.Dot(this.normal,k)<=h}signedDistanceTo(k){return x.Vh.Dot(k,this.normal)+this.d}static Uh(k){return new I(k[0],k[1],k[2],k[3])}static FromPoints(k,h,o){const x=new I(0,0,0,0);return x.copyFromPoints(k,h,o),x}static FromPositionAndNormal(k,h){const o=new I(0,0,0,0);return this.FromPositionAndNormalToRef(k,h,o)}static FromPositionAndNormalToRef(k,h,o){return o.normal.Y(h),o.normal.normalize(),o.d=-k.dot(o.normal),o}static SignedDistanceToPlaneFromPositionAndNormal(k,h,o){const I=-(h.x*k.x+h.y*k.y+h.z*k.z);return x.Vh.Dot(o,h)+I}}I._TmpMatrix=x.Matrix.Identity()},11269:(k,h,o)=>{o.d(h,{d:()=>x});class x{constructor(k,h){this.width=k,this.height=h}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let k=0|this.width;return k=397*k^this.height,k}Y(k){this.width=k.width,this.height=k.height}VJ(k,h){return this.width=k,this.height=h,this}set(k,h){return this.VJ(k,h)}multiplyByFloats(k,h){return new x(this.width*k,this.height*h)}clone(){return new x(this.width,this.height)}equals(k){return!!k&&(this.width===k.width&&this.height===k.height)}get surface(){return this.width*this.height}static Zero(){return new x(0,0)}add(k){return new x(this.width+k.width,this.height+k.height)}ih(k){return new x(this.width-k.width,this.height-k.height)}scale(k){return new x(this.width*k,this.height*k)}static Lerp(k,h,o){const I=k.width+(h.width-k.width)*o,q=k.height+(h.height-k.height)*o;return new x(I,q)}}},11237:(k,h,o)=>{o.d(h,{d:()=>q,f:()=>Y});const x={},I={};function q(k){const h=k.getClassName();return I[h]||(I[h]={}),I[h]}function Y(k){const h=k.getClassName();if(x[h])return x[h];x[h]={};const o=x[h];let q=k,Y=h;for(;Y;){const k=I[Y];for(const I in k)o[I]=k[I];let h,x=!1;do{if(h=Object.getPrototypeOf(q),!h.getClassName){x=!0;break}if(h.getClassName()!==Y)break;q=h}while(h);if(x)break;Y=h.getClassName(),q=h}return o}},11233:(k,h,o)=>{o.d(h,{A:()=>A,D:()=>K,E:()=>Y,c:()=>q,e:()=>M,h:()=>N,i:()=>G,l:()=>X,n:()=>l,o:()=>c,s:()=>f,v:()=>a,x:()=>W,z:()=>J});var x=o(11237);function I(k,h){return(o,I)=>{const q=(0,x.d)(o);q[I]||(q[I]={type:k,sourceName:h})}}function q(k){return function(k){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(o,x)=>{const I=h||"_"+x;Object.defineProperty(o,x,{get:function(){return this[I]},set:function(h){var x;"function"===typeof(null===(x=this[I])||void 0===x?void 0:x.equals)&&this[I].equals(h)||this[I]!==h&&(this[I]=h,o[k].apply(this))},enumerable:!0,configurable:!0})}}(k,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Y(k){return I(0,k)}function J(k){return I(1,k)}function G(k){return I(2,k)}function l(k){return I(3,k)}function A(k){return I(4,k)}function K(k){return I(5,k)}function a(k){return I(6,k)}function N(k){return I(7,k)}function X(k){return I(8,k)}function c(k){return I(9,k)}function W(k){return I(10,k)}function f(k){return I(12,k)}function M(k,h,o,x){const I=o.value;o.value=function(){let o=I;if("undefined"!==typeof _native&&_native[h]){const k=_native[h];o=x?function(){return x(...arguments)?k(...arguments):I(...arguments)}:k}return k[h]=o,o(...arguments)}}M.filter=function(k){return(h,o,x)=>M(h,o,x,k)}},11271:(k,h,o)=>{o.d(h,{c:()=>l});var x=o(11108),I=o(11277),q=o(11281),Y=o(11239),J=o(11237);const G=function(k,h,o){let x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const q=k();I.d&&I.d.HasTags(h)&&I.d.AddTagsTo(q,I.d.GetTags(h,!0));const Y=(0,J.f)(q),G={};for(const I in Y){const k=Y[I],J=h[I],A=k.type;if(void 0!==J&&null!==J&&("uniqueId"!==I||l.AllowLoadingUniqueId))switch(A){case 0:case 6:case 9:case 11:q[I]=J;break;case 1:x.cloneTexturesOnlyOnce&&G[J.uniqueId]?q[I]=G[J.uniqueId]:(q[I]=o||J.isRenderTarget?J:J.clone(),G[J.uniqueId]=q[I]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:q[I]=o?J:J.clone()}}return q};class l{static AppendSerializedAnimations(k,h){if(k.animations){h.animations=[];for(let o=0;o<k.animations.length;o++){const x=k.animations[o];h.animations.push(x.serialize())}}}static Serialize(k,h){h||(h={}),I.d&&(h.tags=I.d.GetTags(k));const o=(0,J.f)(k);for(const x in o){const I=o[x],q=I.sourceName||x,Y=I.type,J=k[x];if(void 0!==J&&null!==J&&("uniqueId"!==x||l.AllowLoadingUniqueId))switch(Y){case 0:h[q]=J;break;case 1:case 3:case 7:case 9:h[q]=J.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:h[q]=J.rh();break;case 6:case 11:h[q]=J.id}}return h}static ParseProperties(k,h,o,x){x||(x="");const I=(0,J.f)(h);for(const J in I){const G=I[J],A=k[G.sourceName||J],K=G.type;if(void 0!==A&&null!==A&&("uniqueId"!==J||l.AllowLoadingUniqueId)){const k=h;switch(K){case 0:k[J]=A;break;case 1:o&&(k[J]=l._TextureParser(A,o,x));break;case 2:k[J]=q.Zh.Uh(A);break;case 3:k[J]=l._FresnelParametersParser(A);break;case 4:k[J]=Y.Vector2.Uh(A);break;case 5:k[J]=Y.Vh.Uh(A);break;case 6:o&&(k[J]=o.getLastMeshById(A));break;case 7:k[J]=l._ColorCurvesParser(A);break;case 8:k[J]=q.RJ.Uh(A);break;case 9:k[J]=l._ImageProcessingConfigurationParser(A);break;case 10:k[J]=Y.Quaternion.Uh(A);break;case 11:o&&(k[J]=o.getCameraById(A));break;case 12:k[J]=Y.Matrix.Uh(A)}}}}static Parse(k,h,o){let x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const q=k();return I.d&&I.d.AddTagsTo(q,h.tags),l.ParseProperties(h,q,o,x),q}static Clone(k,h){return G(k,h,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(k,h){return G(k,h,!0)}}l.AllowLoadingUniqueId=!1,l._ImageProcessingConfigurationParser=k=>{throw(0,x.e)("ImageProcessingConfiguration")},l._FresnelParametersParser=k=>{throw(0,x.e)("FresnelParameters")},l._ColorCurvesParser=k=>{throw(0,x.e)("ColorCurves")},l._TextureParser=(k,h,o)=>{throw(0,x.e)("Texture")}},11277:(k,h,o)=>{o.d(h,{d:()=>I});class x{static Eval(k,h){return"true"===(k=k.match(/\([^()]*\)/g)?k.replace(/\([^()]*\)/g,(k=>(k=k.slice(1,k.length-1),x._HandleParenthesisContent(k,h)))):x._HandleParenthesisContent(k,h))||"false"!==k&&x.Eval(k,h)}static _HandleParenthesisContent(k,h){let o;h=h||(k=>"true"===k);const I=k.split("||");for(const q in I)if(Object.prototype.hasOwnProperty.call(I,q)){let k=x._SimplifyNegation(I[q].trim());const Y=k.split("&&");if(Y.length>1)for(let I=0;I<Y.length;++I){const q=x._SimplifyNegation(Y[I].trim());if(o="true"!==q&&"false"!==q?"!"===q[0]?!h(q.substring(1)):h(q):"true"===q,!o){k="false";break}}if(o||"true"===k){o=!0;break}o="true"!==k&&"false"!==k?"!"===k[0]?!h(k.substring(1)):h(k):"true"===k}return o?"true":"false"}static _SimplifyNegation(k){return"!true"===(k=(k=k.replace(/^[\s!]+/,(k=>(k=k.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?k="false":"!false"===k&&(k="true"),k}}class I{static EnableFor(k){k._tags=k._tags||{},k.hasTags=()=>I.HasTags(k),k.addTags=h=>I.AddTagsTo(k,h),k.removeTags=h=>I.RemoveTagsFrom(k,h),k.matchesTagsQuery=h=>I.MatchesQuery(k,h)}static DisableFor(k){delete k._tags,delete k.hasTags,delete k.addTags,delete k.removeTags,delete k.matchesTagsQuery}static HasTags(k){if(!k._tags)return!1;const h=k._tags;for(const o in h)if(Object.prototype.hasOwnProperty.call(h,o))return!0;return!1}static GetTags(k){let h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!k._tags)return null;if(h){const h=[];for(const o in k._tags)Object.prototype.hasOwnProperty.call(k._tags,o)&&!0===k._tags[o]&&h.push(o);return h.join(" ")}return k._tags}static AddTagsTo(k,h){if(!h)return;if("string"!==typeof h)return;const o=h.split(" ");for(const x of o)I._AddTagTo(k,x)}static _AddTagTo(k,h){""!==(h=h.trim())&&"true"!==h&&"false"!==h&&(h.match(/[\s]/)||h.match(/^([!]|([|]|[&]){2})/)||(I.EnableFor(k),k._tags[h]=!0))}static RemoveTagsFrom(k,h){if(!I.HasTags(k))return;const o=h.split(" ");for(const x in o)I._RemoveTagFrom(k,o[x])}static _RemoveTagFrom(k,h){delete k._tags[h]}static MatchesQuery(k,h){return void 0===h||(""===h?I.HasTags(k):x.Eval(h,(h=>I.HasTags(k)&&k._tags[h])))}}},11227:(k,h,o)=>{o.d(h,{d:()=>x});function x(k,h,o,x){var I,q=arguments.length,Y=q<3?h:null===x?x=Object.getOwnPropertyDescriptor(h,o):x;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Y=Reflect.decorate(k,h,o,x);else for(var J=k.length-1;J>=0;J--)(I=k[J])&&(Y=(q<3?I(Y):q>3?I(h,o,Y):I(h,o))||Y);return q>3&&Y&&Object.defineProperty(h,o,Y),Y}Object.create;Object.create}}]);