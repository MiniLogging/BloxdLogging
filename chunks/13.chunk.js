"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[13],{12969:(h,R,l)=>{l.d(R,{e:()=>j});let j=!1},12925:(h,R,l)=>{l.d(R,{e:()=>J});var j=l(12882),a=l(12887),D=l(12696),U=l(12900),F=l(12749),w=l(12855),mh=(l(12758),l(12933));class u{get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(h){this._texture&&(this._texture.isCube=h)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(h){return void 0!==(null===h||void 0===h?void 0:h.shareDepth)}constructor(h){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=mh.c.Zero(),this._cachedBaseSize=mh.c.Zero(),this._initialSamplingMode=2,this._texture=u._IsRenderTargetWrapper(h)?h.texture:h,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(h){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(h,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var c=l(12942);class J extends u{set tF(h){this._hasAlpha!==h&&(this._hasAlpha=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get tF(){return this._hasAlpha}set getAlphaFromRGB(h){this._getAlphaFromRGB!==h&&(this._getAlphaFromRGB=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(h){this._coordinatesIndex!==h&&(this._coordinatesIndex=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(h){this._coordinatesMode!==h&&(this._coordinatesMode=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(h){this._texture?this._texture.isCube=h:this._isCube=h}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(h){var R;if(this._texture){if(this._texture._gammaSpace===h)return;this._texture._gammaSpace=h}else{if(this._gammaSpace===h)return;this._gammaSpace=h}null===(R=this.yh())||void 0===R||R.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(h){var R;h!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=h),null===(R=this.yh())||void 0===R||R.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(h){this._texture&&(this._texture._lodGenerationOffset=h)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(h){this._texture&&(this._texture._lodGenerationScale=h)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(h){this._texture&&(this._texture._linearSpecularLOD=h)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(h){this._texture&&(this._texture._irradianceTexture=h)}get uid(){return this._uid||(this._uid=(0,w.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(h){this._onDisposeObserver&&this.mw.remove(this._onDisposeObserver),this._onDisposeObserver=this.mw.add(h)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=J.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.mw=new D.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,h?J._IsScene(h)?this._scene=h:this._engine=h:this._scene=F.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=R,this._uid=null}yh(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return U.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return U.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(h){}get canRescale(){return!1}_getFromCache(h,R,l,j,a,D){const U=this._getEngine();if(!U)return null;const F=U._getUseSRGBBuffer(!!a,R),w=U.getLoadedTexturesCache();for(let mh=0;mh<w.length;mh++){const U=w[mh];if((void 0===a||F===U._useSRGBBuffer)&&(void 0===j||j===U.invertY)&&U.url===h&&U.generateMipMaps===!R&&(!l||l===U.samplingMode)&&(void 0===D||D===U.isCube))return U.incrementReferences(),U}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const h=this.yh();h&&h.markAllMaterialsAsDirty(1)}readPixels(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,F=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const mh=this._getEngine();if(!mh)return null;const u=this.getSize();let c=u.width,J=u.height;0!==R&&(c/=Math.pow(2,R),J/=Math.pow(2,R),c=Math.round(c),J=Math.round(J)),F=Math.min(c,F),w=Math.min(J,w);try{return this._texture.isCube?mh._readTexturePixels(this._texture,F,w,h,R,l,j,a,D,U):mh._readTexturePixels(this._texture,F,w,-1,R,l,j,a,D,U)}catch(q){return null}}_readPixelsSync(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const D=this.getSize();let U=D.width,F=D.height;const w=this._getEngine();if(!w)return null;0!=R&&(U/=Math.pow(2,R),F/=Math.pow(2,R),U=Math.round(U),F=Math.round(F));try{return this._texture.isCube?w._readTexturePixelsSync(this._texture,U,F,h,R,l,j,a):w._readTexturePixelsSync(this._texture,U,F,-1,R,l,j,a)}catch(mh){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const h=this._scene.textures.indexOf(this);if(h>=0&&this._scene.textures.splice(h,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const h=this._parentContainer.textures.indexOf(this);h>-1&&this._parentContainer.textures.splice(h,1),this._parentContainer=null}}this.mw.notifyObservers(this),this.mw.clear(),this.metadata=null,super.dispose()}serialize(){let h=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!h)return null;const R=c.c.Serialize(this);return c.c.AppendSerializedAnimations(this,R),R}static WhenAllReady(h,R){let l=h.length;if(0!==l)for(let j=0;j<h.length;j++){const a=h[j];if(a.isReady())0===--l&&R();else{const h=a.onLoadObservable;h?h.addOnce((()=>{0===--l&&R()})):0===--l&&R()}}else R()}static _IsScene(h){return"Scene"===h.getClassName()}}J.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,j.e)([(0,a.G)()],J.prototype,"uniqueId",void 0),(0,j.e)([(0,a.G)()],J.prototype,"name",void 0),(0,j.e)([(0,a.G)()],J.prototype,"displayName",void 0),(0,j.e)([(0,a.G)()],J.prototype,"metadata",void 0),(0,j.e)([(0,a.G)("tF")],J.prototype,"_hasAlpha",void 0),(0,j.e)([(0,a.G)("getAlphaFromRGB")],J.prototype,"_getAlphaFromRGB",void 0),(0,j.e)([(0,a.G)()],J.prototype,"level",void 0),(0,j.e)([(0,a.G)("coordinatesIndex")],J.prototype,"_coordinatesIndex",void 0),(0,j.e)([(0,a.G)()],J.prototype,"optimizeUVAllocation",void 0),(0,j.e)([(0,a.G)("coordinatesMode")],J.prototype,"_coordinatesMode",void 0),(0,j.e)([(0,a.G)()],J.prototype,"wrapU",null),(0,j.e)([(0,a.G)()],J.prototype,"wrapV",null),(0,j.e)([(0,a.G)()],J.prototype,"wrapR",void 0),(0,j.e)([(0,a.G)()],J.prototype,"anisotropicFilteringLevel",void 0),(0,j.e)([(0,a.G)()],J.prototype,"isCube",null),(0,j.e)([(0,a.G)()],J.prototype,"is3D",null),(0,j.e)([(0,a.G)()],J.prototype,"is2DArray",null),(0,j.e)([(0,a.G)()],J.prototype,"gammaSpace",null),(0,j.e)([(0,a.G)()],J.prototype,"invertZ",void 0),(0,j.e)([(0,a.G)()],J.prototype,"lodLevelInAlpha",void 0),(0,j.e)([(0,a.G)()],J.prototype,"lodGenerationOffset",null),(0,j.e)([(0,a.G)()],J.prototype,"lodGenerationScale",null),(0,j.e)([(0,a.G)()],J.prototype,"linearSpecularLOD",null),(0,j.e)([(0,a.x)()],J.prototype,"irradianceTexture",null),(0,j.e)([(0,a.G)()],J.prototype,"isRenderTarget",void 0)},12874:(h,R,l)=>{l.d(R,{b:()=>T});var j=l(12882),a=l(12887),D=l(12696),U=l(12900),F=l(12925),w=l(12852),mh=l(12733),u=l(12790),c=l(12849),J=l(12960),q=l(12774);function Q(h,R){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const j=R.width,a=R.height;if(h instanceof Float32Array){let R=h.byteLength/h.BYTES_PER_ELEMENT;const l=new Uint8Array(R);for(;--R>=0;){let j=h[R];j<0?j=0:j>1&&(j=1),l[R]=255*j}h=l}const D=document.createElement("canvas");D.width=j,D.height=a;const U=D.getContext("2d");if(!U)return null;const F=U.createImageData(j,a);if(F.data.set(h),U.putImageData(F,0,0),l){const h=document.createElement("canvas");h.width=j,h.height=a;const R=h.getContext("2d");return R?(R.translate(0,a),R.scale(1,-1),R.drawImage(D,0,0),h.toDataURL("image/png")):null}return D.toDataURL("image/png")}function Y(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=h.getInternalTexture();if(!j)return null;const a=h._readPixelsSync(R,l);return a?Q(a,h.getSize(),j.invertY):null}async function s(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=h.getInternalTexture();if(!j)return null;const a=await h.readPixels(R,l);return a?Q(a,h.getSize(),j.invertY):null}var t=l(12969),f=l(12942);class T extends F.e{static _CreateVideoTexture(h,R,l){arguments.length>5&&void 0!==arguments[5]||T.TRILINEAR_SAMPLINGMODE;throw(0,mh.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(h){this._isBlocking=h}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(h,R,l,j){let a,U=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.TRILINEAR_SAMPLINGMODE,F=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,mh=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],J=arguments.length>9?arguments[9]:void 0,q=arguments.length>10?arguments[10]:void 0,Q=arguments.length>11?arguments[11]:void 0,Y=arguments.length>12?arguments[12]:void 0,s=arguments.length>13?arguments[13]:void 0;super(R),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new D.d,this._isBlocking=!0,this.name=h||"",this.url=h;let f=!1,E=null,x=!0;"object"===typeof l&&null!==l?(a=l.noMipmap??!1,j=l.invertY??!t.e,U=l.samplingMode??T.TRILINEAR_SAMPLINGMODE,F=l.V??null,w=l.onError??null,mh=l.buffer??null,c=l.deleteBuffer??!1,J=l.format,q=l.mimeType,Q=l.loaderOptions,Y=l.creationFlags,f=l.useSRGBBuffer??!1,E=l.internalTexture??null,x=l.gammaSpace??x,s=l.forcedExtension??s):a=!!l,this._gammaSpace=x,this._noMipmap=a,this._invertY=void 0===j?!t.e:j,this._initialSamplingMode=U,this._buffer=mh,this._deleteBuffer=c,this._mimeType=q,this._loaderOptions=Q,this._creationFlags=Y,this._useSRGBBuffer=f,this._forcedExtension=s,void 0!==J&&(this._format=J);const G=this.yh(),p=this._getEngine();if(!p)return;p.onBeforeTextureInitObservable.notifyObservers(this);const O=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),F&&F(),!this.isBlocking&&G&&G.resetCachedMaterial()},y=(h,R)=>{this._loadingError=!0,this._errorObject={message:h,exception:R},w&&w(h,R),T.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!E)return this._delayedOnLoad=O,void(this._delayedOnError=y);if(this._texture=E??this._getFromCache(this.url,a,U,this._invertY,f,this.isCube),this._texture)if(this._texture.isReady)u.b.SetImmediate((()=>O()));else{const h=this._texture.onLoadedObservable.add(O);this._texture.onErrorObservable.add((R=>{var l;y(R.message,R.exception),null===(l=this._texture)||void 0===l||l.onLoadedObservable.remove(h)}))}else if(G&&G.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=O,this._delayedOnError=y;else{try{this._texture=p.createTexture(this.url,a,this._invertY,G,U,O,y,this._buffer,void 0,this._format,this._forcedExtension,q,Q,Y,f)}catch(v){throw y("error loading",v),v}c&&(this._buffer=null)}}updateURL(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.yh().markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=h),this.url=h,this._buffer=R,this._forcedExtension=j,this.delayLoadState=4,l&&(this._delayedOnLoad=l),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const h=this.yh();h&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?u.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=h.getEngine().createTexture(this.url,this._noMipmap,this._invertY,h,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(h,R,l,j){h*=this._cachedUScale,R*=this._cachedVScale,h-=this.uRotationCenter*this._cachedUScale,R-=this.vRotationCenter*this._cachedVScale,l-=this.wRotationCenter,U.tR.TransformCoordinatesFromFloatsToRef(h,R,l,this._rowGenerationMatrix,j),j.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,j.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,j.z+=this.wRotationCenter}getTextureMatrix(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*h===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*h,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=U.Matrix.Zero(),this._rowGenerationMatrix=new U.Matrix,this._t0=U.tR.Zero(),this._t1=U.tR.Zero(),this._t2=U.tR.Zero()),U.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(U.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,U.TmpVectors.Matrix[0]),U.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,U.TmpVectors.Matrix[1]),U.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,U.TmpVectors.Matrix[2]),U.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,U.TmpVectors.Matrix[3]),U.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(U.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Pc(this._t0),this._t2.Pc(this._t0),U.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const R=this.yh();if(!R)return this._cachedTextureMatrix;const l=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&l!==this._cachedIdentity3x2&&R.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const h=this.yh();if(!h)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==T.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===h.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=U.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=U.Matrix.Zero());const R=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case T.PLANAR_MODE:U.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case T.PROJECTION_MODE:{U.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const R=h.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=R.updateFlag,R.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:U.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return R&&h.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const h={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,V:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return f.c.Clone((()=>new T(this._texture?this._texture.url:null,this.yh(),h)),this)}serialize(){var h;const R=this.name;T.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const l=super.serialize(T._SerializeInternalTextureUniqueId);if(!l)return null;if(T.SerializeBuffers||T.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))l.base64String=this._buffer,l.name=l.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const h=this.mimeType||"image/png";l.base64String=`data:${h};base64,${(0,q.m)(this._buffer)}`}else(T.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(l.base64String=!this._engine||this._engine._features.supportSyncTextureRead?Y(this):s(this));var j;(l.invertY=this._invertY,l.samplingMode=this.samplingMode,l._creationFlags=this._creationFlags,l._useSRGBBuffer=this._useSRGBBuffer,T._SerializeInternalTextureUniqueId)&&(l.internalTextureUniqueId=null===(j=this._texture)||void 0===j?void 0:j.uniqueId);return l.internalTextureLabel=null===(h=this._texture)||void 0===h?void 0:h.label,l.noMipmap=this._noMipmap,this.name=R,l}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(h,R,l){if(h.customType){const j=c.e.Instantiate(h.customType).Parse(h,R,l);return h.samplingMode&&j.updateSamplingMode&&j._samplingMode&&j._samplingMode!==h.samplingMode&&j.updateSamplingMode(h.samplingMode),j}if(h.isCube&&!h.isRenderTarget)return T._CubeTextureParser(h,R,l);const j=void 0!==h.internalTextureUniqueId;if(!h.name&&!h.isRenderTarget&&!j)return null;let a;if(j){const l=R.getEngine().getLoadedTexturesCache();for(const R of l)if(R.uniqueId===h.internalTextureUniqueId){a=R;break}}const D=R=>{if(R&&R._texture&&(R._texture._cachedWrapU=null,R._texture._cachedWrapV=null,R._texture._cachedWrapR=null),h.samplingMode){const l=h.samplingMode;R&&R.samplingMode!==l&&R.updateSamplingMode(l)}if(R&&h.animations)for(let l=0;l<h.animations.length;l++){const j=h.animations[l],a=(0,w.e)("BABYLON.Animation");a&&R.animations.push(a.Parse(j))}R&&R._texture&&(j&&!a&&R._texture._setUniqueId(h.internalTextureUniqueId),R._texture.label=h.internalTextureLabel)};return f.c.Parse((()=>{let j=!0;if(h.noMipmap&&(j=!1),h.mirrorPlane){const l=T._CreateMirror(h.name,h.renderTargetSize,R,j);return l._waitingRenderList=h.renderList,l.mirrorPlane=J.d.GR(h.mirrorPlane),D(l),l}if(h.isRenderTarget){let l=null;if(h.isCube){if(R.reflectionProbes)for(let j=0;j<R.reflectionProbes.length;j++){const l=R.reflectionProbes[j];if(l.name===h.name)return l.cubeTexture}}else l=T._CreateRenderTargetTexture(h.name,h.renderTargetSize,R,j,h._creationFlags??0),l._waitingRenderList=h.renderList;return D(l),l}if(h.isVideo){const a=T._CreateVideoTexture(l+(h.url||h.name),l+(h.src||h.url),R,j,h.invertY,h.samplingMode,h.settings||{});return D(a),a}{let U;if(h.base64String&&!a)U=T.CreateFromBase64String(h.base64String,h.base64String,R,!j,h.invertY,h.samplingMode,(()=>{D(U)}),h._creationFlags??0,h._useSRGBBuffer??!1),U.name=h.name;else{let F;F=h.name&&(h.name.indexOf("://")>0||h.name.startsWith("data:"))?h.name:l+h.name,h.url&&(h.url.startsWith("data:")||T.UseSerializedUrlIfAny)&&(F=h.url);const w={noMipmap:!j,invertY:h.invertY,samplingMode:h.samplingMode,V:()=>{D(U)},internalTexture:a};U=new T(F,R,w)}return U}}),h,R)}static CreateFromBase64String(h,R,l,j,a){let D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.TRILINEAR_SAMPLINGMODE;return new T("data:"+R,l,j,a,D,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(h,R,l){let j=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,D=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:T.TRILINEAR_SAMPLINGMODE,F=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,mh=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,u=arguments.length>10?arguments[10]:void 0,c=arguments.length>11?arguments[11]:void 0;return"data:"!==h.substring(0,5)&&(h="data:"+h),new T(h,l,a,D,U,F,w,R,j,mh,void 0,void 0,u,c)}}T.SerializeBuffers=!0,T.ForceSerializeBuffers=!1,T.OnTextureLoadErrorObservable=new D.d,T._SerializeInternalTextureUniqueId=!1,T._CubeTextureParser=(h,R,l)=>{throw(0,mh.b)("CubeTexture")},T._CreateMirror=(h,R,l,j)=>{throw(0,mh.b)("MirrorTexture")},T._CreateRenderTargetTexture=(h,R,l,j,a)=>{throw(0,mh.b)("RenderTargetTexture")},T.NEAREST_SAMPLINGMODE=1,T.NEAREST_NEAREST_MIPLINEAR=8,T.BILINEAR_SAMPLINGMODE=2,T.LINEAR_LINEAR_MIPNEAREST=11,T.TRILINEAR_SAMPLINGMODE=3,T.LINEAR_LINEAR_MIPLINEAR=3,T.NEAREST_NEAREST_MIPNEAREST=4,T.NEAREST_LINEAR_MIPNEAREST=5,T.NEAREST_LINEAR_MIPLINEAR=6,T.NEAREST_LINEAR=7,T.NEAREST_NEAREST=1,T.LINEAR_NEAREST_MIPNEAREST=9,T.LINEAR_NEAREST_MIPLINEAR=10,T.LINEAR_LINEAR=2,T.LINEAR_NEAREST=12,T.EXPLICIT_MODE=0,T.SPHERICAL_MODE=1,T.PLANAR_MODE=2,T.CUBIC_MODE=3,T.PROJECTION_MODE=4,T.SKYBOX_MODE=5,T.INVCUBIC_MODE=6,T.EQUIRECTANGULAR_MODE=7,T.FIXED_EQUIRECTANGULAR_MODE=8,T.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,T.CLAMP_ADDRESSMODE=0,T.WRAP_ADDRESSMODE=1,T.MIRROR_ADDRESSMODE=2,T.UseSerializedUrlIfAny=!1,(0,j.e)([(0,a.G)()],T.prototype,"url",void 0),(0,j.e)([(0,a.G)()],T.prototype,"uOffset",void 0),(0,j.e)([(0,a.G)()],T.prototype,"vOffset",void 0),(0,j.e)([(0,a.G)()],T.prototype,"uScale",void 0),(0,j.e)([(0,a.G)()],T.prototype,"vScale",void 0),(0,j.e)([(0,a.G)()],T.prototype,"uAng",void 0),(0,j.e)([(0,a.G)()],T.prototype,"vAng",void 0),(0,j.e)([(0,a.G)()],T.prototype,"wAng",void 0),(0,j.e)([(0,a.G)()],T.prototype,"uRotationCenter",void 0),(0,j.e)([(0,a.G)()],T.prototype,"vRotationCenter",void 0),(0,j.e)([(0,a.G)()],T.prototype,"wRotationCenter",void 0),(0,j.e)([(0,a.G)()],T.prototype,"homogeneousRotationInUVTransform",void 0),(0,j.e)([(0,a.G)()],T.prototype,"isBlocking",null),(0,w.f)("BABYLON.Texture",T),f.c._TextureParser=T.Parse},12960:(h,R,l)=>{l.d(R,{d:()=>a});var j=l(12900);class a{constructor(h,R,l,a){this.normal=new j.tR(h,R,l),this.d=a}sF(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new a(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let h=this.normal.getHashCode();return h=397*h^this.d,h}normalize(){const h=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let R=0;return 0!==h&&(R=1/h),this.normal.x*=R,this.normal.y*=R,this.normal.z*=R,this.d*=R,this}transform(h){const R=a._TmpMatrix;h.invertToRef(R);const l=R.m,j=this.normal.x,D=this.normal.y,U=this.normal.z,F=this.d,w=j*l[0]+D*l[1]+U*l[2]+F*l[3],mh=j*l[4]+D*l[5]+U*l[6]+F*l[7],u=j*l[8]+D*l[9]+U*l[10]+F*l[11],c=j*l[12]+D*l[13]+U*l[14]+F*l[15];return new a(w,mh,u,c)}dotCoordinate(h){return this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z+this.d}copyFromPoints(h,R,l){const j=R.x-h.x,a=R.y-h.y,D=R.z-h.z,U=l.x-h.x,F=l.y-h.y,w=l.z-h.z,mh=a*w-D*F,u=D*U-j*w,c=j*F-a*U,J=Math.sqrt(mh*mh+u*u+c*c);let q;return q=0!==J?1/J:0,this.normal.x=mh*q,this.normal.y=u*q,this.normal.z=c*q,this.d=-(this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z),this}isFrontFacingTo(h,R){return j.tR.Dot(this.normal,h)<=R}signedDistanceTo(h){return j.tR.Dot(h,this.normal)+this.d}static GR(h){return new a(h[0],h[1],h[2],h[3])}static FromPoints(h,R,l){const j=new a(0,0,0,0);return j.copyFromPoints(h,R,l),j}static FromPositionAndNormal(h,R){const l=new a(0,0,0,0);return this.FromPositionAndNormalToRef(h,R,l)}static FromPositionAndNormalToRef(h,R,l){return l.normal.D(R),l.normal.normalize(),l.d=-h.dot(l.normal),l}static SignedDistanceToPlaneFromPositionAndNormal(h,R,l){const a=-(R.x*h.x+R.y*h.y+R.z*h.z);return j.tR.Dot(l,R)+a}}a._TmpMatrix=j.Matrix.Identity()},12933:(h,R,l)=>{l.d(R,{c:()=>j});class j{constructor(h,R){this.width=h,this.height=R}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let h=0|this.width;return h=397*h^this.height,h}D(h){this.width=h.width,this.height=h.height}OF(h,R){return this.width=h,this.height=R,this}set(h,R){return this.OF(h,R)}multiplyByFloats(h,R){return new j(this.width*h,this.height*R)}clone(){return new j(this.width,this.height)}equals(h){return!!h&&(this.width===h.width&&this.height===h.height)}get surface(){return this.width*this.height}static Zero(){return new j(0,0)}add(h){return new j(this.width+h.width,this.height+h.height)}fR(h){return new j(this.width-h.width,this.height-h.height)}scale(h){return new j(this.width*h,this.height*h)}static Lerp(h,R,l){const a=h.width+(R.width-h.width)*l,D=h.height+(R.height-h.height)*l;return new j(a,D)}}},12893:(h,R,l)=>{l.d(R,{c:()=>D,g:()=>U});const j={},a={};function D(h){const R=h.getClassName();return a[R]||(a[R]={}),a[R]}function U(h){const R=h.getClassName();if(j[R])return j[R];j[R]={};const l=j[R];let D=h,U=R;for(;U;){const h=a[U];for(const a in h)l[a]=h[a];let R,j=!1;do{if(R=Object.getPrototypeOf(D),!R.getClassName){j=!0;break}if(R.getClassName()!==U)break;D=R}while(R);if(j)break;U=R.getClassName(),D=R}return l}},12887:(h,R,l)=>{l.d(R,{B:()=>u,F:()=>c,G:()=>U,b:()=>D,d:()=>f,e:()=>q,i:()=>w,j:()=>Q,k:()=>mh,o:()=>Y,p:()=>t,q:()=>J,u:()=>s,x:()=>F});var j=l(12893);function a(h,R){return(l,a)=>{const D=(0,j.c)(l);D[a]||(D[a]={type:h,sourceName:R})}}function D(h){return function(h){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(l,j)=>{const a=R||"_"+j;Object.defineProperty(l,j,{get:function(){return this[a]},set:function(R){var j;"function"===typeof(null===(j=this[a])||void 0===j?void 0:j.equals)&&this[a].equals(R)||this[a]!==R&&(this[a]=R,l[h].apply(this))},enumerable:!0,configurable:!0})}}(h,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function U(h){return a(0,h)}function F(h){return a(1,h)}function w(h){return a(2,h)}function mh(h){return a(3,h)}function u(h){return a(4,h)}function c(h){return a(5,h)}function J(h){return a(6,h)}function q(h){return a(7,h)}function Q(h){return a(8,h)}function Y(h){return a(9,h)}function s(h){return a(10,h)}function t(h){return a(12,h)}function f(h,R,l,j){const a=l.value;l.value=function(){let l=a;if("undefined"!==typeof _native&&_native[R]){const h=_native[R];l=j?function(){return j(...arguments)?h(...arguments):a(...arguments)}:h}return h[R]=l,l(...arguments)}}f.filter=function(h){return(R,l,j)=>f(R,l,j,h)}},12942:(h,R,l)=>{l.d(R,{c:()=>mh});var j=l(12733),a=l(12944),D=l(12952),U=l(12900),F=l(12893);const w=function(h,R,l){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const D=h();a.e&&a.e.HasTags(R)&&a.e.AddTagsTo(D,a.e.GetTags(R,!0));const U=(0,F.g)(D),w={};for(const a in U){const h=U[a],F=R[a],u=h.type;if(void 0!==F&&null!==F&&("uniqueId"!==a||mh.AllowLoadingUniqueId))switch(u){case 0:case 6:case 9:case 11:D[a]=F;break;case 1:j.cloneTexturesOnlyOnce&&w[F.uniqueId]?D[a]=w[F.uniqueId]:(D[a]=l||F.isRenderTarget?F:F.clone(),w[F.uniqueId]=D[a]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:D[a]=l?F:F.clone()}}return D};class mh{static AppendSerializedAnimations(h,R){if(h.animations){R.animations=[];for(let l=0;l<h.animations.length;l++){const j=h.animations[l];R.animations.push(j.serialize())}}}static Serialize(h,R){R||(R={}),a.e&&(R.tags=a.e.GetTags(h));const l=(0,F.g)(h);for(const j in l){const a=l[j],D=a.sourceName||j,U=a.type,F=h[j];if(void 0!==F&&null!==F&&("uniqueId"!==j||mh.AllowLoadingUniqueId))switch(U){case 0:R[D]=F;break;case 1:case 3:case 7:case 9:R[D]=F.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:R[D]=F.sF();break;case 6:case 11:R[D]=F.id}}return R}static ParseProperties(h,R,l,j){j||(j="");const a=(0,F.g)(R);for(const F in a){const w=a[F],u=h[w.sourceName||F],c=w.type;if(void 0!==u&&null!==u&&("uniqueId"!==F||mh.AllowLoadingUniqueId)){const h=R;switch(c){case 0:h[F]=u;break;case 1:l&&(h[F]=mh._TextureParser(u,l,j));break;case 2:h[F]=D.xR.GR(u);break;case 3:h[F]=mh._FresnelParametersParser(u);break;case 4:h[F]=U.Vector2.GR(u);break;case 5:h[F]=U.tR.GR(u);break;case 6:l&&(h[F]=l.getLastMeshById(u));break;case 7:h[F]=mh._ColorCurvesParser(u);break;case 8:h[F]=D.bF.GR(u);break;case 9:h[F]=mh._ImageProcessingConfigurationParser(u);break;case 10:h[F]=U.Quaternion.GR(u);break;case 11:l&&(h[F]=l.getCameraById(u));break;case 12:h[F]=U.Matrix.GR(u)}}}}static Parse(h,R,l){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const D=h();return a.e&&a.e.AddTagsTo(D,R.tags),mh.ParseProperties(R,D,l,j),D}static Clone(h,R){return w(h,R,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(h,R){return w(h,R,!0)}}mh.AllowLoadingUniqueId=!1,mh._ImageProcessingConfigurationParser=h=>{throw(0,j.b)("ImageProcessingConfiguration")},mh._FresnelParametersParser=h=>{throw(0,j.b)("FresnelParameters")},mh._ColorCurvesParser=h=>{throw(0,j.b)("ColorCurves")},mh._TextureParser=(h,R,l)=>{throw(0,j.b)("Texture")}},12944:(h,R,l)=>{l.d(R,{e:()=>a});class j{static Eval(h,R){return"true"===(h=h.match(/\([^()]*\)/g)?h.replace(/\([^()]*\)/g,(h=>(h=h.slice(1,h.length-1),j._HandleParenthesisContent(h,R)))):j._HandleParenthesisContent(h,R))||"false"!==h&&j.Eval(h,R)}static _HandleParenthesisContent(h,R){let l;R=R||(h=>"true"===h);const a=h.split("||");for(const D in a)if(Object.prototype.hasOwnProperty.call(a,D)){let h=j._SimplifyNegation(a[D].trim());const U=h.split("&&");if(U.length>1)for(let a=0;a<U.length;++a){const D=j._SimplifyNegation(U[a].trim());if(l="true"!==D&&"false"!==D?"!"===D[0]?!R(D.substring(1)):R(D):"true"===D,!l){h="false";break}}if(l||"true"===h){l=!0;break}l="true"!==h&&"false"!==h?"!"===h[0]?!R(h.substring(1)):R(h):"true"===h}return l?"true":"false"}static _SimplifyNegation(h){return"!true"===(h=(h=h.replace(/^[\s!]+/,(h=>(h=h.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?h="false":"!false"===h&&(h="true"),h}}class a{static EnableFor(h){h._tags=h._tags||{},h.hasTags=()=>a.HasTags(h),h.addTags=R=>a.AddTagsTo(h,R),h.removeTags=R=>a.RemoveTagsFrom(h,R),h.matchesTagsQuery=R=>a.MatchesQuery(h,R)}static DisableFor(h){delete h._tags,delete h.hasTags,delete h.addTags,delete h.removeTags,delete h.matchesTagsQuery}static HasTags(h){if(!h._tags)return!1;const R=h._tags;for(const l in R)if(Object.prototype.hasOwnProperty.call(R,l))return!0;return!1}static GetTags(h){let R=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!h._tags)return null;if(R){const R=[];for(const l in h._tags)Object.prototype.hasOwnProperty.call(h._tags,l)&&!0===h._tags[l]&&R.push(l);return R.join(" ")}return h._tags}static AddTagsTo(h,R){if(!R)return;if("string"!==typeof R)return;const l=R.split(" ");for(const j of l)a._AddTagTo(h,j)}static _AddTagTo(h,R){""!==(R=R.trim())&&"true"!==R&&"false"!==R&&(R.match(/[\s]/)||R.match(/^([!]|([|]|[&]){2})/)||(a.EnableFor(h),h._tags[R]=!0))}static RemoveTagsFrom(h,R){if(!a.HasTags(h))return;const l=R.split(" ");for(const j in l)a._RemoveTagFrom(h,l[j])}static _RemoveTagFrom(h,R){delete h._tags[R]}static MatchesQuery(h,R){return void 0===R||(""===R?a.HasTags(h):j.Eval(R,(R=>a.HasTags(h)&&h._tags[R])))}}},12882:(h,R,l)=>{l.d(R,{e:()=>j});function j(h,R,l,j){var a,D=arguments.length,U=D<3?R:null===j?j=Object.getOwnPropertyDescriptor(R,l):j;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)U=Reflect.decorate(h,R,l,j);else for(var F=h.length-1;F>=0;F--)(a=h[F])&&(U=(D<3?a(U):D>3?a(R,l,U):a(R,l))||U);return D>3&&U&&Object.defineProperty(R,l,U),U}Object.create;Object.create}}]);