"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[13],{11242:(Z,x,F)=>{F.d(x,{e:()=>u});let u=!1},11201:(Z,x,F)=>{F.d(x,{e:()=>s});var u=F(11159),G=F(11165),f=F(11e3),Y=F(11179),j=F(11037),d=F(11144),t=(F(11041),F(11210));class o{get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(Z){this._texture&&(this._texture.isCube=Z)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(Z){return void 0!==(null===Z||void 0===Z?void 0:Z.shareDepth)}constructor(Z){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=t.e.Zero(),this._cachedBaseSize=t.e.Zero(),this._initialSamplingMode=2,this._texture=o._IsRenderTargetWrapper(Z)?Z.texture:Z,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(Z){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(Z,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var c=F(11213);class s extends o{set Af(Z){this._hasAlpha!==Z&&(this._hasAlpha=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get Af(){return this._hasAlpha}set getAlphaFromRGB(Z){this._getAlphaFromRGB!==Z&&(this._getAlphaFromRGB=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(Z){this._coordinatesIndex!==Z&&(this._coordinatesIndex=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(Z){this._coordinatesMode!==Z&&(this._coordinatesMode=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(Z){this._texture?this._texture.isCube=Z:this._isCube=Z}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(Z){var x;if(this._texture){if(this._texture._gammaSpace===Z)return;this._texture._gammaSpace=Z}else{if(this._gammaSpace===Z)return;this._gammaSpace=Z}null===(x=this.KZ())||void 0===x||x.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(Z){var x;Z!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=Z),null===(x=this.KZ())||void 0===x||x.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(Z){this._texture&&(this._texture._lodGenerationOffset=Z)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(Z){this._texture&&(this._texture._lodGenerationScale=Z)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(Z){this._texture&&(this._texture._linearSpecularLOD=Z)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(Z){this._texture&&(this._texture._irradianceTexture=Z)}get uid(){return this._uid||(this._uid=(0,d.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(Z){this._onDisposeObserver&&this.Uf.remove(this._onDisposeObserver),this._onDisposeObserver=this.Uf.add(Z)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Uf=new f.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,Z?s._IsScene(Z)?this._scene=Z:this._engine=Z:this._scene=j.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=x,this._uid=null}KZ(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(Z){}get canRescale(){return!1}_getFromCache(Z,x,F,u,G,f){const Y=this._getEngine();if(!Y)return null;const j=Y._getUseSRGBBuffer(!!G,x),d=Y.getLoadedTexturesCache();for(let t=0;t<d.length;t++){const Y=d[t];if((void 0===G||j===Y._useSRGBBuffer)&&(void 0===u||u===Y.invertY)&&Y.url===Z&&Y.generateMipMaps===!x&&(!F||F===Y.samplingMode)&&(void 0===f||f===Y.isCube))return Y.incrementReferences(),Y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const Z=this.KZ();Z&&Z.markAllMaterialsAsDirty(1)}readPixels(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],G=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const t=this._getEngine();if(!t)return null;const o=this.getSize();let c=o.width,s=o.height;0!==x&&(c/=Math.pow(2,x),s/=Math.pow(2,x),c=Math.round(c),s=Math.round(s)),j=Math.min(c,j),d=Math.min(s,d);try{return this._texture.isCube?t._readTexturePixels(this._texture,j,d,Z,x,F,u,G,f,Y):t._readTexturePixels(this._texture,j,d,-1,x,F,u,G,f,Y)}catch(J){return null}}_readPixelsSync(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],G=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const f=this.getSize();let Y=f.width,j=f.height;const d=this._getEngine();if(!d)return null;0!=x&&(Y/=Math.pow(2,x),j/=Math.pow(2,x),Y=Math.round(Y),j=Math.round(j));try{return this._texture.isCube?d._readTexturePixelsSync(this._texture,Y,j,Z,x,F,u,G):d._readTexturePixelsSync(this._texture,Y,j,-1,x,F,u,G)}catch(t){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const Z=this._scene.textures.indexOf(this);if(Z>=0&&this._scene.textures.splice(Z,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const Z=this._parentContainer.textures.indexOf(this);Z>-1&&this._parentContainer.textures.splice(Z,1),this._parentContainer=null}}this.Uf.notifyObservers(this),this.Uf.clear(),this.metadata=null,super.dispose()}serialize(){let Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!Z)return null;const x=c.c.Serialize(this);return c.c.AppendSerializedAnimations(this,x),x}static WhenAllReady(Z,x){let F=Z.length;if(0!==F)for(let u=0;u<Z.length;u++){const G=Z[u];if(G.isReady())0===--F&&x();else{const Z=G.onLoadObservable;Z?Z.addOnce((()=>{0===--F&&x()})):0===--F&&x()}}else x()}static _IsScene(Z){return"Scene"===Z.getClassName()}}s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,u.d)([(0,G.H)()],s.prototype,"uniqueId",void 0),(0,u.d)([(0,G.H)()],s.prototype,"name",void 0),(0,u.d)([(0,G.H)()],s.prototype,"displayName",void 0),(0,u.d)([(0,G.H)()],s.prototype,"metadata",void 0),(0,u.d)([(0,G.H)("Af")],s.prototype,"_hasAlpha",void 0),(0,u.d)([(0,G.H)("getAlphaFromRGB")],s.prototype,"_getAlphaFromRGB",void 0),(0,u.d)([(0,G.H)()],s.prototype,"level",void 0),(0,u.d)([(0,G.H)("coordinatesIndex")],s.prototype,"_coordinatesIndex",void 0),(0,u.d)([(0,G.H)()],s.prototype,"optimizeUVAllocation",void 0),(0,u.d)([(0,G.H)("coordinatesMode")],s.prototype,"_coordinatesMode",void 0),(0,u.d)([(0,G.H)()],s.prototype,"wrapU",null),(0,u.d)([(0,G.H)()],s.prototype,"wrapV",null),(0,u.d)([(0,G.H)()],s.prototype,"wrapR",void 0),(0,u.d)([(0,G.H)()],s.prototype,"anisotropicFilteringLevel",void 0),(0,u.d)([(0,G.H)()],s.prototype,"isCube",null),(0,u.d)([(0,G.H)()],s.prototype,"is3D",null),(0,u.d)([(0,G.H)()],s.prototype,"is2DArray",null),(0,u.d)([(0,G.H)()],s.prototype,"gammaSpace",null),(0,u.d)([(0,G.H)()],s.prototype,"invertZ",void 0),(0,u.d)([(0,G.H)()],s.prototype,"lodLevelInAlpha",void 0),(0,u.d)([(0,G.H)()],s.prototype,"lodGenerationOffset",null),(0,u.d)([(0,G.H)()],s.prototype,"lodGenerationScale",null),(0,u.d)([(0,G.H)()],s.prototype,"linearSpecularLOD",null),(0,u.d)([(0,G.z)()],s.prototype,"irradianceTexture",null),(0,u.d)([(0,G.H)()],s.prototype,"isRenderTarget",void 0)},11157:(Z,x,F)=>{F.d(x,{c:()=>C});var u=F(11159),G=F(11165),f=F(11e3),Y=F(11179),j=F(11201),d=F(11136),t=F(11029),o=F(11072),c=F(11134),s=F(11238),J=F(11056);function p(Z,x){let F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const u=x.width,G=x.height;if(Z instanceof Float32Array){let x=Z.byteLength/Z.BYTES_PER_ELEMENT;const F=new Uint8Array(x);for(;--x>=0;){let u=Z[x];u<0?u=0:u>1&&(u=1),F[x]=255*u}Z=F}const f=document.createElement("canvas");f.width=u,f.height=G;const Y=f.getContext("2d");if(!Y)return null;const j=Y.createImageData(u,G);if(j.data.set(Z),Y.putImageData(j,0,0),F){const Z=document.createElement("canvas");Z.width=u,Z.height=G;const x=Z.getContext("2d");return x?(x.translate(0,G),x.scale(1,-1),x.drawImage(f,0,0),Z.toDataURL("image/png")):null}return f.toDataURL("image/png")}function U(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=Z.getInternalTexture();if(!u)return null;const G=Z._readPixelsSync(x,F);return G?p(G,Z.getSize(),u.invertY):null}async function k(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=Z.getInternalTexture();if(!u)return null;const G=await Z.readPixels(x,F);return G?p(G,Z.getSize(),u.invertY):null}var M=F(11242),m=F(11213);class C extends j.e{static _CreateVideoTexture(Z,x,F){arguments.length>5&&void 0!==arguments[5]||C.TRILINEAR_SAMPLINGMODE;throw(0,t.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(Z){this._isBlocking=Z}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(Z,x,F,u){let G,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C.TRILINEAR_SAMPLINGMODE,j=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],s=arguments.length>9?arguments[9]:void 0,J=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0,U=arguments.length>12?arguments[12]:void 0,k=arguments.length>13?arguments[13]:void 0;super(x),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new f.b,this._isBlocking=!0,this.name=Z||"",this.url=Z;let m=!1,L=null,H=!0;"object"===typeof F&&null!==F?(G=F.noMipmap??!1,u=F.invertY??!M.e,Y=F.samplingMode??C.TRILINEAR_SAMPLINGMODE,j=F.V??null,d=F.onError??null,t=F.buffer??null,c=F.deleteBuffer??!1,s=F.format,J=F.mimeType,p=F.loaderOptions,U=F.creationFlags,m=F.useSRGBBuffer??!1,L=F.internalTexture??null,H=F.gammaSpace??H,k=F.forcedExtension??k):G=!!F,this._gammaSpace=H,this._noMipmap=G,this._invertY=void 0===u?!M.e:u,this._initialSamplingMode=Y,this._buffer=t,this._deleteBuffer=c,this._mimeType=J,this._loaderOptions=p,this._creationFlags=U,this._useSRGBBuffer=m,this._forcedExtension=k,void 0!==s&&(this._format=s);const S=this.KZ(),K=this._getEngine();if(!K)return;K.onBeforeTextureInitObservable.notifyObservers(this);const y=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),j&&j(),!this.isBlocking&&S&&S.resetCachedMaterial()},q=(Z,x)=>{this._loadingError=!0,this._errorObject={message:Z,exception:x},d&&d(Z,x),C.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!L)return this._delayedOnLoad=y,void(this._delayedOnError=q);if(this._texture=L??this._getFromCache(this.url,G,Y,this._invertY,m,this.isCube),this._texture)if(this._texture.isReady)o.d.SetImmediate((()=>y()));else{const Z=this._texture.onLoadedObservable.add(y);this._texture.onErrorObservable.add((x=>{var F;q(x.message,x.exception),null===(F=this._texture)||void 0===F||F.onLoadedObservable.remove(Z)}))}else if(S&&S.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=y,this._delayedOnError=q;else{try{this._texture=K.createTexture(this.url,G,this._invertY,S,Y,y,q,this._buffer,void 0,this._format,this._forcedExtension,J,p,U,m)}catch(R){throw q("error loading",R),R}c&&(this._buffer=null)}}updateURL(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,F=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.KZ().markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=Z),this.url=Z,this._buffer=x,this._forcedExtension=u,this.delayLoadState=4,F&&(this._delayedOnLoad=F),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const Z=this.KZ();Z&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?o.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=Z.getEngine().createTexture(this.url,this._noMipmap,this._invertY,Z,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(Z,x,F,u){Z*=this._cachedUScale,x*=this._cachedVScale,Z-=this.uRotationCenter*this._cachedUScale,x-=this.vRotationCenter*this._cachedVScale,F-=this.wRotationCenter,Y.kx.TransformCoordinatesFromFloatsToRef(Z,x,F,this._rowGenerationMatrix,u),u.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,u.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,u.z+=this.wRotationCenter}getTextureMatrix(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*Z===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*Z,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Y.Matrix.Zero(),this._rowGenerationMatrix=new Y.Matrix,this._t0=Y.kx.Zero(),this._t1=Y.kx.Zero(),this._t2=Y.kx.Zero()),Y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Y.TmpVectors.Matrix[0]),Y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Y.TmpVectors.Matrix[1]),Y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Y.TmpVectors.Matrix[2]),Y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Y.TmpVectors.Matrix[3]),Y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Dc(this._t0),this._t2.Dc(this._t0),Y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const x=this.KZ();if(!x)return this._cachedTextureMatrix;const F=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&F!==this._cachedIdentity3x2&&x.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const Z=this.KZ();if(!Z)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==C.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===Z.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Y.Matrix.Zero());const x=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case C.PLANAR_MODE:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case C.PROJECTION_MODE:{Y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const x=Z.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=x.updateFlag,x.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return x&&Z.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const Z={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,V:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return m.c.Clone((()=>new C(this._texture?this._texture.url:null,this.KZ(),Z)),this)}serialize(){var Z;const x=this.name;C.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const F=super.serialize(C._SerializeInternalTextureUniqueId);if(!F)return null;if(C.SerializeBuffers||C.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))F.base64String=this._buffer,F.name=F.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const Z=this.mimeType||"image/png";F.base64String=`data:${Z};base64,${(0,J.j)(this._buffer)}`}else(C.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(F.base64String=!this._engine||this._engine._features.supportSyncTextureRead?U(this):k(this));var u;(F.invertY=this._invertY,F.samplingMode=this.samplingMode,F._creationFlags=this._creationFlags,F._useSRGBBuffer=this._useSRGBBuffer,C._SerializeInternalTextureUniqueId)&&(F.internalTextureUniqueId=null===(u=this._texture)||void 0===u?void 0:u.uniqueId);return F.internalTextureLabel=null===(Z=this._texture)||void 0===Z?void 0:Z.label,F.noMipmap=this._noMipmap,this.name=x,F}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(Z,x,F){if(Z.customType){const u=c.c.Instantiate(Z.customType).Parse(Z,x,F);return Z.samplingMode&&u.updateSamplingMode&&u._samplingMode&&u._samplingMode!==Z.samplingMode&&u.updateSamplingMode(Z.samplingMode),u}if(Z.isCube&&!Z.isRenderTarget)return C._CubeTextureParser(Z,x,F);const u=void 0!==Z.internalTextureUniqueId;if(!Z.name&&!Z.isRenderTarget&&!u)return null;let G;if(u){const F=x.getEngine().getLoadedTexturesCache();for(const x of F)if(x.uniqueId===Z.internalTextureUniqueId){G=x;break}}const f=x=>{if(x&&x._texture&&(x._texture._cachedWrapU=null,x._texture._cachedWrapV=null,x._texture._cachedWrapR=null),Z.samplingMode){const F=Z.samplingMode;x&&x.samplingMode!==F&&x.updateSamplingMode(F)}if(x&&Z.animations)for(let F=0;F<Z.animations.length;F++){const u=Z.animations[F],G=(0,d.e)("BABYLON.Animation");G&&x.animations.push(G.Parse(u))}x&&x._texture&&(u&&!G&&x._texture._setUniqueId(Z.internalTextureUniqueId),x._texture.label=Z.internalTextureLabel)};return m.c.Parse((()=>{let u=!0;if(Z.noMipmap&&(u=!1),Z.mirrorPlane){const F=C._CreateMirror(Z.name,Z.renderTargetSize,x,u);return F._waitingRenderList=Z.renderList,F.mirrorPlane=s.d.Hx(Z.mirrorPlane),f(F),F}if(Z.isRenderTarget){let F=null;if(Z.isCube){if(x.reflectionProbes)for(let u=0;u<x.reflectionProbes.length;u++){const F=x.reflectionProbes[u];if(F.name===Z.name)return F.cubeTexture}}else F=C._CreateRenderTargetTexture(Z.name,Z.renderTargetSize,x,u,Z._creationFlags??0),F._waitingRenderList=Z.renderList;return f(F),F}if(Z.isVideo){const G=C._CreateVideoTexture(F+(Z.url||Z.name),F+(Z.src||Z.url),x,u,Z.invertY,Z.samplingMode,Z.settings||{});return f(G),G}{let Y;if(Z.base64String&&!G)Y=C.CreateFromBase64String(Z.base64String,Z.base64String,x,!u,Z.invertY,Z.samplingMode,(()=>{f(Y)}),Z._creationFlags??0,Z._useSRGBBuffer??!1),Y.name=Z.name;else{let j;j=Z.name&&(Z.name.indexOf("://")>0||Z.name.startsWith("data:"))?Z.name:F+Z.name,Z.url&&(Z.url.startsWith("data:")||C.UseSerializedUrlIfAny)&&(j=Z.url);const d={noMipmap:!u,invertY:Z.invertY,samplingMode:Z.samplingMode,V:()=>{f(Y)},internalTexture:G};Y=new C(j,x,d)}return Y}}),Z,x)}static CreateFromBase64String(Z,x,F,u,G){let f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:C.TRILINEAR_SAMPLINGMODE;return new C("data:"+x,F,u,G,f,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(Z,x,F){let u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],G=arguments.length>4?arguments[4]:void 0,f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:C.TRILINEAR_SAMPLINGMODE,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,t=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,o=arguments.length>10?arguments[10]:void 0,c=arguments.length>11?arguments[11]:void 0;return"data:"!==Z.substring(0,5)&&(Z="data:"+Z),new C(Z,F,G,f,Y,j,d,x,u,t,void 0,void 0,o,c)}}C.SerializeBuffers=!0,C.ForceSerializeBuffers=!1,C.OnTextureLoadErrorObservable=new f.b,C._SerializeInternalTextureUniqueId=!1,C._CubeTextureParser=(Z,x,F)=>{throw(0,t.e)("CubeTexture")},C._CreateMirror=(Z,x,F,u)=>{throw(0,t.e)("MirrorTexture")},C._CreateRenderTargetTexture=(Z,x,F,u,G)=>{throw(0,t.e)("RenderTargetTexture")},C.NEAREST_SAMPLINGMODE=1,C.NEAREST_NEAREST_MIPLINEAR=8,C.BILINEAR_SAMPLINGMODE=2,C.LINEAR_LINEAR_MIPNEAREST=11,C.TRILINEAR_SAMPLINGMODE=3,C.LINEAR_LINEAR_MIPLINEAR=3,C.NEAREST_NEAREST_MIPNEAREST=4,C.NEAREST_LINEAR_MIPNEAREST=5,C.NEAREST_LINEAR_MIPLINEAR=6,C.NEAREST_LINEAR=7,C.NEAREST_NEAREST=1,C.LINEAR_NEAREST_MIPNEAREST=9,C.LINEAR_NEAREST_MIPLINEAR=10,C.LINEAR_LINEAR=2,C.LINEAR_NEAREST=12,C.EXPLICIT_MODE=0,C.SPHERICAL_MODE=1,C.PLANAR_MODE=2,C.CUBIC_MODE=3,C.PROJECTION_MODE=4,C.SKYBOX_MODE=5,C.INVCUBIC_MODE=6,C.EQUIRECTANGULAR_MODE=7,C.FIXED_EQUIRECTANGULAR_MODE=8,C.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,C.CLAMP_ADDRESSMODE=0,C.WRAP_ADDRESSMODE=1,C.MIRROR_ADDRESSMODE=2,C.UseSerializedUrlIfAny=!1,(0,u.d)([(0,G.H)()],C.prototype,"url",void 0),(0,u.d)([(0,G.H)()],C.prototype,"uOffset",void 0),(0,u.d)([(0,G.H)()],C.prototype,"vOffset",void 0),(0,u.d)([(0,G.H)()],C.prototype,"uScale",void 0),(0,u.d)([(0,G.H)()],C.prototype,"vScale",void 0),(0,u.d)([(0,G.H)()],C.prototype,"uAng",void 0),(0,u.d)([(0,G.H)()],C.prototype,"vAng",void 0),(0,u.d)([(0,G.H)()],C.prototype,"wAng",void 0),(0,u.d)([(0,G.H)()],C.prototype,"uRotationCenter",void 0),(0,u.d)([(0,G.H)()],C.prototype,"vRotationCenter",void 0),(0,u.d)([(0,G.H)()],C.prototype,"wRotationCenter",void 0),(0,u.d)([(0,G.H)()],C.prototype,"homogeneousRotationInUVTransform",void 0),(0,u.d)([(0,G.H)()],C.prototype,"isBlocking",null),(0,d.g)("BABYLON.Texture",C),m.c._TextureParser=C.Parse},11238:(Z,x,F)=>{F.d(x,{d:()=>G});var u=F(11179);class G{constructor(Z,x,F,G){this.normal=new u.kx(Z,x,F),this.d=G}Wf(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new G(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let Z=this.normal.getHashCode();return Z=397*Z^this.d,Z}normalize(){const Z=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let x=0;return 0!==Z&&(x=1/Z),this.normal.x*=x,this.normal.y*=x,this.normal.z*=x,this.d*=x,this}transform(Z){const x=G._TmpMatrix;Z.invertToRef(x);const F=x.m,u=this.normal.x,f=this.normal.y,Y=this.normal.z,j=this.d,d=u*F[0]+f*F[1]+Y*F[2]+j*F[3],t=u*F[4]+f*F[5]+Y*F[6]+j*F[7],o=u*F[8]+f*F[9]+Y*F[10]+j*F[11],c=u*F[12]+f*F[13]+Y*F[14]+j*F[15];return new G(d,t,o,c)}dotCoordinate(Z){return this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z+this.d}copyFromPoints(Z,x,F){const u=x.x-Z.x,G=x.y-Z.y,f=x.z-Z.z,Y=F.x-Z.x,j=F.y-Z.y,d=F.z-Z.z,t=G*d-f*j,o=f*Y-u*d,c=u*j-G*Y,s=Math.sqrt(t*t+o*o+c*c);let J;return J=0!==s?1/s:0,this.normal.x=t*J,this.normal.y=o*J,this.normal.z=c*J,this.d=-(this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z),this}isFrontFacingTo(Z,x){return u.kx.Dot(this.normal,Z)<=x}signedDistanceTo(Z){return u.kx.Dot(Z,this.normal)+this.d}static Hx(Z){return new G(Z[0],Z[1],Z[2],Z[3])}static FromPoints(Z,x,F){const u=new G(0,0,0,0);return u.copyFromPoints(Z,x,F),u}static FromPositionAndNormal(Z,x){const F=new G(0,0,0,0);return this.FromPositionAndNormalToRef(Z,x,F)}static FromPositionAndNormalToRef(Z,x,F){return F.normal.G(x),F.normal.normalize(),F.d=-Z.dot(F.normal),F}static SignedDistanceToPlaneFromPositionAndNormal(Z,x,F){const G=-(x.x*Z.x+x.y*Z.y+x.z*Z.z);return u.kx.Dot(F,x)+G}}G._TmpMatrix=u.Matrix.Identity()},11210:(Z,x,F)=>{F.d(x,{e:()=>u});class u{constructor(Z,x){this.width=Z,this.height=x}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let Z=0|this.width;return Z=397*Z^this.height,Z}G(Z){this.width=Z.width,this.height=Z.height}Jj(Z,x){return this.width=Z,this.height=x,this}set(Z,x){return this.Jj(Z,x)}multiplyByFloats(Z,x){return new u(this.width*Z,this.height*x)}clone(){return new u(this.width,this.height)}equals(Z){return!!Z&&(this.width===Z.width&&this.height===Z.height)}get surface(){return this.width*this.height}static Zero(){return new u(0,0)}add(Z){return new u(this.width+Z.width,this.height+Z.height)}Mx(Z){return new u(this.width-Z.width,this.height-Z.height)}scale(Z){return new u(this.width*Z,this.height*Z)}static Lerp(Z,x,F){const G=Z.width+(x.width-Z.width)*F,f=Z.height+(x.height-Z.height)*F;return new u(G,f)}}},11173:(Z,x,F)=>{F.d(x,{b:()=>f,d:()=>Y});const u={},G={};function f(Z){const x=Z.getClassName();return G[x]||(G[x]={}),G[x]}function Y(Z){const x=Z.getClassName();if(u[x])return u[x];u[x]={};const F=u[x];let f=Z,Y=x;for(;Y;){const Z=G[Y];for(const G in Z)F[G]=Z[G];let x,u=!1;do{if(x=Object.getPrototypeOf(f),!x.getClassName){u=!0;break}if(x.getClassName()!==Y)break;f=x}while(x);if(u)break;Y=x.getClassName(),f=x}return F}},11165:(Z,x,F)=>{F.d(x,{C:()=>o,D:()=>c,H:()=>Y,b:()=>f,c:()=>m,e:()=>J,g:()=>d,j:()=>p,n:()=>t,o:()=>U,q:()=>M,t:()=>s,w:()=>k,z:()=>j});var u=F(11173);function G(Z,x){return(F,G)=>{const f=(0,u.b)(F);f[G]||(f[G]={type:Z,sourceName:x})}}function f(Z){return function(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(F,u)=>{const G=x||"_"+u;Object.defineProperty(F,u,{get:function(){return this[G]},set:function(x){var u;"function"===typeof(null===(u=this[G])||void 0===u?void 0:u.equals)&&this[G].equals(x)||this[G]!==x&&(this[G]=x,F[Z].apply(this))},enumerable:!0,configurable:!0})}}(Z,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Y(Z){return G(0,Z)}function j(Z){return G(1,Z)}function d(Z){return G(2,Z)}function t(Z){return G(3,Z)}function o(Z){return G(4,Z)}function c(Z){return G(5,Z)}function s(Z){return G(6,Z)}function J(Z){return G(7,Z)}function p(Z){return G(8,Z)}function U(Z){return G(9,Z)}function k(Z){return G(10,Z)}function M(Z){return G(12,Z)}function m(Z,x,F,u){const G=F.value;F.value=function(){let F=G;if("undefined"!==typeof _native&&_native[x]){const Z=_native[x];F=u?function(){return u(...arguments)?Z(...arguments):G(...arguments)}:Z}return Z[x]=F,F(...arguments)}}m.filter=function(Z){return(x,F,u)=>m(x,F,u,Z)}},11213:(Z,x,F)=>{F.d(x,{c:()=>t});var u=F(11029),G=F(11221),f=F(11230),Y=F(11179),j=F(11173);const d=function(Z,x,F){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const f=Z();G.e&&G.e.HasTags(x)&&G.e.AddTagsTo(f,G.e.GetTags(x,!0));const Y=(0,j.d)(f),d={};for(const G in Y){const Z=Y[G],j=x[G],o=Z.type;if(void 0!==j&&null!==j&&("uniqueId"!==G||t.AllowLoadingUniqueId))switch(o){case 0:case 6:case 9:case 11:f[G]=j;break;case 1:u.cloneTexturesOnlyOnce&&d[j.uniqueId]?f[G]=d[j.uniqueId]:(f[G]=F||j.isRenderTarget?j:j.clone(),d[j.uniqueId]=f[G]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:f[G]=F?j:j.clone()}}return f};class t{static AppendSerializedAnimations(Z,x){if(Z.animations){x.animations=[];for(let F=0;F<Z.animations.length;F++){const u=Z.animations[F];x.animations.push(u.serialize())}}}static Serialize(Z,x){x||(x={}),G.e&&(x.tags=G.e.GetTags(Z));const F=(0,j.d)(Z);for(const u in F){const G=F[u],f=G.sourceName||u,Y=G.type,j=Z[u];if(void 0!==j&&null!==j&&("uniqueId"!==u||t.AllowLoadingUniqueId))switch(Y){case 0:x[f]=j;break;case 1:case 3:case 7:case 9:x[f]=j.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:x[f]=j.Wf();break;case 6:case 11:x[f]=j.id}}return x}static ParseProperties(Z,x,F,u){u||(u="");const G=(0,j.d)(x);for(const j in G){const d=G[j],o=Z[d.sourceName||j],c=d.type;if(void 0!==o&&null!==o&&("uniqueId"!==j||t.AllowLoadingUniqueId)){const Z=x;switch(c){case 0:Z[j]=o;break;case 1:F&&(Z[j]=t._TextureParser(o,F,u));break;case 2:Z[j]=f.Lx.Hx(o);break;case 3:Z[j]=t._FresnelParametersParser(o);break;case 4:Z[j]=Y.Vector2.Hx(o);break;case 5:Z[j]=Y.kx.Hx(o);break;case 6:F&&(Z[j]=F.getLastMeshById(o));break;case 7:Z[j]=t._ColorCurvesParser(o);break;case 8:Z[j]=f.kj.Hx(o);break;case 9:Z[j]=t._ImageProcessingConfigurationParser(o);break;case 10:Z[j]=Y.Quaternion.Hx(o);break;case 11:F&&(Z[j]=F.getCameraById(o));break;case 12:Z[j]=Y.Matrix.Hx(o)}}}}static Parse(Z,x,F){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const f=Z();return G.e&&G.e.AddTagsTo(f,x.tags),t.ParseProperties(x,f,F,u),f}static Clone(Z,x){return d(Z,x,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(Z,x){return d(Z,x,!0)}}t.AllowLoadingUniqueId=!1,t._ImageProcessingConfigurationParser=Z=>{throw(0,u.e)("ImageProcessingConfiguration")},t._FresnelParametersParser=Z=>{throw(0,u.e)("FresnelParameters")},t._ColorCurvesParser=Z=>{throw(0,u.e)("ColorCurves")},t._TextureParser=(Z,x,F)=>{throw(0,u.e)("Texture")}},11221:(Z,x,F)=>{F.d(x,{e:()=>G});class u{static Eval(Z,x){return"true"===(Z=Z.match(/\([^()]*\)/g)?Z.replace(/\([^()]*\)/g,(Z=>(Z=Z.slice(1,Z.length-1),u._HandleParenthesisContent(Z,x)))):u._HandleParenthesisContent(Z,x))||"false"!==Z&&u.Eval(Z,x)}static _HandleParenthesisContent(Z,x){let F;x=x||(Z=>"true"===Z);const G=Z.split("||");for(const f in G)if(Object.prototype.hasOwnProperty.call(G,f)){let Z=u._SimplifyNegation(G[f].trim());const Y=Z.split("&&");if(Y.length>1)for(let G=0;G<Y.length;++G){const f=u._SimplifyNegation(Y[G].trim());if(F="true"!==f&&"false"!==f?"!"===f[0]?!x(f.substring(1)):x(f):"true"===f,!F){Z="false";break}}if(F||"true"===Z){F=!0;break}F="true"!==Z&&"false"!==Z?"!"===Z[0]?!x(Z.substring(1)):x(Z):"true"===Z}return F?"true":"false"}static _SimplifyNegation(Z){return"!true"===(Z=(Z=Z.replace(/^[\s!]+/,(Z=>(Z=Z.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?Z="false":"!false"===Z&&(Z="true"),Z}}class G{static EnableFor(Z){Z._tags=Z._tags||{},Z.hasTags=()=>G.HasTags(Z),Z.addTags=x=>G.AddTagsTo(Z,x),Z.removeTags=x=>G.RemoveTagsFrom(Z,x),Z.matchesTagsQuery=x=>G.MatchesQuery(Z,x)}static DisableFor(Z){delete Z._tags,delete Z.hasTags,delete Z.addTags,delete Z.removeTags,delete Z.matchesTagsQuery}static HasTags(Z){if(!Z._tags)return!1;const x=Z._tags;for(const F in x)if(Object.prototype.hasOwnProperty.call(x,F))return!0;return!1}static GetTags(Z){let x=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Z._tags)return null;if(x){const x=[];for(const F in Z._tags)Object.prototype.hasOwnProperty.call(Z._tags,F)&&!0===Z._tags[F]&&x.push(F);return x.join(" ")}return Z._tags}static AddTagsTo(Z,x){if(!x)return;if("string"!==typeof x)return;const F=x.split(" ");for(const u of F)G._AddTagTo(Z,u)}static _AddTagTo(Z,x){""!==(x=x.trim())&&"true"!==x&&"false"!==x&&(x.match(/[\s]/)||x.match(/^([!]|([|]|[&]){2})/)||(G.EnableFor(Z),Z._tags[x]=!0))}static RemoveTagsFrom(Z,x){if(!G.HasTags(Z))return;const F=x.split(" ");for(const u in F)G._RemoveTagFrom(Z,F[u])}static _RemoveTagFrom(Z,x){delete Z._tags[x]}static MatchesQuery(Z,x){return void 0===x||(""===x?G.HasTags(Z):u.Eval(x,(x=>G.HasTags(Z)&&Z._tags[x])))}}},11159:(Z,x,F)=>{F.d(x,{d:()=>u});function u(Z,x,F,u){var G,f=arguments.length,Y=f<3?x:null===u?u=Object.getOwnPropertyDescriptor(x,F):u;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Y=Reflect.decorate(Z,x,F,u);else for(var j=Z.length-1;j>=0;j--)(G=Z[j])&&(Y=(f<3?G(Y):f>3?G(x,F,Y):G(x,F))||Y);return f>3&&Y&&Object.defineProperty(x,F,Y),Y}Object.create;Object.create}}]);