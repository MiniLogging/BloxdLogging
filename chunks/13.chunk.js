"use strict";(self.xeuzlpp225k=self.xeuzlpp225k||[]).push([[13],{11363:(k,Q,i)=>{i.d(Q,{d:()=>Z});let Z=!1},11320:(k,Q,i)=>{i.d(Q,{c:()=>H});var Z=i(11280),U=i(11289),C=i(11122),B=i(11298),o=i(11157),m=i(11255),O=(i(11163),i(11329));class J{get wrapU(){return this._wrapU}set wrapU(k){this._wrapU=k}get wrapV(){return this._wrapV}set wrapV(k){this._wrapV=k}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(k){this._texture&&(this._texture.isCube=k)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(k){this._texture&&(this._texture.is3D=k)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(k){this._texture&&(this._texture.is2DArray=k)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(k){return void 0!==(null===k||void 0===k?void 0:k.shareDepth)}constructor(k){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=O.d.Zero(),this._cachedBaseSize=O.d.Zero(),this._initialSamplingMode=2,this._texture=J._IsRenderTargetWrapper(k)?k.texture:k,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(k){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(k,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var G=i(11334);class H extends J{set Uo(k){this._hasAlpha!==k&&(this._hasAlpha=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get Uo(){return this._hasAlpha}set getAlphaFromRGB(k){this._getAlphaFromRGB!==k&&(this._getAlphaFromRGB=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(k){this._coordinatesIndex!==k&&(this._coordinatesIndex=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(k){this._coordinatesMode!==k&&(this._coordinatesMode=k,this._scene&&this._scene.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(k){this._wrapU=k}get wrapV(){return this._wrapV}set wrapV(k){this._wrapV=k}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(k){this._texture?this._texture.isCube=k:this._isCube=k}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(k){this._texture&&(this._texture.is3D=k)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(k){this._texture&&(this._texture.is2DArray=k)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(k){var Q;if(this._texture){if(this._texture._gammaSpace===k)return;this._texture._gammaSpace=k}else{if(this._gammaSpace===k)return;this._gammaSpace=k}null===(Q=this.sk())||void 0===Q||Q.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(k){var Q;k!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=k),null===(Q=this.sk())||void 0===Q||Q.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(k){this._texture&&(this._texture._lodGenerationOffset=k)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(k){this._texture&&(this._texture._lodGenerationScale=k)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(k){this._texture&&(this._texture._linearSpecularLOD=k)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(k){this._texture&&(this._texture._irradianceTexture=k)}get uid(){return this._uid||(this._uid=(0,m.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(k){this._onDisposeObserver&&this.gi.remove(this._onDisposeObserver),this._onDisposeObserver=this.gi.add(k)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=H.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.gi=new C.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,k?H._IsScene(k)?this._scene=k:this._engine=k:this._scene=o.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=Q,this._uid=null}sk(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return B.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return B.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(k){}get canRescale(){return!1}_getFromCache(k,Q,i,Z,U,C){const B=this._getEngine();if(!B)return null;const o=B._getUseSRGBBuffer(!!U,Q),m=B.getLoadedTexturesCache();for(let O=0;O<m.length;O++){const B=m[O];if((void 0===U||o===B._useSRGBBuffer)&&(void 0===Z||Z===B.invertY)&&B.url===k&&B.generateMipMaps===!Q&&(!i||i===B.samplingMode)&&(void 0===C||C===B.isCube))return B.incrementReferences(),B}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const k=this.sk();k&&k.markAllMaterialsAsDirty(1)}readPixels(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Z=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],U=arguments.length>4&&void 0!==arguments[4]&&arguments[4],C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const O=this._getEngine();if(!O)return null;const J=this.getSize();let G=J.width,H=J.height;0!==Q&&(G/=Math.pow(2,Q),H/=Math.pow(2,Q),G=Math.round(G),H=Math.round(H)),o=Math.min(G,o),m=Math.min(H,m);try{return this._texture.isCube?O._readTexturePixels(this._texture,o,m,k,Q,i,Z,U,C,B):O._readTexturePixels(this._texture,o,m,-1,Q,i,Z,U,C,B)}catch(e){return null}}_readPixelsSync(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Z=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],U=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const C=this.getSize();let B=C.width,o=C.height;const m=this._getEngine();if(!m)return null;0!=Q&&(B/=Math.pow(2,Q),o/=Math.pow(2,Q),B=Math.round(B),o=Math.round(o));try{return this._texture.isCube?m._readTexturePixelsSync(this._texture,B,o,k,Q,i,Z,U):m._readTexturePixelsSync(this._texture,B,o,-1,Q,i,Z,U)}catch(O){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const k=this._scene.textures.indexOf(this);if(k>=0&&this._scene.textures.splice(k,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const k=this._parentContainer.textures.indexOf(this);k>-1&&this._parentContainer.textures.splice(k,1),this._parentContainer=null}}this.gi.notifyObservers(this),this.gi.clear(),this.metadata=null,super.dispose()}serialize(){let k=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!k)return null;const Q=G.d.Serialize(this);return G.d.AppendSerializedAnimations(this,Q),Q}static WhenAllReady(k,Q){let i=k.length;if(0!==i)for(let Z=0;Z<k.length;Z++){const U=k[Z];if(U.isReady())0===--i&&Q();else{const k=U.onLoadObservable;k?k.addOnce((()=>{0===--i&&Q()})):0===--i&&Q()}}else Q()}static _IsScene(k){return"Scene"===k.getClassName()}}H.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,Z.c)([(0,U.L)()],H.prototype,"uniqueId",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"name",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"displayName",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"metadata",void 0),(0,Z.c)([(0,U.L)("Uo")],H.prototype,"_hasAlpha",void 0),(0,Z.c)([(0,U.L)("getAlphaFromRGB")],H.prototype,"_getAlphaFromRGB",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"level",void 0),(0,Z.c)([(0,U.L)("coordinatesIndex")],H.prototype,"_coordinatesIndex",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"optimizeUVAllocation",void 0),(0,Z.c)([(0,U.L)("coordinatesMode")],H.prototype,"_coordinatesMode",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"wrapU",null),(0,Z.c)([(0,U.L)()],H.prototype,"wrapV",null),(0,Z.c)([(0,U.L)()],H.prototype,"wrapR",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"anisotropicFilteringLevel",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"isCube",null),(0,Z.c)([(0,U.L)()],H.prototype,"is3D",null),(0,Z.c)([(0,U.L)()],H.prototype,"is2DArray",null),(0,Z.c)([(0,U.L)()],H.prototype,"gammaSpace",null),(0,Z.c)([(0,U.L)()],H.prototype,"invertZ",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"lodLevelInAlpha",void 0),(0,Z.c)([(0,U.L)()],H.prototype,"lodGenerationOffset",null),(0,Z.c)([(0,U.L)()],H.prototype,"lodGenerationScale",null),(0,Z.c)([(0,U.L)()],H.prototype,"linearSpecularLOD",null),(0,Z.c)([(0,U.E)()],H.prototype,"irradianceTexture",null),(0,Z.c)([(0,U.L)()],H.prototype,"isRenderTarget",void 0)},11273:(k,Q,i)=>{i.d(Q,{c:()=>c});var Z=i(11280),U=i(11289),C=i(11122),B=i(11298),o=i(11320),m=i(11253),O=i(11146),J=i(11189),G=i(11251),H=i(11355),e=i(11178);function F(k,Q){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const Z=Q.width,U=Q.height;if(k instanceof Float32Array){let Q=k.byteLength/k.BYTES_PER_ELEMENT;const i=new Uint8Array(Q);for(;--Q>=0;){let Z=k[Q];Z<0?Z=0:Z>1&&(Z=1),i[Q]=255*Z}k=i}const C=document.createElement("canvas");C.width=Z,C.height=U;const B=C.getContext("2d");if(!B)return null;const o=B.createImageData(Z,U);if(o.data.set(k),B.putImageData(o,0,0),i){const k=document.createElement("canvas");k.width=Z,k.height=U;const Q=k.getContext("2d");return Q?(Q.translate(0,U),Q.scale(1,-1),Q.drawImage(C,0,0),k.toDataURL("image/png")):null}return C.toDataURL("image/png")}function z(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Z=k.getInternalTexture();if(!Z)return null;const U=k._readPixelsSync(Q,i);return U?F(U,k.getSize(),Z.invertY):null}async function E(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Z=k.getInternalTexture();if(!Z)return null;const U=await k.readPixels(Q,i);return U?F(U,k.getSize(),Z.invertY):null}var l=i(11363),h=i(11334);class c extends o.c{static _CreateVideoTexture(k,Q,i){arguments.length>5&&void 0!==arguments[5]||c.TRILINEAR_SAMPLINGMODE;throw(0,O.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(k){this._isBlocking=k}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(k,Q,i,Z){let U,B=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.TRILINEAR_SAMPLINGMODE,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,G=arguments.length>8&&void 0!==arguments[8]&&arguments[8],H=arguments.length>9?arguments[9]:void 0,e=arguments.length>10?arguments[10]:void 0,F=arguments.length>11?arguments[11]:void 0,z=arguments.length>12?arguments[12]:void 0,E=arguments.length>13?arguments[13]:void 0;super(Q),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new C.c,this._isBlocking=!0,this.name=k||"",this.url=k;let h=!1,f=null,Y=!0;"object"===typeof i&&null!==i?(U=i.noMipmap??!1,Z=i.invertY??!l.d,B=i.samplingMode??c.TRILINEAR_SAMPLINGMODE,o=i.t??null,m=i.onError??null,O=i.buffer??null,G=i.deleteBuffer??!1,H=i.format,e=i.mimeType,F=i.loaderOptions,z=i.creationFlags,h=i.useSRGBBuffer??!1,f=i.internalTexture??null,Y=i.gammaSpace??Y,E=i.forcedExtension??E):U=!!i,this._gammaSpace=Y,this._noMipmap=U,this._invertY=void 0===Z?!l.d:Z,this._initialSamplingMode=B,this._buffer=O,this._deleteBuffer=G,this._mimeType=e,this._loaderOptions=F,this._creationFlags=z,this._useSRGBBuffer=h,this._forcedExtension=E,void 0!==H&&(this._format=H);const y=this.sk(),L=this._getEngine();if(!L)return;L.onBeforeTextureInitObservable.notifyObservers(this);const s=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),o&&o(),!this.isBlocking&&y&&y.resetCachedMaterial()},u=(k,Q)=>{this._loadingError=!0,this._errorObject={message:k,exception:Q},m&&m(k,Q),c.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!f)return this._delayedOnLoad=s,void(this._delayedOnError=u);if(this._texture=f??this._getFromCache(this.url,U,B,this._invertY,h,this.isCube),this._texture)if(this._texture.isReady)J.c.SetImmediate((()=>s()));else{const k=this._texture.onLoadedObservable.add(s);this._texture.onErrorObservable.add((Q=>{var i;u(Q.message,Q.exception),null===(i=this._texture)||void 0===i||i.onLoadedObservable.remove(k)}))}else if(y&&y.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=s,this._delayedOnError=u;else{try{this._texture=L.createTexture(this.url,U,this._invertY,y,B,s,u,this._buffer,void 0,this._format,this._forcedExtension,e,F,z,h)}catch(a){throw u("error loading",a),a}G&&(this._buffer=null)}}updateURL(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,Z=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.sk().markAllMaterialsAsDirty(1,(k=>k.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=k),this.url=k,this._buffer=Q,this._forcedExtension=Z,this.delayLoadState=4,i&&(this._delayedOnLoad=i),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const k=this.sk();k&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?J.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=k.getEngine().createTexture(this.url,this._noMipmap,this._invertY,k,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(k,Q,i,Z){k*=this._cachedUScale,Q*=this._cachedVScale,k-=this.uRotationCenter*this._cachedUScale,Q-=this.vRotationCenter*this._cachedVScale,i-=this.wRotationCenter,B.zQ.TransformCoordinatesFromFloatsToRef(k,Q,i,this._rowGenerationMatrix,Z),Z.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,Z.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,Z.z+=this.wRotationCenter}getTextureMatrix(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*k===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*k,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=B.Matrix.Zero(),this._rowGenerationMatrix=new B.Matrix,this._t0=B.zQ.Zero(),this._t1=B.zQ.Zero(),this._t2=B.zQ.Zero()),B.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(B.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,B.TmpVectors.Matrix[0]),B.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,B.TmpVectors.Matrix[1]),B.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,B.TmpVectors.Matrix[2]),B.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,B.TmpVectors.Matrix[3]),B.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.tJ(this._t0),this._t2.tJ(this._t0),B.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const Q=this.sk();if(!Q)return this._cachedTextureMatrix;const i=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&i!==this._cachedIdentity3x2&&Q.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const k=this.sk();if(!k)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==c.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===k.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=B.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=B.Matrix.Zero());const Q=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case c.PLANAR_MODE:B.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case c.PROJECTION_MODE:{B.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const Q=k.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=Q.updateFlag,Q.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:B.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return Q&&k.markAllMaterialsAsDirty(1,(k=>k.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const k={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,t:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return h.d.Clone((()=>new c(this._texture?this._texture.url:null,this.sk(),k)),this)}serialize(){var k;const Q=this.name;c.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const i=super.serialize(c._SerializeInternalTextureUniqueId);if(!i)return null;if(c.SerializeBuffers||c.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))i.base64String=this._buffer,i.name=i.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const k=this.mimeType||"image/png";i.base64String=`data:${k};base64,${(0,e.h)(this._buffer)}`}else(c.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(i.base64String=!this._engine||this._engine._features.supportSyncTextureRead?z(this):E(this));var Z;(i.invertY=this._invertY,i.samplingMode=this.samplingMode,i._creationFlags=this._creationFlags,i._useSRGBBuffer=this._useSRGBBuffer,c._SerializeInternalTextureUniqueId)&&(i.internalTextureUniqueId=null===(Z=this._texture)||void 0===Z?void 0:Z.uniqueId);return i.internalTextureLabel=null===(k=this._texture)||void 0===k?void 0:k.label,i.noMipmap=this._noMipmap,this.name=Q,i}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(k,Q,i){if(k.customType){const Z=G.c.Instantiate(k.customType).Parse(k,Q,i);return k.samplingMode&&Z.updateSamplingMode&&Z._samplingMode&&Z._samplingMode!==k.samplingMode&&Z.updateSamplingMode(k.samplingMode),Z}if(k.isCube&&!k.isRenderTarget)return c._CubeTextureParser(k,Q,i);const Z=void 0!==k.internalTextureUniqueId;if(!k.name&&!k.isRenderTarget&&!Z)return null;let U;if(Z){const i=Q.getEngine().getLoadedTexturesCache();for(const Q of i)if(Q.uniqueId===k.internalTextureUniqueId){U=Q;break}}const C=Q=>{if(Q&&Q._texture&&(Q._texture._cachedWrapU=null,Q._texture._cachedWrapV=null,Q._texture._cachedWrapR=null),k.samplingMode){const i=k.samplingMode;Q&&Q.samplingMode!==i&&Q.updateSamplingMode(i)}if(Q&&k.animations)for(let i=0;i<k.animations.length;i++){const Z=k.animations[i],U=(0,m.b)("BABYLON.Animation");U&&Q.animations.push(U.Parse(Z))}Q&&Q._texture&&(Z&&!U&&Q._texture._setUniqueId(k.internalTextureUniqueId),Q._texture.label=k.internalTextureLabel)};return h.d.Parse((()=>{let Z=!0;if(k.noMipmap&&(Z=!1),k.mirrorPlane){const i=c._CreateMirror(k.name,k.renderTargetSize,Q,Z);return i._waitingRenderList=k.renderList,i.mirrorPlane=H.b.fQ(k.mirrorPlane),C(i),i}if(k.isRenderTarget){let i=null;if(k.isCube){if(Q.reflectionProbes)for(let Z=0;Z<Q.reflectionProbes.length;Z++){const i=Q.reflectionProbes[Z];if(i.name===k.name)return i.cubeTexture}}else i=c._CreateRenderTargetTexture(k.name,k.renderTargetSize,Q,Z,k._creationFlags??0),i._waitingRenderList=k.renderList;return C(i),i}if(k.isVideo){const U=c._CreateVideoTexture(i+(k.url||k.name),i+(k.src||k.url),Q,Z,k.invertY,k.samplingMode,k.settings||{});return C(U),U}{let B;if(k.base64String&&!U)B=c.CreateFromBase64String(k.base64String,k.base64String,Q,!Z,k.invertY,k.samplingMode,(()=>{C(B)}),k._creationFlags??0,k._useSRGBBuffer??!1),B.name=k.name;else{let o;o=k.name&&(k.name.indexOf("://")>0||k.name.startsWith("data:"))?k.name:i+k.name,k.url&&(k.url.startsWith("data:")||c.UseSerializedUrlIfAny)&&(o=k.url);const m={noMipmap:!Z,invertY:k.invertY,samplingMode:k.samplingMode,t:()=>{C(B)},internalTexture:U};B=new c(o,Q,m)}return B}}),k,Q)}static CreateFromBase64String(k,Q,i,Z,U){let C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c.TRILINEAR_SAMPLINGMODE;return new c("data:"+Q,i,Z,U,C,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,k,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(k,Q,i){let Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],U=arguments.length>4?arguments[4]:void 0,C=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:c.TRILINEAR_SAMPLINGMODE,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,O=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,J=arguments.length>10?arguments[10]:void 0,G=arguments.length>11?arguments[11]:void 0;return"data:"!==k.substring(0,5)&&(k="data:"+k),new c(k,i,U,C,B,o,m,Q,Z,O,void 0,void 0,J,G)}}c.SerializeBuffers=!0,c.ForceSerializeBuffers=!1,c.OnTextureLoadErrorObservable=new C.c,c._SerializeInternalTextureUniqueId=!1,c._CubeTextureParser=(k,Q,i)=>{throw(0,O.d)("CubeTexture")},c._CreateMirror=(k,Q,i,Z)=>{throw(0,O.d)("MirrorTexture")},c._CreateRenderTargetTexture=(k,Q,i,Z,U)=>{throw(0,O.d)("RenderTargetTexture")},c.NEAREST_SAMPLINGMODE=1,c.NEAREST_NEAREST_MIPLINEAR=8,c.BILINEAR_SAMPLINGMODE=2,c.LINEAR_LINEAR_MIPNEAREST=11,c.TRILINEAR_SAMPLINGMODE=3,c.LINEAR_LINEAR_MIPLINEAR=3,c.NEAREST_NEAREST_MIPNEAREST=4,c.NEAREST_LINEAR_MIPNEAREST=5,c.NEAREST_LINEAR_MIPLINEAR=6,c.NEAREST_LINEAR=7,c.NEAREST_NEAREST=1,c.LINEAR_NEAREST_MIPNEAREST=9,c.LINEAR_NEAREST_MIPLINEAR=10,c.LINEAR_LINEAR=2,c.LINEAR_NEAREST=12,c.EXPLICIT_MODE=0,c.SPHERICAL_MODE=1,c.PLANAR_MODE=2,c.CUBIC_MODE=3,c.PROJECTION_MODE=4,c.SKYBOX_MODE=5,c.INVCUBIC_MODE=6,c.EQUIRECTANGULAR_MODE=7,c.FIXED_EQUIRECTANGULAR_MODE=8,c.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,c.CLAMP_ADDRESSMODE=0,c.WRAP_ADDRESSMODE=1,c.MIRROR_ADDRESSMODE=2,c.UseSerializedUrlIfAny=!1,(0,Z.c)([(0,U.L)()],c.prototype,"url",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"uOffset",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"vOffset",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"uScale",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"vScale",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"uAng",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"vAng",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"wAng",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"uRotationCenter",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"vRotationCenter",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"wRotationCenter",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"homogeneousRotationInUVTransform",void 0),(0,Z.c)([(0,U.L)()],c.prototype,"isBlocking",null),(0,m.e)("BABYLON.Texture",c),h.d._TextureParser=c.Parse},11355:(k,Q,i)=>{i.d(Q,{b:()=>U});var Z=i(11298);class U{constructor(k,Q,i,U){this.normal=new Z.zQ(k,Q,i),this.d=U}Zo(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new U(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let k=this.normal.getHashCode();return k=397*k^this.d,k}normalize(){const k=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let Q=0;return 0!==k&&(Q=1/k),this.normal.x*=Q,this.normal.y*=Q,this.normal.z*=Q,this.d*=Q,this}transform(k){const Q=U._TmpMatrix;k.invertToRef(Q);const i=Q.m,Z=this.normal.x,C=this.normal.y,B=this.normal.z,o=this.d,m=Z*i[0]+C*i[1]+B*i[2]+o*i[3],O=Z*i[4]+C*i[5]+B*i[6]+o*i[7],J=Z*i[8]+C*i[9]+B*i[10]+o*i[11],G=Z*i[12]+C*i[13]+B*i[14]+o*i[15];return new U(m,O,J,G)}dotCoordinate(k){return this.normal.x*k.x+this.normal.y*k.y+this.normal.z*k.z+this.d}copyFromPoints(k,Q,i){const Z=Q.x-k.x,U=Q.y-k.y,C=Q.z-k.z,B=i.x-k.x,o=i.y-k.y,m=i.z-k.z,O=U*m-C*o,J=C*B-Z*m,G=Z*o-U*B,H=Math.sqrt(O*O+J*J+G*G);let e;return e=0!==H?1/H:0,this.normal.x=O*e,this.normal.y=J*e,this.normal.z=G*e,this.d=-(this.normal.x*k.x+this.normal.y*k.y+this.normal.z*k.z),this}isFrontFacingTo(k,Q){return Z.zQ.Dot(this.normal,k)<=Q}signedDistanceTo(k){return Z.zQ.Dot(k,this.normal)+this.d}static fQ(k){return new U(k[0],k[1],k[2],k[3])}static FromPoints(k,Q,i){const Z=new U(0,0,0,0);return Z.copyFromPoints(k,Q,i),Z}static FromPositionAndNormal(k,Q){const i=new U(0,0,0,0);return this.FromPositionAndNormalToRef(k,Q,i)}static FromPositionAndNormalToRef(k,Q,i){return i.normal.B(Q),i.normal.normalize(),i.d=-k.dot(i.normal),i}static SignedDistanceToPlaneFromPositionAndNormal(k,Q,i){const U=-(Q.x*k.x+Q.y*k.y+Q.z*k.z);return Z.zQ.Dot(i,Q)+U}}U._TmpMatrix=Z.Matrix.Identity()},11329:(k,Q,i)=>{i.d(Q,{d:()=>Z});class Z{constructor(k,Q){this.width=k,this.height=Q}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let k=0|this.width;return k=397*k^this.height,k}B(k){this.width=k.width,this.height=k.height}Go(k,Q){return this.width=k,this.height=Q,this}set(k,Q){return this.Go(k,Q)}multiplyByFloats(k,Q){return new Z(this.width*k,this.height*Q)}clone(){return new Z(this.width,this.height)}equals(k){return!!k&&(this.width===k.width&&this.height===k.height)}get surface(){return this.width*this.height}static Zero(){return new Z(0,0)}add(k){return new Z(this.width+k.width,this.height+k.height)}EQ(k){return new Z(this.width-k.width,this.height-k.height)}scale(k){return new Z(this.width*k,this.height*k)}static Lerp(k,Q,i){const U=k.width+(Q.width-k.width)*i,C=k.height+(Q.height-k.height)*i;return new Z(U,C)}}},11294:(k,Q,i)=>{i.d(Q,{e:()=>C,g:()=>B});const Z={},U={};function C(k){const Q=k.getClassName();return U[Q]||(U[Q]={}),U[Q]}function B(k){const Q=k.getClassName();if(Z[Q])return Z[Q];Z[Q]={};const i=Z[Q];let C=k,B=Q;for(;B;){const k=U[B];for(const U in k)i[U]=k[U];let Q,Z=!1;do{if(Q=Object.getPrototypeOf(C),!Q.getClassName){Z=!0;break}if(Q.getClassName()!==B)break;C=Q}while(Q);if(Z)break;B=Q.getClassName(),C=Q}return i}},11289:(k,Q,i)=>{i.d(Q,{A:()=>E,E:()=>o,H:()=>J,K:()=>G,L:()=>B,e:()=>C,h:()=>h,i:()=>e,k:()=>m,l:()=>F,n:()=>O,p:()=>z,t:()=>l,w:()=>H});var Z=i(11294);function U(k,Q){return(i,U)=>{const C=(0,Z.e)(i);C[U]||(C[U]={type:k,sourceName:Q})}}function C(k){return function(k){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(i,Z)=>{const U=Q||"_"+Z;Object.defineProperty(i,Z,{get:function(){return this[U]},set:function(Q){var Z;"function"===typeof(null===(Z=this[U])||void 0===Z?void 0:Z.equals)&&this[U].equals(Q)||this[U]!==Q&&(this[U]=Q,i[k].apply(this))},enumerable:!0,configurable:!0})}}(k,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function B(k){return U(0,k)}function o(k){return U(1,k)}function m(k){return U(2,k)}function O(k){return U(3,k)}function J(k){return U(4,k)}function G(k){return U(5,k)}function H(k){return U(6,k)}function e(k){return U(7,k)}function F(k){return U(8,k)}function z(k){return U(9,k)}function E(k){return U(10,k)}function l(k){return U(12,k)}function h(k,Q,i,Z){const U=i.value;i.value=function(){let i=U;if("undefined"!==typeof _native&&_native[Q]){const k=_native[Q];i=Z?function(){return Z(...arguments)?k(...arguments):U(...arguments)}:k}return k[Q]=i,i(...arguments)}}h.filter=function(k){return(Q,i,Z)=>h(Q,i,Z,k)}},11334:(k,Q,i)=>{i.d(Q,{d:()=>O});var Z=i(11146),U=i(11341),C=i(11348),B=i(11298),o=i(11294);const m=function(k,Q,i){let Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const C=k();U.e&&U.e.HasTags(Q)&&U.e.AddTagsTo(C,U.e.GetTags(Q,!0));const B=(0,o.g)(C),m={};for(const U in B){const k=B[U],o=Q[U],J=k.type;if(void 0!==o&&null!==o&&("uniqueId"!==U||O.AllowLoadingUniqueId))switch(J){case 0:case 6:case 9:case 11:C[U]=o;break;case 1:Z.cloneTexturesOnlyOnce&&m[o.uniqueId]?C[U]=m[o.uniqueId]:(C[U]=i||o.isRenderTarget?o:o.clone(),m[o.uniqueId]=C[U]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:C[U]=i?o:o.clone()}}return C};class O{static AppendSerializedAnimations(k,Q){if(k.animations){Q.animations=[];for(let i=0;i<k.animations.length;i++){const Z=k.animations[i];Q.animations.push(Z.serialize())}}}static Serialize(k,Q){Q||(Q={}),U.e&&(Q.tags=U.e.GetTags(k));const i=(0,o.g)(k);for(const Z in i){const U=i[Z],C=U.sourceName||Z,B=U.type,o=k[Z];if(void 0!==o&&null!==o&&("uniqueId"!==Z||O.AllowLoadingUniqueId))switch(B){case 0:Q[C]=o;break;case 1:case 3:case 7:case 9:Q[C]=o.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:Q[C]=o.Zo();break;case 6:case 11:Q[C]=o.id}}return Q}static ParseProperties(k,Q,i,Z){Z||(Z="");const U=(0,o.g)(Q);for(const o in U){const m=U[o],J=k[m.sourceName||o],G=m.type;if(void 0!==J&&null!==J&&("uniqueId"!==o||O.AllowLoadingUniqueId)){const k=Q;switch(G){case 0:k[o]=J;break;case 1:i&&(k[o]=O._TextureParser(J,i,Z));break;case 2:k[o]=C.cQ.fQ(J);break;case 3:k[o]=O._FresnelParametersParser(J);break;case 4:k[o]=B.Vector2.fQ(J);break;case 5:k[o]=B.zQ.fQ(J);break;case 6:i&&(k[o]=i.getLastMeshById(J));break;case 7:k[o]=O._ColorCurvesParser(J);break;case 8:k[o]=C.Fo.fQ(J);break;case 9:k[o]=O._ImageProcessingConfigurationParser(J);break;case 10:k[o]=B.Quaternion.fQ(J);break;case 11:i&&(k[o]=i.getCameraById(J));break;case 12:k[o]=B.Matrix.fQ(J)}}}}static Parse(k,Q,i){let Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const C=k();return U.e&&U.e.AddTagsTo(C,Q.tags),O.ParseProperties(Q,C,i,Z),C}static Clone(k,Q){return m(k,Q,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(k,Q){return m(k,Q,!0)}}O.AllowLoadingUniqueId=!1,O._ImageProcessingConfigurationParser=k=>{throw(0,Z.d)("ImageProcessingConfiguration")},O._FresnelParametersParser=k=>{throw(0,Z.d)("FresnelParameters")},O._ColorCurvesParser=k=>{throw(0,Z.d)("ColorCurves")},O._TextureParser=(k,Q,i)=>{throw(0,Z.d)("Texture")}},11341:(k,Q,i)=>{i.d(Q,{e:()=>U});class Z{static Eval(k,Q){return"true"===(k=k.match(/\([^()]*\)/g)?k.replace(/\([^()]*\)/g,(k=>(k=k.slice(1,k.length-1),Z._HandleParenthesisContent(k,Q)))):Z._HandleParenthesisContent(k,Q))||"false"!==k&&Z.Eval(k,Q)}static _HandleParenthesisContent(k,Q){let i;Q=Q||(k=>"true"===k);const U=k.split("||");for(const C in U)if(Object.prototype.hasOwnProperty.call(U,C)){let k=Z._SimplifyNegation(U[C].trim());const B=k.split("&&");if(B.length>1)for(let U=0;U<B.length;++U){const C=Z._SimplifyNegation(B[U].trim());if(i="true"!==C&&"false"!==C?"!"===C[0]?!Q(C.substring(1)):Q(C):"true"===C,!i){k="false";break}}if(i||"true"===k){i=!0;break}i="true"!==k&&"false"!==k?"!"===k[0]?!Q(k.substring(1)):Q(k):"true"===k}return i?"true":"false"}static _SimplifyNegation(k){return"!true"===(k=(k=k.replace(/^[\s!]+/,(k=>(k=k.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?k="false":"!false"===k&&(k="true"),k}}class U{static EnableFor(k){k._tags=k._tags||{},k.hasTags=()=>U.HasTags(k),k.addTags=Q=>U.AddTagsTo(k,Q),k.removeTags=Q=>U.RemoveTagsFrom(k,Q),k.matchesTagsQuery=Q=>U.MatchesQuery(k,Q)}static DisableFor(k){delete k._tags,delete k.hasTags,delete k.addTags,delete k.removeTags,delete k.matchesTagsQuery}static HasTags(k){if(!k._tags)return!1;const Q=k._tags;for(const i in Q)if(Object.prototype.hasOwnProperty.call(Q,i))return!0;return!1}static GetTags(k){let Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!k._tags)return null;if(Q){const Q=[];for(const i in k._tags)Object.prototype.hasOwnProperty.call(k._tags,i)&&!0===k._tags[i]&&Q.push(i);return Q.join(" ")}return k._tags}static AddTagsTo(k,Q){if(!Q)return;if("string"!==typeof Q)return;const i=Q.split(" ");for(const Z of i)U._AddTagTo(k,Z)}static _AddTagTo(k,Q){""!==(Q=Q.trim())&&"true"!==Q&&"false"!==Q&&(Q.match(/[\s]/)||Q.match(/^([!]|([|]|[&]){2})/)||(U.EnableFor(k),k._tags[Q]=!0))}static RemoveTagsFrom(k,Q){if(!U.HasTags(k))return;const i=Q.split(" ");for(const Z in i)U._RemoveTagFrom(k,i[Z])}static _RemoveTagFrom(k,Q){delete k._tags[Q]}static MatchesQuery(k,Q){return void 0===Q||(""===Q?U.HasTags(k):Z.Eval(Q,(Q=>U.HasTags(k)&&k._tags[Q])))}}},11280:(k,Q,i)=>{i.d(Q,{c:()=>Z});function Z(k,Q,i,Z){var U,C=arguments.length,B=C<3?Q:null===Z?Z=Object.getOwnPropertyDescriptor(Q,i):Z;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)B=Reflect.decorate(k,Q,i,Z);else for(var o=k.length-1;o>=0;o--)(U=k[o])&&(B=(C<3?U(B):C>3?U(Q,i,B):U(Q,i))||B);return C>3&&B&&Object.defineProperty(Q,i,B),B}Object.create;Object.create}}]);