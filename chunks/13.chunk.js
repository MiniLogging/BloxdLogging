"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[13],{11202:(h,V,i)=>{i.d(V,{c:()=>S});let S=!1},11167:(h,V,i)=>{i.d(V,{e:()=>s});var S=i(11123),l=i(11127),Y=i(10960),g=i(11138),q=i(10988),B=i(11100),J=(i(10993),i(11174));class I{get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(h){this._texture&&(this._texture.isCube=h)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(h){return void 0!==(null===h||void 0===h?void 0:h.shareDepth)}constructor(h){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=J.b.Zero(),this._cachedBaseSize=J.b.Zero(),this._initialSamplingMode=2,this._texture=I._IsRenderTargetWrapper(h)?h.texture:h,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(h){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(h,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var v=i(11179);class s extends I{set Rg(h){this._hasAlpha!==h&&(this._hasAlpha=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get Rg(){return this._hasAlpha}set getAlphaFromRGB(h){this._getAlphaFromRGB!==h&&(this._getAlphaFromRGB=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(h){this._coordinatesIndex!==h&&(this._coordinatesIndex=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(h){this._coordinatesMode!==h&&(this._coordinatesMode=h,this._scene&&this._scene.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(h){this._wrapU=h}get wrapV(){return this._wrapV}set wrapV(h){this._wrapV=h}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(h){this._texture?this._texture.isCube=h:this._isCube=h}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(h){this._texture&&(this._texture.is3D=h)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(h){this._texture&&(this._texture.is2DArray=h)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(h){var V;if(this._texture){if(this._texture._gammaSpace===h)return;this._texture._gammaSpace=h}else{if(this._gammaSpace===h)return;this._gammaSpace=h}null===(V=this.Mh())||void 0===V||V.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(h){var V;h!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=h),null===(V=this.Mh())||void 0===V||V.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(h){this._texture&&(this._texture._lodGenerationOffset=h)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(h){this._texture&&(this._texture._lodGenerationScale=h)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(h){this._texture&&(this._texture._linearSpecularLOD=h)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(h){this._texture&&(this._texture._irradianceTexture=h)}get uid(){return this._uid||(this._uid=(0,B.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(h){this._onDisposeObserver&&this.Ig.remove(this._onDisposeObserver),this._onDisposeObserver=this.Ig.add(h)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Ig=new Y.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,h?s._IsScene(h)?this._scene=h:this._engine=h:this._scene=q.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=V,this._uid=null}Mh(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return g.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return g.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(h){}get canRescale(){return!1}_getFromCache(h,V,i,S,l,Y){const g=this._getEngine();if(!g)return null;const q=g._getUseSRGBBuffer(!!l,V),B=g.getLoadedTexturesCache();for(let J=0;J<B.length;J++){const g=B[J];if((void 0===l||q===g._useSRGBBuffer)&&(void 0===S||S===g.invertY)&&g.url===h&&g.generateMipMaps===!V&&(!i||i===g.samplingMode)&&(void 0===Y||Y===g.isCube))return g.incrementReferences(),g}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const h=this.Mh();h&&h.markAllMaterialsAsDirty(1)}readPixels(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const J=this._getEngine();if(!J)return null;const I=this.getSize();let v=I.width,s=I.height;0!==V&&(v/=Math.pow(2,V),s/=Math.pow(2,V),v=Math.round(v),s=Math.round(s)),q=Math.min(v,q),B=Math.min(s,B);try{return this._texture.isCube?J._readTexturePixels(this._texture,q,B,h,V,i,S,l,Y,g):J._readTexturePixels(this._texture,q,B,-1,V,i,S,l,Y,g)}catch(t){return null}}_readPixelsSync(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const Y=this.getSize();let g=Y.width,q=Y.height;const B=this._getEngine();if(!B)return null;0!=V&&(g/=Math.pow(2,V),q/=Math.pow(2,V),g=Math.round(g),q=Math.round(q));try{return this._texture.isCube?B._readTexturePixelsSync(this._texture,g,q,h,V,i,S,l):B._readTexturePixelsSync(this._texture,g,q,-1,V,i,S,l)}catch(J){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const h=this._scene.textures.indexOf(this);if(h>=0&&this._scene.textures.splice(h,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const h=this._parentContainer.textures.indexOf(this);h>-1&&this._parentContainer.textures.splice(h,1),this._parentContainer=null}}this.Ig.notifyObservers(this),this.Ig.clear(),this.metadata=null,super.dispose()}serialize(){let h=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!h)return null;const V=v.d.Serialize(this);return v.d.AppendSerializedAnimations(this,V),V}static WhenAllReady(h,V){let i=h.length;if(0!==i)for(let S=0;S<h.length;S++){const l=h[S];if(l.isReady())0===--i&&V();else{const h=l.onLoadObservable;h?h.addOnce((()=>{0===--i&&V()})):0===--i&&V()}}else V()}static _IsScene(h){return"Scene"===h.getClassName()}}s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,S.b)([(0,l.E)()],s.prototype,"uniqueId",void 0),(0,S.b)([(0,l.E)()],s.prototype,"name",void 0),(0,S.b)([(0,l.E)()],s.prototype,"displayName",void 0),(0,S.b)([(0,l.E)()],s.prototype,"metadata",void 0),(0,S.b)([(0,l.E)("Rg")],s.prototype,"_hasAlpha",void 0),(0,S.b)([(0,l.E)("getAlphaFromRGB")],s.prototype,"_getAlphaFromRGB",void 0),(0,S.b)([(0,l.E)()],s.prototype,"level",void 0),(0,S.b)([(0,l.E)("coordinatesIndex")],s.prototype,"_coordinatesIndex",void 0),(0,S.b)([(0,l.E)()],s.prototype,"optimizeUVAllocation",void 0),(0,S.b)([(0,l.E)("coordinatesMode")],s.prototype,"_coordinatesMode",void 0),(0,S.b)([(0,l.E)()],s.prototype,"wrapU",null),(0,S.b)([(0,l.E)()],s.prototype,"wrapV",null),(0,S.b)([(0,l.E)()],s.prototype,"wrapR",void 0),(0,S.b)([(0,l.E)()],s.prototype,"anisotropicFilteringLevel",void 0),(0,S.b)([(0,l.E)()],s.prototype,"isCube",null),(0,S.b)([(0,l.E)()],s.prototype,"is3D",null),(0,S.b)([(0,l.E)()],s.prototype,"is2DArray",null),(0,S.b)([(0,l.E)()],s.prototype,"gammaSpace",null),(0,S.b)([(0,l.E)()],s.prototype,"invertZ",void 0),(0,S.b)([(0,l.E)()],s.prototype,"lodLevelInAlpha",void 0),(0,S.b)([(0,l.E)()],s.prototype,"lodGenerationOffset",null),(0,S.b)([(0,l.E)()],s.prototype,"lodGenerationScale",null),(0,S.b)([(0,l.E)()],s.prototype,"linearSpecularLOD",null),(0,S.b)([(0,l.v)()],s.prototype,"irradianceTexture",null),(0,S.b)([(0,l.E)()],s.prototype,"isRenderTarget",void 0)},11117:(h,V,i)=>{i.d(V,{d:()=>P});var S=i(11123),l=i(11127),Y=i(10960),g=i(11138),q=i(11167),B=i(11091),J=i(10980),I=i(11021),v=i(11085),s=i(11198),t=i(11009);function T(h,V){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const S=V.width,l=V.height;if(h instanceof Float32Array){let V=h.byteLength/h.BYTES_PER_ELEMENT;const i=new Uint8Array(V);for(;--V>=0;){let S=h[V];S<0?S=0:S>1&&(S=1),i[V]=255*S}h=i}const Y=document.createElement("canvas");Y.width=S,Y.height=l;const g=Y.getContext("2d");if(!g)return null;const q=g.createImageData(S,l);if(q.data.set(h),g.putImageData(q,0,0),i){const h=document.createElement("canvas");h.width=S,h.height=l;const V=h.getContext("2d");return V?(V.translate(0,l),V.scale(1,-1),V.drawImage(Y,0,0),h.toDataURL("image/png")):null}return Y.toDataURL("image/png")}function e(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const S=h.getInternalTexture();if(!S)return null;const l=h._readPixelsSync(V,i);return l?T(l,h.getSize(),S.invertY):null}async function n(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const S=h.getInternalTexture();if(!S)return null;const l=await h.readPixels(V,i);return l?T(l,h.getSize(),S.invertY):null}var c=i(11202),f=i(11179);class P extends q.e{static _CreateVideoTexture(h,V,i){arguments.length>5&&void 0!==arguments[5]||P.TRILINEAR_SAMPLINGMODE;throw(0,J.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(h){this._isBlocking=h}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(h,V,i,S){let l,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:P.TRILINEAR_SAMPLINGMODE,q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,v=arguments.length>8&&void 0!==arguments[8]&&arguments[8],s=arguments.length>9?arguments[9]:void 0,t=arguments.length>10?arguments[10]:void 0,T=arguments.length>11?arguments[11]:void 0,e=arguments.length>12?arguments[12]:void 0,n=arguments.length>13?arguments[13]:void 0;super(V),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new Y.d,this._isBlocking=!0,this.name=h||"",this.url=h;let f=!1,L=null,U=!0;"object"===typeof i&&null!==i?(l=i.noMipmap??!1,S=i.invertY??!c.c,g=i.samplingMode??P.TRILINEAR_SAMPLINGMODE,q=i.p??null,B=i.onError??null,J=i.buffer??null,v=i.deleteBuffer??!1,s=i.format,t=i.mimeType,T=i.loaderOptions,e=i.creationFlags,f=i.useSRGBBuffer??!1,L=i.internalTexture??null,U=i.gammaSpace??U,n=i.forcedExtension??n):l=!!i,this._gammaSpace=U,this._noMipmap=l,this._invertY=void 0===S?!c.c:S,this._initialSamplingMode=g,this._buffer=J,this._deleteBuffer=v,this._mimeType=t,this._loaderOptions=T,this._creationFlags=e,this._useSRGBBuffer=f,this._forcedExtension=n,void 0!==s&&(this._format=s);const X=this.Mh(),D=this._getEngine();if(!D)return;D.onBeforeTextureInitObservable.notifyObservers(this);const O=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),q&&q(),!this.isBlocking&&X&&X.resetCachedMaterial()},o=(h,V)=>{this._loadingError=!0,this._errorObject={message:h,exception:V},B&&B(h,V),P.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!L)return this._delayedOnLoad=O,void(this._delayedOnError=o);if(this._texture=L??this._getFromCache(this.url,l,g,this._invertY,f,this.isCube),this._texture)if(this._texture.isReady)I.d.SetImmediate((()=>O()));else{const h=this._texture.onLoadedObservable.add(O);this._texture.onErrorObservable.add((V=>{var i;o(V.message,V.exception),null===(i=this._texture)||void 0===i||i.onLoadedObservable.remove(h)}))}else if(X&&X.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=O,this._delayedOnError=o;else{try{this._texture=D.createTexture(this.url,l,this._invertY,X,g,O,o,this._buffer,void 0,this._format,this._forcedExtension,t,T,e,f)}catch(M){throw o("error loading",M),M}v&&(this._buffer=null)}}updateURL(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Mh().markAllMaterialsAsDirty(1,(h=>h.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=h),this.url=h,this._buffer=V,this._forcedExtension=S,this.delayLoadState=4,i&&(this._delayedOnLoad=i),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const h=this.Mh();h&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?I.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=h.getEngine().createTexture(this.url,this._noMipmap,this._invertY,h,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(h,V,i,S){h*=this._cachedUScale,V*=this._cachedVScale,h-=this.uRotationCenter*this._cachedUScale,V-=this.vRotationCenter*this._cachedVScale,i-=this.wRotationCenter,g.nV.TransformCoordinatesFromFloatsToRef(h,V,i,this._rowGenerationMatrix,S),S.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,S.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,S.z+=this.wRotationCenter}getTextureMatrix(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*h===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*h,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=g.Matrix.Zero(),this._rowGenerationMatrix=new g.Matrix,this._t0=g.nV.Zero(),this._t1=g.nV.Zero(),this._t2=g.nV.Zero()),g.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(g.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,g.TmpVectors.Matrix[0]),g.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,g.TmpVectors.Matrix[1]),g.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,g.TmpVectors.Matrix[2]),g.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,g.TmpVectors.Matrix[3]),g.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.mI(this._t0),this._t2.mI(this._t0),g.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const V=this.Mh();if(!V)return this._cachedTextureMatrix;const i=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&i!==this._cachedIdentity3x2&&V.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const h=this.Mh();if(!h)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==P.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===h.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=g.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=g.Matrix.Zero());const V=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case P.PLANAR_MODE:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case P.PROJECTION_MODE:{g.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const V=h.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=V.updateFlag,V.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return V&&h.markAllMaterialsAsDirty(1,(h=>h.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const h={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,p:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return f.d.Clone((()=>new P(this._texture?this._texture.url:null,this.Mh(),h)),this)}serialize(){var h;const V=this.name;P.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const i=super.serialize(P._SerializeInternalTextureUniqueId);if(!i)return null;if(P.SerializeBuffers||P.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))i.base64String=this._buffer,i.name=i.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const h=this.mimeType||"image/png";i.base64String=`data:${h};base64,${(0,t.g)(this._buffer)}`}else(P.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(i.base64String=!this._engine||this._engine._features.supportSyncTextureRead?e(this):n(this));var S;(i.invertY=this._invertY,i.samplingMode=this.samplingMode,i._creationFlags=this._creationFlags,i._useSRGBBuffer=this._useSRGBBuffer,P._SerializeInternalTextureUniqueId)&&(i.internalTextureUniqueId=null===(S=this._texture)||void 0===S?void 0:S.uniqueId);return i.internalTextureLabel=null===(h=this._texture)||void 0===h?void 0:h.label,i.noMipmap=this._noMipmap,this.name=V,i}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(h,V,i){if(h.customType){const S=v.b.Instantiate(h.customType).Parse(h,V,i);return h.samplingMode&&S.updateSamplingMode&&S._samplingMode&&S._samplingMode!==h.samplingMode&&S.updateSamplingMode(h.samplingMode),S}if(h.isCube&&!h.isRenderTarget)return P._CubeTextureParser(h,V,i);const S=void 0!==h.internalTextureUniqueId;if(!h.name&&!h.isRenderTarget&&!S)return null;let l;if(S){const i=V.getEngine().getLoadedTexturesCache();for(const V of i)if(V.uniqueId===h.internalTextureUniqueId){l=V;break}}const Y=V=>{if(V&&V._texture&&(V._texture._cachedWrapU=null,V._texture._cachedWrapV=null,V._texture._cachedWrapR=null),h.samplingMode){const i=h.samplingMode;V&&V.samplingMode!==i&&V.updateSamplingMode(i)}if(V&&h.animations)for(let i=0;i<h.animations.length;i++){const S=h.animations[i],l=(0,B.b)("BABYLON.Animation");l&&V.animations.push(l.Parse(S))}V&&V._texture&&(S&&!l&&V._texture._setUniqueId(h.internalTextureUniqueId),V._texture.label=h.internalTextureLabel)};return f.d.Parse((()=>{let S=!0;if(h.noMipmap&&(S=!1),h.mirrorPlane){const i=P._CreateMirror(h.name,h.renderTargetSize,V,S);return i._waitingRenderList=h.renderList,i.mirrorPlane=s.b.UV(h.mirrorPlane),Y(i),i}if(h.isRenderTarget){let i=null;if(h.isCube){if(V.reflectionProbes)for(let S=0;S<V.reflectionProbes.length;S++){const i=V.reflectionProbes[S];if(i.name===h.name)return i.cubeTexture}}else i=P._CreateRenderTargetTexture(h.name,h.renderTargetSize,V,S,h._creationFlags??0),i._waitingRenderList=h.renderList;return Y(i),i}if(h.isVideo){const l=P._CreateVideoTexture(i+(h.url||h.name),i+(h.src||h.url),V,S,h.invertY,h.samplingMode,h.settings||{});return Y(l),l}{let g;if(h.base64String&&!l)g=P.CreateFromBase64String(h.base64String,h.base64String,V,!S,h.invertY,h.samplingMode,(()=>{Y(g)}),h._creationFlags??0,h._useSRGBBuffer??!1),g.name=h.name;else{let q;q=h.name&&(h.name.indexOf("://")>0||h.name.startsWith("data:"))?h.name:i+h.name,h.url&&(h.url.startsWith("data:")||P.UseSerializedUrlIfAny)&&(q=h.url);const B={noMipmap:!S,invertY:h.invertY,samplingMode:h.samplingMode,p:()=>{Y(g)},internalTexture:l};g=new P(q,V,B)}return g}}),h,V)}static CreateFromBase64String(h,V,i,S,l){let Y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:P.TRILINEAR_SAMPLINGMODE;return new P("data:"+V,i,S,l,Y,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(h,V,i){let S=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4?arguments[4]:void 0,Y=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:P.TRILINEAR_SAMPLINGMODE,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,J=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,I=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0;return"data:"!==h.substring(0,5)&&(h="data:"+h),new P(h,i,l,Y,g,q,B,V,S,J,void 0,void 0,I,v)}}P.SerializeBuffers=!0,P.ForceSerializeBuffers=!1,P.OnTextureLoadErrorObservable=new Y.d,P._SerializeInternalTextureUniqueId=!1,P._CubeTextureParser=(h,V,i)=>{throw(0,J.d)("CubeTexture")},P._CreateMirror=(h,V,i,S)=>{throw(0,J.d)("MirrorTexture")},P._CreateRenderTargetTexture=(h,V,i,S,l)=>{throw(0,J.d)("RenderTargetTexture")},P.NEAREST_SAMPLINGMODE=1,P.NEAREST_NEAREST_MIPLINEAR=8,P.BILINEAR_SAMPLINGMODE=2,P.LINEAR_LINEAR_MIPNEAREST=11,P.TRILINEAR_SAMPLINGMODE=3,P.LINEAR_LINEAR_MIPLINEAR=3,P.NEAREST_NEAREST_MIPNEAREST=4,P.NEAREST_LINEAR_MIPNEAREST=5,P.NEAREST_LINEAR_MIPLINEAR=6,P.NEAREST_LINEAR=7,P.NEAREST_NEAREST=1,P.LINEAR_NEAREST_MIPNEAREST=9,P.LINEAR_NEAREST_MIPLINEAR=10,P.LINEAR_LINEAR=2,P.LINEAR_NEAREST=12,P.EXPLICIT_MODE=0,P.SPHERICAL_MODE=1,P.PLANAR_MODE=2,P.CUBIC_MODE=3,P.PROJECTION_MODE=4,P.SKYBOX_MODE=5,P.INVCUBIC_MODE=6,P.EQUIRECTANGULAR_MODE=7,P.FIXED_EQUIRECTANGULAR_MODE=8,P.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,P.CLAMP_ADDRESSMODE=0,P.WRAP_ADDRESSMODE=1,P.MIRROR_ADDRESSMODE=2,P.UseSerializedUrlIfAny=!1,(0,S.b)([(0,l.E)()],P.prototype,"url",void 0),(0,S.b)([(0,l.E)()],P.prototype,"uOffset",void 0),(0,S.b)([(0,l.E)()],P.prototype,"vOffset",void 0),(0,S.b)([(0,l.E)()],P.prototype,"uScale",void 0),(0,S.b)([(0,l.E)()],P.prototype,"vScale",void 0),(0,S.b)([(0,l.E)()],P.prototype,"uAng",void 0),(0,S.b)([(0,l.E)()],P.prototype,"vAng",void 0),(0,S.b)([(0,l.E)()],P.prototype,"wAng",void 0),(0,S.b)([(0,l.E)()],P.prototype,"uRotationCenter",void 0),(0,S.b)([(0,l.E)()],P.prototype,"vRotationCenter",void 0),(0,S.b)([(0,l.E)()],P.prototype,"wRotationCenter",void 0),(0,S.b)([(0,l.E)()],P.prototype,"homogeneousRotationInUVTransform",void 0),(0,S.b)([(0,l.E)()],P.prototype,"isBlocking",null),(0,B.f)("BABYLON.Texture",P),f.d._TextureParser=P.Parse},11198:(h,V,i)=>{i.d(V,{b:()=>l});var S=i(11138);class l{constructor(h,V,i,l){this.normal=new S.nV(h,V,i),this.d=l}Ng(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new l(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let h=this.normal.getHashCode();return h=397*h^this.d,h}normalize(){const h=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let V=0;return 0!==h&&(V=1/h),this.normal.x*=V,this.normal.y*=V,this.normal.z*=V,this.d*=V,this}transform(h){const V=l._TmpMatrix;h.invertToRef(V);const i=V.m,S=this.normal.x,Y=this.normal.y,g=this.normal.z,q=this.d,B=S*i[0]+Y*i[1]+g*i[2]+q*i[3],J=S*i[4]+Y*i[5]+g*i[6]+q*i[7],I=S*i[8]+Y*i[9]+g*i[10]+q*i[11],v=S*i[12]+Y*i[13]+g*i[14]+q*i[15];return new l(B,J,I,v)}dotCoordinate(h){return this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z+this.d}copyFromPoints(h,V,i){const S=V.x-h.x,l=V.y-h.y,Y=V.z-h.z,g=i.x-h.x,q=i.y-h.y,B=i.z-h.z,J=l*B-Y*q,I=Y*g-S*B,v=S*q-l*g,s=Math.sqrt(J*J+I*I+v*v);let t;return t=0!==s?1/s:0,this.normal.x=J*t,this.normal.y=I*t,this.normal.z=v*t,this.d=-(this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z),this}isFrontFacingTo(h,V){return S.nV.Dot(this.normal,h)<=V}signedDistanceTo(h){return S.nV.Dot(h,this.normal)+this.d}static UV(h){return new l(h[0],h[1],h[2],h[3])}static FromPoints(h,V,i){const S=new l(0,0,0,0);return S.copyFromPoints(h,V,i),S}static FromPositionAndNormal(h,V){const i=new l(0,0,0,0);return this.FromPositionAndNormalToRef(h,V,i)}static FromPositionAndNormalToRef(h,V,i){return i.normal.l(V),i.normal.normalize(),i.d=-h.dot(i.normal),i}static SignedDistanceToPlaneFromPositionAndNormal(h,V,i){const l=-(V.x*h.x+V.y*h.y+V.z*h.z);return S.nV.Dot(i,V)+l}}l._TmpMatrix=S.Matrix.Identity()},11174:(h,V,i)=>{i.d(V,{b:()=>S});class S{constructor(h,V){this.width=h,this.height=V}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let h=0|this.width;return h=397*h^this.height,h}l(h){this.width=h.width,this.height=h.height}qq(h,V){return this.width=h,this.height=V,this}set(h,V){return this.qq(h,V)}multiplyByFloats(h,V){return new S(this.width*h,this.height*V)}clone(){return new S(this.width,this.height)}equals(h){return!!h&&(this.width===h.width&&this.height===h.height)}get surface(){return this.width*this.height}static Zero(){return new S(0,0)}add(h){return new S(this.width+h.width,this.height+h.height)}cV(h){return new S(this.width-h.width,this.height-h.height)}scale(h){return new S(this.width*h,this.height*h)}static Lerp(h,V,i){const l=h.width+(V.width-h.width)*i,Y=h.height+(V.height-h.height)*i;return new S(l,Y)}}},11132:(h,V,i)=>{i.d(V,{c:()=>Y,e:()=>g});const S={},l={};function Y(h){const V=h.getClassName();return l[V]||(l[V]={}),l[V]}function g(h){const V=h.getClassName();if(S[V])return S[V];S[V]={};const i=S[V];let Y=h,g=V;for(;g;){const h=l[g];for(const l in h)i[l]=h[l];let V,S=!1;do{if(V=Object.getPrototypeOf(Y),!V.getClassName){S=!0;break}if(V.getClassName()!==g)break;Y=V}while(V);if(S)break;g=V.getClassName(),Y=V}return i}},11127:(h,V,i)=>{i.d(V,{A:()=>v,E:()=>g,e:()=>Y,g:()=>f,h:()=>t,i:()=>B,j:()=>T,k:()=>J,l:()=>e,o:()=>c,q:()=>s,r:()=>n,v:()=>q,w:()=>I});var S=i(11132);function l(h,V){return(i,l)=>{const Y=(0,S.c)(i);Y[l]||(Y[l]={type:h,sourceName:V})}}function Y(h){return function(h){let V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(i,S)=>{const l=V||"_"+S;Object.defineProperty(i,S,{get:function(){return this[l]},set:function(V){var S;"function"===typeof(null===(S=this[l])||void 0===S?void 0:S.equals)&&this[l].equals(V)||this[l]!==V&&(this[l]=V,i[h].apply(this))},enumerable:!0,configurable:!0})}}(h,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function g(h){return l(0,h)}function q(h){return l(1,h)}function B(h){return l(2,h)}function J(h){return l(3,h)}function I(h){return l(4,h)}function v(h){return l(5,h)}function s(h){return l(6,h)}function t(h){return l(7,h)}function T(h){return l(8,h)}function e(h){return l(9,h)}function n(h){return l(10,h)}function c(h){return l(12,h)}function f(h,V,i,S){const l=i.value;i.value=function(){let i=l;if("undefined"!==typeof _native&&_native[V]){const h=_native[V];i=S?function(){return S(...arguments)?h(...arguments):l(...arguments)}:h}return h[V]=i,i(...arguments)}}f.filter=function(h){return(V,i,S)=>f(V,i,S,h)}},11179:(h,V,i)=>{i.d(V,{d:()=>J});var S=i(10980),l=i(11186),Y=i(11189),g=i(11138),q=i(11132);const B=function(h,V,i){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const Y=h();l.b&&l.b.HasTags(V)&&l.b.AddTagsTo(Y,l.b.GetTags(V,!0));const g=(0,q.e)(Y),B={};for(const l in g){const h=g[l],q=V[l],I=h.type;if(void 0!==q&&null!==q&&("uniqueId"!==l||J.AllowLoadingUniqueId))switch(I){case 0:case 6:case 9:case 11:Y[l]=q;break;case 1:S.cloneTexturesOnlyOnce&&B[q.uniqueId]?Y[l]=B[q.uniqueId]:(Y[l]=i||q.isRenderTarget?q:q.clone(),B[q.uniqueId]=Y[l]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:Y[l]=i?q:q.clone()}}return Y};class J{static AppendSerializedAnimations(h,V){if(h.animations){V.animations=[];for(let i=0;i<h.animations.length;i++){const S=h.animations[i];V.animations.push(S.serialize())}}}static Serialize(h,V){V||(V={}),l.b&&(V.tags=l.b.GetTags(h));const i=(0,q.e)(h);for(const S in i){const l=i[S],Y=l.sourceName||S,g=l.type,q=h[S];if(void 0!==q&&null!==q&&("uniqueId"!==S||J.AllowLoadingUniqueId))switch(g){case 0:V[Y]=q;break;case 1:case 3:case 7:case 9:V[Y]=q.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:V[Y]=q.Ng();break;case 6:case 11:V[Y]=q.id}}return V}static ParseProperties(h,V,i,S){S||(S="");const l=(0,q.e)(V);for(const q in l){const B=l[q],I=h[B.sourceName||q],v=B.type;if(void 0!==I&&null!==I&&("uniqueId"!==q||J.AllowLoadingUniqueId)){const h=V;switch(v){case 0:h[q]=I;break;case 1:i&&(h[q]=J._TextureParser(I,i,S));break;case 2:h[q]=Y.LV.UV(I);break;case 3:h[q]=J._FresnelParametersParser(I);break;case 4:h[q]=g.Vector2.UV(I);break;case 5:h[q]=g.nV.UV(I);break;case 6:i&&(h[q]=i.getLastMeshById(I));break;case 7:h[q]=J._ColorCurvesParser(I);break;case 8:h[q]=Y.vq.UV(I);break;case 9:h[q]=J._ImageProcessingConfigurationParser(I);break;case 10:h[q]=g.Quaternion.UV(I);break;case 11:i&&(h[q]=i.getCameraById(I));break;case 12:h[q]=g.Matrix.UV(I)}}}}static Parse(h,V,i){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const Y=h();return l.b&&l.b.AddTagsTo(Y,V.tags),J.ParseProperties(V,Y,i,S),Y}static Clone(h,V){return B(h,V,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(h,V){return B(h,V,!0)}}J.AllowLoadingUniqueId=!1,J._ImageProcessingConfigurationParser=h=>{throw(0,S.d)("ImageProcessingConfiguration")},J._FresnelParametersParser=h=>{throw(0,S.d)("FresnelParameters")},J._ColorCurvesParser=h=>{throw(0,S.d)("ColorCurves")},J._TextureParser=(h,V,i)=>{throw(0,S.d)("Texture")}},11186:(h,V,i)=>{i.d(V,{b:()=>l});class S{static Eval(h,V){return"true"===(h=h.match(/\([^()]*\)/g)?h.replace(/\([^()]*\)/g,(h=>(h=h.slice(1,h.length-1),S._HandleParenthesisContent(h,V)))):S._HandleParenthesisContent(h,V))||"false"!==h&&S.Eval(h,V)}static _HandleParenthesisContent(h,V){let i;V=V||(h=>"true"===h);const l=h.split("||");for(const Y in l)if(Object.prototype.hasOwnProperty.call(l,Y)){let h=S._SimplifyNegation(l[Y].trim());const g=h.split("&&");if(g.length>1)for(let l=0;l<g.length;++l){const Y=S._SimplifyNegation(g[l].trim());if(i="true"!==Y&&"false"!==Y?"!"===Y[0]?!V(Y.substring(1)):V(Y):"true"===Y,!i){h="false";break}}if(i||"true"===h){i=!0;break}i="true"!==h&&"false"!==h?"!"===h[0]?!V(h.substring(1)):V(h):"true"===h}return i?"true":"false"}static _SimplifyNegation(h){return"!true"===(h=(h=h.replace(/^[\s!]+/,(h=>(h=h.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?h="false":"!false"===h&&(h="true"),h}}class l{static EnableFor(h){h._tags=h._tags||{},h.hasTags=()=>l.HasTags(h),h.addTags=V=>l.AddTagsTo(h,V),h.removeTags=V=>l.RemoveTagsFrom(h,V),h.matchesTagsQuery=V=>l.MatchesQuery(h,V)}static DisableFor(h){delete h._tags,delete h.hasTags,delete h.addTags,delete h.removeTags,delete h.matchesTagsQuery}static HasTags(h){if(!h._tags)return!1;const V=h._tags;for(const i in V)if(Object.prototype.hasOwnProperty.call(V,i))return!0;return!1}static GetTags(h){let V=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!h._tags)return null;if(V){const V=[];for(const i in h._tags)Object.prototype.hasOwnProperty.call(h._tags,i)&&!0===h._tags[i]&&V.push(i);return V.join(" ")}return h._tags}static AddTagsTo(h,V){if(!V)return;if("string"!==typeof V)return;const i=V.split(" ");for(const S of i)l._AddTagTo(h,S)}static _AddTagTo(h,V){""!==(V=V.trim())&&"true"!==V&&"false"!==V&&(V.match(/[\s]/)||V.match(/^([!]|([|]|[&]){2})/)||(l.EnableFor(h),h._tags[V]=!0))}static RemoveTagsFrom(h,V){if(!l.HasTags(h))return;const i=V.split(" ");for(const S in i)l._RemoveTagFrom(h,i[S])}static _RemoveTagFrom(h,V){delete h._tags[V]}static MatchesQuery(h,V){return void 0===V||(""===V?l.HasTags(h):S.Eval(V,(V=>l.HasTags(h)&&h._tags[V])))}}},11123:(h,V,i)=>{i.d(V,{b:()=>S});function S(h,V,i,S){var l,Y=arguments.length,g=Y<3?V:null===S?S=Object.getOwnPropertyDescriptor(V,i):S;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(h,V,i,S);else for(var q=h.length-1;q>=0;q--)(l=h[q])&&(g=(Y<3?l(g):Y>3?l(V,i,g):l(V,i))||g);return Y>3&&g&&Object.defineProperty(V,i,g),g}Object.create;Object.create}}]);