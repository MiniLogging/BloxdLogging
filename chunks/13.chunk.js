"use strict";(self.ynu1yiqvs98=self.ynu1yiqvs98||[]).push([[13],{11176:(I,E,j)=>{j.d(E,{b:()=>e});let e=!1},11139:(I,E,j)=>{j.d(E,{d:()=>Z});var e=j(11101),w=j(11106),z=j(10960),h=j(11117),t=j(10993),U=j(11080),R=(j(11e3),j(11141));class P{get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(I){this._texture&&(this._texture.isCube=I)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(I){return void 0!==(null===I||void 0===I?void 0:I.shareDepth)}constructor(I){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=R.e.Zero(),this._cachedBaseSize=R.e.Zero(),this._initialSamplingMode=2,this._texture=P._IsRenderTargetWrapper(I)?I.texture:I,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(I){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(I,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var o=j(11149);class Z extends P{set ne(I){this._hasAlpha!==I&&(this._hasAlpha=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get ne(){return this._hasAlpha}set getAlphaFromRGB(I){this._getAlphaFromRGB!==I&&(this._getAlphaFromRGB=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(I){this._coordinatesIndex!==I&&(this._coordinatesIndex=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(I){this._coordinatesMode!==I&&(this._coordinatesMode=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(I){this._texture?this._texture.isCube=I:this._isCube=I}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(I){var E;if(this._texture){if(this._texture._gammaSpace===I)return;this._texture._gammaSpace=I}else{if(this._gammaSpace===I)return;this._gammaSpace=I}null===(E=this.GI())||void 0===E||E.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(I){var E;I!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=I),null===(E=this.GI())||void 0===E||E.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(I){this._texture&&(this._texture._lodGenerationOffset=I)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(I){this._texture&&(this._texture._lodGenerationScale=I)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(I){this._texture&&(this._texture._linearSpecularLOD=I)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(I){this._texture&&(this._texture._irradianceTexture=I)}get uid(){return this._uid||(this._uid=(0,U.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(I){this._onDisposeObserver&&this.Le.remove(this._onDisposeObserver),this._onDisposeObserver=this.Le.add(I)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(I){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Le=new z.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,I?Z._IsScene(I)?this._scene=I:this._engine=I:this._scene=t.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=E,this._uid=null}GI(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return h.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return h.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(I){}get canRescale(){return!1}_getFromCache(I,E,j,e,w,z){const h=this._getEngine();if(!h)return null;const t=h._getUseSRGBBuffer(!!w,E),U=h.getLoadedTexturesCache();for(let R=0;R<U.length;R++){const h=U[R];if((void 0===w||t===h._useSRGBBuffer)&&(void 0===e||e===h.invertY)&&h.url===I&&h.generateMipMaps===!E&&(!j||j===h.samplingMode)&&(void 0===z||z===h.isCube))return h.incrementReferences(),h}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const I=this.GI();I&&I.markAllMaterialsAsDirty(1)}readPixels(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=arguments.length>4&&void 0!==arguments[4]&&arguments[4],z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const R=this._getEngine();if(!R)return null;const P=this.getSize();let o=P.width,Z=P.height;0!==E&&(o/=Math.pow(2,E),Z/=Math.pow(2,E),o=Math.round(o),Z=Math.round(Z)),t=Math.min(o,t),U=Math.min(Z,U);try{return this._texture.isCube?R._readTexturePixels(this._texture,t,U,I,E,j,e,w,z,h):R._readTexturePixels(this._texture,t,U,-1,E,j,e,w,z,h)}catch(c){return null}}_readPixelsSync(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const z=this.getSize();let h=z.width,t=z.height;const U=this._getEngine();if(!U)return null;0!=E&&(h/=Math.pow(2,E),t/=Math.pow(2,E),h=Math.round(h),t=Math.round(t));try{return this._texture.isCube?U._readTexturePixelsSync(this._texture,h,t,I,E,j,e,w):U._readTexturePixelsSync(this._texture,h,t,-1,E,j,e,w)}catch(R){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const I=this._scene.textures.indexOf(this);if(I>=0&&this._scene.textures.splice(I,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const I=this._parentContainer.textures.indexOf(this);I>-1&&this._parentContainer.textures.splice(I,1),this._parentContainer=null}}this.Le.notifyObservers(this),this.Le.clear(),this.metadata=null,super.dispose()}serialize(){let I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!I)return null;const E=o.e.Serialize(this);return o.e.AppendSerializedAnimations(this,E),E}static WhenAllReady(I,E){let j=I.length;if(0!==j)for(let e=0;e<I.length;e++){const w=I[e];if(w.isReady())0===--j&&E();else{const I=w.onLoadObservable;I?I.addOnce((()=>{0===--j&&E()})):0===--j&&E()}}else E()}static _IsScene(I){return"Scene"===I.getClassName()}}Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,e.b)([(0,w.N)()],Z.prototype,"uniqueId",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"name",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"displayName",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"metadata",void 0),(0,e.b)([(0,w.N)("ne")],Z.prototype,"_hasAlpha",void 0),(0,e.b)([(0,w.N)("getAlphaFromRGB")],Z.prototype,"_getAlphaFromRGB",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"level",void 0),(0,e.b)([(0,w.N)("coordinatesIndex")],Z.prototype,"_coordinatesIndex",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"optimizeUVAllocation",void 0),(0,e.b)([(0,w.N)("coordinatesMode")],Z.prototype,"_coordinatesMode",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"wrapU",null),(0,e.b)([(0,w.N)()],Z.prototype,"wrapV",null),(0,e.b)([(0,w.N)()],Z.prototype,"wrapR",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"anisotropicFilteringLevel",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"isCube",null),(0,e.b)([(0,w.N)()],Z.prototype,"is3D",null),(0,e.b)([(0,w.N)()],Z.prototype,"is2DArray",null),(0,e.b)([(0,w.N)()],Z.prototype,"gammaSpace",null),(0,e.b)([(0,w.N)()],Z.prototype,"invertZ",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"lodLevelInAlpha",void 0),(0,e.b)([(0,w.N)()],Z.prototype,"lodGenerationOffset",null),(0,e.b)([(0,w.N)()],Z.prototype,"lodGenerationScale",null),(0,e.b)([(0,w.N)()],Z.prototype,"linearSpecularLOD",null),(0,e.b)([(0,w.G)()],Z.prototype,"irradianceTexture",null),(0,e.b)([(0,w.N)()],Z.prototype,"isRenderTarget",void 0)},11097:(I,E,j)=>{j.d(E,{d:()=>q});var e=j(11101),w=j(11106),z=j(10960),h=j(11117),t=j(11139),U=j(11073),R=j(10986),P=j(11031),o=j(11065),Z=j(11167),c=j(11012);function K(I,E){let j=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const e=E.width,w=E.height;if(I instanceof Float32Array){let E=I.byteLength/I.BYTES_PER_ELEMENT;const j=new Uint8Array(E);for(;--E>=0;){let e=I[E];e<0?e=0:e>1&&(e=1),j[E]=255*e}I=j}const z=document.createElement("canvas");z.width=e,z.height=w;const h=z.getContext("2d");if(!h)return null;const t=h.createImageData(e,w);if(t.data.set(I),h.putImageData(t,0,0),j){const I=document.createElement("canvas");I.width=e,I.height=w;const E=I.getContext("2d");return E?(E.translate(0,w),E.scale(1,-1),E.drawImage(z,0,0),I.toDataURL("image/png")):null}return z.toDataURL("image/png")}function L(I){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=I.getInternalTexture();if(!e)return null;const w=I._readPixelsSync(E,j);return w?K(w,I.getSize(),e.invertY):null}async function F(I){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=I.getInternalTexture();if(!e)return null;const w=await I.readPixels(E,j);return w?K(w,I.getSize(),e.invertY):null}var C=j(11176),X=j(11149);class q extends t.d{static _CreateVideoTexture(I,E,j){arguments.length>5&&void 0!==arguments[5]||q.TRILINEAR_SAMPLINGMODE;throw(0,R.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(I){this._isBlocking=I}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(I,E,j,e){let w,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q.TRILINEAR_SAMPLINGMODE,t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,R=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=arguments.length>8&&void 0!==arguments[8]&&arguments[8],Z=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,K=arguments.length>11?arguments[11]:void 0,L=arguments.length>12?arguments[12]:void 0,F=arguments.length>13?arguments[13]:void 0;super(E),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new z.e,this._isBlocking=!0,this.name=I||"",this.url=I;let X=!1,x=null,u=!0;"object"===typeof j&&null!==j?(w=j.noMipmap??!1,e=j.invertY??!C.b,h=j.samplingMode??q.TRILINEAR_SAMPLINGMODE,t=j.J??null,U=j.onError??null,R=j.buffer??null,o=j.deleteBuffer??!1,Z=j.format,c=j.mimeType,K=j.loaderOptions,L=j.creationFlags,X=j.useSRGBBuffer??!1,x=j.internalTexture??null,u=j.gammaSpace??u,F=j.forcedExtension??F):w=!!j,this._gammaSpace=u,this._noMipmap=w,this._invertY=void 0===e?!C.b:e,this._initialSamplingMode=h,this._buffer=R,this._deleteBuffer=o,this._mimeType=c,this._loaderOptions=K,this._creationFlags=L,this._useSRGBBuffer=X,this._forcedExtension=F,void 0!==Z&&(this._format=Z);const b=this.GI(),Q=this._getEngine();if(!Q)return;Q.onBeforeTextureInitObservable.notifyObservers(this);const G=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),t&&t(),!this.isBlocking&&b&&b.resetCachedMaterial()},y=(I,E)=>{this._loadingError=!0,this._errorObject={message:I,exception:E},U&&U(I,E),q.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!x)return this._delayedOnLoad=G,void(this._delayedOnError=y);if(this._texture=x??this._getFromCache(this.url,w,h,this._invertY,X,this.isCube),this._texture)if(this._texture.isReady)P.b.SetImmediate((()=>G()));else{const I=this._texture.onLoadedObservable.add(G);this._texture.onErrorObservable.add((E=>{var j;y(E.message,E.exception),null===(j=this._texture)||void 0===j||j.onLoadedObservable.remove(I)}))}else if(b&&b.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=G,this._delayedOnError=y;else{try{this._texture=Q.createTexture(this.url,w,this._invertY,b,h,G,y,this._buffer,void 0,this._format,this._forcedExtension,c,K,L,X)}catch(d){throw y("error loading",d),d}o&&(this._buffer=null)}}updateURL(I){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.GI().markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=I),this.url=I,this._buffer=E,this._forcedExtension=e,this.delayLoadState=4,j&&(this._delayedOnLoad=j),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const I=this.GI();I&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?P.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=I.getEngine().createTexture(this.url,this._noMipmap,this._invertY,I,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(I,E,j,e){I*=this._cachedUScale,E*=this._cachedVScale,I-=this.uRotationCenter*this._cachedUScale,E-=this.vRotationCenter*this._cachedVScale,j-=this.wRotationCenter,h.LE.TransformCoordinatesFromFloatsToRef(I,E,j,this._rowGenerationMatrix,e),e.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,e.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,e.z+=this.wRotationCenter}getTextureMatrix(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*I===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*I,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=h.Matrix.Zero(),this._rowGenerationMatrix=new h.Matrix,this._t0=h.LE.Zero(),this._t1=h.LE.Zero(),this._t2=h.LE.Zero()),h.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(h.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,h.TmpVectors.Matrix[0]),h.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,h.TmpVectors.Matrix[1]),h.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,h.TmpVectors.Matrix[2]),h.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,h.TmpVectors.Matrix[3]),h.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(h.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Uo(this._t0),this._t2.Uo(this._t0),h.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const E=this.GI();if(!E)return this._cachedTextureMatrix;const j=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&j!==this._cachedIdentity3x2&&E.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const I=this.GI();if(!I)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==q.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===I.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=h.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=h.Matrix.Zero());const E=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case q.PLANAR_MODE:h.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case q.PROJECTION_MODE:{h.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const E=I.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=E.updateFlag,E.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:h.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return E&&I.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const I={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,J:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return X.e.Clone((()=>new q(this._texture?this._texture.url:null,this.GI(),I)),this)}serialize(){var I;const E=this.name;q.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const j=super.serialize(q._SerializeInternalTextureUniqueId);if(!j)return null;if(q.SerializeBuffers||q.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))j.base64String=this._buffer,j.name=j.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const I=this.mimeType||"image/png";j.base64String=`data:${I};base64,${(0,c.m)(this._buffer)}`}else(q.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(j.base64String=!this._engine||this._engine._features.supportSyncTextureRead?L(this):F(this));var e;(j.invertY=this._invertY,j.samplingMode=this.samplingMode,j._creationFlags=this._creationFlags,j._useSRGBBuffer=this._useSRGBBuffer,q._SerializeInternalTextureUniqueId)&&(j.internalTextureUniqueId=null===(e=this._texture)||void 0===e?void 0:e.uniqueId);return j.internalTextureLabel=null===(I=this._texture)||void 0===I?void 0:I.label,j.noMipmap=this._noMipmap,this.name=E,j}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(I,E,j){if(I.customType){const e=o.e.Instantiate(I.customType).Parse(I,E,j);return I.samplingMode&&e.updateSamplingMode&&e._samplingMode&&e._samplingMode!==I.samplingMode&&e.updateSamplingMode(I.samplingMode),e}if(I.isCube&&!I.isRenderTarget)return q._CubeTextureParser(I,E,j);const e=void 0!==I.internalTextureUniqueId;if(!I.name&&!I.isRenderTarget&&!e)return null;let w;if(e){const j=E.getEngine().getLoadedTexturesCache();for(const E of j)if(E.uniqueId===I.internalTextureUniqueId){w=E;break}}const z=E=>{if(E&&E._texture&&(E._texture._cachedWrapU=null,E._texture._cachedWrapV=null,E._texture._cachedWrapR=null),I.samplingMode){const j=I.samplingMode;E&&E.samplingMode!==j&&E.updateSamplingMode(j)}if(E&&I.animations)for(let j=0;j<I.animations.length;j++){const e=I.animations[j],w=(0,U.e)("BABYLON.Animation");w&&E.animations.push(w.Parse(e))}E&&E._texture&&(e&&!w&&E._texture._setUniqueId(I.internalTextureUniqueId),E._texture.label=I.internalTextureLabel)};return X.e.Parse((()=>{let e=!0;if(I.noMipmap&&(e=!1),I.mirrorPlane){const j=q._CreateMirror(I.name,I.renderTargetSize,E,e);return j._waitingRenderList=I.renderList,j.mirrorPlane=Z.b.xE(I.mirrorPlane),z(j),j}if(I.isRenderTarget){let j=null;if(I.isCube){if(E.reflectionProbes)for(let e=0;e<E.reflectionProbes.length;e++){const j=E.reflectionProbes[e];if(j.name===I.name)return j.cubeTexture}}else j=q._CreateRenderTargetTexture(I.name,I.renderTargetSize,E,e,I._creationFlags??0),j._waitingRenderList=I.renderList;return z(j),j}if(I.isVideo){const w=q._CreateVideoTexture(j+(I.url||I.name),j+(I.src||I.url),E,e,I.invertY,I.samplingMode,I.settings||{});return z(w),w}{let h;if(I.base64String&&!w)h=q.CreateFromBase64String(I.base64String,I.base64String,E,!e,I.invertY,I.samplingMode,(()=>{z(h)}),I._creationFlags??0,I._useSRGBBuffer??!1),h.name=I.name;else{let t;t=I.name&&(I.name.indexOf("://")>0||I.name.startsWith("data:"))?I.name:j+I.name,I.url&&(I.url.startsWith("data:")||q.UseSerializedUrlIfAny)&&(t=I.url);const U={noMipmap:!e,invertY:I.invertY,samplingMode:I.samplingMode,J:()=>{z(h)},internalTexture:w};h=new q(t,E,U)}return h}}),I,E)}static CreateFromBase64String(I,E,j,e,w){let z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:q.TRILINEAR_SAMPLINGMODE;return new q("data:"+E,j,e,w,z,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(I,E,j){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],w=arguments.length>4?arguments[4]:void 0,z=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:q.TRILINEAR_SAMPLINGMODE,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,R=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,P=arguments.length>10?arguments[10]:void 0,o=arguments.length>11?arguments[11]:void 0;return"data:"!==I.substring(0,5)&&(I="data:"+I),new q(I,j,w,z,h,t,U,E,e,R,void 0,void 0,P,o)}}q.SerializeBuffers=!0,q.ForceSerializeBuffers=!1,q.OnTextureLoadErrorObservable=new z.e,q._SerializeInternalTextureUniqueId=!1,q._CubeTextureParser=(I,E,j)=>{throw(0,R.b)("CubeTexture")},q._CreateMirror=(I,E,j,e)=>{throw(0,R.b)("MirrorTexture")},q._CreateRenderTargetTexture=(I,E,j,e,w)=>{throw(0,R.b)("RenderTargetTexture")},q.NEAREST_SAMPLINGMODE=1,q.NEAREST_NEAREST_MIPLINEAR=8,q.BILINEAR_SAMPLINGMODE=2,q.LINEAR_LINEAR_MIPNEAREST=11,q.TRILINEAR_SAMPLINGMODE=3,q.LINEAR_LINEAR_MIPLINEAR=3,q.NEAREST_NEAREST_MIPNEAREST=4,q.NEAREST_LINEAR_MIPNEAREST=5,q.NEAREST_LINEAR_MIPLINEAR=6,q.NEAREST_LINEAR=7,q.NEAREST_NEAREST=1,q.LINEAR_NEAREST_MIPNEAREST=9,q.LINEAR_NEAREST_MIPLINEAR=10,q.LINEAR_LINEAR=2,q.LINEAR_NEAREST=12,q.EXPLICIT_MODE=0,q.SPHERICAL_MODE=1,q.PLANAR_MODE=2,q.CUBIC_MODE=3,q.PROJECTION_MODE=4,q.SKYBOX_MODE=5,q.INVCUBIC_MODE=6,q.EQUIRECTANGULAR_MODE=7,q.FIXED_EQUIRECTANGULAR_MODE=8,q.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,q.CLAMP_ADDRESSMODE=0,q.WRAP_ADDRESSMODE=1,q.MIRROR_ADDRESSMODE=2,q.UseSerializedUrlIfAny=!1,(0,e.b)([(0,w.N)()],q.prototype,"url",void 0),(0,e.b)([(0,w.N)()],q.prototype,"uOffset",void 0),(0,e.b)([(0,w.N)()],q.prototype,"vOffset",void 0),(0,e.b)([(0,w.N)()],q.prototype,"uScale",void 0),(0,e.b)([(0,w.N)()],q.prototype,"vScale",void 0),(0,e.b)([(0,w.N)()],q.prototype,"uAng",void 0),(0,e.b)([(0,w.N)()],q.prototype,"vAng",void 0),(0,e.b)([(0,w.N)()],q.prototype,"wAng",void 0),(0,e.b)([(0,w.N)()],q.prototype,"uRotationCenter",void 0),(0,e.b)([(0,w.N)()],q.prototype,"vRotationCenter",void 0),(0,e.b)([(0,w.N)()],q.prototype,"wRotationCenter",void 0),(0,e.b)([(0,w.N)()],q.prototype,"homogeneousRotationInUVTransform",void 0),(0,e.b)([(0,w.N)()],q.prototype,"isBlocking",null),(0,U.h)("BABYLON.Texture",q),X.e._TextureParser=q.Parse},11167:(I,E,j)=>{j.d(E,{b:()=>w});var e=j(11117);class w{constructor(I,E,j,w){this.normal=new e.LE(I,E,j),this.d=w}re(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new w(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let I=this.normal.getHashCode();return I=397*I^this.d,I}normalize(){const I=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let E=0;return 0!==I&&(E=1/I),this.normal.x*=E,this.normal.y*=E,this.normal.z*=E,this.d*=E,this}transform(I){const E=w._TmpMatrix;I.invertToRef(E);const j=E.m,e=this.normal.x,z=this.normal.y,h=this.normal.z,t=this.d,U=e*j[0]+z*j[1]+h*j[2]+t*j[3],R=e*j[4]+z*j[5]+h*j[6]+t*j[7],P=e*j[8]+z*j[9]+h*j[10]+t*j[11],o=e*j[12]+z*j[13]+h*j[14]+t*j[15];return new w(U,R,P,o)}dotCoordinate(I){return this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z+this.d}copyFromPoints(I,E,j){const e=E.x-I.x,w=E.y-I.y,z=E.z-I.z,h=j.x-I.x,t=j.y-I.y,U=j.z-I.z,R=w*U-z*t,P=z*h-e*U,o=e*t-w*h,Z=Math.sqrt(R*R+P*P+o*o);let c;return c=0!==Z?1/Z:0,this.normal.x=R*c,this.normal.y=P*c,this.normal.z=o*c,this.d=-(this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z),this}isFrontFacingTo(I,E){return e.LE.Dot(this.normal,I)<=E}signedDistanceTo(I){return e.LE.Dot(I,this.normal)+this.d}static xE(I){return new w(I[0],I[1],I[2],I[3])}static FromPoints(I,E,j){const e=new w(0,0,0,0);return e.copyFromPoints(I,E,j),e}static FromPositionAndNormal(I,E){const j=new w(0,0,0,0);return this.FromPositionAndNormalToRef(I,E,j)}static FromPositionAndNormalToRef(I,E,j){return j.normal.U(E),j.normal.normalize(),j.d=-I.dot(j.normal),j}static SignedDistanceToPlaneFromPositionAndNormal(I,E,j){const w=-(E.x*I.x+E.y*I.y+E.z*I.z);return e.LE.Dot(j,E)+w}}w._TmpMatrix=e.Matrix.Identity()},11141:(I,E,j)=>{j.d(E,{e:()=>e});class e{constructor(I,E){this.width=I,this.height=E}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let I=0|this.width;return I=397*I^this.height,I}U(I){this.width=I.width,this.height=I.height}nz(I,E){return this.width=I,this.height=E,this}set(I,E){return this.nz(I,E)}multiplyByFloats(I,E){return new e(this.width*I,this.height*E)}clone(){return new e(this.width,this.height)}equals(I){return!!I&&(this.width===I.width&&this.height===I.height)}get surface(){return this.width*this.height}static Zero(){return new e(0,0)}add(I){return new e(this.width+I.width,this.height+I.height)}FE(I){return new e(this.width-I.width,this.height-I.height)}scale(I){return new e(this.width*I,this.height*I)}static Lerp(I,E,j){const w=I.width+(E.width-I.width)*j,z=I.height+(E.height-I.height)*j;return new e(w,z)}}},11110:(I,E,j)=>{j.d(E,{b:()=>z,e:()=>h});const e={},w={};function z(I){const E=I.getClassName();return w[E]||(w[E]={}),w[E]}function h(I){const E=I.getClassName();if(e[E])return e[E];e[E]={};const j=e[E];let z=I,h=E;for(;h;){const I=w[h];for(const w in I)j[w]=I[w];let E,e=!1;do{if(E=Object.getPrototypeOf(z),!E.getClassName){e=!0;break}if(E.getClassName()!==h)break;z=E}while(E);if(e)break;h=E.getClassName(),z=E}return j}},11106:(I,E,j)=>{j.d(E,{A:()=>Z,D:()=>F,G:()=>t,H:()=>P,K:()=>o,N:()=>h,c:()=>z,e:()=>X,i:()=>c,l:()=>U,o:()=>K,s:()=>R,v:()=>L,z:()=>C});var e=j(11110);function w(I,E){return(j,w)=>{const z=(0,e.b)(j);z[w]||(z[w]={type:I,sourceName:E})}}function z(I){return function(I){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(j,e)=>{const w=E||"_"+e;Object.defineProperty(j,e,{get:function(){return this[w]},set:function(E){var e;"function"===typeof(null===(e=this[w])||void 0===e?void 0:e.equals)&&this[w].equals(E)||this[w]!==E&&(this[w]=E,j[I].apply(this))},enumerable:!0,configurable:!0})}}(I,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function h(I){return w(0,I)}function t(I){return w(1,I)}function U(I){return w(2,I)}function R(I){return w(3,I)}function P(I){return w(4,I)}function o(I){return w(5,I)}function Z(I){return w(6,I)}function c(I){return w(7,I)}function K(I){return w(8,I)}function L(I){return w(9,I)}function F(I){return w(10,I)}function C(I){return w(12,I)}function X(I,E,j,e){const w=j.value;j.value=function(){let j=w;if("undefined"!==typeof _native&&_native[E]){const I=_native[E];j=e?function(){return e(...arguments)?I(...arguments):w(...arguments)}:I}return I[E]=j,j(...arguments)}}X.filter=function(I){return(E,j,e)=>X(E,j,e,I)}},11149:(I,E,j)=>{j.d(E,{e:()=>R});var e=j(10986),w=j(11158),z=j(11165),h=j(11117),t=j(11110);const U=function(I,E,j){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const z=I();w.c&&w.c.HasTags(E)&&w.c.AddTagsTo(z,w.c.GetTags(E,!0));const h=(0,t.e)(z),U={};for(const w in h){const I=h[w],t=E[w],P=I.type;if(void 0!==t&&null!==t&&("uniqueId"!==w||R.AllowLoadingUniqueId))switch(P){case 0:case 6:case 9:case 11:z[w]=t;break;case 1:e.cloneTexturesOnlyOnce&&U[t.uniqueId]?z[w]=U[t.uniqueId]:(z[w]=j||t.isRenderTarget?t:t.clone(),U[t.uniqueId]=z[w]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:z[w]=j?t:t.clone()}}return z};class R{static AppendSerializedAnimations(I,E){if(I.animations){E.animations=[];for(let j=0;j<I.animations.length;j++){const e=I.animations[j];E.animations.push(e.serialize())}}}static Serialize(I,E){E||(E={}),w.c&&(E.tags=w.c.GetTags(I));const j=(0,t.e)(I);for(const e in j){const w=j[e],z=w.sourceName||e,h=w.type,t=I[e];if(void 0!==t&&null!==t&&("uniqueId"!==e||R.AllowLoadingUniqueId))switch(h){case 0:E[z]=t;break;case 1:case 3:case 7:case 9:E[z]=t.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:E[z]=t.re();break;case 6:case 11:E[z]=t.id}}return E}static ParseProperties(I,E,j,e){e||(e="");const w=(0,t.e)(E);for(const t in w){const U=w[t],P=I[U.sourceName||t],o=U.type;if(void 0!==P&&null!==P&&("uniqueId"!==t||R.AllowLoadingUniqueId)){const I=E;switch(o){case 0:I[t]=P;break;case 1:j&&(I[t]=R._TextureParser(P,j,e));break;case 2:I[t]=z.qE.xE(P);break;case 3:I[t]=R._FresnelParametersParser(P);break;case 4:I[t]=h.Vector2.xE(P);break;case 5:I[t]=h.LE.xE(P);break;case 6:j&&(I[t]=j.getLastMeshById(P));break;case 7:I[t]=R._ColorCurvesParser(P);break;case 8:I[t]=z.hh.xE(P);break;case 9:I[t]=R._ImageProcessingConfigurationParser(P);break;case 10:I[t]=h.Quaternion.xE(P);break;case 11:j&&(I[t]=j.getCameraById(P));break;case 12:I[t]=h.Matrix.xE(P)}}}}static Parse(I,E,j){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const z=I();return w.c&&w.c.AddTagsTo(z,E.tags),R.ParseProperties(E,z,j,e),z}static Clone(I,E){return U(I,E,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(I,E){return U(I,E,!0)}}R.AllowLoadingUniqueId=!1,R._ImageProcessingConfigurationParser=I=>{throw(0,e.b)("ImageProcessingConfiguration")},R._FresnelParametersParser=I=>{throw(0,e.b)("FresnelParameters")},R._ColorCurvesParser=I=>{throw(0,e.b)("ColorCurves")},R._TextureParser=(I,E,j)=>{throw(0,e.b)("Texture")}},11158:(I,E,j)=>{j.d(E,{c:()=>w});class e{static Eval(I,E){return"true"===(I=I.match(/\([^()]*\)/g)?I.replace(/\([^()]*\)/g,(I=>(I=I.slice(1,I.length-1),e._HandleParenthesisContent(I,E)))):e._HandleParenthesisContent(I,E))||"false"!==I&&e.Eval(I,E)}static _HandleParenthesisContent(I,E){let j;E=E||(I=>"true"===I);const w=I.split("||");for(const z in w)if(Object.prototype.hasOwnProperty.call(w,z)){let I=e._SimplifyNegation(w[z].trim());const h=I.split("&&");if(h.length>1)for(let w=0;w<h.length;++w){const z=e._SimplifyNegation(h[w].trim());if(j="true"!==z&&"false"!==z?"!"===z[0]?!E(z.substring(1)):E(z):"true"===z,!j){I="false";break}}if(j||"true"===I){j=!0;break}j="true"!==I&&"false"!==I?"!"===I[0]?!E(I.substring(1)):E(I):"true"===I}return j?"true":"false"}static _SimplifyNegation(I){return"!true"===(I=(I=I.replace(/^[\s!]+/,(I=>(I=I.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?I="false":"!false"===I&&(I="true"),I}}class w{static EnableFor(I){I._tags=I._tags||{},I.hasTags=()=>w.HasTags(I),I.addTags=E=>w.AddTagsTo(I,E),I.removeTags=E=>w.RemoveTagsFrom(I,E),I.matchesTagsQuery=E=>w.MatchesQuery(I,E)}static DisableFor(I){delete I._tags,delete I.hasTags,delete I.addTags,delete I.removeTags,delete I.matchesTagsQuery}static HasTags(I){if(!I._tags)return!1;const E=I._tags;for(const j in E)if(Object.prototype.hasOwnProperty.call(E,j))return!0;return!1}static GetTags(I){let E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!I._tags)return null;if(E){const E=[];for(const j in I._tags)Object.prototype.hasOwnProperty.call(I._tags,j)&&!0===I._tags[j]&&E.push(j);return E.join(" ")}return I._tags}static AddTagsTo(I,E){if(!E)return;if("string"!==typeof E)return;const j=E.split(" ");for(const e of j)w._AddTagTo(I,e)}static _AddTagTo(I,E){""!==(E=E.trim())&&"true"!==E&&"false"!==E&&(E.match(/[\s]/)||E.match(/^([!]|([|]|[&]){2})/)||(w.EnableFor(I),I._tags[E]=!0))}static RemoveTagsFrom(I,E){if(!w.HasTags(I))return;const j=E.split(" ");for(const e in j)w._RemoveTagFrom(I,j[e])}static _RemoveTagFrom(I,E){delete I._tags[E]}static MatchesQuery(I,E){return void 0===E||(""===E?w.HasTags(I):e.Eval(E,(E=>w.HasTags(I)&&I._tags[E])))}}},11101:(I,E,j)=>{j.d(E,{b:()=>e});function e(I,E,j,e){var w,z=arguments.length,h=z<3?E:null===e?e=Object.getOwnPropertyDescriptor(E,j):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(I,E,j,e);else for(var t=I.length-1;t>=0;t--)(w=I[t])&&(h=(z<3?w(h):z>3?w(E,j,h):w(E,j))||h);return z>3&&h&&Object.defineProperty(E,j,h),h}Object.create;Object.create}}]);