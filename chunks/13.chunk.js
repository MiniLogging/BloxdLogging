"use strict";(self.hbnkweqmycf=self.hbnkweqmycf||[]).push([[13],{11699:(F,P,f)=>{f.d(P,{e:()=>c});let c=!1},11666:(F,P,f)=>{f.d(P,{b:()=>T});var c=f(11619),N=f(11628),q=f(11464),H=f(11639),A=f(11501),o=f(11596),j=(f(11510),f(11673));class i{get wrapU(){return this._wrapU}set wrapU(F){this._wrapU=F}get wrapV(){return this._wrapV}set wrapV(F){this._wrapV=F}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(F){this._texture&&(this._texture.isCube=F)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(F){this._texture&&(this._texture.is3D=F)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(F){this._texture&&(this._texture.is2DArray=F)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(F){return void 0!==(null===F||void 0===F?void 0:F.shareDepth)}constructor(F){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=j.d.Zero(),this._cachedBaseSize=j.d.Zero(),this._initialSamplingMode=2,this._texture=i._IsRenderTargetWrapper(F)?F.texture:F,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(F){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(F,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var u=f(11677);class T extends i{set ef(F){this._hasAlpha!==F&&(this._hasAlpha=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get ef(){return this._hasAlpha}set getAlphaFromRGB(F){this._getAlphaFromRGB!==F&&(this._getAlphaFromRGB=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(F){this._coordinatesIndex!==F&&(this._coordinatesIndex=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(F){this._coordinatesMode!==F&&(this._coordinatesMode=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(F){this._wrapU=F}get wrapV(){return this._wrapV}set wrapV(F){this._wrapV=F}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(F){this._texture?this._texture.isCube=F:this._isCube=F}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(F){this._texture&&(this._texture.is3D=F)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(F){this._texture&&(this._texture.is2DArray=F)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(F){var P;if(this._texture){if(this._texture._gammaSpace===F)return;this._texture._gammaSpace=F}else{if(this._gammaSpace===F)return;this._gammaSpace=F}null===(P=this.OF())||void 0===P||P.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(F){var P;F!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=F),null===(P=this.OF())||void 0===P||P.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(F){this._texture&&(this._texture._lodGenerationOffset=F)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(F){this._texture&&(this._texture._lodGenerationScale=F)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(F){this._texture&&(this._texture._linearSpecularLOD=F)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(F){this._texture&&(this._texture._irradianceTexture=F)}get uid(){return this._uid||(this._uid=(0,o.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(F){this._onDisposeObserver&&this.Mf.remove(this._onDisposeObserver),this._onDisposeObserver=this.Mf.add(F)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(F){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=T.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Mf=new q.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,F?T._IsScene(F)?this._scene=F:this._engine=F:this._scene=A.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=P,this._uid=null}OF(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return H.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return H.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(F){}get canRescale(){return!1}_getFromCache(F,P,f,c,N,q){const H=this._getEngine();if(!H)return null;const A=H._getUseSRGBBuffer(!!N,P),o=H.getLoadedTexturesCache();for(let j=0;j<o.length;j++){const H=o[j];if((void 0===N||A===H._useSRGBBuffer)&&(void 0===c||c===H.invertY)&&H.url===F&&H.generateMipMaps===!P&&(!f||f===H.samplingMode)&&(void 0===q||q===H.isCube))return H.incrementReferences(),H}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const F=this.OF();F&&F.markAllMaterialsAsDirty(1)}readPixels(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,H=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const j=this._getEngine();if(!j)return null;const i=this.getSize();let u=i.width,T=i.height;0!==P&&(u/=Math.pow(2,P),T/=Math.pow(2,P),u=Math.round(u),T=Math.round(T)),A=Math.min(u,A),o=Math.min(T,o);try{return this._texture.isCube?j._readTexturePixels(this._texture,A,o,F,P,f,c,N,q,H):j._readTexturePixels(this._texture,A,o,-1,P,f,c,N,q,H)}catch(Y){return null}}_readPixelsSync(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const q=this.getSize();let H=q.width,A=q.height;const o=this._getEngine();if(!o)return null;0!=P&&(H/=Math.pow(2,P),A/=Math.pow(2,P),H=Math.round(H),A=Math.round(A));try{return this._texture.isCube?o._readTexturePixelsSync(this._texture,H,A,F,P,f,c,N):o._readTexturePixelsSync(this._texture,H,A,-1,P,f,c,N)}catch(j){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const F=this._scene.textures.indexOf(this);if(F>=0&&this._scene.textures.splice(F,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const F=this._parentContainer.textures.indexOf(this);F>-1&&this._parentContainer.textures.splice(F,1),this._parentContainer=null}}this.Mf.notifyObservers(this),this.Mf.clear(),this.metadata=null,super.dispose()}serialize(){let F=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!F)return null;const P=u.e.Serialize(this);return u.e.AppendSerializedAnimations(this,P),P}static WhenAllReady(F,P){let f=F.length;if(0!==f)for(let c=0;c<F.length;c++){const N=F[c];if(N.isReady())0===--f&&P();else{const F=N.onLoadObservable;F?F.addOnce((()=>{0===--f&&P()})):0===--f&&P()}}else P()}static _IsScene(F){return"Scene"===F.getClassName()}}T.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,c.e)([(0,N.L)()],T.prototype,"uniqueId",void 0),(0,c.e)([(0,N.L)()],T.prototype,"name",void 0),(0,c.e)([(0,N.L)()],T.prototype,"displayName",void 0),(0,c.e)([(0,N.L)()],T.prototype,"metadata",void 0),(0,c.e)([(0,N.L)("ef")],T.prototype,"_hasAlpha",void 0),(0,c.e)([(0,N.L)("getAlphaFromRGB")],T.prototype,"_getAlphaFromRGB",void 0),(0,c.e)([(0,N.L)()],T.prototype,"level",void 0),(0,c.e)([(0,N.L)("coordinatesIndex")],T.prototype,"_coordinatesIndex",void 0),(0,c.e)([(0,N.L)()],T.prototype,"optimizeUVAllocation",void 0),(0,c.e)([(0,N.L)("coordinatesMode")],T.prototype,"_coordinatesMode",void 0),(0,c.e)([(0,N.L)()],T.prototype,"wrapU",null),(0,c.e)([(0,N.L)()],T.prototype,"wrapV",null),(0,c.e)([(0,N.L)()],T.prototype,"wrapR",void 0),(0,c.e)([(0,N.L)()],T.prototype,"anisotropicFilteringLevel",void 0),(0,c.e)([(0,N.L)()],T.prototype,"isCube",null),(0,c.e)([(0,N.L)()],T.prototype,"is3D",null),(0,c.e)([(0,N.L)()],T.prototype,"is2DArray",null),(0,c.e)([(0,N.L)()],T.prototype,"gammaSpace",null),(0,c.e)([(0,N.L)()],T.prototype,"invertZ",void 0),(0,c.e)([(0,N.L)()],T.prototype,"lodLevelInAlpha",void 0),(0,c.e)([(0,N.L)()],T.prototype,"lodGenerationOffset",null),(0,c.e)([(0,N.L)()],T.prototype,"lodGenerationScale",null),(0,c.e)([(0,N.L)()],T.prototype,"linearSpecularLOD",null),(0,c.e)([(0,N.B)()],T.prototype,"irradianceTexture",null),(0,c.e)([(0,N.L)()],T.prototype,"isRenderTarget",void 0)},11612:(F,P,f)=>{f.d(P,{e:()=>z});var c=f(11619),N=f(11628),q=f(11464),H=f(11639),A=f(11666),o=f(11587),j=f(11488),i=f(11538),u=f(11582),T=f(11697),Y=f(11521);function t(F,P){let f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const c=P.width,N=P.height;if(F instanceof Float32Array){let P=F.byteLength/F.BYTES_PER_ELEMENT;const f=new Uint8Array(P);for(;--P>=0;){let c=F[P];c<0?c=0:c>1&&(c=1),f[P]=255*c}F=f}const q=document.createElement("canvas");q.width=c,q.height=N;const H=q.getContext("2d");if(!H)return null;const A=H.createImageData(c,N);if(A.data.set(F),H.putImageData(A,0,0),f){const F=document.createElement("canvas");F.width=c,F.height=N;const P=F.getContext("2d");return P?(P.translate(0,N),P.scale(1,-1),P.drawImage(q,0,0),F.toDataURL("image/png")):null}return q.toDataURL("image/png")}function C(F){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const c=F.getInternalTexture();if(!c)return null;const N=F._readPixelsSync(P,f);return N?t(N,F.getSize(),c.invertY):null}async function L(F){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const c=F.getInternalTexture();if(!c)return null;const N=await F.readPixels(P,f);return N?t(N,F.getSize(),c.invertY):null}var J=f(11699),B=f(11677);class z extends A.b{static _CreateVideoTexture(F,P,f){arguments.length>5&&void 0!==arguments[5]||z.TRILINEAR_SAMPLINGMODE;throw(0,j.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(F){this._isBlocking=F}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(F,P,f,c){let N,H=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z.TRILINEAR_SAMPLINGMODE,A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,j=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],T=arguments.length>9?arguments[9]:void 0,Y=arguments.length>10?arguments[10]:void 0,t=arguments.length>11?arguments[11]:void 0,C=arguments.length>12?arguments[12]:void 0,L=arguments.length>13?arguments[13]:void 0;super(P),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new q.d,this._isBlocking=!0,this.name=F||"",this.url=F;let B=!1,Z=null,R=!0;"object"===typeof f&&null!==f?(N=f.noMipmap??!1,c=f.invertY??!J.e,H=f.samplingMode??z.TRILINEAR_SAMPLINGMODE,A=f.G??null,o=f.onError??null,j=f.buffer??null,u=f.deleteBuffer??!1,T=f.format,Y=f.mimeType,t=f.loaderOptions,C=f.creationFlags,B=f.useSRGBBuffer??!1,Z=f.internalTexture??null,R=f.gammaSpace??R,L=f.forcedExtension??L):N=!!f,this._gammaSpace=R,this._noMipmap=N,this._invertY=void 0===c?!J.e:c,this._initialSamplingMode=H,this._buffer=j,this._deleteBuffer=u,this._mimeType=Y,this._loaderOptions=t,this._creationFlags=C,this._useSRGBBuffer=B,this._forcedExtension=L,void 0!==T&&(this._format=T);const y=this.OF(),O=this._getEngine();if(!O)return;O.onBeforeTextureInitObservable.notifyObservers(this);const d=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),A&&A(),!this.isBlocking&&y&&y.resetCachedMaterial()},M=(F,P)=>{this._loadingError=!0,this._errorObject={message:F,exception:P},o&&o(F,P),z.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Z)return this._delayedOnLoad=d,void(this._delayedOnError=M);if(this._texture=Z??this._getFromCache(this.url,N,H,this._invertY,B,this.isCube),this._texture)if(this._texture.isReady)i.c.SetImmediate((()=>d()));else{const F=this._texture.onLoadedObservable.add(d);this._texture.onErrorObservable.add((P=>{var f;M(P.message,P.exception),null===(f=this._texture)||void 0===f||f.onLoadedObservable.remove(F)}))}else if(y&&y.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=d,this._delayedOnError=M;else{try{this._texture=O.createTexture(this.url,N,this._invertY,y,H,d,M,this._buffer,void 0,this._format,this._forcedExtension,Y,t,C,B)}catch(V){throw M("error loading",V),V}u&&(this._buffer=null)}}updateURL(F){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.OF().markAllMaterialsAsDirty(1,(F=>F.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=F),this.url=F,this._buffer=P,this._forcedExtension=c,this.delayLoadState=4,f&&(this._delayedOnLoad=f),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const F=this.OF();F&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?i.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=F.getEngine().createTexture(this.url,this._noMipmap,this._invertY,F,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(F,P,f,c){F*=this._cachedUScale,P*=this._cachedVScale,F-=this.uRotationCenter*this._cachedUScale,P-=this.vRotationCenter*this._cachedVScale,f-=this.wRotationCenter,H.tP.TransformCoordinatesFromFloatsToRef(F,P,f,this._rowGenerationMatrix,c),c.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,c.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,c.z+=this.wRotationCenter}getTextureMatrix(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*F===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*F,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=H.Matrix.Zero(),this._rowGenerationMatrix=new H.Matrix,this._t0=H.tP.Zero(),this._t1=H.tP.Zero(),this._t2=H.tP.Zero()),H.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(H.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,H.TmpVectors.Matrix[0]),H.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,H.TmpVectors.Matrix[1]),H.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,H.TmpVectors.Matrix[2]),H.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,H.TmpVectors.Matrix[3]),H.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(H.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(H.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(H.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Ou(this._t0),this._t2.Ou(this._t0),H.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const P=this.OF();if(!P)return this._cachedTextureMatrix;const f=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&f!==this._cachedIdentity3x2&&P.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const F=this.OF();if(!F)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==z.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===F.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=H.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=H.Matrix.Zero());const P=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case z.PLANAR_MODE:H.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case z.PROJECTION_MODE:{H.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const P=F.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=P.updateFlag,P.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:H.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return P&&F.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const F={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,G:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return B.e.Clone((()=>new z(this._texture?this._texture.url:null,this.OF(),F)),this)}serialize(){var F;const P=this.name;z.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const f=super.serialize(z._SerializeInternalTextureUniqueId);if(!f)return null;if(z.SerializeBuffers||z.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))f.base64String=this._buffer,f.name=f.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const F=this.mimeType||"image/png";f.base64String=`data:${F};base64,${(0,Y.k)(this._buffer)}`}else(z.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(f.base64String=!this._engine||this._engine._features.supportSyncTextureRead?C(this):L(this));var c;(f.invertY=this._invertY,f.samplingMode=this.samplingMode,f._creationFlags=this._creationFlags,f._useSRGBBuffer=this._useSRGBBuffer,z._SerializeInternalTextureUniqueId)&&(f.internalTextureUniqueId=null===(c=this._texture)||void 0===c?void 0:c.uniqueId);return f.internalTextureLabel=null===(F=this._texture)||void 0===F?void 0:F.label,f.noMipmap=this._noMipmap,this.name=P,f}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(F,P,f){if(F.customType){const c=u.d.Instantiate(F.customType).Parse(F,P,f);return F.samplingMode&&c.updateSamplingMode&&c._samplingMode&&c._samplingMode!==F.samplingMode&&c.updateSamplingMode(F.samplingMode),c}if(F.isCube&&!F.isRenderTarget)return z._CubeTextureParser(F,P,f);const c=void 0!==F.internalTextureUniqueId;if(!F.name&&!F.isRenderTarget&&!c)return null;let N;if(c){const f=P.getEngine().getLoadedTexturesCache();for(const P of f)if(P.uniqueId===F.internalTextureUniqueId){N=P;break}}const q=P=>{if(P&&P._texture&&(P._texture._cachedWrapU=null,P._texture._cachedWrapV=null,P._texture._cachedWrapR=null),F.samplingMode){const f=F.samplingMode;P&&P.samplingMode!==f&&P.updateSamplingMode(f)}if(P&&F.animations)for(let f=0;f<F.animations.length;f++){const c=F.animations[f],N=(0,o.c)("BABYLON.Animation");N&&P.animations.push(N.Parse(c))}P&&P._texture&&(c&&!N&&P._texture._setUniqueId(F.internalTextureUniqueId),P._texture.label=F.internalTextureLabel)};return B.e.Parse((()=>{let c=!0;if(F.noMipmap&&(c=!1),F.mirrorPlane){const f=z._CreateMirror(F.name,F.renderTargetSize,P,c);return f._waitingRenderList=F.renderList,f.mirrorPlane=T.e.zP(F.mirrorPlane),q(f),f}if(F.isRenderTarget){let f=null;if(F.isCube){if(P.reflectionProbes)for(let c=0;c<P.reflectionProbes.length;c++){const f=P.reflectionProbes[c];if(f.name===F.name)return f.cubeTexture}}else f=z._CreateRenderTargetTexture(F.name,F.renderTargetSize,P,c,F._creationFlags??0),f._waitingRenderList=F.renderList;return q(f),f}if(F.isVideo){const N=z._CreateVideoTexture(f+(F.url||F.name),f+(F.src||F.url),P,c,F.invertY,F.samplingMode,F.settings||{});return q(N),N}{let H;if(F.base64String&&!N)H=z.CreateFromBase64String(F.base64String,F.base64String,P,!c,F.invertY,F.samplingMode,(()=>{q(H)}),F._creationFlags??0,F._useSRGBBuffer??!1),H.name=F.name;else{let A;A=F.name&&(F.name.indexOf("://")>0||F.name.startsWith("data:"))?F.name:f+F.name,F.url&&(F.url.startsWith("data:")||z.UseSerializedUrlIfAny)&&(A=F.url);const o={noMipmap:!c,invertY:F.invertY,samplingMode:F.samplingMode,G:()=>{q(H)},internalTexture:N};H=new z(A,P,o)}return H}}),F,P)}static CreateFromBase64String(F,P,f,c,N){let q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z.TRILINEAR_SAMPLINGMODE;return new z("data:"+P,f,c,N,q,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(F,P,f){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],N=arguments.length>4?arguments[4]:void 0,q=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],H=arguments.length>6&&void 0!==arguments[6]?arguments[6]:z.TRILINEAR_SAMPLINGMODE,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,j=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,i=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0;return"data:"!==F.substring(0,5)&&(F="data:"+F),new z(F,f,N,q,H,A,o,P,c,j,void 0,void 0,i,u)}}z.SerializeBuffers=!0,z.ForceSerializeBuffers=!1,z.OnTextureLoadErrorObservable=new q.d,z._SerializeInternalTextureUniqueId=!1,z._CubeTextureParser=(F,P,f)=>{throw(0,j.e)("CubeTexture")},z._CreateMirror=(F,P,f,c)=>{throw(0,j.e)("MirrorTexture")},z._CreateRenderTargetTexture=(F,P,f,c,N)=>{throw(0,j.e)("RenderTargetTexture")},z.NEAREST_SAMPLINGMODE=1,z.NEAREST_NEAREST_MIPLINEAR=8,z.BILINEAR_SAMPLINGMODE=2,z.LINEAR_LINEAR_MIPNEAREST=11,z.TRILINEAR_SAMPLINGMODE=3,z.LINEAR_LINEAR_MIPLINEAR=3,z.NEAREST_NEAREST_MIPNEAREST=4,z.NEAREST_LINEAR_MIPNEAREST=5,z.NEAREST_LINEAR_MIPLINEAR=6,z.NEAREST_LINEAR=7,z.NEAREST_NEAREST=1,z.LINEAR_NEAREST_MIPNEAREST=9,z.LINEAR_NEAREST_MIPLINEAR=10,z.LINEAR_LINEAR=2,z.LINEAR_NEAREST=12,z.EXPLICIT_MODE=0,z.SPHERICAL_MODE=1,z.PLANAR_MODE=2,z.CUBIC_MODE=3,z.PROJECTION_MODE=4,z.SKYBOX_MODE=5,z.INVCUBIC_MODE=6,z.EQUIRECTANGULAR_MODE=7,z.FIXED_EQUIRECTANGULAR_MODE=8,z.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,z.CLAMP_ADDRESSMODE=0,z.WRAP_ADDRESSMODE=1,z.MIRROR_ADDRESSMODE=2,z.UseSerializedUrlIfAny=!1,(0,c.e)([(0,N.L)()],z.prototype,"url",void 0),(0,c.e)([(0,N.L)()],z.prototype,"uOffset",void 0),(0,c.e)([(0,N.L)()],z.prototype,"vOffset",void 0),(0,c.e)([(0,N.L)()],z.prototype,"uScale",void 0),(0,c.e)([(0,N.L)()],z.prototype,"vScale",void 0),(0,c.e)([(0,N.L)()],z.prototype,"uAng",void 0),(0,c.e)([(0,N.L)()],z.prototype,"vAng",void 0),(0,c.e)([(0,N.L)()],z.prototype,"wAng",void 0),(0,c.e)([(0,N.L)()],z.prototype,"uRotationCenter",void 0),(0,c.e)([(0,N.L)()],z.prototype,"vRotationCenter",void 0),(0,c.e)([(0,N.L)()],z.prototype,"wRotationCenter",void 0),(0,c.e)([(0,N.L)()],z.prototype,"homogeneousRotationInUVTransform",void 0),(0,c.e)([(0,N.L)()],z.prototype,"isBlocking",null),(0,o.f)("BABYLON.Texture",z),B.e._TextureParser=z.Parse},11697:(F,P,f)=>{f.d(P,{e:()=>N});var c=f(11639);class N{constructor(F,P,f,N){this.normal=new c.tP(F,P,f),this.d=N}pf(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new N(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let F=this.normal.getHashCode();return F=397*F^this.d,F}normalize(){const F=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let P=0;return 0!==F&&(P=1/F),this.normal.x*=P,this.normal.y*=P,this.normal.z*=P,this.d*=P,this}transform(F){const P=N._TmpMatrix;F.invertToRef(P);const f=P.m,c=this.normal.x,q=this.normal.y,H=this.normal.z,A=this.d,o=c*f[0]+q*f[1]+H*f[2]+A*f[3],j=c*f[4]+q*f[5]+H*f[6]+A*f[7],i=c*f[8]+q*f[9]+H*f[10]+A*f[11],u=c*f[12]+q*f[13]+H*f[14]+A*f[15];return new N(o,j,i,u)}dotCoordinate(F){return this.normal.x*F.x+this.normal.y*F.y+this.normal.z*F.z+this.d}copyFromPoints(F,P,f){const c=P.x-F.x,N=P.y-F.y,q=P.z-F.z,H=f.x-F.x,A=f.y-F.y,o=f.z-F.z,j=N*o-q*A,i=q*H-c*o,u=c*A-N*H,T=Math.sqrt(j*j+i*i+u*u);let Y;return Y=0!==T?1/T:0,this.normal.x=j*Y,this.normal.y=i*Y,this.normal.z=u*Y,this.d=-(this.normal.x*F.x+this.normal.y*F.y+this.normal.z*F.z),this}isFrontFacingTo(F,P){return c.tP.Dot(this.normal,F)<=P}signedDistanceTo(F){return c.tP.Dot(F,this.normal)+this.d}static zP(F){return new N(F[0],F[1],F[2],F[3])}static FromPoints(F,P,f){const c=new N(0,0,0,0);return c.copyFromPoints(F,P,f),c}static FromPositionAndNormal(F,P){const f=new N(0,0,0,0);return this.FromPositionAndNormalToRef(F,P,f)}static FromPositionAndNormalToRef(F,P,f){return f.normal.q(P),f.normal.normalize(),f.d=-F.dot(f.normal),f}static SignedDistanceToPlaneFromPositionAndNormal(F,P,f){const N=-(P.x*F.x+P.y*F.y+P.z*F.z);return c.tP.Dot(f,P)+N}}N._TmpMatrix=c.Matrix.Identity()},11673:(F,P,f)=>{f.d(P,{d:()=>c});class c{constructor(F,P){this.width=F,this.height=P}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let F=0|this.width;return F=397*F^this.height,F}q(F){this.width=F.width,this.height=F.height}fc(F,P){return this.width=F,this.height=P,this}set(F,P){return this.fc(F,P)}multiplyByFloats(F,P){return new c(this.width*F,this.height*P)}clone(){return new c(this.width,this.height)}equals(F){return!!F&&(this.width===F.width&&this.height===F.height)}get surface(){return this.width*this.height}static Zero(){return new c(0,0)}add(F){return new c(this.width+F.width,this.height+F.height)}CP(F){return new c(this.width-F.width,this.height-F.height)}scale(F){return new c(this.width*F,this.height*F)}static Lerp(F,P,f){const N=F.width+(P.width-F.width)*f,q=F.height+(P.height-F.height)*f;return new c(N,q)}}},11634:(F,P,f)=>{f.d(P,{c:()=>q,g:()=>H});const c={},N={};function q(F){const P=F.getClassName();return N[P]||(N[P]={}),N[P]}function H(F){const P=F.getClassName();if(c[P])return c[P];c[P]={};const f=c[P];let q=F,H=P;for(;H;){const F=N[H];for(const N in F)f[N]=F[N];let P,c=!1;do{if(P=Object.getPrototypeOf(q),!P.getClassName){c=!0;break}if(P.getClassName()!==H)break;q=P}while(P);if(c)break;H=P.getClassName(),q=P}return f}},11628:(F,P,f)=>{f.d(P,{B:()=>A,E:()=>i,H:()=>u,L:()=>H,e:()=>q,g:()=>B,i:()=>Y,j:()=>o,k:()=>t,o:()=>j,r:()=>C,t:()=>J,u:()=>T,y:()=>L});var c=f(11634);function N(F,P){return(f,N)=>{const q=(0,c.c)(f);q[N]||(q[N]={type:F,sourceName:P})}}function q(F){return function(F){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(f,c)=>{const N=P||"_"+c;Object.defineProperty(f,c,{get:function(){return this[N]},set:function(P){var c;"function"===typeof(null===(c=this[N])||void 0===c?void 0:c.equals)&&this[N].equals(P)||this[N]!==P&&(this[N]=P,f[F].apply(this))},enumerable:!0,configurable:!0})}}(F,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function H(F){return N(0,F)}function A(F){return N(1,F)}function o(F){return N(2,F)}function j(F){return N(3,F)}function i(F){return N(4,F)}function u(F){return N(5,F)}function T(F){return N(6,F)}function Y(F){return N(7,F)}function t(F){return N(8,F)}function C(F){return N(9,F)}function L(F){return N(10,F)}function J(F){return N(12,F)}function B(F,P,f,c){const N=f.value;f.value=function(){let f=N;if("undefined"!==typeof _native&&_native[P]){const F=_native[P];f=c?function(){return c(...arguments)?F(...arguments):N(...arguments)}:F}return F[P]=f,f(...arguments)}}B.filter=function(F){return(P,f,c)=>B(P,f,c,F)}},11677:(F,P,f)=>{f.d(P,{e:()=>j});var c=f(11488),N=f(11681),q=f(11690),H=f(11639),A=f(11634);const o=function(F,P,f){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const q=F();N.b&&N.b.HasTags(P)&&N.b.AddTagsTo(q,N.b.GetTags(P,!0));const H=(0,A.g)(q),o={};for(const N in H){const F=H[N],A=P[N],i=F.type;if(void 0!==A&&null!==A&&("uniqueId"!==N||j.AllowLoadingUniqueId))switch(i){case 0:case 6:case 9:case 11:q[N]=A;break;case 1:c.cloneTexturesOnlyOnce&&o[A.uniqueId]?q[N]=o[A.uniqueId]:(q[N]=f||A.isRenderTarget?A:A.clone(),o[A.uniqueId]=q[N]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:q[N]=f?A:A.clone()}}return q};class j{static AppendSerializedAnimations(F,P){if(F.animations){P.animations=[];for(let f=0;f<F.animations.length;f++){const c=F.animations[f];P.animations.push(c.serialize())}}}static Serialize(F,P){P||(P={}),N.b&&(P.tags=N.b.GetTags(F));const f=(0,A.g)(F);for(const c in f){const N=f[c],q=N.sourceName||c,H=N.type,A=F[c];if(void 0!==A&&null!==A&&("uniqueId"!==c||j.AllowLoadingUniqueId))switch(H){case 0:P[q]=A;break;case 1:case 3:case 7:case 9:P[q]=A.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:P[q]=A.pf();break;case 6:case 11:P[q]=A.id}}return P}static ParseProperties(F,P,f,c){c||(c="");const N=(0,A.g)(P);for(const A in N){const o=N[A],i=F[o.sourceName||A],u=o.type;if(void 0!==i&&null!==i&&("uniqueId"!==A||j.AllowLoadingUniqueId)){const F=P;switch(u){case 0:F[A]=i;break;case 1:f&&(F[A]=j._TextureParser(i,f,c));break;case 2:F[A]=q.BP.zP(i);break;case 3:F[A]=j._FresnelParametersParser(i);break;case 4:F[A]=H.Vector2.zP(i);break;case 5:F[A]=H.tP.zP(i);break;case 6:f&&(F[A]=f.getLastMeshById(i));break;case 7:F[A]=j._ColorCurvesParser(i);break;case 8:F[A]=q.qc.zP(i);break;case 9:F[A]=j._ImageProcessingConfigurationParser(i);break;case 10:F[A]=H.Quaternion.zP(i);break;case 11:f&&(F[A]=f.getCameraById(i));break;case 12:F[A]=H.Matrix.zP(i)}}}}static Parse(F,P,f){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const q=F();return N.b&&N.b.AddTagsTo(q,P.tags),j.ParseProperties(P,q,f,c),q}static Clone(F,P){return o(F,P,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(F,P){return o(F,P,!0)}}j.AllowLoadingUniqueId=!1,j._ImageProcessingConfigurationParser=F=>{throw(0,c.e)("ImageProcessingConfiguration")},j._FresnelParametersParser=F=>{throw(0,c.e)("FresnelParameters")},j._ColorCurvesParser=F=>{throw(0,c.e)("ColorCurves")},j._TextureParser=(F,P,f)=>{throw(0,c.e)("Texture")}},11681:(F,P,f)=>{f.d(P,{b:()=>N});class c{static Eval(F,P){return"true"===(F=F.match(/\([^()]*\)/g)?F.replace(/\([^()]*\)/g,(F=>(F=F.slice(1,F.length-1),c._HandleParenthesisContent(F,P)))):c._HandleParenthesisContent(F,P))||"false"!==F&&c.Eval(F,P)}static _HandleParenthesisContent(F,P){let f;P=P||(F=>"true"===F);const N=F.split("||");for(const q in N)if(Object.prototype.hasOwnProperty.call(N,q)){let F=c._SimplifyNegation(N[q].trim());const H=F.split("&&");if(H.length>1)for(let N=0;N<H.length;++N){const q=c._SimplifyNegation(H[N].trim());if(f="true"!==q&&"false"!==q?"!"===q[0]?!P(q.substring(1)):P(q):"true"===q,!f){F="false";break}}if(f||"true"===F){f=!0;break}f="true"!==F&&"false"!==F?"!"===F[0]?!P(F.substring(1)):P(F):"true"===F}return f?"true":"false"}static _SimplifyNegation(F){return"!true"===(F=(F=F.replace(/^[\s!]+/,(F=>(F=F.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?F="false":"!false"===F&&(F="true"),F}}class N{static EnableFor(F){F._tags=F._tags||{},F.hasTags=()=>N.HasTags(F),F.addTags=P=>N.AddTagsTo(F,P),F.removeTags=P=>N.RemoveTagsFrom(F,P),F.matchesTagsQuery=P=>N.MatchesQuery(F,P)}static DisableFor(F){delete F._tags,delete F.hasTags,delete F.addTags,delete F.removeTags,delete F.matchesTagsQuery}static HasTags(F){if(!F._tags)return!1;const P=F._tags;for(const f in P)if(Object.prototype.hasOwnProperty.call(P,f))return!0;return!1}static GetTags(F){let P=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!F._tags)return null;if(P){const P=[];for(const f in F._tags)Object.prototype.hasOwnProperty.call(F._tags,f)&&!0===F._tags[f]&&P.push(f);return P.join(" ")}return F._tags}static AddTagsTo(F,P){if(!P)return;if("string"!==typeof P)return;const f=P.split(" ");for(const c of f)N._AddTagTo(F,c)}static _AddTagTo(F,P){""!==(P=P.trim())&&"true"!==P&&"false"!==P&&(P.match(/[\s]/)||P.match(/^([!]|([|]|[&]){2})/)||(N.EnableFor(F),F._tags[P]=!0))}static RemoveTagsFrom(F,P){if(!N.HasTags(F))return;const f=P.split(" ");for(const c in f)N._RemoveTagFrom(F,f[c])}static _RemoveTagFrom(F,P){delete F._tags[P]}static MatchesQuery(F,P){return void 0===P||(""===P?N.HasTags(F):c.Eval(P,(P=>N.HasTags(F)&&F._tags[P])))}}},11619:(F,P,f)=>{f.d(P,{e:()=>c});function c(F,P,f,c){var N,q=arguments.length,H=q<3?P:null===c?c=Object.getOwnPropertyDescriptor(P,f):c;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)H=Reflect.decorate(F,P,f,c);else for(var A=F.length-1;A>=0;A--)(N=F[A])&&(H=(q<3?N(H):q>3?N(P,f,H):N(P,f))||H);return q>3&&H&&Object.defineProperty(P,f,H),H}Object.create;Object.create}}]);