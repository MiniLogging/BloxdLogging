"use strict";(self.yg1iw12lizp=self.yg1iw12lizp||[]).push([[13],{12646:(L,U,x)=>{x.d(U,{b:()=>mL});let mL=!1},12613:(L,U,x)=>{x.d(U,{e:()=>b});var mL=x(12571),p=x(12574),G=x(12391),F=x(12589),a=x(12440),o=x(12550),A=(x(12448),x(12621));class r{get wrapU(){return this._wrapU}set wrapU(L){this._wrapU=L}get wrapV(){return this._wrapV}set wrapV(L){this._wrapV=L}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(L){this._texture&&(this._texture.isCube=L)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(L){this._texture&&(this._texture.is3D=L)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(L){this._texture&&(this._texture.is2DArray=L)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(L){return void 0!==(null===L||void 0===L?void 0:L.shareDepth)}constructor(L){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=A.c.Zero(),this._cachedBaseSize=A.c.Zero(),this._initialSamplingMode=2,this._texture=r._IsRenderTargetWrapper(L)?L.texture:L,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(L){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(L,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var h=x(12625);class b extends r{set Ha(L){this._hasAlpha!==L&&(this._hasAlpha=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get Ha(){return this._hasAlpha}set getAlphaFromRGB(L){this._getAlphaFromRGB!==L&&(this._getAlphaFromRGB=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(L){this._coordinatesIndex!==L&&(this._coordinatesIndex=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(L){this._coordinatesMode!==L&&(this._coordinatesMode=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(L){this._wrapU=L}get wrapV(){return this._wrapV}set wrapV(L){this._wrapV=L}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(L){this._texture?this._texture.isCube=L:this._isCube=L}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(L){this._texture&&(this._texture.is3D=L)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(L){this._texture&&(this._texture.is2DArray=L)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(L){var U;if(this._texture){if(this._texture._gammaSpace===L)return;this._texture._gammaSpace=L}else{if(this._gammaSpace===L)return;this._gammaSpace=L}null===(U=this.PL())||void 0===U||U.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(L){var U;L!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=L),null===(U=this.PL())||void 0===U||U.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(L){this._texture&&(this._texture._lodGenerationOffset=L)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(L){this._texture&&(this._texture._lodGenerationScale=L)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(L){this._texture&&(this._texture._linearSpecularLOD=L)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(L){this._texture&&(this._texture._irradianceTexture=L)}get uid(){return this._uid||(this._uid=(0,o.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(L){this._onDisposeObserver&&this.oa.remove(this._onDisposeObserver),this._onDisposeObserver=this.oa.add(L)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=b.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.oa=new G.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,L?b._IsScene(L)?this._scene=L:this._engine=L:this._scene=a.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=U,this._uid=null}PL(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return F.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return F.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(L){}get canRescale(){return!1}_getFromCache(L,U,x,mL,p,G){const F=this._getEngine();if(!F)return null;const a=F._getUseSRGBBuffer(!!p,U),o=F.getLoadedTexturesCache();for(let A=0;A<o.length;A++){const F=o[A];if((void 0===p||a===F._useSRGBBuffer)&&(void 0===mL||mL===F.invertY)&&F.url===L&&F.generateMipMaps===!U&&(!x||x===F.samplingMode)&&(void 0===G||G===F.isCube))return F.incrementReferences(),F}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const L=this.PL();L&&L.markAllMaterialsAsDirty(1)}readPixels(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,mL=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const A=this._getEngine();if(!A)return null;const r=this.getSize();let h=r.width,b=r.height;0!==U&&(h/=Math.pow(2,U),b/=Math.pow(2,U),h=Math.round(h),b=Math.round(b)),a=Math.min(h,a),o=Math.min(b,o);try{return this._texture.isCube?A._readTexturePixels(this._texture,a,o,L,U,x,mL,p,G,F):A._readTexturePixels(this._texture,a,o,-1,U,x,mL,p,G,F)}catch(E){return null}}_readPixelsSync(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,mL=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],p=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const G=this.getSize();let F=G.width,a=G.height;const o=this._getEngine();if(!o)return null;0!=U&&(F/=Math.pow(2,U),a/=Math.pow(2,U),F=Math.round(F),a=Math.round(a));try{return this._texture.isCube?o._readTexturePixelsSync(this._texture,F,a,L,U,x,mL,p):o._readTexturePixelsSync(this._texture,F,a,-1,U,x,mL,p)}catch(A){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const L=this._scene.textures.indexOf(this);if(L>=0&&this._scene.textures.splice(L,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const L=this._parentContainer.textures.indexOf(this);L>-1&&this._parentContainer.textures.splice(L,1),this._parentContainer=null}}this.oa.notifyObservers(this),this.oa.clear(),this.metadata=null,super.dispose()}serialize(){let L=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!L)return null;const U=h.e.Serialize(this);return h.e.AppendSerializedAnimations(this,U),U}static WhenAllReady(L,U){let x=L.length;if(0!==x)for(let mL=0;mL<L.length;mL++){const p=L[mL];if(p.isReady())0===--x&&U();else{const L=p.onLoadObservable;L?L.addOnce((()=>{0===--x&&U()})):0===--x&&U()}}else U()}static _IsScene(L){return"Scene"===L.getClassName()}}b.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,mL.d)([(0,p.R)()],b.prototype,"uniqueId",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"name",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"displayName",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"metadata",void 0),(0,mL.d)([(0,p.R)("Ha")],b.prototype,"_hasAlpha",void 0),(0,mL.d)([(0,p.R)("getAlphaFromRGB")],b.prototype,"_getAlphaFromRGB",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"level",void 0),(0,mL.d)([(0,p.R)("coordinatesIndex")],b.prototype,"_coordinatesIndex",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"optimizeUVAllocation",void 0),(0,mL.d)([(0,p.R)("coordinatesMode")],b.prototype,"_coordinatesMode",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"wrapU",null),(0,mL.d)([(0,p.R)()],b.prototype,"wrapV",null),(0,mL.d)([(0,p.R)()],b.prototype,"wrapR",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"anisotropicFilteringLevel",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"isCube",null),(0,mL.d)([(0,p.R)()],b.prototype,"is3D",null),(0,mL.d)([(0,p.R)()],b.prototype,"is2DArray",null),(0,mL.d)([(0,p.R)()],b.prototype,"gammaSpace",null),(0,mL.d)([(0,p.R)()],b.prototype,"invertZ",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"lodLevelInAlpha",void 0),(0,mL.d)([(0,p.R)()],b.prototype,"lodGenerationOffset",null),(0,mL.d)([(0,p.R)()],b.prototype,"lodGenerationScale",null),(0,mL.d)([(0,p.R)()],b.prototype,"linearSpecularLOD",null),(0,mL.d)([(0,p.J)()],b.prototype,"irradianceTexture",null),(0,mL.d)([(0,p.R)()],b.prototype,"isRenderTarget",void 0)},12565:(L,U,x)=>{x.d(U,{e:()=>q});var mL=x(12571),p=x(12574),G=x(12391),F=x(12589),a=x(12613),o=x(12547),A=x(12426),r=x(12475),h=x(12540),b=x(12639),E=x(12457);function Y(L,U){let x=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const mL=U.width,p=U.height;if(L instanceof Float32Array){let U=L.byteLength/L.BYTES_PER_ELEMENT;const x=new Uint8Array(U);for(;--U>=0;){let mL=L[U];mL<0?mL=0:mL>1&&(mL=1),x[U]=255*mL}L=x}const G=document.createElement("canvas");G.width=mL,G.height=p;const F=G.getContext("2d");if(!F)return null;const a=F.createImageData(mL,p);if(a.data.set(L),F.putImageData(a,0,0),x){const L=document.createElement("canvas");L.width=mL,L.height=p;const U=L.getContext("2d");return U?(U.translate(0,p),U.scale(1,-1),U.drawImage(G,0,0),L.toDataURL("image/png")):null}return G.toDataURL("image/png")}function S(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const mL=L.getInternalTexture();if(!mL)return null;const p=L._readPixelsSync(U,x);return p?Y(p,L.getSize(),mL.invertY):null}async function V(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const mL=L.getInternalTexture();if(!mL)return null;const p=await L.readPixels(U,x);return p?Y(p,L.getSize(),mL.invertY):null}var H=x(12646),Q=x(12625);class q extends a.e{static _CreateVideoTexture(L,U,x){arguments.length>5&&void 0!==arguments[5]||q.TRILINEAR_SAMPLINGMODE;throw(0,A.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(L){this._isBlocking=L}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(L,U,x,mL){let p,F=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q.TRILINEAR_SAMPLINGMODE,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=arguments.length>9?arguments[9]:void 0,E=arguments.length>10?arguments[10]:void 0,Y=arguments.length>11?arguments[11]:void 0,S=arguments.length>12?arguments[12]:void 0,V=arguments.length>13?arguments[13]:void 0;super(U),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new G.c,this._isBlocking=!0,this.name=L||"",this.url=L;let Q=!1,f=null,v=!0;"object"===typeof x&&null!==x?(p=x.noMipmap??!1,mL=x.invertY??!H.b,F=x.samplingMode??q.TRILINEAR_SAMPLINGMODE,a=x.C??null,o=x.onError??null,A=x.buffer??null,h=x.deleteBuffer??!1,b=x.format,E=x.mimeType,Y=x.loaderOptions,S=x.creationFlags,Q=x.useSRGBBuffer??!1,f=x.internalTexture??null,v=x.gammaSpace??v,V=x.forcedExtension??V):p=!!x,this._gammaSpace=v,this._noMipmap=p,this._invertY=void 0===mL?!H.b:mL,this._initialSamplingMode=F,this._buffer=A,this._deleteBuffer=h,this._mimeType=E,this._loaderOptions=Y,this._creationFlags=S,this._useSRGBBuffer=Q,this._forcedExtension=V,void 0!==b&&(this._format=b);const D=this.PL(),P=this._getEngine();if(!P)return;P.onBeforeTextureInitObservable.notifyObservers(this);const d=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),a&&a(),!this.isBlocking&&D&&D.resetCachedMaterial()},K=(L,U)=>{this._loadingError=!0,this._errorObject={message:L,exception:U},o&&o(L,U),q.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!f)return this._delayedOnLoad=d,void(this._delayedOnError=K);if(this._texture=f??this._getFromCache(this.url,p,F,this._invertY,Q,this.isCube),this._texture)if(this._texture.isReady)r.e.SetImmediate((()=>d()));else{const L=this._texture.onLoadedObservable.add(d);this._texture.onErrorObservable.add((U=>{var x;K(U.message,U.exception),null===(x=this._texture)||void 0===x||x.onLoadedObservable.remove(L)}))}else if(D&&D.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=d,this._delayedOnError=K;else{try{this._texture=P.createTexture(this.url,p,this._invertY,D,F,d,K,this._buffer,void 0,this._format,this._forcedExtension,E,Y,S,Q)}catch(l){throw K("error loading",l),l}h&&(this._buffer=null)}}updateURL(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,x=arguments.length>2?arguments[2]:void 0,mL=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.PL().markAllMaterialsAsDirty(1,(L=>L.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=L),this.url=L,this._buffer=U,this._forcedExtension=mL,this.delayLoadState=4,x&&(this._delayedOnLoad=x),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const L=this.PL();L&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?r.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=L.getEngine().createTexture(this.url,this._noMipmap,this._invertY,L,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(L,U,x,mL){L*=this._cachedUScale,U*=this._cachedVScale,L-=this.uRotationCenter*this._cachedUScale,U-=this.vRotationCenter*this._cachedVScale,x-=this.wRotationCenter,F.YU.TransformCoordinatesFromFloatsToRef(L,U,x,this._rowGenerationMatrix,mL),mL.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,mL.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,mL.z+=this.wRotationCenter}getTextureMatrix(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*L===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*L,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=F.Matrix.Zero(),this._rowGenerationMatrix=new F.Matrix,this._t0=F.YU.Zero(),this._t1=F.YU.Zero(),this._t2=F.YU.Zero()),F.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(F.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,F.TmpVectors.Matrix[0]),F.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,F.TmpVectors.Matrix[1]),F.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,F.TmpVectors.Matrix[2]),F.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,F.TmpVectors.Matrix[3]),F.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(F.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(F.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(F.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.dh(this._t0),this._t2.dh(this._t0),F.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const U=this.PL();if(!U)return this._cachedTextureMatrix;const x=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&x!==this._cachedIdentity3x2&&U.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const L=this.PL();if(!L)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==q.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===L.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=F.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=F.Matrix.Zero());const U=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case q.PLANAR_MODE:F.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case q.PROJECTION_MODE:{F.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const U=L.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=U.updateFlag,U.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:F.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return U&&L.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const L={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,C:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Q.e.Clone((()=>new q(this._texture?this._texture.url:null,this.PL(),L)),this)}serialize(){var L;const U=this.name;q.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const x=super.serialize(q._SerializeInternalTextureUniqueId);if(!x)return null;if(q.SerializeBuffers||q.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))x.base64String=this._buffer,x.name=x.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const L=this.mimeType||"image/png";x.base64String=`data:${L};base64,${(0,E.k)(this._buffer)}`}else(q.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(x.base64String=!this._engine||this._engine._features.supportSyncTextureRead?S(this):V(this));var mL;(x.invertY=this._invertY,x.samplingMode=this.samplingMode,x._creationFlags=this._creationFlags,x._useSRGBBuffer=this._useSRGBBuffer,q._SerializeInternalTextureUniqueId)&&(x.internalTextureUniqueId=null===(mL=this._texture)||void 0===mL?void 0:mL.uniqueId);return x.internalTextureLabel=null===(L=this._texture)||void 0===L?void 0:L.label,x.noMipmap=this._noMipmap,this.name=U,x}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(L,U,x){if(L.customType){const mL=h.e.Instantiate(L.customType).Parse(L,U,x);return L.samplingMode&&mL.updateSamplingMode&&mL._samplingMode&&mL._samplingMode!==L.samplingMode&&mL.updateSamplingMode(L.samplingMode),mL}if(L.isCube&&!L.isRenderTarget)return q._CubeTextureParser(L,U,x);const mL=void 0!==L.internalTextureUniqueId;if(!L.name&&!L.isRenderTarget&&!mL)return null;let p;if(mL){const x=U.getEngine().getLoadedTexturesCache();for(const U of x)if(U.uniqueId===L.internalTextureUniqueId){p=U;break}}const G=U=>{if(U&&U._texture&&(U._texture._cachedWrapU=null,U._texture._cachedWrapV=null,U._texture._cachedWrapR=null),L.samplingMode){const x=L.samplingMode;U&&U.samplingMode!==x&&U.updateSamplingMode(x)}if(U&&L.animations)for(let x=0;x<L.animations.length;x++){const mL=L.animations[x],p=(0,o.b)("BABYLON.Animation");p&&U.animations.push(p.Parse(mL))}U&&U._texture&&(mL&&!p&&U._texture._setUniqueId(L.internalTextureUniqueId),U._texture.label=L.internalTextureLabel)};return Q.e.Parse((()=>{let mL=!0;if(L.noMipmap&&(mL=!1),L.mirrorPlane){const x=q._CreateMirror(L.name,L.renderTargetSize,U,mL);return x._waitingRenderList=L.renderList,x.mirrorPlane=b.d.qU(L.mirrorPlane),G(x),x}if(L.isRenderTarget){let x=null;if(L.isCube){if(U.reflectionProbes)for(let mL=0;mL<U.reflectionProbes.length;mL++){const x=U.reflectionProbes[mL];if(x.name===L.name)return x.cubeTexture}}else x=q._CreateRenderTargetTexture(L.name,L.renderTargetSize,U,mL,L._creationFlags??0),x._waitingRenderList=L.renderList;return G(x),x}if(L.isVideo){const p=q._CreateVideoTexture(x+(L.url||L.name),x+(L.src||L.url),U,mL,L.invertY,L.samplingMode,L.settings||{});return G(p),p}{let F;if(L.base64String&&!p)F=q.CreateFromBase64String(L.base64String,L.base64String,U,!mL,L.invertY,L.samplingMode,(()=>{G(F)}),L._creationFlags??0,L._useSRGBBuffer??!1),F.name=L.name;else{let a;a=L.name&&(L.name.indexOf("://")>0||L.name.startsWith("data:"))?L.name:x+L.name,L.url&&(L.url.startsWith("data:")||q.UseSerializedUrlIfAny)&&(a=L.url);const o={noMipmap:!mL,invertY:L.invertY,samplingMode:L.samplingMode,C:()=>{G(F)},internalTexture:p};F=new q(a,U,o)}return F}}),L,U)}static CreateFromBase64String(L,U,x,mL,p){let G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:q.TRILINEAR_SAMPLINGMODE;return new q("data:"+U,x,mL,p,G,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,L,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(L,U,x){let mL=arguments.length>3&&void 0!==arguments[3]&&arguments[3],p=arguments.length>4?arguments[4]:void 0,G=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:q.TRILINEAR_SAMPLINGMODE,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,A=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,r=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return"data:"!==L.substring(0,5)&&(L="data:"+L),new q(L,x,p,G,F,a,o,U,mL,A,void 0,void 0,r,h)}}q.SerializeBuffers=!0,q.ForceSerializeBuffers=!1,q.OnTextureLoadErrorObservable=new G.c,q._SerializeInternalTextureUniqueId=!1,q._CubeTextureParser=(L,U,x)=>{throw(0,A.c)("CubeTexture")},q._CreateMirror=(L,U,x,mL)=>{throw(0,A.c)("MirrorTexture")},q._CreateRenderTargetTexture=(L,U,x,mL,p)=>{throw(0,A.c)("RenderTargetTexture")},q.NEAREST_SAMPLINGMODE=1,q.NEAREST_NEAREST_MIPLINEAR=8,q.BILINEAR_SAMPLINGMODE=2,q.LINEAR_LINEAR_MIPNEAREST=11,q.TRILINEAR_SAMPLINGMODE=3,q.LINEAR_LINEAR_MIPLINEAR=3,q.NEAREST_NEAREST_MIPNEAREST=4,q.NEAREST_LINEAR_MIPNEAREST=5,q.NEAREST_LINEAR_MIPLINEAR=6,q.NEAREST_LINEAR=7,q.NEAREST_NEAREST=1,q.LINEAR_NEAREST_MIPNEAREST=9,q.LINEAR_NEAREST_MIPLINEAR=10,q.LINEAR_LINEAR=2,q.LINEAR_NEAREST=12,q.EXPLICIT_MODE=0,q.SPHERICAL_MODE=1,q.PLANAR_MODE=2,q.CUBIC_MODE=3,q.PROJECTION_MODE=4,q.SKYBOX_MODE=5,q.INVCUBIC_MODE=6,q.EQUIRECTANGULAR_MODE=7,q.FIXED_EQUIRECTANGULAR_MODE=8,q.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,q.CLAMP_ADDRESSMODE=0,q.WRAP_ADDRESSMODE=1,q.MIRROR_ADDRESSMODE=2,q.UseSerializedUrlIfAny=!1,(0,mL.d)([(0,p.R)()],q.prototype,"url",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"uOffset",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"vOffset",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"uScale",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"vScale",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"uAng",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"vAng",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"wAng",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"uRotationCenter",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"vRotationCenter",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"wRotationCenter",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"homogeneousRotationInUVTransform",void 0),(0,mL.d)([(0,p.R)()],q.prototype,"isBlocking",null),(0,o.d)("BABYLON.Texture",q),Q.e._TextureParser=q.Parse},12639:(L,U,x)=>{x.d(U,{d:()=>p});var mL=x(12589);class p{constructor(L,U,x,p){this.normal=new mL.YU(L,U,x),this.d=p}Va(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new p(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let L=this.normal.getHashCode();return L=397*L^this.d,L}normalize(){const L=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let U=0;return 0!==L&&(U=1/L),this.normal.x*=U,this.normal.y*=U,this.normal.z*=U,this.d*=U,this}transform(L){const U=p._TmpMatrix;L.invertToRef(U);const x=U.m,mL=this.normal.x,G=this.normal.y,F=this.normal.z,a=this.d,o=mL*x[0]+G*x[1]+F*x[2]+a*x[3],A=mL*x[4]+G*x[5]+F*x[6]+a*x[7],r=mL*x[8]+G*x[9]+F*x[10]+a*x[11],h=mL*x[12]+G*x[13]+F*x[14]+a*x[15];return new p(o,A,r,h)}dotCoordinate(L){return this.normal.x*L.x+this.normal.y*L.y+this.normal.z*L.z+this.d}copyFromPoints(L,U,x){const mL=U.x-L.x,p=U.y-L.y,G=U.z-L.z,F=x.x-L.x,a=x.y-L.y,o=x.z-L.z,A=p*o-G*a,r=G*F-mL*o,h=mL*a-p*F,b=Math.sqrt(A*A+r*r+h*h);let E;return E=0!==b?1/b:0,this.normal.x=A*E,this.normal.y=r*E,this.normal.z=h*E,this.d=-(this.normal.x*L.x+this.normal.y*L.y+this.normal.z*L.z),this}isFrontFacingTo(L,U){return mL.YU.Dot(this.normal,L)<=U}signedDistanceTo(L){return mL.YU.Dot(L,this.normal)+this.d}static qU(L){return new p(L[0],L[1],L[2],L[3])}static FromPoints(L,U,x){const mL=new p(0,0,0,0);return mL.copyFromPoints(L,U,x),mL}static FromPositionAndNormal(L,U){const x=new p(0,0,0,0);return this.FromPositionAndNormalToRef(L,U,x)}static FromPositionAndNormalToRef(L,U,x){return x.normal.p(U),x.normal.normalize(),x.d=-L.dot(x.normal),x}static SignedDistanceToPlaneFromPositionAndNormal(L,U,x){const p=-(U.x*L.x+U.y*L.y+U.z*L.z);return mL.YU.Dot(x,U)+p}}p._TmpMatrix=mL.Matrix.Identity()},12621:(L,U,x)=>{x.d(U,{c:()=>mL});class mL{constructor(L,U){this.width=L,this.height=U}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let L=0|this.width;return L=397*L^this.height,L}p(L){this.width=L.width,this.height=L.height}da(L,U){return this.width=L,this.height=U,this}set(L,U){return this.da(L,U)}multiplyByFloats(L,U){return new mL(this.width*L,this.height*U)}clone(){return new mL(this.width,this.height)}equals(L){return!!L&&(this.width===L.width&&this.height===L.height)}get surface(){return this.width*this.height}static Zero(){return new mL(0,0)}add(L){return new mL(this.width+L.width,this.height+L.height)}SU(L){return new mL(this.width-L.width,this.height-L.height)}scale(L){return new mL(this.width*L,this.height*L)}static Lerp(L,U,x){const p=L.width+(U.width-L.width)*x,G=L.height+(U.height-L.height)*x;return new mL(p,G)}}},12582:(L,U,x)=>{x.d(U,{e:()=>G,f:()=>F});const mL={},p={};function G(L){const U=L.getClassName();return p[U]||(p[U]={}),p[U]}function F(L){const U=L.getClassName();if(mL[U])return mL[U];mL[U]={};const x=mL[U];let G=L,F=U;for(;F;){const L=p[F];for(const p in L)x[p]=L[p];let U,mL=!1;do{if(U=Object.getPrototypeOf(G),!U.getClassName){mL=!0;break}if(U.getClassName()!==F)break;G=U}while(U);if(mL)break;F=U.getClassName(),G=U}return x}},12574:(L,U,x)=>{x.d(U,{B:()=>H,C:()=>b,G:()=>V,J:()=>a,N:()=>r,Q:()=>h,R:()=>F,d:()=>G,g:()=>Q,i:()=>E,m:()=>o,q:()=>Y,t:()=>A,x:()=>S});var mL=x(12582);function p(L,U){return(x,p)=>{const G=(0,mL.e)(x);G[p]||(G[p]={type:L,sourceName:U})}}function G(L){return function(L){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(x,mL)=>{const p=U||"_"+mL;Object.defineProperty(x,mL,{get:function(){return this[p]},set:function(U){var mL;"function"===typeof(null===(mL=this[p])||void 0===mL?void 0:mL.equals)&&this[p].equals(U)||this[p]!==U&&(this[p]=U,x[L].apply(this))},enumerable:!0,configurable:!0})}}(L,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function F(L){return p(0,L)}function a(L){return p(1,L)}function o(L){return p(2,L)}function A(L){return p(3,L)}function r(L){return p(4,L)}function h(L){return p(5,L)}function b(L){return p(6,L)}function E(L){return p(7,L)}function Y(L){return p(8,L)}function S(L){return p(9,L)}function V(L){return p(10,L)}function H(L){return p(12,L)}function Q(L,U,x,mL){const p=x.value;x.value=function(){let x=p;if("undefined"!==typeof _native&&_native[U]){const L=_native[U];x=mL?function(){return mL(...arguments)?L(...arguments):p(...arguments)}:L}return L[U]=x,x(...arguments)}}Q.filter=function(L){return(U,x,mL)=>Q(U,x,mL,L)}},12625:(L,U,x)=>{x.d(U,{e:()=>A});var mL=x(12426),p=x(12632),G=x(12637),F=x(12589),a=x(12582);const o=function(L,U,x){let mL=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const G=L();p.e&&p.e.HasTags(U)&&p.e.AddTagsTo(G,p.e.GetTags(U,!0));const F=(0,a.f)(G),o={};for(const p in F){const L=F[p],a=U[p],r=L.type;if(void 0!==a&&null!==a&&("uniqueId"!==p||A.AllowLoadingUniqueId))switch(r){case 0:case 6:case 9:case 11:G[p]=a;break;case 1:mL.cloneTexturesOnlyOnce&&o[a.uniqueId]?G[p]=o[a.uniqueId]:(G[p]=x||a.isRenderTarget?a:a.clone(),o[a.uniqueId]=G[p]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:G[p]=x?a:a.clone()}}return G};class A{static AppendSerializedAnimations(L,U){if(L.animations){U.animations=[];for(let x=0;x<L.animations.length;x++){const mL=L.animations[x];U.animations.push(mL.serialize())}}}static Serialize(L,U){U||(U={}),p.e&&(U.tags=p.e.GetTags(L));const x=(0,a.f)(L);for(const mL in x){const p=x[mL],G=p.sourceName||mL,F=p.type,a=L[mL];if(void 0!==a&&null!==a&&("uniqueId"!==mL||A.AllowLoadingUniqueId))switch(F){case 0:U[G]=a;break;case 1:case 3:case 7:case 9:U[G]=a.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:U[G]=a.Va();break;case 6:case 11:U[G]=a.id}}return U}static ParseProperties(L,U,x,mL){mL||(mL="");const p=(0,a.f)(U);for(const a in p){const o=p[a],r=L[o.sourceName||a],h=o.type;if(void 0!==r&&null!==r&&("uniqueId"!==a||A.AllowLoadingUniqueId)){const L=U;switch(h){case 0:L[a]=r;break;case 1:x&&(L[a]=A._TextureParser(r,x,mL));break;case 2:L[a]=G.QU.qU(r);break;case 3:L[a]=A._FresnelParametersParser(r);break;case 4:L[a]=F.Vector2.qU(r);break;case 5:L[a]=F.YU.qU(r);break;case 6:x&&(L[a]=x.getLastMeshById(r));break;case 7:L[a]=A._ColorCurvesParser(r);break;case 8:L[a]=G.ia.qU(r);break;case 9:L[a]=A._ImageProcessingConfigurationParser(r);break;case 10:L[a]=F.Quaternion.qU(r);break;case 11:x&&(L[a]=x.getCameraById(r));break;case 12:L[a]=F.Matrix.qU(r)}}}}static Parse(L,U,x){let mL=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const G=L();return p.e&&p.e.AddTagsTo(G,U.tags),A.ParseProperties(U,G,x,mL),G}static Clone(L,U){return o(L,U,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(L,U){return o(L,U,!0)}}A.AllowLoadingUniqueId=!1,A._ImageProcessingConfigurationParser=L=>{throw(0,mL.c)("ImageProcessingConfiguration")},A._FresnelParametersParser=L=>{throw(0,mL.c)("FresnelParameters")},A._ColorCurvesParser=L=>{throw(0,mL.c)("ColorCurves")},A._TextureParser=(L,U,x)=>{throw(0,mL.c)("Texture")}},12632:(L,U,x)=>{x.d(U,{e:()=>p});class mL{static Eval(L,U){return"true"===(L=L.match(/\([^()]*\)/g)?L.replace(/\([^()]*\)/g,(L=>(L=L.slice(1,L.length-1),mL._HandleParenthesisContent(L,U)))):mL._HandleParenthesisContent(L,U))||"false"!==L&&mL.Eval(L,U)}static _HandleParenthesisContent(L,U){let x;U=U||(L=>"true"===L);const p=L.split("||");for(const G in p)if(Object.prototype.hasOwnProperty.call(p,G)){let L=mL._SimplifyNegation(p[G].trim());const F=L.split("&&");if(F.length>1)for(let p=0;p<F.length;++p){const G=mL._SimplifyNegation(F[p].trim());if(x="true"!==G&&"false"!==G?"!"===G[0]?!U(G.substring(1)):U(G):"true"===G,!x){L="false";break}}if(x||"true"===L){x=!0;break}x="true"!==L&&"false"!==L?"!"===L[0]?!U(L.substring(1)):U(L):"true"===L}return x?"true":"false"}static _SimplifyNegation(L){return"!true"===(L=(L=L.replace(/^[\s!]+/,(L=>(L=L.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?L="false":"!false"===L&&(L="true"),L}}class p{static EnableFor(L){L._tags=L._tags||{},L.hasTags=()=>p.HasTags(L),L.addTags=U=>p.AddTagsTo(L,U),L.removeTags=U=>p.RemoveTagsFrom(L,U),L.matchesTagsQuery=U=>p.MatchesQuery(L,U)}static DisableFor(L){delete L._tags,delete L.hasTags,delete L.addTags,delete L.removeTags,delete L.matchesTagsQuery}static HasTags(L){if(!L._tags)return!1;const U=L._tags;for(const x in U)if(Object.prototype.hasOwnProperty.call(U,x))return!0;return!1}static GetTags(L){let U=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!L._tags)return null;if(U){const U=[];for(const x in L._tags)Object.prototype.hasOwnProperty.call(L._tags,x)&&!0===L._tags[x]&&U.push(x);return U.join(" ")}return L._tags}static AddTagsTo(L,U){if(!U)return;if("string"!==typeof U)return;const x=U.split(" ");for(const mL of x)p._AddTagTo(L,mL)}static _AddTagTo(L,U){""!==(U=U.trim())&&"true"!==U&&"false"!==U&&(U.match(/[\s]/)||U.match(/^([!]|([|]|[&]){2})/)||(p.EnableFor(L),L._tags[U]=!0))}static RemoveTagsFrom(L,U){if(!p.HasTags(L))return;const x=U.split(" ");for(const mL in x)p._RemoveTagFrom(L,x[mL])}static _RemoveTagFrom(L,U){delete L._tags[U]}static MatchesQuery(L,U){return void 0===U||(""===U?p.HasTags(L):mL.Eval(U,(U=>p.HasTags(L)&&L._tags[U])))}}},12571:(L,U,x)=>{x.d(U,{d:()=>mL});function mL(L,U,x,mL){var p,G=arguments.length,F=G<3?U:null===mL?mL=Object.getOwnPropertyDescriptor(U,x):mL;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)F=Reflect.decorate(L,U,x,mL);else for(var a=L.length-1;a>=0;a--)(p=L[a])&&(F=(G<3?p(F):G>3?p(U,x,F):p(U,x))||F);return G>3&&F&&Object.defineProperty(U,x,F),F}Object.create;Object.create}}]);