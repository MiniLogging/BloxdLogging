"use strict";(self.hmihoa2fs98=self.hmihoa2fs98||[]).push([[13],{11741:(b,d,P)=>{P.d(d,{e:()=>G});let G=!1},11707:(b,d,P)=>{P.d(d,{b:()=>s});var G=P(11663),W=P(11670),i=P(11487),q=P(11681),C=P(11535),J=P(11643),L=(P(11539),P(11714));class x{get wrapU(){return this._wrapU}set wrapU(b){this._wrapU=b}get wrapV(){return this._wrapV}set wrapV(b){this._wrapV=b}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(b){this._texture&&(this._texture.isCube=b)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(b){this._texture&&(this._texture.is3D=b)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(b){this._texture&&(this._texture.is2DArray=b)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(b){return void 0!==(null===b||void 0===b?void 0:b.shareDepth)}constructor(b){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=L.e.Zero(),this._cachedBaseSize=L.e.Zero(),this._initialSamplingMode=2,this._texture=x._IsRenderTargetWrapper(b)?b.texture:b,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(b){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(b,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var Y=P(11716);class s extends x{set ad(b){this._hasAlpha!==b&&(this._hasAlpha=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get ad(){return this._hasAlpha}set getAlphaFromRGB(b){this._getAlphaFromRGB!==b&&(this._getAlphaFromRGB=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(b){this._coordinatesIndex!==b&&(this._coordinatesIndex=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(b){this._coordinatesMode!==b&&(this._coordinatesMode=b,this._scene&&this._scene.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(b){this._wrapU=b}get wrapV(){return this._wrapV}set wrapV(b){this._wrapV=b}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(b){this._texture?this._texture.isCube=b:this._isCube=b}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(b){this._texture&&(this._texture.is3D=b)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(b){this._texture&&(this._texture.is2DArray=b)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(b){var d;if(this._texture){if(this._texture._gammaSpace===b)return;this._texture._gammaSpace=b}else{if(this._gammaSpace===b)return;this._gammaSpace=b}null===(d=this.Xb())||void 0===d||d.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(b){var d;b!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=b),null===(d=this.Xb())||void 0===d||d.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(b){this._texture&&(this._texture._lodGenerationOffset=b)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(b){this._texture&&(this._texture._lodGenerationScale=b)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(b){this._texture&&(this._texture._linearSpecularLOD=b)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(b){this._texture&&(this._texture._irradianceTexture=b)}get uid(){return this._uid||(this._uid=(0,J.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(b){this._onDisposeObserver&&this.Zd.remove(this._onDisposeObserver),this._onDisposeObserver=this.Zd.add(b)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Zd=new i.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,b?s._IsScene(b)?this._scene=b:this._engine=b:this._scene=C.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=d,this._uid=null}Xb(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(b){}get canRescale(){return!1}_getFromCache(b,d,P,G,W,i){const q=this._getEngine();if(!q)return null;const C=q._getUseSRGBBuffer(!!W,d),J=q.getLoadedTexturesCache();for(let L=0;L<J.length;L++){const q=J[L];if((void 0===W||C===q._useSRGBBuffer)&&(void 0===G||G===q.invertY)&&q.url===b&&q.generateMipMaps===!d&&(!P||P===q.samplingMode)&&(void 0===i||i===q.isCube))return q.incrementReferences(),q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const b=this.Xb();b&&b.markAllMaterialsAsDirty(1)}readPixels(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,G=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],W=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,C=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,J=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const L=this._getEngine();if(!L)return null;const x=this.getSize();let Y=x.width,s=x.height;0!==d&&(Y/=Math.pow(2,d),s/=Math.pow(2,d),Y=Math.round(Y),s=Math.round(s)),C=Math.min(Y,C),J=Math.min(s,J);try{return this._texture.isCube?L._readTexturePixels(this._texture,C,J,b,d,P,G,W,i,q):L._readTexturePixels(this._texture,C,J,-1,d,P,G,W,i,q)}catch(E){return null}}_readPixelsSync(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,G=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],W=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const i=this.getSize();let q=i.width,C=i.height;const J=this._getEngine();if(!J)return null;0!=d&&(q/=Math.pow(2,d),C/=Math.pow(2,d),q=Math.round(q),C=Math.round(C));try{return this._texture.isCube?J._readTexturePixelsSync(this._texture,q,C,b,d,P,G,W):J._readTexturePixelsSync(this._texture,q,C,-1,d,P,G,W)}catch(L){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const b=this._scene.textures.indexOf(this);if(b>=0&&this._scene.textures.splice(b,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const b=this._parentContainer.textures.indexOf(this);b>-1&&this._parentContainer.textures.splice(b,1),this._parentContainer=null}}this.Zd.notifyObservers(this),this.Zd.clear(),this.metadata=null,super.dispose()}serialize(){let b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!b)return null;const d=Y.c.Serialize(this);return Y.c.AppendSerializedAnimations(this,d),d}static WhenAllReady(b,d){let P=b.length;if(0!==P)for(let G=0;G<b.length;G++){const W=b[G];if(W.isReady())0===--P&&d();else{const b=W.onLoadObservable;b?b.addOnce((()=>{0===--P&&d()})):0===--P&&d()}}else d()}static _IsScene(b){return"Scene"===b.getClassName()}}s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,G.d)([(0,W.G)()],s.prototype,"uniqueId",void 0),(0,G.d)([(0,W.G)()],s.prototype,"name",void 0),(0,G.d)([(0,W.G)()],s.prototype,"displayName",void 0),(0,G.d)([(0,W.G)()],s.prototype,"metadata",void 0),(0,G.d)([(0,W.G)("ad")],s.prototype,"_hasAlpha",void 0),(0,G.d)([(0,W.G)("getAlphaFromRGB")],s.prototype,"_getAlphaFromRGB",void 0),(0,G.d)([(0,W.G)()],s.prototype,"level",void 0),(0,G.d)([(0,W.G)("coordinatesIndex")],s.prototype,"_coordinatesIndex",void 0),(0,G.d)([(0,W.G)()],s.prototype,"optimizeUVAllocation",void 0),(0,G.d)([(0,W.G)("coordinatesMode")],s.prototype,"_coordinatesMode",void 0),(0,G.d)([(0,W.G)()],s.prototype,"wrapU",null),(0,G.d)([(0,W.G)()],s.prototype,"wrapV",null),(0,G.d)([(0,W.G)()],s.prototype,"wrapR",void 0),(0,G.d)([(0,W.G)()],s.prototype,"anisotropicFilteringLevel",void 0),(0,G.d)([(0,W.G)()],s.prototype,"isCube",null),(0,G.d)([(0,W.G)()],s.prototype,"is3D",null),(0,G.d)([(0,W.G)()],s.prototype,"is2DArray",null),(0,G.d)([(0,W.G)()],s.prototype,"gammaSpace",null),(0,G.d)([(0,W.G)()],s.prototype,"invertZ",void 0),(0,G.d)([(0,W.G)()],s.prototype,"lodLevelInAlpha",void 0),(0,G.d)([(0,W.G)()],s.prototype,"lodGenerationOffset",null),(0,G.d)([(0,W.G)()],s.prototype,"lodGenerationScale",null),(0,G.d)([(0,W.G)()],s.prototype,"linearSpecularLOD",null),(0,G.d)([(0,W.B)()],s.prototype,"irradianceTexture",null),(0,G.d)([(0,W.G)()],s.prototype,"isRenderTarget",void 0)},11658:(b,d,P)=>{P.d(d,{d:()=>Z});var G=P(11663),W=P(11670),i=P(11487),q=P(11681),C=P(11707),J=P(11639),L=P(11525),x=P(11569),Y=P(11636),s=P(11733),E=P(11551);function w(b,d){let P=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const G=d.width,W=d.height;if(b instanceof Float32Array){let d=b.byteLength/b.BYTES_PER_ELEMENT;const P=new Uint8Array(d);for(;--d>=0;){let G=b[d];G<0?G=0:G>1&&(G=1),P[d]=255*G}b=P}const i=document.createElement("canvas");i.width=G,i.height=W;const q=i.getContext("2d");if(!q)return null;const C=q.createImageData(G,W);if(C.data.set(b),q.putImageData(C,0,0),P){const b=document.createElement("canvas");b.width=G,b.height=W;const d=b.getContext("2d");return d?(d.translate(0,W),d.scale(1,-1),d.drawImage(i,0,0),b.toDataURL("image/png")):null}return i.toDataURL("image/png")}function t(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const G=b.getInternalTexture();if(!G)return null;const W=b._readPixelsSync(d,P);return W?w(W,b.getSize(),G.invertY):null}async function r(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const G=b.getInternalTexture();if(!G)return null;const W=await b.readPixels(d,P);return W?w(W,b.getSize(),G.invertY):null}var B=P(11741),n=P(11716);class Z extends C.b{static _CreateVideoTexture(b,d,P){arguments.length>5&&void 0!==arguments[5]||Z.TRILINEAR_SAMPLINGMODE;throw(0,L.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(b){this._isBlocking=b}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(b,d,P,G){let W,q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z.TRILINEAR_SAMPLINGMODE,C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,J=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,L=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Y=arguments.length>8&&void 0!==arguments[8]&&arguments[8],s=arguments.length>9?arguments[9]:void 0,E=arguments.length>10?arguments[10]:void 0,w=arguments.length>11?arguments[11]:void 0,t=arguments.length>12?arguments[12]:void 0,r=arguments.length>13?arguments[13]:void 0;super(d),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new i.d,this._isBlocking=!0,this.name=b||"",this.url=b;let n=!1,o=null,A=!0;"object"===typeof P&&null!==P?(W=P.noMipmap??!1,G=P.invertY??!B.e,q=P.samplingMode??Z.TRILINEAR_SAMPLINGMODE,C=P.h??null,J=P.onError??null,L=P.buffer??null,Y=P.deleteBuffer??!1,s=P.format,E=P.mimeType,w=P.loaderOptions,t=P.creationFlags,n=P.useSRGBBuffer??!1,o=P.internalTexture??null,A=P.gammaSpace??A,r=P.forcedExtension??r):W=!!P,this._gammaSpace=A,this._noMipmap=W,this._invertY=void 0===G?!B.e:G,this._initialSamplingMode=q,this._buffer=L,this._deleteBuffer=Y,this._mimeType=E,this._loaderOptions=w,this._creationFlags=t,this._useSRGBBuffer=n,this._forcedExtension=r,void 0!==s&&(this._format=s);const f=this.Xb(),g=this._getEngine();if(!g)return;g.onBeforeTextureInitObservable.notifyObservers(this);const X=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),C&&C(),!this.isBlocking&&f&&f.resetCachedMaterial()},u=(b,d)=>{this._loadingError=!0,this._errorObject={message:b,exception:d},J&&J(b,d),Z.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!o)return this._delayedOnLoad=X,void(this._delayedOnError=u);if(this._texture=o??this._getFromCache(this.url,W,q,this._invertY,n,this.isCube),this._texture)if(this._texture.isReady)x.c.SetImmediate((()=>X()));else{const b=this._texture.onLoadedObservable.add(X);this._texture.onErrorObservable.add((d=>{var P;u(d.message,d.exception),null===(P=this._texture)||void 0===P||P.onLoadedObservable.remove(b)}))}else if(f&&f.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=X,this._delayedOnError=u;else{try{this._texture=g.createTexture(this.url,W,this._invertY,f,q,X,u,this._buffer,void 0,this._format,this._forcedExtension,E,w,t,n)}catch(M){throw u("error loading",M),M}Y&&(this._buffer=null)}}updateURL(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2?arguments[2]:void 0,G=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Xb().markAllMaterialsAsDirty(1,(b=>b.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=b),this.url=b,this._buffer=d,this._forcedExtension=G,this.delayLoadState=4,P&&(this._delayedOnLoad=P),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const b=this.Xb();b&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?x.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=b.getEngine().createTexture(this.url,this._noMipmap,this._invertY,b,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(b,d,P,G){b*=this._cachedUScale,d*=this._cachedVScale,b-=this.uRotationCenter*this._cachedUScale,d-=this.vRotationCenter*this._cachedVScale,P-=this.wRotationCenter,q.ed.TransformCoordinatesFromFloatsToRef(b,d,P,this._rowGenerationMatrix,G),G.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,G.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,G.z+=this.wRotationCenter}getTextureMatrix(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*b===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*b,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=q.Matrix.Zero(),this._rowGenerationMatrix=new q.Matrix,this._t0=q.ed.Zero(),this._t1=q.ed.Zero(),this._t2=q.ed.Zero()),q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,q.TmpVectors.Matrix[0]),q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,q.TmpVectors.Matrix[1]),q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,q.TmpVectors.Matrix[2]),q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,q.TmpVectors.Matrix[3]),q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.GY(this._t0),this._t2.GY(this._t0),q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const d=this.Xb();if(!d)return this._cachedTextureMatrix;const P=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&P!==this._cachedIdentity3x2&&d.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const b=this.Xb();if(!b)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==Z.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===b.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=q.Matrix.Zero());const d=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case Z.PLANAR_MODE:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case Z.PROJECTION_MODE:{q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const d=b.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=d.updateFlag,d.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return d&&b.markAllMaterialsAsDirty(1,(b=>b.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const b={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,h:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return n.c.Clone((()=>new Z(this._texture?this._texture.url:null,this.Xb(),b)),this)}serialize(){var b;const d=this.name;Z.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const P=super.serialize(Z._SerializeInternalTextureUniqueId);if(!P)return null;if(Z.SerializeBuffers||Z.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))P.base64String=this._buffer,P.name=P.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const b=this.mimeType||"image/png";P.base64String=`data:${b};base64,${(0,E.l)(this._buffer)}`}else(Z.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(P.base64String=!this._engine||this._engine._features.supportSyncTextureRead?t(this):r(this));var G;(P.invertY=this._invertY,P.samplingMode=this.samplingMode,P._creationFlags=this._creationFlags,P._useSRGBBuffer=this._useSRGBBuffer,Z._SerializeInternalTextureUniqueId)&&(P.internalTextureUniqueId=null===(G=this._texture)||void 0===G?void 0:G.uniqueId);return P.internalTextureLabel=null===(b=this._texture)||void 0===b?void 0:b.label,P.noMipmap=this._noMipmap,this.name=d,P}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(b,d,P){if(b.customType){const G=Y.c.Instantiate(b.customType).Parse(b,d,P);return b.samplingMode&&G.updateSamplingMode&&G._samplingMode&&G._samplingMode!==b.samplingMode&&G.updateSamplingMode(b.samplingMode),G}if(b.isCube&&!b.isRenderTarget)return Z._CubeTextureParser(b,d,P);const G=void 0!==b.internalTextureUniqueId;if(!b.name&&!b.isRenderTarget&&!G)return null;let W;if(G){const P=d.getEngine().getLoadedTexturesCache();for(const d of P)if(d.uniqueId===b.internalTextureUniqueId){W=d;break}}const i=d=>{if(d&&d._texture&&(d._texture._cachedWrapU=null,d._texture._cachedWrapV=null,d._texture._cachedWrapR=null),b.samplingMode){const P=b.samplingMode;d&&d.samplingMode!==P&&d.updateSamplingMode(P)}if(d&&b.animations)for(let P=0;P<b.animations.length;P++){const G=b.animations[P],W=(0,J.d)("BABYLON.Animation");W&&d.animations.push(W.Parse(G))}d&&d._texture&&(G&&!W&&d._texture._setUniqueId(b.internalTextureUniqueId),d._texture.label=b.internalTextureLabel)};return n.c.Parse((()=>{let G=!0;if(b.noMipmap&&(G=!1),b.mirrorPlane){const P=Z._CreateMirror(b.name,b.renderTargetSize,d,G);return P._waitingRenderList=b.renderList,P.mirrorPlane=s.d.Od(b.mirrorPlane),i(P),P}if(b.isRenderTarget){let P=null;if(b.isCube){if(d.reflectionProbes)for(let G=0;G<d.reflectionProbes.length;G++){const P=d.reflectionProbes[G];if(P.name===b.name)return P.cubeTexture}}else P=Z._CreateRenderTargetTexture(b.name,b.renderTargetSize,d,G,b._creationFlags??0),P._waitingRenderList=b.renderList;return i(P),P}if(b.isVideo){const W=Z._CreateVideoTexture(P+(b.url||b.name),P+(b.src||b.url),d,G,b.invertY,b.samplingMode,b.settings||{});return i(W),W}{let q;if(b.base64String&&!W)q=Z.CreateFromBase64String(b.base64String,b.base64String,d,!G,b.invertY,b.samplingMode,(()=>{i(q)}),b._creationFlags??0,b._useSRGBBuffer??!1),q.name=b.name;else{let C;C=b.name&&(b.name.indexOf("://")>0||b.name.startsWith("data:"))?b.name:P+b.name,b.url&&(b.url.startsWith("data:")||Z.UseSerializedUrlIfAny)&&(C=b.url);const J={noMipmap:!G,invertY:b.invertY,samplingMode:b.samplingMode,h:()=>{i(q)},internalTexture:W};q=new Z(C,d,J)}return q}}),b,d)}static CreateFromBase64String(b,d,P,G,W){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z.TRILINEAR_SAMPLINGMODE;return new Z("data:"+d,P,G,W,i,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,b,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(b,d,P){let G=arguments.length>3&&void 0!==arguments[3]&&arguments[3],W=arguments.length>4?arguments[4]:void 0,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Z.TRILINEAR_SAMPLINGMODE,C=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,J=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,L=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,x=arguments.length>10?arguments[10]:void 0,Y=arguments.length>11?arguments[11]:void 0;return"data:"!==b.substring(0,5)&&(b="data:"+b),new Z(b,P,W,i,q,C,J,d,G,L,void 0,void 0,x,Y)}}Z.SerializeBuffers=!0,Z.ForceSerializeBuffers=!1,Z.OnTextureLoadErrorObservable=new i.d,Z._SerializeInternalTextureUniqueId=!1,Z._CubeTextureParser=(b,d,P)=>{throw(0,L.d)("CubeTexture")},Z._CreateMirror=(b,d,P,G)=>{throw(0,L.d)("MirrorTexture")},Z._CreateRenderTargetTexture=(b,d,P,G,W)=>{throw(0,L.d)("RenderTargetTexture")},Z.NEAREST_SAMPLINGMODE=1,Z.NEAREST_NEAREST_MIPLINEAR=8,Z.BILINEAR_SAMPLINGMODE=2,Z.LINEAR_LINEAR_MIPNEAREST=11,Z.TRILINEAR_SAMPLINGMODE=3,Z.LINEAR_LINEAR_MIPLINEAR=3,Z.NEAREST_NEAREST_MIPNEAREST=4,Z.NEAREST_LINEAR_MIPNEAREST=5,Z.NEAREST_LINEAR_MIPLINEAR=6,Z.NEAREST_LINEAR=7,Z.NEAREST_NEAREST=1,Z.LINEAR_NEAREST_MIPNEAREST=9,Z.LINEAR_NEAREST_MIPLINEAR=10,Z.LINEAR_LINEAR=2,Z.LINEAR_NEAREST=12,Z.EXPLICIT_MODE=0,Z.SPHERICAL_MODE=1,Z.PLANAR_MODE=2,Z.CUBIC_MODE=3,Z.PROJECTION_MODE=4,Z.SKYBOX_MODE=5,Z.INVCUBIC_MODE=6,Z.EQUIRECTANGULAR_MODE=7,Z.FIXED_EQUIRECTANGULAR_MODE=8,Z.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Z.CLAMP_ADDRESSMODE=0,Z.WRAP_ADDRESSMODE=1,Z.MIRROR_ADDRESSMODE=2,Z.UseSerializedUrlIfAny=!1,(0,G.d)([(0,W.G)()],Z.prototype,"url",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"uOffset",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"vOffset",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"uScale",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"vScale",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"uAng",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"vAng",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"wAng",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"uRotationCenter",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"vRotationCenter",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"wRotationCenter",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"homogeneousRotationInUVTransform",void 0),(0,G.d)([(0,W.G)()],Z.prototype,"isBlocking",null),(0,J.f)("BABYLON.Texture",Z),n.c._TextureParser=Z.Parse},11733:(b,d,P)=>{P.d(d,{d:()=>W});var G=P(11681);class W{constructor(b,d,P,W){this.normal=new G.ed(b,d,P),this.d=W}jd(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new W(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let b=this.normal.getHashCode();return b=397*b^this.d,b}normalize(){const b=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let d=0;return 0!==b&&(d=1/b),this.normal.x*=d,this.normal.y*=d,this.normal.z*=d,this.d*=d,this}transform(b){const d=W._TmpMatrix;b.invertToRef(d);const P=d.m,G=this.normal.x,i=this.normal.y,q=this.normal.z,C=this.d,J=G*P[0]+i*P[1]+q*P[2]+C*P[3],L=G*P[4]+i*P[5]+q*P[6]+C*P[7],x=G*P[8]+i*P[9]+q*P[10]+C*P[11],Y=G*P[12]+i*P[13]+q*P[14]+C*P[15];return new W(J,L,x,Y)}dotCoordinate(b){return this.normal.x*b.x+this.normal.y*b.y+this.normal.z*b.z+this.d}copyFromPoints(b,d,P){const G=d.x-b.x,W=d.y-b.y,i=d.z-b.z,q=P.x-b.x,C=P.y-b.y,J=P.z-b.z,L=W*J-i*C,x=i*q-G*J,Y=G*C-W*q,s=Math.sqrt(L*L+x*x+Y*Y);let E;return E=0!==s?1/s:0,this.normal.x=L*E,this.normal.y=x*E,this.normal.z=Y*E,this.d=-(this.normal.x*b.x+this.normal.y*b.y+this.normal.z*b.z),this}isFrontFacingTo(b,d){return G.ed.Dot(this.normal,b)<=d}signedDistanceTo(b){return G.ed.Dot(b,this.normal)+this.d}static Od(b){return new W(b[0],b[1],b[2],b[3])}static FromPoints(b,d,P){const G=new W(0,0,0,0);return G.copyFromPoints(b,d,P),G}static FromPositionAndNormal(b,d){const P=new W(0,0,0,0);return this.FromPositionAndNormalToRef(b,d,P)}static FromPositionAndNormalToRef(b,d,P){return P.normal.q(d),P.normal.normalize(),P.d=-b.dot(P.normal),P}static SignedDistanceToPlaneFromPositionAndNormal(b,d,P){const W=-(d.x*b.x+d.y*b.y+d.z*b.z);return G.ed.Dot(P,d)+W}}W._TmpMatrix=G.Matrix.Identity()},11714:(b,d,P)=>{P.d(d,{e:()=>G});class G{constructor(b,d){this.width=b,this.height=d}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let b=0|this.width;return b=397*b^this.height,b}q(b){this.width=b.width,this.height=b.height}Fd(b,d){return this.width=b,this.height=d,this}set(b,d){return this.Fd(b,d)}multiplyByFloats(b,d){return new G(this.width*b,this.height*d)}clone(){return new G(this.width,this.height)}equals(b){return!!b&&(this.width===b.width&&this.height===b.height)}get surface(){return this.width*this.height}static Zero(){return new G(0,0)}add(b){return new G(this.width+b.width,this.height+b.height)}Rd(b){return new G(this.width-b.width,this.height-b.height)}scale(b){return new G(this.width*b,this.height*b)}static Lerp(b,d,P){const W=b.width+(d.width-b.width)*P,i=b.height+(d.height-b.height)*P;return new G(W,i)}}},11673:(b,d,P)=>{P.d(d,{e:()=>i,g:()=>q});const G={},W={};function i(b){const d=b.getClassName();return W[d]||(W[d]={}),W[d]}function q(b){const d=b.getClassName();if(G[d])return G[d];G[d]={};const P=G[d];let i=b,q=d;for(;q;){const b=W[q];for(const W in b)P[W]=b[W];let d,G=!1;do{if(d=Object.getPrototypeOf(i),!d.getClassName){G=!0;break}if(d.getClassName()!==q)break;i=d}while(d);if(G)break;q=d.getClassName(),i=d}return P}},11670:(b,d,P)=>{P.d(d,{B:()=>C,D:()=>x,F:()=>Y,G:()=>q,e:()=>i,h:()=>n,j:()=>E,n:()=>J,o:()=>w,q:()=>L,s:()=>t,v:()=>B,y:()=>s,z:()=>r});var G=P(11673);function W(b,d){return(P,W)=>{const i=(0,G.e)(P);i[W]||(i[W]={type:b,sourceName:d})}}function i(b){return function(b){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(P,G)=>{const W=d||"_"+G;Object.defineProperty(P,G,{get:function(){return this[W]},set:function(d){var G;"function"===typeof(null===(G=this[W])||void 0===G?void 0:G.equals)&&this[W].equals(d)||this[W]!==d&&(this[W]=d,P[b].apply(this))},enumerable:!0,configurable:!0})}}(b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function q(b){return W(0,b)}function C(b){return W(1,b)}function J(b){return W(2,b)}function L(b){return W(3,b)}function x(b){return W(4,b)}function Y(b){return W(5,b)}function s(b){return W(6,b)}function E(b){return W(7,b)}function w(b){return W(8,b)}function t(b){return W(9,b)}function r(b){return W(10,b)}function B(b){return W(12,b)}function n(b,d,P,G){const W=P.value;P.value=function(){let P=W;if("undefined"!==typeof _native&&_native[d]){const b=_native[d];P=G?function(){return G(...arguments)?b(...arguments):W(...arguments)}:b}return b[d]=P,P(...arguments)}}n.filter=function(b){return(d,P,G)=>n(d,P,G,b)}},11716:(b,d,P)=>{P.d(d,{c:()=>L});var G=P(11525),W=P(11722),i=P(11725),q=P(11681),C=P(11673);const J=function(b,d,P){let G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=b();W.c&&W.c.HasTags(d)&&W.c.AddTagsTo(i,W.c.GetTags(d,!0));const q=(0,C.g)(i),J={};for(const W in q){const b=q[W],C=d[W],x=b.type;if(void 0!==C&&null!==C&&("uniqueId"!==W||L.AllowLoadingUniqueId))switch(x){case 0:case 6:case 9:case 11:i[W]=C;break;case 1:G.cloneTexturesOnlyOnce&&J[C.uniqueId]?i[W]=J[C.uniqueId]:(i[W]=P||C.isRenderTarget?C:C.clone(),J[C.uniqueId]=i[W]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:i[W]=P?C:C.clone()}}return i};class L{static AppendSerializedAnimations(b,d){if(b.animations){d.animations=[];for(let P=0;P<b.animations.length;P++){const G=b.animations[P];d.animations.push(G.serialize())}}}static Serialize(b,d){d||(d={}),W.c&&(d.tags=W.c.GetTags(b));const P=(0,C.g)(b);for(const G in P){const W=P[G],i=W.sourceName||G,q=W.type,C=b[G];if(void 0!==C&&null!==C&&("uniqueId"!==G||L.AllowLoadingUniqueId))switch(q){case 0:d[i]=C;break;case 1:case 3:case 7:case 9:d[i]=C.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:d[i]=C.jd();break;case 6:case 11:d[i]=C.id}}return d}static ParseProperties(b,d,P,G){G||(G="");const W=(0,C.g)(d);for(const C in W){const J=W[C],x=b[J.sourceName||C],Y=J.type;if(void 0!==x&&null!==x&&("uniqueId"!==C||L.AllowLoadingUniqueId)){const b=d;switch(Y){case 0:b[C]=x;break;case 1:P&&(b[C]=L._TextureParser(x,P,G));break;case 2:b[C]=i.Nd.Od(x);break;case 3:b[C]=L._FresnelParametersParser(x);break;case 4:b[C]=q.Vector2.Od(x);break;case 5:b[C]=q.ed.Od(x);break;case 6:P&&(b[C]=P.getLastMeshById(x));break;case 7:b[C]=L._ColorCurvesParser(x);break;case 8:b[C]=i.ci.Od(x);break;case 9:b[C]=L._ImageProcessingConfigurationParser(x);break;case 10:b[C]=q.Quaternion.Od(x);break;case 11:P&&(b[C]=P.getCameraById(x));break;case 12:b[C]=q.Matrix.Od(x)}}}}static Parse(b,d,P){let G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=b();return W.c&&W.c.AddTagsTo(i,d.tags),L.ParseProperties(d,i,P,G),i}static Clone(b,d){return J(b,d,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(b,d){return J(b,d,!0)}}L.AllowLoadingUniqueId=!1,L._ImageProcessingConfigurationParser=b=>{throw(0,G.d)("ImageProcessingConfiguration")},L._FresnelParametersParser=b=>{throw(0,G.d)("FresnelParameters")},L._ColorCurvesParser=b=>{throw(0,G.d)("ColorCurves")},L._TextureParser=(b,d,P)=>{throw(0,G.d)("Texture")}},11722:(b,d,P)=>{P.d(d,{c:()=>W});class G{static Eval(b,d){return"true"===(b=b.match(/\([^()]*\)/g)?b.replace(/\([^()]*\)/g,(b=>(b=b.slice(1,b.length-1),G._HandleParenthesisContent(b,d)))):G._HandleParenthesisContent(b,d))||"false"!==b&&G.Eval(b,d)}static _HandleParenthesisContent(b,d){let P;d=d||(b=>"true"===b);const W=b.split("||");for(const i in W)if(Object.prototype.hasOwnProperty.call(W,i)){let b=G._SimplifyNegation(W[i].trim());const q=b.split("&&");if(q.length>1)for(let W=0;W<q.length;++W){const i=G._SimplifyNegation(q[W].trim());if(P="true"!==i&&"false"!==i?"!"===i[0]?!d(i.substring(1)):d(i):"true"===i,!P){b="false";break}}if(P||"true"===b){P=!0;break}P="true"!==b&&"false"!==b?"!"===b[0]?!d(b.substring(1)):d(b):"true"===b}return P?"true":"false"}static _SimplifyNegation(b){return"!true"===(b=(b=b.replace(/^[\s!]+/,(b=>(b=b.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?b="false":"!false"===b&&(b="true"),b}}class W{static EnableFor(b){b._tags=b._tags||{},b.hasTags=()=>W.HasTags(b),b.addTags=d=>W.AddTagsTo(b,d),b.removeTags=d=>W.RemoveTagsFrom(b,d),b.matchesTagsQuery=d=>W.MatchesQuery(b,d)}static DisableFor(b){delete b._tags,delete b.hasTags,delete b.addTags,delete b.removeTags,delete b.matchesTagsQuery}static HasTags(b){if(!b._tags)return!1;const d=b._tags;for(const P in d)if(Object.prototype.hasOwnProperty.call(d,P))return!0;return!1}static GetTags(b){let d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!b._tags)return null;if(d){const d=[];for(const P in b._tags)Object.prototype.hasOwnProperty.call(b._tags,P)&&!0===b._tags[P]&&d.push(P);return d.join(" ")}return b._tags}static AddTagsTo(b,d){if(!d)return;if("string"!==typeof d)return;const P=d.split(" ");for(const G of P)W._AddTagTo(b,G)}static _AddTagTo(b,d){""!==(d=d.trim())&&"true"!==d&&"false"!==d&&(d.match(/[\s]/)||d.match(/^([!]|([|]|[&]){2})/)||(W.EnableFor(b),b._tags[d]=!0))}static RemoveTagsFrom(b,d){if(!W.HasTags(b))return;const P=d.split(" ");for(const G in P)W._RemoveTagFrom(b,P[G])}static _RemoveTagFrom(b,d){delete b._tags[d]}static MatchesQuery(b,d){return void 0===d||(""===d?W.HasTags(b):G.Eval(d,(d=>W.HasTags(b)&&b._tags[d])))}}},11663:(b,d,P)=>{P.d(d,{d:()=>G});function G(b,d,P,G){var W,i=arguments.length,q=i<3?d:null===G?G=Object.getOwnPropertyDescriptor(d,P):G;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(b,d,P,G);else for(var C=b.length-1;C>=0;C--)(W=b[C])&&(q=(i<3?W(q):i>3?W(d,P,q):W(d,P))||q);return i>3&&q&&Object.defineProperty(d,P,q),q}Object.create;Object.create}}]);