"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[13],{11242:(g,w,q)=>{q.d(w,{b:()=>R});let R=!1},11204:(g,w,q)=>{q.d(w,{d:()=>e});var R=q(11161),o=q(11170),r=q(10998),S=q(11180),i=q(11034),T=q(11136),z=(q(11043),q(11209));class t{get wrapU(){return this._wrapU}set wrapU(g){this._wrapU=g}get wrapV(){return this._wrapV}set wrapV(g){this._wrapV=g}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(g){this._texture&&(this._texture.isCube=g)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(g){this._texture&&(this._texture.is3D=g)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(g){this._texture&&(this._texture.is2DArray=g)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(g){return void 0!==(null===g||void 0===g?void 0:g.shareDepth)}constructor(g){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=z.e.Zero(),this._cachedBaseSize=z.e.Zero(),this._initialSamplingMode=2,this._texture=t._IsRenderTargetWrapper(g)?g.texture:g,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(g){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(g,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var m=q(11218);class e extends t{set oi(g){this._hasAlpha!==g&&(this._hasAlpha=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get oi(){return this._hasAlpha}set getAlphaFromRGB(g){this._getAlphaFromRGB!==g&&(this._getAlphaFromRGB=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(g){this._coordinatesIndex!==g&&(this._coordinatesIndex=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(g){this._coordinatesMode!==g&&(this._coordinatesMode=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(g){this._wrapU=g}get wrapV(){return this._wrapV}set wrapV(g){this._wrapV=g}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(g){this._texture?this._texture.isCube=g:this._isCube=g}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(g){this._texture&&(this._texture.is3D=g)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(g){this._texture&&(this._texture.is2DArray=g)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(g){var w;if(this._texture){if(this._texture._gammaSpace===g)return;this._texture._gammaSpace=g}else{if(this._gammaSpace===g)return;this._gammaSpace=g}null===(w=this.Ng())||void 0===w||w.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(g){var w;g!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=g),null===(w=this.Ng())||void 0===w||w.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(g){this._texture&&(this._texture._lodGenerationOffset=g)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(g){this._texture&&(this._texture._lodGenerationScale=g)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(g){this._texture&&(this._texture._linearSpecularLOD=g)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(g){this._texture&&(this._texture._irradianceTexture=g)}get uid(){return this._uid||(this._uid=(0,T.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(g){this._onDisposeObserver&&this.WS.remove(this._onDisposeObserver),this._onDisposeObserver=this.WS.add(g)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.WS=new r.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,g?e._IsScene(g)?this._scene=g:this._engine=g:this._scene=i.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=w,this._uid=null}Ng(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return S.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return S.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(g){}get canRescale(){return!1}_getFromCache(g,w,q,R,o,r){const S=this._getEngine();if(!S)return null;const i=S._getUseSRGBBuffer(!!o,w),T=S.getLoadedTexturesCache();for(let z=0;z<T.length;z++){const S=T[z];if((void 0===o||i===S._useSRGBBuffer)&&(void 0===R||R===S.invertY)&&S.url===g&&S.generateMipMaps===!w&&(!q||q===S.samplingMode)&&(void 0===r||r===S.isCube))return S.incrementReferences(),S}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const g=this.Ng();g&&g.markAllMaterialsAsDirty(1)}readPixels(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,R=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const z=this._getEngine();if(!z)return null;const t=this.getSize();let m=t.width,e=t.height;0!==w&&(m/=Math.pow(2,w),e/=Math.pow(2,w),m=Math.round(m),e=Math.round(e)),i=Math.min(m,i),T=Math.min(e,T);try{return this._texture.isCube?z._readTexturePixels(this._texture,i,T,g,w,q,R,o,r,S):z._readTexturePixels(this._texture,i,T,-1,w,q,R,o,r,S)}catch(y){return null}}_readPixelsSync(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,R=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const r=this.getSize();let S=r.width,i=r.height;const T=this._getEngine();if(!T)return null;0!=w&&(S/=Math.pow(2,w),i/=Math.pow(2,w),S=Math.round(S),i=Math.round(i));try{return this._texture.isCube?T._readTexturePixelsSync(this._texture,S,i,g,w,q,R,o):T._readTexturePixelsSync(this._texture,S,i,-1,w,q,R,o)}catch(z){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const g=this._scene.textures.indexOf(this);if(g>=0&&this._scene.textures.splice(g,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const g=this._parentContainer.textures.indexOf(this);g>-1&&this._parentContainer.textures.splice(g,1),this._parentContainer=null}}this.WS.notifyObservers(this),this.WS.clear(),this.metadata=null,super.dispose()}serialize(){let g=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!g)return null;const w=m.c.Serialize(this);return m.c.AppendSerializedAnimations(this,w),w}static WhenAllReady(g,w){let q=g.length;if(0!==q)for(let R=0;R<g.length;R++){const o=g[R];if(o.isReady())0===--q&&w();else{const g=o.onLoadObservable;g?g.addOnce((()=>{0===--q&&w()})):0===--q&&w()}}else w()}static _IsScene(g){return"Scene"===g.getClassName()}}e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,R.e)([(0,o.K)()],e.prototype,"uniqueId",void 0),(0,R.e)([(0,o.K)()],e.prototype,"name",void 0),(0,R.e)([(0,o.K)()],e.prototype,"displayName",void 0),(0,R.e)([(0,o.K)()],e.prototype,"metadata",void 0),(0,R.e)([(0,o.K)("oi")],e.prototype,"_hasAlpha",void 0),(0,R.e)([(0,o.K)("getAlphaFromRGB")],e.prototype,"_getAlphaFromRGB",void 0),(0,R.e)([(0,o.K)()],e.prototype,"level",void 0),(0,R.e)([(0,o.K)("coordinatesIndex")],e.prototype,"_coordinatesIndex",void 0),(0,R.e)([(0,o.K)()],e.prototype,"optimizeUVAllocation",void 0),(0,R.e)([(0,o.K)("coordinatesMode")],e.prototype,"_coordinatesMode",void 0),(0,R.e)([(0,o.K)()],e.prototype,"wrapU",null),(0,R.e)([(0,o.K)()],e.prototype,"wrapV",null),(0,R.e)([(0,o.K)()],e.prototype,"wrapR",void 0),(0,R.e)([(0,o.K)()],e.prototype,"anisotropicFilteringLevel",void 0),(0,R.e)([(0,o.K)()],e.prototype,"isCube",null),(0,R.e)([(0,o.K)()],e.prototype,"is3D",null),(0,R.e)([(0,o.K)()],e.prototype,"is2DArray",null),(0,R.e)([(0,o.K)()],e.prototype,"gammaSpace",null),(0,R.e)([(0,o.K)()],e.prototype,"invertZ",void 0),(0,R.e)([(0,o.K)()],e.prototype,"lodLevelInAlpha",void 0),(0,R.e)([(0,o.K)()],e.prototype,"lodGenerationOffset",null),(0,R.e)([(0,o.K)()],e.prototype,"lodGenerationScale",null),(0,R.e)([(0,o.K)()],e.prototype,"linearSpecularLOD",null),(0,R.e)([(0,o.C)()],e.prototype,"irradianceTexture",null),(0,R.e)([(0,o.K)()],e.prototype,"isRenderTarget",void 0)},11152:(g,w,q)=>{q.d(w,{e:()=>G});var R=q(11161),o=q(11170),r=q(10998),S=q(11180),i=q(11204),T=q(11128),z=q(11029),t=q(11071),m=q(11126),e=q(11238),y=q(11056);function L(g,w){let q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const R=w.width,o=w.height;if(g instanceof Float32Array){let w=g.byteLength/g.BYTES_PER_ELEMENT;const q=new Uint8Array(w);for(;--w>=0;){let R=g[w];R<0?R=0:R>1&&(R=1),q[w]=255*R}g=q}const r=document.createElement("canvas");r.width=R,r.height=o;const S=r.getContext("2d");if(!S)return null;const i=S.createImageData(R,o);if(i.data.set(g),S.putImageData(i,0,0),q){const g=document.createElement("canvas");g.width=R,g.height=o;const w=g.getContext("2d");return w?(w.translate(0,o),w.scale(1,-1),w.drawImage(r,0,0),g.toDataURL("image/png")):null}return r.toDataURL("image/png")}function A(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const R=g.getInternalTexture();if(!R)return null;const o=g._readPixelsSync(w,q);return o?L(o,g.getSize(),R.invertY):null}async function l(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const R=g.getInternalTexture();if(!R)return null;const o=await g.readPixels(w,q);return o?L(o,g.getSize(),R.invertY):null}var J=q(11242),x=q(11218);class G extends i.d{static _CreateVideoTexture(g,w,q){arguments.length>5&&void 0!==arguments[5]||G.TRILINEAR_SAMPLINGMODE;throw(0,z.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(g){this._isBlocking=g}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(g,w,q,R){let o,S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.TRILINEAR_SAMPLINGMODE,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,m=arguments.length>8&&void 0!==arguments[8]&&arguments[8],e=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0,L=arguments.length>11?arguments[11]:void 0,A=arguments.length>12?arguments[12]:void 0,l=arguments.length>13?arguments[13]:void 0;super(w),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new r.b,this._isBlocking=!0,this.name=g||"",this.url=g;let x=!1,d=null,D=!0;"object"===typeof q&&null!==q?(o=q.noMipmap??!1,R=q.invertY??!J.b,S=q.samplingMode??G.TRILINEAR_SAMPLINGMODE,i=q.p??null,T=q.onError??null,z=q.buffer??null,m=q.deleteBuffer??!1,e=q.format,y=q.mimeType,L=q.loaderOptions,A=q.creationFlags,x=q.useSRGBBuffer??!1,d=q.internalTexture??null,D=q.gammaSpace??D,l=q.forcedExtension??l):o=!!q,this._gammaSpace=D,this._noMipmap=o,this._invertY=void 0===R?!J.b:R,this._initialSamplingMode=S,this._buffer=z,this._deleteBuffer=m,this._mimeType=y,this._loaderOptions=L,this._creationFlags=A,this._useSRGBBuffer=x,this._forcedExtension=l,void 0!==e&&(this._format=e);const U=this.Ng(),N=this._getEngine();if(!N)return;N.onBeforeTextureInitObservable.notifyObservers(this);const a=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),i&&i(),!this.isBlocking&&U&&U.resetCachedMaterial()},H=(g,w)=>{this._loadingError=!0,this._errorObject={message:g,exception:w},T&&T(g,w),G.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!d)return this._delayedOnLoad=a,void(this._delayedOnError=H);if(this._texture=d??this._getFromCache(this.url,o,S,this._invertY,x,this.isCube),this._texture)if(this._texture.isReady)t.e.SetImmediate((()=>a()));else{const g=this._texture.onLoadedObservable.add(a);this._texture.onErrorObservable.add((w=>{var q;H(w.message,w.exception),null===(q=this._texture)||void 0===q||q.onLoadedObservable.remove(g)}))}else if(U&&U.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=a,this._delayedOnError=H;else{try{this._texture=N.createTexture(this.url,o,this._invertY,U,S,a,H,this._buffer,void 0,this._format,this._forcedExtension,y,L,A,x)}catch(C){throw H("error loading",C),C}m&&(this._buffer=null)}}updateURL(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,q=arguments.length>2?arguments[2]:void 0,R=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Ng().markAllMaterialsAsDirty(1,(g=>g.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=g),this.url=g,this._buffer=w,this._forcedExtension=R,this.delayLoadState=4,q&&(this._delayedOnLoad=q),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const g=this.Ng();g&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?t.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=g.getEngine().createTexture(this.url,this._noMipmap,this._invertY,g,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(g,w,q,R){g*=this._cachedUScale,w*=this._cachedVScale,g-=this.uRotationCenter*this._cachedUScale,w-=this.vRotationCenter*this._cachedVScale,q-=this.wRotationCenter,S.ew.TransformCoordinatesFromFloatsToRef(g,w,q,this._rowGenerationMatrix,R),R.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,R.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,R.z+=this.wRotationCenter}getTextureMatrix(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*g===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*g,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=S.Matrix.Zero(),this._rowGenerationMatrix=new S.Matrix,this._t0=S.ew.Zero(),this._t1=S.ew.Zero(),this._t2=S.ew.Zero()),S.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(S.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,S.TmpVectors.Matrix[0]),S.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,S.TmpVectors.Matrix[1]),S.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,S.TmpVectors.Matrix[2]),S.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,S.TmpVectors.Matrix[3]),S.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(S.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(S.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(S.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Yt(this._t0),this._t2.Yt(this._t0),S.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const w=this.Ng();if(!w)return this._cachedTextureMatrix;const q=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&q!==this._cachedIdentity3x2&&w.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const g=this.Ng();if(!g)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==G.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===g.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=S.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=S.Matrix.Zero());const w=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case G.PLANAR_MODE:S.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case G.PROJECTION_MODE:{S.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const w=g.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=w.updateFlag,w.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:S.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return w&&g.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const g={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,p:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return x.c.Clone((()=>new G(this._texture?this._texture.url:null,this.Ng(),g)),this)}serialize(){var g;const w=this.name;G.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const q=super.serialize(G._SerializeInternalTextureUniqueId);if(!q)return null;if(G.SerializeBuffers||G.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))q.base64String=this._buffer,q.name=q.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const g=this.mimeType||"image/png";q.base64String=`data:${g};base64,${(0,y.n)(this._buffer)}`}else(G.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(q.base64String=!this._engine||this._engine._features.supportSyncTextureRead?A(this):l(this));var R;(q.invertY=this._invertY,q.samplingMode=this.samplingMode,q._creationFlags=this._creationFlags,q._useSRGBBuffer=this._useSRGBBuffer,G._SerializeInternalTextureUniqueId)&&(q.internalTextureUniqueId=null===(R=this._texture)||void 0===R?void 0:R.uniqueId);return q.internalTextureLabel=null===(g=this._texture)||void 0===g?void 0:g.label,q.noMipmap=this._noMipmap,this.name=w,q}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(g,w,q){if(g.customType){const R=m.d.Instantiate(g.customType).Parse(g,w,q);return g.samplingMode&&R.updateSamplingMode&&R._samplingMode&&R._samplingMode!==g.samplingMode&&R.updateSamplingMode(g.samplingMode),R}if(g.isCube&&!g.isRenderTarget)return G._CubeTextureParser(g,w,q);const R=void 0!==g.internalTextureUniqueId;if(!g.name&&!g.isRenderTarget&&!R)return null;let o;if(R){const q=w.getEngine().getLoadedTexturesCache();for(const w of q)if(w.uniqueId===g.internalTextureUniqueId){o=w;break}}const r=w=>{if(w&&w._texture&&(w._texture._cachedWrapU=null,w._texture._cachedWrapV=null,w._texture._cachedWrapR=null),g.samplingMode){const q=g.samplingMode;w&&w.samplingMode!==q&&w.updateSamplingMode(q)}if(w&&g.animations)for(let q=0;q<g.animations.length;q++){const R=g.animations[q],o=(0,T.e)("BABYLON.Animation");o&&w.animations.push(o.Parse(R))}w&&w._texture&&(R&&!o&&w._texture._setUniqueId(g.internalTextureUniqueId),w._texture.label=g.internalTextureLabel)};return x.c.Parse((()=>{let R=!0;if(g.noMipmap&&(R=!1),g.mirrorPlane){const q=G._CreateMirror(g.name,g.renderTargetSize,w,R);return q._waitingRenderList=g.renderList,q.mirrorPlane=e.d.Ri(g.mirrorPlane),r(q),q}if(g.isRenderTarget){let q=null;if(g.isCube){if(w.reflectionProbes)for(let R=0;R<w.reflectionProbes.length;R++){const q=w.reflectionProbes[R];if(q.name===g.name)return q.cubeTexture}}else q=G._CreateRenderTargetTexture(g.name,g.renderTargetSize,w,R,g._creationFlags??0),q._waitingRenderList=g.renderList;return r(q),q}if(g.isVideo){const o=G._CreateVideoTexture(q+(g.url||g.name),q+(g.src||g.url),w,R,g.invertY,g.samplingMode,g.settings||{});return r(o),o}{let S;if(g.base64String&&!o)S=G.CreateFromBase64String(g.base64String,g.base64String,w,!R,g.invertY,g.samplingMode,(()=>{r(S)}),g._creationFlags??0,g._useSRGBBuffer??!1),S.name=g.name;else{let i;i=g.name&&(g.name.indexOf("://")>0||g.name.startsWith("data:"))?g.name:q+g.name,g.url&&(g.url.startsWith("data:")||G.UseSerializedUrlIfAny)&&(i=g.url);const T={noMipmap:!R,invertY:g.invertY,samplingMode:g.samplingMode,p:()=>{r(S)},internalTexture:o};S=new G(i,w,T)}return S}}),g,w)}static CreateFromBase64String(g,w,q,R,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:G.TRILINEAR_SAMPLINGMODE;return new G("data:"+w,q,R,o,r,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(g,w,q){let R=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:G.TRILINEAR_SAMPLINGMODE,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,T=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,z=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,t=arguments.length>10?arguments[10]:void 0,m=arguments.length>11?arguments[11]:void 0;return"data:"!==g.substring(0,5)&&(g="data:"+g),new G(g,q,o,r,S,i,T,w,R,z,void 0,void 0,t,m)}}G.SerializeBuffers=!0,G.ForceSerializeBuffers=!1,G.OnTextureLoadErrorObservable=new r.b,G._SerializeInternalTextureUniqueId=!1,G._CubeTextureParser=(g,w,q)=>{throw(0,z.b)("CubeTexture")},G._CreateMirror=(g,w,q,R)=>{throw(0,z.b)("MirrorTexture")},G._CreateRenderTargetTexture=(g,w,q,R,o)=>{throw(0,z.b)("RenderTargetTexture")},G.NEAREST_SAMPLINGMODE=1,G.NEAREST_NEAREST_MIPLINEAR=8,G.BILINEAR_SAMPLINGMODE=2,G.LINEAR_LINEAR_MIPNEAREST=11,G.TRILINEAR_SAMPLINGMODE=3,G.LINEAR_LINEAR_MIPLINEAR=3,G.NEAREST_NEAREST_MIPNEAREST=4,G.NEAREST_LINEAR_MIPNEAREST=5,G.NEAREST_LINEAR_MIPLINEAR=6,G.NEAREST_LINEAR=7,G.NEAREST_NEAREST=1,G.LINEAR_NEAREST_MIPNEAREST=9,G.LINEAR_NEAREST_MIPLINEAR=10,G.LINEAR_LINEAR=2,G.LINEAR_NEAREST=12,G.EXPLICIT_MODE=0,G.SPHERICAL_MODE=1,G.PLANAR_MODE=2,G.CUBIC_MODE=3,G.PROJECTION_MODE=4,G.SKYBOX_MODE=5,G.INVCUBIC_MODE=6,G.EQUIRECTANGULAR_MODE=7,G.FIXED_EQUIRECTANGULAR_MODE=8,G.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,G.CLAMP_ADDRESSMODE=0,G.WRAP_ADDRESSMODE=1,G.MIRROR_ADDRESSMODE=2,G.UseSerializedUrlIfAny=!1,(0,R.e)([(0,o.K)()],G.prototype,"url",void 0),(0,R.e)([(0,o.K)()],G.prototype,"uOffset",void 0),(0,R.e)([(0,o.K)()],G.prototype,"vOffset",void 0),(0,R.e)([(0,o.K)()],G.prototype,"uScale",void 0),(0,R.e)([(0,o.K)()],G.prototype,"vScale",void 0),(0,R.e)([(0,o.K)()],G.prototype,"uAng",void 0),(0,R.e)([(0,o.K)()],G.prototype,"vAng",void 0),(0,R.e)([(0,o.K)()],G.prototype,"wAng",void 0),(0,R.e)([(0,o.K)()],G.prototype,"uRotationCenter",void 0),(0,R.e)([(0,o.K)()],G.prototype,"vRotationCenter",void 0),(0,R.e)([(0,o.K)()],G.prototype,"wRotationCenter",void 0),(0,R.e)([(0,o.K)()],G.prototype,"homogeneousRotationInUVTransform",void 0),(0,R.e)([(0,o.K)()],G.prototype,"isBlocking",null),(0,T.g)("BABYLON.Texture",G),x.c._TextureParser=G.Parse},11238:(g,w,q)=>{q.d(w,{d:()=>o});var R=q(11180);class o{constructor(g,w,q,o){this.Lw=new R.ew(g,w,q),this.d=o}qi(){return[this.Lw.x,this.Lw.y,this.Lw.z,this.d]}clone(){return new o(this.Lw.x,this.Lw.y,this.Lw.z,this.d)}getClassName(){return"Plane"}getHashCode(){let g=this.Lw.getHashCode();return g=397*g^this.d,g}normalize(){const g=Math.sqrt(this.Lw.x*this.Lw.x+this.Lw.y*this.Lw.y+this.Lw.z*this.Lw.z);let w=0;return 0!==g&&(w=1/g),this.Lw.x*=w,this.Lw.y*=w,this.Lw.z*=w,this.d*=w,this}transform(g){const w=o._TmpMatrix;g.invertToRef(w);const q=w.m,R=this.Lw.x,r=this.Lw.y,S=this.Lw.z,i=this.d,T=R*q[0]+r*q[1]+S*q[2]+i*q[3],z=R*q[4]+r*q[5]+S*q[6]+i*q[7],t=R*q[8]+r*q[9]+S*q[10]+i*q[11],m=R*q[12]+r*q[13]+S*q[14]+i*q[15];return new o(T,z,t,m)}dotCoordinate(g){return this.Lw.x*g.x+this.Lw.y*g.y+this.Lw.z*g.z+this.d}copyFromPoints(g,w,q){const R=w.x-g.x,o=w.y-g.y,r=w.z-g.z,S=q.x-g.x,i=q.y-g.y,T=q.z-g.z,z=o*T-r*i,t=r*S-R*T,m=R*i-o*S,e=Math.sqrt(z*z+t*t+m*m);let y;return y=0!==e?1/e:0,this.Lw.x=z*y,this.Lw.y=t*y,this.Lw.z=m*y,this.d=-(this.Lw.x*g.x+this.Lw.y*g.y+this.Lw.z*g.z),this}isFrontFacingTo(g,w){return R.ew.Dot(this.Lw,g)<=w}signedDistanceTo(g){return R.ew.Dot(g,this.Lw)+this.d}static Ri(g){return new o(g[0],g[1],g[2],g[3])}static FromPoints(g,w,q){const R=new o(0,0,0,0);return R.copyFromPoints(g,w,q),R}static FromPositionAndNormal(g,w){const q=new o(0,0,0,0);return this.FromPositionAndNormalToRef(g,w,q)}static FromPositionAndNormalToRef(g,w,q){return q.Lw.T(w),q.Lw.normalize(),q.d=-g.dot(q.Lw),q}static SignedDistanceToPlaneFromPositionAndNormal(g,w,q){const o=-(w.x*g.x+w.y*g.y+w.z*g.z);return R.ew.Dot(q,w)+o}}o._TmpMatrix=R.Matrix.Identity()},11209:(g,w,q)=>{q.d(w,{e:()=>R});class R{constructor(g,w){this.width=g,this.height=w}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let g=0|this.width;return g=397*g^this.height,g}T(g){this.width=g.width,this.height=g.height}mi(g,w){return this.width=g,this.height=w,this}set(g,w){return this.mi(g,w)}multiplyByFloats(g,w){return new R(this.width*g,this.height*w)}clone(){return new R(this.width,this.height)}equals(g){return!!g&&(this.width===g.width&&this.height===g.height)}get surface(){return this.width*this.height}static Zero(){return new R(0,0)}add(g){return new R(this.width+g.width,this.height+g.height)}yw(g){return new R(this.width-g.width,this.height-g.height)}scale(g){return new R(this.width*g,this.height*g)}static Lerp(g,w,q){const o=g.width+(w.width-g.width)*q,r=g.height+(w.height-g.height)*q;return new R(o,r)}}},11178:(g,w,q)=>{q.d(w,{b:()=>r,e:()=>S});const R={},o={};function r(g){const w=g.getClassName();return o[w]||(o[w]={}),o[w]}function S(g){const w=g.getClassName();if(R[w])return R[w];R[w]={};const q=R[w];let r=g,S=w;for(;S;){const g=o[S];for(const o in g)q[o]=g[o];let w,R=!1;do{if(w=Object.getPrototypeOf(r),!w.getClassName){R=!0;break}if(w.getClassName()!==S)break;r=w}while(w);if(R)break;S=w.getClassName(),r=w}return q}},11170:(g,w,q)=>{q.d(w,{B:()=>l,C:()=>i,G:()=>t,H:()=>m,K:()=>S,d:()=>r,e:()=>x,f:()=>y,j:()=>T,m:()=>L,q:()=>z,s:()=>A,v:()=>J,x:()=>e});var R=q(11178);function o(g,w){return(q,o)=>{const r=(0,R.b)(q);r[o]||(r[o]={type:g,sourceName:w})}}function r(g){return function(g){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(q,R)=>{const o=w||"_"+R;Object.defineProperty(q,R,{get:function(){return this[o]},set:function(w){var R;"function"===typeof(null===(R=this[o])||void 0===R?void 0:R.equals)&&this[o].equals(w)||this[o]!==w&&(this[o]=w,q[g].apply(this))},enumerable:!0,configurable:!0})}}(g,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function S(g){return o(0,g)}function i(g){return o(1,g)}function T(g){return o(2,g)}function z(g){return o(3,g)}function t(g){return o(4,g)}function m(g){return o(5,g)}function e(g){return o(6,g)}function y(g){return o(7,g)}function L(g){return o(8,g)}function A(g){return o(9,g)}function l(g){return o(10,g)}function J(g){return o(12,g)}function x(g,w,q,R){const o=q.value;q.value=function(){let q=o;if("undefined"!==typeof _native&&_native[w]){const g=_native[w];q=R?function(){return R(...arguments)?g(...arguments):o(...arguments)}:g}return g[w]=q,q(...arguments)}}x.filter=function(g){return(w,q,R)=>x(w,q,R,g)}},11218:(g,w,q)=>{q.d(w,{c:()=>z});var R=q(11029),o=q(11226),r=q(11235),S=q(11180),i=q(11178);const T=function(g,w,q){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=g();o.e&&o.e.HasTags(w)&&o.e.AddTagsTo(r,o.e.GetTags(w,!0));const S=(0,i.e)(r),T={};for(const o in S){const g=S[o],i=w[o],t=g.type;if(void 0!==i&&null!==i&&("uniqueId"!==o||z.AllowLoadingUniqueId))switch(t){case 0:case 6:case 9:case 11:r[o]=i;break;case 1:R.cloneTexturesOnlyOnce&&T[i.uniqueId]?r[o]=T[i.uniqueId]:(r[o]=q||i.isRenderTarget?i:i.clone(),T[i.uniqueId]=r[o]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:r[o]=q?i:i.clone()}}return r};class z{static AppendSerializedAnimations(g,w){if(g.animations){w.animations=[];for(let q=0;q<g.animations.length;q++){const R=g.animations[q];w.animations.push(R.serialize())}}}static Serialize(g,w){w||(w={}),o.e&&(w.tags=o.e.GetTags(g));const q=(0,i.e)(g);for(const R in q){const o=q[R],r=o.sourceName||R,S=o.type,i=g[R];if(void 0!==i&&null!==i&&("uniqueId"!==R||z.AllowLoadingUniqueId))switch(S){case 0:w[r]=i;break;case 1:case 3:case 7:case 9:w[r]=i.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:w[r]=i.qi();break;case 6:case 11:w[r]=i.id}}return w}static ParseProperties(g,w,q,R){R||(R="");const o=(0,i.e)(w);for(const i in o){const T=o[i],t=g[T.sourceName||i],m=T.type;if(void 0!==t&&null!==t&&("uniqueId"!==i||z.AllowLoadingUniqueId)){const g=w;switch(m){case 0:g[i]=t;break;case 1:q&&(g[i]=z._TextureParser(t,q,R));break;case 2:g[i]=r.Jw.Ri(t);break;case 3:g[i]=z._FresnelParametersParser(t);break;case 4:g[i]=S.Vector2.Ri(t);break;case 5:g[i]=S.ew.Ri(t);break;case 6:q&&(g[i]=q.getLastMeshById(t));break;case 7:g[i]=z._ColorCurvesParser(t);break;case 8:g[i]=r.d.Ri(t);break;case 9:g[i]=z._ImageProcessingConfigurationParser(t);break;case 10:g[i]=S.Quaternion.Ri(t);break;case 11:q&&(g[i]=q.getCameraById(t));break;case 12:g[i]=S.Matrix.Ri(t)}}}}static Parse(g,w,q){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=g();return o.e&&o.e.AddTagsTo(r,w.tags),z.ParseProperties(w,r,q,R),r}static Clone(g,w){return T(g,w,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(g,w){return T(g,w,!0)}}z.AllowLoadingUniqueId=!1,z._ImageProcessingConfigurationParser=g=>{throw(0,R.b)("ImageProcessingConfiguration")},z._FresnelParametersParser=g=>{throw(0,R.b)("FresnelParameters")},z._ColorCurvesParser=g=>{throw(0,R.b)("ColorCurves")},z._TextureParser=(g,w,q)=>{throw(0,R.b)("Texture")}},11226:(g,w,q)=>{q.d(w,{e:()=>o});class R{static Eval(g,w){return"true"===(g=g.match(/\([^()]*\)/g)?g.replace(/\([^()]*\)/g,(g=>(g=g.slice(1,g.length-1),R._HandleParenthesisContent(g,w)))):R._HandleParenthesisContent(g,w))||"false"!==g&&R.Eval(g,w)}static _HandleParenthesisContent(g,w){let q;w=w||(g=>"true"===g);const o=g.split("||");for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)){let g=R._SimplifyNegation(o[r].trim());const S=g.split("&&");if(S.length>1)for(let o=0;o<S.length;++o){const r=R._SimplifyNegation(S[o].trim());if(q="true"!==r&&"false"!==r?"!"===r[0]?!w(r.substring(1)):w(r):"true"===r,!q){g="false";break}}if(q||"true"===g){q=!0;break}q="true"!==g&&"false"!==g?"!"===g[0]?!w(g.substring(1)):w(g):"true"===g}return q?"true":"false"}static _SimplifyNegation(g){return"!true"===(g=(g=g.replace(/^[\s!]+/,(g=>(g=g.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?g="false":"!false"===g&&(g="true"),g}}class o{static EnableFor(g){g._tags=g._tags||{},g.hasTags=()=>o.HasTags(g),g.addTags=w=>o.AddTagsTo(g,w),g.removeTags=w=>o.RemoveTagsFrom(g,w),g.matchesTagsQuery=w=>o.MatchesQuery(g,w)}static DisableFor(g){delete g._tags,delete g.hasTags,delete g.addTags,delete g.removeTags,delete g.matchesTagsQuery}static HasTags(g){if(!g._tags)return!1;const w=g._tags;for(const q in w)if(Object.prototype.hasOwnProperty.call(w,q))return!0;return!1}static GetTags(g){let w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!g._tags)return null;if(w){const w=[];for(const q in g._tags)Object.prototype.hasOwnProperty.call(g._tags,q)&&!0===g._tags[q]&&w.push(q);return w.join(" ")}return g._tags}static AddTagsTo(g,w){if(!w)return;if("string"!==typeof w)return;const q=w.split(" ");for(const R of q)o._AddTagTo(g,R)}static _AddTagTo(g,w){""!==(w=w.trim())&&"true"!==w&&"false"!==w&&(w.match(/[\s]/)||w.match(/^([!]|([|]|[&]){2})/)||(o.EnableFor(g),g._tags[w]=!0))}static RemoveTagsFrom(g,w){if(!o.HasTags(g))return;const q=w.split(" ");for(const R in q)o._RemoveTagFrom(g,q[R])}static _RemoveTagFrom(g,w){delete g._tags[w]}static MatchesQuery(g,w){return void 0===w||(""===w?o.HasTags(g):R.Eval(w,(w=>o.HasTags(g)&&g._tags[w])))}}},11161:(g,w,q)=>{q.d(w,{e:()=>R});function R(g,w,q,R){var o,r=arguments.length,S=r<3?w:null===R?R=Object.getOwnPropertyDescriptor(w,q):R;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)S=Reflect.decorate(g,w,q,R);else for(var i=g.length-1;i>=0;i--)(o=g[i])&&(S=(r<3?o(S):r>3?o(w,q,S):o(w,q))||S);return r>3&&S&&Object.defineProperty(w,q,S),S}Object.create;Object.create}}]);