"use strict";(self.zcqpiao938m=self.zcqpiao938m||[]).push([[13],{11890:(C,U,K)=>{K.d(U,{e:()=>m});let m=!1},11854:(C,U,K)=>{K.d(U,{c:()=>E});var m=K(11810),O=K(11818),X=K(11663),A=K(11827),e=K(11703),t=K(11793),z=(K(11709),K(11859));class j{get wrapU(){return this._wrapU}set wrapU(C){this._wrapU=C}get wrapV(){return this._wrapV}set wrapV(C){this._wrapV=C}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(C){this._texture&&(this._texture.isCube=C)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(C){this._texture&&(this._texture.is3D=C)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(C){this._texture&&(this._texture.is2DArray=C)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(C){return void 0!==(null===C||void 0===C?void 0:C.shareDepth)}constructor(C){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=z.d.Zero(),this._cachedBaseSize=z.d.Zero(),this._initialSamplingMode=2,this._texture=j._IsRenderTargetWrapper(C)?C.texture:C,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(C){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(C,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var p=K(11863);class E extends j{set Xe(C){this._hasAlpha!==C&&(this._hasAlpha=C,this._scene&&this._scene.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))))}get Xe(){return this._hasAlpha}set getAlphaFromRGB(C){this._getAlphaFromRGB!==C&&(this._getAlphaFromRGB=C,this._scene&&this._scene.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(C){this._coordinatesIndex!==C&&(this._coordinatesIndex=C,this._scene&&this._scene.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(C){this._coordinatesMode!==C&&(this._coordinatesMode=C,this._scene&&this._scene.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(C){this._wrapU=C}get wrapV(){return this._wrapV}set wrapV(C){this._wrapV=C}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(C){this._texture?this._texture.isCube=C:this._isCube=C}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(C){this._texture&&(this._texture.is3D=C)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(C){this._texture&&(this._texture.is2DArray=C)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(C){var U;if(this._texture){if(this._texture._gammaSpace===C)return;this._texture._gammaSpace=C}else{if(this._gammaSpace===C)return;this._gammaSpace=C}null===(U=this.dC())||void 0===U||U.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(C){var U;C!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=C),null===(U=this.dC())||void 0===U||U.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(C){this._texture&&(this._texture._lodGenerationOffset=C)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(C){this._texture&&(this._texture._lodGenerationScale=C)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(C){this._texture&&(this._texture._linearSpecularLOD=C)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(C){this._texture&&(this._texture._irradianceTexture=C)}get uid(){return this._uid||(this._uid=(0,t.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(C){this._onDisposeObserver&&this.RA.remove(this._onDisposeObserver),this._onDisposeObserver=this.RA.add(C)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=E.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.RA=new X.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,C?E._IsScene(C)?this._scene=C:this._engine=C:this._scene=e.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=U,this._uid=null}dC(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return A.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return A.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(C){}get canRescale(){return!1}_getFromCache(C,U,K,m,O,X){const A=this._getEngine();if(!A)return null;const e=A._getUseSRGBBuffer(!!O,U),t=A.getLoadedTexturesCache();for(let z=0;z<t.length;z++){const A=t[z];if((void 0===O||e===A._useSRGBBuffer)&&(void 0===m||m===A.invertY)&&A.url===C&&A.generateMipMaps===!U&&(!K||K===A.samplingMode)&&(void 0===X||X===A.isCube))return A.incrementReferences(),A}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const C=this.dC();C&&C.markAllMaterialsAsDirty(1)}readPixels(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=arguments.length>4&&void 0!==arguments[4]&&arguments[4],X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,e=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,t=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const z=this._getEngine();if(!z)return null;const j=this.getSize();let p=j.width,E=j.height;0!==U&&(p/=Math.pow(2,U),E/=Math.pow(2,U),p=Math.round(p),E=Math.round(E)),e=Math.min(p,e),t=Math.min(E,t);try{return this._texture.isCube?z._readTexturePixels(this._texture,e,t,C,U,K,m,O,X,A):z._readTexturePixels(this._texture,e,t,-1,U,K,m,O,X,A)}catch(u){return null}}_readPixelsSync(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,m=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],O=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const X=this.getSize();let A=X.width,e=X.height;const t=this._getEngine();if(!t)return null;0!=U&&(A/=Math.pow(2,U),e/=Math.pow(2,U),A=Math.round(A),e=Math.round(e));try{return this._texture.isCube?t._readTexturePixelsSync(this._texture,A,e,C,U,K,m,O):t._readTexturePixelsSync(this._texture,A,e,-1,U,K,m,O)}catch(z){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const C=this._scene.textures.indexOf(this);if(C>=0&&this._scene.textures.splice(C,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const C=this._parentContainer.textures.indexOf(this);C>-1&&this._parentContainer.textures.splice(C,1),this._parentContainer=null}}this.RA.notifyObservers(this),this.RA.clear(),this.metadata=null,super.dispose()}serialize(){let C=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!C)return null;const U=p.c.Serialize(this);return p.c.AppendSerializedAnimations(this,U),U}static WhenAllReady(C,U){let K=C.length;if(0!==K)for(let m=0;m<C.length;m++){const O=C[m];if(O.isReady())0===--K&&U();else{const C=O.onLoadObservable;C?C.addOnce((()=>{0===--K&&U()})):0===--K&&U()}}else U()}static _IsScene(C){return"Scene"===C.getClassName()}}E.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,m.d)([(0,O.O)()],E.prototype,"uniqueId",void 0),(0,m.d)([(0,O.O)()],E.prototype,"name",void 0),(0,m.d)([(0,O.O)()],E.prototype,"displayName",void 0),(0,m.d)([(0,O.O)()],E.prototype,"metadata",void 0),(0,m.d)([(0,O.O)("Xe")],E.prototype,"_hasAlpha",void 0),(0,m.d)([(0,O.O)("getAlphaFromRGB")],E.prototype,"_getAlphaFromRGB",void 0),(0,m.d)([(0,O.O)()],E.prototype,"level",void 0),(0,m.d)([(0,O.O)("coordinatesIndex")],E.prototype,"_coordinatesIndex",void 0),(0,m.d)([(0,O.O)()],E.prototype,"optimizeUVAllocation",void 0),(0,m.d)([(0,O.O)("coordinatesMode")],E.prototype,"_coordinatesMode",void 0),(0,m.d)([(0,O.O)()],E.prototype,"wrapU",null),(0,m.d)([(0,O.O)()],E.prototype,"wrapV",null),(0,m.d)([(0,O.O)()],E.prototype,"wrapR",void 0),(0,m.d)([(0,O.O)()],E.prototype,"anisotropicFilteringLevel",void 0),(0,m.d)([(0,O.O)()],E.prototype,"isCube",null),(0,m.d)([(0,O.O)()],E.prototype,"is3D",null),(0,m.d)([(0,O.O)()],E.prototype,"is2DArray",null),(0,m.d)([(0,O.O)()],E.prototype,"gammaSpace",null),(0,m.d)([(0,O.O)()],E.prototype,"invertZ",void 0),(0,m.d)([(0,O.O)()],E.prototype,"lodLevelInAlpha",void 0),(0,m.d)([(0,O.O)()],E.prototype,"lodGenerationOffset",null),(0,m.d)([(0,O.O)()],E.prototype,"lodGenerationScale",null),(0,m.d)([(0,O.O)()],E.prototype,"linearSpecularLOD",null),(0,m.d)([(0,O.D)()],E.prototype,"irradianceTexture",null),(0,m.d)([(0,O.O)()],E.prototype,"isRenderTarget",void 0)},11808:(C,U,K)=>{K.d(U,{b:()=>F});var m=K(11810),O=K(11818),X=K(11663),A=K(11827),e=K(11854),t=K(11789),z=K(11696),j=K(11733),p=K(11784),E=K(11886),u=K(11719);function b(C,U){let K=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const m=U.width,O=U.height;if(C instanceof Float32Array){let U=C.byteLength/C.BYTES_PER_ELEMENT;const K=new Uint8Array(U);for(;--U>=0;){let m=C[U];m<0?m=0:m>1&&(m=1),K[U]=255*m}C=K}const X=document.createElement("canvas");X.width=m,X.height=O;const A=X.getContext("2d");if(!A)return null;const e=A.createImageData(m,O);if(e.data.set(C),A.putImageData(e,0,0),K){const C=document.createElement("canvas");C.width=m,C.height=O;const U=C.getContext("2d");return U?(U.translate(0,O),U.scale(1,-1),U.drawImage(X,0,0),C.toDataURL("image/png")):null}return X.toDataURL("image/png")}function v(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const m=C.getInternalTexture();if(!m)return null;const O=C._readPixelsSync(U,K);return O?b(O,C.getSize(),m.invertY):null}async function Q(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const m=C.getInternalTexture();if(!m)return null;const O=await C.readPixels(U,K);return O?b(O,C.getSize(),m.invertY):null}var V=K(11890),f=K(11863);class F extends e.c{static _CreateVideoTexture(C,U,K){arguments.length>5&&void 0!==arguments[5]||F.TRILINEAR_SAMPLINGMODE;throw(0,z.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(C){this._isBlocking=C}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(C,U,K,m){let O,A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F.TRILINEAR_SAMPLINGMODE,e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,t=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],E=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,b=arguments.length>11?arguments[11]:void 0,v=arguments.length>12?arguments[12]:void 0,Q=arguments.length>13?arguments[13]:void 0;super(U),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new X.b,this._isBlocking=!0,this.name=C||"",this.url=C;let f=!1,Z=null,P=!0;"object"===typeof K&&null!==K?(O=K.noMipmap??!1,m=K.invertY??!V.e,A=K.samplingMode??F.TRILINEAR_SAMPLINGMODE,e=K.R??null,t=K.onError??null,z=K.buffer??null,p=K.deleteBuffer??!1,E=K.format,u=K.mimeType,b=K.loaderOptions,v=K.creationFlags,f=K.useSRGBBuffer??!1,Z=K.internalTexture??null,P=K.gammaSpace??P,Q=K.forcedExtension??Q):O=!!K,this._gammaSpace=P,this._noMipmap=O,this._invertY=void 0===m?!V.e:m,this._initialSamplingMode=A,this._buffer=z,this._deleteBuffer=p,this._mimeType=u,this._loaderOptions=b,this._creationFlags=v,this._useSRGBBuffer=f,this._forcedExtension=Q,void 0!==E&&(this._format=E);const H=this.dC(),d=this._getEngine();if(!d)return;d.onBeforeTextureInitObservable.notifyObservers(this);const T=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),e&&e(),!this.isBlocking&&H&&H.resetCachedMaterial()},y=(C,U)=>{this._loadingError=!0,this._errorObject={message:C,exception:U},t&&t(C,U),F.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Z)return this._delayedOnLoad=T,void(this._delayedOnError=y);if(this._texture=Z??this._getFromCache(this.url,O,A,this._invertY,f,this.isCube),this._texture)if(this._texture.isReady)j.b.SetImmediate((()=>T()));else{const C=this._texture.onLoadedObservable.add(T);this._texture.onErrorObservable.add((U=>{var K;y(U.message,U.exception),null===(K=this._texture)||void 0===K||K.onLoadedObservable.remove(C)}))}else if(H&&H.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=T,this._delayedOnError=y;else{try{this._texture=d.createTexture(this.url,O,this._invertY,H,A,T,y,this._buffer,void 0,this._format,this._forcedExtension,u,b,v,f)}catch(a){throw y("error loading",a),a}p&&(this._buffer=null)}}updateURL(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,K=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.dC().markAllMaterialsAsDirty(1,(C=>C.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=C),this.url=C,this._buffer=U,this._forcedExtension=m,this.delayLoadState=4,K&&(this._delayedOnLoad=K),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const C=this.dC();C&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?j.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=C.getEngine().createTexture(this.url,this._noMipmap,this._invertY,C,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(C,U,K,m){C*=this._cachedUScale,U*=this._cachedVScale,C-=this.uRotationCenter*this._cachedUScale,U-=this.vRotationCenter*this._cachedVScale,K-=this.wRotationCenter,A.bU.TransformCoordinatesFromFloatsToRef(C,U,K,this._rowGenerationMatrix,m),m.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,m.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,m.z+=this.wRotationCenter}getTextureMatrix(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*C===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*C,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=A.Matrix.Zero(),this._rowGenerationMatrix=new A.Matrix,this._t0=A.bU.Zero(),this._t1=A.bU.Zero(),this._t2=A.bU.Zero()),A.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(A.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,A.TmpVectors.Matrix[0]),A.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,A.TmpVectors.Matrix[1]),A.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,A.TmpVectors.Matrix[2]),A.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,A.TmpVectors.Matrix[3]),A.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(A.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.zp(this._t0),this._t2.zp(this._t0),A.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const U=this.dC();if(!U)return this._cachedTextureMatrix;const K=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&K!==this._cachedIdentity3x2&&U.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const C=this.dC();if(!C)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==F.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===C.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=A.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=A.Matrix.Zero());const U=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case F.PLANAR_MODE:A.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case F.PROJECTION_MODE:{A.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const U=C.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=U.updateFlag,U.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:A.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return U&&C.markAllMaterialsAsDirty(1,(C=>C.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const C={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,R:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return f.c.Clone((()=>new F(this._texture?this._texture.url:null,this.dC(),C)),this)}serialize(){var C;const U=this.name;F.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const K=super.serialize(F._SerializeInternalTextureUniqueId);if(!K)return null;if(F.SerializeBuffers||F.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))K.base64String=this._buffer,K.name=K.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const C=this.mimeType||"image/png";K.base64String=`data:${C};base64,${(0,u.m)(this._buffer)}`}else(F.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(K.base64String=!this._engine||this._engine._features.supportSyncTextureRead?v(this):Q(this));var m;(K.invertY=this._invertY,K.samplingMode=this.samplingMode,K._creationFlags=this._creationFlags,K._useSRGBBuffer=this._useSRGBBuffer,F._SerializeInternalTextureUniqueId)&&(K.internalTextureUniqueId=null===(m=this._texture)||void 0===m?void 0:m.uniqueId);return K.internalTextureLabel=null===(C=this._texture)||void 0===C?void 0:C.label,K.noMipmap=this._noMipmap,this.name=U,K}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(C,U,K){if(C.customType){const m=p.e.Instantiate(C.customType).Parse(C,U,K);return C.samplingMode&&m.updateSamplingMode&&m._samplingMode&&m._samplingMode!==C.samplingMode&&m.updateSamplingMode(C.samplingMode),m}if(C.isCube&&!C.isRenderTarget)return F._CubeTextureParser(C,U,K);const m=void 0!==C.internalTextureUniqueId;if(!C.name&&!C.isRenderTarget&&!m)return null;let O;if(m){const K=U.getEngine().getLoadedTexturesCache();for(const U of K)if(U.uniqueId===C.internalTextureUniqueId){O=U;break}}const X=U=>{if(U&&U._texture&&(U._texture._cachedWrapU=null,U._texture._cachedWrapV=null,U._texture._cachedWrapR=null),C.samplingMode){const K=C.samplingMode;U&&U.samplingMode!==K&&U.updateSamplingMode(K)}if(U&&C.animations)for(let K=0;K<C.animations.length;K++){const m=C.animations[K],O=(0,t.d)("BABYLON.Animation");O&&U.animations.push(O.Parse(m))}U&&U._texture&&(m&&!O&&U._texture._setUniqueId(C.internalTextureUniqueId),U._texture.label=C.internalTextureLabel)};return f.c.Parse((()=>{let m=!0;if(C.noMipmap&&(m=!1),C.mirrorPlane){const K=F._CreateMirror(C.name,C.renderTargetSize,U,m);return K._waitingRenderList=C.renderList,K.mirrorPlane=E.b.FU(C.mirrorPlane),X(K),K}if(C.isRenderTarget){let K=null;if(C.isCube){if(U.reflectionProbes)for(let m=0;m<U.reflectionProbes.length;m++){const K=U.reflectionProbes[m];if(K.name===C.name)return K.cubeTexture}}else K=F._CreateRenderTargetTexture(C.name,C.renderTargetSize,U,m,C._creationFlags??0),K._waitingRenderList=C.renderList;return X(K),K}if(C.isVideo){const O=F._CreateVideoTexture(K+(C.url||C.name),K+(C.src||C.url),U,m,C.invertY,C.samplingMode,C.settings||{});return X(O),O}{let A;if(C.base64String&&!O)A=F.CreateFromBase64String(C.base64String,C.base64String,U,!m,C.invertY,C.samplingMode,(()=>{X(A)}),C._creationFlags??0,C._useSRGBBuffer??!1),A.name=C.name;else{let e;e=C.name&&(C.name.indexOf("://")>0||C.name.startsWith("data:"))?C.name:K+C.name,C.url&&(C.url.startsWith("data:")||F.UseSerializedUrlIfAny)&&(e=C.url);const t={noMipmap:!m,invertY:C.invertY,samplingMode:C.samplingMode,R:()=>{X(A)},internalTexture:O};A=new F(e,U,t)}return A}}),C,U)}static CreateFromBase64String(C,U,K,m,O){let X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:F.TRILINEAR_SAMPLINGMODE;return new F("data:"+U,K,m,O,X,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,C,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(C,U,K){let m=arguments.length>3&&void 0!==arguments[3]&&arguments[3],O=arguments.length>4?arguments[4]:void 0,X=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:F.TRILINEAR_SAMPLINGMODE,e=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,t=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,z=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,j=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return"data:"!==C.substring(0,5)&&(C="data:"+C),new F(C,K,O,X,A,e,t,U,m,z,void 0,void 0,j,p)}}F.SerializeBuffers=!0,F.ForceSerializeBuffers=!1,F.OnTextureLoadErrorObservable=new X.b,F._SerializeInternalTextureUniqueId=!1,F._CubeTextureParser=(C,U,K)=>{throw(0,z.b)("CubeTexture")},F._CreateMirror=(C,U,K,m)=>{throw(0,z.b)("MirrorTexture")},F._CreateRenderTargetTexture=(C,U,K,m,O)=>{throw(0,z.b)("RenderTargetTexture")},F.NEAREST_SAMPLINGMODE=1,F.NEAREST_NEAREST_MIPLINEAR=8,F.BILINEAR_SAMPLINGMODE=2,F.LINEAR_LINEAR_MIPNEAREST=11,F.TRILINEAR_SAMPLINGMODE=3,F.LINEAR_LINEAR_MIPLINEAR=3,F.NEAREST_NEAREST_MIPNEAREST=4,F.NEAREST_LINEAR_MIPNEAREST=5,F.NEAREST_LINEAR_MIPLINEAR=6,F.NEAREST_LINEAR=7,F.NEAREST_NEAREST=1,F.LINEAR_NEAREST_MIPNEAREST=9,F.LINEAR_NEAREST_MIPLINEAR=10,F.LINEAR_LINEAR=2,F.LINEAR_NEAREST=12,F.EXPLICIT_MODE=0,F.SPHERICAL_MODE=1,F.PLANAR_MODE=2,F.CUBIC_MODE=3,F.PROJECTION_MODE=4,F.SKYBOX_MODE=5,F.INVCUBIC_MODE=6,F.EQUIRECTANGULAR_MODE=7,F.FIXED_EQUIRECTANGULAR_MODE=8,F.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,F.CLAMP_ADDRESSMODE=0,F.WRAP_ADDRESSMODE=1,F.MIRROR_ADDRESSMODE=2,F.UseSerializedUrlIfAny=!1,(0,m.d)([(0,O.O)()],F.prototype,"url",void 0),(0,m.d)([(0,O.O)()],F.prototype,"uOffset",void 0),(0,m.d)([(0,O.O)()],F.prototype,"vOffset",void 0),(0,m.d)([(0,O.O)()],F.prototype,"uScale",void 0),(0,m.d)([(0,O.O)()],F.prototype,"vScale",void 0),(0,m.d)([(0,O.O)()],F.prototype,"uAng",void 0),(0,m.d)([(0,O.O)()],F.prototype,"vAng",void 0),(0,m.d)([(0,O.O)()],F.prototype,"wAng",void 0),(0,m.d)([(0,O.O)()],F.prototype,"uRotationCenter",void 0),(0,m.d)([(0,O.O)()],F.prototype,"vRotationCenter",void 0),(0,m.d)([(0,O.O)()],F.prototype,"wRotationCenter",void 0),(0,m.d)([(0,O.O)()],F.prototype,"homogeneousRotationInUVTransform",void 0),(0,m.d)([(0,O.O)()],F.prototype,"isBlocking",null),(0,t.h)("BABYLON.Texture",F),f.c._TextureParser=F.Parse},11886:(C,U,K)=>{K.d(U,{b:()=>O});var m=K(11827);class O{constructor(C,U,K,O){this.normal=new m.bU(C,U,K),this.d=O}Oe(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new O(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let C=this.normal.getHashCode();return C=397*C^this.d,C}normalize(){const C=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let U=0;return 0!==C&&(U=1/C),this.normal.x*=U,this.normal.y*=U,this.normal.z*=U,this.d*=U,this}transform(C){const U=O._TmpMatrix;C.invertToRef(U);const K=U.m,m=this.normal.x,X=this.normal.y,A=this.normal.z,e=this.d,t=m*K[0]+X*K[1]+A*K[2]+e*K[3],z=m*K[4]+X*K[5]+A*K[6]+e*K[7],j=m*K[8]+X*K[9]+A*K[10]+e*K[11],p=m*K[12]+X*K[13]+A*K[14]+e*K[15];return new O(t,z,j,p)}dotCoordinate(C){return this.normal.x*C.x+this.normal.y*C.y+this.normal.z*C.z+this.d}copyFromPoints(C,U,K){const m=U.x-C.x,O=U.y-C.y,X=U.z-C.z,A=K.x-C.x,e=K.y-C.y,t=K.z-C.z,z=O*t-X*e,j=X*A-m*t,p=m*e-O*A,E=Math.sqrt(z*z+j*j+p*p);let u;return u=0!==E?1/E:0,this.normal.x=z*u,this.normal.y=j*u,this.normal.z=p*u,this.d=-(this.normal.x*C.x+this.normal.y*C.y+this.normal.z*C.z),this}isFrontFacingTo(C,U){return m.bU.Dot(this.normal,C)<=U}signedDistanceTo(C){return m.bU.Dot(C,this.normal)+this.d}static FU(C){return new O(C[0],C[1],C[2],C[3])}static FromPoints(C,U,K){const m=new O(0,0,0,0);return m.copyFromPoints(C,U,K),m}static FromPositionAndNormal(C,U){const K=new O(0,0,0,0);return this.FromPositionAndNormalToRef(C,U,K)}static FromPositionAndNormalToRef(C,U,K){return K.normal.m(U),K.normal.normalize(),K.d=-C.dot(K.normal),K}static SignedDistanceToPlaneFromPositionAndNormal(C,U,K){const O=-(U.x*C.x+U.y*C.y+U.z*C.z);return m.bU.Dot(K,U)+O}}O._TmpMatrix=m.Matrix.Identity()},11859:(C,U,K)=>{K.d(U,{d:()=>m});class m{constructor(C,U){this.width=C,this.height=U}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let C=0|this.width;return C=397*C^this.height,C}m(C){this.width=C.width,this.height=C.height}Ee(C,U){return this.width=C,this.height=U,this}set(C,U){return this.Ee(C,U)}multiplyByFloats(C,U){return new m(this.width*C,this.height*U)}clone(){return new m(this.width,this.height)}equals(C){return!!C&&(this.width===C.width&&this.height===C.height)}get surface(){return this.width*this.height}static Zero(){return new m(0,0)}add(C){return new m(this.width+C.width,this.height+C.height)}vU(C){return new m(this.width-C.width,this.height-C.height)}scale(C){return new m(this.width*C,this.height*C)}static Lerp(C,U,K){const O=C.width+(U.width-C.width)*K,X=C.height+(U.height-C.height)*K;return new m(O,X)}}},11820:(C,U,K)=>{K.d(U,{e:()=>X,g:()=>A});const m={},O={};function X(C){const U=C.getClassName();return O[U]||(O[U]={}),O[U]}function A(C){const U=C.getClassName();if(m[U])return m[U];m[U]={};const K=m[U];let X=C,A=U;for(;A;){const C=O[A];for(const O in C)K[O]=C[O];let U,m=!1;do{if(U=Object.getPrototypeOf(X),!U.getClassName){m=!0;break}if(U.getClassName()!==A)break;X=U}while(U);if(m)break;A=U.getClassName(),X=U}return K}},11818:(C,U,K)=>{K.d(U,{A:()=>E,B:()=>Q,D:()=>e,H:()=>j,L:()=>p,O:()=>A,d:()=>X,g:()=>f,k:()=>u,o:()=>t,s:()=>b,t:()=>z,u:()=>v,y:()=>V});var m=K(11820);function O(C,U){return(K,O)=>{const X=(0,m.e)(K);X[O]||(X[O]={type:C,sourceName:U})}}function X(C){return function(C){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(K,m)=>{const O=U||"_"+m;Object.defineProperty(K,m,{get:function(){return this[O]},set:function(U){var m;"function"===typeof(null===(m=this[O])||void 0===m?void 0:m.equals)&&this[O].equals(U)||this[O]!==U&&(this[O]=U,K[C].apply(this))},enumerable:!0,configurable:!0})}}(C,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function A(C){return O(0,C)}function e(C){return O(1,C)}function t(C){return O(2,C)}function z(C){return O(3,C)}function j(C){return O(4,C)}function p(C){return O(5,C)}function E(C){return O(6,C)}function u(C){return O(7,C)}function b(C){return O(8,C)}function v(C){return O(9,C)}function Q(C){return O(10,C)}function V(C){return O(12,C)}function f(C,U,K,m){const O=K.value;K.value=function(){let K=O;if("undefined"!==typeof _native&&_native[U]){const C=_native[U];K=m?function(){return m(...arguments)?C(...arguments):O(...arguments)}:C}return C[U]=K,K(...arguments)}}f.filter=function(C){return(U,K,m)=>f(U,K,m,C)}},11863:(C,U,K)=>{K.d(U,{c:()=>z});var m=K(11696),O=K(11872),X=K(11879),A=K(11827),e=K(11820);const t=function(C,U,K){let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const X=C();O.d&&O.d.HasTags(U)&&O.d.AddTagsTo(X,O.d.GetTags(U,!0));const A=(0,e.g)(X),t={};for(const O in A){const C=A[O],e=U[O],j=C.type;if(void 0!==e&&null!==e&&("uniqueId"!==O||z.AllowLoadingUniqueId))switch(j){case 0:case 6:case 9:case 11:X[O]=e;break;case 1:m.cloneTexturesOnlyOnce&&t[e.uniqueId]?X[O]=t[e.uniqueId]:(X[O]=K||e.isRenderTarget?e:e.clone(),t[e.uniqueId]=X[O]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:X[O]=K?e:e.clone()}}return X};class z{static AppendSerializedAnimations(C,U){if(C.animations){U.animations=[];for(let K=0;K<C.animations.length;K++){const m=C.animations[K];U.animations.push(m.serialize())}}}static Serialize(C,U){U||(U={}),O.d&&(U.tags=O.d.GetTags(C));const K=(0,e.g)(C);for(const m in K){const O=K[m],X=O.sourceName||m,A=O.type,e=C[m];if(void 0!==e&&null!==e&&("uniqueId"!==m||z.AllowLoadingUniqueId))switch(A){case 0:U[X]=e;break;case 1:case 3:case 7:case 9:U[X]=e.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:U[X]=e.Oe();break;case 6:case 11:U[X]=e.id}}return U}static ParseProperties(C,U,K,m){m||(m="");const O=(0,e.g)(U);for(const e in O){const t=O[e],j=C[t.sourceName||e],p=t.type;if(void 0!==j&&null!==j&&("uniqueId"!==e||z.AllowLoadingUniqueId)){const C=U;switch(p){case 0:C[e]=j;break;case 1:K&&(C[e]=z._TextureParser(j,K,m));break;case 2:C[e]=X.fU.FU(j);break;case 3:C[e]=z._FresnelParametersParser(j);break;case 4:C[e]=A.Vector2.FU(j);break;case 5:C[e]=A.bU.FU(j);break;case 6:K&&(C[e]=K.getLastMeshById(j));break;case 7:C[e]=z._ColorCurvesParser(j);break;case 8:C[e]=X.ve.FU(j);break;case 9:C[e]=z._ImageProcessingConfigurationParser(j);break;case 10:C[e]=A.Quaternion.FU(j);break;case 11:K&&(C[e]=K.getCameraById(j));break;case 12:C[e]=A.Matrix.FU(j)}}}}static Parse(C,U,K){let m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const X=C();return O.d&&O.d.AddTagsTo(X,U.tags),z.ParseProperties(U,X,K,m),X}static Clone(C,U){return t(C,U,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(C,U){return t(C,U,!0)}}z.AllowLoadingUniqueId=!1,z._ImageProcessingConfigurationParser=C=>{throw(0,m.b)("ImageProcessingConfiguration")},z._FresnelParametersParser=C=>{throw(0,m.b)("FresnelParameters")},z._ColorCurvesParser=C=>{throw(0,m.b)("ColorCurves")},z._TextureParser=(C,U,K)=>{throw(0,m.b)("Texture")}},11872:(C,U,K)=>{K.d(U,{d:()=>O});class m{static Eval(C,U){return"true"===(C=C.match(/\([^()]*\)/g)?C.replace(/\([^()]*\)/g,(C=>(C=C.slice(1,C.length-1),m._HandleParenthesisContent(C,U)))):m._HandleParenthesisContent(C,U))||"false"!==C&&m.Eval(C,U)}static _HandleParenthesisContent(C,U){let K;U=U||(C=>"true"===C);const O=C.split("||");for(const X in O)if(Object.prototype.hasOwnProperty.call(O,X)){let C=m._SimplifyNegation(O[X].trim());const A=C.split("&&");if(A.length>1)for(let O=0;O<A.length;++O){const X=m._SimplifyNegation(A[O].trim());if(K="true"!==X&&"false"!==X?"!"===X[0]?!U(X.substring(1)):U(X):"true"===X,!K){C="false";break}}if(K||"true"===C){K=!0;break}K="true"!==C&&"false"!==C?"!"===C[0]?!U(C.substring(1)):U(C):"true"===C}return K?"true":"false"}static _SimplifyNegation(C){return"!true"===(C=(C=C.replace(/^[\s!]+/,(C=>(C=C.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?C="false":"!false"===C&&(C="true"),C}}class O{static EnableFor(C){C._tags=C._tags||{},C.hasTags=()=>O.HasTags(C),C.addTags=U=>O.AddTagsTo(C,U),C.removeTags=U=>O.RemoveTagsFrom(C,U),C.matchesTagsQuery=U=>O.MatchesQuery(C,U)}static DisableFor(C){delete C._tags,delete C.hasTags,delete C.addTags,delete C.removeTags,delete C.matchesTagsQuery}static HasTags(C){if(!C._tags)return!1;const U=C._tags;for(const K in U)if(Object.prototype.hasOwnProperty.call(U,K))return!0;return!1}static GetTags(C){let U=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!C._tags)return null;if(U){const U=[];for(const K in C._tags)Object.prototype.hasOwnProperty.call(C._tags,K)&&!0===C._tags[K]&&U.push(K);return U.join(" ")}return C._tags}static AddTagsTo(C,U){if(!U)return;if("string"!==typeof U)return;const K=U.split(" ");for(const m of K)O._AddTagTo(C,m)}static _AddTagTo(C,U){""!==(U=U.trim())&&"true"!==U&&"false"!==U&&(U.match(/[\s]/)||U.match(/^([!]|([|]|[&]){2})/)||(O.EnableFor(C),C._tags[U]=!0))}static RemoveTagsFrom(C,U){if(!O.HasTags(C))return;const K=U.split(" ");for(const m in K)O._RemoveTagFrom(C,K[m])}static _RemoveTagFrom(C,U){delete C._tags[U]}static MatchesQuery(C,U){return void 0===U||(""===U?O.HasTags(C):m.Eval(U,(U=>O.HasTags(C)&&C._tags[U])))}}},11810:(C,U,K)=>{K.d(U,{d:()=>m});function m(C,U,K,m){var O,X=arguments.length,A=X<3?U:null===m?m=Object.getOwnPropertyDescriptor(U,K):m;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)A=Reflect.decorate(C,U,K,m);else for(var e=C.length-1;e>=0;e--)(O=C[e])&&(A=(X<3?O(A):X>3?O(U,K,A):O(U,K))||A);return X>3&&A&&Object.defineProperty(U,K,A),A}Object.create;Object.create}}]);