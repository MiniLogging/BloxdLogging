"use strict";(self["80dd64vgxnn"]=self["80dd64vgxnn"]||[]).push([[13],{12791:(mm,o,u)=>{u.d(o,{d:()=>f});let f=!1},12760:(mm,o,u)=>{u.d(o,{c:()=>q});var f=u(12729),B=u(12732),O=u(12556),r=u(12740),w=u(12596),p=u(12711),K=(u(12605),u(12764));class z{get wrapU(){return this._wrapU}set wrapU(mm){this._wrapU=mm}get wrapV(){return this._wrapV}set wrapV(mm){this._wrapV=mm}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(mm){this._texture&&(this._texture.isCube=mm)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(mm){this._texture&&(this._texture.is3D=mm)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(mm){this._texture&&(this._texture.is2DArray=mm)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(mm){return void 0!==(null===mm||void 0===mm?void 0:mm.shareDepth)}constructor(mm){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=K.b.Zero(),this._cachedBaseSize=K.b.Zero(),this._initialSamplingMode=2,this._texture=z._IsRenderTargetWrapper(mm)?mm.texture:mm,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(mm){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(mm,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var Y=u(12766);class q extends z{set Uf(mm){this._hasAlpha!==mm&&(this._hasAlpha=mm,this._scene&&this._scene.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))))}get Uf(){return this._hasAlpha}set getAlphaFromRGB(mm){this._getAlphaFromRGB!==mm&&(this._getAlphaFromRGB=mm,this._scene&&this._scene.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(mm){this._coordinatesIndex!==mm&&(this._coordinatesIndex=mm,this._scene&&this._scene.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(mm){this._coordinatesMode!==mm&&(this._coordinatesMode=mm,this._scene&&this._scene.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(mm){this._wrapU=mm}get wrapV(){return this._wrapV}set wrapV(mm){this._wrapV=mm}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(mm){this._texture?this._texture.isCube=mm:this._isCube=mm}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(mm){this._texture&&(this._texture.is3D=mm)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(mm){this._texture&&(this._texture.is2DArray=mm)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(mm){var o;if(this._texture){if(this._texture._gammaSpace===mm)return;this._texture._gammaSpace=mm}else{if(this._gammaSpace===mm)return;this._gammaSpace=mm}null===(o=this.Pm())||void 0===o||o.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(mm){var o;mm!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=mm),null===(o=this.Pm())||void 0===o||o.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(mm){this._texture&&(this._texture._lodGenerationOffset=mm)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(mm){this._texture&&(this._texture._lodGenerationScale=mm)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(mm){this._texture&&(this._texture._linearSpecularLOD=mm)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(mm){this._texture&&(this._texture._irradianceTexture=mm)}get uid(){return this._uid||(this._uid=(0,p.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(mm){this._onDisposeObserver&&this.Jf.remove(this._onDisposeObserver),this._onDisposeObserver=this.Jf.add(mm)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Jf=new O.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,mm?q._IsScene(mm)?this._scene=mm:this._engine=mm:this._scene=w.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=o,this._uid=null}Pm(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return r.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return r.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(mm){}get canRescale(){return!1}_getFromCache(mm,o,u,f,B,O){const r=this._getEngine();if(!r)return null;const w=r._getUseSRGBBuffer(!!B,o),p=r.getLoadedTexturesCache();for(let K=0;K<p.length;K++){const r=p[K];if((void 0===B||w===r._useSRGBBuffer)&&(void 0===f||f===r.invertY)&&r.url===mm&&r.generateMipMaps===!o&&(!u||u===r.samplingMode)&&(void 0===O||O===r.isCube))return r.incrementReferences(),r}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const mm=this.Pm();mm&&mm.markAllMaterialsAsDirty(1)}readPixels(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const K=this._getEngine();if(!K)return null;const z=this.getSize();let Y=z.width,q=z.height;0!==o&&(Y/=Math.pow(2,o),q/=Math.pow(2,o),Y=Math.round(Y),q=Math.round(q)),w=Math.min(Y,w),p=Math.min(q,p);try{return this._texture.isCube?K._readTexturePixels(this._texture,w,p,mm,o,u,f,B,O,r):K._readTexturePixels(this._texture,w,p,-1,o,u,f,B,O,r)}catch(x){return null}}_readPixelsSync(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const O=this.getSize();let r=O.width,w=O.height;const p=this._getEngine();if(!p)return null;0!=o&&(r/=Math.pow(2,o),w/=Math.pow(2,o),r=Math.round(r),w=Math.round(w));try{return this._texture.isCube?p._readTexturePixelsSync(this._texture,r,w,mm,o,u,f,B):p._readTexturePixelsSync(this._texture,r,w,-1,o,u,f,B)}catch(K){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const mm=this._scene.textures.indexOf(this);if(mm>=0&&this._scene.textures.splice(mm,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const mm=this._parentContainer.textures.indexOf(this);mm>-1&&this._parentContainer.textures.splice(mm,1),this._parentContainer=null}}this.Jf.notifyObservers(this),this.Jf.clear(),this.metadata=null,super.dispose()}serialize(){let mm=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!mm)return null;const o=Y.c.Serialize(this);return Y.c.AppendSerializedAnimations(this,o),o}static WhenAllReady(mm,o){let u=mm.length;if(0!==u)for(let f=0;f<mm.length;f++){const B=mm[f];if(B.isReady())0===--u&&o();else{const mm=B.onLoadObservable;mm?mm.addOnce((()=>{0===--u&&o()})):0===--u&&o()}}else o()}static _IsScene(mm){return"Scene"===mm.getClassName()}}q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,f.d)([(0,B.J)()],q.prototype,"uniqueId",void 0),(0,f.d)([(0,B.J)()],q.prototype,"name",void 0),(0,f.d)([(0,B.J)()],q.prototype,"displayName",void 0),(0,f.d)([(0,B.J)()],q.prototype,"metadata",void 0),(0,f.d)([(0,B.J)("Uf")],q.prototype,"_hasAlpha",void 0),(0,f.d)([(0,B.J)("getAlphaFromRGB")],q.prototype,"_getAlphaFromRGB",void 0),(0,f.d)([(0,B.J)()],q.prototype,"level",void 0),(0,f.d)([(0,B.J)("coordinatesIndex")],q.prototype,"_coordinatesIndex",void 0),(0,f.d)([(0,B.J)()],q.prototype,"optimizeUVAllocation",void 0),(0,f.d)([(0,B.J)("coordinatesMode")],q.prototype,"_coordinatesMode",void 0),(0,f.d)([(0,B.J)()],q.prototype,"wrapU",null),(0,f.d)([(0,B.J)()],q.prototype,"wrapV",null),(0,f.d)([(0,B.J)()],q.prototype,"wrapR",void 0),(0,f.d)([(0,B.J)()],q.prototype,"anisotropicFilteringLevel",void 0),(0,f.d)([(0,B.J)()],q.prototype,"isCube",null),(0,f.d)([(0,B.J)()],q.prototype,"is3D",null),(0,f.d)([(0,B.J)()],q.prototype,"is2DArray",null),(0,f.d)([(0,B.J)()],q.prototype,"gammaSpace",null),(0,f.d)([(0,B.J)()],q.prototype,"invertZ",void 0),(0,f.d)([(0,B.J)()],q.prototype,"lodLevelInAlpha",void 0),(0,f.d)([(0,B.J)()],q.prototype,"lodGenerationOffset",null),(0,f.d)([(0,B.J)()],q.prototype,"lodGenerationScale",null),(0,f.d)([(0,B.J)()],q.prototype,"linearSpecularLOD",null),(0,f.d)([(0,B.B)()],q.prototype,"irradianceTexture",null),(0,f.d)([(0,B.J)()],q.prototype,"isRenderTarget",void 0)},12727:(mm,o,u)=>{u.d(o,{b:()=>Q});var f=u(12729),B=u(12732),O=u(12556),r=u(12740),w=u(12760),p=u(12702),K=u(12589),z=u(12634),Y=u(12693),q=u(12783),x=u(12617);function H(mm,o){let u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const f=o.width,B=o.height;if(mm instanceof Float32Array){let o=mm.byteLength/mm.BYTES_PER_ELEMENT;const u=new Uint8Array(o);for(;--o>=0;){let f=mm[o];f<0?f=0:f>1&&(f=1),u[o]=255*f}mm=u}const O=document.createElement("canvas");O.width=f,O.height=B;const r=O.getContext("2d");if(!r)return null;const w=r.createImageData(f,B);if(w.data.set(mm),r.putImageData(w,0,0),u){const mm=document.createElement("canvas");mm.width=f,mm.height=B;const o=mm.getContext("2d");return o?(o.translate(0,B),o.scale(1,-1),o.drawImage(O,0,0),mm.toDataURL("image/png")):null}return O.toDataURL("image/png")}function E(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const f=mm.getInternalTexture();if(!f)return null;const B=mm._readPixelsSync(o,u);return B?H(B,mm.getSize(),f.invertY):null}async function M(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const f=mm.getInternalTexture();if(!f)return null;const B=await mm.readPixels(o,u);return B?H(B,mm.getSize(),f.invertY):null}var l=u(12791),t=u(12766);class Q extends w.c{static _CreateVideoTexture(mm,o,u){arguments.length>5&&void 0!==arguments[5]||Q.TRILINEAR_SAMPLINGMODE;throw(0,K.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(mm){this._isBlocking=mm}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(mm,o,u,f){let B,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Q.TRILINEAR_SAMPLINGMODE,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,K=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Y=arguments.length>8&&void 0!==arguments[8]&&arguments[8],q=arguments.length>9?arguments[9]:void 0,x=arguments.length>10?arguments[10]:void 0,H=arguments.length>11?arguments[11]:void 0,E=arguments.length>12?arguments[12]:void 0,M=arguments.length>13?arguments[13]:void 0;super(o),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new O.d,this._isBlocking=!0,this.name=mm||"",this.url=mm;let t=!1,b=null,J=!0;"object"===typeof u&&null!==u?(B=u.noMipmap??!1,f=u.invertY??!l.d,r=u.samplingMode??Q.TRILINEAR_SAMPLINGMODE,w=u.T??null,p=u.onError??null,K=u.buffer??null,Y=u.deleteBuffer??!1,q=u.format,x=u.mimeType,H=u.loaderOptions,E=u.creationFlags,t=u.useSRGBBuffer??!1,b=u.internalTexture??null,J=u.gammaSpace??J,M=u.forcedExtension??M):B=!!u,this._gammaSpace=J,this._noMipmap=B,this._invertY=void 0===f?!l.d:f,this._initialSamplingMode=r,this._buffer=K,this._deleteBuffer=Y,this._mimeType=x,this._loaderOptions=H,this._creationFlags=E,this._useSRGBBuffer=t,this._forcedExtension=M,void 0!==q&&(this._format=q);const N=this.Pm(),S=this._getEngine();if(!S)return;S.onBeforeTextureInitObservable.notifyObservers(this);const P=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),w&&w(),!this.isBlocking&&N&&N.resetCachedMaterial()},R=(mm,o)=>{this._loadingError=!0,this._errorObject={message:mm,exception:o},p&&p(mm,o),Q.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!b)return this._delayedOnLoad=P,void(this._delayedOnError=R);if(this._texture=b??this._getFromCache(this.url,B,r,this._invertY,t,this.isCube),this._texture)if(this._texture.isReady)z.c.SetImmediate((()=>P()));else{const mm=this._texture.onLoadedObservable.add(P);this._texture.onErrorObservable.add((o=>{var u;R(o.message,o.exception),null===(u=this._texture)||void 0===u||u.onLoadedObservable.remove(mm)}))}else if(N&&N.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=P,this._delayedOnError=R;else{try{this._texture=S.createTexture(this.url,B,this._invertY,N,r,P,R,this._buffer,void 0,this._format,this._forcedExtension,x,H,E,t)}catch(g){throw R("error loading",g),g}Y&&(this._buffer=null)}}updateURL(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Pm().markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=mm),this.url=mm,this._buffer=o,this._forcedExtension=f,this.delayLoadState=4,u&&(this._delayedOnLoad=u),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const mm=this.Pm();mm&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?z.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=mm.getEngine().createTexture(this.url,this._noMipmap,this._invertY,mm,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(mm,o,u,f){mm*=this._cachedUScale,o*=this._cachedVScale,mm-=this.uRotationCenter*this._cachedUScale,o-=this.vRotationCenter*this._cachedVScale,u-=this.wRotationCenter,r.lo.TransformCoordinatesFromFloatsToRef(mm,o,u,this._rowGenerationMatrix,f),f.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,f.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,f.z+=this.wRotationCenter}getTextureMatrix(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*mm===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*mm,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=r.Matrix.Zero(),this._rowGenerationMatrix=new r.Matrix,this._t0=r.lo.Zero(),this._t1=r.lo.Zero(),this._t2=r.lo.Zero()),r.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(r.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,r.TmpVectors.Matrix[0]),r.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,r.TmpVectors.Matrix[1]),r.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,r.TmpVectors.Matrix[2]),r.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,r.TmpVectors.Matrix[3]),r.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(r.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(r.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(r.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.LY(this._t0),this._t2.LY(this._t0),r.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const o=this.Pm();if(!o)return this._cachedTextureMatrix;const u=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&u!==this._cachedIdentity3x2&&o.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const mm=this.Pm();if(!mm)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==Q.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===mm.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=r.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=r.Matrix.Zero());const o=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case Q.PLANAR_MODE:r.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case Q.PROJECTION_MODE:{r.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const o=mm.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=o.updateFlag,o.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:r.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return o&&mm.markAllMaterialsAsDirty(1,(mm=>mm.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const mm={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,T:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return t.c.Clone((()=>new Q(this._texture?this._texture.url:null,this.Pm(),mm)),this)}serialize(){var mm;const o=this.name;Q.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const u=super.serialize(Q._SerializeInternalTextureUniqueId);if(!u)return null;if(Q.SerializeBuffers||Q.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))u.base64String=this._buffer,u.name=u.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const mm=this.mimeType||"image/png";u.base64String=`data:${mm};base64,${(0,x.i)(this._buffer)}`}else(Q.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(u.base64String=!this._engine||this._engine._features.supportSyncTextureRead?E(this):M(this));var f;(u.invertY=this._invertY,u.samplingMode=this.samplingMode,u._creationFlags=this._creationFlags,u._useSRGBBuffer=this._useSRGBBuffer,Q._SerializeInternalTextureUniqueId)&&(u.internalTextureUniqueId=null===(f=this._texture)||void 0===f?void 0:f.uniqueId);return u.internalTextureLabel=null===(mm=this._texture)||void 0===mm?void 0:mm.label,u.noMipmap=this._noMipmap,this.name=o,u}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(mm,o,u){if(mm.customType){const f=Y.e.Instantiate(mm.customType).Parse(mm,o,u);return mm.samplingMode&&f.updateSamplingMode&&f._samplingMode&&f._samplingMode!==mm.samplingMode&&f.updateSamplingMode(mm.samplingMode),f}if(mm.isCube&&!mm.isRenderTarget)return Q._CubeTextureParser(mm,o,u);const f=void 0!==mm.internalTextureUniqueId;if(!mm.name&&!mm.isRenderTarget&&!f)return null;let B;if(f){const u=o.getEngine().getLoadedTexturesCache();for(const o of u)if(o.uniqueId===mm.internalTextureUniqueId){B=o;break}}const O=o=>{if(o&&o._texture&&(o._texture._cachedWrapU=null,o._texture._cachedWrapV=null,o._texture._cachedWrapR=null),mm.samplingMode){const u=mm.samplingMode;o&&o.samplingMode!==u&&o.updateSamplingMode(u)}if(o&&mm.animations)for(let u=0;u<mm.animations.length;u++){const f=mm.animations[u],B=(0,p.b)("BABYLON.Animation");B&&o.animations.push(B.Parse(f))}o&&o._texture&&(f&&!B&&o._texture._setUniqueId(mm.internalTextureUniqueId),o._texture.label=mm.internalTextureLabel)};return t.c.Parse((()=>{let f=!0;if(mm.noMipmap&&(f=!1),mm.mirrorPlane){const u=Q._CreateMirror(mm.name,mm.renderTargetSize,o,f);return u._waitingRenderList=mm.renderList,u.mirrorPlane=q.c.So(mm.mirrorPlane),O(u),u}if(mm.isRenderTarget){let u=null;if(mm.isCube){if(o.reflectionProbes)for(let f=0;f<o.reflectionProbes.length;f++){const u=o.reflectionProbes[f];if(u.name===mm.name)return u.cubeTexture}}else u=Q._CreateRenderTargetTexture(mm.name,mm.renderTargetSize,o,f,mm._creationFlags??0),u._waitingRenderList=mm.renderList;return O(u),u}if(mm.isVideo){const B=Q._CreateVideoTexture(u+(mm.url||mm.name),u+(mm.src||mm.url),o,f,mm.invertY,mm.samplingMode,mm.settings||{});return O(B),B}{let r;if(mm.base64String&&!B)r=Q.CreateFromBase64String(mm.base64String,mm.base64String,o,!f,mm.invertY,mm.samplingMode,(()=>{O(r)}),mm._creationFlags??0,mm._useSRGBBuffer??!1),r.name=mm.name;else{let w;w=mm.name&&(mm.name.indexOf("://")>0||mm.name.startsWith("data:"))?mm.name:u+mm.name,mm.url&&(mm.url.startsWith("data:")||Q.UseSerializedUrlIfAny)&&(w=mm.url);const p={noMipmap:!f,invertY:mm.invertY,samplingMode:mm.samplingMode,T:()=>{O(r)},internalTexture:B};r=new Q(w,o,p)}return r}}),mm,o)}static CreateFromBase64String(mm,o,u,f,B){let O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Q.TRILINEAR_SAMPLINGMODE;return new Q("data:"+o,u,f,B,O,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,mm,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(mm,o,u){let f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],B=arguments.length>4?arguments[4]:void 0,O=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Q.TRILINEAR_SAMPLINGMODE,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,K=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,z=arguments.length>10?arguments[10]:void 0,Y=arguments.length>11?arguments[11]:void 0;return"data:"!==mm.substring(0,5)&&(mm="data:"+mm),new Q(mm,u,B,O,r,w,p,o,f,K,void 0,void 0,z,Y)}}Q.SerializeBuffers=!0,Q.ForceSerializeBuffers=!1,Q.OnTextureLoadErrorObservable=new O.d,Q._SerializeInternalTextureUniqueId=!1,Q._CubeTextureParser=(mm,o,u)=>{throw(0,K.d)("CubeTexture")},Q._CreateMirror=(mm,o,u,f)=>{throw(0,K.d)("MirrorTexture")},Q._CreateRenderTargetTexture=(mm,o,u,f,B)=>{throw(0,K.d)("RenderTargetTexture")},Q.NEAREST_SAMPLINGMODE=1,Q.NEAREST_NEAREST_MIPLINEAR=8,Q.BILINEAR_SAMPLINGMODE=2,Q.LINEAR_LINEAR_MIPNEAREST=11,Q.TRILINEAR_SAMPLINGMODE=3,Q.LINEAR_LINEAR_MIPLINEAR=3,Q.NEAREST_NEAREST_MIPNEAREST=4,Q.NEAREST_LINEAR_MIPNEAREST=5,Q.NEAREST_LINEAR_MIPLINEAR=6,Q.NEAREST_LINEAR=7,Q.NEAREST_NEAREST=1,Q.LINEAR_NEAREST_MIPNEAREST=9,Q.LINEAR_NEAREST_MIPLINEAR=10,Q.LINEAR_LINEAR=2,Q.LINEAR_NEAREST=12,Q.EXPLICIT_MODE=0,Q.SPHERICAL_MODE=1,Q.PLANAR_MODE=2,Q.CUBIC_MODE=3,Q.PROJECTION_MODE=4,Q.SKYBOX_MODE=5,Q.INVCUBIC_MODE=6,Q.EQUIRECTANGULAR_MODE=7,Q.FIXED_EQUIRECTANGULAR_MODE=8,Q.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Q.CLAMP_ADDRESSMODE=0,Q.WRAP_ADDRESSMODE=1,Q.MIRROR_ADDRESSMODE=2,Q.UseSerializedUrlIfAny=!1,(0,f.d)([(0,B.J)()],Q.prototype,"url",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"uOffset",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"vOffset",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"uScale",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"vScale",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"uAng",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"vAng",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"wAng",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"uRotationCenter",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"vRotationCenter",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"wRotationCenter",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"homogeneousRotationInUVTransform",void 0),(0,f.d)([(0,B.J)()],Q.prototype,"isBlocking",null),(0,p.c)("BABYLON.Texture",Q),t.c._TextureParser=Q.Parse},12783:(mm,o,u)=>{u.d(o,{c:()=>B});var f=u(12740);class B{constructor(mm,o,u,B){this.normal=new f.lo(mm,o,u),this.d=B}df(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new B(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let mm=this.normal.getHashCode();return mm=397*mm^this.d,mm}normalize(){const mm=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let o=0;return 0!==mm&&(o=1/mm),this.normal.x*=o,this.normal.y*=o,this.normal.z*=o,this.d*=o,this}transform(mm){const o=B._TmpMatrix;mm.invertToRef(o);const u=o.m,f=this.normal.x,O=this.normal.y,r=this.normal.z,w=this.d,p=f*u[0]+O*u[1]+r*u[2]+w*u[3],K=f*u[4]+O*u[5]+r*u[6]+w*u[7],z=f*u[8]+O*u[9]+r*u[10]+w*u[11],Y=f*u[12]+O*u[13]+r*u[14]+w*u[15];return new B(p,K,z,Y)}dotCoordinate(mm){return this.normal.x*mm.x+this.normal.y*mm.y+this.normal.z*mm.z+this.d}copyFromPoints(mm,o,u){const f=o.x-mm.x,B=o.y-mm.y,O=o.z-mm.z,r=u.x-mm.x,w=u.y-mm.y,p=u.z-mm.z,K=B*p-O*w,z=O*r-f*p,Y=f*w-B*r,q=Math.sqrt(K*K+z*z+Y*Y);let x;return x=0!==q?1/q:0,this.normal.x=K*x,this.normal.y=z*x,this.normal.z=Y*x,this.d=-(this.normal.x*mm.x+this.normal.y*mm.y+this.normal.z*mm.z),this}isFrontFacingTo(mm,o){return f.lo.Dot(this.normal,mm)<=o}signedDistanceTo(mm){return f.lo.Dot(mm,this.normal)+this.d}static So(mm){return new B(mm[0],mm[1],mm[2],mm[3])}static FromPoints(mm,o,u){const f=new B(0,0,0,0);return f.copyFromPoints(mm,o,u),f}static FromPositionAndNormal(mm,o){const u=new B(0,0,0,0);return this.FromPositionAndNormalToRef(mm,o,u)}static FromPositionAndNormalToRef(mm,o,u){return u.normal.p(o),u.normal.normalize(),u.d=-mm.dot(u.normal),u}static SignedDistanceToPlaneFromPositionAndNormal(mm,o,u){const B=-(o.x*mm.x+o.y*mm.y+o.z*mm.z);return f.lo.Dot(u,o)+B}}B._TmpMatrix=f.Matrix.Identity()},12764:(mm,o,u)=>{u.d(o,{b:()=>f});class f{constructor(mm,o){this.width=mm,this.height=o}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let mm=0|this.width;return mm=397*mm^this.height,mm}p(mm){this.width=mm.width,this.height=mm.height}Op(mm,o){return this.width=mm,this.height=o,this}set(mm,o){return this.Op(mm,o)}multiplyByFloats(mm,o){return new f(this.width*mm,this.height*o)}clone(){return new f(this.width,this.height)}equals(mm){return!!mm&&(this.width===mm.width&&this.height===mm.height)}get surface(){return this.width*this.height}static Zero(){return new f(0,0)}add(mm){return new f(this.width+mm.width,this.height+mm.height)}Qo(mm){return new f(this.width-mm.width,this.height-mm.height)}scale(mm){return new f(this.width*mm,this.height*mm)}static Lerp(mm,o,u){const B=mm.width+(o.width-mm.width)*u,O=mm.height+(o.height-mm.height)*u;return new f(B,O)}}},12738:(mm,o,u)=>{u.d(o,{e:()=>O,h:()=>r});const f={},B={};function O(mm){const o=mm.getClassName();return B[o]||(B[o]={}),B[o]}function r(mm){const o=mm.getClassName();if(f[o])return f[o];f[o]={};const u=f[o];let O=mm,r=o;for(;r;){const mm=B[r];for(const B in mm)u[B]=mm[B];let o,f=!1;do{if(o=Object.getPrototypeOf(O),!o.getClassName){f=!0;break}if(o.getClassName()!==r)break;O=o}while(o);if(f)break;r=o.getClassName(),O=o}return u}},12732:(mm,o,u)=>{u.d(o,{B:()=>w,E:()=>z,F:()=>Y,J:()=>r,b:()=>O,e:()=>t,h:()=>x,l:()=>p,m:()=>H,n:()=>K,r:()=>E,t:()=>l,u:()=>q,y:()=>M});var f=u(12738);function B(mm,o){return(u,B)=>{const O=(0,f.e)(u);O[B]||(O[B]={type:mm,sourceName:o})}}function O(mm){return function(mm){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(u,f)=>{const B=o||"_"+f;Object.defineProperty(u,f,{get:function(){return this[B]},set:function(o){var f;"function"===typeof(null===(f=this[B])||void 0===f?void 0:f.equals)&&this[B].equals(o)||this[B]!==o&&(this[B]=o,u[mm].apply(this))},enumerable:!0,configurable:!0})}}(mm,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function r(mm){return B(0,mm)}function w(mm){return B(1,mm)}function p(mm){return B(2,mm)}function K(mm){return B(3,mm)}function z(mm){return B(4,mm)}function Y(mm){return B(5,mm)}function q(mm){return B(6,mm)}function x(mm){return B(7,mm)}function H(mm){return B(8,mm)}function E(mm){return B(9,mm)}function M(mm){return B(10,mm)}function l(mm){return B(12,mm)}function t(mm,o,u,f){const B=u.value;u.value=function(){let u=B;if("undefined"!==typeof _native&&_native[o]){const mm=_native[o];u=f?function(){return f(...arguments)?mm(...arguments):B(...arguments)}:mm}return mm[o]=u,u(...arguments)}}t.filter=function(mm){return(o,u,f)=>t(o,u,f,mm)}},12766:(mm,o,u)=>{u.d(o,{c:()=>K});var f=u(12589),B=u(12771),O=u(12780),r=u(12740),w=u(12738);const p=function(mm,o,u){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const O=mm();B.e&&B.e.HasTags(o)&&B.e.AddTagsTo(O,B.e.GetTags(o,!0));const r=(0,w.h)(O),p={};for(const B in r){const mm=r[B],w=o[B],z=mm.type;if(void 0!==w&&null!==w&&("uniqueId"!==B||K.AllowLoadingUniqueId))switch(z){case 0:case 6:case 9:case 11:O[B]=w;break;case 1:f.cloneTexturesOnlyOnce&&p[w.uniqueId]?O[B]=p[w.uniqueId]:(O[B]=u||w.isRenderTarget?w:w.clone(),p[w.uniqueId]=O[B]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:O[B]=u?w:w.clone()}}return O};class K{static AppendSerializedAnimations(mm,o){if(mm.animations){o.animations=[];for(let u=0;u<mm.animations.length;u++){const f=mm.animations[u];o.animations.push(f.serialize())}}}static Serialize(mm,o){o||(o={}),B.e&&(o.tags=B.e.GetTags(mm));const u=(0,w.h)(mm);for(const f in u){const B=u[f],O=B.sourceName||f,r=B.type,w=mm[f];if(void 0!==w&&null!==w&&("uniqueId"!==f||K.AllowLoadingUniqueId))switch(r){case 0:o[O]=w;break;case 1:case 3:case 7:case 9:o[O]=w.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:o[O]=w.df();break;case 6:case 11:o[O]=w.id}}return o}static ParseProperties(mm,o,u,f){f||(f="");const B=(0,w.h)(o);for(const w in B){const p=B[w],z=mm[p.sourceName||w],Y=p.type;if(void 0!==z&&null!==z&&("uniqueId"!==w||K.AllowLoadingUniqueId)){const mm=o;switch(Y){case 0:mm[w]=z;break;case 1:u&&(mm[w]=K._TextureParser(z,u,f));break;case 2:mm[w]=O.No.So(z);break;case 3:mm[w]=K._FresnelParametersParser(z);break;case 4:mm[w]=r.Vector2.So(z);break;case 5:mm[w]=r.lo.So(z);break;case 6:u&&(mm[w]=u.getLastMeshById(z));break;case 7:mm[w]=K._ColorCurvesParser(z);break;case 8:mm[w]=O.pp.So(z);break;case 9:mm[w]=K._ImageProcessingConfigurationParser(z);break;case 10:mm[w]=r.Quaternion.So(z);break;case 11:u&&(mm[w]=u.getCameraById(z));break;case 12:mm[w]=r.Matrix.So(z)}}}}static Parse(mm,o,u){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const O=mm();return B.e&&B.e.AddTagsTo(O,o.tags),K.ParseProperties(o,O,u,f),O}static Clone(mm,o){return p(mm,o,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(mm,o){return p(mm,o,!0)}}K.AllowLoadingUniqueId=!1,K._ImageProcessingConfigurationParser=mm=>{throw(0,f.d)("ImageProcessingConfiguration")},K._FresnelParametersParser=mm=>{throw(0,f.d)("FresnelParameters")},K._ColorCurvesParser=mm=>{throw(0,f.d)("ColorCurves")},K._TextureParser=(mm,o,u)=>{throw(0,f.d)("Texture")}},12771:(mm,o,u)=>{u.d(o,{e:()=>B});class f{static Eval(mm,o){return"true"===(mm=mm.match(/\([^()]*\)/g)?mm.replace(/\([^()]*\)/g,(mm=>(mm=mm.slice(1,mm.length-1),f._HandleParenthesisContent(mm,o)))):f._HandleParenthesisContent(mm,o))||"false"!==mm&&f.Eval(mm,o)}static _HandleParenthesisContent(mm,o){let u;o=o||(mm=>"true"===mm);const B=mm.split("||");for(const O in B)if(Object.prototype.hasOwnProperty.call(B,O)){let mm=f._SimplifyNegation(B[O].trim());const r=mm.split("&&");if(r.length>1)for(let B=0;B<r.length;++B){const O=f._SimplifyNegation(r[B].trim());if(u="true"!==O&&"false"!==O?"!"===O[0]?!o(O.substring(1)):o(O):"true"===O,!u){mm="false";break}}if(u||"true"===mm){u=!0;break}u="true"!==mm&&"false"!==mm?"!"===mm[0]?!o(mm.substring(1)):o(mm):"true"===mm}return u?"true":"false"}static _SimplifyNegation(mm){return"!true"===(mm=(mm=mm.replace(/^[\s!]+/,(mm=>(mm=mm.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?mm="false":"!false"===mm&&(mm="true"),mm}}class B{static EnableFor(mm){mm._tags=mm._tags||{},mm.hasTags=()=>B.HasTags(mm),mm.addTags=o=>B.AddTagsTo(mm,o),mm.removeTags=o=>B.RemoveTagsFrom(mm,o),mm.matchesTagsQuery=o=>B.MatchesQuery(mm,o)}static DisableFor(mm){delete mm._tags,delete mm.hasTags,delete mm.addTags,delete mm.removeTags,delete mm.matchesTagsQuery}static HasTags(mm){if(!mm._tags)return!1;const o=mm._tags;for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))return!0;return!1}static GetTags(mm){let o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!mm._tags)return null;if(o){const o=[];for(const u in mm._tags)Object.prototype.hasOwnProperty.call(mm._tags,u)&&!0===mm._tags[u]&&o.push(u);return o.join(" ")}return mm._tags}static AddTagsTo(mm,o){if(!o)return;if("string"!==typeof o)return;const u=o.split(" ");for(const f of u)B._AddTagTo(mm,f)}static _AddTagTo(mm,o){""!==(o=o.trim())&&"true"!==o&&"false"!==o&&(o.match(/[\s]/)||o.match(/^([!]|([|]|[&]){2})/)||(B.EnableFor(mm),mm._tags[o]=!0))}static RemoveTagsFrom(mm,o){if(!B.HasTags(mm))return;const u=o.split(" ");for(const f in u)B._RemoveTagFrom(mm,u[f])}static _RemoveTagFrom(mm,o){delete mm._tags[o]}static MatchesQuery(mm,o){return void 0===o||(""===o?B.HasTags(mm):f.Eval(o,(o=>B.HasTags(mm)&&mm._tags[o])))}}},12729:(mm,o,u)=>{u.d(o,{d:()=>f});function f(mm,o,u,f){var B,O=arguments.length,r=O<3?o:null===f?f=Object.getOwnPropertyDescriptor(o,u):f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(mm,o,u,f);else for(var w=mm.length-1;w>=0;w--)(B=mm[w])&&(r=(O<3?B(r):O>3?B(o,u,r):B(o,u))||r);return O>3&&r&&Object.defineProperty(o,u,r),r}Object.create;Object.create}}]);