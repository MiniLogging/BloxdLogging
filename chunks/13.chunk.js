"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[13],{11239:(P,f,Y)=>{Y.d(f,{d:()=>C});let C=!1},11203:(P,f,Y)=>{Y.d(f,{d:()=>r});var C=Y(11165),q=Y(11170),m=Y(11018),L=Y(11179),o=Y(11052),w=Y(11139),d=(Y(11059),Y(11209));class R{get wrapU(){return this._wrapU}set wrapU(P){this._wrapU=P}get wrapV(){return this._wrapV}set wrapV(P){this._wrapV=P}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(P){this._texture&&(this._texture.isCube=P)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(P){this._texture&&(this._texture.is3D=P)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(P){this._texture&&(this._texture.is2DArray=P)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(P){return void 0!==(null===P||void 0===P?void 0:P.shareDepth)}constructor(P){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=d.b.Zero(),this._cachedBaseSize=d.b.Zero(),this._initialSamplingMode=2,this._texture=R._IsRenderTargetWrapper(P)?P.texture:P,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(P){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(P,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var y=Y(11216);class r extends R{set Gf(P){this._hasAlpha!==P&&(this._hasAlpha=P,this._scene&&this._scene.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))))}get Gf(){return this._hasAlpha}set getAlphaFromRGB(P){this._getAlphaFromRGB!==P&&(this._getAlphaFromRGB=P,this._scene&&this._scene.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(P){this._coordinatesIndex!==P&&(this._coordinatesIndex=P,this._scene&&this._scene.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(P){this._coordinatesMode!==P&&(this._coordinatesMode=P,this._scene&&this._scene.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(P){this._wrapU=P}get wrapV(){return this._wrapV}set wrapV(P){this._wrapV=P}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(P){this._texture?this._texture.isCube=P:this._isCube=P}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(P){this._texture&&(this._texture.is3D=P)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(P){this._texture&&(this._texture.is2DArray=P)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(P){var f;if(this._texture){if(this._texture._gammaSpace===P)return;this._texture._gammaSpace=P}else{if(this._gammaSpace===P)return;this._gammaSpace=P}null===(f=this.vP())||void 0===f||f.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(P){var f;P!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=P),null===(f=this.vP())||void 0===f||f.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(P){this._texture&&(this._texture._lodGenerationOffset=P)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(P){this._texture&&(this._texture._lodGenerationScale=P)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(P){this._texture&&(this._texture._linearSpecularLOD=P)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(P){this._texture&&(this._texture._irradianceTexture=P)}get uid(){return this._uid||(this._uid=(0,w.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(P){this._onDisposeObserver&&this.vf.remove(this._onDisposeObserver),this._onDisposeObserver=this.vf.add(P)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=r.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.vf=new m.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,P?r._IsScene(P)?this._scene=P:this._engine=P:this._scene=o.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=f,this._uid=null}vP(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return L.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return L.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(P){}get canRescale(){return!1}_getFromCache(P,f,Y,C,q,m){const L=this._getEngine();if(!L)return null;const o=L._getUseSRGBBuffer(!!q,f),w=L.getLoadedTexturesCache();for(let d=0;d<w.length;d++){const L=w[d];if((void 0===q||o===L._useSRGBBuffer)&&(void 0===C||C===L.invertY)&&L.url===P&&L.generateMipMaps===!f&&(!Y||Y===L.samplingMode)&&(void 0===m||m===L.isCube))return L.incrementReferences(),L}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const P=this.vP();P&&P.markAllMaterialsAsDirty(1)}readPixels(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const d=this._getEngine();if(!d)return null;const R=this.getSize();let y=R.width,r=R.height;0!==f&&(y/=Math.pow(2,f),r/=Math.pow(2,f),y=Math.round(y),r=Math.round(r)),o=Math.min(y,o),w=Math.min(r,w);try{return this._texture.isCube?d._readTexturePixels(this._texture,o,w,P,f,Y,C,q,m,L):d._readTexturePixels(this._texture,o,w,-1,f,Y,C,q,m,L)}catch(i){return null}}_readPixelsSync(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const m=this.getSize();let L=m.width,o=m.height;const w=this._getEngine();if(!w)return null;0!=f&&(L/=Math.pow(2,f),o/=Math.pow(2,f),L=Math.round(L),o=Math.round(o));try{return this._texture.isCube?w._readTexturePixelsSync(this._texture,L,o,P,f,Y,C,q):w._readTexturePixelsSync(this._texture,L,o,-1,f,Y,C,q)}catch(d){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const P=this._scene.textures.indexOf(this);if(P>=0&&this._scene.textures.splice(P,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const P=this._parentContainer.textures.indexOf(this);P>-1&&this._parentContainer.textures.splice(P,1),this._parentContainer=null}}this.vf.notifyObservers(this),this.vf.clear(),this.metadata=null,super.dispose()}serialize(){let P=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!P)return null;const f=y.e.Serialize(this);return y.e.AppendSerializedAnimations(this,f),f}static WhenAllReady(P,f){let Y=P.length;if(0!==Y)for(let C=0;C<P.length;C++){const q=P[C];if(q.isReady())0===--Y&&f();else{const P=q.onLoadObservable;P?P.addOnce((()=>{0===--Y&&f()})):0===--Y&&f()}}else f()}static _IsScene(P){return"Scene"===P.getClassName()}}r.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,C.b)([(0,q.F)()],r.prototype,"uniqueId",void 0),(0,C.b)([(0,q.F)()],r.prototype,"name",void 0),(0,C.b)([(0,q.F)()],r.prototype,"displayName",void 0),(0,C.b)([(0,q.F)()],r.prototype,"metadata",void 0),(0,C.b)([(0,q.F)("Gf")],r.prototype,"_hasAlpha",void 0),(0,C.b)([(0,q.F)("getAlphaFromRGB")],r.prototype,"_getAlphaFromRGB",void 0),(0,C.b)([(0,q.F)()],r.prototype,"level",void 0),(0,C.b)([(0,q.F)("coordinatesIndex")],r.prototype,"_coordinatesIndex",void 0),(0,C.b)([(0,q.F)()],r.prototype,"optimizeUVAllocation",void 0),(0,C.b)([(0,q.F)("coordinatesMode")],r.prototype,"_coordinatesMode",void 0),(0,C.b)([(0,q.F)()],r.prototype,"wrapU",null),(0,C.b)([(0,q.F)()],r.prototype,"wrapV",null),(0,C.b)([(0,q.F)()],r.prototype,"wrapR",void 0),(0,C.b)([(0,q.F)()],r.prototype,"anisotropicFilteringLevel",void 0),(0,C.b)([(0,q.F)()],r.prototype,"isCube",null),(0,C.b)([(0,q.F)()],r.prototype,"is3D",null),(0,C.b)([(0,q.F)()],r.prototype,"is2DArray",null),(0,C.b)([(0,q.F)()],r.prototype,"gammaSpace",null),(0,C.b)([(0,q.F)()],r.prototype,"invertZ",void 0),(0,C.b)([(0,q.F)()],r.prototype,"lodLevelInAlpha",void 0),(0,C.b)([(0,q.F)()],r.prototype,"lodGenerationOffset",null),(0,C.b)([(0,q.F)()],r.prototype,"lodGenerationScale",null),(0,C.b)([(0,q.F)()],r.prototype,"linearSpecularLOD",null),(0,C.b)([(0,q.x)()],r.prototype,"irradianceTexture",null),(0,C.b)([(0,q.F)()],r.prototype,"isRenderTarget",void 0)},11160:(P,f,Y)=>{Y.d(f,{c:()=>V});var C=Y(11165),q=Y(11170),m=Y(11018),L=Y(11179),o=Y(11203),w=Y(11134),d=Y(11043),R=Y(11087),y=Y(11132),r=Y(11230),i=Y(11071);function u(P,f){let Y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const C=f.width,q=f.height;if(P instanceof Float32Array){let f=P.byteLength/P.BYTES_PER_ELEMENT;const Y=new Uint8Array(f);for(;--f>=0;){let C=P[f];C<0?C=0:C>1&&(C=1),Y[f]=255*C}P=Y}const m=document.createElement("canvas");m.width=C,m.height=q;const L=m.getContext("2d");if(!L)return null;const o=L.createImageData(C,q);if(o.data.set(P),L.putImageData(o,0,0),Y){const P=document.createElement("canvas");P.width=C,P.height=q;const f=P.getContext("2d");return f?(f.translate(0,q),f.scale(1,-1),f.drawImage(m,0,0),P.toDataURL("image/png")):null}return m.toDataURL("image/png")}function g(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=P.getInternalTexture();if(!C)return null;const q=P._readPixelsSync(f,Y);return q?u(q,P.getSize(),C.invertY):null}async function S(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=P.getInternalTexture();if(!C)return null;const q=await P.readPixels(f,Y);return q?u(q,P.getSize(),C.invertY):null}var K=Y(11239),M=Y(11216);class V extends o.d{static _CreateVideoTexture(P,f,Y){arguments.length>5&&void 0!==arguments[5]||V.TRILINEAR_SAMPLINGMODE;throw(0,d.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(P){this._isBlocking=P}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(P,f,Y,C){let q,L=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.TRILINEAR_SAMPLINGMODE,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y=arguments.length>8&&void 0!==arguments[8]&&arguments[8],r=arguments.length>9?arguments[9]:void 0,i=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0,g=arguments.length>12?arguments[12]:void 0,S=arguments.length>13?arguments[13]:void 0;super(f),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new m.e,this._isBlocking=!0,this.name=P||"",this.url=P;let M=!1,O=null,n=!0;"object"===typeof Y&&null!==Y?(q=Y.noMipmap??!1,C=Y.invertY??!K.d,L=Y.samplingMode??V.TRILINEAR_SAMPLINGMODE,o=Y.p??null,w=Y.onError??null,d=Y.buffer??null,y=Y.deleteBuffer??!1,r=Y.format,i=Y.mimeType,u=Y.loaderOptions,g=Y.creationFlags,M=Y.useSRGBBuffer??!1,O=Y.internalTexture??null,n=Y.gammaSpace??n,S=Y.forcedExtension??S):q=!!Y,this._gammaSpace=n,this._noMipmap=q,this._invertY=void 0===C?!K.d:C,this._initialSamplingMode=L,this._buffer=d,this._deleteBuffer=y,this._mimeType=i,this._loaderOptions=u,this._creationFlags=g,this._useSRGBBuffer=M,this._forcedExtension=S,void 0!==r&&(this._format=r);const l=this.vP(),v=this._getEngine();if(!v)return;v.onBeforeTextureInitObservable.notifyObservers(this);const c=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),o&&o(),!this.isBlocking&&l&&l.resetCachedMaterial()},T=(P,f)=>{this._loadingError=!0,this._errorObject={message:P,exception:f},w&&w(P,f),V.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!O)return this._delayedOnLoad=c,void(this._delayedOnError=T);if(this._texture=O??this._getFromCache(this.url,q,L,this._invertY,M,this.isCube),this._texture)if(this._texture.isReady)R.b.SetImmediate((()=>c()));else{const P=this._texture.onLoadedObservable.add(c);this._texture.onErrorObservable.add((f=>{var Y;T(f.message,f.exception),null===(Y=this._texture)||void 0===Y||Y.onLoadedObservable.remove(P)}))}else if(l&&l.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=c,this._delayedOnError=T;else{try{this._texture=v.createTexture(this.url,q,this._invertY,l,L,c,T,this._buffer,void 0,this._format,this._forcedExtension,i,u,g,M)}catch(U){throw T("error loading",U),U}y&&(this._buffer=null)}}updateURL(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Y=arguments.length>2?arguments[2]:void 0,C=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.vP().markAllMaterialsAsDirty(1,(P=>P.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=P),this.url=P,this._buffer=f,this._forcedExtension=C,this.delayLoadState=4,Y&&(this._delayedOnLoad=Y),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const P=this.vP();P&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?R.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=P.getEngine().createTexture(this.url,this._noMipmap,this._invertY,P,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(P,f,Y,C){P*=this._cachedUScale,f*=this._cachedVScale,P-=this.uRotationCenter*this._cachedUScale,f-=this.vRotationCenter*this._cachedVScale,Y-=this.wRotationCenter,L.Of.TransformCoordinatesFromFloatsToRef(P,f,Y,this._rowGenerationMatrix,C),C.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,C.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,C.z+=this.wRotationCenter}getTextureMatrix(){let P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*P===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*P,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=L.Matrix.Zero(),this._rowGenerationMatrix=new L.Matrix,this._t0=L.Of.Zero(),this._t1=L.Of.Zero(),this._t2=L.Of.Zero()),L.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(L.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,L.TmpVectors.Matrix[0]),L.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,L.TmpVectors.Matrix[1]),L.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,L.TmpVectors.Matrix[2]),L.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,L.TmpVectors.Matrix[3]),L.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(L.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(L.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(L.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Ly(this._t0),this._t2.Ly(this._t0),L.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const f=this.vP();if(!f)return this._cachedTextureMatrix;const Y=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&Y!==this._cachedIdentity3x2&&f.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const P=this.vP();if(!P)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==V.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===P.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=L.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=L.Matrix.Zero());const f=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case V.PLANAR_MODE:L.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case V.PROJECTION_MODE:{L.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const f=P.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=f.updateFlag,f.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:L.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return f&&P.markAllMaterialsAsDirty(1,(P=>P.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const P={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,p:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return M.e.Clone((()=>new V(this._texture?this._texture.url:null,this.vP(),P)),this)}serialize(){var P;const f=this.name;V.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const Y=super.serialize(V._SerializeInternalTextureUniqueId);if(!Y)return null;if(V.SerializeBuffers||V.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))Y.base64String=this._buffer,Y.name=Y.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const P=this.mimeType||"image/png";Y.base64String=`data:${P};base64,${(0,i.j)(this._buffer)}`}else(V.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(Y.base64String=!this._engine||this._engine._features.supportSyncTextureRead?g(this):S(this));var C;(Y.invertY=this._invertY,Y.samplingMode=this.samplingMode,Y._creationFlags=this._creationFlags,Y._useSRGBBuffer=this._useSRGBBuffer,V._SerializeInternalTextureUniqueId)&&(Y.internalTextureUniqueId=null===(C=this._texture)||void 0===C?void 0:C.uniqueId);return Y.internalTextureLabel=null===(P=this._texture)||void 0===P?void 0:P.label,Y.noMipmap=this._noMipmap,this.name=f,Y}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(P,f,Y){if(P.customType){const C=y.c.Instantiate(P.customType).Parse(P,f,Y);return P.samplingMode&&C.updateSamplingMode&&C._samplingMode&&C._samplingMode!==P.samplingMode&&C.updateSamplingMode(P.samplingMode),C}if(P.isCube&&!P.isRenderTarget)return V._CubeTextureParser(P,f,Y);const C=void 0!==P.internalTextureUniqueId;if(!P.name&&!P.isRenderTarget&&!C)return null;let q;if(C){const Y=f.getEngine().getLoadedTexturesCache();for(const f of Y)if(f.uniqueId===P.internalTextureUniqueId){q=f;break}}const m=f=>{if(f&&f._texture&&(f._texture._cachedWrapU=null,f._texture._cachedWrapV=null,f._texture._cachedWrapR=null),P.samplingMode){const Y=P.samplingMode;f&&f.samplingMode!==Y&&f.updateSamplingMode(Y)}if(f&&P.animations)for(let Y=0;Y<P.animations.length;Y++){const C=P.animations[Y],q=(0,w.c)("BABYLON.Animation");q&&f.animations.push(q.Parse(C))}f&&f._texture&&(C&&!q&&f._texture._setUniqueId(P.internalTextureUniqueId),f._texture.label=P.internalTextureLabel)};return M.e.Parse((()=>{let C=!0;if(P.noMipmap&&(C=!1),P.mirrorPlane){const Y=V._CreateMirror(P.name,P.renderTargetSize,f,C);return Y._waitingRenderList=P.renderList,Y.mirrorPlane=r.d.ef(P.mirrorPlane),m(Y),Y}if(P.isRenderTarget){let Y=null;if(P.isCube){if(f.reflectionProbes)for(let C=0;C<f.reflectionProbes.length;C++){const Y=f.reflectionProbes[C];if(Y.name===P.name)return Y.cubeTexture}}else Y=V._CreateRenderTargetTexture(P.name,P.renderTargetSize,f,C,P._creationFlags??0),Y._waitingRenderList=P.renderList;return m(Y),Y}if(P.isVideo){const q=V._CreateVideoTexture(Y+(P.url||P.name),Y+(P.src||P.url),f,C,P.invertY,P.samplingMode,P.settings||{});return m(q),q}{let L;if(P.base64String&&!q)L=V.CreateFromBase64String(P.base64String,P.base64String,f,!C,P.invertY,P.samplingMode,(()=>{m(L)}),P._creationFlags??0,P._useSRGBBuffer??!1),L.name=P.name;else{let o;o=P.name&&(P.name.indexOf("://")>0||P.name.startsWith("data:"))?P.name:Y+P.name,P.url&&(P.url.startsWith("data:")||V.UseSerializedUrlIfAny)&&(o=P.url);const w={noMipmap:!C,invertY:P.invertY,samplingMode:P.samplingMode,p:()=>{m(L)},internalTexture:q};L=new V(o,f,w)}return L}}),P,f)}static CreateFromBase64String(P,f,Y,C,q){let m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:V.TRILINEAR_SAMPLINGMODE;return new V("data:"+f,Y,C,q,m,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,P,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(P,f,Y){let C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],q=arguments.length>4?arguments[4]:void 0,m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:V.TRILINEAR_SAMPLINGMODE,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,R=arguments.length>10?arguments[10]:void 0,y=arguments.length>11?arguments[11]:void 0;return"data:"!==P.substring(0,5)&&(P="data:"+P),new V(P,Y,q,m,L,o,w,f,C,d,void 0,void 0,R,y)}}V.SerializeBuffers=!0,V.ForceSerializeBuffers=!1,V.OnTextureLoadErrorObservable=new m.e,V._SerializeInternalTextureUniqueId=!1,V._CubeTextureParser=(P,f,Y)=>{throw(0,d.b)("CubeTexture")},V._CreateMirror=(P,f,Y,C)=>{throw(0,d.b)("MirrorTexture")},V._CreateRenderTargetTexture=(P,f,Y,C,q)=>{throw(0,d.b)("RenderTargetTexture")},V.NEAREST_SAMPLINGMODE=1,V.NEAREST_NEAREST_MIPLINEAR=8,V.BILINEAR_SAMPLINGMODE=2,V.LINEAR_LINEAR_MIPNEAREST=11,V.TRILINEAR_SAMPLINGMODE=3,V.LINEAR_LINEAR_MIPLINEAR=3,V.NEAREST_NEAREST_MIPNEAREST=4,V.NEAREST_LINEAR_MIPNEAREST=5,V.NEAREST_LINEAR_MIPLINEAR=6,V.NEAREST_LINEAR=7,V.NEAREST_NEAREST=1,V.LINEAR_NEAREST_MIPNEAREST=9,V.LINEAR_NEAREST_MIPLINEAR=10,V.LINEAR_LINEAR=2,V.LINEAR_NEAREST=12,V.EXPLICIT_MODE=0,V.SPHERICAL_MODE=1,V.PLANAR_MODE=2,V.CUBIC_MODE=3,V.PROJECTION_MODE=4,V.SKYBOX_MODE=5,V.INVCUBIC_MODE=6,V.EQUIRECTANGULAR_MODE=7,V.FIXED_EQUIRECTANGULAR_MODE=8,V.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,V.CLAMP_ADDRESSMODE=0,V.WRAP_ADDRESSMODE=1,V.MIRROR_ADDRESSMODE=2,V.UseSerializedUrlIfAny=!1,(0,C.b)([(0,q.F)()],V.prototype,"url",void 0),(0,C.b)([(0,q.F)()],V.prototype,"uOffset",void 0),(0,C.b)([(0,q.F)()],V.prototype,"vOffset",void 0),(0,C.b)([(0,q.F)()],V.prototype,"uScale",void 0),(0,C.b)([(0,q.F)()],V.prototype,"vScale",void 0),(0,C.b)([(0,q.F)()],V.prototype,"uAng",void 0),(0,C.b)([(0,q.F)()],V.prototype,"vAng",void 0),(0,C.b)([(0,q.F)()],V.prototype,"wAng",void 0),(0,C.b)([(0,q.F)()],V.prototype,"uRotationCenter",void 0),(0,C.b)([(0,q.F)()],V.prototype,"vRotationCenter",void 0),(0,C.b)([(0,q.F)()],V.prototype,"wRotationCenter",void 0),(0,C.b)([(0,q.F)()],V.prototype,"homogeneousRotationInUVTransform",void 0),(0,C.b)([(0,q.F)()],V.prototype,"isBlocking",null),(0,w.d)("BABYLON.Texture",V),M.e._TextureParser=V.Parse},11230:(P,f,Y)=>{Y.d(f,{d:()=>q});var C=Y(11179);class q{constructor(P,f,Y,q){this.normal=new C.Of(P,f,Y),this.d=q}If(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let P=this.normal.getHashCode();return P=397*P^this.d,P}normalize(){const P=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let f=0;return 0!==P&&(f=1/P),this.normal.x*=f,this.normal.y*=f,this.normal.z*=f,this.d*=f,this}transform(P){const f=q._TmpMatrix;P.invertToRef(f);const Y=f.m,C=this.normal.x,m=this.normal.y,L=this.normal.z,o=this.d,w=C*Y[0]+m*Y[1]+L*Y[2]+o*Y[3],d=C*Y[4]+m*Y[5]+L*Y[6]+o*Y[7],R=C*Y[8]+m*Y[9]+L*Y[10]+o*Y[11],y=C*Y[12]+m*Y[13]+L*Y[14]+o*Y[15];return new q(w,d,R,y)}dotCoordinate(P){return this.normal.x*P.x+this.normal.y*P.y+this.normal.z*P.z+this.d}copyFromPoints(P,f,Y){const C=f.x-P.x,q=f.y-P.y,m=f.z-P.z,L=Y.x-P.x,o=Y.y-P.y,w=Y.z-P.z,d=q*w-m*o,R=m*L-C*w,y=C*o-q*L,r=Math.sqrt(d*d+R*R+y*y);let i;return i=0!==r?1/r:0,this.normal.x=d*i,this.normal.y=R*i,this.normal.z=y*i,this.d=-(this.normal.x*P.x+this.normal.y*P.y+this.normal.z*P.z),this}isFrontFacingTo(P,f){return C.Of.Dot(this.normal,P)<=f}signedDistanceTo(P){return C.Of.Dot(P,this.normal)+this.d}static ef(P){return new q(P[0],P[1],P[2],P[3])}static FromPoints(P,f,Y){const C=new q(0,0,0,0);return C.copyFromPoints(P,f,Y),C}static FromPositionAndNormal(P,f){const Y=new q(0,0,0,0);return this.FromPositionAndNormalToRef(P,f,Y)}static FromPositionAndNormalToRef(P,f,Y){return Y.normal.q(f),Y.normal.normalize(),Y.d=-P.dot(Y.normal),Y}static SignedDistanceToPlaneFromPositionAndNormal(P,f,Y){const q=-(f.x*P.x+f.y*P.y+f.z*P.z);return C.Of.Dot(Y,f)+q}}q._TmpMatrix=C.Matrix.Identity()},11209:(P,f,Y)=>{Y.d(f,{b:()=>C});class C{constructor(P,f){this.width=P,this.height=f}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let P=0|this.width;return P=397*P^this.height,P}q(P){this.width=P.width,this.height=P.height}do(P,f){return this.width=P,this.height=f,this}set(P,f){return this.do(P,f)}multiplyByFloats(P,f){return new C(this.width*P,this.height*f)}clone(){return new C(this.width,this.height)}equals(P){return!!P&&(this.width===P.width&&this.height===P.height)}get surface(){return this.width*this.height}static Zero(){return new C(0,0)}add(P){return new C(this.width+P.width,this.height+P.height)}nf(P){return new C(this.width-P.width,this.height-P.height)}scale(P){return new C(this.width*P,this.height*P)}static Lerp(P,f,Y){const q=P.width+(f.width-P.width)*Y,m=P.height+(f.height-P.height)*Y;return new C(q,m)}}},11177:(P,f,Y)=>{Y.d(f,{e:()=>m,i:()=>L});const C={},q={};function m(P){const f=P.getClassName();return q[f]||(q[f]={}),q[f]}function L(P){const f=P.getClassName();if(C[f])return C[f];C[f]={};const Y=C[f];let m=P,L=f;for(;L;){const P=q[L];for(const q in P)Y[q]=P[q];let f,C=!1;do{if(f=Object.getPrototypeOf(m),!f.getClassName){C=!0;break}if(f.getClassName()!==L)break;m=f}while(f);if(C)break;L=f.getClassName(),m=f}return Y}},11170:(P,f,Y)=>{Y.d(f,{B:()=>R,D:()=>y,F:()=>L,e:()=>m,g:()=>M,h:()=>i,i:()=>w,j:()=>u,n:()=>d,q:()=>g,s:()=>K,u:()=>r,v:()=>S,x:()=>o});var C=Y(11177);function q(P,f){return(Y,q)=>{const m=(0,C.e)(Y);m[q]||(m[q]={type:P,sourceName:f})}}function m(P){return function(P){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(Y,C)=>{const q=f||"_"+C;Object.defineProperty(Y,C,{get:function(){return this[q]},set:function(f){var C;"function"===typeof(null===(C=this[q])||void 0===C?void 0:C.equals)&&this[q].equals(f)||this[q]!==f&&(this[q]=f,Y[P].apply(this))},enumerable:!0,configurable:!0})}}(P,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function L(P){return q(0,P)}function o(P){return q(1,P)}function w(P){return q(2,P)}function d(P){return q(3,P)}function R(P){return q(4,P)}function y(P){return q(5,P)}function r(P){return q(6,P)}function i(P){return q(7,P)}function u(P){return q(8,P)}function g(P){return q(9,P)}function S(P){return q(10,P)}function K(P){return q(12,P)}function M(P,f,Y,C){const q=Y.value;Y.value=function(){let Y=q;if("undefined"!==typeof _native&&_native[f]){const P=_native[f];Y=C?function(){return C(...arguments)?P(...arguments):q(...arguments)}:P}return P[f]=Y,Y(...arguments)}}M.filter=function(P){return(f,Y,C)=>M(f,Y,C,P)}},11216:(P,f,Y)=>{Y.d(f,{e:()=>d});var C=Y(11043),q=Y(11222),m=Y(11228),L=Y(11179),o=Y(11177);const w=function(P,f,Y){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const m=P();q.c&&q.c.HasTags(f)&&q.c.AddTagsTo(m,q.c.GetTags(f,!0));const L=(0,o.i)(m),w={};for(const q in L){const P=L[q],o=f[q],R=P.type;if(void 0!==o&&null!==o&&("uniqueId"!==q||d.AllowLoadingUniqueId))switch(R){case 0:case 6:case 9:case 11:m[q]=o;break;case 1:C.cloneTexturesOnlyOnce&&w[o.uniqueId]?m[q]=w[o.uniqueId]:(m[q]=Y||o.isRenderTarget?o:o.clone(),w[o.uniqueId]=m[q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:m[q]=Y?o:o.clone()}}return m};class d{static AppendSerializedAnimations(P,f){if(P.animations){f.animations=[];for(let Y=0;Y<P.animations.length;Y++){const C=P.animations[Y];f.animations.push(C.serialize())}}}static Serialize(P,f){f||(f={}),q.c&&(f.tags=q.c.GetTags(P));const Y=(0,o.i)(P);for(const C in Y){const q=Y[C],m=q.sourceName||C,L=q.type,o=P[C];if(void 0!==o&&null!==o&&("uniqueId"!==C||d.AllowLoadingUniqueId))switch(L){case 0:f[m]=o;break;case 1:case 3:case 7:case 9:f[m]=o.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:f[m]=o.If();break;case 6:case 11:f[m]=o.id}}return f}static ParseProperties(P,f,Y,C){C||(C="");const q=(0,o.i)(f);for(const o in q){const w=q[o],R=P[w.sourceName||o],y=w.type;if(void 0!==R&&null!==R&&("uniqueId"!==o||d.AllowLoadingUniqueId)){const P=f;switch(y){case 0:P[o]=R;break;case 1:Y&&(P[o]=d._TextureParser(R,Y,C));break;case 2:P[o]=m.Df.ef(R);break;case 3:P[o]=d._FresnelParametersParser(R);break;case 4:P[o]=L.Vector2.ef(R);break;case 5:P[o]=L.Of.ef(R);break;case 6:Y&&(P[o]=Y.getLastMeshById(R));break;case 7:P[o]=d._ColorCurvesParser(R);break;case 8:P[o]=m.ro.ef(R);break;case 9:P[o]=d._ImageProcessingConfigurationParser(R);break;case 10:P[o]=L.Quaternion.ef(R);break;case 11:Y&&(P[o]=Y.getCameraById(R));break;case 12:P[o]=L.Matrix.ef(R)}}}}static Parse(P,f,Y){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const m=P();return q.c&&q.c.AddTagsTo(m,f.tags),d.ParseProperties(f,m,Y,C),m}static Clone(P,f){return w(P,f,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(P,f){return w(P,f,!0)}}d.AllowLoadingUniqueId=!1,d._ImageProcessingConfigurationParser=P=>{throw(0,C.b)("ImageProcessingConfiguration")},d._FresnelParametersParser=P=>{throw(0,C.b)("FresnelParameters")},d._ColorCurvesParser=P=>{throw(0,C.b)("ColorCurves")},d._TextureParser=(P,f,Y)=>{throw(0,C.b)("Texture")}},11222:(P,f,Y)=>{Y.d(f,{c:()=>q});class C{static Eval(P,f){return"true"===(P=P.match(/\([^()]*\)/g)?P.replace(/\([^()]*\)/g,(P=>(P=P.slice(1,P.length-1),C._HandleParenthesisContent(P,f)))):C._HandleParenthesisContent(P,f))||"false"!==P&&C.Eval(P,f)}static _HandleParenthesisContent(P,f){let Y;f=f||(P=>"true"===P);const q=P.split("||");for(const m in q)if(Object.prototype.hasOwnProperty.call(q,m)){let P=C._SimplifyNegation(q[m].trim());const L=P.split("&&");if(L.length>1)for(let q=0;q<L.length;++q){const m=C._SimplifyNegation(L[q].trim());if(Y="true"!==m&&"false"!==m?"!"===m[0]?!f(m.substring(1)):f(m):"true"===m,!Y){P="false";break}}if(Y||"true"===P){Y=!0;break}Y="true"!==P&&"false"!==P?"!"===P[0]?!f(P.substring(1)):f(P):"true"===P}return Y?"true":"false"}static _SimplifyNegation(P){return"!true"===(P=(P=P.replace(/^[\s!]+/,(P=>(P=P.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?P="false":"!false"===P&&(P="true"),P}}class q{static EnableFor(P){P._tags=P._tags||{},P.hasTags=()=>q.HasTags(P),P.addTags=f=>q.AddTagsTo(P,f),P.removeTags=f=>q.RemoveTagsFrom(P,f),P.matchesTagsQuery=f=>q.MatchesQuery(P,f)}static DisableFor(P){delete P._tags,delete P.hasTags,delete P.addTags,delete P.removeTags,delete P.matchesTagsQuery}static HasTags(P){if(!P._tags)return!1;const f=P._tags;for(const Y in f)if(Object.prototype.hasOwnProperty.call(f,Y))return!0;return!1}static GetTags(P){let f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!P._tags)return null;if(f){const f=[];for(const Y in P._tags)Object.prototype.hasOwnProperty.call(P._tags,Y)&&!0===P._tags[Y]&&f.push(Y);return f.join(" ")}return P._tags}static AddTagsTo(P,f){if(!f)return;if("string"!==typeof f)return;const Y=f.split(" ");for(const C of Y)q._AddTagTo(P,C)}static _AddTagTo(P,f){""!==(f=f.trim())&&"true"!==f&&"false"!==f&&(f.match(/[\s]/)||f.match(/^([!]|([|]|[&]){2})/)||(q.EnableFor(P),P._tags[f]=!0))}static RemoveTagsFrom(P,f){if(!q.HasTags(P))return;const Y=f.split(" ");for(const C in Y)q._RemoveTagFrom(P,Y[C])}static _RemoveTagFrom(P,f){delete P._tags[f]}static MatchesQuery(P,f){return void 0===f||(""===f?q.HasTags(P):C.Eval(f,(f=>q.HasTags(P)&&P._tags[f])))}}},11165:(P,f,Y)=>{Y.d(f,{b:()=>C});function C(P,f,Y,C){var q,m=arguments.length,L=m<3?f:null===C?C=Object.getOwnPropertyDescriptor(f,Y):C;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)L=Reflect.decorate(P,f,Y,C);else for(var o=P.length-1;o>=0;o--)(q=P[o])&&(L=(m<3?q(L):m>3?q(f,Y,L):q(f,Y))||L);return m>3&&L&&Object.defineProperty(f,Y,L),L}Object.create;Object.create}}]);