"use strict";(self.z22hkk7o33f=self.z22hkk7o33f||[]).push([[13],{12943:(U,G,C)=>{C.d(G,{c:()=>L});let L=!1},12913:(U,G,C)=>{C.d(G,{e:()=>D});var L=C(12876),X=C(12884),l=C(12721),t=C(12896),E=C(12763),K=C(12853),P=(C(12772),C(12920));class O{get wrapU(){return this._wrapU}set wrapU(U){this._wrapU=U}get wrapV(){return this._wrapV}set wrapV(U){this._wrapV=U}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(U){this._texture&&(this._texture.isCube=U)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(U){this._texture&&(this._texture.is3D=U)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(U){this._texture&&(this._texture.is2DArray=U)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(U){return void 0!==(null===U||void 0===U?void 0:U.shareDepth)}constructor(U){var G,C,L;(this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=P.c.Zero(),this._cachedBaseSize=P.c.Zero(),this._initialSamplingMode=2,this._texture=O._IsRenderTargetWrapper(U)?U.texture:U,this._texture)&&(this._engine=this._texture.getEngine(),this.wrapU=null!==(G=this._texture._cachedWrapU)&&void 0!==G?G:this.wrapU,this.wrapV=null!==(C=this._texture._cachedWrapV)&&void 0!==C?C:this.wrapV,this.wrapR=null!==(L=this._texture._cachedWrapR)&&void 0!==L?L:this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(U){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(U,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var T=C(12928);class D extends O{set jE(U){this._hasAlpha!==U&&(this._hasAlpha=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get jE(){return this._hasAlpha}set getAlphaFromRGB(U){this._getAlphaFromRGB!==U&&(this._getAlphaFromRGB=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(U){this._coordinatesIndex!==U&&(this._coordinatesIndex=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(U){this._coordinatesMode!==U&&(this._coordinatesMode=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(U){this._wrapU=U}get wrapV(){return this._wrapV}set wrapV(U){this._wrapV=U}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(U){this._texture?this._texture.isCube=U:this._isCube=U}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(U){this._texture&&(this._texture.is3D=U)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(U){this._texture&&(this._texture.is2DArray=U)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(U){var G;if(this._texture){if(this._texture._gammaSpace===U)return;this._texture._gammaSpace=U}else{if(this._gammaSpace===U)return;this._gammaSpace=U}null===(G=this.wU())||void 0===G||G.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(U){var G;U!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=U),null===(G=this.wU())||void 0===G||G.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(U){this._texture&&(this._texture._lodGenerationOffset=U)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(U){this._texture&&(this._texture._lodGenerationScale=U)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(U){this._texture&&(this._texture._linearSpecularLOD=U)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(U){this._texture&&(this._texture._irradianceTexture=U)}get uid(){return this._uid||(this._uid=(0,K.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(U){this._onDisposeObserver&&this.aE.remove(this._onDisposeObserver),this._onDisposeObserver=this.aE.add(U)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=D.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.aE=new l.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,U?D._IsScene(U)?this._scene=U:this._engine=U:this._scene=E.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=G,this._uid=null}wU(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return t.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return t.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(U){}get canRescale(){return!1}_getFromCache(U,G,C,L,X,l){const t=this._getEngine();if(!t)return null;const E=t._getUseSRGBBuffer(!!X,G),K=t.getLoadedTexturesCache();for(let P=0;P<K.length;P++){const t=K[P];if((void 0===X||E===t._useSRGBBuffer)&&(void 0===L||L===t.invertY)&&t.url===U&&t.generateMipMaps===!G&&(!C||C===t.samplingMode)&&(void 0===l||l===t.isCube))return t.incrementReferences(),t}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const U=this.wU();U&&U.markAllMaterialsAsDirty(1)}readPixels(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,L=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,t=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,K=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const P=this._getEngine();if(!P)return null;const O=this.getSize();let T=O.width,D=O.height;0!==G&&(T/=Math.pow(2,G),D/=Math.pow(2,G),T=Math.round(T),D=Math.round(D)),E=Math.min(T,E),K=Math.min(D,K);try{return this._texture.isCube?P._readTexturePixels(this._texture,E,K,U,G,C,L,X,l,t):P._readTexturePixels(this._texture,E,K,-1,G,C,L,X,l,t)}catch(y){return null}}_readPixelsSync(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,L=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const l=this.getSize();let t=l.width,E=l.height;const K=this._getEngine();if(!K)return null;0!=G&&(t/=Math.pow(2,G),E/=Math.pow(2,G),t=Math.round(t),E=Math.round(E));try{return this._texture.isCube?K._readTexturePixelsSync(this._texture,t,E,U,G,C,L,X):K._readTexturePixelsSync(this._texture,t,E,-1,G,C,L,X)}catch(P){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const U=this._scene.textures.indexOf(this);if(U>=0&&this._scene.textures.splice(U,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const U=this._parentContainer.textures.indexOf(this);U>-1&&this._parentContainer.textures.splice(U,1),this._parentContainer=null}}this.aE.notifyObservers(this),this.aE.clear(),this.metadata=null,super.dispose()}serialize(){let U=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!U)return null;const G=T.c.Serialize(this);return T.c.AppendSerializedAnimations(this,G),G}static WhenAllReady(U,G){let C=U.length;if(0!==C)for(let L=0;L<U.length;L++){const X=U[L];if(X.isReady())0===--C&&G();else{const U=X.onLoadObservable;U?U.addOnce((()=>{0===--C&&G()})):0===--C&&G()}}else G()}static _IsScene(U){return"Scene"===U.getClassName()}}D.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,L.d)([(0,X.H)()],D.prototype,"uniqueId",void 0),(0,L.d)([(0,X.H)()],D.prototype,"name",void 0),(0,L.d)([(0,X.H)()],D.prototype,"displayName",void 0),(0,L.d)([(0,X.H)()],D.prototype,"metadata",void 0),(0,L.d)([(0,X.H)("jE")],D.prototype,"_hasAlpha",void 0),(0,L.d)([(0,X.H)("getAlphaFromRGB")],D.prototype,"_getAlphaFromRGB",void 0),(0,L.d)([(0,X.H)()],D.prototype,"level",void 0),(0,L.d)([(0,X.H)("coordinatesIndex")],D.prototype,"_coordinatesIndex",void 0),(0,L.d)([(0,X.H)()],D.prototype,"optimizeUVAllocation",void 0),(0,L.d)([(0,X.H)("coordinatesMode")],D.prototype,"_coordinatesMode",void 0),(0,L.d)([(0,X.H)()],D.prototype,"wrapU",null),(0,L.d)([(0,X.H)()],D.prototype,"wrapV",null),(0,L.d)([(0,X.H)()],D.prototype,"wrapR",void 0),(0,L.d)([(0,X.H)()],D.prototype,"anisotropicFilteringLevel",void 0),(0,L.d)([(0,X.H)()],D.prototype,"isCube",null),(0,L.d)([(0,X.H)()],D.prototype,"is3D",null),(0,L.d)([(0,X.H)()],D.prototype,"is2DArray",null),(0,L.d)([(0,X.H)()],D.prototype,"gammaSpace",null),(0,L.d)([(0,X.H)()],D.prototype,"invertZ",void 0),(0,L.d)([(0,X.H)()],D.prototype,"lodLevelInAlpha",void 0),(0,L.d)([(0,X.H)()],D.prototype,"lodGenerationOffset",null),(0,L.d)([(0,X.H)()],D.prototype,"lodGenerationScale",null),(0,L.d)([(0,X.H)()],D.prototype,"linearSpecularLOD",null),(0,L.d)([(0,X.z)()],D.prototype,"irradianceTexture",null),(0,L.d)([(0,X.H)()],D.prototype,"isRenderTarget",void 0)},12873:(U,G,C)=>{C.d(G,{c:()=>h});var L=C(12876),X=C(12884),l=C(12721),t=C(12896),E=C(12913),K=C(12850),P=C(12747),O=C(12794),T=C(12844),D=C(12940),y=C(12783);function V(U,G){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const L=G.width,X=G.height;if(U instanceof Float32Array){let G=U.byteLength/U.BYTES_PER_ELEMENT;const C=new Uint8Array(G);for(;--G>=0;){let L=U[G];L<0?L=0:L>1&&(L=1),C[G]=255*L}U=C}const l=document.createElement("canvas");l.width=L,l.height=X;const t=l.getContext("2d");if(!t)return null;const E=t.createImageData(L,X);if(E.data.set(U),t.putImageData(E,0,0),C){const U=document.createElement("canvas");U.width=L,U.height=X;const G=U.getContext("2d");return G?(G.translate(0,X),G.scale(1,-1),G.drawImage(l,0,0),U.toDataURL("image/png")):null}return l.toDataURL("image/png")}function p(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const L=U.getInternalTexture();if(!L)return null;const X=U._readPixelsSync(G,C);return X?V(X,U.getSize(),L.invertY):null}async function I(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const L=U.getInternalTexture();if(!L)return null;const X=await U.readPixels(G,C);return X?V(X,U.getSize(),L.invertY):null}var H=C(12943),x=C(12928);class h extends E.e{static _CreateVideoTexture(U,G,C){arguments.length>5&&void 0!==arguments[5]||h.TRILINEAR_SAMPLINGMODE;throw(0,P.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(U){this._isBlocking=U}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(U,G,C,L){var X;let t,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TRILINEAR_SAMPLINGMODE,K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D=arguments.length>8&&void 0!==arguments[8]&&arguments[8],y=arguments.length>9?arguments[9]:void 0,V=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0,I=arguments.length>12?arguments[12]:void 0,x=arguments.length>13?arguments[13]:void 0;super(G),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new l.e,this._isBlocking=!0,this.name=U||"",this.url=U;let N=!1,b=null,o=!0;var w,S,v,u,d,g,Z,F,q,a,k;"object"===typeof C&&null!==C?(t=null!==(w=C.noMipmap)&&void 0!==w&&w,L=null!==(S=C.invertY)&&void 0!==S?S:!H.c,E=null!==(v=C.samplingMode)&&void 0!==v?v:h.TRILINEAR_SAMPLINGMODE,K=null!==(u=C.R)&&void 0!==u?u:null,P=null!==(d=C.onError)&&void 0!==d?d:null,T=null!==(g=C.buffer)&&void 0!==g?g:null,D=null!==(Z=C.deleteBuffer)&&void 0!==Z&&Z,y=C.format,V=C.mimeType,p=C.loaderOptions,I=C.creationFlags,N=null!==(F=C.useSRGBBuffer)&&void 0!==F&&F,b=null!==(q=C.internalTexture)&&void 0!==q?q:null,o=null!==(a=C.gammaSpace)&&void 0!==a?a:o,x=null!==(k=C.forcedExtension)&&void 0!==k?k:x):t=!!C;this._gammaSpace=o,this._noMipmap=t,this._invertY=void 0===L?!H.c:L,this._initialSamplingMode=E,this._buffer=T,this._deleteBuffer=D,this._mimeType=V,this._loaderOptions=p,this._creationFlags=I,this._useSRGBBuffer=N,this._forcedExtension=x,void 0!==y&&(this._format=y);const n=this.wU(),Q=this._getEngine();if(!Q)return;Q.onBeforeTextureInitObservable.notifyObservers(this);const mU=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),K&&K(),!this.isBlocking&&n&&n.resetCachedMaterial()},B=(U,G)=>{this._loadingError=!0,this._errorObject={message:U,exception:G},P&&P(U,G),h.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!b)return this._delayedOnLoad=mU,void(this._delayedOnError=B);if(this._texture=null!==(X=b)&&void 0!==X?X:this._getFromCache(this.url,t,E,this._invertY,N,this.isCube),this._texture)if(this._texture.isReady)O.b.SetImmediate((()=>mU()));else{const U=this._texture.onLoadedObservable.add(mU);this._texture.onErrorObservable.add((G=>{var C;B(G.message,G.exception),null===(C=this._texture)||void 0===C||C.onLoadedObservable.remove(U)}))}else if(n&&n.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=mU,this._delayedOnError=B;else{try{this._texture=Q.createTexture(this.url,t,this._invertY,n,E,mU,B,this._buffer,void 0,this._format,this._forcedExtension,V,p,I,N)}catch(M){throw B("error loading",M),M}D&&(this._buffer=null)}}updateURL(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,L=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.wU().markAllMaterialsAsDirty(1,(U=>U.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=U),this.url=U,this._buffer=G,this._forcedExtension=L,this.delayLoadState=4,C&&(this._delayedOnLoad=C),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const U=this.wU();U&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?O.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=U.getEngine().createTexture(this.url,this._noMipmap,this._invertY,U,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(U,G,C,L){U*=this._cachedUScale,G*=this._cachedVScale,U-=this.uRotationCenter*this._cachedUScale,G-=this.vRotationCenter*this._cachedVScale,C-=this.wRotationCenter,t.pG.TransformCoordinatesFromFloatsToRef(U,G,C,this._rowGenerationMatrix,L),L.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,L.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,L.z+=this.wRotationCenter}getTextureMatrix(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*U===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*U,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=t.Matrix.Zero(),this._rowGenerationMatrix=new t.Matrix,this._t0=t.pG.Zero(),this._t1=t.pG.Zero(),this._t2=t.pG.Zero()),t.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(t.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,t.TmpVectors.Matrix[0]),t.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,t.TmpVectors.Matrix[1]),t.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,t.TmpVectors.Matrix[2]),t.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,t.TmpVectors.Matrix[3]),t.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(t.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(t.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(t.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.uT(this._t0),this._t2.uT(this._t0),t.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const G=this.wU();if(!G)return this._cachedTextureMatrix;const C=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&C!==this._cachedIdentity3x2&&G.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const U=this.wU();if(!U)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==h.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===U.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=t.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=t.Matrix.Zero());const G=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case h.PLANAR_MODE:t.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case h.PROJECTION_MODE:{t.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const G=U.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=G.updateFlag,G.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:t.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return G&&U.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const U={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,R:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return x.c.Clone((()=>new h(this._texture?this._texture.url:null,this.wU(),U)),this)}serialize(){var U;const G=this.name;h.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const C=super.serialize(h._SerializeInternalTextureUniqueId);if(!C)return null;if(h.SerializeBuffers||h.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))C.base64String=this._buffer,C.name=C.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const U=this.mimeType||"image/png";C.base64String="data:".concat(U,";base64,").concat((0,y.k)(this._buffer))}else(h.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(C.base64String=!this._engine||this._engine._features.supportSyncTextureRead?p(this):I(this));var L;(C.invertY=this._invertY,C.samplingMode=this.samplingMode,C._creationFlags=this._creationFlags,C._useSRGBBuffer=this._useSRGBBuffer,h._SerializeInternalTextureUniqueId)&&(C.internalTextureUniqueId=null===(L=this._texture)||void 0===L?void 0:L.uniqueId);return C.internalTextureLabel=null===(U=this._texture)||void 0===U?void 0:U.label,C.noMipmap=this._noMipmap,this.name=G,C}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(U,G,C){if(U.customType){const L=T.c.Instantiate(U.customType).Parse(U,G,C);return U.samplingMode&&L.updateSamplingMode&&L._samplingMode&&L._samplingMode!==U.samplingMode&&L.updateSamplingMode(U.samplingMode),L}if(U.isCube&&!U.isRenderTarget)return h._CubeTextureParser(U,G,C);const L=void 0!==U.internalTextureUniqueId;if(!U.name&&!U.isRenderTarget&&!L)return null;let X;if(L){const C=G.getEngine().getLoadedTexturesCache();for(const G of C)if(G.uniqueId===U.internalTextureUniqueId){X=G;break}}const l=G=>{if(G&&G._texture&&(G._texture._cachedWrapU=null,G._texture._cachedWrapV=null,G._texture._cachedWrapR=null),U.samplingMode){const C=U.samplingMode;G&&G.samplingMode!==C&&G.updateSamplingMode(C)}if(G&&U.animations)for(let C=0;C<U.animations.length;C++){const L=U.animations[C],X=(0,K.c)("BABYLON.Animation");X&&G.animations.push(X.Parse(L))}G&&G._texture&&(L&&!X&&G._texture._setUniqueId(U.internalTextureUniqueId),G._texture.label=U.internalTextureLabel)};return x.c.Parse((()=>{let L=!0;if(U.noMipmap&&(L=!1),U.mirrorPlane){const C=h._CreateMirror(U.name,U.renderTargetSize,G,L);return C._waitingRenderList=U.renderList,C.mirrorPlane=D.b.NG(U.mirrorPlane),l(C),C}if(U.isRenderTarget){let C=null;var t;if(U.isCube){if(G.reflectionProbes)for(let L=0;L<G.reflectionProbes.length;L++){const C=G.reflectionProbes[L];if(C.name===U.name)return C.cubeTexture}}else C=h._CreateRenderTargetTexture(U.name,U.renderTargetSize,G,L,null!==(t=U._creationFlags)&&void 0!==t?t:0),C._waitingRenderList=U.renderList;return l(C),C}if(U.isVideo){const X=h._CreateVideoTexture(C+(U.url||U.name),C+(U.src||U.url),G,L,U.invertY,U.samplingMode,U.settings||{});return l(X),X}{let t;if(U.base64String&&!X){var E,K;t=h.CreateFromBase64String(U.base64String,U.base64String,G,!L,U.invertY,U.samplingMode,(()=>{l(t)}),null!==(E=U._creationFlags)&&void 0!==E?E:0,null!==(K=U._useSRGBBuffer)&&void 0!==K&&K),t.name=U.name}else{let E;E=U.name&&(U.name.indexOf("://")>0||U.name.startsWith("data:"))?U.name:C+U.name,U.url&&(U.url.startsWith("data:")||h.UseSerializedUrlIfAny)&&(E=U.url);const K={noMipmap:!L,invertY:U.invertY,samplingMode:U.samplingMode,R:()=>{l(t)},internalTexture:X};t=new h(E,G,K)}return t}}),U,G)}static CreateFromBase64String(U,G,C,L,X){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.TRILINEAR_SAMPLINGMODE;return new h("data:"+G,C,L,X,l,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,U,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(U,G,C){let L=arguments.length>3&&void 0!==arguments[3]&&arguments[3],X=arguments.length>4?arguments[4]:void 0,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],t=arguments.length>6&&void 0!==arguments[6]?arguments[6]:h.TRILINEAR_SAMPLINGMODE,E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,P=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,O=arguments.length>10?arguments[10]:void 0,T=arguments.length>11?arguments[11]:void 0;return"data:"!==U.substring(0,5)&&(U="data:"+U),new h(U,C,X,l,t,E,K,G,L,P,void 0,void 0,O,T)}}h.SerializeBuffers=!0,h.ForceSerializeBuffers=!1,h.OnTextureLoadErrorObservable=new l.e,h._SerializeInternalTextureUniqueId=!1,h._CubeTextureParser=(U,G,C)=>{throw(0,P.d)("CubeTexture")},h._CreateMirror=(U,G,C,L)=>{throw(0,P.d)("MirrorTexture")},h._CreateRenderTargetTexture=(U,G,C,L,X)=>{throw(0,P.d)("RenderTargetTexture")},h.NEAREST_SAMPLINGMODE=1,h.NEAREST_NEAREST_MIPLINEAR=8,h.BILINEAR_SAMPLINGMODE=2,h.LINEAR_LINEAR_MIPNEAREST=11,h.TRILINEAR_SAMPLINGMODE=3,h.LINEAR_LINEAR_MIPLINEAR=3,h.NEAREST_NEAREST_MIPNEAREST=4,h.NEAREST_LINEAR_MIPNEAREST=5,h.NEAREST_LINEAR_MIPLINEAR=6,h.NEAREST_LINEAR=7,h.NEAREST_NEAREST=1,h.LINEAR_NEAREST_MIPNEAREST=9,h.LINEAR_NEAREST_MIPLINEAR=10,h.LINEAR_LINEAR=2,h.LINEAR_NEAREST=12,h.EXPLICIT_MODE=0,h.SPHERICAL_MODE=1,h.PLANAR_MODE=2,h.CUBIC_MODE=3,h.PROJECTION_MODE=4,h.SKYBOX_MODE=5,h.INVCUBIC_MODE=6,h.EQUIRECTANGULAR_MODE=7,h.FIXED_EQUIRECTANGULAR_MODE=8,h.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,h.CLAMP_ADDRESSMODE=0,h.WRAP_ADDRESSMODE=1,h.MIRROR_ADDRESSMODE=2,h.UseSerializedUrlIfAny=!1,(0,L.d)([(0,X.H)()],h.prototype,"url",void 0),(0,L.d)([(0,X.H)()],h.prototype,"uOffset",void 0),(0,L.d)([(0,X.H)()],h.prototype,"vOffset",void 0),(0,L.d)([(0,X.H)()],h.prototype,"uScale",void 0),(0,L.d)([(0,X.H)()],h.prototype,"vScale",void 0),(0,L.d)([(0,X.H)()],h.prototype,"uAng",void 0),(0,L.d)([(0,X.H)()],h.prototype,"vAng",void 0),(0,L.d)([(0,X.H)()],h.prototype,"wAng",void 0),(0,L.d)([(0,X.H)()],h.prototype,"uRotationCenter",void 0),(0,L.d)([(0,X.H)()],h.prototype,"vRotationCenter",void 0),(0,L.d)([(0,X.H)()],h.prototype,"wRotationCenter",void 0),(0,L.d)([(0,X.H)()],h.prototype,"homogeneousRotationInUVTransform",void 0),(0,L.d)([(0,X.H)()],h.prototype,"isBlocking",null),(0,K.e)("BABYLON.Texture",h),x.c._TextureParser=h.Parse},12940:(U,G,C)=>{C.d(G,{b:()=>X});var L=C(12896);class X{constructor(U,G,C,X){this.normal=new L.pG(U,G,C),this.d=X}sE(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new X(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let U=this.normal.getHashCode();return U=397*U^this.d,U}normalize(){const U=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let G=0;return 0!==U&&(G=1/U),this.normal.x*=G,this.normal.y*=G,this.normal.z*=G,this.d*=G,this}transform(U){const G=X._TmpMatrix;U.invertToRef(G);const C=G.m,L=this.normal.x,l=this.normal.y,t=this.normal.z,E=this.d,K=L*C[0]+l*C[1]+t*C[2]+E*C[3],P=L*C[4]+l*C[5]+t*C[6]+E*C[7],O=L*C[8]+l*C[9]+t*C[10]+E*C[11],T=L*C[12]+l*C[13]+t*C[14]+E*C[15];return new X(K,P,O,T)}dotCoordinate(U){return this.normal.x*U.x+this.normal.y*U.y+this.normal.z*U.z+this.d}copyFromPoints(U,G,C){const L=G.x-U.x,X=G.y-U.y,l=G.z-U.z,t=C.x-U.x,E=C.y-U.y,K=C.z-U.z,P=X*K-l*E,O=l*t-L*K,T=L*E-X*t,D=Math.sqrt(P*P+O*O+T*T);let y;return y=0!==D?1/D:0,this.normal.x=P*y,this.normal.y=O*y,this.normal.z=T*y,this.d=-(this.normal.x*U.x+this.normal.y*U.y+this.normal.z*U.z),this}isFrontFacingTo(U,G){return L.pG.Dot(this.normal,U)<=G}signedDistanceTo(U){return L.pG.Dot(U,this.normal)+this.d}static NG(U){return new X(U[0],U[1],U[2],U[3])}static FromPoints(U,G,C){const L=new X(0,0,0,0);return L.copyFromPoints(U,G,C),L}static FromPositionAndNormal(U,G){const C=new X(0,0,0,0);return this.FromPositionAndNormalToRef(U,G,C)}static FromPositionAndNormalToRef(U,G,C){return C.normal.L(G),C.normal.normalize(),C.d=-U.dot(C.normal),C}static SignedDistanceToPlaneFromPositionAndNormal(U,G,C){const X=-(G.x*U.x+G.y*U.y+G.z*U.z);return L.pG.Dot(C,G)+X}}X._TmpMatrix=L.Matrix.Identity()},12920:(U,G,C)=>{C.d(G,{c:()=>L});class L{constructor(U,G){this.width=U,this.height=G}toString(){return"{W: ".concat(this.width,", H: ").concat(this.height,"}")}getClassName(){return"Size"}getHashCode(){let U=0|this.width;return U=397*U^this.height,U}L(U){this.width=U.width,this.height=U.height}WE(U,G){return this.width=U,this.height=G,this}set(U,G){return this.WE(U,G)}multiplyByFloats(U,G){return new L(this.width*U,this.height*G)}clone(){return new L(this.width,this.height)}equals(U){return!!U&&(this.width===U.width&&this.height===U.height)}get surface(){return this.width*this.height}static Zero(){return new L(0,0)}add(U){return new L(this.width+U.width,this.height+U.height)}IG(U){return new L(this.width-U.width,this.height-U.height)}scale(U){return new L(this.width*U,this.height*U)}static Lerp(U,G,C){const X=U.width+(G.width-U.width)*C,l=U.height+(G.height-U.height)*C;return new L(X,l)}}},12889:(U,G,C)=>{C.d(G,{e:()=>l,g:()=>t});const L={},X={};function l(U){const G=U.getClassName();return X[G]||(X[G]={}),X[G]}function t(U){const G=U.getClassName();if(L[G])return L[G];L[G]={};const C=L[G];let l=U,t=G;for(;t;){const U=X[t];for(const X in U)C[X]=U[X];let G,L=!1;do{if(G=Object.getPrototypeOf(l),!G.getClassName){L=!0;break}if(G.getClassName()!==t)break;l=G}while(G);if(L)break;t=G.getClassName(),l=G}return C}},12884:(U,G,C)=>{C.d(G,{C:()=>O,E:()=>T,H:()=>t,b:()=>l,e:()=>x,g:()=>y,i:()=>K,l:()=>V,o:()=>P,p:()=>p,s:()=>H,v:()=>D,y:()=>I,z:()=>E});var L=C(12889);function X(U,G){return(C,X)=>{const l=(0,L.e)(C);l[X]||(l[X]={type:U,sourceName:G})}}function l(U){return function(U){let G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(C,L)=>{const X=G||"_"+L;Object.defineProperty(C,L,{get:function(){return this[X]},set:function(G){var L;"function"===typeof(null===(L=this[X])||void 0===L?void 0:L.equals)&&this[X].equals(G)||this[X]!==G&&(this[X]=G,C[U].apply(this))},enumerable:!0,configurable:!0})}}(U,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function t(U){return X(0,U)}function E(U){return X(1,U)}function K(U){return X(2,U)}function P(U){return X(3,U)}function O(U){return X(4,U)}function T(U){return X(5,U)}function D(U){return X(6,U)}function y(U){return X(7,U)}function V(U){return X(8,U)}function p(U){return X(9,U)}function I(U){return X(10,U)}function H(U){return X(12,U)}function x(U,G,C,L){const X=C.value;C.value=function(){let C=X;if("undefined"!==typeof _native&&_native[G]){const U=_native[G];C=L?function(){return L(...arguments)?U(...arguments):X(...arguments)}:U}return U[G]=C,C(...arguments)}}x.filter=function(U){return(G,C,L)=>x(G,C,L,U)}},12928:(U,G,C)=>{C.d(G,{c:()=>P});var L=C(12747),X=C(12930),l=C(12934),t=C(12896),E=C(12889);const K=function(U,G,C){let L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l=U();X.b&&X.b.HasTags(G)&&X.b.AddTagsTo(l,X.b.GetTags(G,!0));const t=(0,E.g)(l),K={};for(const X in t){const U=t[X],E=G[X],O=U.type;if(void 0!==E&&null!==E&&("uniqueId"!==X||P.AllowLoadingUniqueId))switch(O){case 0:case 6:case 9:case 11:l[X]=E;break;case 1:L.cloneTexturesOnlyOnce&&K[E.uniqueId]?l[X]=K[E.uniqueId]:(l[X]=C||E.isRenderTarget?E:E.clone(),K[E.uniqueId]=l[X]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:l[X]=C?E:E.clone()}}return l};class P{static AppendSerializedAnimations(U,G){if(U.animations){G.animations=[];for(let C=0;C<U.animations.length;C++){const L=U.animations[C];G.animations.push(L.serialize())}}}static Serialize(U,G){G||(G={}),X.b&&(G.tags=X.b.GetTags(U));const C=(0,E.g)(U);for(const L in C){const X=C[L],l=X.sourceName||L,t=X.type,E=U[L];if(void 0!==E&&null!==E&&("uniqueId"!==L||P.AllowLoadingUniqueId))switch(t){case 0:G[l]=E;break;case 1:case 3:case 7:case 9:G[l]=E.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:G[l]=E.sE();break;case 6:case 11:G[l]=E.id}}return G}static ParseProperties(U,G,C,L){L||(L="");const X=(0,E.g)(G);for(const E in X){const K=X[E],O=U[K.sourceName||E],T=K.type;if(void 0!==O&&null!==O&&("uniqueId"!==E||P.AllowLoadingUniqueId)){const U=G;switch(T){case 0:U[E]=O;break;case 1:C&&(U[E]=P._TextureParser(O,C,L));break;case 2:U[E]=l.hG.NG(O);break;case 3:U[E]=P._FresnelParametersParser(O);break;case 4:U[E]=t.Vector2.NG(O);break;case 5:U[E]=t.pG.NG(O);break;case 6:C&&(U[E]=C.getLastMeshById(O));break;case 7:U[E]=P._ColorCurvesParser(O);break;case 8:U[E]=l.JE.NG(O);break;case 9:U[E]=P._ImageProcessingConfigurationParser(O);break;case 10:U[E]=t.Quaternion.NG(O);break;case 11:C&&(U[E]=C.getCameraById(O));break;case 12:U[E]=t.Matrix.NG(O)}}}}static Parse(U,G,C){let L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l=U();return X.b&&X.b.AddTagsTo(l,G.tags),P.ParseProperties(G,l,C,L),l}static Clone(U,G){return K(U,G,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(U,G){return K(U,G,!0)}}P.AllowLoadingUniqueId=!1,P._ImageProcessingConfigurationParser=U=>{throw(0,L.d)("ImageProcessingConfiguration")},P._FresnelParametersParser=U=>{throw(0,L.d)("FresnelParameters")},P._ColorCurvesParser=U=>{throw(0,L.d)("ColorCurves")},P._TextureParser=(U,G,C)=>{throw(0,L.d)("Texture")}},12930:(U,G,C)=>{C.d(G,{b:()=>X});class L{static Eval(U,G){return"true"===(U=U.match(/\([^()]*\)/g)?U.replace(/\([^()]*\)/g,(U=>(U=U.slice(1,U.length-1),L._HandleParenthesisContent(U,G)))):L._HandleParenthesisContent(U,G))||"false"!==U&&L.Eval(U,G)}static _HandleParenthesisContent(U,G){let C;G=G||(U=>"true"===U);const X=U.split("||");for(const l in X)if(Object.prototype.hasOwnProperty.call(X,l)){let U=L._SimplifyNegation(X[l].trim());const t=U.split("&&");if(t.length>1)for(let X=0;X<t.length;++X){const l=L._SimplifyNegation(t[X].trim());if(C="true"!==l&&"false"!==l?"!"===l[0]?!G(l.substring(1)):G(l):"true"===l,!C){U="false";break}}if(C||"true"===U){C=!0;break}C="true"!==U&&"false"!==U?"!"===U[0]?!G(U.substring(1)):G(U):"true"===U}return C?"true":"false"}static _SimplifyNegation(U){return"!true"===(U=(U=U.replace(/^[\s!]+/,(U=>(U=U.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?U="false":"!false"===U&&(U="true"),U}}class X{static EnableFor(U){U._tags=U._tags||{},U.hasTags=()=>X.HasTags(U),U.addTags=G=>X.AddTagsTo(U,G),U.removeTags=G=>X.RemoveTagsFrom(U,G),U.matchesTagsQuery=G=>X.MatchesQuery(U,G)}static DisableFor(U){delete U._tags,delete U.hasTags,delete U.addTags,delete U.removeTags,delete U.matchesTagsQuery}static HasTags(U){if(!U._tags)return!1;const G=U._tags;for(const C in G)if(Object.prototype.hasOwnProperty.call(G,C))return!0;return!1}static GetTags(U){let G=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!U._tags)return null;if(G){const G=[];for(const C in U._tags)Object.prototype.hasOwnProperty.call(U._tags,C)&&!0===U._tags[C]&&G.push(C);return G.join(" ")}return U._tags}static AddTagsTo(U,G){if(!G)return;if("string"!==typeof G)return;const C=G.split(" ");for(const L of C)X._AddTagTo(U,L)}static _AddTagTo(U,G){""!==(G=G.trim())&&"true"!==G&&"false"!==G&&(G.match(/[\s]/)||G.match(/^([!]|([|]|[&]){2})/)||(X.EnableFor(U),U._tags[G]=!0))}static RemoveTagsFrom(U,G){if(!X.HasTags(U))return;const C=G.split(" ");for(const L in C)X._RemoveTagFrom(U,C[L])}static _RemoveTagFrom(U,G){delete U._tags[G]}static MatchesQuery(U,G){return void 0===G||(""===G?X.HasTags(U):L.Eval(G,(G=>X.HasTags(U)&&U._tags[G])))}}},12876:(U,G,C)=>{C.d(G,{d:()=>L});function L(U,G,C,L){var X,l=arguments.length,t=l<3?G:null===L?L=Object.getOwnPropertyDescriptor(G,C):L;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)t=Reflect.decorate(U,G,C,L);else for(var E=U.length-1;E>=0;E--)(X=U[E])&&(t=(l<3?X(t):l>3?X(G,C,t):X(G,C))||t);return l>3&&t&&Object.defineProperty(G,C,t),t}Object.create;Object.create}}]);