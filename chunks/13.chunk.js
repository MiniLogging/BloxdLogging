"use strict";(self["9x1utqq1axc"]=self["9x1utqq1axc"]||[]).push([[13],{12386:(y,c,A)=>{A.d(c,{b:()=>l});let l=!1},12348:(y,c,A)=>{A.d(c,{d:()=>O});var l=A(12307),w=A(12310),N=A(12153),p=A(12325),W=A(12184),h=A(12287),I=(A(12191),A(12356));class q{get wrapU(){return this._wrapU}set wrapU(y){this._wrapU=y}get wrapV(){return this._wrapV}set wrapV(y){this._wrapV=y}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(y){this._texture&&(this._texture.isCube=y)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(y){this._texture&&(this._texture.is3D=y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(y){this._texture&&(this._texture.is2DArray=y)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(y){return void 0!==(null===y||void 0===y?void 0:y.shareDepth)}constructor(y){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=I.b.Zero(),this._cachedBaseSize=I.b.Zero(),this._initialSamplingMode=2,this._texture=q._IsRenderTargetWrapper(y)?y.texture:y,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(y){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(y,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var o=A(12363);class O extends q{set Vc(y){this._hasAlpha!==y&&(this._hasAlpha=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get Vc(){return this._hasAlpha}set getAlphaFromRGB(y){this._getAlphaFromRGB!==y&&(this._getAlphaFromRGB=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(y){this._coordinatesIndex!==y&&(this._coordinatesIndex=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(y){this._coordinatesMode!==y&&(this._coordinatesMode=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(y){this._wrapU=y}get wrapV(){return this._wrapV}set wrapV(y){this._wrapV=y}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(y){this._texture?this._texture.isCube=y:this._isCube=y}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(y){this._texture&&(this._texture.is3D=y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(y){this._texture&&(this._texture.is2DArray=y)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(y){var c;if(this._texture){if(this._texture._gammaSpace===y)return;this._texture._gammaSpace=y}else{if(this._gammaSpace===y)return;this._gammaSpace=y}null===(c=this.mc())||void 0===c||c.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(y){var c;y!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=y),null===(c=this.mc())||void 0===c||c.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(y){this._texture&&(this._texture._lodGenerationOffset=y)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(y){this._texture&&(this._texture._lodGenerationScale=y)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(y){this._texture&&(this._texture._linearSpecularLOD=y)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(y){this._texture&&(this._texture._irradianceTexture=y)}get uid(){return this._uid||(this._uid=(0,h.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(y){this._onDisposeObserver&&this.zc.remove(this._onDisposeObserver),this._onDisposeObserver=this.zc.add(y)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=O.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.zc=new N.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,y?O._IsScene(y)?this._scene=y:this._engine=y:this._scene=W.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=c,this._uid=null}mc(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return p.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return p.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(y){}get canRescale(){return!1}_getFromCache(y,c,A,l,w,N){const p=this._getEngine();if(!p)return null;const W=p._getUseSRGBBuffer(!!w,c),h=p.getLoadedTexturesCache();for(let I=0;I<h.length;I++){const p=h[I];if((void 0===w||W===p._useSRGBBuffer)&&(void 0===l||l===p.invertY)&&p.url===y&&p.generateMipMaps===!c&&(!A||A===p.samplingMode)&&(void 0===N||N===p.isCube))return p.incrementReferences(),p}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const y=this.mc();y&&y.markAllMaterialsAsDirty(1)}readPixels(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=arguments.length>4&&void 0!==arguments[4]&&arguments[4],N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const I=this._getEngine();if(!I)return null;const q=this.getSize();let o=q.width,O=q.height;0!==c&&(o/=Math.pow(2,c),O/=Math.pow(2,c),o=Math.round(o),O=Math.round(O)),W=Math.min(o,W),h=Math.min(O,h);try{return this._texture.isCube?I._readTexturePixels(this._texture,W,h,y,c,A,l,w,N,p):I._readTexturePixels(this._texture,W,h,-1,c,A,l,w,N,p)}catch(L){return null}}_readPixelsSync(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],w=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const N=this.getSize();let p=N.width,W=N.height;const h=this._getEngine();if(!h)return null;0!=c&&(p/=Math.pow(2,c),W/=Math.pow(2,c),p=Math.round(p),W=Math.round(W));try{return this._texture.isCube?h._readTexturePixelsSync(this._texture,p,W,y,c,A,l,w):h._readTexturePixelsSync(this._texture,p,W,-1,c,A,l,w)}catch(I){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const y=this._scene.textures.indexOf(this);if(y>=0&&this._scene.textures.splice(y,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const y=this._parentContainer.textures.indexOf(this);y>-1&&this._parentContainer.textures.splice(y,1),this._parentContainer=null}}this.zc.notifyObservers(this),this.zc.clear(),this.metadata=null,super.dispose()}serialize(){let y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!y)return null;const c=o.d.Serialize(this);return o.d.AppendSerializedAnimations(this,c),c}static WhenAllReady(y,c){let A=y.length;if(0!==A)for(let l=0;l<y.length;l++){const w=y[l];if(w.isReady())0===--A&&c();else{const y=w.onLoadObservable;y?y.addOnce((()=>{0===--A&&c()})):0===--A&&c()}}else c()}static _IsScene(y){return"Scene"===y.getClassName()}}O.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,l.b)([(0,w.P)()],O.prototype,"uniqueId",void 0),(0,l.b)([(0,w.P)()],O.prototype,"name",void 0),(0,l.b)([(0,w.P)()],O.prototype,"displayName",void 0),(0,l.b)([(0,w.P)()],O.prototype,"metadata",void 0),(0,l.b)([(0,w.P)("Vc")],O.prototype,"_hasAlpha",void 0),(0,l.b)([(0,w.P)("getAlphaFromRGB")],O.prototype,"_getAlphaFromRGB",void 0),(0,l.b)([(0,w.P)()],O.prototype,"level",void 0),(0,l.b)([(0,w.P)("coordinatesIndex")],O.prototype,"_coordinatesIndex",void 0),(0,l.b)([(0,w.P)()],O.prototype,"optimizeUVAllocation",void 0),(0,l.b)([(0,w.P)("coordinatesMode")],O.prototype,"_coordinatesMode",void 0),(0,l.b)([(0,w.P)()],O.prototype,"wrapU",null),(0,l.b)([(0,w.P)()],O.prototype,"wrapV",null),(0,l.b)([(0,w.P)()],O.prototype,"wrapR",void 0),(0,l.b)([(0,w.P)()],O.prototype,"anisotropicFilteringLevel",void 0),(0,l.b)([(0,w.P)()],O.prototype,"isCube",null),(0,l.b)([(0,w.P)()],O.prototype,"is3D",null),(0,l.b)([(0,w.P)()],O.prototype,"is2DArray",null),(0,l.b)([(0,w.P)()],O.prototype,"gammaSpace",null),(0,l.b)([(0,w.P)()],O.prototype,"invertZ",void 0),(0,l.b)([(0,w.P)()],O.prototype,"lodLevelInAlpha",void 0),(0,l.b)([(0,w.P)()],O.prototype,"lodGenerationOffset",null),(0,l.b)([(0,w.P)()],O.prototype,"lodGenerationScale",null),(0,l.b)([(0,w.P)()],O.prototype,"linearSpecularLOD",null),(0,l.b)([(0,w.F)()],O.prototype,"irradianceTexture",null),(0,l.b)([(0,w.P)()],O.prototype,"isRenderTarget",void 0)},12303:(y,c,A)=>{A.d(c,{d:()=>s});var l=A(12307),w=A(12310),N=A(12153),p=A(12325),W=A(12348),h=A(12283),I=A(12178),q=A(12212),o=A(12274),O=A(12384),L=A(12197);function i(y,c){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=c.width,w=c.height;if(y instanceof Float32Array){let c=y.byteLength/y.BYTES_PER_ELEMENT;const A=new Uint8Array(c);for(;--c>=0;){let l=y[c];l<0?l=0:l>1&&(l=1),A[c]=255*l}y=A}const N=document.createElement("canvas");N.width=l,N.height=w;const p=N.getContext("2d");if(!p)return null;const W=p.createImageData(l,w);if(W.data.set(y),p.putImageData(W,0,0),A){const y=document.createElement("canvas");y.width=l,y.height=w;const c=y.getContext("2d");return c?(c.translate(0,w),c.scale(1,-1),c.drawImage(N,0,0),y.toDataURL("image/png")):null}return N.toDataURL("image/png")}function H(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const l=y.getInternalTexture();if(!l)return null;const w=y._readPixelsSync(c,A);return w?i(w,y.getSize(),l.invertY):null}async function P(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const l=y.getInternalTexture();if(!l)return null;const w=await y.readPixels(c,A);return w?i(w,y.getSize(),l.invertY):null}var D=A(12386),t=A(12363);class s extends W.d{static _CreateVideoTexture(y,c,A){arguments.length>5&&void 0!==arguments[5]||s.TRILINEAR_SAMPLINGMODE;throw(0,I.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(y){this._isBlocking=y}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(y,c,A,l){let w,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TRILINEAR_SAMPLINGMODE,W=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=arguments.length>8&&void 0!==arguments[8]&&arguments[8],O=arguments.length>9?arguments[9]:void 0,L=arguments.length>10?arguments[10]:void 0,i=arguments.length>11?arguments[11]:void 0,H=arguments.length>12?arguments[12]:void 0,P=arguments.length>13?arguments[13]:void 0;super(c),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new N.d,this._isBlocking=!0,this.name=y||"",this.url=y;let t=!1,B=null,X=!0;"object"===typeof A&&null!==A?(w=A.noMipmap??!1,l=A.invertY??!D.b,p=A.samplingMode??s.TRILINEAR_SAMPLINGMODE,W=A.R??null,h=A.onError??null,I=A.buffer??null,o=A.deleteBuffer??!1,O=A.format,L=A.mimeType,i=A.loaderOptions,H=A.creationFlags,t=A.useSRGBBuffer??!1,B=A.internalTexture??null,X=A.gammaSpace??X,P=A.forcedExtension??P):w=!!A,this._gammaSpace=X,this._noMipmap=w,this._invertY=void 0===l?!D.b:l,this._initialSamplingMode=p,this._buffer=I,this._deleteBuffer=o,this._mimeType=L,this._loaderOptions=i,this._creationFlags=H,this._useSRGBBuffer=t,this._forcedExtension=P,void 0!==O&&(this._format=O);const C=this.mc(),K=this._getEngine();if(!K)return;K.onBeforeTextureInitObservable.notifyObservers(this);const my=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),W&&W(),!this.isBlocking&&C&&C.resetCachedMaterial()},T=(y,c)=>{this._loadingError=!0,this._errorObject={message:y,exception:c},h&&h(y,c),s.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!B)return this._delayedOnLoad=my,void(this._delayedOnError=T);if(this._texture=B??this._getFromCache(this.url,w,p,this._invertY,t,this.isCube),this._texture)if(this._texture.isReady)q.c.SetImmediate((()=>my()));else{const y=this._texture.onLoadedObservable.add(my);this._texture.onErrorObservable.add((c=>{var A;T(c.message,c.exception),null===(A=this._texture)||void 0===A||A.onLoadedObservable.remove(y)}))}else if(C&&C.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=my,this._delayedOnError=T;else{try{this._texture=K.createTexture(this.url,w,this._invertY,C,p,my,T,this._buffer,void 0,this._format,this._forcedExtension,L,i,H,t)}catch(z){throw T("error loading",z),z}o&&(this._buffer=null)}}updateURL(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,A=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.mc().markAllMaterialsAsDirty(1,(y=>y.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=y),this.url=y,this._buffer=c,this._forcedExtension=l,this.delayLoadState=4,A&&(this._delayedOnLoad=A),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const y=this.mc();y&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?q.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=y.getEngine().createTexture(this.url,this._noMipmap,this._invertY,y,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(y,c,A,l){y*=this._cachedUScale,c*=this._cachedVScale,y-=this.uRotationCenter*this._cachedUScale,c-=this.vRotationCenter*this._cachedVScale,A-=this.wRotationCenter,p.gc.TransformCoordinatesFromFloatsToRef(y,c,A,this._rowGenerationMatrix,l),l.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,l.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,l.z+=this.wRotationCenter}getTextureMatrix(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*y===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*y,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=p.Matrix.Zero(),this._rowGenerationMatrix=new p.Matrix,this._t0=p.gc.Zero(),this._t1=p.gc.Zero(),this._t2=p.gc.Zero()),p.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(p.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,p.TmpVectors.Matrix[0]),p.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,p.TmpVectors.Matrix[1]),p.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,p.TmpVectors.Matrix[2]),p.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,p.TmpVectors.Matrix[3]),p.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(p.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(p.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(p.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.uo(this._t0),this._t2.uo(this._t0),p.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const c=this.mc();if(!c)return this._cachedTextureMatrix;const A=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&A!==this._cachedIdentity3x2&&c.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const y=this.mc();if(!y)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==s.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===y.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=p.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=p.Matrix.Zero());const c=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case s.PLANAR_MODE:p.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case s.PROJECTION_MODE:{p.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const c=y.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=c.updateFlag,c.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:p.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return c&&y.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const y={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,R:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return t.d.Clone((()=>new s(this._texture?this._texture.url:null,this.mc(),y)),this)}serialize(){var y;const c=this.name;s.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const A=super.serialize(s._SerializeInternalTextureUniqueId);if(!A)return null;if(s.SerializeBuffers||s.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))A.base64String=this._buffer,A.name=A.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const y=this.mimeType||"image/png";A.base64String=`data:${y};base64,${(0,L.j)(this._buffer)}`}else(s.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(A.base64String=!this._engine||this._engine._features.supportSyncTextureRead?H(this):P(this));var l;(A.invertY=this._invertY,A.samplingMode=this.samplingMode,A._creationFlags=this._creationFlags,A._useSRGBBuffer=this._useSRGBBuffer,s._SerializeInternalTextureUniqueId)&&(A.internalTextureUniqueId=null===(l=this._texture)||void 0===l?void 0:l.uniqueId);return A.internalTextureLabel=null===(y=this._texture)||void 0===y?void 0:y.label,A.noMipmap=this._noMipmap,this.name=c,A}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(y,c,A){if(y.customType){const l=o.e.Instantiate(y.customType).Parse(y,c,A);return y.samplingMode&&l.updateSamplingMode&&l._samplingMode&&l._samplingMode!==y.samplingMode&&l.updateSamplingMode(y.samplingMode),l}if(y.isCube&&!y.isRenderTarget)return s._CubeTextureParser(y,c,A);const l=void 0!==y.internalTextureUniqueId;if(!y.name&&!y.isRenderTarget&&!l)return null;let w;if(l){const A=c.getEngine().getLoadedTexturesCache();for(const c of A)if(c.uniqueId===y.internalTextureUniqueId){w=c;break}}const N=c=>{if(c&&c._texture&&(c._texture._cachedWrapU=null,c._texture._cachedWrapV=null,c._texture._cachedWrapR=null),y.samplingMode){const A=y.samplingMode;c&&c.samplingMode!==A&&c.updateSamplingMode(A)}if(c&&y.animations)for(let A=0;A<y.animations.length;A++){const l=y.animations[A],w=(0,h.d)("BABYLON.Animation");w&&c.animations.push(w.Parse(l))}c&&c._texture&&(l&&!w&&c._texture._setUniqueId(y.internalTextureUniqueId),c._texture.label=y.internalTextureLabel)};return t.d.Parse((()=>{let l=!0;if(y.noMipmap&&(l=!1),y.mirrorPlane){const A=s._CreateMirror(y.name,y.renderTargetSize,c,l);return A._waitingRenderList=y.renderList,A.mirrorPlane=O.c.yA(y.mirrorPlane),N(A),A}if(y.isRenderTarget){let A=null;if(y.isCube){if(c.reflectionProbes)for(let l=0;l<c.reflectionProbes.length;l++){const A=c.reflectionProbes[l];if(A.name===y.name)return A.cubeTexture}}else A=s._CreateRenderTargetTexture(y.name,y.renderTargetSize,c,l,y._creationFlags??0),A._waitingRenderList=y.renderList;return N(A),A}if(y.isVideo){const w=s._CreateVideoTexture(A+(y.url||y.name),A+(y.src||y.url),c,l,y.invertY,y.samplingMode,y.settings||{});return N(w),w}{let p;if(y.base64String&&!w)p=s.CreateFromBase64String(y.base64String,y.base64String,c,!l,y.invertY,y.samplingMode,(()=>{N(p)}),y._creationFlags??0,y._useSRGBBuffer??!1),p.name=y.name;else{let W;W=y.name&&(y.name.indexOf("://")>0||y.name.startsWith("data:"))?y.name:A+y.name,y.url&&(y.url.startsWith("data:")||s.UseSerializedUrlIfAny)&&(W=y.url);const h={noMipmap:!l,invertY:y.invertY,samplingMode:y.samplingMode,R:()=>{N(p)},internalTexture:w};p=new s(W,c,h)}return p}}),y,c)}static CreateFromBase64String(y,c,A,l,w){let N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.TRILINEAR_SAMPLINGMODE;return new s("data:"+c,A,l,w,N,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(y,c,A){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],w=arguments.length>4?arguments[4]:void 0,N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.TRILINEAR_SAMPLINGMODE,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,I=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,q=arguments.length>10?arguments[10]:void 0,o=arguments.length>11?arguments[11]:void 0;return"data:"!==y.substring(0,5)&&(y="data:"+y),new s(y,A,w,N,p,W,h,c,l,I,void 0,void 0,q,o)}}s.SerializeBuffers=!0,s.ForceSerializeBuffers=!1,s.OnTextureLoadErrorObservable=new N.d,s._SerializeInternalTextureUniqueId=!1,s._CubeTextureParser=(y,c,A)=>{throw(0,I.d)("CubeTexture")},s._CreateMirror=(y,c,A,l)=>{throw(0,I.d)("MirrorTexture")},s._CreateRenderTargetTexture=(y,c,A,l,w)=>{throw(0,I.d)("RenderTargetTexture")},s.NEAREST_SAMPLINGMODE=1,s.NEAREST_NEAREST_MIPLINEAR=8,s.BILINEAR_SAMPLINGMODE=2,s.LINEAR_LINEAR_MIPNEAREST=11,s.TRILINEAR_SAMPLINGMODE=3,s.LINEAR_LINEAR_MIPLINEAR=3,s.NEAREST_NEAREST_MIPNEAREST=4,s.NEAREST_LINEAR_MIPNEAREST=5,s.NEAREST_LINEAR_MIPLINEAR=6,s.NEAREST_LINEAR=7,s.NEAREST_NEAREST=1,s.LINEAR_NEAREST_MIPNEAREST=9,s.LINEAR_NEAREST_MIPLINEAR=10,s.LINEAR_LINEAR=2,s.LINEAR_NEAREST=12,s.EXPLICIT_MODE=0,s.SPHERICAL_MODE=1,s.PLANAR_MODE=2,s.CUBIC_MODE=3,s.PROJECTION_MODE=4,s.SKYBOX_MODE=5,s.INVCUBIC_MODE=6,s.EQUIRECTANGULAR_MODE=7,s.FIXED_EQUIRECTANGULAR_MODE=8,s.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,s.CLAMP_ADDRESSMODE=0,s.WRAP_ADDRESSMODE=1,s.MIRROR_ADDRESSMODE=2,s.UseSerializedUrlIfAny=!1,(0,l.b)([(0,w.P)()],s.prototype,"url",void 0),(0,l.b)([(0,w.P)()],s.prototype,"uOffset",void 0),(0,l.b)([(0,w.P)()],s.prototype,"vOffset",void 0),(0,l.b)([(0,w.P)()],s.prototype,"uScale",void 0),(0,l.b)([(0,w.P)()],s.prototype,"vScale",void 0),(0,l.b)([(0,w.P)()],s.prototype,"uAng",void 0),(0,l.b)([(0,w.P)()],s.prototype,"vAng",void 0),(0,l.b)([(0,w.P)()],s.prototype,"wAng",void 0),(0,l.b)([(0,w.P)()],s.prototype,"uRotationCenter",void 0),(0,l.b)([(0,w.P)()],s.prototype,"vRotationCenter",void 0),(0,l.b)([(0,w.P)()],s.prototype,"wRotationCenter",void 0),(0,l.b)([(0,w.P)()],s.prototype,"homogeneousRotationInUVTransform",void 0),(0,l.b)([(0,w.P)()],s.prototype,"isBlocking",null),(0,h.f)("BABYLON.Texture",s),t.d._TextureParser=s.Parse},12384:(y,c,A)=>{A.d(c,{c:()=>w});var l=A(12325);class w{constructor(y,c,A,w){this.normal=new l.gc(y,c,A),this.d=w}fc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new w(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let y=this.normal.getHashCode();return y=397*y^this.d,y}normalize(){const y=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let c=0;return 0!==y&&(c=1/y),this.normal.x*=c,this.normal.y*=c,this.normal.z*=c,this.d*=c,this}transform(y){const c=w._TmpMatrix;y.invertToRef(c);const A=c.m,l=this.normal.x,N=this.normal.y,p=this.normal.z,W=this.d,h=l*A[0]+N*A[1]+p*A[2]+W*A[3],I=l*A[4]+N*A[5]+p*A[6]+W*A[7],q=l*A[8]+N*A[9]+p*A[10]+W*A[11],o=l*A[12]+N*A[13]+p*A[14]+W*A[15];return new w(h,I,q,o)}dotCoordinate(y){return this.normal.x*y.x+this.normal.y*y.y+this.normal.z*y.z+this.d}copyFromPoints(y,c,A){const l=c.x-y.x,w=c.y-y.y,N=c.z-y.z,p=A.x-y.x,W=A.y-y.y,h=A.z-y.z,I=w*h-N*W,q=N*p-l*h,o=l*W-w*p,O=Math.sqrt(I*I+q*q+o*o);let L;return L=0!==O?1/O:0,this.normal.x=I*L,this.normal.y=q*L,this.normal.z=o*L,this.d=-(this.normal.x*y.x+this.normal.y*y.y+this.normal.z*y.z),this}isFrontFacingTo(y,c){return l.gc.Dot(this.normal,y)<=c}signedDistanceTo(y){return l.gc.Dot(y,this.normal)+this.d}static yA(y){return new w(y[0],y[1],y[2],y[3])}static FromPoints(y,c,A){const l=new w(0,0,0,0);return l.copyFromPoints(y,c,A),l}static FromPositionAndNormal(y,c){const A=new w(0,0,0,0);return this.FromPositionAndNormalToRef(y,c,A)}static FromPositionAndNormalToRef(y,c,A){return A.normal.p(c),A.normal.normalize(),A.d=-y.dot(A.normal),A}static SignedDistanceToPlaneFromPositionAndNormal(y,c,A){const w=-(c.x*y.x+c.y*y.y+c.z*y.z);return l.gc.Dot(A,c)+w}}w._TmpMatrix=l.Matrix.Identity()},12356:(y,c,A)=>{A.d(c,{b:()=>l});class l{constructor(y,c){this.width=y,this.height=c}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let y=0|this.width;return y=397*y^this.height,y}p(y){this.width=y.width,this.height=y.height}Ec(y,c){return this.width=y,this.height=c,this}set(y,c){return this.Ec(y,c)}multiplyByFloats(y,c){return new l(this.width*y,this.height*c)}clone(){return new l(this.width,this.height)}equals(y){return!!y&&(this.width===y.width&&this.height===y.height)}get surface(){return this.width*this.height}static Zero(){return new l(0,0)}add(y){return new l(this.width+y.width,this.height+y.height)}xc(y){return new l(this.width-y.width,this.height-y.height)}scale(y){return new l(this.width*y,this.height*y)}static Lerp(y,c,A){const w=y.width+(c.width-y.width)*A,N=y.height+(c.height-y.height)*A;return new l(w,N)}}},12316:(y,c,A)=>{A.d(c,{e:()=>N,i:()=>p});const l={},w={};function N(y){const c=y.getClassName();return w[c]||(w[c]={}),w[c]}function p(y){const c=y.getClassName();if(l[c])return l[c];l[c]={};const A=l[c];let N=y,p=c;for(;p;){const y=w[p];for(const w in y)A[w]=y[w];let c,l=!1;do{if(c=Object.getPrototypeOf(N),!c.getClassName){l=!0;break}if(c.getClassName()!==p)break;N=c}while(c);if(l)break;p=c.getClassName(),N=c}return A}},12310:(y,c,A)=>{A.d(c,{C:()=>P,F:()=>W,J:()=>q,M:()=>o,P:()=>p,d:()=>N,h:()=>t,j:()=>L,l:()=>h,n:()=>i,o:()=>I,s:()=>H,w:()=>D,y:()=>O});var l=A(12316);function w(y,c){return(A,w)=>{const N=(0,l.e)(A);N[w]||(N[w]={type:y,sourceName:c})}}function N(y){return function(y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(A,l)=>{const w=c||"_"+l;Object.defineProperty(A,l,{get:function(){return this[w]},set:function(c){var l;"function"===typeof(null===(l=this[w])||void 0===l?void 0:l.equals)&&this[w].equals(c)||this[w]!==c&&(this[w]=c,A[y].apply(this))},enumerable:!0,configurable:!0})}}(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function p(y){return w(0,y)}function W(y){return w(1,y)}function h(y){return w(2,y)}function I(y){return w(3,y)}function q(y){return w(4,y)}function o(y){return w(5,y)}function O(y){return w(6,y)}function L(y){return w(7,y)}function i(y){return w(8,y)}function H(y){return w(9,y)}function P(y){return w(10,y)}function D(y){return w(12,y)}function t(y,c,A,l){const w=A.value;A.value=function(){let A=w;if("undefined"!==typeof _native&&_native[c]){const y=_native[c];A=l?function(){return l(...arguments)?y(...arguments):w(...arguments)}:y}return y[c]=A,A(...arguments)}}t.filter=function(y){return(c,A,l)=>t(c,A,l,y)}},12363:(y,c,A)=>{A.d(c,{d:()=>I});var l=A(12178),w=A(12368),N=A(12375),p=A(12325),W=A(12316);const h=function(y,c,A){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const N=y();w.c&&w.c.HasTags(c)&&w.c.AddTagsTo(N,w.c.GetTags(c,!0));const p=(0,W.i)(N),h={};for(const w in p){const y=p[w],W=c[w],q=y.type;if(void 0!==W&&null!==W&&("uniqueId"!==w||I.AllowLoadingUniqueId))switch(q){case 0:case 6:case 9:case 11:N[w]=W;break;case 1:l.cloneTexturesOnlyOnce&&h[W.uniqueId]?N[w]=h[W.uniqueId]:(N[w]=A||W.isRenderTarget?W:W.clone(),h[W.uniqueId]=N[w]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:N[w]=A?W:W.clone()}}return N};class I{static AppendSerializedAnimations(y,c){if(y.animations){c.animations=[];for(let A=0;A<y.animations.length;A++){const l=y.animations[A];c.animations.push(l.serialize())}}}static Serialize(y,c){c||(c={}),w.c&&(c.tags=w.c.GetTags(y));const A=(0,W.i)(y);for(const l in A){const w=A[l],N=w.sourceName||l,p=w.type,W=y[l];if(void 0!==W&&null!==W&&("uniqueId"!==l||I.AllowLoadingUniqueId))switch(p){case 0:c[N]=W;break;case 1:case 3:case 7:case 9:c[N]=W.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:c[N]=W.fc();break;case 6:case 11:c[N]=W.id}}return c}static ParseProperties(y,c,A,l){l||(l="");const w=(0,W.i)(c);for(const W in w){const h=w[W],q=y[h.sourceName||W],o=h.type;if(void 0!==q&&null!==q&&("uniqueId"!==W||I.AllowLoadingUniqueId)){const y=c;switch(o){case 0:y[W]=q;break;case 1:A&&(y[W]=I._TextureParser(q,A,l));break;case 2:y[W]=N.dc.yA(q);break;case 3:y[W]=I._FresnelParametersParser(q);break;case 4:y[W]=p.Vector2.yA(q);break;case 5:y[W]=p.gc.yA(q);break;case 6:A&&(y[W]=A.getLastMeshById(q));break;case 7:y[W]=I._ColorCurvesParser(q);break;case 8:y[W]=N.ip.yA(q);break;case 9:y[W]=I._ImageProcessingConfigurationParser(q);break;case 10:y[W]=p.Quaternion.yA(q);break;case 11:A&&(y[W]=A.getCameraById(q));break;case 12:y[W]=p.Matrix.yA(q)}}}}static Parse(y,c,A){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const N=y();return w.c&&w.c.AddTagsTo(N,c.tags),I.ParseProperties(c,N,A,l),N}static Clone(y,c){return h(y,c,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(y,c){return h(y,c,!0)}}I.AllowLoadingUniqueId=!1,I._ImageProcessingConfigurationParser=y=>{throw(0,l.d)("ImageProcessingConfiguration")},I._FresnelParametersParser=y=>{throw(0,l.d)("FresnelParameters")},I._ColorCurvesParser=y=>{throw(0,l.d)("ColorCurves")},I._TextureParser=(y,c,A)=>{throw(0,l.d)("Texture")}},12368:(y,c,A)=>{A.d(c,{c:()=>w});class l{static Eval(y,c){return"true"===(y=y.match(/\([^()]*\)/g)?y.replace(/\([^()]*\)/g,(y=>(y=y.slice(1,y.length-1),l._HandleParenthesisContent(y,c)))):l._HandleParenthesisContent(y,c))||"false"!==y&&l.Eval(y,c)}static _HandleParenthesisContent(y,c){let A;c=c||(y=>"true"===y);const w=y.split("||");for(const N in w)if(Object.prototype.hasOwnProperty.call(w,N)){let y=l._SimplifyNegation(w[N].trim());const p=y.split("&&");if(p.length>1)for(let w=0;w<p.length;++w){const N=l._SimplifyNegation(p[w].trim());if(A="true"!==N&&"false"!==N?"!"===N[0]?!c(N.substring(1)):c(N):"true"===N,!A){y="false";break}}if(A||"true"===y){A=!0;break}A="true"!==y&&"false"!==y?"!"===y[0]?!c(y.substring(1)):c(y):"true"===y}return A?"true":"false"}static _SimplifyNegation(y){return"!true"===(y=(y=y.replace(/^[\s!]+/,(y=>(y=y.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?y="false":"!false"===y&&(y="true"),y}}class w{static EnableFor(y){y._tags=y._tags||{},y.hasTags=()=>w.HasTags(y),y.addTags=c=>w.AddTagsTo(y,c),y.removeTags=c=>w.RemoveTagsFrom(y,c),y.matchesTagsQuery=c=>w.MatchesQuery(y,c)}static DisableFor(y){delete y._tags,delete y.hasTags,delete y.addTags,delete y.removeTags,delete y.matchesTagsQuery}static HasTags(y){if(!y._tags)return!1;const c=y._tags;for(const A in c)if(Object.prototype.hasOwnProperty.call(c,A))return!0;return!1}static GetTags(y){let c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!y._tags)return null;if(c){const c=[];for(const A in y._tags)Object.prototype.hasOwnProperty.call(y._tags,A)&&!0===y._tags[A]&&c.push(A);return c.join(" ")}return y._tags}static AddTagsTo(y,c){if(!c)return;if("string"!==typeof c)return;const A=c.split(" ");for(const l of A)w._AddTagTo(y,l)}static _AddTagTo(y,c){""!==(c=c.trim())&&"true"!==c&&"false"!==c&&(c.match(/[\s]/)||c.match(/^([!]|([|]|[&]){2})/)||(w.EnableFor(y),y._tags[c]=!0))}static RemoveTagsFrom(y,c){if(!w.HasTags(y))return;const A=c.split(" ");for(const l in A)w._RemoveTagFrom(y,A[l])}static _RemoveTagFrom(y,c){delete y._tags[c]}static MatchesQuery(y,c){return void 0===c||(""===c?w.HasTags(y):l.Eval(c,(c=>w.HasTags(y)&&y._tags[c])))}}},12307:(y,c,A)=>{A.d(c,{b:()=>l});function l(y,c,A,l){var w,N=arguments.length,p=N<3?c:null===l?l=Object.getOwnPropertyDescriptor(c,A):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)p=Reflect.decorate(y,c,A,l);else for(var W=y.length-1;W>=0;W--)(w=y[W])&&(p=(N<3?w(p):N>3?w(c,A,p):w(c,A))||p);return N>3&&p&&Object.defineProperty(c,A,p),p}Object.create;Object.create}}]);