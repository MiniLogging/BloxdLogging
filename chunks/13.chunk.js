"use strict";(self.vb3rpbgyozo=self.vb3rpbgyozo||[]).push([[13],{12802:(q,I,l)=>{l.d(I,{b:()=>w});let w=!1},12765:(q,I,l)=>{l.d(I,{e:()=>x});var w=l(12735),t=l(12740),O=l(12573),c=l(12747),a=l(12612),F=l(12718),s=(l(12615),l(12770));class Z{get wrapU(){return this._wrapU}set wrapU(q){this._wrapU=q}get wrapV(){return this._wrapV}set wrapV(q){this._wrapV=q}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(q){this._texture&&(this._texture.isCube=q)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(q){this._texture&&(this._texture.is3D=q)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(q){this._texture&&(this._texture.is2DArray=q)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(q){return void 0!==(null===q||void 0===q?void 0:q.shareDepth)}constructor(q){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=s.d.Zero(),this._cachedBaseSize=s.d.Zero(),this._initialSamplingMode=2,this._texture=Z._IsRenderTargetWrapper(q)?q.texture:q,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(q){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(q,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var r=l(12777);class x extends Z{set Bc(q){this._hasAlpha!==q&&(this._hasAlpha=q,this._scene&&this._scene.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))))}get Bc(){return this._hasAlpha}set getAlphaFromRGB(q){this._getAlphaFromRGB!==q&&(this._getAlphaFromRGB=q,this._scene&&this._scene.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(q){this._coordinatesIndex!==q&&(this._coordinatesIndex=q,this._scene&&this._scene.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(q){this._coordinatesMode!==q&&(this._coordinatesMode=q,this._scene&&this._scene.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(q){this._wrapU=q}get wrapV(){return this._wrapV}set wrapV(q){this._wrapV=q}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(q){this._texture?this._texture.isCube=q:this._isCube=q}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(q){this._texture&&(this._texture.is3D=q)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(q){this._texture&&(this._texture.is2DArray=q)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(q){var I;if(this._texture){if(this._texture._gammaSpace===q)return;this._texture._gammaSpace=q}else{if(this._gammaSpace===q)return;this._gammaSpace=q}null===(I=this.Wq())||void 0===I||I.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(q){var I;q!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=q),null===(I=this.Wq())||void 0===I||I.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(q){this._texture&&(this._texture._lodGenerationOffset=q)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(q){this._texture&&(this._texture._lodGenerationScale=q)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(q){this._texture&&(this._texture._linearSpecularLOD=q)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(q){this._texture&&(this._texture._irradianceTexture=q)}get uid(){return this._uid||(this._uid=(0,F.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(q){this._onDisposeObserver&&this.tc.remove(this._onDisposeObserver),this._onDisposeObserver=this.tc.add(q)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.tc=new O.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,q?x._IsScene(q)?this._scene=q:this._engine=q:this._scene=a.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=I,this._uid=null}Wq(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return c.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return c.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(q){}get canRescale(){return!1}_getFromCache(q,I,l,w,t,O){const c=this._getEngine();if(!c)return null;const a=c._getUseSRGBBuffer(!!t,I),F=c.getLoadedTexturesCache();for(let s=0;s<F.length;s++){const c=F[s];if((void 0===t||a===c._useSRGBBuffer)&&(void 0===w||w===c.invertY)&&c.url===q&&c.generateMipMaps===!I&&(!l||l===c.samplingMode)&&(void 0===O||O===c.isCube))return c.incrementReferences(),c}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const q=this.Wq();q&&q.markAllMaterialsAsDirty(1)}readPixels(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,w=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const s=this._getEngine();if(!s)return null;const Z=this.getSize();let r=Z.width,x=Z.height;0!==I&&(r/=Math.pow(2,I),x/=Math.pow(2,I),r=Math.round(r),x=Math.round(x)),a=Math.min(r,a),F=Math.min(x,F);try{return this._texture.isCube?s._readTexturePixels(this._texture,a,F,q,I,l,w,t,O,c):s._readTexturePixels(this._texture,a,F,-1,I,l,w,t,O,c)}catch(o){return null}}_readPixelsSync(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,w=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const O=this.getSize();let c=O.width,a=O.height;const F=this._getEngine();if(!F)return null;0!=I&&(c/=Math.pow(2,I),a/=Math.pow(2,I),c=Math.round(c),a=Math.round(a));try{return this._texture.isCube?F._readTexturePixelsSync(this._texture,c,a,q,I,l,w,t):F._readTexturePixelsSync(this._texture,c,a,-1,I,l,w,t)}catch(s){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const q=this._scene.textures.indexOf(this);if(q>=0&&this._scene.textures.splice(q,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const q=this._parentContainer.textures.indexOf(this);q>-1&&this._parentContainer.textures.splice(q,1),this._parentContainer=null}}this.tc.notifyObservers(this),this.tc.clear(),this.metadata=null,super.dispose()}serialize(){let q=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!q)return null;const I=r.c.Serialize(this);return r.c.AppendSerializedAnimations(this,I),I}static WhenAllReady(q,I){let l=q.length;if(0!==l)for(let w=0;w<q.length;w++){const t=q[w];if(t.isReady())0===--l&&I();else{const q=t.onLoadObservable;q?q.addOnce((()=>{0===--l&&I()})):0===--l&&I()}}else I()}static _IsScene(q){return"Scene"===q.getClassName()}}x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,w.d)([(0,t.D)()],x.prototype,"uniqueId",void 0),(0,w.d)([(0,t.D)()],x.prototype,"name",void 0),(0,w.d)([(0,t.D)()],x.prototype,"displayName",void 0),(0,w.d)([(0,t.D)()],x.prototype,"metadata",void 0),(0,w.d)([(0,t.D)("Bc")],x.prototype,"_hasAlpha",void 0),(0,w.d)([(0,t.D)("getAlphaFromRGB")],x.prototype,"_getAlphaFromRGB",void 0),(0,w.d)([(0,t.D)()],x.prototype,"level",void 0),(0,w.d)([(0,t.D)("coordinatesIndex")],x.prototype,"_coordinatesIndex",void 0),(0,w.d)([(0,t.D)()],x.prototype,"optimizeUVAllocation",void 0),(0,w.d)([(0,t.D)("coordinatesMode")],x.prototype,"_coordinatesMode",void 0),(0,w.d)([(0,t.D)()],x.prototype,"wrapU",null),(0,w.d)([(0,t.D)()],x.prototype,"wrapV",null),(0,w.d)([(0,t.D)()],x.prototype,"wrapR",void 0),(0,w.d)([(0,t.D)()],x.prototype,"anisotropicFilteringLevel",void 0),(0,w.d)([(0,t.D)()],x.prototype,"isCube",null),(0,w.d)([(0,t.D)()],x.prototype,"is3D",null),(0,w.d)([(0,t.D)()],x.prototype,"is2DArray",null),(0,w.d)([(0,t.D)()],x.prototype,"gammaSpace",null),(0,w.d)([(0,t.D)()],x.prototype,"invertZ",void 0),(0,w.d)([(0,t.D)()],x.prototype,"lodLevelInAlpha",void 0),(0,w.d)([(0,t.D)()],x.prototype,"lodGenerationOffset",null),(0,w.d)([(0,t.D)()],x.prototype,"lodGenerationScale",null),(0,w.d)([(0,t.D)()],x.prototype,"linearSpecularLOD",null),(0,w.d)([(0,t.z)()],x.prototype,"irradianceTexture",null),(0,w.d)([(0,t.D)()],x.prototype,"isRenderTarget",void 0)},12733:(q,I,l)=>{l.d(I,{d:()=>v});var w=l(12735),t=l(12740),O=l(12573),c=l(12747),a=l(12765),F=l(12711),s=l(12603),Z=l(12647),r=l(12704),x=l(12794),o=l(12625);function d(q,I){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const w=I.width,t=I.height;if(q instanceof Float32Array){let I=q.byteLength/q.BYTES_PER_ELEMENT;const l=new Uint8Array(I);for(;--I>=0;){let w=q[I];w<0?w=0:w>1&&(w=1),l[I]=255*w}q=l}const O=document.createElement("canvas");O.width=w,O.height=t;const c=O.getContext("2d");if(!c)return null;const a=c.createImageData(w,t);if(a.data.set(q),c.putImageData(a,0,0),l){const q=document.createElement("canvas");q.width=w,q.height=t;const I=q.getContext("2d");return I?(I.translate(0,t),I.scale(1,-1),I.drawImage(O,0,0),q.toDataURL("image/png")):null}return O.toDataURL("image/png")}function T(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const w=q.getInternalTexture();if(!w)return null;const t=q._readPixelsSync(I,l);return t?d(t,q.getSize(),w.invertY):null}async function V(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const w=q.getInternalTexture();if(!w)return null;const t=await q.readPixels(I,l);return t?d(t,q.getSize(),w.invertY):null}var U=l(12802),B=l(12777);class v extends a.e{static _CreateVideoTexture(q,I,l){arguments.length>5&&void 0!==arguments[5]||v.TRILINEAR_SAMPLINGMODE;throw(0,s.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(q){this._isBlocking=q}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(q,I,l,w){let t,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.TRILINEAR_SAMPLINGMODE,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,r=arguments.length>8&&void 0!==arguments[8]&&arguments[8],x=arguments.length>9?arguments[9]:void 0,o=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0,T=arguments.length>12?arguments[12]:void 0,V=arguments.length>13?arguments[13]:void 0;super(I),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new O.d,this._isBlocking=!0,this.name=q||"",this.url=q;let B=!1,k=null,C=!0;"object"===typeof l&&null!==l?(t=l.noMipmap??!1,w=l.invertY??!U.b,c=l.samplingMode??v.TRILINEAR_SAMPLINGMODE,a=l.J??null,F=l.onError??null,s=l.buffer??null,r=l.deleteBuffer??!1,x=l.format,o=l.mimeType,d=l.loaderOptions,T=l.creationFlags,B=l.useSRGBBuffer??!1,k=l.internalTexture??null,C=l.gammaSpace??C,V=l.forcedExtension??V):t=!!l,this._gammaSpace=C,this._noMipmap=t,this._invertY=void 0===w?!U.b:w,this._initialSamplingMode=c,this._buffer=s,this._deleteBuffer=r,this._mimeType=o,this._loaderOptions=d,this._creationFlags=T,this._useSRGBBuffer=B,this._forcedExtension=V,void 0!==x&&(this._format=x);const R=this.Wq(),W=this._getEngine();if(!W)return;W.onBeforeTextureInitObservable.notifyObservers(this);const e=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),a&&a(),!this.isBlocking&&R&&R.resetCachedMaterial()},i=(q,I)=>{this._loadingError=!0,this._errorObject={message:q,exception:I},F&&F(q,I),v.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!k)return this._delayedOnLoad=e,void(this._delayedOnError=i);if(this._texture=k??this._getFromCache(this.url,t,c,this._invertY,B,this.isCube),this._texture)if(this._texture.isReady)Z.c.SetImmediate((()=>e()));else{const q=this._texture.onLoadedObservable.add(e);this._texture.onErrorObservable.add((I=>{var l;i(I.message,I.exception),null===(l=this._texture)||void 0===l||l.onLoadedObservable.remove(q)}))}else if(R&&R.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=e,this._delayedOnError=i;else{try{this._texture=W.createTexture(this.url,t,this._invertY,R,c,e,i,this._buffer,void 0,this._format,this._forcedExtension,o,d,T,B)}catch(S){throw i("error loading",S),S}r&&(this._buffer=null)}}updateURL(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2?arguments[2]:void 0,w=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Wq().markAllMaterialsAsDirty(1,(q=>q.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=q),this.url=q,this._buffer=I,this._forcedExtension=w,this.delayLoadState=4,l&&(this._delayedOnLoad=l),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const q=this.Wq();q&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?Z.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=q.getEngine().createTexture(this.url,this._noMipmap,this._invertY,q,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(q,I,l,w){q*=this._cachedUScale,I*=this._cachedVScale,q-=this.uRotationCenter*this._cachedUScale,I-=this.vRotationCenter*this._cachedVScale,l-=this.wRotationCenter,c.dI.TransformCoordinatesFromFloatsToRef(q,I,l,this._rowGenerationMatrix,w),w.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,w.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,w.z+=this.wRotationCenter}getTextureMatrix(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*q===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*q,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=c.Matrix.Zero(),this._rowGenerationMatrix=new c.Matrix,this._t0=c.dI.Zero(),this._t1=c.dI.Zero(),this._t2=c.dI.Zero()),c.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(c.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,c.TmpVectors.Matrix[0]),c.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,c.TmpVectors.Matrix[1]),c.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,c.TmpVectors.Matrix[2]),c.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,c.TmpVectors.Matrix[3]),c.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Sr(this._t0),this._t2.Sr(this._t0),c.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const I=this.Wq();if(!I)return this._cachedTextureMatrix;const l=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&l!==this._cachedIdentity3x2&&I.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const q=this.Wq();if(!q)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==v.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===q.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=c.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=c.Matrix.Zero());const I=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case v.PLANAR_MODE:c.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case v.PROJECTION_MODE:{c.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const I=q.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=I.updateFlag,I.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:c.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return I&&q.markAllMaterialsAsDirty(1,(q=>q.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const q={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,J:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return B.c.Clone((()=>new v(this._texture?this._texture.url:null,this.Wq(),q)),this)}serialize(){var q;const I=this.name;v.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const l=super.serialize(v._SerializeInternalTextureUniqueId);if(!l)return null;if(v.SerializeBuffers||v.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))l.base64String=this._buffer,l.name=l.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const q=this.mimeType||"image/png";l.base64String=`data:${q};base64,${(0,o.h)(this._buffer)}`}else(v.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(l.base64String=!this._engine||this._engine._features.supportSyncTextureRead?T(this):V(this));var w;(l.invertY=this._invertY,l.samplingMode=this.samplingMode,l._creationFlags=this._creationFlags,l._useSRGBBuffer=this._useSRGBBuffer,v._SerializeInternalTextureUniqueId)&&(l.internalTextureUniqueId=null===(w=this._texture)||void 0===w?void 0:w.uniqueId);return l.internalTextureLabel=null===(q=this._texture)||void 0===q?void 0:q.label,l.noMipmap=this._noMipmap,this.name=I,l}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(q,I,l){if(q.customType){const w=r.e.Instantiate(q.customType).Parse(q,I,l);return q.samplingMode&&w.updateSamplingMode&&w._samplingMode&&w._samplingMode!==q.samplingMode&&w.updateSamplingMode(q.samplingMode),w}if(q.isCube&&!q.isRenderTarget)return v._CubeTextureParser(q,I,l);const w=void 0!==q.internalTextureUniqueId;if(!q.name&&!q.isRenderTarget&&!w)return null;let t;if(w){const l=I.getEngine().getLoadedTexturesCache();for(const I of l)if(I.uniqueId===q.internalTextureUniqueId){t=I;break}}const O=I=>{if(I&&I._texture&&(I._texture._cachedWrapU=null,I._texture._cachedWrapV=null,I._texture._cachedWrapR=null),q.samplingMode){const l=q.samplingMode;I&&I.samplingMode!==l&&I.updateSamplingMode(l)}if(I&&q.animations)for(let l=0;l<q.animations.length;l++){const w=q.animations[l],t=(0,F.b)("BABYLON.Animation");t&&I.animations.push(t.Parse(w))}I&&I._texture&&(w&&!t&&I._texture._setUniqueId(q.internalTextureUniqueId),I._texture.label=q.internalTextureLabel)};return B.c.Parse((()=>{let w=!0;if(q.noMipmap&&(w=!1),q.mirrorPlane){const l=v._CreateMirror(q.name,q.renderTargetSize,I,w);return l._waitingRenderList=q.renderList,l.mirrorPlane=x.c.vI(q.mirrorPlane),O(l),l}if(q.isRenderTarget){let l=null;if(q.isCube){if(I.reflectionProbes)for(let w=0;w<I.reflectionProbes.length;w++){const l=I.reflectionProbes[w];if(l.name===q.name)return l.cubeTexture}}else l=v._CreateRenderTargetTexture(q.name,q.renderTargetSize,I,w,q._creationFlags??0),l._waitingRenderList=q.renderList;return O(l),l}if(q.isVideo){const t=v._CreateVideoTexture(l+(q.url||q.name),l+(q.src||q.url),I,w,q.invertY,q.samplingMode,q.settings||{});return O(t),t}{let c;if(q.base64String&&!t)c=v.CreateFromBase64String(q.base64String,q.base64String,I,!w,q.invertY,q.samplingMode,(()=>{O(c)}),q._creationFlags??0,q._useSRGBBuffer??!1),c.name=q.name;else{let a;a=q.name&&(q.name.indexOf("://")>0||q.name.startsWith("data:"))?q.name:l+q.name,q.url&&(q.url.startsWith("data:")||v.UseSerializedUrlIfAny)&&(a=q.url);const F={noMipmap:!w,invertY:q.invertY,samplingMode:q.samplingMode,J:()=>{O(c)},internalTexture:t};c=new v(a,I,F)}return c}}),q,I)}static CreateFromBase64String(q,I,l,w,t){let O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:v.TRILINEAR_SAMPLINGMODE;return new v("data:"+I,l,w,t,O,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(q,I,l){let w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=arguments.length>4?arguments[4]:void 0,O=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:v.TRILINEAR_SAMPLINGMODE,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,Z=arguments.length>10?arguments[10]:void 0,r=arguments.length>11?arguments[11]:void 0;return"data:"!==q.substring(0,5)&&(q="data:"+q),new v(q,l,t,O,c,a,F,I,w,s,void 0,void 0,Z,r)}}v.SerializeBuffers=!0,v.ForceSerializeBuffers=!1,v.OnTextureLoadErrorObservable=new O.d,v._SerializeInternalTextureUniqueId=!1,v._CubeTextureParser=(q,I,l)=>{throw(0,s.b)("CubeTexture")},v._CreateMirror=(q,I,l,w)=>{throw(0,s.b)("MirrorTexture")},v._CreateRenderTargetTexture=(q,I,l,w,t)=>{throw(0,s.b)("RenderTargetTexture")},v.NEAREST_SAMPLINGMODE=1,v.NEAREST_NEAREST_MIPLINEAR=8,v.BILINEAR_SAMPLINGMODE=2,v.LINEAR_LINEAR_MIPNEAREST=11,v.TRILINEAR_SAMPLINGMODE=3,v.LINEAR_LINEAR_MIPLINEAR=3,v.NEAREST_NEAREST_MIPNEAREST=4,v.NEAREST_LINEAR_MIPNEAREST=5,v.NEAREST_LINEAR_MIPLINEAR=6,v.NEAREST_LINEAR=7,v.NEAREST_NEAREST=1,v.LINEAR_NEAREST_MIPNEAREST=9,v.LINEAR_NEAREST_MIPLINEAR=10,v.LINEAR_LINEAR=2,v.LINEAR_NEAREST=12,v.EXPLICIT_MODE=0,v.SPHERICAL_MODE=1,v.PLANAR_MODE=2,v.CUBIC_MODE=3,v.PROJECTION_MODE=4,v.SKYBOX_MODE=5,v.INVCUBIC_MODE=6,v.EQUIRECTANGULAR_MODE=7,v.FIXED_EQUIRECTANGULAR_MODE=8,v.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,v.CLAMP_ADDRESSMODE=0,v.WRAP_ADDRESSMODE=1,v.MIRROR_ADDRESSMODE=2,v.UseSerializedUrlIfAny=!1,(0,w.d)([(0,t.D)()],v.prototype,"url",void 0),(0,w.d)([(0,t.D)()],v.prototype,"uOffset",void 0),(0,w.d)([(0,t.D)()],v.prototype,"vOffset",void 0),(0,w.d)([(0,t.D)()],v.prototype,"uScale",void 0),(0,w.d)([(0,t.D)()],v.prototype,"vScale",void 0),(0,w.d)([(0,t.D)()],v.prototype,"uAng",void 0),(0,w.d)([(0,t.D)()],v.prototype,"vAng",void 0),(0,w.d)([(0,t.D)()],v.prototype,"wAng",void 0),(0,w.d)([(0,t.D)()],v.prototype,"uRotationCenter",void 0),(0,w.d)([(0,t.D)()],v.prototype,"vRotationCenter",void 0),(0,w.d)([(0,t.D)()],v.prototype,"wRotationCenter",void 0),(0,w.d)([(0,t.D)()],v.prototype,"homogeneousRotationInUVTransform",void 0),(0,w.d)([(0,t.D)()],v.prototype,"isBlocking",null),(0,F.e)("BABYLON.Texture",v),B.c._TextureParser=v.Parse},12794:(q,I,l)=>{l.d(I,{c:()=>t});var w=l(12747);class t{constructor(q,I,l,t){this.normal=new w.dI(q,I,l),this.d=t}Uc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new t(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let q=this.normal.getHashCode();return q=397*q^this.d,q}normalize(){const q=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let I=0;return 0!==q&&(I=1/q),this.normal.x*=I,this.normal.y*=I,this.normal.z*=I,this.d*=I,this}transform(q){const I=t._TmpMatrix;q.invertToRef(I);const l=I.m,w=this.normal.x,O=this.normal.y,c=this.normal.z,a=this.d,F=w*l[0]+O*l[1]+c*l[2]+a*l[3],s=w*l[4]+O*l[5]+c*l[6]+a*l[7],Z=w*l[8]+O*l[9]+c*l[10]+a*l[11],r=w*l[12]+O*l[13]+c*l[14]+a*l[15];return new t(F,s,Z,r)}dotCoordinate(q){return this.normal.x*q.x+this.normal.y*q.y+this.normal.z*q.z+this.d}copyFromPoints(q,I,l){const w=I.x-q.x,t=I.y-q.y,O=I.z-q.z,c=l.x-q.x,a=l.y-q.y,F=l.z-q.z,s=t*F-O*a,Z=O*c-w*F,r=w*a-t*c,x=Math.sqrt(s*s+Z*Z+r*r);let o;return o=0!==x?1/x:0,this.normal.x=s*o,this.normal.y=Z*o,this.normal.z=r*o,this.d=-(this.normal.x*q.x+this.normal.y*q.y+this.normal.z*q.z),this}isFrontFacingTo(q,I){return w.dI.Dot(this.normal,q)<=I}signedDistanceTo(q){return w.dI.Dot(q,this.normal)+this.d}static vI(q){return new t(q[0],q[1],q[2],q[3])}static FromPoints(q,I,l){const w=new t(0,0,0,0);return w.copyFromPoints(q,I,l),w}static FromPositionAndNormal(q,I){const l=new t(0,0,0,0);return this.FromPositionAndNormalToRef(q,I,l)}static FromPositionAndNormalToRef(q,I,l){return l.normal.t(I),l.normal.normalize(),l.d=-q.dot(l.normal),l}static SignedDistanceToPlaneFromPositionAndNormal(q,I,l){const t=-(I.x*q.x+I.y*q.y+I.z*q.z);return w.dI.Dot(l,I)+t}}t._TmpMatrix=w.Matrix.Identity()},12770:(q,I,l)=>{l.d(I,{d:()=>w});class w{constructor(q,I){this.width=q,this.height=I}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let q=0|this.width;return q=397*q^this.height,q}t(q){this.width=q.width,this.height=q.height}gc(q,I){return this.width=q,this.height=I,this}set(q,I){return this.gc(q,I)}multiplyByFloats(q,I){return new w(this.width*q,this.height*I)}clone(){return new w(this.width,this.height)}equals(q){return!!q&&(this.width===q.width&&this.height===q.height)}get surface(){return this.width*this.height}static Zero(){return new w(0,0)}add(q){return new w(this.width+q.width,this.height+q.height)}TI(q){return new w(this.width-q.width,this.height-q.height)}scale(q){return new w(this.width*q,this.height*q)}static Lerp(q,I,l){const t=q.width+(I.width-q.width)*l,O=q.height+(I.height-q.height)*l;return new w(t,O)}}},12744:(q,I,l)=>{l.d(I,{d:()=>O,h:()=>c});const w={},t={};function O(q){const I=q.getClassName();return t[I]||(t[I]={}),t[I]}function c(q){const I=q.getClassName();if(w[I])return w[I];w[I]={};const l=w[I];let O=q,c=I;for(;c;){const q=t[c];for(const t in q)l[t]=q[t];let I,w=!1;do{if(I=Object.getPrototypeOf(O),!I.getClassName){w=!0;break}if(I.getClassName()!==c)break;O=I}while(I);if(w)break;c=I.getClassName(),O=I}return l}},12740:(q,I,l)=>{l.d(I,{B:()=>Z,C:()=>r,D:()=>c,d:()=>O,h:()=>B,j:()=>o,k:()=>F,m:()=>d,p:()=>s,q:()=>T,t:()=>U,v:()=>x,w:()=>V,z:()=>a});var w=l(12744);function t(q,I){return(l,t)=>{const O=(0,w.d)(l);O[t]||(O[t]={type:q,sourceName:I})}}function O(q){return function(q){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(l,w)=>{const t=I||"_"+w;Object.defineProperty(l,w,{get:function(){return this[t]},set:function(I){var w;"function"===typeof(null===(w=this[t])||void 0===w?void 0:w.equals)&&this[t].equals(I)||this[t]!==I&&(this[t]=I,l[q].apply(this))},enumerable:!0,configurable:!0})}}(q,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function c(q){return t(0,q)}function a(q){return t(1,q)}function F(q){return t(2,q)}function s(q){return t(3,q)}function Z(q){return t(4,q)}function r(q){return t(5,q)}function x(q){return t(6,q)}function o(q){return t(7,q)}function d(q){return t(8,q)}function T(q){return t(9,q)}function V(q){return t(10,q)}function U(q){return t(12,q)}function B(q,I,l,w){const t=l.value;l.value=function(){let l=t;if("undefined"!==typeof _native&&_native[I]){const q=_native[I];l=w?function(){return w(...arguments)?q(...arguments):t(...arguments)}:q}return q[I]=l,l(...arguments)}}B.filter=function(q){return(I,l,w)=>B(I,l,w,q)}},12777:(q,I,l)=>{l.d(I,{c:()=>s});var w=l(12603),t=l(12786),O=l(12789),c=l(12747),a=l(12744);const F=function(q,I,l){let w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const O=q();t.e&&t.e.HasTags(I)&&t.e.AddTagsTo(O,t.e.GetTags(I,!0));const c=(0,a.h)(O),F={};for(const t in c){const q=c[t],a=I[t],Z=q.type;if(void 0!==a&&null!==a&&("uniqueId"!==t||s.AllowLoadingUniqueId))switch(Z){case 0:case 6:case 9:case 11:O[t]=a;break;case 1:w.cloneTexturesOnlyOnce&&F[a.uniqueId]?O[t]=F[a.uniqueId]:(O[t]=l||a.isRenderTarget?a:a.clone(),F[a.uniqueId]=O[t]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:O[t]=l?a:a.clone()}}return O};class s{static AppendSerializedAnimations(q,I){if(q.animations){I.animations=[];for(let l=0;l<q.animations.length;l++){const w=q.animations[l];I.animations.push(w.serialize())}}}static Serialize(q,I){I||(I={}),t.e&&(I.tags=t.e.GetTags(q));const l=(0,a.h)(q);for(const w in l){const t=l[w],O=t.sourceName||w,c=t.type,a=q[w];if(void 0!==a&&null!==a&&("uniqueId"!==w||s.AllowLoadingUniqueId))switch(c){case 0:I[O]=a;break;case 1:case 3:case 7:case 9:I[O]=a.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:I[O]=a.Uc();break;case 6:case 11:I[O]=a.id}}return I}static ParseProperties(q,I,l,w){w||(w="");const t=(0,a.h)(I);for(const a in t){const F=t[a],Z=q[F.sourceName||a],r=F.type;if(void 0!==Z&&null!==Z&&("uniqueId"!==a||s.AllowLoadingUniqueId)){const q=I;switch(r){case 0:q[a]=Z;break;case 1:l&&(q[a]=s._TextureParser(Z,l,w));break;case 2:q[a]=O.BI.vI(Z);break;case 3:q[a]=s._FresnelParametersParser(Z);break;case 4:q[a]=c.Vector2.vI(Z);break;case 5:q[a]=c.dI.vI(Z);break;case 6:l&&(q[a]=l.getLastMeshById(Z));break;case 7:q[a]=s._ColorCurvesParser(Z);break;case 8:q[a]=O.Dc.vI(Z);break;case 9:q[a]=s._ImageProcessingConfigurationParser(Z);break;case 10:q[a]=c.Quaternion.vI(Z);break;case 11:l&&(q[a]=l.getCameraById(Z));break;case 12:q[a]=c.Matrix.vI(Z)}}}}static Parse(q,I,l){let w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const O=q();return t.e&&t.e.AddTagsTo(O,I.tags),s.ParseProperties(I,O,l,w),O}static Clone(q,I){return F(q,I,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(q,I){return F(q,I,!0)}}s.AllowLoadingUniqueId=!1,s._ImageProcessingConfigurationParser=q=>{throw(0,w.b)("ImageProcessingConfiguration")},s._FresnelParametersParser=q=>{throw(0,w.b)("FresnelParameters")},s._ColorCurvesParser=q=>{throw(0,w.b)("ColorCurves")},s._TextureParser=(q,I,l)=>{throw(0,w.b)("Texture")}},12786:(q,I,l)=>{l.d(I,{e:()=>t});class w{static Eval(q,I){return"true"===(q=q.match(/\([^()]*\)/g)?q.replace(/\([^()]*\)/g,(q=>(q=q.slice(1,q.length-1),w._HandleParenthesisContent(q,I)))):w._HandleParenthesisContent(q,I))||"false"!==q&&w.Eval(q,I)}static _HandleParenthesisContent(q,I){let l;I=I||(q=>"true"===q);const t=q.split("||");for(const O in t)if(Object.prototype.hasOwnProperty.call(t,O)){let q=w._SimplifyNegation(t[O].trim());const c=q.split("&&");if(c.length>1)for(let t=0;t<c.length;++t){const O=w._SimplifyNegation(c[t].trim());if(l="true"!==O&&"false"!==O?"!"===O[0]?!I(O.substring(1)):I(O):"true"===O,!l){q="false";break}}if(l||"true"===q){l=!0;break}l="true"!==q&&"false"!==q?"!"===q[0]?!I(q.substring(1)):I(q):"true"===q}return l?"true":"false"}static _SimplifyNegation(q){return"!true"===(q=(q=q.replace(/^[\s!]+/,(q=>(q=q.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?q="false":"!false"===q&&(q="true"),q}}class t{static EnableFor(q){q._tags=q._tags||{},q.hasTags=()=>t.HasTags(q),q.addTags=I=>t.AddTagsTo(q,I),q.removeTags=I=>t.RemoveTagsFrom(q,I),q.matchesTagsQuery=I=>t.MatchesQuery(q,I)}static DisableFor(q){delete q._tags,delete q.hasTags,delete q.addTags,delete q.removeTags,delete q.matchesTagsQuery}static HasTags(q){if(!q._tags)return!1;const I=q._tags;for(const l in I)if(Object.prototype.hasOwnProperty.call(I,l))return!0;return!1}static GetTags(q){let I=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!q._tags)return null;if(I){const I=[];for(const l in q._tags)Object.prototype.hasOwnProperty.call(q._tags,l)&&!0===q._tags[l]&&I.push(l);return I.join(" ")}return q._tags}static AddTagsTo(q,I){if(!I)return;if("string"!==typeof I)return;const l=I.split(" ");for(const w of l)t._AddTagTo(q,w)}static _AddTagTo(q,I){""!==(I=I.trim())&&"true"!==I&&"false"!==I&&(I.match(/[\s]/)||I.match(/^([!]|([|]|[&]){2})/)||(t.EnableFor(q),q._tags[I]=!0))}static RemoveTagsFrom(q,I){if(!t.HasTags(q))return;const l=I.split(" ");for(const w in l)t._RemoveTagFrom(q,l[w])}static _RemoveTagFrom(q,I){delete q._tags[I]}static MatchesQuery(q,I){return void 0===I||(""===I?t.HasTags(q):w.Eval(I,(I=>t.HasTags(q)&&q._tags[I])))}}},12735:(q,I,l)=>{l.d(I,{d:()=>w});function w(q,I,l,w){var t,O=arguments.length,c=O<3?I:null===w?w=Object.getOwnPropertyDescriptor(I,l):w;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(q,I,l,w);else for(var a=q.length-1;a>=0;a--)(t=q[a])&&(c=(O<3?t(c):O>3?t(I,l,c):t(I,l))||c);return O>3&&c&&Object.defineProperty(I,l,c),c}Object.create;Object.create}}]);