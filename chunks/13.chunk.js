"use strict";(self["1xyrlsr8vb9"]=self["1xyrlsr8vb9"]||[]).push([[13],{12318:(I,O,C)=>{C.d(O,{b:()=>j});let j=!1},12284:(I,O,C)=>{C.d(O,{c:()=>s});var j=C(12250),K=C(12257),i=C(12088),y=C(12272),S=C(12132),U=C(12234),p=(C(12139),C(12287));class N{get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(I){this._texture&&(this._texture.isCube=I)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(I){return void 0!==(null===I||void 0===I?void 0:I.shareDepth)}constructor(I){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=p.b.Zero(),this._cachedBaseSize=p.b.Zero(),this._initialSamplingMode=2,this._texture=N._IsRenderTargetWrapper(I)?I.texture:I,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(I){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(I,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var Q=C(12296);class s extends N{set mU(I){this._hasAlpha!==I&&(this._hasAlpha=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get mU(){return this._hasAlpha}set getAlphaFromRGB(I){this._getAlphaFromRGB!==I&&(this._getAlphaFromRGB=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(I){this._coordinatesIndex!==I&&(this._coordinatesIndex=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(I){this._coordinatesMode!==I&&(this._coordinatesMode=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(I){this._texture?this._texture.isCube=I:this._isCube=I}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(I){var O;if(this._texture){if(this._texture._gammaSpace===I)return;this._texture._gammaSpace=I}else{if(this._gammaSpace===I)return;this._gammaSpace=I}null===(O=this.nI())||void 0===O||O.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(I){var O;I!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=I),null===(O=this.nI())||void 0===O||O.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(I){this._texture&&(this._texture._lodGenerationOffset=I)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(I){this._texture&&(this._texture._lodGenerationScale=I)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(I){this._texture&&(this._texture._linearSpecularLOD=I)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(I){this._texture&&(this._texture._irradianceTexture=I)}get uid(){return this._uid||(this._uid=(0,U.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(I){this._onDisposeObserver&&this.yS.remove(this._onDisposeObserver),this._onDisposeObserver=this.yS.add(I)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.yS=new i.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,I?s._IsScene(I)?this._scene=I:this._engine=I:this._scene=S.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=O,this._uid=null}nI(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(I){}get canRescale(){return!1}_getFromCache(I,O,C,j,K,i){const y=this._getEngine();if(!y)return null;const S=y._getUseSRGBBuffer(!!K,O),U=y.getLoadedTexturesCache();for(let p=0;p<U.length;p++){const y=U[p];if((void 0===K||S===y._useSRGBBuffer)&&(void 0===j||j===y.invertY)&&y.url===I&&y.generateMipMaps===!O&&(!C||C===y.samplingMode)&&(void 0===i||i===y.isCube))return y.incrementReferences(),y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const I=this.nI();I&&I.markAllMaterialsAsDirty(1)}readPixels(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],K=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const p=this._getEngine();if(!p)return null;const N=this.getSize();let Q=N.width,s=N.height;0!==O&&(Q/=Math.pow(2,O),s/=Math.pow(2,O),Q=Math.round(Q),s=Math.round(s)),S=Math.min(Q,S),U=Math.min(s,U);try{return this._texture.isCube?p._readTexturePixels(this._texture,S,U,I,O,C,j,K,i,y):p._readTexturePixels(this._texture,S,U,-1,O,C,j,K,i,y)}catch(Z){return null}}_readPixelsSync(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],K=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const i=this.getSize();let y=i.width,S=i.height;const U=this._getEngine();if(!U)return null;0!=O&&(y/=Math.pow(2,O),S/=Math.pow(2,O),y=Math.round(y),S=Math.round(S));try{return this._texture.isCube?U._readTexturePixelsSync(this._texture,y,S,I,O,C,j,K):U._readTexturePixelsSync(this._texture,y,S,-1,O,C,j,K)}catch(p){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const I=this._scene.textures.indexOf(this);if(I>=0&&this._scene.textures.splice(I,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const I=this._parentContainer.textures.indexOf(this);I>-1&&this._parentContainer.textures.splice(I,1),this._parentContainer=null}}this.yS.notifyObservers(this),this.yS.clear(),this.metadata=null,super.dispose()}serialize(){let I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!I)return null;const O=Q.e.Serialize(this);return Q.e.AppendSerializedAnimations(this,O),O}static WhenAllReady(I,O){let C=I.length;if(0!==C)for(let j=0;j<I.length;j++){const K=I[j];if(K.isReady())0===--C&&O();else{const I=K.onLoadObservable;I?I.addOnce((()=>{0===--C&&O()})):0===--C&&O()}}else O()}static _IsScene(I){return"Scene"===I.getClassName()}}s.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,j.e)([(0,K.E)()],s.prototype,"uniqueId",void 0),(0,j.e)([(0,K.E)()],s.prototype,"name",void 0),(0,j.e)([(0,K.E)()],s.prototype,"displayName",void 0),(0,j.e)([(0,K.E)()],s.prototype,"metadata",void 0),(0,j.e)([(0,K.E)("mU")],s.prototype,"_hasAlpha",void 0),(0,j.e)([(0,K.E)("getAlphaFromRGB")],s.prototype,"_getAlphaFromRGB",void 0),(0,j.e)([(0,K.E)()],s.prototype,"level",void 0),(0,j.e)([(0,K.E)("coordinatesIndex")],s.prototype,"_coordinatesIndex",void 0),(0,j.e)([(0,K.E)()],s.prototype,"optimizeUVAllocation",void 0),(0,j.e)([(0,K.E)("coordinatesMode")],s.prototype,"_coordinatesMode",void 0),(0,j.e)([(0,K.E)()],s.prototype,"wrapU",null),(0,j.e)([(0,K.E)()],s.prototype,"wrapV",null),(0,j.e)([(0,K.E)()],s.prototype,"wrapR",void 0),(0,j.e)([(0,K.E)()],s.prototype,"anisotropicFilteringLevel",void 0),(0,j.e)([(0,K.E)()],s.prototype,"isCube",null),(0,j.e)([(0,K.E)()],s.prototype,"is3D",null),(0,j.e)([(0,K.E)()],s.prototype,"is2DArray",null),(0,j.e)([(0,K.E)()],s.prototype,"gammaSpace",null),(0,j.e)([(0,K.E)()],s.prototype,"invertZ",void 0),(0,j.e)([(0,K.E)()],s.prototype,"lodLevelInAlpha",void 0),(0,j.e)([(0,K.E)()],s.prototype,"lodGenerationOffset",null),(0,j.e)([(0,K.E)()],s.prototype,"lodGenerationScale",null),(0,j.e)([(0,K.E)()],s.prototype,"linearSpecularLOD",null),(0,j.e)([(0,K.v)()],s.prototype,"irradianceTexture",null),(0,j.e)([(0,K.E)()],s.prototype,"isRenderTarget",void 0)},12245:(I,O,C)=>{C.d(O,{e:()=>W});var j=C(12250),K=C(12257),i=C(12088),y=C(12272),S=C(12284),U=C(12226),p=C(12126),N=C(12163),Q=C(12221),s=C(12310),Z=C(12154);function q(I,O){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const j=O.width,K=O.height;if(I instanceof Float32Array){let O=I.byteLength/I.BYTES_PER_ELEMENT;const C=new Uint8Array(O);for(;--O>=0;){let j=I[O];j<0?j=0:j>1&&(j=1),C[O]=255*j}I=C}const i=document.createElement("canvas");i.width=j,i.height=K;const y=i.getContext("2d");if(!y)return null;const S=y.createImageData(j,K);if(S.data.set(I),y.putImageData(S,0,0),C){const I=document.createElement("canvas");I.width=j,I.height=K;const O=I.getContext("2d");return O?(O.translate(0,K),O.scale(1,-1),O.drawImage(i,0,0),I.toDataURL("image/png")):null}return i.toDataURL("image/png")}function mI(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=I.getInternalTexture();if(!j)return null;const K=I._readPixelsSync(O,C);return K?q(K,I.getSize(),j.invertY):null}async function E(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=I.getInternalTexture();if(!j)return null;const K=await I.readPixels(O,C);return K?q(K,I.getSize(),j.invertY):null}var h=C(12318),r=C(12296);class W extends S.c{static _CreateVideoTexture(I,O,C){arguments.length>5&&void 0!==arguments[5]||W.TRILINEAR_SAMPLINGMODE;throw(0,p.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(I){this._isBlocking=I}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(I,O,C,j){let K,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W.TRILINEAR_SAMPLINGMODE,S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Q=arguments.length>8&&void 0!==arguments[8]&&arguments[8],s=arguments.length>9?arguments[9]:void 0,Z=arguments.length>10?arguments[10]:void 0,q=arguments.length>11?arguments[11]:void 0,mI=arguments.length>12?arguments[12]:void 0,E=arguments.length>13?arguments[13]:void 0;super(O),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new i.c,this._isBlocking=!0,this.name=I||"",this.url=I;let r=!1,Y=null,o=!0;"object"===typeof C&&null!==C?(K=C.noMipmap??!1,j=C.invertY??!h.b,y=C.samplingMode??W.TRILINEAR_SAMPLINGMODE,S=C.F??null,U=C.onError??null,p=C.buffer??null,Q=C.deleteBuffer??!1,s=C.format,Z=C.mimeType,q=C.loaderOptions,mI=C.creationFlags,r=C.useSRGBBuffer??!1,Y=C.internalTexture??null,o=C.gammaSpace??o,E=C.forcedExtension??E):K=!!C,this._gammaSpace=o,this._noMipmap=K,this._invertY=void 0===j?!h.b:j,this._initialSamplingMode=y,this._buffer=p,this._deleteBuffer=Q,this._mimeType=Z,this._loaderOptions=q,this._creationFlags=mI,this._useSRGBBuffer=r,this._forcedExtension=E,void 0!==s&&(this._format=s);const c=this.nI(),n=this._getEngine();if(!n)return;n.onBeforeTextureInitObservable.notifyObservers(this);const X=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),S&&S(),!this.isBlocking&&c&&c.resetCachedMaterial()},T=(I,O)=>{this._loadingError=!0,this._errorObject={message:I,exception:O},U&&U(I,O),W.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Y)return this._delayedOnLoad=X,void(this._delayedOnError=T);if(this._texture=Y??this._getFromCache(this.url,K,y,this._invertY,r,this.isCube),this._texture)if(this._texture.isReady)N.e.SetImmediate((()=>X()));else{const I=this._texture.onLoadedObservable.add(X);this._texture.onErrorObservable.add((O=>{var C;T(O.message,O.exception),null===(C=this._texture)||void 0===C||C.onLoadedObservable.remove(I)}))}else if(c&&c.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=X,this._delayedOnError=T;else{try{this._texture=n.createTexture(this.url,K,this._invertY,c,y,X,T,this._buffer,void 0,this._format,this._forcedExtension,Z,q,mI,r)}catch(H){throw T("error loading",H),H}Q&&(this._buffer=null)}}updateURL(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.nI().markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=I),this.url=I,this._buffer=O,this._forcedExtension=j,this.delayLoadState=4,C&&(this._delayedOnLoad=C),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const I=this.nI();I&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?N.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=I.getEngine().createTexture(this.url,this._noMipmap,this._invertY,I,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(I,O,C,j){I*=this._cachedUScale,O*=this._cachedVScale,I-=this.uRotationCenter*this._cachedUScale,O-=this.vRotationCenter*this._cachedVScale,C-=this.wRotationCenter,y.mC.TransformCoordinatesFromFloatsToRef(I,O,C,this._rowGenerationMatrix,j),j.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,j.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,j.z+=this.wRotationCenter}getTextureMatrix(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*I===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*I,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=y.Matrix.Zero(),this._rowGenerationMatrix=new y.Matrix,this._t0=y.mC.Zero(),this._t1=y.mC.Zero(),this._t2=y.mC.Zero()),y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,y.TmpVectors.Matrix[0]),y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,y.TmpVectors.Matrix[1]),y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,y.TmpVectors.Matrix[2]),y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,y.TmpVectors.Matrix[3]),y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.OQ(this._t0),this._t2.OQ(this._t0),y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const O=this.nI();if(!O)return this._cachedTextureMatrix;const C=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&C!==this._cachedIdentity3x2&&O.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const I=this.nI();if(!I)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==W.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===I.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=y.Matrix.Zero());const O=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case W.PLANAR_MODE:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case W.PROJECTION_MODE:{y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const O=I.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=O.updateFlag,O.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return O&&I.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const I={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,F:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return r.e.Clone((()=>new W(this._texture?this._texture.url:null,this.nI(),I)),this)}serialize(){var I;const O=this.name;W.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const C=super.serialize(W._SerializeInternalTextureUniqueId);if(!C)return null;if(W.SerializeBuffers||W.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))C.base64String=this._buffer,C.name=C.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const I=this.mimeType||"image/png";C.base64String=`data:${I};base64,${(0,Z.h)(this._buffer)}`}else(W.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(C.base64String=!this._engine||this._engine._features.supportSyncTextureRead?mI(this):E(this));var j;(C.invertY=this._invertY,C.samplingMode=this.samplingMode,C._creationFlags=this._creationFlags,C._useSRGBBuffer=this._useSRGBBuffer,W._SerializeInternalTextureUniqueId)&&(C.internalTextureUniqueId=null===(j=this._texture)||void 0===j?void 0:j.uniqueId);return C.internalTextureLabel=null===(I=this._texture)||void 0===I?void 0:I.label,C.noMipmap=this._noMipmap,this.name=O,C}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(I,O,C){if(I.customType){const j=Q.e.Instantiate(I.customType).Parse(I,O,C);return I.samplingMode&&j.updateSamplingMode&&j._samplingMode&&j._samplingMode!==I.samplingMode&&j.updateSamplingMode(I.samplingMode),j}if(I.isCube&&!I.isRenderTarget)return W._CubeTextureParser(I,O,C);const j=void 0!==I.internalTextureUniqueId;if(!I.name&&!I.isRenderTarget&&!j)return null;let K;if(j){const C=O.getEngine().getLoadedTexturesCache();for(const O of C)if(O.uniqueId===I.internalTextureUniqueId){K=O;break}}const i=O=>{if(O&&O._texture&&(O._texture._cachedWrapU=null,O._texture._cachedWrapV=null,O._texture._cachedWrapR=null),I.samplingMode){const C=I.samplingMode;O&&O.samplingMode!==C&&O.updateSamplingMode(C)}if(O&&I.animations)for(let C=0;C<I.animations.length;C++){const j=I.animations[C],K=(0,U.c)("BABYLON.Animation");K&&O.animations.push(K.Parse(j))}O&&O._texture&&(j&&!K&&O._texture._setUniqueId(I.internalTextureUniqueId),O._texture.label=I.internalTextureLabel)};return r.e.Parse((()=>{let j=!0;if(I.noMipmap&&(j=!1),I.mirrorPlane){const C=W._CreateMirror(I.name,I.renderTargetSize,O,j);return C._waitingRenderList=I.renderList,C.mirrorPlane=s.e.YO(I.mirrorPlane),i(C),C}if(I.isRenderTarget){let C=null;if(I.isCube){if(O.reflectionProbes)for(let j=0;j<O.reflectionProbes.length;j++){const C=O.reflectionProbes[j];if(C.name===I.name)return C.cubeTexture}}else C=W._CreateRenderTargetTexture(I.name,I.renderTargetSize,O,j,I._creationFlags??0),C._waitingRenderList=I.renderList;return i(C),C}if(I.isVideo){const K=W._CreateVideoTexture(C+(I.url||I.name),C+(I.src||I.url),O,j,I.invertY,I.samplingMode,I.settings||{});return i(K),K}{let y;if(I.base64String&&!K)y=W.CreateFromBase64String(I.base64String,I.base64String,O,!j,I.invertY,I.samplingMode,(()=>{i(y)}),I._creationFlags??0,I._useSRGBBuffer??!1),y.name=I.name;else{let S;S=I.name&&(I.name.indexOf("://")>0||I.name.startsWith("data:"))?I.name:C+I.name,I.url&&(I.url.startsWith("data:")||W.UseSerializedUrlIfAny)&&(S=I.url);const U={noMipmap:!j,invertY:I.invertY,samplingMode:I.samplingMode,F:()=>{i(y)},internalTexture:K};y=new W(S,O,U)}return y}}),I,O)}static CreateFromBase64String(I,O,C,j,K){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:W.TRILINEAR_SAMPLINGMODE;return new W("data:"+O,C,j,K,i,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(I,O,C){let j=arguments.length>3&&void 0!==arguments[3]&&arguments[3],K=arguments.length>4?arguments[4]:void 0,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:W.TRILINEAR_SAMPLINGMODE,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,N=arguments.length>10?arguments[10]:void 0,Q=arguments.length>11?arguments[11]:void 0;return"data:"!==I.substring(0,5)&&(I="data:"+I),new W(I,C,K,i,y,S,U,O,j,p,void 0,void 0,N,Q)}}W.SerializeBuffers=!0,W.ForceSerializeBuffers=!1,W.OnTextureLoadErrorObservable=new i.c,W._SerializeInternalTextureUniqueId=!1,W._CubeTextureParser=(I,O,C)=>{throw(0,p.b)("CubeTexture")},W._CreateMirror=(I,O,C,j)=>{throw(0,p.b)("MirrorTexture")},W._CreateRenderTargetTexture=(I,O,C,j,K)=>{throw(0,p.b)("RenderTargetTexture")},W.NEAREST_SAMPLINGMODE=1,W.NEAREST_NEAREST_MIPLINEAR=8,W.BILINEAR_SAMPLINGMODE=2,W.LINEAR_LINEAR_MIPNEAREST=11,W.TRILINEAR_SAMPLINGMODE=3,W.LINEAR_LINEAR_MIPLINEAR=3,W.NEAREST_NEAREST_MIPNEAREST=4,W.NEAREST_LINEAR_MIPNEAREST=5,W.NEAREST_LINEAR_MIPLINEAR=6,W.NEAREST_LINEAR=7,W.NEAREST_NEAREST=1,W.LINEAR_NEAREST_MIPNEAREST=9,W.LINEAR_NEAREST_MIPLINEAR=10,W.LINEAR_LINEAR=2,W.LINEAR_NEAREST=12,W.EXPLICIT_MODE=0,W.SPHERICAL_MODE=1,W.PLANAR_MODE=2,W.CUBIC_MODE=3,W.PROJECTION_MODE=4,W.SKYBOX_MODE=5,W.INVCUBIC_MODE=6,W.EQUIRECTANGULAR_MODE=7,W.FIXED_EQUIRECTANGULAR_MODE=8,W.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,W.CLAMP_ADDRESSMODE=0,W.WRAP_ADDRESSMODE=1,W.MIRROR_ADDRESSMODE=2,W.UseSerializedUrlIfAny=!1,(0,j.e)([(0,K.E)()],W.prototype,"url",void 0),(0,j.e)([(0,K.E)()],W.prototype,"uOffset",void 0),(0,j.e)([(0,K.E)()],W.prototype,"vOffset",void 0),(0,j.e)([(0,K.E)()],W.prototype,"uScale",void 0),(0,j.e)([(0,K.E)()],W.prototype,"vScale",void 0),(0,j.e)([(0,K.E)()],W.prototype,"uAng",void 0),(0,j.e)([(0,K.E)()],W.prototype,"vAng",void 0),(0,j.e)([(0,K.E)()],W.prototype,"wAng",void 0),(0,j.e)([(0,K.E)()],W.prototype,"uRotationCenter",void 0),(0,j.e)([(0,K.E)()],W.prototype,"vRotationCenter",void 0),(0,j.e)([(0,K.E)()],W.prototype,"wRotationCenter",void 0),(0,j.e)([(0,K.E)()],W.prototype,"homogeneousRotationInUVTransform",void 0),(0,j.e)([(0,K.E)()],W.prototype,"isBlocking",null),(0,U.e)("BABYLON.Texture",W),r.e._TextureParser=W.Parse},12310:(I,O,C)=>{C.d(O,{e:()=>K});var j=C(12272);class K{constructor(I,O,C,K){this.normal=new j.mC(I,O,C),this.d=K}qS(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new K(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let I=this.normal.getHashCode();return I=397*I^this.d,I}normalize(){const I=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let O=0;return 0!==I&&(O=1/I),this.normal.x*=O,this.normal.y*=O,this.normal.z*=O,this.d*=O,this}transform(I){const O=K._TmpMatrix;I.invertToRef(O);const C=O.m,j=this.normal.x,i=this.normal.y,y=this.normal.z,S=this.d,U=j*C[0]+i*C[1]+y*C[2]+S*C[3],p=j*C[4]+i*C[5]+y*C[6]+S*C[7],N=j*C[8]+i*C[9]+y*C[10]+S*C[11],Q=j*C[12]+i*C[13]+y*C[14]+S*C[15];return new K(U,p,N,Q)}dotCoordinate(I){return this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z+this.d}copyFromPoints(I,O,C){const j=O.x-I.x,K=O.y-I.y,i=O.z-I.z,y=C.x-I.x,S=C.y-I.y,U=C.z-I.z,p=K*U-i*S,N=i*y-j*U,Q=j*S-K*y,s=Math.sqrt(p*p+N*N+Q*Q);let Z;return Z=0!==s?1/s:0,this.normal.x=p*Z,this.normal.y=N*Z,this.normal.z=Q*Z,this.d=-(this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z),this}isFrontFacingTo(I,O){return j.mC.Dot(this.normal,I)<=O}signedDistanceTo(I){return j.mC.Dot(I,this.normal)+this.d}static YO(I){return new K(I[0],I[1],I[2],I[3])}static FromPoints(I,O,C){const j=new K(0,0,0,0);return j.copyFromPoints(I,O,C),j}static FromPositionAndNormal(I,O){const C=new K(0,0,0,0);return this.FromPositionAndNormalToRef(I,O,C)}static FromPositionAndNormalToRef(I,O,C){return C.normal.K(O),C.normal.normalize(),C.d=-I.dot(C.normal),C}static SignedDistanceToPlaneFromPositionAndNormal(I,O,C){const K=-(O.x*I.x+O.y*I.y+O.z*I.z);return j.mC.Dot(C,O)+K}}K._TmpMatrix=j.Matrix.Identity()},12287:(I,O,C)=>{C.d(O,{b:()=>j});class j{constructor(I,O){this.width=I,this.height=O}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let I=0|this.width;return I=397*I^this.height,I}K(I){this.width=I.width,this.height=I.height}cS(I,O){return this.width=I,this.height=O,this}set(I,O){return this.cS(I,O)}multiplyByFloats(I,O){return new j(this.width*I,this.height*O)}clone(){return new j(this.width,this.height)}equals(I){return!!I&&(this.width===I.width&&this.height===I.height)}get surface(){return this.width*this.height}static Zero(){return new j(0,0)}add(I){return new j(this.width+I.width,this.height+I.height)}EO(I){return new j(this.width-I.width,this.height-I.height)}scale(I){return new j(this.width*I,this.height*I)}static Lerp(I,O,C){const K=I.width+(O.width-I.width)*C,i=I.height+(O.height-I.height)*C;return new j(K,i)}}},12265:(I,O,C)=>{C.d(O,{b:()=>i,c:()=>y});const j={},K={};function i(I){const O=I.getClassName();return K[O]||(K[O]={}),K[O]}function y(I){const O=I.getClassName();if(j[O])return j[O];j[O]={};const C=j[O];let i=I,y=O;for(;y;){const I=K[y];for(const K in I)C[K]=I[K];let O,j=!1;do{if(O=Object.getPrototypeOf(i),!O.getClassName){j=!0;break}if(O.getClassName()!==y)break;i=O}while(O);if(j)break;y=O.getClassName(),i=O}return C}},12257:(I,O,C)=>{C.d(O,{B:()=>Q,E:()=>y,d:()=>i,h:()=>r,j:()=>Z,k:()=>U,l:()=>q,m:()=>p,p:()=>mI,q:()=>h,t:()=>s,u:()=>E,v:()=>S,z:()=>N});var j=C(12265);function K(I,O){return(C,K)=>{const i=(0,j.b)(C);i[K]||(i[K]={type:I,sourceName:O})}}function i(I){return function(I){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(C,j)=>{const K=O||"_"+j;Object.defineProperty(C,j,{get:function(){return this[K]},set:function(O){var j;"function"===typeof(null===(j=this[K])||void 0===j?void 0:j.equals)&&this[K].equals(O)||this[K]!==O&&(this[K]=O,C[I].apply(this))},enumerable:!0,configurable:!0})}}(I,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function y(I){return K(0,I)}function S(I){return K(1,I)}function U(I){return K(2,I)}function p(I){return K(3,I)}function N(I){return K(4,I)}function Q(I){return K(5,I)}function s(I){return K(6,I)}function Z(I){return K(7,I)}function q(I){return K(8,I)}function mI(I){return K(9,I)}function E(I){return K(10,I)}function h(I){return K(12,I)}function r(I,O,C,j){const K=C.value;C.value=function(){let C=K;if("undefined"!==typeof _native&&_native[O]){const I=_native[O];C=j?function(){return j(...arguments)?I(...arguments):K(...arguments)}:I}return I[O]=C,C(...arguments)}}r.filter=function(I){return(O,C,j)=>r(O,C,j,I)}},12296:(I,O,C)=>{C.d(O,{e:()=>p});var j=C(12126),K=C(12300),i=C(12307),y=C(12272),S=C(12265);const U=function(I,O,C){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=I();K.d&&K.d.HasTags(O)&&K.d.AddTagsTo(i,K.d.GetTags(O,!0));const y=(0,S.c)(i),U={};for(const K in y){const I=y[K],S=O[K],N=I.type;if(void 0!==S&&null!==S&&("uniqueId"!==K||p.AllowLoadingUniqueId))switch(N){case 0:case 6:case 9:case 11:i[K]=S;break;case 1:j.cloneTexturesOnlyOnce&&U[S.uniqueId]?i[K]=U[S.uniqueId]:(i[K]=C||S.isRenderTarget?S:S.clone(),U[S.uniqueId]=i[K]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:i[K]=C?S:S.clone()}}return i};class p{static AppendSerializedAnimations(I,O){if(I.animations){O.animations=[];for(let C=0;C<I.animations.length;C++){const j=I.animations[C];O.animations.push(j.serialize())}}}static Serialize(I,O){O||(O={}),K.d&&(O.tags=K.d.GetTags(I));const C=(0,S.c)(I);for(const j in C){const K=C[j],i=K.sourceName||j,y=K.type,S=I[j];if(void 0!==S&&null!==S&&("uniqueId"!==j||p.AllowLoadingUniqueId))switch(y){case 0:O[i]=S;break;case 1:case 3:case 7:case 9:O[i]=S.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:O[i]=S.qS();break;case 6:case 11:O[i]=S.id}}return O}static ParseProperties(I,O,C,j){j||(j="");const K=(0,S.c)(O);for(const S in K){const U=K[S],N=I[U.sourceName||S],Q=U.type;if(void 0!==N&&null!==N&&("uniqueId"!==S||p.AllowLoadingUniqueId)){const I=O;switch(Q){case 0:I[S]=N;break;case 1:C&&(I[S]=p._TextureParser(N,C,j));break;case 2:I[S]=i.WO.YO(N);break;case 3:I[S]=p._FresnelParametersParser(N);break;case 4:I[S]=y.Vector2.YO(N);break;case 5:I[S]=y.mC.YO(N);break;case 6:C&&(I[S]=C.getLastMeshById(N));break;case 7:I[S]=p._ColorCurvesParser(N);break;case 8:I[S]=i.TS.YO(N);break;case 9:I[S]=p._ImageProcessingConfigurationParser(N);break;case 10:I[S]=y.Quaternion.YO(N);break;case 11:C&&(I[S]=C.getCameraById(N));break;case 12:I[S]=y.Matrix.YO(N)}}}}static Parse(I,O,C){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=I();return K.d&&K.d.AddTagsTo(i,O.tags),p.ParseProperties(O,i,C,j),i}static Clone(I,O){return U(I,O,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(I,O){return U(I,O,!0)}}p.AllowLoadingUniqueId=!1,p._ImageProcessingConfigurationParser=I=>{throw(0,j.b)("ImageProcessingConfiguration")},p._FresnelParametersParser=I=>{throw(0,j.b)("FresnelParameters")},p._ColorCurvesParser=I=>{throw(0,j.b)("ColorCurves")},p._TextureParser=(I,O,C)=>{throw(0,j.b)("Texture")}},12300:(I,O,C)=>{C.d(O,{d:()=>K});class j{static Eval(I,O){return"true"===(I=I.match(/\([^()]*\)/g)?I.replace(/\([^()]*\)/g,(I=>(I=I.slice(1,I.length-1),j._HandleParenthesisContent(I,O)))):j._HandleParenthesisContent(I,O))||"false"!==I&&j.Eval(I,O)}static _HandleParenthesisContent(I,O){let C;O=O||(I=>"true"===I);const K=I.split("||");for(const i in K)if(Object.prototype.hasOwnProperty.call(K,i)){let I=j._SimplifyNegation(K[i].trim());const y=I.split("&&");if(y.length>1)for(let K=0;K<y.length;++K){const i=j._SimplifyNegation(y[K].trim());if(C="true"!==i&&"false"!==i?"!"===i[0]?!O(i.substring(1)):O(i):"true"===i,!C){I="false";break}}if(C||"true"===I){C=!0;break}C="true"!==I&&"false"!==I?"!"===I[0]?!O(I.substring(1)):O(I):"true"===I}return C?"true":"false"}static _SimplifyNegation(I){return"!true"===(I=(I=I.replace(/^[\s!]+/,(I=>(I=I.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?I="false":"!false"===I&&(I="true"),I}}class K{static EnableFor(I){I._tags=I._tags||{},I.hasTags=()=>K.HasTags(I),I.addTags=O=>K.AddTagsTo(I,O),I.removeTags=O=>K.RemoveTagsFrom(I,O),I.matchesTagsQuery=O=>K.MatchesQuery(I,O)}static DisableFor(I){delete I._tags,delete I.hasTags,delete I.addTags,delete I.removeTags,delete I.matchesTagsQuery}static HasTags(I){if(!I._tags)return!1;const O=I._tags;for(const C in O)if(Object.prototype.hasOwnProperty.call(O,C))return!0;return!1}static GetTags(I){let O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!I._tags)return null;if(O){const O=[];for(const C in I._tags)Object.prototype.hasOwnProperty.call(I._tags,C)&&!0===I._tags[C]&&O.push(C);return O.join(" ")}return I._tags}static AddTagsTo(I,O){if(!O)return;if("string"!==typeof O)return;const C=O.split(" ");for(const j of C)K._AddTagTo(I,j)}static _AddTagTo(I,O){""!==(O=O.trim())&&"true"!==O&&"false"!==O&&(O.match(/[\s]/)||O.match(/^([!]|([|]|[&]){2})/)||(K.EnableFor(I),I._tags[O]=!0))}static RemoveTagsFrom(I,O){if(!K.HasTags(I))return;const C=O.split(" ");for(const j in C)K._RemoveTagFrom(I,C[j])}static _RemoveTagFrom(I,O){delete I._tags[O]}static MatchesQuery(I,O){return void 0===O||(""===O?K.HasTags(I):j.Eval(O,(O=>K.HasTags(I)&&I._tags[O])))}}},12250:(I,O,C)=>{C.d(O,{e:()=>j});function j(I,O,C,j){var K,i=arguments.length,y=i<3?O:null===j?j=Object.getOwnPropertyDescriptor(O,C):j;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)y=Reflect.decorate(I,O,C,j);else for(var S=I.length-1;S>=0;S--)(K=I[S])&&(y=(i<3?K(y):i>3?K(O,C,y):K(O,C))||y);return i>3&&y&&Object.defineProperty(O,C,y),y}Object.create;Object.create}}]);