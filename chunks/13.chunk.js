"use strict";(self.rvold1i0ywi=self.rvold1i0ywi||[]).push([[13],{11364:(F,b,Q)=>{Q.d(b,{b:()=>C});let C=!1},11332:(F,b,Q)=>{Q.d(b,{e:()=>e});var C=Q(11293),z=Q(11296),t=Q(11133),g=Q(11309),W=Q(11161),Z=Q(11272),q=(Q(11170),Q(11340));class G{get wrapU(){return this._wrapU}set wrapU(F){this._wrapU=F}get wrapV(){return this._wrapV}set wrapV(F){this._wrapV=F}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(F){this._texture&&(this._texture.isCube=F)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(F){this._texture&&(this._texture.is3D=F)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(F){this._texture&&(this._texture.is2DArray=F)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(F){return void 0!==(null===F||void 0===F?void 0:F.shareDepth)}constructor(F){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=q.b.Zero(),this._cachedBaseSize=q.b.Zero(),this._initialSamplingMode=2,this._texture=G._IsRenderTargetWrapper(F)?F.texture:F,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(F){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(F,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var K=Q(11349);class e extends G{set ib(F){this._hasAlpha!==F&&(this._hasAlpha=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get ib(){return this._hasAlpha}set getAlphaFromRGB(F){this._getAlphaFromRGB!==F&&(this._getAlphaFromRGB=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(F){this._coordinatesIndex!==F&&(this._coordinatesIndex=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(F){this._coordinatesMode!==F&&(this._coordinatesMode=F,this._scene&&this._scene.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(F){this._wrapU=F}get wrapV(){return this._wrapV}set wrapV(F){this._wrapV=F}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(F){this._texture?this._texture.isCube=F:this._isCube=F}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(F){this._texture&&(this._texture.is3D=F)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(F){this._texture&&(this._texture.is2DArray=F)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(F){var b;if(this._texture){if(this._texture._gammaSpace===F)return;this._texture._gammaSpace=F}else{if(this._gammaSpace===F)return;this._gammaSpace=F}null===(b=this.RF())||void 0===b||b.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(F){var b;F!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=F),null===(b=this.RF())||void 0===b||b.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(F){this._texture&&(this._texture._lodGenerationOffset=F)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(F){this._texture&&(this._texture._lodGenerationScale=F)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(F){this._texture&&(this._texture._linearSpecularLOD=F)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(F){this._texture&&(this._texture._irradianceTexture=F)}get uid(){return this._uid||(this._uid=(0,Z.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(F){this._onDisposeObserver&&this.Kb.remove(this._onDisposeObserver),this._onDisposeObserver=this.Kb.add(F)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Kb=new t.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,F?e._IsScene(F)?this._scene=F:this._engine=F:this._scene=W.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=b,this._uid=null}RF(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return g.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return g.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(F){}get canRescale(){return!1}_getFromCache(F,b,Q,C,z,t){const g=this._getEngine();if(!g)return null;const W=g._getUseSRGBBuffer(!!z,b),Z=g.getLoadedTexturesCache();for(let q=0;q<Z.length;q++){const g=Z[q];if((void 0===z||W===g._useSRGBBuffer)&&(void 0===C||C===g.invertY)&&g.url===F&&g.generateMipMaps===!b&&(!Q||Q===g.samplingMode)&&(void 0===t||t===g.isCube))return g.incrementReferences(),g}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const F=this.RF();F&&F.markAllMaterialsAsDirty(1)}readPixels(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],z=arguments.length>4&&void 0!==arguments[4]&&arguments[4],t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,Z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const q=this._getEngine();if(!q)return null;const G=this.getSize();let K=G.width,e=G.height;0!==b&&(K/=Math.pow(2,b),e/=Math.pow(2,b),K=Math.round(K),e=Math.round(e)),W=Math.min(K,W),Z=Math.min(e,Z);try{return this._texture.isCube?q._readTexturePixels(this._texture,W,Z,F,b,Q,C,z,t,g):q._readTexturePixels(this._texture,W,Z,-1,b,Q,C,z,t,g)}catch(N){return null}}_readPixelsSync(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],z=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const t=this.getSize();let g=t.width,W=t.height;const Z=this._getEngine();if(!Z)return null;0!=b&&(g/=Math.pow(2,b),W/=Math.pow(2,b),g=Math.round(g),W=Math.round(W));try{return this._texture.isCube?Z._readTexturePixelsSync(this._texture,g,W,F,b,Q,C,z):Z._readTexturePixelsSync(this._texture,g,W,-1,b,Q,C,z)}catch(q){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const F=this._scene.textures.indexOf(this);if(F>=0&&this._scene.textures.splice(F,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const F=this._parentContainer.textures.indexOf(this);F>-1&&this._parentContainer.textures.splice(F,1),this._parentContainer=null}}this.Kb.notifyObservers(this),this.Kb.clear(),this.metadata=null,super.dispose()}serialize(){let F=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!F)return null;const b=K.e.Serialize(this);return K.e.AppendSerializedAnimations(this,b),b}static WhenAllReady(F,b){let Q=F.length;if(0!==Q)for(let C=0;C<F.length;C++){const z=F[C];if(z.isReady())0===--Q&&b();else{const F=z.onLoadObservable;F?F.addOnce((()=>{0===--Q&&b()})):0===--Q&&b()}}else b()}static _IsScene(F){return"Scene"===F.getClassName()}}e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,C.b)([(0,z.A)()],e.prototype,"uniqueId",void 0),(0,C.b)([(0,z.A)()],e.prototype,"name",void 0),(0,C.b)([(0,z.A)()],e.prototype,"displayName",void 0),(0,C.b)([(0,z.A)()],e.prototype,"metadata",void 0),(0,C.b)([(0,z.A)("ib")],e.prototype,"_hasAlpha",void 0),(0,C.b)([(0,z.A)("getAlphaFromRGB")],e.prototype,"_getAlphaFromRGB",void 0),(0,C.b)([(0,z.A)()],e.prototype,"level",void 0),(0,C.b)([(0,z.A)("coordinatesIndex")],e.prototype,"_coordinatesIndex",void 0),(0,C.b)([(0,z.A)()],e.prototype,"optimizeUVAllocation",void 0),(0,C.b)([(0,z.A)("coordinatesMode")],e.prototype,"_coordinatesMode",void 0),(0,C.b)([(0,z.A)()],e.prototype,"wrapU",null),(0,C.b)([(0,z.A)()],e.prototype,"wrapV",null),(0,C.b)([(0,z.A)()],e.prototype,"wrapR",void 0),(0,C.b)([(0,z.A)()],e.prototype,"anisotropicFilteringLevel",void 0),(0,C.b)([(0,z.A)()],e.prototype,"isCube",null),(0,C.b)([(0,z.A)()],e.prototype,"is3D",null),(0,C.b)([(0,z.A)()],e.prototype,"is2DArray",null),(0,C.b)([(0,z.A)()],e.prototype,"gammaSpace",null),(0,C.b)([(0,z.A)()],e.prototype,"invertZ",void 0),(0,C.b)([(0,z.A)()],e.prototype,"lodLevelInAlpha",void 0),(0,C.b)([(0,z.A)()],e.prototype,"lodGenerationOffset",null),(0,C.b)([(0,z.A)()],e.prototype,"lodGenerationScale",null),(0,C.b)([(0,z.A)()],e.prototype,"linearSpecularLOD",null),(0,C.b)([(0,z.w)()],e.prototype,"irradianceTexture",null),(0,C.b)([(0,z.A)()],e.prototype,"isRenderTarget",void 0)},11287:(F,b,Q)=>{Q.d(b,{b:()=>i});var C=Q(11293),z=Q(11296),t=Q(11133),g=Q(11309),W=Q(11332),Z=Q(11265),q=Q(11155),G=Q(11198),K=Q(11263),e=Q(11362),N=Q(11177);function y(F,b){let Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const C=b.width,z=b.height;if(F instanceof Float32Array){let b=F.byteLength/F.BYTES_PER_ELEMENT;const Q=new Uint8Array(b);for(;--b>=0;){let C=F[b];C<0?C=0:C>1&&(C=1),Q[b]=255*C}F=Q}const t=document.createElement("canvas");t.width=C,t.height=z;const g=t.getContext("2d");if(!g)return null;const W=g.createImageData(C,z);if(W.data.set(F),g.putImageData(W,0,0),Q){const F=document.createElement("canvas");F.width=C,F.height=z;const b=F.getContext("2d");return b?(b.translate(0,z),b.scale(1,-1),b.drawImage(t,0,0),F.toDataURL("image/png")):null}return t.toDataURL("image/png")}function E(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=F.getInternalTexture();if(!C)return null;const z=F._readPixelsSync(b,Q);return z?y(z,F.getSize(),C.invertY):null}async function c(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=F.getInternalTexture();if(!C)return null;const z=await F.readPixels(b,Q);return z?y(z,F.getSize(),C.invertY):null}var X=Q(11364),L=Q(11349);class i extends W.e{static _CreateVideoTexture(F,b,Q){arguments.length>5&&void 0!==arguments[5]||i.TRILINEAR_SAMPLINGMODE;throw(0,q.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(F){this._isBlocking=F}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(F,b,Q,C){let z,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.TRILINEAR_SAMPLINGMODE,W=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]&&arguments[8],e=arguments.length>9?arguments[9]:void 0,N=arguments.length>10?arguments[10]:void 0,y=arguments.length>11?arguments[11]:void 0,E=arguments.length>12?arguments[12]:void 0,c=arguments.length>13?arguments[13]:void 0;super(b),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new t.c,this._isBlocking=!0,this.name=F||"",this.url=F;let L=!1,f=null,k=!0;"object"===typeof Q&&null!==Q?(z=Q.noMipmap??!1,C=Q.invertY??!X.b,g=Q.samplingMode??i.TRILINEAR_SAMPLINGMODE,W=Q.M??null,Z=Q.onError??null,q=Q.buffer??null,K=Q.deleteBuffer??!1,e=Q.format,N=Q.mimeType,y=Q.loaderOptions,E=Q.creationFlags,L=Q.useSRGBBuffer??!1,f=Q.internalTexture??null,k=Q.gammaSpace??k,c=Q.forcedExtension??c):z=!!Q,this._gammaSpace=k,this._noMipmap=z,this._invertY=void 0===C?!X.b:C,this._initialSamplingMode=g,this._buffer=q,this._deleteBuffer=K,this._mimeType=N,this._loaderOptions=y,this._creationFlags=E,this._useSRGBBuffer=L,this._forcedExtension=c,void 0!==e&&(this._format=e);const m=this.RF(),R=this._getEngine();if(!R)return;R.onBeforeTextureInitObservable.notifyObservers(this);const p=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),W&&W(),!this.isBlocking&&m&&m.resetCachedMaterial()},D=(F,b)=>{this._loadingError=!0,this._errorObject={message:F,exception:b},Z&&Z(F,b),i.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!f)return this._delayedOnLoad=p,void(this._delayedOnError=D);if(this._texture=f??this._getFromCache(this.url,z,g,this._invertY,L,this.isCube),this._texture)if(this._texture.isReady)G.c.SetImmediate((()=>p()));else{const F=this._texture.onLoadedObservable.add(p);this._texture.onErrorObservable.add((b=>{var Q;D(b.message,b.exception),null===(Q=this._texture)||void 0===Q||Q.onLoadedObservable.remove(F)}))}else if(m&&m.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=p,this._delayedOnError=D;else{try{this._texture=R.createTexture(this.url,z,this._invertY,m,g,p,D,this._buffer,void 0,this._format,this._forcedExtension,N,y,E,L)}catch(P){throw D("error loading",P),P}K&&(this._buffer=null)}}updateURL(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Q=arguments.length>2?arguments[2]:void 0,C=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.RF().markAllMaterialsAsDirty(1,(F=>F.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=F),this.url=F,this._buffer=b,this._forcedExtension=C,this.delayLoadState=4,Q&&(this._delayedOnLoad=Q),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const F=this.RF();F&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?G.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=F.getEngine().createTexture(this.url,this._noMipmap,this._invertY,F,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(F,b,Q,C){F*=this._cachedUScale,b*=this._cachedVScale,F-=this.uRotationCenter*this._cachedUScale,b-=this.vRotationCenter*this._cachedVScale,Q-=this.wRotationCenter,g.gQ.TransformCoordinatesFromFloatsToRef(F,b,Q,this._rowGenerationMatrix,C),C.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,C.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,C.z+=this.wRotationCenter}getTextureMatrix(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*F===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*F,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=g.Matrix.Zero(),this._rowGenerationMatrix=new g.Matrix,this._t0=g.gQ.Zero(),this._t1=g.gQ.Zero(),this._t2=g.gQ.Zero()),g.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(g.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,g.TmpVectors.Matrix[0]),g.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,g.TmpVectors.Matrix[1]),g.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,g.TmpVectors.Matrix[2]),g.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,g.TmpVectors.Matrix[3]),g.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.PK(this._t0),this._t2.PK(this._t0),g.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const b=this.RF();if(!b)return this._cachedTextureMatrix;const Q=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&Q!==this._cachedIdentity3x2&&b.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const F=this.RF();if(!F)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==i.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===F.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=g.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=g.Matrix.Zero());const b=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case i.PLANAR_MODE:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case i.PROJECTION_MODE:{g.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const b=F.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=b.updateFlag,b.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return b&&F.markAllMaterialsAsDirty(1,(F=>F.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const F={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,M:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return L.e.Clone((()=>new i(this._texture?this._texture.url:null,this.RF(),F)),this)}serialize(){var F;const b=this.name;i.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const Q=super.serialize(i._SerializeInternalTextureUniqueId);if(!Q)return null;if(i.SerializeBuffers||i.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))Q.base64String=this._buffer,Q.name=Q.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const F=this.mimeType||"image/png";Q.base64String=`data:${F};base64,${(0,N.l)(this._buffer)}`}else(i.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(Q.base64String=!this._engine||this._engine._features.supportSyncTextureRead?E(this):c(this));var C;(Q.invertY=this._invertY,Q.samplingMode=this.samplingMode,Q._creationFlags=this._creationFlags,Q._useSRGBBuffer=this._useSRGBBuffer,i._SerializeInternalTextureUniqueId)&&(Q.internalTextureUniqueId=null===(C=this._texture)||void 0===C?void 0:C.uniqueId);return Q.internalTextureLabel=null===(F=this._texture)||void 0===F?void 0:F.label,Q.noMipmap=this._noMipmap,this.name=b,Q}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(F,b,Q){if(F.customType){const C=K.d.Instantiate(F.customType).Parse(F,b,Q);return F.samplingMode&&C.updateSamplingMode&&C._samplingMode&&C._samplingMode!==F.samplingMode&&C.updateSamplingMode(F.samplingMode),C}if(F.isCube&&!F.isRenderTarget)return i._CubeTextureParser(F,b,Q);const C=void 0!==F.internalTextureUniqueId;if(!F.name&&!F.isRenderTarget&&!C)return null;let z;if(C){const Q=b.getEngine().getLoadedTexturesCache();for(const b of Q)if(b.uniqueId===F.internalTextureUniqueId){z=b;break}}const t=b=>{if(b&&b._texture&&(b._texture._cachedWrapU=null,b._texture._cachedWrapV=null,b._texture._cachedWrapR=null),F.samplingMode){const Q=F.samplingMode;b&&b.samplingMode!==Q&&b.updateSamplingMode(Q)}if(b&&F.animations)for(let Q=0;Q<F.animations.length;Q++){const C=F.animations[Q],z=(0,Z.d)("BABYLON.Animation");z&&b.animations.push(z.Parse(C))}b&&b._texture&&(C&&!z&&b._texture._setUniqueId(F.internalTextureUniqueId),b._texture.label=F.internalTextureLabel)};return L.e.Parse((()=>{let C=!0;if(F.noMipmap&&(C=!1),F.mirrorPlane){const Q=i._CreateMirror(F.name,F.renderTargetSize,b,C);return Q._waitingRenderList=F.renderList,Q.mirrorPlane=e.d.KQ(F.mirrorPlane),t(Q),Q}if(F.isRenderTarget){let Q=null;if(F.isCube){if(b.reflectionProbes)for(let C=0;C<b.reflectionProbes.length;C++){const Q=b.reflectionProbes[C];if(Q.name===F.name)return Q.cubeTexture}}else Q=i._CreateRenderTargetTexture(F.name,F.renderTargetSize,b,C,F._creationFlags??0),Q._waitingRenderList=F.renderList;return t(Q),Q}if(F.isVideo){const z=i._CreateVideoTexture(Q+(F.url||F.name),Q+(F.src||F.url),b,C,F.invertY,F.samplingMode,F.settings||{});return t(z),z}{let g;if(F.base64String&&!z)g=i.CreateFromBase64String(F.base64String,F.base64String,b,!C,F.invertY,F.samplingMode,(()=>{t(g)}),F._creationFlags??0,F._useSRGBBuffer??!1),g.name=F.name;else{let W;W=F.name&&(F.name.indexOf("://")>0||F.name.startsWith("data:"))?F.name:Q+F.name,F.url&&(F.url.startsWith("data:")||i.UseSerializedUrlIfAny)&&(W=F.url);const Z={noMipmap:!C,invertY:F.invertY,samplingMode:F.samplingMode,M:()=>{t(g)},internalTexture:z};g=new i(W,b,Z)}return g}}),F,b)}static CreateFromBase64String(F,b,Q,C,z){let t=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.TRILINEAR_SAMPLINGMODE;return new i("data:"+b,Q,C,z,t,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(F,b,Q){let C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],z=arguments.length>4?arguments[4]:void 0,t=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i.TRILINEAR_SAMPLINGMODE,W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,q=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,G=arguments.length>10?arguments[10]:void 0,K=arguments.length>11?arguments[11]:void 0;return"data:"!==F.substring(0,5)&&(F="data:"+F),new i(F,Q,z,t,g,W,Z,b,C,q,void 0,void 0,G,K)}}i.SerializeBuffers=!0,i.ForceSerializeBuffers=!1,i.OnTextureLoadErrorObservable=new t.c,i._SerializeInternalTextureUniqueId=!1,i._CubeTextureParser=(F,b,Q)=>{throw(0,q.c)("CubeTexture")},i._CreateMirror=(F,b,Q,C)=>{throw(0,q.c)("MirrorTexture")},i._CreateRenderTargetTexture=(F,b,Q,C,z)=>{throw(0,q.c)("RenderTargetTexture")},i.NEAREST_SAMPLINGMODE=1,i.NEAREST_NEAREST_MIPLINEAR=8,i.BILINEAR_SAMPLINGMODE=2,i.LINEAR_LINEAR_MIPNEAREST=11,i.TRILINEAR_SAMPLINGMODE=3,i.LINEAR_LINEAR_MIPLINEAR=3,i.NEAREST_NEAREST_MIPNEAREST=4,i.NEAREST_LINEAR_MIPNEAREST=5,i.NEAREST_LINEAR_MIPLINEAR=6,i.NEAREST_LINEAR=7,i.NEAREST_NEAREST=1,i.LINEAR_NEAREST_MIPNEAREST=9,i.LINEAR_NEAREST_MIPLINEAR=10,i.LINEAR_LINEAR=2,i.LINEAR_NEAREST=12,i.EXPLICIT_MODE=0,i.SPHERICAL_MODE=1,i.PLANAR_MODE=2,i.CUBIC_MODE=3,i.PROJECTION_MODE=4,i.SKYBOX_MODE=5,i.INVCUBIC_MODE=6,i.EQUIRECTANGULAR_MODE=7,i.FIXED_EQUIRECTANGULAR_MODE=8,i.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,i.CLAMP_ADDRESSMODE=0,i.WRAP_ADDRESSMODE=1,i.MIRROR_ADDRESSMODE=2,i.UseSerializedUrlIfAny=!1,(0,C.b)([(0,z.A)()],i.prototype,"url",void 0),(0,C.b)([(0,z.A)()],i.prototype,"uOffset",void 0),(0,C.b)([(0,z.A)()],i.prototype,"vOffset",void 0),(0,C.b)([(0,z.A)()],i.prototype,"uScale",void 0),(0,C.b)([(0,z.A)()],i.prototype,"vScale",void 0),(0,C.b)([(0,z.A)()],i.prototype,"uAng",void 0),(0,C.b)([(0,z.A)()],i.prototype,"vAng",void 0),(0,C.b)([(0,z.A)()],i.prototype,"wAng",void 0),(0,C.b)([(0,z.A)()],i.prototype,"uRotationCenter",void 0),(0,C.b)([(0,z.A)()],i.prototype,"vRotationCenter",void 0),(0,C.b)([(0,z.A)()],i.prototype,"wRotationCenter",void 0),(0,C.b)([(0,z.A)()],i.prototype,"homogeneousRotationInUVTransform",void 0),(0,C.b)([(0,z.A)()],i.prototype,"isBlocking",null),(0,Z.g)("BABYLON.Texture",i),L.e._TextureParser=i.Parse},11362:(F,b,Q)=>{Q.d(b,{d:()=>z});var C=Q(11309);class z{constructor(F,b,Q,z){this.normal=new C.gQ(F,b,Q),this.d=z}Lb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new z(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let F=this.normal.getHashCode();return F=397*F^this.d,F}normalize(){const F=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let b=0;return 0!==F&&(b=1/F),this.normal.x*=b,this.normal.y*=b,this.normal.z*=b,this.d*=b,this}transform(F){const b=z._TmpMatrix;F.invertToRef(b);const Q=b.m,C=this.normal.x,t=this.normal.y,g=this.normal.z,W=this.d,Z=C*Q[0]+t*Q[1]+g*Q[2]+W*Q[3],q=C*Q[4]+t*Q[5]+g*Q[6]+W*Q[7],G=C*Q[8]+t*Q[9]+g*Q[10]+W*Q[11],K=C*Q[12]+t*Q[13]+g*Q[14]+W*Q[15];return new z(Z,q,G,K)}dotCoordinate(F){return this.normal.x*F.x+this.normal.y*F.y+this.normal.z*F.z+this.d}copyFromPoints(F,b,Q){const C=b.x-F.x,z=b.y-F.y,t=b.z-F.z,g=Q.x-F.x,W=Q.y-F.y,Z=Q.z-F.z,q=z*Z-t*W,G=t*g-C*Z,K=C*W-z*g,e=Math.sqrt(q*q+G*G+K*K);let N;return N=0!==e?1/e:0,this.normal.x=q*N,this.normal.y=G*N,this.normal.z=K*N,this.d=-(this.normal.x*F.x+this.normal.y*F.y+this.normal.z*F.z),this}isFrontFacingTo(F,b){return C.gQ.Dot(this.normal,F)<=b}signedDistanceTo(F){return C.gQ.Dot(F,this.normal)+this.d}static KQ(F){return new z(F[0],F[1],F[2],F[3])}static FromPoints(F,b,Q){const C=new z(0,0,0,0);return C.copyFromPoints(F,b,Q),C}static FromPositionAndNormal(F,b){const Q=new z(0,0,0,0);return this.FromPositionAndNormalToRef(F,b,Q)}static FromPositionAndNormalToRef(F,b,Q){return Q.normal.W(b),Q.normal.normalize(),Q.d=-F.dot(Q.normal),Q}static SignedDistanceToPlaneFromPositionAndNormal(F,b,Q){const z=-(b.x*F.x+b.y*F.y+b.z*F.z);return C.gQ.Dot(Q,b)+z}}z._TmpMatrix=C.Matrix.Identity()},11340:(F,b,Q)=>{Q.d(b,{b:()=>C});class C{constructor(F,b){this.width=F,this.height=b}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let F=0|this.width;return F=397*F^this.height,F}W(F){this.width=F.width,this.height=F.height}jb(F,b){return this.width=F,this.height=b,this}set(F,b){return this.jb(F,b)}multiplyByFloats(F,b){return new C(this.width*F,this.height*b)}clone(){return new C(this.width,this.height)}equals(F){return!!F&&(this.width===F.width&&this.height===F.height)}get surface(){return this.width*this.height}static Zero(){return new C(0,0)}add(F){return new C(this.width+F.width,this.height+F.height)}WQ(F){return new C(this.width-F.width,this.height-F.height)}scale(F){return new C(this.width*F,this.height*F)}static Lerp(F,b,Q){const z=F.width+(b.width-F.width)*Q,t=F.height+(b.height-F.height)*Q;return new C(z,t)}}},11303:(F,b,Q)=>{Q.d(b,{b:()=>t,e:()=>g});const C={},z={};function t(F){const b=F.getClassName();return z[b]||(z[b]={}),z[b]}function g(F){const b=F.getClassName();if(C[b])return C[b];C[b]={};const Q=C[b];let t=F,g=b;for(;g;){const F=z[g];for(const z in F)Q[z]=F[z];let b,C=!1;do{if(b=Object.getPrototypeOf(t),!b.getClassName){C=!0;break}if(b.getClassName()!==g)break;t=b}while(b);if(C)break;g=b.getClassName(),t=b}return Q}},11296:(F,b,Q)=>{Q.d(b,{A:()=>g,b:()=>t,f:()=>L,h:()=>N,i:()=>Z,k:()=>y,m:()=>q,p:()=>E,q:()=>X,t:()=>e,u:()=>c,w:()=>W,x:()=>G,y:()=>K});var C=Q(11303);function z(F,b){return(Q,z)=>{const t=(0,C.b)(Q);t[z]||(t[z]={type:F,sourceName:b})}}function t(F){return function(F){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(Q,C)=>{const z=b||"_"+C;Object.defineProperty(Q,C,{get:function(){return this[z]},set:function(b){var C;"function"===typeof(null===(C=this[z])||void 0===C?void 0:C.equals)&&this[z].equals(b)||this[z]!==b&&(this[z]=b,Q[F].apply(this))},enumerable:!0,configurable:!0})}}(F,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function g(F){return z(0,F)}function W(F){return z(1,F)}function Z(F){return z(2,F)}function q(F){return z(3,F)}function G(F){return z(4,F)}function K(F){return z(5,F)}function e(F){return z(6,F)}function N(F){return z(7,F)}function y(F){return z(8,F)}function E(F){return z(9,F)}function c(F){return z(10,F)}function X(F){return z(12,F)}function L(F,b,Q,C){const z=Q.value;Q.value=function(){let Q=z;if("undefined"!==typeof _native&&_native[b]){const F=_native[b];Q=C?function(){return C(...arguments)?F(...arguments):z(...arguments)}:F}return F[b]=Q,Q(...arguments)}}L.filter=function(F){return(b,Q,C)=>L(b,Q,C,F)}},11349:(F,b,Q)=>{Q.d(b,{e:()=>q});var C=Q(11155),z=Q(11352),t=Q(11359),g=Q(11309),W=Q(11303);const Z=function(F,b,Q){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const t=F();z.e&&z.e.HasTags(b)&&z.e.AddTagsTo(t,z.e.GetTags(b,!0));const g=(0,W.e)(t),Z={};for(const z in g){const F=g[z],W=b[z],G=F.type;if(void 0!==W&&null!==W&&("uniqueId"!==z||q.AllowLoadingUniqueId))switch(G){case 0:case 6:case 9:case 11:t[z]=W;break;case 1:C.cloneTexturesOnlyOnce&&Z[W.uniqueId]?t[z]=Z[W.uniqueId]:(t[z]=Q||W.isRenderTarget?W:W.clone(),Z[W.uniqueId]=t[z]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:t[z]=Q?W:W.clone()}}return t};class q{static AppendSerializedAnimations(F,b){if(F.animations){b.animations=[];for(let Q=0;Q<F.animations.length;Q++){const C=F.animations[Q];b.animations.push(C.serialize())}}}static Serialize(F,b){b||(b={}),z.e&&(b.tags=z.e.GetTags(F));const Q=(0,W.e)(F);for(const C in Q){const z=Q[C],t=z.sourceName||C,g=z.type,W=F[C];if(void 0!==W&&null!==W&&("uniqueId"!==C||q.AllowLoadingUniqueId))switch(g){case 0:b[t]=W;break;case 1:case 3:case 7:case 9:b[t]=W.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:b[t]=W.Lb();break;case 6:case 11:b[t]=W.id}}return b}static ParseProperties(F,b,Q,C){C||(C="");const z=(0,W.e)(b);for(const W in z){const Z=z[W],G=F[Z.sourceName||W],K=Z.type;if(void 0!==G&&null!==G&&("uniqueId"!==W||q.AllowLoadingUniqueId)){const F=b;switch(K){case 0:F[W]=G;break;case 1:Q&&(F[W]=q._TextureParser(G,Q,C));break;case 2:F[W]=t.GQ.KQ(G);break;case 3:F[W]=q._FresnelParametersParser(G);break;case 4:F[W]=g.Vector2.KQ(G);break;case 5:F[W]=g.gQ.KQ(G);break;case 6:Q&&(F[W]=Q.getLastMeshById(G));break;case 7:F[W]=q._ColorCurvesParser(G);break;case 8:F[W]=t.sb.KQ(G);break;case 9:F[W]=q._ImageProcessingConfigurationParser(G);break;case 10:F[W]=g.Quaternion.KQ(G);break;case 11:Q&&(F[W]=Q.getCameraById(G));break;case 12:F[W]=g.Matrix.KQ(G)}}}}static Parse(F,b,Q){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const t=F();return z.e&&z.e.AddTagsTo(t,b.tags),q.ParseProperties(b,t,Q,C),t}static Clone(F,b){return Z(F,b,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(F,b){return Z(F,b,!0)}}q.AllowLoadingUniqueId=!1,q._ImageProcessingConfigurationParser=F=>{throw(0,C.c)("ImageProcessingConfiguration")},q._FresnelParametersParser=F=>{throw(0,C.c)("FresnelParameters")},q._ColorCurvesParser=F=>{throw(0,C.c)("ColorCurves")},q._TextureParser=(F,b,Q)=>{throw(0,C.c)("Texture")}},11352:(F,b,Q)=>{Q.d(b,{e:()=>z});class C{static Eval(F,b){return"true"===(F=F.match(/\([^()]*\)/g)?F.replace(/\([^()]*\)/g,(F=>(F=F.slice(1,F.length-1),C._HandleParenthesisContent(F,b)))):C._HandleParenthesisContent(F,b))||"false"!==F&&C.Eval(F,b)}static _HandleParenthesisContent(F,b){let Q;b=b||(F=>"true"===F);const z=F.split("||");for(const t in z)if(Object.prototype.hasOwnProperty.call(z,t)){let F=C._SimplifyNegation(z[t].trim());const g=F.split("&&");if(g.length>1)for(let z=0;z<g.length;++z){const t=C._SimplifyNegation(g[z].trim());if(Q="true"!==t&&"false"!==t?"!"===t[0]?!b(t.substring(1)):b(t):"true"===t,!Q){F="false";break}}if(Q||"true"===F){Q=!0;break}Q="true"!==F&&"false"!==F?"!"===F[0]?!b(F.substring(1)):b(F):"true"===F}return Q?"true":"false"}static _SimplifyNegation(F){return"!true"===(F=(F=F.replace(/^[\s!]+/,(F=>(F=F.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?F="false":"!false"===F&&(F="true"),F}}class z{static EnableFor(F){F._tags=F._tags||{},F.hasTags=()=>z.HasTags(F),F.addTags=b=>z.AddTagsTo(F,b),F.removeTags=b=>z.RemoveTagsFrom(F,b),F.matchesTagsQuery=b=>z.MatchesQuery(F,b)}static DisableFor(F){delete F._tags,delete F.hasTags,delete F.addTags,delete F.removeTags,delete F.matchesTagsQuery}static HasTags(F){if(!F._tags)return!1;const b=F._tags;for(const Q in b)if(Object.prototype.hasOwnProperty.call(b,Q))return!0;return!1}static GetTags(F){let b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!F._tags)return null;if(b){const b=[];for(const Q in F._tags)Object.prototype.hasOwnProperty.call(F._tags,Q)&&!0===F._tags[Q]&&b.push(Q);return b.join(" ")}return F._tags}static AddTagsTo(F,b){if(!b)return;if("string"!==typeof b)return;const Q=b.split(" ");for(const C of Q)z._AddTagTo(F,C)}static _AddTagTo(F,b){""!==(b=b.trim())&&"true"!==b&&"false"!==b&&(b.match(/[\s]/)||b.match(/^([!]|([|]|[&]){2})/)||(z.EnableFor(F),F._tags[b]=!0))}static RemoveTagsFrom(F,b){if(!z.HasTags(F))return;const Q=b.split(" ");for(const C in Q)z._RemoveTagFrom(F,Q[C])}static _RemoveTagFrom(F,b){delete F._tags[b]}static MatchesQuery(F,b){return void 0===b||(""===b?z.HasTags(F):C.Eval(b,(b=>z.HasTags(F)&&F._tags[b])))}}},11293:(F,b,Q)=>{Q.d(b,{b:()=>C});function C(F,b,Q,C){var z,t=arguments.length,g=t<3?b:null===C?C=Object.getOwnPropertyDescriptor(b,Q):C;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(F,b,Q,C);else for(var W=F.length-1;W>=0;W--)(z=F[W])&&(g=(t<3?z(g):t>3?z(b,Q,g):z(b,Q))||g);return t>3&&g&&Object.defineProperty(b,Q,g),g}Object.create;Object.create}}]);