"use strict";(self.jr1pmf6bwuf=self.jr1pmf6bwuf||[]).push([[13],{12934:(Y,c,h)=>{h.d(c,{d:()=>C});let C=!1},12890:(Y,c,h)=>{h.d(c,{c:()=>k});var C=h(12853),E=h(12859),N=h(12690),Q=h(12869),b=h(12722),H=h(12832),w=(h(12728),h(12899));class W{get wrapU(){return this._wrapU}set wrapU(Y){this._wrapU=Y}get wrapV(){return this._wrapV}set wrapV(Y){this._wrapV=Y}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(Y){this._texture&&(this._texture.isCube=Y)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Y){this._texture&&(this._texture.is3D=Y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Y){this._texture&&(this._texture.is2DArray=Y)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(Y){return void 0!==(null===Y||void 0===Y?void 0:Y.shareDepth)}constructor(Y){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=w.d.Zero(),this._cachedBaseSize=w.d.Zero(),this._initialSamplingMode=2,this._texture=W._IsRenderTargetWrapper(Y)?Y.texture:Y,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(Y){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(Y,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var q=h(12906);class k extends W{set Zc(Y){this._hasAlpha!==Y&&(this._hasAlpha=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get Zc(){return this._hasAlpha}set getAlphaFromRGB(Y){this._getAlphaFromRGB!==Y&&(this._getAlphaFromRGB=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(Y){this._coordinatesIndex!==Y&&(this._coordinatesIndex=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(Y){this._coordinatesMode!==Y&&(this._coordinatesMode=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(Y){this._wrapU=Y}get wrapV(){return this._wrapV}set wrapV(Y){this._wrapV=Y}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(Y){this._texture?this._texture.isCube=Y:this._isCube=Y}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Y){this._texture&&(this._texture.is3D=Y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Y){this._texture&&(this._texture.is2DArray=Y)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(Y){var c;if(this._texture){if(this._texture._gammaSpace===Y)return;this._texture._gammaSpace=Y}else{if(this._gammaSpace===Y)return;this._gammaSpace=Y}null===(c=this.ZY())||void 0===c||c.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(Y){var c;Y!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=Y),null===(c=this.ZY())||void 0===c||c.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(Y){this._texture&&(this._texture._lodGenerationOffset=Y)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(Y){this._texture&&(this._texture._lodGenerationScale=Y)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(Y){this._texture&&(this._texture._linearSpecularLOD=Y)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(Y){this._texture&&(this._texture._irradianceTexture=Y)}get uid(){return this._uid||(this._uid=(0,H.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(Y){this._onDisposeObserver&&this.Mc.remove(this._onDisposeObserver),this._onDisposeObserver=this.Mc.add(Y)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=k.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Mc=new N.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,Y?k._IsScene(Y)?this._scene=Y:this._engine=Y:this._scene=b.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=c,this._uid=null}ZY(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(Y){}get canRescale(){return!1}_getFromCache(Y,c,h,C,E,N){const Q=this._getEngine();if(!Q)return null;const b=Q._getUseSRGBBuffer(!!E,c),H=Q.getLoadedTexturesCache();for(let w=0;w<H.length;w++){const Q=H[w];if((void 0===E||b===Q._useSRGBBuffer)&&(void 0===C||C===Q.invertY)&&Q.url===Y&&Q.generateMipMaps===!c&&(!h||h===Q.samplingMode)&&(void 0===N||N===Q.isCube))return Q.incrementReferences(),Q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const Y=this.ZY();Y&&Y.markAllMaterialsAsDirty(1)}readPixels(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,H=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const w=this._getEngine();if(!w)return null;const W=this.getSize();let q=W.width,k=W.height;0!==c&&(q/=Math.pow(2,c),k/=Math.pow(2,c),q=Math.round(q),k=Math.round(k)),b=Math.min(q,b),H=Math.min(k,H);try{return this._texture.isCube?w._readTexturePixels(this._texture,b,H,Y,c,h,C,E,N,Q):w._readTexturePixels(this._texture,b,H,-1,c,h,C,E,N,Q)}catch(M){return null}}_readPixelsSync(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const N=this.getSize();let Q=N.width,b=N.height;const H=this._getEngine();if(!H)return null;0!=c&&(Q/=Math.pow(2,c),b/=Math.pow(2,c),Q=Math.round(Q),b=Math.round(b));try{return this._texture.isCube?H._readTexturePixelsSync(this._texture,Q,b,Y,c,h,C,E):H._readTexturePixelsSync(this._texture,Q,b,-1,c,h,C,E)}catch(w){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const Y=this._scene.textures.indexOf(this);if(Y>=0&&this._scene.textures.splice(Y,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const Y=this._parentContainer.textures.indexOf(this);Y>-1&&this._parentContainer.textures.splice(Y,1),this._parentContainer=null}}this.Mc.notifyObservers(this),this.Mc.clear(),this.metadata=null,super.dispose()}serialize(){let Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!Y)return null;const c=q.d.Serialize(this);return q.d.AppendSerializedAnimations(this,c),c}static WhenAllReady(Y,c){let h=Y.length;if(0!==h)for(let C=0;C<Y.length;C++){const E=Y[C];if(E.isReady())0===--h&&c();else{const Y=E.onLoadObservable;Y?Y.addOnce((()=>{0===--h&&c()})):0===--h&&c()}}else c()}static _IsScene(Y){return"Scene"===Y.getClassName()}}k.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,C.b)([(0,E.N)()],k.prototype,"uniqueId",void 0),(0,C.b)([(0,E.N)()],k.prototype,"name",void 0),(0,C.b)([(0,E.N)()],k.prototype,"displayName",void 0),(0,C.b)([(0,E.N)()],k.prototype,"metadata",void 0),(0,C.b)([(0,E.N)("Zc")],k.prototype,"_hasAlpha",void 0),(0,C.b)([(0,E.N)("getAlphaFromRGB")],k.prototype,"_getAlphaFromRGB",void 0),(0,C.b)([(0,E.N)()],k.prototype,"level",void 0),(0,C.b)([(0,E.N)("coordinatesIndex")],k.prototype,"_coordinatesIndex",void 0),(0,C.b)([(0,E.N)()],k.prototype,"optimizeUVAllocation",void 0),(0,C.b)([(0,E.N)("coordinatesMode")],k.prototype,"_coordinatesMode",void 0),(0,C.b)([(0,E.N)()],k.prototype,"wrapU",null),(0,C.b)([(0,E.N)()],k.prototype,"wrapV",null),(0,C.b)([(0,E.N)()],k.prototype,"wrapR",void 0),(0,C.b)([(0,E.N)()],k.prototype,"anisotropicFilteringLevel",void 0),(0,C.b)([(0,E.N)()],k.prototype,"isCube",null),(0,C.b)([(0,E.N)()],k.prototype,"is3D",null),(0,C.b)([(0,E.N)()],k.prototype,"is2DArray",null),(0,C.b)([(0,E.N)()],k.prototype,"gammaSpace",null),(0,C.b)([(0,E.N)()],k.prototype,"invertZ",void 0),(0,C.b)([(0,E.N)()],k.prototype,"lodLevelInAlpha",void 0),(0,C.b)([(0,E.N)()],k.prototype,"lodGenerationOffset",null),(0,C.b)([(0,E.N)()],k.prototype,"lodGenerationScale",null),(0,C.b)([(0,E.N)()],k.prototype,"linearSpecularLOD",null),(0,C.b)([(0,E.G)()],k.prototype,"irradianceTexture",null),(0,C.b)([(0,E.N)()],k.prototype,"isRenderTarget",void 0)},12848:(Y,c,h)=>{h.d(c,{d:()=>T});var C=h(12853),E=h(12859),N=h(12690),Q=h(12869),b=h(12890),H=h(12825),w=h(12715),W=h(12756),q=h(12821),k=h(12926),M=h(12740);function p(Y,c){let h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const C=c.width,E=c.height;if(Y instanceof Float32Array){let c=Y.byteLength/Y.BYTES_PER_ELEMENT;const h=new Uint8Array(c);for(;--c>=0;){let C=Y[c];C<0?C=0:C>1&&(C=1),h[c]=255*C}Y=h}const N=document.createElement("canvas");N.width=C,N.height=E;const Q=N.getContext("2d");if(!Q)return null;const b=Q.createImageData(C,E);if(b.data.set(Y),Q.putImageData(b,0,0),h){const Y=document.createElement("canvas");Y.width=C,Y.height=E;const c=Y.getContext("2d");return c?(c.translate(0,E),c.scale(1,-1),c.drawImage(N,0,0),Y.toDataURL("image/png")):null}return N.toDataURL("image/png")}function P(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=Y.getInternalTexture();if(!C)return null;const E=Y._readPixelsSync(c,h);return E?p(E,Y.getSize(),C.invertY):null}async function y(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const C=Y.getInternalTexture();if(!C)return null;const E=await Y.readPixels(c,h);return E?p(E,Y.getSize(),C.invertY):null}var d=h(12934),D=h(12906);class T extends b.c{static _CreateVideoTexture(Y,c,h){arguments.length>5&&void 0!==arguments[5]||T.TRILINEAR_SAMPLINGMODE;throw(0,w.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(Y){this._isBlocking=Y}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(Y,c,h,C){let E,Q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.TRILINEAR_SAMPLINGMODE,b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,H=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q=arguments.length>8&&void 0!==arguments[8]&&arguments[8],k=arguments.length>9?arguments[9]:void 0,M=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0,P=arguments.length>12?arguments[12]:void 0,y=arguments.length>13?arguments[13]:void 0;super(c),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new N.c,this._isBlocking=!0,this.name=Y||"",this.url=Y;let D=!1,e=null,r=!0;"object"===typeof h&&null!==h?(E=h.noMipmap??!1,C=h.invertY??!d.d,Q=h.samplingMode??T.TRILINEAR_SAMPLINGMODE,b=h.J??null,H=h.onError??null,w=h.buffer??null,q=h.deleteBuffer??!1,k=h.format,M=h.mimeType,p=h.loaderOptions,P=h.creationFlags,D=h.useSRGBBuffer??!1,e=h.internalTexture??null,r=h.gammaSpace??r,y=h.forcedExtension??y):E=!!h,this._gammaSpace=r,this._noMipmap=E,this._invertY=void 0===C?!d.d:C,this._initialSamplingMode=Q,this._buffer=w,this._deleteBuffer=q,this._mimeType=M,this._loaderOptions=p,this._creationFlags=P,this._useSRGBBuffer=D,this._forcedExtension=y,void 0!==k&&(this._format=k);const X=this.ZY(),Z=this._getEngine();if(!Z)return;Z.onBeforeTextureInitObservable.notifyObservers(this);const a=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),b&&b(),!this.isBlocking&&X&&X.resetCachedMaterial()},G=(Y,c)=>{this._loadingError=!0,this._errorObject={message:Y,exception:c},H&&H(Y,c),T.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!e)return this._delayedOnLoad=a,void(this._delayedOnError=G);if(this._texture=e??this._getFromCache(this.url,E,Q,this._invertY,D,this.isCube),this._texture)if(this._texture.isReady)W.c.SetImmediate((()=>a()));else{const Y=this._texture.onLoadedObservable.add(a);this._texture.onErrorObservable.add((c=>{var h;G(c.message,c.exception),null===(h=this._texture)||void 0===h||h.onLoadedObservable.remove(Y)}))}else if(X&&X.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=a,this._delayedOnError=G;else{try{this._texture=Z.createTexture(this.url,E,this._invertY,X,Q,a,G,this._buffer,void 0,this._format,this._forcedExtension,M,p,P,D)}catch(K){throw G("error loading",K),K}q&&(this._buffer=null)}}updateURL(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2?arguments[2]:void 0,C=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.ZY().markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=Y),this.url=Y,this._buffer=c,this._forcedExtension=C,this.delayLoadState=4,h&&(this._delayedOnLoad=h),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const Y=this.ZY();Y&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?W.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=Y.getEngine().createTexture(this.url,this._noMipmap,this._invertY,Y,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(Y,c,h,C){Y*=this._cachedUScale,c*=this._cachedVScale,Y-=this.uRotationCenter*this._cachedUScale,c-=this.vRotationCenter*this._cachedVScale,h-=this.wRotationCenter,Q.bh.TransformCoordinatesFromFloatsToRef(Y,c,h,this._rowGenerationMatrix,C),C.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,C.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,C.z+=this.wRotationCenter}getTextureMatrix(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*Y===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*Y,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Q.Matrix.Zero(),this._rowGenerationMatrix=new Q.Matrix,this._t0=Q.bh.Zero(),this._t1=Q.bh.Zero(),this._t2=Q.bh.Zero()),Q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Q.TmpVectors.Matrix[0]),Q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Q.TmpVectors.Matrix[1]),Q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Q.TmpVectors.Matrix[2]),Q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Q.TmpVectors.Matrix[3]),Q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Lk(this._t0),this._t2.Lk(this._t0),Q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const c=this.ZY();if(!c)return this._cachedTextureMatrix;const h=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&h!==this._cachedIdentity3x2&&c.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const Y=this.ZY();if(!Y)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==T.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===Y.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Q.Matrix.Zero());const c=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case T.PLANAR_MODE:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case T.PROJECTION_MODE:{Q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const c=Y.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=c.updateFlag,c.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return c&&Y.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const Y={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,J:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return D.d.Clone((()=>new T(this._texture?this._texture.url:null,this.ZY(),Y)),this)}serialize(){var Y;const c=this.name;T.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const h=super.serialize(T._SerializeInternalTextureUniqueId);if(!h)return null;if(T.SerializeBuffers||T.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))h.base64String=this._buffer,h.name=h.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const Y=this.mimeType||"image/png";h.base64String=`data:${Y};base64,${(0,M.h)(this._buffer)}`}else(T.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(h.base64String=!this._engine||this._engine._features.supportSyncTextureRead?P(this):y(this));var C;(h.invertY=this._invertY,h.samplingMode=this.samplingMode,h._creationFlags=this._creationFlags,h._useSRGBBuffer=this._useSRGBBuffer,T._SerializeInternalTextureUniqueId)&&(h.internalTextureUniqueId=null===(C=this._texture)||void 0===C?void 0:C.uniqueId);return h.internalTextureLabel=null===(Y=this._texture)||void 0===Y?void 0:Y.label,h.noMipmap=this._noMipmap,this.name=c,h}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(Y,c,h){if(Y.customType){const C=q.d.Instantiate(Y.customType).Parse(Y,c,h);return Y.samplingMode&&C.updateSamplingMode&&C._samplingMode&&C._samplingMode!==Y.samplingMode&&C.updateSamplingMode(Y.samplingMode),C}if(Y.isCube&&!Y.isRenderTarget)return T._CubeTextureParser(Y,c,h);const C=void 0!==Y.internalTextureUniqueId;if(!Y.name&&!Y.isRenderTarget&&!C)return null;let E;if(C){const h=c.getEngine().getLoadedTexturesCache();for(const c of h)if(c.uniqueId===Y.internalTextureUniqueId){E=c;break}}const N=c=>{if(c&&c._texture&&(c._texture._cachedWrapU=null,c._texture._cachedWrapV=null,c._texture._cachedWrapR=null),Y.samplingMode){const h=Y.samplingMode;c&&c.samplingMode!==h&&c.updateSamplingMode(h)}if(c&&Y.animations)for(let h=0;h<Y.animations.length;h++){const C=Y.animations[h],E=(0,H.d)("BABYLON.Animation");E&&c.animations.push(E.Parse(C))}c&&c._texture&&(C&&!E&&c._texture._setUniqueId(Y.internalTextureUniqueId),c._texture.label=Y.internalTextureLabel)};return D.d.Parse((()=>{let C=!0;if(Y.noMipmap&&(C=!1),Y.mirrorPlane){const h=T._CreateMirror(Y.name,Y.renderTargetSize,c,C);return h._waitingRenderList=Y.renderList,h.mirrorPlane=k.c.dh(Y.mirrorPlane),N(h),h}if(Y.isRenderTarget){let h=null;if(Y.isCube){if(c.reflectionProbes)for(let C=0;C<c.reflectionProbes.length;C++){const h=c.reflectionProbes[C];if(h.name===Y.name)return h.cubeTexture}}else h=T._CreateRenderTargetTexture(Y.name,Y.renderTargetSize,c,C,Y._creationFlags??0),h._waitingRenderList=Y.renderList;return N(h),h}if(Y.isVideo){const E=T._CreateVideoTexture(h+(Y.url||Y.name),h+(Y.src||Y.url),c,C,Y.invertY,Y.samplingMode,Y.settings||{});return N(E),E}{let Q;if(Y.base64String&&!E)Q=T.CreateFromBase64String(Y.base64String,Y.base64String,c,!C,Y.invertY,Y.samplingMode,(()=>{N(Q)}),Y._creationFlags??0,Y._useSRGBBuffer??!1),Q.name=Y.name;else{let b;b=Y.name&&(Y.name.indexOf("://")>0||Y.name.startsWith("data:"))?Y.name:h+Y.name,Y.url&&(Y.url.startsWith("data:")||T.UseSerializedUrlIfAny)&&(b=Y.url);const H={noMipmap:!C,invertY:Y.invertY,samplingMode:Y.samplingMode,J:()=>{N(Q)},internalTexture:E};Q=new T(b,c,H)}return Q}}),Y,c)}static CreateFromBase64String(Y,c,h,C,E){let N=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.TRILINEAR_SAMPLINGMODE;return new T("data:"+c,h,C,E,N,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Y,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(Y,c,h){let C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=arguments.length>4?arguments[4]:void 0,N=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:T.TRILINEAR_SAMPLINGMODE,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,H=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,w=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,W=arguments.length>10?arguments[10]:void 0,q=arguments.length>11?arguments[11]:void 0;return"data:"!==Y.substring(0,5)&&(Y="data:"+Y),new T(Y,h,E,N,Q,b,H,c,C,w,void 0,void 0,W,q)}}T.SerializeBuffers=!0,T.ForceSerializeBuffers=!1,T.OnTextureLoadErrorObservable=new N.c,T._SerializeInternalTextureUniqueId=!1,T._CubeTextureParser=(Y,c,h)=>{throw(0,w.c)("CubeTexture")},T._CreateMirror=(Y,c,h,C)=>{throw(0,w.c)("MirrorTexture")},T._CreateRenderTargetTexture=(Y,c,h,C,E)=>{throw(0,w.c)("RenderTargetTexture")},T.NEAREST_SAMPLINGMODE=1,T.NEAREST_NEAREST_MIPLINEAR=8,T.BILINEAR_SAMPLINGMODE=2,T.LINEAR_LINEAR_MIPNEAREST=11,T.TRILINEAR_SAMPLINGMODE=3,T.LINEAR_LINEAR_MIPLINEAR=3,T.NEAREST_NEAREST_MIPNEAREST=4,T.NEAREST_LINEAR_MIPNEAREST=5,T.NEAREST_LINEAR_MIPLINEAR=6,T.NEAREST_LINEAR=7,T.NEAREST_NEAREST=1,T.LINEAR_NEAREST_MIPNEAREST=9,T.LINEAR_NEAREST_MIPLINEAR=10,T.LINEAR_LINEAR=2,T.LINEAR_NEAREST=12,T.EXPLICIT_MODE=0,T.SPHERICAL_MODE=1,T.PLANAR_MODE=2,T.CUBIC_MODE=3,T.PROJECTION_MODE=4,T.SKYBOX_MODE=5,T.INVCUBIC_MODE=6,T.EQUIRECTANGULAR_MODE=7,T.FIXED_EQUIRECTANGULAR_MODE=8,T.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,T.CLAMP_ADDRESSMODE=0,T.WRAP_ADDRESSMODE=1,T.MIRROR_ADDRESSMODE=2,T.UseSerializedUrlIfAny=!1,(0,C.b)([(0,E.N)()],T.prototype,"url",void 0),(0,C.b)([(0,E.N)()],T.prototype,"uOffset",void 0),(0,C.b)([(0,E.N)()],T.prototype,"vOffset",void 0),(0,C.b)([(0,E.N)()],T.prototype,"uScale",void 0),(0,C.b)([(0,E.N)()],T.prototype,"vScale",void 0),(0,C.b)([(0,E.N)()],T.prototype,"uAng",void 0),(0,C.b)([(0,E.N)()],T.prototype,"vAng",void 0),(0,C.b)([(0,E.N)()],T.prototype,"wAng",void 0),(0,C.b)([(0,E.N)()],T.prototype,"uRotationCenter",void 0),(0,C.b)([(0,E.N)()],T.prototype,"vRotationCenter",void 0),(0,C.b)([(0,E.N)()],T.prototype,"wRotationCenter",void 0),(0,C.b)([(0,E.N)()],T.prototype,"homogeneousRotationInUVTransform",void 0),(0,C.b)([(0,E.N)()],T.prototype,"isBlocking",null),(0,H.e)("BABYLON.Texture",T),D.d._TextureParser=T.Parse},12926:(Y,c,h)=>{h.d(c,{c:()=>E});var C=h(12869);class E{constructor(Y,c,h,E){this.normal=new C.bh(Y,c,h),this.d=E}Xc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new E(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let Y=this.normal.getHashCode();return Y=397*Y^this.d,Y}normalize(){const Y=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let c=0;return 0!==Y&&(c=1/Y),this.normal.x*=c,this.normal.y*=c,this.normal.z*=c,this.d*=c,this}transform(Y){const c=E._TmpMatrix;Y.invertToRef(c);const h=c.m,C=this.normal.x,N=this.normal.y,Q=this.normal.z,b=this.d,H=C*h[0]+N*h[1]+Q*h[2]+b*h[3],w=C*h[4]+N*h[5]+Q*h[6]+b*h[7],W=C*h[8]+N*h[9]+Q*h[10]+b*h[11],q=C*h[12]+N*h[13]+Q*h[14]+b*h[15];return new E(H,w,W,q)}dotCoordinate(Y){return this.normal.x*Y.x+this.normal.y*Y.y+this.normal.z*Y.z+this.d}copyFromPoints(Y,c,h){const C=c.x-Y.x,E=c.y-Y.y,N=c.z-Y.z,Q=h.x-Y.x,b=h.y-Y.y,H=h.z-Y.z,w=E*H-N*b,W=N*Q-C*H,q=C*b-E*Q,k=Math.sqrt(w*w+W*W+q*q);let M;return M=0!==k?1/k:0,this.normal.x=w*M,this.normal.y=W*M,this.normal.z=q*M,this.d=-(this.normal.x*Y.x+this.normal.y*Y.y+this.normal.z*Y.z),this}isFrontFacingTo(Y,c){return C.bh.Dot(this.normal,Y)<=c}signedDistanceTo(Y){return C.bh.Dot(Y,this.normal)+this.d}static dh(Y){return new E(Y[0],Y[1],Y[2],Y[3])}static FromPoints(Y,c,h){const C=new E(0,0,0,0);return C.copyFromPoints(Y,c,h),C}static FromPositionAndNormal(Y,c){const h=new E(0,0,0,0);return this.FromPositionAndNormalToRef(Y,c,h)}static FromPositionAndNormalToRef(Y,c,h){return h.normal.N(c),h.normal.normalize(),h.d=-Y.dot(h.normal),h}static SignedDistanceToPlaneFromPositionAndNormal(Y,c,h){const E=-(c.x*Y.x+c.y*Y.y+c.z*Y.z);return C.bh.Dot(h,c)+E}}E._TmpMatrix=C.Matrix.Identity()},12899:(Y,c,h)=>{h.d(c,{d:()=>C});class C{constructor(Y,c){this.width=Y,this.height=c}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let Y=0|this.width;return Y=397*Y^this.height,Y}N(Y){this.width=Y.width,this.height=Y.height}Vc(Y,c){return this.width=Y,this.height=c,this}set(Y,c){return this.Vc(Y,c)}multiplyByFloats(Y,c){return new C(this.width*Y,this.height*c)}clone(){return new C(this.width,this.height)}equals(Y){return!!Y&&(this.width===Y.width&&this.height===Y.height)}get surface(){return this.width*this.height}static Zero(){return new C(0,0)}add(Y){return new C(this.width+Y.width,this.height+Y.height)}Hh(Y){return new C(this.width-Y.width,this.height-Y.height)}scale(Y){return new C(this.width*Y,this.height*Y)}static Lerp(Y,c,h){const E=Y.width+(c.width-Y.width)*h,N=Y.height+(c.height-Y.height)*h;return new C(E,N)}}},12864:(Y,c,h)=>{h.d(c,{c:()=>N,e:()=>Q});const C={},E={};function N(Y){const c=Y.getClassName();return E[c]||(E[c]={}),E[c]}function Q(Y){const c=Y.getClassName();if(C[c])return C[c];C[c]={};const h=C[c];let N=Y,Q=c;for(;Q;){const Y=E[Q];for(const E in Y)h[E]=Y[E];let c,C=!1;do{if(c=Object.getPrototypeOf(N),!c.getClassName){C=!0;break}if(c.getClassName()!==Q)break;N=c}while(c);if(C)break;Q=c.getClassName(),N=c}return h}},12859:(Y,c,h)=>{h.d(c,{A:()=>k,E:()=>y,G:()=>b,J:()=>W,M:()=>q,N:()=>Q,c:()=>N,f:()=>D,h:()=>M,k:()=>H,o:()=>p,s:()=>w,v:()=>P,y:()=>d});var C=h(12864);function E(Y,c){return(h,E)=>{const N=(0,C.c)(h);N[E]||(N[E]={type:Y,sourceName:c})}}function N(Y){return function(Y){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(h,C)=>{const E=c||"_"+C;Object.defineProperty(h,C,{get:function(){return this[E]},set:function(c){var C;"function"===typeof(null===(C=this[E])||void 0===C?void 0:C.equals)&&this[E].equals(c)||this[E]!==c&&(this[E]=c,h[Y].apply(this))},enumerable:!0,configurable:!0})}}(Y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Q(Y){return E(0,Y)}function b(Y){return E(1,Y)}function H(Y){return E(2,Y)}function w(Y){return E(3,Y)}function W(Y){return E(4,Y)}function q(Y){return E(5,Y)}function k(Y){return E(6,Y)}function M(Y){return E(7,Y)}function p(Y){return E(8,Y)}function P(Y){return E(9,Y)}function y(Y){return E(10,Y)}function d(Y){return E(12,Y)}function D(Y,c,h,C){const E=h.value;h.value=function(){let h=E;if("undefined"!==typeof _native&&_native[c]){const Y=_native[c];h=C?function(){return C(...arguments)?Y(...arguments):E(...arguments)}:Y}return Y[c]=h,h(...arguments)}}D.filter=function(Y){return(c,h,C)=>D(c,h,C,Y)}},12906:(Y,c,h)=>{h.d(c,{d:()=>w});var C=h(12715),E=h(12914),N=h(12920),Q=h(12869),b=h(12864);const H=function(Y,c,h){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const N=Y();E.d&&E.d.HasTags(c)&&E.d.AddTagsTo(N,E.d.GetTags(c,!0));const Q=(0,b.e)(N),H={};for(const E in Q){const Y=Q[E],b=c[E],W=Y.type;if(void 0!==b&&null!==b&&("uniqueId"!==E||w.AllowLoadingUniqueId))switch(W){case 0:case 6:case 9:case 11:N[E]=b;break;case 1:C.cloneTexturesOnlyOnce&&H[b.uniqueId]?N[E]=H[b.uniqueId]:(N[E]=h||b.isRenderTarget?b:b.clone(),H[b.uniqueId]=N[E]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:N[E]=h?b:b.clone()}}return N};class w{static AppendSerializedAnimations(Y,c){if(Y.animations){c.animations=[];for(let h=0;h<Y.animations.length;h++){const C=Y.animations[h];c.animations.push(C.serialize())}}}static Serialize(Y,c){c||(c={}),E.d&&(c.tags=E.d.GetTags(Y));const h=(0,b.e)(Y);for(const C in h){const E=h[C],N=E.sourceName||C,Q=E.type,b=Y[C];if(void 0!==b&&null!==b&&("uniqueId"!==C||w.AllowLoadingUniqueId))switch(Q){case 0:c[N]=b;break;case 1:case 3:case 7:case 9:c[N]=b.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:c[N]=b.Xc();break;case 6:case 11:c[N]=b.id}}return c}static ParseProperties(Y,c,h,C){C||(C="");const E=(0,b.e)(c);for(const b in E){const H=E[b],W=Y[H.sourceName||b],q=H.type;if(void 0!==W&&null!==W&&("uniqueId"!==b||w.AllowLoadingUniqueId)){const Y=c;switch(q){case 0:Y[b]=W;break;case 1:h&&(Y[b]=w._TextureParser(W,h,C));break;case 2:Y[b]=N.ph.dh(W);break;case 3:Y[b]=w._FresnelParametersParser(W);break;case 4:Y[b]=Q.Vector2.dh(W);break;case 5:Y[b]=Q.bh.dh(W);break;case 6:h&&(Y[b]=h.getLastMeshById(W));break;case 7:Y[b]=w._ColorCurvesParser(W);break;case 8:Y[b]=N.vc.dh(W);break;case 9:Y[b]=w._ImageProcessingConfigurationParser(W);break;case 10:Y[b]=Q.Quaternion.dh(W);break;case 11:h&&(Y[b]=h.getCameraById(W));break;case 12:Y[b]=Q.Matrix.dh(W)}}}}static Parse(Y,c,h){let C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const N=Y();return E.d&&E.d.AddTagsTo(N,c.tags),w.ParseProperties(c,N,h,C),N}static Clone(Y,c){return H(Y,c,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(Y,c){return H(Y,c,!0)}}w.AllowLoadingUniqueId=!1,w._ImageProcessingConfigurationParser=Y=>{throw(0,C.c)("ImageProcessingConfiguration")},w._FresnelParametersParser=Y=>{throw(0,C.c)("FresnelParameters")},w._ColorCurvesParser=Y=>{throw(0,C.c)("ColorCurves")},w._TextureParser=(Y,c,h)=>{throw(0,C.c)("Texture")}},12914:(Y,c,h)=>{h.d(c,{d:()=>E});class C{static Eval(Y,c){return"true"===(Y=Y.match(/\([^()]*\)/g)?Y.replace(/\([^()]*\)/g,(Y=>(Y=Y.slice(1,Y.length-1),C._HandleParenthesisContent(Y,c)))):C._HandleParenthesisContent(Y,c))||"false"!==Y&&C.Eval(Y,c)}static _HandleParenthesisContent(Y,c){let h;c=c||(Y=>"true"===Y);const E=Y.split("||");for(const N in E)if(Object.prototype.hasOwnProperty.call(E,N)){let Y=C._SimplifyNegation(E[N].trim());const Q=Y.split("&&");if(Q.length>1)for(let E=0;E<Q.length;++E){const N=C._SimplifyNegation(Q[E].trim());if(h="true"!==N&&"false"!==N?"!"===N[0]?!c(N.substring(1)):c(N):"true"===N,!h){Y="false";break}}if(h||"true"===Y){h=!0;break}h="true"!==Y&&"false"!==Y?"!"===Y[0]?!c(Y.substring(1)):c(Y):"true"===Y}return h?"true":"false"}static _SimplifyNegation(Y){return"!true"===(Y=(Y=Y.replace(/^[\s!]+/,(Y=>(Y=Y.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?Y="false":"!false"===Y&&(Y="true"),Y}}class E{static EnableFor(Y){Y._tags=Y._tags||{},Y.hasTags=()=>E.HasTags(Y),Y.addTags=c=>E.AddTagsTo(Y,c),Y.removeTags=c=>E.RemoveTagsFrom(Y,c),Y.matchesTagsQuery=c=>E.MatchesQuery(Y,c)}static DisableFor(Y){delete Y._tags,delete Y.hasTags,delete Y.addTags,delete Y.removeTags,delete Y.matchesTagsQuery}static HasTags(Y){if(!Y._tags)return!1;const c=Y._tags;for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h))return!0;return!1}static GetTags(Y){let c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Y._tags)return null;if(c){const c=[];for(const h in Y._tags)Object.prototype.hasOwnProperty.call(Y._tags,h)&&!0===Y._tags[h]&&c.push(h);return c.join(" ")}return Y._tags}static AddTagsTo(Y,c){if(!c)return;if("string"!==typeof c)return;const h=c.split(" ");for(const C of h)E._AddTagTo(Y,C)}static _AddTagTo(Y,c){""!==(c=c.trim())&&"true"!==c&&"false"!==c&&(c.match(/[\s]/)||c.match(/^([!]|([|]|[&]){2})/)||(E.EnableFor(Y),Y._tags[c]=!0))}static RemoveTagsFrom(Y,c){if(!E.HasTags(Y))return;const h=c.split(" ");for(const C in h)E._RemoveTagFrom(Y,h[C])}static _RemoveTagFrom(Y,c){delete Y._tags[c]}static MatchesQuery(Y,c){return void 0===c||(""===c?E.HasTags(Y):C.Eval(c,(c=>E.HasTags(Y)&&Y._tags[c])))}}},12853:(Y,c,h)=>{h.d(c,{b:()=>C});function C(Y,c,h,C){var E,N=arguments.length,Q=N<3?c:null===C?C=Object.getOwnPropertyDescriptor(c,h):C;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Q=Reflect.decorate(Y,c,h,C);else for(var b=Y.length-1;b>=0;b--)(E=Y[b])&&(Q=(N<3?E(Q):N>3?E(c,h,Q):E(c,h))||Q);return N>3&&Q&&Object.defineProperty(c,h,Q),Q}Object.create;Object.create}}]);