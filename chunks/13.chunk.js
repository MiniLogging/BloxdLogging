"use strict";(self.kdlk57exiqh=self.kdlk57exiqh||[]).push([[13],{12301:(i,x,e)=>{e.d(x,{d:()=>j});let j=!1},12272:(i,x,e)=>{e.d(x,{b:()=>K});var j=e(12234),E=e(12236),a=e(12065),Y=e(12250),J=e(12108),u=e(12213),b=(e(12115),e(12275));class g{get wrapU(){return this._wrapU}set wrapU(i){this._wrapU=i}get wrapV(){return this._wrapV}set wrapV(i){this._wrapV=i}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(i){this._texture&&(this._texture.isCube=i)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(i){this._texture&&(this._texture.is3D=i)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(i){this._texture&&(this._texture.is2DArray=i)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(i){return void 0!==(null===i||void 0===i?void 0:i.shareDepth)}constructor(i){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=b.e.Zero(),this._cachedBaseSize=b.e.Zero(),this._initialSamplingMode=2,this._texture=g._IsRenderTargetWrapper(i)?i.texture:i,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(i){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(i,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var A=e(12278);class K extends g{set He(i){this._hasAlpha!==i&&(this._hasAlpha=i,this._scene&&this._scene.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))))}get He(){return this._hasAlpha}set getAlphaFromRGB(i){this._getAlphaFromRGB!==i&&(this._getAlphaFromRGB=i,this._scene&&this._scene.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(i){this._coordinatesIndex!==i&&(this._coordinatesIndex=i,this._scene&&this._scene.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(i){this._coordinatesMode!==i&&(this._coordinatesMode=i,this._scene&&this._scene.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(i){this._wrapU=i}get wrapV(){return this._wrapV}set wrapV(i){this._wrapV=i}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(i){this._texture?this._texture.isCube=i:this._isCube=i}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(i){this._texture&&(this._texture.is3D=i)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(i){this._texture&&(this._texture.is2DArray=i)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(i){var x;if(this._texture){if(this._texture._gammaSpace===i)return;this._texture._gammaSpace=i}else{if(this._gammaSpace===i)return;this._gammaSpace=i}null===(x=this.wi())||void 0===x||x.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(i){var x;i!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=i),null===(x=this.wi())||void 0===x||x.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(i){this._texture&&(this._texture._lodGenerationOffset=i)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(i){this._texture&&(this._texture._lodGenerationScale=i)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(i){this._texture&&(this._texture._linearSpecularLOD=i)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(i){this._texture&&(this._texture._irradianceTexture=i)}get uid(){return this._uid||(this._uid=(0,u.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(i){this._onDisposeObserver&&this.te.remove(this._onDisposeObserver),this._onDisposeObserver=this.te.add(i)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=K.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.te=new a.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,i?K._IsScene(i)?this._scene=i:this._engine=i:this._scene=J.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=x,this._uid=null}wi(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(i){}get canRescale(){return!1}_getFromCache(i,x,e,j,E,a){const Y=this._getEngine();if(!Y)return null;const J=Y._getUseSRGBBuffer(!!E,x),u=Y.getLoadedTexturesCache();for(let b=0;b<u.length;b++){const Y=u[b];if((void 0===E||J===Y._useSRGBBuffer)&&(void 0===j||j===Y.invertY)&&Y.url===i&&Y.generateMipMaps===!x&&(!e||e===Y.samplingMode)&&(void 0===a||a===Y.isCube))return Y.incrementReferences(),Y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const i=this.wi();i&&i.markAllMaterialsAsDirty(1)}readPixels(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const b=this._getEngine();if(!b)return null;const g=this.getSize();let A=g.width,K=g.height;0!==x&&(A/=Math.pow(2,x),K/=Math.pow(2,x),A=Math.round(A),K=Math.round(K)),J=Math.min(A,J),u=Math.min(K,u);try{return this._texture.isCube?b._readTexturePixels(this._texture,J,u,i,x,e,j,E,a,Y):b._readTexturePixels(this._texture,J,u,-1,x,e,j,E,a,Y)}catch(L){return null}}_readPixelsSync(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,j=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const a=this.getSize();let Y=a.width,J=a.height;const u=this._getEngine();if(!u)return null;0!=x&&(Y/=Math.pow(2,x),J/=Math.pow(2,x),Y=Math.round(Y),J=Math.round(J));try{return this._texture.isCube?u._readTexturePixelsSync(this._texture,Y,J,i,x,e,j,E):u._readTexturePixelsSync(this._texture,Y,J,-1,x,e,j,E)}catch(b){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const i=this._scene.textures.indexOf(this);if(i>=0&&this._scene.textures.splice(i,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const i=this._parentContainer.textures.indexOf(this);i>-1&&this._parentContainer.textures.splice(i,1),this._parentContainer=null}}this.te.notifyObservers(this),this.te.clear(),this.metadata=null,super.dispose()}serialize(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!i)return null;const x=A.b.Serialize(this);return A.b.AppendSerializedAnimations(this,x),x}static WhenAllReady(i,x){let e=i.length;if(0!==e)for(let j=0;j<i.length;j++){const E=i[j];if(E.isReady())0===--e&&x();else{const i=E.onLoadObservable;i?i.addOnce((()=>{0===--e&&x()})):0===--e&&x()}}else x()}static _IsScene(i){return"Scene"===i.getClassName()}}K.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,j.e)([(0,E.O)()],K.prototype,"uniqueId",void 0),(0,j.e)([(0,E.O)()],K.prototype,"name",void 0),(0,j.e)([(0,E.O)()],K.prototype,"displayName",void 0),(0,j.e)([(0,E.O)()],K.prototype,"metadata",void 0),(0,j.e)([(0,E.O)("He")],K.prototype,"_hasAlpha",void 0),(0,j.e)([(0,E.O)("getAlphaFromRGB")],K.prototype,"_getAlphaFromRGB",void 0),(0,j.e)([(0,E.O)()],K.prototype,"level",void 0),(0,j.e)([(0,E.O)("coordinatesIndex")],K.prototype,"_coordinatesIndex",void 0),(0,j.e)([(0,E.O)()],K.prototype,"optimizeUVAllocation",void 0),(0,j.e)([(0,E.O)("coordinatesMode")],K.prototype,"_coordinatesMode",void 0),(0,j.e)([(0,E.O)()],K.prototype,"wrapU",null),(0,j.e)([(0,E.O)()],K.prototype,"wrapV",null),(0,j.e)([(0,E.O)()],K.prototype,"wrapR",void 0),(0,j.e)([(0,E.O)()],K.prototype,"anisotropicFilteringLevel",void 0),(0,j.e)([(0,E.O)()],K.prototype,"isCube",null),(0,j.e)([(0,E.O)()],K.prototype,"is3D",null),(0,j.e)([(0,E.O)()],K.prototype,"is2DArray",null),(0,j.e)([(0,E.O)()],K.prototype,"gammaSpace",null),(0,j.e)([(0,E.O)()],K.prototype,"invertZ",void 0),(0,j.e)([(0,E.O)()],K.prototype,"lodLevelInAlpha",void 0),(0,j.e)([(0,E.O)()],K.prototype,"lodGenerationOffset",null),(0,j.e)([(0,E.O)()],K.prototype,"lodGenerationScale",null),(0,j.e)([(0,E.O)()],K.prototype,"linearSpecularLOD",null),(0,j.e)([(0,E.D)()],K.prototype,"irradianceTexture",null),(0,j.e)([(0,E.O)()],K.prototype,"isRenderTarget",void 0)},12227:(i,x,e)=>{e.d(x,{d:()=>t});var j=e(12234),E=e(12236),a=e(12065),Y=e(12250),J=e(12272),u=e(12204),b=e(12092),g=e(12142),A=e(12197),K=e(12295),L=e(12128);function o(i,x){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const j=x.width,E=x.height;if(i instanceof Float32Array){let x=i.byteLength/i.BYTES_PER_ELEMENT;const e=new Uint8Array(x);for(;--x>=0;){let j=i[x];j<0?j=0:j>1&&(j=1),e[x]=255*j}i=e}const a=document.createElement("canvas");a.width=j,a.height=E;const Y=a.getContext("2d");if(!Y)return null;const J=Y.createImageData(j,E);if(J.data.set(i),Y.putImageData(J,0,0),e){const i=document.createElement("canvas");i.width=j,i.height=E;const x=i.getContext("2d");return x?(x.translate(0,E),x.scale(1,-1),x.drawImage(a,0,0),i.toDataURL("image/png")):null}return a.toDataURL("image/png")}function M(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=i.getInternalTexture();if(!j)return null;const E=i._readPixelsSync(x,e);return E?o(E,i.getSize(),j.invertY):null}async function z(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const j=i.getInternalTexture();if(!j)return null;const E=await i.readPixels(x,e);return E?o(E,i.getSize(),j.invertY):null}var T=e(12301),Q=e(12278);class t extends J.b{static _CreateVideoTexture(i,x,e){arguments.length>5&&void 0!==arguments[5]||t.TRILINEAR_SAMPLINGMODE;throw(0,b.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(i){this._isBlocking=i}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(i,x,e,j){let E,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.TRILINEAR_SAMPLINGMODE,J=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,A=arguments.length>8&&void 0!==arguments[8]&&arguments[8],K=arguments.length>9?arguments[9]:void 0,L=arguments.length>10?arguments[10]:void 0,o=arguments.length>11?arguments[11]:void 0,M=arguments.length>12?arguments[12]:void 0,z=arguments.length>13?arguments[13]:void 0;super(x),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new a.b,this._isBlocking=!0,this.name=i||"",this.url=i;let Q=!1,V=null,S=!0;"object"===typeof e&&null!==e?(E=e.noMipmap??!1,j=e.invertY??!T.d,Y=e.samplingMode??t.TRILINEAR_SAMPLINGMODE,J=e.W??null,u=e.onError??null,b=e.buffer??null,A=e.deleteBuffer??!1,K=e.format,L=e.mimeType,o=e.loaderOptions,M=e.creationFlags,Q=e.useSRGBBuffer??!1,V=e.internalTexture??null,S=e.gammaSpace??S,z=e.forcedExtension??z):E=!!e,this._gammaSpace=S,this._noMipmap=E,this._invertY=void 0===j?!T.d:j,this._initialSamplingMode=Y,this._buffer=b,this._deleteBuffer=A,this._mimeType=L,this._loaderOptions=o,this._creationFlags=M,this._useSRGBBuffer=Q,this._forcedExtension=z,void 0!==K&&(this._format=K);const f=this.wi(),w=this._getEngine();if(!w)return;w.onBeforeTextureInitObservable.notifyObservers(this);const O=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),J&&J(),!this.isBlocking&&f&&f.resetCachedMaterial()},l=(i,x)=>{this._loadingError=!0,this._errorObject={message:i,exception:x},u&&u(i,x),t.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!V)return this._delayedOnLoad=O,void(this._delayedOnError=l);if(this._texture=V??this._getFromCache(this.url,E,Y,this._invertY,Q,this.isCube),this._texture)if(this._texture.isReady)g.b.SetImmediate((()=>O()));else{const i=this._texture.onLoadedObservable.add(O);this._texture.onErrorObservable.add((x=>{var e;l(x.message,x.exception),null===(e=this._texture)||void 0===e||e.onLoadedObservable.remove(i)}))}else if(f&&f.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=O,this._delayedOnError=l;else{try{this._texture=w.createTexture(this.url,E,this._invertY,f,Y,O,l,this._buffer,void 0,this._format,this._forcedExtension,L,o,M,Q)}catch(Z){throw l("error loading",Z),Z}A&&(this._buffer=null)}}updateURL(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.wi().markAllMaterialsAsDirty(1,(i=>i.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=i),this.url=i,this._buffer=x,this._forcedExtension=j,this.delayLoadState=4,e&&(this._delayedOnLoad=e),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const i=this.wi();i&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?g.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=i.getEngine().createTexture(this.url,this._noMipmap,this._invertY,i,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(i,x,e,j){i*=this._cachedUScale,x*=this._cachedVScale,i-=this.uRotationCenter*this._cachedUScale,x-=this.vRotationCenter*this._cachedVScale,e-=this.wRotationCenter,Y.KJ.TransformCoordinatesFromFloatsToRef(i,x,e,this._rowGenerationMatrix,j),j.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,j.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,j.z+=this.wRotationCenter}getTextureMatrix(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*i===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*i,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Y.Matrix.Zero(),this._rowGenerationMatrix=new Y.Matrix,this._t0=Y.KJ.Zero(),this._t1=Y.KJ.Zero(),this._t2=Y.KJ.Zero()),Y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Y.TmpVectors.Matrix[0]),Y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Y.TmpVectors.Matrix[1]),Y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Y.TmpVectors.Matrix[2]),Y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Y.TmpVectors.Matrix[3]),Y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.jK(this._t0),this._t2.jK(this._t0),Y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const x=this.wi();if(!x)return this._cachedTextureMatrix;const e=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&e!==this._cachedIdentity3x2&&x.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const i=this.wi();if(!i)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==t.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===i.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Y.Matrix.Zero());const x=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case t.PLANAR_MODE:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case t.PROJECTION_MODE:{Y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const x=i.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=x.updateFlag,x.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return x&&i.markAllMaterialsAsDirty(1,(i=>i.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const i={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,W:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Q.b.Clone((()=>new t(this._texture?this._texture.url:null,this.wi(),i)),this)}serialize(){var i;const x=this.name;t.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const e=super.serialize(t._SerializeInternalTextureUniqueId);if(!e)return null;if(t.SerializeBuffers||t.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))e.base64String=this._buffer,e.name=e.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const i=this.mimeType||"image/png";e.base64String=`data:${i};base64,${(0,L.j)(this._buffer)}`}else(t.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(e.base64String=!this._engine||this._engine._features.supportSyncTextureRead?M(this):z(this));var j;(e.invertY=this._invertY,e.samplingMode=this.samplingMode,e._creationFlags=this._creationFlags,e._useSRGBBuffer=this._useSRGBBuffer,t._SerializeInternalTextureUniqueId)&&(e.internalTextureUniqueId=null===(j=this._texture)||void 0===j?void 0:j.uniqueId);return e.internalTextureLabel=null===(i=this._texture)||void 0===i?void 0:i.label,e.noMipmap=this._noMipmap,this.name=x,e}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(i,x,e){if(i.customType){const j=A.b.Instantiate(i.customType).Parse(i,x,e);return i.samplingMode&&j.updateSamplingMode&&j._samplingMode&&j._samplingMode!==i.samplingMode&&j.updateSamplingMode(i.samplingMode),j}if(i.isCube&&!i.isRenderTarget)return t._CubeTextureParser(i,x,e);const j=void 0!==i.internalTextureUniqueId;if(!i.name&&!i.isRenderTarget&&!j)return null;let E;if(j){const e=x.getEngine().getLoadedTexturesCache();for(const x of e)if(x.uniqueId===i.internalTextureUniqueId){E=x;break}}const a=x=>{if(x&&x._texture&&(x._texture._cachedWrapU=null,x._texture._cachedWrapV=null,x._texture._cachedWrapR=null),i.samplingMode){const e=i.samplingMode;x&&x.samplingMode!==e&&x.updateSamplingMode(e)}if(x&&i.animations)for(let e=0;e<i.animations.length;e++){const j=i.animations[e],E=(0,u.e)("BABYLON.Animation");E&&x.animations.push(E.Parse(j))}x&&x._texture&&(j&&!E&&x._texture._setUniqueId(i.internalTextureUniqueId),x._texture.label=i.internalTextureLabel)};return Q.b.Parse((()=>{let j=!0;if(i.noMipmap&&(j=!1),i.mirrorPlane){const e=t._CreateMirror(i.name,i.renderTargetSize,x,j);return e._waitingRenderList=i.renderList,e.mirrorPlane=K.e.zJ(i.mirrorPlane),a(e),e}if(i.isRenderTarget){let e=null;if(i.isCube){if(x.reflectionProbes)for(let j=0;j<x.reflectionProbes.length;j++){const e=x.reflectionProbes[j];if(e.name===i.name)return e.cubeTexture}}else e=t._CreateRenderTargetTexture(i.name,i.renderTargetSize,x,j,i._creationFlags??0),e._waitingRenderList=i.renderList;return a(e),e}if(i.isVideo){const E=t._CreateVideoTexture(e+(i.url||i.name),e+(i.src||i.url),x,j,i.invertY,i.samplingMode,i.settings||{});return a(E),E}{let Y;if(i.base64String&&!E)Y=t.CreateFromBase64String(i.base64String,i.base64String,x,!j,i.invertY,i.samplingMode,(()=>{a(Y)}),i._creationFlags??0,i._useSRGBBuffer??!1),Y.name=i.name;else{let J;J=i.name&&(i.name.indexOf("://")>0||i.name.startsWith("data:"))?i.name:e+i.name,i.url&&(i.url.startsWith("data:")||t.UseSerializedUrlIfAny)&&(J=i.url);const u={noMipmap:!j,invertY:i.invertY,samplingMode:i.samplingMode,W:()=>{a(Y)},internalTexture:E};Y=new t(J,x,u)}return Y}}),i,x)}static CreateFromBase64String(i,x,e,j,E){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.TRILINEAR_SAMPLINGMODE;return new t("data:"+x,e,j,E,a,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,i,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(i,x,e){let j=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=arguments.length>4?arguments[4]:void 0,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t.TRILINEAR_SAMPLINGMODE,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,b=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,g=arguments.length>10?arguments[10]:void 0,A=arguments.length>11?arguments[11]:void 0;return"data:"!==i.substring(0,5)&&(i="data:"+i),new t(i,e,E,a,Y,J,u,x,j,b,void 0,void 0,g,A)}}t.SerializeBuffers=!0,t.ForceSerializeBuffers=!1,t.OnTextureLoadErrorObservable=new a.b,t._SerializeInternalTextureUniqueId=!1,t._CubeTextureParser=(i,x,e)=>{throw(0,b.e)("CubeTexture")},t._CreateMirror=(i,x,e,j)=>{throw(0,b.e)("MirrorTexture")},t._CreateRenderTargetTexture=(i,x,e,j,E)=>{throw(0,b.e)("RenderTargetTexture")},t.NEAREST_SAMPLINGMODE=1,t.NEAREST_NEAREST_MIPLINEAR=8,t.BILINEAR_SAMPLINGMODE=2,t.LINEAR_LINEAR_MIPNEAREST=11,t.TRILINEAR_SAMPLINGMODE=3,t.LINEAR_LINEAR_MIPLINEAR=3,t.NEAREST_NEAREST_MIPNEAREST=4,t.NEAREST_LINEAR_MIPNEAREST=5,t.NEAREST_LINEAR_MIPLINEAR=6,t.NEAREST_LINEAR=7,t.NEAREST_NEAREST=1,t.LINEAR_NEAREST_MIPNEAREST=9,t.LINEAR_NEAREST_MIPLINEAR=10,t.LINEAR_LINEAR=2,t.LINEAR_NEAREST=12,t.EXPLICIT_MODE=0,t.SPHERICAL_MODE=1,t.PLANAR_MODE=2,t.CUBIC_MODE=3,t.PROJECTION_MODE=4,t.SKYBOX_MODE=5,t.INVCUBIC_MODE=6,t.EQUIRECTANGULAR_MODE=7,t.FIXED_EQUIRECTANGULAR_MODE=8,t.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,t.CLAMP_ADDRESSMODE=0,t.WRAP_ADDRESSMODE=1,t.MIRROR_ADDRESSMODE=2,t.UseSerializedUrlIfAny=!1,(0,j.e)([(0,E.O)()],t.prototype,"url",void 0),(0,j.e)([(0,E.O)()],t.prototype,"uOffset",void 0),(0,j.e)([(0,E.O)()],t.prototype,"vOffset",void 0),(0,j.e)([(0,E.O)()],t.prototype,"uScale",void 0),(0,j.e)([(0,E.O)()],t.prototype,"vScale",void 0),(0,j.e)([(0,E.O)()],t.prototype,"uAng",void 0),(0,j.e)([(0,E.O)()],t.prototype,"vAng",void 0),(0,j.e)([(0,E.O)()],t.prototype,"wAng",void 0),(0,j.e)([(0,E.O)()],t.prototype,"uRotationCenter",void 0),(0,j.e)([(0,E.O)()],t.prototype,"vRotationCenter",void 0),(0,j.e)([(0,E.O)()],t.prototype,"wRotationCenter",void 0),(0,j.e)([(0,E.O)()],t.prototype,"homogeneousRotationInUVTransform",void 0),(0,j.e)([(0,E.O)()],t.prototype,"isBlocking",null),(0,u.f)("BABYLON.Texture",t),Q.b._TextureParser=t.Parse},12295:(i,x,e)=>{e.d(x,{e:()=>E});var j=e(12250);class E{constructor(i,x,e,E){this.normal=new j.KJ(i,x,e),this.d=E}de(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new E(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let i=this.normal.getHashCode();return i=397*i^this.d,i}normalize(){const i=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let x=0;return 0!==i&&(x=1/i),this.normal.x*=x,this.normal.y*=x,this.normal.z*=x,this.d*=x,this}transform(i){const x=E._TmpMatrix;i.invertToRef(x);const e=x.m,j=this.normal.x,a=this.normal.y,Y=this.normal.z,J=this.d,u=j*e[0]+a*e[1]+Y*e[2]+J*e[3],b=j*e[4]+a*e[5]+Y*e[6]+J*e[7],g=j*e[8]+a*e[9]+Y*e[10]+J*e[11],A=j*e[12]+a*e[13]+Y*e[14]+J*e[15];return new E(u,b,g,A)}dotCoordinate(i){return this.normal.x*i.x+this.normal.y*i.y+this.normal.z*i.z+this.d}copyFromPoints(i,x,e){const j=x.x-i.x,E=x.y-i.y,a=x.z-i.z,Y=e.x-i.x,J=e.y-i.y,u=e.z-i.z,b=E*u-a*J,g=a*Y-j*u,A=j*J-E*Y,K=Math.sqrt(b*b+g*g+A*A);let L;return L=0!==K?1/K:0,this.normal.x=b*L,this.normal.y=g*L,this.normal.z=A*L,this.d=-(this.normal.x*i.x+this.normal.y*i.y+this.normal.z*i.z),this}isFrontFacingTo(i,x){return j.KJ.Dot(this.normal,i)<=x}signedDistanceTo(i){return j.KJ.Dot(i,this.normal)+this.d}static zJ(i){return new E(i[0],i[1],i[2],i[3])}static FromPoints(i,x,e){const j=new E(0,0,0,0);return j.copyFromPoints(i,x,e),j}static FromPositionAndNormal(i,x){const e=new E(0,0,0,0);return this.FromPositionAndNormalToRef(i,x,e)}static FromPositionAndNormalToRef(i,x,e){return e.normal.A(x),e.normal.normalize(),e.d=-i.dot(e.normal),e}static SignedDistanceToPlaneFromPositionAndNormal(i,x,e){const E=-(x.x*i.x+x.y*i.y+x.z*i.z);return j.KJ.Dot(e,x)+E}}E._TmpMatrix=j.Matrix.Identity()},12275:(i,x,e)=>{e.d(x,{e:()=>j});class j{constructor(i,x){this.width=i,this.height=x}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let i=0|this.width;return i=397*i^this.height,i}A(i){this.width=i.width,this.height=i.height}fJ(i,x){return this.width=i,this.height=x,this}set(i,x){return this.fJ(i,x)}multiplyByFloats(i,x){return new j(this.width*i,this.height*x)}clone(){return new j(this.width,this.height)}equals(i){return!!i&&(this.width===i.width&&this.height===i.height)}get surface(){return this.width*this.height}static Zero(){return new j(0,0)}add(i){return new j(this.width+i.width,this.height+i.height)}Cx(i){return new j(this.width-i.width,this.height-i.height)}scale(i){return new j(this.width*i,this.height*i)}static Lerp(i,x,e){const E=i.width+(x.width-i.width)*e,a=i.height+(x.height-i.height)*e;return new j(E,a)}}},12241:(i,x,e)=>{e.d(x,{d:()=>a,f:()=>Y});const j={},E={};function a(i){const x=i.getClassName();return E[x]||(E[x]={}),E[x]}function Y(i){const x=i.getClassName();if(j[x])return j[x];j[x]={};const e=j[x];let a=i,Y=x;for(;Y;){const i=E[Y];for(const E in i)e[E]=i[E];let x,j=!1;do{if(x=Object.getPrototypeOf(a),!x.getClassName){j=!0;break}if(x.getClassName()!==Y)break;a=x}while(x);if(j)break;Y=x.getClassName(),a=x}return e}},12236:(i,x,e)=>{e.d(x,{D:()=>J,H:()=>g,L:()=>A,O:()=>Y,d:()=>a,f:()=>Q,i:()=>L,j:()=>u,n:()=>o,o:()=>b,r:()=>M,u:()=>T,w:()=>K,z:()=>z});var j=e(12241);function E(i,x){return(e,E)=>{const a=(0,j.d)(e);a[E]||(a[E]={type:i,sourceName:x})}}function a(i){return function(i){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(e,j)=>{const E=x||"_"+j;Object.defineProperty(e,j,{get:function(){return this[E]},set:function(x){var j;"function"===typeof(null===(j=this[E])||void 0===j?void 0:j.equals)&&this[E].equals(x)||this[E]!==x&&(this[E]=x,e[i].apply(this))},enumerable:!0,configurable:!0})}}(i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Y(i){return E(0,i)}function J(i){return E(1,i)}function u(i){return E(2,i)}function b(i){return E(3,i)}function g(i){return E(4,i)}function A(i){return E(5,i)}function K(i){return E(6,i)}function L(i){return E(7,i)}function o(i){return E(8,i)}function M(i){return E(9,i)}function z(i){return E(10,i)}function T(i){return E(12,i)}function Q(i,x,e,j){const E=e.value;e.value=function(){let e=E;if("undefined"!==typeof _native&&_native[x]){const i=_native[x];e=j?function(){return j(...arguments)?i(...arguments):E(...arguments)}:i}return i[x]=e,e(...arguments)}}Q.filter=function(i){return(x,e,j)=>Q(x,e,j,i)}},12278:(i,x,e)=>{e.d(x,{b:()=>b});var j=e(12092),E=e(12283),a=e(12286),Y=e(12250),J=e(12241);const u=function(i,x,e){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=i();E.c&&E.c.HasTags(x)&&E.c.AddTagsTo(a,E.c.GetTags(x,!0));const Y=(0,J.f)(a),u={};for(const E in Y){const i=Y[E],J=x[E],g=i.type;if(void 0!==J&&null!==J&&("uniqueId"!==E||b.AllowLoadingUniqueId))switch(g){case 0:case 6:case 9:case 11:a[E]=J;break;case 1:j.cloneTexturesOnlyOnce&&u[J.uniqueId]?a[E]=u[J.uniqueId]:(a[E]=e||J.isRenderTarget?J:J.clone(),u[J.uniqueId]=a[E]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:a[E]=e?J:J.clone()}}return a};class b{static AppendSerializedAnimations(i,x){if(i.animations){x.animations=[];for(let e=0;e<i.animations.length;e++){const j=i.animations[e];x.animations.push(j.serialize())}}}static Serialize(i,x){x||(x={}),E.c&&(x.tags=E.c.GetTags(i));const e=(0,J.f)(i);for(const j in e){const E=e[j],a=E.sourceName||j,Y=E.type,J=i[j];if(void 0!==J&&null!==J&&("uniqueId"!==j||b.AllowLoadingUniqueId))switch(Y){case 0:x[a]=J;break;case 1:case 3:case 7:case 9:x[a]=J.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:x[a]=J.de();break;case 6:case 11:x[a]=J.id}}return x}static ParseProperties(i,x,e,j){j||(j="");const E=(0,J.f)(x);for(const J in E){const u=E[J],g=i[u.sourceName||J],A=u.type;if(void 0!==g&&null!==g&&("uniqueId"!==J||b.AllowLoadingUniqueId)){const i=x;switch(A){case 0:i[J]=g;break;case 1:e&&(i[J]=b._TextureParser(g,e,j));break;case 2:i[J]=a.MJ.zJ(g);break;case 3:i[J]=b._FresnelParametersParser(g);break;case 4:i[J]=Y.Vector2.zJ(g);break;case 5:i[J]=Y.KJ.zJ(g);break;case 6:e&&(i[J]=e.getLastMeshById(g));break;case 7:i[J]=b._ColorCurvesParser(g);break;case 8:i[J]=a.lJ.zJ(g);break;case 9:i[J]=b._ImageProcessingConfigurationParser(g);break;case 10:i[J]=Y.Quaternion.zJ(g);break;case 11:e&&(i[J]=e.getCameraById(g));break;case 12:i[J]=Y.Matrix.zJ(g)}}}}static Parse(i,x,e){let j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=i();return E.c&&E.c.AddTagsTo(a,x.tags),b.ParseProperties(x,a,e,j),a}static Clone(i,x){return u(i,x,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(i,x){return u(i,x,!0)}}b.AllowLoadingUniqueId=!1,b._ImageProcessingConfigurationParser=i=>{throw(0,j.e)("ImageProcessingConfiguration")},b._FresnelParametersParser=i=>{throw(0,j.e)("FresnelParameters")},b._ColorCurvesParser=i=>{throw(0,j.e)("ColorCurves")},b._TextureParser=(i,x,e)=>{throw(0,j.e)("Texture")}},12283:(i,x,e)=>{e.d(x,{c:()=>E});class j{static Eval(i,x){return"true"===(i=i.match(/\([^()]*\)/g)?i.replace(/\([^()]*\)/g,(i=>(i=i.slice(1,i.length-1),j._HandleParenthesisContent(i,x)))):j._HandleParenthesisContent(i,x))||"false"!==i&&j.Eval(i,x)}static _HandleParenthesisContent(i,x){let e;x=x||(i=>"true"===i);const E=i.split("||");for(const a in E)if(Object.prototype.hasOwnProperty.call(E,a)){let i=j._SimplifyNegation(E[a].trim());const Y=i.split("&&");if(Y.length>1)for(let E=0;E<Y.length;++E){const a=j._SimplifyNegation(Y[E].trim());if(e="true"!==a&&"false"!==a?"!"===a[0]?!x(a.substring(1)):x(a):"true"===a,!e){i="false";break}}if(e||"true"===i){e=!0;break}e="true"!==i&&"false"!==i?"!"===i[0]?!x(i.substring(1)):x(i):"true"===i}return e?"true":"false"}static _SimplifyNegation(i){return"!true"===(i=(i=i.replace(/^[\s!]+/,(i=>(i=i.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?i="false":"!false"===i&&(i="true"),i}}class E{static EnableFor(i){i._tags=i._tags||{},i.hasTags=()=>E.HasTags(i),i.addTags=x=>E.AddTagsTo(i,x),i.removeTags=x=>E.RemoveTagsFrom(i,x),i.matchesTagsQuery=x=>E.MatchesQuery(i,x)}static DisableFor(i){delete i._tags,delete i.hasTags,delete i.addTags,delete i.removeTags,delete i.matchesTagsQuery}static HasTags(i){if(!i._tags)return!1;const x=i._tags;for(const e in x)if(Object.prototype.hasOwnProperty.call(x,e))return!0;return!1}static GetTags(i){let x=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!i._tags)return null;if(x){const x=[];for(const e in i._tags)Object.prototype.hasOwnProperty.call(i._tags,e)&&!0===i._tags[e]&&x.push(e);return x.join(" ")}return i._tags}static AddTagsTo(i,x){if(!x)return;if("string"!==typeof x)return;const e=x.split(" ");for(const j of e)E._AddTagTo(i,j)}static _AddTagTo(i,x){""!==(x=x.trim())&&"true"!==x&&"false"!==x&&(x.match(/[\s]/)||x.match(/^([!]|([|]|[&]){2})/)||(E.EnableFor(i),i._tags[x]=!0))}static RemoveTagsFrom(i,x){if(!E.HasTags(i))return;const e=x.split(" ");for(const j in e)E._RemoveTagFrom(i,e[j])}static _RemoveTagFrom(i,x){delete i._tags[x]}static MatchesQuery(i,x){return void 0===x||(""===x?E.HasTags(i):j.Eval(x,(x=>E.HasTags(i)&&i._tags[x])))}}},12234:(i,x,e)=>{e.d(x,{e:()=>j});function j(i,x,e,j){var E,a=arguments.length,Y=a<3?x:null===j?j=Object.getOwnPropertyDescriptor(x,e):j;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Y=Reflect.decorate(i,x,e,j);else for(var J=i.length-1;J>=0;J--)(E=i[J])&&(Y=(a<3?E(Y):a>3?E(x,e,Y):E(x,e))||Y);return a>3&&Y&&Object.defineProperty(x,e,Y),Y}Object.create;Object.create}}]);