"use strict";(self["9d4d30r2sf"]=self["9d4d30r2sf"]||[]).push([[13],{12564:(o,v,V)=>{V.d(v,{e:()=>g});let g=!1},12518:(o,v,V)=>{V.d(v,{b:()=>f});var g=V(12473),E=V(12479),I=V(12297),Q=V(12488),U=V(12339),n=V(12452),O=(V(12347),V(12526));class h{get wrapU(){return this._wrapU}set wrapU(o){this._wrapU=o}get wrapV(){return this._wrapV}set wrapV(o){this._wrapV=o}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(o){this._texture&&(this._texture.isCube=o)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(o){this._texture&&(this._texture.is3D=o)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(o){this._texture&&(this._texture.is2DArray=o)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(o){return void 0!==(null===o||void 0===o?void 0:o.shareDepth)}constructor(o){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=O.b.Zero(),this._cachedBaseSize=O.b.Zero(),this._initialSamplingMode=2,this._texture=h._IsRenderTargetWrapper(o)?o.texture:o,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(o){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(o,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var x=V(12535);class f extends h{set Kg(o){this._hasAlpha!==o&&(this._hasAlpha=o,this._scene&&this._scene.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))))}get Kg(){return this._hasAlpha}set getAlphaFromRGB(o){this._getAlphaFromRGB!==o&&(this._getAlphaFromRGB=o,this._scene&&this._scene.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(o){this._coordinatesIndex!==o&&(this._coordinatesIndex=o,this._scene&&this._scene.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(o){this._coordinatesMode!==o&&(this._coordinatesMode=o,this._scene&&this._scene.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(o){this._wrapU=o}get wrapV(){return this._wrapV}set wrapV(o){this._wrapV=o}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(o){this._texture?this._texture.isCube=o:this._isCube=o}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(o){this._texture&&(this._texture.is3D=o)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(o){this._texture&&(this._texture.is2DArray=o)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(o){var v;if(this._texture){if(this._texture._gammaSpace===o)return;this._texture._gammaSpace=o}else{if(this._gammaSpace===o)return;this._gammaSpace=o}null===(v=this.Fo())||void 0===v||v.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(o){var v;o!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=o),null===(v=this.Fo())||void 0===v||v.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(o){this._texture&&(this._texture._lodGenerationOffset=o)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(o){this._texture&&(this._texture._lodGenerationScale=o)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(o){this._texture&&(this._texture._linearSpecularLOD=o)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(o){this._texture&&(this._texture._irradianceTexture=o)}get uid(){return this._uid||(this._uid=(0,n.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(o){this._onDisposeObserver&&this.Tg.remove(this._onDisposeObserver),this._onDisposeObserver=this.Tg.add(o)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=f.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Tg=new I.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,o?f._IsScene(o)?this._scene=o:this._engine=o:this._scene=U.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=v,this._uid=null}Fo(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(o){}get canRescale(){return!1}_getFromCache(o,v,V,g,E,I){const Q=this._getEngine();if(!Q)return null;const U=Q._getUseSRGBBuffer(!!E,v),n=Q.getLoadedTexturesCache();for(let O=0;O<n.length;O++){const Q=n[O];if((void 0===E||U===Q._useSRGBBuffer)&&(void 0===g||g===Q.invertY)&&Q.url===o&&Q.generateMipMaps===!v&&(!V||V===Q.samplingMode)&&(void 0===I||I===Q.isCube))return Q.incrementReferences(),Q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const o=this.Fo();o&&o.markAllMaterialsAsDirty(1)}readPixels(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,U=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,n=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const O=this._getEngine();if(!O)return null;const h=this.getSize();let x=h.width,f=h.height;0!==v&&(x/=Math.pow(2,v),f/=Math.pow(2,v),x=Math.round(x),f=Math.round(f)),U=Math.min(x,U),n=Math.min(f,n);try{return this._texture.isCube?O._readTexturePixels(this._texture,U,n,o,v,V,g,E,I,Q):O._readTexturePixels(this._texture,U,n,-1,v,V,g,E,I,Q)}catch(l){return null}}_readPixelsSync(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const I=this.getSize();let Q=I.width,U=I.height;const n=this._getEngine();if(!n)return null;0!=v&&(Q/=Math.pow(2,v),U/=Math.pow(2,v),Q=Math.round(Q),U=Math.round(U));try{return this._texture.isCube?n._readTexturePixelsSync(this._texture,Q,U,o,v,V,g,E):n._readTexturePixelsSync(this._texture,Q,U,-1,v,V,g,E)}catch(O){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const o=this._scene.textures.indexOf(this);if(o>=0&&this._scene.textures.splice(o,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const o=this._parentContainer.textures.indexOf(this);o>-1&&this._parentContainer.textures.splice(o,1),this._parentContainer=null}}this.Tg.notifyObservers(this),this.Tg.clear(),this.metadata=null,super.dispose()}serialize(){let o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!o)return null;const v=x.c.Serialize(this);return x.c.AppendSerializedAnimations(this,v),v}static WhenAllReady(o,v){let V=o.length;if(0!==V)for(let g=0;g<o.length;g++){const E=o[g];if(E.isReady())0===--V&&v();else{const o=E.onLoadObservable;o?o.addOnce((()=>{0===--V&&v()})):0===--V&&v()}}else v()}static _IsScene(o){return"Scene"===o.getClassName()}}f.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,g.c)([(0,E.K)()],f.prototype,"uniqueId",void 0),(0,g.c)([(0,E.K)()],f.prototype,"name",void 0),(0,g.c)([(0,E.K)()],f.prototype,"displayName",void 0),(0,g.c)([(0,E.K)()],f.prototype,"metadata",void 0),(0,g.c)([(0,E.K)("Kg")],f.prototype,"_hasAlpha",void 0),(0,g.c)([(0,E.K)("getAlphaFromRGB")],f.prototype,"_getAlphaFromRGB",void 0),(0,g.c)([(0,E.K)()],f.prototype,"level",void 0),(0,g.c)([(0,E.K)("coordinatesIndex")],f.prototype,"_coordinatesIndex",void 0),(0,g.c)([(0,E.K)()],f.prototype,"optimizeUVAllocation",void 0),(0,g.c)([(0,E.K)("coordinatesMode")],f.prototype,"_coordinatesMode",void 0),(0,g.c)([(0,E.K)()],f.prototype,"wrapU",null),(0,g.c)([(0,E.K)()],f.prototype,"wrapV",null),(0,g.c)([(0,E.K)()],f.prototype,"wrapR",void 0),(0,g.c)([(0,E.K)()],f.prototype,"anisotropicFilteringLevel",void 0),(0,g.c)([(0,E.K)()],f.prototype,"isCube",null),(0,g.c)([(0,E.K)()],f.prototype,"is3D",null),(0,g.c)([(0,E.K)()],f.prototype,"is2DArray",null),(0,g.c)([(0,E.K)()],f.prototype,"gammaSpace",null),(0,g.c)([(0,E.K)()],f.prototype,"invertZ",void 0),(0,g.c)([(0,E.K)()],f.prototype,"lodLevelInAlpha",void 0),(0,g.c)([(0,E.K)()],f.prototype,"lodGenerationOffset",null),(0,g.c)([(0,E.K)()],f.prototype,"lodGenerationScale",null),(0,g.c)([(0,E.K)()],f.prototype,"linearSpecularLOD",null),(0,g.c)([(0,E.C)()],f.prototype,"irradianceTexture",null),(0,g.c)([(0,E.K)()],f.prototype,"isRenderTarget",void 0)},12471:(o,v,V)=>{V.d(v,{e:()=>t});var g=V(12473),E=V(12479),I=V(12297),Q=V(12488),U=V(12518),n=V(12449),O=V(12325),h=V(12374),x=V(12444),f=V(12556),l=V(12358);function S(o,v){let V=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const g=v.width,E=v.height;if(o instanceof Float32Array){let v=o.byteLength/o.BYTES_PER_ELEMENT;const V=new Uint8Array(v);for(;--v>=0;){let g=o[v];g<0?g=0:g>1&&(g=1),V[v]=255*g}o=V}const I=document.createElement("canvas");I.width=g,I.height=E;const Q=I.getContext("2d");if(!Q)return null;const U=Q.createImageData(g,E);if(U.data.set(o),Q.putImageData(U,0,0),V){const o=document.createElement("canvas");o.width=g,o.height=E;const v=o.getContext("2d");return v?(v.translate(0,E),v.scale(1,-1),v.drawImage(I,0,0),o.toDataURL("image/png")):null}return I.toDataURL("image/png")}function T(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const g=o.getInternalTexture();if(!g)return null;const E=o._readPixelsSync(v,V);return E?S(E,o.getSize(),g.invertY):null}async function c(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const g=o.getInternalTexture();if(!g)return null;const E=await o.readPixels(v,V);return E?S(E,o.getSize(),g.invertY):null}var R=V(12564),j=V(12535);class t extends U.b{static _CreateVideoTexture(o,v,V){arguments.length>5&&void 0!==arguments[5]||t.TRILINEAR_SAMPLINGMODE;throw(0,O.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(o){this._isBlocking=o}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(o,v,V,g){let E,Q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.TRILINEAR_SAMPLINGMODE,U=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,x=arguments.length>8&&void 0!==arguments[8]&&arguments[8],f=arguments.length>9?arguments[9]:void 0,l=arguments.length>10?arguments[10]:void 0,S=arguments.length>11?arguments[11]:void 0,T=arguments.length>12?arguments[12]:void 0,c=arguments.length>13?arguments[13]:void 0;super(v),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new I.e,this._isBlocking=!0,this.name=o||"",this.url=o;let j=!1,s=null,L=!0;"object"===typeof V&&null!==V?(E=V.noMipmap??!1,g=V.invertY??!R.e,Q=V.samplingMode??t.TRILINEAR_SAMPLINGMODE,U=V.C??null,n=V.onError??null,O=V.buffer??null,x=V.deleteBuffer??!1,f=V.format,l=V.mimeType,S=V.loaderOptions,T=V.creationFlags,j=V.useSRGBBuffer??!1,s=V.internalTexture??null,L=V.gammaSpace??L,c=V.forcedExtension??c):E=!!V,this._gammaSpace=L,this._noMipmap=E,this._invertY=void 0===g?!R.e:g,this._initialSamplingMode=Q,this._buffer=O,this._deleteBuffer=x,this._mimeType=l,this._loaderOptions=S,this._creationFlags=T,this._useSRGBBuffer=j,this._forcedExtension=c,void 0!==f&&(this._format=f);const b=this.Fo(),u=this._getEngine();if(!u)return;u.onBeforeTextureInitObservable.notifyObservers(this);const mo=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),U&&U(),!this.isBlocking&&b&&b.resetCachedMaterial()},a=(o,v)=>{this._loadingError=!0,this._errorObject={message:o,exception:v},n&&n(o,v),t.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!s)return this._delayedOnLoad=mo,void(this._delayedOnError=a);if(this._texture=s??this._getFromCache(this.url,E,Q,this._invertY,j,this.isCube),this._texture)if(this._texture.isReady)h.b.SetImmediate((()=>mo()));else{const o=this._texture.onLoadedObservable.add(mo);this._texture.onErrorObservable.add((v=>{var V;a(v.message,v.exception),null===(V=this._texture)||void 0===V||V.onLoadedObservable.remove(o)}))}else if(b&&b.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=mo,this._delayedOnError=a;else{try{this._texture=u.createTexture(this.url,E,this._invertY,b,Q,mo,a,this._buffer,void 0,this._format,this._forcedExtension,l,S,T,j)}catch(F){throw a("error loading",F),F}x&&(this._buffer=null)}}updateURL(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,V=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Fo().markAllMaterialsAsDirty(1,(o=>o.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=o),this.url=o,this._buffer=v,this._forcedExtension=g,this.delayLoadState=4,V&&(this._delayedOnLoad=V),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const o=this.Fo();o&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?h.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=o.getEngine().createTexture(this.url,this._noMipmap,this._invertY,o,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(o,v,V,g){o*=this._cachedUScale,v*=this._cachedVScale,o-=this.uRotationCenter*this._cachedUScale,v-=this.vRotationCenter*this._cachedVScale,V-=this.wRotationCenter,Q.cv.TransformCoordinatesFromFloatsToRef(o,v,V,this._rowGenerationMatrix,g),g.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,g.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,g.z+=this.wRotationCenter}getTextureMatrix(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*o===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*o,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Q.Matrix.Zero(),this._rowGenerationMatrix=new Q.Matrix,this._t0=Q.cv.Zero(),this._t1=Q.cv.Zero(),this._t2=Q.cv.Zero()),Q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Q.TmpVectors.Matrix[0]),Q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Q.TmpVectors.Matrix[1]),Q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Q.TmpVectors.Matrix[2]),Q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Q.TmpVectors.Matrix[3]),Q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Lx(this._t0),this._t2.Lx(this._t0),Q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const v=this.Fo();if(!v)return this._cachedTextureMatrix;const V=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&V!==this._cachedIdentity3x2&&v.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const o=this.Fo();if(!o)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==t.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===o.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Q.Matrix.Zero());const v=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case t.PLANAR_MODE:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case t.PROJECTION_MODE:{Q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const v=o.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=v.updateFlag,v.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return v&&o.markAllMaterialsAsDirty(1,(o=>o.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const o={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,C:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return j.c.Clone((()=>new t(this._texture?this._texture.url:null,this.Fo(),o)),this)}serialize(){var o;const v=this.name;t.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const V=super.serialize(t._SerializeInternalTextureUniqueId);if(!V)return null;if(t.SerializeBuffers||t.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))V.base64String=this._buffer,V.name=V.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const o=this.mimeType||"image/png";V.base64String=`data:${o};base64,${(0,l.h)(this._buffer)}`}else(t.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(V.base64String=!this._engine||this._engine._features.supportSyncTextureRead?T(this):c(this));var g;(V.invertY=this._invertY,V.samplingMode=this.samplingMode,V._creationFlags=this._creationFlags,V._useSRGBBuffer=this._useSRGBBuffer,t._SerializeInternalTextureUniqueId)&&(V.internalTextureUniqueId=null===(g=this._texture)||void 0===g?void 0:g.uniqueId);return V.internalTextureLabel=null===(o=this._texture)||void 0===o?void 0:o.label,V.noMipmap=this._noMipmap,this.name=v,V}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(o,v,V){if(o.customType){const g=x.d.Instantiate(o.customType).Parse(o,v,V);return o.samplingMode&&g.updateSamplingMode&&g._samplingMode&&g._samplingMode!==o.samplingMode&&g.updateSamplingMode(o.samplingMode),g}if(o.isCube&&!o.isRenderTarget)return t._CubeTextureParser(o,v,V);const g=void 0!==o.internalTextureUniqueId;if(!o.name&&!o.isRenderTarget&&!g)return null;let E;if(g){const V=v.getEngine().getLoadedTexturesCache();for(const v of V)if(v.uniqueId===o.internalTextureUniqueId){E=v;break}}const I=v=>{if(v&&v._texture&&(v._texture._cachedWrapU=null,v._texture._cachedWrapV=null,v._texture._cachedWrapR=null),o.samplingMode){const V=o.samplingMode;v&&v.samplingMode!==V&&v.updateSamplingMode(V)}if(v&&o.animations)for(let V=0;V<o.animations.length;V++){const g=o.animations[V],E=(0,n.d)("BABYLON.Animation");E&&v.animations.push(E.Parse(g))}v&&v._texture&&(g&&!E&&v._texture._setUniqueId(o.internalTextureUniqueId),v._texture.label=o.internalTextureLabel)};return j.c.Parse((()=>{let g=!0;if(o.noMipmap&&(g=!1),o.mirrorPlane){const V=t._CreateMirror(o.name,o.renderTargetSize,v,g);return V._waitingRenderList=o.renderList,V.mirrorPlane=f.c.bv(o.mirrorPlane),I(V),V}if(o.isRenderTarget){let V=null;if(o.isCube){if(v.reflectionProbes)for(let g=0;g<v.reflectionProbes.length;g++){const V=v.reflectionProbes[g];if(V.name===o.name)return V.cubeTexture}}else V=t._CreateRenderTargetTexture(o.name,o.renderTargetSize,v,g,o._creationFlags??0),V._waitingRenderList=o.renderList;return I(V),V}if(o.isVideo){const E=t._CreateVideoTexture(V+(o.url||o.name),V+(o.src||o.url),v,g,o.invertY,o.samplingMode,o.settings||{});return I(E),E}{let Q;if(o.base64String&&!E)Q=t.CreateFromBase64String(o.base64String,o.base64String,v,!g,o.invertY,o.samplingMode,(()=>{I(Q)}),o._creationFlags??0,o._useSRGBBuffer??!1),Q.name=o.name;else{let U;U=o.name&&(o.name.indexOf("://")>0||o.name.startsWith("data:"))?o.name:V+o.name,o.url&&(o.url.startsWith("data:")||t.UseSerializedUrlIfAny)&&(U=o.url);const n={noMipmap:!g,invertY:o.invertY,samplingMode:o.samplingMode,C:()=>{I(Q)},internalTexture:E};Q=new t(U,v,n)}return Q}}),o,v)}static CreateFromBase64String(o,v,V,g,E){let I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.TRILINEAR_SAMPLINGMODE;return new t("data:"+v,V,g,E,I,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(o,v,V){let g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=arguments.length>4?arguments[4]:void 0,I=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t.TRILINEAR_SAMPLINGMODE,U=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,n=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,O=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,h=arguments.length>10?arguments[10]:void 0,x=arguments.length>11?arguments[11]:void 0;return"data:"!==o.substring(0,5)&&(o="data:"+o),new t(o,V,E,I,Q,U,n,v,g,O,void 0,void 0,h,x)}}t.SerializeBuffers=!0,t.ForceSerializeBuffers=!1,t.OnTextureLoadErrorObservable=new I.e,t._SerializeInternalTextureUniqueId=!1,t._CubeTextureParser=(o,v,V)=>{throw(0,O.b)("CubeTexture")},t._CreateMirror=(o,v,V,g)=>{throw(0,O.b)("MirrorTexture")},t._CreateRenderTargetTexture=(o,v,V,g,E)=>{throw(0,O.b)("RenderTargetTexture")},t.NEAREST_SAMPLINGMODE=1,t.NEAREST_NEAREST_MIPLINEAR=8,t.BILINEAR_SAMPLINGMODE=2,t.LINEAR_LINEAR_MIPNEAREST=11,t.TRILINEAR_SAMPLINGMODE=3,t.LINEAR_LINEAR_MIPLINEAR=3,t.NEAREST_NEAREST_MIPNEAREST=4,t.NEAREST_LINEAR_MIPNEAREST=5,t.NEAREST_LINEAR_MIPLINEAR=6,t.NEAREST_LINEAR=7,t.NEAREST_NEAREST=1,t.LINEAR_NEAREST_MIPNEAREST=9,t.LINEAR_NEAREST_MIPLINEAR=10,t.LINEAR_LINEAR=2,t.LINEAR_NEAREST=12,t.EXPLICIT_MODE=0,t.SPHERICAL_MODE=1,t.PLANAR_MODE=2,t.CUBIC_MODE=3,t.PROJECTION_MODE=4,t.SKYBOX_MODE=5,t.INVCUBIC_MODE=6,t.EQUIRECTANGULAR_MODE=7,t.FIXED_EQUIRECTANGULAR_MODE=8,t.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,t.CLAMP_ADDRESSMODE=0,t.WRAP_ADDRESSMODE=1,t.MIRROR_ADDRESSMODE=2,t.UseSerializedUrlIfAny=!1,(0,g.c)([(0,E.K)()],t.prototype,"url",void 0),(0,g.c)([(0,E.K)()],t.prototype,"uOffset",void 0),(0,g.c)([(0,E.K)()],t.prototype,"vOffset",void 0),(0,g.c)([(0,E.K)()],t.prototype,"uScale",void 0),(0,g.c)([(0,E.K)()],t.prototype,"vScale",void 0),(0,g.c)([(0,E.K)()],t.prototype,"uAng",void 0),(0,g.c)([(0,E.K)()],t.prototype,"vAng",void 0),(0,g.c)([(0,E.K)()],t.prototype,"wAng",void 0),(0,g.c)([(0,E.K)()],t.prototype,"uRotationCenter",void 0),(0,g.c)([(0,E.K)()],t.prototype,"vRotationCenter",void 0),(0,g.c)([(0,E.K)()],t.prototype,"wRotationCenter",void 0),(0,g.c)([(0,E.K)()],t.prototype,"homogeneousRotationInUVTransform",void 0),(0,g.c)([(0,E.K)()],t.prototype,"isBlocking",null),(0,n.h)("BABYLON.Texture",t),j.c._TextureParser=t.Parse},12556:(o,v,V)=>{V.d(v,{c:()=>E});var g=V(12488);class E{constructor(o,v,V,E){this.normal=new g.cv(o,v,V),this.d=E}Dg(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new E(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let o=this.normal.getHashCode();return o=397*o^this.d,o}normalize(){const o=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let v=0;return 0!==o&&(v=1/o),this.normal.x*=v,this.normal.y*=v,this.normal.z*=v,this.d*=v,this}transform(o){const v=E._TmpMatrix;o.invertToRef(v);const V=v.m,g=this.normal.x,I=this.normal.y,Q=this.normal.z,U=this.d,n=g*V[0]+I*V[1]+Q*V[2]+U*V[3],O=g*V[4]+I*V[5]+Q*V[6]+U*V[7],h=g*V[8]+I*V[9]+Q*V[10]+U*V[11],x=g*V[12]+I*V[13]+Q*V[14]+U*V[15];return new E(n,O,h,x)}dotCoordinate(o){return this.normal.x*o.x+this.normal.y*o.y+this.normal.z*o.z+this.d}copyFromPoints(o,v,V){const g=v.x-o.x,E=v.y-o.y,I=v.z-o.z,Q=V.x-o.x,U=V.y-o.y,n=V.z-o.z,O=E*n-I*U,h=I*Q-g*n,x=g*U-E*Q,f=Math.sqrt(O*O+h*h+x*x);let l;return l=0!==f?1/f:0,this.normal.x=O*l,this.normal.y=h*l,this.normal.z=x*l,this.d=-(this.normal.x*o.x+this.normal.y*o.y+this.normal.z*o.z),this}isFrontFacingTo(o,v){return g.cv.Dot(this.normal,o)<=v}signedDistanceTo(o){return g.cv.Dot(o,this.normal)+this.d}static bv(o){return new E(o[0],o[1],o[2],o[3])}static FromPoints(o,v,V){const g=new E(0,0,0,0);return g.copyFromPoints(o,v,V),g}static FromPositionAndNormal(o,v){const V=new E(0,0,0,0);return this.FromPositionAndNormalToRef(o,v,V)}static FromPositionAndNormalToRef(o,v,V){return V.normal.U(v),V.normal.normalize(),V.d=-o.dot(V.normal),V}static SignedDistanceToPlaneFromPositionAndNormal(o,v,V){const E=-(v.x*o.x+v.y*o.y+v.z*o.z);return g.cv.Dot(V,v)+E}}E._TmpMatrix=g.Matrix.Identity()},12526:(o,v,V)=>{V.d(v,{b:()=>g});class g{constructor(o,v){this.width=o,this.height=v}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let o=0|this.width;return o=397*o^this.height,o}U(o){this.width=o.width,this.height=o.height}RU(o,v){return this.width=o,this.height=v,this}set(o,v){return this.RU(o,v)}multiplyByFloats(o,v){return new g(this.width*o,this.height*v)}clone(){return new g(this.width,this.height)}equals(o){return!!o&&(this.width===o.width&&this.height===o.height)}get surface(){return this.width*this.height}static Zero(){return new g(0,0)}add(o){return new g(this.width+o.width,this.height+o.height)}Rv(o){return new g(this.width-o.width,this.height-o.height)}scale(o){return new g(this.width*o,this.height*o)}static Lerp(o,v,V){const E=o.width+(v.width-o.width)*V,I=o.height+(v.height-o.height)*V;return new g(E,I)}}},12484:(o,v,V)=>{V.d(v,{d:()=>I,e:()=>Q});const g={},E={};function I(o){const v=o.getClassName();return E[v]||(E[v]={}),E[v]}function Q(o){const v=o.getClassName();if(g[v])return g[v];g[v]={};const V=g[v];let I=o,Q=v;for(;Q;){const o=E[Q];for(const E in o)V[E]=o[E];let v,g=!1;do{if(v=Object.getPrototypeOf(I),!v.getClassName){g=!0;break}if(v.getClassName()!==Q)break;I=v}while(v);if(g)break;Q=v.getClassName(),I=v}return V}},12479:(o,v,V)=>{V.d(v,{A:()=>c,C:()=>U,E:()=>h,G:()=>x,K:()=>Q,d:()=>I,g:()=>j,j:()=>l,m:()=>n,o:()=>S,p:()=>O,s:()=>T,u:()=>R,y:()=>f});var g=V(12484);function E(o,v){return(V,E)=>{const I=(0,g.d)(V);I[E]||(I[E]={type:o,sourceName:v})}}function I(o){return function(o){let v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(V,g)=>{const E=v||"_"+g;Object.defineProperty(V,g,{get:function(){return this[E]},set:function(v){var g;"function"===typeof(null===(g=this[E])||void 0===g?void 0:g.equals)&&this[E].equals(v)||this[E]!==v&&(this[E]=v,V[o].apply(this))},enumerable:!0,configurable:!0})}}(o,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Q(o){return E(0,o)}function U(o){return E(1,o)}function n(o){return E(2,o)}function O(o){return E(3,o)}function h(o){return E(4,o)}function x(o){return E(5,o)}function f(o){return E(6,o)}function l(o){return E(7,o)}function S(o){return E(8,o)}function T(o){return E(9,o)}function c(o){return E(10,o)}function R(o){return E(12,o)}function j(o,v,V,g){const E=V.value;V.value=function(){let V=E;if("undefined"!==typeof _native&&_native[v]){const o=_native[v];V=g?function(){return g(...arguments)?o(...arguments):E(...arguments)}:o}return o[v]=V,V(...arguments)}}j.filter=function(o){return(v,V,g)=>j(v,V,g,o)}},12535:(o,v,V)=>{V.d(v,{c:()=>O});var g=V(12325),E=V(12538),I=V(12547),Q=V(12488),U=V(12484);const n=function(o,v,V){let g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const I=o();E.e&&E.e.HasTags(v)&&E.e.AddTagsTo(I,E.e.GetTags(v,!0));const Q=(0,U.e)(I),n={};for(const E in Q){const o=Q[E],U=v[E],h=o.type;if(void 0!==U&&null!==U&&("uniqueId"!==E||O.AllowLoadingUniqueId))switch(h){case 0:case 6:case 9:case 11:I[E]=U;break;case 1:g.cloneTexturesOnlyOnce&&n[U.uniqueId]?I[E]=n[U.uniqueId]:(I[E]=V||U.isRenderTarget?U:U.clone(),n[U.uniqueId]=I[E]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:I[E]=V?U:U.clone()}}return I};class O{static AppendSerializedAnimations(o,v){if(o.animations){v.animations=[];for(let V=0;V<o.animations.length;V++){const g=o.animations[V];v.animations.push(g.serialize())}}}static Serialize(o,v){v||(v={}),E.e&&(v.tags=E.e.GetTags(o));const V=(0,U.e)(o);for(const g in V){const E=V[g],I=E.sourceName||g,Q=E.type,U=o[g];if(void 0!==U&&null!==U&&("uniqueId"!==g||O.AllowLoadingUniqueId))switch(Q){case 0:v[I]=U;break;case 1:case 3:case 7:case 9:v[I]=U.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:v[I]=U.Dg();break;case 6:case 11:v[I]=U.id}}return v}static ParseProperties(o,v,V,g){g||(g="");const E=(0,U.e)(v);for(const U in E){const n=E[U],h=o[n.sourceName||U],x=n.type;if(void 0!==h&&null!==h&&("uniqueId"!==U||O.AllowLoadingUniqueId)){const o=v;switch(x){case 0:o[U]=h;break;case 1:V&&(o[U]=O._TextureParser(h,V,g));break;case 2:o[U]=I.Lv.bv(h);break;case 3:o[U]=O._FresnelParametersParser(h);break;case 4:o[U]=Q.Vector2.bv(h);break;case 5:o[U]=Q.cv.bv(h);break;case 6:V&&(o[U]=V.getLastMeshById(h));break;case 7:o[U]=O._ColorCurvesParser(h);break;case 8:o[U]=I.sU.bv(h);break;case 9:o[U]=O._ImageProcessingConfigurationParser(h);break;case 10:o[U]=Q.Quaternion.bv(h);break;case 11:V&&(o[U]=V.getCameraById(h));break;case 12:o[U]=Q.Matrix.bv(h)}}}}static Parse(o,v,V){let g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const I=o();return E.e&&E.e.AddTagsTo(I,v.tags),O.ParseProperties(v,I,V,g),I}static Clone(o,v){return n(o,v,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(o,v){return n(o,v,!0)}}O.AllowLoadingUniqueId=!1,O._ImageProcessingConfigurationParser=o=>{throw(0,g.b)("ImageProcessingConfiguration")},O._FresnelParametersParser=o=>{throw(0,g.b)("FresnelParameters")},O._ColorCurvesParser=o=>{throw(0,g.b)("ColorCurves")},O._TextureParser=(o,v,V)=>{throw(0,g.b)("Texture")}},12538:(o,v,V)=>{V.d(v,{e:()=>E});class g{static Eval(o,v){return"true"===(o=o.match(/\([^()]*\)/g)?o.replace(/\([^()]*\)/g,(o=>(o=o.slice(1,o.length-1),g._HandleParenthesisContent(o,v)))):g._HandleParenthesisContent(o,v))||"false"!==o&&g.Eval(o,v)}static _HandleParenthesisContent(o,v){let V;v=v||(o=>"true"===o);const E=o.split("||");for(const I in E)if(Object.prototype.hasOwnProperty.call(E,I)){let o=g._SimplifyNegation(E[I].trim());const Q=o.split("&&");if(Q.length>1)for(let E=0;E<Q.length;++E){const I=g._SimplifyNegation(Q[E].trim());if(V="true"!==I&&"false"!==I?"!"===I[0]?!v(I.substring(1)):v(I):"true"===I,!V){o="false";break}}if(V||"true"===o){V=!0;break}V="true"!==o&&"false"!==o?"!"===o[0]?!v(o.substring(1)):v(o):"true"===o}return V?"true":"false"}static _SimplifyNegation(o){return"!true"===(o=(o=o.replace(/^[\s!]+/,(o=>(o=o.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?o="false":"!false"===o&&(o="true"),o}}class E{static EnableFor(o){o._tags=o._tags||{},o.hasTags=()=>E.HasTags(o),o.addTags=v=>E.AddTagsTo(o,v),o.removeTags=v=>E.RemoveTagsFrom(o,v),o.matchesTagsQuery=v=>E.MatchesQuery(o,v)}static DisableFor(o){delete o._tags,delete o.hasTags,delete o.addTags,delete o.removeTags,delete o.matchesTagsQuery}static HasTags(o){if(!o._tags)return!1;const v=o._tags;for(const V in v)if(Object.prototype.hasOwnProperty.call(v,V))return!0;return!1}static GetTags(o){let v=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!o._tags)return null;if(v){const v=[];for(const V in o._tags)Object.prototype.hasOwnProperty.call(o._tags,V)&&!0===o._tags[V]&&v.push(V);return v.join(" ")}return o._tags}static AddTagsTo(o,v){if(!v)return;if("string"!==typeof v)return;const V=v.split(" ");for(const g of V)E._AddTagTo(o,g)}static _AddTagTo(o,v){""!==(v=v.trim())&&"true"!==v&&"false"!==v&&(v.match(/[\s]/)||v.match(/^([!]|([|]|[&]){2})/)||(E.EnableFor(o),o._tags[v]=!0))}static RemoveTagsFrom(o,v){if(!E.HasTags(o))return;const V=v.split(" ");for(const g in V)E._RemoveTagFrom(o,V[g])}static _RemoveTagFrom(o,v){delete o._tags[v]}static MatchesQuery(o,v){return void 0===v||(""===v?E.HasTags(o):g.Eval(v,(v=>E.HasTags(o)&&o._tags[v])))}}},12473:(o,v,V)=>{V.d(v,{c:()=>g});function g(o,v,V,g){var E,I=arguments.length,Q=I<3?v:null===g?g=Object.getOwnPropertyDescriptor(v,V):g;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Q=Reflect.decorate(o,v,V,g);else for(var U=o.length-1;U>=0;U--)(E=o[U])&&(Q=(I<3?E(Q):I>3?E(v,V,Q):E(v,V))||Q);return I>3&&Q&&Object.defineProperty(v,V,Q),Q}Object.create;Object.create}}]);