"use strict";(self.fkqm0epoq5=self.fkqm0epoq5||[]).push([[13],{11768:(D,l,G)=>{G.d(l,{e:()=>V});let V=!1},11732:(D,l,G)=>{G.d(l,{c:()=>j});var V=G(11695),N=G(11703),M=G(11532),b=G(11710),X=G(11571),t=G(11672),R=(G(11573),G(11734));class n{get wrapU(){return this._wrapU}set wrapU(D){this._wrapU=D}get wrapV(){return this._wrapV}set wrapV(D){this._wrapV=D}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(D){this._texture&&(this._texture.isCube=D)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(D){this._texture&&(this._texture.is3D=D)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(D){this._texture&&(this._texture.is2DArray=D)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(D){return void 0!==(null===D||void 0===D?void 0:D.shareDepth)}constructor(D){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=R.d.Zero(),this._cachedBaseSize=R.d.Zero(),this._initialSamplingMode=2,this._texture=n._IsRenderTargetWrapper(D)?D.texture:D,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(D){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(D,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var g=G(11739);class j extends n{set eb(D){this._hasAlpha!==D&&(this._hasAlpha=D,this._scene&&this._scene.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))))}get eb(){return this._hasAlpha}set getAlphaFromRGB(D){this._getAlphaFromRGB!==D&&(this._getAlphaFromRGB=D,this._scene&&this._scene.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(D){this._coordinatesIndex!==D&&(this._coordinatesIndex=D,this._scene&&this._scene.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(D){this._coordinatesMode!==D&&(this._coordinatesMode=D,this._scene&&this._scene.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(D){this._wrapU=D}get wrapV(){return this._wrapV}set wrapV(D){this._wrapV=D}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(D){this._texture?this._texture.isCube=D:this._isCube=D}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(D){this._texture&&(this._texture.is3D=D)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(D){this._texture&&(this._texture.is2DArray=D)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(D){var l;if(this._texture){if(this._texture._gammaSpace===D)return;this._texture._gammaSpace=D}else{if(this._gammaSpace===D)return;this._gammaSpace=D}null===(l=this.uD())||void 0===l||l.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(D){var l;D!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=D),null===(l=this.uD())||void 0===l||l.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(D){this._texture&&(this._texture._lodGenerationOffset=D)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(D){this._texture&&(this._texture._lodGenerationScale=D)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(D){this._texture&&(this._texture._linearSpecularLOD=D)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(D){this._texture&&(this._texture._irradianceTexture=D)}get uid(){return this._uid||(this._uid=(0,t.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(D){this._onDisposeObserver&&this.Vb.remove(this._onDisposeObserver),this._onDisposeObserver=this.Vb.add(D)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Vb=new M.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,D?j._IsScene(D)?this._scene=D:this._engine=D:this._scene=X.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=l,this._uid=null}uD(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return b.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return b.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(D){}get canRescale(){return!1}_getFromCache(D,l,G,V,N,M){const b=this._getEngine();if(!b)return null;const X=b._getUseSRGBBuffer(!!N,l),t=b.getLoadedTexturesCache();for(let R=0;R<t.length;R++){const b=t[R];if((void 0===N||X===b._useSRGBBuffer)&&(void 0===V||V===b.invertY)&&b.url===D&&b.generateMipMaps===!l&&(!G||G===b.samplingMode)&&(void 0===M||M===b.isCube))return b.incrementReferences(),b}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const D=this.uD();D&&D.markAllMaterialsAsDirty(1)}readPixels(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=arguments.length>4&&void 0!==arguments[4]&&arguments[4],M=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,t=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const R=this._getEngine();if(!R)return null;const n=this.getSize();let g=n.width,j=n.height;0!==l&&(g/=Math.pow(2,l),j/=Math.pow(2,l),g=Math.round(g),j=Math.round(j)),X=Math.min(g,X),t=Math.min(j,t);try{return this._texture.isCube?R._readTexturePixels(this._texture,X,t,D,l,G,V,N,M,b):R._readTexturePixels(this._texture,X,t,-1,l,G,V,N,M,b)}catch(e){return null}}_readPixelsSync(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],N=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const M=this.getSize();let b=M.width,X=M.height;const t=this._getEngine();if(!t)return null;0!=l&&(b/=Math.pow(2,l),X/=Math.pow(2,l),b=Math.round(b),X=Math.round(X));try{return this._texture.isCube?t._readTexturePixelsSync(this._texture,b,X,D,l,G,V,N):t._readTexturePixelsSync(this._texture,b,X,-1,l,G,V,N)}catch(R){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const D=this._scene.textures.indexOf(this);if(D>=0&&this._scene.textures.splice(D,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const D=this._parentContainer.textures.indexOf(this);D>-1&&this._parentContainer.textures.splice(D,1),this._parentContainer=null}}this.Vb.notifyObservers(this),this.Vb.clear(),this.metadata=null,super.dispose()}serialize(){let D=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!D)return null;const l=g.c.Serialize(this);return g.c.AppendSerializedAnimations(this,l),l}static WhenAllReady(D,l){let G=D.length;if(0!==G)for(let V=0;V<D.length;V++){const N=D[V];if(N.isReady())0===--G&&l();else{const D=N.onLoadObservable;D?D.addOnce((()=>{0===--G&&l()})):0===--G&&l()}}else l()}static _IsScene(D){return"Scene"===D.getClassName()}}j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,V.b)([(0,N.L)()],j.prototype,"uniqueId",void 0),(0,V.b)([(0,N.L)()],j.prototype,"name",void 0),(0,V.b)([(0,N.L)()],j.prototype,"displayName",void 0),(0,V.b)([(0,N.L)()],j.prototype,"metadata",void 0),(0,V.b)([(0,N.L)("eb")],j.prototype,"_hasAlpha",void 0),(0,V.b)([(0,N.L)("getAlphaFromRGB")],j.prototype,"_getAlphaFromRGB",void 0),(0,V.b)([(0,N.L)()],j.prototype,"level",void 0),(0,V.b)([(0,N.L)("coordinatesIndex")],j.prototype,"_coordinatesIndex",void 0),(0,V.b)([(0,N.L)()],j.prototype,"optimizeUVAllocation",void 0),(0,V.b)([(0,N.L)("coordinatesMode")],j.prototype,"_coordinatesMode",void 0),(0,V.b)([(0,N.L)()],j.prototype,"wrapU",null),(0,V.b)([(0,N.L)()],j.prototype,"wrapV",null),(0,V.b)([(0,N.L)()],j.prototype,"wrapR",void 0),(0,V.b)([(0,N.L)()],j.prototype,"anisotropicFilteringLevel",void 0),(0,V.b)([(0,N.L)()],j.prototype,"isCube",null),(0,V.b)([(0,N.L)()],j.prototype,"is3D",null),(0,V.b)([(0,N.L)()],j.prototype,"is2DArray",null),(0,V.b)([(0,N.L)()],j.prototype,"gammaSpace",null),(0,V.b)([(0,N.L)()],j.prototype,"invertZ",void 0),(0,V.b)([(0,N.L)()],j.prototype,"lodLevelInAlpha",void 0),(0,V.b)([(0,N.L)()],j.prototype,"lodGenerationOffset",null),(0,V.b)([(0,N.L)()],j.prototype,"lodGenerationScale",null),(0,V.b)([(0,N.L)()],j.prototype,"linearSpecularLOD",null),(0,V.b)([(0,N.B)()],j.prototype,"irradianceTexture",null),(0,V.b)([(0,N.L)()],j.prototype,"isRenderTarget",void 0)},11686:(D,l,G)=>{G.d(l,{b:()=>x});var V=G(11695),N=G(11703),M=G(11532),b=G(11710),X=G(11732),t=G(11667),R=G(11563),n=G(11609),g=G(11661),j=G(11759),e=G(11587);function K(D,l){let G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const V=l.width,N=l.height;if(D instanceof Float32Array){let l=D.byteLength/D.BYTES_PER_ELEMENT;const G=new Uint8Array(l);for(;--l>=0;){let V=D[l];V<0?V=0:V>1&&(V=1),G[l]=255*V}D=G}const M=document.createElement("canvas");M.width=V,M.height=N;const b=M.getContext("2d");if(!b)return null;const X=b.createImageData(V,N);if(X.data.set(D),b.putImageData(X,0,0),G){const D=document.createElement("canvas");D.width=V,D.height=N;const l=D.getContext("2d");return l?(l.translate(0,N),l.scale(1,-1),l.drawImage(M,0,0),D.toDataURL("image/png")):null}return M.toDataURL("image/png")}function F(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const V=D.getInternalTexture();if(!V)return null;const N=D._readPixelsSync(l,G);return N?K(N,D.getSize(),V.invertY):null}async function d(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const V=D.getInternalTexture();if(!V)return null;const N=await D.readPixels(l,G);return N?K(N,D.getSize(),V.invertY):null}var H=G(11768),h=G(11739);class x extends X.c{static _CreateVideoTexture(D,l,G){arguments.length>5&&void 0!==arguments[5]||x.TRILINEAR_SAMPLINGMODE;throw(0,R.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(D){this._isBlocking=D}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(D,l,G,V){let N,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x.TRILINEAR_SAMPLINGMODE,X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,t=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,R=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g=arguments.length>8&&void 0!==arguments[8]&&arguments[8],j=arguments.length>9?arguments[9]:void 0,e=arguments.length>10?arguments[10]:void 0,K=arguments.length>11?arguments[11]:void 0,F=arguments.length>12?arguments[12]:void 0,d=arguments.length>13?arguments[13]:void 0;super(l),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new M.e,this._isBlocking=!0,this.name=D||"",this.url=D;let h=!1,r=null,o=!0;"object"===typeof G&&null!==G?(N=G.noMipmap??!1,V=G.invertY??!H.e,b=G.samplingMode??x.TRILINEAR_SAMPLINGMODE,X=G.T??null,t=G.onError??null,R=G.buffer??null,g=G.deleteBuffer??!1,j=G.format,e=G.mimeType,K=G.loaderOptions,F=G.creationFlags,h=G.useSRGBBuffer??!1,r=G.internalTexture??null,o=G.gammaSpace??o,d=G.forcedExtension??d):N=!!G,this._gammaSpace=o,this._noMipmap=N,this._invertY=void 0===V?!H.e:V,this._initialSamplingMode=b,this._buffer=R,this._deleteBuffer=g,this._mimeType=e,this._loaderOptions=K,this._creationFlags=F,this._useSRGBBuffer=h,this._forcedExtension=d,void 0!==j&&(this._format=j);const L=this.uD(),u=this._getEngine();if(!u)return;u.onBeforeTextureInitObservable.notifyObservers(this);const B=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),X&&X(),!this.isBlocking&&L&&L.resetCachedMaterial()},I=(D,l)=>{this._loadingError=!0,this._errorObject={message:D,exception:l},t&&t(D,l),x.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!r)return this._delayedOnLoad=B,void(this._delayedOnError=I);if(this._texture=r??this._getFromCache(this.url,N,b,this._invertY,h,this.isCube),this._texture)if(this._texture.isReady)n.d.SetImmediate((()=>B()));else{const D=this._texture.onLoadedObservable.add(B);this._texture.onErrorObservable.add((l=>{var G;I(l.message,l.exception),null===(G=this._texture)||void 0===G||G.onLoadedObservable.remove(D)}))}else if(L&&L.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=B,this._delayedOnError=I;else{try{this._texture=u.createTexture(this.url,N,this._invertY,L,b,B,I,this._buffer,void 0,this._format,this._forcedExtension,e,K,F,h)}catch(W){throw I("error loading",W),W}g&&(this._buffer=null)}}updateURL(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,G=arguments.length>2?arguments[2]:void 0,V=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.uD().markAllMaterialsAsDirty(1,(D=>D.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=D),this.url=D,this._buffer=l,this._forcedExtension=V,this.delayLoadState=4,G&&(this._delayedOnLoad=G),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const D=this.uD();D&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?n.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=D.getEngine().createTexture(this.url,this._noMipmap,this._invertY,D,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(D,l,G,V){D*=this._cachedUScale,l*=this._cachedVScale,D-=this.uRotationCenter*this._cachedUScale,l-=this.vRotationCenter*this._cachedVScale,G-=this.wRotationCenter,b.Kl.TransformCoordinatesFromFloatsToRef(D,l,G,this._rowGenerationMatrix,V),V.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,V.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,V.z+=this.wRotationCenter}getTextureMatrix(){let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*D===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*D,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=b.Matrix.Zero(),this._rowGenerationMatrix=new b.Matrix,this._t0=b.Kl.Zero(),this._t1=b.Kl.Zero(),this._t2=b.Kl.Zero()),b.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(b.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,b.TmpVectors.Matrix[0]),b.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,b.TmpVectors.Matrix[1]),b.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,b.TmpVectors.Matrix[2]),b.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,b.TmpVectors.Matrix[3]),b.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Kg(this._t0),this._t2.Kg(this._t0),b.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const l=this.uD();if(!l)return this._cachedTextureMatrix;const G=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&G!==this._cachedIdentity3x2&&l.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const D=this.uD();if(!D)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==x.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===D.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=b.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=b.Matrix.Zero());const l=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case x.PLANAR_MODE:b.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case x.PROJECTION_MODE:{b.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const l=D.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=l.updateFlag,l.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:b.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return l&&D.markAllMaterialsAsDirty(1,(D=>D.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const D={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,T:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return h.c.Clone((()=>new x(this._texture?this._texture.url:null,this.uD(),D)),this)}serialize(){var D;const l=this.name;x.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const G=super.serialize(x._SerializeInternalTextureUniqueId);if(!G)return null;if(x.SerializeBuffers||x.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))G.base64String=this._buffer,G.name=G.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const D=this.mimeType||"image/png";G.base64String=`data:${D};base64,${(0,e.j)(this._buffer)}`}else(x.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(G.base64String=!this._engine||this._engine._features.supportSyncTextureRead?F(this):d(this));var V;(G.invertY=this._invertY,G.samplingMode=this.samplingMode,G._creationFlags=this._creationFlags,G._useSRGBBuffer=this._useSRGBBuffer,x._SerializeInternalTextureUniqueId)&&(G.internalTextureUniqueId=null===(V=this._texture)||void 0===V?void 0:V.uniqueId);return G.internalTextureLabel=null===(D=this._texture)||void 0===D?void 0:D.label,G.noMipmap=this._noMipmap,this.name=l,G}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(D,l,G){if(D.customType){const V=g.e.Instantiate(D.customType).Parse(D,l,G);return D.samplingMode&&V.updateSamplingMode&&V._samplingMode&&V._samplingMode!==D.samplingMode&&V.updateSamplingMode(D.samplingMode),V}if(D.isCube&&!D.isRenderTarget)return x._CubeTextureParser(D,l,G);const V=void 0!==D.internalTextureUniqueId;if(!D.name&&!D.isRenderTarget&&!V)return null;let N;if(V){const G=l.getEngine().getLoadedTexturesCache();for(const l of G)if(l.uniqueId===D.internalTextureUniqueId){N=l;break}}const M=l=>{if(l&&l._texture&&(l._texture._cachedWrapU=null,l._texture._cachedWrapV=null,l._texture._cachedWrapR=null),D.samplingMode){const G=D.samplingMode;l&&l.samplingMode!==G&&l.updateSamplingMode(G)}if(l&&D.animations)for(let G=0;G<D.animations.length;G++){const V=D.animations[G],N=(0,t.b)("BABYLON.Animation");N&&l.animations.push(N.Parse(V))}l&&l._texture&&(V&&!N&&l._texture._setUniqueId(D.internalTextureUniqueId),l._texture.label=D.internalTextureLabel)};return h.c.Parse((()=>{let V=!0;if(D.noMipmap&&(V=!1),D.mirrorPlane){const G=x._CreateMirror(D.name,D.renderTargetSize,l,V);return G._waitingRenderList=D.renderList,G.mirrorPlane=j.d.xl(D.mirrorPlane),M(G),G}if(D.isRenderTarget){let G=null;if(D.isCube){if(l.reflectionProbes)for(let V=0;V<l.reflectionProbes.length;V++){const G=l.reflectionProbes[V];if(G.name===D.name)return G.cubeTexture}}else G=x._CreateRenderTargetTexture(D.name,D.renderTargetSize,l,V,D._creationFlags??0),G._waitingRenderList=D.renderList;return M(G),G}if(D.isVideo){const N=x._CreateVideoTexture(G+(D.url||D.name),G+(D.src||D.url),l,V,D.invertY,D.samplingMode,D.settings||{});return M(N),N}{let b;if(D.base64String&&!N)b=x.CreateFromBase64String(D.base64String,D.base64String,l,!V,D.invertY,D.samplingMode,(()=>{M(b)}),D._creationFlags??0,D._useSRGBBuffer??!1),b.name=D.name;else{let X;X=D.name&&(D.name.indexOf("://")>0||D.name.startsWith("data:"))?D.name:G+D.name,D.url&&(D.url.startsWith("data:")||x.UseSerializedUrlIfAny)&&(X=D.url);const t={noMipmap:!V,invertY:D.invertY,samplingMode:D.samplingMode,T:()=>{M(b)},internalTexture:N};b=new x(X,l,t)}return b}}),D,l)}static CreateFromBase64String(D,l,G,V,N){let M=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x.TRILINEAR_SAMPLINGMODE;return new x("data:"+l,G,V,N,M,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(D,l,G){let V=arguments.length>3&&void 0!==arguments[3]&&arguments[3],N=arguments.length>4?arguments[4]:void 0,M=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:x.TRILINEAR_SAMPLINGMODE,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,t=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,R=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,n=arguments.length>10?arguments[10]:void 0,g=arguments.length>11?arguments[11]:void 0;return"data:"!==D.substring(0,5)&&(D="data:"+D),new x(D,G,N,M,b,X,t,l,V,R,void 0,void 0,n,g)}}x.SerializeBuffers=!0,x.ForceSerializeBuffers=!1,x.OnTextureLoadErrorObservable=new M.e,x._SerializeInternalTextureUniqueId=!1,x._CubeTextureParser=(D,l,G)=>{throw(0,R.d)("CubeTexture")},x._CreateMirror=(D,l,G,V)=>{throw(0,R.d)("MirrorTexture")},x._CreateRenderTargetTexture=(D,l,G,V,N)=>{throw(0,R.d)("RenderTargetTexture")},x.NEAREST_SAMPLINGMODE=1,x.NEAREST_NEAREST_MIPLINEAR=8,x.BILINEAR_SAMPLINGMODE=2,x.LINEAR_LINEAR_MIPNEAREST=11,x.TRILINEAR_SAMPLINGMODE=3,x.LINEAR_LINEAR_MIPLINEAR=3,x.NEAREST_NEAREST_MIPNEAREST=4,x.NEAREST_LINEAR_MIPNEAREST=5,x.NEAREST_LINEAR_MIPLINEAR=6,x.NEAREST_LINEAR=7,x.NEAREST_NEAREST=1,x.LINEAR_NEAREST_MIPNEAREST=9,x.LINEAR_NEAREST_MIPLINEAR=10,x.LINEAR_LINEAR=2,x.LINEAR_NEAREST=12,x.EXPLICIT_MODE=0,x.SPHERICAL_MODE=1,x.PLANAR_MODE=2,x.CUBIC_MODE=3,x.PROJECTION_MODE=4,x.SKYBOX_MODE=5,x.INVCUBIC_MODE=6,x.EQUIRECTANGULAR_MODE=7,x.FIXED_EQUIRECTANGULAR_MODE=8,x.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,x.CLAMP_ADDRESSMODE=0,x.WRAP_ADDRESSMODE=1,x.MIRROR_ADDRESSMODE=2,x.UseSerializedUrlIfAny=!1,(0,V.b)([(0,N.L)()],x.prototype,"url",void 0),(0,V.b)([(0,N.L)()],x.prototype,"uOffset",void 0),(0,V.b)([(0,N.L)()],x.prototype,"vOffset",void 0),(0,V.b)([(0,N.L)()],x.prototype,"uScale",void 0),(0,V.b)([(0,N.L)()],x.prototype,"vScale",void 0),(0,V.b)([(0,N.L)()],x.prototype,"uAng",void 0),(0,V.b)([(0,N.L)()],x.prototype,"vAng",void 0),(0,V.b)([(0,N.L)()],x.prototype,"wAng",void 0),(0,V.b)([(0,N.L)()],x.prototype,"uRotationCenter",void 0),(0,V.b)([(0,N.L)()],x.prototype,"vRotationCenter",void 0),(0,V.b)([(0,N.L)()],x.prototype,"wRotationCenter",void 0),(0,V.b)([(0,N.L)()],x.prototype,"homogeneousRotationInUVTransform",void 0),(0,V.b)([(0,N.L)()],x.prototype,"isBlocking",null),(0,t.c)("BABYLON.Texture",x),h.c._TextureParser=x.Parse},11759:(D,l,G)=>{G.d(l,{d:()=>N});var V=G(11710);class N{constructor(D,l,G,N){this.normal=new V.Kl(D,l,G),this.d=N}gb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new N(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let D=this.normal.getHashCode();return D=397*D^this.d,D}normalize(){const D=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let l=0;return 0!==D&&(l=1/D),this.normal.x*=l,this.normal.y*=l,this.normal.z*=l,this.d*=l,this}transform(D){const l=N._TmpMatrix;D.invertToRef(l);const G=l.m,V=this.normal.x,M=this.normal.y,b=this.normal.z,X=this.d,t=V*G[0]+M*G[1]+b*G[2]+X*G[3],R=V*G[4]+M*G[5]+b*G[6]+X*G[7],n=V*G[8]+M*G[9]+b*G[10]+X*G[11],g=V*G[12]+M*G[13]+b*G[14]+X*G[15];return new N(t,R,n,g)}dotCoordinate(D){return this.normal.x*D.x+this.normal.y*D.y+this.normal.z*D.z+this.d}copyFromPoints(D,l,G){const V=l.x-D.x,N=l.y-D.y,M=l.z-D.z,b=G.x-D.x,X=G.y-D.y,t=G.z-D.z,R=N*t-M*X,n=M*b-V*t,g=V*X-N*b,j=Math.sqrt(R*R+n*n+g*g);let e;return e=0!==j?1/j:0,this.normal.x=R*e,this.normal.y=n*e,this.normal.z=g*e,this.d=-(this.normal.x*D.x+this.normal.y*D.y+this.normal.z*D.z),this}isFrontFacingTo(D,l){return V.Kl.Dot(this.normal,D)<=l}signedDistanceTo(D){return V.Kl.Dot(D,this.normal)+this.d}static xl(D){return new N(D[0],D[1],D[2],D[3])}static FromPoints(D,l,G){const V=new N(0,0,0,0);return V.copyFromPoints(D,l,G),V}static FromPositionAndNormal(D,l){const G=new N(0,0,0,0);return this.FromPositionAndNormalToRef(D,l,G)}static FromPositionAndNormalToRef(D,l,G){return G.normal.V(l),G.normal.normalize(),G.d=-D.dot(G.normal),G}static SignedDistanceToPlaneFromPositionAndNormal(D,l,G){const N=-(l.x*D.x+l.y*D.y+l.z*D.z);return V.Kl.Dot(G,l)+N}}N._TmpMatrix=V.Matrix.Identity()},11734:(D,l,G)=>{G.d(l,{d:()=>V});class V{constructor(D,l){this.width=D,this.height=l}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let D=0|this.width;return D=397*D^this.height,D}V(D){this.width=D.width,this.height=D.height}Lb(D,l){return this.width=D,this.height=l,this}set(D,l){return this.Lb(D,l)}multiplyByFloats(D,l){return new V(this.width*D,this.height*l)}clone(){return new V(this.width,this.height)}equals(D){return!!D&&(this.width===D.width&&this.height===D.height)}get surface(){return this.width*this.height}static Zero(){return new V(0,0)}add(D){return new V(this.width+D.width,this.height+D.height)}Fl(D){return new V(this.width-D.width,this.height-D.height)}scale(D){return new V(this.width*D,this.height*D)}static Lerp(D,l,G){const N=D.width+(l.width-D.width)*G,M=D.height+(l.height-D.height)*G;return new V(N,M)}}},11706:(D,l,G)=>{G.d(l,{d:()=>M,h:()=>b});const V={},N={};function M(D){const l=D.getClassName();return N[l]||(N[l]={}),N[l]}function b(D){const l=D.getClassName();if(V[l])return V[l];V[l]={};const G=V[l];let M=D,b=l;for(;b;){const D=N[b];for(const N in D)G[N]=D[N];let l,V=!1;do{if(l=Object.getPrototypeOf(M),!l.getClassName){V=!0;break}if(l.getClassName()!==b)break;M=l}while(l);if(V)break;b=l.getClassName(),M=l}return G}},11703:(D,l,G)=>{G.d(l,{A:()=>d,B:()=>X,E:()=>n,I:()=>g,L:()=>b,c:()=>M,g:()=>h,k:()=>e,l:()=>t,n:()=>K,o:()=>R,s:()=>F,u:()=>H,x:()=>j});var V=G(11706);function N(D,l){return(G,N)=>{const M=(0,V.d)(G);M[N]||(M[N]={type:D,sourceName:l})}}function M(D){return function(D){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(G,V)=>{const N=l||"_"+V;Object.defineProperty(G,V,{get:function(){return this[N]},set:function(l){var V;"function"===typeof(null===(V=this[N])||void 0===V?void 0:V.equals)&&this[N].equals(l)||this[N]!==l&&(this[N]=l,G[D].apply(this))},enumerable:!0,configurable:!0})}}(D,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function b(D){return N(0,D)}function X(D){return N(1,D)}function t(D){return N(2,D)}function R(D){return N(3,D)}function n(D){return N(4,D)}function g(D){return N(5,D)}function j(D){return N(6,D)}function e(D){return N(7,D)}function K(D){return N(8,D)}function F(D){return N(9,D)}function d(D){return N(10,D)}function H(D){return N(12,D)}function h(D,l,G,V){const N=G.value;G.value=function(){let G=N;if("undefined"!==typeof _native&&_native[l]){const D=_native[l];G=V?function(){return V(...arguments)?D(...arguments):N(...arguments)}:D}return D[l]=G,G(...arguments)}}h.filter=function(D){return(l,G,V)=>h(l,G,V,D)}},11739:(D,l,G)=>{G.d(l,{c:()=>R});var V=G(11563),N=G(11746),M=G(11755),b=G(11710),X=G(11706);const t=function(D,l,G){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const M=D();N.e&&N.e.HasTags(l)&&N.e.AddTagsTo(M,N.e.GetTags(l,!0));const b=(0,X.h)(M),t={};for(const N in b){const D=b[N],X=l[N],n=D.type;if(void 0!==X&&null!==X&&("uniqueId"!==N||R.AllowLoadingUniqueId))switch(n){case 0:case 6:case 9:case 11:M[N]=X;break;case 1:V.cloneTexturesOnlyOnce&&t[X.uniqueId]?M[N]=t[X.uniqueId]:(M[N]=G||X.isRenderTarget?X:X.clone(),t[X.uniqueId]=M[N]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:M[N]=G?X:X.clone()}}return M};class R{static AppendSerializedAnimations(D,l){if(D.animations){l.animations=[];for(let G=0;G<D.animations.length;G++){const V=D.animations[G];l.animations.push(V.serialize())}}}static Serialize(D,l){l||(l={}),N.e&&(l.tags=N.e.GetTags(D));const G=(0,X.h)(D);for(const V in G){const N=G[V],M=N.sourceName||V,b=N.type,X=D[V];if(void 0!==X&&null!==X&&("uniqueId"!==V||R.AllowLoadingUniqueId))switch(b){case 0:l[M]=X;break;case 1:case 3:case 7:case 9:l[M]=X.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:l[M]=X.gb();break;case 6:case 11:l[M]=X.id}}return l}static ParseProperties(D,l,G,V){V||(V="");const N=(0,X.h)(l);for(const X in N){const t=N[X],n=D[t.sourceName||X],g=t.type;if(void 0!==n&&null!==n&&("uniqueId"!==X||R.AllowLoadingUniqueId)){const D=l;switch(g){case 0:D[X]=n;break;case 1:G&&(D[X]=R._TextureParser(n,G,V));break;case 2:D[X]=M.hl.xl(n);break;case 3:D[X]=R._FresnelParametersParser(n);break;case 4:D[X]=b.Vector2.xl(n);break;case 5:D[X]=b.Kl.xl(n);break;case 6:G&&(D[X]=G.getLastMeshById(n));break;case 7:D[X]=R._ColorCurvesParser(n);break;case 8:D[X]=M.Wb.xl(n);break;case 9:D[X]=R._ImageProcessingConfigurationParser(n);break;case 10:D[X]=b.Quaternion.xl(n);break;case 11:G&&(D[X]=G.getCameraById(n));break;case 12:D[X]=b.Matrix.xl(n)}}}}static Parse(D,l,G){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const M=D();return N.e&&N.e.AddTagsTo(M,l.tags),R.ParseProperties(l,M,G,V),M}static Clone(D,l){return t(D,l,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(D,l){return t(D,l,!0)}}R.AllowLoadingUniqueId=!1,R._ImageProcessingConfigurationParser=D=>{throw(0,V.d)("ImageProcessingConfiguration")},R._FresnelParametersParser=D=>{throw(0,V.d)("FresnelParameters")},R._ColorCurvesParser=D=>{throw(0,V.d)("ColorCurves")},R._TextureParser=(D,l,G)=>{throw(0,V.d)("Texture")}},11746:(D,l,G)=>{G.d(l,{e:()=>N});class V{static Eval(D,l){return"true"===(D=D.match(/\([^()]*\)/g)?D.replace(/\([^()]*\)/g,(D=>(D=D.slice(1,D.length-1),V._HandleParenthesisContent(D,l)))):V._HandleParenthesisContent(D,l))||"false"!==D&&V.Eval(D,l)}static _HandleParenthesisContent(D,l){let G;l=l||(D=>"true"===D);const N=D.split("||");for(const M in N)if(Object.prototype.hasOwnProperty.call(N,M)){let D=V._SimplifyNegation(N[M].trim());const b=D.split("&&");if(b.length>1)for(let N=0;N<b.length;++N){const M=V._SimplifyNegation(b[N].trim());if(G="true"!==M&&"false"!==M?"!"===M[0]?!l(M.substring(1)):l(M):"true"===M,!G){D="false";break}}if(G||"true"===D){G=!0;break}G="true"!==D&&"false"!==D?"!"===D[0]?!l(D.substring(1)):l(D):"true"===D}return G?"true":"false"}static _SimplifyNegation(D){return"!true"===(D=(D=D.replace(/^[\s!]+/,(D=>(D=D.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?D="false":"!false"===D&&(D="true"),D}}class N{static EnableFor(D){D._tags=D._tags||{},D.hasTags=()=>N.HasTags(D),D.addTags=l=>N.AddTagsTo(D,l),D.removeTags=l=>N.RemoveTagsFrom(D,l),D.matchesTagsQuery=l=>N.MatchesQuery(D,l)}static DisableFor(D){delete D._tags,delete D.hasTags,delete D.addTags,delete D.removeTags,delete D.matchesTagsQuery}static HasTags(D){if(!D._tags)return!1;const l=D._tags;for(const G in l)if(Object.prototype.hasOwnProperty.call(l,G))return!0;return!1}static GetTags(D){let l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!D._tags)return null;if(l){const l=[];for(const G in D._tags)Object.prototype.hasOwnProperty.call(D._tags,G)&&!0===D._tags[G]&&l.push(G);return l.join(" ")}return D._tags}static AddTagsTo(D,l){if(!l)return;if("string"!==typeof l)return;const G=l.split(" ");for(const V of G)N._AddTagTo(D,V)}static _AddTagTo(D,l){""!==(l=l.trim())&&"true"!==l&&"false"!==l&&(l.match(/[\s]/)||l.match(/^([!]|([|]|[&]){2})/)||(N.EnableFor(D),D._tags[l]=!0))}static RemoveTagsFrom(D,l){if(!N.HasTags(D))return;const G=l.split(" ");for(const V in G)N._RemoveTagFrom(D,G[V])}static _RemoveTagFrom(D,l){delete D._tags[l]}static MatchesQuery(D,l){return void 0===l||(""===l?N.HasTags(D):V.Eval(l,(l=>N.HasTags(D)&&D._tags[l])))}}},11695:(D,l,G)=>{G.d(l,{b:()=>V});function V(D,l,G,V){var N,M=arguments.length,b=M<3?l:null===V?V=Object.getOwnPropertyDescriptor(l,G):V;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)b=Reflect.decorate(D,l,G,V);else for(var X=D.length-1;X>=0;X--)(N=D[X])&&(b=(M<3?N(b):M>3?N(l,G,b):N(l,G))||b);return M>3&&b&&Object.defineProperty(l,G,b),b}Object.create;Object.create}}]);