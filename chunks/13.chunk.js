"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[13],{12528:(u,R,I)=>{I.d(R,{d:()=>B});let B=!1},12499:(u,R,I)=>{I.d(R,{b:()=>b});var B=I(12466),U=I(12472),K=I(12303),C=I(12481),D=I(12346),s=I(12440),t=(I(12348),I(12502));class G{get wrapU(){return this._wrapU}set wrapU(u){this._wrapU=u}get wrapV(){return this._wrapV}set wrapV(u){this._wrapV=u}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(u){this._texture&&(this._texture.isCube=u)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(u){this._texture&&(this._texture.is3D=u)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(u){this._texture&&(this._texture.is2DArray=u)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(u){return void 0!==(null===u||void 0===u?void 0:u.shareDepth)}constructor(u){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=t.c.Zero(),this._cachedBaseSize=t.c.Zero(),this._initialSamplingMode=2,this._texture=G._IsRenderTargetWrapper(u)?u.texture:u,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(u){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(u,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var S=I(12507);class b extends G{set tD(u){this._hasAlpha!==u&&(this._hasAlpha=u,this._scene&&this._scene.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))))}get tD(){return this._hasAlpha}set getAlphaFromRGB(u){this._getAlphaFromRGB!==u&&(this._getAlphaFromRGB=u,this._scene&&this._scene.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(u){this._coordinatesIndex!==u&&(this._coordinatesIndex=u,this._scene&&this._scene.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(u){this._coordinatesMode!==u&&(this._coordinatesMode=u,this._scene&&this._scene.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(u){this._wrapU=u}get wrapV(){return this._wrapV}set wrapV(u){this._wrapV=u}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(u){this._texture?this._texture.isCube=u:this._isCube=u}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(u){this._texture&&(this._texture.is3D=u)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(u){this._texture&&(this._texture.is2DArray=u)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(u){var R;if(this._texture){if(this._texture._gammaSpace===u)return;this._texture._gammaSpace=u}else{if(this._gammaSpace===u)return;this._gammaSpace=u}null===(R=this.eu())||void 0===R||R.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(u){var R;u!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=u),null===(R=this.eu())||void 0===R||R.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(u){this._texture&&(this._texture._lodGenerationOffset=u)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(u){this._texture&&(this._texture._lodGenerationScale=u)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(u){this._texture&&(this._texture._linearSpecularLOD=u)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(u){this._texture&&(this._texture._irradianceTexture=u)}get uid(){return this._uid||(this._uid=(0,s.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(u){this._onDisposeObserver&&this.uD.remove(this._onDisposeObserver),this._onDisposeObserver=this.uD.add(u)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=b.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.uD=new K.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,u?b._IsScene(u)?this._scene=u:this._engine=u:this._scene=D.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=R,this._uid=null}eu(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return C.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return C.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(u){}get canRescale(){return!1}_getFromCache(u,R,I,B,U,K){const C=this._getEngine();if(!C)return null;const D=C._getUseSRGBBuffer(!!U,R),s=C.getLoadedTexturesCache();for(let t=0;t<s.length;t++){const C=s[t];if((void 0===U||D===C._useSRGBBuffer)&&(void 0===B||B===C.invertY)&&C.url===u&&C.generateMipMaps===!R&&(!I||I===C.samplingMode)&&(void 0===K||K===C.isCube))return C.incrementReferences(),C}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const u=this.eu();u&&u.markAllMaterialsAsDirty(1)}readPixels(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],U=arguments.length>4&&void 0!==arguments[4]&&arguments[4],K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const t=this._getEngine();if(!t)return null;const G=this.getSize();let S=G.width,b=G.height;0!==R&&(S/=Math.pow(2,R),b/=Math.pow(2,R),S=Math.round(S),b=Math.round(b)),D=Math.min(S,D),s=Math.min(b,s);try{return this._texture.isCube?t._readTexturePixels(this._texture,D,s,u,R,I,B,U,K,C):t._readTexturePixels(this._texture,D,s,-1,R,I,B,U,K,C)}catch(r){return null}}_readPixelsSync(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],U=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const K=this.getSize();let C=K.width,D=K.height;const s=this._getEngine();if(!s)return null;0!=R&&(C/=Math.pow(2,R),D/=Math.pow(2,R),C=Math.round(C),D=Math.round(D));try{return this._texture.isCube?s._readTexturePixelsSync(this._texture,C,D,u,R,I,B,U):s._readTexturePixelsSync(this._texture,C,D,-1,R,I,B,U)}catch(t){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const u=this._scene.textures.indexOf(this);if(u>=0&&this._scene.textures.splice(u,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const u=this._parentContainer.textures.indexOf(this);u>-1&&this._parentContainer.textures.splice(u,1),this._parentContainer=null}}this.uD.notifyObservers(this),this.uD.clear(),this.metadata=null,super.dispose()}serialize(){let u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!u)return null;const R=S.e.Serialize(this);return S.e.AppendSerializedAnimations(this,R),R}static WhenAllReady(u,R){let I=u.length;if(0!==I)for(let B=0;B<u.length;B++){const U=u[B];if(U.isReady())0===--I&&R();else{const u=U.onLoadObservable;u?u.addOnce((()=>{0===--I&&R()})):0===--I&&R()}}else R()}static _IsScene(u){return"Scene"===u.getClassName()}}b.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,B.c)([(0,U.S)()],b.prototype,"uniqueId",void 0),(0,B.c)([(0,U.S)()],b.prototype,"name",void 0),(0,B.c)([(0,U.S)()],b.prototype,"displayName",void 0),(0,B.c)([(0,U.S)()],b.prototype,"metadata",void 0),(0,B.c)([(0,U.S)("tD")],b.prototype,"_hasAlpha",void 0),(0,B.c)([(0,U.S)("getAlphaFromRGB")],b.prototype,"_getAlphaFromRGB",void 0),(0,B.c)([(0,U.S)()],b.prototype,"level",void 0),(0,B.c)([(0,U.S)("coordinatesIndex")],b.prototype,"_coordinatesIndex",void 0),(0,B.c)([(0,U.S)()],b.prototype,"optimizeUVAllocation",void 0),(0,B.c)([(0,U.S)("coordinatesMode")],b.prototype,"_coordinatesMode",void 0),(0,B.c)([(0,U.S)()],b.prototype,"wrapU",null),(0,B.c)([(0,U.S)()],b.prototype,"wrapV",null),(0,B.c)([(0,U.S)()],b.prototype,"wrapR",void 0),(0,B.c)([(0,U.S)()],b.prototype,"anisotropicFilteringLevel",void 0),(0,B.c)([(0,U.S)()],b.prototype,"isCube",null),(0,B.c)([(0,U.S)()],b.prototype,"is3D",null),(0,B.c)([(0,U.S)()],b.prototype,"is2DArray",null),(0,B.c)([(0,U.S)()],b.prototype,"gammaSpace",null),(0,B.c)([(0,U.S)()],b.prototype,"invertZ",void 0),(0,B.c)([(0,U.S)()],b.prototype,"lodLevelInAlpha",void 0),(0,B.c)([(0,U.S)()],b.prototype,"lodGenerationOffset",null),(0,B.c)([(0,U.S)()],b.prototype,"lodGenerationScale",null),(0,B.c)([(0,U.S)()],b.prototype,"linearSpecularLOD",null),(0,B.c)([(0,U.J)()],b.prototype,"irradianceTexture",null),(0,B.c)([(0,U.S)()],b.prototype,"isRenderTarget",void 0)},12460:(u,R,I)=>{I.d(R,{b:()=>T});var B=I(12466),U=I(12472),K=I(12303),C=I(12481),D=I(12499),s=I(12433),t=I(12335),G=I(12374),S=I(12428),b=I(12521),r=I(12358);function P(u,R){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const B=R.width,U=R.height;if(u instanceof Float32Array){let R=u.byteLength/u.BYTES_PER_ELEMENT;const I=new Uint8Array(R);for(;--R>=0;){let B=u[R];B<0?B=0:B>1&&(B=1),I[R]=255*B}u=I}const K=document.createElement("canvas");K.width=B,K.height=U;const C=K.getContext("2d");if(!C)return null;const D=C.createImageData(B,U);if(D.data.set(u),C.putImageData(D,0,0),I){const u=document.createElement("canvas");u.width=B,u.height=U;const R=u.getContext("2d");return R?(R.translate(0,U),R.scale(1,-1),R.drawImage(K,0,0),u.toDataURL("image/png")):null}return K.toDataURL("image/png")}function X(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=u.getInternalTexture();if(!B)return null;const U=u._readPixelsSync(R,I);return U?P(U,u.getSize(),B.invertY):null}async function E(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=u.getInternalTexture();if(!B)return null;const U=await u.readPixels(R,I);return U?P(U,u.getSize(),B.invertY):null}var z=I(12528),f=I(12507);class T extends D.b{static _CreateVideoTexture(u,R,I){arguments.length>5&&void 0!==arguments[5]||T.TRILINEAR_SAMPLINGMODE;throw(0,t.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(u){this._isBlocking=u}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(u,R,I,B){let U,C=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.TRILINEAR_SAMPLINGMODE,D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,S=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=arguments.length>9?arguments[9]:void 0,r=arguments.length>10?arguments[10]:void 0,P=arguments.length>11?arguments[11]:void 0,X=arguments.length>12?arguments[12]:void 0,E=arguments.length>13?arguments[13]:void 0;super(R),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new K.c,this._isBlocking=!0,this.name=u||"",this.url=u;let f=!1,Q=null,V=!0;"object"===typeof I&&null!==I?(U=I.noMipmap??!1,B=I.invertY??!z.d,C=I.samplingMode??T.TRILINEAR_SAMPLINGMODE,D=I.L??null,s=I.onError??null,t=I.buffer??null,S=I.deleteBuffer??!1,b=I.format,r=I.mimeType,P=I.loaderOptions,X=I.creationFlags,f=I.useSRGBBuffer??!1,Q=I.internalTexture??null,V=I.gammaSpace??V,E=I.forcedExtension??E):U=!!I,this._gammaSpace=V,this._noMipmap=U,this._invertY=void 0===B?!z.d:B,this._initialSamplingMode=C,this._buffer=t,this._deleteBuffer=S,this._mimeType=r,this._loaderOptions=P,this._creationFlags=X,this._useSRGBBuffer=f,this._forcedExtension=E,void 0!==b&&(this._format=b);const q=this.eu(),e=this._getEngine();if(!e)return;e.onBeforeTextureInitObservable.notifyObservers(this);const Y=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),D&&D(),!this.isBlocking&&q&&q.resetCachedMaterial()},M=(u,R)=>{this._loadingError=!0,this._errorObject={message:u,exception:R},s&&s(u,R),T.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Q)return this._delayedOnLoad=Y,void(this._delayedOnError=M);if(this._texture=Q??this._getFromCache(this.url,U,C,this._invertY,f,this.isCube),this._texture)if(this._texture.isReady)G.d.SetImmediate((()=>Y()));else{const u=this._texture.onLoadedObservable.add(Y);this._texture.onErrorObservable.add((R=>{var I;M(R.message,R.exception),null===(I=this._texture)||void 0===I||I.onLoadedObservable.remove(u)}))}else if(q&&q.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=Y,this._delayedOnError=M;else{try{this._texture=e.createTexture(this.url,U,this._invertY,q,C,Y,M,this._buffer,void 0,this._format,this._forcedExtension,r,P,X,f)}catch(o){throw M("error loading",o),o}S&&(this._buffer=null)}}updateURL(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,I=arguments.length>2?arguments[2]:void 0,B=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.eu().markAllMaterialsAsDirty(1,(u=>u.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=u),this.url=u,this._buffer=R,this._forcedExtension=B,this.delayLoadState=4,I&&(this._delayedOnLoad=I),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const u=this.eu();u&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?G.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=u.getEngine().createTexture(this.url,this._noMipmap,this._invertY,u,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(u,R,I,B){u*=this._cachedUScale,R*=this._cachedVScale,u-=this.uRotationCenter*this._cachedUScale,R-=this.vRotationCenter*this._cachedVScale,I-=this.wRotationCenter,C.PR.TransformCoordinatesFromFloatsToRef(u,R,I,this._rowGenerationMatrix,B),B.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,B.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,B.z+=this.wRotationCenter}getTextureMatrix(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*u===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*u,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=C.Matrix.Zero(),this._rowGenerationMatrix=new C.Matrix,this._t0=C.PR.Zero(),this._t1=C.PR.Zero(),this._t2=C.PR.Zero()),C.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(C.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,C.TmpVectors.Matrix[0]),C.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,C.TmpVectors.Matrix[1]),C.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,C.TmpVectors.Matrix[2]),C.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,C.TmpVectors.Matrix[3]),C.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(C.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(C.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(C.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.RS(this._t0),this._t2.RS(this._t0),C.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const R=this.eu();if(!R)return this._cachedTextureMatrix;const I=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&I!==this._cachedIdentity3x2&&R.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const u=this.eu();if(!u)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==T.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===u.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=C.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=C.Matrix.Zero());const R=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case T.PLANAR_MODE:C.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case T.PROJECTION_MODE:{C.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const R=u.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=R.updateFlag,R.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:C.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return R&&u.markAllMaterialsAsDirty(1,(u=>u.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const u={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,L:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return f.e.Clone((()=>new T(this._texture?this._texture.url:null,this.eu(),u)),this)}serialize(){var u;const R=this.name;T.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const I=super.serialize(T._SerializeInternalTextureUniqueId);if(!I)return null;if(T.SerializeBuffers||T.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))I.base64String=this._buffer,I.name=I.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const u=this.mimeType||"image/png";I.base64String=`data:${u};base64,${(0,r.o)(this._buffer)}`}else(T.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(I.base64String=!this._engine||this._engine._features.supportSyncTextureRead?X(this):E(this));var B;(I.invertY=this._invertY,I.samplingMode=this.samplingMode,I._creationFlags=this._creationFlags,I._useSRGBBuffer=this._useSRGBBuffer,T._SerializeInternalTextureUniqueId)&&(I.internalTextureUniqueId=null===(B=this._texture)||void 0===B?void 0:B.uniqueId);return I.internalTextureLabel=null===(u=this._texture)||void 0===u?void 0:u.label,I.noMipmap=this._noMipmap,this.name=R,I}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(u,R,I){if(u.customType){const B=S.e.Instantiate(u.customType).Parse(u,R,I);return u.samplingMode&&B.updateSamplingMode&&B._samplingMode&&B._samplingMode!==u.samplingMode&&B.updateSamplingMode(u.samplingMode),B}if(u.isCube&&!u.isRenderTarget)return T._CubeTextureParser(u,R,I);const B=void 0!==u.internalTextureUniqueId;if(!u.name&&!u.isRenderTarget&&!B)return null;let U;if(B){const I=R.getEngine().getLoadedTexturesCache();for(const R of I)if(R.uniqueId===u.internalTextureUniqueId){U=R;break}}const K=R=>{if(R&&R._texture&&(R._texture._cachedWrapU=null,R._texture._cachedWrapV=null,R._texture._cachedWrapR=null),u.samplingMode){const I=u.samplingMode;R&&R.samplingMode!==I&&R.updateSamplingMode(I)}if(R&&u.animations)for(let I=0;I<u.animations.length;I++){const B=u.animations[I],U=(0,s.c)("BABYLON.Animation");U&&R.animations.push(U.Parse(B))}R&&R._texture&&(B&&!U&&R._texture._setUniqueId(u.internalTextureUniqueId),R._texture.label=u.internalTextureLabel)};return f.e.Parse((()=>{let B=!0;if(u.noMipmap&&(B=!1),u.mirrorPlane){const I=T._CreateMirror(u.name,u.renderTargetSize,R,B);return I._waitingRenderList=u.renderList,I.mirrorPlane=b.c.TR(u.mirrorPlane),K(I),I}if(u.isRenderTarget){let I=null;if(u.isCube){if(R.reflectionProbes)for(let B=0;B<R.reflectionProbes.length;B++){const I=R.reflectionProbes[B];if(I.name===u.name)return I.cubeTexture}}else I=T._CreateRenderTargetTexture(u.name,u.renderTargetSize,R,B,u._creationFlags??0),I._waitingRenderList=u.renderList;return K(I),I}if(u.isVideo){const U=T._CreateVideoTexture(I+(u.url||u.name),I+(u.src||u.url),R,B,u.invertY,u.samplingMode,u.settings||{});return K(U),U}{let C;if(u.base64String&&!U)C=T.CreateFromBase64String(u.base64String,u.base64String,R,!B,u.invertY,u.samplingMode,(()=>{K(C)}),u._creationFlags??0,u._useSRGBBuffer??!1),C.name=u.name;else{let D;D=u.name&&(u.name.indexOf("://")>0||u.name.startsWith("data:"))?u.name:I+u.name,u.url&&(u.url.startsWith("data:")||T.UseSerializedUrlIfAny)&&(D=u.url);const s={noMipmap:!B,invertY:u.invertY,samplingMode:u.samplingMode,L:()=>{K(C)},internalTexture:U};C=new T(D,R,s)}return C}}),u,R)}static CreateFromBase64String(u,R,I,B,U){let K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.TRILINEAR_SAMPLINGMODE;return new T("data:"+R,I,B,U,K,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(u,R,I){let B=arguments.length>3&&void 0!==arguments[3]&&arguments[3],U=arguments.length>4?arguments[4]:void 0,K=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:T.TRILINEAR_SAMPLINGMODE,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,t=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,G=arguments.length>10?arguments[10]:void 0,S=arguments.length>11?arguments[11]:void 0;return"data:"!==u.substring(0,5)&&(u="data:"+u),new T(u,I,U,K,C,D,s,R,B,t,void 0,void 0,G,S)}}T.SerializeBuffers=!0,T.ForceSerializeBuffers=!1,T.OnTextureLoadErrorObservable=new K.c,T._SerializeInternalTextureUniqueId=!1,T._CubeTextureParser=(u,R,I)=>{throw(0,t.c)("CubeTexture")},T._CreateMirror=(u,R,I,B)=>{throw(0,t.c)("MirrorTexture")},T._CreateRenderTargetTexture=(u,R,I,B,U)=>{throw(0,t.c)("RenderTargetTexture")},T.NEAREST_SAMPLINGMODE=1,T.NEAREST_NEAREST_MIPLINEAR=8,T.BILINEAR_SAMPLINGMODE=2,T.LINEAR_LINEAR_MIPNEAREST=11,T.TRILINEAR_SAMPLINGMODE=3,T.LINEAR_LINEAR_MIPLINEAR=3,T.NEAREST_NEAREST_MIPNEAREST=4,T.NEAREST_LINEAR_MIPNEAREST=5,T.NEAREST_LINEAR_MIPLINEAR=6,T.NEAREST_LINEAR=7,T.NEAREST_NEAREST=1,T.LINEAR_NEAREST_MIPNEAREST=9,T.LINEAR_NEAREST_MIPLINEAR=10,T.LINEAR_LINEAR=2,T.LINEAR_NEAREST=12,T.EXPLICIT_MODE=0,T.SPHERICAL_MODE=1,T.PLANAR_MODE=2,T.CUBIC_MODE=3,T.PROJECTION_MODE=4,T.SKYBOX_MODE=5,T.INVCUBIC_MODE=6,T.EQUIRECTANGULAR_MODE=7,T.FIXED_EQUIRECTANGULAR_MODE=8,T.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,T.CLAMP_ADDRESSMODE=0,T.WRAP_ADDRESSMODE=1,T.MIRROR_ADDRESSMODE=2,T.UseSerializedUrlIfAny=!1,(0,B.c)([(0,U.S)()],T.prototype,"url",void 0),(0,B.c)([(0,U.S)()],T.prototype,"uOffset",void 0),(0,B.c)([(0,U.S)()],T.prototype,"vOffset",void 0),(0,B.c)([(0,U.S)()],T.prototype,"uScale",void 0),(0,B.c)([(0,U.S)()],T.prototype,"vScale",void 0),(0,B.c)([(0,U.S)()],T.prototype,"uAng",void 0),(0,B.c)([(0,U.S)()],T.prototype,"vAng",void 0),(0,B.c)([(0,U.S)()],T.prototype,"wAng",void 0),(0,B.c)([(0,U.S)()],T.prototype,"uRotationCenter",void 0),(0,B.c)([(0,U.S)()],T.prototype,"vRotationCenter",void 0),(0,B.c)([(0,U.S)()],T.prototype,"wRotationCenter",void 0),(0,B.c)([(0,U.S)()],T.prototype,"homogeneousRotationInUVTransform",void 0),(0,B.c)([(0,U.S)()],T.prototype,"isBlocking",null),(0,s.e)("BABYLON.Texture",T),f.e._TextureParser=T.Parse},12521:(u,R,I)=>{I.d(R,{c:()=>U});var B=I(12481);class U{constructor(u,R,I,U){this.normal=new B.PR(u,R,I),this.d=U}sD(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new U(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let u=this.normal.getHashCode();return u=397*u^this.d,u}normalize(){const u=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let R=0;return 0!==u&&(R=1/u),this.normal.x*=R,this.normal.y*=R,this.normal.z*=R,this.d*=R,this}transform(u){const R=U._TmpMatrix;u.invertToRef(R);const I=R.m,B=this.normal.x,K=this.normal.y,C=this.normal.z,D=this.d,s=B*I[0]+K*I[1]+C*I[2]+D*I[3],t=B*I[4]+K*I[5]+C*I[6]+D*I[7],G=B*I[8]+K*I[9]+C*I[10]+D*I[11],S=B*I[12]+K*I[13]+C*I[14]+D*I[15];return new U(s,t,G,S)}dotCoordinate(u){return this.normal.x*u.x+this.normal.y*u.y+this.normal.z*u.z+this.d}copyFromPoints(u,R,I){const B=R.x-u.x,U=R.y-u.y,K=R.z-u.z,C=I.x-u.x,D=I.y-u.y,s=I.z-u.z,t=U*s-K*D,G=K*C-B*s,S=B*D-U*C,b=Math.sqrt(t*t+G*G+S*S);let r;return r=0!==b?1/b:0,this.normal.x=t*r,this.normal.y=G*r,this.normal.z=S*r,this.d=-(this.normal.x*u.x+this.normal.y*u.y+this.normal.z*u.z),this}isFrontFacingTo(u,R){return B.PR.Dot(this.normal,u)<=R}signedDistanceTo(u){return B.PR.Dot(u,this.normal)+this.d}static TR(u){return new U(u[0],u[1],u[2],u[3])}static FromPoints(u,R,I){const B=new U(0,0,0,0);return B.copyFromPoints(u,R,I),B}static FromPositionAndNormal(u,R){const I=new U(0,0,0,0);return this.FromPositionAndNormalToRef(u,R,I)}static FromPositionAndNormalToRef(u,R,I){return I.normal.B(R),I.normal.normalize(),I.d=-u.dot(I.normal),I}static SignedDistanceToPlaneFromPositionAndNormal(u,R,I){const U=-(R.x*u.x+R.y*u.y+R.z*u.z);return B.PR.Dot(I,R)+U}}U._TmpMatrix=B.Matrix.Identity()},12502:(u,R,I)=>{I.d(R,{c:()=>B});class B{constructor(u,R){this.width=u,this.height=R}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let u=0|this.width;return u=397*u^this.height,u}B(u){this.width=u.width,this.height=u.height}ED(u,R){return this.width=u,this.height=R,this}set(u,R){return this.ED(u,R)}multiplyByFloats(u,R){return new B(this.width*u,this.height*R)}clone(){return new B(this.width,this.height)}equals(u){return!!u&&(this.width===u.width&&this.height===u.height)}get surface(){return this.width*this.height}static Zero(){return new B(0,0)}add(u){return new B(this.width+u.width,this.height+u.height)}XR(u){return new B(this.width-u.width,this.height-u.height)}scale(u){return new B(this.width*u,this.height*u)}static Lerp(u,R,I){const U=u.width+(R.width-u.width)*I,K=u.height+(R.height-u.height)*I;return new B(U,K)}}},12476:(u,R,I)=>{I.d(R,{c:()=>K,e:()=>C});const B={},U={};function K(u){const R=u.getClassName();return U[R]||(U[R]={}),U[R]}function C(u){const R=u.getClassName();if(B[R])return B[R];B[R]={};const I=B[R];let K=u,C=R;for(;C;){const u=U[C];for(const U in u)I[U]=u[U];let R,B=!1;do{if(R=Object.getPrototypeOf(K),!R.getClassName){B=!0;break}if(R.getClassName()!==C)break;K=R}while(R);if(B)break;C=R.getClassName(),K=R}return I}},12472:(u,R,I)=>{I.d(R,{B:()=>z,F:()=>b,G:()=>E,J:()=>D,K:()=>G,O:()=>S,S:()=>C,e:()=>K,i:()=>f,l:()=>r,p:()=>s,q:()=>P,u:()=>t,y:()=>X});var B=I(12476);function U(u,R){return(I,U)=>{const K=(0,B.c)(I);K[U]||(K[U]={type:u,sourceName:R})}}function K(u){return function(u){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(I,B)=>{const U=R||"_"+B;Object.defineProperty(I,B,{get:function(){return this[U]},set:function(R){var B;"function"===typeof(null===(B=this[U])||void 0===B?void 0:B.equals)&&this[U].equals(R)||this[U]!==R&&(this[U]=R,I[u].apply(this))},enumerable:!0,configurable:!0})}}(u,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function C(u){return U(0,u)}function D(u){return U(1,u)}function s(u){return U(2,u)}function t(u){return U(3,u)}function G(u){return U(4,u)}function S(u){return U(5,u)}function b(u){return U(6,u)}function r(u){return U(7,u)}function P(u){return U(8,u)}function X(u){return U(9,u)}function E(u){return U(10,u)}function z(u){return U(12,u)}function f(u,R,I,B){const U=I.value;I.value=function(){let I=U;if("undefined"!==typeof _native&&_native[R]){const u=_native[R];I=B?function(){return B(...arguments)?u(...arguments):U(...arguments)}:u}return u[R]=I,I(...arguments)}}f.filter=function(u){return(R,I,B)=>f(R,I,B,u)}},12507:(u,R,I)=>{I.d(R,{e:()=>t});var B=I(12335),U=I(12514),K=I(12518),C=I(12481),D=I(12476);const s=function(u,R,I){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const K=u();U.e&&U.e.HasTags(R)&&U.e.AddTagsTo(K,U.e.GetTags(R,!0));const C=(0,D.e)(K),s={};for(const U in C){const u=C[U],D=R[U],G=u.type;if(void 0!==D&&null!==D&&("uniqueId"!==U||t.AllowLoadingUniqueId))switch(G){case 0:case 6:case 9:case 11:K[U]=D;break;case 1:B.cloneTexturesOnlyOnce&&s[D.uniqueId]?K[U]=s[D.uniqueId]:(K[U]=I||D.isRenderTarget?D:D.clone(),s[D.uniqueId]=K[U]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:K[U]=I?D:D.clone()}}return K};class t{static AppendSerializedAnimations(u,R){if(u.animations){R.animations=[];for(let I=0;I<u.animations.length;I++){const B=u.animations[I];R.animations.push(B.serialize())}}}static Serialize(u,R){R||(R={}),U.e&&(R.tags=U.e.GetTags(u));const I=(0,D.e)(u);for(const B in I){const U=I[B],K=U.sourceName||B,C=U.type,D=u[B];if(void 0!==D&&null!==D&&("uniqueId"!==B||t.AllowLoadingUniqueId))switch(C){case 0:R[K]=D;break;case 1:case 3:case 7:case 9:R[K]=D.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:R[K]=D.sD();break;case 6:case 11:R[K]=D.id}}return R}static ParseProperties(u,R,I,B){B||(B="");const U=(0,D.e)(R);for(const D in U){const s=U[D],G=u[s.sourceName||D],S=s.type;if(void 0!==G&&null!==G&&("uniqueId"!==D||t.AllowLoadingUniqueId)){const u=R;switch(S){case 0:u[D]=G;break;case 1:I&&(u[D]=t._TextureParser(G,I,B));break;case 2:u[D]=K.fR.TR(G);break;case 3:u[D]=t._FresnelParametersParser(G);break;case 4:u[D]=C.Vector2.TR(G);break;case 5:u[D]=C.PR.TR(G);break;case 6:I&&(u[D]=I.getLastMeshById(G));break;case 7:u[D]=t._ColorCurvesParser(G);break;case 8:u[D]=K.TD.TR(G);break;case 9:u[D]=t._ImageProcessingConfigurationParser(G);break;case 10:u[D]=C.Quaternion.TR(G);break;case 11:I&&(u[D]=I.getCameraById(G));break;case 12:u[D]=C.Matrix.TR(G)}}}}static Parse(u,R,I){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const K=u();return U.e&&U.e.AddTagsTo(K,R.tags),t.ParseProperties(R,K,I,B),K}static Clone(u,R){return s(u,R,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(u,R){return s(u,R,!0)}}t.AllowLoadingUniqueId=!1,t._ImageProcessingConfigurationParser=u=>{throw(0,B.c)("ImageProcessingConfiguration")},t._FresnelParametersParser=u=>{throw(0,B.c)("FresnelParameters")},t._ColorCurvesParser=u=>{throw(0,B.c)("ColorCurves")},t._TextureParser=(u,R,I)=>{throw(0,B.c)("Texture")}},12514:(u,R,I)=>{I.d(R,{e:()=>U});class B{static Eval(u,R){return"true"===(u=u.match(/\([^()]*\)/g)?u.replace(/\([^()]*\)/g,(u=>(u=u.slice(1,u.length-1),B._HandleParenthesisContent(u,R)))):B._HandleParenthesisContent(u,R))||"false"!==u&&B.Eval(u,R)}static _HandleParenthesisContent(u,R){let I;R=R||(u=>"true"===u);const U=u.split("||");for(const K in U)if(Object.prototype.hasOwnProperty.call(U,K)){let u=B._SimplifyNegation(U[K].trim());const C=u.split("&&");if(C.length>1)for(let U=0;U<C.length;++U){const K=B._SimplifyNegation(C[U].trim());if(I="true"!==K&&"false"!==K?"!"===K[0]?!R(K.substring(1)):R(K):"true"===K,!I){u="false";break}}if(I||"true"===u){I=!0;break}I="true"!==u&&"false"!==u?"!"===u[0]?!R(u.substring(1)):R(u):"true"===u}return I?"true":"false"}static _SimplifyNegation(u){return"!true"===(u=(u=u.replace(/^[\s!]+/,(u=>(u=u.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?u="false":"!false"===u&&(u="true"),u}}class U{static EnableFor(u){u._tags=u._tags||{},u.hasTags=()=>U.HasTags(u),u.addTags=R=>U.AddTagsTo(u,R),u.removeTags=R=>U.RemoveTagsFrom(u,R),u.matchesTagsQuery=R=>U.MatchesQuery(u,R)}static DisableFor(u){delete u._tags,delete u.hasTags,delete u.addTags,delete u.removeTags,delete u.matchesTagsQuery}static HasTags(u){if(!u._tags)return!1;const R=u._tags;for(const I in R)if(Object.prototype.hasOwnProperty.call(R,I))return!0;return!1}static GetTags(u){let R=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!u._tags)return null;if(R){const R=[];for(const I in u._tags)Object.prototype.hasOwnProperty.call(u._tags,I)&&!0===u._tags[I]&&R.push(I);return R.join(" ")}return u._tags}static AddTagsTo(u,R){if(!R)return;if("string"!==typeof R)return;const I=R.split(" ");for(const B of I)U._AddTagTo(u,B)}static _AddTagTo(u,R){""!==(R=R.trim())&&"true"!==R&&"false"!==R&&(R.match(/[\s]/)||R.match(/^([!]|([|]|[&]){2})/)||(U.EnableFor(u),u._tags[R]=!0))}static RemoveTagsFrom(u,R){if(!U.HasTags(u))return;const I=R.split(" ");for(const B in I)U._RemoveTagFrom(u,I[B])}static _RemoveTagFrom(u,R){delete u._tags[R]}static MatchesQuery(u,R){return void 0===R||(""===R?U.HasTags(u):B.Eval(R,(R=>U.HasTags(u)&&u._tags[R])))}}},12466:(u,R,I)=>{I.d(R,{c:()=>B});function B(u,R,I,B){var U,K=arguments.length,C=K<3?R:null===B?B=Object.getOwnPropertyDescriptor(R,I):B;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)C=Reflect.decorate(u,R,I,B);else for(var D=u.length-1;D>=0;D--)(U=u[D])&&(C=(K<3?U(C):K>3?U(R,I,C):U(R,I))||C);return K>3&&C&&Object.defineProperty(R,I,C),C}Object.create;Object.create}}]);