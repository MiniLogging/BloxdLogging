"use strict";(self.qbp2s7qydk=self.qbp2s7qydk||[]).push([[13],{13025:(M,A,O)=>{O.d(A,{d:()=>S});let S=!1},12986:(M,A,O)=>{O.d(A,{d:()=>T});var S=O(12958),z=O(12964),Q=O(12776),X=O(12970),c=O(12811),j=O(12927),B=(O(12813),O(12992));class g{get wrapU(){return this._wrapU}set wrapU(M){this._wrapU=M}get wrapV(){return this._wrapV}set wrapV(M){this._wrapV=M}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(M){this._texture&&(this._texture.isCube=M)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(M){this._texture&&(this._texture.is3D=M)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(M){this._texture&&(this._texture.is2DArray=M)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(M){return void 0!==(null===M||void 0===M?void 0:M.shareDepth)}constructor(M){var A,O,S;(this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=B.e.Zero(),this._cachedBaseSize=B.e.Zero(),this._initialSamplingMode=2,this._texture=g._IsRenderTargetWrapper(M)?M.texture:M,this._texture)&&(this._engine=this._texture.getEngine(),this.wrapU=null!==(A=this._texture._cachedWrapU)&&void 0!==A?A:this.wrapU,this.wrapV=null!==(O=this._texture._cachedWrapV)&&void 0!==O?O:this.wrapV,this.wrapR=null!==(S=this._texture._cachedWrapR)&&void 0!==S?S:this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(M){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(M,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var e=O(12998);class T extends g{set ec(M){this._hasAlpha!==M&&(this._hasAlpha=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get ec(){return this._hasAlpha}set getAlphaFromRGB(M){this._getAlphaFromRGB!==M&&(this._getAlphaFromRGB=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(M){this._coordinatesIndex!==M&&(this._coordinatesIndex=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(M){this._coordinatesMode!==M&&(this._coordinatesMode=M,this._scene&&this._scene.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(M){this._wrapU=M}get wrapV(){return this._wrapV}set wrapV(M){this._wrapV=M}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(M){this._texture?this._texture.isCube=M:this._isCube=M}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(M){this._texture&&(this._texture.is3D=M)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(M){this._texture&&(this._texture.is2DArray=M)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(M){var A;if(this._texture){if(this._texture._gammaSpace===M)return;this._texture._gammaSpace=M}else{if(this._gammaSpace===M)return;this._gammaSpace=M}null===(A=this.HM())||void 0===A||A.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(M){var A;M!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=M),null===(A=this.HM())||void 0===A||A.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(M){this._texture&&(this._texture._lodGenerationOffset=M)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(M){this._texture&&(this._texture._lodGenerationScale=M)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(M){this._texture&&(this._texture._linearSpecularLOD=M)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(M){this._texture&&(this._texture._irradianceTexture=M)}get uid(){return this._uid||(this._uid=(0,j.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(M){this._onDisposeObserver&&this.Ac.remove(this._onDisposeObserver),this._onDisposeObserver=this.Ac.add(M)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=T.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Ac=new Q.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,M?T._IsScene(M)?this._scene=M:this._engine=M:this._scene=c.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=A,this._uid=null}HM(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return X.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return X.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(M){}get canRescale(){return!1}_getFromCache(M,A,O,S,z,Q){const X=this._getEngine();if(!X)return null;const c=X._getUseSRGBBuffer(!!z,A),j=X.getLoadedTexturesCache();for(let B=0;B<j.length;B++){const X=j[B];if((void 0===z||c===X._useSRGBBuffer)&&(void 0===S||S===X.invertY)&&X.url===M&&X.generateMipMaps===!A&&(!O||O===X.samplingMode)&&(void 0===Q||Q===X.isCube))return X.incrementReferences(),X}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const M=this.HM();M&&M.markAllMaterialsAsDirty(1)}readPixels(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],z=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,X=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,j=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const B=this._getEngine();if(!B)return null;const g=this.getSize();let e=g.width,T=g.height;0!==A&&(e/=Math.pow(2,A),T/=Math.pow(2,A),e=Math.round(e),T=Math.round(T)),c=Math.min(e,c),j=Math.min(T,j);try{return this._texture.isCube?B._readTexturePixels(this._texture,c,j,M,A,O,S,z,Q,X):B._readTexturePixels(this._texture,c,j,-1,A,O,S,z,Q,X)}catch(J){return null}}_readPixelsSync(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],z=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const Q=this.getSize();let X=Q.width,c=Q.height;const j=this._getEngine();if(!j)return null;0!=A&&(X/=Math.pow(2,A),c/=Math.pow(2,A),X=Math.round(X),c=Math.round(c));try{return this._texture.isCube?j._readTexturePixelsSync(this._texture,X,c,M,A,O,S,z):j._readTexturePixelsSync(this._texture,X,c,-1,A,O,S,z)}catch(B){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const M=this._scene.textures.indexOf(this);if(M>=0&&this._scene.textures.splice(M,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const M=this._parentContainer.textures.indexOf(this);M>-1&&this._parentContainer.textures.splice(M,1),this._parentContainer=null}}this.Ac.notifyObservers(this),this.Ac.clear(),this.metadata=null,super.dispose()}serialize(){let M=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!M)return null;const A=e.e.Serialize(this);return e.e.AppendSerializedAnimations(this,A),A}static WhenAllReady(M,A){let O=M.length;if(0!==O)for(let S=0;S<M.length;S++){const z=M[S];if(z.isReady())0===--O&&A();else{const M=z.onLoadObservable;M?M.addOnce((()=>{0===--O&&A()})):0===--O&&A()}}else A()}static _IsScene(M){return"Scene"===M.getClassName()}}T.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,S.d)([(0,z.H)()],T.prototype,"uniqueId",void 0),(0,S.d)([(0,z.H)()],T.prototype,"name",void 0),(0,S.d)([(0,z.H)()],T.prototype,"displayName",void 0),(0,S.d)([(0,z.H)()],T.prototype,"metadata",void 0),(0,S.d)([(0,z.H)("ec")],T.prototype,"_hasAlpha",void 0),(0,S.d)([(0,z.H)("getAlphaFromRGB")],T.prototype,"_getAlphaFromRGB",void 0),(0,S.d)([(0,z.H)()],T.prototype,"level",void 0),(0,S.d)([(0,z.H)("coordinatesIndex")],T.prototype,"_coordinatesIndex",void 0),(0,S.d)([(0,z.H)()],T.prototype,"optimizeUVAllocation",void 0),(0,S.d)([(0,z.H)("coordinatesMode")],T.prototype,"_coordinatesMode",void 0),(0,S.d)([(0,z.H)()],T.prototype,"wrapU",null),(0,S.d)([(0,z.H)()],T.prototype,"wrapV",null),(0,S.d)([(0,z.H)()],T.prototype,"wrapR",void 0),(0,S.d)([(0,z.H)()],T.prototype,"anisotropicFilteringLevel",void 0),(0,S.d)([(0,z.H)()],T.prototype,"isCube",null),(0,S.d)([(0,z.H)()],T.prototype,"is3D",null),(0,S.d)([(0,z.H)()],T.prototype,"is2DArray",null),(0,S.d)([(0,z.H)()],T.prototype,"gammaSpace",null),(0,S.d)([(0,z.H)()],T.prototype,"invertZ",void 0),(0,S.d)([(0,z.H)()],T.prototype,"lodLevelInAlpha",void 0),(0,S.d)([(0,z.H)()],T.prototype,"lodGenerationOffset",null),(0,S.d)([(0,z.H)()],T.prototype,"lodGenerationScale",null),(0,S.d)([(0,z.H)()],T.prototype,"linearSpecularLOD",null),(0,S.d)([(0,z.y)()],T.prototype,"irradianceTexture",null),(0,S.d)([(0,z.H)()],T.prototype,"isRenderTarget",void 0)},12949:(M,A,O)=>{O.d(A,{c:()=>b});var S=O(12958),z=O(12964),Q=O(12776),X=O(12970),c=O(12986),j=O(12919),B=O(12799),g=O(12848),e=O(12910),T=O(13019),J=O(12829);function K(M,A){let O=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const S=A.width,z=A.height;if(M instanceof Float32Array){let A=M.byteLength/M.BYTES_PER_ELEMENT;const O=new Uint8Array(A);for(;--A>=0;){let S=M[A];S<0?S=0:S>1&&(S=1),O[A]=255*S}M=O}const Q=document.createElement("canvas");Q.width=S,Q.height=z;const X=Q.getContext("2d");if(!X)return null;const c=X.createImageData(S,z);if(c.data.set(M),X.putImageData(c,0,0),O){const M=document.createElement("canvas");M.width=S,M.height=z;const A=M.getContext("2d");return A?(A.translate(0,z),A.scale(1,-1),A.drawImage(Q,0,0),M.toDataURL("image/png")):null}return Q.toDataURL("image/png")}function G(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const S=M.getInternalTexture();if(!S)return null;const z=M._readPixelsSync(A,O);return z?K(z,M.getSize(),S.invertY):null}async function d(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const S=M.getInternalTexture();if(!S)return null;const z=await M.readPixels(A,O);return z?K(z,M.getSize(),S.invertY):null}var w=O(13025),I=O(12998);class b extends c.d{static _CreateVideoTexture(M,A,O){arguments.length>5&&void 0!==arguments[5]||b.TRILINEAR_SAMPLINGMODE;throw(0,B.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(M){this._isBlocking=M}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(M,A,O,S){var z;let X,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.TRILINEAR_SAMPLINGMODE,j=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,e=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,T=arguments.length>8&&void 0!==arguments[8]&&arguments[8],J=arguments.length>9?arguments[9]:void 0,K=arguments.length>10?arguments[10]:void 0,G=arguments.length>11?arguments[11]:void 0,d=arguments.length>12?arguments[12]:void 0,I=arguments.length>13?arguments[13]:void 0;super(A),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new Q.c,this._isBlocking=!0,this.name=M||"",this.url=M;let s=!1,Y=null,E=!0;var H,C,f,D,F,N,y,h,u,i,U;"object"===typeof O&&null!==O?(X=null!==(H=O.noMipmap)&&void 0!==H&&H,S=null!==(C=O.invertY)&&void 0!==C?C:!w.d,c=null!==(f=O.samplingMode)&&void 0!==f?f:b.TRILINEAR_SAMPLINGMODE,j=null!==(D=O.R)&&void 0!==D?D:null,B=null!==(F=O.onError)&&void 0!==F?F:null,e=null!==(N=O.buffer)&&void 0!==N?N:null,T=null!==(y=O.deleteBuffer)&&void 0!==y&&y,J=O.format,K=O.mimeType,G=O.loaderOptions,d=O.creationFlags,s=null!==(h=O.useSRGBBuffer)&&void 0!==h&&h,Y=null!==(u=O.internalTexture)&&void 0!==u?u:null,E=null!==(i=O.gammaSpace)&&void 0!==i?i:E,I=null!==(U=O.forcedExtension)&&void 0!==U?U:I):X=!!O;this._gammaSpace=E,this._noMipmap=X,this._invertY=void 0===S?!w.d:S,this._initialSamplingMode=c,this._buffer=e,this._deleteBuffer=T,this._mimeType=K,this._loaderOptions=G,this._creationFlags=d,this._useSRGBBuffer=s,this._forcedExtension=I,void 0!==J&&(this._format=J);const L=this.HM(),t=this._getEngine();if(!t)return;t.onBeforeTextureInitObservable.notifyObservers(this);const x=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),j&&j(),!this.isBlocking&&L&&L.resetCachedMaterial()},o=(M,A)=>{this._loadingError=!0,this._errorObject={message:M,exception:A},B&&B(M,A),b.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Y)return this._delayedOnLoad=x,void(this._delayedOnError=o);if(this._texture=null!==(z=Y)&&void 0!==z?z:this._getFromCache(this.url,X,c,this._invertY,s,this.isCube),this._texture)if(this._texture.isReady)g.b.SetImmediate((()=>x()));else{const M=this._texture.onLoadedObservable.add(x);this._texture.onErrorObservable.add((A=>{var O;o(A.message,A.exception),null===(O=this._texture)||void 0===O||O.onLoadedObservable.remove(M)}))}else if(L&&L.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=x,this._delayedOnError=o;else{try{this._texture=t.createTexture(this.url,X,this._invertY,L,c,x,o,this._buffer,void 0,this._format,this._forcedExtension,K,G,d,s)}catch(p){throw o("error loading",p),p}T&&(this._buffer=null)}}updateURL(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,O=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.HM().markAllMaterialsAsDirty(1,(M=>M.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=M),this.url=M,this._buffer=A,this._forcedExtension=S,this.delayLoadState=4,O&&(this._delayedOnLoad=O),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const M=this.HM();M&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?g.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=M.getEngine().createTexture(this.url,this._noMipmap,this._invertY,M,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(M,A,O,S){M*=this._cachedUScale,A*=this._cachedVScale,M-=this.uRotationCenter*this._cachedUScale,A-=this.vRotationCenter*this._cachedVScale,O-=this.wRotationCenter,X.GA.TransformCoordinatesFromFloatsToRef(M,A,O,this._rowGenerationMatrix,S),S.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,S.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,S.z+=this.wRotationCenter}getTextureMatrix(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*M===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*M,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=X.Matrix.Zero(),this._rowGenerationMatrix=new X.Matrix,this._t0=X.GA.Zero(),this._t1=X.GA.Zero(),this._t2=X.GA.Zero()),X.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(X.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,X.TmpVectors.Matrix[0]),X.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,X.TmpVectors.Matrix[1]),X.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,X.TmpVectors.Matrix[2]),X.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,X.TmpVectors.Matrix[3]),X.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(X.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(X.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(X.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.KT(this._t0),this._t2.KT(this._t0),X.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const A=this.HM();if(!A)return this._cachedTextureMatrix;const O=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&O!==this._cachedIdentity3x2&&A.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const M=this.HM();if(!M)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==b.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===M.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=X.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=X.Matrix.Zero());const A=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case b.PLANAR_MODE:X.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case b.PROJECTION_MODE:{X.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const A=M.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=A.updateFlag,A.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:X.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return A&&M.markAllMaterialsAsDirty(1,(M=>M.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const M={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,R:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return I.e.Clone((()=>new b(this._texture?this._texture.url:null,this.HM(),M)),this)}serialize(){var M;const A=this.name;b.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const O=super.serialize(b._SerializeInternalTextureUniqueId);if(!O)return null;if(b.SerializeBuffers||b.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))O.base64String=this._buffer,O.name=O.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const M=this.mimeType||"image/png";O.base64String="data:".concat(M,";base64,").concat((0,J.h)(this._buffer))}else(b.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(O.base64String=!this._engine||this._engine._features.supportSyncTextureRead?G(this):d(this));var S;(O.invertY=this._invertY,O.samplingMode=this.samplingMode,O._creationFlags=this._creationFlags,O._useSRGBBuffer=this._useSRGBBuffer,b._SerializeInternalTextureUniqueId)&&(O.internalTextureUniqueId=null===(S=this._texture)||void 0===S?void 0:S.uniqueId);return O.internalTextureLabel=null===(M=this._texture)||void 0===M?void 0:M.label,O.noMipmap=this._noMipmap,this.name=A,O}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(M,A,O){if(M.customType){const S=e.b.Instantiate(M.customType).Parse(M,A,O);return M.samplingMode&&S.updateSamplingMode&&S._samplingMode&&S._samplingMode!==M.samplingMode&&S.updateSamplingMode(M.samplingMode),S}if(M.isCube&&!M.isRenderTarget)return b._CubeTextureParser(M,A,O);const S=void 0!==M.internalTextureUniqueId;if(!M.name&&!M.isRenderTarget&&!S)return null;let z;if(S){const O=A.getEngine().getLoadedTexturesCache();for(const A of O)if(A.uniqueId===M.internalTextureUniqueId){z=A;break}}const Q=A=>{if(A&&A._texture&&(A._texture._cachedWrapU=null,A._texture._cachedWrapV=null,A._texture._cachedWrapR=null),M.samplingMode){const O=M.samplingMode;A&&A.samplingMode!==O&&A.updateSamplingMode(O)}if(A&&M.animations)for(let O=0;O<M.animations.length;O++){const S=M.animations[O],z=(0,j.c)("BABYLON.Animation");z&&A.animations.push(z.Parse(S))}A&&A._texture&&(S&&!z&&A._texture._setUniqueId(M.internalTextureUniqueId),A._texture.label=M.internalTextureLabel)};return I.e.Parse((()=>{let S=!0;if(M.noMipmap&&(S=!1),M.mirrorPlane){const O=b._CreateMirror(M.name,M.renderTargetSize,A,S);return O._waitingRenderList=M.renderList,O.mirrorPlane=T.e.sA(M.mirrorPlane),Q(O),O}if(M.isRenderTarget){let O=null;var X;if(M.isCube){if(A.reflectionProbes)for(let S=0;S<A.reflectionProbes.length;S++){const O=A.reflectionProbes[S];if(O.name===M.name)return O.cubeTexture}}else O=b._CreateRenderTargetTexture(M.name,M.renderTargetSize,A,S,null!==(X=M._creationFlags)&&void 0!==X?X:0),O._waitingRenderList=M.renderList;return Q(O),O}if(M.isVideo){const z=b._CreateVideoTexture(O+(M.url||M.name),O+(M.src||M.url),A,S,M.invertY,M.samplingMode,M.settings||{});return Q(z),z}{let X;if(M.base64String&&!z){var c,j;X=b.CreateFromBase64String(M.base64String,M.base64String,A,!S,M.invertY,M.samplingMode,(()=>{Q(X)}),null!==(c=M._creationFlags)&&void 0!==c?c:0,null!==(j=M._useSRGBBuffer)&&void 0!==j&&j),X.name=M.name}else{let c;c=M.name&&(M.name.indexOf("://")>0||M.name.startsWith("data:"))?M.name:O+M.name,M.url&&(M.url.startsWith("data:")||b.UseSerializedUrlIfAny)&&(c=M.url);const j={noMipmap:!S,invertY:M.invertY,samplingMode:M.samplingMode,R:()=>{Q(X)},internalTexture:z};X=new b(c,A,j)}return X}}),M,A)}static CreateFromBase64String(M,A,O,S,z){let Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b.TRILINEAR_SAMPLINGMODE;return new b("data:"+A,O,S,z,Q,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,M,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(M,A,O){let S=arguments.length>3&&void 0!==arguments[3]&&arguments[3],z=arguments.length>4?arguments[4]:void 0,Q=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],X=arguments.length>6&&void 0!==arguments[6]?arguments[6]:b.TRILINEAR_SAMPLINGMODE,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,j=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,B=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,g=arguments.length>10?arguments[10]:void 0,e=arguments.length>11?arguments[11]:void 0;return"data:"!==M.substring(0,5)&&(M="data:"+M),new b(M,O,z,Q,X,c,j,A,S,B,void 0,void 0,g,e)}}b.SerializeBuffers=!0,b.ForceSerializeBuffers=!1,b.OnTextureLoadErrorObservable=new Q.c,b._SerializeInternalTextureUniqueId=!1,b._CubeTextureParser=(M,A,O)=>{throw(0,B.d)("CubeTexture")},b._CreateMirror=(M,A,O,S)=>{throw(0,B.d)("MirrorTexture")},b._CreateRenderTargetTexture=(M,A,O,S,z)=>{throw(0,B.d)("RenderTargetTexture")},b.NEAREST_SAMPLINGMODE=1,b.NEAREST_NEAREST_MIPLINEAR=8,b.BILINEAR_SAMPLINGMODE=2,b.LINEAR_LINEAR_MIPNEAREST=11,b.TRILINEAR_SAMPLINGMODE=3,b.LINEAR_LINEAR_MIPLINEAR=3,b.NEAREST_NEAREST_MIPNEAREST=4,b.NEAREST_LINEAR_MIPNEAREST=5,b.NEAREST_LINEAR_MIPLINEAR=6,b.NEAREST_LINEAR=7,b.NEAREST_NEAREST=1,b.LINEAR_NEAREST_MIPNEAREST=9,b.LINEAR_NEAREST_MIPLINEAR=10,b.LINEAR_LINEAR=2,b.LINEAR_NEAREST=12,b.EXPLICIT_MODE=0,b.SPHERICAL_MODE=1,b.PLANAR_MODE=2,b.CUBIC_MODE=3,b.PROJECTION_MODE=4,b.SKYBOX_MODE=5,b.INVCUBIC_MODE=6,b.EQUIRECTANGULAR_MODE=7,b.FIXED_EQUIRECTANGULAR_MODE=8,b.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,b.CLAMP_ADDRESSMODE=0,b.WRAP_ADDRESSMODE=1,b.MIRROR_ADDRESSMODE=2,b.UseSerializedUrlIfAny=!1,(0,S.d)([(0,z.H)()],b.prototype,"url",void 0),(0,S.d)([(0,z.H)()],b.prototype,"uOffset",void 0),(0,S.d)([(0,z.H)()],b.prototype,"vOffset",void 0),(0,S.d)([(0,z.H)()],b.prototype,"uScale",void 0),(0,S.d)([(0,z.H)()],b.prototype,"vScale",void 0),(0,S.d)([(0,z.H)()],b.prototype,"uAng",void 0),(0,S.d)([(0,z.H)()],b.prototype,"vAng",void 0),(0,S.d)([(0,z.H)()],b.prototype,"wAng",void 0),(0,S.d)([(0,z.H)()],b.prototype,"uRotationCenter",void 0),(0,S.d)([(0,z.H)()],b.prototype,"vRotationCenter",void 0),(0,S.d)([(0,z.H)()],b.prototype,"wRotationCenter",void 0),(0,S.d)([(0,z.H)()],b.prototype,"homogeneousRotationInUVTransform",void 0),(0,S.d)([(0,z.H)()],b.prototype,"isBlocking",null),(0,j.g)("BABYLON.Texture",b),I.e._TextureParser=b.Parse},13019:(M,A,O)=>{O.d(A,{e:()=>z});var S=O(12970);class z{constructor(M,A,O,z){this.normal=new S.GA(M,A,O),this.d=z}gc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new z(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let M=this.normal.getHashCode();return M=397*M^this.d,M}normalize(){const M=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let A=0;return 0!==M&&(A=1/M),this.normal.x*=A,this.normal.y*=A,this.normal.z*=A,this.d*=A,this}transform(M){const A=z._TmpMatrix;M.invertToRef(A);const O=A.m,S=this.normal.x,Q=this.normal.y,X=this.normal.z,c=this.d,j=S*O[0]+Q*O[1]+X*O[2]+c*O[3],B=S*O[4]+Q*O[5]+X*O[6]+c*O[7],g=S*O[8]+Q*O[9]+X*O[10]+c*O[11],e=S*O[12]+Q*O[13]+X*O[14]+c*O[15];return new z(j,B,g,e)}dotCoordinate(M){return this.normal.x*M.x+this.normal.y*M.y+this.normal.z*M.z+this.d}copyFromPoints(M,A,O){const S=A.x-M.x,z=A.y-M.y,Q=A.z-M.z,X=O.x-M.x,c=O.y-M.y,j=O.z-M.z,B=z*j-Q*c,g=Q*X-S*j,e=S*c-z*X,T=Math.sqrt(B*B+g*g+e*e);let J;return J=0!==T?1/T:0,this.normal.x=B*J,this.normal.y=g*J,this.normal.z=e*J,this.d=-(this.normal.x*M.x+this.normal.y*M.y+this.normal.z*M.z),this}isFrontFacingTo(M,A){return S.GA.Dot(this.normal,M)<=A}signedDistanceTo(M){return S.GA.Dot(M,this.normal)+this.d}static sA(M){return new z(M[0],M[1],M[2],M[3])}static FromPoints(M,A,O){const S=new z(0,0,0,0);return S.copyFromPoints(M,A,O),S}static FromPositionAndNormal(M,A){const O=new z(0,0,0,0);return this.FromPositionAndNormalToRef(M,A,O)}static FromPositionAndNormalToRef(M,A,O){return O.normal.S(A),O.normal.normalize(),O.d=-M.dot(O.normal),O}static SignedDistanceToPlaneFromPositionAndNormal(M,A,O){const z=-(A.x*M.x+A.y*M.y+A.z*M.z);return S.GA.Dot(O,A)+z}}z._TmpMatrix=S.Matrix.Identity()},12992:(M,A,O)=>{O.d(A,{e:()=>S});class S{constructor(M,A){this.width=M,this.height=A}toString(){return"{W: ".concat(this.width,", H: ").concat(this.height,"}")}getClassName(){return"Size"}getHashCode(){let M=0|this.width;return M=397*M^this.height,M}S(M){this.width=M.width,this.height=M.height}Yc(M,A){return this.width=M,this.height=A,this}set(M,A){return this.Yc(M,A)}multiplyByFloats(M,A){return new S(this.width*M,this.height*A)}clone(){return new S(this.width,this.height)}equals(M){return!!M&&(this.width===M.width&&this.height===M.height)}get surface(){return this.width*this.height}static Zero(){return new S(0,0)}add(M){return new S(this.width+M.width,this.height+M.height)}dA(M){return new S(this.width-M.width,this.height-M.height)}scale(M){return new S(this.width*M,this.height*M)}static Lerp(M,A,O){const z=M.width+(A.width-M.width)*O,Q=M.height+(A.height-M.height)*O;return new S(z,Q)}}},12967:(M,A,O)=>{O.d(A,{d:()=>Q,h:()=>X});const S={},z={};function Q(M){const A=M.getClassName();return z[A]||(z[A]={}),z[A]}function X(M){const A=M.getClassName();if(S[A])return S[A];S[A]={};const O=S[A];let Q=M,X=A;for(;X;){const M=z[X];for(const z in M)O[z]=M[z];let A,S=!1;do{if(A=Object.getPrototypeOf(Q),!A.getClassName){S=!0;break}if(A.getClassName()!==X)break;Q=A}while(A);if(S)break;X=A.getClassName(),Q=A}return O}},12964:(M,A,O)=>{O.d(A,{C:()=>g,D:()=>e,H:()=>X,b:()=>Q,c:()=>I,e:()=>J,f:()=>j,j:()=>K,l:()=>B,m:()=>G,q:()=>w,s:()=>T,u:()=>d,y:()=>c});var S=O(12967);function z(M,A){return(O,z)=>{const Q=(0,S.d)(O);Q[z]||(Q[z]={type:M,sourceName:A})}}function Q(M){return function(M){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(O,S)=>{const z=A||"_"+S;Object.defineProperty(O,S,{get:function(){return this[z]},set:function(A){var S;"function"===typeof(null===(S=this[z])||void 0===S?void 0:S.equals)&&this[z].equals(A)||this[z]!==A&&(this[z]=A,O[M].apply(this))},enumerable:!0,configurable:!0})}}(M,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function X(M){return z(0,M)}function c(M){return z(1,M)}function j(M){return z(2,M)}function B(M){return z(3,M)}function g(M){return z(4,M)}function e(M){return z(5,M)}function T(M){return z(6,M)}function J(M){return z(7,M)}function K(M){return z(8,M)}function G(M){return z(9,M)}function d(M){return z(10,M)}function w(M){return z(12,M)}function I(M,A,O,S){const z=O.value;O.value=function(){let O=z;if("undefined"!==typeof _native&&_native[A]){const M=_native[A];O=S?function(){return S(...arguments)?M(...arguments):z(...arguments)}:M}return M[A]=O,O(...arguments)}}I.filter=function(M){return(A,O,S)=>I(A,O,S,M)}},12998:(M,A,O)=>{O.d(A,{e:()=>B});var S=O(12799),z=O(13005),Q=O(13010),X=O(12970),c=O(12967);const j=function(M,A,O){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const Q=M();z.b&&z.b.HasTags(A)&&z.b.AddTagsTo(Q,z.b.GetTags(A,!0));const X=(0,c.h)(Q),j={};for(const z in X){const M=X[z],c=A[z],g=M.type;if(void 0!==c&&null!==c&&("uniqueId"!==z||B.AllowLoadingUniqueId))switch(g){case 0:case 6:case 9:case 11:Q[z]=c;break;case 1:S.cloneTexturesOnlyOnce&&j[c.uniqueId]?Q[z]=j[c.uniqueId]:(Q[z]=O||c.isRenderTarget?c:c.clone(),j[c.uniqueId]=Q[z]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:Q[z]=O?c:c.clone()}}return Q};class B{static AppendSerializedAnimations(M,A){if(M.animations){A.animations=[];for(let O=0;O<M.animations.length;O++){const S=M.animations[O];A.animations.push(S.serialize())}}}static Serialize(M,A){A||(A={}),z.b&&(A.tags=z.b.GetTags(M));const O=(0,c.h)(M);for(const S in O){const z=O[S],Q=z.sourceName||S,X=z.type,c=M[S];if(void 0!==c&&null!==c&&("uniqueId"!==S||B.AllowLoadingUniqueId))switch(X){case 0:A[Q]=c;break;case 1:case 3:case 7:case 9:A[Q]=c.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:A[Q]=c.gc();break;case 6:case 11:A[Q]=c.id}}return A}static ParseProperties(M,A,O,S){S||(S="");const z=(0,c.h)(A);for(const c in z){const j=z[c],g=M[j.sourceName||c],e=j.type;if(void 0!==g&&null!==g&&("uniqueId"!==c||B.AllowLoadingUniqueId)){const M=A;switch(e){case 0:M[c]=g;break;case 1:O&&(M[c]=B._TextureParser(g,O,S));break;case 2:M[c]=Q.bA.sA(g);break;case 3:M[c]=B._FresnelParametersParser(g);break;case 4:M[c]=X.Vector2.sA(g);break;case 5:M[c]=X.GA.sA(g);break;case 6:O&&(M[c]=O.getLastMeshById(g));break;case 7:M[c]=B._ColorCurvesParser(g);break;case 8:M[c]=Q.Cc.sA(g);break;case 9:M[c]=B._ImageProcessingConfigurationParser(g);break;case 10:M[c]=X.Quaternion.sA(g);break;case 11:O&&(M[c]=O.getCameraById(g));break;case 12:M[c]=X.Matrix.sA(g)}}}}static Parse(M,A,O){let S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const Q=M();return z.b&&z.b.AddTagsTo(Q,A.tags),B.ParseProperties(A,Q,O,S),Q}static Clone(M,A){return j(M,A,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(M,A){return j(M,A,!0)}}B.AllowLoadingUniqueId=!1,B._ImageProcessingConfigurationParser=M=>{throw(0,S.d)("ImageProcessingConfiguration")},B._FresnelParametersParser=M=>{throw(0,S.d)("FresnelParameters")},B._ColorCurvesParser=M=>{throw(0,S.d)("ColorCurves")},B._TextureParser=(M,A,O)=>{throw(0,S.d)("Texture")}},13005:(M,A,O)=>{O.d(A,{b:()=>z});class S{static Eval(M,A){return"true"===(M=M.match(/\([^()]*\)/g)?M.replace(/\([^()]*\)/g,(M=>(M=M.slice(1,M.length-1),S._HandleParenthesisContent(M,A)))):S._HandleParenthesisContent(M,A))||"false"!==M&&S.Eval(M,A)}static _HandleParenthesisContent(M,A){let O;A=A||(M=>"true"===M);const z=M.split("||");for(const Q in z)if(Object.prototype.hasOwnProperty.call(z,Q)){let M=S._SimplifyNegation(z[Q].trim());const X=M.split("&&");if(X.length>1)for(let z=0;z<X.length;++z){const Q=S._SimplifyNegation(X[z].trim());if(O="true"!==Q&&"false"!==Q?"!"===Q[0]?!A(Q.substring(1)):A(Q):"true"===Q,!O){M="false";break}}if(O||"true"===M){O=!0;break}O="true"!==M&&"false"!==M?"!"===M[0]?!A(M.substring(1)):A(M):"true"===M}return O?"true":"false"}static _SimplifyNegation(M){return"!true"===(M=(M=M.replace(/^[\s!]+/,(M=>(M=M.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?M="false":"!false"===M&&(M="true"),M}}class z{static EnableFor(M){M._tags=M._tags||{},M.hasTags=()=>z.HasTags(M),M.addTags=A=>z.AddTagsTo(M,A),M.removeTags=A=>z.RemoveTagsFrom(M,A),M.matchesTagsQuery=A=>z.MatchesQuery(M,A)}static DisableFor(M){delete M._tags,delete M.hasTags,delete M.addTags,delete M.removeTags,delete M.matchesTagsQuery}static HasTags(M){if(!M._tags)return!1;const A=M._tags;for(const O in A)if(Object.prototype.hasOwnProperty.call(A,O))return!0;return!1}static GetTags(M){let A=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!M._tags)return null;if(A){const A=[];for(const O in M._tags)Object.prototype.hasOwnProperty.call(M._tags,O)&&!0===M._tags[O]&&A.push(O);return A.join(" ")}return M._tags}static AddTagsTo(M,A){if(!A)return;if("string"!==typeof A)return;const O=A.split(" ");for(const S of O)z._AddTagTo(M,S)}static _AddTagTo(M,A){""!==(A=A.trim())&&"true"!==A&&"false"!==A&&(A.match(/[\s]/)||A.match(/^([!]|([|]|[&]){2})/)||(z.EnableFor(M),M._tags[A]=!0))}static RemoveTagsFrom(M,A){if(!z.HasTags(M))return;const O=A.split(" ");for(const S in O)z._RemoveTagFrom(M,O[S])}static _RemoveTagFrom(M,A){delete M._tags[A]}static MatchesQuery(M,A){return void 0===A||(""===A?z.HasTags(M):S.Eval(A,(A=>z.HasTags(M)&&M._tags[A])))}}},12958:(M,A,O)=>{O.d(A,{d:()=>S});function S(M,A,O,S){var z,Q=arguments.length,X=Q<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,O):S;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)X=Reflect.decorate(M,A,O,S);else for(var c=M.length-1;c>=0;c--)(z=M[c])&&(X=(Q<3?z(X):Q>3?z(A,O,X):z(A,O))||X);return Q>3&&X&&Object.defineProperty(A,O,X),X}Object.create;Object.create}}]);