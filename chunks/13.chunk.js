"use strict";(self.qcdfysujsyf=self.qcdfysujsyf||[]).push([[13],{12754:(K,A,T)=>{T.d(A,{d:()=>G});let G=!1},12722:(K,A,T)=>{T.d(A,{e:()=>x});var G=T(12683),B=T(12688),L=T(12534),f=T(12700),O=T(12565),C=T(12653),Q=(T(12571),T(12727));class Y{get wrapU(){return this._wrapU}set wrapU(K){this._wrapU=K}get wrapV(){return this._wrapV}set wrapV(K){this._wrapV=K}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(K){this._texture&&(this._texture.isCube=K)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(K){this._texture&&(this._texture.is3D=K)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(K){this._texture&&(this._texture.is2DArray=K)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(K){return void 0!==(null===K||void 0===K?void 0:K.shareDepth)}constructor(K){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=Q.e.Zero(),this._cachedBaseSize=Q.e.Zero(),this._initialSamplingMode=2,this._texture=Y._IsRenderTargetWrapper(K)?K.texture:K,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(K){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(K,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var Z=T(12733);class x extends Y{set sf(K){this._hasAlpha!==K&&(this._hasAlpha=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get sf(){return this._hasAlpha}set getAlphaFromRGB(K){this._getAlphaFromRGB!==K&&(this._getAlphaFromRGB=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(K){this._coordinatesIndex!==K&&(this._coordinatesIndex=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(K){this._coordinatesMode!==K&&(this._coordinatesMode=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(K){this._wrapU=K}get wrapV(){return this._wrapV}set wrapV(K){this._wrapV=K}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(K){this._texture?this._texture.isCube=K:this._isCube=K}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(K){this._texture&&(this._texture.is3D=K)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(K){this._texture&&(this._texture.is2DArray=K)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(K){var A;if(this._texture){if(this._texture._gammaSpace===K)return;this._texture._gammaSpace=K}else{if(this._gammaSpace===K)return;this._gammaSpace=K}null===(A=this.SK())||void 0===A||A.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(K){var A;K!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=K),null===(A=this.SK())||void 0===A||A.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(K){this._texture&&(this._texture._lodGenerationOffset=K)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(K){this._texture&&(this._texture._lodGenerationScale=K)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(K){this._texture&&(this._texture._linearSpecularLOD=K)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(K){this._texture&&(this._texture._irradianceTexture=K)}get uid(){return this._uid||(this._uid=(0,C.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(K){this._onDisposeObserver&&this.Ff.remove(this._onDisposeObserver),this._onDisposeObserver=this.Ff.add(K)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Ff=new L.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,K?x._IsScene(K)?this._scene=K:this._engine=K:this._scene=O.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=A,this._uid=null}SK(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return f.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return f.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(K){}get canRescale(){return!1}_getFromCache(K,A,T,G,B,L){const f=this._getEngine();if(!f)return null;const O=f._getUseSRGBBuffer(!!B,A),C=f.getLoadedTexturesCache();for(let Q=0;Q<C.length;Q++){const f=C[Q];if((void 0===B||O===f._useSRGBBuffer)&&(void 0===G||G===f.invertY)&&f.url===K&&f.generateMipMaps===!A&&(!T||T===f.samplingMode)&&(void 0===L||L===f.isCube))return f.incrementReferences(),f}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const K=this.SK();K&&K.markAllMaterialsAsDirty(1)}readPixels(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,G=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4],L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const Q=this._getEngine();if(!Q)return null;const Y=this.getSize();let Z=Y.width,x=Y.height;0!==A&&(Z/=Math.pow(2,A),x/=Math.pow(2,A),Z=Math.round(Z),x=Math.round(x)),O=Math.min(Z,O),C=Math.min(x,C);try{return this._texture.isCube?Q._readTexturePixels(this._texture,O,C,K,A,T,G,B,L,f):Q._readTexturePixels(this._texture,O,C,-1,A,T,G,B,L,f)}catch(J){return null}}_readPixelsSync(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,G=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],B=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const L=this.getSize();let f=L.width,O=L.height;const C=this._getEngine();if(!C)return null;0!=A&&(f/=Math.pow(2,A),O/=Math.pow(2,A),f=Math.round(f),O=Math.round(O));try{return this._texture.isCube?C._readTexturePixelsSync(this._texture,f,O,K,A,T,G,B):C._readTexturePixelsSync(this._texture,f,O,-1,A,T,G,B)}catch(Q){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const K=this._scene.textures.indexOf(this);if(K>=0&&this._scene.textures.splice(K,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const K=this._parentContainer.textures.indexOf(this);K>-1&&this._parentContainer.textures.splice(K,1),this._parentContainer=null}}this.Ff.notifyObservers(this),this.Ff.clear(),this.metadata=null,super.dispose()}serialize(){let K=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!K)return null;const A=Z.c.Serialize(this);return Z.c.AppendSerializedAnimations(this,A),A}static WhenAllReady(K,A){let T=K.length;if(0!==T)for(let G=0;G<K.length;G++){const B=K[G];if(B.isReady())0===--T&&A();else{const K=B.onLoadObservable;K?K.addOnce((()=>{0===--T&&A()})):0===--T&&A()}}else A()}static _IsScene(K){return"Scene"===K.getClassName()}}x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,G.c)([(0,B.B)()],x.prototype,"uniqueId",void 0),(0,G.c)([(0,B.B)()],x.prototype,"name",void 0),(0,G.c)([(0,B.B)()],x.prototype,"displayName",void 0),(0,G.c)([(0,B.B)()],x.prototype,"metadata",void 0),(0,G.c)([(0,B.B)("sf")],x.prototype,"_hasAlpha",void 0),(0,G.c)([(0,B.B)("getAlphaFromRGB")],x.prototype,"_getAlphaFromRGB",void 0),(0,G.c)([(0,B.B)()],x.prototype,"level",void 0),(0,G.c)([(0,B.B)("coordinatesIndex")],x.prototype,"_coordinatesIndex",void 0),(0,G.c)([(0,B.B)()],x.prototype,"optimizeUVAllocation",void 0),(0,G.c)([(0,B.B)("coordinatesMode")],x.prototype,"_coordinatesMode",void 0),(0,G.c)([(0,B.B)()],x.prototype,"wrapU",null),(0,G.c)([(0,B.B)()],x.prototype,"wrapV",null),(0,G.c)([(0,B.B)()],x.prototype,"wrapR",void 0),(0,G.c)([(0,B.B)()],x.prototype,"anisotropicFilteringLevel",void 0),(0,G.c)([(0,B.B)()],x.prototype,"isCube",null),(0,G.c)([(0,B.B)()],x.prototype,"is3D",null),(0,G.c)([(0,B.B)()],x.prototype,"is2DArray",null),(0,G.c)([(0,B.B)()],x.prototype,"gammaSpace",null),(0,G.c)([(0,B.B)()],x.prototype,"invertZ",void 0),(0,G.c)([(0,B.B)()],x.prototype,"lodLevelInAlpha",void 0),(0,G.c)([(0,B.B)()],x.prototype,"lodGenerationOffset",null),(0,G.c)([(0,B.B)()],x.prototype,"lodGenerationScale",null),(0,G.c)([(0,B.B)()],x.prototype,"linearSpecularLOD",null),(0,G.c)([(0,B.v)()],x.prototype,"irradianceTexture",null),(0,G.c)([(0,B.B)()],x.prototype,"isRenderTarget",void 0)},12674:(K,A,T)=>{T.d(A,{c:()=>D});var G=T(12683),B=T(12688),L=T(12534),f=T(12700),O=T(12722),C=T(12651),Q=T(12555),Y=T(12596),Z=T(12649),x=T(12747),J=T(12579);function b(K,A){let T=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const G=A.width,B=A.height;if(K instanceof Float32Array){let A=K.byteLength/K.BYTES_PER_ELEMENT;const T=new Uint8Array(A);for(;--A>=0;){let G=K[A];G<0?G=0:G>1&&(G=1),T[A]=255*G}K=T}const L=document.createElement("canvas");L.width=G,L.height=B;const f=L.getContext("2d");if(!f)return null;const O=f.createImageData(G,B);if(O.data.set(K),f.putImageData(O,0,0),T){const K=document.createElement("canvas");K.width=G,K.height=B;const A=K.getContext("2d");return A?(A.translate(0,B),A.scale(1,-1),A.drawImage(L,0,0),K.toDataURL("image/png")):null}return L.toDataURL("image/png")}function P(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const G=K.getInternalTexture();if(!G)return null;const B=K._readPixelsSync(A,T);return B?b(B,K.getSize(),G.invertY):null}async function F(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const G=K.getInternalTexture();if(!G)return null;const B=await K.readPixels(A,T);return B?b(B,K.getSize(),G.invertY):null}var d=T(12754),N=T(12733);class D extends O.e{static _CreateVideoTexture(K,A,T){arguments.length>5&&void 0!==arguments[5]||D.TRILINEAR_SAMPLINGMODE;throw(0,Q.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(K){this._isBlocking=K}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(K,A,T,G){let B,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:D.TRILINEAR_SAMPLINGMODE,O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,C=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,Q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z=arguments.length>8&&void 0!==arguments[8]&&arguments[8],x=arguments.length>9?arguments[9]:void 0,J=arguments.length>10?arguments[10]:void 0,b=arguments.length>11?arguments[11]:void 0,P=arguments.length>12?arguments[12]:void 0,F=arguments.length>13?arguments[13]:void 0;super(A),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new L.e,this._isBlocking=!0,this.name=K||"",this.url=K;let N=!1,mK=null,U=!0;"object"===typeof T&&null!==T?(B=T.noMipmap??!1,G=T.invertY??!d.d,f=T.samplingMode??D.TRILINEAR_SAMPLINGMODE,O=T.q??null,C=T.onError??null,Q=T.buffer??null,Z=T.deleteBuffer??!1,x=T.format,J=T.mimeType,b=T.loaderOptions,P=T.creationFlags,N=T.useSRGBBuffer??!1,mK=T.internalTexture??null,U=T.gammaSpace??U,F=T.forcedExtension??F):B=!!T,this._gammaSpace=U,this._noMipmap=B,this._invertY=void 0===G?!d.d:G,this._initialSamplingMode=f,this._buffer=Q,this._deleteBuffer=Z,this._mimeType=J,this._loaderOptions=b,this._creationFlags=P,this._useSRGBBuffer=N,this._forcedExtension=F,void 0!==x&&(this._format=x);const z=this.SK(),g=this._getEngine();if(!g)return;g.onBeforeTextureInitObservable.notifyObservers(this);const S=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),O&&O(),!this.isBlocking&&z&&z.resetCachedMaterial()},l=(K,A)=>{this._loadingError=!0,this._errorObject={message:K,exception:A},C&&C(K,A),D.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!mK)return this._delayedOnLoad=S,void(this._delayedOnError=l);if(this._texture=mK??this._getFromCache(this.url,B,f,this._invertY,N,this.isCube),this._texture)if(this._texture.isReady)Y.d.SetImmediate((()=>S()));else{const K=this._texture.onLoadedObservable.add(S);this._texture.onErrorObservable.add((A=>{var T;l(A.message,A.exception),null===(T=this._texture)||void 0===T||T.onLoadedObservable.remove(K)}))}else if(z&&z.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=S,this._delayedOnError=l;else{try{this._texture=g.createTexture(this.url,B,this._invertY,z,f,S,l,this._buffer,void 0,this._format,this._forcedExtension,J,b,P,N)}catch(u){throw l("error loading",u),u}Z&&(this._buffer=null)}}updateURL(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0,G=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.SK().markAllMaterialsAsDirty(1,(K=>K.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=K),this.url=K,this._buffer=A,this._forcedExtension=G,this.delayLoadState=4,T&&(this._delayedOnLoad=T),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const K=this.SK();K&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?Y.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=K.getEngine().createTexture(this.url,this._noMipmap,this._invertY,K,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(K,A,T,G){K*=this._cachedUScale,A*=this._cachedVScale,K-=this.uRotationCenter*this._cachedUScale,A-=this.vRotationCenter*this._cachedVScale,T-=this.wRotationCenter,f.PA.TransformCoordinatesFromFloatsToRef(K,A,T,this._rowGenerationMatrix,G),G.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,G.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,G.z+=this.wRotationCenter}getTextureMatrix(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*K===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*K,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=f.Matrix.Zero(),this._rowGenerationMatrix=new f.Matrix,this._t0=f.PA.Zero(),this._t1=f.PA.Zero(),this._t2=f.PA.Zero()),f.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(f.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,f.TmpVectors.Matrix[0]),f.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,f.TmpVectors.Matrix[1]),f.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,f.TmpVectors.Matrix[2]),f.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,f.TmpVectors.Matrix[3]),f.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.DZ(this._t0),this._t2.DZ(this._t0),f.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const A=this.SK();if(!A)return this._cachedTextureMatrix;const T=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&T!==this._cachedIdentity3x2&&A.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const K=this.SK();if(!K)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==D.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===K.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=f.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=f.Matrix.Zero());const A=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case D.PLANAR_MODE:f.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case D.PROJECTION_MODE:{f.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const A=K.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=A.updateFlag,A.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:f.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return A&&K.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const K={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,q:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return N.c.Clone((()=>new D(this._texture?this._texture.url:null,this.SK(),K)),this)}serialize(){var K;const A=this.name;D.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const T=super.serialize(D._SerializeInternalTextureUniqueId);if(!T)return null;if(D.SerializeBuffers||D.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))T.base64String=this._buffer,T.name=T.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const K=this.mimeType||"image/png";T.base64String=`data:${K};base64,${(0,J.j)(this._buffer)}`}else(D.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(T.base64String=!this._engine||this._engine._features.supportSyncTextureRead?P(this):F(this));var G;(T.invertY=this._invertY,T.samplingMode=this.samplingMode,T._creationFlags=this._creationFlags,T._useSRGBBuffer=this._useSRGBBuffer,D._SerializeInternalTextureUniqueId)&&(T.internalTextureUniqueId=null===(G=this._texture)||void 0===G?void 0:G.uniqueId);return T.internalTextureLabel=null===(K=this._texture)||void 0===K?void 0:K.label,T.noMipmap=this._noMipmap,this.name=A,T}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(K,A,T){if(K.customType){const G=Z.b.Instantiate(K.customType).Parse(K,A,T);return K.samplingMode&&G.updateSamplingMode&&G._samplingMode&&G._samplingMode!==K.samplingMode&&G.updateSamplingMode(K.samplingMode),G}if(K.isCube&&!K.isRenderTarget)return D._CubeTextureParser(K,A,T);const G=void 0!==K.internalTextureUniqueId;if(!K.name&&!K.isRenderTarget&&!G)return null;let B;if(G){const T=A.getEngine().getLoadedTexturesCache();for(const A of T)if(A.uniqueId===K.internalTextureUniqueId){B=A;break}}const L=A=>{if(A&&A._texture&&(A._texture._cachedWrapU=null,A._texture._cachedWrapV=null,A._texture._cachedWrapR=null),K.samplingMode){const T=K.samplingMode;A&&A.samplingMode!==T&&A.updateSamplingMode(T)}if(A&&K.animations)for(let T=0;T<K.animations.length;T++){const G=K.animations[T],B=(0,C.b)("BABYLON.Animation");B&&A.animations.push(B.Parse(G))}A&&A._texture&&(G&&!B&&A._texture._setUniqueId(K.internalTextureUniqueId),A._texture.label=K.internalTextureLabel)};return N.c.Parse((()=>{let G=!0;if(K.noMipmap&&(G=!1),K.mirrorPlane){const T=D._CreateMirror(K.name,K.renderTargetSize,A,G);return T._waitingRenderList=K.renderList,T.mirrorPlane=x.e.mT(K.mirrorPlane),L(T),T}if(K.isRenderTarget){let T=null;if(K.isCube){if(A.reflectionProbes)for(let G=0;G<A.reflectionProbes.length;G++){const T=A.reflectionProbes[G];if(T.name===K.name)return T.cubeTexture}}else T=D._CreateRenderTargetTexture(K.name,K.renderTargetSize,A,G,K._creationFlags??0),T._waitingRenderList=K.renderList;return L(T),T}if(K.isVideo){const B=D._CreateVideoTexture(T+(K.url||K.name),T+(K.src||K.url),A,G,K.invertY,K.samplingMode,K.settings||{});return L(B),B}{let f;if(K.base64String&&!B)f=D.CreateFromBase64String(K.base64String,K.base64String,A,!G,K.invertY,K.samplingMode,(()=>{L(f)}),K._creationFlags??0,K._useSRGBBuffer??!1),f.name=K.name;else{let O;O=K.name&&(K.name.indexOf("://")>0||K.name.startsWith("data:"))?K.name:T+K.name,K.url&&(K.url.startsWith("data:")||D.UseSerializedUrlIfAny)&&(O=K.url);const C={noMipmap:!G,invertY:K.invertY,samplingMode:K.samplingMode,q:()=>{L(f)},internalTexture:B};f=new D(O,A,C)}return f}}),K,A)}static CreateFromBase64String(K,A,T,G,B){let L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:D.TRILINEAR_SAMPLINGMODE;return new D("data:"+A,T,G,B,L,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(K,A,T){let G=arguments.length>3&&void 0!==arguments[3]&&arguments[3],B=arguments.length>4?arguments[4]:void 0,L=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:D.TRILINEAR_SAMPLINGMODE,O=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,C=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,Q=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,Y=arguments.length>10?arguments[10]:void 0,Z=arguments.length>11?arguments[11]:void 0;return"data:"!==K.substring(0,5)&&(K="data:"+K),new D(K,T,B,L,f,O,C,A,G,Q,void 0,void 0,Y,Z)}}D.SerializeBuffers=!0,D.ForceSerializeBuffers=!1,D.OnTextureLoadErrorObservable=new L.e,D._SerializeInternalTextureUniqueId=!1,D._CubeTextureParser=(K,A,T)=>{throw(0,Q.c)("CubeTexture")},D._CreateMirror=(K,A,T,G)=>{throw(0,Q.c)("MirrorTexture")},D._CreateRenderTargetTexture=(K,A,T,G,B)=>{throw(0,Q.c)("RenderTargetTexture")},D.NEAREST_SAMPLINGMODE=1,D.NEAREST_NEAREST_MIPLINEAR=8,D.BILINEAR_SAMPLINGMODE=2,D.LINEAR_LINEAR_MIPNEAREST=11,D.TRILINEAR_SAMPLINGMODE=3,D.LINEAR_LINEAR_MIPLINEAR=3,D.NEAREST_NEAREST_MIPNEAREST=4,D.NEAREST_LINEAR_MIPNEAREST=5,D.NEAREST_LINEAR_MIPLINEAR=6,D.NEAREST_LINEAR=7,D.NEAREST_NEAREST=1,D.LINEAR_NEAREST_MIPNEAREST=9,D.LINEAR_NEAREST_MIPLINEAR=10,D.LINEAR_LINEAR=2,D.LINEAR_NEAREST=12,D.EXPLICIT_MODE=0,D.SPHERICAL_MODE=1,D.PLANAR_MODE=2,D.CUBIC_MODE=3,D.PROJECTION_MODE=4,D.SKYBOX_MODE=5,D.INVCUBIC_MODE=6,D.EQUIRECTANGULAR_MODE=7,D.FIXED_EQUIRECTANGULAR_MODE=8,D.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,D.CLAMP_ADDRESSMODE=0,D.WRAP_ADDRESSMODE=1,D.MIRROR_ADDRESSMODE=2,D.UseSerializedUrlIfAny=!1,(0,G.c)([(0,B.B)()],D.prototype,"url",void 0),(0,G.c)([(0,B.B)()],D.prototype,"uOffset",void 0),(0,G.c)([(0,B.B)()],D.prototype,"vOffset",void 0),(0,G.c)([(0,B.B)()],D.prototype,"uScale",void 0),(0,G.c)([(0,B.B)()],D.prototype,"vScale",void 0),(0,G.c)([(0,B.B)()],D.prototype,"uAng",void 0),(0,G.c)([(0,B.B)()],D.prototype,"vAng",void 0),(0,G.c)([(0,B.B)()],D.prototype,"wAng",void 0),(0,G.c)([(0,B.B)()],D.prototype,"uRotationCenter",void 0),(0,G.c)([(0,B.B)()],D.prototype,"vRotationCenter",void 0),(0,G.c)([(0,B.B)()],D.prototype,"wRotationCenter",void 0),(0,G.c)([(0,B.B)()],D.prototype,"homogeneousRotationInUVTransform",void 0),(0,G.c)([(0,B.B)()],D.prototype,"isBlocking",null),(0,C.c)("BABYLON.Texture",D),N.c._TextureParser=D.Parse},12747:(K,A,T)=>{T.d(A,{e:()=>B});var G=T(12700);class B{constructor(K,A,T,B){this.normal=new G.PA(K,A,T),this.d=B}kf(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new B(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let K=this.normal.getHashCode();return K=397*K^this.d,K}normalize(){const K=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let A=0;return 0!==K&&(A=1/K),this.normal.x*=A,this.normal.y*=A,this.normal.z*=A,this.d*=A,this}transform(K){const A=B._TmpMatrix;K.invertToRef(A);const T=A.m,G=this.normal.x,L=this.normal.y,f=this.normal.z,O=this.d,C=G*T[0]+L*T[1]+f*T[2]+O*T[3],Q=G*T[4]+L*T[5]+f*T[6]+O*T[7],Y=G*T[8]+L*T[9]+f*T[10]+O*T[11],Z=G*T[12]+L*T[13]+f*T[14]+O*T[15];return new B(C,Q,Y,Z)}dotCoordinate(K){return this.normal.x*K.x+this.normal.y*K.y+this.normal.z*K.z+this.d}copyFromPoints(K,A,T){const G=A.x-K.x,B=A.y-K.y,L=A.z-K.z,f=T.x-K.x,O=T.y-K.y,C=T.z-K.z,Q=B*C-L*O,Y=L*f-G*C,Z=G*O-B*f,x=Math.sqrt(Q*Q+Y*Y+Z*Z);let J;return J=0!==x?1/x:0,this.normal.x=Q*J,this.normal.y=Y*J,this.normal.z=Z*J,this.d=-(this.normal.x*K.x+this.normal.y*K.y+this.normal.z*K.z),this}isFrontFacingTo(K,A){return G.PA.Dot(this.normal,K)<=A}signedDistanceTo(K){return G.PA.Dot(K,this.normal)+this.d}static mT(K){return new B(K[0],K[1],K[2],K[3])}static FromPoints(K,A,T){const G=new B(0,0,0,0);return G.copyFromPoints(K,A,T),G}static FromPositionAndNormal(K,A){const T=new B(0,0,0,0);return this.FromPositionAndNormalToRef(K,A,T)}static FromPositionAndNormalToRef(K,A,T){return T.normal.G(A),T.normal.normalize(),T.d=-K.dot(T.normal),T}static SignedDistanceToPlaneFromPositionAndNormal(K,A,T){const B=-(A.x*K.x+A.y*K.y+A.z*K.z);return G.PA.Dot(T,A)+B}}B._TmpMatrix=G.Matrix.Identity()},12727:(K,A,T)=>{T.d(A,{e:()=>G});class G{constructor(K,A){this.width=K,this.height=A}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let K=0|this.width;return K=397*K^this.height,K}G(K){this.width=K.width,this.height=K.height}RO(K,A){return this.width=K,this.height=A,this}set(K,A){return this.RO(K,A)}multiplyByFloats(K,A){return new G(this.width*K,this.height*A)}clone(){return new G(this.width,this.height)}equals(K){return!!K&&(this.width===K.width&&this.height===K.height)}get surface(){return this.width*this.height}static Zero(){return new G(0,0)}add(K){return new G(this.width+K.width,this.height+K.height)}FA(K){return new G(this.width-K.width,this.height-K.height)}scale(K){return new G(this.width*K,this.height*K)}static Lerp(K,A,T){const B=K.width+(A.width-K.width)*T,L=K.height+(A.height-K.height)*T;return new G(B,L)}}},12697:(K,A,T)=>{T.d(A,{d:()=>L,e:()=>f});const G={},B={};function L(K){const A=K.getClassName();return B[A]||(B[A]={}),B[A]}function f(K){const A=K.getClassName();if(G[A])return G[A];G[A]={};const T=G[A];let L=K,f=A;for(;f;){const K=B[f];for(const B in K)T[B]=K[B];let A,G=!1;do{if(A=Object.getPrototypeOf(L),!A.getClassName){G=!0;break}if(A.getClassName()!==f)break;L=A}while(A);if(G)break;f=A.getClassName(),L=A}return T}},12688:(K,A,T)=>{T.d(A,{A:()=>Z,B:()=>f,b:()=>L,e:()=>N,i:()=>J,j:()=>C,k:()=>b,l:()=>Q,m:()=>P,q:()=>d,r:()=>x,t:()=>F,v:()=>O,x:()=>Y});var G=T(12697);function B(K,A){return(T,B)=>{const L=(0,G.d)(T);L[B]||(L[B]={type:K,sourceName:A})}}function L(K){return function(K){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(T,G)=>{const B=A||"_"+G;Object.defineProperty(T,G,{get:function(){return this[B]},set:function(A){var G;"function"===typeof(null===(G=this[B])||void 0===G?void 0:G.equals)&&this[B].equals(A)||this[B]!==A&&(this[B]=A,T[K].apply(this))},enumerable:!0,configurable:!0})}}(K,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function f(K){return B(0,K)}function O(K){return B(1,K)}function C(K){return B(2,K)}function Q(K){return B(3,K)}function Y(K){return B(4,K)}function Z(K){return B(5,K)}function x(K){return B(6,K)}function J(K){return B(7,K)}function b(K){return B(8,K)}function P(K){return B(9,K)}function F(K){return B(10,K)}function d(K){return B(12,K)}function N(K,A,T,G){const B=T.value;T.value=function(){let T=B;if("undefined"!==typeof _native&&_native[A]){const K=_native[A];T=G?function(){return G(...arguments)?K(...arguments):B(...arguments)}:K}return K[A]=T,T(...arguments)}}N.filter=function(K){return(A,T,G)=>N(A,T,G,K)}},12733:(K,A,T)=>{T.d(A,{c:()=>Q});var G=T(12555),B=T(12736),L=T(12743),f=T(12700),O=T(12697);const C=function(K,A,T){let G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const L=K();B.c&&B.c.HasTags(A)&&B.c.AddTagsTo(L,B.c.GetTags(A,!0));const f=(0,O.e)(L),C={};for(const B in f){const K=f[B],O=A[B],Y=K.type;if(void 0!==O&&null!==O&&("uniqueId"!==B||Q.AllowLoadingUniqueId))switch(Y){case 0:case 6:case 9:case 11:L[B]=O;break;case 1:G.cloneTexturesOnlyOnce&&C[O.uniqueId]?L[B]=C[O.uniqueId]:(L[B]=T||O.isRenderTarget?O:O.clone(),C[O.uniqueId]=L[B]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:L[B]=T?O:O.clone()}}return L};class Q{static AppendSerializedAnimations(K,A){if(K.animations){A.animations=[];for(let T=0;T<K.animations.length;T++){const G=K.animations[T];A.animations.push(G.serialize())}}}static Serialize(K,A){A||(A={}),B.c&&(A.tags=B.c.GetTags(K));const T=(0,O.e)(K);for(const G in T){const B=T[G],L=B.sourceName||G,f=B.type,O=K[G];if(void 0!==O&&null!==O&&("uniqueId"!==G||Q.AllowLoadingUniqueId))switch(f){case 0:A[L]=O;break;case 1:case 3:case 7:case 9:A[L]=O.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:A[L]=O.kf();break;case 6:case 11:A[L]=O.id}}return A}static ParseProperties(K,A,T,G){G||(G="");const B=(0,O.e)(A);for(const O in B){const C=B[O],Y=K[C.sourceName||O],Z=C.type;if(void 0!==Y&&null!==Y&&("uniqueId"!==O||Q.AllowLoadingUniqueId)){const K=A;switch(Z){case 0:K[O]=Y;break;case 1:T&&(K[O]=Q._TextureParser(Y,T,G));break;case 2:K[O]=L.DA.mT(Y);break;case 3:K[O]=Q._FresnelParametersParser(Y);break;case 4:K[O]=f.Vector2.mT(Y);break;case 5:K[O]=f.PA.mT(Y);break;case 6:T&&(K[O]=T.getLastMeshById(Y));break;case 7:K[O]=Q._ColorCurvesParser(Y);break;case 8:K[O]=L.oO.mT(Y);break;case 9:K[O]=Q._ImageProcessingConfigurationParser(Y);break;case 10:K[O]=f.Quaternion.mT(Y);break;case 11:T&&(K[O]=T.getCameraById(Y));break;case 12:K[O]=f.Matrix.mT(Y)}}}}static Parse(K,A,T){let G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const L=K();return B.c&&B.c.AddTagsTo(L,A.tags),Q.ParseProperties(A,L,T,G),L}static Clone(K,A){return C(K,A,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(K,A){return C(K,A,!0)}}Q.AllowLoadingUniqueId=!1,Q._ImageProcessingConfigurationParser=K=>{throw(0,G.c)("ImageProcessingConfiguration")},Q._FresnelParametersParser=K=>{throw(0,G.c)("FresnelParameters")},Q._ColorCurvesParser=K=>{throw(0,G.c)("ColorCurves")},Q._TextureParser=(K,A,T)=>{throw(0,G.c)("Texture")}},12736:(K,A,T)=>{T.d(A,{c:()=>B});class G{static Eval(K,A){return"true"===(K=K.match(/\([^()]*\)/g)?K.replace(/\([^()]*\)/g,(K=>(K=K.slice(1,K.length-1),G._HandleParenthesisContent(K,A)))):G._HandleParenthesisContent(K,A))||"false"!==K&&G.Eval(K,A)}static _HandleParenthesisContent(K,A){let T;A=A||(K=>"true"===K);const B=K.split("||");for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L)){let K=G._SimplifyNegation(B[L].trim());const f=K.split("&&");if(f.length>1)for(let B=0;B<f.length;++B){const L=G._SimplifyNegation(f[B].trim());if(T="true"!==L&&"false"!==L?"!"===L[0]?!A(L.substring(1)):A(L):"true"===L,!T){K="false";break}}if(T||"true"===K){T=!0;break}T="true"!==K&&"false"!==K?"!"===K[0]?!A(K.substring(1)):A(K):"true"===K}return T?"true":"false"}static _SimplifyNegation(K){return"!true"===(K=(K=K.replace(/^[\s!]+/,(K=>(K=K.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?K="false":"!false"===K&&(K="true"),K}}class B{static EnableFor(K){K._tags=K._tags||{},K.hasTags=()=>B.HasTags(K),K.addTags=A=>B.AddTagsTo(K,A),K.removeTags=A=>B.RemoveTagsFrom(K,A),K.matchesTagsQuery=A=>B.MatchesQuery(K,A)}static DisableFor(K){delete K._tags,delete K.hasTags,delete K.addTags,delete K.removeTags,delete K.matchesTagsQuery}static HasTags(K){if(!K._tags)return!1;const A=K._tags;for(const T in A)if(Object.prototype.hasOwnProperty.call(A,T))return!0;return!1}static GetTags(K){let A=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!K._tags)return null;if(A){const A=[];for(const T in K._tags)Object.prototype.hasOwnProperty.call(K._tags,T)&&!0===K._tags[T]&&A.push(T);return A.join(" ")}return K._tags}static AddTagsTo(K,A){if(!A)return;if("string"!==typeof A)return;const T=A.split(" ");for(const G of T)B._AddTagTo(K,G)}static _AddTagTo(K,A){""!==(A=A.trim())&&"true"!==A&&"false"!==A&&(A.match(/[\s]/)||A.match(/^([!]|([|]|[&]){2})/)||(B.EnableFor(K),K._tags[A]=!0))}static RemoveTagsFrom(K,A){if(!B.HasTags(K))return;const T=A.split(" ");for(const G in T)B._RemoveTagFrom(K,T[G])}static _RemoveTagFrom(K,A){delete K._tags[A]}static MatchesQuery(K,A){return void 0===A||(""===A?B.HasTags(K):G.Eval(A,(A=>B.HasTags(K)&&K._tags[A])))}}},12683:(K,A,T)=>{T.d(A,{c:()=>G});function G(K,A,T,G){var B,L=arguments.length,f=L<3?A:null===G?G=Object.getOwnPropertyDescriptor(A,T):G;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(K,A,T,G);else for(var O=K.length-1;O>=0;O--)(B=K[O])&&(f=(L<3?B(f):L>3?B(A,T,f):B(A,T))||f);return L>3&&f&&Object.defineProperty(A,T,f),f}Object.create;Object.create}}]);