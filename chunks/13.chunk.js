"use strict";(self.zy41qorie9=self.zy41qorie9||[]).push([[13],{12511:(Z,l,C)=>{C.d(l,{d:()=>B});let B=!1},12463:(Z,l,C)=>{C.d(l,{d:()=>G});var B=C(12428),x=C(12432),b=C(12251),K=C(12442),f=C(12295),W=C(12403),J=(C(12298),C(12471));class d{get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(Z){this._texture&&(this._texture.isCube=Z)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(Z){return void 0!==(null===Z||void 0===Z?void 0:Z.shareDepth)}constructor(Z){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=J.c.Zero(),this._cachedBaseSize=J.c.Zero(),this._initialSamplingMode=2,this._texture=d._IsRenderTargetWrapper(Z)?Z.texture:Z,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(Z){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(Z,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var E=C(12478);class G extends d{set Pb(Z){this._hasAlpha!==Z&&(this._hasAlpha=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get Pb(){return this._hasAlpha}set getAlphaFromRGB(Z){this._getAlphaFromRGB!==Z&&(this._getAlphaFromRGB=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(Z){this._coordinatesIndex!==Z&&(this._coordinatesIndex=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(Z){this._coordinatesMode!==Z&&(this._coordinatesMode=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(Z){this._texture?this._texture.isCube=Z:this._isCube=Z}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(Z){var l;if(this._texture){if(this._texture._gammaSpace===Z)return;this._texture._gammaSpace=Z}else{if(this._gammaSpace===Z)return;this._gammaSpace=Z}null===(l=this.cZ())||void 0===l||l.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(Z){var l;Z!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=Z),null===(l=this.cZ())||void 0===l||l.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(Z){this._texture&&(this._texture._lodGenerationOffset=Z)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(Z){this._texture&&(this._texture._lodGenerationScale=Z)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(Z){this._texture&&(this._texture._linearSpecularLOD=Z)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(Z){this._texture&&(this._texture._irradianceTexture=Z)}get uid(){return this._uid||(this._uid=(0,W.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(Z){this._onDisposeObserver&&this.xb.remove(this._onDisposeObserver),this._onDisposeObserver=this.xb.add(Z)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=G.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.xb=new b.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,Z?G._IsScene(Z)?this._scene=Z:this._engine=Z:this._scene=f.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=l,this._uid=null}cZ(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return K.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return K.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(Z){}get canRescale(){return!1}_getFromCache(Z,l,C,B,x,b){const K=this._getEngine();if(!K)return null;const f=K._getUseSRGBBuffer(!!x,l),W=K.getLoadedTexturesCache();for(let J=0;J<W.length;J++){const K=W[J];if((void 0===x||f===K._useSRGBBuffer)&&(void 0===B||B===K.invertY)&&K.url===Z&&K.generateMipMaps===!l&&(!C||C===K.samplingMode)&&(void 0===b||b===K.isCube))return K.incrementReferences(),K}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const Z=this.cZ();Z&&Z.markAllMaterialsAsDirty(1)}readPixels(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,K=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,W=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const J=this._getEngine();if(!J)return null;const d=this.getSize();let E=d.width,G=d.height;0!==l&&(E/=Math.pow(2,l),G/=Math.pow(2,l),E=Math.round(E),G=Math.round(G)),f=Math.min(E,f),W=Math.min(G,W);try{return this._texture.isCube?J._readTexturePixels(this._texture,f,W,Z,l,C,B,x,b,K):J._readTexturePixels(this._texture,f,W,-1,l,C,B,x,b,K)}catch(a){return null}}_readPixelsSync(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const b=this.getSize();let K=b.width,f=b.height;const W=this._getEngine();if(!W)return null;0!=l&&(K/=Math.pow(2,l),f/=Math.pow(2,l),K=Math.round(K),f=Math.round(f));try{return this._texture.isCube?W._readTexturePixelsSync(this._texture,K,f,Z,l,C,B,x):W._readTexturePixelsSync(this._texture,K,f,-1,l,C,B,x)}catch(J){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const Z=this._scene.textures.indexOf(this);if(Z>=0&&this._scene.textures.splice(Z,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const Z=this._parentContainer.textures.indexOf(this);Z>-1&&this._parentContainer.textures.splice(Z,1),this._parentContainer=null}}this.xb.notifyObservers(this),this.xb.clear(),this.metadata=null,super.dispose()}serialize(){let Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!Z)return null;const l=E.b.Serialize(this);return E.b.AppendSerializedAnimations(this,l),l}static WhenAllReady(Z,l){let C=Z.length;if(0!==C)for(let B=0;B<Z.length;B++){const x=Z[B];if(x.isReady())0===--C&&l();else{const Z=x.onLoadObservable;Z?Z.addOnce((()=>{0===--C&&l()})):0===--C&&l()}}else l()}static _IsScene(Z){return"Scene"===Z.getClassName()}}G.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,B.b)([(0,x.R)()],G.prototype,"uniqueId",void 0),(0,B.b)([(0,x.R)()],G.prototype,"name",void 0),(0,B.b)([(0,x.R)()],G.prototype,"displayName",void 0),(0,B.b)([(0,x.R)()],G.prototype,"metadata",void 0),(0,B.b)([(0,x.R)("Pb")],G.prototype,"_hasAlpha",void 0),(0,B.b)([(0,x.R)("getAlphaFromRGB")],G.prototype,"_getAlphaFromRGB",void 0),(0,B.b)([(0,x.R)()],G.prototype,"level",void 0),(0,B.b)([(0,x.R)("coordinatesIndex")],G.prototype,"_coordinatesIndex",void 0),(0,B.b)([(0,x.R)()],G.prototype,"optimizeUVAllocation",void 0),(0,B.b)([(0,x.R)("coordinatesMode")],G.prototype,"_coordinatesMode",void 0),(0,B.b)([(0,x.R)()],G.prototype,"wrapU",null),(0,B.b)([(0,x.R)()],G.prototype,"wrapV",null),(0,B.b)([(0,x.R)()],G.prototype,"wrapR",void 0),(0,B.b)([(0,x.R)()],G.prototype,"anisotropicFilteringLevel",void 0),(0,B.b)([(0,x.R)()],G.prototype,"isCube",null),(0,B.b)([(0,x.R)()],G.prototype,"is3D",null),(0,B.b)([(0,x.R)()],G.prototype,"is2DArray",null),(0,B.b)([(0,x.R)()],G.prototype,"gammaSpace",null),(0,B.b)([(0,x.R)()],G.prototype,"invertZ",void 0),(0,B.b)([(0,x.R)()],G.prototype,"lodLevelInAlpha",void 0),(0,B.b)([(0,x.R)()],G.prototype,"lodGenerationOffset",null),(0,B.b)([(0,x.R)()],G.prototype,"lodGenerationScale",null),(0,B.b)([(0,x.R)()],G.prototype,"linearSpecularLOD",null),(0,B.b)([(0,x.K)()],G.prototype,"irradianceTexture",null),(0,B.b)([(0,x.R)()],G.prototype,"isRenderTarget",void 0)},12423:(Z,l,C)=>{C.d(l,{c:()=>i});var B=C(12428),x=C(12432),b=C(12251),K=C(12442),f=C(12463),W=C(12400),J=C(12282),d=C(12339),E=C(12391),G=C(12503),a=C(12316);function q(Z,l){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const B=l.width,x=l.height;if(Z instanceof Float32Array){let l=Z.byteLength/Z.BYTES_PER_ELEMENT;const C=new Uint8Array(l);for(;--l>=0;){let B=Z[l];B<0?B=0:B>1&&(B=1),C[l]=255*B}Z=C}const b=document.createElement("canvas");b.width=B,b.height=x;const K=b.getContext("2d");if(!K)return null;const f=K.createImageData(B,x);if(f.data.set(Z),K.putImageData(f,0,0),C){const Z=document.createElement("canvas");Z.width=B,Z.height=x;const l=Z.getContext("2d");return l?(l.translate(0,x),l.scale(1,-1),l.drawImage(b,0,0),Z.toDataURL("image/png")):null}return b.toDataURL("image/png")}function z(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=Z.getInternalTexture();if(!B)return null;const x=Z._readPixelsSync(l,C);return x?q(x,Z.getSize(),B.invertY):null}async function Y(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=Z.getInternalTexture();if(!B)return null;const x=await Z.readPixels(l,C);return x?q(x,Z.getSize(),B.invertY):null}var P=C(12511),S=C(12478);class i extends f.d{static _CreateVideoTexture(Z,l,C){arguments.length>5&&void 0!==arguments[5]||i.TRILINEAR_SAMPLINGMODE;throw(0,J.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(Z){this._isBlocking=Z}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(Z,l,C,B){let x,K=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.TRILINEAR_SAMPLINGMODE,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,W=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=arguments.length>8&&void 0!==arguments[8]&&arguments[8],G=arguments.length>9?arguments[9]:void 0,a=arguments.length>10?arguments[10]:void 0,q=arguments.length>11?arguments[11]:void 0,z=arguments.length>12?arguments[12]:void 0,Y=arguments.length>13?arguments[13]:void 0;super(l),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new b.b,this._isBlocking=!0,this.name=Z||"",this.url=Z;let S=!1,s=null,F=!0;"object"===typeof C&&null!==C?(x=C.noMipmap??!1,B=C.invertY??!P.d,K=C.samplingMode??i.TRILINEAR_SAMPLINGMODE,f=C.p??null,W=C.onError??null,J=C.buffer??null,E=C.deleteBuffer??!1,G=C.format,a=C.mimeType,q=C.loaderOptions,z=C.creationFlags,S=C.useSRGBBuffer??!1,s=C.internalTexture??null,F=C.gammaSpace??F,Y=C.forcedExtension??Y):x=!!C,this._gammaSpace=F,this._noMipmap=x,this._invertY=void 0===B?!P.d:B,this._initialSamplingMode=K,this._buffer=J,this._deleteBuffer=E,this._mimeType=a,this._loaderOptions=q,this._creationFlags=z,this._useSRGBBuffer=S,this._forcedExtension=Y,void 0!==G&&(this._format=G);const n=this.cZ(),c=this._getEngine();if(!c)return;c.onBeforeTextureInitObservable.notifyObservers(this);const U=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),f&&f(),!this.isBlocking&&n&&n.resetCachedMaterial()},t=(Z,l)=>{this._loadingError=!0,this._errorObject={message:Z,exception:l},W&&W(Z,l),i.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!s)return this._delayedOnLoad=U,void(this._delayedOnError=t);if(this._texture=s??this._getFromCache(this.url,x,K,this._invertY,S,this.isCube),this._texture)if(this._texture.isReady)d.c.SetImmediate((()=>U()));else{const Z=this._texture.onLoadedObservable.add(U);this._texture.onErrorObservable.add((l=>{var C;t(l.message,l.exception),null===(C=this._texture)||void 0===C||C.onLoadedObservable.remove(Z)}))}else if(n&&n.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=U,this._delayedOnError=t;else{try{this._texture=c.createTexture(this.url,x,this._invertY,n,K,U,t,this._buffer,void 0,this._format,this._forcedExtension,a,q,z,S)}catch(r){throw t("error loading",r),r}E&&(this._buffer=null)}}updateURL(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,B=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.cZ().markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=Z),this.url=Z,this._buffer=l,this._forcedExtension=B,this.delayLoadState=4,C&&(this._delayedOnLoad=C),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const Z=this.cZ();Z&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?d.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=Z.getEngine().createTexture(this.url,this._noMipmap,this._invertY,Z,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(Z,l,C,B){Z*=this._cachedUScale,l*=this._cachedVScale,Z-=this.uRotationCenter*this._cachedUScale,l-=this.vRotationCenter*this._cachedVScale,C-=this.wRotationCenter,K.ql.TransformCoordinatesFromFloatsToRef(Z,l,C,this._rowGenerationMatrix,B),B.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,B.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,B.z+=this.wRotationCenter}getTextureMatrix(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*Z===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*Z,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=K.Matrix.Zero(),this._rowGenerationMatrix=new K.Matrix,this._t0=K.ql.Zero(),this._t1=K.ql.Zero(),this._t2=K.ql.Zero()),K.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(K.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,K.TmpVectors.Matrix[0]),K.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,K.TmpVectors.Matrix[1]),K.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,K.TmpVectors.Matrix[2]),K.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,K.TmpVectors.Matrix[3]),K.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.JG(this._t0),this._t2.JG(this._t0),K.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const l=this.cZ();if(!l)return this._cachedTextureMatrix;const C=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&C!==this._cachedIdentity3x2&&l.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const Z=this.cZ();if(!Z)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==i.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===Z.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=K.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=K.Matrix.Zero());const l=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case i.PLANAR_MODE:K.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case i.PROJECTION_MODE:{K.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const l=Z.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=l.updateFlag,l.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:K.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return l&&Z.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const Z={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,p:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return S.b.Clone((()=>new i(this._texture?this._texture.url:null,this.cZ(),Z)),this)}serialize(){var Z;const l=this.name;i.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const C=super.serialize(i._SerializeInternalTextureUniqueId);if(!C)return null;if(i.SerializeBuffers||i.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))C.base64String=this._buffer,C.name=C.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const Z=this.mimeType||"image/png";C.base64String=`data:${Z};base64,${(0,a.i)(this._buffer)}`}else(i.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(C.base64String=!this._engine||this._engine._features.supportSyncTextureRead?z(this):Y(this));var B;(C.invertY=this._invertY,C.samplingMode=this.samplingMode,C._creationFlags=this._creationFlags,C._useSRGBBuffer=this._useSRGBBuffer,i._SerializeInternalTextureUniqueId)&&(C.internalTextureUniqueId=null===(B=this._texture)||void 0===B?void 0:B.uniqueId);return C.internalTextureLabel=null===(Z=this._texture)||void 0===Z?void 0:Z.label,C.noMipmap=this._noMipmap,this.name=l,C}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(Z,l,C){if(Z.customType){const B=E.d.Instantiate(Z.customType).Parse(Z,l,C);return Z.samplingMode&&B.updateSamplingMode&&B._samplingMode&&B._samplingMode!==Z.samplingMode&&B.updateSamplingMode(Z.samplingMode),B}if(Z.isCube&&!Z.isRenderTarget)return i._CubeTextureParser(Z,l,C);const B=void 0!==Z.internalTextureUniqueId;if(!Z.name&&!Z.isRenderTarget&&!B)return null;let x;if(B){const C=l.getEngine().getLoadedTexturesCache();for(const l of C)if(l.uniqueId===Z.internalTextureUniqueId){x=l;break}}const b=l=>{if(l&&l._texture&&(l._texture._cachedWrapU=null,l._texture._cachedWrapV=null,l._texture._cachedWrapR=null),Z.samplingMode){const C=Z.samplingMode;l&&l.samplingMode!==C&&l.updateSamplingMode(C)}if(l&&Z.animations)for(let C=0;C<Z.animations.length;C++){const B=Z.animations[C],x=(0,W.b)("BABYLON.Animation");x&&l.animations.push(x.Parse(B))}l&&l._texture&&(B&&!x&&l._texture._setUniqueId(Z.internalTextureUniqueId),l._texture.label=Z.internalTextureLabel)};return S.b.Parse((()=>{let B=!0;if(Z.noMipmap&&(B=!1),Z.mirrorPlane){const C=i._CreateMirror(Z.name,Z.renderTargetSize,l,B);return C._waitingRenderList=Z.renderList,C.mirrorPlane=G.e.il(Z.mirrorPlane),b(C),C}if(Z.isRenderTarget){let C=null;if(Z.isCube){if(l.reflectionProbes)for(let B=0;B<l.reflectionProbes.length;B++){const C=l.reflectionProbes[B];if(C.name===Z.name)return C.cubeTexture}}else C=i._CreateRenderTargetTexture(Z.name,Z.renderTargetSize,l,B,Z._creationFlags??0),C._waitingRenderList=Z.renderList;return b(C),C}if(Z.isVideo){const x=i._CreateVideoTexture(C+(Z.url||Z.name),C+(Z.src||Z.url),l,B,Z.invertY,Z.samplingMode,Z.settings||{});return b(x),x}{let K;if(Z.base64String&&!x)K=i.CreateFromBase64String(Z.base64String,Z.base64String,l,!B,Z.invertY,Z.samplingMode,(()=>{b(K)}),Z._creationFlags??0,Z._useSRGBBuffer??!1),K.name=Z.name;else{let f;f=Z.name&&(Z.name.indexOf("://")>0||Z.name.startsWith("data:"))?Z.name:C+Z.name,Z.url&&(Z.url.startsWith("data:")||i.UseSerializedUrlIfAny)&&(f=Z.url);const W={noMipmap:!B,invertY:Z.invertY,samplingMode:Z.samplingMode,p:()=>{b(K)},internalTexture:x};K=new i(f,l,W)}return K}}),Z,l)}static CreateFromBase64String(Z,l,C,B,x){let b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.TRILINEAR_SAMPLINGMODE;return new i("data:"+l,C,B,x,b,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(Z,l,C){let B=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=arguments.length>4?arguments[4]:void 0,b=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],K=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i.TRILINEAR_SAMPLINGMODE,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,W=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,J=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,d=arguments.length>10?arguments[10]:void 0,E=arguments.length>11?arguments[11]:void 0;return"data:"!==Z.substring(0,5)&&(Z="data:"+Z),new i(Z,C,x,b,K,f,W,l,B,J,void 0,void 0,d,E)}}i.SerializeBuffers=!0,i.ForceSerializeBuffers=!1,i.OnTextureLoadErrorObservable=new b.b,i._SerializeInternalTextureUniqueId=!1,i._CubeTextureParser=(Z,l,C)=>{throw(0,J.d)("CubeTexture")},i._CreateMirror=(Z,l,C,B)=>{throw(0,J.d)("MirrorTexture")},i._CreateRenderTargetTexture=(Z,l,C,B,x)=>{throw(0,J.d)("RenderTargetTexture")},i.NEAREST_SAMPLINGMODE=1,i.NEAREST_NEAREST_MIPLINEAR=8,i.BILINEAR_SAMPLINGMODE=2,i.LINEAR_LINEAR_MIPNEAREST=11,i.TRILINEAR_SAMPLINGMODE=3,i.LINEAR_LINEAR_MIPLINEAR=3,i.NEAREST_NEAREST_MIPNEAREST=4,i.NEAREST_LINEAR_MIPNEAREST=5,i.NEAREST_LINEAR_MIPLINEAR=6,i.NEAREST_LINEAR=7,i.NEAREST_NEAREST=1,i.LINEAR_NEAREST_MIPNEAREST=9,i.LINEAR_NEAREST_MIPLINEAR=10,i.LINEAR_LINEAR=2,i.LINEAR_NEAREST=12,i.EXPLICIT_MODE=0,i.SPHERICAL_MODE=1,i.PLANAR_MODE=2,i.CUBIC_MODE=3,i.PROJECTION_MODE=4,i.SKYBOX_MODE=5,i.INVCUBIC_MODE=6,i.EQUIRECTANGULAR_MODE=7,i.FIXED_EQUIRECTANGULAR_MODE=8,i.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,i.CLAMP_ADDRESSMODE=0,i.WRAP_ADDRESSMODE=1,i.MIRROR_ADDRESSMODE=2,i.UseSerializedUrlIfAny=!1,(0,B.b)([(0,x.R)()],i.prototype,"url",void 0),(0,B.b)([(0,x.R)()],i.prototype,"uOffset",void 0),(0,B.b)([(0,x.R)()],i.prototype,"vOffset",void 0),(0,B.b)([(0,x.R)()],i.prototype,"uScale",void 0),(0,B.b)([(0,x.R)()],i.prototype,"vScale",void 0),(0,B.b)([(0,x.R)()],i.prototype,"uAng",void 0),(0,B.b)([(0,x.R)()],i.prototype,"vAng",void 0),(0,B.b)([(0,x.R)()],i.prototype,"wAng",void 0),(0,B.b)([(0,x.R)()],i.prototype,"uRotationCenter",void 0),(0,B.b)([(0,x.R)()],i.prototype,"vRotationCenter",void 0),(0,B.b)([(0,x.R)()],i.prototype,"wRotationCenter",void 0),(0,B.b)([(0,x.R)()],i.prototype,"homogeneousRotationInUVTransform",void 0),(0,B.b)([(0,x.R)()],i.prototype,"isBlocking",null),(0,W.c)("BABYLON.Texture",i),S.b._TextureParser=i.Parse},12503:(Z,l,C)=>{C.d(l,{e:()=>x});var B=C(12442);class x{constructor(Z,l,C,x){this.normal=new B.ql(Z,l,C),this.d=x}Yb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new x(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let Z=this.normal.getHashCode();return Z=397*Z^this.d,Z}normalize(){const Z=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let l=0;return 0!==Z&&(l=1/Z),this.normal.x*=l,this.normal.y*=l,this.normal.z*=l,this.d*=l,this}transform(Z){const l=x._TmpMatrix;Z.invertToRef(l);const C=l.m,B=this.normal.x,b=this.normal.y,K=this.normal.z,f=this.d,W=B*C[0]+b*C[1]+K*C[2]+f*C[3],J=B*C[4]+b*C[5]+K*C[6]+f*C[7],d=B*C[8]+b*C[9]+K*C[10]+f*C[11],E=B*C[12]+b*C[13]+K*C[14]+f*C[15];return new x(W,J,d,E)}dotCoordinate(Z){return this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z+this.d}copyFromPoints(Z,l,C){const B=l.x-Z.x,x=l.y-Z.y,b=l.z-Z.z,K=C.x-Z.x,f=C.y-Z.y,W=C.z-Z.z,J=x*W-b*f,d=b*K-B*W,E=B*f-x*K,G=Math.sqrt(J*J+d*d+E*E);let a;return a=0!==G?1/G:0,this.normal.x=J*a,this.normal.y=d*a,this.normal.z=E*a,this.d=-(this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z),this}isFrontFacingTo(Z,l){return B.ql.Dot(this.normal,Z)<=l}signedDistanceTo(Z){return B.ql.Dot(Z,this.normal)+this.d}static il(Z){return new x(Z[0],Z[1],Z[2],Z[3])}static FromPoints(Z,l,C){const B=new x(0,0,0,0);return B.copyFromPoints(Z,l,C),B}static FromPositionAndNormal(Z,l){const C=new x(0,0,0,0);return this.FromPositionAndNormalToRef(Z,l,C)}static FromPositionAndNormalToRef(Z,l,C){return C.normal.B(l),C.normal.normalize(),C.d=-Z.dot(C.normal),C}static SignedDistanceToPlaneFromPositionAndNormal(Z,l,C){const x=-(l.x*Z.x+l.y*Z.y+l.z*Z.z);return B.ql.Dot(C,l)+x}}x._TmpMatrix=B.Matrix.Identity()},12471:(Z,l,C)=>{C.d(l,{c:()=>B});class B{constructor(Z,l){this.width=Z,this.height=l}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let Z=0|this.width;return Z=397*Z^this.height,Z}B(Z){this.width=Z.width,this.height=Z.height}rb(Z,l){return this.width=Z,this.height=l,this}set(Z,l){return this.rb(Z,l)}multiplyByFloats(Z,l){return new B(this.width*Z,this.height*l)}clone(){return new B(this.width,this.height)}equals(Z){return!!Z&&(this.width===Z.width&&this.height===Z.height)}get surface(){return this.width*this.height}static Zero(){return new B(0,0)}add(Z){return new B(this.width+Z.width,this.height+Z.height)}zl(Z){return new B(this.width-Z.width,this.height-Z.height)}scale(Z){return new B(this.width*Z,this.height*Z)}static Lerp(Z,l,C){const x=Z.width+(l.width-Z.width)*C,b=Z.height+(l.height-Z.height)*C;return new B(x,b)}}},12438:(Z,l,C)=>{C.d(l,{d:()=>b,g:()=>K});const B={},x={};function b(Z){const l=Z.getClassName();return x[l]||(x[l]={}),x[l]}function K(Z){const l=Z.getClassName();if(B[l])return B[l];B[l]={};const C=B[l];let b=Z,K=l;for(;K;){const Z=x[K];for(const x in Z)C[x]=Z[x];let l,B=!1;do{if(l=Object.getPrototypeOf(b),!l.getClassName){B=!0;break}if(l.getClassName()!==K)break;b=l}while(l);if(B)break;K=l.getClassName(),b=l}return C}},12432:(Z,l,C)=>{C.d(l,{C:()=>G,G:()=>Y,K:()=>f,N:()=>d,Q:()=>E,R:()=>K,d:()=>b,f:()=>S,h:()=>a,k:()=>W,n:()=>q,q:()=>J,u:()=>z,y:()=>P});var B=C(12438);function x(Z,l){return(C,x)=>{const b=(0,B.d)(C);b[x]||(b[x]={type:Z,sourceName:l})}}function b(Z){return function(Z){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(C,B)=>{const x=l||"_"+B;Object.defineProperty(C,B,{get:function(){return this[x]},set:function(l){var B;"function"===typeof(null===(B=this[x])||void 0===B?void 0:B.equals)&&this[x].equals(l)||this[x]!==l&&(this[x]=l,C[Z].apply(this))},enumerable:!0,configurable:!0})}}(Z,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function K(Z){return x(0,Z)}function f(Z){return x(1,Z)}function W(Z){return x(2,Z)}function J(Z){return x(3,Z)}function d(Z){return x(4,Z)}function E(Z){return x(5,Z)}function G(Z){return x(6,Z)}function a(Z){return x(7,Z)}function q(Z){return x(8,Z)}function z(Z){return x(9,Z)}function Y(Z){return x(10,Z)}function P(Z){return x(12,Z)}function S(Z,l,C,B){const x=C.value;C.value=function(){let C=x;if("undefined"!==typeof _native&&_native[l]){const Z=_native[l];C=B?function(){return B(...arguments)?Z(...arguments):x(...arguments)}:Z}return Z[l]=C,C(...arguments)}}S.filter=function(Z){return(l,C,B)=>S(l,C,B,Z)}},12478:(Z,l,C)=>{C.d(l,{b:()=>J});var B=C(12282),x=C(12486),b=C(12494),K=C(12442),f=C(12438);const W=function(Z,l,C){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const b=Z();x.e&&x.e.HasTags(l)&&x.e.AddTagsTo(b,x.e.GetTags(l,!0));const K=(0,f.g)(b),W={};for(const x in K){const Z=K[x],f=l[x],d=Z.type;if(void 0!==f&&null!==f&&("uniqueId"!==x||J.AllowLoadingUniqueId))switch(d){case 0:case 6:case 9:case 11:b[x]=f;break;case 1:B.cloneTexturesOnlyOnce&&W[f.uniqueId]?b[x]=W[f.uniqueId]:(b[x]=C||f.isRenderTarget?f:f.clone(),W[f.uniqueId]=b[x]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:b[x]=C?f:f.clone()}}return b};class J{static AppendSerializedAnimations(Z,l){if(Z.animations){l.animations=[];for(let C=0;C<Z.animations.length;C++){const B=Z.animations[C];l.animations.push(B.serialize())}}}static Serialize(Z,l){l||(l={}),x.e&&(l.tags=x.e.GetTags(Z));const C=(0,f.g)(Z);for(const B in C){const x=C[B],b=x.sourceName||B,K=x.type,f=Z[B];if(void 0!==f&&null!==f&&("uniqueId"!==B||J.AllowLoadingUniqueId))switch(K){case 0:l[b]=f;break;case 1:case 3:case 7:case 9:l[b]=f.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:l[b]=f.Yb();break;case 6:case 11:l[b]=f.id}}return l}static ParseProperties(Z,l,C,B){B||(B="");const x=(0,f.g)(l);for(const f in x){const W=x[f],d=Z[W.sourceName||f],E=W.type;if(void 0!==d&&null!==d&&("uniqueId"!==f||J.AllowLoadingUniqueId)){const Z=l;switch(E){case 0:Z[f]=d;break;case 1:C&&(Z[f]=J._TextureParser(d,C,B));break;case 2:Z[f]=b.Sl.il(d);break;case 3:Z[f]=J._FresnelParametersParser(d);break;case 4:Z[f]=K.Vector2.il(d);break;case 5:Z[f]=K.ql.il(d);break;case 6:C&&(Z[f]=C.getLastMeshById(d));break;case 7:Z[f]=J._ColorCurvesParser(d);break;case 8:Z[f]=b.Rb.il(d);break;case 9:Z[f]=J._ImageProcessingConfigurationParser(d);break;case 10:Z[f]=K.Quaternion.il(d);break;case 11:C&&(Z[f]=C.getCameraById(d));break;case 12:Z[f]=K.Matrix.il(d)}}}}static Parse(Z,l,C){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const b=Z();return x.e&&x.e.AddTagsTo(b,l.tags),J.ParseProperties(l,b,C,B),b}static Clone(Z,l){return W(Z,l,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(Z,l){return W(Z,l,!0)}}J.AllowLoadingUniqueId=!1,J._ImageProcessingConfigurationParser=Z=>{throw(0,B.d)("ImageProcessingConfiguration")},J._FresnelParametersParser=Z=>{throw(0,B.d)("FresnelParameters")},J._ColorCurvesParser=Z=>{throw(0,B.d)("ColorCurves")},J._TextureParser=(Z,l,C)=>{throw(0,B.d)("Texture")}},12486:(Z,l,C)=>{C.d(l,{e:()=>x});class B{static Eval(Z,l){return"true"===(Z=Z.match(/\([^()]*\)/g)?Z.replace(/\([^()]*\)/g,(Z=>(Z=Z.slice(1,Z.length-1),B._HandleParenthesisContent(Z,l)))):B._HandleParenthesisContent(Z,l))||"false"!==Z&&B.Eval(Z,l)}static _HandleParenthesisContent(Z,l){let C;l=l||(Z=>"true"===Z);const x=Z.split("||");for(const b in x)if(Object.prototype.hasOwnProperty.call(x,b)){let Z=B._SimplifyNegation(x[b].trim());const K=Z.split("&&");if(K.length>1)for(let x=0;x<K.length;++x){const b=B._SimplifyNegation(K[x].trim());if(C="true"!==b&&"false"!==b?"!"===b[0]?!l(b.substring(1)):l(b):"true"===b,!C){Z="false";break}}if(C||"true"===Z){C=!0;break}C="true"!==Z&&"false"!==Z?"!"===Z[0]?!l(Z.substring(1)):l(Z):"true"===Z}return C?"true":"false"}static _SimplifyNegation(Z){return"!true"===(Z=(Z=Z.replace(/^[\s!]+/,(Z=>(Z=Z.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?Z="false":"!false"===Z&&(Z="true"),Z}}class x{static EnableFor(Z){Z._tags=Z._tags||{},Z.hasTags=()=>x.HasTags(Z),Z.addTags=l=>x.AddTagsTo(Z,l),Z.removeTags=l=>x.RemoveTagsFrom(Z,l),Z.matchesTagsQuery=l=>x.MatchesQuery(Z,l)}static DisableFor(Z){delete Z._tags,delete Z.hasTags,delete Z.addTags,delete Z.removeTags,delete Z.matchesTagsQuery}static HasTags(Z){if(!Z._tags)return!1;const l=Z._tags;for(const C in l)if(Object.prototype.hasOwnProperty.call(l,C))return!0;return!1}static GetTags(Z){let l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Z._tags)return null;if(l){const l=[];for(const C in Z._tags)Object.prototype.hasOwnProperty.call(Z._tags,C)&&!0===Z._tags[C]&&l.push(C);return l.join(" ")}return Z._tags}static AddTagsTo(Z,l){if(!l)return;if("string"!==typeof l)return;const C=l.split(" ");for(const B of C)x._AddTagTo(Z,B)}static _AddTagTo(Z,l){""!==(l=l.trim())&&"true"!==l&&"false"!==l&&(l.match(/[\s]/)||l.match(/^([!]|([|]|[&]){2})/)||(x.EnableFor(Z),Z._tags[l]=!0))}static RemoveTagsFrom(Z,l){if(!x.HasTags(Z))return;const C=l.split(" ");for(const B in C)x._RemoveTagFrom(Z,C[B])}static _RemoveTagFrom(Z,l){delete Z._tags[l]}static MatchesQuery(Z,l){return void 0===l||(""===l?x.HasTags(Z):B.Eval(l,(l=>x.HasTags(Z)&&Z._tags[l])))}}},12428:(Z,l,C)=>{C.d(l,{b:()=>B});function B(Z,l,C,B){var x,b=arguments.length,K=b<3?l:null===B?B=Object.getOwnPropertyDescriptor(l,C):B;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)K=Reflect.decorate(Z,l,C,B);else for(var f=Z.length-1;f>=0;f--)(x=Z[f])&&(K=(b<3?x(K):b>3?x(l,C,K):x(l,C))||K);return b>3&&K&&Object.defineProperty(l,C,K),K}Object.create;Object.create}}]);