"use strict";(self.gpkvekif0vo=self.gpkvekif0vo||[]).push([[13],{12448:(a,O,i)=>{i.d(O,{c:()=>H});let H=!1},12417:(a,O,i)=>{i.d(O,{c:()=>h});var H=i(12375),b=i(12384),G=i(12193),q=i(12395),Q=i(12236),k=i(12350),I=(i(12243),i(12425));class P{get wrapU(){return this._wrapU}set wrapU(a){this._wrapU=a}get wrapV(){return this._wrapV}set wrapV(a){this._wrapV=a}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(a){this._texture&&(this._texture.isCube=a)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(a){this._texture&&(this._texture.is3D=a)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(a){this._texture&&(this._texture.is2DArray=a)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(a){return void 0!==(null===a||void 0===a?void 0:a.shareDepth)}constructor(a){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=I.c.Zero(),this._cachedBaseSize=I.c.Zero(),this._initialSamplingMode=2,this._texture=P._IsRenderTargetWrapper(a)?a.texture:a,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(a){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(a,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var e=i(12427);class h extends P{set nb(a){this._hasAlpha!==a&&(this._hasAlpha=a,this._scene&&this._scene.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))))}get nb(){return this._hasAlpha}set getAlphaFromRGB(a){this._getAlphaFromRGB!==a&&(this._getAlphaFromRGB=a,this._scene&&this._scene.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(a){this._coordinatesIndex!==a&&(this._coordinatesIndex=a,this._scene&&this._scene.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(a){this._coordinatesMode!==a&&(this._coordinatesMode=a,this._scene&&this._scene.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(a){this._wrapU=a}get wrapV(){return this._wrapV}set wrapV(a){this._wrapV=a}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(a){this._texture?this._texture.isCube=a:this._isCube=a}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(a){this._texture&&(this._texture.is3D=a)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(a){this._texture&&(this._texture.is2DArray=a)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(a){var O;if(this._texture){if(this._texture._gammaSpace===a)return;this._texture._gammaSpace=a}else{if(this._gammaSpace===a)return;this._gammaSpace=a}null===(O=this.Ua())||void 0===O||O.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(a){var O;a!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=a),null===(O=this.Ua())||void 0===O||O.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(a){this._texture&&(this._texture._lodGenerationOffset=a)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(a){this._texture&&(this._texture._lodGenerationScale=a)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(a){this._texture&&(this._texture._linearSpecularLOD=a)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(a){this._texture&&(this._texture._irradianceTexture=a)}get uid(){return this._uid||(this._uid=(0,k.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(a){this._onDisposeObserver&&this.Pb.remove(this._onDisposeObserver),this._onDisposeObserver=this.Pb.add(a)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=h.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Pb=new G.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,a?h._IsScene(a)?this._scene=a:this._engine=a:this._scene=Q.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=O,this._uid=null}Ua(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(a){}get canRescale(){return!1}_getFromCache(a,O,i,H,b,G){const q=this._getEngine();if(!q)return null;const Q=q._getUseSRGBBuffer(!!b,O),k=q.getLoadedTexturesCache();for(let I=0;I<k.length;I++){const q=k[I];if((void 0===b||Q===q._useSRGBBuffer)&&(void 0===H||H===q.invertY)&&q.url===a&&q.generateMipMaps===!O&&(!i||i===q.samplingMode)&&(void 0===G||G===q.isCube))return q.incrementReferences(),q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const a=this.Ua();a&&a.markAllMaterialsAsDirty(1)}readPixels(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,H=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],b=arguments.length>4&&void 0!==arguments[4]&&arguments[4],G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,Q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,k=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const I=this._getEngine();if(!I)return null;const P=this.getSize();let e=P.width,h=P.height;0!==O&&(e/=Math.pow(2,O),h/=Math.pow(2,O),e=Math.round(e),h=Math.round(h)),Q=Math.min(e,Q),k=Math.min(h,k);try{return this._texture.isCube?I._readTexturePixels(this._texture,Q,k,a,O,i,H,b,G,q):I._readTexturePixels(this._texture,Q,k,-1,O,i,H,b,G,q)}catch(j){return null}}_readPixelsSync(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,H=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],b=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const G=this.getSize();let q=G.width,Q=G.height;const k=this._getEngine();if(!k)return null;0!=O&&(q/=Math.pow(2,O),Q/=Math.pow(2,O),q=Math.round(q),Q=Math.round(Q));try{return this._texture.isCube?k._readTexturePixelsSync(this._texture,q,Q,a,O,i,H,b):k._readTexturePixelsSync(this._texture,q,Q,-1,O,i,H,b)}catch(I){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const a=this._scene.textures.indexOf(this);if(a>=0&&this._scene.textures.splice(a,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const a=this._parentContainer.textures.indexOf(this);a>-1&&this._parentContainer.textures.splice(a,1),this._parentContainer=null}}this.Pb.notifyObservers(this),this.Pb.clear(),this.metadata=null,super.dispose()}serialize(){let a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!a)return null;const O=e.d.Serialize(this);return e.d.AppendSerializedAnimations(this,O),O}static WhenAllReady(a,O){let i=a.length;if(0!==i)for(let H=0;H<a.length;H++){const b=a[H];if(b.isReady())0===--i&&O();else{const a=b.onLoadObservable;a?a.addOnce((()=>{0===--i&&O()})):0===--i&&O()}}else O()}static _IsScene(a){return"Scene"===a.getClassName()}}h.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,H.c)([(0,b.G)()],h.prototype,"uniqueId",void 0),(0,H.c)([(0,b.G)()],h.prototype,"name",void 0),(0,H.c)([(0,b.G)()],h.prototype,"displayName",void 0),(0,H.c)([(0,b.G)()],h.prototype,"metadata",void 0),(0,H.c)([(0,b.G)("nb")],h.prototype,"_hasAlpha",void 0),(0,H.c)([(0,b.G)("getAlphaFromRGB")],h.prototype,"_getAlphaFromRGB",void 0),(0,H.c)([(0,b.G)()],h.prototype,"level",void 0),(0,H.c)([(0,b.G)("coordinatesIndex")],h.prototype,"_coordinatesIndex",void 0),(0,H.c)([(0,b.G)()],h.prototype,"optimizeUVAllocation",void 0),(0,H.c)([(0,b.G)("coordinatesMode")],h.prototype,"_coordinatesMode",void 0),(0,H.c)([(0,b.G)()],h.prototype,"wrapU",null),(0,H.c)([(0,b.G)()],h.prototype,"wrapV",null),(0,H.c)([(0,b.G)()],h.prototype,"wrapR",void 0),(0,H.c)([(0,b.G)()],h.prototype,"anisotropicFilteringLevel",void 0),(0,H.c)([(0,b.G)()],h.prototype,"isCube",null),(0,H.c)([(0,b.G)()],h.prototype,"is3D",null),(0,H.c)([(0,b.G)()],h.prototype,"is2DArray",null),(0,H.c)([(0,b.G)()],h.prototype,"gammaSpace",null),(0,H.c)([(0,b.G)()],h.prototype,"invertZ",void 0),(0,H.c)([(0,b.G)()],h.prototype,"lodLevelInAlpha",void 0),(0,H.c)([(0,b.G)()],h.prototype,"lodGenerationOffset",null),(0,H.c)([(0,b.G)()],h.prototype,"lodGenerationScale",null),(0,H.c)([(0,b.G)()],h.prototype,"linearSpecularLOD",null),(0,H.c)([(0,b.z)()],h.prototype,"irradianceTexture",null),(0,H.c)([(0,b.G)()],h.prototype,"isRenderTarget",void 0)},12370:(a,O,i)=>{i.d(O,{e:()=>M});var H=i(12375),b=i(12384),G=i(12193),q=i(12395),Q=i(12417),k=i(12346),I=i(12225),P=i(12265),e=i(12339),h=i(12441),j=i(12249);function Z(a,O){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const H=O.width,b=O.height;if(a instanceof Float32Array){let O=a.byteLength/a.BYTES_PER_ELEMENT;const i=new Uint8Array(O);for(;--O>=0;){let H=a[O];H<0?H=0:H>1&&(H=1),i[O]=255*H}a=i}const G=document.createElement("canvas");G.width=H,G.height=b;const q=G.getContext("2d");if(!q)return null;const Q=q.createImageData(H,b);if(Q.data.set(a),q.putImageData(Q,0,0),i){const a=document.createElement("canvas");a.width=H,a.height=b;const O=a.getContext("2d");return O?(O.translate(0,b),O.scale(1,-1),O.drawImage(G,0,0),a.toDataURL("image/png")):null}return G.toDataURL("image/png")}function F(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const H=a.getInternalTexture();if(!H)return null;const b=a._readPixelsSync(O,i);return b?Z(b,a.getSize(),H.invertY):null}async function r(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const H=a.getInternalTexture();if(!H)return null;const b=await a.readPixels(O,i);return b?Z(b,a.getSize(),H.invertY):null}var J=i(12448),ma=i(12427);class M extends Q.c{static _CreateVideoTexture(a,O,i){arguments.length>5&&void 0!==arguments[5]||M.TRILINEAR_SAMPLINGMODE;throw(0,I.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(a){this._isBlocking=a}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(a,O,i,H){let b,q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M.TRILINEAR_SAMPLINGMODE,Q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,I=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,e=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments.length>9?arguments[9]:void 0,j=arguments.length>10?arguments[10]:void 0,Z=arguments.length>11?arguments[11]:void 0,F=arguments.length>12?arguments[12]:void 0,r=arguments.length>13?arguments[13]:void 0;super(O),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new G.e,this._isBlocking=!0,this.name=a||"",this.url=a;let ma=!1,C=null,n=!0;"object"===typeof i&&null!==i?(b=i.noMipmap??!1,H=i.invertY??!J.c,q=i.samplingMode??M.TRILINEAR_SAMPLINGMODE,Q=i.L??null,k=i.onError??null,I=i.buffer??null,e=i.deleteBuffer??!1,h=i.format,j=i.mimeType,Z=i.loaderOptions,F=i.creationFlags,ma=i.useSRGBBuffer??!1,C=i.internalTexture??null,n=i.gammaSpace??n,r=i.forcedExtension??r):b=!!i,this._gammaSpace=n,this._noMipmap=b,this._invertY=void 0===H?!J.c:H,this._initialSamplingMode=q,this._buffer=I,this._deleteBuffer=e,this._mimeType=j,this._loaderOptions=Z,this._creationFlags=F,this._useSRGBBuffer=ma,this._forcedExtension=r,void 0!==h&&(this._format=h);const D=this.Ua(),U=this._getEngine();if(!U)return;U.onBeforeTextureInitObservable.notifyObservers(this);const y=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),Q&&Q(),!this.isBlocking&&D&&D.resetCachedMaterial()},w=(a,O)=>{this._loadingError=!0,this._errorObject={message:a,exception:O},k&&k(a,O),M.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!C)return this._delayedOnLoad=y,void(this._delayedOnError=w);if(this._texture=C??this._getFromCache(this.url,b,q,this._invertY,ma,this.isCube),this._texture)if(this._texture.isReady)P.b.SetImmediate((()=>y()));else{const a=this._texture.onLoadedObservable.add(y);this._texture.onErrorObservable.add((O=>{var i;w(O.message,O.exception),null===(i=this._texture)||void 0===i||i.onLoadedObservable.remove(a)}))}else if(D&&D.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=y,this._delayedOnError=w;else{try{this._texture=U.createTexture(this.url,b,this._invertY,D,q,y,w,this._buffer,void 0,this._format,this._forcedExtension,j,Z,F,ma)}catch(K){throw w("error loading",K),K}e&&(this._buffer=null)}}updateURL(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,H=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Ua().markAllMaterialsAsDirty(1,(a=>a.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=a),this.url=a,this._buffer=O,this._forcedExtension=H,this.delayLoadState=4,i&&(this._delayedOnLoad=i),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const a=this.Ua();a&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?P.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=a.getEngine().createTexture(this.url,this._noMipmap,this._invertY,a,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(a,O,i,H){a*=this._cachedUScale,O*=this._cachedVScale,a-=this.uRotationCenter*this._cachedUScale,O-=this.vRotationCenter*this._cachedVScale,i-=this.wRotationCenter,q.ZO.TransformCoordinatesFromFloatsToRef(a,O,i,this._rowGenerationMatrix,H),H.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,H.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,H.z+=this.wRotationCenter}getTextureMatrix(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*a===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*a,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=q.Matrix.Zero(),this._rowGenerationMatrix=new q.Matrix,this._t0=q.ZO.Zero(),this._t1=q.ZO.Zero(),this._t2=q.ZO.Zero()),q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,q.TmpVectors.Matrix[0]),q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,q.TmpVectors.Matrix[1]),q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,q.TmpVectors.Matrix[2]),q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,q.TmpVectors.Matrix[3]),q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.ne(this._t0),this._t2.ne(this._t0),q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const O=this.Ua();if(!O)return this._cachedTextureMatrix;const i=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&i!==this._cachedIdentity3x2&&O.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const a=this.Ua();if(!a)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==M.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===a.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=q.Matrix.Zero());const O=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case M.PLANAR_MODE:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case M.PROJECTION_MODE:{q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const O=a.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=O.updateFlag,O.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return O&&a.markAllMaterialsAsDirty(1,(a=>a.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const a={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,L:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return ma.d.Clone((()=>new M(this._texture?this._texture.url:null,this.Ua(),a)),this)}serialize(){var a;const O=this.name;M.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const i=super.serialize(M._SerializeInternalTextureUniqueId);if(!i)return null;if(M.SerializeBuffers||M.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))i.base64String=this._buffer,i.name=i.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const a=this.mimeType||"image/png";i.base64String=`data:${a};base64,${(0,j.l)(this._buffer)}`}else(M.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(i.base64String=!this._engine||this._engine._features.supportSyncTextureRead?F(this):r(this));var H;(i.invertY=this._invertY,i.samplingMode=this.samplingMode,i._creationFlags=this._creationFlags,i._useSRGBBuffer=this._useSRGBBuffer,M._SerializeInternalTextureUniqueId)&&(i.internalTextureUniqueId=null===(H=this._texture)||void 0===H?void 0:H.uniqueId);return i.internalTextureLabel=null===(a=this._texture)||void 0===a?void 0:a.label,i.noMipmap=this._noMipmap,this.name=O,i}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(a,O,i){if(a.customType){const H=e.e.Instantiate(a.customType).Parse(a,O,i);return a.samplingMode&&H.updateSamplingMode&&H._samplingMode&&H._samplingMode!==a.samplingMode&&H.updateSamplingMode(a.samplingMode),H}if(a.isCube&&!a.isRenderTarget)return M._CubeTextureParser(a,O,i);const H=void 0!==a.internalTextureUniqueId;if(!a.name&&!a.isRenderTarget&&!H)return null;let b;if(H){const i=O.getEngine().getLoadedTexturesCache();for(const O of i)if(O.uniqueId===a.internalTextureUniqueId){b=O;break}}const G=O=>{if(O&&O._texture&&(O._texture._cachedWrapU=null,O._texture._cachedWrapV=null,O._texture._cachedWrapR=null),a.samplingMode){const i=a.samplingMode;O&&O.samplingMode!==i&&O.updateSamplingMode(i)}if(O&&a.animations)for(let i=0;i<a.animations.length;i++){const H=a.animations[i],b=(0,k.e)("BABYLON.Animation");b&&O.animations.push(b.Parse(H))}O&&O._texture&&(H&&!b&&O._texture._setUniqueId(a.internalTextureUniqueId),O._texture.label=a.internalTextureLabel)};return ma.d.Parse((()=>{let H=!0;if(a.noMipmap&&(H=!1),a.mirrorPlane){const i=M._CreateMirror(a.name,a.renderTargetSize,O,H);return i._waitingRenderList=a.renderList,i.mirrorPlane=h.c.MO(a.mirrorPlane),G(i),i}if(a.isRenderTarget){let i=null;if(a.isCube){if(O.reflectionProbes)for(let H=0;H<O.reflectionProbes.length;H++){const i=O.reflectionProbes[H];if(i.name===a.name)return i.cubeTexture}}else i=M._CreateRenderTargetTexture(a.name,a.renderTargetSize,O,H,a._creationFlags??0),i._waitingRenderList=a.renderList;return G(i),i}if(a.isVideo){const b=M._CreateVideoTexture(i+(a.url||a.name),i+(a.src||a.url),O,H,a.invertY,a.samplingMode,a.settings||{});return G(b),b}{let q;if(a.base64String&&!b)q=M.CreateFromBase64String(a.base64String,a.base64String,O,!H,a.invertY,a.samplingMode,(()=>{G(q)}),a._creationFlags??0,a._useSRGBBuffer??!1),q.name=a.name;else{let Q;Q=a.name&&(a.name.indexOf("://")>0||a.name.startsWith("data:"))?a.name:i+a.name,a.url&&(a.url.startsWith("data:")||M.UseSerializedUrlIfAny)&&(Q=a.url);const k={noMipmap:!H,invertY:a.invertY,samplingMode:a.samplingMode,L:()=>{G(q)},internalTexture:b};q=new M(Q,O,k)}return q}}),a,O)}static CreateFromBase64String(a,O,i,H,b){let G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:M.TRILINEAR_SAMPLINGMODE;return new M("data:"+O,i,H,b,G,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,a,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(a,O,i){let H=arguments.length>3&&void 0!==arguments[3]&&arguments[3],b=arguments.length>4?arguments[4]:void 0,G=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:M.TRILINEAR_SAMPLINGMODE,Q=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,k=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,I=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,P=arguments.length>10?arguments[10]:void 0,e=arguments.length>11?arguments[11]:void 0;return"data:"!==a.substring(0,5)&&(a="data:"+a),new M(a,i,b,G,q,Q,k,O,H,I,void 0,void 0,P,e)}}M.SerializeBuffers=!0,M.ForceSerializeBuffers=!1,M.OnTextureLoadErrorObservable=new G.e,M._SerializeInternalTextureUniqueId=!1,M._CubeTextureParser=(a,O,i)=>{throw(0,I.e)("CubeTexture")},M._CreateMirror=(a,O,i,H)=>{throw(0,I.e)("MirrorTexture")},M._CreateRenderTargetTexture=(a,O,i,H,b)=>{throw(0,I.e)("RenderTargetTexture")},M.NEAREST_SAMPLINGMODE=1,M.NEAREST_NEAREST_MIPLINEAR=8,M.BILINEAR_SAMPLINGMODE=2,M.LINEAR_LINEAR_MIPNEAREST=11,M.TRILINEAR_SAMPLINGMODE=3,M.LINEAR_LINEAR_MIPLINEAR=3,M.NEAREST_NEAREST_MIPNEAREST=4,M.NEAREST_LINEAR_MIPNEAREST=5,M.NEAREST_LINEAR_MIPLINEAR=6,M.NEAREST_LINEAR=7,M.NEAREST_NEAREST=1,M.LINEAR_NEAREST_MIPNEAREST=9,M.LINEAR_NEAREST_MIPLINEAR=10,M.LINEAR_LINEAR=2,M.LINEAR_NEAREST=12,M.EXPLICIT_MODE=0,M.SPHERICAL_MODE=1,M.PLANAR_MODE=2,M.CUBIC_MODE=3,M.PROJECTION_MODE=4,M.SKYBOX_MODE=5,M.INVCUBIC_MODE=6,M.EQUIRECTANGULAR_MODE=7,M.FIXED_EQUIRECTANGULAR_MODE=8,M.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,M.CLAMP_ADDRESSMODE=0,M.WRAP_ADDRESSMODE=1,M.MIRROR_ADDRESSMODE=2,M.UseSerializedUrlIfAny=!1,(0,H.c)([(0,b.G)()],M.prototype,"url",void 0),(0,H.c)([(0,b.G)()],M.prototype,"uOffset",void 0),(0,H.c)([(0,b.G)()],M.prototype,"vOffset",void 0),(0,H.c)([(0,b.G)()],M.prototype,"uScale",void 0),(0,H.c)([(0,b.G)()],M.prototype,"vScale",void 0),(0,H.c)([(0,b.G)()],M.prototype,"uAng",void 0),(0,H.c)([(0,b.G)()],M.prototype,"vAng",void 0),(0,H.c)([(0,b.G)()],M.prototype,"wAng",void 0),(0,H.c)([(0,b.G)()],M.prototype,"uRotationCenter",void 0),(0,H.c)([(0,b.G)()],M.prototype,"vRotationCenter",void 0),(0,H.c)([(0,b.G)()],M.prototype,"wRotationCenter",void 0),(0,H.c)([(0,b.G)()],M.prototype,"homogeneousRotationInUVTransform",void 0),(0,H.c)([(0,b.G)()],M.prototype,"isBlocking",null),(0,k.h)("BABYLON.Texture",M),ma.d._TextureParser=M.Parse},12441:(a,O,i)=>{i.d(O,{c:()=>b});var H=i(12395);class b{constructor(a,O,i,b){this.normal=new H.ZO(a,O,i),this.d=b}Cb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new b(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let a=this.normal.getHashCode();return a=397*a^this.d,a}normalize(){const a=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let O=0;return 0!==a&&(O=1/a),this.normal.x*=O,this.normal.y*=O,this.normal.z*=O,this.d*=O,this}transform(a){const O=b._TmpMatrix;a.invertToRef(O);const i=O.m,H=this.normal.x,G=this.normal.y,q=this.normal.z,Q=this.d,k=H*i[0]+G*i[1]+q*i[2]+Q*i[3],I=H*i[4]+G*i[5]+q*i[6]+Q*i[7],P=H*i[8]+G*i[9]+q*i[10]+Q*i[11],e=H*i[12]+G*i[13]+q*i[14]+Q*i[15];return new b(k,I,P,e)}dotCoordinate(a){return this.normal.x*a.x+this.normal.y*a.y+this.normal.z*a.z+this.d}copyFromPoints(a,O,i){const H=O.x-a.x,b=O.y-a.y,G=O.z-a.z,q=i.x-a.x,Q=i.y-a.y,k=i.z-a.z,I=b*k-G*Q,P=G*q-H*k,e=H*Q-b*q,h=Math.sqrt(I*I+P*P+e*e);let j;return j=0!==h?1/h:0,this.normal.x=I*j,this.normal.y=P*j,this.normal.z=e*j,this.d=-(this.normal.x*a.x+this.normal.y*a.y+this.normal.z*a.z),this}isFrontFacingTo(a,O){return H.ZO.Dot(this.normal,a)<=O}signedDistanceTo(a){return H.ZO.Dot(a,this.normal)+this.d}static MO(a){return new b(a[0],a[1],a[2],a[3])}static FromPoints(a,O,i){const H=new b(0,0,0,0);return H.copyFromPoints(a,O,i),H}static FromPositionAndNormal(a,O){const i=new b(0,0,0,0);return this.FromPositionAndNormalToRef(a,O,i)}static FromPositionAndNormalToRef(a,O,i){return i.normal.q(O),i.normal.normalize(),i.d=-a.dot(i.normal),i}static SignedDistanceToPlaneFromPositionAndNormal(a,O,i){const b=-(O.x*a.x+O.y*a.y+O.z*a.z);return H.ZO.Dot(i,O)+b}}b._TmpMatrix=H.Matrix.Identity()},12425:(a,O,i)=>{i.d(O,{c:()=>H});class H{constructor(a,O){this.width=a,this.height=O}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let a=0|this.width;return a=397*a^this.height,a}q(a){this.width=a.width,this.height=a.height}fb(a,O){return this.width=a,this.height=O,this}set(a,O){return this.fb(a,O)}multiplyByFloats(a,O){return new H(this.width*a,this.height*O)}clone(){return new H(this.width,this.height)}equals(a){return!!a&&(this.width===a.width&&this.height===a.height)}get surface(){return this.width*this.height}static Zero(){return new H(0,0)}add(a){return new H(this.width+a.width,this.height+a.height)}FO(a){return new H(this.width-a.width,this.height-a.height)}scale(a){return new H(this.width*a,this.height*a)}static Lerp(a,O,i){const b=a.width+(O.width-a.width)*i,G=a.height+(O.height-a.height)*i;return new H(b,G)}}},12390:(a,O,i)=>{i.d(O,{b:()=>G,e:()=>q});const H={},b={};function G(a){const O=a.getClassName();return b[O]||(b[O]={}),b[O]}function q(a){const O=a.getClassName();if(H[O])return H[O];H[O]={};const i=H[O];let G=a,q=O;for(;q;){const a=b[q];for(const b in a)i[b]=a[b];let O,H=!1;do{if(O=Object.getPrototypeOf(G),!O.getClassName){H=!0;break}if(O.getClassName()!==q)break;G=O}while(O);if(H)break;q=O.getClassName(),G=O}return i}},12384:(a,O,i)=>{i.d(O,{B:()=>P,D:()=>e,G:()=>q,c:()=>G,f:()=>ma,i:()=>j,k:()=>k,m:()=>Z,o:()=>I,p:()=>F,r:()=>J,u:()=>h,y:()=>r,z:()=>Q});var H=i(12390);function b(a,O){return(i,b)=>{const G=(0,H.b)(i);G[b]||(G[b]={type:a,sourceName:O})}}function G(a){return function(a){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(i,H)=>{const b=O||"_"+H;Object.defineProperty(i,H,{get:function(){return this[b]},set:function(O){var H;"function"===typeof(null===(H=this[b])||void 0===H?void 0:H.equals)&&this[b].equals(O)||this[b]!==O&&(this[b]=O,i[a].apply(this))},enumerable:!0,configurable:!0})}}(a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function q(a){return b(0,a)}function Q(a){return b(1,a)}function k(a){return b(2,a)}function I(a){return b(3,a)}function P(a){return b(4,a)}function e(a){return b(5,a)}function h(a){return b(6,a)}function j(a){return b(7,a)}function Z(a){return b(8,a)}function F(a){return b(9,a)}function r(a){return b(10,a)}function J(a){return b(12,a)}function ma(a,O,i,H){const b=i.value;i.value=function(){let i=b;if("undefined"!==typeof _native&&_native[O]){const a=_native[O];i=H?function(){return H(...arguments)?a(...arguments):b(...arguments)}:a}return a[O]=i,i(...arguments)}}ma.filter=function(a){return(O,i,H)=>ma(O,i,H,a)}},12427:(a,O,i)=>{i.d(O,{d:()=>I});var H=i(12225),b=i(12433),G=i(12436),q=i(12395),Q=i(12390);const k=function(a,O,i){let H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const G=a();b.d&&b.d.HasTags(O)&&b.d.AddTagsTo(G,b.d.GetTags(O,!0));const q=(0,Q.e)(G),k={};for(const b in q){const a=q[b],Q=O[b],P=a.type;if(void 0!==Q&&null!==Q&&("uniqueId"!==b||I.AllowLoadingUniqueId))switch(P){case 0:case 6:case 9:case 11:G[b]=Q;break;case 1:H.cloneTexturesOnlyOnce&&k[Q.uniqueId]?G[b]=k[Q.uniqueId]:(G[b]=i||Q.isRenderTarget?Q:Q.clone(),k[Q.uniqueId]=G[b]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:G[b]=i?Q:Q.clone()}}return G};class I{static AppendSerializedAnimations(a,O){if(a.animations){O.animations=[];for(let i=0;i<a.animations.length;i++){const H=a.animations[i];O.animations.push(H.serialize())}}}static Serialize(a,O){O||(O={}),b.d&&(O.tags=b.d.GetTags(a));const i=(0,Q.e)(a);for(const H in i){const b=i[H],G=b.sourceName||H,q=b.type,Q=a[H];if(void 0!==Q&&null!==Q&&("uniqueId"!==H||I.AllowLoadingUniqueId))switch(q){case 0:O[G]=Q;break;case 1:case 3:case 7:case 9:O[G]=Q.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:O[G]=Q.Cb();break;case 6:case 11:O[G]=Q.id}}return O}static ParseProperties(a,O,i,H){H||(H="");const b=(0,Q.e)(O);for(const Q in b){const k=b[Q],P=a[k.sourceName||Q],e=k.type;if(void 0!==P&&null!==P&&("uniqueId"!==Q||I.AllowLoadingUniqueId)){const a=O;switch(e){case 0:a[Q]=P;break;case 1:i&&(a[Q]=I._TextureParser(P,i,H));break;case 2:a[Q]=G.mi.MO(P);break;case 3:a[Q]=I._FresnelParametersParser(P);break;case 4:a[Q]=q.Vector2.MO(P);break;case 5:a[Q]=q.ZO.MO(P);break;case 6:i&&(a[Q]=i.getLastMeshById(P));break;case 7:a[Q]=I._ColorCurvesParser(P);break;case 8:a[Q]=G.Ab.MO(P);break;case 9:a[Q]=I._ImageProcessingConfigurationParser(P);break;case 10:a[Q]=q.Quaternion.MO(P);break;case 11:i&&(a[Q]=i.getCameraById(P));break;case 12:a[Q]=q.Matrix.MO(P)}}}}static Parse(a,O,i){let H=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const G=a();return b.d&&b.d.AddTagsTo(G,O.tags),I.ParseProperties(O,G,i,H),G}static Clone(a,O){return k(a,O,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(a,O){return k(a,O,!0)}}I.AllowLoadingUniqueId=!1,I._ImageProcessingConfigurationParser=a=>{throw(0,H.e)("ImageProcessingConfiguration")},I._FresnelParametersParser=a=>{throw(0,H.e)("FresnelParameters")},I._ColorCurvesParser=a=>{throw(0,H.e)("ColorCurves")},I._TextureParser=(a,O,i)=>{throw(0,H.e)("Texture")}},12433:(a,O,i)=>{i.d(O,{d:()=>b});class H{static Eval(a,O){return"true"===(a=a.match(/\([^()]*\)/g)?a.replace(/\([^()]*\)/g,(a=>(a=a.slice(1,a.length-1),H._HandleParenthesisContent(a,O)))):H._HandleParenthesisContent(a,O))||"false"!==a&&H.Eval(a,O)}static _HandleParenthesisContent(a,O){let i;O=O||(a=>"true"===a);const b=a.split("||");for(const G in b)if(Object.prototype.hasOwnProperty.call(b,G)){let a=H._SimplifyNegation(b[G].trim());const q=a.split("&&");if(q.length>1)for(let b=0;b<q.length;++b){const G=H._SimplifyNegation(q[b].trim());if(i="true"!==G&&"false"!==G?"!"===G[0]?!O(G.substring(1)):O(G):"true"===G,!i){a="false";break}}if(i||"true"===a){i=!0;break}i="true"!==a&&"false"!==a?"!"===a[0]?!O(a.substring(1)):O(a):"true"===a}return i?"true":"false"}static _SimplifyNegation(a){return"!true"===(a=(a=a.replace(/^[\s!]+/,(a=>(a=a.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?a="false":"!false"===a&&(a="true"),a}}class b{static EnableFor(a){a._tags=a._tags||{},a.hasTags=()=>b.HasTags(a),a.addTags=O=>b.AddTagsTo(a,O),a.removeTags=O=>b.RemoveTagsFrom(a,O),a.matchesTagsQuery=O=>b.MatchesQuery(a,O)}static DisableFor(a){delete a._tags,delete a.hasTags,delete a.addTags,delete a.removeTags,delete a.matchesTagsQuery}static HasTags(a){if(!a._tags)return!1;const O=a._tags;for(const i in O)if(Object.prototype.hasOwnProperty.call(O,i))return!0;return!1}static GetTags(a){let O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!a._tags)return null;if(O){const O=[];for(const i in a._tags)Object.prototype.hasOwnProperty.call(a._tags,i)&&!0===a._tags[i]&&O.push(i);return O.join(" ")}return a._tags}static AddTagsTo(a,O){if(!O)return;if("string"!==typeof O)return;const i=O.split(" ");for(const H of i)b._AddTagTo(a,H)}static _AddTagTo(a,O){""!==(O=O.trim())&&"true"!==O&&"false"!==O&&(O.match(/[\s]/)||O.match(/^([!]|([|]|[&]){2})/)||(b.EnableFor(a),a._tags[O]=!0))}static RemoveTagsFrom(a,O){if(!b.HasTags(a))return;const i=O.split(" ");for(const H in i)b._RemoveTagFrom(a,i[H])}static _RemoveTagFrom(a,O){delete a._tags[O]}static MatchesQuery(a,O){return void 0===O||(""===O?b.HasTags(a):H.Eval(O,(O=>b.HasTags(a)&&a._tags[O])))}}},12375:(a,O,i)=>{i.d(O,{c:()=>H});function H(a,O,i,H){var b,G=arguments.length,q=G<3?O:null===H?H=Object.getOwnPropertyDescriptor(O,i):H;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(a,O,i,H);else for(var Q=a.length-1;Q>=0;Q--)(b=a[Q])&&(q=(G<3?b(q):G>3?b(O,i,q):b(O,i))||q);return G>3&&q&&Object.defineProperty(O,i,q),q}Object.create;Object.create}}]);