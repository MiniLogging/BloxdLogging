"use strict";(self["3gghkoft8x"]=self["3gghkoft8x"]||[]).push([[13],{12375:(y,S,I)=>{I.d(S,{b:()=>V});let V=!1},12340:(y,S,I)=>{I.d(S,{b:()=>G});var V=I(12306),i=I(12309),A=I(12133),B=I(12321),d=I(12185),F=I(12286),J=(I(12193),I(12345));class u{get wrapU(){return this._wrapU}set wrapU(y){this._wrapU=y}get wrapV(){return this._wrapV}set wrapV(y){this._wrapV=y}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(y){this._texture&&(this._texture.isCube=y)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(y){this._texture&&(this._texture.is3D=y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(y){this._texture&&(this._texture.is2DArray=y)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(y){return void 0!==(null===y||void 0===y?void 0:y.shareDepth)}constructor(y){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=J.b.Zero(),this._cachedBaseSize=J.b.Zero(),this._initialSamplingMode=2,this._texture=u._IsRenderTargetWrapper(y)?y.texture:y,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(y){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(y,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var K=I(12352);class G extends u{set Fd(y){this._hasAlpha!==y&&(this._hasAlpha=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get Fd(){return this._hasAlpha}set getAlphaFromRGB(y){this._getAlphaFromRGB!==y&&(this._getAlphaFromRGB=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(y){this._coordinatesIndex!==y&&(this._coordinatesIndex=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(y){this._coordinatesMode!==y&&(this._coordinatesMode=y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(y){this._wrapU=y}get wrapV(){return this._wrapV}set wrapV(y){this._wrapV=y}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(y){this._texture?this._texture.isCube=y:this._isCube=y}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(y){this._texture&&(this._texture.is3D=y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(y){this._texture&&(this._texture.is2DArray=y)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(y){var S;if(this._texture){if(this._texture._gammaSpace===y)return;this._texture._gammaSpace=y}else{if(this._gammaSpace===y)return;this._gammaSpace=y}null===(S=this.Ey())||void 0===S||S.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(y){var S;y!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=y),null===(S=this.Ey())||void 0===S||S.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(y){this._texture&&(this._texture._lodGenerationOffset=y)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(y){this._texture&&(this._texture._lodGenerationScale=y)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(y){this._texture&&(this._texture._linearSpecularLOD=y)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(y){this._texture&&(this._texture._irradianceTexture=y)}get uid(){return this._uid||(this._uid=(0,F.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(y){this._onDisposeObserver&&this.zi.remove(this._onDisposeObserver),this._onDisposeObserver=this.zi.add(y)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=G.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.zi=new A.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,y?G._IsScene(y)?this._scene=y:this._engine=y:this._scene=d.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=S,this._uid=null}Ey(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return B.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return B.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(y){}get canRescale(){return!1}_getFromCache(y,S,I,V,i,A){const B=this._getEngine();if(!B)return null;const d=B._getUseSRGBBuffer(!!i,S),F=B.getLoadedTexturesCache();for(let J=0;J<F.length;J++){const B=F[J];if((void 0===i||d===B._useSRGBBuffer)&&(void 0===V||V===B.invertY)&&B.url===y&&B.generateMipMaps===!S&&(!I||I===B.samplingMode)&&(void 0===A||A===B.isCube))return B.incrementReferences(),B}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const y=this.Ey();y&&y.markAllMaterialsAsDirty(1)}readPixels(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const J=this._getEngine();if(!J)return null;const u=this.getSize();let K=u.width,G=u.height;0!==S&&(K/=Math.pow(2,S),G/=Math.pow(2,S),K=Math.round(K),G=Math.round(G)),d=Math.min(K,d),F=Math.min(G,F);try{return this._texture.isCube?J._readTexturePixels(this._texture,d,F,y,S,I,V,i,A,B):J._readTexturePixels(this._texture,d,F,-1,S,I,V,i,A,B)}catch(p){return null}}_readPixelsSync(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,V=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const A=this.getSize();let B=A.width,d=A.height;const F=this._getEngine();if(!F)return null;0!=S&&(B/=Math.pow(2,S),d/=Math.pow(2,S),B=Math.round(B),d=Math.round(d));try{return this._texture.isCube?F._readTexturePixelsSync(this._texture,B,d,y,S,I,V,i):F._readTexturePixelsSync(this._texture,B,d,-1,S,I,V,i)}catch(J){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const y=this._scene.textures.indexOf(this);if(y>=0&&this._scene.textures.splice(y,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const y=this._parentContainer.textures.indexOf(this);y>-1&&this._parentContainer.textures.splice(y,1),this._parentContainer=null}}this.zi.notifyObservers(this),this.zi.clear(),this.metadata=null,super.dispose()}serialize(){let y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!y)return null;const S=K.d.Serialize(this);return K.d.AppendSerializedAnimations(this,S),S}static WhenAllReady(y,S){let I=y.length;if(0!==I)for(let V=0;V<y.length;V++){const i=y[V];if(i.isReady())0===--I&&S();else{const y=i.onLoadObservable;y?y.addOnce((()=>{0===--I&&S()})):0===--I&&S()}}else S()}static _IsScene(y){return"Scene"===y.getClassName()}}G.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,V.c)([(0,i.E)()],G.prototype,"uniqueId",void 0),(0,V.c)([(0,i.E)()],G.prototype,"name",void 0),(0,V.c)([(0,i.E)()],G.prototype,"displayName",void 0),(0,V.c)([(0,i.E)()],G.prototype,"metadata",void 0),(0,V.c)([(0,i.E)("Fd")],G.prototype,"_hasAlpha",void 0),(0,V.c)([(0,i.E)("getAlphaFromRGB")],G.prototype,"_getAlphaFromRGB",void 0),(0,V.c)([(0,i.E)()],G.prototype,"level",void 0),(0,V.c)([(0,i.E)("coordinatesIndex")],G.prototype,"_coordinatesIndex",void 0),(0,V.c)([(0,i.E)()],G.prototype,"optimizeUVAllocation",void 0),(0,V.c)([(0,i.E)("coordinatesMode")],G.prototype,"_coordinatesMode",void 0),(0,V.c)([(0,i.E)()],G.prototype,"wrapU",null),(0,V.c)([(0,i.E)()],G.prototype,"wrapV",null),(0,V.c)([(0,i.E)()],G.prototype,"wrapR",void 0),(0,V.c)([(0,i.E)()],G.prototype,"anisotropicFilteringLevel",void 0),(0,V.c)([(0,i.E)()],G.prototype,"isCube",null),(0,V.c)([(0,i.E)()],G.prototype,"is3D",null),(0,V.c)([(0,i.E)()],G.prototype,"is2DArray",null),(0,V.c)([(0,i.E)()],G.prototype,"gammaSpace",null),(0,V.c)([(0,i.E)()],G.prototype,"invertZ",void 0),(0,V.c)([(0,i.E)()],G.prototype,"lodLevelInAlpha",void 0),(0,V.c)([(0,i.E)()],G.prototype,"lodGenerationOffset",null),(0,V.c)([(0,i.E)()],G.prototype,"lodGenerationScale",null),(0,V.c)([(0,i.E)()],G.prototype,"linearSpecularLOD",null),(0,V.c)([(0,i.y)()],G.prototype,"irradianceTexture",null),(0,V.c)([(0,i.E)()],G.prototype,"isRenderTarget",void 0)},12304:(y,S,I)=>{I.d(S,{e:()=>O});var V=I(12306),i=I(12309),A=I(12133),B=I(12321),d=I(12340),F=I(12282),J=I(12172),u=I(12216),K=I(12279),G=I(12367),p=I(12199);function L(y,S){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const V=S.width,i=S.height;if(y instanceof Float32Array){let S=y.byteLength/y.BYTES_PER_ELEMENT;const I=new Uint8Array(S);for(;--S>=0;){let V=y[S];V<0?V=0:V>1&&(V=1),I[S]=255*V}y=I}const A=document.createElement("canvas");A.width=V,A.height=i;const B=A.getContext("2d");if(!B)return null;const d=B.createImageData(V,i);if(d.data.set(y),B.putImageData(d,0,0),I){const y=document.createElement("canvas");y.width=V,y.height=i;const S=y.getContext("2d");return S?(S.translate(0,i),S.scale(1,-1),S.drawImage(A,0,0),y.toDataURL("image/png")):null}return A.toDataURL("image/png")}function T(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const V=y.getInternalTexture();if(!V)return null;const i=y._readPixelsSync(S,I);return i?L(i,y.getSize(),V.invertY):null}async function l(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const V=y.getInternalTexture();if(!V)return null;const i=await y.readPixels(S,I);return i?L(i,y.getSize(),V.invertY):null}var j=I(12375),s=I(12352);class O extends d.b{static _CreateVideoTexture(y,S,I){arguments.length>5&&void 0!==arguments[5]||O.TRILINEAR_SAMPLINGMODE;throw(0,J.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(y){this._isBlocking=y}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(y,S,I,V){let i,B=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O.TRILINEAR_SAMPLINGMODE,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,F=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K=arguments.length>8&&void 0!==arguments[8]&&arguments[8],G=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0,L=arguments.length>11?arguments[11]:void 0,T=arguments.length>12?arguments[12]:void 0,l=arguments.length>13?arguments[13]:void 0;super(S),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new A.b,this._isBlocking=!0,this.name=y||"",this.url=y;let s=!1,f=null,my=!0;"object"===typeof I&&null!==I?(i=I.noMipmap??!1,V=I.invertY??!j.b,B=I.samplingMode??O.TRILINEAR_SAMPLINGMODE,d=I.Y??null,F=I.onError??null,J=I.buffer??null,K=I.deleteBuffer??!1,G=I.format,p=I.mimeType,L=I.loaderOptions,T=I.creationFlags,s=I.useSRGBBuffer??!1,f=I.internalTexture??null,my=I.gammaSpace??my,l=I.forcedExtension??l):i=!!I,this._gammaSpace=my,this._noMipmap=i,this._invertY=void 0===V?!j.b:V,this._initialSamplingMode=B,this._buffer=J,this._deleteBuffer=K,this._mimeType=p,this._loaderOptions=L,this._creationFlags=T,this._useSRGBBuffer=s,this._forcedExtension=l,void 0!==G&&(this._format=G);const C=this.Ey(),D=this._getEngine();if(!D)return;D.onBeforeTextureInitObservable.notifyObservers(this);const o=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),d&&d(),!this.isBlocking&&C&&C.resetCachedMaterial()},E=(y,S)=>{this._loadingError=!0,this._errorObject={message:y,exception:S},F&&F(y,S),O.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!f)return this._delayedOnLoad=o,void(this._delayedOnError=E);if(this._texture=f??this._getFromCache(this.url,i,B,this._invertY,s,this.isCube),this._texture)if(this._texture.isReady)u.b.SetImmediate((()=>o()));else{const y=this._texture.onLoadedObservable.add(o);this._texture.onErrorObservable.add((S=>{var I;E(S.message,S.exception),null===(I=this._texture)||void 0===I||I.onLoadedObservable.remove(y)}))}else if(C&&C.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=o,this._delayedOnError=E;else{try{this._texture=D.createTexture(this.url,i,this._invertY,C,B,o,E,this._buffer,void 0,this._format,this._forcedExtension,p,L,T,s)}catch(z){throw E("error loading",z),z}K&&(this._buffer=null)}}updateURL(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,I=arguments.length>2?arguments[2]:void 0,V=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Ey().markAllMaterialsAsDirty(1,(y=>y.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=y),this.url=y,this._buffer=S,this._forcedExtension=V,this.delayLoadState=4,I&&(this._delayedOnLoad=I),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const y=this.Ey();y&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?u.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=y.getEngine().createTexture(this.url,this._noMipmap,this._invertY,y,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(y,S,I,V){y*=this._cachedUScale,S*=this._cachedVScale,y-=this.uRotationCenter*this._cachedUScale,S-=this.vRotationCenter*this._cachedVScale,I-=this.wRotationCenter,B.OS.TransformCoordinatesFromFloatsToRef(y,S,I,this._rowGenerationMatrix,V),V.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,V.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,V.z+=this.wRotationCenter}getTextureMatrix(){let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*y===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*y,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=B.Matrix.Zero(),this._rowGenerationMatrix=new B.Matrix,this._t0=B.OS.Zero(),this._t1=B.OS.Zero(),this._t2=B.OS.Zero()),B.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(B.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,B.TmpVectors.Matrix[0]),B.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,B.TmpVectors.Matrix[1]),B.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,B.TmpVectors.Matrix[2]),B.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,B.TmpVectors.Matrix[3]),B.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(B.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.uK(this._t0),this._t2.uK(this._t0),B.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const S=this.Ey();if(!S)return this._cachedTextureMatrix;const I=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&I!==this._cachedIdentity3x2&&S.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const y=this.Ey();if(!y)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==O.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===y.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=B.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=B.Matrix.Zero());const S=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case O.PLANAR_MODE:B.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case O.PROJECTION_MODE:{B.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const S=y.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=S.updateFlag,S.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:B.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return S&&y.markAllMaterialsAsDirty(1,(y=>y.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const y={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,Y:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return s.d.Clone((()=>new O(this._texture?this._texture.url:null,this.Ey(),y)),this)}serialize(){var y;const S=this.name;O.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const I=super.serialize(O._SerializeInternalTextureUniqueId);if(!I)return null;if(O.SerializeBuffers||O.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))I.base64String=this._buffer,I.name=I.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const y=this.mimeType||"image/png";I.base64String=`data:${y};base64,${(0,p.p)(this._buffer)}`}else(O.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(I.base64String=!this._engine||this._engine._features.supportSyncTextureRead?T(this):l(this));var V;(I.invertY=this._invertY,I.samplingMode=this.samplingMode,I._creationFlags=this._creationFlags,I._useSRGBBuffer=this._useSRGBBuffer,O._SerializeInternalTextureUniqueId)&&(I.internalTextureUniqueId=null===(V=this._texture)||void 0===V?void 0:V.uniqueId);return I.internalTextureLabel=null===(y=this._texture)||void 0===y?void 0:y.label,I.noMipmap=this._noMipmap,this.name=S,I}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(y,S,I){if(y.customType){const V=K.d.Instantiate(y.customType).Parse(y,S,I);return y.samplingMode&&V.updateSamplingMode&&V._samplingMode&&V._samplingMode!==y.samplingMode&&V.updateSamplingMode(y.samplingMode),V}if(y.isCube&&!y.isRenderTarget)return O._CubeTextureParser(y,S,I);const V=void 0!==y.internalTextureUniqueId;if(!y.name&&!y.isRenderTarget&&!V)return null;let i;if(V){const I=S.getEngine().getLoadedTexturesCache();for(const S of I)if(S.uniqueId===y.internalTextureUniqueId){i=S;break}}const A=S=>{if(S&&S._texture&&(S._texture._cachedWrapU=null,S._texture._cachedWrapV=null,S._texture._cachedWrapR=null),y.samplingMode){const I=y.samplingMode;S&&S.samplingMode!==I&&S.updateSamplingMode(I)}if(S&&y.animations)for(let I=0;I<y.animations.length;I++){const V=y.animations[I],i=(0,F.d)("BABYLON.Animation");i&&S.animations.push(i.Parse(V))}S&&S._texture&&(V&&!i&&S._texture._setUniqueId(y.internalTextureUniqueId),S._texture.label=y.internalTextureLabel)};return s.d.Parse((()=>{let V=!0;if(y.noMipmap&&(V=!1),y.mirrorPlane){const I=O._CreateMirror(y.name,y.renderTargetSize,S,V);return I._waitingRenderList=y.renderList,I.mirrorPlane=G.e.oS(y.mirrorPlane),A(I),I}if(y.isRenderTarget){let I=null;if(y.isCube){if(S.reflectionProbes)for(let V=0;V<S.reflectionProbes.length;V++){const I=S.reflectionProbes[V];if(I.name===y.name)return I.cubeTexture}}else I=O._CreateRenderTargetTexture(y.name,y.renderTargetSize,S,V,y._creationFlags??0),I._waitingRenderList=y.renderList;return A(I),I}if(y.isVideo){const i=O._CreateVideoTexture(I+(y.url||y.name),I+(y.src||y.url),S,V,y.invertY,y.samplingMode,y.settings||{});return A(i),i}{let B;if(y.base64String&&!i)B=O.CreateFromBase64String(y.base64String,y.base64String,S,!V,y.invertY,y.samplingMode,(()=>{A(B)}),y._creationFlags??0,y._useSRGBBuffer??!1),B.name=y.name;else{let d;d=y.name&&(y.name.indexOf("://")>0||y.name.startsWith("data:"))?y.name:I+y.name,y.url&&(y.url.startsWith("data:")||O.UseSerializedUrlIfAny)&&(d=y.url);const F={noMipmap:!V,invertY:y.invertY,samplingMode:y.samplingMode,Y:()=>{A(B)},internalTexture:i};B=new O(d,S,F)}return B}}),y,S)}static CreateFromBase64String(y,S,I,V,i){let A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:O.TRILINEAR_SAMPLINGMODE;return new O("data:"+S,I,V,i,A,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(y,S,I){let V=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,A=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:O.TRILINEAR_SAMPLINGMODE,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,J=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,u=arguments.length>10?arguments[10]:void 0,K=arguments.length>11?arguments[11]:void 0;return"data:"!==y.substring(0,5)&&(y="data:"+y),new O(y,I,i,A,B,d,F,S,V,J,void 0,void 0,u,K)}}O.SerializeBuffers=!0,O.ForceSerializeBuffers=!1,O.OnTextureLoadErrorObservable=new A.b,O._SerializeInternalTextureUniqueId=!1,O._CubeTextureParser=(y,S,I)=>{throw(0,J.b)("CubeTexture")},O._CreateMirror=(y,S,I,V)=>{throw(0,J.b)("MirrorTexture")},O._CreateRenderTargetTexture=(y,S,I,V,i)=>{throw(0,J.b)("RenderTargetTexture")},O.NEAREST_SAMPLINGMODE=1,O.NEAREST_NEAREST_MIPLINEAR=8,O.BILINEAR_SAMPLINGMODE=2,O.LINEAR_LINEAR_MIPNEAREST=11,O.TRILINEAR_SAMPLINGMODE=3,O.LINEAR_LINEAR_MIPLINEAR=3,O.NEAREST_NEAREST_MIPNEAREST=4,O.NEAREST_LINEAR_MIPNEAREST=5,O.NEAREST_LINEAR_MIPLINEAR=6,O.NEAREST_LINEAR=7,O.NEAREST_NEAREST=1,O.LINEAR_NEAREST_MIPNEAREST=9,O.LINEAR_NEAREST_MIPLINEAR=10,O.LINEAR_LINEAR=2,O.LINEAR_NEAREST=12,O.EXPLICIT_MODE=0,O.SPHERICAL_MODE=1,O.PLANAR_MODE=2,O.CUBIC_MODE=3,O.PROJECTION_MODE=4,O.SKYBOX_MODE=5,O.INVCUBIC_MODE=6,O.EQUIRECTANGULAR_MODE=7,O.FIXED_EQUIRECTANGULAR_MODE=8,O.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,O.CLAMP_ADDRESSMODE=0,O.WRAP_ADDRESSMODE=1,O.MIRROR_ADDRESSMODE=2,O.UseSerializedUrlIfAny=!1,(0,V.c)([(0,i.E)()],O.prototype,"url",void 0),(0,V.c)([(0,i.E)()],O.prototype,"uOffset",void 0),(0,V.c)([(0,i.E)()],O.prototype,"vOffset",void 0),(0,V.c)([(0,i.E)()],O.prototype,"uScale",void 0),(0,V.c)([(0,i.E)()],O.prototype,"vScale",void 0),(0,V.c)([(0,i.E)()],O.prototype,"uAng",void 0),(0,V.c)([(0,i.E)()],O.prototype,"vAng",void 0),(0,V.c)([(0,i.E)()],O.prototype,"wAng",void 0),(0,V.c)([(0,i.E)()],O.prototype,"uRotationCenter",void 0),(0,V.c)([(0,i.E)()],O.prototype,"vRotationCenter",void 0),(0,V.c)([(0,i.E)()],O.prototype,"wRotationCenter",void 0),(0,V.c)([(0,i.E)()],O.prototype,"homogeneousRotationInUVTransform",void 0),(0,V.c)([(0,i.E)()],O.prototype,"isBlocking",null),(0,F.e)("BABYLON.Texture",O),s.d._TextureParser=O.Parse},12367:(y,S,I)=>{I.d(S,{e:()=>i});var V=I(12321);class i{constructor(y,S,I,i){this.normal=new V.OS(y,S,I),this.d=i}Vd(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new i(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let y=this.normal.getHashCode();return y=397*y^this.d,y}normalize(){const y=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let S=0;return 0!==y&&(S=1/y),this.normal.x*=S,this.normal.y*=S,this.normal.z*=S,this.d*=S,this}transform(y){const S=i._TmpMatrix;y.invertToRef(S);const I=S.m,V=this.normal.x,A=this.normal.y,B=this.normal.z,d=this.d,F=V*I[0]+A*I[1]+B*I[2]+d*I[3],J=V*I[4]+A*I[5]+B*I[6]+d*I[7],u=V*I[8]+A*I[9]+B*I[10]+d*I[11],K=V*I[12]+A*I[13]+B*I[14]+d*I[15];return new i(F,J,u,K)}dotCoordinate(y){return this.normal.x*y.x+this.normal.y*y.y+this.normal.z*y.z+this.d}copyFromPoints(y,S,I){const V=S.x-y.x,i=S.y-y.y,A=S.z-y.z,B=I.x-y.x,d=I.y-y.y,F=I.z-y.z,J=i*F-A*d,u=A*B-V*F,K=V*d-i*B,G=Math.sqrt(J*J+u*u+K*K);let p;return p=0!==G?1/G:0,this.normal.x=J*p,this.normal.y=u*p,this.normal.z=K*p,this.d=-(this.normal.x*y.x+this.normal.y*y.y+this.normal.z*y.z),this}isFrontFacingTo(y,S){return V.OS.Dot(this.normal,y)<=S}signedDistanceTo(y){return V.OS.Dot(y,this.normal)+this.d}static oS(y){return new i(y[0],y[1],y[2],y[3])}static FromPoints(y,S,I){const V=new i(0,0,0,0);return V.copyFromPoints(y,S,I),V}static FromPositionAndNormal(y,S){const I=new i(0,0,0,0);return this.FromPositionAndNormalToRef(y,S,I)}static FromPositionAndNormalToRef(y,S,I){return I.normal.A(S),I.normal.normalize(),I.d=-y.dot(I.normal),I}static SignedDistanceToPlaneFromPositionAndNormal(y,S,I){const i=-(S.x*y.x+S.y*y.y+S.z*y.z);return V.OS.Dot(I,S)+i}}i._TmpMatrix=V.Matrix.Identity()},12345:(y,S,I)=>{I.d(S,{b:()=>V});class V{constructor(y,S){this.width=y,this.height=S}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let y=0|this.width;return y=397*y^this.height,y}A(y){this.width=y.width,this.height=y.height}od(y,S){return this.width=y,this.height=S,this}set(y,S){return this.od(y,S)}multiplyByFloats(y,S){return new V(this.width*y,this.height*S)}clone(){return new V(this.width,this.height)}equals(y){return!!y&&(this.width===y.width&&this.height===y.height)}get surface(){return this.width*this.height}static Zero(){return new V(0,0)}add(y){return new V(this.width+y.width,this.height+y.height)}fS(y){return new V(this.width-y.width,this.height-y.height)}scale(y){return new V(this.width*y,this.height*y)}static Lerp(y,S,I){const i=y.width+(S.width-y.width)*I,A=y.height+(S.height-y.height)*I;return new V(i,A)}}},12314:(y,S,I)=>{I.d(S,{e:()=>A,i:()=>B});const V={},i={};function A(y){const S=y.getClassName();return i[S]||(i[S]={}),i[S]}function B(y){const S=y.getClassName();if(V[S])return V[S];V[S]={};const I=V[S];let A=y,B=S;for(;B;){const y=i[B];for(const i in y)I[i]=y[i];let S,V=!1;do{if(S=Object.getPrototypeOf(A),!S.getClassName){V=!0;break}if(S.getClassName()!==B)break;A=S}while(S);if(V)break;B=S.getClassName(),A=S}return I}},12309:(y,S,I)=>{I.d(S,{B:()=>u,D:()=>K,E:()=>B,c:()=>A,d:()=>s,e:()=>p,h:()=>F,i:()=>L,j:()=>J,n:()=>T,r:()=>j,s:()=>G,u:()=>l,y:()=>d});var V=I(12314);function i(y,S){return(I,i)=>{const A=(0,V.e)(I);A[i]||(A[i]={type:y,sourceName:S})}}function A(y){return function(y){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(I,V)=>{const i=S||"_"+V;Object.defineProperty(I,V,{get:function(){return this[i]},set:function(S){var V;"function"===typeof(null===(V=this[i])||void 0===V?void 0:V.equals)&&this[i].equals(S)||this[i]!==S&&(this[i]=S,I[y].apply(this))},enumerable:!0,configurable:!0})}}(y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function B(y){return i(0,y)}function d(y){return i(1,y)}function F(y){return i(2,y)}function J(y){return i(3,y)}function u(y){return i(4,y)}function K(y){return i(5,y)}function G(y){return i(6,y)}function p(y){return i(7,y)}function L(y){return i(8,y)}function T(y){return i(9,y)}function l(y){return i(10,y)}function j(y){return i(12,y)}function s(y,S,I,V){const i=I.value;I.value=function(){let I=i;if("undefined"!==typeof _native&&_native[S]){const y=_native[S];I=V?function(){return V(...arguments)?y(...arguments):i(...arguments)}:y}return y[S]=I,I(...arguments)}}s.filter=function(y){return(S,I,V)=>s(S,I,V,y)}},12352:(y,S,I)=>{I.d(S,{d:()=>J});var V=I(12172),i=I(12355),A=I(12362),B=I(12321),d=I(12314);const F=function(y,S,I){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const A=y();i.d&&i.d.HasTags(S)&&i.d.AddTagsTo(A,i.d.GetTags(S,!0));const B=(0,d.i)(A),F={};for(const i in B){const y=B[i],d=S[i],u=y.type;if(void 0!==d&&null!==d&&("uniqueId"!==i||J.AllowLoadingUniqueId))switch(u){case 0:case 6:case 9:case 11:A[i]=d;break;case 1:V.cloneTexturesOnlyOnce&&F[d.uniqueId]?A[i]=F[d.uniqueId]:(A[i]=I||d.isRenderTarget?d:d.clone(),F[d.uniqueId]=A[i]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:A[i]=I?d:d.clone()}}return A};class J{static AppendSerializedAnimations(y,S){if(y.animations){S.animations=[];for(let I=0;I<y.animations.length;I++){const V=y.animations[I];S.animations.push(V.serialize())}}}static Serialize(y,S){S||(S={}),i.d&&(S.tags=i.d.GetTags(y));const I=(0,d.i)(y);for(const V in I){const i=I[V],A=i.sourceName||V,B=i.type,d=y[V];if(void 0!==d&&null!==d&&("uniqueId"!==V||J.AllowLoadingUniqueId))switch(B){case 0:S[A]=d;break;case 1:case 3:case 7:case 9:S[A]=d.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:S[A]=d.Vd();break;case 6:case 11:S[A]=d.id}}return S}static ParseProperties(y,S,I,V){V||(V="");const i=(0,d.i)(S);for(const d in i){const F=i[d],u=y[F.sourceName||d],K=F.type;if(void 0!==u&&null!==u&&("uniqueId"!==d||J.AllowLoadingUniqueId)){const y=S;switch(K){case 0:y[d]=u;break;case 1:I&&(y[d]=J._TextureParser(u,I,V));break;case 2:y[d]=A.DS.oS(u);break;case 3:y[d]=J._FresnelParametersParser(u);break;case 4:y[d]=B.Vector2.oS(u);break;case 5:y[d]=B.OS.oS(u);break;case 6:I&&(y[d]=I.getLastMeshById(u));break;case 7:y[d]=J._ColorCurvesParser(u);break;case 8:y[d]=A.vd.oS(u);break;case 9:y[d]=J._ImageProcessingConfigurationParser(u);break;case 10:y[d]=B.Quaternion.oS(u);break;case 11:I&&(y[d]=I.getCameraById(u));break;case 12:y[d]=B.Matrix.oS(u)}}}}static Parse(y,S,I){let V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const A=y();return i.d&&i.d.AddTagsTo(A,S.tags),J.ParseProperties(S,A,I,V),A}static Clone(y,S){return F(y,S,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(y,S){return F(y,S,!0)}}J.AllowLoadingUniqueId=!1,J._ImageProcessingConfigurationParser=y=>{throw(0,V.b)("ImageProcessingConfiguration")},J._FresnelParametersParser=y=>{throw(0,V.b)("FresnelParameters")},J._ColorCurvesParser=y=>{throw(0,V.b)("ColorCurves")},J._TextureParser=(y,S,I)=>{throw(0,V.b)("Texture")}},12355:(y,S,I)=>{I.d(S,{d:()=>i});class V{static Eval(y,S){return"true"===(y=y.match(/\([^()]*\)/g)?y.replace(/\([^()]*\)/g,(y=>(y=y.slice(1,y.length-1),V._HandleParenthesisContent(y,S)))):V._HandleParenthesisContent(y,S))||"false"!==y&&V.Eval(y,S)}static _HandleParenthesisContent(y,S){let I;S=S||(y=>"true"===y);const i=y.split("||");for(const A in i)if(Object.prototype.hasOwnProperty.call(i,A)){let y=V._SimplifyNegation(i[A].trim());const B=y.split("&&");if(B.length>1)for(let i=0;i<B.length;++i){const A=V._SimplifyNegation(B[i].trim());if(I="true"!==A&&"false"!==A?"!"===A[0]?!S(A.substring(1)):S(A):"true"===A,!I){y="false";break}}if(I||"true"===y){I=!0;break}I="true"!==y&&"false"!==y?"!"===y[0]?!S(y.substring(1)):S(y):"true"===y}return I?"true":"false"}static _SimplifyNegation(y){return"!true"===(y=(y=y.replace(/^[\s!]+/,(y=>(y=y.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?y="false":"!false"===y&&(y="true"),y}}class i{static EnableFor(y){y._tags=y._tags||{},y.hasTags=()=>i.HasTags(y),y.addTags=S=>i.AddTagsTo(y,S),y.removeTags=S=>i.RemoveTagsFrom(y,S),y.matchesTagsQuery=S=>i.MatchesQuery(y,S)}static DisableFor(y){delete y._tags,delete y.hasTags,delete y.addTags,delete y.removeTags,delete y.matchesTagsQuery}static HasTags(y){if(!y._tags)return!1;const S=y._tags;for(const I in S)if(Object.prototype.hasOwnProperty.call(S,I))return!0;return!1}static GetTags(y){let S=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!y._tags)return null;if(S){const S=[];for(const I in y._tags)Object.prototype.hasOwnProperty.call(y._tags,I)&&!0===y._tags[I]&&S.push(I);return S.join(" ")}return y._tags}static AddTagsTo(y,S){if(!S)return;if("string"!==typeof S)return;const I=S.split(" ");for(const V of I)i._AddTagTo(y,V)}static _AddTagTo(y,S){""!==(S=S.trim())&&"true"!==S&&"false"!==S&&(S.match(/[\s]/)||S.match(/^([!]|([|]|[&]){2})/)||(i.EnableFor(y),y._tags[S]=!0))}static RemoveTagsFrom(y,S){if(!i.HasTags(y))return;const I=S.split(" ");for(const V in I)i._RemoveTagFrom(y,I[V])}static _RemoveTagFrom(y,S){delete y._tags[S]}static MatchesQuery(y,S){return void 0===S||(""===S?i.HasTags(y):V.Eval(S,(S=>i.HasTags(y)&&y._tags[S])))}}},12306:(y,S,I)=>{I.d(S,{c:()=>V});function V(y,S,I,V){var i,A=arguments.length,B=A<3?S:null===V?V=Object.getOwnPropertyDescriptor(S,I):V;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)B=Reflect.decorate(y,S,I,V);else for(var d=y.length-1;d>=0;d--)(i=y[d])&&(B=(A<3?i(B):A>3?i(S,I,B):i(S,I))||B);return A>3&&B&&Object.defineProperty(S,I,B),B}Object.create;Object.create}}]);