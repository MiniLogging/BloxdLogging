"use strict";(self["3b8bnhi4gzj"]=self["3b8bnhi4gzj"]||[]).push([[13],{11792:(Z,h,V)=>{V.d(h,{b:()=>v});let v=!1},11754:(Z,h,V)=>{V.d(h,{e:()=>D});var v=V(11720),A=V(11723),H=V(11566),K=V(11729),d=V(11599),a=V(11700),n=(V(11602),V(11762));class x{get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(Z){this._texture&&(this._texture.isCube=Z)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(Z){return void 0!==(null===Z||void 0===Z?void 0:Z.shareDepth)}constructor(Z){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=n.b.Zero(),this._cachedBaseSize=n.b.Zero(),this._initialSamplingMode=2,this._texture=x._IsRenderTargetWrapper(Z)?Z.texture:Z,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(Z){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(Z,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var N=V(11769);class D extends x{set Uh(Z){this._hasAlpha!==Z&&(this._hasAlpha=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get Uh(){return this._hasAlpha}set getAlphaFromRGB(Z){this._getAlphaFromRGB!==Z&&(this._getAlphaFromRGB=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(Z){this._coordinatesIndex!==Z&&(this._coordinatesIndex=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(Z){this._coordinatesMode!==Z&&(this._coordinatesMode=Z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(Z){this._wrapU=Z}get wrapV(){return this._wrapV}set wrapV(Z){this._wrapV=Z}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(Z){this._texture?this._texture.isCube=Z:this._isCube=Z}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Z){this._texture&&(this._texture.is3D=Z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Z){this._texture&&(this._texture.is2DArray=Z)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(Z){var h;if(this._texture){if(this._texture._gammaSpace===Z)return;this._texture._gammaSpace=Z}else{if(this._gammaSpace===Z)return;this._gammaSpace=Z}null===(h=this.CZ())||void 0===h||h.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(Z){var h;Z!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=Z),null===(h=this.CZ())||void 0===h||h.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(Z){this._texture&&(this._texture._lodGenerationOffset=Z)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(Z){this._texture&&(this._texture._lodGenerationScale=Z)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(Z){this._texture&&(this._texture._linearSpecularLOD=Z)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(Z){this._texture&&(this._texture._irradianceTexture=Z)}get uid(){return this._uid||(this._uid=(0,a.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(Z){this._onDisposeObserver&&this.jh.remove(this._onDisposeObserver),this._onDisposeObserver=this.jh.add(Z)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=D.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.jh=new H.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,Z?D._IsScene(Z)?this._scene=Z:this._engine=Z:this._scene=d.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=h,this._uid=null}CZ(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return K.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return K.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(Z){}get canRescale(){return!1}_getFromCache(Z,h,V,v,A,H){const K=this._getEngine();if(!K)return null;const d=K._getUseSRGBBuffer(!!A,h),a=K.getLoadedTexturesCache();for(let n=0;n<a.length;n++){const K=a[n];if((void 0===A||d===K._useSRGBBuffer)&&(void 0===v||v===K.invertY)&&K.url===Z&&K.generateMipMaps===!h&&(!V||V===K.samplingMode)&&(void 0===H||H===K.isCube))return K.incrementReferences(),K}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const Z=this.CZ();Z&&Z.markAllMaterialsAsDirty(1)}readPixels(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],A=arguments.length>4&&void 0!==arguments[4]&&arguments[4],H=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,K=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const n=this._getEngine();if(!n)return null;const x=this.getSize();let N=x.width,D=x.height;0!==h&&(N/=Math.pow(2,h),D/=Math.pow(2,h),N=Math.round(N),D=Math.round(D)),d=Math.min(N,d),a=Math.min(D,a);try{return this._texture.isCube?n._readTexturePixels(this._texture,d,a,Z,h,V,v,A,H,K):n._readTexturePixels(this._texture,d,a,-1,h,V,v,A,H,K)}catch(k){return null}}_readPixelsSync(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],A=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const H=this.getSize();let K=H.width,d=H.height;const a=this._getEngine();if(!a)return null;0!=h&&(K/=Math.pow(2,h),d/=Math.pow(2,h),K=Math.round(K),d=Math.round(d));try{return this._texture.isCube?a._readTexturePixelsSync(this._texture,K,d,Z,h,V,v,A):a._readTexturePixelsSync(this._texture,K,d,-1,h,V,v,A)}catch(n){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const Z=this._scene.textures.indexOf(this);if(Z>=0&&this._scene.textures.splice(Z,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const Z=this._parentContainer.textures.indexOf(this);Z>-1&&this._parentContainer.textures.splice(Z,1),this._parentContainer=null}}this.jh.notifyObservers(this),this.jh.clear(),this.metadata=null,super.dispose()}serialize(){let Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!Z)return null;const h=N.b.Serialize(this);return N.b.AppendSerializedAnimations(this,h),h}static WhenAllReady(Z,h){let V=Z.length;if(0!==V)for(let v=0;v<Z.length;v++){const A=Z[v];if(A.isReady())0===--V&&h();else{const Z=A.onLoadObservable;Z?Z.addOnce((()=>{0===--V&&h()})):0===--V&&h()}}else h()}static _IsScene(Z){return"Scene"===Z.getClassName()}}D.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,v.b)([(0,A.I)()],D.prototype,"uniqueId",void 0),(0,v.b)([(0,A.I)()],D.prototype,"name",void 0),(0,v.b)([(0,A.I)()],D.prototype,"displayName",void 0),(0,v.b)([(0,A.I)()],D.prototype,"metadata",void 0),(0,v.b)([(0,A.I)("Uh")],D.prototype,"_hasAlpha",void 0),(0,v.b)([(0,A.I)("getAlphaFromRGB")],D.prototype,"_getAlphaFromRGB",void 0),(0,v.b)([(0,A.I)()],D.prototype,"level",void 0),(0,v.b)([(0,A.I)("coordinatesIndex")],D.prototype,"_coordinatesIndex",void 0),(0,v.b)([(0,A.I)()],D.prototype,"optimizeUVAllocation",void 0),(0,v.b)([(0,A.I)("coordinatesMode")],D.prototype,"_coordinatesMode",void 0),(0,v.b)([(0,A.I)()],D.prototype,"wrapU",null),(0,v.b)([(0,A.I)()],D.prototype,"wrapV",null),(0,v.b)([(0,A.I)()],D.prototype,"wrapR",void 0),(0,v.b)([(0,A.I)()],D.prototype,"anisotropicFilteringLevel",void 0),(0,v.b)([(0,A.I)()],D.prototype,"isCube",null),(0,v.b)([(0,A.I)()],D.prototype,"is3D",null),(0,v.b)([(0,A.I)()],D.prototype,"is2DArray",null),(0,v.b)([(0,A.I)()],D.prototype,"gammaSpace",null),(0,v.b)([(0,A.I)()],D.prototype,"invertZ",void 0),(0,v.b)([(0,A.I)()],D.prototype,"lodLevelInAlpha",void 0),(0,v.b)([(0,A.I)()],D.prototype,"lodGenerationOffset",null),(0,v.b)([(0,A.I)()],D.prototype,"lodGenerationScale",null),(0,v.b)([(0,A.I)()],D.prototype,"linearSpecularLOD",null),(0,v.b)([(0,A.z)()],D.prototype,"irradianceTexture",null),(0,v.b)([(0,A.I)()],D.prototype,"isRenderTarget",void 0)},11713:(Z,h,V)=>{V.d(h,{e:()=>X});var v=V(11720),A=V(11723),H=V(11566),K=V(11729),d=V(11754),a=V(11691),n=V(11594),x=V(11633),N=V(11687),D=V(11790),k=V(11612);function u(Z,h){let V=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const v=h.width,A=h.height;if(Z instanceof Float32Array){let h=Z.byteLength/Z.BYTES_PER_ELEMENT;const V=new Uint8Array(h);for(;--h>=0;){let v=Z[h];v<0?v=0:v>1&&(v=1),V[h]=255*v}Z=V}const H=document.createElement("canvas");H.width=v,H.height=A;const K=H.getContext("2d");if(!K)return null;const d=K.createImageData(v,A);if(d.data.set(Z),K.putImageData(d,0,0),V){const Z=document.createElement("canvas");Z.width=v,Z.height=A;const h=Z.getContext("2d");return h?(h.translate(0,A),h.scale(1,-1),h.drawImage(H,0,0),Z.toDataURL("image/png")):null}return H.toDataURL("image/png")}function F(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const v=Z.getInternalTexture();if(!v)return null;const A=Z._readPixelsSync(h,V);return A?u(A,Z.getSize(),v.invertY):null}async function b(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const v=Z.getInternalTexture();if(!v)return null;const A=await Z.readPixels(h,V);return A?u(A,Z.getSize(),v.invertY):null}var o=V(11792),q=V(11769);class X extends d.e{static _CreateVideoTexture(Z,h,V){arguments.length>5&&void 0!==arguments[5]||X.TRILINEAR_SAMPLINGMODE;throw(0,n.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(Z){this._isBlocking=Z}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(Z,h,V,v){let A,K=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.TRILINEAR_SAMPLINGMODE,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,N=arguments.length>8&&void 0!==arguments[8]&&arguments[8],D=arguments.length>9?arguments[9]:void 0,k=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0,F=arguments.length>12?arguments[12]:void 0,b=arguments.length>13?arguments[13]:void 0;super(h),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new H.b,this._isBlocking=!0,this.name=Z||"",this.url=Z;let q=!1,E=null,j=!0;"object"===typeof V&&null!==V?(A=V.noMipmap??!1,v=V.invertY??!o.b,K=V.samplingMode??X.TRILINEAR_SAMPLINGMODE,d=V.p??null,a=V.onError??null,n=V.buffer??null,N=V.deleteBuffer??!1,D=V.format,k=V.mimeType,u=V.loaderOptions,F=V.creationFlags,q=V.useSRGBBuffer??!1,E=V.internalTexture??null,j=V.gammaSpace??j,b=V.forcedExtension??b):A=!!V,this._gammaSpace=j,this._noMipmap=A,this._invertY=void 0===v?!o.b:v,this._initialSamplingMode=K,this._buffer=n,this._deleteBuffer=N,this._mimeType=k,this._loaderOptions=u,this._creationFlags=F,this._useSRGBBuffer=q,this._forcedExtension=b,void 0!==D&&(this._format=D);const P=this.CZ(),C=this._getEngine();if(!C)return;C.onBeforeTextureInitObservable.notifyObservers(this);const l=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),d&&d(),!this.isBlocking&&P&&P.resetCachedMaterial()},B=(Z,h)=>{this._loadingError=!0,this._errorObject={message:Z,exception:h},a&&a(Z,h),X.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!E)return this._delayedOnLoad=l,void(this._delayedOnError=B);if(this._texture=E??this._getFromCache(this.url,A,K,this._invertY,q,this.isCube),this._texture)if(this._texture.isReady)x.e.SetImmediate((()=>l()));else{const Z=this._texture.onLoadedObservable.add(l);this._texture.onErrorObservable.add((h=>{var V;B(h.message,h.exception),null===(V=this._texture)||void 0===V||V.onLoadedObservable.remove(Z)}))}else if(P&&P.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=l,this._delayedOnError=B;else{try{this._texture=C.createTexture(this.url,A,this._invertY,P,K,l,B,this._buffer,void 0,this._format,this._forcedExtension,k,u,F,q)}catch(S){throw B("error loading",S),S}N&&(this._buffer=null)}}updateURL(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,V=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.CZ().markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=Z),this.url=Z,this._buffer=h,this._forcedExtension=v,this.delayLoadState=4,V&&(this._delayedOnLoad=V),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const Z=this.CZ();Z&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?x.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=Z.getEngine().createTexture(this.url,this._noMipmap,this._invertY,Z,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(Z,h,V,v){Z*=this._cachedUScale,h*=this._cachedVScale,Z-=this.uRotationCenter*this._cachedUScale,h-=this.vRotationCenter*this._cachedVScale,V-=this.wRotationCenter,K.Ch.TransformCoordinatesFromFloatsToRef(Z,h,V,this._rowGenerationMatrix,v),v.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,v.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,v.z+=this.wRotationCenter}getTextureMatrix(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*Z===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*Z,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=K.Matrix.Zero(),this._rowGenerationMatrix=new K.Matrix,this._t0=K.Ch.Zero(),this._t1=K.Ch.Zero(),this._t2=K.Ch.Zero()),K.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(K.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,K.TmpVectors.Matrix[0]),K.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,K.TmpVectors.Matrix[1]),K.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,K.TmpVectors.Matrix[2]),K.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,K.TmpVectors.Matrix[3]),K.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(K.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.EN(this._t0),this._t2.EN(this._t0),K.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const h=this.CZ();if(!h)return this._cachedTextureMatrix;const V=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&V!==this._cachedIdentity3x2&&h.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const Z=this.CZ();if(!Z)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==X.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===Z.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=K.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=K.Matrix.Zero());const h=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case X.PLANAR_MODE:K.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case X.PROJECTION_MODE:{K.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const h=Z.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=h.updateFlag,h.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:K.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return h&&Z.markAllMaterialsAsDirty(1,(Z=>Z.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const Z={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,p:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return q.b.Clone((()=>new X(this._texture?this._texture.url:null,this.CZ(),Z)),this)}serialize(){var Z;const h=this.name;X.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const V=super.serialize(X._SerializeInternalTextureUniqueId);if(!V)return null;if(X.SerializeBuffers||X.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))V.base64String=this._buffer,V.name=V.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const Z=this.mimeType||"image/png";V.base64String=`data:${Z};base64,${(0,k.l)(this._buffer)}`}else(X.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(V.base64String=!this._engine||this._engine._features.supportSyncTextureRead?F(this):b(this));var v;(V.invertY=this._invertY,V.samplingMode=this.samplingMode,V._creationFlags=this._creationFlags,V._useSRGBBuffer=this._useSRGBBuffer,X._SerializeInternalTextureUniqueId)&&(V.internalTextureUniqueId=null===(v=this._texture)||void 0===v?void 0:v.uniqueId);return V.internalTextureLabel=null===(Z=this._texture)||void 0===Z?void 0:Z.label,V.noMipmap=this._noMipmap,this.name=h,V}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(Z,h,V){if(Z.customType){const v=N.e.Instantiate(Z.customType).Parse(Z,h,V);return Z.samplingMode&&v.updateSamplingMode&&v._samplingMode&&v._samplingMode!==Z.samplingMode&&v.updateSamplingMode(Z.samplingMode),v}if(Z.isCube&&!Z.isRenderTarget)return X._CubeTextureParser(Z,h,V);const v=void 0!==Z.internalTextureUniqueId;if(!Z.name&&!Z.isRenderTarget&&!v)return null;let A;if(v){const V=h.getEngine().getLoadedTexturesCache();for(const h of V)if(h.uniqueId===Z.internalTextureUniqueId){A=h;break}}const H=h=>{if(h&&h._texture&&(h._texture._cachedWrapU=null,h._texture._cachedWrapV=null,h._texture._cachedWrapR=null),Z.samplingMode){const V=Z.samplingMode;h&&h.samplingMode!==V&&h.updateSamplingMode(V)}if(h&&Z.animations)for(let V=0;V<Z.animations.length;V++){const v=Z.animations[V],A=(0,a.e)("BABYLON.Animation");A&&h.animations.push(A.Parse(v))}h&&h._texture&&(v&&!A&&h._texture._setUniqueId(Z.internalTextureUniqueId),h._texture.label=Z.internalTextureLabel)};return q.b.Parse((()=>{let v=!0;if(Z.noMipmap&&(v=!1),Z.mirrorPlane){const V=X._CreateMirror(Z.name,Z.renderTargetSize,h,v);return V._waitingRenderList=Z.renderList,V.mirrorPlane=D.c.eh(Z.mirrorPlane),H(V),V}if(Z.isRenderTarget){let V=null;if(Z.isCube){if(h.reflectionProbes)for(let v=0;v<h.reflectionProbes.length;v++){const V=h.reflectionProbes[v];if(V.name===Z.name)return V.cubeTexture}}else V=X._CreateRenderTargetTexture(Z.name,Z.renderTargetSize,h,v,Z._creationFlags??0),V._waitingRenderList=Z.renderList;return H(V),V}if(Z.isVideo){const A=X._CreateVideoTexture(V+(Z.url||Z.name),V+(Z.src||Z.url),h,v,Z.invertY,Z.samplingMode,Z.settings||{});return H(A),A}{let K;if(Z.base64String&&!A)K=X.CreateFromBase64String(Z.base64String,Z.base64String,h,!v,Z.invertY,Z.samplingMode,(()=>{H(K)}),Z._creationFlags??0,Z._useSRGBBuffer??!1),K.name=Z.name;else{let d;d=Z.name&&(Z.name.indexOf("://")>0||Z.name.startsWith("data:"))?Z.name:V+Z.name,Z.url&&(Z.url.startsWith("data:")||X.UseSerializedUrlIfAny)&&(d=Z.url);const a={noMipmap:!v,invertY:Z.invertY,samplingMode:Z.samplingMode,p:()=>{H(K)},internalTexture:A};K=new X(d,h,a)}return K}}),Z,h)}static CreateFromBase64String(Z,h,V,v,A){let H=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.TRILINEAR_SAMPLINGMODE;return new X("data:"+h,V,v,A,H,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Z,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(Z,h,V){let v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=arguments.length>4?arguments[4]:void 0,H=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],K=arguments.length>6&&void 0!==arguments[6]?arguments[6]:X.TRILINEAR_SAMPLINGMODE,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,n=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,x=arguments.length>10?arguments[10]:void 0,N=arguments.length>11?arguments[11]:void 0;return"data:"!==Z.substring(0,5)&&(Z="data:"+Z),new X(Z,V,A,H,K,d,a,h,v,n,void 0,void 0,x,N)}}X.SerializeBuffers=!0,X.ForceSerializeBuffers=!1,X.OnTextureLoadErrorObservable=new H.b,X._SerializeInternalTextureUniqueId=!1,X._CubeTextureParser=(Z,h,V)=>{throw(0,n.d)("CubeTexture")},X._CreateMirror=(Z,h,V,v)=>{throw(0,n.d)("MirrorTexture")},X._CreateRenderTargetTexture=(Z,h,V,v,A)=>{throw(0,n.d)("RenderTargetTexture")},X.NEAREST_SAMPLINGMODE=1,X.NEAREST_NEAREST_MIPLINEAR=8,X.BILINEAR_SAMPLINGMODE=2,X.LINEAR_LINEAR_MIPNEAREST=11,X.TRILINEAR_SAMPLINGMODE=3,X.LINEAR_LINEAR_MIPLINEAR=3,X.NEAREST_NEAREST_MIPNEAREST=4,X.NEAREST_LINEAR_MIPNEAREST=5,X.NEAREST_LINEAR_MIPLINEAR=6,X.NEAREST_LINEAR=7,X.NEAREST_NEAREST=1,X.LINEAR_NEAREST_MIPNEAREST=9,X.LINEAR_NEAREST_MIPLINEAR=10,X.LINEAR_LINEAR=2,X.LINEAR_NEAREST=12,X.EXPLICIT_MODE=0,X.SPHERICAL_MODE=1,X.PLANAR_MODE=2,X.CUBIC_MODE=3,X.PROJECTION_MODE=4,X.SKYBOX_MODE=5,X.INVCUBIC_MODE=6,X.EQUIRECTANGULAR_MODE=7,X.FIXED_EQUIRECTANGULAR_MODE=8,X.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,X.CLAMP_ADDRESSMODE=0,X.WRAP_ADDRESSMODE=1,X.MIRROR_ADDRESSMODE=2,X.UseSerializedUrlIfAny=!1,(0,v.b)([(0,A.I)()],X.prototype,"url",void 0),(0,v.b)([(0,A.I)()],X.prototype,"uOffset",void 0),(0,v.b)([(0,A.I)()],X.prototype,"vOffset",void 0),(0,v.b)([(0,A.I)()],X.prototype,"uScale",void 0),(0,v.b)([(0,A.I)()],X.prototype,"vScale",void 0),(0,v.b)([(0,A.I)()],X.prototype,"uAng",void 0),(0,v.b)([(0,A.I)()],X.prototype,"vAng",void 0),(0,v.b)([(0,A.I)()],X.prototype,"wAng",void 0),(0,v.b)([(0,A.I)()],X.prototype,"uRotationCenter",void 0),(0,v.b)([(0,A.I)()],X.prototype,"vRotationCenter",void 0),(0,v.b)([(0,A.I)()],X.prototype,"wRotationCenter",void 0),(0,v.b)([(0,A.I)()],X.prototype,"homogeneousRotationInUVTransform",void 0),(0,v.b)([(0,A.I)()],X.prototype,"isBlocking",null),(0,a.i)("BABYLON.Texture",X),q.b._TextureParser=X.Parse},11790:(Z,h,V)=>{V.d(h,{c:()=>A});var v=V(11729);class A{constructor(Z,h,V,A){this.normal=new v.Ch(Z,h,V),this.d=A}mh(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new A(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let Z=this.normal.getHashCode();return Z=397*Z^this.d,Z}normalize(){const Z=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let h=0;return 0!==Z&&(h=1/Z),this.normal.x*=h,this.normal.y*=h,this.normal.z*=h,this.d*=h,this}transform(Z){const h=A._TmpMatrix;Z.invertToRef(h);const V=h.m,v=this.normal.x,H=this.normal.y,K=this.normal.z,d=this.d,a=v*V[0]+H*V[1]+K*V[2]+d*V[3],n=v*V[4]+H*V[5]+K*V[6]+d*V[7],x=v*V[8]+H*V[9]+K*V[10]+d*V[11],N=v*V[12]+H*V[13]+K*V[14]+d*V[15];return new A(a,n,x,N)}dotCoordinate(Z){return this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z+this.d}copyFromPoints(Z,h,V){const v=h.x-Z.x,A=h.y-Z.y,H=h.z-Z.z,K=V.x-Z.x,d=V.y-Z.y,a=V.z-Z.z,n=A*a-H*d,x=H*K-v*a,N=v*d-A*K,D=Math.sqrt(n*n+x*x+N*N);let k;return k=0!==D?1/D:0,this.normal.x=n*k,this.normal.y=x*k,this.normal.z=N*k,this.d=-(this.normal.x*Z.x+this.normal.y*Z.y+this.normal.z*Z.z),this}isFrontFacingTo(Z,h){return v.Ch.Dot(this.normal,Z)<=h}signedDistanceTo(Z){return v.Ch.Dot(Z,this.normal)+this.d}static eh(Z){return new A(Z[0],Z[1],Z[2],Z[3])}static FromPoints(Z,h,V){const v=new A(0,0,0,0);return v.copyFromPoints(Z,h,V),v}static FromPositionAndNormal(Z,h){const V=new A(0,0,0,0);return this.FromPositionAndNormalToRef(Z,h,V)}static FromPositionAndNormalToRef(Z,h,V){return V.normal.v(h),V.normal.normalize(),V.d=-Z.dot(V.normal),V}static SignedDistanceToPlaneFromPositionAndNormal(Z,h,V){const A=-(h.x*Z.x+h.y*Z.y+h.z*Z.z);return v.Ch.Dot(V,h)+A}}A._TmpMatrix=v.Matrix.Identity()},11762:(Z,h,V)=>{V.d(h,{b:()=>v});class v{constructor(Z,h){this.width=Z,this.height=h}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let Z=0|this.width;return Z=397*Z^this.height,Z}v(Z){this.width=Z.width,this.height=Z.height}IV(Z,h){return this.width=Z,this.height=h,this}set(Z,h){return this.IV(Z,h)}multiplyByFloats(Z,h){return new v(this.width*Z,this.height*h)}clone(){return new v(this.width,this.height)}equals(Z){return!!Z&&(this.width===Z.width&&this.height===Z.height)}get surface(){return this.width*this.height}static Zero(){return new v(0,0)}add(Z){return new v(this.width+Z.width,this.height+Z.height)}rh(Z){return new v(this.width-Z.width,this.height-Z.height)}scale(Z){return new v(this.width*Z,this.height*Z)}static Lerp(Z,h,V){const A=Z.width+(h.width-Z.width)*V,H=Z.height+(h.height-Z.height)*V;return new v(A,H)}}},11727:(Z,h,V)=>{V.d(h,{d:()=>H,e:()=>K});const v={},A={};function H(Z){const h=Z.getClassName();return A[h]||(A[h]={}),A[h]}function K(Z){const h=Z.getClassName();if(v[h])return v[h];v[h]={};const V=v[h];let H=Z,K=h;for(;K;){const Z=A[K];for(const A in Z)V[A]=Z[A];let h,v=!1;do{if(h=Object.getPrototypeOf(H),!h.getClassName){v=!0;break}if(h.getClassName()!==K)break;H=h}while(h);if(v)break;K=h.getClassName(),H=h}return V}},11723:(Z,h,V)=>{V.d(h,{C:()=>x,G:()=>N,I:()=>K,b:()=>H,f:()=>q,g:()=>k,j:()=>a,l:()=>u,m:()=>n,p:()=>F,t:()=>o,u:()=>D,w:()=>b,z:()=>d});var v=V(11727);function A(Z,h){return(V,A)=>{const H=(0,v.d)(V);H[A]||(H[A]={type:Z,sourceName:h})}}function H(Z){return function(Z){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(V,v)=>{const A=h||"_"+v;Object.defineProperty(V,v,{get:function(){return this[A]},set:function(h){var v;"function"===typeof(null===(v=this[A])||void 0===v?void 0:v.equals)&&this[A].equals(h)||this[A]!==h&&(this[A]=h,V[Z].apply(this))},enumerable:!0,configurable:!0})}}(Z,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function K(Z){return A(0,Z)}function d(Z){return A(1,Z)}function a(Z){return A(2,Z)}function n(Z){return A(3,Z)}function x(Z){return A(4,Z)}function N(Z){return A(5,Z)}function D(Z){return A(6,Z)}function k(Z){return A(7,Z)}function u(Z){return A(8,Z)}function F(Z){return A(9,Z)}function b(Z){return A(10,Z)}function o(Z){return A(12,Z)}function q(Z,h,V,v){const A=V.value;V.value=function(){let V=A;if("undefined"!==typeof _native&&_native[h]){const Z=_native[h];V=v?function(){return v(...arguments)?Z(...arguments):A(...arguments)}:Z}return Z[h]=V,V(...arguments)}}q.filter=function(Z){return(h,V,v)=>q(h,V,v,Z)}},11769:(Z,h,V)=>{V.d(h,{b:()=>n});var v=V(11594),A=V(11776),H=V(11781),K=V(11729),d=V(11727);const a=function(Z,h,V){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const H=Z();A.d&&A.d.HasTags(h)&&A.d.AddTagsTo(H,A.d.GetTags(h,!0));const K=(0,d.e)(H),a={};for(const A in K){const Z=K[A],d=h[A],x=Z.type;if(void 0!==d&&null!==d&&("uniqueId"!==A||n.AllowLoadingUniqueId))switch(x){case 0:case 6:case 9:case 11:H[A]=d;break;case 1:v.cloneTexturesOnlyOnce&&a[d.uniqueId]?H[A]=a[d.uniqueId]:(H[A]=V||d.isRenderTarget?d:d.clone(),a[d.uniqueId]=H[A]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:H[A]=V?d:d.clone()}}return H};class n{static AppendSerializedAnimations(Z,h){if(Z.animations){h.animations=[];for(let V=0;V<Z.animations.length;V++){const v=Z.animations[V];h.animations.push(v.serialize())}}}static Serialize(Z,h){h||(h={}),A.d&&(h.tags=A.d.GetTags(Z));const V=(0,d.e)(Z);for(const v in V){const A=V[v],H=A.sourceName||v,K=A.type,d=Z[v];if(void 0!==d&&null!==d&&("uniqueId"!==v||n.AllowLoadingUniqueId))switch(K){case 0:h[H]=d;break;case 1:case 3:case 7:case 9:h[H]=d.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:h[H]=d.mh();break;case 6:case 11:h[H]=d.id}}return h}static ParseProperties(Z,h,V,v){v||(v="");const A=(0,d.e)(h);for(const d in A){const a=A[d],x=Z[a.sourceName||d],N=a.type;if(void 0!==x&&null!==x&&("uniqueId"!==d||n.AllowLoadingUniqueId)){const Z=h;switch(N){case 0:Z[d]=x;break;case 1:V&&(Z[d]=n._TextureParser(x,V,v));break;case 2:Z[d]=H.Ih.eh(x);break;case 3:Z[d]=n._FresnelParametersParser(x);break;case 4:Z[d]=K.Vector2.eh(x);break;case 5:Z[d]=K.Ch.eh(x);break;case 6:V&&(Z[d]=V.getLastMeshById(x));break;case 7:Z[d]=n._ColorCurvesParser(x);break;case 8:Z[d]=H.nd.eh(x);break;case 9:Z[d]=n._ImageProcessingConfigurationParser(x);break;case 10:Z[d]=K.Quaternion.eh(x);break;case 11:V&&(Z[d]=V.getCameraById(x));break;case 12:Z[d]=K.Matrix.eh(x)}}}}static Parse(Z,h,V){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const H=Z();return A.d&&A.d.AddTagsTo(H,h.tags),n.ParseProperties(h,H,V,v),H}static Clone(Z,h){return a(Z,h,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(Z,h){return a(Z,h,!0)}}n.AllowLoadingUniqueId=!1,n._ImageProcessingConfigurationParser=Z=>{throw(0,v.d)("ImageProcessingConfiguration")},n._FresnelParametersParser=Z=>{throw(0,v.d)("FresnelParameters")},n._ColorCurvesParser=Z=>{throw(0,v.d)("ColorCurves")},n._TextureParser=(Z,h,V)=>{throw(0,v.d)("Texture")}},11776:(Z,h,V)=>{V.d(h,{d:()=>A});class v{static Eval(Z,h){return"true"===(Z=Z.match(/\([^()]*\)/g)?Z.replace(/\([^()]*\)/g,(Z=>(Z=Z.slice(1,Z.length-1),v._HandleParenthesisContent(Z,h)))):v._HandleParenthesisContent(Z,h))||"false"!==Z&&v.Eval(Z,h)}static _HandleParenthesisContent(Z,h){let V;h=h||(Z=>"true"===Z);const A=Z.split("||");for(const H in A)if(Object.prototype.hasOwnProperty.call(A,H)){let Z=v._SimplifyNegation(A[H].trim());const K=Z.split("&&");if(K.length>1)for(let A=0;A<K.length;++A){const H=v._SimplifyNegation(K[A].trim());if(V="true"!==H&&"false"!==H?"!"===H[0]?!h(H.substring(1)):h(H):"true"===H,!V){Z="false";break}}if(V||"true"===Z){V=!0;break}V="true"!==Z&&"false"!==Z?"!"===Z[0]?!h(Z.substring(1)):h(Z):"true"===Z}return V?"true":"false"}static _SimplifyNegation(Z){return"!true"===(Z=(Z=Z.replace(/^[\s!]+/,(Z=>(Z=Z.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?Z="false":"!false"===Z&&(Z="true"),Z}}class A{static EnableFor(Z){Z._tags=Z._tags||{},Z.hasTags=()=>A.HasTags(Z),Z.addTags=h=>A.AddTagsTo(Z,h),Z.removeTags=h=>A.RemoveTagsFrom(Z,h),Z.matchesTagsQuery=h=>A.MatchesQuery(Z,h)}static DisableFor(Z){delete Z._tags,delete Z.hasTags,delete Z.addTags,delete Z.removeTags,delete Z.matchesTagsQuery}static HasTags(Z){if(!Z._tags)return!1;const h=Z._tags;for(const V in h)if(Object.prototype.hasOwnProperty.call(h,V))return!0;return!1}static GetTags(Z){let h=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Z._tags)return null;if(h){const h=[];for(const V in Z._tags)Object.prototype.hasOwnProperty.call(Z._tags,V)&&!0===Z._tags[V]&&h.push(V);return h.join(" ")}return Z._tags}static AddTagsTo(Z,h){if(!h)return;if("string"!==typeof h)return;const V=h.split(" ");for(const v of V)A._AddTagTo(Z,v)}static _AddTagTo(Z,h){""!==(h=h.trim())&&"true"!==h&&"false"!==h&&(h.match(/[\s]/)||h.match(/^([!]|([|]|[&]){2})/)||(A.EnableFor(Z),Z._tags[h]=!0))}static RemoveTagsFrom(Z,h){if(!A.HasTags(Z))return;const V=h.split(" ");for(const v in V)A._RemoveTagFrom(Z,V[v])}static _RemoveTagFrom(Z,h){delete Z._tags[h]}static MatchesQuery(Z,h){return void 0===h||(""===h?A.HasTags(Z):v.Eval(h,(h=>A.HasTags(Z)&&Z._tags[h])))}}},11720:(Z,h,V)=>{V.d(h,{b:()=>v});function v(Z,h,V,v){var A,H=arguments.length,K=H<3?h:null===v?v=Object.getOwnPropertyDescriptor(h,V):v;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)K=Reflect.decorate(Z,h,V,v);else for(var d=Z.length-1;d>=0;d--)(A=Z[d])&&(K=(H<3?A(K):H>3?A(h,V,K):A(h,V))||K);return H>3&&K&&Object.defineProperty(h,V,K),K}Object.create;Object.create}}]);