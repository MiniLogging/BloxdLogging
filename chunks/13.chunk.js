"use strict";(self.dwifukwnts=self.dwifukwnts||[]).push([[13],{11650:(U,X,b)=>{b.d(X,{b:()=>F});let F=!1},11612:(U,X,b)=>{b.d(X,{b:()=>n});var F=b(11576),E=b(11583),w=b(11392),Q=b(11593),z=b(11442),q=b(11555),p=(b(11448),b(11616));class S{get wrapU(){return this._wrapU}set wrapU(U){this._wrapU=U}get wrapV(){return this._wrapV}set wrapV(U){this._wrapV=U}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(U){this._texture&&(this._texture.isCube=U)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(U){this._texture&&(this._texture.is3D=U)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(U){this._texture&&(this._texture.is2DArray=U)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(U){return void 0!==(null===U||void 0===U?void 0:U.shareDepth)}constructor(U){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=p.e.Zero(),this._cachedBaseSize=p.e.Zero(),this._initialSamplingMode=2,this._texture=S._IsRenderTargetWrapper(U)?U.texture:U,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(U){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(U,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var R=b(11623);class n extends S{set mb(U){this._hasAlpha!==U&&(this._hasAlpha=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get mb(){return this._hasAlpha}set getAlphaFromRGB(U){this._getAlphaFromRGB!==U&&(this._getAlphaFromRGB=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(U){this._coordinatesIndex!==U&&(this._coordinatesIndex=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(U){this._coordinatesMode!==U&&(this._coordinatesMode=U,this._scene&&this._scene.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(U){this._wrapU=U}get wrapV(){return this._wrapV}set wrapV(U){this._wrapV=U}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(U){this._texture?this._texture.isCube=U:this._isCube=U}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(U){this._texture&&(this._texture.is3D=U)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(U){this._texture&&(this._texture.is2DArray=U)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(U){var X;if(this._texture){if(this._texture._gammaSpace===U)return;this._texture._gammaSpace=U}else{if(this._gammaSpace===U)return;this._gammaSpace=U}null===(X=this.fU())||void 0===X||X.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(U){var X;U!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=U),null===(X=this.fU())||void 0===X||X.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(U){this._texture&&(this._texture._lodGenerationOffset=U)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(U){this._texture&&(this._texture._lodGenerationScale=U)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(U){this._texture&&(this._texture._linearSpecularLOD=U)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(U){this._texture&&(this._texture._irradianceTexture=U)}get uid(){return this._uid||(this._uid=(0,q.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(U){this._onDisposeObserver&&this.wb.remove(this._onDisposeObserver),this._onDisposeObserver=this.wb.add(U)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=n.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.wb=new w.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,U?n._IsScene(U)?this._scene=U:this._engine=U:this._scene=z.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=X,this._uid=null}fU(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(U){}get canRescale(){return!1}_getFromCache(U,X,b,F,E,w){const Q=this._getEngine();if(!Q)return null;const z=Q._getUseSRGBBuffer(!!E,X),q=Q.getLoadedTexturesCache();for(let p=0;p<q.length;p++){const Q=q[p];if((void 0===E||z===Q._useSRGBBuffer)&&(void 0===F||F===Q.invertY)&&Q.url===U&&Q.generateMipMaps===!X&&(!b||b===Q.samplingMode)&&(void 0===w||w===Q.isCube))return Q.incrementReferences(),Q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const U=this.fU();U&&U.markAllMaterialsAsDirty(1)}readPixels(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,F=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4],w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const p=this._getEngine();if(!p)return null;const S=this.getSize();let R=S.width,n=S.height;0!==X&&(R/=Math.pow(2,X),n/=Math.pow(2,X),R=Math.round(R),n=Math.round(n)),z=Math.min(R,z),q=Math.min(n,q);try{return this._texture.isCube?p._readTexturePixels(this._texture,z,q,U,X,b,F,E,w,Q):p._readTexturePixels(this._texture,z,q,-1,X,b,F,E,w,Q)}catch(a){return null}}_readPixelsSync(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,F=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],E=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const w=this.getSize();let Q=w.width,z=w.height;const q=this._getEngine();if(!q)return null;0!=X&&(Q/=Math.pow(2,X),z/=Math.pow(2,X),Q=Math.round(Q),z=Math.round(z));try{return this._texture.isCube?q._readTexturePixelsSync(this._texture,Q,z,U,X,b,F,E):q._readTexturePixelsSync(this._texture,Q,z,-1,X,b,F,E)}catch(p){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const U=this._scene.textures.indexOf(this);if(U>=0&&this._scene.textures.splice(U,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const U=this._parentContainer.textures.indexOf(this);U>-1&&this._parentContainer.textures.splice(U,1),this._parentContainer=null}}this.wb.notifyObservers(this),this.wb.clear(),this.metadata=null,super.dispose()}serialize(){let U=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!U)return null;const X=R.d.Serialize(this);return R.d.AppendSerializedAnimations(this,X),X}static WhenAllReady(U,X){let b=U.length;if(0!==b)for(let F=0;F<U.length;F++){const E=U[F];if(E.isReady())0===--b&&X();else{const U=E.onLoadObservable;U?U.addOnce((()=>{0===--b&&X()})):0===--b&&X()}}else X()}static _IsScene(U){return"Scene"===U.getClassName()}}n.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,F.c)([(0,E.J)()],n.prototype,"uniqueId",void 0),(0,F.c)([(0,E.J)()],n.prototype,"name",void 0),(0,F.c)([(0,E.J)()],n.prototype,"displayName",void 0),(0,F.c)([(0,E.J)()],n.prototype,"metadata",void 0),(0,F.c)([(0,E.J)("mb")],n.prototype,"_hasAlpha",void 0),(0,F.c)([(0,E.J)("getAlphaFromRGB")],n.prototype,"_getAlphaFromRGB",void 0),(0,F.c)([(0,E.J)()],n.prototype,"level",void 0),(0,F.c)([(0,E.J)("coordinatesIndex")],n.prototype,"_coordinatesIndex",void 0),(0,F.c)([(0,E.J)()],n.prototype,"optimizeUVAllocation",void 0),(0,F.c)([(0,E.J)("coordinatesMode")],n.prototype,"_coordinatesMode",void 0),(0,F.c)([(0,E.J)()],n.prototype,"wrapU",null),(0,F.c)([(0,E.J)()],n.prototype,"wrapV",null),(0,F.c)([(0,E.J)()],n.prototype,"wrapR",void 0),(0,F.c)([(0,E.J)()],n.prototype,"anisotropicFilteringLevel",void 0),(0,F.c)([(0,E.J)()],n.prototype,"isCube",null),(0,F.c)([(0,E.J)()],n.prototype,"is3D",null),(0,F.c)([(0,E.J)()],n.prototype,"is2DArray",null),(0,F.c)([(0,E.J)()],n.prototype,"gammaSpace",null),(0,F.c)([(0,E.J)()],n.prototype,"invertZ",void 0),(0,F.c)([(0,E.J)()],n.prototype,"lodLevelInAlpha",void 0),(0,F.c)([(0,E.J)()],n.prototype,"lodGenerationOffset",null),(0,F.c)([(0,E.J)()],n.prototype,"lodGenerationScale",null),(0,F.c)([(0,E.J)()],n.prototype,"linearSpecularLOD",null),(0,F.c)([(0,E.A)()],n.prototype,"irradianceTexture",null),(0,F.c)([(0,E.J)()],n.prototype,"isRenderTarget",void 0)},11570:(U,X,b)=>{b.d(X,{c:()=>N});var F=b(11576),E=b(11583),w=b(11392),Q=b(11593),z=b(11612),q=b(11551),p=b(11428),S=b(11481),R=b(11546),n=b(11644),a=b(11463);function J(U,X){let b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const F=X.width,E=X.height;if(U instanceof Float32Array){let X=U.byteLength/U.BYTES_PER_ELEMENT;const b=new Uint8Array(X);for(;--X>=0;){let F=U[X];F<0?F=0:F>1&&(F=1),b[X]=255*F}U=b}const w=document.createElement("canvas");w.width=F,w.height=E;const Q=w.getContext("2d");if(!Q)return null;const z=Q.createImageData(F,E);if(z.data.set(U),Q.putImageData(z,0,0),b){const U=document.createElement("canvas");U.width=F,U.height=E;const X=U.getContext("2d");return X?(X.translate(0,E),X.scale(1,-1),X.drawImage(w,0,0),U.toDataURL("image/png")):null}return w.toDataURL("image/png")}function m(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const F=U.getInternalTexture();if(!F)return null;const E=U._readPixelsSync(X,b);return E?J(E,U.getSize(),F.invertY):null}async function x(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const F=U.getInternalTexture();if(!F)return null;const E=await U.readPixels(X,b);return E?J(E,U.getSize(),F.invertY):null}var I=b(11650),O=b(11623);class N extends z.b{static _CreateVideoTexture(U,X,b){arguments.length>5&&void 0!==arguments[5]||N.TRILINEAR_SAMPLINGMODE;throw(0,p.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(U){this._isBlocking=U}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(U,X,b,F){let E,Q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N.TRILINEAR_SAMPLINGMODE,z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,R=arguments.length>8&&void 0!==arguments[8]&&arguments[8],n=arguments.length>9?arguments[9]:void 0,a=arguments.length>10?arguments[10]:void 0,J=arguments.length>11?arguments[11]:void 0,m=arguments.length>12?arguments[12]:void 0,x=arguments.length>13?arguments[13]:void 0;super(X),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new w.e,this._isBlocking=!0,this.name=U||"",this.url=U;let O=!1,u=null,i=!0;"object"===typeof b&&null!==b?(E=b.noMipmap??!1,F=b.invertY??!I.b,Q=b.samplingMode??N.TRILINEAR_SAMPLINGMODE,z=b.H??null,q=b.onError??null,p=b.buffer??null,R=b.deleteBuffer??!1,n=b.format,a=b.mimeType,J=b.loaderOptions,m=b.creationFlags,O=b.useSRGBBuffer??!1,u=b.internalTexture??null,i=b.gammaSpace??i,x=b.forcedExtension??x):E=!!b,this._gammaSpace=i,this._noMipmap=E,this._invertY=void 0===F?!I.b:F,this._initialSamplingMode=Q,this._buffer=p,this._deleteBuffer=R,this._mimeType=a,this._loaderOptions=J,this._creationFlags=m,this._useSRGBBuffer=O,this._forcedExtension=x,void 0!==n&&(this._format=n);const P=this.fU(),f=this._getEngine();if(!f)return;f.onBeforeTextureInitObservable.notifyObservers(this);const j=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),z&&z(),!this.isBlocking&&P&&P.resetCachedMaterial()},e=(U,X)=>{this._loadingError=!0,this._errorObject={message:U,exception:X},q&&q(U,X),N.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!u)return this._delayedOnLoad=j,void(this._delayedOnError=e);if(this._texture=u??this._getFromCache(this.url,E,Q,this._invertY,O,this.isCube),this._texture)if(this._texture.isReady)S.c.SetImmediate((()=>j()));else{const U=this._texture.onLoadedObservable.add(j);this._texture.onErrorObservable.add((X=>{var b;e(X.message,X.exception),null===(b=this._texture)||void 0===b||b.onLoadedObservable.remove(U)}))}else if(P&&P.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=j,this._delayedOnError=e;else{try{this._texture=f.createTexture(this.url,E,this._invertY,P,Q,j,e,this._buffer,void 0,this._format,this._forcedExtension,a,J,m,O)}catch(l){throw e("error loading",l),l}R&&(this._buffer=null)}}updateURL(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2?arguments[2]:void 0,F=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.fU().markAllMaterialsAsDirty(1,(U=>U.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=U),this.url=U,this._buffer=X,this._forcedExtension=F,this.delayLoadState=4,b&&(this._delayedOnLoad=b),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const U=this.fU();U&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?S.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=U.getEngine().createTexture(this.url,this._noMipmap,this._invertY,U,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(U,X,b,F){U*=this._cachedUScale,X*=this._cachedVScale,U-=this.uRotationCenter*this._cachedUScale,X-=this.vRotationCenter*this._cachedVScale,b-=this.wRotationCenter,Q.JX.TransformCoordinatesFromFloatsToRef(U,X,b,this._rowGenerationMatrix,F),F.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,F.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,F.z+=this.wRotationCenter}getTextureMatrix(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*U===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*U,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Q.Matrix.Zero(),this._rowGenerationMatrix=new Q.Matrix,this._t0=Q.JX.Zero(),this._t1=Q.JX.Zero(),this._t2=Q.JX.Zero()),Q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Q.TmpVectors.Matrix[0]),Q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Q.TmpVectors.Matrix[1]),Q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Q.TmpVectors.Matrix[2]),Q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Q.TmpVectors.Matrix[3]),Q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.pR(this._t0),this._t2.pR(this._t0),Q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const X=this.fU();if(!X)return this._cachedTextureMatrix;const b=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&b!==this._cachedIdentity3x2&&X.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const U=this.fU();if(!U)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==N.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===U.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Q.Matrix.Zero());const X=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case N.PLANAR_MODE:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case N.PROJECTION_MODE:{Q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const X=U.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=X.updateFlag,X.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return X&&U.markAllMaterialsAsDirty(1,(U=>U.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const U={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,H:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return O.d.Clone((()=>new N(this._texture?this._texture.url:null,this.fU(),U)),this)}serialize(){var U;const X=this.name;N.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const b=super.serialize(N._SerializeInternalTextureUniqueId);if(!b)return null;if(N.SerializeBuffers||N.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))b.base64String=this._buffer,b.name=b.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const U=this.mimeType||"image/png";b.base64String=`data:${U};base64,${(0,a.e)(this._buffer)}`}else(N.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(b.base64String=!this._engine||this._engine._features.supportSyncTextureRead?m(this):x(this));var F;(b.invertY=this._invertY,b.samplingMode=this.samplingMode,b._creationFlags=this._creationFlags,b._useSRGBBuffer=this._useSRGBBuffer,N._SerializeInternalTextureUniqueId)&&(b.internalTextureUniqueId=null===(F=this._texture)||void 0===F?void 0:F.uniqueId);return b.internalTextureLabel=null===(U=this._texture)||void 0===U?void 0:U.label,b.noMipmap=this._noMipmap,this.name=X,b}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(U,X,b){if(U.customType){const F=R.b.Instantiate(U.customType).Parse(U,X,b);return U.samplingMode&&F.updateSamplingMode&&F._samplingMode&&F._samplingMode!==U.samplingMode&&F.updateSamplingMode(U.samplingMode),F}if(U.isCube&&!U.isRenderTarget)return N._CubeTextureParser(U,X,b);const F=void 0!==U.internalTextureUniqueId;if(!U.name&&!U.isRenderTarget&&!F)return null;let E;if(F){const b=X.getEngine().getLoadedTexturesCache();for(const X of b)if(X.uniqueId===U.internalTextureUniqueId){E=X;break}}const w=X=>{if(X&&X._texture&&(X._texture._cachedWrapU=null,X._texture._cachedWrapV=null,X._texture._cachedWrapR=null),U.samplingMode){const b=U.samplingMode;X&&X.samplingMode!==b&&X.updateSamplingMode(b)}if(X&&U.animations)for(let b=0;b<U.animations.length;b++){const F=U.animations[b],E=(0,q.c)("BABYLON.Animation");E&&X.animations.push(E.Parse(F))}X&&X._texture&&(F&&!E&&X._texture._setUniqueId(U.internalTextureUniqueId),X._texture.label=U.internalTextureLabel)};return O.d.Parse((()=>{let F=!0;if(U.noMipmap&&(F=!1),U.mirrorPlane){const b=N._CreateMirror(U.name,U.renderTargetSize,X,F);return b._waitingRenderList=U.renderList,b.mirrorPlane=n.c.uX(U.mirrorPlane),w(b),b}if(U.isRenderTarget){let b=null;if(U.isCube){if(X.reflectionProbes)for(let F=0;F<X.reflectionProbes.length;F++){const b=X.reflectionProbes[F];if(b.name===U.name)return b.cubeTexture}}else b=N._CreateRenderTargetTexture(U.name,U.renderTargetSize,X,F,U._creationFlags??0),b._waitingRenderList=U.renderList;return w(b),b}if(U.isVideo){const E=N._CreateVideoTexture(b+(U.url||U.name),b+(U.src||U.url),X,F,U.invertY,U.samplingMode,U.settings||{});return w(E),E}{let Q;if(U.base64String&&!E)Q=N.CreateFromBase64String(U.base64String,U.base64String,X,!F,U.invertY,U.samplingMode,(()=>{w(Q)}),U._creationFlags??0,U._useSRGBBuffer??!1),Q.name=U.name;else{let z;z=U.name&&(U.name.indexOf("://")>0||U.name.startsWith("data:"))?U.name:b+U.name,U.url&&(U.url.startsWith("data:")||N.UseSerializedUrlIfAny)&&(z=U.url);const q={noMipmap:!F,invertY:U.invertY,samplingMode:U.samplingMode,H:()=>{w(Q)},internalTexture:E};Q=new N(z,X,q)}return Q}}),U,X)}static CreateFromBase64String(U,X,b,F,E){let w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:N.TRILINEAR_SAMPLINGMODE;return new N("data:"+X,b,F,E,w,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,U,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(U,X,b){let F=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=arguments.length>4?arguments[4]:void 0,w=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:N.TRILINEAR_SAMPLINGMODE,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,S=arguments.length>10?arguments[10]:void 0,R=arguments.length>11?arguments[11]:void 0;return"data:"!==U.substring(0,5)&&(U="data:"+U),new N(U,b,E,w,Q,z,q,X,F,p,void 0,void 0,S,R)}}N.SerializeBuffers=!0,N.ForceSerializeBuffers=!1,N.OnTextureLoadErrorObservable=new w.e,N._SerializeInternalTextureUniqueId=!1,N._CubeTextureParser=(U,X,b)=>{throw(0,p.b)("CubeTexture")},N._CreateMirror=(U,X,b,F)=>{throw(0,p.b)("MirrorTexture")},N._CreateRenderTargetTexture=(U,X,b,F,E)=>{throw(0,p.b)("RenderTargetTexture")},N.NEAREST_SAMPLINGMODE=1,N.NEAREST_NEAREST_MIPLINEAR=8,N.BILINEAR_SAMPLINGMODE=2,N.LINEAR_LINEAR_MIPNEAREST=11,N.TRILINEAR_SAMPLINGMODE=3,N.LINEAR_LINEAR_MIPLINEAR=3,N.NEAREST_NEAREST_MIPNEAREST=4,N.NEAREST_LINEAR_MIPNEAREST=5,N.NEAREST_LINEAR_MIPLINEAR=6,N.NEAREST_LINEAR=7,N.NEAREST_NEAREST=1,N.LINEAR_NEAREST_MIPNEAREST=9,N.LINEAR_NEAREST_MIPLINEAR=10,N.LINEAR_LINEAR=2,N.LINEAR_NEAREST=12,N.EXPLICIT_MODE=0,N.SPHERICAL_MODE=1,N.PLANAR_MODE=2,N.CUBIC_MODE=3,N.PROJECTION_MODE=4,N.SKYBOX_MODE=5,N.INVCUBIC_MODE=6,N.EQUIRECTANGULAR_MODE=7,N.FIXED_EQUIRECTANGULAR_MODE=8,N.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,N.CLAMP_ADDRESSMODE=0,N.WRAP_ADDRESSMODE=1,N.MIRROR_ADDRESSMODE=2,N.UseSerializedUrlIfAny=!1,(0,F.c)([(0,E.J)()],N.prototype,"url",void 0),(0,F.c)([(0,E.J)()],N.prototype,"uOffset",void 0),(0,F.c)([(0,E.J)()],N.prototype,"vOffset",void 0),(0,F.c)([(0,E.J)()],N.prototype,"uScale",void 0),(0,F.c)([(0,E.J)()],N.prototype,"vScale",void 0),(0,F.c)([(0,E.J)()],N.prototype,"uAng",void 0),(0,F.c)([(0,E.J)()],N.prototype,"vAng",void 0),(0,F.c)([(0,E.J)()],N.prototype,"wAng",void 0),(0,F.c)([(0,E.J)()],N.prototype,"uRotationCenter",void 0),(0,F.c)([(0,E.J)()],N.prototype,"vRotationCenter",void 0),(0,F.c)([(0,E.J)()],N.prototype,"wRotationCenter",void 0),(0,F.c)([(0,E.J)()],N.prototype,"homogeneousRotationInUVTransform",void 0),(0,F.c)([(0,E.J)()],N.prototype,"isBlocking",null),(0,q.f)("BABYLON.Texture",N),O.d._TextureParser=N.Parse},11644:(U,X,b)=>{b.d(X,{c:()=>E});var F=b(11593);class E{constructor(U,X,b,E){this.normal=new F.JX(U,X,b),this.d=E}Jb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new E(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let U=this.normal.getHashCode();return U=397*U^this.d,U}normalize(){const U=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let X=0;return 0!==U&&(X=1/U),this.normal.x*=X,this.normal.y*=X,this.normal.z*=X,this.d*=X,this}transform(U){const X=E._TmpMatrix;U.invertToRef(X);const b=X.m,F=this.normal.x,w=this.normal.y,Q=this.normal.z,z=this.d,q=F*b[0]+w*b[1]+Q*b[2]+z*b[3],p=F*b[4]+w*b[5]+Q*b[6]+z*b[7],S=F*b[8]+w*b[9]+Q*b[10]+z*b[11],R=F*b[12]+w*b[13]+Q*b[14]+z*b[15];return new E(q,p,S,R)}dotCoordinate(U){return this.normal.x*U.x+this.normal.y*U.y+this.normal.z*U.z+this.d}copyFromPoints(U,X,b){const F=X.x-U.x,E=X.y-U.y,w=X.z-U.z,Q=b.x-U.x,z=b.y-U.y,q=b.z-U.z,p=E*q-w*z,S=w*Q-F*q,R=F*z-E*Q,n=Math.sqrt(p*p+S*S+R*R);let a;return a=0!==n?1/n:0,this.normal.x=p*a,this.normal.y=S*a,this.normal.z=R*a,this.d=-(this.normal.x*U.x+this.normal.y*U.y+this.normal.z*U.z),this}isFrontFacingTo(U,X){return F.JX.Dot(this.normal,U)<=X}signedDistanceTo(U){return F.JX.Dot(U,this.normal)+this.d}static uX(U){return new E(U[0],U[1],U[2],U[3])}static FromPoints(U,X,b){const F=new E(0,0,0,0);return F.copyFromPoints(U,X,b),F}static FromPositionAndNormal(U,X){const b=new E(0,0,0,0);return this.FromPositionAndNormalToRef(U,X,b)}static FromPositionAndNormalToRef(U,X,b){return b.normal.q(X),b.normal.normalize(),b.d=-U.dot(b.normal),b}static SignedDistanceToPlaneFromPositionAndNormal(U,X,b){const E=-(X.x*U.x+X.y*U.y+X.z*U.z);return F.JX.Dot(b,X)+E}}E._TmpMatrix=F.Matrix.Identity()},11616:(U,X,b)=>{b.d(X,{e:()=>F});class F{constructor(U,X){this.width=U,this.height=X}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let U=0|this.width;return U=397*U^this.height,U}q(U){this.width=U.width,this.height=U.height}Pb(U,X){return this.width=U,this.height=X,this}set(U,X){return this.Pb(U,X)}multiplyByFloats(U,X){return new F(this.width*U,this.height*X)}clone(){return new F(this.width,this.height)}equals(U){return!!U&&(this.width===U.width&&this.height===U.height)}get surface(){return this.width*this.height}static Zero(){return new F(0,0)}add(U){return new F(this.width+U.width,this.height+U.height)}mX(U){return new F(this.width-U.width,this.height-U.height)}scale(U){return new F(this.width*U,this.height*U)}static Lerp(U,X,b){const E=U.width+(X.width-U.width)*b,w=U.height+(X.height-U.height)*b;return new F(E,w)}}},11590:(U,X,b)=>{b.d(X,{b:()=>w,e:()=>Q});const F={},E={};function w(U){const X=U.getClassName();return E[X]||(E[X]={}),E[X]}function Q(U){const X=U.getClassName();if(F[X])return F[X];F[X]={};const b=F[X];let w=U,Q=X;for(;Q;){const U=E[Q];for(const E in U)b[E]=U[E];let X,F=!1;do{if(X=Object.getPrototypeOf(w),!X.getClassName){F=!0;break}if(X.getClassName()!==Q)break;w=X}while(X);if(F)break;Q=X.getClassName(),w=X}return b}},11583:(U,X,b)=>{b.d(X,{A:()=>z,D:()=>S,F:()=>R,J:()=>Q,b:()=>w,c:()=>O,e:()=>a,h:()=>q,j:()=>J,l:()=>p,o:()=>m,p:()=>I,t:()=>n,x:()=>x});var F=b(11590);function E(U,X){return(b,E)=>{const w=(0,F.b)(b);w[E]||(w[E]={type:U,sourceName:X})}}function w(U){return function(U){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(b,F)=>{const E=X||"_"+F;Object.defineProperty(b,F,{get:function(){return this[E]},set:function(X){var F;"function"===typeof(null===(F=this[E])||void 0===F?void 0:F.equals)&&this[E].equals(X)||this[E]!==X&&(this[E]=X,b[U].apply(this))},enumerable:!0,configurable:!0})}}(U,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Q(U){return E(0,U)}function z(U){return E(1,U)}function q(U){return E(2,U)}function p(U){return E(3,U)}function S(U){return E(4,U)}function R(U){return E(5,U)}function n(U){return E(6,U)}function a(U){return E(7,U)}function J(U){return E(8,U)}function m(U){return E(9,U)}function x(U){return E(10,U)}function I(U){return E(12,U)}function O(U,X,b,F){const E=b.value;b.value=function(){let b=E;if("undefined"!==typeof _native&&_native[X]){const U=_native[X];b=F?function(){return F(...arguments)?U(...arguments):E(...arguments)}:U}return U[X]=b,b(...arguments)}}O.filter=function(U){return(X,b,F)=>O(X,b,F,U)}},11623:(U,X,b)=>{b.d(X,{d:()=>p});var F=b(11428),E=b(11630),w=b(11636),Q=b(11593),z=b(11590);const q=function(U,X,b){let F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const w=U();E.d&&E.d.HasTags(X)&&E.d.AddTagsTo(w,E.d.GetTags(X,!0));const Q=(0,z.e)(w),q={};for(const E in Q){const U=Q[E],z=X[E],S=U.type;if(void 0!==z&&null!==z&&("uniqueId"!==E||p.AllowLoadingUniqueId))switch(S){case 0:case 6:case 9:case 11:w[E]=z;break;case 1:F.cloneTexturesOnlyOnce&&q[z.uniqueId]?w[E]=q[z.uniqueId]:(w[E]=b||z.isRenderTarget?z:z.clone(),q[z.uniqueId]=w[E]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:w[E]=b?z:z.clone()}}return w};class p{static AppendSerializedAnimations(U,X){if(U.animations){X.animations=[];for(let b=0;b<U.animations.length;b++){const F=U.animations[b];X.animations.push(F.serialize())}}}static Serialize(U,X){X||(X={}),E.d&&(X.tags=E.d.GetTags(U));const b=(0,z.e)(U);for(const F in b){const E=b[F],w=E.sourceName||F,Q=E.type,z=U[F];if(void 0!==z&&null!==z&&("uniqueId"!==F||p.AllowLoadingUniqueId))switch(Q){case 0:X[w]=z;break;case 1:case 3:case 7:case 9:X[w]=z.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:X[w]=z.Jb();break;case 6:case 11:X[w]=z.id}}return X}static ParseProperties(U,X,b,F){F||(F="");const E=(0,z.e)(X);for(const z in E){const q=E[z],S=U[q.sourceName||z],R=q.type;if(void 0!==S&&null!==S&&("uniqueId"!==z||p.AllowLoadingUniqueId)){const U=X;switch(R){case 0:U[z]=S;break;case 1:b&&(U[z]=p._TextureParser(S,b,F));break;case 2:U[z]=w.NX.uX(S);break;case 3:U[z]=p._FresnelParametersParser(S);break;case 4:U[z]=Q.Vector2.uX(S);break;case 5:U[z]=Q.JX.uX(S);break;case 6:b&&(U[z]=b.getLastMeshById(S));break;case 7:U[z]=p._ColorCurvesParser(S);break;case 8:U[z]=w.eb.uX(S);break;case 9:U[z]=p._ImageProcessingConfigurationParser(S);break;case 10:U[z]=Q.Quaternion.uX(S);break;case 11:b&&(U[z]=b.getCameraById(S));break;case 12:U[z]=Q.Matrix.uX(S)}}}}static Parse(U,X,b){let F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const w=U();return E.d&&E.d.AddTagsTo(w,X.tags),p.ParseProperties(X,w,b,F),w}static Clone(U,X){return q(U,X,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(U,X){return q(U,X,!0)}}p.AllowLoadingUniqueId=!1,p._ImageProcessingConfigurationParser=U=>{throw(0,F.b)("ImageProcessingConfiguration")},p._FresnelParametersParser=U=>{throw(0,F.b)("FresnelParameters")},p._ColorCurvesParser=U=>{throw(0,F.b)("ColorCurves")},p._TextureParser=(U,X,b)=>{throw(0,F.b)("Texture")}},11630:(U,X,b)=>{b.d(X,{d:()=>E});class F{static Eval(U,X){return"true"===(U=U.match(/\([^()]*\)/g)?U.replace(/\([^()]*\)/g,(U=>(U=U.slice(1,U.length-1),F._HandleParenthesisContent(U,X)))):F._HandleParenthesisContent(U,X))||"false"!==U&&F.Eval(U,X)}static _HandleParenthesisContent(U,X){let b;X=X||(U=>"true"===U);const E=U.split("||");for(const w in E)if(Object.prototype.hasOwnProperty.call(E,w)){let U=F._SimplifyNegation(E[w].trim());const Q=U.split("&&");if(Q.length>1)for(let E=0;E<Q.length;++E){const w=F._SimplifyNegation(Q[E].trim());if(b="true"!==w&&"false"!==w?"!"===w[0]?!X(w.substring(1)):X(w):"true"===w,!b){U="false";break}}if(b||"true"===U){b=!0;break}b="true"!==U&&"false"!==U?"!"===U[0]?!X(U.substring(1)):X(U):"true"===U}return b?"true":"false"}static _SimplifyNegation(U){return"!true"===(U=(U=U.replace(/^[\s!]+/,(U=>(U=U.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?U="false":"!false"===U&&(U="true"),U}}class E{static EnableFor(U){U._tags=U._tags||{},U.hasTags=()=>E.HasTags(U),U.addTags=X=>E.AddTagsTo(U,X),U.removeTags=X=>E.RemoveTagsFrom(U,X),U.matchesTagsQuery=X=>E.MatchesQuery(U,X)}static DisableFor(U){delete U._tags,delete U.hasTags,delete U.addTags,delete U.removeTags,delete U.matchesTagsQuery}static HasTags(U){if(!U._tags)return!1;const X=U._tags;for(const b in X)if(Object.prototype.hasOwnProperty.call(X,b))return!0;return!1}static GetTags(U){let X=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!U._tags)return null;if(X){const X=[];for(const b in U._tags)Object.prototype.hasOwnProperty.call(U._tags,b)&&!0===U._tags[b]&&X.push(b);return X.join(" ")}return U._tags}static AddTagsTo(U,X){if(!X)return;if("string"!==typeof X)return;const b=X.split(" ");for(const F of b)E._AddTagTo(U,F)}static _AddTagTo(U,X){""!==(X=X.trim())&&"true"!==X&&"false"!==X&&(X.match(/[\s]/)||X.match(/^([!]|([|]|[&]){2})/)||(E.EnableFor(U),U._tags[X]=!0))}static RemoveTagsFrom(U,X){if(!E.HasTags(U))return;const b=X.split(" ");for(const F in b)E._RemoveTagFrom(U,b[F])}static _RemoveTagFrom(U,X){delete U._tags[X]}static MatchesQuery(U,X){return void 0===X||(""===X?E.HasTags(U):F.Eval(X,(X=>E.HasTags(U)&&U._tags[X])))}}},11576:(U,X,b)=>{b.d(X,{c:()=>F});function F(U,X,b,F){var E,w=arguments.length,Q=w<3?X:null===F?F=Object.getOwnPropertyDescriptor(X,b):F;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Q=Reflect.decorate(U,X,b,F);else for(var z=U.length-1;z>=0;z--)(E=U[z])&&(Q=(w<3?E(Q):w>3?E(X,b,Q):E(X,b))||Q);return w>3&&Q&&Object.defineProperty(X,b,Q),Q}Object.create;Object.create}}]);