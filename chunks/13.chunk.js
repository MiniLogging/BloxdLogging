"use strict";(self.nyfa010khv=self.nyfa010khv||[]).push([[13],{12185:(L,r,p)=>{p.d(r,{d:()=>J});let J=!1},12156:(L,r,p)=>{p.d(r,{e:()=>x});var J=p(12113),i=p(12122),n=p(11964),j=p(12136),z=p(12009),G=p(12091),C=(p(12014),p(12160));class t{get wrapU(){return this._wrapU}set wrapU(L){this._wrapU=L}get wrapV(){return this._wrapV}set wrapV(L){this._wrapV=L}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(L){this._texture&&(this._texture.isCube=L)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(L){this._texture&&(this._texture.is3D=L)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(L){this._texture&&(this._texture.is2DArray=L)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(L){return void 0!==(null===L||void 0===L?void 0:L.shareDepth)}constructor(L){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=C.d.Zero(),this._cachedBaseSize=C.d.Zero(),this._initialSamplingMode=2,this._texture=t._IsRenderTargetWrapper(L)?L.texture:L,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(L){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(L,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var E=p(12162);class x extends t{set pz(L){this._hasAlpha!==L&&(this._hasAlpha=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get pz(){return this._hasAlpha}set getAlphaFromRGB(L){this._getAlphaFromRGB!==L&&(this._getAlphaFromRGB=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(L){this._coordinatesIndex!==L&&(this._coordinatesIndex=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(L){this._coordinatesMode!==L&&(this._coordinatesMode=L,this._scene&&this._scene.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(L){this._wrapU=L}get wrapV(){return this._wrapV}set wrapV(L){this._wrapV=L}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(L){this._texture?this._texture.isCube=L:this._isCube=L}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(L){this._texture&&(this._texture.is3D=L)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(L){this._texture&&(this._texture.is2DArray=L)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(L){var r;if(this._texture){if(this._texture._gammaSpace===L)return;this._texture._gammaSpace=L}else{if(this._gammaSpace===L)return;this._gammaSpace=L}null===(r=this.FL())||void 0===r||r.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(L){var r;L!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=L),null===(r=this.FL())||void 0===r||r.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(L){this._texture&&(this._texture._lodGenerationOffset=L)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(L){this._texture&&(this._texture._lodGenerationScale=L)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(L){this._texture&&(this._texture._linearSpecularLOD=L)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(L){this._texture&&(this._texture._irradianceTexture=L)}get uid(){return this._uid||(this._uid=(0,G.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(L){this._onDisposeObserver&&this.ji.remove(this._onDisposeObserver),this._onDisposeObserver=this.ji.add(L)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.ji=new n.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,L?x._IsScene(L)?this._scene=L:this._engine=L:this._scene=z.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=r,this._uid=null}FL(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return j.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return j.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(L){}get canRescale(){return!1}_getFromCache(L,r,p,J,i,n){const j=this._getEngine();if(!j)return null;const z=j._getUseSRGBBuffer(!!i,r),G=j.getLoadedTexturesCache();for(let C=0;C<G.length;C++){const j=G[C];if((void 0===i||z===j._useSRGBBuffer)&&(void 0===J||J===j.invertY)&&j.url===L&&j.generateMipMaps===!r&&(!p||p===j.samplingMode)&&(void 0===n||n===j.isCube))return j.incrementReferences(),j}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const L=this.FL();L&&L.markAllMaterialsAsDirty(1)}readPixels(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,J=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,G=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const C=this._getEngine();if(!C)return null;const t=this.getSize();let E=t.width,x=t.height;0!==r&&(E/=Math.pow(2,r),x/=Math.pow(2,r),E=Math.round(E),x=Math.round(x)),z=Math.min(E,z),G=Math.min(x,G);try{return this._texture.isCube?C._readTexturePixels(this._texture,z,G,L,r,p,J,i,n,j):C._readTexturePixels(this._texture,z,G,-1,r,p,J,i,n,j)}catch(w){return null}}_readPixelsSync(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,J=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const n=this.getSize();let j=n.width,z=n.height;const G=this._getEngine();if(!G)return null;0!=r&&(j/=Math.pow(2,r),z/=Math.pow(2,r),j=Math.round(j),z=Math.round(z));try{return this._texture.isCube?G._readTexturePixelsSync(this._texture,j,z,L,r,p,J,i):G._readTexturePixelsSync(this._texture,j,z,-1,r,p,J,i)}catch(C){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const L=this._scene.textures.indexOf(this);if(L>=0&&this._scene.textures.splice(L,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const L=this._parentContainer.textures.indexOf(this);L>-1&&this._parentContainer.textures.splice(L,1),this._parentContainer=null}}this.ji.notifyObservers(this),this.ji.clear(),this.metadata=null,super.dispose()}serialize(){let L=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!L)return null;const r=E.c.Serialize(this);return E.c.AppendSerializedAnimations(this,r),r}static WhenAllReady(L,r){let p=L.length;if(0!==p)for(let J=0;J<L.length;J++){const i=L[J];if(i.isReady())0===--p&&r();else{const L=i.onLoadObservable;L?L.addOnce((()=>{0===--p&&r()})):0===--p&&r()}}else r()}static _IsScene(L){return"Scene"===L.getClassName()}}x.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,J.e)([(0,i.E)()],x.prototype,"uniqueId",void 0),(0,J.e)([(0,i.E)()],x.prototype,"name",void 0),(0,J.e)([(0,i.E)()],x.prototype,"displayName",void 0),(0,J.e)([(0,i.E)()],x.prototype,"metadata",void 0),(0,J.e)([(0,i.E)("pz")],x.prototype,"_hasAlpha",void 0),(0,J.e)([(0,i.E)("getAlphaFromRGB")],x.prototype,"_getAlphaFromRGB",void 0),(0,J.e)([(0,i.E)()],x.prototype,"level",void 0),(0,J.e)([(0,i.E)("coordinatesIndex")],x.prototype,"_coordinatesIndex",void 0),(0,J.e)([(0,i.E)()],x.prototype,"optimizeUVAllocation",void 0),(0,J.e)([(0,i.E)("coordinatesMode")],x.prototype,"_coordinatesMode",void 0),(0,J.e)([(0,i.E)()],x.prototype,"wrapU",null),(0,J.e)([(0,i.E)()],x.prototype,"wrapV",null),(0,J.e)([(0,i.E)()],x.prototype,"wrapR",void 0),(0,J.e)([(0,i.E)()],x.prototype,"anisotropicFilteringLevel",void 0),(0,J.e)([(0,i.E)()],x.prototype,"isCube",null),(0,J.e)([(0,i.E)()],x.prototype,"is3D",null),(0,J.e)([(0,i.E)()],x.prototype,"is2DArray",null),(0,J.e)([(0,i.E)()],x.prototype,"gammaSpace",null),(0,J.e)([(0,i.E)()],x.prototype,"invertZ",void 0),(0,J.e)([(0,i.E)()],x.prototype,"lodLevelInAlpha",void 0),(0,J.e)([(0,i.E)()],x.prototype,"lodGenerationOffset",null),(0,J.e)([(0,i.E)()],x.prototype,"lodGenerationScale",null),(0,J.e)([(0,i.E)()],x.prototype,"linearSpecularLOD",null),(0,J.e)([(0,i.y)()],x.prototype,"irradianceTexture",null),(0,J.e)([(0,i.E)()],x.prototype,"isRenderTarget",void 0)},12111:(L,r,p)=>{p.d(r,{c:()=>h});var J=p(12113),i=p(12122),n=p(11964),j=p(12136),z=p(12156),G=p(12087),C=p(11996),t=p(12032),E=p(12085),x=p(12179),w=p(12019);function g(L,r){let p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const J=r.width,i=r.height;if(L instanceof Float32Array){let r=L.byteLength/L.BYTES_PER_ELEMENT;const p=new Uint8Array(r);for(;--r>=0;){let J=L[r];J<0?J=0:J>1&&(J=1),p[r]=255*J}L=p}const n=document.createElement("canvas");n.width=J,n.height=i;const j=n.getContext("2d");if(!j)return null;const z=j.createImageData(J,i);if(z.data.set(L),j.putImageData(z,0,0),p){const L=document.createElement("canvas");L.width=J,L.height=i;const r=L.getContext("2d");return r?(r.translate(0,i),r.scale(1,-1),r.drawImage(n,0,0),L.toDataURL("image/png")):null}return n.toDataURL("image/png")}function b(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const J=L.getInternalTexture();if(!J)return null;const i=L._readPixelsSync(r,p);return i?g(i,L.getSize(),J.invertY):null}async function c(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const J=L.getInternalTexture();if(!J)return null;const i=await L.readPixels(r,p);return i?g(i,L.getSize(),J.invertY):null}var P=p(12185),O=p(12162);class h extends z.e{static _CreateVideoTexture(L,r,p){arguments.length>5&&void 0!==arguments[5]||h.TRILINEAR_SAMPLINGMODE;throw(0,C.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(L){this._isBlocking=L}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(L,r,p,J){let i,j=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TRILINEAR_SAMPLINGMODE,z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,G=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,C=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,E=arguments.length>8&&void 0!==arguments[8]&&arguments[8],x=arguments.length>9?arguments[9]:void 0,w=arguments.length>10?arguments[10]:void 0,g=arguments.length>11?arguments[11]:void 0,b=arguments.length>12?arguments[12]:void 0,c=arguments.length>13?arguments[13]:void 0;super(r),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new n.c,this._isBlocking=!0,this.name=L||"",this.url=L;let O=!1,U=null,W=!0;"object"===typeof p&&null!==p?(i=p.noMipmap??!1,J=p.invertY??!P.d,j=p.samplingMode??h.TRILINEAR_SAMPLINGMODE,z=p.mL??null,G=p.onError??null,C=p.buffer??null,E=p.deleteBuffer??!1,x=p.format,w=p.mimeType,g=p.loaderOptions,b=p.creationFlags,O=p.useSRGBBuffer??!1,U=p.internalTexture??null,W=p.gammaSpace??W,c=p.forcedExtension??c):i=!!p,this._gammaSpace=W,this._noMipmap=i,this._invertY=void 0===J?!P.d:J,this._initialSamplingMode=j,this._buffer=C,this._deleteBuffer=E,this._mimeType=w,this._loaderOptions=g,this._creationFlags=b,this._useSRGBBuffer=O,this._forcedExtension=c,void 0!==x&&(this._format=x);const B=this.FL(),F=this._getEngine();if(!F)return;F.onBeforeTextureInitObservable.notifyObservers(this);const Q=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),z&&z(),!this.isBlocking&&B&&B.resetCachedMaterial()},e=(L,r)=>{this._loadingError=!0,this._errorObject={message:L,exception:r},G&&G(L,r),h.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!U)return this._delayedOnLoad=Q,void(this._delayedOnError=e);if(this._texture=U??this._getFromCache(this.url,i,j,this._invertY,O,this.isCube),this._texture)if(this._texture.isReady)t.d.SetImmediate((()=>Q()));else{const L=this._texture.onLoadedObservable.add(Q);this._texture.onErrorObservable.add((r=>{var p;e(r.message,r.exception),null===(p=this._texture)||void 0===p||p.onLoadedObservable.remove(L)}))}else if(B&&B.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=Q,this._delayedOnError=e;else{try{this._texture=F.createTexture(this.url,i,this._invertY,B,j,Q,e,this._buffer,void 0,this._format,this._forcedExtension,w,g,b,O)}catch(v){throw e("error loading",v),v}E&&(this._buffer=null)}}updateURL(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2?arguments[2]:void 0,J=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.FL().markAllMaterialsAsDirty(1,(L=>L.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=L),this.url=L,this._buffer=r,this._forcedExtension=J,this.delayLoadState=4,p&&(this._delayedOnLoad=p),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const L=this.FL();L&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?t.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=L.getEngine().createTexture(this.url,this._noMipmap,this._invertY,L,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(L,r,p,J){L*=this._cachedUScale,r*=this._cachedVScale,L-=this.uRotationCenter*this._cachedUScale,r-=this.vRotationCenter*this._cachedVScale,p-=this.wRotationCenter,j.cr.TransformCoordinatesFromFloatsToRef(L,r,p,this._rowGenerationMatrix,J),J.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,J.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,J.z+=this.wRotationCenter}getTextureMatrix(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*L===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*L,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=j.Matrix.Zero(),this._rowGenerationMatrix=new j.Matrix,this._t0=j.cr.Zero(),this._t1=j.cr.Zero(),this._t2=j.cr.Zero()),j.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(j.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,j.TmpVectors.Matrix[0]),j.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,j.TmpVectors.Matrix[1]),j.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,j.TmpVectors.Matrix[2]),j.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,j.TmpVectors.Matrix[3]),j.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(j.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(j.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(j.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.JE(this._t0),this._t2.JE(this._t0),j.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const r=this.FL();if(!r)return this._cachedTextureMatrix;const p=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&p!==this._cachedIdentity3x2&&r.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const L=this.FL();if(!L)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==h.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===L.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=j.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=j.Matrix.Zero());const r=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case h.PLANAR_MODE:j.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case h.PROJECTION_MODE:{j.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const r=L.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=r.updateFlag,r.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:j.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return r&&L.markAllMaterialsAsDirty(1,(L=>L.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const L={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,mL:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return O.c.Clone((()=>new h(this._texture?this._texture.url:null,this.FL(),L)),this)}serialize(){var L;const r=this.name;h.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const p=super.serialize(h._SerializeInternalTextureUniqueId);if(!p)return null;if(h.SerializeBuffers||h.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))p.base64String=this._buffer,p.name=p.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const L=this.mimeType||"image/png";p.base64String=`data:${L};base64,${(0,w.m)(this._buffer)}`}else(h.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(p.base64String=!this._engine||this._engine._features.supportSyncTextureRead?b(this):c(this));var J;(p.invertY=this._invertY,p.samplingMode=this.samplingMode,p._creationFlags=this._creationFlags,p._useSRGBBuffer=this._useSRGBBuffer,h._SerializeInternalTextureUniqueId)&&(p.internalTextureUniqueId=null===(J=this._texture)||void 0===J?void 0:J.uniqueId);return p.internalTextureLabel=null===(L=this._texture)||void 0===L?void 0:L.label,p.noMipmap=this._noMipmap,this.name=r,p}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(L,r,p){if(L.customType){const J=E.b.Instantiate(L.customType).Parse(L,r,p);return L.samplingMode&&J.updateSamplingMode&&J._samplingMode&&J._samplingMode!==L.samplingMode&&J.updateSamplingMode(L.samplingMode),J}if(L.isCube&&!L.isRenderTarget)return h._CubeTextureParser(L,r,p);const J=void 0!==L.internalTextureUniqueId;if(!L.name&&!L.isRenderTarget&&!J)return null;let i;if(J){const p=r.getEngine().getLoadedTexturesCache();for(const r of p)if(r.uniqueId===L.internalTextureUniqueId){i=r;break}}const n=r=>{if(r&&r._texture&&(r._texture._cachedWrapU=null,r._texture._cachedWrapV=null,r._texture._cachedWrapR=null),L.samplingMode){const p=L.samplingMode;r&&r.samplingMode!==p&&r.updateSamplingMode(p)}if(r&&L.animations)for(let p=0;p<L.animations.length;p++){const J=L.animations[p],i=(0,G.c)("BABYLON.Animation");i&&r.animations.push(i.Parse(J))}r&&r._texture&&(J&&!i&&r._texture._setUniqueId(L.internalTextureUniqueId),r._texture.label=L.internalTextureLabel)};return O.c.Parse((()=>{let J=!0;if(L.noMipmap&&(J=!1),L.mirrorPlane){const p=h._CreateMirror(L.name,L.renderTargetSize,r,J);return p._waitingRenderList=L.renderList,p.mirrorPlane=x.c.Br(L.mirrorPlane),n(p),p}if(L.isRenderTarget){let p=null;if(L.isCube){if(r.reflectionProbes)for(let J=0;J<r.reflectionProbes.length;J++){const p=r.reflectionProbes[J];if(p.name===L.name)return p.cubeTexture}}else p=h._CreateRenderTargetTexture(L.name,L.renderTargetSize,r,J,L._creationFlags??0),p._waitingRenderList=L.renderList;return n(p),p}if(L.isVideo){const i=h._CreateVideoTexture(p+(L.url||L.name),p+(L.src||L.url),r,J,L.invertY,L.samplingMode,L.settings||{});return n(i),i}{let j;if(L.base64String&&!i)j=h.CreateFromBase64String(L.base64String,L.base64String,r,!J,L.invertY,L.samplingMode,(()=>{n(j)}),L._creationFlags??0,L._useSRGBBuffer??!1),j.name=L.name;else{let z;z=L.name&&(L.name.indexOf("://")>0||L.name.startsWith("data:"))?L.name:p+L.name,L.url&&(L.url.startsWith("data:")||h.UseSerializedUrlIfAny)&&(z=L.url);const G={noMipmap:!J,invertY:L.invertY,samplingMode:L.samplingMode,mL:()=>{n(j)},internalTexture:i};j=new h(z,r,G)}return j}}),L,r)}static CreateFromBase64String(L,r,p,J,i){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.TRILINEAR_SAMPLINGMODE;return new h("data:"+r,p,J,i,n,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,L,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(L,r,p){let J=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:h.TRILINEAR_SAMPLINGMODE,z=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,G=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,C=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,t=arguments.length>10?arguments[10]:void 0,E=arguments.length>11?arguments[11]:void 0;return"data:"!==L.substring(0,5)&&(L="data:"+L),new h(L,p,i,n,j,z,G,r,J,C,void 0,void 0,t,E)}}h.SerializeBuffers=!0,h.ForceSerializeBuffers=!1,h.OnTextureLoadErrorObservable=new n.c,h._SerializeInternalTextureUniqueId=!1,h._CubeTextureParser=(L,r,p)=>{throw(0,C.d)("CubeTexture")},h._CreateMirror=(L,r,p,J)=>{throw(0,C.d)("MirrorTexture")},h._CreateRenderTargetTexture=(L,r,p,J,i)=>{throw(0,C.d)("RenderTargetTexture")},h.NEAREST_SAMPLINGMODE=1,h.NEAREST_NEAREST_MIPLINEAR=8,h.BILINEAR_SAMPLINGMODE=2,h.LINEAR_LINEAR_MIPNEAREST=11,h.TRILINEAR_SAMPLINGMODE=3,h.LINEAR_LINEAR_MIPLINEAR=3,h.NEAREST_NEAREST_MIPNEAREST=4,h.NEAREST_LINEAR_MIPNEAREST=5,h.NEAREST_LINEAR_MIPLINEAR=6,h.NEAREST_LINEAR=7,h.NEAREST_NEAREST=1,h.LINEAR_NEAREST_MIPNEAREST=9,h.LINEAR_NEAREST_MIPLINEAR=10,h.LINEAR_LINEAR=2,h.LINEAR_NEAREST=12,h.EXPLICIT_MODE=0,h.SPHERICAL_MODE=1,h.PLANAR_MODE=2,h.CUBIC_MODE=3,h.PROJECTION_MODE=4,h.SKYBOX_MODE=5,h.INVCUBIC_MODE=6,h.EQUIRECTANGULAR_MODE=7,h.FIXED_EQUIRECTANGULAR_MODE=8,h.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,h.CLAMP_ADDRESSMODE=0,h.WRAP_ADDRESSMODE=1,h.MIRROR_ADDRESSMODE=2,h.UseSerializedUrlIfAny=!1,(0,J.e)([(0,i.E)()],h.prototype,"url",void 0),(0,J.e)([(0,i.E)()],h.prototype,"uOffset",void 0),(0,J.e)([(0,i.E)()],h.prototype,"vOffset",void 0),(0,J.e)([(0,i.E)()],h.prototype,"uScale",void 0),(0,J.e)([(0,i.E)()],h.prototype,"vScale",void 0),(0,J.e)([(0,i.E)()],h.prototype,"uAng",void 0),(0,J.e)([(0,i.E)()],h.prototype,"vAng",void 0),(0,J.e)([(0,i.E)()],h.prototype,"wAng",void 0),(0,J.e)([(0,i.E)()],h.prototype,"uRotationCenter",void 0),(0,J.e)([(0,i.E)()],h.prototype,"vRotationCenter",void 0),(0,J.e)([(0,i.E)()],h.prototype,"wRotationCenter",void 0),(0,J.e)([(0,i.E)()],h.prototype,"homogeneousRotationInUVTransform",void 0),(0,J.e)([(0,i.E)()],h.prototype,"isBlocking",null),(0,G.e)("BABYLON.Texture",h),O.c._TextureParser=h.Parse},12179:(L,r,p)=>{p.d(r,{c:()=>i});var J=p(12136);class i{constructor(L,r,p,i){this.normal=new J.cr(L,r,p),this.d=i}mz(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new i(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let L=this.normal.getHashCode();return L=397*L^this.d,L}normalize(){const L=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let r=0;return 0!==L&&(r=1/L),this.normal.x*=r,this.normal.y*=r,this.normal.z*=r,this.d*=r,this}transform(L){const r=i._TmpMatrix;L.invertToRef(r);const p=r.m,J=this.normal.x,n=this.normal.y,j=this.normal.z,z=this.d,G=J*p[0]+n*p[1]+j*p[2]+z*p[3],C=J*p[4]+n*p[5]+j*p[6]+z*p[7],t=J*p[8]+n*p[9]+j*p[10]+z*p[11],E=J*p[12]+n*p[13]+j*p[14]+z*p[15];return new i(G,C,t,E)}dotCoordinate(L){return this.normal.x*L.x+this.normal.y*L.y+this.normal.z*L.z+this.d}copyFromPoints(L,r,p){const J=r.x-L.x,i=r.y-L.y,n=r.z-L.z,j=p.x-L.x,z=p.y-L.y,G=p.z-L.z,C=i*G-n*z,t=n*j-J*G,E=J*z-i*j,x=Math.sqrt(C*C+t*t+E*E);let w;return w=0!==x?1/x:0,this.normal.x=C*w,this.normal.y=t*w,this.normal.z=E*w,this.d=-(this.normal.x*L.x+this.normal.y*L.y+this.normal.z*L.z),this}isFrontFacingTo(L,r){return J.cr.Dot(this.normal,L)<=r}signedDistanceTo(L){return J.cr.Dot(L,this.normal)+this.d}static Br(L){return new i(L[0],L[1],L[2],L[3])}static FromPoints(L,r,p){const J=new i(0,0,0,0);return J.copyFromPoints(L,r,p),J}static FromPositionAndNormal(L,r){const p=new i(0,0,0,0);return this.FromPositionAndNormalToRef(L,r,p)}static FromPositionAndNormalToRef(L,r,p){return p.normal.G(r),p.normal.normalize(),p.d=-L.dot(p.normal),p}static SignedDistanceToPlaneFromPositionAndNormal(L,r,p){const i=-(r.x*L.x+r.y*L.y+r.z*L.z);return J.cr.Dot(p,r)+i}}i._TmpMatrix=J.Matrix.Identity()},12160:(L,r,p)=>{p.d(r,{d:()=>J});class J{constructor(L,r){this.width=L,this.height=r}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let L=0|this.width;return L=397*L^this.height,L}G(L){this.width=L.width,this.height=L.height}Uz(L,r){return this.width=L,this.height=r,this}set(L,r){return this.Uz(L,r)}multiplyByFloats(L,r){return new J(this.width*L,this.height*r)}clone(){return new J(this.width,this.height)}equals(L){return!!L&&(this.width===L.width&&this.height===L.height)}get surface(){return this.width*this.height}static Zero(){return new J(0,0)}add(L){return new J(this.width+L.width,this.height+L.height)}Pr(L){return new J(this.width-L.width,this.height-L.height)}scale(L){return new J(this.width*L,this.height*L)}static Lerp(L,r,p){const i=L.width+(r.width-L.width)*p,n=L.height+(r.height-L.height)*p;return new J(i,n)}}},12128:(L,r,p)=>{p.d(r,{b:()=>n,f:()=>j});const J={},i={};function n(L){const r=L.getClassName();return i[r]||(i[r]={}),i[r]}function j(L){const r=L.getClassName();if(J[r])return J[r];J[r]={};const p=J[r];let n=L,j=r;for(;j;){const L=i[j];for(const i in L)p[i]=L[i];let r,J=!1;do{if(r=Object.getPrototypeOf(n),!r.getClassName){J=!0;break}if(r.getClassName()!==j)break;n=r}while(r);if(J)break;j=r.getClassName(),n=r}return p}},12122:(L,r,p)=>{p.d(r,{A:()=>t,D:()=>E,E:()=>j,b:()=>n,c:()=>O,g:()=>w,h:()=>G,i:()=>g,k:()=>C,o:()=>b,p:()=>P,s:()=>x,u:()=>c,y:()=>z});var J=p(12128);function i(L,r){return(p,i)=>{const n=(0,J.b)(p);n[i]||(n[i]={type:L,sourceName:r})}}function n(L){return function(L){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(p,J)=>{const i=r||"_"+J;Object.defineProperty(p,J,{get:function(){return this[i]},set:function(r){var J;"function"===typeof(null===(J=this[i])||void 0===J?void 0:J.equals)&&this[i].equals(r)||this[i]!==r&&(this[i]=r,p[L].apply(this))},enumerable:!0,configurable:!0})}}(L,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function j(L){return i(0,L)}function z(L){return i(1,L)}function G(L){return i(2,L)}function C(L){return i(3,L)}function t(L){return i(4,L)}function E(L){return i(5,L)}function x(L){return i(6,L)}function w(L){return i(7,L)}function g(L){return i(8,L)}function b(L){return i(9,L)}function c(L){return i(10,L)}function P(L){return i(12,L)}function O(L,r,p,J){const i=p.value;p.value=function(){let p=i;if("undefined"!==typeof _native&&_native[r]){const L=_native[r];p=J?function(){return J(...arguments)?L(...arguments):i(...arguments)}:L}return L[r]=p,p(...arguments)}}O.filter=function(L){return(r,p,J)=>O(r,p,J,L)}},12162:(L,r,p)=>{p.d(r,{c:()=>C});var J=p(11996),i=p(12167),n=p(12170),j=p(12136),z=p(12128);const G=function(L,r,p){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=L();i.b&&i.b.HasTags(r)&&i.b.AddTagsTo(n,i.b.GetTags(r,!0));const j=(0,z.f)(n),G={};for(const i in j){const L=j[i],z=r[i],t=L.type;if(void 0!==z&&null!==z&&("uniqueId"!==i||C.AllowLoadingUniqueId))switch(t){case 0:case 6:case 9:case 11:n[i]=z;break;case 1:J.cloneTexturesOnlyOnce&&G[z.uniqueId]?n[i]=G[z.uniqueId]:(n[i]=p||z.isRenderTarget?z:z.clone(),G[z.uniqueId]=n[i]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:n[i]=p?z:z.clone()}}return n};class C{static AppendSerializedAnimations(L,r){if(L.animations){r.animations=[];for(let p=0;p<L.animations.length;p++){const J=L.animations[p];r.animations.push(J.serialize())}}}static Serialize(L,r){r||(r={}),i.b&&(r.tags=i.b.GetTags(L));const p=(0,z.f)(L);for(const J in p){const i=p[J],n=i.sourceName||J,j=i.type,z=L[J];if(void 0!==z&&null!==z&&("uniqueId"!==J||C.AllowLoadingUniqueId))switch(j){case 0:r[n]=z;break;case 1:case 3:case 7:case 9:r[n]=z.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:r[n]=z.mz();break;case 6:case 11:r[n]=z.id}}return r}static ParseProperties(L,r,p,J){J||(J="");const i=(0,z.f)(r);for(const z in i){const G=i[z],t=L[G.sourceName||z],E=G.type;if(void 0!==t&&null!==t&&("uniqueId"!==z||C.AllowLoadingUniqueId)){const L=r;switch(E){case 0:L[z]=t;break;case 1:p&&(L[z]=C._TextureParser(t,p,J));break;case 2:L[z]=n.Wr.Br(t);break;case 3:L[z]=C._FresnelParametersParser(t);break;case 4:L[z]=j.Vector2.Br(t);break;case 5:L[z]=j.cr.Br(t);break;case 6:p&&(L[z]=p.getLastMeshById(t));break;case 7:L[z]=C._ColorCurvesParser(t);break;case 8:L[z]=n.Fz.Br(t);break;case 9:L[z]=C._ImageProcessingConfigurationParser(t);break;case 10:L[z]=j.Quaternion.Br(t);break;case 11:p&&(L[z]=p.getCameraById(t));break;case 12:L[z]=j.Matrix.Br(t)}}}}static Parse(L,r,p){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=L();return i.b&&i.b.AddTagsTo(n,r.tags),C.ParseProperties(r,n,p,J),n}static Clone(L,r){return G(L,r,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(L,r){return G(L,r,!0)}}C.AllowLoadingUniqueId=!1,C._ImageProcessingConfigurationParser=L=>{throw(0,J.d)("ImageProcessingConfiguration")},C._FresnelParametersParser=L=>{throw(0,J.d)("FresnelParameters")},C._ColorCurvesParser=L=>{throw(0,J.d)("ColorCurves")},C._TextureParser=(L,r,p)=>{throw(0,J.d)("Texture")}},12167:(L,r,p)=>{p.d(r,{b:()=>i});class J{static Eval(L,r){return"true"===(L=L.match(/\([^()]*\)/g)?L.replace(/\([^()]*\)/g,(L=>(L=L.slice(1,L.length-1),J._HandleParenthesisContent(L,r)))):J._HandleParenthesisContent(L,r))||"false"!==L&&J.Eval(L,r)}static _HandleParenthesisContent(L,r){let p;r=r||(L=>"true"===L);const i=L.split("||");for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){let L=J._SimplifyNegation(i[n].trim());const j=L.split("&&");if(j.length>1)for(let i=0;i<j.length;++i){const n=J._SimplifyNegation(j[i].trim());if(p="true"!==n&&"false"!==n?"!"===n[0]?!r(n.substring(1)):r(n):"true"===n,!p){L="false";break}}if(p||"true"===L){p=!0;break}p="true"!==L&&"false"!==L?"!"===L[0]?!r(L.substring(1)):r(L):"true"===L}return p?"true":"false"}static _SimplifyNegation(L){return"!true"===(L=(L=L.replace(/^[\s!]+/,(L=>(L=L.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?L="false":"!false"===L&&(L="true"),L}}class i{static EnableFor(L){L._tags=L._tags||{},L.hasTags=()=>i.HasTags(L),L.addTags=r=>i.AddTagsTo(L,r),L.removeTags=r=>i.RemoveTagsFrom(L,r),L.matchesTagsQuery=r=>i.MatchesQuery(L,r)}static DisableFor(L){delete L._tags,delete L.hasTags,delete L.addTags,delete L.removeTags,delete L.matchesTagsQuery}static HasTags(L){if(!L._tags)return!1;const r=L._tags;for(const p in r)if(Object.prototype.hasOwnProperty.call(r,p))return!0;return!1}static GetTags(L){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!L._tags)return null;if(r){const r=[];for(const p in L._tags)Object.prototype.hasOwnProperty.call(L._tags,p)&&!0===L._tags[p]&&r.push(p);return r.join(" ")}return L._tags}static AddTagsTo(L,r){if(!r)return;if("string"!==typeof r)return;const p=r.split(" ");for(const J of p)i._AddTagTo(L,J)}static _AddTagTo(L,r){""!==(r=r.trim())&&"true"!==r&&"false"!==r&&(r.match(/[\s]/)||r.match(/^([!]|([|]|[&]){2})/)||(i.EnableFor(L),L._tags[r]=!0))}static RemoveTagsFrom(L,r){if(!i.HasTags(L))return;const p=r.split(" ");for(const J in p)i._RemoveTagFrom(L,p[J])}static _RemoveTagFrom(L,r){delete L._tags[r]}static MatchesQuery(L,r){return void 0===r||(""===r?i.HasTags(L):J.Eval(r,(r=>i.HasTags(L)&&L._tags[r])))}}},12113:(L,r,p)=>{p.d(r,{e:()=>J});function J(L,r,p,J){var i,n=arguments.length,j=n<3?r:null===J?J=Object.getOwnPropertyDescriptor(r,p):J;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)j=Reflect.decorate(L,r,p,J);else for(var z=L.length-1;z>=0;z--)(i=L[z])&&(j=(n<3?i(j):n>3?i(r,p,j):i(r,p))||j);return n>3&&j&&Object.defineProperty(r,p,j),j}Object.create;Object.create}}]);