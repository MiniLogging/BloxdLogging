"use strict";(self.lfntwv94xlc=self.lfntwv94xlc||[]).push([[13],{11395:(m,S,h)=>{h.d(S,{d:()=>l});let l=!1},11368:(m,S,h)=>{h.d(S,{c:()=>Z});var l=h(11327),M=h(11336),O=h(11161),u=h(11347),b=h(11196),q=h(11302),Y=(h(11205),h(11371));class V{get wrapU(){return this._wrapU}set wrapU(m){this._wrapU=m}get wrapV(){return this._wrapV}set wrapV(m){this._wrapV=m}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(m){this._texture&&(this._texture.isCube=m)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(m){this._texture&&(this._texture.is3D=m)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(m){this._texture&&(this._texture.is2DArray=m)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(m){return void 0!==(null===m||void 0===m?void 0:m.shareDepth)}constructor(m){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=Y.d.Zero(),this._cachedBaseSize=Y.d.Zero(),this._initialSamplingMode=2,this._texture=V._IsRenderTargetWrapper(m)?m.texture:m,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(m){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(m,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var I=h(11377);class Z extends V{set Sb(m){this._hasAlpha!==m&&(this._hasAlpha=m,this._scene&&this._scene.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))))}get Sb(){return this._hasAlpha}set getAlphaFromRGB(m){this._getAlphaFromRGB!==m&&(this._getAlphaFromRGB=m,this._scene&&this._scene.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(m){this._coordinatesIndex!==m&&(this._coordinatesIndex=m,this._scene&&this._scene.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(m){this._coordinatesMode!==m&&(this._coordinatesMode=m,this._scene&&this._scene.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(m){this._wrapU=m}get wrapV(){return this._wrapV}set wrapV(m){this._wrapV=m}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(m){this._texture?this._texture.isCube=m:this._isCube=m}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(m){this._texture&&(this._texture.is3D=m)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(m){this._texture&&(this._texture.is2DArray=m)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(m){var S;if(this._texture){if(this._texture._gammaSpace===m)return;this._texture._gammaSpace=m}else{if(this._gammaSpace===m)return;this._gammaSpace=m}null===(S=this.sm())||void 0===S||S.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(m){var S;m!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=m),null===(S=this.sm())||void 0===S||S.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(m){this._texture&&(this._texture._lodGenerationOffset=m)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(m){this._texture&&(this._texture._lodGenerationScale=m)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(m){this._texture&&(this._texture._linearSpecularLOD=m)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(m){this._texture&&(this._texture._irradianceTexture=m)}get uid(){return this._uid||(this._uid=(0,q.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(m){this._onDisposeObserver&&this.Jh.remove(this._onDisposeObserver),this._onDisposeObserver=this.Jh.add(m)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Jh=new O.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,m?Z._IsScene(m)?this._scene=m:this._engine=m:this._scene=b.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=S,this._uid=null}sm(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return u.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return u.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(m){}get canRescale(){return!1}_getFromCache(m,S,h,l,M,O){const u=this._getEngine();if(!u)return null;const b=u._getUseSRGBBuffer(!!M,S),q=u.getLoadedTexturesCache();for(let Y=0;Y<q.length;Y++){const u=q[Y];if((void 0===M||b===u._useSRGBBuffer)&&(void 0===l||l===u.invertY)&&u.url===m&&u.generateMipMaps===!S&&(!h||h===u.samplingMode)&&(void 0===O||O===u.isCube))return u.incrementReferences(),u}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const m=this.sm();m&&m.markAllMaterialsAsDirty(1)}readPixels(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],M=arguments.length>4&&void 0!==arguments[4]&&arguments[4],O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const Y=this._getEngine();if(!Y)return null;const V=this.getSize();let I=V.width,Z=V.height;0!==S&&(I/=Math.pow(2,S),Z/=Math.pow(2,S),I=Math.round(I),Z=Math.round(Z)),b=Math.min(I,b),q=Math.min(Z,q);try{return this._texture.isCube?Y._readTexturePixels(this._texture,b,q,m,S,h,l,M,O,u):Y._readTexturePixels(this._texture,b,q,-1,S,h,l,M,O,u)}catch(C){return null}}_readPixelsSync(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],M=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const O=this.getSize();let u=O.width,b=O.height;const q=this._getEngine();if(!q)return null;0!=S&&(u/=Math.pow(2,S),b/=Math.pow(2,S),u=Math.round(u),b=Math.round(b));try{return this._texture.isCube?q._readTexturePixelsSync(this._texture,u,b,m,S,h,l,M):q._readTexturePixelsSync(this._texture,u,b,-1,S,h,l,M)}catch(Y){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const m=this._scene.textures.indexOf(this);if(m>=0&&this._scene.textures.splice(m,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const m=this._parentContainer.textures.indexOf(this);m>-1&&this._parentContainer.textures.splice(m,1),this._parentContainer=null}}this.Jh.notifyObservers(this),this.Jh.clear(),this.metadata=null,super.dispose()}serialize(){let m=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!m)return null;const S=I.e.Serialize(this);return I.e.AppendSerializedAnimations(this,S),S}static WhenAllReady(m,S){let h=m.length;if(0!==h)for(let l=0;l<m.length;l++){const M=m[l];if(M.isReady())0===--h&&S();else{const m=M.onLoadObservable;m?m.addOnce((()=>{0===--h&&S()})):0===--h&&S()}}else S()}static _IsScene(m){return"Scene"===m.getClassName()}}Z.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,l.d)([(0,M.F)()],Z.prototype,"uniqueId",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"name",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"displayName",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"metadata",void 0),(0,l.d)([(0,M.F)("Sb")],Z.prototype,"_hasAlpha",void 0),(0,l.d)([(0,M.F)("getAlphaFromRGB")],Z.prototype,"_getAlphaFromRGB",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"level",void 0),(0,l.d)([(0,M.F)("coordinatesIndex")],Z.prototype,"_coordinatesIndex",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"optimizeUVAllocation",void 0),(0,l.d)([(0,M.F)("coordinatesMode")],Z.prototype,"_coordinatesMode",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"wrapU",null),(0,l.d)([(0,M.F)()],Z.prototype,"wrapV",null),(0,l.d)([(0,M.F)()],Z.prototype,"wrapR",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"anisotropicFilteringLevel",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"isCube",null),(0,l.d)([(0,M.F)()],Z.prototype,"is3D",null),(0,l.d)([(0,M.F)()],Z.prototype,"is2DArray",null),(0,l.d)([(0,M.F)()],Z.prototype,"gammaSpace",null),(0,l.d)([(0,M.F)()],Z.prototype,"invertZ",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"lodLevelInAlpha",void 0),(0,l.d)([(0,M.F)()],Z.prototype,"lodGenerationOffset",null),(0,l.d)([(0,M.F)()],Z.prototype,"lodGenerationScale",null),(0,l.d)([(0,M.F)()],Z.prototype,"linearSpecularLOD",null),(0,l.d)([(0,M.w)()],Z.prototype,"irradianceTexture",null),(0,l.d)([(0,M.F)()],Z.prototype,"isRenderTarget",void 0)},11321:(m,S,h)=>{h.d(S,{e:()=>U});var l=h(11327),M=h(11336),O=h(11161),u=h(11347),b=h(11368),q=h(11293),Y=h(11189),V=h(11226),I=h(11285),Z=h(11392),C=h(11216);function B(m,S){let h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=S.width,M=S.height;if(m instanceof Float32Array){let S=m.byteLength/m.BYTES_PER_ELEMENT;const h=new Uint8Array(S);for(;--S>=0;){let l=m[S];l<0?l=0:l>1&&(l=1),h[S]=255*l}m=h}const O=document.createElement("canvas");O.width=l,O.height=M;const u=O.getContext("2d");if(!u)return null;const b=u.createImageData(l,M);if(b.data.set(m),u.putImageData(b,0,0),h){const m=document.createElement("canvas");m.width=l,m.height=M;const S=m.getContext("2d");return S?(S.translate(0,M),S.scale(1,-1),S.drawImage(O,0,0),m.toDataURL("image/png")):null}return O.toDataURL("image/png")}function D(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const l=m.getInternalTexture();if(!l)return null;const M=m._readPixelsSync(S,h);return M?B(M,m.getSize(),l.invertY):null}async function E(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const l=m.getInternalTexture();if(!l)return null;const M=await m.readPixels(S,h);return M?B(M,m.getSize(),l.invertY):null}var n=h(11395),L=h(11377);class U extends b.c{static _CreateVideoTexture(m,S,h){arguments.length>5&&void 0!==arguments[5]||U.TRILINEAR_SAMPLINGMODE;throw(0,Y.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(m){this._isBlocking=m}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(m,S,h,l){let M,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U.TRILINEAR_SAMPLINGMODE,b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,Y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I=arguments.length>8&&void 0!==arguments[8]&&arguments[8],Z=arguments.length>9?arguments[9]:void 0,C=arguments.length>10?arguments[10]:void 0,B=arguments.length>11?arguments[11]:void 0,D=arguments.length>12?arguments[12]:void 0,E=arguments.length>13?arguments[13]:void 0;super(S),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new O.e,this._isBlocking=!0,this.name=m||"",this.url=m;let L=!1,H=null,R=!0;"object"===typeof h&&null!==h?(M=h.noMipmap??!1,l=h.invertY??!n.d,u=h.samplingMode??U.TRILINEAR_SAMPLINGMODE,b=h.t??null,q=h.onError??null,Y=h.buffer??null,I=h.deleteBuffer??!1,Z=h.format,C=h.mimeType,B=h.loaderOptions,D=h.creationFlags,L=h.useSRGBBuffer??!1,H=h.internalTexture??null,R=h.gammaSpace??R,E=h.forcedExtension??E):M=!!h,this._gammaSpace=R,this._noMipmap=M,this._invertY=void 0===l?!n.d:l,this._initialSamplingMode=u,this._buffer=Y,this._deleteBuffer=I,this._mimeType=C,this._loaderOptions=B,this._creationFlags=D,this._useSRGBBuffer=L,this._forcedExtension=E,void 0!==Z&&(this._format=Z);const y=this.sm(),o=this._getEngine();if(!o)return;o.onBeforeTextureInitObservable.notifyObservers(this);const s=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),b&&b(),!this.isBlocking&&y&&y.resetCachedMaterial()},v=(m,S)=>{this._loadingError=!0,this._errorObject={message:m,exception:S},q&&q(m,S),U.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!H)return this._delayedOnLoad=s,void(this._delayedOnError=v);if(this._texture=H??this._getFromCache(this.url,M,u,this._invertY,L,this.isCube),this._texture)if(this._texture.isReady)V.c.SetImmediate((()=>s()));else{const m=this._texture.onLoadedObservable.add(s);this._texture.onErrorObservable.add((S=>{var h;v(S.message,S.exception),null===(h=this._texture)||void 0===h||h.onLoadedObservable.remove(m)}))}else if(y&&y.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=s,this._delayedOnError=v;else{try{this._texture=o.createTexture(this.url,M,this._invertY,y,u,s,v,this._buffer,void 0,this._format,this._forcedExtension,C,B,D,L)}catch(T){throw v("error loading",T),T}I&&(this._buffer=null)}}updateURL(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.sm().markAllMaterialsAsDirty(1,(m=>m.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=m),this.url=m,this._buffer=S,this._forcedExtension=l,this.delayLoadState=4,h&&(this._delayedOnLoad=h),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const m=this.sm();m&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?V.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=m.getEngine().createTexture(this.url,this._noMipmap,this._invertY,m,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(m,S,h,l){m*=this._cachedUScale,S*=this._cachedVScale,m-=this.uRotationCenter*this._cachedUScale,S-=this.vRotationCenter*this._cachedVScale,h-=this.wRotationCenter,u.nS.TransformCoordinatesFromFloatsToRef(m,S,h,this._rowGenerationMatrix,l),l.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,l.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,l.z+=this.wRotationCenter}getTextureMatrix(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*m===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*m,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=u.Matrix.Zero(),this._rowGenerationMatrix=new u.Matrix,this._t0=u.nS.Zero(),this._t1=u.nS.Zero(),this._t2=u.nS.Zero()),u.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(u.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,u.TmpVectors.Matrix[0]),u.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,u.TmpVectors.Matrix[1]),u.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,u.TmpVectors.Matrix[2]),u.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,u.TmpVectors.Matrix[3]),u.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(u.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.yI(this._t0),this._t2.yI(this._t0),u.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const S=this.sm();if(!S)return this._cachedTextureMatrix;const h=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&h!==this._cachedIdentity3x2&&S.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const m=this.sm();if(!m)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==U.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===m.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=u.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=u.Matrix.Zero());const S=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case U.PLANAR_MODE:u.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case U.PROJECTION_MODE:{u.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const S=m.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=S.updateFlag,S.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:u.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return S&&m.markAllMaterialsAsDirty(1,(m=>m.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const m={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,t:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return L.e.Clone((()=>new U(this._texture?this._texture.url:null,this.sm(),m)),this)}serialize(){var m;const S=this.name;U.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const h=super.serialize(U._SerializeInternalTextureUniqueId);if(!h)return null;if(U.SerializeBuffers||U.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))h.base64String=this._buffer,h.name=h.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const m=this.mimeType||"image/png";h.base64String=`data:${m};base64,${(0,C.g)(this._buffer)}`}else(U.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(h.base64String=!this._engine||this._engine._features.supportSyncTextureRead?D(this):E(this));var l;(h.invertY=this._invertY,h.samplingMode=this.samplingMode,h._creationFlags=this._creationFlags,h._useSRGBBuffer=this._useSRGBBuffer,U._SerializeInternalTextureUniqueId)&&(h.internalTextureUniqueId=null===(l=this._texture)||void 0===l?void 0:l.uniqueId);return h.internalTextureLabel=null===(m=this._texture)||void 0===m?void 0:m.label,h.noMipmap=this._noMipmap,this.name=S,h}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(m,S,h){if(m.customType){const l=I.e.Instantiate(m.customType).Parse(m,S,h);return m.samplingMode&&l.updateSamplingMode&&l._samplingMode&&l._samplingMode!==m.samplingMode&&l.updateSamplingMode(m.samplingMode),l}if(m.isCube&&!m.isRenderTarget)return U._CubeTextureParser(m,S,h);const l=void 0!==m.internalTextureUniqueId;if(!m.name&&!m.isRenderTarget&&!l)return null;let M;if(l){const h=S.getEngine().getLoadedTexturesCache();for(const S of h)if(S.uniqueId===m.internalTextureUniqueId){M=S;break}}const O=S=>{if(S&&S._texture&&(S._texture._cachedWrapU=null,S._texture._cachedWrapV=null,S._texture._cachedWrapR=null),m.samplingMode){const h=m.samplingMode;S&&S.samplingMode!==h&&S.updateSamplingMode(h)}if(S&&m.animations)for(let h=0;h<m.animations.length;h++){const l=m.animations[h],M=(0,q.d)("BABYLON.Animation");M&&S.animations.push(M.Parse(l))}S&&S._texture&&(l&&!M&&S._texture._setUniqueId(m.internalTextureUniqueId),S._texture.label=m.internalTextureLabel)};return L.e.Parse((()=>{let l=!0;if(m.noMipmap&&(l=!1),m.mirrorPlane){const h=U._CreateMirror(m.name,m.renderTargetSize,S,l);return h._waitingRenderList=m.renderList,h.mirrorPlane=Z.e.yS(m.mirrorPlane),O(h),h}if(m.isRenderTarget){let h=null;if(m.isCube){if(S.reflectionProbes)for(let l=0;l<S.reflectionProbes.length;l++){const h=S.reflectionProbes[l];if(h.name===m.name)return h.cubeTexture}}else h=U._CreateRenderTargetTexture(m.name,m.renderTargetSize,S,l,m._creationFlags??0),h._waitingRenderList=m.renderList;return O(h),h}if(m.isVideo){const M=U._CreateVideoTexture(h+(m.url||m.name),h+(m.src||m.url),S,l,m.invertY,m.samplingMode,m.settings||{});return O(M),M}{let u;if(m.base64String&&!M)u=U.CreateFromBase64String(m.base64String,m.base64String,S,!l,m.invertY,m.samplingMode,(()=>{O(u)}),m._creationFlags??0,m._useSRGBBuffer??!1),u.name=m.name;else{let b;b=m.name&&(m.name.indexOf("://")>0||m.name.startsWith("data:"))?m.name:h+m.name,m.url&&(m.url.startsWith("data:")||U.UseSerializedUrlIfAny)&&(b=m.url);const q={noMipmap:!l,invertY:m.invertY,samplingMode:m.samplingMode,t:()=>{O(u)},internalTexture:M};u=new U(b,S,q)}return u}}),m,S)}static CreateFromBase64String(m,S,h,l,M){let O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:U.TRILINEAR_SAMPLINGMODE;return new U("data:"+S,h,l,M,O,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,m,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(m,S,h){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],M=arguments.length>4?arguments[4]:void 0,O=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:U.TRILINEAR_SAMPLINGMODE,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,Y=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,V=arguments.length>10?arguments[10]:void 0,I=arguments.length>11?arguments[11]:void 0;return"data:"!==m.substring(0,5)&&(m="data:"+m),new U(m,h,M,O,u,b,q,S,l,Y,void 0,void 0,V,I)}}U.SerializeBuffers=!0,U.ForceSerializeBuffers=!1,U.OnTextureLoadErrorObservable=new O.e,U._SerializeInternalTextureUniqueId=!1,U._CubeTextureParser=(m,S,h)=>{throw(0,Y.c)("CubeTexture")},U._CreateMirror=(m,S,h,l)=>{throw(0,Y.c)("MirrorTexture")},U._CreateRenderTargetTexture=(m,S,h,l,M)=>{throw(0,Y.c)("RenderTargetTexture")},U.NEAREST_SAMPLINGMODE=1,U.NEAREST_NEAREST_MIPLINEAR=8,U.BILINEAR_SAMPLINGMODE=2,U.LINEAR_LINEAR_MIPNEAREST=11,U.TRILINEAR_SAMPLINGMODE=3,U.LINEAR_LINEAR_MIPLINEAR=3,U.NEAREST_NEAREST_MIPNEAREST=4,U.NEAREST_LINEAR_MIPNEAREST=5,U.NEAREST_LINEAR_MIPLINEAR=6,U.NEAREST_LINEAR=7,U.NEAREST_NEAREST=1,U.LINEAR_NEAREST_MIPNEAREST=9,U.LINEAR_NEAREST_MIPLINEAR=10,U.LINEAR_LINEAR=2,U.LINEAR_NEAREST=12,U.EXPLICIT_MODE=0,U.SPHERICAL_MODE=1,U.PLANAR_MODE=2,U.CUBIC_MODE=3,U.PROJECTION_MODE=4,U.SKYBOX_MODE=5,U.INVCUBIC_MODE=6,U.EQUIRECTANGULAR_MODE=7,U.FIXED_EQUIRECTANGULAR_MODE=8,U.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,U.CLAMP_ADDRESSMODE=0,U.WRAP_ADDRESSMODE=1,U.MIRROR_ADDRESSMODE=2,U.UseSerializedUrlIfAny=!1,(0,l.d)([(0,M.F)()],U.prototype,"url",void 0),(0,l.d)([(0,M.F)()],U.prototype,"uOffset",void 0),(0,l.d)([(0,M.F)()],U.prototype,"vOffset",void 0),(0,l.d)([(0,M.F)()],U.prototype,"uScale",void 0),(0,l.d)([(0,M.F)()],U.prototype,"vScale",void 0),(0,l.d)([(0,M.F)()],U.prototype,"uAng",void 0),(0,l.d)([(0,M.F)()],U.prototype,"vAng",void 0),(0,l.d)([(0,M.F)()],U.prototype,"wAng",void 0),(0,l.d)([(0,M.F)()],U.prototype,"uRotationCenter",void 0),(0,l.d)([(0,M.F)()],U.prototype,"vRotationCenter",void 0),(0,l.d)([(0,M.F)()],U.prototype,"wRotationCenter",void 0),(0,l.d)([(0,M.F)()],U.prototype,"homogeneousRotationInUVTransform",void 0),(0,l.d)([(0,M.F)()],U.prototype,"isBlocking",null),(0,q.e)("BABYLON.Texture",U),L.e._TextureParser=U.Parse},11392:(m,S,h)=>{h.d(S,{e:()=>M});var l=h(11347);class M{constructor(m,S,h,M){this.normal=new l.nS(m,S,h),this.d=M}DM(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new M(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let m=this.normal.getHashCode();return m=397*m^this.d,m}normalize(){const m=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let S=0;return 0!==m&&(S=1/m),this.normal.x*=S,this.normal.y*=S,this.normal.z*=S,this.d*=S,this}transform(m){const S=M._TmpMatrix;m.invertToRef(S);const h=S.m,l=this.normal.x,O=this.normal.y,u=this.normal.z,b=this.d,q=l*h[0]+O*h[1]+u*h[2]+b*h[3],Y=l*h[4]+O*h[5]+u*h[6]+b*h[7],V=l*h[8]+O*h[9]+u*h[10]+b*h[11],I=l*h[12]+O*h[13]+u*h[14]+b*h[15];return new M(q,Y,V,I)}dotCoordinate(m){return this.normal.x*m.x+this.normal.y*m.y+this.normal.z*m.z+this.d}copyFromPoints(m,S,h){const l=S.x-m.x,M=S.y-m.y,O=S.z-m.z,u=h.x-m.x,b=h.y-m.y,q=h.z-m.z,Y=M*q-O*b,V=O*u-l*q,I=l*b-M*u,Z=Math.sqrt(Y*Y+V*V+I*I);let C;return C=0!==Z?1/Z:0,this.normal.x=Y*C,this.normal.y=V*C,this.normal.z=I*C,this.d=-(this.normal.x*m.x+this.normal.y*m.y+this.normal.z*m.z),this}isFrontFacingTo(m,S){return l.nS.Dot(this.normal,m)<=S}signedDistanceTo(m){return l.nS.Dot(m,this.normal)+this.d}static yS(m){return new M(m[0],m[1],m[2],m[3])}static FromPoints(m,S,h){const l=new M(0,0,0,0);return l.copyFromPoints(m,S,h),l}static FromPositionAndNormal(m,S){const h=new M(0,0,0,0);return this.FromPositionAndNormalToRef(m,S,h)}static FromPositionAndNormalToRef(m,S,h){return h.normal.l(S),h.normal.normalize(),h.d=-m.dot(h.normal),h}static SignedDistanceToPlaneFromPositionAndNormal(m,S,h){const M=-(S.x*m.x+S.y*m.y+S.z*m.z);return l.nS.Dot(h,S)+M}}M._TmpMatrix=l.Matrix.Identity()},11371:(m,S,h)=>{h.d(S,{d:()=>l});class l{constructor(m,S){this.width=m,this.height=S}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let m=0|this.width;return m=397*m^this.height,m}l(m){this.width=m.width,this.height=m.height}Yb(m,S){return this.width=m,this.height=S,this}set(m,S){return this.Yb(m,S)}multiplyByFloats(m,S){return new l(this.width*m,this.height*S)}clone(){return new l(this.width,this.height)}equals(m){return!!m&&(this.width===m.width&&this.height===m.height)}get surface(){return this.width*this.height}static Zero(){return new l(0,0)}add(m){return new l(this.width+m.width,this.height+m.height)}LS(m){return new l(this.width-m.width,this.height-m.height)}scale(m){return new l(this.width*m,this.height*m)}static Lerp(m,S,h){const M=m.width+(S.width-m.width)*h,O=m.height+(S.height-m.height)*h;return new l(M,O)}}},11338:(m,S,h)=>{h.d(S,{e:()=>O,f:()=>u});const l={},M={};function O(m){const S=m.getClassName();return M[S]||(M[S]={}),M[S]}function u(m){const S=m.getClassName();if(l[S])return l[S];l[S]={};const h=l[S];let O=m,u=S;for(;u;){const m=M[u];for(const M in m)h[M]=m[M];let S,l=!1;do{if(S=Object.getPrototypeOf(O),!S.getClassName){l=!0;break}if(S.getClassName()!==u)break;O=S}while(S);if(l)break;u=S.getClassName(),O=S}return h}},11336:(m,S,h)=>{h.d(S,{B:()=>I,F:()=>u,c:()=>O,f:()=>L,j:()=>C,k:()=>q,m:()=>B,n:()=>Y,o:()=>D,p:()=>n,r:()=>Z,t:()=>E,w:()=>b,y:()=>V});var l=h(11338);function M(m,S){return(h,M)=>{const O=(0,l.e)(h);O[M]||(O[M]={type:m,sourceName:S})}}function O(m){return function(m){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(h,l)=>{const M=S||"_"+l;Object.defineProperty(h,l,{get:function(){return this[M]},set:function(S){var l;"function"===typeof(null===(l=this[M])||void 0===l?void 0:l.equals)&&this[M].equals(S)||this[M]!==S&&(this[M]=S,h[m].apply(this))},enumerable:!0,configurable:!0})}}(m,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function u(m){return M(0,m)}function b(m){return M(1,m)}function q(m){return M(2,m)}function Y(m){return M(3,m)}function V(m){return M(4,m)}function I(m){return M(5,m)}function Z(m){return M(6,m)}function C(m){return M(7,m)}function B(m){return M(8,m)}function D(m){return M(9,m)}function E(m){return M(10,m)}function n(m){return M(12,m)}function L(m,S,h,l){const M=h.value;h.value=function(){let h=M;if("undefined"!==typeof _native&&_native[S]){const m=_native[S];h=l?function(){return l(...arguments)?m(...arguments):M(...arguments)}:m}return m[S]=h,h(...arguments)}}L.filter=function(m){return(S,h,l)=>L(S,h,l,m)}},11377:(m,S,h)=>{h.d(S,{e:()=>Y});var l=h(11189),M=h(11381),O=h(11387),u=h(11347),b=h(11338);const q=function(m,S,h){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const O=m();M.b&&M.b.HasTags(S)&&M.b.AddTagsTo(O,M.b.GetTags(S,!0));const u=(0,b.f)(O),q={};for(const M in u){const m=u[M],b=S[M],V=m.type;if(void 0!==b&&null!==b&&("uniqueId"!==M||Y.AllowLoadingUniqueId))switch(V){case 0:case 6:case 9:case 11:O[M]=b;break;case 1:l.cloneTexturesOnlyOnce&&q[b.uniqueId]?O[M]=q[b.uniqueId]:(O[M]=h||b.isRenderTarget?b:b.clone(),q[b.uniqueId]=O[M]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:O[M]=h?b:b.clone()}}return O};class Y{static AppendSerializedAnimations(m,S){if(m.animations){S.animations=[];for(let h=0;h<m.animations.length;h++){const l=m.animations[h];S.animations.push(l.serialize())}}}static Serialize(m,S){S||(S={}),M.b&&(S.tags=M.b.GetTags(m));const h=(0,b.f)(m);for(const l in h){const M=h[l],O=M.sourceName||l,u=M.type,b=m[l];if(void 0!==b&&null!==b&&("uniqueId"!==l||Y.AllowLoadingUniqueId))switch(u){case 0:S[O]=b;break;case 1:case 3:case 7:case 9:S[O]=b.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:S[O]=b.DM();break;case 6:case 11:S[O]=b.id}}return S}static ParseProperties(m,S,h,l){l||(l="");const M=(0,b.f)(S);for(const b in M){const q=M[b],V=m[q.sourceName||b],I=q.type;if(void 0!==V&&null!==V&&("uniqueId"!==b||Y.AllowLoadingUniqueId)){const m=S;switch(I){case 0:m[b]=V;break;case 1:h&&(m[b]=Y._TextureParser(V,h,l));break;case 2:m[b]=O.RS.yS(V);break;case 3:m[b]=Y._FresnelParametersParser(V);break;case 4:m[b]=u.Vector2.yS(V);break;case 5:m[b]=u.nS.yS(V);break;case 6:h&&(m[b]=h.getLastMeshById(V));break;case 7:m[b]=Y._ColorCurvesParser(V);break;case 8:m[b]=O.Bb.yS(V);break;case 9:m[b]=Y._ImageProcessingConfigurationParser(V);break;case 10:m[b]=u.Quaternion.yS(V);break;case 11:h&&(m[b]=h.getCameraById(V));break;case 12:m[b]=u.Matrix.yS(V)}}}}static Parse(m,S,h){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const O=m();return M.b&&M.b.AddTagsTo(O,S.tags),Y.ParseProperties(S,O,h,l),O}static Clone(m,S){return q(m,S,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(m,S){return q(m,S,!0)}}Y.AllowLoadingUniqueId=!1,Y._ImageProcessingConfigurationParser=m=>{throw(0,l.c)("ImageProcessingConfiguration")},Y._FresnelParametersParser=m=>{throw(0,l.c)("FresnelParameters")},Y._ColorCurvesParser=m=>{throw(0,l.c)("ColorCurves")},Y._TextureParser=(m,S,h)=>{throw(0,l.c)("Texture")}},11381:(m,S,h)=>{h.d(S,{b:()=>M});class l{static Eval(m,S){return"true"===(m=m.match(/\([^()]*\)/g)?m.replace(/\([^()]*\)/g,(m=>(m=m.slice(1,m.length-1),l._HandleParenthesisContent(m,S)))):l._HandleParenthesisContent(m,S))||"false"!==m&&l.Eval(m,S)}static _HandleParenthesisContent(m,S){let h;S=S||(m=>"true"===m);const M=m.split("||");for(const O in M)if(Object.prototype.hasOwnProperty.call(M,O)){let m=l._SimplifyNegation(M[O].trim());const u=m.split("&&");if(u.length>1)for(let M=0;M<u.length;++M){const O=l._SimplifyNegation(u[M].trim());if(h="true"!==O&&"false"!==O?"!"===O[0]?!S(O.substring(1)):S(O):"true"===O,!h){m="false";break}}if(h||"true"===m){h=!0;break}h="true"!==m&&"false"!==m?"!"===m[0]?!S(m.substring(1)):S(m):"true"===m}return h?"true":"false"}static _SimplifyNegation(m){return"!true"===(m=(m=m.replace(/^[\s!]+/,(m=>(m=m.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?m="false":"!false"===m&&(m="true"),m}}class M{static EnableFor(m){m._tags=m._tags||{},m.hasTags=()=>M.HasTags(m),m.addTags=S=>M.AddTagsTo(m,S),m.removeTags=S=>M.RemoveTagsFrom(m,S),m.matchesTagsQuery=S=>M.MatchesQuery(m,S)}static DisableFor(m){delete m._tags,delete m.hasTags,delete m.addTags,delete m.removeTags,delete m.matchesTagsQuery}static HasTags(m){if(!m._tags)return!1;const S=m._tags;for(const h in S)if(Object.prototype.hasOwnProperty.call(S,h))return!0;return!1}static GetTags(m){let S=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!m._tags)return null;if(S){const S=[];for(const h in m._tags)Object.prototype.hasOwnProperty.call(m._tags,h)&&!0===m._tags[h]&&S.push(h);return S.join(" ")}return m._tags}static AddTagsTo(m,S){if(!S)return;if("string"!==typeof S)return;const h=S.split(" ");for(const l of h)M._AddTagTo(m,l)}static _AddTagTo(m,S){""!==(S=S.trim())&&"true"!==S&&"false"!==S&&(S.match(/[\s]/)||S.match(/^([!]|([|]|[&]){2})/)||(M.EnableFor(m),m._tags[S]=!0))}static RemoveTagsFrom(m,S){if(!M.HasTags(m))return;const h=S.split(" ");for(const l in h)M._RemoveTagFrom(m,h[l])}static _RemoveTagFrom(m,S){delete m._tags[S]}static MatchesQuery(m,S){return void 0===S||(""===S?M.HasTags(m):l.Eval(S,(S=>M.HasTags(m)&&m._tags[S])))}}},11327:(m,S,h)=>{h.d(S,{d:()=>l});function l(m,S,h,l){var M,O=arguments.length,u=O<3?S:null===l?l=Object.getOwnPropertyDescriptor(S,h):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(m,S,h,l);else for(var b=m.length-1;b>=0;b--)(M=m[b])&&(u=(O<3?M(u):O>3?M(S,h,u):M(S,h))||u);return O>3&&u&&Object.defineProperty(S,h,u),u}Object.create;Object.create}}]);