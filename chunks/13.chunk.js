"use strict";(self.v2pspxy442l=self.v2pspxy442l||[]).push([[13],{12491:(l,a,N)=>{N.d(a,{b:()=>U});let U=!1},12467:(l,a,N)=>{N.d(a,{b:()=>y});var U=N(12429),c=N(12432),K=N(12260),Z=N(12447),w=N(12296),S=N(12403),T=(N(12298),N(12469));class J{get wrapU(){return this._wrapU}set wrapU(l){this._wrapU=l}get wrapV(){return this._wrapV}set wrapV(l){this._wrapV=l}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(l){this._texture&&(this._texture.isCube=l)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(l){this._texture&&(this._texture.is3D=l)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(l){this._texture&&(this._texture.is2DArray=l)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(l){return void 0!==(null===l||void 0===l?void 0:l.shareDepth)}constructor(l){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=T.b.Zero(),this._cachedBaseSize=T.b.Zero(),this._initialSamplingMode=2,this._texture=J._IsRenderTargetWrapper(l)?l.texture:l,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(l){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(l,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var n=N(12471);class y extends J{set Mc(l){this._hasAlpha!==l&&(this._hasAlpha=l,this._scene&&this._scene.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))))}get Mc(){return this._hasAlpha}set getAlphaFromRGB(l){this._getAlphaFromRGB!==l&&(this._getAlphaFromRGB=l,this._scene&&this._scene.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(l){this._coordinatesIndex!==l&&(this._coordinatesIndex=l,this._scene&&this._scene.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(l){this._coordinatesMode!==l&&(this._coordinatesMode=l,this._scene&&this._scene.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(l){this._wrapU=l}get wrapV(){return this._wrapV}set wrapV(l){this._wrapV=l}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(l){this._texture?this._texture.isCube=l:this._isCube=l}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(l){this._texture&&(this._texture.is3D=l)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(l){this._texture&&(this._texture.is2DArray=l)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(l){var a;if(this._texture){if(this._texture._gammaSpace===l)return;this._texture._gammaSpace=l}else{if(this._gammaSpace===l)return;this._gammaSpace=l}null===(a=this.bl())||void 0===a||a.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(l){var a;l!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=l),null===(a=this.bl())||void 0===a||a.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(l){this._texture&&(this._texture._lodGenerationOffset=l)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(l){this._texture&&(this._texture._lodGenerationScale=l)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(l){this._texture&&(this._texture._linearSpecularLOD=l)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(l){this._texture&&(this._texture._irradianceTexture=l)}get uid(){return this._uid||(this._uid=(0,S.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(l){this._onDisposeObserver&&this.Tc.remove(this._onDisposeObserver),this._onDisposeObserver=this.Tc.add(l)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=y.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Tc=new K.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,l?y._IsScene(l)?this._scene=l:this._engine=l:this._scene=w.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=a,this._uid=null}bl(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Z.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Z.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(l){}get canRescale(){return!1}_getFromCache(l,a,N,U,c,K){const Z=this._getEngine();if(!Z)return null;const w=Z._getUseSRGBBuffer(!!c,a),S=Z.getLoadedTexturesCache();for(let T=0;T<S.length;T++){const Z=S[T];if((void 0===c||w===Z._useSRGBBuffer)&&(void 0===U||U===Z.invertY)&&Z.url===l&&Z.generateMipMaps===!a&&(!N||N===Z.samplingMode)&&(void 0===K||K===Z.isCube))return Z.incrementReferences(),Z}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const l=this.bl();l&&l.markAllMaterialsAsDirty(1)}readPixels(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,U=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,S=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const T=this._getEngine();if(!T)return null;const J=this.getSize();let n=J.width,y=J.height;0!==a&&(n/=Math.pow(2,a),y/=Math.pow(2,a),n=Math.round(n),y=Math.round(y)),w=Math.min(n,w),S=Math.min(y,S);try{return this._texture.isCube?T._readTexturePixels(this._texture,w,S,l,a,N,U,c,K,Z):T._readTexturePixels(this._texture,w,S,-1,a,N,U,c,K,Z)}catch(H){return null}}_readPixelsSync(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,U=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const K=this.getSize();let Z=K.width,w=K.height;const S=this._getEngine();if(!S)return null;0!=a&&(Z/=Math.pow(2,a),w/=Math.pow(2,a),Z=Math.round(Z),w=Math.round(w));try{return this._texture.isCube?S._readTexturePixelsSync(this._texture,Z,w,l,a,N,U,c):S._readTexturePixelsSync(this._texture,Z,w,-1,a,N,U,c)}catch(T){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const l=this._scene.textures.indexOf(this);if(l>=0&&this._scene.textures.splice(l,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const l=this._parentContainer.textures.indexOf(this);l>-1&&this._parentContainer.textures.splice(l,1),this._parentContainer=null}}this.Tc.notifyObservers(this),this.Tc.clear(),this.metadata=null,super.dispose()}serialize(){let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!l)return null;const a=n.c.Serialize(this);return n.c.AppendSerializedAnimations(this,a),a}static WhenAllReady(l,a){let N=l.length;if(0!==N)for(let U=0;U<l.length;U++){const c=l[U];if(c.isReady())0===--N&&a();else{const l=c.onLoadObservable;l?l.addOnce((()=>{0===--N&&a()})):0===--N&&a()}}else a()}static _IsScene(l){return"Scene"===l.getClassName()}}y.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,U.d)([(0,c.K)()],y.prototype,"uniqueId",void 0),(0,U.d)([(0,c.K)()],y.prototype,"name",void 0),(0,U.d)([(0,c.K)()],y.prototype,"displayName",void 0),(0,U.d)([(0,c.K)()],y.prototype,"metadata",void 0),(0,U.d)([(0,c.K)("Mc")],y.prototype,"_hasAlpha",void 0),(0,U.d)([(0,c.K)("getAlphaFromRGB")],y.prototype,"_getAlphaFromRGB",void 0),(0,U.d)([(0,c.K)()],y.prototype,"level",void 0),(0,U.d)([(0,c.K)("coordinatesIndex")],y.prototype,"_coordinatesIndex",void 0),(0,U.d)([(0,c.K)()],y.prototype,"optimizeUVAllocation",void 0),(0,U.d)([(0,c.K)("coordinatesMode")],y.prototype,"_coordinatesMode",void 0),(0,U.d)([(0,c.K)()],y.prototype,"wrapU",null),(0,U.d)([(0,c.K)()],y.prototype,"wrapV",null),(0,U.d)([(0,c.K)()],y.prototype,"wrapR",void 0),(0,U.d)([(0,c.K)()],y.prototype,"anisotropicFilteringLevel",void 0),(0,U.d)([(0,c.K)()],y.prototype,"isCube",null),(0,U.d)([(0,c.K)()],y.prototype,"is3D",null),(0,U.d)([(0,c.K)()],y.prototype,"is2DArray",null),(0,U.d)([(0,c.K)()],y.prototype,"gammaSpace",null),(0,U.d)([(0,c.K)()],y.prototype,"invertZ",void 0),(0,U.d)([(0,c.K)()],y.prototype,"lodLevelInAlpha",void 0),(0,U.d)([(0,c.K)()],y.prototype,"lodGenerationOffset",null),(0,U.d)([(0,c.K)()],y.prototype,"lodGenerationScale",null),(0,U.d)([(0,c.K)()],y.prototype,"linearSpecularLOD",null),(0,U.d)([(0,c.C)()],y.prototype,"irradianceTexture",null),(0,U.d)([(0,c.K)()],y.prototype,"isRenderTarget",void 0)},12422:(l,a,N)=>{N.d(a,{e:()=>M});var U=N(12429),c=N(12432),K=N(12260),Z=N(12447),w=N(12467),S=N(12394),T=N(12288),J=N(12328),n=N(12392),y=N(12483),H=N(12305);function u(l,a){let N=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const U=a.width,c=a.height;if(l instanceof Float32Array){let a=l.byteLength/l.BYTES_PER_ELEMENT;const N=new Uint8Array(a);for(;--a>=0;){let U=l[a];U<0?U=0:U>1&&(U=1),N[a]=255*U}l=N}const K=document.createElement("canvas");K.width=U,K.height=c;const Z=K.getContext("2d");if(!Z)return null;const w=Z.createImageData(U,c);if(w.data.set(l),Z.putImageData(w,0,0),N){const l=document.createElement("canvas");l.width=U,l.height=c;const a=l.getContext("2d");return a?(a.translate(0,c),a.scale(1,-1),a.drawImage(K,0,0),l.toDataURL("image/png")):null}return K.toDataURL("image/png")}function W(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const U=l.getInternalTexture();if(!U)return null;const c=l._readPixelsSync(a,N);return c?u(c,l.getSize(),U.invertY):null}async function B(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const U=l.getInternalTexture();if(!U)return null;const c=await l.readPixels(a,N);return c?u(c,l.getSize(),U.invertY):null}var Y=N(12491),C=N(12471);class M extends w.b{static _CreateVideoTexture(l,a,N){arguments.length>5&&void 0!==arguments[5]||M.TRILINEAR_SAMPLINGMODE;throw(0,T.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(l){this._isBlocking=l}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(l,a,N,U){let c,Z=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M.TRILINEAR_SAMPLINGMODE,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,S=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,T=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,n=arguments.length>8&&void 0!==arguments[8]&&arguments[8],y=arguments.length>9?arguments[9]:void 0,H=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0,W=arguments.length>12?arguments[12]:void 0,B=arguments.length>13?arguments[13]:void 0;super(a),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new K.e,this._isBlocking=!0,this.name=l||"",this.url=l;let C=!1,A=null,E=!0;"object"===typeof N&&null!==N?(c=N.noMipmap??!1,U=N.invertY??!Y.b,Z=N.samplingMode??M.TRILINEAR_SAMPLINGMODE,w=N.V??null,S=N.onError??null,T=N.buffer??null,n=N.deleteBuffer??!1,y=N.format,H=N.mimeType,u=N.loaderOptions,W=N.creationFlags,C=N.useSRGBBuffer??!1,A=N.internalTexture??null,E=N.gammaSpace??E,B=N.forcedExtension??B):c=!!N,this._gammaSpace=E,this._noMipmap=c,this._invertY=void 0===U?!Y.b:U,this._initialSamplingMode=Z,this._buffer=T,this._deleteBuffer=n,this._mimeType=H,this._loaderOptions=u,this._creationFlags=W,this._useSRGBBuffer=C,this._forcedExtension=B,void 0!==y&&(this._format=y);const q=this.bl(),b=this._getEngine();if(!b)return;b.onBeforeTextureInitObservable.notifyObservers(this);const z=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),w&&w(),!this.isBlocking&&q&&q.resetCachedMaterial()},I=(l,a)=>{this._loadingError=!0,this._errorObject={message:l,exception:a},S&&S(l,a),M.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!A)return this._delayedOnLoad=z,void(this._delayedOnError=I);if(this._texture=A??this._getFromCache(this.url,c,Z,this._invertY,C,this.isCube),this._texture)if(this._texture.isReady)J.b.SetImmediate((()=>z()));else{const l=this._texture.onLoadedObservable.add(z);this._texture.onErrorObservable.add((a=>{var N;I(a.message,a.exception),null===(N=this._texture)||void 0===N||N.onLoadedObservable.remove(l)}))}else if(q&&q.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=z,this._delayedOnError=I;else{try{this._texture=b.createTexture(this.url,c,this._invertY,q,Z,z,I,this._buffer,void 0,this._format,this._forcedExtension,H,u,W,C)}catch(t){throw I("error loading",t),t}n&&(this._buffer=null)}}updateURL(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,N=arguments.length>2?arguments[2]:void 0,U=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.bl().markAllMaterialsAsDirty(1,(l=>l.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=l),this.url=l,this._buffer=a,this._forcedExtension=U,this.delayLoadState=4,N&&(this._delayedOnLoad=N),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const l=this.bl();l&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?J.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=l.getEngine().createTexture(this.url,this._noMipmap,this._invertY,l,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(l,a,N,U){l*=this._cachedUScale,a*=this._cachedVScale,l-=this.uRotationCenter*this._cachedUScale,a-=this.vRotationCenter*this._cachedVScale,N-=this.wRotationCenter,Z.ua.TransformCoordinatesFromFloatsToRef(l,a,N,this._rowGenerationMatrix,U),U.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,U.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,U.z+=this.wRotationCenter}getTextureMatrix(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*l===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*l,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Z.Matrix.Zero(),this._rowGenerationMatrix=new Z.Matrix,this._t0=Z.ua.Zero(),this._t1=Z.ua.Zero(),this._t2=Z.ua.Zero()),Z.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Z.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Z.TmpVectors.Matrix[0]),Z.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Z.TmpVectors.Matrix[1]),Z.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Z.TmpVectors.Matrix[2]),Z.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Z.TmpVectors.Matrix[3]),Z.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Z.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Z.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Z.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.wn(this._t0),this._t2.wn(this._t0),Z.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const a=this.bl();if(!a)return this._cachedTextureMatrix;const N=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&N!==this._cachedIdentity3x2&&a.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const l=this.bl();if(!l)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==M.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===l.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Z.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Z.Matrix.Zero());const a=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case M.PLANAR_MODE:Z.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case M.PROJECTION_MODE:{Z.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const a=l.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=a.updateFlag,a.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Z.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return a&&l.markAllMaterialsAsDirty(1,(l=>l.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const l={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,V:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return C.c.Clone((()=>new M(this._texture?this._texture.url:null,this.bl(),l)),this)}serialize(){var l;const a=this.name;M.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const N=super.serialize(M._SerializeInternalTextureUniqueId);if(!N)return null;if(M.SerializeBuffers||M.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))N.base64String=this._buffer,N.name=N.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const l=this.mimeType||"image/png";N.base64String=`data:${l};base64,${(0,H.k)(this._buffer)}`}else(M.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(N.base64String=!this._engine||this._engine._features.supportSyncTextureRead?W(this):B(this));var U;(N.invertY=this._invertY,N.samplingMode=this.samplingMode,N._creationFlags=this._creationFlags,N._useSRGBBuffer=this._useSRGBBuffer,M._SerializeInternalTextureUniqueId)&&(N.internalTextureUniqueId=null===(U=this._texture)||void 0===U?void 0:U.uniqueId);return N.internalTextureLabel=null===(l=this._texture)||void 0===l?void 0:l.label,N.noMipmap=this._noMipmap,this.name=a,N}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(l,a,N){if(l.customType){const U=n.b.Instantiate(l.customType).Parse(l,a,N);return l.samplingMode&&U.updateSamplingMode&&U._samplingMode&&U._samplingMode!==l.samplingMode&&U.updateSamplingMode(l.samplingMode),U}if(l.isCube&&!l.isRenderTarget)return M._CubeTextureParser(l,a,N);const U=void 0!==l.internalTextureUniqueId;if(!l.name&&!l.isRenderTarget&&!U)return null;let c;if(U){const N=a.getEngine().getLoadedTexturesCache();for(const a of N)if(a.uniqueId===l.internalTextureUniqueId){c=a;break}}const K=a=>{if(a&&a._texture&&(a._texture._cachedWrapU=null,a._texture._cachedWrapV=null,a._texture._cachedWrapR=null),l.samplingMode){const N=l.samplingMode;a&&a.samplingMode!==N&&a.updateSamplingMode(N)}if(a&&l.animations)for(let N=0;N<l.animations.length;N++){const U=l.animations[N],c=(0,S.e)("BABYLON.Animation");c&&a.animations.push(c.Parse(U))}a&&a._texture&&(U&&!c&&a._texture._setUniqueId(l.internalTextureUniqueId),a._texture.label=l.internalTextureLabel)};return C.c.Parse((()=>{let U=!0;if(l.noMipmap&&(U=!1),l.mirrorPlane){const N=M._CreateMirror(l.name,l.renderTargetSize,a,U);return N._waitingRenderList=l.renderList,N.mirrorPlane=y.e.Ma(l.mirrorPlane),K(N),N}if(l.isRenderTarget){let N=null;if(l.isCube){if(a.reflectionProbes)for(let U=0;U<a.reflectionProbes.length;U++){const N=a.reflectionProbes[U];if(N.name===l.name)return N.cubeTexture}}else N=M._CreateRenderTargetTexture(l.name,l.renderTargetSize,a,U,l._creationFlags??0),N._waitingRenderList=l.renderList;return K(N),N}if(l.isVideo){const c=M._CreateVideoTexture(N+(l.url||l.name),N+(l.src||l.url),a,U,l.invertY,l.samplingMode,l.settings||{});return K(c),c}{let Z;if(l.base64String&&!c)Z=M.CreateFromBase64String(l.base64String,l.base64String,a,!U,l.invertY,l.samplingMode,(()=>{K(Z)}),l._creationFlags??0,l._useSRGBBuffer??!1),Z.name=l.name;else{let w;w=l.name&&(l.name.indexOf("://")>0||l.name.startsWith("data:"))?l.name:N+l.name,l.url&&(l.url.startsWith("data:")||M.UseSerializedUrlIfAny)&&(w=l.url);const S={noMipmap:!U,invertY:l.invertY,samplingMode:l.samplingMode,V:()=>{K(Z)},internalTexture:c};Z=new M(w,a,S)}return Z}}),l,a)}static CreateFromBase64String(l,a,N,U,c){let K=arguments.length>5&&void 0!==arguments[5]?arguments[5]:M.TRILINEAR_SAMPLINGMODE;return new M("data:"+a,N,U,c,K,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(l,a,N){let U=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,K=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:M.TRILINEAR_SAMPLINGMODE,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,S=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,T=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,J=arguments.length>10?arguments[10]:void 0,n=arguments.length>11?arguments[11]:void 0;return"data:"!==l.substring(0,5)&&(l="data:"+l),new M(l,N,c,K,Z,w,S,a,U,T,void 0,void 0,J,n)}}M.SerializeBuffers=!0,M.ForceSerializeBuffers=!1,M.OnTextureLoadErrorObservable=new K.e,M._SerializeInternalTextureUniqueId=!1,M._CubeTextureParser=(l,a,N)=>{throw(0,T.b)("CubeTexture")},M._CreateMirror=(l,a,N,U)=>{throw(0,T.b)("MirrorTexture")},M._CreateRenderTargetTexture=(l,a,N,U,c)=>{throw(0,T.b)("RenderTargetTexture")},M.NEAREST_SAMPLINGMODE=1,M.NEAREST_NEAREST_MIPLINEAR=8,M.BILINEAR_SAMPLINGMODE=2,M.LINEAR_LINEAR_MIPNEAREST=11,M.TRILINEAR_SAMPLINGMODE=3,M.LINEAR_LINEAR_MIPLINEAR=3,M.NEAREST_NEAREST_MIPNEAREST=4,M.NEAREST_LINEAR_MIPNEAREST=5,M.NEAREST_LINEAR_MIPLINEAR=6,M.NEAREST_LINEAR=7,M.NEAREST_NEAREST=1,M.LINEAR_NEAREST_MIPNEAREST=9,M.LINEAR_NEAREST_MIPLINEAR=10,M.LINEAR_LINEAR=2,M.LINEAR_NEAREST=12,M.EXPLICIT_MODE=0,M.SPHERICAL_MODE=1,M.PLANAR_MODE=2,M.CUBIC_MODE=3,M.PROJECTION_MODE=4,M.SKYBOX_MODE=5,M.INVCUBIC_MODE=6,M.EQUIRECTANGULAR_MODE=7,M.FIXED_EQUIRECTANGULAR_MODE=8,M.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,M.CLAMP_ADDRESSMODE=0,M.WRAP_ADDRESSMODE=1,M.MIRROR_ADDRESSMODE=2,M.UseSerializedUrlIfAny=!1,(0,U.d)([(0,c.K)()],M.prototype,"url",void 0),(0,U.d)([(0,c.K)()],M.prototype,"uOffset",void 0),(0,U.d)([(0,c.K)()],M.prototype,"vOffset",void 0),(0,U.d)([(0,c.K)()],M.prototype,"uScale",void 0),(0,U.d)([(0,c.K)()],M.prototype,"vScale",void 0),(0,U.d)([(0,c.K)()],M.prototype,"uAng",void 0),(0,U.d)([(0,c.K)()],M.prototype,"vAng",void 0),(0,U.d)([(0,c.K)()],M.prototype,"wAng",void 0),(0,U.d)([(0,c.K)()],M.prototype,"uRotationCenter",void 0),(0,U.d)([(0,c.K)()],M.prototype,"vRotationCenter",void 0),(0,U.d)([(0,c.K)()],M.prototype,"wRotationCenter",void 0),(0,U.d)([(0,c.K)()],M.prototype,"homogeneousRotationInUVTransform",void 0),(0,U.d)([(0,c.K)()],M.prototype,"isBlocking",null),(0,S.g)("BABYLON.Texture",M),C.c._TextureParser=M.Parse},12483:(l,a,N)=>{N.d(a,{e:()=>c});var U=N(12447);class c{constructor(l,a,N,c){this.normal=new U.ua(l,a,N),this.d=c}Bc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new c(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let l=this.normal.getHashCode();return l=397*l^this.d,l}normalize(){const l=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let a=0;return 0!==l&&(a=1/l),this.normal.x*=a,this.normal.y*=a,this.normal.z*=a,this.d*=a,this}transform(l){const a=c._TmpMatrix;l.invertToRef(a);const N=a.m,U=this.normal.x,K=this.normal.y,Z=this.normal.z,w=this.d,S=U*N[0]+K*N[1]+Z*N[2]+w*N[3],T=U*N[4]+K*N[5]+Z*N[6]+w*N[7],J=U*N[8]+K*N[9]+Z*N[10]+w*N[11],n=U*N[12]+K*N[13]+Z*N[14]+w*N[15];return new c(S,T,J,n)}dotCoordinate(l){return this.normal.x*l.x+this.normal.y*l.y+this.normal.z*l.z+this.d}copyFromPoints(l,a,N){const U=a.x-l.x,c=a.y-l.y,K=a.z-l.z,Z=N.x-l.x,w=N.y-l.y,S=N.z-l.z,T=c*S-K*w,J=K*Z-U*S,n=U*w-c*Z,y=Math.sqrt(T*T+J*J+n*n);let H;return H=0!==y?1/y:0,this.normal.x=T*H,this.normal.y=J*H,this.normal.z=n*H,this.d=-(this.normal.x*l.x+this.normal.y*l.y+this.normal.z*l.z),this}isFrontFacingTo(l,a){return U.ua.Dot(this.normal,l)<=a}signedDistanceTo(l){return U.ua.Dot(l,this.normal)+this.d}static Ma(l){return new c(l[0],l[1],l[2],l[3])}static FromPoints(l,a,N){const U=new c(0,0,0,0);return U.copyFromPoints(l,a,N),U}static FromPositionAndNormal(l,a){const N=new c(0,0,0,0);return this.FromPositionAndNormalToRef(l,a,N)}static FromPositionAndNormalToRef(l,a,N){return N.normal.K(a),N.normal.normalize(),N.d=-l.dot(N.normal),N}static SignedDistanceToPlaneFromPositionAndNormal(l,a,N){const c=-(a.x*l.x+a.y*l.y+a.z*l.z);return U.ua.Dot(N,a)+c}}c._TmpMatrix=U.Matrix.Identity()},12469:(l,a,N)=>{N.d(a,{b:()=>U});class U{constructor(l,a){this.width=l,this.height=a}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let l=0|this.width;return l=397*l^this.height,l}K(l){this.width=l.width,this.height=l.height}tc(l,a){return this.width=l,this.height=a,this}set(l,a){return this.tc(l,a)}multiplyByFloats(l,a){return new U(this.width*l,this.height*a)}clone(){return new U(this.width,this.height)}equals(l){return!!l&&(this.width===l.width&&this.height===l.height)}get surface(){return this.width*this.height}static Zero(){return new U(0,0)}add(l){return new U(this.width+l.width,this.height+l.height)}Wa(l){return new U(this.width-l.width,this.height-l.height)}scale(l){return new U(this.width*l,this.height*l)}static Lerp(l,a,N){const c=l.width+(a.width-l.width)*N,K=l.height+(a.height-l.height)*N;return new U(c,K)}}},12440:(l,a,N)=>{N.d(a,{d:()=>K,g:()=>Z});const U={},c={};function K(l){const a=l.getClassName();return c[a]||(c[a]={}),c[a]}function Z(l){const a=l.getClassName();if(U[a])return U[a];U[a]={};const N=U[a];let K=l,Z=a;for(;Z;){const l=c[Z];for(const c in l)N[c]=l[c];let a,U=!1;do{if(a=Object.getPrototypeOf(K),!a.getClassName){U=!0;break}if(a.getClassName()!==Z)break;K=a}while(a);if(U)break;Z=a.getClassName(),K=a}return N}},12432:(l,a,N)=>{N.d(a,{C:()=>w,E:()=>J,G:()=>n,K:()=>Z,c:()=>K,f:()=>C,i:()=>H,m:()=>S,p:()=>u,s:()=>T,u:()=>W,v:()=>Y,y:()=>y,z:()=>B});var U=N(12440);function c(l,a){return(N,c)=>{const K=(0,U.d)(N);K[c]||(K[c]={type:l,sourceName:a})}}function K(l){return function(l){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(N,U)=>{const c=a||"_"+U;Object.defineProperty(N,U,{get:function(){return this[c]},set:function(a){var U;"function"===typeof(null===(U=this[c])||void 0===U?void 0:U.equals)&&this[c].equals(a)||this[c]!==a&&(this[c]=a,N[l].apply(this))},enumerable:!0,configurable:!0})}}(l,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Z(l){return c(0,l)}function w(l){return c(1,l)}function S(l){return c(2,l)}function T(l){return c(3,l)}function J(l){return c(4,l)}function n(l){return c(5,l)}function y(l){return c(6,l)}function H(l){return c(7,l)}function u(l){return c(8,l)}function W(l){return c(9,l)}function B(l){return c(10,l)}function Y(l){return c(12,l)}function C(l,a,N,U){const c=N.value;N.value=function(){let N=c;if("undefined"!==typeof _native&&_native[a]){const l=_native[a];N=U?function(){return U(...arguments)?l(...arguments):c(...arguments)}:l}return l[a]=N,N(...arguments)}}C.filter=function(l){return(a,N,U)=>C(a,N,U,l)}},12471:(l,a,N)=>{N.d(a,{c:()=>T});var U=N(12288),c=N(12473),K=N(12479),Z=N(12447),w=N(12440);const S=function(l,a,N){let U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const K=l();c.d&&c.d.HasTags(a)&&c.d.AddTagsTo(K,c.d.GetTags(a,!0));const Z=(0,w.g)(K),S={};for(const c in Z){const l=Z[c],w=a[c],J=l.type;if(void 0!==w&&null!==w&&("uniqueId"!==c||T.AllowLoadingUniqueId))switch(J){case 0:case 6:case 9:case 11:K[c]=w;break;case 1:U.cloneTexturesOnlyOnce&&S[w.uniqueId]?K[c]=S[w.uniqueId]:(K[c]=N||w.isRenderTarget?w:w.clone(),S[w.uniqueId]=K[c]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:K[c]=N?w:w.clone()}}return K};class T{static AppendSerializedAnimations(l,a){if(l.animations){a.animations=[];for(let N=0;N<l.animations.length;N++){const U=l.animations[N];a.animations.push(U.serialize())}}}static Serialize(l,a){a||(a={}),c.d&&(a.tags=c.d.GetTags(l));const N=(0,w.g)(l);for(const U in N){const c=N[U],K=c.sourceName||U,Z=c.type,w=l[U];if(void 0!==w&&null!==w&&("uniqueId"!==U||T.AllowLoadingUniqueId))switch(Z){case 0:a[K]=w;break;case 1:case 3:case 7:case 9:a[K]=w.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:a[K]=w.Bc();break;case 6:case 11:a[K]=w.id}}return a}static ParseProperties(l,a,N,U){U||(U="");const c=(0,w.g)(a);for(const w in c){const S=c[w],J=l[S.sourceName||w],n=S.type;if(void 0!==J&&null!==J&&("uniqueId"!==w||T.AllowLoadingUniqueId)){const l=a;switch(n){case 0:l[w]=J;break;case 1:N&&(l[w]=T._TextureParser(J,N,U));break;case 2:l[w]=K.Ca.Ma(J);break;case 3:l[w]=T._FresnelParametersParser(J);break;case 4:l[w]=Z.Vector2.Ma(J);break;case 5:l[w]=Z.ua.Ma(J);break;case 6:N&&(l[w]=N.getLastMeshById(J));break;case 7:l[w]=T._ColorCurvesParser(J);break;case 8:l[w]=K.Qc.Ma(J);break;case 9:l[w]=T._ImageProcessingConfigurationParser(J);break;case 10:l[w]=Z.Quaternion.Ma(J);break;case 11:N&&(l[w]=N.getCameraById(J));break;case 12:l[w]=Z.Matrix.Ma(J)}}}}static Parse(l,a,N){let U=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const K=l();return c.d&&c.d.AddTagsTo(K,a.tags),T.ParseProperties(a,K,N,U),K}static Clone(l,a){return S(l,a,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(l,a){return S(l,a,!0)}}T.AllowLoadingUniqueId=!1,T._ImageProcessingConfigurationParser=l=>{throw(0,U.b)("ImageProcessingConfiguration")},T._FresnelParametersParser=l=>{throw(0,U.b)("FresnelParameters")},T._ColorCurvesParser=l=>{throw(0,U.b)("ColorCurves")},T._TextureParser=(l,a,N)=>{throw(0,U.b)("Texture")}},12473:(l,a,N)=>{N.d(a,{d:()=>c});class U{static Eval(l,a){return"true"===(l=l.match(/\([^()]*\)/g)?l.replace(/\([^()]*\)/g,(l=>(l=l.slice(1,l.length-1),U._HandleParenthesisContent(l,a)))):U._HandleParenthesisContent(l,a))||"false"!==l&&U.Eval(l,a)}static _HandleParenthesisContent(l,a){let N;a=a||(l=>"true"===l);const c=l.split("||");for(const K in c)if(Object.prototype.hasOwnProperty.call(c,K)){let l=U._SimplifyNegation(c[K].trim());const Z=l.split("&&");if(Z.length>1)for(let c=0;c<Z.length;++c){const K=U._SimplifyNegation(Z[c].trim());if(N="true"!==K&&"false"!==K?"!"===K[0]?!a(K.substring(1)):a(K):"true"===K,!N){l="false";break}}if(N||"true"===l){N=!0;break}N="true"!==l&&"false"!==l?"!"===l[0]?!a(l.substring(1)):a(l):"true"===l}return N?"true":"false"}static _SimplifyNegation(l){return"!true"===(l=(l=l.replace(/^[\s!]+/,(l=>(l=l.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?l="false":"!false"===l&&(l="true"),l}}class c{static EnableFor(l){l._tags=l._tags||{},l.hasTags=()=>c.HasTags(l),l.addTags=a=>c.AddTagsTo(l,a),l.removeTags=a=>c.RemoveTagsFrom(l,a),l.matchesTagsQuery=a=>c.MatchesQuery(l,a)}static DisableFor(l){delete l._tags,delete l.hasTags,delete l.addTags,delete l.removeTags,delete l.matchesTagsQuery}static HasTags(l){if(!l._tags)return!1;const a=l._tags;for(const N in a)if(Object.prototype.hasOwnProperty.call(a,N))return!0;return!1}static GetTags(l){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!l._tags)return null;if(a){const a=[];for(const N in l._tags)Object.prototype.hasOwnProperty.call(l._tags,N)&&!0===l._tags[N]&&a.push(N);return a.join(" ")}return l._tags}static AddTagsTo(l,a){if(!a)return;if("string"!==typeof a)return;const N=a.split(" ");for(const U of N)c._AddTagTo(l,U)}static _AddTagTo(l,a){""!==(a=a.trim())&&"true"!==a&&"false"!==a&&(a.match(/[\s]/)||a.match(/^([!]|([|]|[&]){2})/)||(c.EnableFor(l),l._tags[a]=!0))}static RemoveTagsFrom(l,a){if(!c.HasTags(l))return;const N=a.split(" ");for(const U in N)c._RemoveTagFrom(l,N[U])}static _RemoveTagFrom(l,a){delete l._tags[a]}static MatchesQuery(l,a){return void 0===a||(""===a?c.HasTags(l):U.Eval(a,(a=>c.HasTags(l)&&l._tags[a])))}}},12429:(l,a,N)=>{N.d(a,{d:()=>U});function U(l,a,N,U){var c,K=arguments.length,Z=K<3?a:null===U?U=Object.getOwnPropertyDescriptor(a,N):U;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Z=Reflect.decorate(l,a,N,U);else for(var w=l.length-1;w>=0;w--)(c=l[w])&&(Z=(K<3?c(Z):K>3?c(a,N,Z):c(a,N))||Z);return K>3&&Z&&Object.defineProperty(a,N,Z),Z}Object.create;Object.create}}]);