"use strict";(self.ex92n20nlz8=self.ex92n20nlz8||[]).push([[13],{12648:(I,g,b)=>{b.d(g,{d:()=>e});let e=!1},12614:(I,g,b)=>{b.d(g,{b:()=>p});var e=b(12577),c=b(12584),z=b(12412),M=b(12590),J=b(12449),o=b(12561),n=(b(12456),b(12620));class G{get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(I){this._texture&&(this._texture.isCube=I)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(I){return void 0!==(null===I||void 0===I?void 0:I.shareDepth)}constructor(I){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=n.e.Zero(),this._cachedBaseSize=n.e.Zero(),this._initialSamplingMode=2,this._texture=G._IsRenderTargetWrapper(I)?I.texture:I,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(I){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(I,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var D=b(12622);class p extends G{set eb(I){this._hasAlpha!==I&&(this._hasAlpha=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get eb(){return this._hasAlpha}set getAlphaFromRGB(I){this._getAlphaFromRGB!==I&&(this._getAlphaFromRGB=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(I){this._coordinatesIndex!==I&&(this._coordinatesIndex=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(I){this._coordinatesMode!==I&&(this._coordinatesMode=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(I){this._texture?this._texture.isCube=I:this._isCube=I}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(I){var g;if(this._texture){if(this._texture._gammaSpace===I)return;this._texture._gammaSpace=I}else{if(this._gammaSpace===I)return;this._gammaSpace=I}null===(g=this.EI())||void 0===g||g.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(I){var g;I!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=I),null===(g=this.EI())||void 0===g||g.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(I){this._texture&&(this._texture._lodGenerationOffset=I)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(I){this._texture&&(this._texture._lodGenerationScale=I)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(I){this._texture&&(this._texture._linearSpecularLOD=I)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(I){this._texture&&(this._texture._irradianceTexture=I)}get uid(){return this._uid||(this._uid=(0,o.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(I){this._onDisposeObserver&&this.Og.remove(this._onDisposeObserver),this._onDisposeObserver=this.Og.add(I)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=p.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Og=new z.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,I?p._IsScene(I)?this._scene=I:this._engine=I:this._scene=J.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=g,this._uid=null}EI(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return M.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return M.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(I){}get canRescale(){return!1}_getFromCache(I,g,b,e,c,z){const M=this._getEngine();if(!M)return null;const J=M._getUseSRGBBuffer(!!c,g),o=M.getLoadedTexturesCache();for(let n=0;n<o.length;n++){const M=o[n];if((void 0===c||J===M._useSRGBBuffer)&&(void 0===e||e===M.invertY)&&M.url===I&&M.generateMipMaps===!g&&(!b||b===M.samplingMode)&&(void 0===z||z===M.isCube))return M.incrementReferences(),M}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const I=this.EI();I&&I.markAllMaterialsAsDirty(1)}readPixels(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,M=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const n=this._getEngine();if(!n)return null;const G=this.getSize();let D=G.width,p=G.height;0!==g&&(D/=Math.pow(2,g),p/=Math.pow(2,g),D=Math.round(D),p=Math.round(p)),J=Math.min(D,J),o=Math.min(p,o);try{return this._texture.isCube?n._readTexturePixels(this._texture,J,o,I,g,b,e,c,z,M):n._readTexturePixels(this._texture,J,o,-1,g,b,e,c,z,M)}catch(x){return null}}_readPixelsSync(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const z=this.getSize();let M=z.width,J=z.height;const o=this._getEngine();if(!o)return null;0!=g&&(M/=Math.pow(2,g),J/=Math.pow(2,g),M=Math.round(M),J=Math.round(J));try{return this._texture.isCube?o._readTexturePixelsSync(this._texture,M,J,I,g,b,e,c):o._readTexturePixelsSync(this._texture,M,J,-1,g,b,e,c)}catch(n){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const I=this._scene.textures.indexOf(this);if(I>=0&&this._scene.textures.splice(I,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const I=this._parentContainer.textures.indexOf(this);I>-1&&this._parentContainer.textures.splice(I,1),this._parentContainer=null}}this.Og.notifyObservers(this),this.Og.clear(),this.metadata=null,super.dispose()}serialize(){let I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!I)return null;const g=D.b.Serialize(this);return D.b.AppendSerializedAnimations(this,g),g}static WhenAllReady(I,g){let b=I.length;if(0!==b)for(let e=0;e<I.length;e++){const c=I[e];if(c.isReady())0===--b&&g();else{const I=c.onLoadObservable;I?I.addOnce((()=>{0===--b&&g()})):0===--b&&g()}}else g()}static _IsScene(I){return"Scene"===I.getClassName()}}p.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,e.d)([(0,c.E)()],p.prototype,"uniqueId",void 0),(0,e.d)([(0,c.E)()],p.prototype,"name",void 0),(0,e.d)([(0,c.E)()],p.prototype,"displayName",void 0),(0,e.d)([(0,c.E)()],p.prototype,"metadata",void 0),(0,e.d)([(0,c.E)("eb")],p.prototype,"_hasAlpha",void 0),(0,e.d)([(0,c.E)("getAlphaFromRGB")],p.prototype,"_getAlphaFromRGB",void 0),(0,e.d)([(0,c.E)()],p.prototype,"level",void 0),(0,e.d)([(0,c.E)("coordinatesIndex")],p.prototype,"_coordinatesIndex",void 0),(0,e.d)([(0,c.E)()],p.prototype,"optimizeUVAllocation",void 0),(0,e.d)([(0,c.E)("coordinatesMode")],p.prototype,"_coordinatesMode",void 0),(0,e.d)([(0,c.E)()],p.prototype,"wrapU",null),(0,e.d)([(0,c.E)()],p.prototype,"wrapV",null),(0,e.d)([(0,c.E)()],p.prototype,"wrapR",void 0),(0,e.d)([(0,c.E)()],p.prototype,"anisotropicFilteringLevel",void 0),(0,e.d)([(0,c.E)()],p.prototype,"isCube",null),(0,e.d)([(0,c.E)()],p.prototype,"is3D",null),(0,e.d)([(0,c.E)()],p.prototype,"is2DArray",null),(0,e.d)([(0,c.E)()],p.prototype,"gammaSpace",null),(0,e.d)([(0,c.E)()],p.prototype,"invertZ",void 0),(0,e.d)([(0,c.E)()],p.prototype,"lodLevelInAlpha",void 0),(0,e.d)([(0,c.E)()],p.prototype,"lodGenerationOffset",null),(0,e.d)([(0,c.E)()],p.prototype,"lodGenerationScale",null),(0,e.d)([(0,c.E)()],p.prototype,"linearSpecularLOD",null),(0,e.d)([(0,c.v)()],p.prototype,"irradianceTexture",null),(0,e.d)([(0,c.E)()],p.prototype,"isRenderTarget",void 0)},12572:(I,g,b)=>{b.d(g,{b:()=>a});var e=b(12577),c=b(12584),z=b(12412),M=b(12590),J=b(12614),o=b(12558),n=b(12437),G=b(12488),D=b(12552),p=b(12646),x=b(12468);function Z(I,g){let b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const e=g.width,c=g.height;if(I instanceof Float32Array){let g=I.byteLength/I.BYTES_PER_ELEMENT;const b=new Uint8Array(g);for(;--g>=0;){let e=I[g];e<0?e=0:e>1&&(e=1),b[g]=255*e}I=b}const z=document.createElement("canvas");z.width=e,z.height=c;const M=z.getContext("2d");if(!M)return null;const J=M.createImageData(e,c);if(J.data.set(I),M.putImageData(J,0,0),b){const I=document.createElement("canvas");I.width=e,I.height=c;const g=I.getContext("2d");return g?(g.translate(0,c),g.scale(1,-1),g.drawImage(z,0,0),I.toDataURL("image/png")):null}return z.toDataURL("image/png")}function k(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=I.getInternalTexture();if(!e)return null;const c=I._readPixelsSync(g,b);return c?Z(c,I.getSize(),e.invertY):null}async function S(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const e=I.getInternalTexture();if(!e)return null;const c=await I.readPixels(g,b);return c?Z(c,I.getSize(),e.invertY):null}var f=b(12648),V=b(12622);class a extends J.b{static _CreateVideoTexture(I,g,b){arguments.length>5&&void 0!==arguments[5]||a.TRILINEAR_SAMPLINGMODE;throw(0,n.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(I){this._isBlocking=I}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(I,g,b,e){let c,M=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TRILINEAR_SAMPLINGMODE,J=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,n=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,D=arguments.length>8&&void 0!==arguments[8]&&arguments[8],p=arguments.length>9?arguments[9]:void 0,x=arguments.length>10?arguments[10]:void 0,Z=arguments.length>11?arguments[11]:void 0,k=arguments.length>12?arguments[12]:void 0,S=arguments.length>13?arguments[13]:void 0;super(g),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new z.c,this._isBlocking=!0,this.name=I||"",this.url=I;let V=!1,v=null,X=!0;"object"===typeof b&&null!==b?(c=b.noMipmap??!1,e=b.invertY??!f.d,M=b.samplingMode??a.TRILINEAR_SAMPLINGMODE,J=b.l??null,o=b.onError??null,n=b.buffer??null,D=b.deleteBuffer??!1,p=b.format,x=b.mimeType,Z=b.loaderOptions,k=b.creationFlags,V=b.useSRGBBuffer??!1,v=b.internalTexture??null,X=b.gammaSpace??X,S=b.forcedExtension??S):c=!!b,this._gammaSpace=X,this._noMipmap=c,this._invertY=void 0===e?!f.d:e,this._initialSamplingMode=M,this._buffer=n,this._deleteBuffer=D,this._mimeType=x,this._loaderOptions=Z,this._creationFlags=k,this._useSRGBBuffer=V,this._forcedExtension=S,void 0!==p&&(this._format=p);const R=this.EI(),E=this._getEngine();if(!E)return;E.onBeforeTextureInitObservable.notifyObservers(this);const mI=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),J&&J(),!this.isBlocking&&R&&R.resetCachedMaterial()},s=(I,g)=>{this._loadingError=!0,this._errorObject={message:I,exception:g},o&&o(I,g),a.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!v)return this._delayedOnLoad=mI,void(this._delayedOnError=s);if(this._texture=v??this._getFromCache(this.url,c,M,this._invertY,V,this.isCube),this._texture)if(this._texture.isReady)G.d.SetImmediate((()=>mI()));else{const I=this._texture.onLoadedObservable.add(mI);this._texture.onErrorObservable.add((g=>{var b;s(g.message,g.exception),null===(b=this._texture)||void 0===b||b.onLoadedObservable.remove(I)}))}else if(R&&R.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=mI,this._delayedOnError=s;else{try{this._texture=E.createTexture(this.url,c,this._invertY,R,M,mI,s,this._buffer,void 0,this._format,this._forcedExtension,x,Z,k,V)}catch(F){throw s("error loading",F),F}D&&(this._buffer=null)}}updateURL(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.EI().markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=I),this.url=I,this._buffer=g,this._forcedExtension=e,this.delayLoadState=4,b&&(this._delayedOnLoad=b),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const I=this.EI();I&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?G.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=I.getEngine().createTexture(this.url,this._noMipmap,this._invertY,I,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(I,g,b,e){I*=this._cachedUScale,g*=this._cachedVScale,I-=this.uRotationCenter*this._cachedUScale,g-=this.vRotationCenter*this._cachedVScale,b-=this.wRotationCenter,M.Vg.TransformCoordinatesFromFloatsToRef(I,g,b,this._rowGenerationMatrix,e),e.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,e.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,e.z+=this.wRotationCenter}getTextureMatrix(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*I===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*I,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=M.Matrix.Zero(),this._rowGenerationMatrix=new M.Matrix,this._t0=M.Vg.Zero(),this._t1=M.Vg.Zero(),this._t2=M.Vg.Zero()),M.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(M.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,M.TmpVectors.Matrix[0]),M.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,M.TmpVectors.Matrix[1]),M.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,M.TmpVectors.Matrix[2]),M.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,M.TmpVectors.Matrix[3]),M.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(M.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(M.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(M.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Op(this._t0),this._t2.Op(this._t0),M.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const g=this.EI();if(!g)return this._cachedTextureMatrix;const b=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&b!==this._cachedIdentity3x2&&g.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const I=this.EI();if(!I)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==a.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===I.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=M.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=M.Matrix.Zero());const g=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case a.PLANAR_MODE:M.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case a.PROJECTION_MODE:{M.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const g=I.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=g.updateFlag,g.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:M.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return g&&I.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const I={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,l:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return V.b.Clone((()=>new a(this._texture?this._texture.url:null,this.EI(),I)),this)}serialize(){var I;const g=this.name;a.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const b=super.serialize(a._SerializeInternalTextureUniqueId);if(!b)return null;if(a.SerializeBuffers||a.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))b.base64String=this._buffer,b.name=b.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const I=this.mimeType||"image/png";b.base64String=`data:${I};base64,${(0,x.l)(this._buffer)}`}else(a.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(b.base64String=!this._engine||this._engine._features.supportSyncTextureRead?k(this):S(this));var e;(b.invertY=this._invertY,b.samplingMode=this.samplingMode,b._creationFlags=this._creationFlags,b._useSRGBBuffer=this._useSRGBBuffer,a._SerializeInternalTextureUniqueId)&&(b.internalTextureUniqueId=null===(e=this._texture)||void 0===e?void 0:e.uniqueId);return b.internalTextureLabel=null===(I=this._texture)||void 0===I?void 0:I.label,b.noMipmap=this._noMipmap,this.name=g,b}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(I,g,b){if(I.customType){const e=D.b.Instantiate(I.customType).Parse(I,g,b);return I.samplingMode&&e.updateSamplingMode&&e._samplingMode&&e._samplingMode!==I.samplingMode&&e.updateSamplingMode(I.samplingMode),e}if(I.isCube&&!I.isRenderTarget)return a._CubeTextureParser(I,g,b);const e=void 0!==I.internalTextureUniqueId;if(!I.name&&!I.isRenderTarget&&!e)return null;let c;if(e){const b=g.getEngine().getLoadedTexturesCache();for(const g of b)if(g.uniqueId===I.internalTextureUniqueId){c=g;break}}const z=g=>{if(g&&g._texture&&(g._texture._cachedWrapU=null,g._texture._cachedWrapV=null,g._texture._cachedWrapR=null),I.samplingMode){const b=I.samplingMode;g&&g.samplingMode!==b&&g.updateSamplingMode(b)}if(g&&I.animations)for(let b=0;b<I.animations.length;b++){const e=I.animations[b],c=(0,o.d)("BABYLON.Animation");c&&g.animations.push(c.Parse(e))}g&&g._texture&&(e&&!c&&g._texture._setUniqueId(I.internalTextureUniqueId),g._texture.label=I.internalTextureLabel)};return V.b.Parse((()=>{let e=!0;if(I.noMipmap&&(e=!1),I.mirrorPlane){const b=a._CreateMirror(I.name,I.renderTargetSize,g,e);return b._waitingRenderList=I.renderList,b.mirrorPlane=p.b.mb(I.mirrorPlane),z(b),b}if(I.isRenderTarget){let b=null;if(I.isCube){if(g.reflectionProbes)for(let e=0;e<g.reflectionProbes.length;e++){const b=g.reflectionProbes[e];if(b.name===I.name)return b.cubeTexture}}else b=a._CreateRenderTargetTexture(I.name,I.renderTargetSize,g,e,I._creationFlags??0),b._waitingRenderList=I.renderList;return z(b),b}if(I.isVideo){const c=a._CreateVideoTexture(b+(I.url||I.name),b+(I.src||I.url),g,e,I.invertY,I.samplingMode,I.settings||{});return z(c),c}{let M;if(I.base64String&&!c)M=a.CreateFromBase64String(I.base64String,I.base64String,g,!e,I.invertY,I.samplingMode,(()=>{z(M)}),I._creationFlags??0,I._useSRGBBuffer??!1),M.name=I.name;else{let J;J=I.name&&(I.name.indexOf("://")>0||I.name.startsWith("data:"))?I.name:b+I.name,I.url&&(I.url.startsWith("data:")||a.UseSerializedUrlIfAny)&&(J=I.url);const o={noMipmap:!e,invertY:I.invertY,samplingMode:I.samplingMode,l:()=>{z(M)},internalTexture:c};M=new a(J,g,o)}return M}}),I,g)}static CreateFromBase64String(I,g,b,e,c){let z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.TRILINEAR_SAMPLINGMODE;return new a("data:"+g,b,e,c,z,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(I,g,b){let e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,z=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],M=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a.TRILINEAR_SAMPLINGMODE,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,n=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,G=arguments.length>10?arguments[10]:void 0,D=arguments.length>11?arguments[11]:void 0;return"data:"!==I.substring(0,5)&&(I="data:"+I),new a(I,b,c,z,M,J,o,g,e,n,void 0,void 0,G,D)}}a.SerializeBuffers=!0,a.ForceSerializeBuffers=!1,a.OnTextureLoadErrorObservable=new z.c,a._SerializeInternalTextureUniqueId=!1,a._CubeTextureParser=(I,g,b)=>{throw(0,n.c)("CubeTexture")},a._CreateMirror=(I,g,b,e)=>{throw(0,n.c)("MirrorTexture")},a._CreateRenderTargetTexture=(I,g,b,e,c)=>{throw(0,n.c)("RenderTargetTexture")},a.NEAREST_SAMPLINGMODE=1,a.NEAREST_NEAREST_MIPLINEAR=8,a.BILINEAR_SAMPLINGMODE=2,a.LINEAR_LINEAR_MIPNEAREST=11,a.TRILINEAR_SAMPLINGMODE=3,a.LINEAR_LINEAR_MIPLINEAR=3,a.NEAREST_NEAREST_MIPNEAREST=4,a.NEAREST_LINEAR_MIPNEAREST=5,a.NEAREST_LINEAR_MIPLINEAR=6,a.NEAREST_LINEAR=7,a.NEAREST_NEAREST=1,a.LINEAR_NEAREST_MIPNEAREST=9,a.LINEAR_NEAREST_MIPLINEAR=10,a.LINEAR_LINEAR=2,a.LINEAR_NEAREST=12,a.EXPLICIT_MODE=0,a.SPHERICAL_MODE=1,a.PLANAR_MODE=2,a.CUBIC_MODE=3,a.PROJECTION_MODE=4,a.SKYBOX_MODE=5,a.INVCUBIC_MODE=6,a.EQUIRECTANGULAR_MODE=7,a.FIXED_EQUIRECTANGULAR_MODE=8,a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,a.CLAMP_ADDRESSMODE=0,a.WRAP_ADDRESSMODE=1,a.MIRROR_ADDRESSMODE=2,a.UseSerializedUrlIfAny=!1,(0,e.d)([(0,c.E)()],a.prototype,"url",void 0),(0,e.d)([(0,c.E)()],a.prototype,"uOffset",void 0),(0,e.d)([(0,c.E)()],a.prototype,"vOffset",void 0),(0,e.d)([(0,c.E)()],a.prototype,"uScale",void 0),(0,e.d)([(0,c.E)()],a.prototype,"vScale",void 0),(0,e.d)([(0,c.E)()],a.prototype,"uAng",void 0),(0,e.d)([(0,c.E)()],a.prototype,"vAng",void 0),(0,e.d)([(0,c.E)()],a.prototype,"wAng",void 0),(0,e.d)([(0,c.E)()],a.prototype,"uRotationCenter",void 0),(0,e.d)([(0,c.E)()],a.prototype,"vRotationCenter",void 0),(0,e.d)([(0,c.E)()],a.prototype,"wRotationCenter",void 0),(0,e.d)([(0,c.E)()],a.prototype,"homogeneousRotationInUVTransform",void 0),(0,e.d)([(0,c.E)()],a.prototype,"isBlocking",null),(0,o.g)("BABYLON.Texture",a),V.b._TextureParser=a.Parse},12646:(I,g,b)=>{b.d(g,{b:()=>c});var e=b(12590);class c{constructor(I,g,b,c){this.normal=new e.Vg(I,g,b),this.d=c}bb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new c(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let I=this.normal.getHashCode();return I=397*I^this.d,I}normalize(){const I=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let g=0;return 0!==I&&(g=1/I),this.normal.x*=g,this.normal.y*=g,this.normal.z*=g,this.d*=g,this}transform(I){const g=c._TmpMatrix;I.invertToRef(g);const b=g.m,e=this.normal.x,z=this.normal.y,M=this.normal.z,J=this.d,o=e*b[0]+z*b[1]+M*b[2]+J*b[3],n=e*b[4]+z*b[5]+M*b[6]+J*b[7],G=e*b[8]+z*b[9]+M*b[10]+J*b[11],D=e*b[12]+z*b[13]+M*b[14]+J*b[15];return new c(o,n,G,D)}dotCoordinate(I){return this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z+this.d}copyFromPoints(I,g,b){const e=g.x-I.x,c=g.y-I.y,z=g.z-I.z,M=b.x-I.x,J=b.y-I.y,o=b.z-I.z,n=c*o-z*J,G=z*M-e*o,D=e*J-c*M,p=Math.sqrt(n*n+G*G+D*D);let x;return x=0!==p?1/p:0,this.normal.x=n*x,this.normal.y=G*x,this.normal.z=D*x,this.d=-(this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z),this}isFrontFacingTo(I,g){return e.Vg.Dot(this.normal,I)<=g}signedDistanceTo(I){return e.Vg.Dot(I,this.normal)+this.d}static mb(I){return new c(I[0],I[1],I[2],I[3])}static FromPoints(I,g,b){const e=new c(0,0,0,0);return e.copyFromPoints(I,g,b),e}static FromPositionAndNormal(I,g){const b=new c(0,0,0,0);return this.FromPositionAndNormalToRef(I,g,b)}static FromPositionAndNormalToRef(I,g,b){return b.normal.G(g),b.normal.normalize(),b.d=-I.dot(b.normal),b}static SignedDistanceToPlaneFromPositionAndNormal(I,g,b){const c=-(g.x*I.x+g.y*I.y+g.z*I.z);return e.Vg.Dot(b,g)+c}}c._TmpMatrix=e.Matrix.Identity()},12620:(I,g,b)=>{b.d(g,{e:()=>e});class e{constructor(I,g){this.width=I,this.height=g}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let I=0|this.width;return I=397*I^this.height,I}G(I){this.width=I.width,this.height=I.height}Db(I,g){return this.width=I,this.height=g,this}set(I,g){return this.Db(I,g)}multiplyByFloats(I,g){return new e(this.width*I,this.height*g)}clone(){return new e(this.width,this.height)}equals(I){return!!I&&(this.width===I.width&&this.height===I.height)}get surface(){return this.width*this.height}static Zero(){return new e(0,0)}add(I){return new e(this.width+I.width,this.height+I.height)}ag(I){return new e(this.width-I.width,this.height-I.height)}scale(I){return new e(this.width*I,this.height*I)}static Lerp(I,g,b){const c=I.width+(g.width-I.width)*b,z=I.height+(g.height-I.height)*b;return new e(c,z)}}},12588:(I,g,b)=>{b.d(g,{b:()=>z,e:()=>M});const e={},c={};function z(I){const g=I.getClassName();return c[g]||(c[g]={}),c[g]}function M(I){const g=I.getClassName();if(e[g])return e[g];e[g]={};const b=e[g];let z=I,M=g;for(;M;){const I=c[M];for(const c in I)b[c]=I[c];let g,e=!1;do{if(g=Object.getPrototypeOf(z),!g.getClassName){e=!0;break}if(g.getClassName()!==M)break;z=g}while(g);if(e)break;M=g.getClassName(),z=g}return b}},12584:(I,g,b)=>{b.d(g,{A:()=>D,E:()=>M,c:()=>z,g:()=>V,h:()=>x,k:()=>o,m:()=>Z,n:()=>n,o:()=>k,r:()=>f,s:()=>p,u:()=>S,v:()=>J,x:()=>G});var e=b(12588);function c(I,g){return(b,c)=>{const z=(0,e.b)(b);z[c]||(z[c]={type:I,sourceName:g})}}function z(I){return function(I){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(b,e)=>{const c=g||"_"+e;Object.defineProperty(b,e,{get:function(){return this[c]},set:function(g){var e;"function"===typeof(null===(e=this[c])||void 0===e?void 0:e.equals)&&this[c].equals(g)||this[c]!==g&&(this[c]=g,b[I].apply(this))},enumerable:!0,configurable:!0})}}(I,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function M(I){return c(0,I)}function J(I){return c(1,I)}function o(I){return c(2,I)}function n(I){return c(3,I)}function G(I){return c(4,I)}function D(I){return c(5,I)}function p(I){return c(6,I)}function x(I){return c(7,I)}function Z(I){return c(8,I)}function k(I){return c(9,I)}function S(I){return c(10,I)}function f(I){return c(12,I)}function V(I,g,b,e){const c=b.value;b.value=function(){let b=c;if("undefined"!==typeof _native&&_native[g]){const I=_native[g];b=e?function(){return e(...arguments)?I(...arguments):c(...arguments)}:I}return I[g]=b,b(...arguments)}}V.filter=function(I){return(g,b,e)=>V(g,b,e,I)}},12622:(I,g,b)=>{b.d(g,{b:()=>n});var e=b(12437),c=b(12629),z=b(12637),M=b(12590),J=b(12588);const o=function(I,g,b){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const z=I();c.d&&c.d.HasTags(g)&&c.d.AddTagsTo(z,c.d.GetTags(g,!0));const M=(0,J.e)(z),o={};for(const c in M){const I=M[c],J=g[c],G=I.type;if(void 0!==J&&null!==J&&("uniqueId"!==c||n.AllowLoadingUniqueId))switch(G){case 0:case 6:case 9:case 11:z[c]=J;break;case 1:e.cloneTexturesOnlyOnce&&o[J.uniqueId]?z[c]=o[J.uniqueId]:(z[c]=b||J.isRenderTarget?J:J.clone(),o[J.uniqueId]=z[c]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:z[c]=b?J:J.clone()}}return z};class n{static AppendSerializedAnimations(I,g){if(I.animations){g.animations=[];for(let b=0;b<I.animations.length;b++){const e=I.animations[b];g.animations.push(e.serialize())}}}static Serialize(I,g){g||(g={}),c.d&&(g.tags=c.d.GetTags(I));const b=(0,J.e)(I);for(const e in b){const c=b[e],z=c.sourceName||e,M=c.type,J=I[e];if(void 0!==J&&null!==J&&("uniqueId"!==e||n.AllowLoadingUniqueId))switch(M){case 0:g[z]=J;break;case 1:case 3:case 7:case 9:g[z]=J.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:g[z]=J.bb();break;case 6:case 11:g[z]=J.id}}return g}static ParseProperties(I,g,b,e){e||(e="");const c=(0,J.e)(g);for(const J in c){const o=c[J],G=I[o.sourceName||J],D=o.type;if(void 0!==G&&null!==G&&("uniqueId"!==J||n.AllowLoadingUniqueId)){const I=g;switch(D){case 0:I[J]=G;break;case 1:b&&(I[J]=n._TextureParser(G,b,e));break;case 2:I[J]=z.Eg.mb(G);break;case 3:I[J]=n._FresnelParametersParser(G);break;case 4:I[J]=M.Vector2.mb(G);break;case 5:I[J]=M.Vg.mb(G);break;case 6:b&&(I[J]=b.getLastMeshById(G));break;case 7:I[J]=n._ColorCurvesParser(G);break;case 8:I[J]=z.Sb.mb(G);break;case 9:I[J]=n._ImageProcessingConfigurationParser(G);break;case 10:I[J]=M.Quaternion.mb(G);break;case 11:b&&(I[J]=b.getCameraById(G));break;case 12:I[J]=M.Matrix.mb(G)}}}}static Parse(I,g,b){let e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const z=I();return c.d&&c.d.AddTagsTo(z,g.tags),n.ParseProperties(g,z,b,e),z}static Clone(I,g){return o(I,g,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(I,g){return o(I,g,!0)}}n.AllowLoadingUniqueId=!1,n._ImageProcessingConfigurationParser=I=>{throw(0,e.c)("ImageProcessingConfiguration")},n._FresnelParametersParser=I=>{throw(0,e.c)("FresnelParameters")},n._ColorCurvesParser=I=>{throw(0,e.c)("ColorCurves")},n._TextureParser=(I,g,b)=>{throw(0,e.c)("Texture")}},12629:(I,g,b)=>{b.d(g,{d:()=>c});class e{static Eval(I,g){return"true"===(I=I.match(/\([^()]*\)/g)?I.replace(/\([^()]*\)/g,(I=>(I=I.slice(1,I.length-1),e._HandleParenthesisContent(I,g)))):e._HandleParenthesisContent(I,g))||"false"!==I&&e.Eval(I,g)}static _HandleParenthesisContent(I,g){let b;g=g||(I=>"true"===I);const c=I.split("||");for(const z in c)if(Object.prototype.hasOwnProperty.call(c,z)){let I=e._SimplifyNegation(c[z].trim());const M=I.split("&&");if(M.length>1)for(let c=0;c<M.length;++c){const z=e._SimplifyNegation(M[c].trim());if(b="true"!==z&&"false"!==z?"!"===z[0]?!g(z.substring(1)):g(z):"true"===z,!b){I="false";break}}if(b||"true"===I){b=!0;break}b="true"!==I&&"false"!==I?"!"===I[0]?!g(I.substring(1)):g(I):"true"===I}return b?"true":"false"}static _SimplifyNegation(I){return"!true"===(I=(I=I.replace(/^[\s!]+/,(I=>(I=I.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?I="false":"!false"===I&&(I="true"),I}}class c{static EnableFor(I){I._tags=I._tags||{},I.hasTags=()=>c.HasTags(I),I.addTags=g=>c.AddTagsTo(I,g),I.removeTags=g=>c.RemoveTagsFrom(I,g),I.matchesTagsQuery=g=>c.MatchesQuery(I,g)}static DisableFor(I){delete I._tags,delete I.hasTags,delete I.addTags,delete I.removeTags,delete I.matchesTagsQuery}static HasTags(I){if(!I._tags)return!1;const g=I._tags;for(const b in g)if(Object.prototype.hasOwnProperty.call(g,b))return!0;return!1}static GetTags(I){let g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!I._tags)return null;if(g){const g=[];for(const b in I._tags)Object.prototype.hasOwnProperty.call(I._tags,b)&&!0===I._tags[b]&&g.push(b);return g.join(" ")}return I._tags}static AddTagsTo(I,g){if(!g)return;if("string"!==typeof g)return;const b=g.split(" ");for(const e of b)c._AddTagTo(I,e)}static _AddTagTo(I,g){""!==(g=g.trim())&&"true"!==g&&"false"!==g&&(g.match(/[\s]/)||g.match(/^([!]|([|]|[&]){2})/)||(c.EnableFor(I),I._tags[g]=!0))}static RemoveTagsFrom(I,g){if(!c.HasTags(I))return;const b=g.split(" ");for(const e in b)c._RemoveTagFrom(I,b[e])}static _RemoveTagFrom(I,g){delete I._tags[g]}static MatchesQuery(I,g){return void 0===g||(""===g?c.HasTags(I):e.Eval(g,(g=>c.HasTags(I)&&I._tags[g])))}}},12577:(I,g,b)=>{b.d(g,{d:()=>e});function e(I,g,b,e){var c,z=arguments.length,M=z<3?g:null===e?e=Object.getOwnPropertyDescriptor(g,b):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)M=Reflect.decorate(I,g,b,e);else for(var J=I.length-1;J>=0;J--)(c=I[J])&&(M=(z<3?c(M):z>3?c(g,b,M):c(g,b))||M);return z>3&&M&&Object.defineProperty(g,b,M),M}Object.create;Object.create}}]);