"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[13],{11247:(B,I,C)=>{C.d(I,{b:()=>M});let M=!1},11217:(B,I,C)=>{C.d(I,{c:()=>H});var M=C(11180),x=C(11186),y=C(11022),f=C(11194),L=C(11056),e=C(11156),g=(C(11062),C(11223));class N{get wrapU(){return this._wrapU}set wrapU(B){this._wrapU=B}get wrapV(){return this._wrapV}set wrapV(B){this._wrapV=B}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(B){this._texture&&(this._texture.isCube=B)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(B){this._texture&&(this._texture.is3D=B)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(B){this._texture&&(this._texture.is2DArray=B)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(B){return void 0!==(null===B||void 0===B?void 0:B.shareDepth)}constructor(B){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=g.e.Zero(),this._cachedBaseSize=g.e.Zero(),this._initialSamplingMode=2,this._texture=N._IsRenderTargetWrapper(B)?B.texture:B,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(B){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(B,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var R=C(11226);class H extends N{set if(B){this._hasAlpha!==B&&(this._hasAlpha=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get if(){return this._hasAlpha}set getAlphaFromRGB(B){this._getAlphaFromRGB!==B&&(this._getAlphaFromRGB=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(B){this._coordinatesIndex!==B&&(this._coordinatesIndex=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(B){this._coordinatesMode!==B&&(this._coordinatesMode=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(B){this._wrapU=B}get wrapV(){return this._wrapV}set wrapV(B){this._wrapV=B}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(B){this._texture?this._texture.isCube=B:this._isCube=B}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(B){this._texture&&(this._texture.is3D=B)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(B){this._texture&&(this._texture.is2DArray=B)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(B){var I;if(this._texture){if(this._texture._gammaSpace===B)return;this._texture._gammaSpace=B}else{if(this._gammaSpace===B)return;this._gammaSpace=B}null===(I=this.rB())||void 0===I||I.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(B){var I;B!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=B),null===(I=this.rB())||void 0===I||I.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(B){this._texture&&(this._texture._lodGenerationOffset=B)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(B){this._texture&&(this._texture._lodGenerationScale=B)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(B){this._texture&&(this._texture._linearSpecularLOD=B)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(B){this._texture&&(this._texture._irradianceTexture=B)}get uid(){return this._uid||(this._uid=(0,e.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(B){this._onDisposeObserver&&this.If.remove(this._onDisposeObserver),this._onDisposeObserver=this.If.add(B)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=H.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.If=new y.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,B?H._IsScene(B)?this._scene=B:this._engine=B:this._scene=L.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=I,this._uid=null}rB(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return f.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return f.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(B){}get canRescale(){return!1}_getFromCache(B,I,C,M,x,y){const f=this._getEngine();if(!f)return null;const L=f._getUseSRGBBuffer(!!x,I),e=f.getLoadedTexturesCache();for(let g=0;g<e.length;g++){const f=e[g];if((void 0===x||L===f._useSRGBBuffer)&&(void 0===M||M===f.invertY)&&f.url===B&&f.generateMipMaps===!I&&(!C||C===f.samplingMode)&&(void 0===y||y===f.isCube))return f.incrementReferences(),f}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const B=this.rB();B&&B.markAllMaterialsAsDirty(1)}readPixels(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=arguments.length>4&&void 0!==arguments[4]&&arguments[4],y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,L=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,e=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const g=this._getEngine();if(!g)return null;const N=this.getSize();let R=N.width,H=N.height;0!==I&&(R/=Math.pow(2,I),H/=Math.pow(2,I),R=Math.round(R),H=Math.round(H)),L=Math.min(R,L),e=Math.min(H,e);try{return this._texture.isCube?g._readTexturePixels(this._texture,L,e,B,I,C,M,x,y,f):g._readTexturePixels(this._texture,L,e,-1,I,C,M,x,y,f)}catch(F){return null}}_readPixelsSync(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,M=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],x=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const y=this.getSize();let f=y.width,L=y.height;const e=this._getEngine();if(!e)return null;0!=I&&(f/=Math.pow(2,I),L/=Math.pow(2,I),f=Math.round(f),L=Math.round(L));try{return this._texture.isCube?e._readTexturePixelsSync(this._texture,f,L,B,I,C,M,x):e._readTexturePixelsSync(this._texture,f,L,-1,I,C,M,x)}catch(g){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const B=this._scene.textures.indexOf(this);if(B>=0&&this._scene.textures.splice(B,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const B=this._parentContainer.textures.indexOf(this);B>-1&&this._parentContainer.textures.splice(B,1),this._parentContainer=null}}this.If.notifyObservers(this),this.If.clear(),this.metadata=null,super.dispose()}serialize(){let B=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!B)return null;const I=R.d.Serialize(this);return R.d.AppendSerializedAnimations(this,I),I}static WhenAllReady(B,I){let C=B.length;if(0!==C)for(let M=0;M<B.length;M++){const x=B[M];if(x.isReady())0===--C&&I();else{const B=x.onLoadObservable;B?B.addOnce((()=>{0===--C&&I()})):0===--C&&I()}}else I()}static _IsScene(B){return"Scene"===B.getClassName()}}H.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,M.e)([(0,x.K)()],H.prototype,"uniqueId",void 0),(0,M.e)([(0,x.K)()],H.prototype,"name",void 0),(0,M.e)([(0,x.K)()],H.prototype,"displayName",void 0),(0,M.e)([(0,x.K)()],H.prototype,"metadata",void 0),(0,M.e)([(0,x.K)("if")],H.prototype,"_hasAlpha",void 0),(0,M.e)([(0,x.K)("getAlphaFromRGB")],H.prototype,"_getAlphaFromRGB",void 0),(0,M.e)([(0,x.K)()],H.prototype,"level",void 0),(0,M.e)([(0,x.K)("coordinatesIndex")],H.prototype,"_coordinatesIndex",void 0),(0,M.e)([(0,x.K)()],H.prototype,"optimizeUVAllocation",void 0),(0,M.e)([(0,x.K)("coordinatesMode")],H.prototype,"_coordinatesMode",void 0),(0,M.e)([(0,x.K)()],H.prototype,"wrapU",null),(0,M.e)([(0,x.K)()],H.prototype,"wrapV",null),(0,M.e)([(0,x.K)()],H.prototype,"wrapR",void 0),(0,M.e)([(0,x.K)()],H.prototype,"anisotropicFilteringLevel",void 0),(0,M.e)([(0,x.K)()],H.prototype,"isCube",null),(0,M.e)([(0,x.K)()],H.prototype,"is3D",null),(0,M.e)([(0,x.K)()],H.prototype,"is2DArray",null),(0,M.e)([(0,x.K)()],H.prototype,"gammaSpace",null),(0,M.e)([(0,x.K)()],H.prototype,"invertZ",void 0),(0,M.e)([(0,x.K)()],H.prototype,"lodLevelInAlpha",void 0),(0,M.e)([(0,x.K)()],H.prototype,"lodGenerationOffset",null),(0,M.e)([(0,x.K)()],H.prototype,"lodGenerationScale",null),(0,M.e)([(0,x.K)()],H.prototype,"linearSpecularLOD",null),(0,M.e)([(0,x.B)()],H.prototype,"irradianceTexture",null),(0,M.e)([(0,x.K)()],H.prototype,"isRenderTarget",void 0)},11171:(B,I,C)=>{C.d(I,{c:()=>G});var M=C(11180),x=C(11186),y=C(11022),f=C(11194),L=C(11217),e=C(11149),g=C(11042),N=C(11091),R=C(11141),H=C(11242),F=C(11072);function k(B,I){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const M=I.width,x=I.height;if(B instanceof Float32Array){let I=B.byteLength/B.BYTES_PER_ELEMENT;const C=new Uint8Array(I);for(;--I>=0;){let M=B[I];M<0?M=0:M>1&&(M=1),C[I]=255*M}B=C}const y=document.createElement("canvas");y.width=M,y.height=x;const f=y.getContext("2d");if(!f)return null;const L=f.createImageData(M,x);if(L.data.set(B),f.putImageData(L,0,0),C){const B=document.createElement("canvas");B.width=M,B.height=x;const I=B.getContext("2d");return I?(I.translate(0,x),I.scale(1,-1),I.drawImage(y,0,0),B.toDataURL("image/png")):null}return y.toDataURL("image/png")}function q(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const M=B.getInternalTexture();if(!M)return null;const x=B._readPixelsSync(I,C);return x?k(x,B.getSize(),M.invertY):null}async function S(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const M=B.getInternalTexture();if(!M)return null;const x=await B.readPixels(I,C);return x?k(x,B.getSize(),M.invertY):null}var o=C(11247),U=C(11226);class G extends L.c{static _CreateVideoTexture(B,I,C){arguments.length>5&&void 0!==arguments[5]||G.TRILINEAR_SAMPLINGMODE;throw(0,g.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(B){this._isBlocking=B}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(B,I,C,M){let x,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.TRILINEAR_SAMPLINGMODE,L=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,e=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,R=arguments.length>8&&void 0!==arguments[8]&&arguments[8],H=arguments.length>9?arguments[9]:void 0,F=arguments.length>10?arguments[10]:void 0,k=arguments.length>11?arguments[11]:void 0,q=arguments.length>12?arguments[12]:void 0,S=arguments.length>13?arguments[13]:void 0;super(I),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new y.e,this._isBlocking=!0,this.name=B||"",this.url=B;let U=!1,V=null,c=!0;"object"===typeof C&&null!==C?(x=C.noMipmap??!1,M=C.invertY??!o.b,f=C.samplingMode??G.TRILINEAR_SAMPLINGMODE,L=C.h??null,e=C.onError??null,g=C.buffer??null,R=C.deleteBuffer??!1,H=C.format,F=C.mimeType,k=C.loaderOptions,q=C.creationFlags,U=C.useSRGBBuffer??!1,V=C.internalTexture??null,c=C.gammaSpace??c,S=C.forcedExtension??S):x=!!C,this._gammaSpace=c,this._noMipmap=x,this._invertY=void 0===M?!o.b:M,this._initialSamplingMode=f,this._buffer=g,this._deleteBuffer=R,this._mimeType=F,this._loaderOptions=k,this._creationFlags=q,this._useSRGBBuffer=U,this._forcedExtension=S,void 0!==H&&(this._format=H);const t=this.rB(),r=this._getEngine();if(!r)return;r.onBeforeTextureInitObservable.notifyObservers(this);const A=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),L&&L(),!this.isBlocking&&t&&t.resetCachedMaterial()},D=(B,I)=>{this._loadingError=!0,this._errorObject={message:B,exception:I},e&&e(B,I),G.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!V)return this._delayedOnLoad=A,void(this._delayedOnError=D);if(this._texture=V??this._getFromCache(this.url,x,f,this._invertY,U,this.isCube),this._texture)if(this._texture.isReady)N.e.SetImmediate((()=>A()));else{const B=this._texture.onLoadedObservable.add(A);this._texture.onErrorObservable.add((I=>{var C;D(I.message,I.exception),null===(C=this._texture)||void 0===C||C.onLoadedObservable.remove(B)}))}else if(t&&t.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=A,this._delayedOnError=D;else{try{this._texture=r.createTexture(this.url,x,this._invertY,t,f,A,D,this._buffer,void 0,this._format,this._forcedExtension,F,k,q,U)}catch(J){throw D("error loading",J),J}R&&(this._buffer=null)}}updateURL(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,M=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.rB().markAllMaterialsAsDirty(1,(B=>B.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=B),this.url=B,this._buffer=I,this._forcedExtension=M,this.delayLoadState=4,C&&(this._delayedOnLoad=C),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const B=this.rB();B&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?N.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=B.getEngine().createTexture(this.url,this._noMipmap,this._invertY,B,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(B,I,C,M){B*=this._cachedUScale,I*=this._cachedVScale,B-=this.uRotationCenter*this._cachedUScale,I-=this.vRotationCenter*this._cachedVScale,C-=this.wRotationCenter,f.HI.TransformCoordinatesFromFloatsToRef(B,I,C,this._rowGenerationMatrix,M),M.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,M.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,M.z+=this.wRotationCenter}getTextureMatrix(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*B===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*B,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=f.Matrix.Zero(),this._rowGenerationMatrix=new f.Matrix,this._t0=f.HI.Zero(),this._t1=f.HI.Zero(),this._t2=f.HI.Zero()),f.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(f.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,f.TmpVectors.Matrix[0]),f.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,f.TmpVectors.Matrix[1]),f.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,f.TmpVectors.Matrix[2]),f.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,f.TmpVectors.Matrix[3]),f.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(f.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.cR(this._t0),this._t2.cR(this._t0),f.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const I=this.rB();if(!I)return this._cachedTextureMatrix;const C=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&C!==this._cachedIdentity3x2&&I.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const B=this.rB();if(!B)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==G.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===B.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=f.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=f.Matrix.Zero());const I=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case G.PLANAR_MODE:f.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case G.PROJECTION_MODE:{f.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const I=B.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=I.updateFlag,I.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:f.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return I&&B.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const B={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,h:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return U.d.Clone((()=>new G(this._texture?this._texture.url:null,this.rB(),B)),this)}serialize(){var B;const I=this.name;G.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const C=super.serialize(G._SerializeInternalTextureUniqueId);if(!C)return null;if(G.SerializeBuffers||G.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))C.base64String=this._buffer,C.name=C.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const B=this.mimeType||"image/png";C.base64String=`data:${B};base64,${(0,F.j)(this._buffer)}`}else(G.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(C.base64String=!this._engine||this._engine._features.supportSyncTextureRead?q(this):S(this));var M;(C.invertY=this._invertY,C.samplingMode=this.samplingMode,C._creationFlags=this._creationFlags,C._useSRGBBuffer=this._useSRGBBuffer,G._SerializeInternalTextureUniqueId)&&(C.internalTextureUniqueId=null===(M=this._texture)||void 0===M?void 0:M.uniqueId);return C.internalTextureLabel=null===(B=this._texture)||void 0===B?void 0:B.label,C.noMipmap=this._noMipmap,this.name=I,C}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(B,I,C){if(B.customType){const M=R.d.Instantiate(B.customType).Parse(B,I,C);return B.samplingMode&&M.updateSamplingMode&&M._samplingMode&&M._samplingMode!==B.samplingMode&&M.updateSamplingMode(B.samplingMode),M}if(B.isCube&&!B.isRenderTarget)return G._CubeTextureParser(B,I,C);const M=void 0!==B.internalTextureUniqueId;if(!B.name&&!B.isRenderTarget&&!M)return null;let x;if(M){const C=I.getEngine().getLoadedTexturesCache();for(const I of C)if(I.uniqueId===B.internalTextureUniqueId){x=I;break}}const y=I=>{if(I&&I._texture&&(I._texture._cachedWrapU=null,I._texture._cachedWrapV=null,I._texture._cachedWrapR=null),B.samplingMode){const C=B.samplingMode;I&&I.samplingMode!==C&&I.updateSamplingMode(C)}if(I&&B.animations)for(let C=0;C<B.animations.length;C++){const M=B.animations[C],x=(0,e.e)("BABYLON.Animation");x&&I.animations.push(x.Parse(M))}I&&I._texture&&(M&&!x&&I._texture._setUniqueId(B.internalTextureUniqueId),I._texture.label=B.internalTextureLabel)};return U.d.Parse((()=>{let M=!0;if(B.noMipmap&&(M=!1),B.mirrorPlane){const C=G._CreateMirror(B.name,B.renderTargetSize,I,M);return C._waitingRenderList=B.renderList,C.mirrorPlane=H.d.oI(B.mirrorPlane),y(C),C}if(B.isRenderTarget){let C=null;if(B.isCube){if(I.reflectionProbes)for(let M=0;M<I.reflectionProbes.length;M++){const C=I.reflectionProbes[M];if(C.name===B.name)return C.cubeTexture}}else C=G._CreateRenderTargetTexture(B.name,B.renderTargetSize,I,M,B._creationFlags??0),C._waitingRenderList=B.renderList;return y(C),C}if(B.isVideo){const x=G._CreateVideoTexture(C+(B.url||B.name),C+(B.src||B.url),I,M,B.invertY,B.samplingMode,B.settings||{});return y(x),x}{let f;if(B.base64String&&!x)f=G.CreateFromBase64String(B.base64String,B.base64String,I,!M,B.invertY,B.samplingMode,(()=>{y(f)}),B._creationFlags??0,B._useSRGBBuffer??!1),f.name=B.name;else{let L;L=B.name&&(B.name.indexOf("://")>0||B.name.startsWith("data:"))?B.name:C+B.name,B.url&&(B.url.startsWith("data:")||G.UseSerializedUrlIfAny)&&(L=B.url);const e={noMipmap:!M,invertY:B.invertY,samplingMode:B.samplingMode,h:()=>{y(f)},internalTexture:x};f=new G(L,I,e)}return f}}),B,I)}static CreateFromBase64String(B,I,C,M,x){let y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:G.TRILINEAR_SAMPLINGMODE;return new G("data:"+I,C,M,x,y,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,B,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(B,I,C){let M=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=arguments.length>4?arguments[4]:void 0,y=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:G.TRILINEAR_SAMPLINGMODE,L=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,e=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,N=arguments.length>10?arguments[10]:void 0,R=arguments.length>11?arguments[11]:void 0;return"data:"!==B.substring(0,5)&&(B="data:"+B),new G(B,C,x,y,f,L,e,I,M,g,void 0,void 0,N,R)}}G.SerializeBuffers=!0,G.ForceSerializeBuffers=!1,G.OnTextureLoadErrorObservable=new y.e,G._SerializeInternalTextureUniqueId=!1,G._CubeTextureParser=(B,I,C)=>{throw(0,g.c)("CubeTexture")},G._CreateMirror=(B,I,C,M)=>{throw(0,g.c)("MirrorTexture")},G._CreateRenderTargetTexture=(B,I,C,M,x)=>{throw(0,g.c)("RenderTargetTexture")},G.NEAREST_SAMPLINGMODE=1,G.NEAREST_NEAREST_MIPLINEAR=8,G.BILINEAR_SAMPLINGMODE=2,G.LINEAR_LINEAR_MIPNEAREST=11,G.TRILINEAR_SAMPLINGMODE=3,G.LINEAR_LINEAR_MIPLINEAR=3,G.NEAREST_NEAREST_MIPNEAREST=4,G.NEAREST_LINEAR_MIPNEAREST=5,G.NEAREST_LINEAR_MIPLINEAR=6,G.NEAREST_LINEAR=7,G.NEAREST_NEAREST=1,G.LINEAR_NEAREST_MIPNEAREST=9,G.LINEAR_NEAREST_MIPLINEAR=10,G.LINEAR_LINEAR=2,G.LINEAR_NEAREST=12,G.EXPLICIT_MODE=0,G.SPHERICAL_MODE=1,G.PLANAR_MODE=2,G.CUBIC_MODE=3,G.PROJECTION_MODE=4,G.SKYBOX_MODE=5,G.INVCUBIC_MODE=6,G.EQUIRECTANGULAR_MODE=7,G.FIXED_EQUIRECTANGULAR_MODE=8,G.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,G.CLAMP_ADDRESSMODE=0,G.WRAP_ADDRESSMODE=1,G.MIRROR_ADDRESSMODE=2,G.UseSerializedUrlIfAny=!1,(0,M.e)([(0,x.K)()],G.prototype,"url",void 0),(0,M.e)([(0,x.K)()],G.prototype,"uOffset",void 0),(0,M.e)([(0,x.K)()],G.prototype,"vOffset",void 0),(0,M.e)([(0,x.K)()],G.prototype,"uScale",void 0),(0,M.e)([(0,x.K)()],G.prototype,"vScale",void 0),(0,M.e)([(0,x.K)()],G.prototype,"uAng",void 0),(0,M.e)([(0,x.K)()],G.prototype,"vAng",void 0),(0,M.e)([(0,x.K)()],G.prototype,"wAng",void 0),(0,M.e)([(0,x.K)()],G.prototype,"uRotationCenter",void 0),(0,M.e)([(0,x.K)()],G.prototype,"vRotationCenter",void 0),(0,M.e)([(0,x.K)()],G.prototype,"wRotationCenter",void 0),(0,M.e)([(0,x.K)()],G.prototype,"homogeneousRotationInUVTransform",void 0),(0,M.e)([(0,x.K)()],G.prototype,"isBlocking",null),(0,e.h)("BABYLON.Texture",G),U.d._TextureParser=G.Parse},11242:(B,I,C)=>{C.d(I,{d:()=>x});var M=C(11194);class x{constructor(B,I,C,x){this.normal=new M.HI(B,I,C),this.d=x}Df(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new x(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let B=this.normal.getHashCode();return B=397*B^this.d,B}normalize(){const B=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let I=0;return 0!==B&&(I=1/B),this.normal.x*=I,this.normal.y*=I,this.normal.z*=I,this.d*=I,this}transform(B){const I=x._TmpMatrix;B.invertToRef(I);const C=I.m,M=this.normal.x,y=this.normal.y,f=this.normal.z,L=this.d,e=M*C[0]+y*C[1]+f*C[2]+L*C[3],g=M*C[4]+y*C[5]+f*C[6]+L*C[7],N=M*C[8]+y*C[9]+f*C[10]+L*C[11],R=M*C[12]+y*C[13]+f*C[14]+L*C[15];return new x(e,g,N,R)}dotCoordinate(B){return this.normal.x*B.x+this.normal.y*B.y+this.normal.z*B.z+this.d}copyFromPoints(B,I,C){const M=I.x-B.x,x=I.y-B.y,y=I.z-B.z,f=C.x-B.x,L=C.y-B.y,e=C.z-B.z,g=x*e-y*L,N=y*f-M*e,R=M*L-x*f,H=Math.sqrt(g*g+N*N+R*R);let F;return F=0!==H?1/H:0,this.normal.x=g*F,this.normal.y=N*F,this.normal.z=R*F,this.d=-(this.normal.x*B.x+this.normal.y*B.y+this.normal.z*B.z),this}isFrontFacingTo(B,I){return M.HI.Dot(this.normal,B)<=I}signedDistanceTo(B){return M.HI.Dot(B,this.normal)+this.d}static oI(B){return new x(B[0],B[1],B[2],B[3])}static FromPoints(B,I,C){const M=new x(0,0,0,0);return M.copyFromPoints(B,I,C),M}static FromPositionAndNormal(B,I){const C=new x(0,0,0,0);return this.FromPositionAndNormalToRef(B,I,C)}static FromPositionAndNormalToRef(B,I,C){return C.normal.M(I),C.normal.normalize(),C.d=-B.dot(C.normal),C}static SignedDistanceToPlaneFromPositionAndNormal(B,I,C){const x=-(I.x*B.x+I.y*B.y+I.z*B.z);return M.HI.Dot(C,I)+x}}x._TmpMatrix=M.Matrix.Identity()},11223:(B,I,C)=>{C.d(I,{e:()=>M});class M{constructor(B,I){this.width=B,this.height=I}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let B=0|this.width;return B=397*B^this.height,B}M(B){this.width=B.width,this.height=B.height}vf(B,I){return this.width=B,this.height=I,this}set(B,I){return this.vf(B,I)}multiplyByFloats(B,I){return new M(this.width*B,this.height*I)}clone(){return new M(this.width,this.height)}equals(B){return!!B&&(this.width===B.width&&this.height===B.height)}get surface(){return this.width*this.height}static Zero(){return new M(0,0)}add(B){return new M(this.width+B.width,this.height+B.height)}FI(B){return new M(this.width-B.width,this.height-B.height)}scale(B){return new M(this.width*B,this.height*B)}static Lerp(B,I,C){const x=B.width+(I.width-B.width)*C,y=B.height+(I.height-B.height)*C;return new M(x,y)}}},11192:(B,I,C)=>{C.d(I,{d:()=>y,e:()=>f});const M={},x={};function y(B){const I=B.getClassName();return x[I]||(x[I]={}),x[I]}function f(B){const I=B.getClassName();if(M[I])return M[I];M[I]={};const C=M[I];let y=B,f=I;for(;f;){const B=x[f];for(const x in B)C[x]=B[x];let I,M=!1;do{if(I=Object.getPrototypeOf(y),!I.getClassName){M=!0;break}if(I.getClassName()!==f)break;y=I}while(I);if(M)break;f=I.getClassName(),y=I}return C}},11186:(B,I,C)=>{C.d(I,{B:()=>L,F:()=>N,G:()=>R,K:()=>f,c:()=>y,f:()=>U,j:()=>F,m:()=>e,n:()=>k,r:()=>g,v:()=>q,w:()=>o,x:()=>H,z:()=>S});var M=C(11192);function x(B,I){return(C,x)=>{const y=(0,M.d)(C);y[x]||(y[x]={type:B,sourceName:I})}}function y(B){return function(B){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(C,M)=>{const x=I||"_"+M;Object.defineProperty(C,M,{get:function(){return this[x]},set:function(I){var M;"function"===typeof(null===(M=this[x])||void 0===M?void 0:M.equals)&&this[x].equals(I)||this[x]!==I&&(this[x]=I,C[B].apply(this))},enumerable:!0,configurable:!0})}}(B,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function f(B){return x(0,B)}function L(B){return x(1,B)}function e(B){return x(2,B)}function g(B){return x(3,B)}function N(B){return x(4,B)}function R(B){return x(5,B)}function H(B){return x(6,B)}function F(B){return x(7,B)}function k(B){return x(8,B)}function q(B){return x(9,B)}function S(B){return x(10,B)}function o(B){return x(12,B)}function U(B,I,C,M){const x=C.value;C.value=function(){let C=x;if("undefined"!==typeof _native&&_native[I]){const B=_native[I];C=M?function(){return M(...arguments)?B(...arguments):x(...arguments)}:B}return B[I]=C,C(...arguments)}}U.filter=function(B){return(I,C,M)=>U(I,C,M,B)}},11226:(B,I,C)=>{C.d(I,{d:()=>g});var M=C(11042),x=C(11232),y=C(11239),f=C(11194),L=C(11192);const e=function(B,I,C){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=B();x.e&&x.e.HasTags(I)&&x.e.AddTagsTo(y,x.e.GetTags(I,!0));const f=(0,L.e)(y),e={};for(const x in f){const B=f[x],L=I[x],N=B.type;if(void 0!==L&&null!==L&&("uniqueId"!==x||g.AllowLoadingUniqueId))switch(N){case 0:case 6:case 9:case 11:y[x]=L;break;case 1:M.cloneTexturesOnlyOnce&&e[L.uniqueId]?y[x]=e[L.uniqueId]:(y[x]=C||L.isRenderTarget?L:L.clone(),e[L.uniqueId]=y[x]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:y[x]=C?L:L.clone()}}return y};class g{static AppendSerializedAnimations(B,I){if(B.animations){I.animations=[];for(let C=0;C<B.animations.length;C++){const M=B.animations[C];I.animations.push(M.serialize())}}}static Serialize(B,I){I||(I={}),x.e&&(I.tags=x.e.GetTags(B));const C=(0,L.e)(B);for(const M in C){const x=C[M],y=x.sourceName||M,f=x.type,L=B[M];if(void 0!==L&&null!==L&&("uniqueId"!==M||g.AllowLoadingUniqueId))switch(f){case 0:I[y]=L;break;case 1:case 3:case 7:case 9:I[y]=L.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:I[y]=L.Df();break;case 6:case 11:I[y]=L.id}}return I}static ParseProperties(B,I,C,M){M||(M="");const x=(0,L.e)(I);for(const L in x){const e=x[L],N=B[e.sourceName||L],R=e.type;if(void 0!==N&&null!==N&&("uniqueId"!==L||g.AllowLoadingUniqueId)){const B=I;switch(R){case 0:B[L]=N;break;case 1:C&&(B[L]=g._TextureParser(N,C,M));break;case 2:B[L]=y.SI.oI(N);break;case 3:B[L]=g._FresnelParametersParser(N);break;case 4:B[L]=f.Vector2.oI(N);break;case 5:B[L]=f.HI.oI(N);break;case 6:C&&(B[L]=C.getLastMeshById(N));break;case 7:B[L]=g._ColorCurvesParser(N);break;case 8:B[L]=y.Pf.oI(N);break;case 9:B[L]=g._ImageProcessingConfigurationParser(N);break;case 10:B[L]=f.Quaternion.oI(N);break;case 11:C&&(B[L]=C.getCameraById(N));break;case 12:B[L]=f.Matrix.oI(N)}}}}static Parse(B,I,C){let M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const y=B();return x.e&&x.e.AddTagsTo(y,I.tags),g.ParseProperties(I,y,C,M),y}static Clone(B,I){return e(B,I,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(B,I){return e(B,I,!0)}}g.AllowLoadingUniqueId=!1,g._ImageProcessingConfigurationParser=B=>{throw(0,M.c)("ImageProcessingConfiguration")},g._FresnelParametersParser=B=>{throw(0,M.c)("FresnelParameters")},g._ColorCurvesParser=B=>{throw(0,M.c)("ColorCurves")},g._TextureParser=(B,I,C)=>{throw(0,M.c)("Texture")}},11232:(B,I,C)=>{C.d(I,{e:()=>x});class M{static Eval(B,I){return"true"===(B=B.match(/\([^()]*\)/g)?B.replace(/\([^()]*\)/g,(B=>(B=B.slice(1,B.length-1),M._HandleParenthesisContent(B,I)))):M._HandleParenthesisContent(B,I))||"false"!==B&&M.Eval(B,I)}static _HandleParenthesisContent(B,I){let C;I=I||(B=>"true"===B);const x=B.split("||");for(const y in x)if(Object.prototype.hasOwnProperty.call(x,y)){let B=M._SimplifyNegation(x[y].trim());const f=B.split("&&");if(f.length>1)for(let x=0;x<f.length;++x){const y=M._SimplifyNegation(f[x].trim());if(C="true"!==y&&"false"!==y?"!"===y[0]?!I(y.substring(1)):I(y):"true"===y,!C){B="false";break}}if(C||"true"===B){C=!0;break}C="true"!==B&&"false"!==B?"!"===B[0]?!I(B.substring(1)):I(B):"true"===B}return C?"true":"false"}static _SimplifyNegation(B){return"!true"===(B=(B=B.replace(/^[\s!]+/,(B=>(B=B.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?B="false":"!false"===B&&(B="true"),B}}class x{static EnableFor(B){B._tags=B._tags||{},B.hasTags=()=>x.HasTags(B),B.addTags=I=>x.AddTagsTo(B,I),B.removeTags=I=>x.RemoveTagsFrom(B,I),B.matchesTagsQuery=I=>x.MatchesQuery(B,I)}static DisableFor(B){delete B._tags,delete B.hasTags,delete B.addTags,delete B.removeTags,delete B.matchesTagsQuery}static HasTags(B){if(!B._tags)return!1;const I=B._tags;for(const C in I)if(Object.prototype.hasOwnProperty.call(I,C))return!0;return!1}static GetTags(B){let I=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!B._tags)return null;if(I){const I=[];for(const C in B._tags)Object.prototype.hasOwnProperty.call(B._tags,C)&&!0===B._tags[C]&&I.push(C);return I.join(" ")}return B._tags}static AddTagsTo(B,I){if(!I)return;if("string"!==typeof I)return;const C=I.split(" ");for(const M of C)x._AddTagTo(B,M)}static _AddTagTo(B,I){""!==(I=I.trim())&&"true"!==I&&"false"!==I&&(I.match(/[\s]/)||I.match(/^([!]|([|]|[&]){2})/)||(x.EnableFor(B),B._tags[I]=!0))}static RemoveTagsFrom(B,I){if(!x.HasTags(B))return;const C=I.split(" ");for(const M in C)x._RemoveTagFrom(B,C[M])}static _RemoveTagFrom(B,I){delete B._tags[I]}static MatchesQuery(B,I){return void 0===I||(""===I?x.HasTags(B):M.Eval(I,(I=>x.HasTags(B)&&B._tags[I])))}}},11180:(B,I,C)=>{C.d(I,{e:()=>M});function M(B,I,C,M){var x,y=arguments.length,f=y<3?I:null===M?M=Object.getOwnPropertyDescriptor(I,C):M;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(B,I,C,M);else for(var L=B.length-1;L>=0;L--)(x=B[L])&&(f=(y<3?x(f):y>3?x(I,C,f):x(I,C))||f);return y>3&&f&&Object.defineProperty(I,C,f),f}Object.create;Object.create}}]);