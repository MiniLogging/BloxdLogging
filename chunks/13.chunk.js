"use strict";(self.isj1uwvwrek=self.isj1uwvwrek||[]).push([[13],{13033:(I,x,L)=>{L.d(x,{e:()=>F});let F=!1},13004:(I,x,L)=>{L.d(x,{d:()=>e});var F=L(12969),X=L(12971),G=L(12797),Y=L(12983),p=L(12840),B=L(12945),l=(L(12842),L(13010));class W{get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(I){this._texture&&(this._texture.isCube=I)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(I){return void 0!==(null===I||void 0===I?void 0:I.shareDepth)}constructor(I){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=l.e.Zero(),this._cachedBaseSize=l.e.Zero(),this._initialSamplingMode=2,this._texture=W._IsRenderTargetWrapper(I)?I.texture:I,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(I){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(I,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var Q=L(13012);class e extends W{set bp(I){this._hasAlpha!==I&&(this._hasAlpha=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get bp(){return this._hasAlpha}set getAlphaFromRGB(I){this._getAlphaFromRGB!==I&&(this._getAlphaFromRGB=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(I){this._coordinatesIndex!==I&&(this._coordinatesIndex=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(I){this._coordinatesMode!==I&&(this._coordinatesMode=I,this._scene&&this._scene.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(I){this._wrapU=I}get wrapV(){return this._wrapV}set wrapV(I){this._wrapV=I}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(I){this._texture?this._texture.isCube=I:this._isCube=I}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(I){this._texture&&(this._texture.is3D=I)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(I){this._texture&&(this._texture.is2DArray=I)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(I){var x;if(this._texture){if(this._texture._gammaSpace===I)return;this._texture._gammaSpace=I}else{if(this._gammaSpace===I)return;this._gammaSpace=I}null===(x=this.tI())||void 0===x||x.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(I){var x;I!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=I),null===(x=this.tI())||void 0===x||x.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(I){this._texture&&(this._texture._lodGenerationOffset=I)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(I){this._texture&&(this._texture._lodGenerationScale=I)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(I){this._texture&&(this._texture._linearSpecularLOD=I)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(I){this._texture&&(this._texture._irradianceTexture=I)}get uid(){return this._uid||(this._uid=(0,B.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(I){this._onDisposeObserver&&this.cp.remove(this._onDisposeObserver),this._onDisposeObserver=this.cp.add(I)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.cp=new G.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,I?e._IsScene(I)?this._scene=I:this._engine=I:this._scene=p.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=x,this._uid=null}tI(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(I){}get canRescale(){return!1}_getFromCache(I,x,L,F,X,G){const Y=this._getEngine();if(!Y)return null;const p=Y._getUseSRGBBuffer(!!X,x),B=Y.getLoadedTexturesCache();for(let l=0;l<B.length;l++){const Y=B[l];if((void 0===X||p===Y._useSRGBBuffer)&&(void 0===F||F===Y.invertY)&&Y.url===I&&Y.generateMipMaps===!x&&(!L||L===Y.samplingMode)&&(void 0===G||G===Y.isCube))return Y.incrementReferences(),Y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const I=this.tI();I&&I.markAllMaterialsAsDirty(1)}readPixels(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,F=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4],G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const l=this._getEngine();if(!l)return null;const W=this.getSize();let Q=W.width,e=W.height;0!==x&&(Q/=Math.pow(2,x),e/=Math.pow(2,x),Q=Math.round(Q),e=Math.round(e)),p=Math.min(Q,p),B=Math.min(e,B);try{return this._texture.isCube?l._readTexturePixels(this._texture,p,B,I,x,L,F,X,G,Y):l._readTexturePixels(this._texture,p,B,-1,x,L,F,X,G,Y)}catch(g){return null}}_readPixelsSync(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,F=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],X=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const G=this.getSize();let Y=G.width,p=G.height;const B=this._getEngine();if(!B)return null;0!=x&&(Y/=Math.pow(2,x),p/=Math.pow(2,x),Y=Math.round(Y),p=Math.round(p));try{return this._texture.isCube?B._readTexturePixelsSync(this._texture,Y,p,I,x,L,F,X):B._readTexturePixelsSync(this._texture,Y,p,-1,x,L,F,X)}catch(l){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const I=this._scene.textures.indexOf(this);if(I>=0&&this._scene.textures.splice(I,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const I=this._parentContainer.textures.indexOf(this);I>-1&&this._parentContainer.textures.splice(I,1),this._parentContainer=null}}this.cp.notifyObservers(this),this.cp.clear(),this.metadata=null,super.dispose()}serialize(){let I=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!I)return null;const x=Q.c.Serialize(this);return Q.c.AppendSerializedAnimations(this,x),x}static WhenAllReady(I,x){let L=I.length;if(0!==L)for(let F=0;F<I.length;F++){const X=I[F];if(X.isReady())0===--L&&x();else{const I=X.onLoadObservable;I?I.addOnce((()=>{0===--L&&x()})):0===--L&&x()}}else x()}static _IsScene(I){return"Scene"===I.getClassName()}}e.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,F.d)([(0,X.K)()],e.prototype,"uniqueId",void 0),(0,F.d)([(0,X.K)()],e.prototype,"name",void 0),(0,F.d)([(0,X.K)()],e.prototype,"displayName",void 0),(0,F.d)([(0,X.K)()],e.prototype,"metadata",void 0),(0,F.d)([(0,X.K)("bp")],e.prototype,"_hasAlpha",void 0),(0,F.d)([(0,X.K)("getAlphaFromRGB")],e.prototype,"_getAlphaFromRGB",void 0),(0,F.d)([(0,X.K)()],e.prototype,"level",void 0),(0,F.d)([(0,X.K)("coordinatesIndex")],e.prototype,"_coordinatesIndex",void 0),(0,F.d)([(0,X.K)()],e.prototype,"optimizeUVAllocation",void 0),(0,F.d)([(0,X.K)("coordinatesMode")],e.prototype,"_coordinatesMode",void 0),(0,F.d)([(0,X.K)()],e.prototype,"wrapU",null),(0,F.d)([(0,X.K)()],e.prototype,"wrapV",null),(0,F.d)([(0,X.K)()],e.prototype,"wrapR",void 0),(0,F.d)([(0,X.K)()],e.prototype,"anisotropicFilteringLevel",void 0),(0,F.d)([(0,X.K)()],e.prototype,"isCube",null),(0,F.d)([(0,X.K)()],e.prototype,"is3D",null),(0,F.d)([(0,X.K)()],e.prototype,"is2DArray",null),(0,F.d)([(0,X.K)()],e.prototype,"gammaSpace",null),(0,F.d)([(0,X.K)()],e.prototype,"invertZ",void 0),(0,F.d)([(0,X.K)()],e.prototype,"lodLevelInAlpha",void 0),(0,F.d)([(0,X.K)()],e.prototype,"lodGenerationOffset",null),(0,F.d)([(0,X.K)()],e.prototype,"lodGenerationScale",null),(0,F.d)([(0,X.K)()],e.prototype,"linearSpecularLOD",null),(0,F.d)([(0,X.C)()],e.prototype,"irradianceTexture",null),(0,F.d)([(0,X.K)()],e.prototype,"isRenderTarget",void 0)},12965:(I,x,L)=>{L.d(x,{d:()=>q});var F=L(12969),X=L(12971),G=L(12797),Y=L(12983),p=L(13004),B=L(12938),l=L(12825),W=L(12865),Q=L(12929),e=L(13026),g=L(12849);function v(I,x){let L=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const F=x.width,X=x.height;if(I instanceof Float32Array){let x=I.byteLength/I.BYTES_PER_ELEMENT;const L=new Uint8Array(x);for(;--x>=0;){let F=I[x];F<0?F=0:F>1&&(F=1),L[x]=255*F}I=L}const G=document.createElement("canvas");G.width=F,G.height=X;const Y=G.getContext("2d");if(!Y)return null;const p=Y.createImageData(F,X);if(p.data.set(I),Y.putImageData(p,0,0),L){const I=document.createElement("canvas");I.width=F,I.height=X;const x=I.getContext("2d");return x?(x.translate(0,X),x.scale(1,-1),x.drawImage(G,0,0),I.toDataURL("image/png")):null}return G.toDataURL("image/png")}function z(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const F=I.getInternalTexture();if(!F)return null;const X=I._readPixelsSync(x,L);return X?v(X,I.getSize(),F.invertY):null}async function H(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const F=I.getInternalTexture();if(!F)return null;const X=await I.readPixels(x,L);return X?v(X,I.getSize(),F.invertY):null}var s=L(13033),U=L(13012);class q extends p.d{static _CreateVideoTexture(I,x,L){arguments.length>5&&void 0!==arguments[5]||q.TRILINEAR_SAMPLINGMODE;throw(0,l.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(I){this._isBlocking=I}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(I,x,L,F){let X,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:q.TRILINEAR_SAMPLINGMODE,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Q=arguments.length>8&&void 0!==arguments[8]&&arguments[8],e=arguments.length>9?arguments[9]:void 0,g=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0,z=arguments.length>12?arguments[12]:void 0,H=arguments.length>13?arguments[13]:void 0;super(x),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new G.c,this._isBlocking=!0,this.name=I||"",this.url=I;let U=!1,y=null,T=!0;"object"===typeof L&&null!==L?(X=L.noMipmap??!1,F=L.invertY??!s.e,Y=L.samplingMode??q.TRILINEAR_SAMPLINGMODE,p=L.h??null,B=L.onError??null,l=L.buffer??null,Q=L.deleteBuffer??!1,e=L.format,g=L.mimeType,v=L.loaderOptions,z=L.creationFlags,U=L.useSRGBBuffer??!1,y=L.internalTexture??null,T=L.gammaSpace??T,H=L.forcedExtension??H):X=!!L,this._gammaSpace=T,this._noMipmap=X,this._invertY=void 0===F?!s.e:F,this._initialSamplingMode=Y,this._buffer=l,this._deleteBuffer=Q,this._mimeType=g,this._loaderOptions=v,this._creationFlags=z,this._useSRGBBuffer=U,this._forcedExtension=H,void 0!==e&&(this._format=e);const Z=this.tI(),t=this._getEngine();if(!t)return;t.onBeforeTextureInitObservable.notifyObservers(this);const f=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),p&&p(),!this.isBlocking&&Z&&Z.resetCachedMaterial()},R=(I,x)=>{this._loadingError=!0,this._errorObject={message:I,exception:x},B&&B(I,x),q.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!y)return this._delayedOnLoad=f,void(this._delayedOnError=R);if(this._texture=y??this._getFromCache(this.url,X,Y,this._invertY,U,this.isCube),this._texture)if(this._texture.isReady)W.c.SetImmediate((()=>f()));else{const I=this._texture.onLoadedObservable.add(f);this._texture.onErrorObservable.add((x=>{var L;R(x.message,x.exception),null===(L=this._texture)||void 0===L||L.onLoadedObservable.remove(I)}))}else if(Z&&Z.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=f,this._delayedOnError=R;else{try{this._texture=t.createTexture(this.url,X,this._invertY,Z,Y,f,R,this._buffer,void 0,this._format,this._forcedExtension,g,v,z,U)}catch(n){throw R("error loading",n),n}Q&&(this._buffer=null)}}updateURL(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,L=arguments.length>2?arguments[2]:void 0,F=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.tI().markAllMaterialsAsDirty(1,(I=>I.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=I),this.url=I,this._buffer=x,this._forcedExtension=F,this.delayLoadState=4,L&&(this._delayedOnLoad=L),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const I=this.tI();I&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?W.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=I.getEngine().createTexture(this.url,this._noMipmap,this._invertY,I,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(I,x,L,F){I*=this._cachedUScale,x*=this._cachedVScale,I-=this.uRotationCenter*this._cachedUScale,x-=this.vRotationCenter*this._cachedVScale,L-=this.wRotationCenter,Y.sx.TransformCoordinatesFromFloatsToRef(I,x,L,this._rowGenerationMatrix,F),F.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,F.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,F.z+=this.wRotationCenter}getTextureMatrix(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*I===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*I,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Y.Matrix.Zero(),this._rowGenerationMatrix=new Y.Matrix,this._t0=Y.sx.Zero(),this._t1=Y.sx.Zero(),this._t2=Y.sx.Zero()),Y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Y.TmpVectors.Matrix[0]),Y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Y.TmpVectors.Matrix[1]),Y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Y.TmpVectors.Matrix[2]),Y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Y.TmpVectors.Matrix[3]),Y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.aQ(this._t0),this._t2.aQ(this._t0),Y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const x=this.tI();if(!x)return this._cachedTextureMatrix;const L=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&L!==this._cachedIdentity3x2&&x.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const I=this.tI();if(!I)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==q.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===I.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Y.Matrix.Zero());const x=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case q.PLANAR_MODE:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case q.PROJECTION_MODE:{Y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const x=I.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=x.updateFlag,x.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return x&&I.markAllMaterialsAsDirty(1,(I=>I.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const I={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,h:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return U.c.Clone((()=>new q(this._texture?this._texture.url:null,this.tI(),I)),this)}serialize(){var I;const x=this.name;q.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const L=super.serialize(q._SerializeInternalTextureUniqueId);if(!L)return null;if(q.SerializeBuffers||q.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))L.base64String=this._buffer,L.name=L.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const I=this.mimeType||"image/png";L.base64String=`data:${I};base64,${(0,g.l)(this._buffer)}`}else(q.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(L.base64String=!this._engine||this._engine._features.supportSyncTextureRead?z(this):H(this));var F;(L.invertY=this._invertY,L.samplingMode=this.samplingMode,L._creationFlags=this._creationFlags,L._useSRGBBuffer=this._useSRGBBuffer,q._SerializeInternalTextureUniqueId)&&(L.internalTextureUniqueId=null===(F=this._texture)||void 0===F?void 0:F.uniqueId);return L.internalTextureLabel=null===(I=this._texture)||void 0===I?void 0:I.label,L.noMipmap=this._noMipmap,this.name=x,L}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(I,x,L){if(I.customType){const F=Q.c.Instantiate(I.customType).Parse(I,x,L);return I.samplingMode&&F.updateSamplingMode&&F._samplingMode&&F._samplingMode!==I.samplingMode&&F.updateSamplingMode(I.samplingMode),F}if(I.isCube&&!I.isRenderTarget)return q._CubeTextureParser(I,x,L);const F=void 0!==I.internalTextureUniqueId;if(!I.name&&!I.isRenderTarget&&!F)return null;let X;if(F){const L=x.getEngine().getLoadedTexturesCache();for(const x of L)if(x.uniqueId===I.internalTextureUniqueId){X=x;break}}const G=x=>{if(x&&x._texture&&(x._texture._cachedWrapU=null,x._texture._cachedWrapV=null,x._texture._cachedWrapR=null),I.samplingMode){const L=I.samplingMode;x&&x.samplingMode!==L&&x.updateSamplingMode(L)}if(x&&I.animations)for(let L=0;L<I.animations.length;L++){const F=I.animations[L],X=(0,B.b)("BABYLON.Animation");X&&x.animations.push(X.Parse(F))}x&&x._texture&&(F&&!X&&x._texture._setUniqueId(I.internalTextureUniqueId),x._texture.label=I.internalTextureLabel)};return U.c.Parse((()=>{let F=!0;if(I.noMipmap&&(F=!1),I.mirrorPlane){const L=q._CreateMirror(I.name,I.renderTargetSize,x,F);return L._waitingRenderList=I.renderList,L.mirrorPlane=e.b.tx(I.mirrorPlane),G(L),L}if(I.isRenderTarget){let L=null;if(I.isCube){if(x.reflectionProbes)for(let F=0;F<x.reflectionProbes.length;F++){const L=x.reflectionProbes[F];if(L.name===I.name)return L.cubeTexture}}else L=q._CreateRenderTargetTexture(I.name,I.renderTargetSize,x,F,I._creationFlags??0),L._waitingRenderList=I.renderList;return G(L),L}if(I.isVideo){const X=q._CreateVideoTexture(L+(I.url||I.name),L+(I.src||I.url),x,F,I.invertY,I.samplingMode,I.settings||{});return G(X),X}{let Y;if(I.base64String&&!X)Y=q.CreateFromBase64String(I.base64String,I.base64String,x,!F,I.invertY,I.samplingMode,(()=>{G(Y)}),I._creationFlags??0,I._useSRGBBuffer??!1),Y.name=I.name;else{let p;p=I.name&&(I.name.indexOf("://")>0||I.name.startsWith("data:"))?I.name:L+I.name,I.url&&(I.url.startsWith("data:")||q.UseSerializedUrlIfAny)&&(p=I.url);const B={noMipmap:!F,invertY:I.invertY,samplingMode:I.samplingMode,h:()=>{G(Y)},internalTexture:X};Y=new q(p,x,B)}return Y}}),I,x)}static CreateFromBase64String(I,x,L,F,X){let G=arguments.length>5&&void 0!==arguments[5]?arguments[5]:q.TRILINEAR_SAMPLINGMODE;return new q("data:"+x,L,F,X,G,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(I,x,L){let F=arguments.length>3&&void 0!==arguments[3]&&arguments[3],X=arguments.length>4?arguments[4]:void 0,G=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:q.TRILINEAR_SAMPLINGMODE,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,W=arguments.length>10?arguments[10]:void 0,Q=arguments.length>11?arguments[11]:void 0;return"data:"!==I.substring(0,5)&&(I="data:"+I),new q(I,L,X,G,Y,p,B,x,F,l,void 0,void 0,W,Q)}}q.SerializeBuffers=!0,q.ForceSerializeBuffers=!1,q.OnTextureLoadErrorObservable=new G.c,q._SerializeInternalTextureUniqueId=!1,q._CubeTextureParser=(I,x,L)=>{throw(0,l.e)("CubeTexture")},q._CreateMirror=(I,x,L,F)=>{throw(0,l.e)("MirrorTexture")},q._CreateRenderTargetTexture=(I,x,L,F,X)=>{throw(0,l.e)("RenderTargetTexture")},q.NEAREST_SAMPLINGMODE=1,q.NEAREST_NEAREST_MIPLINEAR=8,q.BILINEAR_SAMPLINGMODE=2,q.LINEAR_LINEAR_MIPNEAREST=11,q.TRILINEAR_SAMPLINGMODE=3,q.LINEAR_LINEAR_MIPLINEAR=3,q.NEAREST_NEAREST_MIPNEAREST=4,q.NEAREST_LINEAR_MIPNEAREST=5,q.NEAREST_LINEAR_MIPLINEAR=6,q.NEAREST_LINEAR=7,q.NEAREST_NEAREST=1,q.LINEAR_NEAREST_MIPNEAREST=9,q.LINEAR_NEAREST_MIPLINEAR=10,q.LINEAR_LINEAR=2,q.LINEAR_NEAREST=12,q.EXPLICIT_MODE=0,q.SPHERICAL_MODE=1,q.PLANAR_MODE=2,q.CUBIC_MODE=3,q.PROJECTION_MODE=4,q.SKYBOX_MODE=5,q.INVCUBIC_MODE=6,q.EQUIRECTANGULAR_MODE=7,q.FIXED_EQUIRECTANGULAR_MODE=8,q.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,q.CLAMP_ADDRESSMODE=0,q.WRAP_ADDRESSMODE=1,q.MIRROR_ADDRESSMODE=2,q.UseSerializedUrlIfAny=!1,(0,F.d)([(0,X.K)()],q.prototype,"url",void 0),(0,F.d)([(0,X.K)()],q.prototype,"uOffset",void 0),(0,F.d)([(0,X.K)()],q.prototype,"vOffset",void 0),(0,F.d)([(0,X.K)()],q.prototype,"uScale",void 0),(0,F.d)([(0,X.K)()],q.prototype,"vScale",void 0),(0,F.d)([(0,X.K)()],q.prototype,"uAng",void 0),(0,F.d)([(0,X.K)()],q.prototype,"vAng",void 0),(0,F.d)([(0,X.K)()],q.prototype,"wAng",void 0),(0,F.d)([(0,X.K)()],q.prototype,"uRotationCenter",void 0),(0,F.d)([(0,X.K)()],q.prototype,"vRotationCenter",void 0),(0,F.d)([(0,X.K)()],q.prototype,"wRotationCenter",void 0),(0,F.d)([(0,X.K)()],q.prototype,"homogeneousRotationInUVTransform",void 0),(0,F.d)([(0,X.K)()],q.prototype,"isBlocking",null),(0,B.d)("BABYLON.Texture",q),U.c._TextureParser=q.Parse},13026:(I,x,L)=>{L.d(x,{b:()=>X});var F=L(12983);class X{constructor(I,x,L,X){this.normal=new F.sx(I,x,L),this.d=X}Cp(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new X(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let I=this.normal.getHashCode();return I=397*I^this.d,I}normalize(){const I=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let x=0;return 0!==I&&(x=1/I),this.normal.x*=x,this.normal.y*=x,this.normal.z*=x,this.d*=x,this}transform(I){const x=X._TmpMatrix;I.invertToRef(x);const L=x.m,F=this.normal.x,G=this.normal.y,Y=this.normal.z,p=this.d,B=F*L[0]+G*L[1]+Y*L[2]+p*L[3],l=F*L[4]+G*L[5]+Y*L[6]+p*L[7],W=F*L[8]+G*L[9]+Y*L[10]+p*L[11],Q=F*L[12]+G*L[13]+Y*L[14]+p*L[15];return new X(B,l,W,Q)}dotCoordinate(I){return this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z+this.d}copyFromPoints(I,x,L){const F=x.x-I.x,X=x.y-I.y,G=x.z-I.z,Y=L.x-I.x,p=L.y-I.y,B=L.z-I.z,l=X*B-G*p,W=G*Y-F*B,Q=F*p-X*Y,e=Math.sqrt(l*l+W*W+Q*Q);let g;return g=0!==e?1/e:0,this.normal.x=l*g,this.normal.y=W*g,this.normal.z=Q*g,this.d=-(this.normal.x*I.x+this.normal.y*I.y+this.normal.z*I.z),this}isFrontFacingTo(I,x){return F.sx.Dot(this.normal,I)<=x}signedDistanceTo(I){return F.sx.Dot(I,this.normal)+this.d}static tx(I){return new X(I[0],I[1],I[2],I[3])}static FromPoints(I,x,L){const F=new X(0,0,0,0);return F.copyFromPoints(I,x,L),F}static FromPositionAndNormal(I,x){const L=new X(0,0,0,0);return this.FromPositionAndNormalToRef(I,x,L)}static FromPositionAndNormalToRef(I,x,L){return L.normal.X(x),L.normal.normalize(),L.d=-I.dot(L.normal),L}static SignedDistanceToPlaneFromPositionAndNormal(I,x,L){const X=-(x.x*I.x+x.y*I.y+x.z*I.z);return F.sx.Dot(L,x)+X}}X._TmpMatrix=F.Matrix.Identity()},13010:(I,x,L)=>{L.d(x,{e:()=>F});class F{constructor(I,x){this.width=I,this.height=x}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let I=0|this.width;return I=397*I^this.height,I}X(I){this.width=I.width,this.height=I.height}YB(I,x){return this.width=I,this.height=x,this}set(I,x){return this.YB(I,x)}multiplyByFloats(I,x){return new F(this.width*I,this.height*x)}clone(){return new F(this.width,this.height)}equals(I){return!!I&&(this.width===I.width&&this.height===I.height)}get surface(){return this.width*this.height}static Zero(){return new F(0,0)}add(I){return new F(this.width+I.width,this.height+I.height)}Ux(I){return new F(this.width-I.width,this.height-I.height)}scale(I){return new F(this.width*I,this.height*I)}static Lerp(I,x,L){const X=I.width+(x.width-I.width)*L,G=I.height+(x.height-I.height)*L;return new F(X,G)}}},12977:(I,x,L)=>{L.d(x,{d:()=>G,g:()=>Y});const F={},X={};function G(I){const x=I.getClassName();return X[x]||(X[x]={}),X[x]}function Y(I){const x=I.getClassName();if(F[x])return F[x];F[x]={};const L=F[x];let G=I,Y=x;for(;Y;){const I=X[Y];for(const X in I)L[X]=I[X];let x,F=!1;do{if(x=Object.getPrototypeOf(G),!x.getClassName){F=!0;break}if(x.getClassName()!==Y)break;G=x}while(x);if(F)break;Y=x.getClassName(),G=x}return L}},12971:(I,x,L)=>{L.d(x,{C:()=>p,F:()=>W,I:()=>Q,K:()=>Y,d:()=>G,g:()=>U,h:()=>g,j:()=>B,l:()=>v,n:()=>l,r:()=>z,v:()=>s,w:()=>e,z:()=>H});var F=L(12977);function X(I,x){return(L,X)=>{const G=(0,F.d)(L);G[X]||(G[X]={type:I,sourceName:x})}}function G(I){return function(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(L,F)=>{const X=x||"_"+F;Object.defineProperty(L,F,{get:function(){return this[X]},set:function(x){var F;"function"===typeof(null===(F=this[X])||void 0===F?void 0:F.equals)&&this[X].equals(x)||this[X]!==x&&(this[X]=x,L[I].apply(this))},enumerable:!0,configurable:!0})}}(I,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Y(I){return X(0,I)}function p(I){return X(1,I)}function B(I){return X(2,I)}function l(I){return X(3,I)}function W(I){return X(4,I)}function Q(I){return X(5,I)}function e(I){return X(6,I)}function g(I){return X(7,I)}function v(I){return X(8,I)}function z(I){return X(9,I)}function H(I){return X(10,I)}function s(I){return X(12,I)}function U(I,x,L,F){const X=L.value;L.value=function(){let L=X;if("undefined"!==typeof _native&&_native[x]){const I=_native[x];L=F?function(){return F(...arguments)?I(...arguments):X(...arguments)}:I}return I[x]=L,L(...arguments)}}U.filter=function(I){return(x,L,F)=>U(x,L,F,I)}},13012:(I,x,L)=>{L.d(x,{c:()=>l});var F=L(12825),X=L(13014),G=L(13020),Y=L(12983),p=L(12977);const B=function(I,x,L){let F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const G=I();X.d&&X.d.HasTags(x)&&X.d.AddTagsTo(G,X.d.GetTags(x,!0));const Y=(0,p.g)(G),B={};for(const X in Y){const I=Y[X],p=x[X],W=I.type;if(void 0!==p&&null!==p&&("uniqueId"!==X||l.AllowLoadingUniqueId))switch(W){case 0:case 6:case 9:case 11:G[X]=p;break;case 1:F.cloneTexturesOnlyOnce&&B[p.uniqueId]?G[X]=B[p.uniqueId]:(G[X]=L||p.isRenderTarget?p:p.clone(),B[p.uniqueId]=G[X]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:G[X]=L?p:p.clone()}}return G};class l{static AppendSerializedAnimations(I,x){if(I.animations){x.animations=[];for(let L=0;L<I.animations.length;L++){const F=I.animations[L];x.animations.push(F.serialize())}}}static Serialize(I,x){x||(x={}),X.d&&(x.tags=X.d.GetTags(I));const L=(0,p.g)(I);for(const F in L){const X=L[F],G=X.sourceName||F,Y=X.type,p=I[F];if(void 0!==p&&null!==p&&("uniqueId"!==F||l.AllowLoadingUniqueId))switch(Y){case 0:x[G]=p;break;case 1:case 3:case 7:case 9:x[G]=p.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:x[G]=p.Cp();break;case 6:case 11:x[G]=p.id}}return x}static ParseProperties(I,x,L,F){F||(F="");const X=(0,p.g)(x);for(const p in X){const B=X[p],W=I[B.sourceName||p],Q=B.type;if(void 0!==W&&null!==W&&("uniqueId"!==p||l.AllowLoadingUniqueId)){const I=x;switch(Q){case 0:I[p]=W;break;case 1:L&&(I[p]=l._TextureParser(W,L,F));break;case 2:I[p]=G.Tx.tx(W);break;case 3:I[p]=l._FresnelParametersParser(W);break;case 4:I[p]=Y.Vector2.tx(W);break;case 5:I[p]=Y.sx.tx(W);break;case 6:L&&(I[p]=L.getLastMeshById(W));break;case 7:I[p]=l._ColorCurvesParser(W);break;case 8:I[p]=G.lB.tx(W);break;case 9:I[p]=l._ImageProcessingConfigurationParser(W);break;case 10:I[p]=Y.Quaternion.tx(W);break;case 11:L&&(I[p]=L.getCameraById(W));break;case 12:I[p]=Y.Matrix.tx(W)}}}}static Parse(I,x,L){let F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const G=I();return X.d&&X.d.AddTagsTo(G,x.tags),l.ParseProperties(x,G,L,F),G}static Clone(I,x){return B(I,x,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(I,x){return B(I,x,!0)}}l.AllowLoadingUniqueId=!1,l._ImageProcessingConfigurationParser=I=>{throw(0,F.e)("ImageProcessingConfiguration")},l._FresnelParametersParser=I=>{throw(0,F.e)("FresnelParameters")},l._ColorCurvesParser=I=>{throw(0,F.e)("ColorCurves")},l._TextureParser=(I,x,L)=>{throw(0,F.e)("Texture")}},13014:(I,x,L)=>{L.d(x,{d:()=>X});class F{static Eval(I,x){return"true"===(I=I.match(/\([^()]*\)/g)?I.replace(/\([^()]*\)/g,(I=>(I=I.slice(1,I.length-1),F._HandleParenthesisContent(I,x)))):F._HandleParenthesisContent(I,x))||"false"!==I&&F.Eval(I,x)}static _HandleParenthesisContent(I,x){let L;x=x||(I=>"true"===I);const X=I.split("||");for(const G in X)if(Object.prototype.hasOwnProperty.call(X,G)){let I=F._SimplifyNegation(X[G].trim());const Y=I.split("&&");if(Y.length>1)for(let X=0;X<Y.length;++X){const G=F._SimplifyNegation(Y[X].trim());if(L="true"!==G&&"false"!==G?"!"===G[0]?!x(G.substring(1)):x(G):"true"===G,!L){I="false";break}}if(L||"true"===I){L=!0;break}L="true"!==I&&"false"!==I?"!"===I[0]?!x(I.substring(1)):x(I):"true"===I}return L?"true":"false"}static _SimplifyNegation(I){return"!true"===(I=(I=I.replace(/^[\s!]+/,(I=>(I=I.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?I="false":"!false"===I&&(I="true"),I}}class X{static EnableFor(I){I._tags=I._tags||{},I.hasTags=()=>X.HasTags(I),I.addTags=x=>X.AddTagsTo(I,x),I.removeTags=x=>X.RemoveTagsFrom(I,x),I.matchesTagsQuery=x=>X.MatchesQuery(I,x)}static DisableFor(I){delete I._tags,delete I.hasTags,delete I.addTags,delete I.removeTags,delete I.matchesTagsQuery}static HasTags(I){if(!I._tags)return!1;const x=I._tags;for(const L in x)if(Object.prototype.hasOwnProperty.call(x,L))return!0;return!1}static GetTags(I){let x=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!I._tags)return null;if(x){const x=[];for(const L in I._tags)Object.prototype.hasOwnProperty.call(I._tags,L)&&!0===I._tags[L]&&x.push(L);return x.join(" ")}return I._tags}static AddTagsTo(I,x){if(!x)return;if("string"!==typeof x)return;const L=x.split(" ");for(const F of L)X._AddTagTo(I,F)}static _AddTagTo(I,x){""!==(x=x.trim())&&"true"!==x&&"false"!==x&&(x.match(/[\s]/)||x.match(/^([!]|([|]|[&]){2})/)||(X.EnableFor(I),I._tags[x]=!0))}static RemoveTagsFrom(I,x){if(!X.HasTags(I))return;const L=x.split(" ");for(const F in L)X._RemoveTagFrom(I,L[F])}static _RemoveTagFrom(I,x){delete I._tags[x]}static MatchesQuery(I,x){return void 0===x||(""===x?X.HasTags(I):F.Eval(x,(x=>X.HasTags(I)&&I._tags[x])))}}},12969:(I,x,L)=>{L.d(x,{d:()=>F});function F(I,x,L,F){var X,G=arguments.length,Y=G<3?x:null===F?F=Object.getOwnPropertyDescriptor(x,L):F;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Y=Reflect.decorate(I,x,L,F);else for(var p=I.length-1;p>=0;p--)(X=I[p])&&(Y=(G<3?X(Y):G>3?X(x,L,Y):X(x,L))||Y);return G>3&&Y&&Object.defineProperty(x,L,Y),Y}Object.create;Object.create}}]);