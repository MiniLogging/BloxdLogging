"use strict";(self.fyqbdzs5tyo=self.fyqbdzs5tyo||[]).push([[13],{11280:(V,I,A)=>{A.d(I,{b:()=>B});let B=!1},11251:(V,I,A)=>{A.d(I,{b:()=>J});var B=A(11213),F=A(11222),E=A(11057),Y=A(11231),H=A(11097),c=A(11194),b=(A(11105),A(11258));class X{get wrapU(){return this._wrapU}set wrapU(V){this._wrapU=V}get wrapV(){return this._wrapV}set wrapV(V){this._wrapV=V}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(V){this._texture&&(this._texture.isCube=V)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(V){this._texture&&(this._texture.is3D=V)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(V){this._texture&&(this._texture.is2DArray=V)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(V){return void 0!==(null===V||void 0===V?void 0:V.shareDepth)}constructor(V){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=b.d.Zero(),this._cachedBaseSize=b.d.Zero(),this._initialSamplingMode=2,this._texture=X._IsRenderTargetWrapper(V)?V.texture:V,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(V){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(V,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var P=A(11265);class J extends X{set BH(V){this._hasAlpha!==V&&(this._hasAlpha=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get BH(){return this._hasAlpha}set getAlphaFromRGB(V){this._getAlphaFromRGB!==V&&(this._getAlphaFromRGB=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(V){this._coordinatesIndex!==V&&(this._coordinatesIndex=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(V){this._coordinatesMode!==V&&(this._coordinatesMode=V,this._scene&&this._scene.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(V){this._wrapU=V}get wrapV(){return this._wrapV}set wrapV(V){this._wrapV=V}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(V){this._texture?this._texture.isCube=V:this._isCube=V}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(V){this._texture&&(this._texture.is3D=V)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(V){this._texture&&(this._texture.is2DArray=V)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(V){var I;if(this._texture){if(this._texture._gammaSpace===V)return;this._texture._gammaSpace=V}else{if(this._gammaSpace===V)return;this._gammaSpace=V}null===(I=this.sV())||void 0===I||I.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(V){var I;V!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=V),null===(I=this.sV())||void 0===I||I.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(V){this._texture&&(this._texture._lodGenerationOffset=V)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(V){this._texture&&(this._texture._lodGenerationScale=V)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(V){this._texture&&(this._texture._linearSpecularLOD=V)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(V){this._texture&&(this._texture._irradianceTexture=V)}get uid(){return this._uid||(this._uid=(0,c.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(V){this._onDisposeObserver&&this.aY.remove(this._onDisposeObserver),this._onDisposeObserver=this.aY.add(V)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=J.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.aY=new E.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,V?J._IsScene(V)?this._scene=V:this._engine=V:this._scene=H.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=I,this._uid=null}sV(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return Y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return Y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(V){}get canRescale(){return!1}_getFromCache(V,I,A,B,F,E){const Y=this._getEngine();if(!Y)return null;const H=Y._getUseSRGBBuffer(!!F,I),c=Y.getLoadedTexturesCache();for(let b=0;b<c.length;b++){const Y=c[b];if((void 0===F||H===Y._useSRGBBuffer)&&(void 0===B||B===Y.invertY)&&Y.url===V&&Y.generateMipMaps===!I&&(!A||A===Y.samplingMode)&&(void 0===E||E===Y.isCube))return Y.incrementReferences(),Y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const V=this.sV();V&&V.markAllMaterialsAsDirty(1)}readPixels(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],F=arguments.length>4&&void 0!==arguments[4]&&arguments[4],E=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,H=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const b=this._getEngine();if(!b)return null;const X=this.getSize();let P=X.width,J=X.height;0!==I&&(P/=Math.pow(2,I),J/=Math.pow(2,I),P=Math.round(P),J=Math.round(J)),H=Math.min(P,H),c=Math.min(J,c);try{return this._texture.isCube?b._readTexturePixels(this._texture,H,c,V,I,A,B,F,E,Y):b._readTexturePixels(this._texture,H,c,-1,I,A,B,F,E,Y)}catch(G){return null}}_readPixelsSync(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,B=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],F=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const E=this.getSize();let Y=E.width,H=E.height;const c=this._getEngine();if(!c)return null;0!=I&&(Y/=Math.pow(2,I),H/=Math.pow(2,I),Y=Math.round(Y),H=Math.round(H));try{return this._texture.isCube?c._readTexturePixelsSync(this._texture,Y,H,V,I,A,B,F):c._readTexturePixelsSync(this._texture,Y,H,-1,I,A,B,F)}catch(b){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const V=this._scene.textures.indexOf(this);if(V>=0&&this._scene.textures.splice(V,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const V=this._parentContainer.textures.indexOf(this);V>-1&&this._parentContainer.textures.splice(V,1),this._parentContainer=null}}this.aY.notifyObservers(this),this.aY.clear(),this.metadata=null,super.dispose()}serialize(){let V=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!V)return null;const I=P.b.Serialize(this);return P.b.AppendSerializedAnimations(this,I),I}static WhenAllReady(V,I){let A=V.length;if(0!==A)for(let B=0;B<V.length;B++){const F=V[B];if(F.isReady())0===--A&&I();else{const V=F.onLoadObservable;V?V.addOnce((()=>{0===--A&&I()})):0===--A&&I()}}else I()}static _IsScene(V){return"Scene"===V.getClassName()}}J.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,B.b)([(0,F.A)()],J.prototype,"uniqueId",void 0),(0,B.b)([(0,F.A)()],J.prototype,"name",void 0),(0,B.b)([(0,F.A)()],J.prototype,"displayName",void 0),(0,B.b)([(0,F.A)()],J.prototype,"metadata",void 0),(0,B.b)([(0,F.A)("BH")],J.prototype,"_hasAlpha",void 0),(0,B.b)([(0,F.A)("getAlphaFromRGB")],J.prototype,"_getAlphaFromRGB",void 0),(0,B.b)([(0,F.A)()],J.prototype,"level",void 0),(0,B.b)([(0,F.A)("coordinatesIndex")],J.prototype,"_coordinatesIndex",void 0),(0,B.b)([(0,F.A)()],J.prototype,"optimizeUVAllocation",void 0),(0,B.b)([(0,F.A)("coordinatesMode")],J.prototype,"_coordinatesMode",void 0),(0,B.b)([(0,F.A)()],J.prototype,"wrapU",null),(0,B.b)([(0,F.A)()],J.prototype,"wrapV",null),(0,B.b)([(0,F.A)()],J.prototype,"wrapR",void 0),(0,B.b)([(0,F.A)()],J.prototype,"anisotropicFilteringLevel",void 0),(0,B.b)([(0,F.A)()],J.prototype,"isCube",null),(0,B.b)([(0,F.A)()],J.prototype,"is3D",null),(0,B.b)([(0,F.A)()],J.prototype,"is2DArray",null),(0,B.b)([(0,F.A)()],J.prototype,"gammaSpace",null),(0,B.b)([(0,F.A)()],J.prototype,"invertZ",void 0),(0,B.b)([(0,F.A)()],J.prototype,"lodLevelInAlpha",void 0),(0,B.b)([(0,F.A)()],J.prototype,"lodGenerationOffset",null),(0,B.b)([(0,F.A)()],J.prototype,"lodGenerationScale",null),(0,B.b)([(0,F.A)()],J.prototype,"linearSpecularLOD",null),(0,B.b)([(0,F.u)()],J.prototype,"irradianceTexture",null),(0,B.b)([(0,F.A)()],J.prototype,"isRenderTarget",void 0)},11207:(V,I,A)=>{A.d(I,{e:()=>o});var B=A(11213),F=A(11222),E=A(11057),Y=A(11231),H=A(11251),c=A(11189),b=A(11084),X=A(11135),P=A(11186),J=A(11278),G=A(11115);function w(V,I){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const B=I.width,F=I.height;if(V instanceof Float32Array){let I=V.byteLength/V.BYTES_PER_ELEMENT;const A=new Uint8Array(I);for(;--I>=0;){let B=V[I];B<0?B=0:B>1&&(B=1),A[I]=255*B}V=A}const E=document.createElement("canvas");E.width=B,E.height=F;const Y=E.getContext("2d");if(!Y)return null;const H=Y.createImageData(B,F);if(H.data.set(V),Y.putImageData(H,0,0),A){const V=document.createElement("canvas");V.width=B,V.height=F;const I=V.getContext("2d");return I?(I.translate(0,F),I.scale(1,-1),I.drawImage(E,0,0),V.toDataURL("image/png")):null}return E.toDataURL("image/png")}function t(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=V.getInternalTexture();if(!B)return null;const F=V._readPixelsSync(I,A);return F?w(F,V.getSize(),B.invertY):null}async function u(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const B=V.getInternalTexture();if(!B)return null;const F=await V.readPixels(I,A);return F?w(F,V.getSize(),B.invertY):null}var W=A(11280),g=A(11265);class o extends H.b{static _CreateVideoTexture(V,I,A){arguments.length>5&&void 0!==arguments[5]||o.TRILINEAR_SAMPLINGMODE;throw(0,b.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(V){this._isBlocking=V}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(V,I,A,B){let F,Y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.TRILINEAR_SAMPLINGMODE,H=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,b=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,P=arguments.length>8&&void 0!==arguments[8]&&arguments[8],J=arguments.length>9?arguments[9]:void 0,G=arguments.length>10?arguments[10]:void 0,w=arguments.length>11?arguments[11]:void 0,t=arguments.length>12?arguments[12]:void 0,u=arguments.length>13?arguments[13]:void 0;super(I),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new E.c,this._isBlocking=!0,this.name=V||"",this.url=V;let g=!1,L=null,z=!0;"object"===typeof A&&null!==A?(F=A.noMipmap??!1,B=A.invertY??!W.b,Y=A.samplingMode??o.TRILINEAR_SAMPLINGMODE,H=A.O??null,c=A.onError??null,b=A.buffer??null,P=A.deleteBuffer??!1,J=A.format,G=A.mimeType,w=A.loaderOptions,t=A.creationFlags,g=A.useSRGBBuffer??!1,L=A.internalTexture??null,z=A.gammaSpace??z,u=A.forcedExtension??u):F=!!A,this._gammaSpace=z,this._noMipmap=F,this._invertY=void 0===B?!W.b:B,this._initialSamplingMode=Y,this._buffer=b,this._deleteBuffer=P,this._mimeType=G,this._loaderOptions=w,this._creationFlags=t,this._useSRGBBuffer=g,this._forcedExtension=u,void 0!==J&&(this._format=J);const m=this.sV(),s=this._getEngine();if(!s)return;s.onBeforeTextureInitObservable.notifyObservers(this);const e=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),H&&H(),!this.isBlocking&&m&&m.resetCachedMaterial()},S=(V,I)=>{this._loadingError=!0,this._errorObject={message:V,exception:I},c&&c(V,I),o.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!L)return this._delayedOnLoad=e,void(this._delayedOnError=S);if(this._texture=L??this._getFromCache(this.url,F,Y,this._invertY,g,this.isCube),this._texture)if(this._texture.isReady)X.c.SetImmediate((()=>e()));else{const V=this._texture.onLoadedObservable.add(e);this._texture.onErrorObservable.add((I=>{var A;S(I.message,I.exception),null===(A=this._texture)||void 0===A||A.onLoadedObservable.remove(V)}))}else if(m&&m.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=e,this._delayedOnError=S;else{try{this._texture=s.createTexture(this.url,F,this._invertY,m,Y,e,S,this._buffer,void 0,this._format,this._forcedExtension,G,w,t,g)}catch(Q){throw S("error loading",Q),Q}P&&(this._buffer=null)}}updateURL(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,A=arguments.length>2?arguments[2]:void 0,B=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.sV().markAllMaterialsAsDirty(1,(V=>V.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=V),this.url=V,this._buffer=I,this._forcedExtension=B,this.delayLoadState=4,A&&(this._delayedOnLoad=A),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const V=this.sV();V&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?X.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=V.getEngine().createTexture(this.url,this._noMipmap,this._invertY,V,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(V,I,A,B){V*=this._cachedUScale,I*=this._cachedVScale,V-=this.uRotationCenter*this._cachedUScale,I-=this.vRotationCenter*this._cachedVScale,A-=this.wRotationCenter,Y.tI.TransformCoordinatesFromFloatsToRef(V,I,A,this._rowGenerationMatrix,B),B.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,B.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,B.z+=this.wRotationCenter}getTextureMatrix(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*V===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*V,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=Y.Matrix.Zero(),this._rowGenerationMatrix=new Y.Matrix,this._t0=Y.tI.Zero(),this._t1=Y.tI.Zero(),this._t2=Y.tI.Zero()),Y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(Y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,Y.TmpVectors.Matrix[0]),Y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,Y.TmpVectors.Matrix[1]),Y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,Y.TmpVectors.Matrix[2]),Y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,Y.TmpVectors.Matrix[3]),Y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(Y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.wJ(this._t0),this._t2.wJ(this._t0),Y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const I=this.sV();if(!I)return this._cachedTextureMatrix;const A=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&A!==this._cachedIdentity3x2&&I.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const V=this.sV();if(!V)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==o.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===V.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=Y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=Y.Matrix.Zero());const I=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case o.PLANAR_MODE:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case o.PROJECTION_MODE:{Y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const I=V.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=I.updateFlag,I.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:Y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return I&&V.markAllMaterialsAsDirty(1,(V=>V.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const V={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,O:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return g.b.Clone((()=>new o(this._texture?this._texture.url:null,this.sV(),V)),this)}serialize(){var V;const I=this.name;o.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const A=super.serialize(o._SerializeInternalTextureUniqueId);if(!A)return null;if(o.SerializeBuffers||o.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))A.base64String=this._buffer,A.name=A.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const V=this.mimeType||"image/png";A.base64String=`data:${V};base64,${(0,G.n)(this._buffer)}`}else(o.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(A.base64String=!this._engine||this._engine._features.supportSyncTextureRead?t(this):u(this));var B;(A.invertY=this._invertY,A.samplingMode=this.samplingMode,A._creationFlags=this._creationFlags,A._useSRGBBuffer=this._useSRGBBuffer,o._SerializeInternalTextureUniqueId)&&(A.internalTextureUniqueId=null===(B=this._texture)||void 0===B?void 0:B.uniqueId);return A.internalTextureLabel=null===(V=this._texture)||void 0===V?void 0:V.label,A.noMipmap=this._noMipmap,this.name=I,A}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(V,I,A){if(V.customType){const B=P.e.Instantiate(V.customType).Parse(V,I,A);return V.samplingMode&&B.updateSamplingMode&&B._samplingMode&&B._samplingMode!==V.samplingMode&&B.updateSamplingMode(V.samplingMode),B}if(V.isCube&&!V.isRenderTarget)return o._CubeTextureParser(V,I,A);const B=void 0!==V.internalTextureUniqueId;if(!V.name&&!V.isRenderTarget&&!B)return null;let F;if(B){const A=I.getEngine().getLoadedTexturesCache();for(const I of A)if(I.uniqueId===V.internalTextureUniqueId){F=I;break}}const E=I=>{if(I&&I._texture&&(I._texture._cachedWrapU=null,I._texture._cachedWrapV=null,I._texture._cachedWrapR=null),V.samplingMode){const A=V.samplingMode;I&&I.samplingMode!==A&&I.updateSamplingMode(A)}if(I&&V.animations)for(let A=0;A<V.animations.length;A++){const B=V.animations[A],F=(0,c.b)("BABYLON.Animation");F&&I.animations.push(F.Parse(B))}I&&I._texture&&(B&&!F&&I._texture._setUniqueId(V.internalTextureUniqueId),I._texture.label=V.internalTextureLabel)};return g.b.Parse((()=>{let B=!0;if(V.noMipmap&&(B=!1),V.mirrorPlane){const A=o._CreateMirror(V.name,V.renderTargetSize,I,B);return A._waitingRenderList=V.renderList,A.mirrorPlane=J.d.LI(V.mirrorPlane),E(A),A}if(V.isRenderTarget){let A=null;if(V.isCube){if(I.reflectionProbes)for(let B=0;B<I.reflectionProbes.length;B++){const A=I.reflectionProbes[B];if(A.name===V.name)return A.cubeTexture}}else A=o._CreateRenderTargetTexture(V.name,V.renderTargetSize,I,B,V._creationFlags??0),A._waitingRenderList=V.renderList;return E(A),A}if(V.isVideo){const F=o._CreateVideoTexture(A+(V.url||V.name),A+(V.src||V.url),I,B,V.invertY,V.samplingMode,V.settings||{});return E(F),F}{let Y;if(V.base64String&&!F)Y=o.CreateFromBase64String(V.base64String,V.base64String,I,!B,V.invertY,V.samplingMode,(()=>{E(Y)}),V._creationFlags??0,V._useSRGBBuffer??!1),Y.name=V.name;else{let H;H=V.name&&(V.name.indexOf("://")>0||V.name.startsWith("data:"))?V.name:A+V.name,V.url&&(V.url.startsWith("data:")||o.UseSerializedUrlIfAny)&&(H=V.url);const c={noMipmap:!B,invertY:V.invertY,samplingMode:V.samplingMode,O:()=>{E(Y)},internalTexture:F};Y=new o(H,I,c)}return Y}}),V,I)}static CreateFromBase64String(V,I,A,B,F){let E=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.TRILINEAR_SAMPLINGMODE;return new o("data:"+I,A,B,F,E,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,V,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(V,I,A){let B=arguments.length>3&&void 0!==arguments[3]&&arguments[3],F=arguments.length>4?arguments[4]:void 0,E=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],Y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.TRILINEAR_SAMPLINGMODE,H=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,b=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,X=arguments.length>10?arguments[10]:void 0,P=arguments.length>11?arguments[11]:void 0;return"data:"!==V.substring(0,5)&&(V="data:"+V),new o(V,A,F,E,Y,H,c,I,B,b,void 0,void 0,X,P)}}o.SerializeBuffers=!0,o.ForceSerializeBuffers=!1,o.OnTextureLoadErrorObservable=new E.c,o._SerializeInternalTextureUniqueId=!1,o._CubeTextureParser=(V,I,A)=>{throw(0,b.e)("CubeTexture")},o._CreateMirror=(V,I,A,B)=>{throw(0,b.e)("MirrorTexture")},o._CreateRenderTargetTexture=(V,I,A,B,F)=>{throw(0,b.e)("RenderTargetTexture")},o.NEAREST_SAMPLINGMODE=1,o.NEAREST_NEAREST_MIPLINEAR=8,o.BILINEAR_SAMPLINGMODE=2,o.LINEAR_LINEAR_MIPNEAREST=11,o.TRILINEAR_SAMPLINGMODE=3,o.LINEAR_LINEAR_MIPLINEAR=3,o.NEAREST_NEAREST_MIPNEAREST=4,o.NEAREST_LINEAR_MIPNEAREST=5,o.NEAREST_LINEAR_MIPLINEAR=6,o.NEAREST_LINEAR=7,o.NEAREST_NEAREST=1,o.LINEAR_NEAREST_MIPNEAREST=9,o.LINEAR_NEAREST_MIPLINEAR=10,o.LINEAR_LINEAR=2,o.LINEAR_NEAREST=12,o.EXPLICIT_MODE=0,o.SPHERICAL_MODE=1,o.PLANAR_MODE=2,o.CUBIC_MODE=3,o.PROJECTION_MODE=4,o.SKYBOX_MODE=5,o.INVCUBIC_MODE=6,o.EQUIRECTANGULAR_MODE=7,o.FIXED_EQUIRECTANGULAR_MODE=8,o.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,o.CLAMP_ADDRESSMODE=0,o.WRAP_ADDRESSMODE=1,o.MIRROR_ADDRESSMODE=2,o.UseSerializedUrlIfAny=!1,(0,B.b)([(0,F.A)()],o.prototype,"url",void 0),(0,B.b)([(0,F.A)()],o.prototype,"uOffset",void 0),(0,B.b)([(0,F.A)()],o.prototype,"vOffset",void 0),(0,B.b)([(0,F.A)()],o.prototype,"uScale",void 0),(0,B.b)([(0,F.A)()],o.prototype,"vScale",void 0),(0,B.b)([(0,F.A)()],o.prototype,"uAng",void 0),(0,B.b)([(0,F.A)()],o.prototype,"vAng",void 0),(0,B.b)([(0,F.A)()],o.prototype,"wAng",void 0),(0,B.b)([(0,F.A)()],o.prototype,"uRotationCenter",void 0),(0,B.b)([(0,F.A)()],o.prototype,"vRotationCenter",void 0),(0,B.b)([(0,F.A)()],o.prototype,"wRotationCenter",void 0),(0,B.b)([(0,F.A)()],o.prototype,"homogeneousRotationInUVTransform",void 0),(0,B.b)([(0,F.A)()],o.prototype,"isBlocking",null),(0,c.e)("BABYLON.Texture",o),g.b._TextureParser=o.Parse},11278:(V,I,A)=>{A.d(I,{d:()=>F});var B=A(11231);class F{constructor(V,I,A,F){this.normal=new B.tI(V,I,A),this.d=F}AH(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new F(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let V=this.normal.getHashCode();return V=397*V^this.d,V}normalize(){const V=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let I=0;return 0!==V&&(I=1/V),this.normal.x*=I,this.normal.y*=I,this.normal.z*=I,this.d*=I,this}transform(V){const I=F._TmpMatrix;V.invertToRef(I);const A=I.m,B=this.normal.x,E=this.normal.y,Y=this.normal.z,H=this.d,c=B*A[0]+E*A[1]+Y*A[2]+H*A[3],b=B*A[4]+E*A[5]+Y*A[6]+H*A[7],X=B*A[8]+E*A[9]+Y*A[10]+H*A[11],P=B*A[12]+E*A[13]+Y*A[14]+H*A[15];return new F(c,b,X,P)}dotCoordinate(V){return this.normal.x*V.x+this.normal.y*V.y+this.normal.z*V.z+this.d}copyFromPoints(V,I,A){const B=I.x-V.x,F=I.y-V.y,E=I.z-V.z,Y=A.x-V.x,H=A.y-V.y,c=A.z-V.z,b=F*c-E*H,X=E*Y-B*c,P=B*H-F*Y,J=Math.sqrt(b*b+X*X+P*P);let G;return G=0!==J?1/J:0,this.normal.x=b*G,this.normal.y=X*G,this.normal.z=P*G,this.d=-(this.normal.x*V.x+this.normal.y*V.y+this.normal.z*V.z),this}isFrontFacingTo(V,I){return B.tI.Dot(this.normal,V)<=I}signedDistanceTo(V){return B.tI.Dot(V,this.normal)+this.d}static LI(V){return new F(V[0],V[1],V[2],V[3])}static FromPoints(V,I,A){const B=new F(0,0,0,0);return B.copyFromPoints(V,I,A),B}static FromPositionAndNormal(V,I){const A=new F(0,0,0,0);return this.FromPositionAndNormalToRef(V,I,A)}static FromPositionAndNormalToRef(V,I,A){return A.normal.B(I),A.normal.normalize(),A.d=-V.dot(A.normal),A}static SignedDistanceToPlaneFromPositionAndNormal(V,I,A){const F=-(I.x*V.x+I.y*V.y+I.z*V.z);return B.tI.Dot(A,I)+F}}F._TmpMatrix=B.Matrix.Identity()},11258:(V,I,A)=>{A.d(I,{d:()=>B});class B{constructor(V,I){this.width=V,this.height=I}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let V=0|this.width;return V=397*V^this.height,V}B(V){this.width=V.width,this.height=V.height}XH(V,I){return this.width=V,this.height=I,this}set(V,I){return this.XH(V,I)}multiplyByFloats(V,I){return new B(this.width*V,this.height*I)}clone(){return new B(this.width,this.height)}equals(V){return!!V&&(this.width===V.width&&this.height===V.height)}get surface(){return this.width*this.height}static Zero(){return new B(0,0)}add(V){return new B(this.width+V.width,this.height+V.height)}uI(V){return new B(this.width-V.width,this.height-V.height)}scale(V){return new B(this.width*V,this.height*V)}static Lerp(V,I,A){const F=V.width+(I.width-V.width)*A,E=V.height+(I.height-V.height)*A;return new B(F,E)}}},11228:(V,I,A)=>{A.d(I,{b:()=>E,c:()=>Y});const B={},F={};function E(V){const I=V.getClassName();return F[I]||(F[I]={}),F[I]}function Y(V){const I=V.getClassName();if(B[I])return B[I];B[I]={};const A=B[I];let E=V,Y=I;for(;Y;){const V=F[Y];for(const F in V)A[F]=V[F];let I,B=!1;do{if(I=Object.getPrototypeOf(E),!I.getClassName){B=!0;break}if(I.getClassName()!==Y)break;E=I}while(I);if(B)break;Y=I.getClassName(),E=I}return A}},11222:(V,I,A)=>{A.d(I,{A:()=>Y,d:()=>E,f:()=>g,h:()=>G,j:()=>c,l:()=>w,m:()=>b,o:()=>t,p:()=>W,s:()=>J,t:()=>u,u:()=>H,v:()=>X,w:()=>P});var B=A(11228);function F(V,I){return(A,F)=>{const E=(0,B.b)(A);E[F]||(E[F]={type:V,sourceName:I})}}function E(V){return function(V){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(A,B)=>{const F=I||"_"+B;Object.defineProperty(A,B,{get:function(){return this[F]},set:function(I){var B;"function"===typeof(null===(B=this[F])||void 0===B?void 0:B.equals)&&this[F].equals(I)||this[F]!==I&&(this[F]=I,A[V].apply(this))},enumerable:!0,configurable:!0})}}(V,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function Y(V){return F(0,V)}function H(V){return F(1,V)}function c(V){return F(2,V)}function b(V){return F(3,V)}function X(V){return F(4,V)}function P(V){return F(5,V)}function J(V){return F(6,V)}function G(V){return F(7,V)}function w(V){return F(8,V)}function t(V){return F(9,V)}function u(V){return F(10,V)}function W(V){return F(12,V)}function g(V,I,A,B){const F=A.value;A.value=function(){let A=F;if("undefined"!==typeof _native&&_native[I]){const V=_native[I];A=B?function(){return B(...arguments)?V(...arguments):F(...arguments)}:V}return V[I]=A,A(...arguments)}}g.filter=function(V){return(I,A,B)=>g(I,A,B,V)}},11265:(V,I,A)=>{A.d(I,{b:()=>b});var B=A(11084),F=A(11273),E=A(11276),Y=A(11231),H=A(11228);const c=function(V,I,A){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const E=V();F.b&&F.b.HasTags(I)&&F.b.AddTagsTo(E,F.b.GetTags(I,!0));const Y=(0,H.c)(E),c={};for(const F in Y){const V=Y[F],H=I[F],X=V.type;if(void 0!==H&&null!==H&&("uniqueId"!==F||b.AllowLoadingUniqueId))switch(X){case 0:case 6:case 9:case 11:E[F]=H;break;case 1:B.cloneTexturesOnlyOnce&&c[H.uniqueId]?E[F]=c[H.uniqueId]:(E[F]=A||H.isRenderTarget?H:H.clone(),c[H.uniqueId]=E[F]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:E[F]=A?H:H.clone()}}return E};class b{static AppendSerializedAnimations(V,I){if(V.animations){I.animations=[];for(let A=0;A<V.animations.length;A++){const B=V.animations[A];I.animations.push(B.serialize())}}}static Serialize(V,I){I||(I={}),F.b&&(I.tags=F.b.GetTags(V));const A=(0,H.c)(V);for(const B in A){const F=A[B],E=F.sourceName||B,Y=F.type,H=V[B];if(void 0!==H&&null!==H&&("uniqueId"!==B||b.AllowLoadingUniqueId))switch(Y){case 0:I[E]=H;break;case 1:case 3:case 7:case 9:I[E]=H.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:I[E]=H.AH();break;case 6:case 11:I[E]=H.id}}return I}static ParseProperties(V,I,A,B){B||(B="");const F=(0,H.c)(I);for(const H in F){const c=F[H],X=V[c.sourceName||H],P=c.type;if(void 0!==X&&null!==X&&("uniqueId"!==H||b.AllowLoadingUniqueId)){const V=I;switch(P){case 0:V[H]=X;break;case 1:A&&(V[H]=b._TextureParser(X,A,B));break;case 2:V[H]=E.oI.LI(X);break;case 3:V[H]=b._FresnelParametersParser(X);break;case 4:V[H]=Y.Vector2.LI(X);break;case 5:V[H]=Y.tI.LI(X);break;case 6:A&&(V[H]=A.getLastMeshById(X));break;case 7:V[H]=b._ColorCurvesParser(X);break;case 8:V[H]=E.GH.LI(X);break;case 9:V[H]=b._ImageProcessingConfigurationParser(X);break;case 10:V[H]=Y.Quaternion.LI(X);break;case 11:A&&(V[H]=A.getCameraById(X));break;case 12:V[H]=Y.Matrix.LI(X)}}}}static Parse(V,I,A){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const E=V();return F.b&&F.b.AddTagsTo(E,I.tags),b.ParseProperties(I,E,A,B),E}static Clone(V,I){return c(V,I,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(V,I){return c(V,I,!0)}}b.AllowLoadingUniqueId=!1,b._ImageProcessingConfigurationParser=V=>{throw(0,B.e)("ImageProcessingConfiguration")},b._FresnelParametersParser=V=>{throw(0,B.e)("FresnelParameters")},b._ColorCurvesParser=V=>{throw(0,B.e)("ColorCurves")},b._TextureParser=(V,I,A)=>{throw(0,B.e)("Texture")}},11273:(V,I,A)=>{A.d(I,{b:()=>F});class B{static Eval(V,I){return"true"===(V=V.match(/\([^()]*\)/g)?V.replace(/\([^()]*\)/g,(V=>(V=V.slice(1,V.length-1),B._HandleParenthesisContent(V,I)))):B._HandleParenthesisContent(V,I))||"false"!==V&&B.Eval(V,I)}static _HandleParenthesisContent(V,I){let A;I=I||(V=>"true"===V);const F=V.split("||");for(const E in F)if(Object.prototype.hasOwnProperty.call(F,E)){let V=B._SimplifyNegation(F[E].trim());const Y=V.split("&&");if(Y.length>1)for(let F=0;F<Y.length;++F){const E=B._SimplifyNegation(Y[F].trim());if(A="true"!==E&&"false"!==E?"!"===E[0]?!I(E.substring(1)):I(E):"true"===E,!A){V="false";break}}if(A||"true"===V){A=!0;break}A="true"!==V&&"false"!==V?"!"===V[0]?!I(V.substring(1)):I(V):"true"===V}return A?"true":"false"}static _SimplifyNegation(V){return"!true"===(V=(V=V.replace(/^[\s!]+/,(V=>(V=V.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?V="false":"!false"===V&&(V="true"),V}}class F{static EnableFor(V){V._tags=V._tags||{},V.hasTags=()=>F.HasTags(V),V.addTags=I=>F.AddTagsTo(V,I),V.removeTags=I=>F.RemoveTagsFrom(V,I),V.matchesTagsQuery=I=>F.MatchesQuery(V,I)}static DisableFor(V){delete V._tags,delete V.hasTags,delete V.addTags,delete V.removeTags,delete V.matchesTagsQuery}static HasTags(V){if(!V._tags)return!1;const I=V._tags;for(const A in I)if(Object.prototype.hasOwnProperty.call(I,A))return!0;return!1}static GetTags(V){let I=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!V._tags)return null;if(I){const I=[];for(const A in V._tags)Object.prototype.hasOwnProperty.call(V._tags,A)&&!0===V._tags[A]&&I.push(A);return I.join(" ")}return V._tags}static AddTagsTo(V,I){if(!I)return;if("string"!==typeof I)return;const A=I.split(" ");for(const B of A)F._AddTagTo(V,B)}static _AddTagTo(V,I){""!==(I=I.trim())&&"true"!==I&&"false"!==I&&(I.match(/[\s]/)||I.match(/^([!]|([|]|[&]){2})/)||(F.EnableFor(V),V._tags[I]=!0))}static RemoveTagsFrom(V,I){if(!F.HasTags(V))return;const A=I.split(" ");for(const B in A)F._RemoveTagFrom(V,A[B])}static _RemoveTagFrom(V,I){delete V._tags[I]}static MatchesQuery(V,I){return void 0===I||(""===I?F.HasTags(V):B.Eval(I,(I=>F.HasTags(V)&&V._tags[I])))}}},11213:(V,I,A)=>{A.d(I,{b:()=>B});function B(V,I,A,B){var F,E=arguments.length,Y=E<3?I:null===B?B=Object.getOwnPropertyDescriptor(I,A):B;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)Y=Reflect.decorate(V,I,A,B);else for(var H=V.length-1;H>=0;H--)(F=V[H])&&(Y=(E<3?F(Y):E>3?F(I,A,Y):F(I,A))||Y);return E>3&&Y&&Object.defineProperty(I,A,Y),Y}Object.create;Object.create}}]);