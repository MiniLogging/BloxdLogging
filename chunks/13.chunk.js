"use strict";(self.r00gjvkwa6=self.r00gjvkwa6||[]).push([[13],{11365:(H,O,S)=>{S.d(O,{d:()=>t});let t=!1},11322:(H,O,S)=>{S.d(O,{e:()=>a});var t=S(11287),q=S(11289),p=S(11140),G=S(11301),U=S(11180),V=S(11266),w=(S(11188),S(11331));class o{get wrapU(){return this._wrapU}set wrapU(H){this._wrapU=H}get wrapV(){return this._wrapV}set wrapV(H){this._wrapV=H}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(H){this._texture&&(this._texture.isCube=H)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(H){this._texture&&(this._texture.is3D=H)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(H){this._texture&&(this._texture.is2DArray=H)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(H){return void 0!==(null===H||void 0===H?void 0:H.shareDepth)}constructor(H){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=w.d.Zero(),this._cachedBaseSize=w.d.Zero(),this._initialSamplingMode=2,this._texture=o._IsRenderTargetWrapper(H)?H.texture:H,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(H){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(H,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var h=S(11338);class a extends o{set GU(H){this._hasAlpha!==H&&(this._hasAlpha=H,this._scene&&this._scene.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))))}get GU(){return this._hasAlpha}set getAlphaFromRGB(H){this._getAlphaFromRGB!==H&&(this._getAlphaFromRGB=H,this._scene&&this._scene.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(H){this._coordinatesIndex!==H&&(this._coordinatesIndex=H,this._scene&&this._scene.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(H){this._coordinatesMode!==H&&(this._coordinatesMode=H,this._scene&&this._scene.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(H){this._wrapU=H}get wrapV(){return this._wrapV}set wrapV(H){this._wrapV=H}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(H){this._texture?this._texture.isCube=H:this._isCube=H}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(H){this._texture&&(this._texture.is3D=H)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(H){this._texture&&(this._texture.is2DArray=H)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(H){var O;if(this._texture){if(this._texture._gammaSpace===H)return;this._texture._gammaSpace=H}else{if(this._gammaSpace===H)return;this._gammaSpace=H}null===(O=this.YH())||void 0===O||O.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(H){var O;H!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=H),null===(O=this.YH())||void 0===O||O.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(H){this._texture&&(this._texture._lodGenerationOffset=H)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(H){this._texture&&(this._texture._lodGenerationScale=H)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(H){this._texture&&(this._texture._linearSpecularLOD=H)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(H){this._texture&&(this._texture._irradianceTexture=H)}get uid(){return this._uid||(this._uid=(0,V.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(H){this._onDisposeObserver&&this.up.remove(this._onDisposeObserver),this._onDisposeObserver=this.up.add(H)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=a.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.up=new p.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,H?a._IsScene(H)?this._scene=H:this._engine=H:this._scene=U.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=O,this._uid=null}YH(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return G.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return G.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(H){}get canRescale(){return!1}_getFromCache(H,O,S,t,q,p){const G=this._getEngine();if(!G)return null;const U=G._getUseSRGBBuffer(!!q,O),V=G.getLoadedTexturesCache();for(let w=0;w<V.length;w++){const G=V[w];if((void 0===q||U===G._useSRGBBuffer)&&(void 0===t||t===G.invertY)&&G.url===H&&G.generateMipMaps===!O&&(!S||S===G.samplingMode)&&(void 0===p||p===G.isCube))return G.incrementReferences(),G}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const H=this.YH();H&&H.markAllMaterialsAsDirty(1)}readPixels(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,G=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,U=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,V=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const w=this._getEngine();if(!w)return null;const o=this.getSize();let h=o.width,a=o.height;0!==O&&(h/=Math.pow(2,O),a/=Math.pow(2,O),h=Math.round(h),a=Math.round(a)),U=Math.min(h,U),V=Math.min(a,V);try{return this._texture.isCube?w._readTexturePixels(this._texture,U,V,H,O,S,t,q,p,G):w._readTexturePixels(this._texture,U,V,-1,O,S,t,q,p,G)}catch(j){return null}}_readPixelsSync(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const p=this.getSize();let G=p.width,U=p.height;const V=this._getEngine();if(!V)return null;0!=O&&(G/=Math.pow(2,O),U/=Math.pow(2,O),G=Math.round(G),U=Math.round(U));try{return this._texture.isCube?V._readTexturePixelsSync(this._texture,G,U,H,O,S,t,q):V._readTexturePixelsSync(this._texture,G,U,-1,O,S,t,q)}catch(w){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const H=this._scene.textures.indexOf(this);if(H>=0&&this._scene.textures.splice(H,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const H=this._parentContainer.textures.indexOf(this);H>-1&&this._parentContainer.textures.splice(H,1),this._parentContainer=null}}this.up.notifyObservers(this),this.up.clear(),this.metadata=null,super.dispose()}serialize(){let H=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!H)return null;const O=h.e.Serialize(this);return h.e.AppendSerializedAnimations(this,O),O}static WhenAllReady(H,O){let S=H.length;if(0!==S)for(let t=0;t<H.length;t++){const q=H[t];if(q.isReady())0===--S&&O();else{const H=q.onLoadObservable;H?H.addOnce((()=>{0===--S&&O()})):0===--S&&O()}}else O()}static _IsScene(H){return"Scene"===H.getClassName()}}a.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,t.d)([(0,q.J)()],a.prototype,"uniqueId",void 0),(0,t.d)([(0,q.J)()],a.prototype,"name",void 0),(0,t.d)([(0,q.J)()],a.prototype,"displayName",void 0),(0,t.d)([(0,q.J)()],a.prototype,"metadata",void 0),(0,t.d)([(0,q.J)("GU")],a.prototype,"_hasAlpha",void 0),(0,t.d)([(0,q.J)("getAlphaFromRGB")],a.prototype,"_getAlphaFromRGB",void 0),(0,t.d)([(0,q.J)()],a.prototype,"level",void 0),(0,t.d)([(0,q.J)("coordinatesIndex")],a.prototype,"_coordinatesIndex",void 0),(0,t.d)([(0,q.J)()],a.prototype,"optimizeUVAllocation",void 0),(0,t.d)([(0,q.J)("coordinatesMode")],a.prototype,"_coordinatesMode",void 0),(0,t.d)([(0,q.J)()],a.prototype,"wrapU",null),(0,t.d)([(0,q.J)()],a.prototype,"wrapV",null),(0,t.d)([(0,q.J)()],a.prototype,"wrapR",void 0),(0,t.d)([(0,q.J)()],a.prototype,"anisotropicFilteringLevel",void 0),(0,t.d)([(0,q.J)()],a.prototype,"isCube",null),(0,t.d)([(0,q.J)()],a.prototype,"is3D",null),(0,t.d)([(0,q.J)()],a.prototype,"is2DArray",null),(0,t.d)([(0,q.J)()],a.prototype,"gammaSpace",null),(0,t.d)([(0,q.J)()],a.prototype,"invertZ",void 0),(0,t.d)([(0,q.J)()],a.prototype,"lodLevelInAlpha",void 0),(0,t.d)([(0,q.J)()],a.prototype,"lodGenerationOffset",null),(0,t.d)([(0,q.J)()],a.prototype,"lodGenerationScale",null),(0,t.d)([(0,q.J)()],a.prototype,"linearSpecularLOD",null),(0,t.d)([(0,q.A)()],a.prototype,"irradianceTexture",null),(0,t.d)([(0,q.J)()],a.prototype,"isRenderTarget",void 0)},11279:(H,O,S)=>{S.d(O,{b:()=>K});var t=S(11287),q=S(11289),p=S(11140),G=S(11301),U=S(11322),V=S(11262),w=S(11169),o=S(11205),h=S(11255),a=S(11360),j=S(11192);function e(H,O){let S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const t=O.width,q=O.height;if(H instanceof Float32Array){let O=H.byteLength/H.BYTES_PER_ELEMENT;const S=new Uint8Array(O);for(;--O>=0;){let t=H[O];t<0?t=0:t>1&&(t=1),S[O]=255*t}H=S}const p=document.createElement("canvas");p.width=t,p.height=q;const G=p.getContext("2d");if(!G)return null;const U=G.createImageData(t,q);if(U.data.set(H),G.putImageData(U,0,0),S){const H=document.createElement("canvas");H.width=t,H.height=q;const O=H.getContext("2d");return O?(O.translate(0,q),O.scale(1,-1),O.drawImage(p,0,0),H.toDataURL("image/png")):null}return p.toDataURL("image/png")}function X(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const t=H.getInternalTexture();if(!t)return null;const q=H._readPixelsSync(O,S);return q?e(q,H.getSize(),t.invertY):null}async function E(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const t=H.getInternalTexture();if(!t)return null;const q=await H.readPixels(O,S);return q?e(q,H.getSize(),t.invertY):null}var y=S(11365),T=S(11338);class K extends U.e{static _CreateVideoTexture(H,O,S){arguments.length>5&&void 0!==arguments[5]||K.TRILINEAR_SAMPLINGMODE;throw(0,w.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(H){this._isBlocking=H}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(H,O,S,t){let q,G=arguments.length>4&&void 0!==arguments[4]?arguments[4]:K.TRILINEAR_SAMPLINGMODE,U=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,V=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]&&arguments[8],a=arguments.length>9?arguments[9]:void 0,j=arguments.length>10?arguments[10]:void 0,e=arguments.length>11?arguments[11]:void 0,X=arguments.length>12?arguments[12]:void 0,E=arguments.length>13?arguments[13]:void 0;super(O),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new p.b,this._isBlocking=!0,this.name=H||"",this.url=H;let T=!1,b=null,D=!0;"object"===typeof S&&null!==S?(q=S.noMipmap??!1,t=S.invertY??!y.d,G=S.samplingMode??K.TRILINEAR_SAMPLINGMODE,U=S.M??null,V=S.onError??null,w=S.buffer??null,h=S.deleteBuffer??!1,a=S.format,j=S.mimeType,e=S.loaderOptions,X=S.creationFlags,T=S.useSRGBBuffer??!1,b=S.internalTexture??null,D=S.gammaSpace??D,E=S.forcedExtension??E):q=!!S,this._gammaSpace=D,this._noMipmap=q,this._invertY=void 0===t?!y.d:t,this._initialSamplingMode=G,this._buffer=w,this._deleteBuffer=h,this._mimeType=j,this._loaderOptions=e,this._creationFlags=X,this._useSRGBBuffer=T,this._forcedExtension=E,void 0!==a&&(this._format=a);const F=this.YH(),Y=this._getEngine();if(!Y)return;Y.onBeforeTextureInitObservable.notifyObservers(this);const l=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),U&&U(),!this.isBlocking&&F&&F.resetCachedMaterial()},d=(H,O)=>{this._loadingError=!0,this._errorObject={message:H,exception:O},V&&V(H,O),K.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!b)return this._delayedOnLoad=l,void(this._delayedOnError=d);if(this._texture=b??this._getFromCache(this.url,q,G,this._invertY,T,this.isCube),this._texture)if(this._texture.isReady)o.b.SetImmediate((()=>l()));else{const H=this._texture.onLoadedObservable.add(l);this._texture.onErrorObservable.add((O=>{var S;d(O.message,O.exception),null===(S=this._texture)||void 0===S||S.onLoadedObservable.remove(H)}))}else if(F&&F.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=l,this._delayedOnError=d;else{try{this._texture=Y.createTexture(this.url,q,this._invertY,F,G,l,d,this._buffer,void 0,this._format,this._forcedExtension,j,e,X,T)}catch(v){throw d("error loading",v),v}h&&(this._buffer=null)}}updateURL(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,S=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.YH().markAllMaterialsAsDirty(1,(H=>H.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=H),this.url=H,this._buffer=O,this._forcedExtension=t,this.delayLoadState=4,S&&(this._delayedOnLoad=S),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const H=this.YH();H&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?o.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=H.getEngine().createTexture(this.url,this._noMipmap,this._invertY,H,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(H,O,S,t){H*=this._cachedUScale,O*=this._cachedVScale,H-=this.uRotationCenter*this._cachedUScale,O-=this.vRotationCenter*this._cachedVScale,S-=this.wRotationCenter,G.eO.TransformCoordinatesFromFloatsToRef(H,O,S,this._rowGenerationMatrix,t),t.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,t.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,t.z+=this.wRotationCenter}getTextureMatrix(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*H===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*H,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=G.Matrix.Zero(),this._rowGenerationMatrix=new G.Matrix,this._t0=G.eO.Zero(),this._t1=G.eO.Zero(),this._t2=G.eO.Zero()),G.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(G.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,G.TmpVectors.Matrix[0]),G.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,G.TmpVectors.Matrix[1]),G.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,G.TmpVectors.Matrix[2]),G.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,G.TmpVectors.Matrix[3]),G.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(G.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(G.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(G.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Mo(this._t0),this._t2.Mo(this._t0),G.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const O=this.YH();if(!O)return this._cachedTextureMatrix;const S=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&S!==this._cachedIdentity3x2&&O.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const H=this.YH();if(!H)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==K.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===H.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=G.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=G.Matrix.Zero());const O=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case K.PLANAR_MODE:G.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case K.PROJECTION_MODE:{G.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const O=H.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=O.updateFlag,O.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:G.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return O&&H.markAllMaterialsAsDirty(1,(H=>H.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const H={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,M:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return T.e.Clone((()=>new K(this._texture?this._texture.url:null,this.YH(),H)),this)}serialize(){var H;const O=this.name;K.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const S=super.serialize(K._SerializeInternalTextureUniqueId);if(!S)return null;if(K.SerializeBuffers||K.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))S.base64String=this._buffer,S.name=S.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const H=this.mimeType||"image/png";S.base64String=`data:${H};base64,${(0,j.l)(this._buffer)}`}else(K.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(S.base64String=!this._engine||this._engine._features.supportSyncTextureRead?X(this):E(this));var t;(S.invertY=this._invertY,S.samplingMode=this.samplingMode,S._creationFlags=this._creationFlags,S._useSRGBBuffer=this._useSRGBBuffer,K._SerializeInternalTextureUniqueId)&&(S.internalTextureUniqueId=null===(t=this._texture)||void 0===t?void 0:t.uniqueId);return S.internalTextureLabel=null===(H=this._texture)||void 0===H?void 0:H.label,S.noMipmap=this._noMipmap,this.name=O,S}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(H,O,S){if(H.customType){const t=h.b.Instantiate(H.customType).Parse(H,O,S);return H.samplingMode&&t.updateSamplingMode&&t._samplingMode&&t._samplingMode!==H.samplingMode&&t.updateSamplingMode(H.samplingMode),t}if(H.isCube&&!H.isRenderTarget)return K._CubeTextureParser(H,O,S);const t=void 0!==H.internalTextureUniqueId;if(!H.name&&!H.isRenderTarget&&!t)return null;let q;if(t){const S=O.getEngine().getLoadedTexturesCache();for(const O of S)if(O.uniqueId===H.internalTextureUniqueId){q=O;break}}const p=O=>{if(O&&O._texture&&(O._texture._cachedWrapU=null,O._texture._cachedWrapV=null,O._texture._cachedWrapR=null),H.samplingMode){const S=H.samplingMode;O&&O.samplingMode!==S&&O.updateSamplingMode(S)}if(O&&H.animations)for(let S=0;S<H.animations.length;S++){const t=H.animations[S],q=(0,V.e)("BABYLON.Animation");q&&O.animations.push(q.Parse(t))}O&&O._texture&&(t&&!q&&O._texture._setUniqueId(H.internalTextureUniqueId),O._texture.label=H.internalTextureLabel)};return T.e.Parse((()=>{let t=!0;if(H.noMipmap&&(t=!1),H.mirrorPlane){const S=K._CreateMirror(H.name,H.renderTargetSize,O,t);return S._waitingRenderList=H.renderList,S.mirrorPlane=a.b.KO(H.mirrorPlane),p(S),S}if(H.isRenderTarget){let S=null;if(H.isCube){if(O.reflectionProbes)for(let t=0;t<O.reflectionProbes.length;t++){const S=O.reflectionProbes[t];if(S.name===H.name)return S.cubeTexture}}else S=K._CreateRenderTargetTexture(H.name,H.renderTargetSize,O,t,H._creationFlags??0),S._waitingRenderList=H.renderList;return p(S),S}if(H.isVideo){const q=K._CreateVideoTexture(S+(H.url||H.name),S+(H.src||H.url),O,t,H.invertY,H.samplingMode,H.settings||{});return p(q),q}{let G;if(H.base64String&&!q)G=K.CreateFromBase64String(H.base64String,H.base64String,O,!t,H.invertY,H.samplingMode,(()=>{p(G)}),H._creationFlags??0,H._useSRGBBuffer??!1),G.name=H.name;else{let U;U=H.name&&(H.name.indexOf("://")>0||H.name.startsWith("data:"))?H.name:S+H.name,H.url&&(H.url.startsWith("data:")||K.UseSerializedUrlIfAny)&&(U=H.url);const V={noMipmap:!t,invertY:H.invertY,samplingMode:H.samplingMode,M:()=>{p(G)},internalTexture:q};G=new K(U,O,V)}return G}}),H,O)}static CreateFromBase64String(H,O,S,t,q){let p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:K.TRILINEAR_SAMPLINGMODE;return new K("data:"+O,S,t,q,p,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,H,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(H,O,S){let t=arguments.length>3&&void 0!==arguments[3]&&arguments[3],q=arguments.length>4?arguments[4]:void 0,p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],G=arguments.length>6&&void 0!==arguments[6]?arguments[6]:K.TRILINEAR_SAMPLINGMODE,U=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,V=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,w=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,o=arguments.length>10?arguments[10]:void 0,h=arguments.length>11?arguments[11]:void 0;return"data:"!==H.substring(0,5)&&(H="data:"+H),new K(H,S,q,p,G,U,V,O,t,w,void 0,void 0,o,h)}}K.SerializeBuffers=!0,K.ForceSerializeBuffers=!1,K.OnTextureLoadErrorObservable=new p.b,K._SerializeInternalTextureUniqueId=!1,K._CubeTextureParser=(H,O,S)=>{throw(0,w.b)("CubeTexture")},K._CreateMirror=(H,O,S,t)=>{throw(0,w.b)("MirrorTexture")},K._CreateRenderTargetTexture=(H,O,S,t,q)=>{throw(0,w.b)("RenderTargetTexture")},K.NEAREST_SAMPLINGMODE=1,K.NEAREST_NEAREST_MIPLINEAR=8,K.BILINEAR_SAMPLINGMODE=2,K.LINEAR_LINEAR_MIPNEAREST=11,K.TRILINEAR_SAMPLINGMODE=3,K.LINEAR_LINEAR_MIPLINEAR=3,K.NEAREST_NEAREST_MIPNEAREST=4,K.NEAREST_LINEAR_MIPNEAREST=5,K.NEAREST_LINEAR_MIPLINEAR=6,K.NEAREST_LINEAR=7,K.NEAREST_NEAREST=1,K.LINEAR_NEAREST_MIPNEAREST=9,K.LINEAR_NEAREST_MIPLINEAR=10,K.LINEAR_LINEAR=2,K.LINEAR_NEAREST=12,K.EXPLICIT_MODE=0,K.SPHERICAL_MODE=1,K.PLANAR_MODE=2,K.CUBIC_MODE=3,K.PROJECTION_MODE=4,K.SKYBOX_MODE=5,K.INVCUBIC_MODE=6,K.EQUIRECTANGULAR_MODE=7,K.FIXED_EQUIRECTANGULAR_MODE=8,K.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,K.CLAMP_ADDRESSMODE=0,K.WRAP_ADDRESSMODE=1,K.MIRROR_ADDRESSMODE=2,K.UseSerializedUrlIfAny=!1,(0,t.d)([(0,q.J)()],K.prototype,"url",void 0),(0,t.d)([(0,q.J)()],K.prototype,"uOffset",void 0),(0,t.d)([(0,q.J)()],K.prototype,"vOffset",void 0),(0,t.d)([(0,q.J)()],K.prototype,"uScale",void 0),(0,t.d)([(0,q.J)()],K.prototype,"vScale",void 0),(0,t.d)([(0,q.J)()],K.prototype,"uAng",void 0),(0,t.d)([(0,q.J)()],K.prototype,"vAng",void 0),(0,t.d)([(0,q.J)()],K.prototype,"wAng",void 0),(0,t.d)([(0,q.J)()],K.prototype,"uRotationCenter",void 0),(0,t.d)([(0,q.J)()],K.prototype,"vRotationCenter",void 0),(0,t.d)([(0,q.J)()],K.prototype,"wRotationCenter",void 0),(0,t.d)([(0,q.J)()],K.prototype,"homogeneousRotationInUVTransform",void 0),(0,t.d)([(0,q.J)()],K.prototype,"isBlocking",null),(0,V.g)("BABYLON.Texture",K),T.e._TextureParser=K.Parse},11360:(H,O,S)=>{S.d(O,{b:()=>q});var t=S(11301);class q{constructor(H,O,S,q){this.normal=new t.eO(H,O,S),this.d=q}pU(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let H=this.normal.getHashCode();return H=397*H^this.d,H}normalize(){const H=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let O=0;return 0!==H&&(O=1/H),this.normal.x*=O,this.normal.y*=O,this.normal.z*=O,this.d*=O,this}transform(H){const O=q._TmpMatrix;H.invertToRef(O);const S=O.m,t=this.normal.x,p=this.normal.y,G=this.normal.z,U=this.d,V=t*S[0]+p*S[1]+G*S[2]+U*S[3],w=t*S[4]+p*S[5]+G*S[6]+U*S[7],o=t*S[8]+p*S[9]+G*S[10]+U*S[11],h=t*S[12]+p*S[13]+G*S[14]+U*S[15];return new q(V,w,o,h)}dotCoordinate(H){return this.normal.x*H.x+this.normal.y*H.y+this.normal.z*H.z+this.d}copyFromPoints(H,O,S){const t=O.x-H.x,q=O.y-H.y,p=O.z-H.z,G=S.x-H.x,U=S.y-H.y,V=S.z-H.z,w=q*V-p*U,o=p*G-t*V,h=t*U-q*G,a=Math.sqrt(w*w+o*o+h*h);let j;return j=0!==a?1/a:0,this.normal.x=w*j,this.normal.y=o*j,this.normal.z=h*j,this.d=-(this.normal.x*H.x+this.normal.y*H.y+this.normal.z*H.z),this}isFrontFacingTo(H,O){return t.eO.Dot(this.normal,H)<=O}signedDistanceTo(H){return t.eO.Dot(H,this.normal)+this.d}static KO(H){return new q(H[0],H[1],H[2],H[3])}static FromPoints(H,O,S){const t=new q(0,0,0,0);return t.copyFromPoints(H,O,S),t}static FromPositionAndNormal(H,O){const S=new q(0,0,0,0);return this.FromPositionAndNormalToRef(H,O,S)}static FromPositionAndNormalToRef(H,O,S){return S.normal.t(O),S.normal.normalize(),S.d=-H.dot(S.normal),S}static SignedDistanceToPlaneFromPositionAndNormal(H,O,S){const q=-(O.x*H.x+O.y*H.y+O.z*H.z);return t.eO.Dot(S,O)+q}}q._TmpMatrix=t.Matrix.Identity()},11331:(H,O,S)=>{S.d(O,{d:()=>t});class t{constructor(H,O){this.width=H,this.height=O}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let H=0|this.width;return H=397*H^this.height,H}t(H){this.width=H.width,this.height=H.height}jU(H,O){return this.width=H,this.height=O,this}set(H,O){return this.jU(H,O)}multiplyByFloats(H,O){return new t(this.width*H,this.height*O)}clone(){return new t(this.width,this.height)}equals(H){return!!H&&(this.width===H.width&&this.height===H.height)}get surface(){return this.width*this.height}static Zero(){return new t(0,0)}add(H){return new t(this.width+H.width,this.height+H.height)}XO(H){return new t(this.width-H.width,this.height-H.height)}scale(H){return new t(this.width*H,this.height*H)}static Lerp(H,O,S){const q=H.width+(O.width-H.width)*S,p=H.height+(O.height-H.height)*S;return new t(q,p)}}},11295:(H,O,S)=>{S.d(O,{e:()=>p,h:()=>G});const t={},q={};function p(H){const O=H.getClassName();return q[O]||(q[O]={}),q[O]}function G(H){const O=H.getClassName();if(t[O])return t[O];t[O]={};const S=t[O];let p=H,G=O;for(;G;){const H=q[G];for(const q in H)S[q]=H[q];let O,t=!1;do{if(O=Object.getPrototypeOf(p),!O.getClassName){t=!0;break}if(O.getClassName()!==G)break;p=O}while(O);if(t)break;G=O.getClassName(),p=O}return S}},11289:(H,O,S)=>{S.d(O,{A:()=>U,E:()=>o,F:()=>h,J:()=>G,e:()=>p,h:()=>T,i:()=>j,j:()=>V,l:()=>e,m:()=>w,q:()=>X,t:()=>y,v:()=>a,y:()=>E});var t=S(11295);function q(H,O){return(S,q)=>{const p=(0,t.e)(S);p[q]||(p[q]={type:H,sourceName:O})}}function p(H){return function(H){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(S,t)=>{const q=O||"_"+t;Object.defineProperty(S,t,{get:function(){return this[q]},set:function(O){var t;"function"===typeof(null===(t=this[q])||void 0===t?void 0:t.equals)&&this[q].equals(O)||this[q]!==O&&(this[q]=O,S[H].apply(this))},enumerable:!0,configurable:!0})}}(H,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function G(H){return q(0,H)}function U(H){return q(1,H)}function V(H){return q(2,H)}function w(H){return q(3,H)}function o(H){return q(4,H)}function h(H){return q(5,H)}function a(H){return q(6,H)}function j(H){return q(7,H)}function e(H){return q(8,H)}function X(H){return q(9,H)}function E(H){return q(10,H)}function y(H){return q(12,H)}function T(H,O,S,t){const q=S.value;S.value=function(){let S=q;if("undefined"!==typeof _native&&_native[O]){const H=_native[O];S=t?function(){return t(...arguments)?H(...arguments):q(...arguments)}:H}return H[O]=S,S(...arguments)}}T.filter=function(H){return(O,S,t)=>T(O,S,t,H)}},11338:(H,O,S)=>{S.d(O,{e:()=>w});var t=S(11169),q=S(11346),p=S(11355),G=S(11301),U=S(11295);const V=function(H,O,S){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const p=H();q.e&&q.e.HasTags(O)&&q.e.AddTagsTo(p,q.e.GetTags(O,!0));const G=(0,U.h)(p),V={};for(const q in G){const H=G[q],U=O[q],o=H.type;if(void 0!==U&&null!==U&&("uniqueId"!==q||w.AllowLoadingUniqueId))switch(o){case 0:case 6:case 9:case 11:p[q]=U;break;case 1:t.cloneTexturesOnlyOnce&&V[U.uniqueId]?p[q]=V[U.uniqueId]:(p[q]=S||U.isRenderTarget?U:U.clone(),V[U.uniqueId]=p[q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:p[q]=S?U:U.clone()}}return p};class w{static AppendSerializedAnimations(H,O){if(H.animations){O.animations=[];for(let S=0;S<H.animations.length;S++){const t=H.animations[S];O.animations.push(t.serialize())}}}static Serialize(H,O){O||(O={}),q.e&&(O.tags=q.e.GetTags(H));const S=(0,U.h)(H);for(const t in S){const q=S[t],p=q.sourceName||t,G=q.type,U=H[t];if(void 0!==U&&null!==U&&("uniqueId"!==t||w.AllowLoadingUniqueId))switch(G){case 0:O[p]=U;break;case 1:case 3:case 7:case 9:O[p]=U.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:O[p]=U.pU();break;case 6:case 11:O[p]=U.id}}return O}static ParseProperties(H,O,S,t){t||(t="");const q=(0,U.h)(O);for(const U in q){const V=q[U],o=H[V.sourceName||U],h=V.type;if(void 0!==o&&null!==o&&("uniqueId"!==U||w.AllowLoadingUniqueId)){const H=O;switch(h){case 0:H[U]=o;break;case 1:S&&(H[U]=w._TextureParser(o,S,t));break;case 2:H[U]=p.TO.KO(o);break;case 3:H[U]=w._FresnelParametersParser(o);break;case 4:H[U]=G.Vector2.KO(o);break;case 5:H[U]=G.eO.KO(o);break;case 6:S&&(H[U]=S.getLastMeshById(o));break;case 7:H[U]=w._ColorCurvesParser(o);break;case 8:H[U]=p.EU.KO(o);break;case 9:H[U]=w._ImageProcessingConfigurationParser(o);break;case 10:H[U]=G.Quaternion.KO(o);break;case 11:S&&(H[U]=S.getCameraById(o));break;case 12:H[U]=G.Matrix.KO(o)}}}}static Parse(H,O,S){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const p=H();return q.e&&q.e.AddTagsTo(p,O.tags),w.ParseProperties(O,p,S,t),p}static Clone(H,O){return V(H,O,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(H,O){return V(H,O,!0)}}w.AllowLoadingUniqueId=!1,w._ImageProcessingConfigurationParser=H=>{throw(0,t.b)("ImageProcessingConfiguration")},w._FresnelParametersParser=H=>{throw(0,t.b)("FresnelParameters")},w._ColorCurvesParser=H=>{throw(0,t.b)("ColorCurves")},w._TextureParser=(H,O,S)=>{throw(0,t.b)("Texture")}},11346:(H,O,S)=>{S.d(O,{e:()=>q});class t{static Eval(H,O){return"true"===(H=H.match(/\([^()]*\)/g)?H.replace(/\([^()]*\)/g,(H=>(H=H.slice(1,H.length-1),t._HandleParenthesisContent(H,O)))):t._HandleParenthesisContent(H,O))||"false"!==H&&t.Eval(H,O)}static _HandleParenthesisContent(H,O){let S;O=O||(H=>"true"===H);const q=H.split("||");for(const p in q)if(Object.prototype.hasOwnProperty.call(q,p)){let H=t._SimplifyNegation(q[p].trim());const G=H.split("&&");if(G.length>1)for(let q=0;q<G.length;++q){const p=t._SimplifyNegation(G[q].trim());if(S="true"!==p&&"false"!==p?"!"===p[0]?!O(p.substring(1)):O(p):"true"===p,!S){H="false";break}}if(S||"true"===H){S=!0;break}S="true"!==H&&"false"!==H?"!"===H[0]?!O(H.substring(1)):O(H):"true"===H}return S?"true":"false"}static _SimplifyNegation(H){return"!true"===(H=(H=H.replace(/^[\s!]+/,(H=>(H=H.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?H="false":"!false"===H&&(H="true"),H}}class q{static EnableFor(H){H._tags=H._tags||{},H.hasTags=()=>q.HasTags(H),H.addTags=O=>q.AddTagsTo(H,O),H.removeTags=O=>q.RemoveTagsFrom(H,O),H.matchesTagsQuery=O=>q.MatchesQuery(H,O)}static DisableFor(H){delete H._tags,delete H.hasTags,delete H.addTags,delete H.removeTags,delete H.matchesTagsQuery}static HasTags(H){if(!H._tags)return!1;const O=H._tags;for(const S in O)if(Object.prototype.hasOwnProperty.call(O,S))return!0;return!1}static GetTags(H){let O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!H._tags)return null;if(O){const O=[];for(const S in H._tags)Object.prototype.hasOwnProperty.call(H._tags,S)&&!0===H._tags[S]&&O.push(S);return O.join(" ")}return H._tags}static AddTagsTo(H,O){if(!O)return;if("string"!==typeof O)return;const S=O.split(" ");for(const t of S)q._AddTagTo(H,t)}static _AddTagTo(H,O){""!==(O=O.trim())&&"true"!==O&&"false"!==O&&(O.match(/[\s]/)||O.match(/^([!]|([|]|[&]){2})/)||(q.EnableFor(H),H._tags[O]=!0))}static RemoveTagsFrom(H,O){if(!q.HasTags(H))return;const S=O.split(" ");for(const t in S)q._RemoveTagFrom(H,S[t])}static _RemoveTagFrom(H,O){delete H._tags[O]}static MatchesQuery(H,O){return void 0===O||(""===O?q.HasTags(H):t.Eval(O,(O=>q.HasTags(H)&&H._tags[O])))}}},11287:(H,O,S)=>{S.d(O,{d:()=>t});function t(H,O,S,t){var q,p=arguments.length,G=p<3?O:null===t?t=Object.getOwnPropertyDescriptor(O,S):t;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)G=Reflect.decorate(H,O,S,t);else for(var U=H.length-1;U>=0;U--)(q=H[U])&&(G=(p<3?q(G):p>3?q(O,S,G):q(O,S))||G);return p>3&&G&&Object.defineProperty(O,S,G),G}Object.create;Object.create}}]);