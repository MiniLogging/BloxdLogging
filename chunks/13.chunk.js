"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[13],{12501:(g,i,a)=>{a.d(i,{e:()=>n});let n=!1},12475:(g,i,a)=>{a.d(i,{c:()=>j});var n=a(12441),L=a(12447),d=a(12286),b=a(12452),k=a(12316),e=a(12422),N=(a(12324),a(12477));class F{get wrapU(){return this._wrapU}set wrapU(g){this._wrapU=g}get wrapV(){return this._wrapV}set wrapV(g){this._wrapV=g}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(g){this._texture&&(this._texture.isCube=g)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(g){this._texture&&(this._texture.is3D=g)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(g){this._texture&&(this._texture.is2DArray=g)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(g){return void 0!==(null===g||void 0===g?void 0:g.shareDepth)}constructor(g){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=N.c.Zero(),this._cachedBaseSize=N.c.Zero(),this._initialSamplingMode=2,this._texture=F._IsRenderTargetWrapper(g)?g.texture:g,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(g){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(g,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var I=a(12484);class j extends F{set Ud(g){this._hasAlpha!==g&&(this._hasAlpha=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get Ud(){return this._hasAlpha}set getAlphaFromRGB(g){this._getAlphaFromRGB!==g&&(this._getAlphaFromRGB=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(g){this._coordinatesIndex!==g&&(this._coordinatesIndex=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(g){this._coordinatesMode!==g&&(this._coordinatesMode=g,this._scene&&this._scene.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(g){this._wrapU=g}get wrapV(){return this._wrapV}set wrapV(g){this._wrapV=g}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(g){this._texture?this._texture.isCube=g:this._isCube=g}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(g){this._texture&&(this._texture.is3D=g)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(g){this._texture&&(this._texture.is2DArray=g)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(g){var i;if(this._texture){if(this._texture._gammaSpace===g)return;this._texture._gammaSpace=g}else{if(this._gammaSpace===g)return;this._gammaSpace=g}null===(i=this.Pg())||void 0===i||i.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(g){var i;g!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=g),null===(i=this.Pg())||void 0===i||i.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(g){this._texture&&(this._texture._lodGenerationOffset=g)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(g){this._texture&&(this._texture._lodGenerationScale=g)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(g){this._texture&&(this._texture._linearSpecularLOD=g)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(g){this._texture&&(this._texture._irradianceTexture=g)}get uid(){return this._uid||(this._uid=(0,e.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(g){this._onDisposeObserver&&this.dd.remove(this._onDisposeObserver),this._onDisposeObserver=this.dd.add(g)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.dd=new d.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,g?j._IsScene(g)?this._scene=g:this._engine=g:this._scene=k.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=i,this._uid=null}Pg(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return b.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return b.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(g){}get canRescale(){return!1}_getFromCache(g,i,a,n,L,d){const b=this._getEngine();if(!b)return null;const k=b._getUseSRGBBuffer(!!L,i),e=b.getLoadedTexturesCache();for(let N=0;N<e.length;N++){const b=e[N];if((void 0===L||k===b._useSRGBBuffer)&&(void 0===n||n===b.invertY)&&b.url===g&&b.generateMipMaps===!i&&(!a||a===b.samplingMode)&&(void 0===d||d===b.isCube))return b.incrementReferences(),b}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const g=this.Pg();g&&g.markAllMaterialsAsDirty(1)}readPixels(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],L=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,e=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const N=this._getEngine();if(!N)return null;const F=this.getSize();let I=F.width,j=F.height;0!==i&&(I/=Math.pow(2,i),j/=Math.pow(2,i),I=Math.round(I),j=Math.round(j)),k=Math.min(I,k),e=Math.min(j,e);try{return this._texture.isCube?N._readTexturePixels(this._texture,k,e,g,i,a,n,L,d,b):N._readTexturePixels(this._texture,k,e,-1,i,a,n,L,d,b)}catch(y){return null}}_readPixelsSync(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],L=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const d=this.getSize();let b=d.width,k=d.height;const e=this._getEngine();if(!e)return null;0!=i&&(b/=Math.pow(2,i),k/=Math.pow(2,i),b=Math.round(b),k=Math.round(k));try{return this._texture.isCube?e._readTexturePixelsSync(this._texture,b,k,g,i,a,n,L):e._readTexturePixelsSync(this._texture,b,k,-1,i,a,n,L)}catch(N){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const g=this._scene.textures.indexOf(this);if(g>=0&&this._scene.textures.splice(g,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const g=this._parentContainer.textures.indexOf(this);g>-1&&this._parentContainer.textures.splice(g,1),this._parentContainer=null}}this.dd.notifyObservers(this),this.dd.clear(),this.metadata=null,super.dispose()}serialize(){let g=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!g)return null;const i=I.c.Serialize(this);return I.c.AppendSerializedAnimations(this,i),i}static WhenAllReady(g,i){let a=g.length;if(0!==a)for(let n=0;n<g.length;n++){const L=g[n];if(L.isReady())0===--a&&i();else{const g=L.onLoadObservable;g?g.addOnce((()=>{0===--a&&i()})):0===--a&&i()}}else i()}static _IsScene(g){return"Scene"===g.getClassName()}}j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,n.e)([(0,L.P)()],j.prototype,"uniqueId",void 0),(0,n.e)([(0,L.P)()],j.prototype,"name",void 0),(0,n.e)([(0,L.P)()],j.prototype,"displayName",void 0),(0,n.e)([(0,L.P)()],j.prototype,"metadata",void 0),(0,n.e)([(0,L.P)("Ud")],j.prototype,"_hasAlpha",void 0),(0,n.e)([(0,L.P)("getAlphaFromRGB")],j.prototype,"_getAlphaFromRGB",void 0),(0,n.e)([(0,L.P)()],j.prototype,"level",void 0),(0,n.e)([(0,L.P)("coordinatesIndex")],j.prototype,"_coordinatesIndex",void 0),(0,n.e)([(0,L.P)()],j.prototype,"optimizeUVAllocation",void 0),(0,n.e)([(0,L.P)("coordinatesMode")],j.prototype,"_coordinatesMode",void 0),(0,n.e)([(0,L.P)()],j.prototype,"wrapU",null),(0,n.e)([(0,L.P)()],j.prototype,"wrapV",null),(0,n.e)([(0,L.P)()],j.prototype,"wrapR",void 0),(0,n.e)([(0,L.P)()],j.prototype,"anisotropicFilteringLevel",void 0),(0,n.e)([(0,L.P)()],j.prototype,"isCube",null),(0,n.e)([(0,L.P)()],j.prototype,"is3D",null),(0,n.e)([(0,L.P)()],j.prototype,"is2DArray",null),(0,n.e)([(0,L.P)()],j.prototype,"gammaSpace",null),(0,n.e)([(0,L.P)()],j.prototype,"invertZ",void 0),(0,n.e)([(0,L.P)()],j.prototype,"lodLevelInAlpha",void 0),(0,n.e)([(0,L.P)()],j.prototype,"lodGenerationOffset",null),(0,n.e)([(0,L.P)()],j.prototype,"lodGenerationScale",null),(0,n.e)([(0,L.P)()],j.prototype,"linearSpecularLOD",null),(0,n.e)([(0,L.H)()],j.prototype,"irradianceTexture",null),(0,n.e)([(0,L.P)()],j.prototype,"isRenderTarget",void 0)},12436:(g,i,a)=>{a.d(i,{c:()=>x});var n=a(12441),L=a(12447),d=a(12286),b=a(12452),k=a(12475),e=a(12415),N=a(12303),F=a(12352),I=a(12408),j=a(12498),y=a(12334);function B(g,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=i.width,L=i.height;if(g instanceof Float32Array){let i=g.byteLength/g.BYTES_PER_ELEMENT;const a=new Uint8Array(i);for(;--i>=0;){let n=g[i];n<0?n=0:n>1&&(n=1),a[i]=255*n}g=a}const d=document.createElement("canvas");d.width=n,d.height=L;const b=d.getContext("2d");if(!b)return null;const k=b.createImageData(n,L);if(k.data.set(g),b.putImageData(k,0,0),a){const g=document.createElement("canvas");g.width=n,g.height=L;const i=g.getContext("2d");return i?(i.translate(0,L),i.scale(1,-1),i.drawImage(d,0,0),g.toDataURL("image/png")):null}return d.toDataURL("image/png")}function c(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g.getInternalTexture();if(!n)return null;const L=g._readPixelsSync(i,a);return L?B(L,g.getSize(),n.invertY):null}async function D(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=g.getInternalTexture();if(!n)return null;const L=await g.readPixels(i,a);return L?B(L,g.getSize(),n.invertY):null}var p=a(12501),R=a(12484);class x extends k.c{static _CreateVideoTexture(g,i,a){arguments.length>5&&void 0!==arguments[5]||x.TRILINEAR_SAMPLINGMODE;throw(0,N.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(g){this._isBlocking=g}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(g,i,a,n){let L,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x.TRILINEAR_SAMPLINGMODE,k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,e=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,N=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,I=arguments.length>8&&void 0!==arguments[8]&&arguments[8],j=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0,B=arguments.length>11?arguments[11]:void 0,c=arguments.length>12?arguments[12]:void 0,D=arguments.length>13?arguments[13]:void 0;super(i),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new d.b,this._isBlocking=!0,this.name=g||"",this.url=g;let R=!1,E=null,X=!0;"object"===typeof a&&null!==a?(L=a.noMipmap??!1,n=a.invertY??!p.e,b=a.samplingMode??x.TRILINEAR_SAMPLINGMODE,k=a.W??null,e=a.onError??null,N=a.buffer??null,I=a.deleteBuffer??!1,j=a.format,y=a.mimeType,B=a.loaderOptions,c=a.creationFlags,R=a.useSRGBBuffer??!1,E=a.internalTexture??null,X=a.gammaSpace??X,D=a.forcedExtension??D):L=!!a,this._gammaSpace=X,this._noMipmap=L,this._invertY=void 0===n?!p.e:n,this._initialSamplingMode=b,this._buffer=N,this._deleteBuffer=I,this._mimeType=y,this._loaderOptions=B,this._creationFlags=c,this._useSRGBBuffer=R,this._forcedExtension=D,void 0!==j&&(this._format=j);const v=this.Pg(),P=this._getEngine();if(!P)return;P.onBeforeTextureInitObservable.notifyObservers(this);const Y=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),k&&k(),!this.isBlocking&&v&&v.resetCachedMaterial()},f=(g,i)=>{this._loadingError=!0,this._errorObject={message:g,exception:i},e&&e(g,i),x.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!E)return this._delayedOnLoad=Y,void(this._delayedOnError=f);if(this._texture=E??this._getFromCache(this.url,L,b,this._invertY,R,this.isCube),this._texture)if(this._texture.isReady)F.c.SetImmediate((()=>Y()));else{const g=this._texture.onLoadedObservable.add(Y);this._texture.onErrorObservable.add((i=>{var a;f(i.message,i.exception),null===(a=this._texture)||void 0===a||a.onLoadedObservable.remove(g)}))}else if(v&&v.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=Y,this._delayedOnError=f;else{try{this._texture=P.createTexture(this.url,L,this._invertY,v,b,Y,f,this._buffer,void 0,this._format,this._forcedExtension,y,B,c,R)}catch(C){throw f("error loading",C),C}I&&(this._buffer=null)}}updateURL(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Pg().markAllMaterialsAsDirty(1,(g=>g.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=g),this.url=g,this._buffer=i,this._forcedExtension=n,this.delayLoadState=4,a&&(this._delayedOnLoad=a),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const g=this.Pg();g&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?F.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=g.getEngine().createTexture(this.url,this._noMipmap,this._invertY,g,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(g,i,a,n){g*=this._cachedUScale,i*=this._cachedVScale,g-=this.uRotationCenter*this._cachedUScale,i-=this.vRotationCenter*this._cachedVScale,a-=this.wRotationCenter,b.Bi.TransformCoordinatesFromFloatsToRef(g,i,a,this._rowGenerationMatrix,n),n.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,n.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,n.z+=this.wRotationCenter}getTextureMatrix(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*g===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*g,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=b.Matrix.Zero(),this._rowGenerationMatrix=new b.Matrix,this._t0=b.Bi.Zero(),this._t1=b.Bi.Zero(),this._t2=b.Bi.Zero()),b.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(b.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,b.TmpVectors.Matrix[0]),b.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,b.TmpVectors.Matrix[1]),b.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,b.TmpVectors.Matrix[2]),b.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,b.TmpVectors.Matrix[3]),b.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(b.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.ij(this._t0),this._t2.ij(this._t0),b.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const i=this.Pg();if(!i)return this._cachedTextureMatrix;const a=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&a!==this._cachedIdentity3x2&&i.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const g=this.Pg();if(!g)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==x.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===g.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=b.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=b.Matrix.Zero());const i=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case x.PLANAR_MODE:b.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case x.PROJECTION_MODE:{b.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const i=g.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=i.updateFlag,i.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:b.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return i&&g.markAllMaterialsAsDirty(1,(g=>g.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const g={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,W:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return R.c.Clone((()=>new x(this._texture?this._texture.url:null,this.Pg(),g)),this)}serialize(){var g;const i=this.name;x.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const a=super.serialize(x._SerializeInternalTextureUniqueId);if(!a)return null;if(x.SerializeBuffers||x.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))a.base64String=this._buffer,a.name=a.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const g=this.mimeType||"image/png";a.base64String=`data:${g};base64,${(0,y.j)(this._buffer)}`}else(x.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(a.base64String=!this._engine||this._engine._features.supportSyncTextureRead?c(this):D(this));var n;(a.invertY=this._invertY,a.samplingMode=this.samplingMode,a._creationFlags=this._creationFlags,a._useSRGBBuffer=this._useSRGBBuffer,x._SerializeInternalTextureUniqueId)&&(a.internalTextureUniqueId=null===(n=this._texture)||void 0===n?void 0:n.uniqueId);return a.internalTextureLabel=null===(g=this._texture)||void 0===g?void 0:g.label,a.noMipmap=this._noMipmap,this.name=i,a}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(g,i,a){if(g.customType){const n=I.b.Instantiate(g.customType).Parse(g,i,a);return g.samplingMode&&n.updateSamplingMode&&n._samplingMode&&n._samplingMode!==g.samplingMode&&n.updateSamplingMode(g.samplingMode),n}if(g.isCube&&!g.isRenderTarget)return x._CubeTextureParser(g,i,a);const n=void 0!==g.internalTextureUniqueId;if(!g.name&&!g.isRenderTarget&&!n)return null;let L;if(n){const a=i.getEngine().getLoadedTexturesCache();for(const i of a)if(i.uniqueId===g.internalTextureUniqueId){L=i;break}}const d=i=>{if(i&&i._texture&&(i._texture._cachedWrapU=null,i._texture._cachedWrapV=null,i._texture._cachedWrapR=null),g.samplingMode){const a=g.samplingMode;i&&i.samplingMode!==a&&i.updateSamplingMode(a)}if(i&&g.animations)for(let a=0;a<g.animations.length;a++){const n=g.animations[a],L=(0,e.d)("BABYLON.Animation");L&&i.animations.push(L.Parse(n))}i&&i._texture&&(n&&!L&&i._texture._setUniqueId(g.internalTextureUniqueId),i._texture.label=g.internalTextureLabel)};return R.c.Parse((()=>{let n=!0;if(g.noMipmap&&(n=!1),g.mirrorPlane){const a=x._CreateMirror(g.name,g.renderTargetSize,i,n);return a._waitingRenderList=g.renderList,a.mirrorPlane=j.b.xi(g.mirrorPlane),d(a),a}if(g.isRenderTarget){let a=null;if(g.isCube){if(i.reflectionProbes)for(let n=0;n<i.reflectionProbes.length;n++){const a=i.reflectionProbes[n];if(a.name===g.name)return a.cubeTexture}}else a=x._CreateRenderTargetTexture(g.name,g.renderTargetSize,i,n,g._creationFlags??0),a._waitingRenderList=g.renderList;return d(a),a}if(g.isVideo){const L=x._CreateVideoTexture(a+(g.url||g.name),a+(g.src||g.url),i,n,g.invertY,g.samplingMode,g.settings||{});return d(L),L}{let b;if(g.base64String&&!L)b=x.CreateFromBase64String(g.base64String,g.base64String,i,!n,g.invertY,g.samplingMode,(()=>{d(b)}),g._creationFlags??0,g._useSRGBBuffer??!1),b.name=g.name;else{let k;k=g.name&&(g.name.indexOf("://")>0||g.name.startsWith("data:"))?g.name:a+g.name,g.url&&(g.url.startsWith("data:")||x.UseSerializedUrlIfAny)&&(k=g.url);const e={noMipmap:!n,invertY:g.invertY,samplingMode:g.samplingMode,W:()=>{d(b)},internalTexture:L};b=new x(k,i,e)}return b}}),g,i)}static CreateFromBase64String(g,i,a,n,L){let d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:x.TRILINEAR_SAMPLINGMODE;return new x("data:"+i,a,n,L,d,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],L=arguments.length>4?arguments[4]:void 0,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:x.TRILINEAR_SAMPLINGMODE,k=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,e=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,N=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,F=arguments.length>10?arguments[10]:void 0,I=arguments.length>11?arguments[11]:void 0;return"data:"!==g.substring(0,5)&&(g="data:"+g),new x(g,a,L,d,b,k,e,i,n,N,void 0,void 0,F,I)}}x.SerializeBuffers=!0,x.ForceSerializeBuffers=!1,x.OnTextureLoadErrorObservable=new d.b,x._SerializeInternalTextureUniqueId=!1,x._CubeTextureParser=(g,i,a)=>{throw(0,N.b)("CubeTexture")},x._CreateMirror=(g,i,a,n)=>{throw(0,N.b)("MirrorTexture")},x._CreateRenderTargetTexture=(g,i,a,n,L)=>{throw(0,N.b)("RenderTargetTexture")},x.NEAREST_SAMPLINGMODE=1,x.NEAREST_NEAREST_MIPLINEAR=8,x.BILINEAR_SAMPLINGMODE=2,x.LINEAR_LINEAR_MIPNEAREST=11,x.TRILINEAR_SAMPLINGMODE=3,x.LINEAR_LINEAR_MIPLINEAR=3,x.NEAREST_NEAREST_MIPNEAREST=4,x.NEAREST_LINEAR_MIPNEAREST=5,x.NEAREST_LINEAR_MIPLINEAR=6,x.NEAREST_LINEAR=7,x.NEAREST_NEAREST=1,x.LINEAR_NEAREST_MIPNEAREST=9,x.LINEAR_NEAREST_MIPLINEAR=10,x.LINEAR_LINEAR=2,x.LINEAR_NEAREST=12,x.EXPLICIT_MODE=0,x.SPHERICAL_MODE=1,x.PLANAR_MODE=2,x.CUBIC_MODE=3,x.PROJECTION_MODE=4,x.SKYBOX_MODE=5,x.INVCUBIC_MODE=6,x.EQUIRECTANGULAR_MODE=7,x.FIXED_EQUIRECTANGULAR_MODE=8,x.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,x.CLAMP_ADDRESSMODE=0,x.WRAP_ADDRESSMODE=1,x.MIRROR_ADDRESSMODE=2,x.UseSerializedUrlIfAny=!1,(0,n.e)([(0,L.P)()],x.prototype,"url",void 0),(0,n.e)([(0,L.P)()],x.prototype,"uOffset",void 0),(0,n.e)([(0,L.P)()],x.prototype,"vOffset",void 0),(0,n.e)([(0,L.P)()],x.prototype,"uScale",void 0),(0,n.e)([(0,L.P)()],x.prototype,"vScale",void 0),(0,n.e)([(0,L.P)()],x.prototype,"uAng",void 0),(0,n.e)([(0,L.P)()],x.prototype,"vAng",void 0),(0,n.e)([(0,L.P)()],x.prototype,"wAng",void 0),(0,n.e)([(0,L.P)()],x.prototype,"uRotationCenter",void 0),(0,n.e)([(0,L.P)()],x.prototype,"vRotationCenter",void 0),(0,n.e)([(0,L.P)()],x.prototype,"wRotationCenter",void 0),(0,n.e)([(0,L.P)()],x.prototype,"homogeneousRotationInUVTransform",void 0),(0,n.e)([(0,L.P)()],x.prototype,"isBlocking",null),(0,e.e)("BABYLON.Texture",x),R.c._TextureParser=x.Parse},12498:(g,i,a)=>{a.d(i,{b:()=>L});var n=a(12452);class L{constructor(g,i,a,L){this.normal=new n.Bi(g,i,a),this.d=L}fd(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new L(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let g=this.normal.getHashCode();return g=397*g^this.d,g}normalize(){const g=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let i=0;return 0!==g&&(i=1/g),this.normal.x*=i,this.normal.y*=i,this.normal.z*=i,this.d*=i,this}transform(g){const i=L._TmpMatrix;g.invertToRef(i);const a=i.m,n=this.normal.x,d=this.normal.y,b=this.normal.z,k=this.d,e=n*a[0]+d*a[1]+b*a[2]+k*a[3],N=n*a[4]+d*a[5]+b*a[6]+k*a[7],F=n*a[8]+d*a[9]+b*a[10]+k*a[11],I=n*a[12]+d*a[13]+b*a[14]+k*a[15];return new L(e,N,F,I)}dotCoordinate(g){return this.normal.x*g.x+this.normal.y*g.y+this.normal.z*g.z+this.d}copyFromPoints(g,i,a){const n=i.x-g.x,L=i.y-g.y,d=i.z-g.z,b=a.x-g.x,k=a.y-g.y,e=a.z-g.z,N=L*e-d*k,F=d*b-n*e,I=n*k-L*b,j=Math.sqrt(N*N+F*F+I*I);let y;return y=0!==j?1/j:0,this.normal.x=N*y,this.normal.y=F*y,this.normal.z=I*y,this.d=-(this.normal.x*g.x+this.normal.y*g.y+this.normal.z*g.z),this}isFrontFacingTo(g,i){return n.Bi.Dot(this.normal,g)<=i}signedDistanceTo(g){return n.Bi.Dot(g,this.normal)+this.d}static xi(g){return new L(g[0],g[1],g[2],g[3])}static FromPoints(g,i,a){const n=new L(0,0,0,0);return n.copyFromPoints(g,i,a),n}static FromPositionAndNormal(g,i){const a=new L(0,0,0,0);return this.FromPositionAndNormalToRef(g,i,a)}static FromPositionAndNormalToRef(g,i,a){return a.normal.I(i),a.normal.normalize(),a.d=-g.dot(a.normal),a}static SignedDistanceToPlaneFromPositionAndNormal(g,i,a){const L=-(i.x*g.x+i.y*g.y+i.z*g.z);return n.Bi.Dot(a,i)+L}}L._TmpMatrix=n.Matrix.Identity()},12477:(g,i,a)=>{a.d(i,{c:()=>n});class n{constructor(g,i){this.width=g,this.height=i}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let g=0|this.width;return g=397*g^this.height,g}I(g){this.width=g.width,this.height=g.height}sd(g,i){return this.width=g,this.height=i,this}set(g,i){return this.sd(g,i)}multiplyByFloats(g,i){return new n(this.width*g,this.height*i)}clone(){return new n(this.width,this.height)}equals(g){return!!g&&(this.width===g.width&&this.height===g.height)}get surface(){return this.width*this.height}static Zero(){return new n(0,0)}add(g){return new n(this.width+g.width,this.height+g.height)}ci(g){return new n(this.width-g.width,this.height-g.height)}scale(g){return new n(this.width*g,this.height*g)}static Lerp(g,i,a){const L=g.width+(i.width-g.width)*a,d=g.height+(i.height-g.height)*a;return new n(L,d)}}},12449:(g,i,a)=>{a.d(i,{c:()=>d,e:()=>b});const n={},L={};function d(g){const i=g.getClassName();return L[i]||(L[i]={}),L[i]}function b(g){const i=g.getClassName();if(n[i])return n[i];n[i]={};const a=n[i];let d=g,b=i;for(;b;){const g=L[b];for(const L in g)a[L]=g[L];let i,n=!1;do{if(i=Object.getPrototypeOf(d),!i.getClassName){n=!0;break}if(i.getClassName()!==b)break;d=i}while(i);if(n)break;b=i.getClassName(),d=i}return a}},12447:(g,i,a)=>{a.d(i,{B:()=>p,E:()=>j,G:()=>D,H:()=>k,L:()=>F,M:()=>I,P:()=>b,e:()=>d,i:()=>R,k:()=>y,o:()=>e,s:()=>B,w:()=>N,y:()=>c});var n=a(12449);function L(g,i){return(a,L)=>{const d=(0,n.c)(a);d[L]||(d[L]={type:g,sourceName:i})}}function d(g){return function(g){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(a,n)=>{const L=i||"_"+n;Object.defineProperty(a,n,{get:function(){return this[L]},set:function(i){var n;"function"===typeof(null===(n=this[L])||void 0===n?void 0:n.equals)&&this[L].equals(i)||this[L]!==i&&(this[L]=i,a[g].apply(this))},enumerable:!0,configurable:!0})}}(g,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function b(g){return L(0,g)}function k(g){return L(1,g)}function e(g){return L(2,g)}function N(g){return L(3,g)}function F(g){return L(4,g)}function I(g){return L(5,g)}function j(g){return L(6,g)}function y(g){return L(7,g)}function B(g){return L(8,g)}function c(g){return L(9,g)}function D(g){return L(10,g)}function p(g){return L(12,g)}function R(g,i,a,n){const L=a.value;a.value=function(){let a=L;if("undefined"!==typeof _native&&_native[i]){const g=_native[i];a=n?function(){return n(...arguments)?g(...arguments):L(...arguments)}:g}return g[i]=a,a(...arguments)}}R.filter=function(g){return(i,a,n)=>R(i,a,n,g)}},12484:(g,i,a)=>{a.d(i,{c:()=>N});var n=a(12303),L=a(12492),d=a(12496),b=a(12452),k=a(12449);const e=function(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=g();L.c&&L.c.HasTags(i)&&L.c.AddTagsTo(d,L.c.GetTags(i,!0));const b=(0,k.e)(d),e={};for(const L in b){const g=b[L],k=i[L],F=g.type;if(void 0!==k&&null!==k&&("uniqueId"!==L||N.AllowLoadingUniqueId))switch(F){case 0:case 6:case 9:case 11:d[L]=k;break;case 1:n.cloneTexturesOnlyOnce&&e[k.uniqueId]?d[L]=e[k.uniqueId]:(d[L]=a||k.isRenderTarget?k:k.clone(),e[k.uniqueId]=d[L]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:d[L]=a?k:k.clone()}}return d};class N{static AppendSerializedAnimations(g,i){if(g.animations){i.animations=[];for(let a=0;a<g.animations.length;a++){const n=g.animations[a];i.animations.push(n.serialize())}}}static Serialize(g,i){i||(i={}),L.c&&(i.tags=L.c.GetTags(g));const a=(0,k.e)(g);for(const n in a){const L=a[n],d=L.sourceName||n,b=L.type,k=g[n];if(void 0!==k&&null!==k&&("uniqueId"!==n||N.AllowLoadingUniqueId))switch(b){case 0:i[d]=k;break;case 1:case 3:case 7:case 9:i[d]=k.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:i[d]=k.fd();break;case 6:case 11:i[d]=k.id}}return i}static ParseProperties(g,i,a,n){n||(n="");const L=(0,k.e)(i);for(const k in L){const e=L[k],F=g[e.sourceName||k],I=e.type;if(void 0!==F&&null!==F&&("uniqueId"!==k||N.AllowLoadingUniqueId)){const g=i;switch(I){case 0:g[k]=F;break;case 1:a&&(g[k]=N._TextureParser(F,a,n));break;case 2:g[k]=d.Ri.xi(F);break;case 3:g[k]=N._FresnelParametersParser(F);break;case 4:g[k]=b.Vector2.xi(F);break;case 5:g[k]=b.Bi.xi(F);break;case 6:a&&(g[k]=a.getLastMeshById(F));break;case 7:g[k]=N._ColorCurvesParser(F);break;case 8:g[k]=d.Hd.xi(F);break;case 9:g[k]=N._ImageProcessingConfigurationParser(F);break;case 10:g[k]=b.Quaternion.xi(F);break;case 11:a&&(g[k]=a.getCameraById(F));break;case 12:g[k]=b.Matrix.xi(F)}}}}static Parse(g,i,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const d=g();return L.c&&L.c.AddTagsTo(d,i.tags),N.ParseProperties(i,d,a,n),d}static Clone(g,i){return e(g,i,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(g,i){return e(g,i,!0)}}N.AllowLoadingUniqueId=!1,N._ImageProcessingConfigurationParser=g=>{throw(0,n.b)("ImageProcessingConfiguration")},N._FresnelParametersParser=g=>{throw(0,n.b)("FresnelParameters")},N._ColorCurvesParser=g=>{throw(0,n.b)("ColorCurves")},N._TextureParser=(g,i,a)=>{throw(0,n.b)("Texture")}},12492:(g,i,a)=>{a.d(i,{c:()=>L});class n{static Eval(g,i){return"true"===(g=g.match(/\([^()]*\)/g)?g.replace(/\([^()]*\)/g,(g=>(g=g.slice(1,g.length-1),n._HandleParenthesisContent(g,i)))):n._HandleParenthesisContent(g,i))||"false"!==g&&n.Eval(g,i)}static _HandleParenthesisContent(g,i){let a;i=i||(g=>"true"===g);const L=g.split("||");for(const d in L)if(Object.prototype.hasOwnProperty.call(L,d)){let g=n._SimplifyNegation(L[d].trim());const b=g.split("&&");if(b.length>1)for(let L=0;L<b.length;++L){const d=n._SimplifyNegation(b[L].trim());if(a="true"!==d&&"false"!==d?"!"===d[0]?!i(d.substring(1)):i(d):"true"===d,!a){g="false";break}}if(a||"true"===g){a=!0;break}a="true"!==g&&"false"!==g?"!"===g[0]?!i(g.substring(1)):i(g):"true"===g}return a?"true":"false"}static _SimplifyNegation(g){return"!true"===(g=(g=g.replace(/^[\s!]+/,(g=>(g=g.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?g="false":"!false"===g&&(g="true"),g}}class L{static EnableFor(g){g._tags=g._tags||{},g.hasTags=()=>L.HasTags(g),g.addTags=i=>L.AddTagsTo(g,i),g.removeTags=i=>L.RemoveTagsFrom(g,i),g.matchesTagsQuery=i=>L.MatchesQuery(g,i)}static DisableFor(g){delete g._tags,delete g.hasTags,delete g.addTags,delete g.removeTags,delete g.matchesTagsQuery}static HasTags(g){if(!g._tags)return!1;const i=g._tags;for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a))return!0;return!1}static GetTags(g){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!g._tags)return null;if(i){const i=[];for(const a in g._tags)Object.prototype.hasOwnProperty.call(g._tags,a)&&!0===g._tags[a]&&i.push(a);return i.join(" ")}return g._tags}static AddTagsTo(g,i){if(!i)return;if("string"!==typeof i)return;const a=i.split(" ");for(const n of a)L._AddTagTo(g,n)}static _AddTagTo(g,i){""!==(i=i.trim())&&"true"!==i&&"false"!==i&&(i.match(/[\s]/)||i.match(/^([!]|([|]|[&]){2})/)||(L.EnableFor(g),g._tags[i]=!0))}static RemoveTagsFrom(g,i){if(!L.HasTags(g))return;const a=i.split(" ");for(const n in a)L._RemoveTagFrom(g,a[n])}static _RemoveTagFrom(g,i){delete g._tags[i]}static MatchesQuery(g,i){return void 0===i||(""===i?L.HasTags(g):n.Eval(i,(i=>L.HasTags(g)&&g._tags[i])))}}},12441:(g,i,a)=>{a.d(i,{e:()=>n});function n(g,i,a,n){var L,d=arguments.length,b=d<3?i:null===n?n=Object.getOwnPropertyDescriptor(i,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)b=Reflect.decorate(g,i,a,n);else for(var k=g.length-1;k>=0;k--)(L=g[k])&&(b=(d<3?L(b):d>3?L(i,a,b):L(i,a))||b);return d>3&&b&&Object.defineProperty(i,a,b),b}Object.create;Object.create}}]);