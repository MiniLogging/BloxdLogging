"use strict";(self.ipz2em9uj1g=self.ipz2em9uj1g||[]).push([[13],{12645:(r,O,W)=>{W.d(O,{b:()=>q});let q=!1},12604:(r,O,W)=>{W.d(O,{d:()=>g});var q=W(12579),Q=W(12583),C=W(12435),T=W(12591),h=W(12484),J=W(12565),mr=(W(12486),W(12613));class d{get wrapU(){return this._wrapU}set wrapU(r){this._wrapU=r}get wrapV(){return this._wrapV}set wrapV(r){this._wrapV=r}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(r){this._texture&&(this._texture.isCube=r)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(r){this._texture&&(this._texture.is3D=r)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(r){this._texture&&(this._texture.is2DArray=r)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(r){return void 0!==(null===r||void 0===r?void 0:r.shareDepth)}constructor(r){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=mr.d.Zero(),this._cachedBaseSize=mr.d.Zero(),this._initialSamplingMode=2,this._texture=d._IsRenderTargetWrapper(r)?r.texture:r,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(r){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(r,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var v=W(12617);class g extends d{set Gh(r){this._hasAlpha!==r&&(this._hasAlpha=r,this._scene&&this._scene.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))))}get Gh(){return this._hasAlpha}set getAlphaFromRGB(r){this._getAlphaFromRGB!==r&&(this._getAlphaFromRGB=r,this._scene&&this._scene.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(r){this._coordinatesIndex!==r&&(this._coordinatesIndex=r,this._scene&&this._scene.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(r){this._coordinatesMode!==r&&(this._coordinatesMode=r,this._scene&&this._scene.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(r){this._wrapU=r}get wrapV(){return this._wrapV}set wrapV(r){this._wrapV=r}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(r){this._texture?this._texture.isCube=r:this._isCube=r}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(r){this._texture&&(this._texture.is3D=r)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(r){this._texture&&(this._texture.is2DArray=r)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(r){var O;if(this._texture){if(this._texture._gammaSpace===r)return;this._texture._gammaSpace=r}else{if(this._gammaSpace===r)return;this._gammaSpace=r}null===(O=this.Dr())||void 0===O||O.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(r){var O;r!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=r),null===(O=this.Dr())||void 0===O||O.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(r){this._texture&&(this._texture._lodGenerationOffset=r)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(r){this._texture&&(this._texture._lodGenerationScale=r)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(r){this._texture&&(this._texture._linearSpecularLOD=r)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(r){this._texture&&(this._texture._irradianceTexture=r)}get uid(){return this._uid||(this._uid=(0,J.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(r){this._onDisposeObserver&&this.mJ.remove(this._onDisposeObserver),this._onDisposeObserver=this.mJ.add(r)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=g.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.mJ=new C.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,r?g._IsScene(r)?this._scene=r:this._engine=r:this._scene=h.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=O,this._uid=null}Dr(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return T.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return T.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(r){}get canRescale(){return!1}_getFromCache(r,O,W,q,Q,C){const T=this._getEngine();if(!T)return null;const h=T._getUseSRGBBuffer(!!Q,O),J=T.getLoadedTexturesCache();for(let mr=0;mr<J.length;mr++){const T=J[mr];if((void 0===Q||h===T._useSRGBBuffer)&&(void 0===q||q===T.invertY)&&T.url===r&&T.generateMipMaps===!O&&(!W||W===T.samplingMode)&&(void 0===C||C===T.isCube))return T.incrementReferences(),T}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const r=this.Dr();r&&r.markAllMaterialsAsDirty(1)}readPixels(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,q=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,J=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const mr=this._getEngine();if(!mr)return null;const d=this.getSize();let v=d.width,g=d.height;0!==O&&(v/=Math.pow(2,O),g/=Math.pow(2,O),v=Math.round(v),g=Math.round(g)),h=Math.min(v,h),J=Math.min(g,J);try{return this._texture.isCube?mr._readTexturePixels(this._texture,h,J,r,O,W,q,Q,C,T):mr._readTexturePixels(this._texture,h,J,-1,O,W,q,Q,C,T)}catch(K){return null}}_readPixelsSync(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,q=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const C=this.getSize();let T=C.width,h=C.height;const J=this._getEngine();if(!J)return null;0!=O&&(T/=Math.pow(2,O),h/=Math.pow(2,O),T=Math.round(T),h=Math.round(h));try{return this._texture.isCube?J._readTexturePixelsSync(this._texture,T,h,r,O,W,q,Q):J._readTexturePixelsSync(this._texture,T,h,-1,O,W,q,Q)}catch(mr){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const r=this._scene.textures.indexOf(this);if(r>=0&&this._scene.textures.splice(r,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const r=this._parentContainer.textures.indexOf(this);r>-1&&this._parentContainer.textures.splice(r,1),this._parentContainer=null}}this.mJ.notifyObservers(this),this.mJ.clear(),this.metadata=null,super.dispose()}serialize(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!r)return null;const O=v.b.Serialize(this);return v.b.AppendSerializedAnimations(this,O),O}static WhenAllReady(r,O){let W=r.length;if(0!==W)for(let q=0;q<r.length;q++){const Q=r[q];if(Q.isReady())0===--W&&O();else{const r=Q.onLoadObservable;r?r.addOnce((()=>{0===--W&&O()})):0===--W&&O()}}else O()}static _IsScene(r){return"Scene"===r.getClassName()}}g.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,q.b)([(0,Q.G)()],g.prototype,"uniqueId",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"name",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"displayName",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"metadata",void 0),(0,q.b)([(0,Q.G)("Gh")],g.prototype,"_hasAlpha",void 0),(0,q.b)([(0,Q.G)("getAlphaFromRGB")],g.prototype,"_getAlphaFromRGB",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"level",void 0),(0,q.b)([(0,Q.G)("coordinatesIndex")],g.prototype,"_coordinatesIndex",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"optimizeUVAllocation",void 0),(0,q.b)([(0,Q.G)("coordinatesMode")],g.prototype,"_coordinatesMode",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"wrapU",null),(0,q.b)([(0,Q.G)()],g.prototype,"wrapV",null),(0,q.b)([(0,Q.G)()],g.prototype,"wrapR",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"anisotropicFilteringLevel",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"isCube",null),(0,q.b)([(0,Q.G)()],g.prototype,"is3D",null),(0,q.b)([(0,Q.G)()],g.prototype,"is2DArray",null),(0,q.b)([(0,Q.G)()],g.prototype,"gammaSpace",null),(0,q.b)([(0,Q.G)()],g.prototype,"invertZ",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"lodLevelInAlpha",void 0),(0,q.b)([(0,Q.G)()],g.prototype,"lodGenerationOffset",null),(0,q.b)([(0,Q.G)()],g.prototype,"lodGenerationScale",null),(0,q.b)([(0,Q.G)()],g.prototype,"linearSpecularLOD",null),(0,q.b)([(0,Q.x)()],g.prototype,"irradianceTexture",null),(0,q.b)([(0,Q.G)()],g.prototype,"isRenderTarget",void 0)},12575:(r,O,W)=>{W.d(O,{e:()=>G});var q=W(12579),Q=W(12583),C=W(12435),T=W(12591),h=W(12604),J=W(12560),mr=W(12474),d=W(12509),v=W(12554),g=W(12637),K=W(12497);function U(r,O){let W=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const q=O.width,Q=O.height;if(r instanceof Float32Array){let O=r.byteLength/r.BYTES_PER_ELEMENT;const W=new Uint8Array(O);for(;--O>=0;){let q=r[O];q<0?q=0:q>1&&(q=1),W[O]=255*q}r=W}const C=document.createElement("canvas");C.width=q,C.height=Q;const T=C.getContext("2d");if(!T)return null;const h=T.createImageData(q,Q);if(h.data.set(r),T.putImageData(h,0,0),W){const r=document.createElement("canvas");r.width=q,r.height=Q;const O=r.getContext("2d");return O?(O.translate(0,Q),O.scale(1,-1),O.drawImage(C,0,0),r.toDataURL("image/png")):null}return C.toDataURL("image/png")}function P(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const q=r.getInternalTexture();if(!q)return null;const Q=r._readPixelsSync(O,W);return Q?U(Q,r.getSize(),q.invertY):null}async function b(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const q=r.getInternalTexture();if(!q)return null;const Q=await r.readPixels(O,W);return Q?U(Q,r.getSize(),q.invertY):null}var e=W(12645),Y=W(12617);class G extends h.d{static _CreateVideoTexture(r,O,W){arguments.length>5&&void 0!==arguments[5]||G.TRILINEAR_SAMPLINGMODE;throw(0,mr.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(r){this._isBlocking=r}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(r,O,W,q){let Q,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:G.TRILINEAR_SAMPLINGMODE,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,J=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,mr=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,v=arguments.length>8&&void 0!==arguments[8]&&arguments[8],g=arguments.length>9?arguments[9]:void 0,K=arguments.length>10?arguments[10]:void 0,U=arguments.length>11?arguments[11]:void 0,P=arguments.length>12?arguments[12]:void 0,b=arguments.length>13?arguments[13]:void 0;super(O),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new C.d,this._isBlocking=!0,this.name=r||"",this.url=r;let Y=!1,X=null,S=!0;"object"===typeof W&&null!==W?(Q=W.noMipmap??!1,q=W.invertY??!e.b,T=W.samplingMode??G.TRILINEAR_SAMPLINGMODE,h=W.H??null,J=W.onError??null,mr=W.buffer??null,v=W.deleteBuffer??!1,g=W.format,K=W.mimeType,U=W.loaderOptions,P=W.creationFlags,Y=W.useSRGBBuffer??!1,X=W.internalTexture??null,S=W.gammaSpace??S,b=W.forcedExtension??b):Q=!!W,this._gammaSpace=S,this._noMipmap=Q,this._invertY=void 0===q?!e.b:q,this._initialSamplingMode=T,this._buffer=mr,this._deleteBuffer=v,this._mimeType=K,this._loaderOptions=U,this._creationFlags=P,this._useSRGBBuffer=Y,this._forcedExtension=b,void 0!==g&&(this._format=g);const o=this.Dr(),N=this._getEngine();if(!N)return;N.onBeforeTextureInitObservable.notifyObservers(this);const D=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),h&&h(),!this.isBlocking&&o&&o.resetCachedMaterial()},p=(r,O)=>{this._loadingError=!0,this._errorObject={message:r,exception:O},J&&J(r,O),G.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!X)return this._delayedOnLoad=D,void(this._delayedOnError=p);if(this._texture=X??this._getFromCache(this.url,Q,T,this._invertY,Y,this.isCube),this._texture)if(this._texture.isReady)d.c.SetImmediate((()=>D()));else{const r=this._texture.onLoadedObservable.add(D);this._texture.onErrorObservable.add((O=>{var W;p(O.message,O.exception),null===(W=this._texture)||void 0===W||W.onLoadedObservable.remove(r)}))}else if(o&&o.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=D,this._delayedOnError=p;else{try{this._texture=N.createTexture(this.url,Q,this._invertY,o,T,D,p,this._buffer,void 0,this._format,this._forcedExtension,K,U,P,Y)}catch(z){throw p("error loading",z),z}v&&(this._buffer=null)}}updateURL(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,W=arguments.length>2?arguments[2]:void 0,q=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Dr().markAllMaterialsAsDirty(1,(r=>r.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=r),this.url=r,this._buffer=O,this._forcedExtension=q,this.delayLoadState=4,W&&(this._delayedOnLoad=W),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const r=this.Dr();r&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?d.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=r.getEngine().createTexture(this.url,this._noMipmap,this._invertY,r,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(r,O,W,q){r*=this._cachedUScale,O*=this._cachedVScale,r-=this.uRotationCenter*this._cachedUScale,O-=this.vRotationCenter*this._cachedVScale,W-=this.wRotationCenter,T.eO.TransformCoordinatesFromFloatsToRef(r,O,W,this._rowGenerationMatrix,q),q.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,q.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,q.z+=this.wRotationCenter}getTextureMatrix(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*r===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*r,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=T.Matrix.Zero(),this._rowGenerationMatrix=new T.Matrix,this._t0=T.eO.Zero(),this._t1=T.eO.Zero(),this._t2=T.eO.Zero()),T.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(T.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,T.TmpVectors.Matrix[0]),T.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,T.TmpVectors.Matrix[1]),T.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,T.TmpVectors.Matrix[2]),T.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,T.TmpVectors.Matrix[3]),T.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(T.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(T.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(T.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.yv(this._t0),this._t2.yv(this._t0),T.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const O=this.Dr();if(!O)return this._cachedTextureMatrix;const W=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&W!==this._cachedIdentity3x2&&O.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const r=this.Dr();if(!r)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==G.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===r.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=T.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=T.Matrix.Zero());const O=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case G.PLANAR_MODE:T.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case G.PROJECTION_MODE:{T.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const O=r.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=O.updateFlag,O.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:T.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return O&&r.markAllMaterialsAsDirty(1,(r=>r.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const r={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,H:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Y.b.Clone((()=>new G(this._texture?this._texture.url:null,this.Dr(),r)),this)}serialize(){var r;const O=this.name;G.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const W=super.serialize(G._SerializeInternalTextureUniqueId);if(!W)return null;if(G.SerializeBuffers||G.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))W.base64String=this._buffer,W.name=W.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const r=this.mimeType||"image/png";W.base64String=`data:${r};base64,${(0,K.h)(this._buffer)}`}else(G.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(W.base64String=!this._engine||this._engine._features.supportSyncTextureRead?P(this):b(this));var q;(W.invertY=this._invertY,W.samplingMode=this.samplingMode,W._creationFlags=this._creationFlags,W._useSRGBBuffer=this._useSRGBBuffer,G._SerializeInternalTextureUniqueId)&&(W.internalTextureUniqueId=null===(q=this._texture)||void 0===q?void 0:q.uniqueId);return W.internalTextureLabel=null===(r=this._texture)||void 0===r?void 0:r.label,W.noMipmap=this._noMipmap,this.name=O,W}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(r,O,W){if(r.customType){const q=v.b.Instantiate(r.customType).Parse(r,O,W);return r.samplingMode&&q.updateSamplingMode&&q._samplingMode&&q._samplingMode!==r.samplingMode&&q.updateSamplingMode(r.samplingMode),q}if(r.isCube&&!r.isRenderTarget)return G._CubeTextureParser(r,O,W);const q=void 0!==r.internalTextureUniqueId;if(!r.name&&!r.isRenderTarget&&!q)return null;let Q;if(q){const W=O.getEngine().getLoadedTexturesCache();for(const O of W)if(O.uniqueId===r.internalTextureUniqueId){Q=O;break}}const C=O=>{if(O&&O._texture&&(O._texture._cachedWrapU=null,O._texture._cachedWrapV=null,O._texture._cachedWrapR=null),r.samplingMode){const W=r.samplingMode;O&&O.samplingMode!==W&&O.updateSamplingMode(W)}if(O&&r.animations)for(let W=0;W<r.animations.length;W++){const q=r.animations[W],Q=(0,J.b)("BABYLON.Animation");Q&&O.animations.push(Q.Parse(q))}O&&O._texture&&(q&&!Q&&O._texture._setUniqueId(r.internalTextureUniqueId),O._texture.label=r.internalTextureLabel)};return Y.b.Parse((()=>{let q=!0;if(r.noMipmap&&(q=!1),r.mirrorPlane){const W=G._CreateMirror(r.name,r.renderTargetSize,O,q);return W._waitingRenderList=r.renderList,W.mirrorPlane=g.c.oO(r.mirrorPlane),C(W),W}if(r.isRenderTarget){let W=null;if(r.isCube){if(O.reflectionProbes)for(let q=0;q<O.reflectionProbes.length;q++){const W=O.reflectionProbes[q];if(W.name===r.name)return W.cubeTexture}}else W=G._CreateRenderTargetTexture(r.name,r.renderTargetSize,O,q,r._creationFlags??0),W._waitingRenderList=r.renderList;return C(W),W}if(r.isVideo){const Q=G._CreateVideoTexture(W+(r.url||r.name),W+(r.src||r.url),O,q,r.invertY,r.samplingMode,r.settings||{});return C(Q),Q}{let T;if(r.base64String&&!Q)T=G.CreateFromBase64String(r.base64String,r.base64String,O,!q,r.invertY,r.samplingMode,(()=>{C(T)}),r._creationFlags??0,r._useSRGBBuffer??!1),T.name=r.name;else{let h;h=r.name&&(r.name.indexOf("://")>0||r.name.startsWith("data:"))?r.name:W+r.name,r.url&&(r.url.startsWith("data:")||G.UseSerializedUrlIfAny)&&(h=r.url);const J={noMipmap:!q,invertY:r.invertY,samplingMode:r.samplingMode,H:()=>{C(T)},internalTexture:Q};T=new G(h,O,J)}return T}}),r,O)}static CreateFromBase64String(r,O,W,q,Q){let C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:G.TRILINEAR_SAMPLINGMODE;return new G("data:"+O,W,q,Q,C,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,r,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(r,O,W){let q=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Q=arguments.length>4?arguments[4]:void 0,C=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],T=arguments.length>6&&void 0!==arguments[6]?arguments[6]:G.TRILINEAR_SAMPLINGMODE,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,J=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,mr=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,d=arguments.length>10?arguments[10]:void 0,v=arguments.length>11?arguments[11]:void 0;return"data:"!==r.substring(0,5)&&(r="data:"+r),new G(r,W,Q,C,T,h,J,O,q,mr,void 0,void 0,d,v)}}G.SerializeBuffers=!0,G.ForceSerializeBuffers=!1,G.OnTextureLoadErrorObservable=new C.d,G._SerializeInternalTextureUniqueId=!1,G._CubeTextureParser=(r,O,W)=>{throw(0,mr.c)("CubeTexture")},G._CreateMirror=(r,O,W,q)=>{throw(0,mr.c)("MirrorTexture")},G._CreateRenderTargetTexture=(r,O,W,q,Q)=>{throw(0,mr.c)("RenderTargetTexture")},G.NEAREST_SAMPLINGMODE=1,G.NEAREST_NEAREST_MIPLINEAR=8,G.BILINEAR_SAMPLINGMODE=2,G.LINEAR_LINEAR_MIPNEAREST=11,G.TRILINEAR_SAMPLINGMODE=3,G.LINEAR_LINEAR_MIPLINEAR=3,G.NEAREST_NEAREST_MIPNEAREST=4,G.NEAREST_LINEAR_MIPNEAREST=5,G.NEAREST_LINEAR_MIPLINEAR=6,G.NEAREST_LINEAR=7,G.NEAREST_NEAREST=1,G.LINEAR_NEAREST_MIPNEAREST=9,G.LINEAR_NEAREST_MIPLINEAR=10,G.LINEAR_LINEAR=2,G.LINEAR_NEAREST=12,G.EXPLICIT_MODE=0,G.SPHERICAL_MODE=1,G.PLANAR_MODE=2,G.CUBIC_MODE=3,G.PROJECTION_MODE=4,G.SKYBOX_MODE=5,G.INVCUBIC_MODE=6,G.EQUIRECTANGULAR_MODE=7,G.FIXED_EQUIRECTANGULAR_MODE=8,G.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,G.CLAMP_ADDRESSMODE=0,G.WRAP_ADDRESSMODE=1,G.MIRROR_ADDRESSMODE=2,G.UseSerializedUrlIfAny=!1,(0,q.b)([(0,Q.G)()],G.prototype,"url",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"uOffset",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"vOffset",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"uScale",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"vScale",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"uAng",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"vAng",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"wAng",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"uRotationCenter",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"vRotationCenter",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"wRotationCenter",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"homogeneousRotationInUVTransform",void 0),(0,q.b)([(0,Q.G)()],G.prototype,"isBlocking",null),(0,J.e)("BABYLON.Texture",G),Y.b._TextureParser=G.Parse},12637:(r,O,W)=>{W.d(O,{c:()=>Q});var q=W(12591);class Q{constructor(r,O,W,Q){this.normal=new q.eO(r,O,W),this.d=Q}Yh(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new Q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let r=this.normal.getHashCode();return r=397*r^this.d,r}normalize(){const r=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let O=0;return 0!==r&&(O=1/r),this.normal.x*=O,this.normal.y*=O,this.normal.z*=O,this.d*=O,this}transform(r){const O=Q._TmpMatrix;r.invertToRef(O);const W=O.m,q=this.normal.x,C=this.normal.y,T=this.normal.z,h=this.d,J=q*W[0]+C*W[1]+T*W[2]+h*W[3],mr=q*W[4]+C*W[5]+T*W[6]+h*W[7],d=q*W[8]+C*W[9]+T*W[10]+h*W[11],v=q*W[12]+C*W[13]+T*W[14]+h*W[15];return new Q(J,mr,d,v)}dotCoordinate(r){return this.normal.x*r.x+this.normal.y*r.y+this.normal.z*r.z+this.d}copyFromPoints(r,O,W){const q=O.x-r.x,Q=O.y-r.y,C=O.z-r.z,T=W.x-r.x,h=W.y-r.y,J=W.z-r.z,mr=Q*J-C*h,d=C*T-q*J,v=q*h-Q*T,g=Math.sqrt(mr*mr+d*d+v*v);let K;return K=0!==g?1/g:0,this.normal.x=mr*K,this.normal.y=d*K,this.normal.z=v*K,this.d=-(this.normal.x*r.x+this.normal.y*r.y+this.normal.z*r.z),this}isFrontFacingTo(r,O){return q.eO.Dot(this.normal,r)<=O}signedDistanceTo(r){return q.eO.Dot(r,this.normal)+this.d}static oO(r){return new Q(r[0],r[1],r[2],r[3])}static FromPoints(r,O,W){const q=new Q(0,0,0,0);return q.copyFromPoints(r,O,W),q}static FromPositionAndNormal(r,O){const W=new Q(0,0,0,0);return this.FromPositionAndNormalToRef(r,O,W)}static FromPositionAndNormalToRef(r,O,W){return W.normal.C(O),W.normal.normalize(),W.d=-r.dot(W.normal),W}static SignedDistanceToPlaneFromPositionAndNormal(r,O,W){const Q=-(O.x*r.x+O.y*r.y+O.z*r.z);return q.eO.Dot(W,O)+Q}}Q._TmpMatrix=q.Matrix.Identity()},12613:(r,O,W)=>{W.d(O,{d:()=>q});class q{constructor(r,O){this.width=r,this.height=O}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let r=0|this.width;return r=397*r^this.height,r}C(r){this.width=r.width,this.height=r.height}zh(r,O){return this.width=r,this.height=O,this}set(r,O){return this.zh(r,O)}multiplyByFloats(r,O){return new q(this.width*r,this.height*O)}clone(){return new q(this.width,this.height)}equals(r){return!!r&&(this.width===r.width&&this.height===r.height)}get surface(){return this.width*this.height}static Zero(){return new q(0,0)}add(r){return new q(this.width+r.width,this.height+r.height)}YO(r){return new q(this.width-r.width,this.height-r.height)}scale(r){return new q(this.width*r,this.height*r)}static Lerp(r,O,W){const Q=r.width+(O.width-r.width)*W,C=r.height+(O.height-r.height)*W;return new q(Q,C)}}},12588:(r,O,W)=>{W.d(O,{b:()=>C,f:()=>T});const q={},Q={};function C(r){const O=r.getClassName();return Q[O]||(Q[O]={}),Q[O]}function T(r){const O=r.getClassName();if(q[O])return q[O];q[O]={};const W=q[O];let C=r,T=O;for(;T;){const r=Q[T];for(const Q in r)W[Q]=r[Q];let O,q=!1;do{if(O=Object.getPrototypeOf(C),!O.getClassName){q=!0;break}if(O.getClassName()!==T)break;C=O}while(O);if(q)break;T=O.getClassName(),C=O}return W}},12583:(r,O,W)=>{W.d(O,{A:()=>d,C:()=>v,G:()=>T,e:()=>C,g:()=>Y,i:()=>K,j:()=>J,k:()=>U,l:()=>mr,o:()=>P,p:()=>e,r:()=>g,u:()=>b,x:()=>h});var q=W(12588);function Q(r,O){return(W,Q)=>{const C=(0,q.b)(W);C[Q]||(C[Q]={type:r,sourceName:O})}}function C(r){return function(r){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(W,q)=>{const Q=O||"_"+q;Object.defineProperty(W,q,{get:function(){return this[Q]},set:function(O){var q;"function"===typeof(null===(q=this[Q])||void 0===q?void 0:q.equals)&&this[Q].equals(O)||this[Q]!==O&&(this[Q]=O,W[r].apply(this))},enumerable:!0,configurable:!0})}}(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function T(r){return Q(0,r)}function h(r){return Q(1,r)}function J(r){return Q(2,r)}function mr(r){return Q(3,r)}function d(r){return Q(4,r)}function v(r){return Q(5,r)}function g(r){return Q(6,r)}function K(r){return Q(7,r)}function U(r){return Q(8,r)}function P(r){return Q(9,r)}function b(r){return Q(10,r)}function e(r){return Q(12,r)}function Y(r,O,W,q){const Q=W.value;W.value=function(){let W=Q;if("undefined"!==typeof _native&&_native[O]){const r=_native[O];W=q?function(){return q(...arguments)?r(...arguments):Q(...arguments)}:r}return r[O]=W,W(...arguments)}}Y.filter=function(r){return(O,W,q)=>Y(O,W,q,r)}},12617:(r,O,W)=>{W.d(O,{b:()=>mr});var q=W(12474),Q=W(12626),C=W(12631),T=W(12591),h=W(12588);const J=function(r,O,W){let q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const C=r();Q.e&&Q.e.HasTags(O)&&Q.e.AddTagsTo(C,Q.e.GetTags(O,!0));const T=(0,h.f)(C),J={};for(const Q in T){const r=T[Q],h=O[Q],d=r.type;if(void 0!==h&&null!==h&&("uniqueId"!==Q||mr.AllowLoadingUniqueId))switch(d){case 0:case 6:case 9:case 11:C[Q]=h;break;case 1:q.cloneTexturesOnlyOnce&&J[h.uniqueId]?C[Q]=J[h.uniqueId]:(C[Q]=W||h.isRenderTarget?h:h.clone(),J[h.uniqueId]=C[Q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:C[Q]=W?h:h.clone()}}return C};class mr{static AppendSerializedAnimations(r,O){if(r.animations){O.animations=[];for(let W=0;W<r.animations.length;W++){const q=r.animations[W];O.animations.push(q.serialize())}}}static Serialize(r,O){O||(O={}),Q.e&&(O.tags=Q.e.GetTags(r));const W=(0,h.f)(r);for(const q in W){const Q=W[q],C=Q.sourceName||q,T=Q.type,h=r[q];if(void 0!==h&&null!==h&&("uniqueId"!==q||mr.AllowLoadingUniqueId))switch(T){case 0:O[C]=h;break;case 1:case 3:case 7:case 9:O[C]=h.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:O[C]=h.Yh();break;case 6:case 11:O[C]=h.id}}return O}static ParseProperties(r,O,W,q){q||(q="");const Q=(0,h.f)(O);for(const h in Q){const J=Q[h],d=r[J.sourceName||h],v=J.type;if(void 0!==d&&null!==d&&("uniqueId"!==h||mr.AllowLoadingUniqueId)){const r=O;switch(v){case 0:r[h]=d;break;case 1:W&&(r[h]=mr._TextureParser(d,W,q));break;case 2:r[h]=C.SO.oO(d);break;case 3:r[h]=mr._FresnelParametersParser(d);break;case 4:r[h]=T.Vector2.oO(d);break;case 5:r[h]=T.eO.oO(d);break;case 6:W&&(r[h]=W.getLastMeshById(d));break;case 7:r[h]=mr._ColorCurvesParser(d);break;case 8:r[h]=C.kh.oO(d);break;case 9:r[h]=mr._ImageProcessingConfigurationParser(d);break;case 10:r[h]=T.Quaternion.oO(d);break;case 11:W&&(r[h]=W.getCameraById(d));break;case 12:r[h]=T.Matrix.oO(d)}}}}static Parse(r,O,W){let q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const C=r();return Q.e&&Q.e.AddTagsTo(C,O.tags),mr.ParseProperties(O,C,W,q),C}static Clone(r,O){return J(r,O,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(r,O){return J(r,O,!0)}}mr.AllowLoadingUniqueId=!1,mr._ImageProcessingConfigurationParser=r=>{throw(0,q.c)("ImageProcessingConfiguration")},mr._FresnelParametersParser=r=>{throw(0,q.c)("FresnelParameters")},mr._ColorCurvesParser=r=>{throw(0,q.c)("ColorCurves")},mr._TextureParser=(r,O,W)=>{throw(0,q.c)("Texture")}},12626:(r,O,W)=>{W.d(O,{e:()=>Q});class q{static Eval(r,O){return"true"===(r=r.match(/\([^()]*\)/g)?r.replace(/\([^()]*\)/g,(r=>(r=r.slice(1,r.length-1),q._HandleParenthesisContent(r,O)))):q._HandleParenthesisContent(r,O))||"false"!==r&&q.Eval(r,O)}static _HandleParenthesisContent(r,O){let W;O=O||(r=>"true"===r);const Q=r.split("||");for(const C in Q)if(Object.prototype.hasOwnProperty.call(Q,C)){let r=q._SimplifyNegation(Q[C].trim());const T=r.split("&&");if(T.length>1)for(let Q=0;Q<T.length;++Q){const C=q._SimplifyNegation(T[Q].trim());if(W="true"!==C&&"false"!==C?"!"===C[0]?!O(C.substring(1)):O(C):"true"===C,!W){r="false";break}}if(W||"true"===r){W=!0;break}W="true"!==r&&"false"!==r?"!"===r[0]?!O(r.substring(1)):O(r):"true"===r}return W?"true":"false"}static _SimplifyNegation(r){return"!true"===(r=(r=r.replace(/^[\s!]+/,(r=>(r=r.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?r="false":"!false"===r&&(r="true"),r}}class Q{static EnableFor(r){r._tags=r._tags||{},r.hasTags=()=>Q.HasTags(r),r.addTags=O=>Q.AddTagsTo(r,O),r.removeTags=O=>Q.RemoveTagsFrom(r,O),r.matchesTagsQuery=O=>Q.MatchesQuery(r,O)}static DisableFor(r){delete r._tags,delete r.hasTags,delete r.addTags,delete r.removeTags,delete r.matchesTagsQuery}static HasTags(r){if(!r._tags)return!1;const O=r._tags;for(const W in O)if(Object.prototype.hasOwnProperty.call(O,W))return!0;return!1}static GetTags(r){let O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r._tags)return null;if(O){const O=[];for(const W in r._tags)Object.prototype.hasOwnProperty.call(r._tags,W)&&!0===r._tags[W]&&O.push(W);return O.join(" ")}return r._tags}static AddTagsTo(r,O){if(!O)return;if("string"!==typeof O)return;const W=O.split(" ");for(const q of W)Q._AddTagTo(r,q)}static _AddTagTo(r,O){""!==(O=O.trim())&&"true"!==O&&"false"!==O&&(O.match(/[\s]/)||O.match(/^([!]|([|]|[&]){2})/)||(Q.EnableFor(r),r._tags[O]=!0))}static RemoveTagsFrom(r,O){if(!Q.HasTags(r))return;const W=O.split(" ");for(const q in W)Q._RemoveTagFrom(r,W[q])}static _RemoveTagFrom(r,O){delete r._tags[O]}static MatchesQuery(r,O){return void 0===O||(""===O?Q.HasTags(r):q.Eval(O,(O=>Q.HasTags(r)&&r._tags[O])))}}},12579:(r,O,W)=>{W.d(O,{b:()=>q});function q(r,O,W,q){var Q,C=arguments.length,T=C<3?O:null===q?q=Object.getOwnPropertyDescriptor(O,W):q;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)T=Reflect.decorate(r,O,W,q);else for(var h=r.length-1;h>=0;h--)(Q=r[h])&&(T=(C<3?Q(T):C>3?Q(O,W,T):Q(O,W))||T);return C>3&&T&&Object.defineProperty(O,W,T),T}Object.create;Object.create}}]);