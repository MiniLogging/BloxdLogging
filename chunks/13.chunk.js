"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[13],{12982:(z,u,U)=>{U.d(u,{c:()=>J});let J=!1},12940:(z,u,U)=>{U.d(u,{c:()=>mz});var J=U(12899),v=U(12901),f=U(12756),g=U(12914),w=U(12797),P=U(12880),R=(U(12800),U(12948));class S{get wrapU(){return this._wrapU}set wrapU(z){this._wrapU=z}get wrapV(){return this._wrapV}set wrapV(z){this._wrapV=z}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(z){this._texture&&(this._texture.isCube=z)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(z){this._texture&&(this._texture.is3D=z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(z){this._texture&&(this._texture.is2DArray=z)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(z){return void 0!==(null===z||void 0===z?void 0:z.shareDepth)}constructor(z){var u,U,J;(this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=R.b.Zero(),this._cachedBaseSize=R.b.Zero(),this._initialSamplingMode=2,this._texture=S._IsRenderTargetWrapper(z)?z.texture:z,this._texture)&&(this._engine=this._texture.getEngine(),this.wrapU=null!==(u=this._texture._cachedWrapU)&&void 0!==u?u:this.wrapU,this.wrapV=null!==(U=this._texture._cachedWrapV)&&void 0!==U?U:this.wrapV,this.wrapR=null!==(J=this._texture._cachedWrapR)&&void 0!==J?J:this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(z){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(z,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var d=U(12955);class mz extends S{set kf(z){this._hasAlpha!==z&&(this._hasAlpha=z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))))}get kf(){return this._hasAlpha}set getAlphaFromRGB(z){this._getAlphaFromRGB!==z&&(this._getAlphaFromRGB=z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(z){this._coordinatesIndex!==z&&(this._coordinatesIndex=z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(z){this._coordinatesMode!==z&&(this._coordinatesMode=z,this._scene&&this._scene.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(z){this._wrapU=z}get wrapV(){return this._wrapV}set wrapV(z){this._wrapV=z}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(z){this._texture?this._texture.isCube=z:this._isCube=z}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(z){this._texture&&(this._texture.is3D=z)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(z){this._texture&&(this._texture.is2DArray=z)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(z){var u;if(this._texture){if(this._texture._gammaSpace===z)return;this._texture._gammaSpace=z}else{if(this._gammaSpace===z)return;this._gammaSpace=z}null===(u=this.Vz())||void 0===u||u.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(z){var u;z!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=z),null===(u=this.Vz())||void 0===u||u.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(z){this._texture&&(this._texture._lodGenerationOffset=z)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(z){this._texture&&(this._texture._lodGenerationScale=z)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(z){this._texture&&(this._texture._linearSpecularLOD=z)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(z){this._texture&&(this._texture._irradianceTexture=z)}get uid(){return this._uid||(this._uid=(0,P.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(z){this._onDisposeObserver&&this.Xf.remove(this._onDisposeObserver),this._onDisposeObserver=this.Xf.add(z)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=mz.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Xf=new f.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,z?mz._IsScene(z)?this._scene=z:this._engine=z:this._scene=w.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=u,this._uid=null}Vz(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return g.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return g.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(z){}get canRescale(){return!1}_getFromCache(z,u,U,J,v,f){const g=this._getEngine();if(!g)return null;const w=g._getUseSRGBBuffer(!!v,u),P=g.getLoadedTexturesCache();for(let R=0;R<P.length;R++){const g=P[R];if((void 0===v||w===g._useSRGBBuffer)&&(void 0===J||J===g.invertY)&&g.url===z&&g.generateMipMaps===!u&&(!U||U===g.samplingMode)&&(void 0===f||f===g.isCube))return g.incrementReferences(),g}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const z=this.Vz();z&&z.markAllMaterialsAsDirty(1)}readPixels(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,J=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],v=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const R=this._getEngine();if(!R)return null;const S=this.getSize();let d=S.width,mz=S.height;0!==u&&(d/=Math.pow(2,u),mz/=Math.pow(2,u),d=Math.round(d),mz=Math.round(mz)),w=Math.min(d,w),P=Math.min(mz,P);try{return this._texture.isCube?R._readTexturePixels(this._texture,w,P,z,u,U,J,v,f,g):R._readTexturePixels(this._texture,w,P,-1,u,U,J,v,f,g)}catch(Z){return null}}_readPixelsSync(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,J=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],v=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const f=this.getSize();let g=f.width,w=f.height;const P=this._getEngine();if(!P)return null;0!=u&&(g/=Math.pow(2,u),w/=Math.pow(2,u),g=Math.round(g),w=Math.round(w));try{return this._texture.isCube?P._readTexturePixelsSync(this._texture,g,w,z,u,U,J,v):P._readTexturePixelsSync(this._texture,g,w,-1,u,U,J,v)}catch(R){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const z=this._scene.textures.indexOf(this);if(z>=0&&this._scene.textures.splice(z,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const z=this._parentContainer.textures.indexOf(this);z>-1&&this._parentContainer.textures.splice(z,1),this._parentContainer=null}}this.Xf.notifyObservers(this),this.Xf.clear(),this.metadata=null,super.dispose()}serialize(){let z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!z)return null;const u=d.b.Serialize(this);return d.b.AppendSerializedAnimations(this,u),u}static WhenAllReady(z,u){let U=z.length;if(0!==U)for(let J=0;J<z.length;J++){const v=z[J];if(v.isReady())0===--U&&u();else{const z=v.onLoadObservable;z?z.addOnce((()=>{0===--U&&u()})):0===--U&&u()}}else u()}static _IsScene(z){return"Scene"===z.getClassName()}}mz.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,J.b)([(0,v.K)()],mz.prototype,"uniqueId",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"name",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"displayName",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"metadata",void 0),(0,J.b)([(0,v.K)("kf")],mz.prototype,"_hasAlpha",void 0),(0,J.b)([(0,v.K)("getAlphaFromRGB")],mz.prototype,"_getAlphaFromRGB",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"level",void 0),(0,J.b)([(0,v.K)("coordinatesIndex")],mz.prototype,"_coordinatesIndex",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"optimizeUVAllocation",void 0),(0,J.b)([(0,v.K)("coordinatesMode")],mz.prototype,"_coordinatesMode",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"wrapU",null),(0,J.b)([(0,v.K)()],mz.prototype,"wrapV",null),(0,J.b)([(0,v.K)()],mz.prototype,"wrapR",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"anisotropicFilteringLevel",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"isCube",null),(0,J.b)([(0,v.K)()],mz.prototype,"is3D",null),(0,J.b)([(0,v.K)()],mz.prototype,"is2DArray",null),(0,J.b)([(0,v.K)()],mz.prototype,"gammaSpace",null),(0,J.b)([(0,v.K)()],mz.prototype,"invertZ",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"lodLevelInAlpha",void 0),(0,J.b)([(0,v.K)()],mz.prototype,"lodGenerationOffset",null),(0,J.b)([(0,v.K)()],mz.prototype,"lodGenerationScale",null),(0,J.b)([(0,v.K)()],mz.prototype,"linearSpecularLOD",null),(0,J.b)([(0,v.C)()],mz.prototype,"irradianceTexture",null),(0,J.b)([(0,v.K)()],mz.prototype,"isRenderTarget",void 0)},12894:(z,u,U)=>{U.d(u,{e:()=>T});var J=U(12899),v=U(12901),f=U(12756),g=U(12914),w=U(12940),P=U(12875),R=U(12782),S=U(12825),d=U(12868),mz=U(12976),Z=U(12809);function A(z,u){let U=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const J=u.width,v=u.height;if(z instanceof Float32Array){let u=z.byteLength/z.BYTES_PER_ELEMENT;const U=new Uint8Array(u);for(;--u>=0;){let J=z[u];J<0?J=0:J>1&&(J=1),U[u]=255*J}z=U}const f=document.createElement("canvas");f.width=J,f.height=v;const g=f.getContext("2d");if(!g)return null;const w=g.createImageData(J,v);if(w.data.set(z),g.putImageData(w,0,0),U){const z=document.createElement("canvas");z.width=J,z.height=v;const u=z.getContext("2d");return u?(u.translate(0,v),u.scale(1,-1),u.drawImage(f,0,0),z.toDataURL("image/png")):null}return f.toDataURL("image/png")}function E(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const J=z.getInternalTexture();if(!J)return null;const v=z._readPixelsSync(u,U);return v?A(v,z.getSize(),J.invertY):null}async function C(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const J=z.getInternalTexture();if(!J)return null;const v=await z.readPixels(u,U);return v?A(v,z.getSize(),J.invertY):null}var r=U(12982),M=U(12955);class T extends w.c{static _CreateVideoTexture(z,u,U){arguments.length>5&&void 0!==arguments[5]||T.TRILINEAR_SAMPLINGMODE;throw(0,R.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(z){this._isBlocking=z}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(z,u,U,J){var v;let g,w=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T.TRILINEAR_SAMPLINGMODE,P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,R=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,mz=arguments.length>8&&void 0!==arguments[8]&&arguments[8],Z=arguments.length>9?arguments[9]:void 0,A=arguments.length>10?arguments[10]:void 0,E=arguments.length>11?arguments[11]:void 0,C=arguments.length>12?arguments[12]:void 0,M=arguments.length>13?arguments[13]:void 0;super(u),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new f.e,this._isBlocking=!0,this.name=z||"",this.url=z;let X=!1,h=null,t=!0;var V,L,O,x,Q,K,Y,p,N,D,c;"object"===typeof U&&null!==U?(g=null!==(V=U.noMipmap)&&void 0!==V&&V,J=null!==(L=U.invertY)&&void 0!==L?L:!r.c,w=null!==(O=U.samplingMode)&&void 0!==O?O:T.TRILINEAR_SAMPLINGMODE,P=null!==(x=U.G)&&void 0!==x?x:null,R=null!==(Q=U.onError)&&void 0!==Q?Q:null,d=null!==(K=U.buffer)&&void 0!==K?K:null,mz=null!==(Y=U.deleteBuffer)&&void 0!==Y&&Y,Z=U.format,A=U.mimeType,E=U.loaderOptions,C=U.creationFlags,X=null!==(p=U.useSRGBBuffer)&&void 0!==p&&p,h=null!==(N=U.internalTexture)&&void 0!==N?N:null,t=null!==(D=U.gammaSpace)&&void 0!==D?D:t,M=null!==(c=U.forcedExtension)&&void 0!==c?c:M):g=!!U;this._gammaSpace=t,this._noMipmap=g,this._invertY=void 0===J?!r.c:J,this._initialSamplingMode=w,this._buffer=d,this._deleteBuffer=mz,this._mimeType=A,this._loaderOptions=E,this._creationFlags=C,this._useSRGBBuffer=X,this._forcedExtension=M,void 0!==Z&&(this._format=Z);const W=this.Vz(),j=this._getEngine();if(!j)return;j.onBeforeTextureInitObservable.notifyObservers(this);const I=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),P&&P(),!this.isBlocking&&W&&W.resetCachedMaterial()},F=(z,u)=>{this._loadingError=!0,this._errorObject={message:z,exception:u},R&&R(z,u),T.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!h)return this._delayedOnLoad=I,void(this._delayedOnError=F);if(this._texture=null!==(v=h)&&void 0!==v?v:this._getFromCache(this.url,g,w,this._invertY,X,this.isCube),this._texture)if(this._texture.isReady)S.b.SetImmediate((()=>I()));else{const z=this._texture.onLoadedObservable.add(I);this._texture.onErrorObservable.add((u=>{var U;F(u.message,u.exception),null===(U=this._texture)||void 0===U||U.onLoadedObservable.remove(z)}))}else if(W&&W.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=I,this._delayedOnError=F;else{try{this._texture=j.createTexture(this.url,g,this._invertY,W,w,I,F,this._buffer,void 0,this._format,this._forcedExtension,A,E,C,X)}catch(b){throw F("error loading",b),b}mz&&(this._buffer=null)}}updateURL(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,U=arguments.length>2?arguments[2]:void 0,J=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Vz().markAllMaterialsAsDirty(1,(z=>z.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=z),this.url=z,this._buffer=u,this._forcedExtension=J,this.delayLoadState=4,U&&(this._delayedOnLoad=U),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const z=this.Vz();z&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?S.b.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=z.getEngine().createTexture(this.url,this._noMipmap,this._invertY,z,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(z,u,U,J){z*=this._cachedUScale,u*=this._cachedVScale,z-=this.uRotationCenter*this._cachedUScale,u-=this.vRotationCenter*this._cachedVScale,U-=this.wRotationCenter,g.Eu.TransformCoordinatesFromFloatsToRef(z,u,U,this._rowGenerationMatrix,J),J.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,J.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,J.z+=this.wRotationCenter}getTextureMatrix(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*z===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*z,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=g.Matrix.Zero(),this._rowGenerationMatrix=new g.Matrix,this._t0=g.Eu.Zero(),this._t1=g.Eu.Zero(),this._t2=g.Eu.Zero()),g.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(g.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,g.TmpVectors.Matrix[0]),g.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,g.TmpVectors.Matrix[1]),g.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,g.TmpVectors.Matrix[2]),g.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,g.TmpVectors.Matrix[3]),g.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(g.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.dm(this._t0),this._t2.dm(this._t0),g.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const u=this.Vz();if(!u)return this._cachedTextureMatrix;const U=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&U!==this._cachedIdentity3x2&&u.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const z=this.Vz();if(!z)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==T.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===z.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=g.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=g.Matrix.Zero());const u=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case T.PLANAR_MODE:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case T.PROJECTION_MODE:{g.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const u=z.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=u.updateFlag,u.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:g.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return u&&z.markAllMaterialsAsDirty(1,(z=>z.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const z={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,G:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return M.b.Clone((()=>new T(this._texture?this._texture.url:null,this.Vz(),z)),this)}serialize(){var z;const u=this.name;T.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const U=super.serialize(T._SerializeInternalTextureUniqueId);if(!U)return null;if(T.SerializeBuffers||T.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))U.base64String=this._buffer,U.name=U.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const z=this.mimeType||"image/png";U.base64String="data:".concat(z,";base64,").concat((0,Z.i)(this._buffer))}else(T.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(U.base64String=!this._engine||this._engine._features.supportSyncTextureRead?E(this):C(this));var J;(U.invertY=this._invertY,U.samplingMode=this.samplingMode,U._creationFlags=this._creationFlags,U._useSRGBBuffer=this._useSRGBBuffer,T._SerializeInternalTextureUniqueId)&&(U.internalTextureUniqueId=null===(J=this._texture)||void 0===J?void 0:J.uniqueId);return U.internalTextureLabel=null===(z=this._texture)||void 0===z?void 0:z.label,U.noMipmap=this._noMipmap,this.name=u,U}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(z,u,U){if(z.customType){const J=d.d.Instantiate(z.customType).Parse(z,u,U);return z.samplingMode&&J.updateSamplingMode&&J._samplingMode&&J._samplingMode!==z.samplingMode&&J.updateSamplingMode(z.samplingMode),J}if(z.isCube&&!z.isRenderTarget)return T._CubeTextureParser(z,u,U);const J=void 0!==z.internalTextureUniqueId;if(!z.name&&!z.isRenderTarget&&!J)return null;let v;if(J){const U=u.getEngine().getLoadedTexturesCache();for(const u of U)if(u.uniqueId===z.internalTextureUniqueId){v=u;break}}const f=u=>{if(u&&u._texture&&(u._texture._cachedWrapU=null,u._texture._cachedWrapV=null,u._texture._cachedWrapR=null),z.samplingMode){const U=z.samplingMode;u&&u.samplingMode!==U&&u.updateSamplingMode(U)}if(u&&z.animations)for(let U=0;U<z.animations.length;U++){const J=z.animations[U],v=(0,P.e)("BABYLON.Animation");v&&u.animations.push(v.Parse(J))}u&&u._texture&&(J&&!v&&u._texture._setUniqueId(z.internalTextureUniqueId),u._texture.label=z.internalTextureLabel)};return M.b.Parse((()=>{let J=!0;if(z.noMipmap&&(J=!1),z.mirrorPlane){const U=T._CreateMirror(z.name,z.renderTargetSize,u,J);return U._waitingRenderList=z.renderList,U.mirrorPlane=mz.d.Xu(z.mirrorPlane),f(U),U}if(z.isRenderTarget){let U=null;var g;if(z.isCube){if(u.reflectionProbes)for(let J=0;J<u.reflectionProbes.length;J++){const U=u.reflectionProbes[J];if(U.name===z.name)return U.cubeTexture}}else U=T._CreateRenderTargetTexture(z.name,z.renderTargetSize,u,J,null!==(g=z._creationFlags)&&void 0!==g?g:0),U._waitingRenderList=z.renderList;return f(U),U}if(z.isVideo){const v=T._CreateVideoTexture(U+(z.url||z.name),U+(z.src||z.url),u,J,z.invertY,z.samplingMode,z.settings||{});return f(v),v}{let g;if(z.base64String&&!v){var w,P;g=T.CreateFromBase64String(z.base64String,z.base64String,u,!J,z.invertY,z.samplingMode,(()=>{f(g)}),null!==(w=z._creationFlags)&&void 0!==w?w:0,null!==(P=z._useSRGBBuffer)&&void 0!==P&&P),g.name=z.name}else{let w;w=z.name&&(z.name.indexOf("://")>0||z.name.startsWith("data:"))?z.name:U+z.name,z.url&&(z.url.startsWith("data:")||T.UseSerializedUrlIfAny)&&(w=z.url);const P={noMipmap:!J,invertY:z.invertY,samplingMode:z.samplingMode,G:()=>{f(g)},internalTexture:v};g=new T(w,u,P)}return g}}),z,u)}static CreateFromBase64String(z,u,U,J,v){let f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:T.TRILINEAR_SAMPLINGMODE;return new T("data:"+u,U,J,v,f,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,z,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(z,u,U){let J=arguments.length>3&&void 0!==arguments[3]&&arguments[3],v=arguments.length>4?arguments[4]:void 0,f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:T.TRILINEAR_SAMPLINGMODE,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,R=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,S=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return"data:"!==z.substring(0,5)&&(z="data:"+z),new T(z,U,v,f,g,w,P,u,J,R,void 0,void 0,S,d)}}T.SerializeBuffers=!0,T.ForceSerializeBuffers=!1,T.OnTextureLoadErrorObservable=new f.e,T._SerializeInternalTextureUniqueId=!1,T._CubeTextureParser=(z,u,U)=>{throw(0,R.c)("CubeTexture")},T._CreateMirror=(z,u,U,J)=>{throw(0,R.c)("MirrorTexture")},T._CreateRenderTargetTexture=(z,u,U,J,v)=>{throw(0,R.c)("RenderTargetTexture")},T.NEAREST_SAMPLINGMODE=1,T.NEAREST_NEAREST_MIPLINEAR=8,T.BILINEAR_SAMPLINGMODE=2,T.LINEAR_LINEAR_MIPNEAREST=11,T.TRILINEAR_SAMPLINGMODE=3,T.LINEAR_LINEAR_MIPLINEAR=3,T.NEAREST_NEAREST_MIPNEAREST=4,T.NEAREST_LINEAR_MIPNEAREST=5,T.NEAREST_LINEAR_MIPLINEAR=6,T.NEAREST_LINEAR=7,T.NEAREST_NEAREST=1,T.LINEAR_NEAREST_MIPNEAREST=9,T.LINEAR_NEAREST_MIPLINEAR=10,T.LINEAR_LINEAR=2,T.LINEAR_NEAREST=12,T.EXPLICIT_MODE=0,T.SPHERICAL_MODE=1,T.PLANAR_MODE=2,T.CUBIC_MODE=3,T.PROJECTION_MODE=4,T.SKYBOX_MODE=5,T.INVCUBIC_MODE=6,T.EQUIRECTANGULAR_MODE=7,T.FIXED_EQUIRECTANGULAR_MODE=8,T.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,T.CLAMP_ADDRESSMODE=0,T.WRAP_ADDRESSMODE=1,T.MIRROR_ADDRESSMODE=2,T.UseSerializedUrlIfAny=!1,(0,J.b)([(0,v.K)()],T.prototype,"url",void 0),(0,J.b)([(0,v.K)()],T.prototype,"uOffset",void 0),(0,J.b)([(0,v.K)()],T.prototype,"vOffset",void 0),(0,J.b)([(0,v.K)()],T.prototype,"uScale",void 0),(0,J.b)([(0,v.K)()],T.prototype,"vScale",void 0),(0,J.b)([(0,v.K)()],T.prototype,"uAng",void 0),(0,J.b)([(0,v.K)()],T.prototype,"vAng",void 0),(0,J.b)([(0,v.K)()],T.prototype,"wAng",void 0),(0,J.b)([(0,v.K)()],T.prototype,"uRotationCenter",void 0),(0,J.b)([(0,v.K)()],T.prototype,"vRotationCenter",void 0),(0,J.b)([(0,v.K)()],T.prototype,"wRotationCenter",void 0),(0,J.b)([(0,v.K)()],T.prototype,"homogeneousRotationInUVTransform",void 0),(0,J.b)([(0,v.K)()],T.prototype,"isBlocking",null),(0,P.f)("BABYLON.Texture",T),M.b._TextureParser=T.Parse},12976:(z,u,U)=>{U.d(u,{d:()=>v});var J=U(12914);class v{constructor(z,u,U,v){this.normal=new J.Eu(z,u,U),this.d=v}jf(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new v(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let z=this.normal.getHashCode();return z=397*z^this.d,z}normalize(){const z=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let u=0;return 0!==z&&(u=1/z),this.normal.x*=u,this.normal.y*=u,this.normal.z*=u,this.d*=u,this}transform(z){const u=v._TmpMatrix;z.invertToRef(u);const U=u.m,J=this.normal.x,f=this.normal.y,g=this.normal.z,w=this.d,P=J*U[0]+f*U[1]+g*U[2]+w*U[3],R=J*U[4]+f*U[5]+g*U[6]+w*U[7],S=J*U[8]+f*U[9]+g*U[10]+w*U[11],d=J*U[12]+f*U[13]+g*U[14]+w*U[15];return new v(P,R,S,d)}dotCoordinate(z){return this.normal.x*z.x+this.normal.y*z.y+this.normal.z*z.z+this.d}copyFromPoints(z,u,U){const J=u.x-z.x,v=u.y-z.y,f=u.z-z.z,g=U.x-z.x,w=U.y-z.y,P=U.z-z.z,R=v*P-f*w,S=f*g-J*P,d=J*w-v*g,mz=Math.sqrt(R*R+S*S+d*d);let Z;return Z=0!==mz?1/mz:0,this.normal.x=R*Z,this.normal.y=S*Z,this.normal.z=d*Z,this.d=-(this.normal.x*z.x+this.normal.y*z.y+this.normal.z*z.z),this}isFrontFacingTo(z,u){return J.Eu.Dot(this.normal,z)<=u}signedDistanceTo(z){return J.Eu.Dot(z,this.normal)+this.d}static Xu(z){return new v(z[0],z[1],z[2],z[3])}static FromPoints(z,u,U){const J=new v(0,0,0,0);return J.copyFromPoints(z,u,U),J}static FromPositionAndNormal(z,u){const U=new v(0,0,0,0);return this.FromPositionAndNormalToRef(z,u,U)}static FromPositionAndNormalToRef(z,u,U){return U.normal.v(u),U.normal.normalize(),U.d=-z.dot(U.normal),U}static SignedDistanceToPlaneFromPositionAndNormal(z,u,U){const v=-(u.x*z.x+u.y*z.y+u.z*z.z);return J.Eu.Dot(U,u)+v}}v._TmpMatrix=J.Matrix.Identity()},12948:(z,u,U)=>{U.d(u,{b:()=>J});class J{constructor(z,u){this.width=z,this.height=u}toString(){return"{W: ".concat(this.width,", H: ").concat(this.height,"}")}getClassName(){return"Size"}getHashCode(){let z=0|this.width;return z=397*z^this.height,z}v(z){this.width=z.width,this.height=z.height}zg(z,u){return this.width=z,this.height=u,this}set(z,u){return this.zg(z,u)}multiplyByFloats(z,u){return new J(this.width*z,this.height*u)}clone(){return new J(this.width,this.height)}equals(z){return!!z&&(this.width===z.width&&this.height===z.height)}get surface(){return this.width*this.height}static Zero(){return new J(0,0)}add(z){return new J(this.width+z.width,this.height+z.height)}Cu(z){return new J(this.width-z.width,this.height-z.height)}scale(z){return new J(this.width*z,this.height*z)}static Lerp(z,u,U){const v=z.width+(u.width-z.width)*U,f=z.height+(u.height-z.height)*U;return new J(v,f)}}},12905:(z,u,U)=>{U.d(u,{c:()=>f,f:()=>g});const J={},v={};function f(z){const u=z.getClassName();return v[u]||(v[u]={}),v[u]}function g(z){const u=z.getClassName();if(J[u])return J[u];J[u]={};const U=J[u];let f=z,g=u;for(;g;){const z=v[g];for(const v in z)U[v]=z[v];let u,J=!1;do{if(u=Object.getPrototypeOf(f),!u.getClassName){J=!0;break}if(u.getClassName()!==g)break;f=u}while(u);if(J)break;g=u.getClassName(),f=u}return U}},12901:(z,u,U)=>{U.d(u,{B:()=>C,C:()=>w,F:()=>S,G:()=>d,K:()=>g,c:()=>f,g:()=>M,i:()=>Z,k:()=>P,o:()=>A,r:()=>R,u:()=>E,v:()=>r,y:()=>mz});var J=U(12905);function v(z,u){return(U,v)=>{const f=(0,J.c)(U);f[v]||(f[v]={type:z,sourceName:u})}}function f(z){return function(z){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(U,J)=>{const v=u||"_"+J;Object.defineProperty(U,J,{get:function(){return this[v]},set:function(u){var J;"function"===typeof(null===(J=this[v])||void 0===J?void 0:J.equals)&&this[v].equals(u)||this[v]!==u&&(this[v]=u,U[z].apply(this))},enumerable:!0,configurable:!0})}}(z,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function g(z){return v(0,z)}function w(z){return v(1,z)}function P(z){return v(2,z)}function R(z){return v(3,z)}function S(z){return v(4,z)}function d(z){return v(5,z)}function mz(z){return v(6,z)}function Z(z){return v(7,z)}function A(z){return v(8,z)}function E(z){return v(9,z)}function C(z){return v(10,z)}function r(z){return v(12,z)}function M(z,u,U,J){const v=U.value;U.value=function(){let U=v;if("undefined"!==typeof _native&&_native[u]){const z=_native[u];U=J?function(){return J(...arguments)?z(...arguments):v(...arguments)}:z}return z[u]=U,U(...arguments)}}M.filter=function(z){return(u,U,J)=>M(u,U,J,z)}},12955:(z,u,U)=>{U.d(u,{b:()=>R});var J=U(12782),v=U(12960),f=U(12967),g=U(12914),w=U(12905);const P=function(z,u,U){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const f=z();v.b&&v.b.HasTags(u)&&v.b.AddTagsTo(f,v.b.GetTags(u,!0));const g=(0,w.f)(f),P={};for(const v in g){const z=g[v],w=u[v],S=z.type;if(void 0!==w&&null!==w&&("uniqueId"!==v||R.AllowLoadingUniqueId))switch(S){case 0:case 6:case 9:case 11:f[v]=w;break;case 1:J.cloneTexturesOnlyOnce&&P[w.uniqueId]?f[v]=P[w.uniqueId]:(f[v]=U||w.isRenderTarget?w:w.clone(),P[w.uniqueId]=f[v]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:f[v]=U?w:w.clone()}}return f};class R{static AppendSerializedAnimations(z,u){if(z.animations){u.animations=[];for(let U=0;U<z.animations.length;U++){const J=z.animations[U];u.animations.push(J.serialize())}}}static Serialize(z,u){u||(u={}),v.b&&(u.tags=v.b.GetTags(z));const U=(0,w.f)(z);for(const J in U){const v=U[J],f=v.sourceName||J,g=v.type,w=z[J];if(void 0!==w&&null!==w&&("uniqueId"!==J||R.AllowLoadingUniqueId))switch(g){case 0:u[f]=w;break;case 1:case 3:case 7:case 9:u[f]=w.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:u[f]=w.jf();break;case 6:case 11:u[f]=w.id}}return u}static ParseProperties(z,u,U,J){J||(J="");const v=(0,w.f)(u);for(const w in v){const P=v[w],S=z[P.sourceName||w],d=P.type;if(void 0!==S&&null!==S&&("uniqueId"!==w||R.AllowLoadingUniqueId)){const z=u;switch(d){case 0:z[w]=S;break;case 1:U&&(z[w]=R._TextureParser(S,U,J));break;case 2:z[w]=f.Tu.Xu(S);break;case 3:z[w]=R._FresnelParametersParser(S);break;case 4:z[w]=g.Vector2.Xu(S);break;case 5:z[w]=g.Eu.Xu(S);break;case 6:U&&(z[w]=U.getLastMeshById(S));break;case 7:z[w]=R._ColorCurvesParser(S);break;case 8:z[w]=f.wg.Xu(S);break;case 9:z[w]=R._ImageProcessingConfigurationParser(S);break;case 10:z[w]=g.Quaternion.Xu(S);break;case 11:U&&(z[w]=U.getCameraById(S));break;case 12:z[w]=g.Matrix.Xu(S)}}}}static Parse(z,u,U){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const f=z();return v.b&&v.b.AddTagsTo(f,u.tags),R.ParseProperties(u,f,U,J),f}static Clone(z,u){return P(z,u,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(z,u){return P(z,u,!0)}}R.AllowLoadingUniqueId=!1,R._ImageProcessingConfigurationParser=z=>{throw(0,J.c)("ImageProcessingConfiguration")},R._FresnelParametersParser=z=>{throw(0,J.c)("FresnelParameters")},R._ColorCurvesParser=z=>{throw(0,J.c)("ColorCurves")},R._TextureParser=(z,u,U)=>{throw(0,J.c)("Texture")}},12960:(z,u,U)=>{U.d(u,{b:()=>v});class J{static Eval(z,u){return"true"===(z=z.match(/\([^()]*\)/g)?z.replace(/\([^()]*\)/g,(z=>(z=z.slice(1,z.length-1),J._HandleParenthesisContent(z,u)))):J._HandleParenthesisContent(z,u))||"false"!==z&&J.Eval(z,u)}static _HandleParenthesisContent(z,u){let U;u=u||(z=>"true"===z);const v=z.split("||");for(const f in v)if(Object.prototype.hasOwnProperty.call(v,f)){let z=J._SimplifyNegation(v[f].trim());const g=z.split("&&");if(g.length>1)for(let v=0;v<g.length;++v){const f=J._SimplifyNegation(g[v].trim());if(U="true"!==f&&"false"!==f?"!"===f[0]?!u(f.substring(1)):u(f):"true"===f,!U){z="false";break}}if(U||"true"===z){U=!0;break}U="true"!==z&&"false"!==z?"!"===z[0]?!u(z.substring(1)):u(z):"true"===z}return U?"true":"false"}static _SimplifyNegation(z){return"!true"===(z=(z=z.replace(/^[\s!]+/,(z=>(z=z.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?z="false":"!false"===z&&(z="true"),z}}class v{static EnableFor(z){z._tags=z._tags||{},z.hasTags=()=>v.HasTags(z),z.addTags=u=>v.AddTagsTo(z,u),z.removeTags=u=>v.RemoveTagsFrom(z,u),z.matchesTagsQuery=u=>v.MatchesQuery(z,u)}static DisableFor(z){delete z._tags,delete z.hasTags,delete z.addTags,delete z.removeTags,delete z.matchesTagsQuery}static HasTags(z){if(!z._tags)return!1;const u=z._tags;for(const U in u)if(Object.prototype.hasOwnProperty.call(u,U))return!0;return!1}static GetTags(z){let u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!z._tags)return null;if(u){const u=[];for(const U in z._tags)Object.prototype.hasOwnProperty.call(z._tags,U)&&!0===z._tags[U]&&u.push(U);return u.join(" ")}return z._tags}static AddTagsTo(z,u){if(!u)return;if("string"!==typeof u)return;const U=u.split(" ");for(const J of U)v._AddTagTo(z,J)}static _AddTagTo(z,u){""!==(u=u.trim())&&"true"!==u&&"false"!==u&&(u.match(/[\s]/)||u.match(/^([!]|([|]|[&]){2})/)||(v.EnableFor(z),z._tags[u]=!0))}static RemoveTagsFrom(z,u){if(!v.HasTags(z))return;const U=u.split(" ");for(const J in U)v._RemoveTagFrom(z,U[J])}static _RemoveTagFrom(z,u){delete z._tags[u]}static MatchesQuery(z,u){return void 0===u||(""===u?v.HasTags(z):J.Eval(u,(u=>v.HasTags(z)&&z._tags[u])))}}},12899:(z,u,U)=>{U.d(u,{b:()=>J});function J(z,u,U,J){var v,f=arguments.length,g=f<3?u:null===J?J=Object.getOwnPropertyDescriptor(u,U):J;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(z,u,U,J);else for(var w=z.length-1;w>=0;w--)(v=z[w])&&(g=(f<3?v(g):f>3?v(u,U,g):v(u,U))||g);return f>3&&g&&Object.defineProperty(u,U,g),g}Object.create;Object.create}}]);