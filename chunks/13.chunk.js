"use strict";(self.k9ivgwsw3f=self.k9ivgwsw3f||[]).push([[13],{12895:(Y,b,C)=>{C.d(b,{b:()=>R});let R=!1},12860:(Y,b,C)=>{C.d(b,{c:()=>y});var R=C(12818),q=C(12821),A=C(12652),E=C(12831),B=C(12702),g=C(12799),r=(C(12709),C(12864));class O{get wrapU(){return this._wrapU}set wrapU(Y){this._wrapU=Y}get wrapV(){return this._wrapV}set wrapV(Y){this._wrapV=Y}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(Y){this._texture&&(this._texture.isCube=Y)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Y){this._texture&&(this._texture.is3D=Y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Y){this._texture&&(this._texture.is2DArray=Y)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(Y){return void 0!==(null===Y||void 0===Y?void 0:Y.shareDepth)}constructor(Y){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=r.d.Zero(),this._cachedBaseSize=r.d.Zero(),this._initialSamplingMode=2,this._texture=O._IsRenderTargetWrapper(Y)?Y.texture:Y,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(Y){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(Y,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var F=C(12870);class y extends O{set lb(Y){this._hasAlpha!==Y&&(this._hasAlpha=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get lb(){return this._hasAlpha}set getAlphaFromRGB(Y){this._getAlphaFromRGB!==Y&&(this._getAlphaFromRGB=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(Y){this._coordinatesIndex!==Y&&(this._coordinatesIndex=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(Y){this._coordinatesMode!==Y&&(this._coordinatesMode=Y,this._scene&&this._scene.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(Y){this._wrapU=Y}get wrapV(){return this._wrapV}set wrapV(Y){this._wrapV=Y}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(Y){this._texture?this._texture.isCube=Y:this._isCube=Y}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(Y){this._texture&&(this._texture.is3D=Y)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(Y){this._texture&&(this._texture.is2DArray=Y)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(Y){var b;if(this._texture){if(this._texture._gammaSpace===Y)return;this._texture._gammaSpace=Y}else{if(this._gammaSpace===Y)return;this._gammaSpace=Y}null===(b=this.uY())||void 0===b||b.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(Y){var b;Y!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=Y),null===(b=this.uY())||void 0===b||b.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(Y){this._texture&&(this._texture._lodGenerationOffset=Y)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(Y){this._texture&&(this._texture._lodGenerationScale=Y)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(Y){this._texture&&(this._texture._linearSpecularLOD=Y)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(Y){this._texture&&(this._texture._irradianceTexture=Y)}get uid(){return this._uid||(this._uid=(0,g.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(Y){this._onDisposeObserver&&this.Sb.remove(this._onDisposeObserver),this._onDisposeObserver=this.Sb.add(Y)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=y.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Sb=new A.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,Y?y._IsScene(Y)?this._scene=Y:this._engine=Y:this._scene=B.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=b,this._uid=null}uY(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return E.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return E.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(Y){}get canRescale(){return!1}_getFromCache(Y,b,C,R,q,A){const E=this._getEngine();if(!E)return null;const B=E._getUseSRGBBuffer(!!q,b),g=E.getLoadedTexturesCache();for(let r=0;r<g.length;r++){const E=g[r];if((void 0===q||B===E._useSRGBBuffer)&&(void 0===R||R===E.invertY)&&E.url===Y&&E.generateMipMaps===!b&&(!C||C===E.samplingMode)&&(void 0===A||A===E.isCube))return E.incrementReferences(),E}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const Y=this.uY();Y&&Y.markAllMaterialsAsDirty(1)}readPixels(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,R=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,B=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const r=this._getEngine();if(!r)return null;const O=this.getSize();let F=O.width,y=O.height;0!==b&&(F/=Math.pow(2,b),y/=Math.pow(2,b),F=Math.round(F),y=Math.round(y)),B=Math.min(F,B),g=Math.min(y,g);try{return this._texture.isCube?r._readTexturePixels(this._texture,B,g,Y,b,C,R,q,A,E):r._readTexturePixels(this._texture,B,g,-1,b,C,R,q,A,E)}catch(S){return null}}_readPixelsSync(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,R=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const A=this.getSize();let E=A.width,B=A.height;const g=this._getEngine();if(!g)return null;0!=b&&(E/=Math.pow(2,b),B/=Math.pow(2,b),E=Math.round(E),B=Math.round(B));try{return this._texture.isCube?g._readTexturePixelsSync(this._texture,E,B,Y,b,C,R,q):g._readTexturePixelsSync(this._texture,E,B,-1,b,C,R,q)}catch(r){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const Y=this._scene.textures.indexOf(this);if(Y>=0&&this._scene.textures.splice(Y,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const Y=this._parentContainer.textures.indexOf(this);Y>-1&&this._parentContainer.textures.splice(Y,1),this._parentContainer=null}}this.Sb.notifyObservers(this),this.Sb.clear(),this.metadata=null,super.dispose()}serialize(){let Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!Y)return null;const b=F.e.Serialize(this);return F.e.AppendSerializedAnimations(this,b),b}static WhenAllReady(Y,b){let C=Y.length;if(0!==C)for(let R=0;R<Y.length;R++){const q=Y[R];if(q.isReady())0===--C&&b();else{const Y=q.onLoadObservable;Y?Y.addOnce((()=>{0===--C&&b()})):0===--C&&b()}}else b()}static _IsScene(Y){return"Scene"===Y.getClassName()}}y.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,R.c)([(0,q.K)()],y.prototype,"uniqueId",void 0),(0,R.c)([(0,q.K)()],y.prototype,"name",void 0),(0,R.c)([(0,q.K)()],y.prototype,"displayName",void 0),(0,R.c)([(0,q.K)()],y.prototype,"metadata",void 0),(0,R.c)([(0,q.K)("lb")],y.prototype,"_hasAlpha",void 0),(0,R.c)([(0,q.K)("getAlphaFromRGB")],y.prototype,"_getAlphaFromRGB",void 0),(0,R.c)([(0,q.K)()],y.prototype,"level",void 0),(0,R.c)([(0,q.K)("coordinatesIndex")],y.prototype,"_coordinatesIndex",void 0),(0,R.c)([(0,q.K)()],y.prototype,"optimizeUVAllocation",void 0),(0,R.c)([(0,q.K)("coordinatesMode")],y.prototype,"_coordinatesMode",void 0),(0,R.c)([(0,q.K)()],y.prototype,"wrapU",null),(0,R.c)([(0,q.K)()],y.prototype,"wrapV",null),(0,R.c)([(0,q.K)()],y.prototype,"wrapR",void 0),(0,R.c)([(0,q.K)()],y.prototype,"anisotropicFilteringLevel",void 0),(0,R.c)([(0,q.K)()],y.prototype,"isCube",null),(0,R.c)([(0,q.K)()],y.prototype,"is3D",null),(0,R.c)([(0,q.K)()],y.prototype,"is2DArray",null),(0,R.c)([(0,q.K)()],y.prototype,"gammaSpace",null),(0,R.c)([(0,q.K)()],y.prototype,"invertZ",void 0),(0,R.c)([(0,q.K)()],y.prototype,"lodLevelInAlpha",void 0),(0,R.c)([(0,q.K)()],y.prototype,"lodGenerationOffset",null),(0,R.c)([(0,q.K)()],y.prototype,"lodGenerationScale",null),(0,R.c)([(0,q.K)()],y.prototype,"linearSpecularLOD",null),(0,R.c)([(0,q.E)()],y.prototype,"irradianceTexture",null),(0,R.c)([(0,q.K)()],y.prototype,"isRenderTarget",void 0)},12814:(Y,b,C)=>{C.d(b,{b:()=>N});var R=C(12818),q=C(12821),A=C(12652),E=C(12831),B=C(12860),g=C(12790),r=C(12687),O=C(12726),F=C(12787),y=C(12889),S=C(12720);function n(Y,b){let C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const R=b.width,q=b.height;if(Y instanceof Float32Array){let b=Y.byteLength/Y.BYTES_PER_ELEMENT;const C=new Uint8Array(b);for(;--b>=0;){let R=Y[b];R<0?R=0:R>1&&(R=1),C[b]=255*R}Y=C}const A=document.createElement("canvas");A.width=R,A.height=q;const E=A.getContext("2d");if(!E)return null;const B=E.createImageData(R,q);if(B.data.set(Y),E.putImageData(B,0,0),C){const Y=document.createElement("canvas");Y.width=R,Y.height=q;const b=Y.getContext("2d");return b?(b.translate(0,q),b.scale(1,-1),b.drawImage(A,0,0),Y.toDataURL("image/png")):null}return A.toDataURL("image/png")}function t(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const R=Y.getInternalTexture();if(!R)return null;const q=Y._readPixelsSync(b,C);return q?n(q,Y.getSize(),R.invertY):null}async function I(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const R=Y.getInternalTexture();if(!R)return null;const q=await Y.readPixels(b,C);return q?n(q,Y.getSize(),R.invertY):null}var w=C(12895),Q=C(12870);class N extends B.c{static _CreateVideoTexture(Y,b,C){arguments.length>5&&void 0!==arguments[5]||N.TRILINEAR_SAMPLINGMODE;throw(0,r.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(Y){this._isBlocking=Y}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(Y,b,C,R){let q,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N.TRILINEAR_SAMPLINGMODE,B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,F=arguments.length>8&&void 0!==arguments[8]&&arguments[8],y=arguments.length>9?arguments[9]:void 0,S=arguments.length>10?arguments[10]:void 0,n=arguments.length>11?arguments[11]:void 0,t=arguments.length>12?arguments[12]:void 0,I=arguments.length>13?arguments[13]:void 0;super(b),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new A.d,this._isBlocking=!0,this.name=Y||"",this.url=Y;let Q=!1,p=null,mY=!0;"object"===typeof C&&null!==C?(q=C.noMipmap??!1,R=C.invertY??!w.b,E=C.samplingMode??N.TRILINEAR_SAMPLINGMODE,B=C.M??null,g=C.onError??null,r=C.buffer??null,F=C.deleteBuffer??!1,y=C.format,S=C.mimeType,n=C.loaderOptions,t=C.creationFlags,Q=C.useSRGBBuffer??!1,p=C.internalTexture??null,mY=C.gammaSpace??mY,I=C.forcedExtension??I):q=!!C,this._gammaSpace=mY,this._noMipmap=q,this._invertY=void 0===R?!w.b:R,this._initialSamplingMode=E,this._buffer=r,this._deleteBuffer=F,this._mimeType=S,this._loaderOptions=n,this._creationFlags=t,this._useSRGBBuffer=Q,this._forcedExtension=I,void 0!==y&&(this._format=y);const L=this.uY(),u=this._getEngine();if(!u)return;u.onBeforeTextureInitObservable.notifyObservers(this);const c=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),B&&B(),!this.isBlocking&&L&&L.resetCachedMaterial()},l=(Y,b)=>{this._loadingError=!0,this._errorObject={message:Y,exception:b},g&&g(Y,b),N.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!p)return this._delayedOnLoad=c,void(this._delayedOnError=l);if(this._texture=p??this._getFromCache(this.url,q,E,this._invertY,Q,this.isCube),this._texture)if(this._texture.isReady)O.d.SetImmediate((()=>c()));else{const Y=this._texture.onLoadedObservable.add(c);this._texture.onErrorObservable.add((b=>{var C;l(b.message,b.exception),null===(C=this._texture)||void 0===C||C.onLoadedObservable.remove(Y)}))}else if(L&&L.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=c,this._delayedOnError=l;else{try{this._texture=u.createTexture(this.url,q,this._invertY,L,E,c,l,this._buffer,void 0,this._format,this._forcedExtension,S,n,t,Q)}catch(X){throw l("error loading",X),X}F&&(this._buffer=null)}}updateURL(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2?arguments[2]:void 0,R=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.uY().markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=Y),this.url=Y,this._buffer=b,this._forcedExtension=R,this.delayLoadState=4,C&&(this._delayedOnLoad=C),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const Y=this.uY();Y&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?O.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=Y.getEngine().createTexture(this.url,this._noMipmap,this._invertY,Y,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(Y,b,C,R){Y*=this._cachedUScale,b*=this._cachedVScale,Y-=this.uRotationCenter*this._cachedUScale,b-=this.vRotationCenter*this._cachedVScale,C-=this.wRotationCenter,E.AC.TransformCoordinatesFromFloatsToRef(Y,b,C,this._rowGenerationMatrix,R),R.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,R.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,R.z+=this.wRotationCenter}getTextureMatrix(){let Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*Y===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*Y,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=E.Matrix.Zero(),this._rowGenerationMatrix=new E.Matrix,this._t0=E.AC.Zero(),this._t1=E.AC.Zero(),this._t2=E.AC.Zero()),E.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(E.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,E.TmpVectors.Matrix[0]),E.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,E.TmpVectors.Matrix[1]),E.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,E.TmpVectors.Matrix[2]),E.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,E.TmpVectors.Matrix[3]),E.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(E.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(E.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(E.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.dF(this._t0),this._t2.dF(this._t0),E.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const b=this.uY();if(!b)return this._cachedTextureMatrix;const C=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&C!==this._cachedIdentity3x2&&b.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const Y=this.uY();if(!Y)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==N.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===Y.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=E.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=E.Matrix.Zero());const b=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case N.PLANAR_MODE:E.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case N.PROJECTION_MODE:{E.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const b=Y.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=b.updateFlag,b.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:E.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return b&&Y.markAllMaterialsAsDirty(1,(Y=>Y.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const Y={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,M:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Q.e.Clone((()=>new N(this._texture?this._texture.url:null,this.uY(),Y)),this)}serialize(){var Y;const b=this.name;N.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const C=super.serialize(N._SerializeInternalTextureUniqueId);if(!C)return null;if(N.SerializeBuffers||N.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))C.base64String=this._buffer,C.name=C.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const Y=this.mimeType||"image/png";C.base64String=`data:${Y};base64,${(0,S.l)(this._buffer)}`}else(N.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(C.base64String=!this._engine||this._engine._features.supportSyncTextureRead?t(this):I(this));var R;(C.invertY=this._invertY,C.samplingMode=this.samplingMode,C._creationFlags=this._creationFlags,C._useSRGBBuffer=this._useSRGBBuffer,N._SerializeInternalTextureUniqueId)&&(C.internalTextureUniqueId=null===(R=this._texture)||void 0===R?void 0:R.uniqueId);return C.internalTextureLabel=null===(Y=this._texture)||void 0===Y?void 0:Y.label,C.noMipmap=this._noMipmap,this.name=b,C}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(Y,b,C){if(Y.customType){const R=F.b.Instantiate(Y.customType).Parse(Y,b,C);return Y.samplingMode&&R.updateSamplingMode&&R._samplingMode&&R._samplingMode!==Y.samplingMode&&R.updateSamplingMode(Y.samplingMode),R}if(Y.isCube&&!Y.isRenderTarget)return N._CubeTextureParser(Y,b,C);const R=void 0!==Y.internalTextureUniqueId;if(!Y.name&&!Y.isRenderTarget&&!R)return null;let q;if(R){const C=b.getEngine().getLoadedTexturesCache();for(const b of C)if(b.uniqueId===Y.internalTextureUniqueId){q=b;break}}const A=b=>{if(b&&b._texture&&(b._texture._cachedWrapU=null,b._texture._cachedWrapV=null,b._texture._cachedWrapR=null),Y.samplingMode){const C=Y.samplingMode;b&&b.samplingMode!==C&&b.updateSamplingMode(C)}if(b&&Y.animations)for(let C=0;C<Y.animations.length;C++){const R=Y.animations[C],q=(0,g.c)("BABYLON.Animation");q&&b.animations.push(q.Parse(R))}b&&b._texture&&(R&&!q&&b._texture._setUniqueId(Y.internalTextureUniqueId),b._texture.label=Y.internalTextureLabel)};return Q.e.Parse((()=>{let R=!0;if(Y.noMipmap&&(R=!1),Y.mirrorPlane){const C=N._CreateMirror(Y.name,Y.renderTargetSize,b,R);return C._waitingRenderList=Y.renderList,C.mirrorPlane=y.d.OC(Y.mirrorPlane),A(C),C}if(Y.isRenderTarget){let C=null;if(Y.isCube){if(b.reflectionProbes)for(let R=0;R<b.reflectionProbes.length;R++){const C=b.reflectionProbes[R];if(C.name===Y.name)return C.cubeTexture}}else C=N._CreateRenderTargetTexture(Y.name,Y.renderTargetSize,b,R,Y._creationFlags??0),C._waitingRenderList=Y.renderList;return A(C),C}if(Y.isVideo){const q=N._CreateVideoTexture(C+(Y.url||Y.name),C+(Y.src||Y.url),b,R,Y.invertY,Y.samplingMode,Y.settings||{});return A(q),q}{let E;if(Y.base64String&&!q)E=N.CreateFromBase64String(Y.base64String,Y.base64String,b,!R,Y.invertY,Y.samplingMode,(()=>{A(E)}),Y._creationFlags??0,Y._useSRGBBuffer??!1),E.name=Y.name;else{let B;B=Y.name&&(Y.name.indexOf("://")>0||Y.name.startsWith("data:"))?Y.name:C+Y.name,Y.url&&(Y.url.startsWith("data:")||N.UseSerializedUrlIfAny)&&(B=Y.url);const g={noMipmap:!R,invertY:Y.invertY,samplingMode:Y.samplingMode,M:()=>{A(E)},internalTexture:q};E=new N(B,b,g)}return E}}),Y,b)}static CreateFromBase64String(Y,b,C,R,q){let A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:N.TRILINEAR_SAMPLINGMODE;return new N("data:"+b,C,R,q,A,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,Y,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(Y,b,C){let R=arguments.length>3&&void 0!==arguments[3]&&arguments[3],q=arguments.length>4?arguments[4]:void 0,A=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:N.TRILINEAR_SAMPLINGMODE,B=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,r=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,O=arguments.length>10?arguments[10]:void 0,F=arguments.length>11?arguments[11]:void 0;return"data:"!==Y.substring(0,5)&&(Y="data:"+Y),new N(Y,C,q,A,E,B,g,b,R,r,void 0,void 0,O,F)}}N.SerializeBuffers=!0,N.ForceSerializeBuffers=!1,N.OnTextureLoadErrorObservable=new A.d,N._SerializeInternalTextureUniqueId=!1,N._CubeTextureParser=(Y,b,C)=>{throw(0,r.d)("CubeTexture")},N._CreateMirror=(Y,b,C,R)=>{throw(0,r.d)("MirrorTexture")},N._CreateRenderTargetTexture=(Y,b,C,R,q)=>{throw(0,r.d)("RenderTargetTexture")},N.NEAREST_SAMPLINGMODE=1,N.NEAREST_NEAREST_MIPLINEAR=8,N.BILINEAR_SAMPLINGMODE=2,N.LINEAR_LINEAR_MIPNEAREST=11,N.TRILINEAR_SAMPLINGMODE=3,N.LINEAR_LINEAR_MIPLINEAR=3,N.NEAREST_NEAREST_MIPNEAREST=4,N.NEAREST_LINEAR_MIPNEAREST=5,N.NEAREST_LINEAR_MIPLINEAR=6,N.NEAREST_LINEAR=7,N.NEAREST_NEAREST=1,N.LINEAR_NEAREST_MIPNEAREST=9,N.LINEAR_NEAREST_MIPLINEAR=10,N.LINEAR_LINEAR=2,N.LINEAR_NEAREST=12,N.EXPLICIT_MODE=0,N.SPHERICAL_MODE=1,N.PLANAR_MODE=2,N.CUBIC_MODE=3,N.PROJECTION_MODE=4,N.SKYBOX_MODE=5,N.INVCUBIC_MODE=6,N.EQUIRECTANGULAR_MODE=7,N.FIXED_EQUIRECTANGULAR_MODE=8,N.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,N.CLAMP_ADDRESSMODE=0,N.WRAP_ADDRESSMODE=1,N.MIRROR_ADDRESSMODE=2,N.UseSerializedUrlIfAny=!1,(0,R.c)([(0,q.K)()],N.prototype,"url",void 0),(0,R.c)([(0,q.K)()],N.prototype,"uOffset",void 0),(0,R.c)([(0,q.K)()],N.prototype,"vOffset",void 0),(0,R.c)([(0,q.K)()],N.prototype,"uScale",void 0),(0,R.c)([(0,q.K)()],N.prototype,"vScale",void 0),(0,R.c)([(0,q.K)()],N.prototype,"uAng",void 0),(0,R.c)([(0,q.K)()],N.prototype,"vAng",void 0),(0,R.c)([(0,q.K)()],N.prototype,"wAng",void 0),(0,R.c)([(0,q.K)()],N.prototype,"uRotationCenter",void 0),(0,R.c)([(0,q.K)()],N.prototype,"vRotationCenter",void 0),(0,R.c)([(0,q.K)()],N.prototype,"wRotationCenter",void 0),(0,R.c)([(0,q.K)()],N.prototype,"homogeneousRotationInUVTransform",void 0),(0,R.c)([(0,q.K)()],N.prototype,"isBlocking",null),(0,g.g)("BABYLON.Texture",N),Q.e._TextureParser=N.Parse},12889:(Y,b,C)=>{C.d(b,{d:()=>q});var R=C(12831);class q{constructor(Y,b,C,q){this.normal=new R.AC(Y,b,C),this.d=q}cb(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let Y=this.normal.getHashCode();return Y=397*Y^this.d,Y}normalize(){const Y=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let b=0;return 0!==Y&&(b=1/Y),this.normal.x*=b,this.normal.y*=b,this.normal.z*=b,this.d*=b,this}transform(Y){const b=q._TmpMatrix;Y.invertToRef(b);const C=b.m,R=this.normal.x,A=this.normal.y,E=this.normal.z,B=this.d,g=R*C[0]+A*C[1]+E*C[2]+B*C[3],r=R*C[4]+A*C[5]+E*C[6]+B*C[7],O=R*C[8]+A*C[9]+E*C[10]+B*C[11],F=R*C[12]+A*C[13]+E*C[14]+B*C[15];return new q(g,r,O,F)}dotCoordinate(Y){return this.normal.x*Y.x+this.normal.y*Y.y+this.normal.z*Y.z+this.d}copyFromPoints(Y,b,C){const R=b.x-Y.x,q=b.y-Y.y,A=b.z-Y.z,E=C.x-Y.x,B=C.y-Y.y,g=C.z-Y.z,r=q*g-A*B,O=A*E-R*g,F=R*B-q*E,y=Math.sqrt(r*r+O*O+F*F);let S;return S=0!==y?1/y:0,this.normal.x=r*S,this.normal.y=O*S,this.normal.z=F*S,this.d=-(this.normal.x*Y.x+this.normal.y*Y.y+this.normal.z*Y.z),this}isFrontFacingTo(Y,b){return R.AC.Dot(this.normal,Y)<=b}signedDistanceTo(Y){return R.AC.Dot(Y,this.normal)+this.d}static OC(Y){return new q(Y[0],Y[1],Y[2],Y[3])}static FromPoints(Y,b,C){const R=new q(0,0,0,0);return R.copyFromPoints(Y,b,C),R}static FromPositionAndNormal(Y,b){const C=new q(0,0,0,0);return this.FromPositionAndNormalToRef(Y,b,C)}static FromPositionAndNormalToRef(Y,b,C){return C.normal.q(b),C.normal.normalize(),C.d=-Y.dot(C.normal),C}static SignedDistanceToPlaneFromPositionAndNormal(Y,b,C){const q=-(b.x*Y.x+b.y*Y.y+b.z*Y.z);return R.AC.Dot(C,b)+q}}q._TmpMatrix=R.Matrix.Identity()},12864:(Y,b,C)=>{C.d(b,{d:()=>R});class R{constructor(Y,b){this.width=Y,this.height=b}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let Y=0|this.width;return Y=397*Y^this.height,Y}q(Y){this.width=Y.width,this.height=Y.height}Ub(Y,b){return this.width=Y,this.height=b,this}set(Y,b){return this.Ub(Y,b)}multiplyByFloats(Y,b){return new R(this.width*Y,this.height*b)}clone(){return new R(this.width,this.height)}equals(Y){return!!Y&&(this.width===Y.width&&this.height===Y.height)}get surface(){return this.width*this.height}static Zero(){return new R(0,0)}add(Y){return new R(this.width+Y.width,this.height+Y.height)}EC(Y){return new R(this.width-Y.width,this.height-Y.height)}scale(Y){return new R(this.width*Y,this.height*Y)}static Lerp(Y,b,C){const q=Y.width+(b.width-Y.width)*C,A=Y.height+(b.height-Y.height)*C;return new R(q,A)}}},12824:(Y,b,C)=>{C.d(b,{e:()=>A,f:()=>E});const R={},q={};function A(Y){const b=Y.getClassName();return q[b]||(q[b]={}),q[b]}function E(Y){const b=Y.getClassName();if(R[b])return R[b];R[b]={};const C=R[b];let A=Y,E=b;for(;E;){const Y=q[E];for(const q in Y)C[q]=Y[q];let b,R=!1;do{if(b=Object.getPrototypeOf(A),!b.getClassName){R=!0;break}if(b.getClassName()!==E)break;A=b}while(b);if(R)break;E=b.getClassName(),A=b}return C}},12821:(Y,b,C)=>{C.d(b,{A:()=>y,D:()=>I,E:()=>B,G:()=>O,H:()=>F,K:()=>E,d:()=>A,h:()=>Q,k:()=>S,m:()=>g,q:()=>n,u:()=>r,x:()=>t,y:()=>w});var R=C(12824);function q(Y,b){return(C,q)=>{const A=(0,R.e)(C);A[q]||(A[q]={type:Y,sourceName:b})}}function A(Y){return function(Y){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(C,R)=>{const q=b||"_"+R;Object.defineProperty(C,R,{get:function(){return this[q]},set:function(b){var R;"function"===typeof(null===(R=this[q])||void 0===R?void 0:R.equals)&&this[q].equals(b)||this[q]!==b&&(this[q]=b,C[Y].apply(this))},enumerable:!0,configurable:!0})}}(Y,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function E(Y){return q(0,Y)}function B(Y){return q(1,Y)}function g(Y){return q(2,Y)}function r(Y){return q(3,Y)}function O(Y){return q(4,Y)}function F(Y){return q(5,Y)}function y(Y){return q(6,Y)}function S(Y){return q(7,Y)}function n(Y){return q(8,Y)}function t(Y){return q(9,Y)}function I(Y){return q(10,Y)}function w(Y){return q(12,Y)}function Q(Y,b,C,R){const q=C.value;C.value=function(){let C=q;if("undefined"!==typeof _native&&_native[b]){const Y=_native[b];C=R?function(){return R(...arguments)?Y(...arguments):q(...arguments)}:Y}return Y[b]=C,C(...arguments)}}Q.filter=function(Y){return(b,C,R)=>Q(b,C,R,Y)}},12870:(Y,b,C)=>{C.d(b,{e:()=>r});var R=C(12687),q=C(12872),A=C(12880),E=C(12831),B=C(12824);const g=function(Y,b,C){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const A=Y();q.d&&q.d.HasTags(b)&&q.d.AddTagsTo(A,q.d.GetTags(b,!0));const E=(0,B.f)(A),g={};for(const q in E){const Y=E[q],B=b[q],O=Y.type;if(void 0!==B&&null!==B&&("uniqueId"!==q||r.AllowLoadingUniqueId))switch(O){case 0:case 6:case 9:case 11:A[q]=B;break;case 1:R.cloneTexturesOnlyOnce&&g[B.uniqueId]?A[q]=g[B.uniqueId]:(A[q]=C||B.isRenderTarget?B:B.clone(),g[B.uniqueId]=A[q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:A[q]=C?B:B.clone()}}return A};class r{static AppendSerializedAnimations(Y,b){if(Y.animations){b.animations=[];for(let C=0;C<Y.animations.length;C++){const R=Y.animations[C];b.animations.push(R.serialize())}}}static Serialize(Y,b){b||(b={}),q.d&&(b.tags=q.d.GetTags(Y));const C=(0,B.f)(Y);for(const R in C){const q=C[R],A=q.sourceName||R,E=q.type,B=Y[R];if(void 0!==B&&null!==B&&("uniqueId"!==R||r.AllowLoadingUniqueId))switch(E){case 0:b[A]=B;break;case 1:case 3:case 7:case 9:b[A]=B.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:b[A]=B.cb();break;case 6:case 11:b[A]=B.id}}return b}static ParseProperties(Y,b,C,R){R||(R="");const q=(0,B.f)(b);for(const B in q){const g=q[B],O=Y[g.sourceName||B],F=g.type;if(void 0!==O&&null!==O&&("uniqueId"!==B||r.AllowLoadingUniqueId)){const Y=b;switch(F){case 0:Y[B]=O;break;case 1:C&&(Y[B]=r._TextureParser(O,C,R));break;case 2:Y[B]=A.rC.OC(O);break;case 3:Y[B]=r._FresnelParametersParser(O);break;case 4:Y[B]=E.Vector2.OC(O);break;case 5:Y[B]=E.AC.OC(O);break;case 6:C&&(Y[B]=C.getLastMeshById(O));break;case 7:Y[B]=r._ColorCurvesParser(O);break;case 8:Y[B]=A.hb.OC(O);break;case 9:Y[B]=r._ImageProcessingConfigurationParser(O);break;case 10:Y[B]=E.Quaternion.OC(O);break;case 11:C&&(Y[B]=C.getCameraById(O));break;case 12:Y[B]=E.Matrix.OC(O)}}}}static Parse(Y,b,C){let R=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const A=Y();return q.d&&q.d.AddTagsTo(A,b.tags),r.ParseProperties(b,A,C,R),A}static Clone(Y,b){return g(Y,b,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(Y,b){return g(Y,b,!0)}}r.AllowLoadingUniqueId=!1,r._ImageProcessingConfigurationParser=Y=>{throw(0,R.d)("ImageProcessingConfiguration")},r._FresnelParametersParser=Y=>{throw(0,R.d)("FresnelParameters")},r._ColorCurvesParser=Y=>{throw(0,R.d)("ColorCurves")},r._TextureParser=(Y,b,C)=>{throw(0,R.d)("Texture")}},12872:(Y,b,C)=>{C.d(b,{d:()=>q});class R{static Eval(Y,b){return"true"===(Y=Y.match(/\([^()]*\)/g)?Y.replace(/\([^()]*\)/g,(Y=>(Y=Y.slice(1,Y.length-1),R._HandleParenthesisContent(Y,b)))):R._HandleParenthesisContent(Y,b))||"false"!==Y&&R.Eval(Y,b)}static _HandleParenthesisContent(Y,b){let C;b=b||(Y=>"true"===Y);const q=Y.split("||");for(const A in q)if(Object.prototype.hasOwnProperty.call(q,A)){let Y=R._SimplifyNegation(q[A].trim());const E=Y.split("&&");if(E.length>1)for(let q=0;q<E.length;++q){const A=R._SimplifyNegation(E[q].trim());if(C="true"!==A&&"false"!==A?"!"===A[0]?!b(A.substring(1)):b(A):"true"===A,!C){Y="false";break}}if(C||"true"===Y){C=!0;break}C="true"!==Y&&"false"!==Y?"!"===Y[0]?!b(Y.substring(1)):b(Y):"true"===Y}return C?"true":"false"}static _SimplifyNegation(Y){return"!true"===(Y=(Y=Y.replace(/^[\s!]+/,(Y=>(Y=Y.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?Y="false":"!false"===Y&&(Y="true"),Y}}class q{static EnableFor(Y){Y._tags=Y._tags||{},Y.hasTags=()=>q.HasTags(Y),Y.addTags=b=>q.AddTagsTo(Y,b),Y.removeTags=b=>q.RemoveTagsFrom(Y,b),Y.matchesTagsQuery=b=>q.MatchesQuery(Y,b)}static DisableFor(Y){delete Y._tags,delete Y.hasTags,delete Y.addTags,delete Y.removeTags,delete Y.matchesTagsQuery}static HasTags(Y){if(!Y._tags)return!1;const b=Y._tags;for(const C in b)if(Object.prototype.hasOwnProperty.call(b,C))return!0;return!1}static GetTags(Y){let b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Y._tags)return null;if(b){const b=[];for(const C in Y._tags)Object.prototype.hasOwnProperty.call(Y._tags,C)&&!0===Y._tags[C]&&b.push(C);return b.join(" ")}return Y._tags}static AddTagsTo(Y,b){if(!b)return;if("string"!==typeof b)return;const C=b.split(" ");for(const R of C)q._AddTagTo(Y,R)}static _AddTagTo(Y,b){""!==(b=b.trim())&&"true"!==b&&"false"!==b&&(b.match(/[\s]/)||b.match(/^([!]|([|]|[&]){2})/)||(q.EnableFor(Y),Y._tags[b]=!0))}static RemoveTagsFrom(Y,b){if(!q.HasTags(Y))return;const C=b.split(" ");for(const R in C)q._RemoveTagFrom(Y,C[R])}static _RemoveTagFrom(Y,b){delete Y._tags[b]}static MatchesQuery(Y,b){return void 0===b||(""===b?q.HasTags(Y):R.Eval(b,(b=>q.HasTags(Y)&&Y._tags[b])))}}},12818:(Y,b,C)=>{C.d(b,{c:()=>R});function R(Y,b,C,R){var q,A=arguments.length,E=A<3?b:null===R?R=Object.getOwnPropertyDescriptor(b,C):R;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)E=Reflect.decorate(Y,b,C,R);else for(var B=Y.length-1;B>=0;B--)(q=Y[B])&&(E=(A<3?q(E):A>3?q(b,C,E):q(b,C))||E);return A>3&&E&&Object.defineProperty(b,C,E),E}Object.create;Object.create}}]);