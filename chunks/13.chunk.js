"use strict";(self.h6ljd275xwr=self.h6ljd275xwr||[]).push([[13],{11347:(n,y,H)=>{H.d(y,{e:()=>o});let o=!1},11309:(n,y,H)=>{H.d(y,{d:()=>A});var o=H(11278),G=H(11280),h=H(11099),k=H(11288),i=H(11149),B=H(11253),V=(H(11154),H(11318));class q{get wrapU(){return this._wrapU}set wrapU(n){this._wrapU=n}get wrapV(){return this._wrapV}set wrapV(n){this._wrapV=n}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(n){this._texture&&(this._texture.isCube=n)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(n){this._texture&&(this._texture.is3D=n)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(n){this._texture&&(this._texture.is2DArray=n)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(n){return void 0!==(null===n||void 0===n?void 0:n.shareDepth)}constructor(n){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=V.e.Zero(),this._cachedBaseSize=V.e.Zero(),this._initialSamplingMode=2,this._texture=q._IsRenderTargetWrapper(n)?n.texture:n,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(n){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(n,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var b=H(11325);class A extends q{set Ti(n){this._hasAlpha!==n&&(this._hasAlpha=n,this._scene&&this._scene.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))))}get Ti(){return this._hasAlpha}set getAlphaFromRGB(n){this._getAlphaFromRGB!==n&&(this._getAlphaFromRGB=n,this._scene&&this._scene.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(n){this._coordinatesIndex!==n&&(this._coordinatesIndex=n,this._scene&&this._scene.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(n){this._coordinatesMode!==n&&(this._coordinatesMode=n,this._scene&&this._scene.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(n){this._wrapU=n}get wrapV(){return this._wrapV}set wrapV(n){this._wrapV=n}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(n){this._texture?this._texture.isCube=n:this._isCube=n}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(n){this._texture&&(this._texture.is3D=n)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(n){this._texture&&(this._texture.is2DArray=n)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(n){var y;if(this._texture){if(this._texture._gammaSpace===n)return;this._texture._gammaSpace=n}else{if(this._gammaSpace===n)return;this._gammaSpace=n}null===(y=this.pn())||void 0===y||y.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(n){var y;n!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=n),null===(y=this.pn())||void 0===y||y.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(n){this._texture&&(this._texture._lodGenerationOffset=n)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(n){this._texture&&(this._texture._lodGenerationScale=n)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(n){this._texture&&(this._texture._linearSpecularLOD=n)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(n){this._texture&&(this._texture._irradianceTexture=n)}get uid(){return this._uid||(this._uid=(0,B.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(n){this._onDisposeObserver&&this.ah.remove(this._onDisposeObserver),this._onDisposeObserver=this.ah.add(n)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=A.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.ah=new h.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,n?A._IsScene(n)?this._scene=n:this._engine=n:this._scene=i.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=y,this._uid=null}pn(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return k.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return k.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(n){}get canRescale(){return!1}_getFromCache(n,y,H,o,G,h){const k=this._getEngine();if(!k)return null;const i=k._getUseSRGBBuffer(!!G,y),B=k.getLoadedTexturesCache();for(let V=0;V<B.length;V++){const k=B[V];if((void 0===G||i===k._useSRGBBuffer)&&(void 0===o||o===k.invertY)&&k.url===n&&k.generateMipMaps===!y&&(!H||H===k.samplingMode)&&(void 0===h||h===k.isCube))return k.incrementReferences(),k}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const n=this.pn();n&&n.markAllMaterialsAsDirty(1)}readPixels(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],G=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const V=this._getEngine();if(!V)return null;const q=this.getSize();let b=q.width,A=q.height;0!==y&&(b/=Math.pow(2,y),A/=Math.pow(2,y),b=Math.round(b),A=Math.round(A)),i=Math.min(b,i),B=Math.min(A,B);try{return this._texture.isCube?V._readTexturePixels(this._texture,i,B,n,y,H,o,G,h,k):V._readTexturePixels(this._texture,i,B,-1,y,H,o,G,h,k)}catch(U){return null}}_readPixelsSync(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],G=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const h=this.getSize();let k=h.width,i=h.height;const B=this._getEngine();if(!B)return null;0!=y&&(k/=Math.pow(2,y),i/=Math.pow(2,y),k=Math.round(k),i=Math.round(i));try{return this._texture.isCube?B._readTexturePixelsSync(this._texture,k,i,n,y,H,o,G):B._readTexturePixelsSync(this._texture,k,i,-1,y,H,o,G)}catch(V){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const n=this._scene.textures.indexOf(this);if(n>=0&&this._scene.textures.splice(n,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const n=this._parentContainer.textures.indexOf(this);n>-1&&this._parentContainer.textures.splice(n,1),this._parentContainer=null}}this.ah.notifyObservers(this),this.ah.clear(),this.metadata=null,super.dispose()}serialize(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!n)return null;const y=b.c.Serialize(this);return b.c.AppendSerializedAnimations(this,y),y}static WhenAllReady(n,y){let H=n.length;if(0!==H)for(let o=0;o<n.length;o++){const G=n[o];if(G.isReady())0===--H&&y();else{const n=G.onLoadObservable;n?n.addOnce((()=>{0===--H&&y()})):0===--H&&y()}}else y()}static _IsScene(n){return"Scene"===n.getClassName()}}A.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,o.e)([(0,G.J)()],A.prototype,"uniqueId",void 0),(0,o.e)([(0,G.J)()],A.prototype,"name",void 0),(0,o.e)([(0,G.J)()],A.prototype,"displayName",void 0),(0,o.e)([(0,G.J)()],A.prototype,"metadata",void 0),(0,o.e)([(0,G.J)("Ti")],A.prototype,"_hasAlpha",void 0),(0,o.e)([(0,G.J)("getAlphaFromRGB")],A.prototype,"_getAlphaFromRGB",void 0),(0,o.e)([(0,G.J)()],A.prototype,"level",void 0),(0,o.e)([(0,G.J)("coordinatesIndex")],A.prototype,"_coordinatesIndex",void 0),(0,o.e)([(0,G.J)()],A.prototype,"optimizeUVAllocation",void 0),(0,o.e)([(0,G.J)("coordinatesMode")],A.prototype,"_coordinatesMode",void 0),(0,o.e)([(0,G.J)()],A.prototype,"wrapU",null),(0,o.e)([(0,G.J)()],A.prototype,"wrapV",null),(0,o.e)([(0,G.J)()],A.prototype,"wrapR",void 0),(0,o.e)([(0,G.J)()],A.prototype,"anisotropicFilteringLevel",void 0),(0,o.e)([(0,G.J)()],A.prototype,"isCube",null),(0,o.e)([(0,G.J)()],A.prototype,"is3D",null),(0,o.e)([(0,G.J)()],A.prototype,"is2DArray",null),(0,o.e)([(0,G.J)()],A.prototype,"gammaSpace",null),(0,o.e)([(0,G.J)()],A.prototype,"invertZ",void 0),(0,o.e)([(0,G.J)()],A.prototype,"lodLevelInAlpha",void 0),(0,o.e)([(0,G.J)()],A.prototype,"lodGenerationOffset",null),(0,o.e)([(0,G.J)()],A.prototype,"lodGenerationScale",null),(0,o.e)([(0,G.J)()],A.prototype,"linearSpecularLOD",null),(0,o.e)([(0,G.A)()],A.prototype,"irradianceTexture",null),(0,o.e)([(0,G.J)()],A.prototype,"isRenderTarget",void 0)},11269:(n,y,H)=>{H.d(y,{b:()=>v});var o=H(11278),G=H(11280),h=H(11099),k=H(11288),i=H(11309),B=H(11248),V=H(11134),q=H(11185),b=H(11243),A=H(11342),U=H(11167);function T(n,y){let H=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=y.width,G=y.height;if(n instanceof Float32Array){let y=n.byteLength/n.BYTES_PER_ELEMENT;const H=new Uint8Array(y);for(;--y>=0;){let o=n[y];o<0?o=0:o>1&&(o=1),H[y]=255*o}n=H}const h=document.createElement("canvas");h.width=o,h.height=G;const k=h.getContext("2d");if(!k)return null;const i=k.createImageData(o,G);if(i.data.set(n),k.putImageData(i,0,0),H){const n=document.createElement("canvas");n.width=o,n.height=G;const y=n.getContext("2d");return y?(y.translate(0,G),y.scale(1,-1),y.drawImage(h,0,0),n.toDataURL("image/png")):null}return h.toDataURL("image/png")}function W(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=n.getInternalTexture();if(!o)return null;const G=n._readPixelsSync(y,H);return G?T(G,n.getSize(),o.invertY):null}async function z(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=n.getInternalTexture();if(!o)return null;const G=await n.readPixels(y,H);return G?T(G,n.getSize(),o.invertY):null}var Q=H(11347),l=H(11325);class v extends i.d{static _CreateVideoTexture(n,y,H){arguments.length>5&&void 0!==arguments[5]||v.TRILINEAR_SAMPLINGMODE;throw(0,V.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(n){this._isBlocking=n}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(n,y,H,o){let G,k=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.TRILINEAR_SAMPLINGMODE,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,B=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,V=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,b=arguments.length>8&&void 0!==arguments[8]&&arguments[8],A=arguments.length>9?arguments[9]:void 0,U=arguments.length>10?arguments[10]:void 0,T=arguments.length>11?arguments[11]:void 0,W=arguments.length>12?arguments[12]:void 0,z=arguments.length>13?arguments[13]:void 0;super(y),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new h.c,this._isBlocking=!0,this.name=n||"",this.url=n;let l=!1,F=null,g=!0;"object"===typeof H&&null!==H?(G=H.noMipmap??!1,o=H.invertY??!Q.e,k=H.samplingMode??v.TRILINEAR_SAMPLINGMODE,i=H.L??null,B=H.onError??null,V=H.buffer??null,b=H.deleteBuffer??!1,A=H.format,U=H.mimeType,T=H.loaderOptions,W=H.creationFlags,l=H.useSRGBBuffer??!1,F=H.internalTexture??null,g=H.gammaSpace??g,z=H.forcedExtension??z):G=!!H,this._gammaSpace=g,this._noMipmap=G,this._invertY=void 0===o?!Q.e:o,this._initialSamplingMode=k,this._buffer=V,this._deleteBuffer=b,this._mimeType=U,this._loaderOptions=T,this._creationFlags=W,this._useSRGBBuffer=l,this._forcedExtension=z,void 0!==A&&(this._format=A);const M=this.pn(),f=this._getEngine();if(!f)return;f.onBeforeTextureInitObservable.notifyObservers(this);const c=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),i&&i(),!this.isBlocking&&M&&M.resetCachedMaterial()},p=(n,y)=>{this._loadingError=!0,this._errorObject={message:n,exception:y},B&&B(n,y),v.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!F)return this._delayedOnLoad=c,void(this._delayedOnError=p);if(this._texture=F??this._getFromCache(this.url,G,k,this._invertY,l,this.isCube),this._texture)if(this._texture.isReady)q.c.SetImmediate((()=>c()));else{const n=this._texture.onLoadedObservable.add(c);this._texture.onErrorObservable.add((y=>{var H;p(y.message,y.exception),null===(H=this._texture)||void 0===H||H.onLoadedObservable.remove(n)}))}else if(M&&M.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=c,this._delayedOnError=p;else{try{this._texture=f.createTexture(this.url,G,this._invertY,M,k,c,p,this._buffer,void 0,this._format,this._forcedExtension,U,T,W,l)}catch(E){throw p("error loading",E),E}b&&(this._buffer=null)}}updateURL(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,H=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.pn().markAllMaterialsAsDirty(1,(n=>n.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=n),this.url=n,this._buffer=y,this._forcedExtension=o,this.delayLoadState=4,H&&(this._delayedOnLoad=H),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const n=this.pn();n&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?q.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=n.getEngine().createTexture(this.url,this._noMipmap,this._invertY,n,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(n,y,H,o){n*=this._cachedUScale,y*=this._cachedVScale,n-=this.uRotationCenter*this._cachedUScale,y-=this.vRotationCenter*this._cachedVScale,H-=this.wRotationCenter,k.zy.TransformCoordinatesFromFloatsToRef(n,y,H,this._rowGenerationMatrix,o),o.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,o.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,o.z+=this.wRotationCenter}getTextureMatrix(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*n===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*n,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=k.Matrix.Zero(),this._rowGenerationMatrix=new k.Matrix,this._t0=k.zy.Zero(),this._t1=k.zy.Zero(),this._t2=k.zy.Zero()),k.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(k.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,k.TmpVectors.Matrix[0]),k.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,k.TmpVectors.Matrix[1]),k.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,k.TmpVectors.Matrix[2]),k.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,k.TmpVectors.Matrix[3]),k.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(k.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.kb(this._t0),this._t2.kb(this._t0),k.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const y=this.pn();if(!y)return this._cachedTextureMatrix;const H=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&H!==this._cachedIdentity3x2&&y.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const n=this.pn();if(!n)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==v.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===n.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=k.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=k.Matrix.Zero());const y=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case v.PLANAR_MODE:k.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case v.PROJECTION_MODE:{k.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const y=n.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=y.updateFlag,y.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:k.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return y&&n.markAllMaterialsAsDirty(1,(n=>n.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const n={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,L:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return l.c.Clone((()=>new v(this._texture?this._texture.url:null,this.pn(),n)),this)}serialize(){var n;const y=this.name;v.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const H=super.serialize(v._SerializeInternalTextureUniqueId);if(!H)return null;if(v.SerializeBuffers||v.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))H.base64String=this._buffer,H.name=H.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const n=this.mimeType||"image/png";H.base64String=`data:${n};base64,${(0,U.q)(this._buffer)}`}else(v.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(H.base64String=!this._engine||this._engine._features.supportSyncTextureRead?W(this):z(this));var o;(H.invertY=this._invertY,H.samplingMode=this.samplingMode,H._creationFlags=this._creationFlags,H._useSRGBBuffer=this._useSRGBBuffer,v._SerializeInternalTextureUniqueId)&&(H.internalTextureUniqueId=null===(o=this._texture)||void 0===o?void 0:o.uniqueId);return H.internalTextureLabel=null===(n=this._texture)||void 0===n?void 0:n.label,H.noMipmap=this._noMipmap,this.name=y,H}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(n,y,H){if(n.customType){const o=b.d.Instantiate(n.customType).Parse(n,y,H);return n.samplingMode&&o.updateSamplingMode&&o._samplingMode&&o._samplingMode!==n.samplingMode&&o.updateSamplingMode(n.samplingMode),o}if(n.isCube&&!n.isRenderTarget)return v._CubeTextureParser(n,y,H);const o=void 0!==n.internalTextureUniqueId;if(!n.name&&!n.isRenderTarget&&!o)return null;let G;if(o){const H=y.getEngine().getLoadedTexturesCache();for(const y of H)if(y.uniqueId===n.internalTextureUniqueId){G=y;break}}const h=y=>{if(y&&y._texture&&(y._texture._cachedWrapU=null,y._texture._cachedWrapV=null,y._texture._cachedWrapR=null),n.samplingMode){const H=n.samplingMode;y&&y.samplingMode!==H&&y.updateSamplingMode(H)}if(y&&n.animations)for(let H=0;H<n.animations.length;H++){const o=n.animations[H],G=(0,B.e)("BABYLON.Animation");G&&y.animations.push(G.Parse(o))}y&&y._texture&&(o&&!G&&y._texture._setUniqueId(n.internalTextureUniqueId),y._texture.label=n.internalTextureLabel)};return l.c.Parse((()=>{let o=!0;if(n.noMipmap&&(o=!1),n.mirrorPlane){const H=v._CreateMirror(n.name,n.renderTargetSize,y,o);return H._waitingRenderList=n.renderList,H.mirrorPlane=A.b.gy(n.mirrorPlane),h(H),H}if(n.isRenderTarget){let H=null;if(n.isCube){if(y.reflectionProbes)for(let o=0;o<y.reflectionProbes.length;o++){const H=y.reflectionProbes[o];if(H.name===n.name)return H.cubeTexture}}else H=v._CreateRenderTargetTexture(n.name,n.renderTargetSize,y,o,n._creationFlags??0),H._waitingRenderList=n.renderList;return h(H),H}if(n.isVideo){const G=v._CreateVideoTexture(H+(n.url||n.name),H+(n.src||n.url),y,o,n.invertY,n.samplingMode,n.settings||{});return h(G),G}{let k;if(n.base64String&&!G)k=v.CreateFromBase64String(n.base64String,n.base64String,y,!o,n.invertY,n.samplingMode,(()=>{h(k)}),n._creationFlags??0,n._useSRGBBuffer??!1),k.name=n.name;else{let i;i=n.name&&(n.name.indexOf("://")>0||n.name.startsWith("data:"))?n.name:H+n.name,n.url&&(n.url.startsWith("data:")||v.UseSerializedUrlIfAny)&&(i=n.url);const B={noMipmap:!o,invertY:n.invertY,samplingMode:n.samplingMode,L:()=>{h(k)},internalTexture:G};k=new v(i,y,B)}return k}}),n,y)}static CreateFromBase64String(n,y,H,o,G){let h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:v.TRILINEAR_SAMPLINGMODE;return new v("data:"+y,H,o,G,h,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,n,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(n,y,H){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],G=arguments.length>4?arguments[4]:void 0,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],k=arguments.length>6&&void 0!==arguments[6]?arguments[6]:v.TRILINEAR_SAMPLINGMODE,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,B=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,V=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,q=arguments.length>10?arguments[10]:void 0,b=arguments.length>11?arguments[11]:void 0;return"data:"!==n.substring(0,5)&&(n="data:"+n),new v(n,H,G,h,k,i,B,y,o,V,void 0,void 0,q,b)}}v.SerializeBuffers=!0,v.ForceSerializeBuffers=!1,v.OnTextureLoadErrorObservable=new h.c,v._SerializeInternalTextureUniqueId=!1,v._CubeTextureParser=(n,y,H)=>{throw(0,V.c)("CubeTexture")},v._CreateMirror=(n,y,H,o)=>{throw(0,V.c)("MirrorTexture")},v._CreateRenderTargetTexture=(n,y,H,o,G)=>{throw(0,V.c)("RenderTargetTexture")},v.NEAREST_SAMPLINGMODE=1,v.NEAREST_NEAREST_MIPLINEAR=8,v.BILINEAR_SAMPLINGMODE=2,v.LINEAR_LINEAR_MIPNEAREST=11,v.TRILINEAR_SAMPLINGMODE=3,v.LINEAR_LINEAR_MIPLINEAR=3,v.NEAREST_NEAREST_MIPNEAREST=4,v.NEAREST_LINEAR_MIPNEAREST=5,v.NEAREST_LINEAR_MIPLINEAR=6,v.NEAREST_LINEAR=7,v.NEAREST_NEAREST=1,v.LINEAR_NEAREST_MIPNEAREST=9,v.LINEAR_NEAREST_MIPLINEAR=10,v.LINEAR_LINEAR=2,v.LINEAR_NEAREST=12,v.EXPLICIT_MODE=0,v.SPHERICAL_MODE=1,v.PLANAR_MODE=2,v.CUBIC_MODE=3,v.PROJECTION_MODE=4,v.SKYBOX_MODE=5,v.INVCUBIC_MODE=6,v.EQUIRECTANGULAR_MODE=7,v.FIXED_EQUIRECTANGULAR_MODE=8,v.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,v.CLAMP_ADDRESSMODE=0,v.WRAP_ADDRESSMODE=1,v.MIRROR_ADDRESSMODE=2,v.UseSerializedUrlIfAny=!1,(0,o.e)([(0,G.J)()],v.prototype,"url",void 0),(0,o.e)([(0,G.J)()],v.prototype,"uOffset",void 0),(0,o.e)([(0,G.J)()],v.prototype,"vOffset",void 0),(0,o.e)([(0,G.J)()],v.prototype,"uScale",void 0),(0,o.e)([(0,G.J)()],v.prototype,"vScale",void 0),(0,o.e)([(0,G.J)()],v.prototype,"uAng",void 0),(0,o.e)([(0,G.J)()],v.prototype,"vAng",void 0),(0,o.e)([(0,G.J)()],v.prototype,"wAng",void 0),(0,o.e)([(0,G.J)()],v.prototype,"uRotationCenter",void 0),(0,o.e)([(0,G.J)()],v.prototype,"vRotationCenter",void 0),(0,o.e)([(0,G.J)()],v.prototype,"wRotationCenter",void 0),(0,o.e)([(0,G.J)()],v.prototype,"homogeneousRotationInUVTransform",void 0),(0,o.e)([(0,G.J)()],v.prototype,"isBlocking",null),(0,B.h)("BABYLON.Texture",v),l.c._TextureParser=v.Parse},11342:(n,y,H)=>{H.d(y,{b:()=>G});var o=H(11288);class G{constructor(n,y,H,G){this.normal=new o.zy(n,y,H),this.d=G}Ui(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new G(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let n=this.normal.getHashCode();return n=397*n^this.d,n}normalize(){const n=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let y=0;return 0!==n&&(y=1/n),this.normal.x*=y,this.normal.y*=y,this.normal.z*=y,this.d*=y,this}transform(n){const y=G._TmpMatrix;n.invertToRef(y);const H=y.m,o=this.normal.x,h=this.normal.y,k=this.normal.z,i=this.d,B=o*H[0]+h*H[1]+k*H[2]+i*H[3],V=o*H[4]+h*H[5]+k*H[6]+i*H[7],q=o*H[8]+h*H[9]+k*H[10]+i*H[11],b=o*H[12]+h*H[13]+k*H[14]+i*H[15];return new G(B,V,q,b)}dotCoordinate(n){return this.normal.x*n.x+this.normal.y*n.y+this.normal.z*n.z+this.d}copyFromPoints(n,y,H){const o=y.x-n.x,G=y.y-n.y,h=y.z-n.z,k=H.x-n.x,i=H.y-n.y,B=H.z-n.z,V=G*B-h*i,q=h*k-o*B,b=o*i-G*k,A=Math.sqrt(V*V+q*q+b*b);let U;return U=0!==A?1/A:0,this.normal.x=V*U,this.normal.y=q*U,this.normal.z=b*U,this.d=-(this.normal.x*n.x+this.normal.y*n.y+this.normal.z*n.z),this}isFrontFacingTo(n,y){return o.zy.Dot(this.normal,n)<=y}signedDistanceTo(n){return o.zy.Dot(n,this.normal)+this.d}static gy(n){return new G(n[0],n[1],n[2],n[3])}static FromPoints(n,y,H){const o=new G(0,0,0,0);return o.copyFromPoints(n,y,H),o}static FromPositionAndNormal(n,y){const H=new G(0,0,0,0);return this.FromPositionAndNormalToRef(n,y,H)}static FromPositionAndNormalToRef(n,y,H){return H.normal.B(y),H.normal.normalize(),H.d=-n.dot(H.normal),H}static SignedDistanceToPlaneFromPositionAndNormal(n,y,H){const G=-(y.x*n.x+y.y*n.y+y.z*n.z);return o.zy.Dot(H,y)+G}}G._TmpMatrix=o.Matrix.Identity()},11318:(n,y,H)=>{H.d(y,{e:()=>o});class o{constructor(n,y){this.width=n,this.height=y}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let n=0|this.width;return n=397*n^this.height,n}B(n){this.width=n.width,this.height=n.height}Mi(n,y){return this.width=n,this.height=y,this}set(n,y){return this.Mi(n,y)}multiplyByFloats(n,y){return new o(this.width*n,this.height*y)}clone(){return new o(this.width,this.height)}equals(n){return!!n&&(this.width===n.width&&this.height===n.height)}get surface(){return this.width*this.height}static Zero(){return new o(0,0)}add(n){return new o(this.width+n.width,this.height+n.height)}Qy(n){return new o(this.width-n.width,this.height-n.height)}scale(n){return new o(this.width*n,this.height*n)}static Lerp(n,y,H){const G=n.width+(y.width-n.width)*H,h=n.height+(y.height-n.height)*H;return new o(G,h)}}},11283:(n,y,H)=>{H.d(y,{d:()=>h,g:()=>k});const o={},G={};function h(n){const y=n.getClassName();return G[y]||(G[y]={}),G[y]}function k(n){const y=n.getClassName();if(o[y])return o[y];o[y]={};const H=o[y];let h=n,k=y;for(;k;){const n=G[k];for(const G in n)H[G]=n[G];let y,o=!1;do{if(y=Object.getPrototypeOf(h),!y.getClassName){o=!0;break}if(y.getClassName()!==k)break;h=y}while(y);if(o)break;k=y.getClassName(),h=y}return H}},11280:(n,y,H)=>{H.d(y,{A:()=>i,E:()=>q,F:()=>b,J:()=>k,c:()=>h,e:()=>l,f:()=>U,i:()=>B,j:()=>T,n:()=>V,r:()=>W,t:()=>Q,w:()=>A,y:()=>z});var o=H(11283);function G(n,y){return(H,G)=>{const h=(0,o.d)(H);h[G]||(h[G]={type:n,sourceName:y})}}function h(n){return function(n){let y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(H,o)=>{const G=y||"_"+o;Object.defineProperty(H,o,{get:function(){return this[G]},set:function(y){var o;"function"===typeof(null===(o=this[G])||void 0===o?void 0:o.equals)&&this[G].equals(y)||this[G]!==y&&(this[G]=y,H[n].apply(this))},enumerable:!0,configurable:!0})}}(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function k(n){return G(0,n)}function i(n){return G(1,n)}function B(n){return G(2,n)}function V(n){return G(3,n)}function q(n){return G(4,n)}function b(n){return G(5,n)}function A(n){return G(6,n)}function U(n){return G(7,n)}function T(n){return G(8,n)}function W(n){return G(9,n)}function z(n){return G(10,n)}function Q(n){return G(12,n)}function l(n,y,H,o){const G=H.value;H.value=function(){let H=G;if("undefined"!==typeof _native&&_native[y]){const n=_native[y];H=o?function(){return o(...arguments)?n(...arguments):G(...arguments)}:n}return n[y]=H,H(...arguments)}}l.filter=function(n){return(y,H,o)=>l(y,H,o,n)}},11325:(n,y,H)=>{H.d(y,{c:()=>V});var o=H(11134),G=H(11328),h=H(11335),k=H(11288),i=H(11283);const B=function(n,y,H){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const h=n();G.d&&G.d.HasTags(y)&&G.d.AddTagsTo(h,G.d.GetTags(y,!0));const k=(0,i.g)(h),B={};for(const G in k){const n=k[G],i=y[G],q=n.type;if(void 0!==i&&null!==i&&("uniqueId"!==G||V.AllowLoadingUniqueId))switch(q){case 0:case 6:case 9:case 11:h[G]=i;break;case 1:o.cloneTexturesOnlyOnce&&B[i.uniqueId]?h[G]=B[i.uniqueId]:(h[G]=H||i.isRenderTarget?i:i.clone(),B[i.uniqueId]=h[G]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:h[G]=H?i:i.clone()}}return h};class V{static AppendSerializedAnimations(n,y){if(n.animations){y.animations=[];for(let H=0;H<n.animations.length;H++){const o=n.animations[H];y.animations.push(o.serialize())}}}static Serialize(n,y){y||(y={}),G.d&&(y.tags=G.d.GetTags(n));const H=(0,i.g)(n);for(const o in H){const G=H[o],h=G.sourceName||o,k=G.type,i=n[o];if(void 0!==i&&null!==i&&("uniqueId"!==o||V.AllowLoadingUniqueId))switch(k){case 0:y[h]=i;break;case 1:case 3:case 7:case 9:y[h]=i.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:y[h]=i.Ui();break;case 6:case 11:y[h]=i.id}}return y}static ParseProperties(n,y,H,o){o||(o="");const G=(0,i.g)(y);for(const i in G){const B=G[i],q=n[B.sourceName||i],b=B.type;if(void 0!==q&&null!==q&&("uniqueId"!==i||V.AllowLoadingUniqueId)){const n=y;switch(b){case 0:n[i]=q;break;case 1:H&&(n[i]=V._TextureParser(q,H,o));break;case 2:n[i]=h.Fy.gy(q);break;case 3:n[i]=V._FresnelParametersParser(q);break;case 4:n[i]=k.Vector2.gy(q);break;case 5:n[i]=k.zy.gy(q);break;case 6:H&&(n[i]=H.getLastMeshById(q));break;case 7:n[i]=V._ColorCurvesParser(q);break;case 8:n[i]=h.pi.gy(q);break;case 9:n[i]=V._ImageProcessingConfigurationParser(q);break;case 10:n[i]=k.Quaternion.gy(q);break;case 11:H&&(n[i]=H.getCameraById(q));break;case 12:n[i]=k.Matrix.gy(q)}}}}static Parse(n,y,H){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const h=n();return G.d&&G.d.AddTagsTo(h,y.tags),V.ParseProperties(y,h,H,o),h}static Clone(n,y){return B(n,y,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(n,y){return B(n,y,!0)}}V.AllowLoadingUniqueId=!1,V._ImageProcessingConfigurationParser=n=>{throw(0,o.c)("ImageProcessingConfiguration")},V._FresnelParametersParser=n=>{throw(0,o.c)("FresnelParameters")},V._ColorCurvesParser=n=>{throw(0,o.c)("ColorCurves")},V._TextureParser=(n,y,H)=>{throw(0,o.c)("Texture")}},11328:(n,y,H)=>{H.d(y,{d:()=>G});class o{static Eval(n,y){return"true"===(n=n.match(/\([^()]*\)/g)?n.replace(/\([^()]*\)/g,(n=>(n=n.slice(1,n.length-1),o._HandleParenthesisContent(n,y)))):o._HandleParenthesisContent(n,y))||"false"!==n&&o.Eval(n,y)}static _HandleParenthesisContent(n,y){let H;y=y||(n=>"true"===n);const G=n.split("||");for(const h in G)if(Object.prototype.hasOwnProperty.call(G,h)){let n=o._SimplifyNegation(G[h].trim());const k=n.split("&&");if(k.length>1)for(let G=0;G<k.length;++G){const h=o._SimplifyNegation(k[G].trim());if(H="true"!==h&&"false"!==h?"!"===h[0]?!y(h.substring(1)):y(h):"true"===h,!H){n="false";break}}if(H||"true"===n){H=!0;break}H="true"!==n&&"false"!==n?"!"===n[0]?!y(n.substring(1)):y(n):"true"===n}return H?"true":"false"}static _SimplifyNegation(n){return"!true"===(n=(n=n.replace(/^[\s!]+/,(n=>(n=n.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?n="false":"!false"===n&&(n="true"),n}}class G{static EnableFor(n){n._tags=n._tags||{},n.hasTags=()=>G.HasTags(n),n.addTags=y=>G.AddTagsTo(n,y),n.removeTags=y=>G.RemoveTagsFrom(n,y),n.matchesTagsQuery=y=>G.MatchesQuery(n,y)}static DisableFor(n){delete n._tags,delete n.hasTags,delete n.addTags,delete n.removeTags,delete n.matchesTagsQuery}static HasTags(n){if(!n._tags)return!1;const y=n._tags;for(const H in y)if(Object.prototype.hasOwnProperty.call(y,H))return!0;return!1}static GetTags(n){let y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!n._tags)return null;if(y){const y=[];for(const H in n._tags)Object.prototype.hasOwnProperty.call(n._tags,H)&&!0===n._tags[H]&&y.push(H);return y.join(" ")}return n._tags}static AddTagsTo(n,y){if(!y)return;if("string"!==typeof y)return;const H=y.split(" ");for(const o of H)G._AddTagTo(n,o)}static _AddTagTo(n,y){""!==(y=y.trim())&&"true"!==y&&"false"!==y&&(y.match(/[\s]/)||y.match(/^([!]|([|]|[&]){2})/)||(G.EnableFor(n),n._tags[y]=!0))}static RemoveTagsFrom(n,y){if(!G.HasTags(n))return;const H=y.split(" ");for(const o in H)G._RemoveTagFrom(n,H[o])}static _RemoveTagFrom(n,y){delete n._tags[y]}static MatchesQuery(n,y){return void 0===y||(""===y?G.HasTags(n):o.Eval(y,(y=>G.HasTags(n)&&n._tags[y])))}}},11278:(n,y,H)=>{H.d(y,{e:()=>o});function o(n,y,H,o){var G,h=arguments.length,k=h<3?y:null===o?o=Object.getOwnPropertyDescriptor(y,H):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)k=Reflect.decorate(n,y,H,o);else for(var i=n.length-1;i>=0;i--)(G=n[i])&&(k=(h<3?G(k):h>3?G(y,H,k):G(y,H))||k);return h>3&&k&&Object.defineProperty(y,H,k),k}Object.create;Object.create}}]);