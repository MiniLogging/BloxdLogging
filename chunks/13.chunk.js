"use strict";(self["5dou0t7wntc"]=self["5dou0t7wntc"]||[]).push([[13],{11777:(K,O,F)=>{F.d(O,{b:()=>f});let f=!1},11742:(K,O,F)=>{F.d(O,{c:()=>j});var f=F(11693),r=F(11698),l=F(11523),q=F(11713),J=F(11559),c=F(11664),E=(F(11565),F(11751));class M{get wrapU(){return this._wrapU}set wrapU(K){this._wrapU=K}get wrapV(){return this._wrapV}set wrapV(K){this._wrapV=K}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(K){this._texture&&(this._texture.isCube=K)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(K){this._texture&&(this._texture.is3D=K)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(K){this._texture&&(this._texture.is2DArray=K)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(K){return void 0!==(null===K||void 0===K?void 0:K.shareDepth)}constructor(K){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=E.e.Zero(),this._cachedBaseSize=E.e.Zero(),this._initialSamplingMode=2,this._texture=M._IsRenderTargetWrapper(K)?K.texture:K,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(K){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(K,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var t=F(11753);class j extends M{set bf(K){this._hasAlpha!==K&&(this._hasAlpha=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get bf(){return this._hasAlpha}set getAlphaFromRGB(K){this._getAlphaFromRGB!==K&&(this._getAlphaFromRGB=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(K){this._coordinatesIndex!==K&&(this._coordinatesIndex=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(K){this._coordinatesMode!==K&&(this._coordinatesMode=K,this._scene&&this._scene.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(K){this._wrapU=K}get wrapV(){return this._wrapV}set wrapV(K){this._wrapV=K}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(K){this._texture?this._texture.isCube=K:this._isCube=K}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(K){this._texture&&(this._texture.is3D=K)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(K){this._texture&&(this._texture.is2DArray=K)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(K){var O;if(this._texture){if(this._texture._gammaSpace===K)return;this._texture._gammaSpace=K}else{if(this._gammaSpace===K)return;this._gammaSpace=K}null===(O=this.HK())||void 0===O||O.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(K){var O;K!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=K),null===(O=this.HK())||void 0===O||O.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(K){this._texture&&(this._texture._lodGenerationOffset=K)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(K){this._texture&&(this._texture._lodGenerationScale=K)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(K){this._texture&&(this._texture._linearSpecularLOD=K)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(K){this._texture&&(this._texture._irradianceTexture=K)}get uid(){return this._uid||(this._uid=(0,c.d)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(K){this._onDisposeObserver&&this.Wf.remove(this._onDisposeObserver),this._onDisposeObserver=this.Wf.add(K)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Wf=new l.c,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,K?j._IsScene(K)?this._scene=K:this._engine=K:this._scene=J.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=O,this._uid=null}HK(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(K){}get canRescale(){return!1}_getFromCache(K,O,F,f,r,l){const q=this._getEngine();if(!q)return null;const J=q._getUseSRGBBuffer(!!r,O),c=q.getLoadedTexturesCache();for(let E=0;E<c.length;E++){const q=c[E];if((void 0===r||J===q._useSRGBBuffer)&&(void 0===f||f===q.invertY)&&q.url===K&&q.generateMipMaps===!O&&(!F||F===q.samplingMode)&&(void 0===l||l===q.isCube))return q.incrementReferences(),q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const K=this.HK();K&&K.markAllMaterialsAsDirty(1)}readPixels(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const E=this._getEngine();if(!E)return null;const M=this.getSize();let t=M.width,j=M.height;0!==O&&(t/=Math.pow(2,O),j/=Math.pow(2,O),t=Math.round(t),j=Math.round(j)),J=Math.min(t,J),c=Math.min(j,c);try{return this._texture.isCube?E._readTexturePixels(this._texture,J,c,K,O,F,f,r,l,q):E._readTexturePixels(this._texture,J,c,-1,O,F,f,r,l,q)}catch(X){return null}}_readPixelsSync(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const l=this.getSize();let q=l.width,J=l.height;const c=this._getEngine();if(!c)return null;0!=O&&(q/=Math.pow(2,O),J/=Math.pow(2,O),q=Math.round(q),J=Math.round(J));try{return this._texture.isCube?c._readTexturePixelsSync(this._texture,q,J,K,O,F,f,r):c._readTexturePixelsSync(this._texture,q,J,-1,O,F,f,r)}catch(E){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const K=this._scene.textures.indexOf(this);if(K>=0&&this._scene.textures.splice(K,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const K=this._parentContainer.textures.indexOf(this);K>-1&&this._parentContainer.textures.splice(K,1),this._parentContainer=null}}this.Wf.notifyObservers(this),this.Wf.clear(),this.metadata=null,super.dispose()}serialize(){let K=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!K)return null;const O=t.e.Serialize(this);return t.e.AppendSerializedAnimations(this,O),O}static WhenAllReady(K,O){let F=K.length;if(0!==F)for(let f=0;f<K.length;f++){const r=K[f];if(r.isReady())0===--F&&O();else{const K=r.onLoadObservable;K?K.addOnce((()=>{0===--F&&O()})):0===--F&&O()}}else O()}static _IsScene(K){return"Scene"===K.getClassName()}}j.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,f.c)([(0,r.N)()],j.prototype,"uniqueId",void 0),(0,f.c)([(0,r.N)()],j.prototype,"name",void 0),(0,f.c)([(0,r.N)()],j.prototype,"displayName",void 0),(0,f.c)([(0,r.N)()],j.prototype,"metadata",void 0),(0,f.c)([(0,r.N)("bf")],j.prototype,"_hasAlpha",void 0),(0,f.c)([(0,r.N)("getAlphaFromRGB")],j.prototype,"_getAlphaFromRGB",void 0),(0,f.c)([(0,r.N)()],j.prototype,"level",void 0),(0,f.c)([(0,r.N)("coordinatesIndex")],j.prototype,"_coordinatesIndex",void 0),(0,f.c)([(0,r.N)()],j.prototype,"optimizeUVAllocation",void 0),(0,f.c)([(0,r.N)("coordinatesMode")],j.prototype,"_coordinatesMode",void 0),(0,f.c)([(0,r.N)()],j.prototype,"wrapU",null),(0,f.c)([(0,r.N)()],j.prototype,"wrapV",null),(0,f.c)([(0,r.N)()],j.prototype,"wrapR",void 0),(0,f.c)([(0,r.N)()],j.prototype,"anisotropicFilteringLevel",void 0),(0,f.c)([(0,r.N)()],j.prototype,"isCube",null),(0,f.c)([(0,r.N)()],j.prototype,"is3D",null),(0,f.c)([(0,r.N)()],j.prototype,"is2DArray",null),(0,f.c)([(0,r.N)()],j.prototype,"gammaSpace",null),(0,f.c)([(0,r.N)()],j.prototype,"invertZ",void 0),(0,f.c)([(0,r.N)()],j.prototype,"lodLevelInAlpha",void 0),(0,f.c)([(0,r.N)()],j.prototype,"lodGenerationOffset",null),(0,f.c)([(0,r.N)()],j.prototype,"lodGenerationScale",null),(0,f.c)([(0,r.N)()],j.prototype,"linearSpecularLOD",null),(0,f.c)([(0,r.F)()],j.prototype,"irradianceTexture",null),(0,f.c)([(0,r.N)()],j.prototype,"isRenderTarget",void 0)},11688:(K,O,F)=>{F.d(O,{b:()=>Z});var f=F(11693),r=F(11698),l=F(11523),q=F(11713),J=F(11742),c=F(11661),E=F(11546),M=F(11588),t=F(11658),j=F(11773),X=F(11569);function u(K,O){let F=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const f=O.width,r=O.height;if(K instanceof Float32Array){let O=K.byteLength/K.BYTES_PER_ELEMENT;const F=new Uint8Array(O);for(;--O>=0;){let f=K[O];f<0?f=0:f>1&&(f=1),F[O]=255*f}K=F}const l=document.createElement("canvas");l.width=f,l.height=r;const q=l.getContext("2d");if(!q)return null;const J=q.createImageData(f,r);if(J.data.set(K),q.putImageData(J,0,0),F){const K=document.createElement("canvas");K.width=f,K.height=r;const O=K.getContext("2d");return O?(O.translate(0,r),O.scale(1,-1),O.drawImage(l,0,0),K.toDataURL("image/png")):null}return l.toDataURL("image/png")}function T(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const f=K.getInternalTexture();if(!f)return null;const r=K._readPixelsSync(O,F);return r?u(r,K.getSize(),f.invertY):null}async function o(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const f=K.getInternalTexture();if(!f)return null;const r=await K.readPixels(O,F);return r?u(r,K.getSize(),f.invertY):null}var k=F(11777),N=F(11753);class Z extends J.c{static _CreateVideoTexture(K,O,F){arguments.length>5&&void 0!==arguments[5]||Z.TRILINEAR_SAMPLINGMODE;throw(0,E.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(K){this._isBlocking=K}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(K,O,F,f){let r,q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z.TRILINEAR_SAMPLINGMODE,J=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,E=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,t=arguments.length>8&&void 0!==arguments[8]&&arguments[8],j=arguments.length>9?arguments[9]:void 0,X=arguments.length>10?arguments[10]:void 0,u=arguments.length>11?arguments[11]:void 0,T=arguments.length>12?arguments[12]:void 0,o=arguments.length>13?arguments[13]:void 0;super(O),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new l.c,this._isBlocking=!0,this.name=K||"",this.url=K;let N=!1,L=null,d=!0;"object"===typeof F&&null!==F?(r=F.noMipmap??!1,f=F.invertY??!k.b,q=F.samplingMode??Z.TRILINEAR_SAMPLINGMODE,J=F.U??null,c=F.onError??null,E=F.buffer??null,t=F.deleteBuffer??!1,j=F.format,X=F.mimeType,u=F.loaderOptions,T=F.creationFlags,N=F.useSRGBBuffer??!1,L=F.internalTexture??null,d=F.gammaSpace??d,o=F.forcedExtension??o):r=!!F,this._gammaSpace=d,this._noMipmap=r,this._invertY=void 0===f?!k.b:f,this._initialSamplingMode=q,this._buffer=E,this._deleteBuffer=t,this._mimeType=X,this._loaderOptions=u,this._creationFlags=T,this._useSRGBBuffer=N,this._forcedExtension=o,void 0!==j&&(this._format=j);const a=this.HK(),g=this._getEngine();if(!g)return;g.onBeforeTextureInitObservable.notifyObservers(this);const H=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),J&&J(),!this.isBlocking&&a&&a.resetCachedMaterial()},e=(K,O)=>{this._loadingError=!0,this._errorObject={message:K,exception:O},c&&c(K,O),Z.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!L)return this._delayedOnLoad=H,void(this._delayedOnError=e);if(this._texture=L??this._getFromCache(this.url,r,q,this._invertY,N,this.isCube),this._texture)if(this._texture.isReady)M.c.SetImmediate((()=>H()));else{const K=this._texture.onLoadedObservable.add(H);this._texture.onErrorObservable.add((O=>{var F;e(O.message,O.exception),null===(F=this._texture)||void 0===F||F.onLoadedObservable.remove(K)}))}else if(a&&a.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=H,this._delayedOnError=e;else{try{this._texture=g.createTexture(this.url,r,this._invertY,a,q,H,e,this._buffer,void 0,this._format,this._forcedExtension,X,u,T,N)}catch(W){throw e("error loading",W),W}t&&(this._buffer=null)}}updateURL(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,F=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.HK().markAllMaterialsAsDirty(1,(K=>K.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=K),this.url=K,this._buffer=O,this._forcedExtension=f,this.delayLoadState=4,F&&(this._delayedOnLoad=F),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const K=this.HK();K&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?M.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=K.getEngine().createTexture(this.url,this._noMipmap,this._invertY,K,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(K,O,F,f){K*=this._cachedUScale,O*=this._cachedVScale,K-=this.uRotationCenter*this._cachedUScale,O-=this.vRotationCenter*this._cachedVScale,F-=this.wRotationCenter,q.TO.TransformCoordinatesFromFloatsToRef(K,O,F,this._rowGenerationMatrix,f),f.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,f.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,f.z+=this.wRotationCenter}getTextureMatrix(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*K===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*K,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=q.Matrix.Zero(),this._rowGenerationMatrix=new q.Matrix,this._t0=q.TO.Zero(),this._t1=q.TO.Zero(),this._t2=q.TO.Zero()),q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,q.TmpVectors.Matrix[0]),q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,q.TmpVectors.Matrix[1]),q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,q.TmpVectors.Matrix[2]),q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,q.TmpVectors.Matrix[3]),q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Qt(this._t0),this._t2.Qt(this._t0),q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const O=this.HK();if(!O)return this._cachedTextureMatrix;const F=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&F!==this._cachedIdentity3x2&&O.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const K=this.HK();if(!K)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==Z.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===K.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=q.Matrix.Zero());const O=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case Z.PLANAR_MODE:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case Z.PROJECTION_MODE:{q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const O=K.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=O.updateFlag,O.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return O&&K.markAllMaterialsAsDirty(1,(K=>K.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const K={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,U:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return N.e.Clone((()=>new Z(this._texture?this._texture.url:null,this.HK(),K)),this)}serialize(){var K;const O=this.name;Z.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const F=super.serialize(Z._SerializeInternalTextureUniqueId);if(!F)return null;if(Z.SerializeBuffers||Z.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))F.base64String=this._buffer,F.name=F.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const K=this.mimeType||"image/png";F.base64String=`data:${K};base64,${(0,X.j)(this._buffer)}`}else(Z.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(F.base64String=!this._engine||this._engine._features.supportSyncTextureRead?T(this):o(this));var f;(F.invertY=this._invertY,F.samplingMode=this.samplingMode,F._creationFlags=this._creationFlags,F._useSRGBBuffer=this._useSRGBBuffer,Z._SerializeInternalTextureUniqueId)&&(F.internalTextureUniqueId=null===(f=this._texture)||void 0===f?void 0:f.uniqueId);return F.internalTextureLabel=null===(K=this._texture)||void 0===K?void 0:K.label,F.noMipmap=this._noMipmap,this.name=O,F}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(K,O,F){if(K.customType){const f=t.b.Instantiate(K.customType).Parse(K,O,F);return K.samplingMode&&f.updateSamplingMode&&f._samplingMode&&f._samplingMode!==K.samplingMode&&f.updateSamplingMode(K.samplingMode),f}if(K.isCube&&!K.isRenderTarget)return Z._CubeTextureParser(K,O,F);const f=void 0!==K.internalTextureUniqueId;if(!K.name&&!K.isRenderTarget&&!f)return null;let r;if(f){const F=O.getEngine().getLoadedTexturesCache();for(const O of F)if(O.uniqueId===K.internalTextureUniqueId){r=O;break}}const l=O=>{if(O&&O._texture&&(O._texture._cachedWrapU=null,O._texture._cachedWrapV=null,O._texture._cachedWrapR=null),K.samplingMode){const F=K.samplingMode;O&&O.samplingMode!==F&&O.updateSamplingMode(F)}if(O&&K.animations)for(let F=0;F<K.animations.length;F++){const f=K.animations[F],r=(0,c.d)("BABYLON.Animation");r&&O.animations.push(r.Parse(f))}O&&O._texture&&(f&&!r&&O._texture._setUniqueId(K.internalTextureUniqueId),O._texture.label=K.internalTextureLabel)};return N.e.Parse((()=>{let f=!0;if(K.noMipmap&&(f=!1),K.mirrorPlane){const F=Z._CreateMirror(K.name,K.renderTargetSize,O,f);return F._waitingRenderList=K.renderList,F.mirrorPlane=j.b.LO(K.mirrorPlane),l(F),F}if(K.isRenderTarget){let F=null;if(K.isCube){if(O.reflectionProbes)for(let f=0;f<O.reflectionProbes.length;f++){const F=O.reflectionProbes[f];if(F.name===K.name)return F.cubeTexture}}else F=Z._CreateRenderTargetTexture(K.name,K.renderTargetSize,O,f,K._creationFlags??0),F._waitingRenderList=K.renderList;return l(F),F}if(K.isVideo){const r=Z._CreateVideoTexture(F+(K.url||K.name),F+(K.src||K.url),O,f,K.invertY,K.samplingMode,K.settings||{});return l(r),r}{let q;if(K.base64String&&!r)q=Z.CreateFromBase64String(K.base64String,K.base64String,O,!f,K.invertY,K.samplingMode,(()=>{l(q)}),K._creationFlags??0,K._useSRGBBuffer??!1),q.name=K.name;else{let J;J=K.name&&(K.name.indexOf("://")>0||K.name.startsWith("data:"))?K.name:F+K.name,K.url&&(K.url.startsWith("data:")||Z.UseSerializedUrlIfAny)&&(J=K.url);const c={noMipmap:!f,invertY:K.invertY,samplingMode:K.samplingMode,U:()=>{l(q)},internalTexture:r};q=new Z(J,O,c)}return q}}),K,O)}static CreateFromBase64String(K,O,F,f,r){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z.TRILINEAR_SAMPLINGMODE;return new Z("data:"+O,F,f,r,l,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,K,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(K,O,F){let f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Z.TRILINEAR_SAMPLINGMODE,J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,E=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,M=arguments.length>10?arguments[10]:void 0,t=arguments.length>11?arguments[11]:void 0;return"data:"!==K.substring(0,5)&&(K="data:"+K),new Z(K,F,r,l,q,J,c,O,f,E,void 0,void 0,M,t)}}Z.SerializeBuffers=!0,Z.ForceSerializeBuffers=!1,Z.OnTextureLoadErrorObservable=new l.c,Z._SerializeInternalTextureUniqueId=!1,Z._CubeTextureParser=(K,O,F)=>{throw(0,E.d)("CubeTexture")},Z._CreateMirror=(K,O,F,f)=>{throw(0,E.d)("MirrorTexture")},Z._CreateRenderTargetTexture=(K,O,F,f,r)=>{throw(0,E.d)("RenderTargetTexture")},Z.NEAREST_SAMPLINGMODE=1,Z.NEAREST_NEAREST_MIPLINEAR=8,Z.BILINEAR_SAMPLINGMODE=2,Z.LINEAR_LINEAR_MIPNEAREST=11,Z.TRILINEAR_SAMPLINGMODE=3,Z.LINEAR_LINEAR_MIPLINEAR=3,Z.NEAREST_NEAREST_MIPNEAREST=4,Z.NEAREST_LINEAR_MIPNEAREST=5,Z.NEAREST_LINEAR_MIPLINEAR=6,Z.NEAREST_LINEAR=7,Z.NEAREST_NEAREST=1,Z.LINEAR_NEAREST_MIPNEAREST=9,Z.LINEAR_NEAREST_MIPLINEAR=10,Z.LINEAR_LINEAR=2,Z.LINEAR_NEAREST=12,Z.EXPLICIT_MODE=0,Z.SPHERICAL_MODE=1,Z.PLANAR_MODE=2,Z.CUBIC_MODE=3,Z.PROJECTION_MODE=4,Z.SKYBOX_MODE=5,Z.INVCUBIC_MODE=6,Z.EQUIRECTANGULAR_MODE=7,Z.FIXED_EQUIRECTANGULAR_MODE=8,Z.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Z.CLAMP_ADDRESSMODE=0,Z.WRAP_ADDRESSMODE=1,Z.MIRROR_ADDRESSMODE=2,Z.UseSerializedUrlIfAny=!1,(0,f.c)([(0,r.N)()],Z.prototype,"url",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"uOffset",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"vOffset",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"uScale",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"vScale",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"uAng",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"vAng",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"wAng",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"uRotationCenter",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"vRotationCenter",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"wRotationCenter",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"homogeneousRotationInUVTransform",void 0),(0,f.c)([(0,r.N)()],Z.prototype,"isBlocking",null),(0,c.g)("BABYLON.Texture",Z),N.e._TextureParser=Z.Parse},11773:(K,O,F)=>{F.d(O,{b:()=>r});var f=F(11713);class r{constructor(K,O,F,r){this.normal=new f.TO(K,O,F),this.d=r}hf(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new r(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let K=this.normal.getHashCode();return K=397*K^this.d,K}normalize(){const K=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let O=0;return 0!==K&&(O=1/K),this.normal.x*=O,this.normal.y*=O,this.normal.z*=O,this.d*=O,this}transform(K){const O=r._TmpMatrix;K.invertToRef(O);const F=O.m,f=this.normal.x,l=this.normal.y,q=this.normal.z,J=this.d,c=f*F[0]+l*F[1]+q*F[2]+J*F[3],E=f*F[4]+l*F[5]+q*F[6]+J*F[7],M=f*F[8]+l*F[9]+q*F[10]+J*F[11],t=f*F[12]+l*F[13]+q*F[14]+J*F[15];return new r(c,E,M,t)}dotCoordinate(K){return this.normal.x*K.x+this.normal.y*K.y+this.normal.z*K.z+this.d}copyFromPoints(K,O,F){const f=O.x-K.x,r=O.y-K.y,l=O.z-K.z,q=F.x-K.x,J=F.y-K.y,c=F.z-K.z,E=r*c-l*J,M=l*q-f*c,t=f*J-r*q,j=Math.sqrt(E*E+M*M+t*t);let X;return X=0!==j?1/j:0,this.normal.x=E*X,this.normal.y=M*X,this.normal.z=t*X,this.d=-(this.normal.x*K.x+this.normal.y*K.y+this.normal.z*K.z),this}isFrontFacingTo(K,O){return f.TO.Dot(this.normal,K)<=O}signedDistanceTo(K){return f.TO.Dot(K,this.normal)+this.d}static LO(K){return new r(K[0],K[1],K[2],K[3])}static FromPoints(K,O,F){const f=new r(0,0,0,0);return f.copyFromPoints(K,O,F),f}static FromPositionAndNormal(K,O){const F=new r(0,0,0,0);return this.FromPositionAndNormalToRef(K,O,F)}static FromPositionAndNormalToRef(K,O,F){return F.normal.l(O),F.normal.normalize(),F.d=-K.dot(F.normal),F}static SignedDistanceToPlaneFromPositionAndNormal(K,O,F){const r=-(O.x*K.x+O.y*K.y+O.z*K.z);return f.TO.Dot(F,O)+r}}r._TmpMatrix=f.Matrix.Identity()},11751:(K,O,F)=>{F.d(O,{e:()=>f});class f{constructor(K,O){this.width=K,this.height=O}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let K=0|this.width;return K=397*K^this.height,K}l(K){this.width=K.width,this.height=K.height}eq(K,O){return this.width=K,this.height=O,this}set(K,O){return this.eq(K,O)}multiplyByFloats(K,O){return new f(this.width*K,this.height*O)}clone(){return new f(this.width,this.height)}equals(K){return!!K&&(this.width===K.width&&this.height===K.height)}get surface(){return this.width*this.height}static Zero(){return new f(0,0)}add(K){return new f(this.width+K.width,this.height+K.height)}oO(K){return new f(this.width-K.width,this.height-K.height)}scale(K){return new f(this.width*K,this.height*K)}static Lerp(K,O,F){const r=K.width+(O.width-K.width)*F,l=K.height+(O.height-K.height)*F;return new f(r,l)}}},11705:(K,O,F)=>{F.d(O,{d:()=>l,f:()=>q});const f={},r={};function l(K){const O=K.getClassName();return r[O]||(r[O]={}),r[O]}function q(K){const O=K.getClassName();if(f[O])return f[O];f[O]={};const F=f[O];let l=K,q=O;for(;q;){const K=r[q];for(const r in K)F[r]=K[r];let O,f=!1;do{if(O=Object.getPrototypeOf(l),!O.getClassName){f=!0;break}if(O.getClassName()!==q)break;l=O}while(O);if(f)break;q=O.getClassName(),l=O}return F}},11698:(K,O,F)=>{F.d(O,{B:()=>j,E:()=>o,F:()=>J,I:()=>M,K:()=>t,N:()=>q,d:()=>l,g:()=>N,j:()=>X,n:()=>c,p:()=>u,q:()=>E,u:()=>T,x:()=>k});var f=F(11705);function r(K,O){return(F,r)=>{const l=(0,f.d)(F);l[r]||(l[r]={type:K,sourceName:O})}}function l(K){return function(K){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(F,f)=>{const r=O||"_"+f;Object.defineProperty(F,f,{get:function(){return this[r]},set:function(O){var f;"function"===typeof(null===(f=this[r])||void 0===f?void 0:f.equals)&&this[r].equals(O)||this[r]!==O&&(this[r]=O,F[K].apply(this))},enumerable:!0,configurable:!0})}}(K,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function q(K){return r(0,K)}function J(K){return r(1,K)}function c(K){return r(2,K)}function E(K){return r(3,K)}function M(K){return r(4,K)}function t(K){return r(5,K)}function j(K){return r(6,K)}function X(K){return r(7,K)}function u(K){return r(8,K)}function T(K){return r(9,K)}function o(K){return r(10,K)}function k(K){return r(12,K)}function N(K,O,F,f){const r=F.value;F.value=function(){let F=r;if("undefined"!==typeof _native&&_native[O]){const K=_native[O];F=f?function(){return f(...arguments)?K(...arguments):r(...arguments)}:K}return K[O]=F,F(...arguments)}}N.filter=function(K){return(O,F,f)=>N(O,F,f,K)}},11753:(K,O,F)=>{F.d(O,{e:()=>E});var f=F(11546),r=F(11762),l=F(11764),q=F(11713),J=F(11705);const c=function(K,O,F){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l=K();r.d&&r.d.HasTags(O)&&r.d.AddTagsTo(l,r.d.GetTags(O,!0));const q=(0,J.f)(l),c={};for(const r in q){const K=q[r],J=O[r],M=K.type;if(void 0!==J&&null!==J&&("uniqueId"!==r||E.AllowLoadingUniqueId))switch(M){case 0:case 6:case 9:case 11:l[r]=J;break;case 1:f.cloneTexturesOnlyOnce&&c[J.uniqueId]?l[r]=c[J.uniqueId]:(l[r]=F||J.isRenderTarget?J:J.clone(),c[J.uniqueId]=l[r]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:l[r]=F?J:J.clone()}}return l};class E{static AppendSerializedAnimations(K,O){if(K.animations){O.animations=[];for(let F=0;F<K.animations.length;F++){const f=K.animations[F];O.animations.push(f.serialize())}}}static Serialize(K,O){O||(O={}),r.d&&(O.tags=r.d.GetTags(K));const F=(0,J.f)(K);for(const f in F){const r=F[f],l=r.sourceName||f,q=r.type,J=K[f];if(void 0!==J&&null!==J&&("uniqueId"!==f||E.AllowLoadingUniqueId))switch(q){case 0:O[l]=J;break;case 1:case 3:case 7:case 9:O[l]=J.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:O[l]=J.hf();break;case 6:case 11:O[l]=J.id}}return O}static ParseProperties(K,O,F,f){f||(f="");const r=(0,J.f)(O);for(const J in r){const c=r[J],M=K[c.sourceName||J],t=c.type;if(void 0!==M&&null!==M&&("uniqueId"!==J||E.AllowLoadingUniqueId)){const K=O;switch(t){case 0:K[J]=M;break;case 1:F&&(K[J]=E._TextureParser(M,F,f));break;case 2:K[J]=l.ZO.LO(M);break;case 3:K[J]=E._FresnelParametersParser(M);break;case 4:K[J]=q.Vector2.LO(M);break;case 5:K[J]=q.TO.LO(M);break;case 6:F&&(K[J]=F.getLastMeshById(M));break;case 7:K[J]=E._ColorCurvesParser(M);break;case 8:K[J]=l.kJ.LO(M);break;case 9:K[J]=E._ImageProcessingConfigurationParser(M);break;case 10:K[J]=q.Quaternion.LO(M);break;case 11:F&&(K[J]=F.getCameraById(M));break;case 12:K[J]=q.Matrix.LO(M)}}}}static Parse(K,O,F){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const l=K();return r.d&&r.d.AddTagsTo(l,O.tags),E.ParseProperties(O,l,F,f),l}static Clone(K,O){return c(K,O,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(K,O){return c(K,O,!0)}}E.AllowLoadingUniqueId=!1,E._ImageProcessingConfigurationParser=K=>{throw(0,f.d)("ImageProcessingConfiguration")},E._FresnelParametersParser=K=>{throw(0,f.d)("FresnelParameters")},E._ColorCurvesParser=K=>{throw(0,f.d)("ColorCurves")},E._TextureParser=(K,O,F)=>{throw(0,f.d)("Texture")}},11762:(K,O,F)=>{F.d(O,{d:()=>r});class f{static Eval(K,O){return"true"===(K=K.match(/\([^()]*\)/g)?K.replace(/\([^()]*\)/g,(K=>(K=K.slice(1,K.length-1),f._HandleParenthesisContent(K,O)))):f._HandleParenthesisContent(K,O))||"false"!==K&&f.Eval(K,O)}static _HandleParenthesisContent(K,O){let F;O=O||(K=>"true"===K);const r=K.split("||");for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){let K=f._SimplifyNegation(r[l].trim());const q=K.split("&&");if(q.length>1)for(let r=0;r<q.length;++r){const l=f._SimplifyNegation(q[r].trim());if(F="true"!==l&&"false"!==l?"!"===l[0]?!O(l.substring(1)):O(l):"true"===l,!F){K="false";break}}if(F||"true"===K){F=!0;break}F="true"!==K&&"false"!==K?"!"===K[0]?!O(K.substring(1)):O(K):"true"===K}return F?"true":"false"}static _SimplifyNegation(K){return"!true"===(K=(K=K.replace(/^[\s!]+/,(K=>(K=K.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?K="false":"!false"===K&&(K="true"),K}}class r{static EnableFor(K){K._tags=K._tags||{},K.hasTags=()=>r.HasTags(K),K.addTags=O=>r.AddTagsTo(K,O),K.removeTags=O=>r.RemoveTagsFrom(K,O),K.matchesTagsQuery=O=>r.MatchesQuery(K,O)}static DisableFor(K){delete K._tags,delete K.hasTags,delete K.addTags,delete K.removeTags,delete K.matchesTagsQuery}static HasTags(K){if(!K._tags)return!1;const O=K._tags;for(const F in O)if(Object.prototype.hasOwnProperty.call(O,F))return!0;return!1}static GetTags(K){let O=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!K._tags)return null;if(O){const O=[];for(const F in K._tags)Object.prototype.hasOwnProperty.call(K._tags,F)&&!0===K._tags[F]&&O.push(F);return O.join(" ")}return K._tags}static AddTagsTo(K,O){if(!O)return;if("string"!==typeof O)return;const F=O.split(" ");for(const f of F)r._AddTagTo(K,f)}static _AddTagTo(K,O){""!==(O=O.trim())&&"true"!==O&&"false"!==O&&(O.match(/[\s]/)||O.match(/^([!]|([|]|[&]){2})/)||(r.EnableFor(K),K._tags[O]=!0))}static RemoveTagsFrom(K,O){if(!r.HasTags(K))return;const F=O.split(" ");for(const f in F)r._RemoveTagFrom(K,F[f])}static _RemoveTagFrom(K,O){delete K._tags[O]}static MatchesQuery(K,O){return void 0===O||(""===O?r.HasTags(K):f.Eval(O,(O=>r.HasTags(K)&&K._tags[O])))}}},11693:(K,O,F)=>{F.d(O,{c:()=>f});function f(K,O,F,f){var r,l=arguments.length,q=l<3?O:null===f?f=Object.getOwnPropertyDescriptor(O,F):f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(K,O,F,f);else for(var J=K.length-1;J>=0;J--)(r=K[J])&&(q=(l<3?r(q):l>3?r(O,F,q):r(O,F))||q);return l>3&&q&&Object.defineProperty(O,F,q),q}Object.create;Object.create}}]);