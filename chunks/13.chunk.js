"use strict";(self.bjbkv7h3qsd=self.bjbkv7h3qsd||[]).push([[13],{11274:(G,A,j)=>{j.d(A,{c:()=>u});let u=!1},11240:(G,A,j)=>{j.d(A,{b:()=>F});var u=j(11202),k=j(11204),B=j(11050),x=j(11218),s=j(11085),O=j(11189),d=(j(11089),j(11248));class h{get wrapU(){return this._wrapU}set wrapU(G){this._wrapU=G}get wrapV(){return this._wrapV}set wrapV(G){this._wrapV=G}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(G){this._texture&&(this._texture.isCube=G)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(G){this._texture&&(this._texture.is3D=G)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(G){this._texture&&(this._texture.is2DArray=G)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(G){return void 0!==(null===G||void 0===G?void 0:G.shareDepth)}constructor(G){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=d.e.Zero(),this._cachedBaseSize=d.e.Zero(),this._initialSamplingMode=2,this._texture=h._IsRenderTargetWrapper(G)?G.texture:G,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(G){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(G,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var H=j(11251);class F extends h{set Hs(G){this._hasAlpha!==G&&(this._hasAlpha=G,this._scene&&this._scene.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))))}get Hs(){return this._hasAlpha}set getAlphaFromRGB(G){this._getAlphaFromRGB!==G&&(this._getAlphaFromRGB=G,this._scene&&this._scene.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(G){this._coordinatesIndex!==G&&(this._coordinatesIndex=G,this._scene&&this._scene.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(G){this._coordinatesMode!==G&&(this._coordinatesMode=G,this._scene&&this._scene.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(G){this._wrapU=G}get wrapV(){return this._wrapV}set wrapV(G){this._wrapV=G}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(G){this._texture?this._texture.isCube=G:this._isCube=G}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(G){this._texture&&(this._texture.is3D=G)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(G){this._texture&&(this._texture.is2DArray=G)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(G){var A;if(this._texture){if(this._texture._gammaSpace===G)return;this._texture._gammaSpace=G}else{if(this._gammaSpace===G)return;this._gammaSpace=G}null===(A=this.gG())||void 0===A||A.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(G){var A;G!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=G),null===(A=this.gG())||void 0===A||A.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(G){this._texture&&(this._texture._lodGenerationOffset=G)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(G){this._texture&&(this._texture._lodGenerationScale=G)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(G){this._texture&&(this._texture._linearSpecularLOD=G)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(G){this._texture&&(this._texture._irradianceTexture=G)}get uid(){return this._uid||(this._uid=(0,O.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(G){this._onDisposeObserver&&this.ks.remove(this._onDisposeObserver),this._onDisposeObserver=this.ks.add(G)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=F.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.ks=new B.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,G?F._IsScene(G)?this._scene=G:this._engine=G:this._scene=s.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=A,this._uid=null}gG(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return x.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return x.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(G){}get canRescale(){return!1}_getFromCache(G,A,j,u,k,B){const x=this._getEngine();if(!x)return null;const s=x._getUseSRGBBuffer(!!k,A),O=x.getLoadedTexturesCache();for(let d=0;d<O.length;d++){const x=O[d];if((void 0===k||s===x._useSRGBBuffer)&&(void 0===u||u===x.invertY)&&x.url===G&&x.generateMipMaps===!A&&(!j||j===x.samplingMode)&&(void 0===B||B===x.isCube))return x.incrementReferences(),x}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const G=this.gG();G&&G.markAllMaterialsAsDirty(1)}readPixels(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],k=arguments.length>4&&void 0!==arguments[4]&&arguments[4],B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,O=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const d=this._getEngine();if(!d)return null;const h=this.getSize();let H=h.width,F=h.height;0!==A&&(H/=Math.pow(2,A),F/=Math.pow(2,A),H=Math.round(H),F=Math.round(F)),s=Math.min(H,s),O=Math.min(F,O);try{return this._texture.isCube?d._readTexturePixels(this._texture,s,O,G,A,j,u,k,B,x):d._readTexturePixels(this._texture,s,O,-1,A,j,u,k,B,x)}catch(R){return null}}_readPixelsSync(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],k=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const B=this.getSize();let x=B.width,s=B.height;const O=this._getEngine();if(!O)return null;0!=A&&(x/=Math.pow(2,A),s/=Math.pow(2,A),x=Math.round(x),s=Math.round(s));try{return this._texture.isCube?O._readTexturePixelsSync(this._texture,x,s,G,A,j,u,k):O._readTexturePixelsSync(this._texture,x,s,-1,A,j,u,k)}catch(d){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const G=this._scene.textures.indexOf(this);if(G>=0&&this._scene.textures.splice(G,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const G=this._parentContainer.textures.indexOf(this);G>-1&&this._parentContainer.textures.splice(G,1),this._parentContainer=null}}this.ks.notifyObservers(this),this.ks.clear(),this.metadata=null,super.dispose()}serialize(){let G=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!G)return null;const A=H.c.Serialize(this);return H.c.AppendSerializedAnimations(this,A),A}static WhenAllReady(G,A){let j=G.length;if(0!==j)for(let u=0;u<G.length;u++){const k=G[u];if(k.isReady())0===--j&&A();else{const G=k.onLoadObservable;G?G.addOnce((()=>{0===--j&&A()})):0===--j&&A()}}else A()}static _IsScene(G){return"Scene"===G.getClassName()}}F.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,u.b)([(0,k.L)()],F.prototype,"uniqueId",void 0),(0,u.b)([(0,k.L)()],F.prototype,"name",void 0),(0,u.b)([(0,k.L)()],F.prototype,"displayName",void 0),(0,u.b)([(0,k.L)()],F.prototype,"metadata",void 0),(0,u.b)([(0,k.L)("Hs")],F.prototype,"_hasAlpha",void 0),(0,u.b)([(0,k.L)("getAlphaFromRGB")],F.prototype,"_getAlphaFromRGB",void 0),(0,u.b)([(0,k.L)()],F.prototype,"level",void 0),(0,u.b)([(0,k.L)("coordinatesIndex")],F.prototype,"_coordinatesIndex",void 0),(0,u.b)([(0,k.L)()],F.prototype,"optimizeUVAllocation",void 0),(0,u.b)([(0,k.L)("coordinatesMode")],F.prototype,"_coordinatesMode",void 0),(0,u.b)([(0,k.L)()],F.prototype,"wrapU",null),(0,u.b)([(0,k.L)()],F.prototype,"wrapV",null),(0,u.b)([(0,k.L)()],F.prototype,"wrapR",void 0),(0,u.b)([(0,k.L)()],F.prototype,"anisotropicFilteringLevel",void 0),(0,u.b)([(0,k.L)()],F.prototype,"isCube",null),(0,u.b)([(0,k.L)()],F.prototype,"is3D",null),(0,u.b)([(0,k.L)()],F.prototype,"is2DArray",null),(0,u.b)([(0,k.L)()],F.prototype,"gammaSpace",null),(0,u.b)([(0,k.L)()],F.prototype,"invertZ",void 0),(0,u.b)([(0,k.L)()],F.prototype,"lodLevelInAlpha",void 0),(0,u.b)([(0,k.L)()],F.prototype,"lodGenerationOffset",null),(0,u.b)([(0,k.L)()],F.prototype,"lodGenerationScale",null),(0,u.b)([(0,k.L)()],F.prototype,"linearSpecularLOD",null),(0,u.b)([(0,k.C)()],F.prototype,"irradianceTexture",null),(0,u.b)([(0,k.L)()],F.prototype,"isRenderTarget",void 0)},11196:(G,A,j)=>{j.d(A,{e:()=>n});var u=j(11202),k=j(11204),B=j(11050),x=j(11218),s=j(11240),O=j(11181),d=j(11075),h=j(11114),H=j(11174),F=j(11266),R=j(11098);function U(G,A){let j=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const u=A.width,k=A.height;if(G instanceof Float32Array){let A=G.byteLength/G.BYTES_PER_ELEMENT;const j=new Uint8Array(A);for(;--A>=0;){let u=G[A];u<0?u=0:u>1&&(u=1),j[A]=255*u}G=j}const B=document.createElement("canvas");B.width=u,B.height=k;const x=B.getContext("2d");if(!x)return null;const s=x.createImageData(u,k);if(s.data.set(G),x.putImageData(s,0,0),j){const G=document.createElement("canvas");G.width=u,G.height=k;const A=G.getContext("2d");return A?(A.translate(0,k),A.scale(1,-1),A.drawImage(B,0,0),G.toDataURL("image/png")):null}return B.toDataURL("image/png")}function S(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=G.getInternalTexture();if(!u)return null;const k=G._readPixelsSync(A,j);return k?U(k,G.getSize(),u.invertY):null}async function C(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=G.getInternalTexture();if(!u)return null;const k=await G.readPixels(A,j);return k?U(k,G.getSize(),u.invertY):null}var t=j(11274),Y=j(11251);class n extends s.b{static _CreateVideoTexture(G,A,j){arguments.length>5&&void 0!==arguments[5]||n.TRILINEAR_SAMPLINGMODE;throw(0,d.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(G){this._isBlocking=G}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(G,A,j,u){let k,x=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.TRILINEAR_SAMPLINGMODE,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,H=arguments.length>8&&void 0!==arguments[8]&&arguments[8],F=arguments.length>9?arguments[9]:void 0,R=arguments.length>10?arguments[10]:void 0,U=arguments.length>11?arguments[11]:void 0,S=arguments.length>12?arguments[12]:void 0,C=arguments.length>13?arguments[13]:void 0;super(A),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new B.b,this._isBlocking=!0,this.name=G||"",this.url=G;let Y=!1,Q=null,X=!0;"object"===typeof j&&null!==j?(k=j.noMipmap??!1,u=j.invertY??!t.c,x=j.samplingMode??n.TRILINEAR_SAMPLINGMODE,s=j.K??null,O=j.onError??null,d=j.buffer??null,H=j.deleteBuffer??!1,F=j.format,R=j.mimeType,U=j.loaderOptions,S=j.creationFlags,Y=j.useSRGBBuffer??!1,Q=j.internalTexture??null,X=j.gammaSpace??X,C=j.forcedExtension??C):k=!!j,this._gammaSpace=X,this._noMipmap=k,this._invertY=void 0===u?!t.c:u,this._initialSamplingMode=x,this._buffer=d,this._deleteBuffer=H,this._mimeType=R,this._loaderOptions=U,this._creationFlags=S,this._useSRGBBuffer=Y,this._forcedExtension=C,void 0!==F&&(this._format=F);const I=this.gG(),D=this._getEngine();if(!D)return;D.onBeforeTextureInitObservable.notifyObservers(this);const g=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),s&&s(),!this.isBlocking&&I&&I.resetCachedMaterial()},c=(G,A)=>{this._loadingError=!0,this._errorObject={message:G,exception:A},O&&O(G,A),n.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!Q)return this._delayedOnLoad=g,void(this._delayedOnError=c);if(this._texture=Q??this._getFromCache(this.url,k,x,this._invertY,Y,this.isCube),this._texture)if(this._texture.isReady)h.d.SetImmediate((()=>g()));else{const G=this._texture.onLoadedObservable.add(g);this._texture.onErrorObservable.add((A=>{var j;c(A.message,A.exception),null===(j=this._texture)||void 0===j||j.onLoadedObservable.remove(G)}))}else if(I&&I.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=g,this._delayedOnError=c;else{try{this._texture=D.createTexture(this.url,k,this._invertY,I,x,g,c,this._buffer,void 0,this._format,this._forcedExtension,R,U,S,Y)}catch(E){throw c("error loading",E),E}H&&(this._buffer=null)}}updateURL(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.gG().markAllMaterialsAsDirty(1,(G=>G.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=G),this.url=G,this._buffer=A,this._forcedExtension=u,this.delayLoadState=4,j&&(this._delayedOnLoad=j),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const G=this.gG();G&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?h.d.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=G.getEngine().createTexture(this.url,this._noMipmap,this._invertY,G,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(G,A,j,u){G*=this._cachedUScale,A*=this._cachedVScale,G-=this.uRotationCenter*this._cachedUScale,A-=this.vRotationCenter*this._cachedVScale,j-=this.wRotationCenter,x.SA.TransformCoordinatesFromFloatsToRef(G,A,j,this._rowGenerationMatrix,u),u.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,u.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,u.z+=this.wRotationCenter}getTextureMatrix(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*G===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*G,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=x.Matrix.Zero(),this._rowGenerationMatrix=new x.Matrix,this._t0=x.SA.Zero(),this._t1=x.SA.Zero(),this._t2=x.SA.Zero()),x.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(x.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,x.TmpVectors.Matrix[0]),x.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,x.TmpVectors.Matrix[1]),x.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,x.TmpVectors.Matrix[2]),x.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,x.TmpVectors.Matrix[3]),x.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(x.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(x.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(x.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.LH(this._t0),this._t2.LH(this._t0),x.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const A=this.gG();if(!A)return this._cachedTextureMatrix;const j=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&j!==this._cachedIdentity3x2&&A.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const G=this.gG();if(!G)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==n.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===G.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=x.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=x.Matrix.Zero());const A=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case n.PLANAR_MODE:x.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case n.PROJECTION_MODE:{x.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const A=G.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=A.updateFlag,A.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:x.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return A&&G.markAllMaterialsAsDirty(1,(G=>G.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const G={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,K:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Y.c.Clone((()=>new n(this._texture?this._texture.url:null,this.gG(),G)),this)}serialize(){var G;const A=this.name;n.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const j=super.serialize(n._SerializeInternalTextureUniqueId);if(!j)return null;if(n.SerializeBuffers||n.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))j.base64String=this._buffer,j.name=j.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const G=this.mimeType||"image/png";j.base64String=`data:${G};base64,${(0,R.n)(this._buffer)}`}else(n.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(j.base64String=!this._engine||this._engine._features.supportSyncTextureRead?S(this):C(this));var u;(j.invertY=this._invertY,j.samplingMode=this.samplingMode,j._creationFlags=this._creationFlags,j._useSRGBBuffer=this._useSRGBBuffer,n._SerializeInternalTextureUniqueId)&&(j.internalTextureUniqueId=null===(u=this._texture)||void 0===u?void 0:u.uniqueId);return j.internalTextureLabel=null===(G=this._texture)||void 0===G?void 0:G.label,j.noMipmap=this._noMipmap,this.name=A,j}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(G,A,j){if(G.customType){const u=H.d.Instantiate(G.customType).Parse(G,A,j);return G.samplingMode&&u.updateSamplingMode&&u._samplingMode&&u._samplingMode!==G.samplingMode&&u.updateSamplingMode(G.samplingMode),u}if(G.isCube&&!G.isRenderTarget)return n._CubeTextureParser(G,A,j);const u=void 0!==G.internalTextureUniqueId;if(!G.name&&!G.isRenderTarget&&!u)return null;let k;if(u){const j=A.getEngine().getLoadedTexturesCache();for(const A of j)if(A.uniqueId===G.internalTextureUniqueId){k=A;break}}const B=A=>{if(A&&A._texture&&(A._texture._cachedWrapU=null,A._texture._cachedWrapV=null,A._texture._cachedWrapR=null),G.samplingMode){const j=G.samplingMode;A&&A.samplingMode!==j&&A.updateSamplingMode(j)}if(A&&G.animations)for(let j=0;j<G.animations.length;j++){const u=G.animations[j],k=(0,O.e)("BABYLON.Animation");k&&A.animations.push(k.Parse(u))}A&&A._texture&&(u&&!k&&A._texture._setUniqueId(G.internalTextureUniqueId),A._texture.label=G.internalTextureLabel)};return Y.c.Parse((()=>{let u=!0;if(G.noMipmap&&(u=!1),G.mirrorPlane){const j=n._CreateMirror(G.name,G.renderTargetSize,A,u);return j._waitingRenderList=G.renderList,j.mirrorPlane=F.c.QA(G.mirrorPlane),B(j),j}if(G.isRenderTarget){let j=null;if(G.isCube){if(A.reflectionProbes)for(let u=0;u<A.reflectionProbes.length;u++){const j=A.reflectionProbes[u];if(j.name===G.name)return j.cubeTexture}}else j=n._CreateRenderTargetTexture(G.name,G.renderTargetSize,A,u,G._creationFlags??0),j._waitingRenderList=G.renderList;return B(j),j}if(G.isVideo){const k=n._CreateVideoTexture(j+(G.url||G.name),j+(G.src||G.url),A,u,G.invertY,G.samplingMode,G.settings||{});return B(k),k}{let x;if(G.base64String&&!k)x=n.CreateFromBase64String(G.base64String,G.base64String,A,!u,G.invertY,G.samplingMode,(()=>{B(x)}),G._creationFlags??0,G._useSRGBBuffer??!1),x.name=G.name;else{let s;s=G.name&&(G.name.indexOf("://")>0||G.name.startsWith("data:"))?G.name:j+G.name,G.url&&(G.url.startsWith("data:")||n.UseSerializedUrlIfAny)&&(s=G.url);const O={noMipmap:!u,invertY:G.invertY,samplingMode:G.samplingMode,K:()=>{B(x)},internalTexture:k};x=new n(s,A,O)}return x}}),G,A)}static CreateFromBase64String(G,A,j,u,k){let B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.TRILINEAR_SAMPLINGMODE;return new n("data:"+A,j,u,k,B,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,G,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(G,A,j){let u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],k=arguments.length>4?arguments[4]:void 0,B=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:n.TRILINEAR_SAMPLINGMODE,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,O=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,h=arguments.length>10?arguments[10]:void 0,H=arguments.length>11?arguments[11]:void 0;return"data:"!==G.substring(0,5)&&(G="data:"+G),new n(G,j,k,B,x,s,O,A,u,d,void 0,void 0,h,H)}}n.SerializeBuffers=!0,n.ForceSerializeBuffers=!1,n.OnTextureLoadErrorObservable=new B.b,n._SerializeInternalTextureUniqueId=!1,n._CubeTextureParser=(G,A,j)=>{throw(0,d.c)("CubeTexture")},n._CreateMirror=(G,A,j,u)=>{throw(0,d.c)("MirrorTexture")},n._CreateRenderTargetTexture=(G,A,j,u,k)=>{throw(0,d.c)("RenderTargetTexture")},n.NEAREST_SAMPLINGMODE=1,n.NEAREST_NEAREST_MIPLINEAR=8,n.BILINEAR_SAMPLINGMODE=2,n.LINEAR_LINEAR_MIPNEAREST=11,n.TRILINEAR_SAMPLINGMODE=3,n.LINEAR_LINEAR_MIPLINEAR=3,n.NEAREST_NEAREST_MIPNEAREST=4,n.NEAREST_LINEAR_MIPNEAREST=5,n.NEAREST_LINEAR_MIPLINEAR=6,n.NEAREST_LINEAR=7,n.NEAREST_NEAREST=1,n.LINEAR_NEAREST_MIPNEAREST=9,n.LINEAR_NEAREST_MIPLINEAR=10,n.LINEAR_LINEAR=2,n.LINEAR_NEAREST=12,n.EXPLICIT_MODE=0,n.SPHERICAL_MODE=1,n.PLANAR_MODE=2,n.CUBIC_MODE=3,n.PROJECTION_MODE=4,n.SKYBOX_MODE=5,n.INVCUBIC_MODE=6,n.EQUIRECTANGULAR_MODE=7,n.FIXED_EQUIRECTANGULAR_MODE=8,n.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,n.CLAMP_ADDRESSMODE=0,n.WRAP_ADDRESSMODE=1,n.MIRROR_ADDRESSMODE=2,n.UseSerializedUrlIfAny=!1,(0,u.b)([(0,k.L)()],n.prototype,"url",void 0),(0,u.b)([(0,k.L)()],n.prototype,"uOffset",void 0),(0,u.b)([(0,k.L)()],n.prototype,"vOffset",void 0),(0,u.b)([(0,k.L)()],n.prototype,"uScale",void 0),(0,u.b)([(0,k.L)()],n.prototype,"vScale",void 0),(0,u.b)([(0,k.L)()],n.prototype,"uAng",void 0),(0,u.b)([(0,k.L)()],n.prototype,"vAng",void 0),(0,u.b)([(0,k.L)()],n.prototype,"wAng",void 0),(0,u.b)([(0,k.L)()],n.prototype,"uRotationCenter",void 0),(0,u.b)([(0,k.L)()],n.prototype,"vRotationCenter",void 0),(0,u.b)([(0,k.L)()],n.prototype,"wRotationCenter",void 0),(0,u.b)([(0,k.L)()],n.prototype,"homogeneousRotationInUVTransform",void 0),(0,u.b)([(0,k.L)()],n.prototype,"isBlocking",null),(0,O.h)("BABYLON.Texture",n),Y.c._TextureParser=n.Parse},11266:(G,A,j)=>{j.d(A,{c:()=>k});var u=j(11218);class k{constructor(G,A,j,k){this.normal=new u.SA(G,A,j),this.d=k}hs(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new k(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let G=this.normal.getHashCode();return G=397*G^this.d,G}normalize(){const G=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let A=0;return 0!==G&&(A=1/G),this.normal.x*=A,this.normal.y*=A,this.normal.z*=A,this.d*=A,this}transform(G){const A=k._TmpMatrix;G.invertToRef(A);const j=A.m,u=this.normal.x,B=this.normal.y,x=this.normal.z,s=this.d,O=u*j[0]+B*j[1]+x*j[2]+s*j[3],d=u*j[4]+B*j[5]+x*j[6]+s*j[7],h=u*j[8]+B*j[9]+x*j[10]+s*j[11],H=u*j[12]+B*j[13]+x*j[14]+s*j[15];return new k(O,d,h,H)}dotCoordinate(G){return this.normal.x*G.x+this.normal.y*G.y+this.normal.z*G.z+this.d}copyFromPoints(G,A,j){const u=A.x-G.x,k=A.y-G.y,B=A.z-G.z,x=j.x-G.x,s=j.y-G.y,O=j.z-G.z,d=k*O-B*s,h=B*x-u*O,H=u*s-k*x,F=Math.sqrt(d*d+h*h+H*H);let R;return R=0!==F?1/F:0,this.normal.x=d*R,this.normal.y=h*R,this.normal.z=H*R,this.d=-(this.normal.x*G.x+this.normal.y*G.y+this.normal.z*G.z),this}isFrontFacingTo(G,A){return u.SA.Dot(this.normal,G)<=A}signedDistanceTo(G){return u.SA.Dot(G,this.normal)+this.d}static QA(G){return new k(G[0],G[1],G[2],G[3])}static FromPoints(G,A,j){const u=new k(0,0,0,0);return u.copyFromPoints(G,A,j),u}static FromPositionAndNormal(G,A){const j=new k(0,0,0,0);return this.FromPositionAndNormalToRef(G,A,j)}static FromPositionAndNormalToRef(G,A,j){return j.normal.B(A),j.normal.normalize(),j.d=-G.dot(j.normal),j}static SignedDistanceToPlaneFromPositionAndNormal(G,A,j){const k=-(A.x*G.x+A.y*G.y+A.z*G.z);return u.SA.Dot(j,A)+k}}k._TmpMatrix=u.Matrix.Identity()},11248:(G,A,j)=>{j.d(A,{e:()=>u});class u{constructor(G,A){this.width=G,this.height=A}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let G=0|this.width;return G=397*G^this.height,G}B(G){this.width=G.width,this.height=G.height}Ys(G,A){return this.width=G,this.height=A,this}set(G,A){return this.Ys(G,A)}multiplyByFloats(G,A){return new u(this.width*G,this.height*A)}clone(){return new u(this.width,this.height)}equals(G){return!!G&&(this.width===G.width&&this.height===G.height)}get surface(){return this.width*this.height}static Zero(){return new u(0,0)}add(G){return new u(this.width+G.width,this.height+G.height)}CA(G){return new u(this.width-G.width,this.height-G.height)}scale(G){return new u(this.width*G,this.height*G)}static Lerp(G,A,j){const k=G.width+(A.width-G.width)*j,B=G.height+(A.height-G.height)*j;return new u(k,B)}}},11212:(G,A,j)=>{j.d(A,{e:()=>B,g:()=>x});const u={},k={};function B(G){const A=G.getClassName();return k[A]||(k[A]={}),k[A]}function x(G){const A=G.getClassName();if(u[A])return u[A];u[A]={};const j=u[A];let B=G,x=A;for(;x;){const G=k[x];for(const k in G)j[k]=G[k];let A,u=!1;do{if(A=Object.getPrototypeOf(B),!A.getClassName){u=!0;break}if(A.getClassName()!==x)break;B=A}while(A);if(u)break;x=A.getClassName(),B=A}return j}},11204:(G,A,j)=>{j.d(A,{A:()=>C,C:()=>s,G:()=>h,J:()=>H,L:()=>x,b:()=>B,d:()=>Y,h:()=>R,l:()=>O,p:()=>U,s:()=>d,w:()=>S,x:()=>t,z:()=>F});var u=j(11212);function k(G,A){return(j,k)=>{const B=(0,u.e)(j);B[k]||(B[k]={type:G,sourceName:A})}}function B(G){return function(G){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(j,u)=>{const k=A||"_"+u;Object.defineProperty(j,u,{get:function(){return this[k]},set:function(A){var u;"function"===typeof(null===(u=this[k])||void 0===u?void 0:u.equals)&&this[k].equals(A)||this[k]!==A&&(this[k]=A,j[G].apply(this))},enumerable:!0,configurable:!0})}}(G,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function x(G){return k(0,G)}function s(G){return k(1,G)}function O(G){return k(2,G)}function d(G){return k(3,G)}function h(G){return k(4,G)}function H(G){return k(5,G)}function F(G){return k(6,G)}function R(G){return k(7,G)}function U(G){return k(8,G)}function S(G){return k(9,G)}function C(G){return k(10,G)}function t(G){return k(12,G)}function Y(G,A,j,u){const k=j.value;j.value=function(){let j=k;if("undefined"!==typeof _native&&_native[A]){const G=_native[A];j=u?function(){return u(...arguments)?G(...arguments):k(...arguments)}:G}return G[A]=j,j(...arguments)}}Y.filter=function(G){return(A,j,u)=>Y(A,j,u,G)}},11251:(G,A,j)=>{j.d(A,{c:()=>d});var u=j(11075),k=j(11253),B=j(11262),x=j(11218),s=j(11212);const O=function(G,A,j){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const B=G();k.b&&k.b.HasTags(A)&&k.b.AddTagsTo(B,k.b.GetTags(A,!0));const x=(0,s.g)(B),O={};for(const k in x){const G=x[k],s=A[k],h=G.type;if(void 0!==s&&null!==s&&("uniqueId"!==k||d.AllowLoadingUniqueId))switch(h){case 0:case 6:case 9:case 11:B[k]=s;break;case 1:u.cloneTexturesOnlyOnce&&O[s.uniqueId]?B[k]=O[s.uniqueId]:(B[k]=j||s.isRenderTarget?s:s.clone(),O[s.uniqueId]=B[k]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:B[k]=j?s:s.clone()}}return B};class d{static AppendSerializedAnimations(G,A){if(G.animations){A.animations=[];for(let j=0;j<G.animations.length;j++){const u=G.animations[j];A.animations.push(u.serialize())}}}static Serialize(G,A){A||(A={}),k.b&&(A.tags=k.b.GetTags(G));const j=(0,s.g)(G);for(const u in j){const k=j[u],B=k.sourceName||u,x=k.type,s=G[u];if(void 0!==s&&null!==s&&("uniqueId"!==u||d.AllowLoadingUniqueId))switch(x){case 0:A[B]=s;break;case 1:case 3:case 7:case 9:A[B]=s.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:A[B]=s.hs();break;case 6:case 11:A[B]=s.id}}return A}static ParseProperties(G,A,j,u){u||(u="");const k=(0,s.g)(A);for(const s in k){const O=k[s],h=G[O.sourceName||s],H=O.type;if(void 0!==h&&null!==h&&("uniqueId"!==s||d.AllowLoadingUniqueId)){const G=A;switch(H){case 0:G[s]=h;break;case 1:j&&(G[s]=d._TextureParser(h,j,u));break;case 2:G[s]=B.nA.QA(h);break;case 3:G[s]=d._FresnelParametersParser(h);break;case 4:G[s]=x.Vector2.QA(h);break;case 5:G[s]=x.SA.QA(h);break;case 6:j&&(G[s]=j.getLastMeshById(h));break;case 7:G[s]=d._ColorCurvesParser(h);break;case 8:G[s]=B.Xs.QA(h);break;case 9:G[s]=d._ImageProcessingConfigurationParser(h);break;case 10:G[s]=x.Quaternion.QA(h);break;case 11:j&&(G[s]=j.getCameraById(h));break;case 12:G[s]=x.Matrix.QA(h)}}}}static Parse(G,A,j){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const B=G();return k.b&&k.b.AddTagsTo(B,A.tags),d.ParseProperties(A,B,j,u),B}static Clone(G,A){return O(G,A,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(G,A){return O(G,A,!0)}}d.AllowLoadingUniqueId=!1,d._ImageProcessingConfigurationParser=G=>{throw(0,u.c)("ImageProcessingConfiguration")},d._FresnelParametersParser=G=>{throw(0,u.c)("FresnelParameters")},d._ColorCurvesParser=G=>{throw(0,u.c)("ColorCurves")},d._TextureParser=(G,A,j)=>{throw(0,u.c)("Texture")}},11253:(G,A,j)=>{j.d(A,{b:()=>k});class u{static Eval(G,A){return"true"===(G=G.match(/\([^()]*\)/g)?G.replace(/\([^()]*\)/g,(G=>(G=G.slice(1,G.length-1),u._HandleParenthesisContent(G,A)))):u._HandleParenthesisContent(G,A))||"false"!==G&&u.Eval(G,A)}static _HandleParenthesisContent(G,A){let j;A=A||(G=>"true"===G);const k=G.split("||");for(const B in k)if(Object.prototype.hasOwnProperty.call(k,B)){let G=u._SimplifyNegation(k[B].trim());const x=G.split("&&");if(x.length>1)for(let k=0;k<x.length;++k){const B=u._SimplifyNegation(x[k].trim());if(j="true"!==B&&"false"!==B?"!"===B[0]?!A(B.substring(1)):A(B):"true"===B,!j){G="false";break}}if(j||"true"===G){j=!0;break}j="true"!==G&&"false"!==G?"!"===G[0]?!A(G.substring(1)):A(G):"true"===G}return j?"true":"false"}static _SimplifyNegation(G){return"!true"===(G=(G=G.replace(/^[\s!]+/,(G=>(G=G.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?G="false":"!false"===G&&(G="true"),G}}class k{static EnableFor(G){G._tags=G._tags||{},G.hasTags=()=>k.HasTags(G),G.addTags=A=>k.AddTagsTo(G,A),G.removeTags=A=>k.RemoveTagsFrom(G,A),G.matchesTagsQuery=A=>k.MatchesQuery(G,A)}static DisableFor(G){delete G._tags,delete G.hasTags,delete G.addTags,delete G.removeTags,delete G.matchesTagsQuery}static HasTags(G){if(!G._tags)return!1;const A=G._tags;for(const j in A)if(Object.prototype.hasOwnProperty.call(A,j))return!0;return!1}static GetTags(G){let A=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!G._tags)return null;if(A){const A=[];for(const j in G._tags)Object.prototype.hasOwnProperty.call(G._tags,j)&&!0===G._tags[j]&&A.push(j);return A.join(" ")}return G._tags}static AddTagsTo(G,A){if(!A)return;if("string"!==typeof A)return;const j=A.split(" ");for(const u of j)k._AddTagTo(G,u)}static _AddTagTo(G,A){""!==(A=A.trim())&&"true"!==A&&"false"!==A&&(A.match(/[\s]/)||A.match(/^([!]|([|]|[&]){2})/)||(k.EnableFor(G),G._tags[A]=!0))}static RemoveTagsFrom(G,A){if(!k.HasTags(G))return;const j=A.split(" ");for(const u in j)k._RemoveTagFrom(G,j[u])}static _RemoveTagFrom(G,A){delete G._tags[A]}static MatchesQuery(G,A){return void 0===A||(""===A?k.HasTags(G):u.Eval(A,(A=>k.HasTags(G)&&G._tags[A])))}}},11202:(G,A,j)=>{j.d(A,{b:()=>u});function u(G,A,j,u){var k,B=arguments.length,x=B<3?A:null===u?u=Object.getOwnPropertyDescriptor(A,j):u;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)x=Reflect.decorate(G,A,j,u);else for(var s=G.length-1;s>=0;s--)(k=G[s])&&(x=(B<3?k(x):B>3?k(A,j,x):k(A,j))||x);return B>3&&x&&Object.defineProperty(A,j,x),x}Object.create;Object.create}}]);