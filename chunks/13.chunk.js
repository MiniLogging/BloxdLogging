"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[13],{11728:(w,E,G)=>{G.d(E,{b:()=>P});let P=!1},11695:(w,E,G)=>{G.d(E,{c:()=>u});var P=G(11668),h=G(11671),B=G(11504),y=G(11679),x=G(11543),U=G(11650),l=(G(11547),G(11700));class i{get wrapU(){return this._wrapU}set wrapU(w){this._wrapU=w}get wrapV(){return this._wrapV}set wrapV(w){this._wrapV=w}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(w){this._texture&&(this._texture.isCube=w)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(w){this._texture&&(this._texture.is3D=w)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(w){this._texture&&(this._texture.is2DArray=w)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(w){return void 0!==(null===w||void 0===w?void 0:w.shareDepth)}constructor(w){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=l.d.Zero(),this._cachedBaseSize=l.d.Zero(),this._initialSamplingMode=2,this._texture=i._IsRenderTargetWrapper(w)?w.texture:w,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(w){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(w,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var O=G(11706);class u extends i{set mh(w){this._hasAlpha!==w&&(this._hasAlpha=w,this._scene&&this._scene.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))))}get mh(){return this._hasAlpha}set getAlphaFromRGB(w){this._getAlphaFromRGB!==w&&(this._getAlphaFromRGB=w,this._scene&&this._scene.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(w){this._coordinatesIndex!==w&&(this._coordinatesIndex=w,this._scene&&this._scene.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(w){this._coordinatesMode!==w&&(this._coordinatesMode=w,this._scene&&this._scene.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(w){this._wrapU=w}get wrapV(){return this._wrapV}set wrapV(w){this._wrapV=w}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(w){this._texture?this._texture.isCube=w:this._isCube=w}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(w){this._texture&&(this._texture.is3D=w)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(w){this._texture&&(this._texture.is2DArray=w)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(w){var E;if(this._texture){if(this._texture._gammaSpace===w)return;this._texture._gammaSpace=w}else{if(this._gammaSpace===w)return;this._gammaSpace=w}null===(E=this.Ww())||void 0===E||E.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(w){var E;w!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=w),null===(E=this.Ww())||void 0===E||E.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(w){this._texture&&(this._texture._lodGenerationOffset=w)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(w){this._texture&&(this._texture._lodGenerationScale=w)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(w){this._texture&&(this._texture._linearSpecularLOD=w)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(w){this._texture&&(this._texture._irradianceTexture=w)}get uid(){return this._uid||(this._uid=(0,U.e)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(w){this._onDisposeObserver&&this.qh.remove(this._onDisposeObserver),this._onDisposeObserver=this.qh.add(w)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=u.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.qh=new B.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,w?u._IsScene(w)?this._scene=w:this._engine=w:this._scene=x.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=E,this._uid=null}Ww(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(w){}get canRescale(){return!1}_getFromCache(w,E,G,P,h,B){const y=this._getEngine();if(!y)return null;const x=y._getUseSRGBBuffer(!!h,E),U=y.getLoadedTexturesCache();for(let l=0;l<U.length;l++){const y=U[l];if((void 0===h||x===y._useSRGBBuffer)&&(void 0===P||P===y.invertY)&&y.url===w&&y.generateMipMaps===!E&&(!G||G===y.samplingMode)&&(void 0===B||B===y.isCube))return y.incrementReferences(),y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const w=this.Ww();w&&w.markAllMaterialsAsDirty(1)}readPixels(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,P=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const l=this._getEngine();if(!l)return null;const i=this.getSize();let O=i.width,u=i.height;0!==E&&(O/=Math.pow(2,E),u/=Math.pow(2,E),O=Math.round(O),u=Math.round(u)),x=Math.min(O,x),U=Math.min(u,U);try{return this._texture.isCube?l._readTexturePixels(this._texture,x,U,w,E,G,P,h,B,y):l._readTexturePixels(this._texture,x,U,-1,E,G,P,h,B,y)}catch(V){return null}}_readPixelsSync(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,P=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const B=this.getSize();let y=B.width,x=B.height;const U=this._getEngine();if(!U)return null;0!=E&&(y/=Math.pow(2,E),x/=Math.pow(2,E),y=Math.round(y),x=Math.round(x));try{return this._texture.isCube?U._readTexturePixelsSync(this._texture,y,x,w,E,G,P,h):U._readTexturePixelsSync(this._texture,y,x,-1,E,G,P,h)}catch(l){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const w=this._scene.textures.indexOf(this);if(w>=0&&this._scene.textures.splice(w,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const w=this._parentContainer.textures.indexOf(this);w>-1&&this._parentContainer.textures.splice(w,1),this._parentContainer=null}}this.qh.notifyObservers(this),this.qh.clear(),this.metadata=null,super.dispose()}serialize(){let w=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!w)return null;const E=O.b.Serialize(this);return O.b.AppendSerializedAnimations(this,E),E}static WhenAllReady(w,E){let G=w.length;if(0!==G)for(let P=0;P<w.length;P++){const h=w[P];if(h.isReady())0===--G&&E();else{const w=h.onLoadObservable;w?w.addOnce((()=>{0===--G&&E()})):0===--G&&E()}}else E()}static _IsScene(w){return"Scene"===w.getClassName()}}u.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,P.c)([(0,h.F)()],u.prototype,"uniqueId",void 0),(0,P.c)([(0,h.F)()],u.prototype,"name",void 0),(0,P.c)([(0,h.F)()],u.prototype,"displayName",void 0),(0,P.c)([(0,h.F)()],u.prototype,"metadata",void 0),(0,P.c)([(0,h.F)("mh")],u.prototype,"_hasAlpha",void 0),(0,P.c)([(0,h.F)("getAlphaFromRGB")],u.prototype,"_getAlphaFromRGB",void 0),(0,P.c)([(0,h.F)()],u.prototype,"level",void 0),(0,P.c)([(0,h.F)("coordinatesIndex")],u.prototype,"_coordinatesIndex",void 0),(0,P.c)([(0,h.F)()],u.prototype,"optimizeUVAllocation",void 0),(0,P.c)([(0,h.F)("coordinatesMode")],u.prototype,"_coordinatesMode",void 0),(0,P.c)([(0,h.F)()],u.prototype,"wrapU",null),(0,P.c)([(0,h.F)()],u.prototype,"wrapV",null),(0,P.c)([(0,h.F)()],u.prototype,"wrapR",void 0),(0,P.c)([(0,h.F)()],u.prototype,"anisotropicFilteringLevel",void 0),(0,P.c)([(0,h.F)()],u.prototype,"isCube",null),(0,P.c)([(0,h.F)()],u.prototype,"is3D",null),(0,P.c)([(0,h.F)()],u.prototype,"is2DArray",null),(0,P.c)([(0,h.F)()],u.prototype,"gammaSpace",null),(0,P.c)([(0,h.F)()],u.prototype,"invertZ",void 0),(0,P.c)([(0,h.F)()],u.prototype,"lodLevelInAlpha",void 0),(0,P.c)([(0,h.F)()],u.prototype,"lodGenerationOffset",null),(0,P.c)([(0,h.F)()],u.prototype,"lodGenerationScale",null),(0,P.c)([(0,h.F)()],u.prototype,"linearSpecularLOD",null),(0,P.c)([(0,h.y)()],u.prototype,"irradianceTexture",null),(0,P.c)([(0,h.F)()],u.prototype,"isRenderTarget",void 0)},11663:(w,E,G)=>{G.d(E,{c:()=>d});var P=G(11668),h=G(11671),B=G(11504),y=G(11679),x=G(11695),U=G(11646),l=G(11536),i=G(11576),O=G(11638),u=G(11722),V=G(11558);function a(w,E){let G=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const P=E.width,h=E.height;if(w instanceof Float32Array){let E=w.byteLength/w.BYTES_PER_ELEMENT;const G=new Uint8Array(E);for(;--E>=0;){let P=w[E];P<0?P=0:P>1&&(P=1),G[E]=255*P}w=G}const B=document.createElement("canvas");B.width=P,B.height=h;const y=B.getContext("2d");if(!y)return null;const x=y.createImageData(P,h);if(x.data.set(w),y.putImageData(x,0,0),G){const w=document.createElement("canvas");w.width=P,w.height=h;const E=w.getContext("2d");return E?(E.translate(0,h),E.scale(1,-1),E.drawImage(B,0,0),w.toDataURL("image/png")):null}return B.toDataURL("image/png")}function Q(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const P=w.getInternalTexture();if(!P)return null;const h=w._readPixelsSync(E,G);return h?a(h,w.getSize(),P.invertY):null}async function c(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const P=w.getInternalTexture();if(!P)return null;const h=await w.readPixels(E,G);return h?a(h,w.getSize(),P.invertY):null}var Z=G(11728),J=G(11706);class d extends x.c{static _CreateVideoTexture(w,E,G){arguments.length>5&&void 0!==arguments[5]||d.TRILINEAR_SAMPLINGMODE;throw(0,l.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(w){this._isBlocking=w}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(w,E,G,P){let h,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TRILINEAR_SAMPLINGMODE,x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,O=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9?arguments[9]:void 0,V=arguments.length>10?arguments[10]:void 0,a=arguments.length>11?arguments[11]:void 0,Q=arguments.length>12?arguments[12]:void 0,c=arguments.length>13?arguments[13]:void 0;super(E),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new B.d,this._isBlocking=!0,this.name=w||"",this.url=w;let J=!1,K=null,t=!0;"object"===typeof G&&null!==G?(h=G.noMipmap??!1,P=G.invertY??!Z.b,y=G.samplingMode??d.TRILINEAR_SAMPLINGMODE,x=G.S??null,U=G.onError??null,l=G.buffer??null,O=G.deleteBuffer??!1,u=G.format,V=G.mimeType,a=G.loaderOptions,Q=G.creationFlags,J=G.useSRGBBuffer??!1,K=G.internalTexture??null,t=G.gammaSpace??t,c=G.forcedExtension??c):h=!!G,this._gammaSpace=t,this._noMipmap=h,this._invertY=void 0===P?!Z.b:P,this._initialSamplingMode=y,this._buffer=l,this._deleteBuffer=O,this._mimeType=V,this._loaderOptions=a,this._creationFlags=Q,this._useSRGBBuffer=J,this._forcedExtension=c,void 0!==u&&(this._format=u);const q=this.Ww(),W=this._getEngine();if(!W)return;W.onBeforeTextureInitObservable.notifyObservers(this);const T=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),x&&x(),!this.isBlocking&&q&&q.resetCachedMaterial()},I=(w,E)=>{this._loadingError=!0,this._errorObject={message:w,exception:E},U&&U(w,E),d.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!K)return this._delayedOnLoad=T,void(this._delayedOnError=I);if(this._texture=K??this._getFromCache(this.url,h,y,this._invertY,J,this.isCube),this._texture)if(this._texture.isReady)i.e.SetImmediate((()=>T()));else{const w=this._texture.onLoadedObservable.add(T);this._texture.onErrorObservable.add((E=>{var G;I(E.message,E.exception),null===(G=this._texture)||void 0===G||G.onLoadedObservable.remove(w)}))}else if(q&&q.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=T,this._delayedOnError=I;else{try{this._texture=W.createTexture(this.url,h,this._invertY,q,y,T,I,this._buffer,void 0,this._format,this._forcedExtension,V,a,Q,J)}catch(j){throw I("error loading",j),j}O&&(this._buffer=null)}}updateURL(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,G=arguments.length>2?arguments[2]:void 0,P=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.Ww().markAllMaterialsAsDirty(1,(w=>w.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=w),this.url=w,this._buffer=E,this._forcedExtension=P,this.delayLoadState=4,G&&(this._delayedOnLoad=G),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const w=this.Ww();w&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?i.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=w.getEngine().createTexture(this.url,this._noMipmap,this._invertY,w,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(w,E,G,P){w*=this._cachedUScale,E*=this._cachedVScale,w-=this.uRotationCenter*this._cachedUScale,E-=this.vRotationCenter*this._cachedVScale,G-=this.wRotationCenter,y.QE.TransformCoordinatesFromFloatsToRef(w,E,G,this._rowGenerationMatrix,P),P.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,P.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,P.z+=this.wRotationCenter}getTextureMatrix(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*w===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*w,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=y.Matrix.Zero(),this._rowGenerationMatrix=new y.Matrix,this._t0=y.QE.Zero(),this._t1=y.QE.Zero(),this._t2=y.QE.Zero()),y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,y.TmpVectors.Matrix[0]),y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,y.TmpVectors.Matrix[1]),y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,y.TmpVectors.Matrix[2]),y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,y.TmpVectors.Matrix[3]),y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.xO(this._t0),this._t2.xO(this._t0),y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const E=this.Ww();if(!E)return this._cachedTextureMatrix;const G=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&G!==this._cachedIdentity3x2&&E.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const w=this.Ww();if(!w)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==d.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===w.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=y.Matrix.Zero());const E=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case d.PLANAR_MODE:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case d.PROJECTION_MODE:{y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const E=w.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=E.updateFlag,E.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return E&&w.markAllMaterialsAsDirty(1,(w=>w.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const w={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,S:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return J.b.Clone((()=>new d(this._texture?this._texture.url:null,this.Ww(),w)),this)}serialize(){var w;const E=this.name;d.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const G=super.serialize(d._SerializeInternalTextureUniqueId);if(!G)return null;if(d.SerializeBuffers||d.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))G.base64String=this._buffer,G.name=G.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const w=this.mimeType||"image/png";G.base64String=`data:${w};base64,${(0,V.h)(this._buffer)}`}else(d.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(G.base64String=!this._engine||this._engine._features.supportSyncTextureRead?Q(this):c(this));var P;(G.invertY=this._invertY,G.samplingMode=this.samplingMode,G._creationFlags=this._creationFlags,G._useSRGBBuffer=this._useSRGBBuffer,d._SerializeInternalTextureUniqueId)&&(G.internalTextureUniqueId=null===(P=this._texture)||void 0===P?void 0:P.uniqueId);return G.internalTextureLabel=null===(w=this._texture)||void 0===w?void 0:w.label,G.noMipmap=this._noMipmap,this.name=E,G}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(w,E,G){if(w.customType){const P=O.e.Instantiate(w.customType).Parse(w,E,G);return w.samplingMode&&P.updateSamplingMode&&P._samplingMode&&P._samplingMode!==w.samplingMode&&P.updateSamplingMode(w.samplingMode),P}if(w.isCube&&!w.isRenderTarget)return d._CubeTextureParser(w,E,G);const P=void 0!==w.internalTextureUniqueId;if(!w.name&&!w.isRenderTarget&&!P)return null;let h;if(P){const G=E.getEngine().getLoadedTexturesCache();for(const E of G)if(E.uniqueId===w.internalTextureUniqueId){h=E;break}}const B=E=>{if(E&&E._texture&&(E._texture._cachedWrapU=null,E._texture._cachedWrapV=null,E._texture._cachedWrapR=null),w.samplingMode){const G=w.samplingMode;E&&E.samplingMode!==G&&E.updateSamplingMode(G)}if(E&&w.animations)for(let G=0;G<w.animations.length;G++){const P=w.animations[G],h=(0,U.e)("BABYLON.Animation");h&&E.animations.push(h.Parse(P))}E&&E._texture&&(P&&!h&&E._texture._setUniqueId(w.internalTextureUniqueId),E._texture.label=w.internalTextureLabel)};return J.b.Parse((()=>{let P=!0;if(w.noMipmap&&(P=!1),w.mirrorPlane){const G=d._CreateMirror(w.name,w.renderTargetSize,E,P);return G._waitingRenderList=w.renderList,G.mirrorPlane=u.d.KE(w.mirrorPlane),B(G),G}if(w.isRenderTarget){let G=null;if(w.isCube){if(E.reflectionProbes)for(let P=0;P<E.reflectionProbes.length;P++){const G=E.reflectionProbes[P];if(G.name===w.name)return G.cubeTexture}}else G=d._CreateRenderTargetTexture(w.name,w.renderTargetSize,E,P,w._creationFlags??0),G._waitingRenderList=w.renderList;return B(G),G}if(w.isVideo){const h=d._CreateVideoTexture(G+(w.url||w.name),G+(w.src||w.url),E,P,w.invertY,w.samplingMode,w.settings||{});return B(h),h}{let y;if(w.base64String&&!h)y=d.CreateFromBase64String(w.base64String,w.base64String,E,!P,w.invertY,w.samplingMode,(()=>{B(y)}),w._creationFlags??0,w._useSRGBBuffer??!1),y.name=w.name;else{let x;x=w.name&&(w.name.indexOf("://")>0||w.name.startsWith("data:"))?w.name:G+w.name,w.url&&(w.url.startsWith("data:")||d.UseSerializedUrlIfAny)&&(x=w.url);const U={noMipmap:!P,invertY:w.invertY,samplingMode:w.samplingMode,S:()=>{B(y)},internalTexture:h};y=new d(x,E,U)}return y}}),w,E)}static CreateFromBase64String(w,E,G,P,h){let B=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.TRILINEAR_SAMPLINGMODE;return new d("data:"+E,G,P,h,B,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(w,E,G){let P=arguments.length>3&&void 0!==arguments[3]&&arguments[3],h=arguments.length>4?arguments[4]:void 0,B=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d.TRILINEAR_SAMPLINGMODE,x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,U=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,i=arguments.length>10?arguments[10]:void 0,O=arguments.length>11?arguments[11]:void 0;return"data:"!==w.substring(0,5)&&(w="data:"+w),new d(w,G,h,B,y,x,U,E,P,l,void 0,void 0,i,O)}}d.SerializeBuffers=!0,d.ForceSerializeBuffers=!1,d.OnTextureLoadErrorObservable=new B.d,d._SerializeInternalTextureUniqueId=!1,d._CubeTextureParser=(w,E,G)=>{throw(0,l.d)("CubeTexture")},d._CreateMirror=(w,E,G,P)=>{throw(0,l.d)("MirrorTexture")},d._CreateRenderTargetTexture=(w,E,G,P,h)=>{throw(0,l.d)("RenderTargetTexture")},d.NEAREST_SAMPLINGMODE=1,d.NEAREST_NEAREST_MIPLINEAR=8,d.BILINEAR_SAMPLINGMODE=2,d.LINEAR_LINEAR_MIPNEAREST=11,d.TRILINEAR_SAMPLINGMODE=3,d.LINEAR_LINEAR_MIPLINEAR=3,d.NEAREST_NEAREST_MIPNEAREST=4,d.NEAREST_LINEAR_MIPNEAREST=5,d.NEAREST_LINEAR_MIPLINEAR=6,d.NEAREST_LINEAR=7,d.NEAREST_NEAREST=1,d.LINEAR_NEAREST_MIPNEAREST=9,d.LINEAR_NEAREST_MIPLINEAR=10,d.LINEAR_LINEAR=2,d.LINEAR_NEAREST=12,d.EXPLICIT_MODE=0,d.SPHERICAL_MODE=1,d.PLANAR_MODE=2,d.CUBIC_MODE=3,d.PROJECTION_MODE=4,d.SKYBOX_MODE=5,d.INVCUBIC_MODE=6,d.EQUIRECTANGULAR_MODE=7,d.FIXED_EQUIRECTANGULAR_MODE=8,d.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,d.CLAMP_ADDRESSMODE=0,d.WRAP_ADDRESSMODE=1,d.MIRROR_ADDRESSMODE=2,d.UseSerializedUrlIfAny=!1,(0,P.c)([(0,h.F)()],d.prototype,"url",void 0),(0,P.c)([(0,h.F)()],d.prototype,"uOffset",void 0),(0,P.c)([(0,h.F)()],d.prototype,"vOffset",void 0),(0,P.c)([(0,h.F)()],d.prototype,"uScale",void 0),(0,P.c)([(0,h.F)()],d.prototype,"vScale",void 0),(0,P.c)([(0,h.F)()],d.prototype,"uAng",void 0),(0,P.c)([(0,h.F)()],d.prototype,"vAng",void 0),(0,P.c)([(0,h.F)()],d.prototype,"wAng",void 0),(0,P.c)([(0,h.F)()],d.prototype,"uRotationCenter",void 0),(0,P.c)([(0,h.F)()],d.prototype,"vRotationCenter",void 0),(0,P.c)([(0,h.F)()],d.prototype,"wRotationCenter",void 0),(0,P.c)([(0,h.F)()],d.prototype,"homogeneousRotationInUVTransform",void 0),(0,P.c)([(0,h.F)()],d.prototype,"isBlocking",null),(0,U.g)("BABYLON.Texture",d),J.b._TextureParser=d.Parse},11722:(w,E,G)=>{G.d(E,{d:()=>h});var P=G(11679);class h{constructor(w,E,G,h){this.normal=new P.QE(w,E,G),this.d=h}Lh(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new h(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let w=this.normal.getHashCode();return w=397*w^this.d,w}normalize(){const w=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let E=0;return 0!==w&&(E=1/w),this.normal.x*=E,this.normal.y*=E,this.normal.z*=E,this.d*=E,this}transform(w){const E=h._TmpMatrix;w.invertToRef(E);const G=E.m,P=this.normal.x,B=this.normal.y,y=this.normal.z,x=this.d,U=P*G[0]+B*G[1]+y*G[2]+x*G[3],l=P*G[4]+B*G[5]+y*G[6]+x*G[7],i=P*G[8]+B*G[9]+y*G[10]+x*G[11],O=P*G[12]+B*G[13]+y*G[14]+x*G[15];return new h(U,l,i,O)}dotCoordinate(w){return this.normal.x*w.x+this.normal.y*w.y+this.normal.z*w.z+this.d}copyFromPoints(w,E,G){const P=E.x-w.x,h=E.y-w.y,B=E.z-w.z,y=G.x-w.x,x=G.y-w.y,U=G.z-w.z,l=h*U-B*x,i=B*y-P*U,O=P*x-h*y,u=Math.sqrt(l*l+i*i+O*O);let V;return V=0!==u?1/u:0,this.normal.x=l*V,this.normal.y=i*V,this.normal.z=O*V,this.d=-(this.normal.x*w.x+this.normal.y*w.y+this.normal.z*w.z),this}isFrontFacingTo(w,E){return P.QE.Dot(this.normal,w)<=E}signedDistanceTo(w){return P.QE.Dot(w,this.normal)+this.d}static KE(w){return new h(w[0],w[1],w[2],w[3])}static FromPoints(w,E,G){const P=new h(0,0,0,0);return P.copyFromPoints(w,E,G),P}static FromPositionAndNormal(w,E){const G=new h(0,0,0,0);return this.FromPositionAndNormalToRef(w,E,G)}static FromPositionAndNormalToRef(w,E,G){return G.normal.B(E),G.normal.normalize(),G.d=-w.dot(G.normal),G}static SignedDistanceToPlaneFromPositionAndNormal(w,E,G){const h=-(E.x*w.x+E.y*w.y+E.z*w.z);return P.QE.Dot(G,E)+h}}h._TmpMatrix=P.Matrix.Identity()},11700:(w,E,G)=>{G.d(E,{d:()=>P});class P{constructor(w,E){this.width=w,this.height=E}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let w=0|this.width;return w=397*w^this.height,w}B(w){this.width=w.width,this.height=w.height}tx(w,E){return this.width=w,this.height=E,this}set(w,E){return this.tx(w,E)}multiplyByFloats(w,E){return new P(this.width*w,this.height*E)}clone(){return new P(this.width,this.height)}equals(w){return!!w&&(this.width===w.width&&this.height===w.height)}get surface(){return this.width*this.height}static Zero(){return new P(0,0)}add(w){return new P(this.width+w.width,this.height+w.height)}cE(w){return new P(this.width-w.width,this.height-w.height)}scale(w){return new P(this.width*w,this.height*w)}static Lerp(w,E,G){const h=w.width+(E.width-w.width)*G,B=w.height+(E.height-w.height)*G;return new P(h,B)}}},11676:(w,E,G)=>{G.d(E,{c:()=>B,g:()=>y});const P={},h={};function B(w){const E=w.getClassName();return h[E]||(h[E]={}),h[E]}function y(w){const E=w.getClassName();if(P[E])return P[E];P[E]={};const G=P[E];let B=w,y=E;for(;y;){const w=h[y];for(const h in w)G[h]=w[h];let E,P=!1;do{if(E=Object.getPrototypeOf(B),!E.getClassName){P=!0;break}if(E.getClassName()!==y)break;B=E}while(E);if(P)break;y=E.getClassName(),B=E}return G}},11671:(w,E,G)=>{G.d(E,{A:()=>i,C:()=>O,F:()=>y,d:()=>B,g:()=>J,h:()=>V,j:()=>U,k:()=>a,n:()=>l,o:()=>Q,p:()=>Z,s:()=>u,u:()=>c,y:()=>x});var P=G(11676);function h(w,E){return(G,h)=>{const B=(0,P.c)(G);B[h]||(B[h]={type:w,sourceName:E})}}function B(w){return function(w){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(G,P)=>{const h=E||"_"+P;Object.defineProperty(G,P,{get:function(){return this[h]},set:function(E){var P;"function"===typeof(null===(P=this[h])||void 0===P?void 0:P.equals)&&this[h].equals(E)||this[h]!==E&&(this[h]=E,G[w].apply(this))},enumerable:!0,configurable:!0})}}(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function y(w){return h(0,w)}function x(w){return h(1,w)}function U(w){return h(2,w)}function l(w){return h(3,w)}function i(w){return h(4,w)}function O(w){return h(5,w)}function u(w){return h(6,w)}function V(w){return h(7,w)}function a(w){return h(8,w)}function Q(w){return h(9,w)}function c(w){return h(10,w)}function Z(w){return h(12,w)}function J(w,E,G,P){const h=G.value;G.value=function(){let G=h;if("undefined"!==typeof _native&&_native[E]){const w=_native[E];G=P?function(){return P(...arguments)?w(...arguments):h(...arguments)}:w}return w[E]=G,G(...arguments)}}J.filter=function(w){return(E,G,P)=>J(E,G,P,w)}},11706:(w,E,G)=>{G.d(E,{b:()=>l});var P=G(11536),h=G(11712),B=G(11716),y=G(11679),x=G(11676);const U=function(w,E,G){let P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const B=w();h.e&&h.e.HasTags(E)&&h.e.AddTagsTo(B,h.e.GetTags(E,!0));const y=(0,x.g)(B),U={};for(const h in y){const w=y[h],x=E[h],i=w.type;if(void 0!==x&&null!==x&&("uniqueId"!==h||l.AllowLoadingUniqueId))switch(i){case 0:case 6:case 9:case 11:B[h]=x;break;case 1:P.cloneTexturesOnlyOnce&&U[x.uniqueId]?B[h]=U[x.uniqueId]:(B[h]=G||x.isRenderTarget?x:x.clone(),U[x.uniqueId]=B[h]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:B[h]=G?x:x.clone()}}return B};class l{static AppendSerializedAnimations(w,E){if(w.animations){E.animations=[];for(let G=0;G<w.animations.length;G++){const P=w.animations[G];E.animations.push(P.serialize())}}}static Serialize(w,E){E||(E={}),h.e&&(E.tags=h.e.GetTags(w));const G=(0,x.g)(w);for(const P in G){const h=G[P],B=h.sourceName||P,y=h.type,x=w[P];if(void 0!==x&&null!==x&&("uniqueId"!==P||l.AllowLoadingUniqueId))switch(y){case 0:E[B]=x;break;case 1:case 3:case 7:case 9:E[B]=x.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:E[B]=x.Lh();break;case 6:case 11:E[B]=x.id}}return E}static ParseProperties(w,E,G,P){P||(P="");const h=(0,x.g)(E);for(const x in h){const U=h[x],i=w[U.sourceName||x],O=U.type;if(void 0!==i&&null!==i&&("uniqueId"!==x||l.AllowLoadingUniqueId)){const w=E;switch(O){case 0:w[x]=i;break;case 1:G&&(w[x]=l._TextureParser(i,G,P));break;case 2:w[x]=B.dE.KE(i);break;case 3:w[x]=l._FresnelParametersParser(i);break;case 4:w[x]=y.Vector2.KE(i);break;case 5:w[x]=y.QE.KE(i);break;case 6:G&&(w[x]=G.getLastMeshById(i));break;case 7:w[x]=l._ColorCurvesParser(i);break;case 8:w[x]=B.Tx.KE(i);break;case 9:w[x]=l._ImageProcessingConfigurationParser(i);break;case 10:w[x]=y.Quaternion.KE(i);break;case 11:G&&(w[x]=G.getCameraById(i));break;case 12:w[x]=y.Matrix.KE(i)}}}}static Parse(w,E,G){let P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const B=w();return h.e&&h.e.AddTagsTo(B,E.tags),l.ParseProperties(E,B,G,P),B}static Clone(w,E){return U(w,E,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(w,E){return U(w,E,!0)}}l.AllowLoadingUniqueId=!1,l._ImageProcessingConfigurationParser=w=>{throw(0,P.d)("ImageProcessingConfiguration")},l._FresnelParametersParser=w=>{throw(0,P.d)("FresnelParameters")},l._ColorCurvesParser=w=>{throw(0,P.d)("ColorCurves")},l._TextureParser=(w,E,G)=>{throw(0,P.d)("Texture")}},11712:(w,E,G)=>{G.d(E,{e:()=>h});class P{static Eval(w,E){return"true"===(w=w.match(/\([^()]*\)/g)?w.replace(/\([^()]*\)/g,(w=>(w=w.slice(1,w.length-1),P._HandleParenthesisContent(w,E)))):P._HandleParenthesisContent(w,E))||"false"!==w&&P.Eval(w,E)}static _HandleParenthesisContent(w,E){let G;E=E||(w=>"true"===w);const h=w.split("||");for(const B in h)if(Object.prototype.hasOwnProperty.call(h,B)){let w=P._SimplifyNegation(h[B].trim());const y=w.split("&&");if(y.length>1)for(let h=0;h<y.length;++h){const B=P._SimplifyNegation(y[h].trim());if(G="true"!==B&&"false"!==B?"!"===B[0]?!E(B.substring(1)):E(B):"true"===B,!G){w="false";break}}if(G||"true"===w){G=!0;break}G="true"!==w&&"false"!==w?"!"===w[0]?!E(w.substring(1)):E(w):"true"===w}return G?"true":"false"}static _SimplifyNegation(w){return"!true"===(w=(w=w.replace(/^[\s!]+/,(w=>(w=w.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?w="false":"!false"===w&&(w="true"),w}}class h{static EnableFor(w){w._tags=w._tags||{},w.hasTags=()=>h.HasTags(w),w.addTags=E=>h.AddTagsTo(w,E),w.removeTags=E=>h.RemoveTagsFrom(w,E),w.matchesTagsQuery=E=>h.MatchesQuery(w,E)}static DisableFor(w){delete w._tags,delete w.hasTags,delete w.addTags,delete w.removeTags,delete w.matchesTagsQuery}static HasTags(w){if(!w._tags)return!1;const E=w._tags;for(const G in E)if(Object.prototype.hasOwnProperty.call(E,G))return!0;return!1}static GetTags(w){let E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!w._tags)return null;if(E){const E=[];for(const G in w._tags)Object.prototype.hasOwnProperty.call(w._tags,G)&&!0===w._tags[G]&&E.push(G);return E.join(" ")}return w._tags}static AddTagsTo(w,E){if(!E)return;if("string"!==typeof E)return;const G=E.split(" ");for(const P of G)h._AddTagTo(w,P)}static _AddTagTo(w,E){""!==(E=E.trim())&&"true"!==E&&"false"!==E&&(E.match(/[\s]/)||E.match(/^([!]|([|]|[&]){2})/)||(h.EnableFor(w),w._tags[E]=!0))}static RemoveTagsFrom(w,E){if(!h.HasTags(w))return;const G=E.split(" ");for(const P in G)h._RemoveTagFrom(w,G[P])}static _RemoveTagFrom(w,E){delete w._tags[E]}static MatchesQuery(w,E){return void 0===E||(""===E?h.HasTags(w):P.Eval(E,(E=>h.HasTags(w)&&w._tags[E])))}}},11668:(w,E,G)=>{G.d(E,{c:()=>P});function P(w,E,G,P){var h,B=arguments.length,y=B<3?E:null===P?P=Object.getOwnPropertyDescriptor(E,G):P;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)y=Reflect.decorate(w,E,G,P);else for(var x=w.length-1;x>=0;x--)(h=w[x])&&(y=(B<3?h(y):B>3?h(E,G,y):h(E,G))||y);return B>3&&y&&Object.defineProperty(E,G,y),y}Object.create;Object.create}}]);