"use strict";(self.fwuvyyymhp8=self.fwuvyyymhp8||[]).push([[13],{12436:(N,U,V)=>{V.d(U,{c:()=>A});let A=!1},12402:(N,U,V)=>{V.d(U,{b:()=>k});var A=V(12367),t=V(12369),n=V(12182),q=V(12383),i=V(12223),z=V(12351),S=(V(12232),V(12408));class E{get wrapU(){return this._wrapU}set wrapU(N){this._wrapU=N}get wrapV(){return this._wrapV}set wrapV(N){this._wrapV=N}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(N){this._texture&&(this._texture.isCube=N)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(N){this._texture&&(this._texture.is3D=N)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(N){this._texture&&(this._texture.is2DArray=N)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(N){return void 0!==(null===N||void 0===N?void 0:N.shareDepth)}constructor(N){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=S.d.Zero(),this._cachedBaseSize=S.d.Zero(),this._initialSamplingMode=2,this._texture=E._IsRenderTargetWrapper(N)?N.texture:N,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(N){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(N,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var p=V(12413);class k extends E{set ki(N){this._hasAlpha!==N&&(this._hasAlpha=N,this._scene&&this._scene.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))))}get ki(){return this._hasAlpha}set getAlphaFromRGB(N){this._getAlphaFromRGB!==N&&(this._getAlphaFromRGB=N,this._scene&&this._scene.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(N){this._coordinatesIndex!==N&&(this._coordinatesIndex=N,this._scene&&this._scene.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(N){this._coordinatesMode!==N&&(this._coordinatesMode=N,this._scene&&this._scene.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(N){this._wrapU=N}get wrapV(){return this._wrapV}set wrapV(N){this._wrapV=N}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(N){this._texture?this._texture.isCube=N:this._isCube=N}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(N){this._texture&&(this._texture.is3D=N)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(N){this._texture&&(this._texture.is2DArray=N)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(N){var U;if(this._texture){if(this._texture._gammaSpace===N)return;this._texture._gammaSpace=N}else{if(this._gammaSpace===N)return;this._gammaSpace=N}null===(U=this.YN())||void 0===U||U.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(N){var U;N!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=N),null===(U=this.YN())||void 0===U||U.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(N){this._texture&&(this._texture._lodGenerationOffset=N)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(N){this._texture&&(this._texture._lodGenerationScale=N)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(N){this._texture&&(this._texture._linearSpecularLOD=N)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(N){this._texture&&(this._texture._irradianceTexture=N)}get uid(){return this._uid||(this._uid=(0,z.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(N){this._onDisposeObserver&&this.Ai.remove(this._onDisposeObserver),this._onDisposeObserver=this.Ai.add(N)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=k.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Ai=new n.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,N?k._IsScene(N)?this._scene=N:this._engine=N:this._scene=i.e.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=U,this._uid=null}YN(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return q.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return q.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(N){}get canRescale(){return!1}_getFromCache(N,U,V,A,t,n){const q=this._getEngine();if(!q)return null;const i=q._getUseSRGBBuffer(!!t,U),z=q.getLoadedTexturesCache();for(let S=0;S<z.length;S++){const q=z[S];if((void 0===t||i===q._useSRGBBuffer)&&(void 0===A||A===q.invertY)&&q.url===N&&q.generateMipMaps===!U&&(!V||V===q.samplingMode)&&(void 0===n||n===q.isCube))return q.incrementReferences(),q}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const N=this.YN();N&&N.markAllMaterialsAsDirty(1)}readPixels(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const S=this._getEngine();if(!S)return null;const E=this.getSize();let p=E.width,k=E.height;0!==U&&(p/=Math.pow(2,U),k/=Math.pow(2,U),p=Math.round(p),k=Math.round(k)),i=Math.min(p,i),z=Math.min(k,z);try{return this._texture.isCube?S._readTexturePixels(this._texture,i,z,N,U,V,A,t,n,q):S._readTexturePixels(this._texture,i,z,-1,U,V,A,t,n,q)}catch(B){return null}}_readPixelsSync(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],t=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const n=this.getSize();let q=n.width,i=n.height;const z=this._getEngine();if(!z)return null;0!=U&&(q/=Math.pow(2,U),i/=Math.pow(2,U),q=Math.round(q),i=Math.round(i));try{return this._texture.isCube?z._readTexturePixelsSync(this._texture,q,i,N,U,V,A,t):z._readTexturePixelsSync(this._texture,q,i,-1,U,V,A,t)}catch(S){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const N=this._scene.textures.indexOf(this);if(N>=0&&this._scene.textures.splice(N,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const N=this._parentContainer.textures.indexOf(this);N>-1&&this._parentContainer.textures.splice(N,1),this._parentContainer=null}}this.Ai.notifyObservers(this),this.Ai.clear(),this.metadata=null,super.dispose()}serialize(){let N=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!N)return null;const U=p.d.Serialize(this);return p.d.AppendSerializedAnimations(this,U),U}static WhenAllReady(N,U){let V=N.length;if(0!==V)for(let A=0;A<N.length;A++){const t=N[A];if(t.isReady())0===--V&&U();else{const N=t.onLoadObservable;N?N.addOnce((()=>{0===--V&&U()})):0===--V&&U()}}else U()}static _IsScene(N){return"Scene"===N.getClassName()}}k.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,A.b)([(0,t.N)()],k.prototype,"uniqueId",void 0),(0,A.b)([(0,t.N)()],k.prototype,"name",void 0),(0,A.b)([(0,t.N)()],k.prototype,"displayName",void 0),(0,A.b)([(0,t.N)()],k.prototype,"metadata",void 0),(0,A.b)([(0,t.N)("ki")],k.prototype,"_hasAlpha",void 0),(0,A.b)([(0,t.N)("getAlphaFromRGB")],k.prototype,"_getAlphaFromRGB",void 0),(0,A.b)([(0,t.N)()],k.prototype,"level",void 0),(0,A.b)([(0,t.N)("coordinatesIndex")],k.prototype,"_coordinatesIndex",void 0),(0,A.b)([(0,t.N)()],k.prototype,"optimizeUVAllocation",void 0),(0,A.b)([(0,t.N)("coordinatesMode")],k.prototype,"_coordinatesMode",void 0),(0,A.b)([(0,t.N)()],k.prototype,"wrapU",null),(0,A.b)([(0,t.N)()],k.prototype,"wrapV",null),(0,A.b)([(0,t.N)()],k.prototype,"wrapR",void 0),(0,A.b)([(0,t.N)()],k.prototype,"anisotropicFilteringLevel",void 0),(0,A.b)([(0,t.N)()],k.prototype,"isCube",null),(0,A.b)([(0,t.N)()],k.prototype,"is3D",null),(0,A.b)([(0,t.N)()],k.prototype,"is2DArray",null),(0,A.b)([(0,t.N)()],k.prototype,"gammaSpace",null),(0,A.b)([(0,t.N)()],k.prototype,"invertZ",void 0),(0,A.b)([(0,t.N)()],k.prototype,"lodLevelInAlpha",void 0),(0,A.b)([(0,t.N)()],k.prototype,"lodGenerationOffset",null),(0,A.b)([(0,t.N)()],k.prototype,"lodGenerationScale",null),(0,A.b)([(0,t.N)()],k.prototype,"linearSpecularLOD",null),(0,A.b)([(0,t.D)()],k.prototype,"irradianceTexture",null),(0,A.b)([(0,t.N)()],k.prototype,"isRenderTarget",void 0)},12364:(N,U,V)=>{V.d(U,{e:()=>v});var A=V(12367),t=V(12369),n=V(12182),q=V(12383),i=V(12402),z=V(12344),S=V(12209),E=V(12264),p=V(12340),k=V(12429),B=V(12243);function C(N,U){let V=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const A=U.width,t=U.height;if(N instanceof Float32Array){let U=N.byteLength/N.BYTES_PER_ELEMENT;const V=new Uint8Array(U);for(;--U>=0;){let A=N[U];A<0?A=0:A>1&&(A=1),V[U]=255*A}N=V}const n=document.createElement("canvas");n.width=A,n.height=t;const q=n.getContext("2d");if(!q)return null;const i=q.createImageData(A,t);if(i.data.set(N),q.putImageData(i,0,0),V){const N=document.createElement("canvas");N.width=A,N.height=t;const U=N.getContext("2d");return U?(U.translate(0,t),U.scale(1,-1),U.drawImage(n,0,0),N.toDataURL("image/png")):null}return n.toDataURL("image/png")}function x(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=N.getInternalTexture();if(!A)return null;const t=N._readPixelsSync(U,V);return t?C(t,N.getSize(),A.invertY):null}async function J(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const A=N.getInternalTexture();if(!A)return null;const t=await N.readPixels(U,V);return t?C(t,N.getSize(),A.invertY):null}var d=V(12436),r=V(12413);class v extends i.b{static _CreateVideoTexture(N,U,V){arguments.length>5&&void 0!==arguments[5]||v.TRILINEAR_SAMPLINGMODE;throw(0,S.d)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(N){this._isBlocking=N}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(N,U,V,A){let t,q=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v.TRILINEAR_SAMPLINGMODE,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,z=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],k=arguments.length>9?arguments[9]:void 0,B=arguments.length>10?arguments[10]:void 0,C=arguments.length>11?arguments[11]:void 0,x=arguments.length>12?arguments[12]:void 0,J=arguments.length>13?arguments[13]:void 0;super(U),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new n.d,this._isBlocking=!0,this.name=N||"",this.url=N;let r=!1,h=null,c=!0;"object"===typeof V&&null!==V?(t=V.noMipmap??!1,A=V.invertY??!d.c,q=V.samplingMode??v.TRILINEAR_SAMPLINGMODE,i=V.T??null,z=V.onError??null,S=V.buffer??null,p=V.deleteBuffer??!1,k=V.format,B=V.mimeType,C=V.loaderOptions,x=V.creationFlags,r=V.useSRGBBuffer??!1,h=V.internalTexture??null,c=V.gammaSpace??c,J=V.forcedExtension??J):t=!!V,this._gammaSpace=c,this._noMipmap=t,this._invertY=void 0===A?!d.c:A,this._initialSamplingMode=q,this._buffer=S,this._deleteBuffer=p,this._mimeType=B,this._loaderOptions=C,this._creationFlags=x,this._useSRGBBuffer=r,this._forcedExtension=J,void 0!==k&&(this._format=k);const H=this.YN(),Y=this._getEngine();if(!Y)return;Y.onBeforeTextureInitObservable.notifyObservers(this);const W=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),i&&i(),!this.isBlocking&&H&&H.resetCachedMaterial()},s=(N,U)=>{this._loadingError=!0,this._errorObject={message:N,exception:U},z&&z(N,U),v.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!h)return this._delayedOnLoad=W,void(this._delayedOnError=s);if(this._texture=h??this._getFromCache(this.url,t,q,this._invertY,r,this.isCube),this._texture)if(this._texture.isReady)E.c.SetImmediate((()=>W()));else{const N=this._texture.onLoadedObservable.add(W);this._texture.onErrorObservable.add((U=>{var V;s(U.message,U.exception),null===(V=this._texture)||void 0===V||V.onLoadedObservable.remove(N)}))}else if(H&&H.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=W,this._delayedOnError=s;else{try{this._texture=Y.createTexture(this.url,t,this._invertY,H,q,W,s,this._buffer,void 0,this._format,this._forcedExtension,B,C,x,r)}catch(M){throw s("error loading",M),M}p&&(this._buffer=null)}}updateURL(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,V=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.YN().markAllMaterialsAsDirty(1,(N=>N.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=N),this.url=N,this._buffer=U,this._forcedExtension=A,this.delayLoadState=4,V&&(this._delayedOnLoad=V),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const N=this.YN();N&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?E.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=N.getEngine().createTexture(this.url,this._noMipmap,this._invertY,N,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(N,U,V,A){N*=this._cachedUScale,U*=this._cachedVScale,N-=this.uRotationCenter*this._cachedUScale,U-=this.vRotationCenter*this._cachedVScale,V-=this.wRotationCenter,q.CU.TransformCoordinatesFromFloatsToRef(N,U,V,this._rowGenerationMatrix,A),A.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,A.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,A.z+=this.wRotationCenter}getTextureMatrix(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*N===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*N,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=q.Matrix.Zero(),this._rowGenerationMatrix=new q.Matrix,this._t0=q.CU.Zero(),this._t1=q.CU.Zero(),this._t2=q.CU.Zero()),q.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(q.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,q.TmpVectors.Matrix[0]),q.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,q.TmpVectors.Matrix[1]),q.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,q.TmpVectors.Matrix[2]),q.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,q.TmpVectors.Matrix[3]),q.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(q.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.Vp(this._t0),this._t2.Vp(this._t0),q.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const U=this.YN();if(!U)return this._cachedTextureMatrix;const V=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&V!==this._cachedIdentity3x2&&U.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const N=this.YN();if(!N)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==v.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===N.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=q.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=q.Matrix.Zero());const U=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case v.PLANAR_MODE:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case v.PROJECTION_MODE:{q.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const U=N.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=U.updateFlag,U.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:q.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return U&&N.markAllMaterialsAsDirty(1,(N=>N.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const N={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,T:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return r.d.Clone((()=>new v(this._texture?this._texture.url:null,this.YN(),N)),this)}serialize(){var N;const U=this.name;v.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const V=super.serialize(v._SerializeInternalTextureUniqueId);if(!V)return null;if(v.SerializeBuffers||v.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))V.base64String=this._buffer,V.name=V.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const N=this.mimeType||"image/png";V.base64String=`data:${N};base64,${(0,B.f)(this._buffer)}`}else(v.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(V.base64String=!this._engine||this._engine._features.supportSyncTextureRead?x(this):J(this));var A;(V.invertY=this._invertY,V.samplingMode=this.samplingMode,V._creationFlags=this._creationFlags,V._useSRGBBuffer=this._useSRGBBuffer,v._SerializeInternalTextureUniqueId)&&(V.internalTextureUniqueId=null===(A=this._texture)||void 0===A?void 0:A.uniqueId);return V.internalTextureLabel=null===(N=this._texture)||void 0===N?void 0:N.label,V.noMipmap=this._noMipmap,this.name=U,V}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(N,U,V){if(N.customType){const A=p.b.Instantiate(N.customType).Parse(N,U,V);return N.samplingMode&&A.updateSamplingMode&&A._samplingMode&&A._samplingMode!==N.samplingMode&&A.updateSamplingMode(N.samplingMode),A}if(N.isCube&&!N.isRenderTarget)return v._CubeTextureParser(N,U,V);const A=void 0!==N.internalTextureUniqueId;if(!N.name&&!N.isRenderTarget&&!A)return null;let t;if(A){const V=U.getEngine().getLoadedTexturesCache();for(const U of V)if(U.uniqueId===N.internalTextureUniqueId){t=U;break}}const n=U=>{if(U&&U._texture&&(U._texture._cachedWrapU=null,U._texture._cachedWrapV=null,U._texture._cachedWrapR=null),N.samplingMode){const V=N.samplingMode;U&&U.samplingMode!==V&&U.updateSamplingMode(V)}if(U&&N.animations)for(let V=0;V<N.animations.length;V++){const A=N.animations[V],t=(0,z.d)("BABYLON.Animation");t&&U.animations.push(t.Parse(A))}U&&U._texture&&(A&&!t&&U._texture._setUniqueId(N.internalTextureUniqueId),U._texture.label=N.internalTextureLabel)};return r.d.Parse((()=>{let A=!0;if(N.noMipmap&&(A=!1),N.mirrorPlane){const V=v._CreateMirror(N.name,N.renderTargetSize,U,A);return V._waitingRenderList=N.renderList,V.mirrorPlane=k.d.vU(N.mirrorPlane),n(V),V}if(N.isRenderTarget){let V=null;if(N.isCube){if(U.reflectionProbes)for(let A=0;A<U.reflectionProbes.length;A++){const V=U.reflectionProbes[A];if(V.name===N.name)return V.cubeTexture}}else V=v._CreateRenderTargetTexture(N.name,N.renderTargetSize,U,A,N._creationFlags??0),V._waitingRenderList=N.renderList;return n(V),V}if(N.isVideo){const t=v._CreateVideoTexture(V+(N.url||N.name),V+(N.src||N.url),U,A,N.invertY,N.samplingMode,N.settings||{});return n(t),t}{let q;if(N.base64String&&!t)q=v.CreateFromBase64String(N.base64String,N.base64String,U,!A,N.invertY,N.samplingMode,(()=>{n(q)}),N._creationFlags??0,N._useSRGBBuffer??!1),q.name=N.name;else{let i;i=N.name&&(N.name.indexOf("://")>0||N.name.startsWith("data:"))?N.name:V+N.name,N.url&&(N.url.startsWith("data:")||v.UseSerializedUrlIfAny)&&(i=N.url);const z={noMipmap:!A,invertY:N.invertY,samplingMode:N.samplingMode,T:()=>{n(q)},internalTexture:t};q=new v(i,U,z)}return q}}),N,U)}static CreateFromBase64String(N,U,V,A,t){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:v.TRILINEAR_SAMPLINGMODE;return new v("data:"+U,V,A,t,n,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,N,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(N,U,V){let A=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=arguments.length>4?arguments[4]:void 0,n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],q=arguments.length>6&&void 0!==arguments[6]?arguments[6]:v.TRILINEAR_SAMPLINGMODE,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,z=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,S=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,E=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return"data:"!==N.substring(0,5)&&(N="data:"+N),new v(N,V,t,n,q,i,z,U,A,S,void 0,void 0,E,p)}}v.SerializeBuffers=!0,v.ForceSerializeBuffers=!1,v.OnTextureLoadErrorObservable=new n.d,v._SerializeInternalTextureUniqueId=!1,v._CubeTextureParser=(N,U,V)=>{throw(0,S.d)("CubeTexture")},v._CreateMirror=(N,U,V,A)=>{throw(0,S.d)("MirrorTexture")},v._CreateRenderTargetTexture=(N,U,V,A,t)=>{throw(0,S.d)("RenderTargetTexture")},v.NEAREST_SAMPLINGMODE=1,v.NEAREST_NEAREST_MIPLINEAR=8,v.BILINEAR_SAMPLINGMODE=2,v.LINEAR_LINEAR_MIPNEAREST=11,v.TRILINEAR_SAMPLINGMODE=3,v.LINEAR_LINEAR_MIPLINEAR=3,v.NEAREST_NEAREST_MIPNEAREST=4,v.NEAREST_LINEAR_MIPNEAREST=5,v.NEAREST_LINEAR_MIPLINEAR=6,v.NEAREST_LINEAR=7,v.NEAREST_NEAREST=1,v.LINEAR_NEAREST_MIPNEAREST=9,v.LINEAR_NEAREST_MIPLINEAR=10,v.LINEAR_LINEAR=2,v.LINEAR_NEAREST=12,v.EXPLICIT_MODE=0,v.SPHERICAL_MODE=1,v.PLANAR_MODE=2,v.CUBIC_MODE=3,v.PROJECTION_MODE=4,v.SKYBOX_MODE=5,v.INVCUBIC_MODE=6,v.EQUIRECTANGULAR_MODE=7,v.FIXED_EQUIRECTANGULAR_MODE=8,v.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,v.CLAMP_ADDRESSMODE=0,v.WRAP_ADDRESSMODE=1,v.MIRROR_ADDRESSMODE=2,v.UseSerializedUrlIfAny=!1,(0,A.b)([(0,t.N)()],v.prototype,"url",void 0),(0,A.b)([(0,t.N)()],v.prototype,"uOffset",void 0),(0,A.b)([(0,t.N)()],v.prototype,"vOffset",void 0),(0,A.b)([(0,t.N)()],v.prototype,"uScale",void 0),(0,A.b)([(0,t.N)()],v.prototype,"vScale",void 0),(0,A.b)([(0,t.N)()],v.prototype,"uAng",void 0),(0,A.b)([(0,t.N)()],v.prototype,"vAng",void 0),(0,A.b)([(0,t.N)()],v.prototype,"wAng",void 0),(0,A.b)([(0,t.N)()],v.prototype,"uRotationCenter",void 0),(0,A.b)([(0,t.N)()],v.prototype,"vRotationCenter",void 0),(0,A.b)([(0,t.N)()],v.prototype,"wRotationCenter",void 0),(0,A.b)([(0,t.N)()],v.prototype,"homogeneousRotationInUVTransform",void 0),(0,A.b)([(0,t.N)()],v.prototype,"isBlocking",null),(0,z.e)("BABYLON.Texture",v),r.d._TextureParser=v.Parse},12429:(N,U,V)=>{V.d(U,{d:()=>t});var A=V(12383);class t{constructor(N,U,V,t){this.normal=new A.CU(N,U,V),this.d=t}pi(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new t(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let N=this.normal.getHashCode();return N=397*N^this.d,N}normalize(){const N=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let U=0;return 0!==N&&(U=1/N),this.normal.x*=U,this.normal.y*=U,this.normal.z*=U,this.d*=U,this}transform(N){const U=t._TmpMatrix;N.invertToRef(U);const V=U.m,A=this.normal.x,n=this.normal.y,q=this.normal.z,i=this.d,z=A*V[0]+n*V[1]+q*V[2]+i*V[3],S=A*V[4]+n*V[5]+q*V[6]+i*V[7],E=A*V[8]+n*V[9]+q*V[10]+i*V[11],p=A*V[12]+n*V[13]+q*V[14]+i*V[15];return new t(z,S,E,p)}dotCoordinate(N){return this.normal.x*N.x+this.normal.y*N.y+this.normal.z*N.z+this.d}copyFromPoints(N,U,V){const A=U.x-N.x,t=U.y-N.y,n=U.z-N.z,q=V.x-N.x,i=V.y-N.y,z=V.z-N.z,S=t*z-n*i,E=n*q-A*z,p=A*i-t*q,k=Math.sqrt(S*S+E*E+p*p);let B;return B=0!==k?1/k:0,this.normal.x=S*B,this.normal.y=E*B,this.normal.z=p*B,this.d=-(this.normal.x*N.x+this.normal.y*N.y+this.normal.z*N.z),this}isFrontFacingTo(N,U){return A.CU.Dot(this.normal,N)<=U}signedDistanceTo(N){return A.CU.Dot(N,this.normal)+this.d}static vU(N){return new t(N[0],N[1],N[2],N[3])}static FromPoints(N,U,V){const A=new t(0,0,0,0);return A.copyFromPoints(N,U,V),A}static FromPositionAndNormal(N,U){const V=new t(0,0,0,0);return this.FromPositionAndNormalToRef(N,U,V)}static FromPositionAndNormalToRef(N,U,V){return V.normal.A(U),V.normal.normalize(),V.d=-N.dot(V.normal),V}static SignedDistanceToPlaneFromPositionAndNormal(N,U,V){const t=-(U.x*N.x+U.y*N.y+U.z*N.z);return A.CU.Dot(V,U)+t}}t._TmpMatrix=A.Matrix.Identity()},12408:(N,U,V)=>{V.d(U,{d:()=>A});class A{constructor(N,U){this.width=N,this.height=U}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let N=0|this.width;return N=397*N^this.height,N}A(N){this.width=N.width,this.height=N.height}hi(N,U){return this.width=N,this.height=U,this}set(N,U){return this.hi(N,U)}multiplyByFloats(N,U){return new A(this.width*N,this.height*U)}clone(){return new A(this.width,this.height)}equals(N){return!!N&&(this.width===N.width&&this.height===N.height)}get surface(){return this.width*this.height}static Zero(){return new A(0,0)}add(N){return new A(this.width+N.width,this.height+N.height)}xU(N){return new A(this.width-N.width,this.height-N.height)}scale(N){return new A(this.width*N,this.height*N)}static Lerp(N,U,V){const t=N.width+(U.width-N.width)*V,n=N.height+(U.height-N.height)*V;return new A(t,n)}}},12375:(N,U,V)=>{V.d(U,{d:()=>n,e:()=>q});const A={},t={};function n(N){const U=N.getClassName();return t[U]||(t[U]={}),t[U]}function q(N){const U=N.getClassName();if(A[U])return A[U];A[U]={};const V=A[U];let n=N,q=U;for(;q;){const N=t[q];for(const t in N)V[t]=N[t];let U,A=!1;do{if(U=Object.getPrototypeOf(n),!U.getClassName){A=!0;break}if(U.getClassName()!==q)break;n=U}while(U);if(A)break;q=U.getClassName(),n=U}return V}},12369:(N,U,V)=>{V.d(U,{B:()=>J,D:()=>i,H:()=>E,J:()=>p,N:()=>q,e:()=>n,f:()=>r,h:()=>B,j:()=>z,n:()=>C,r:()=>S,t:()=>x,v:()=>d,y:()=>k});var A=V(12375);function t(N,U){return(V,t)=>{const n=(0,A.d)(V);n[t]||(n[t]={type:N,sourceName:U})}}function n(N){return function(N){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(V,A)=>{const t=U||"_"+A;Object.defineProperty(V,A,{get:function(){return this[t]},set:function(U){var A;"function"===typeof(null===(A=this[t])||void 0===A?void 0:A.equals)&&this[t].equals(U)||this[t]!==U&&(this[t]=U,V[N].apply(this))},enumerable:!0,configurable:!0})}}(N,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function q(N){return t(0,N)}function i(N){return t(1,N)}function z(N){return t(2,N)}function S(N){return t(3,N)}function E(N){return t(4,N)}function p(N){return t(5,N)}function k(N){return t(6,N)}function B(N){return t(7,N)}function C(N){return t(8,N)}function x(N){return t(9,N)}function J(N){return t(10,N)}function d(N){return t(12,N)}function r(N,U,V,A){const t=V.value;V.value=function(){let V=t;if("undefined"!==typeof _native&&_native[U]){const N=_native[U];V=A?function(){return A(...arguments)?N(...arguments):t(...arguments)}:N}return N[U]=V,V(...arguments)}}r.filter=function(N){return(U,V,A)=>r(U,V,A,N)}},12413:(N,U,V)=>{V.d(U,{d:()=>S});var A=V(12209),t=V(12420),n=V(12426),q=V(12383),i=V(12375);const z=function(N,U,V){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=N();t.c&&t.c.HasTags(U)&&t.c.AddTagsTo(n,t.c.GetTags(U,!0));const q=(0,i.e)(n),z={};for(const t in q){const N=q[t],i=U[t],E=N.type;if(void 0!==i&&null!==i&&("uniqueId"!==t||S.AllowLoadingUniqueId))switch(E){case 0:case 6:case 9:case 11:n[t]=i;break;case 1:A.cloneTexturesOnlyOnce&&z[i.uniqueId]?n[t]=z[i.uniqueId]:(n[t]=V||i.isRenderTarget?i:i.clone(),z[i.uniqueId]=n[t]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:n[t]=V?i:i.clone()}}return n};class S{static AppendSerializedAnimations(N,U){if(N.animations){U.animations=[];for(let V=0;V<N.animations.length;V++){const A=N.animations[V];U.animations.push(A.serialize())}}}static Serialize(N,U){U||(U={}),t.c&&(U.tags=t.c.GetTags(N));const V=(0,i.e)(N);for(const A in V){const t=V[A],n=t.sourceName||A,q=t.type,i=N[A];if(void 0!==i&&null!==i&&("uniqueId"!==A||S.AllowLoadingUniqueId))switch(q){case 0:U[n]=i;break;case 1:case 3:case 7:case 9:U[n]=i.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:U[n]=i.pi();break;case 6:case 11:U[n]=i.id}}return U}static ParseProperties(N,U,V,A){A||(A="");const t=(0,i.e)(U);for(const i in t){const z=t[i],E=N[z.sourceName||i],p=z.type;if(void 0!==E&&null!==E&&("uniqueId"!==i||S.AllowLoadingUniqueId)){const N=U;switch(p){case 0:N[i]=E;break;case 1:V&&(N[i]=S._TextureParser(E,V,A));break;case 2:N[i]=n.rU.vU(E);break;case 3:N[i]=S._FresnelParametersParser(E);break;case 4:N[i]=q.Vector2.vU(E);break;case 5:N[i]=q.CU.vU(E);break;case 6:V&&(N[i]=V.getLastMeshById(E));break;case 7:N[i]=S._ColorCurvesParser(E);break;case 8:N[i]=n.Yi.vU(E);break;case 9:N[i]=S._ImageProcessingConfigurationParser(E);break;case 10:N[i]=q.Quaternion.vU(E);break;case 11:V&&(N[i]=V.getCameraById(E));break;case 12:N[i]=q.Matrix.vU(E)}}}}static Parse(N,U,V){let A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=N();return t.c&&t.c.AddTagsTo(n,U.tags),S.ParseProperties(U,n,V,A),n}static Clone(N,U){return z(N,U,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(N,U){return z(N,U,!0)}}S.AllowLoadingUniqueId=!1,S._ImageProcessingConfigurationParser=N=>{throw(0,A.d)("ImageProcessingConfiguration")},S._FresnelParametersParser=N=>{throw(0,A.d)("FresnelParameters")},S._ColorCurvesParser=N=>{throw(0,A.d)("ColorCurves")},S._TextureParser=(N,U,V)=>{throw(0,A.d)("Texture")}},12420:(N,U,V)=>{V.d(U,{c:()=>t});class A{static Eval(N,U){return"true"===(N=N.match(/\([^()]*\)/g)?N.replace(/\([^()]*\)/g,(N=>(N=N.slice(1,N.length-1),A._HandleParenthesisContent(N,U)))):A._HandleParenthesisContent(N,U))||"false"!==N&&A.Eval(N,U)}static _HandleParenthesisContent(N,U){let V;U=U||(N=>"true"===N);const t=N.split("||");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let N=A._SimplifyNegation(t[n].trim());const q=N.split("&&");if(q.length>1)for(let t=0;t<q.length;++t){const n=A._SimplifyNegation(q[t].trim());if(V="true"!==n&&"false"!==n?"!"===n[0]?!U(n.substring(1)):U(n):"true"===n,!V){N="false";break}}if(V||"true"===N){V=!0;break}V="true"!==N&&"false"!==N?"!"===N[0]?!U(N.substring(1)):U(N):"true"===N}return V?"true":"false"}static _SimplifyNegation(N){return"!true"===(N=(N=N.replace(/^[\s!]+/,(N=>(N=N.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?N="false":"!false"===N&&(N="true"),N}}class t{static EnableFor(N){N._tags=N._tags||{},N.hasTags=()=>t.HasTags(N),N.addTags=U=>t.AddTagsTo(N,U),N.removeTags=U=>t.RemoveTagsFrom(N,U),N.matchesTagsQuery=U=>t.MatchesQuery(N,U)}static DisableFor(N){delete N._tags,delete N.hasTags,delete N.addTags,delete N.removeTags,delete N.matchesTagsQuery}static HasTags(N){if(!N._tags)return!1;const U=N._tags;for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!0;return!1}static GetTags(N){let U=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!N._tags)return null;if(U){const U=[];for(const V in N._tags)Object.prototype.hasOwnProperty.call(N._tags,V)&&!0===N._tags[V]&&U.push(V);return U.join(" ")}return N._tags}static AddTagsTo(N,U){if(!U)return;if("string"!==typeof U)return;const V=U.split(" ");for(const A of V)t._AddTagTo(N,A)}static _AddTagTo(N,U){""!==(U=U.trim())&&"true"!==U&&"false"!==U&&(U.match(/[\s]/)||U.match(/^([!]|([|]|[&]){2})/)||(t.EnableFor(N),N._tags[U]=!0))}static RemoveTagsFrom(N,U){if(!t.HasTags(N))return;const V=U.split(" ");for(const A in V)t._RemoveTagFrom(N,V[A])}static _RemoveTagFrom(N,U){delete N._tags[U]}static MatchesQuery(N,U){return void 0===U||(""===U?t.HasTags(N):A.Eval(U,(U=>t.HasTags(N)&&N._tags[U])))}}},12367:(N,U,V)=>{V.d(U,{b:()=>A});function A(N,U,V,A){var t,n=arguments.length,q=n<3?U:null===A?A=Object.getOwnPropertyDescriptor(U,V):A;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)q=Reflect.decorate(N,U,V,A);else for(var i=N.length-1;i>=0;i--)(t=N[i])&&(q=(n<3?t(q):n>3?t(U,V,q):t(U,V))||q);return n>3&&q&&Object.defineProperty(U,V,q),q}Object.create;Object.create}}]);