"use strict";(self.irtrrknfyfo=self.irtrrknfyfo||[]).push([[13],{11425:(B,E,v)=>{v.d(E,{c:()=>z});let z=!1},11401:(B,E,v)=>{v.d(E,{d:()=>Q});var z=v(11366),o=v(11372),q=v(11202),c=v(11380),S=v(11242),x=v(11351),D=(v(11249),v(11404));class h{get wrapU(){return this._wrapU}set wrapU(B){this._wrapU=B}get wrapV(){return this._wrapV}set wrapV(B){this._wrapV=B}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(B){this._texture&&(this._texture.isCube=B)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(B){this._texture&&(this._texture.is3D=B)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(B){this._texture&&(this._texture.is2DArray=B)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(B){return void 0!==(null===B||void 0===B?void 0:B.shareDepth)}constructor(B){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=D.d.Zero(),this._cachedBaseSize=D.d.Zero(),this._initialSamplingMode=2,this._texture=h._IsRenderTargetWrapper(B)?B.texture:B,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(B){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(B,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var y=v(11409);class Q extends h{set Sc(B){this._hasAlpha!==B&&(this._hasAlpha=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get Sc(){return this._hasAlpha}set getAlphaFromRGB(B){this._getAlphaFromRGB!==B&&(this._getAlphaFromRGB=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(B){this._coordinatesIndex!==B&&(this._coordinatesIndex=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(B){this._coordinatesMode!==B&&(this._coordinatesMode=B,this._scene&&this._scene.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(B){this._wrapU=B}get wrapV(){return this._wrapV}set wrapV(B){this._wrapV=B}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(B){this._texture?this._texture.isCube=B:this._isCube=B}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(B){this._texture&&(this._texture.is3D=B)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(B){this._texture&&(this._texture.is2DArray=B)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(B){var E;if(this._texture){if(this._texture._gammaSpace===B)return;this._texture._gammaSpace=B}else{if(this._gammaSpace===B)return;this._gammaSpace=B}null===(E=this.rB())||void 0===E||E.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(B){var E;B!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=B),null===(E=this.rB())||void 0===E||E.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(B){this._texture&&(this._texture._lodGenerationOffset=B)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(B){this._texture&&(this._texture._lodGenerationScale=B)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(B){this._texture&&(this._texture._linearSpecularLOD=B)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(B){this._texture&&(this._texture._irradianceTexture=B)}get uid(){return this._uid||(this._uid=(0,x.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(B){this._onDisposeObserver&&this.eq.remove(this._onDisposeObserver),this._onDisposeObserver=this.eq.add(B)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=Q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.eq=new q.e,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,B?Q._IsScene(B)?this._scene=B:this._engine=B:this._scene=S.b.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=E,this._uid=null}rB(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return c.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return c.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(B){}get canRescale(){return!1}_getFromCache(B,E,v,z,o,q){const c=this._getEngine();if(!c)return null;const S=c._getUseSRGBBuffer(!!o,E),x=c.getLoadedTexturesCache();for(let D=0;D<x.length;D++){const c=x[D];if((void 0===o||S===c._useSRGBBuffer)&&(void 0===z||z===c.invertY)&&c.url===B&&c.generateMipMaps===!E&&(!v||v===c.samplingMode)&&(void 0===q||q===c.isCube))return c.incrementReferences(),c}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const B=this.rB();B&&B.markAllMaterialsAsDirty(1)}readPixels(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,z=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,x=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const D=this._getEngine();if(!D)return null;const h=this.getSize();let y=h.width,Q=h.height;0!==E&&(y/=Math.pow(2,E),Q/=Math.pow(2,E),y=Math.round(y),Q=Math.round(Q)),S=Math.min(y,S),x=Math.min(Q,x);try{return this._texture.isCube?D._readTexturePixels(this._texture,S,x,B,E,v,z,o,q,c):D._readTexturePixels(this._texture,S,x,-1,E,v,z,o,q,c)}catch(P){return null}}_readPixelsSync(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,z=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const q=this.getSize();let c=q.width,S=q.height;const x=this._getEngine();if(!x)return null;0!=E&&(c/=Math.pow(2,E),S/=Math.pow(2,E),c=Math.round(c),S=Math.round(S));try{return this._texture.isCube?x._readTexturePixelsSync(this._texture,c,S,B,E,v,z,o):x._readTexturePixelsSync(this._texture,c,S,-1,E,v,z,o)}catch(D){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const B=this._scene.textures.indexOf(this);if(B>=0&&this._scene.textures.splice(B,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const B=this._parentContainer.textures.indexOf(this);B>-1&&this._parentContainer.textures.splice(B,1),this._parentContainer=null}}this.eq.notifyObservers(this),this.eq.clear(),this.metadata=null,super.dispose()}serialize(){let B=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!B)return null;const E=y.b.Serialize(this);return y.b.AppendSerializedAnimations(this,E),E}static WhenAllReady(B,E){let v=B.length;if(0!==v)for(let z=0;z<B.length;z++){const o=B[z];if(o.isReady())0===--v&&E();else{const B=o.onLoadObservable;B?B.addOnce((()=>{0===--v&&E()})):0===--v&&E()}}else E()}static _IsScene(B){return"Scene"===B.getClassName()}}Q.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,z.c)([(0,o.K)()],Q.prototype,"uniqueId",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"name",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"displayName",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"metadata",void 0),(0,z.c)([(0,o.K)("Sc")],Q.prototype,"_hasAlpha",void 0),(0,z.c)([(0,o.K)("getAlphaFromRGB")],Q.prototype,"_getAlphaFromRGB",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"level",void 0),(0,z.c)([(0,o.K)("coordinatesIndex")],Q.prototype,"_coordinatesIndex",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"optimizeUVAllocation",void 0),(0,z.c)([(0,o.K)("coordinatesMode")],Q.prototype,"_coordinatesMode",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"wrapU",null),(0,z.c)([(0,o.K)()],Q.prototype,"wrapV",null),(0,z.c)([(0,o.K)()],Q.prototype,"wrapR",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"anisotropicFilteringLevel",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"isCube",null),(0,z.c)([(0,o.K)()],Q.prototype,"is3D",null),(0,z.c)([(0,o.K)()],Q.prototype,"is2DArray",null),(0,z.c)([(0,o.K)()],Q.prototype,"gammaSpace",null),(0,z.c)([(0,o.K)()],Q.prototype,"invertZ",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"lodLevelInAlpha",void 0),(0,z.c)([(0,o.K)()],Q.prototype,"lodGenerationOffset",null),(0,z.c)([(0,o.K)()],Q.prototype,"lodGenerationScale",null),(0,z.c)([(0,o.K)()],Q.prototype,"linearSpecularLOD",null),(0,z.c)([(0,o.E)()],Q.prototype,"irradianceTexture",null),(0,z.c)([(0,o.K)()],Q.prototype,"isRenderTarget",void 0)},11361:(B,E,v)=>{v.d(E,{b:()=>V});var z=v(11366),o=v(11372),q=v(11202),c=v(11380),S=v(11401),x=v(11345),D=v(11235),h=v(11278),y=v(11342),Q=v(11420),P=v(11263);function G(B,E){let v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const z=E.width,o=E.height;if(B instanceof Float32Array){let E=B.byteLength/B.BYTES_PER_ELEMENT;const v=new Uint8Array(E);for(;--E>=0;){let z=B[E];z<0?z=0:z>1&&(z=1),v[E]=255*z}B=v}const q=document.createElement("canvas");q.width=z,q.height=o;const c=q.getContext("2d");if(!c)return null;const S=c.createImageData(z,o);if(S.data.set(B),c.putImageData(S,0,0),v){const B=document.createElement("canvas");B.width=z,B.height=o;const E=B.getContext("2d");return E?(E.translate(0,o),E.scale(1,-1),E.drawImage(q,0,0),B.toDataURL("image/png")):null}return q.toDataURL("image/png")}function Y(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const z=B.getInternalTexture();if(!z)return null;const o=B._readPixelsSync(E,v);return o?G(o,B.getSize(),z.invertY):null}async function a(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const z=B.getInternalTexture();if(!z)return null;const o=await B.readPixels(E,v);return o?G(o,B.getSize(),z.invertY):null}var m=v(11425),g=v(11409);class V extends S.d{static _CreateVideoTexture(B,E,v){arguments.length>5&&void 0!==arguments[5]||V.TRILINEAR_SAMPLINGMODE;throw(0,D.e)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(B){this._isBlocking=B}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(B,E,v,z){let o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:V.TRILINEAR_SAMPLINGMODE,S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,x=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,D=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,y=arguments.length>8&&void 0!==arguments[8]&&arguments[8],Q=arguments.length>9?arguments[9]:void 0,P=arguments.length>10?arguments[10]:void 0,G=arguments.length>11?arguments[11]:void 0,Y=arguments.length>12?arguments[12]:void 0,a=arguments.length>13?arguments[13]:void 0;super(E),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new q.e,this._isBlocking=!0,this.name=B||"",this.url=B;let g=!1,T=null,N=!0;"object"===typeof v&&null!==v?(o=v.noMipmap??!1,z=v.invertY??!m.c,c=v.samplingMode??V.TRILINEAR_SAMPLINGMODE,S=v.L??null,x=v.onError??null,D=v.buffer??null,y=v.deleteBuffer??!1,Q=v.format,P=v.mimeType,G=v.loaderOptions,Y=v.creationFlags,g=v.useSRGBBuffer??!1,T=v.internalTexture??null,N=v.gammaSpace??N,a=v.forcedExtension??a):o=!!v,this._gammaSpace=N,this._noMipmap=o,this._invertY=void 0===z?!m.c:z,this._initialSamplingMode=c,this._buffer=D,this._deleteBuffer=y,this._mimeType=P,this._loaderOptions=G,this._creationFlags=Y,this._useSRGBBuffer=g,this._forcedExtension=a,void 0!==Q&&(this._format=Q);const X=this.rB(),r=this._getEngine();if(!r)return;r.onBeforeTextureInitObservable.notifyObservers(this);const i=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),S&&S(),!this.isBlocking&&X&&X.resetCachedMaterial()},u=(B,E)=>{this._loadingError=!0,this._errorObject={message:B,exception:E},x&&x(B,E),V.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!T)return this._delayedOnLoad=i,void(this._delayedOnError=u);if(this._texture=T??this._getFromCache(this.url,o,c,this._invertY,g,this.isCube),this._texture)if(this._texture.isReady)h.c.SetImmediate((()=>i()));else{const B=this._texture.onLoadedObservable.add(i);this._texture.onErrorObservable.add((E=>{var v;u(E.message,E.exception),null===(v=this._texture)||void 0===v||v.onLoadedObservable.remove(B)}))}else if(X&&X.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=i,this._delayedOnError=u;else{try{this._texture=r.createTexture(this.url,o,this._invertY,X,c,i,u,this._buffer,void 0,this._format,this._forcedExtension,P,G,Y,g)}catch(I){throw u("error loading",I),I}y&&(this._buffer=null)}}updateURL(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=arguments.length>2?arguments[2]:void 0,z=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.rB().markAllMaterialsAsDirty(1,(B=>B.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=B),this.url=B,this._buffer=E,this._forcedExtension=z,this.delayLoadState=4,v&&(this._delayedOnLoad=v),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const B=this.rB();B&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?h.c.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=B.getEngine().createTexture(this.url,this._noMipmap,this._invertY,B,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(B,E,v,z){B*=this._cachedUScale,E*=this._cachedVScale,B-=this.uRotationCenter*this._cachedUScale,E-=this.vRotationCenter*this._cachedVScale,v-=this.wRotationCenter,c.GE.TransformCoordinatesFromFloatsToRef(B,E,v,this._rowGenerationMatrix,z),z.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,z.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,z.z+=this.wRotationCenter}getTextureMatrix(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*B===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*B,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=c.Matrix.Zero(),this._rowGenerationMatrix=new c.Matrix,this._t0=c.GE.Zero(),this._t1=c.GE.Zero(),this._t2=c.GE.Zero()),c.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(c.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,c.TmpVectors.Matrix[0]),c.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,c.TmpVectors.Matrix[1]),c.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,c.TmpVectors.Matrix[2]),c.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,c.TmpVectors.Matrix[3]),c.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(c.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.wy(this._t0),this._t2.wy(this._t0),c.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const E=this.rB();if(!E)return this._cachedTextureMatrix;const v=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&v!==this._cachedIdentity3x2&&E.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const B=this.rB();if(!B)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==V.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===B.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=c.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=c.Matrix.Zero());const E=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case V.PLANAR_MODE:c.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case V.PROJECTION_MODE:{c.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const E=B.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=E.updateFlag,E.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:c.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return E&&B.markAllMaterialsAsDirty(1,(B=>B.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const B={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,L:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return g.b.Clone((()=>new V(this._texture?this._texture.url:null,this.rB(),B)),this)}serialize(){var B;const E=this.name;V.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const v=super.serialize(V._SerializeInternalTextureUniqueId);if(!v)return null;if(V.SerializeBuffers||V.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))v.base64String=this._buffer,v.name=v.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const B=this.mimeType||"image/png";v.base64String=`data:${B};base64,${(0,P.j)(this._buffer)}`}else(V.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(v.base64String=!this._engine||this._engine._features.supportSyncTextureRead?Y(this):a(this));var z;(v.invertY=this._invertY,v.samplingMode=this.samplingMode,v._creationFlags=this._creationFlags,v._useSRGBBuffer=this._useSRGBBuffer,V._SerializeInternalTextureUniqueId)&&(v.internalTextureUniqueId=null===(z=this._texture)||void 0===z?void 0:z.uniqueId);return v.internalTextureLabel=null===(B=this._texture)||void 0===B?void 0:B.label,v.noMipmap=this._noMipmap,this.name=E,v}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(B,E,v){if(B.customType){const z=y.c.Instantiate(B.customType).Parse(B,E,v);return B.samplingMode&&z.updateSamplingMode&&z._samplingMode&&z._samplingMode!==B.samplingMode&&z.updateSamplingMode(B.samplingMode),z}if(B.isCube&&!B.isRenderTarget)return V._CubeTextureParser(B,E,v);const z=void 0!==B.internalTextureUniqueId;if(!B.name&&!B.isRenderTarget&&!z)return null;let o;if(z){const v=E.getEngine().getLoadedTexturesCache();for(const E of v)if(E.uniqueId===B.internalTextureUniqueId){o=E;break}}const q=E=>{if(E&&E._texture&&(E._texture._cachedWrapU=null,E._texture._cachedWrapV=null,E._texture._cachedWrapR=null),B.samplingMode){const v=B.samplingMode;E&&E.samplingMode!==v&&E.updateSamplingMode(v)}if(E&&B.animations)for(let v=0;v<B.animations.length;v++){const z=B.animations[v],o=(0,x.b)("BABYLON.Animation");o&&E.animations.push(o.Parse(z))}E&&E._texture&&(z&&!o&&E._texture._setUniqueId(B.internalTextureUniqueId),E._texture.label=B.internalTextureLabel)};return g.b.Parse((()=>{let z=!0;if(B.noMipmap&&(z=!1),B.mirrorPlane){const v=V._CreateMirror(B.name,B.renderTargetSize,E,z);return v._waitingRenderList=B.renderList,v.mirrorPlane=Q.d.VE(B.mirrorPlane),q(v),v}if(B.isRenderTarget){let v=null;if(B.isCube){if(E.reflectionProbes)for(let z=0;z<E.reflectionProbes.length;z++){const v=E.reflectionProbes[z];if(v.name===B.name)return v.cubeTexture}}else v=V._CreateRenderTargetTexture(B.name,B.renderTargetSize,E,z,B._creationFlags??0),v._waitingRenderList=B.renderList;return q(v),v}if(B.isVideo){const o=V._CreateVideoTexture(v+(B.url||B.name),v+(B.src||B.url),E,z,B.invertY,B.samplingMode,B.settings||{});return q(o),o}{let c;if(B.base64String&&!o)c=V.CreateFromBase64String(B.base64String,B.base64String,E,!z,B.invertY,B.samplingMode,(()=>{q(c)}),B._creationFlags??0,B._useSRGBBuffer??!1),c.name=B.name;else{let S;S=B.name&&(B.name.indexOf("://")>0||B.name.startsWith("data:"))?B.name:v+B.name,B.url&&(B.url.startsWith("data:")||V.UseSerializedUrlIfAny)&&(S=B.url);const x={noMipmap:!z,invertY:B.invertY,samplingMode:B.samplingMode,L:()=>{q(c)},internalTexture:o};c=new V(S,E,x)}return c}}),B,E)}static CreateFromBase64String(B,E,v,z,o){let q=arguments.length>5&&void 0!==arguments[5]?arguments[5]:V.TRILINEAR_SAMPLINGMODE;return new V("data:"+E,v,z,o,q,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,B,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(B,E,v){let z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,q=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:V.TRILINEAR_SAMPLINGMODE,S=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,x=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,D=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,h=arguments.length>10?arguments[10]:void 0,y=arguments.length>11?arguments[11]:void 0;return"data:"!==B.substring(0,5)&&(B="data:"+B),new V(B,v,o,q,c,S,x,E,z,D,void 0,void 0,h,y)}}V.SerializeBuffers=!0,V.ForceSerializeBuffers=!1,V.OnTextureLoadErrorObservable=new q.e,V._SerializeInternalTextureUniqueId=!1,V._CubeTextureParser=(B,E,v)=>{throw(0,D.e)("CubeTexture")},V._CreateMirror=(B,E,v,z)=>{throw(0,D.e)("MirrorTexture")},V._CreateRenderTargetTexture=(B,E,v,z,o)=>{throw(0,D.e)("RenderTargetTexture")},V.NEAREST_SAMPLINGMODE=1,V.NEAREST_NEAREST_MIPLINEAR=8,V.BILINEAR_SAMPLINGMODE=2,V.LINEAR_LINEAR_MIPNEAREST=11,V.TRILINEAR_SAMPLINGMODE=3,V.LINEAR_LINEAR_MIPLINEAR=3,V.NEAREST_NEAREST_MIPNEAREST=4,V.NEAREST_LINEAR_MIPNEAREST=5,V.NEAREST_LINEAR_MIPLINEAR=6,V.NEAREST_LINEAR=7,V.NEAREST_NEAREST=1,V.LINEAR_NEAREST_MIPNEAREST=9,V.LINEAR_NEAREST_MIPLINEAR=10,V.LINEAR_LINEAR=2,V.LINEAR_NEAREST=12,V.EXPLICIT_MODE=0,V.SPHERICAL_MODE=1,V.PLANAR_MODE=2,V.CUBIC_MODE=3,V.PROJECTION_MODE=4,V.SKYBOX_MODE=5,V.INVCUBIC_MODE=6,V.EQUIRECTANGULAR_MODE=7,V.FIXED_EQUIRECTANGULAR_MODE=8,V.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,V.CLAMP_ADDRESSMODE=0,V.WRAP_ADDRESSMODE=1,V.MIRROR_ADDRESSMODE=2,V.UseSerializedUrlIfAny=!1,(0,z.c)([(0,o.K)()],V.prototype,"url",void 0),(0,z.c)([(0,o.K)()],V.prototype,"uOffset",void 0),(0,z.c)([(0,o.K)()],V.prototype,"vOffset",void 0),(0,z.c)([(0,o.K)()],V.prototype,"uScale",void 0),(0,z.c)([(0,o.K)()],V.prototype,"vScale",void 0),(0,z.c)([(0,o.K)()],V.prototype,"uAng",void 0),(0,z.c)([(0,o.K)()],V.prototype,"vAng",void 0),(0,z.c)([(0,o.K)()],V.prototype,"wAng",void 0),(0,z.c)([(0,o.K)()],V.prototype,"uRotationCenter",void 0),(0,z.c)([(0,o.K)()],V.prototype,"vRotationCenter",void 0),(0,z.c)([(0,o.K)()],V.prototype,"wRotationCenter",void 0),(0,z.c)([(0,o.K)()],V.prototype,"homogeneousRotationInUVTransform",void 0),(0,z.c)([(0,o.K)()],V.prototype,"isBlocking",null),(0,x.f)("BABYLON.Texture",V),g.b._TextureParser=V.Parse},11420:(B,E,v)=>{v.d(E,{d:()=>o});var z=v(11380);class o{constructor(B,E,v,o){this.normal=new z.GE(B,E,v),this.d=o}cc(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new o(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let B=this.normal.getHashCode();return B=397*B^this.d,B}normalize(){const B=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let E=0;return 0!==B&&(E=1/B),this.normal.x*=E,this.normal.y*=E,this.normal.z*=E,this.d*=E,this}transform(B){const E=o._TmpMatrix;B.invertToRef(E);const v=E.m,z=this.normal.x,q=this.normal.y,c=this.normal.z,S=this.d,x=z*v[0]+q*v[1]+c*v[2]+S*v[3],D=z*v[4]+q*v[5]+c*v[6]+S*v[7],h=z*v[8]+q*v[9]+c*v[10]+S*v[11],y=z*v[12]+q*v[13]+c*v[14]+S*v[15];return new o(x,D,h,y)}dotCoordinate(B){return this.normal.x*B.x+this.normal.y*B.y+this.normal.z*B.z+this.d}copyFromPoints(B,E,v){const z=E.x-B.x,o=E.y-B.y,q=E.z-B.z,c=v.x-B.x,S=v.y-B.y,x=v.z-B.z,D=o*x-q*S,h=q*c-z*x,y=z*S-o*c,Q=Math.sqrt(D*D+h*h+y*y);let P;return P=0!==Q?1/Q:0,this.normal.x=D*P,this.normal.y=h*P,this.normal.z=y*P,this.d=-(this.normal.x*B.x+this.normal.y*B.y+this.normal.z*B.z),this}isFrontFacingTo(B,E){return z.GE.Dot(this.normal,B)<=E}signedDistanceTo(B){return z.GE.Dot(B,this.normal)+this.d}static VE(B){return new o(B[0],B[1],B[2],B[3])}static FromPoints(B,E,v){const z=new o(0,0,0,0);return z.copyFromPoints(B,E,v),z}static FromPositionAndNormal(B,E){const v=new o(0,0,0,0);return this.FromPositionAndNormalToRef(B,E,v)}static FromPositionAndNormalToRef(B,E,v){return v.normal.S(E),v.normal.normalize(),v.d=-B.dot(v.normal),v}static SignedDistanceToPlaneFromPositionAndNormal(B,E,v){const o=-(E.x*B.x+E.y*B.y+E.z*B.z);return z.GE.Dot(v,E)+o}}o._TmpMatrix=z.Matrix.Identity()},11404:(B,E,v)=>{v.d(E,{d:()=>z});class z{constructor(B,E){this.width=B,this.height=E}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let B=0|this.width;return B=397*B^this.height,B}S(B){this.width=B.width,this.height=B.height}Yc(B,E){return this.width=B,this.height=E,this}set(B,E){return this.Yc(B,E)}multiplyByFloats(B,E){return new z(this.width*B,this.height*E)}clone(){return new z(this.width,this.height)}equals(B){return!!B&&(this.width===B.width&&this.height===B.height)}get surface(){return this.width*this.height}static Zero(){return new z(0,0)}add(B){return new z(this.width+B.width,this.height+B.height)}YE(B){return new z(this.width-B.width,this.height-B.height)}scale(B){return new z(this.width*B,this.height*B)}static Lerp(B,E,v){const o=B.width+(E.width-B.width)*v,q=B.height+(E.height-B.height)*v;return new z(o,q)}}},11377:(B,E,v)=>{v.d(E,{d:()=>q,g:()=>c});const z={},o={};function q(B){const E=B.getClassName();return o[E]||(o[E]={}),o[E]}function c(B){const E=B.getClassName();if(z[E])return z[E];z[E]={};const v=z[E];let q=B,c=E;for(;c;){const B=o[c];for(const o in B)v[o]=B[o];let E,z=!1;do{if(E=Object.getPrototypeOf(q),!E.getClassName){z=!0;break}if(E.getClassName()!==c)break;q=E}while(E);if(z)break;c=E.getClassName(),q=E}return v}},11372:(B,E,v)=>{v.d(E,{A:()=>a,E:()=>S,G:()=>h,I:()=>y,K:()=>c,c:()=>q,f:()=>g,j:()=>P,m:()=>x,n:()=>G,o:()=>D,p:()=>Y,t:()=>m,w:()=>Q});var z=v(11377);function o(B,E){return(v,o)=>{const q=(0,z.d)(v);q[o]||(q[o]={type:B,sourceName:E})}}function q(B){return function(B){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(v,z)=>{const o=E||"_"+z;Object.defineProperty(v,z,{get:function(){return this[o]},set:function(E){var z;"function"===typeof(null===(z=this[o])||void 0===z?void 0:z.equals)&&this[o].equals(E)||this[o]!==E&&(this[o]=E,v[B].apply(this))},enumerable:!0,configurable:!0})}}(B,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function c(B){return o(0,B)}function S(B){return o(1,B)}function x(B){return o(2,B)}function D(B){return o(3,B)}function h(B){return o(4,B)}function y(B){return o(5,B)}function Q(B){return o(6,B)}function P(B){return o(7,B)}function G(B){return o(8,B)}function Y(B){return o(9,B)}function a(B){return o(10,B)}function m(B){return o(12,B)}function g(B,E,v,z){const o=v.value;v.value=function(){let v=o;if("undefined"!==typeof _native&&_native[E]){const B=_native[E];v=z?function(){return z(...arguments)?B(...arguments):o(...arguments)}:B}return B[E]=v,v(...arguments)}}g.filter=function(B){return(E,v,z)=>g(E,v,z,B)}},11409:(B,E,v)=>{v.d(E,{b:()=>D});var z=v(11235),o=v(11414),q=v(11417),c=v(11380),S=v(11377);const x=function(B,E,v){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const q=B();o.c&&o.c.HasTags(E)&&o.c.AddTagsTo(q,o.c.GetTags(E,!0));const c=(0,S.g)(q),x={};for(const o in c){const B=c[o],S=E[o],h=B.type;if(void 0!==S&&null!==S&&("uniqueId"!==o||D.AllowLoadingUniqueId))switch(h){case 0:case 6:case 9:case 11:q[o]=S;break;case 1:z.cloneTexturesOnlyOnce&&x[S.uniqueId]?q[o]=x[S.uniqueId]:(q[o]=v||S.isRenderTarget?S:S.clone(),x[S.uniqueId]=q[o]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:q[o]=v?S:S.clone()}}return q};class D{static AppendSerializedAnimations(B,E){if(B.animations){E.animations=[];for(let v=0;v<B.animations.length;v++){const z=B.animations[v];E.animations.push(z.serialize())}}}static Serialize(B,E){E||(E={}),o.c&&(E.tags=o.c.GetTags(B));const v=(0,S.g)(B);for(const z in v){const o=v[z],q=o.sourceName||z,c=o.type,S=B[z];if(void 0!==S&&null!==S&&("uniqueId"!==z||D.AllowLoadingUniqueId))switch(c){case 0:E[q]=S;break;case 1:case 3:case 7:case 9:E[q]=S.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:E[q]=S.cc();break;case 6:case 11:E[q]=S.id}}return E}static ParseProperties(B,E,v,z){z||(z="");const o=(0,S.g)(E);for(const S in o){const x=o[S],h=B[x.sourceName||S],y=x.type;if(void 0!==h&&null!==h&&("uniqueId"!==S||D.AllowLoadingUniqueId)){const B=E;switch(y){case 0:B[S]=h;break;case 1:v&&(B[S]=D._TextureParser(h,v,z));break;case 2:B[S]=q.gE.VE(h);break;case 3:B[S]=D._FresnelParametersParser(h);break;case 4:B[S]=c.Vector2.VE(h);break;case 5:B[S]=c.GE.VE(h);break;case 6:v&&(B[S]=v.getLastMeshById(h));break;case 7:B[S]=D._ColorCurvesParser(h);break;case 8:B[S]=q.gc.VE(h);break;case 9:B[S]=D._ImageProcessingConfigurationParser(h);break;case 10:B[S]=c.Quaternion.VE(h);break;case 11:v&&(B[S]=v.getCameraById(h));break;case 12:B[S]=c.Matrix.VE(h)}}}}static Parse(B,E,v){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const q=B();return o.c&&o.c.AddTagsTo(q,E.tags),D.ParseProperties(E,q,v,z),q}static Clone(B,E){return x(B,E,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(B,E){return x(B,E,!0)}}D.AllowLoadingUniqueId=!1,D._ImageProcessingConfigurationParser=B=>{throw(0,z.e)("ImageProcessingConfiguration")},D._FresnelParametersParser=B=>{throw(0,z.e)("FresnelParameters")},D._ColorCurvesParser=B=>{throw(0,z.e)("ColorCurves")},D._TextureParser=(B,E,v)=>{throw(0,z.e)("Texture")}},11414:(B,E,v)=>{v.d(E,{c:()=>o});class z{static Eval(B,E){return"true"===(B=B.match(/\([^()]*\)/g)?B.replace(/\([^()]*\)/g,(B=>(B=B.slice(1,B.length-1),z._HandleParenthesisContent(B,E)))):z._HandleParenthesisContent(B,E))||"false"!==B&&z.Eval(B,E)}static _HandleParenthesisContent(B,E){let v;E=E||(B=>"true"===B);const o=B.split("||");for(const q in o)if(Object.prototype.hasOwnProperty.call(o,q)){let B=z._SimplifyNegation(o[q].trim());const c=B.split("&&");if(c.length>1)for(let o=0;o<c.length;++o){const q=z._SimplifyNegation(c[o].trim());if(v="true"!==q&&"false"!==q?"!"===q[0]?!E(q.substring(1)):E(q):"true"===q,!v){B="false";break}}if(v||"true"===B){v=!0;break}v="true"!==B&&"false"!==B?"!"===B[0]?!E(B.substring(1)):E(B):"true"===B}return v?"true":"false"}static _SimplifyNegation(B){return"!true"===(B=(B=B.replace(/^[\s!]+/,(B=>(B=B.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?B="false":"!false"===B&&(B="true"),B}}class o{static EnableFor(B){B._tags=B._tags||{},B.hasTags=()=>o.HasTags(B),B.addTags=E=>o.AddTagsTo(B,E),B.removeTags=E=>o.RemoveTagsFrom(B,E),B.matchesTagsQuery=E=>o.MatchesQuery(B,E)}static DisableFor(B){delete B._tags,delete B.hasTags,delete B.addTags,delete B.removeTags,delete B.matchesTagsQuery}static HasTags(B){if(!B._tags)return!1;const E=B._tags;for(const v in E)if(Object.prototype.hasOwnProperty.call(E,v))return!0;return!1}static GetTags(B){let E=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!B._tags)return null;if(E){const E=[];for(const v in B._tags)Object.prototype.hasOwnProperty.call(B._tags,v)&&!0===B._tags[v]&&E.push(v);return E.join(" ")}return B._tags}static AddTagsTo(B,E){if(!E)return;if("string"!==typeof E)return;const v=E.split(" ");for(const z of v)o._AddTagTo(B,z)}static _AddTagTo(B,E){""!==(E=E.trim())&&"true"!==E&&"false"!==E&&(E.match(/[\s]/)||E.match(/^([!]|([|]|[&]){2})/)||(o.EnableFor(B),B._tags[E]=!0))}static RemoveTagsFrom(B,E){if(!o.HasTags(B))return;const v=E.split(" ");for(const z in v)o._RemoveTagFrom(B,v[z])}static _RemoveTagFrom(B,E){delete B._tags[E]}static MatchesQuery(B,E){return void 0===E||(""===E?o.HasTags(B):z.Eval(E,(E=>o.HasTags(B)&&B._tags[E])))}}},11366:(B,E,v)=>{v.d(E,{c:()=>z});function z(B,E,v,z){var o,q=arguments.length,c=q<3?E:null===z?z=Object.getOwnPropertyDescriptor(E,v):z;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(B,E,v,z);else for(var S=B.length-1;S>=0;S--)(o=B[S])&&(c=(q<3?o(c):q>3?o(E,v,c):o(E,v))||c);return q>3&&c&&Object.defineProperty(E,v,c),c}Object.create;Object.create}}]);