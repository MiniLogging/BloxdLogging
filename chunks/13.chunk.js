"use strict";(self.mo7o6813fhb=self.mo7o6813fhb||[]).push([[13],{12460:(t,U,y)=>{y.d(U,{e:()=>I});let I=!1},12413:(t,U,y)=>{y.d(U,{d:()=>h});var I=y(12366),r=y(12375),Y=y(12204),mt=y(12386),X=y(12250),P=y(12341),G=(y(12253),y(12422));class M{get wrapU(){return this._wrapU}set wrapU(t){this._wrapU=t}get wrapV(){return this._wrapV}set wrapV(t){this._wrapV=t}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(t){this._texture&&(this._texture.isCube=t)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(t){this._texture&&(this._texture.is3D=t)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(t){this._texture&&(this._texture.is2DArray=t)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(t){return void 0!==(null===t||void 0===t?void 0:t.shareDepth)}constructor(t){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=G.b.Zero(),this._cachedBaseSize=G.b.Zero(),this._initialSamplingMode=2,this._texture=M._IsRenderTargetWrapper(t)?t.texture:t,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(t){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(t,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var L=y(12426);class h extends M{set pX(t){this._hasAlpha!==t&&(this._hasAlpha=t,this._scene&&this._scene.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))))}get pX(){return this._hasAlpha}set getAlphaFromRGB(t){this._getAlphaFromRGB!==t&&(this._getAlphaFromRGB=t,this._scene&&this._scene.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(t){this._coordinatesIndex!==t&&(this._coordinatesIndex=t,this._scene&&this._scene.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(t){this._coordinatesMode!==t&&(this._coordinatesMode=t,this._scene&&this._scene.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(t){this._wrapU=t}get wrapV(){return this._wrapV}set wrapV(t){this._wrapV=t}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(t){this._texture?this._texture.isCube=t:this._isCube=t}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(t){this._texture&&(this._texture.is3D=t)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(t){this._texture&&(this._texture.is2DArray=t)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(t){var U;if(this._texture){if(this._texture._gammaSpace===t)return;this._texture._gammaSpace=t}else{if(this._gammaSpace===t)return;this._gammaSpace=t}null===(U=this.St())||void 0===U||U.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(t){var U;t!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=t),null===(U=this.St())||void 0===U||U.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(t){this._texture&&(this._texture._lodGenerationOffset=t)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(t){this._texture&&(this._texture._lodGenerationScale=t)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(t){this._texture&&(this._texture._linearSpecularLOD=t)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(t){this._texture&&(this._texture._irradianceTexture=t)}get uid(){return this._uid||(this._uid=(0,P.b)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(t){this._onDisposeObserver&&this.FX.remove(this._onDisposeObserver),this._onDisposeObserver=this.FX.add(t)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=h.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.FX=new Y.b,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,t?h._IsScene(t)?this._scene=t:this._engine=t:this._scene=X.d.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=U,this._uid=null}St(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return mt.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return mt.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(t){}get canRescale(){return!1}_getFromCache(t,U,y,I,r,Y){const mt=this._getEngine();if(!mt)return null;const X=mt._getUseSRGBBuffer(!!r,U),P=mt.getLoadedTexturesCache();for(let G=0;G<P.length;G++){const mt=P[G];if((void 0===r||X===mt._useSRGBBuffer)&&(void 0===I||I===mt.invertY)&&mt.url===t&&mt.generateMipMaps===!U&&(!y||y===mt.samplingMode)&&(void 0===Y||Y===mt.isCube))return mt.incrementReferences(),mt}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const t=this.St();t&&t.markAllMaterialsAsDirty(1)}readPixels(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,I=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],Y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,mt=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const G=this._getEngine();if(!G)return null;const M=this.getSize();let L=M.width,h=M.height;0!==U&&(L/=Math.pow(2,U),h/=Math.pow(2,U),L=Math.round(L),h=Math.round(h)),X=Math.min(L,X),P=Math.min(h,P);try{return this._texture.isCube?G._readTexturePixels(this._texture,X,P,t,U,y,I,r,Y,mt):G._readTexturePixels(this._texture,X,P,-1,U,y,I,r,Y,mt)}catch(Q){return null}}_readPixelsSync(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,I=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const Y=this.getSize();let mt=Y.width,X=Y.height;const P=this._getEngine();if(!P)return null;0!=U&&(mt/=Math.pow(2,U),X/=Math.pow(2,U),mt=Math.round(mt),X=Math.round(X));try{return this._texture.isCube?P._readTexturePixelsSync(this._texture,mt,X,t,U,y,I,r):P._readTexturePixelsSync(this._texture,mt,X,-1,U,y,I,r)}catch(G){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const t=this._scene.textures.indexOf(this);if(t>=0&&this._scene.textures.splice(t,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const t=this._parentContainer.textures.indexOf(this);t>-1&&this._parentContainer.textures.splice(t,1),this._parentContainer=null}}this.FX.notifyObservers(this),this.FX.clear(),this.metadata=null,super.dispose()}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!t)return null;const U=L.b.Serialize(this);return L.b.AppendSerializedAnimations(this,U),U}static WhenAllReady(t,U){let y=t.length;if(0!==y)for(let I=0;I<t.length;I++){const r=t[I];if(r.isReady())0===--y&&U();else{const t=r.onLoadObservable;t?t.addOnce((()=>{0===--y&&U()})):0===--y&&U()}}else U()}static _IsScene(t){return"Scene"===t.getClassName()}}h.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,I.b)([(0,r.I)()],h.prototype,"uniqueId",void 0),(0,I.b)([(0,r.I)()],h.prototype,"name",void 0),(0,I.b)([(0,r.I)()],h.prototype,"displayName",void 0),(0,I.b)([(0,r.I)()],h.prototype,"metadata",void 0),(0,I.b)([(0,r.I)("pX")],h.prototype,"_hasAlpha",void 0),(0,I.b)([(0,r.I)("getAlphaFromRGB")],h.prototype,"_getAlphaFromRGB",void 0),(0,I.b)([(0,r.I)()],h.prototype,"level",void 0),(0,I.b)([(0,r.I)("coordinatesIndex")],h.prototype,"_coordinatesIndex",void 0),(0,I.b)([(0,r.I)()],h.prototype,"optimizeUVAllocation",void 0),(0,I.b)([(0,r.I)("coordinatesMode")],h.prototype,"_coordinatesMode",void 0),(0,I.b)([(0,r.I)()],h.prototype,"wrapU",null),(0,I.b)([(0,r.I)()],h.prototype,"wrapV",null),(0,I.b)([(0,r.I)()],h.prototype,"wrapR",void 0),(0,I.b)([(0,r.I)()],h.prototype,"anisotropicFilteringLevel",void 0),(0,I.b)([(0,r.I)()],h.prototype,"isCube",null),(0,I.b)([(0,r.I)()],h.prototype,"is3D",null),(0,I.b)([(0,r.I)()],h.prototype,"is2DArray",null),(0,I.b)([(0,r.I)()],h.prototype,"gammaSpace",null),(0,I.b)([(0,r.I)()],h.prototype,"invertZ",void 0),(0,I.b)([(0,r.I)()],h.prototype,"lodLevelInAlpha",void 0),(0,I.b)([(0,r.I)()],h.prototype,"lodGenerationOffset",null),(0,I.b)([(0,r.I)()],h.prototype,"lodGenerationScale",null),(0,I.b)([(0,r.I)()],h.prototype,"linearSpecularLOD",null),(0,I.b)([(0,r.B)()],h.prototype,"irradianceTexture",null),(0,I.b)([(0,r.I)()],h.prototype,"isRenderTarget",void 0)},12361:(t,U,y)=>{y.d(U,{d:()=>g});var I=y(12366),r=y(12375),Y=y(12204),mt=y(12386),X=y(12413),P=y(12338),G=y(12242),M=y(12277),L=y(12331),h=y(12451),Q=y(12259);function F(t,U){let y=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const I=U.width,r=U.height;if(t instanceof Float32Array){let U=t.byteLength/t.BYTES_PER_ELEMENT;const y=new Uint8Array(U);for(;--U>=0;){let I=t[U];I<0?I=0:I>1&&(I=1),y[U]=255*I}t=y}const Y=document.createElement("canvas");Y.width=I,Y.height=r;const mt=Y.getContext("2d");if(!mt)return null;const X=mt.createImageData(I,r);if(X.data.set(t),mt.putImageData(X,0,0),y){const t=document.createElement("canvas");t.width=I,t.height=r;const U=t.getContext("2d");return U?(U.translate(0,r),U.scale(1,-1),U.drawImage(Y,0,0),t.toDataURL("image/png")):null}return Y.toDataURL("image/png")}function E(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const I=t.getInternalTexture();if(!I)return null;const r=t._readPixelsSync(U,y);return r?F(r,t.getSize(),I.invertY):null}async function w(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const I=t.getInternalTexture();if(!I)return null;const r=await t.readPixels(U,y);return r?F(r,t.getSize(),I.invertY):null}var D=y(12460),l=y(12426);class g extends X.d{static _CreateVideoTexture(t,U,y){arguments.length>5&&void 0!==arguments[5]||g.TRILINEAR_SAMPLINGMODE;throw(0,G.c)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(t){this._isBlocking=t}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(t,U,y,I){let r,mt=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g.TRILINEAR_SAMPLINGMODE,X=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,P=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,G=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,L=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments.length>9?arguments[9]:void 0,Q=arguments.length>10?arguments[10]:void 0,F=arguments.length>11?arguments[11]:void 0,E=arguments.length>12?arguments[12]:void 0,w=arguments.length>13?arguments[13]:void 0;super(U),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new Y.b,this._isBlocking=!0,this.name=t||"",this.url=t;let l=!1,B=null,b=!0;"object"===typeof y&&null!==y?(r=y.noMipmap??!1,I=y.invertY??!D.e,mt=y.samplingMode??g.TRILINEAR_SAMPLINGMODE,X=y.u??null,P=y.onError??null,G=y.buffer??null,L=y.deleteBuffer??!1,h=y.format,Q=y.mimeType,F=y.loaderOptions,E=y.creationFlags,l=y.useSRGBBuffer??!1,B=y.internalTexture??null,b=y.gammaSpace??b,w=y.forcedExtension??w):r=!!y,this._gammaSpace=b,this._noMipmap=r,this._invertY=void 0===I?!D.e:I,this._initialSamplingMode=mt,this._buffer=G,this._deleteBuffer=L,this._mimeType=Q,this._loaderOptions=F,this._creationFlags=E,this._useSRGBBuffer=l,this._forcedExtension=w,void 0!==h&&(this._format=h);const p=this.St(),c=this._getEngine();if(!c)return;c.onBeforeTextureInitObservable.notifyObservers(this);const f=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),X&&X(),!this.isBlocking&&p&&p.resetCachedMaterial()},S=(t,U)=>{this._loadingError=!0,this._errorObject={message:t,exception:U},P&&P(t,U),g.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!B)return this._delayedOnLoad=f,void(this._delayedOnError=S);if(this._texture=B??this._getFromCache(this.url,r,mt,this._invertY,l,this.isCube),this._texture)if(this._texture.isReady)M.e.SetImmediate((()=>f()));else{const t=this._texture.onLoadedObservable.add(f);this._texture.onErrorObservable.add((U=>{var y;S(U.message,U.exception),null===(y=this._texture)||void 0===y||y.onLoadedObservable.remove(t)}))}else if(p&&p.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=f,this._delayedOnError=S;else{try{this._texture=c.createTexture(this.url,r,this._invertY,p,mt,f,S,this._buffer,void 0,this._format,this._forcedExtension,Q,F,E,l)}catch(N){throw S("error loading",N),N}L&&(this._buffer=null)}}updateURL(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,y=arguments.length>2?arguments[2]:void 0,I=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.St().markAllMaterialsAsDirty(1,(t=>t.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=t),this.url=t,this._buffer=U,this._forcedExtension=I,this.delayLoadState=4,y&&(this._delayedOnLoad=y),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const t=this.St();t&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?M.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=t.getEngine().createTexture(this.url,this._noMipmap,this._invertY,t,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(t,U,y,I){t*=this._cachedUScale,U*=this._cachedVScale,t-=this.uRotationCenter*this._cachedUScale,U-=this.vRotationCenter*this._cachedVScale,y-=this.wRotationCenter,mt.DU.TransformCoordinatesFromFloatsToRef(t,U,y,this._rowGenerationMatrix,I),I.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,I.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,I.z+=this.wRotationCenter}getTextureMatrix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*t===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*t,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=mt.Matrix.Zero(),this._rowGenerationMatrix=new mt.Matrix,this._t0=mt.DU.Zero(),this._t1=mt.DU.Zero(),this._t2=mt.DU.Zero()),mt.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(mt.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,mt.TmpVectors.Matrix[0]),mt.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,mt.TmpVectors.Matrix[1]),mt.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,mt.TmpVectors.Matrix[2]),mt.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,mt.TmpVectors.Matrix[3]),mt.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(mt.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(mt.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(mt.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.GL(this._t0),this._t2.GL(this._t0),mt.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const U=this.St();if(!U)return this._cachedTextureMatrix;const y=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&y!==this._cachedIdentity3x2&&U.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const t=this.St();if(!t)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==g.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===t.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=mt.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=mt.Matrix.Zero());const U=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case g.PLANAR_MODE:mt.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case g.PROJECTION_MODE:{mt.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const U=t.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=U.updateFlag,U.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:mt.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return U&&t.markAllMaterialsAsDirty(1,(t=>t.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const t={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,u:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return l.b.Clone((()=>new g(this._texture?this._texture.url:null,this.St(),t)),this)}serialize(){var t;const U=this.name;g.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const y=super.serialize(g._SerializeInternalTextureUniqueId);if(!y)return null;if(g.SerializeBuffers||g.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))y.base64String=this._buffer,y.name=y.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const t=this.mimeType||"image/png";y.base64String=`data:${t};base64,${(0,Q.k)(this._buffer)}`}else(g.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(y.base64String=!this._engine||this._engine._features.supportSyncTextureRead?E(this):w(this));var I;(y.invertY=this._invertY,y.samplingMode=this.samplingMode,y._creationFlags=this._creationFlags,y._useSRGBBuffer=this._useSRGBBuffer,g._SerializeInternalTextureUniqueId)&&(y.internalTextureUniqueId=null===(I=this._texture)||void 0===I?void 0:I.uniqueId);return y.internalTextureLabel=null===(t=this._texture)||void 0===t?void 0:t.label,y.noMipmap=this._noMipmap,this.name=U,y}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(t,U,y){if(t.customType){const I=L.c.Instantiate(t.customType).Parse(t,U,y);return t.samplingMode&&I.updateSamplingMode&&I._samplingMode&&I._samplingMode!==t.samplingMode&&I.updateSamplingMode(t.samplingMode),I}if(t.isCube&&!t.isRenderTarget)return g._CubeTextureParser(t,U,y);const I=void 0!==t.internalTextureUniqueId;if(!t.name&&!t.isRenderTarget&&!I)return null;let r;if(I){const y=U.getEngine().getLoadedTexturesCache();for(const U of y)if(U.uniqueId===t.internalTextureUniqueId){r=U;break}}const Y=U=>{if(U&&U._texture&&(U._texture._cachedWrapU=null,U._texture._cachedWrapV=null,U._texture._cachedWrapR=null),t.samplingMode){const y=t.samplingMode;U&&U.samplingMode!==y&&U.updateSamplingMode(y)}if(U&&t.animations)for(let y=0;y<t.animations.length;y++){const I=t.animations[y],r=(0,P.d)("BABYLON.Animation");r&&U.animations.push(r.Parse(I))}U&&U._texture&&(I&&!r&&U._texture._setUniqueId(t.internalTextureUniqueId),U._texture.label=t.internalTextureLabel)};return l.b.Parse((()=>{let I=!0;if(t.noMipmap&&(I=!1),t.mirrorPlane){const y=g._CreateMirror(t.name,t.renderTargetSize,U,I);return y._waitingRenderList=t.renderList,y.mirrorPlane=h.d.pU(t.mirrorPlane),Y(y),y}if(t.isRenderTarget){let y=null;if(t.isCube){if(U.reflectionProbes)for(let I=0;I<U.reflectionProbes.length;I++){const y=U.reflectionProbes[I];if(y.name===t.name)return y.cubeTexture}}else y=g._CreateRenderTargetTexture(t.name,t.renderTargetSize,U,I,t._creationFlags??0),y._waitingRenderList=t.renderList;return Y(y),y}if(t.isVideo){const r=g._CreateVideoTexture(y+(t.url||t.name),y+(t.src||t.url),U,I,t.invertY,t.samplingMode,t.settings||{});return Y(r),r}{let mt;if(t.base64String&&!r)mt=g.CreateFromBase64String(t.base64String,t.base64String,U,!I,t.invertY,t.samplingMode,(()=>{Y(mt)}),t._creationFlags??0,t._useSRGBBuffer??!1),mt.name=t.name;else{let X;X=t.name&&(t.name.indexOf("://")>0||t.name.startsWith("data:"))?t.name:y+t.name,t.url&&(t.url.startsWith("data:")||g.UseSerializedUrlIfAny)&&(X=t.url);const P={noMipmap:!I,invertY:t.invertY,samplingMode:t.samplingMode,u:()=>{Y(mt)},internalTexture:r};mt=new g(X,U,P)}return mt}}),t,U)}static CreateFromBase64String(t,U,y,I,r){let Y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g.TRILINEAR_SAMPLINGMODE;return new g("data:"+U,y,I,r,Y,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,t,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(t,U,y){let I=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,Y=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],mt=arguments.length>6&&void 0!==arguments[6]?arguments[6]:g.TRILINEAR_SAMPLINGMODE,X=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,P=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,G=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,M=arguments.length>10?arguments[10]:void 0,L=arguments.length>11?arguments[11]:void 0;return"data:"!==t.substring(0,5)&&(t="data:"+t),new g(t,y,r,Y,mt,X,P,U,I,G,void 0,void 0,M,L)}}g.SerializeBuffers=!0,g.ForceSerializeBuffers=!1,g.OnTextureLoadErrorObservable=new Y.b,g._SerializeInternalTextureUniqueId=!1,g._CubeTextureParser=(t,U,y)=>{throw(0,G.c)("CubeTexture")},g._CreateMirror=(t,U,y,I)=>{throw(0,G.c)("MirrorTexture")},g._CreateRenderTargetTexture=(t,U,y,I,r)=>{throw(0,G.c)("RenderTargetTexture")},g.NEAREST_SAMPLINGMODE=1,g.NEAREST_NEAREST_MIPLINEAR=8,g.BILINEAR_SAMPLINGMODE=2,g.LINEAR_LINEAR_MIPNEAREST=11,g.TRILINEAR_SAMPLINGMODE=3,g.LINEAR_LINEAR_MIPLINEAR=3,g.NEAREST_NEAREST_MIPNEAREST=4,g.NEAREST_LINEAR_MIPNEAREST=5,g.NEAREST_LINEAR_MIPLINEAR=6,g.NEAREST_LINEAR=7,g.NEAREST_NEAREST=1,g.LINEAR_NEAREST_MIPNEAREST=9,g.LINEAR_NEAREST_MIPLINEAR=10,g.LINEAR_LINEAR=2,g.LINEAR_NEAREST=12,g.EXPLICIT_MODE=0,g.SPHERICAL_MODE=1,g.PLANAR_MODE=2,g.CUBIC_MODE=3,g.PROJECTION_MODE=4,g.SKYBOX_MODE=5,g.INVCUBIC_MODE=6,g.EQUIRECTANGULAR_MODE=7,g.FIXED_EQUIRECTANGULAR_MODE=8,g.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,g.CLAMP_ADDRESSMODE=0,g.WRAP_ADDRESSMODE=1,g.MIRROR_ADDRESSMODE=2,g.UseSerializedUrlIfAny=!1,(0,I.b)([(0,r.I)()],g.prototype,"url",void 0),(0,I.b)([(0,r.I)()],g.prototype,"uOffset",void 0),(0,I.b)([(0,r.I)()],g.prototype,"vOffset",void 0),(0,I.b)([(0,r.I)()],g.prototype,"uScale",void 0),(0,I.b)([(0,r.I)()],g.prototype,"vScale",void 0),(0,I.b)([(0,r.I)()],g.prototype,"uAng",void 0),(0,I.b)([(0,r.I)()],g.prototype,"vAng",void 0),(0,I.b)([(0,r.I)()],g.prototype,"wAng",void 0),(0,I.b)([(0,r.I)()],g.prototype,"uRotationCenter",void 0),(0,I.b)([(0,r.I)()],g.prototype,"vRotationCenter",void 0),(0,I.b)([(0,r.I)()],g.prototype,"wRotationCenter",void 0),(0,I.b)([(0,r.I)()],g.prototype,"homogeneousRotationInUVTransform",void 0),(0,I.b)([(0,r.I)()],g.prototype,"isBlocking",null),(0,P.f)("BABYLON.Texture",g),l.b._TextureParser=g.Parse},12451:(t,U,y)=>{y.d(U,{d:()=>r});var I=y(12386);class r{constructor(t,U,y,r){this.normal=new I.DU(t,U,y),this.d=r}bX(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new r(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let t=this.normal.getHashCode();return t=397*t^this.d,t}normalize(){const t=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let U=0;return 0!==t&&(U=1/t),this.normal.x*=U,this.normal.y*=U,this.normal.z*=U,this.d*=U,this}transform(t){const U=r._TmpMatrix;t.invertToRef(U);const y=U.m,I=this.normal.x,Y=this.normal.y,mt=this.normal.z,X=this.d,P=I*y[0]+Y*y[1]+mt*y[2]+X*y[3],G=I*y[4]+Y*y[5]+mt*y[6]+X*y[7],M=I*y[8]+Y*y[9]+mt*y[10]+X*y[11],L=I*y[12]+Y*y[13]+mt*y[14]+X*y[15];return new r(P,G,M,L)}dotCoordinate(t){return this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z+this.d}copyFromPoints(t,U,y){const I=U.x-t.x,r=U.y-t.y,Y=U.z-t.z,mt=y.x-t.x,X=y.y-t.y,P=y.z-t.z,G=r*P-Y*X,M=Y*mt-I*P,L=I*X-r*mt,h=Math.sqrt(G*G+M*M+L*L);let Q;return Q=0!==h?1/h:0,this.normal.x=G*Q,this.normal.y=M*Q,this.normal.z=L*Q,this.d=-(this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z),this}isFrontFacingTo(t,U){return I.DU.Dot(this.normal,t)<=U}signedDistanceTo(t){return I.DU.Dot(t,this.normal)+this.d}static pU(t){return new r(t[0],t[1],t[2],t[3])}static FromPoints(t,U,y){const I=new r(0,0,0,0);return I.copyFromPoints(t,U,y),I}static FromPositionAndNormal(t,U){const y=new r(0,0,0,0);return this.FromPositionAndNormalToRef(t,U,y)}static FromPositionAndNormalToRef(t,U,y){return y.normal.Y(U),y.normal.normalize(),y.d=-t.dot(y.normal),y}static SignedDistanceToPlaneFromPositionAndNormal(t,U,y){const r=-(U.x*t.x+U.y*t.y+U.z*t.z);return I.DU.Dot(y,U)+r}}r._TmpMatrix=I.Matrix.Identity()},12422:(t,U,y)=>{y.d(U,{b:()=>I});class I{constructor(t,U){this.width=t,this.height=U}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let t=0|this.width;return t=397*t^this.height,t}Y(t){this.width=t.width,this.height=t.height}aX(t,U){return this.width=t,this.height=U,this}set(t,U){return this.aX(t,U)}multiplyByFloats(t,U){return new I(this.width*t,this.height*U)}clone(){return new I(this.width,this.height)}equals(t){return!!t&&(this.width===t.width&&this.height===t.height)}get surface(){return this.width*this.height}static Zero(){return new I(0,0)}add(t){return new I(this.width+t.width,this.height+t.height)}lU(t){return new I(this.width-t.width,this.height-t.height)}scale(t){return new I(this.width*t,this.height*t)}static Lerp(t,U,y){const r=t.width+(U.width-t.width)*y,Y=t.height+(U.height-t.height)*y;return new I(r,Y)}}},12377:(t,U,y)=>{y.d(U,{d:()=>Y,e:()=>mt});const I={},r={};function Y(t){const U=t.getClassName();return r[U]||(r[U]={}),r[U]}function mt(t){const U=t.getClassName();if(I[U])return I[U];I[U]={};const y=I[U];let Y=t,mt=U;for(;mt;){const t=r[mt];for(const r in t)y[r]=t[r];let U,I=!1;do{if(U=Object.getPrototypeOf(Y),!U.getClassName){I=!0;break}if(U.getClassName()!==mt)break;Y=U}while(U);if(I)break;mt=U.getClassName(),Y=U}return y}},12375:(t,U,y)=>{y.d(U,{B:()=>X,D:()=>M,E:()=>L,I:()=>mt,d:()=>Y,g:()=>l,i:()=>Q,k:()=>P,n:()=>F,q:()=>G,s:()=>E,t:()=>D,u:()=>h,y:()=>w});var I=y(12377);function r(t,U){return(y,r)=>{const Y=(0,I.d)(y);Y[r]||(Y[r]={type:t,sourceName:U})}}function Y(t){return function(t){let U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(y,I)=>{const r=U||"_"+I;Object.defineProperty(y,I,{get:function(){return this[r]},set:function(U){var I;"function"===typeof(null===(I=this[r])||void 0===I?void 0:I.equals)&&this[r].equals(U)||this[r]!==U&&(this[r]=U,y[t].apply(this))},enumerable:!0,configurable:!0})}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function mt(t){return r(0,t)}function X(t){return r(1,t)}function P(t){return r(2,t)}function G(t){return r(3,t)}function M(t){return r(4,t)}function L(t){return r(5,t)}function h(t){return r(6,t)}function Q(t){return r(7,t)}function F(t){return r(8,t)}function E(t){return r(9,t)}function w(t){return r(10,t)}function D(t){return r(12,t)}function l(t,U,y,I){const r=y.value;y.value=function(){let y=r;if("undefined"!==typeof _native&&_native[U]){const t=_native[U];y=I?function(){return I(...arguments)?t(...arguments):r(...arguments)}:t}return t[U]=y,y(...arguments)}}l.filter=function(t){return(U,y,I)=>l(U,y,I,t)}},12426:(t,U,y)=>{y.d(U,{b:()=>G});var I=y(12242),r=y(12434),Y=y(12442),mt=y(12386),X=y(12377);const P=function(t,U,y){let I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const Y=t();r.d&&r.d.HasTags(U)&&r.d.AddTagsTo(Y,r.d.GetTags(U,!0));const mt=(0,X.e)(Y),P={};for(const r in mt){const t=mt[r],X=U[r],M=t.type;if(void 0!==X&&null!==X&&("uniqueId"!==r||G.AllowLoadingUniqueId))switch(M){case 0:case 6:case 9:case 11:Y[r]=X;break;case 1:I.cloneTexturesOnlyOnce&&P[X.uniqueId]?Y[r]=P[X.uniqueId]:(Y[r]=y||X.isRenderTarget?X:X.clone(),P[X.uniqueId]=Y[r]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:Y[r]=y?X:X.clone()}}return Y};class G{static AppendSerializedAnimations(t,U){if(t.animations){U.animations=[];for(let y=0;y<t.animations.length;y++){const I=t.animations[y];U.animations.push(I.serialize())}}}static Serialize(t,U){U||(U={}),r.d&&(U.tags=r.d.GetTags(t));const y=(0,X.e)(t);for(const I in y){const r=y[I],Y=r.sourceName||I,mt=r.type,X=t[I];if(void 0!==X&&null!==X&&("uniqueId"!==I||G.AllowLoadingUniqueId))switch(mt){case 0:U[Y]=X;break;case 1:case 3:case 7:case 9:U[Y]=X.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:U[Y]=X.bX();break;case 6:case 11:U[Y]=X.id}}return U}static ParseProperties(t,U,y,I){I||(I="");const r=(0,X.e)(U);for(const X in r){const P=r[X],M=t[P.sourceName||X],L=P.type;if(void 0!==M&&null!==M&&("uniqueId"!==X||G.AllowLoadingUniqueId)){const t=U;switch(L){case 0:t[X]=M;break;case 1:y&&(t[X]=G._TextureParser(M,y,I));break;case 2:t[X]=Y.bU.pU(M);break;case 3:t[X]=G._FresnelParametersParser(M);break;case 4:t[X]=mt.Vector2.pU(M);break;case 5:t[X]=mt.DU.pU(M);break;case 6:y&&(t[X]=y.getLastMeshById(M));break;case 7:t[X]=G._ColorCurvesParser(M);break;case 8:t[X]=Y.HX.pU(M);break;case 9:t[X]=G._ImageProcessingConfigurationParser(M);break;case 10:t[X]=mt.Quaternion.pU(M);break;case 11:y&&(t[X]=y.getCameraById(M));break;case 12:t[X]=mt.Matrix.pU(M)}}}}static Parse(t,U,y){let I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const Y=t();return r.d&&r.d.AddTagsTo(Y,U.tags),G.ParseProperties(U,Y,y,I),Y}static Clone(t,U){return P(t,U,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(t,U){return P(t,U,!0)}}G.AllowLoadingUniqueId=!1,G._ImageProcessingConfigurationParser=t=>{throw(0,I.c)("ImageProcessingConfiguration")},G._FresnelParametersParser=t=>{throw(0,I.c)("FresnelParameters")},G._ColorCurvesParser=t=>{throw(0,I.c)("ColorCurves")},G._TextureParser=(t,U,y)=>{throw(0,I.c)("Texture")}},12434:(t,U,y)=>{y.d(U,{d:()=>r});class I{static Eval(t,U){return"true"===(t=t.match(/\([^()]*\)/g)?t.replace(/\([^()]*\)/g,(t=>(t=t.slice(1,t.length-1),I._HandleParenthesisContent(t,U)))):I._HandleParenthesisContent(t,U))||"false"!==t&&I.Eval(t,U)}static _HandleParenthesisContent(t,U){let y;U=U||(t=>"true"===t);const r=t.split("||");for(const Y in r)if(Object.prototype.hasOwnProperty.call(r,Y)){let t=I._SimplifyNegation(r[Y].trim());const mt=t.split("&&");if(mt.length>1)for(let r=0;r<mt.length;++r){const Y=I._SimplifyNegation(mt[r].trim());if(y="true"!==Y&&"false"!==Y?"!"===Y[0]?!U(Y.substring(1)):U(Y):"true"===Y,!y){t="false";break}}if(y||"true"===t){y=!0;break}y="true"!==t&&"false"!==t?"!"===t[0]?!U(t.substring(1)):U(t):"true"===t}return y?"true":"false"}static _SimplifyNegation(t){return"!true"===(t=(t=t.replace(/^[\s!]+/,(t=>(t=t.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?t="false":"!false"===t&&(t="true"),t}}class r{static EnableFor(t){t._tags=t._tags||{},t.hasTags=()=>r.HasTags(t),t.addTags=U=>r.AddTagsTo(t,U),t.removeTags=U=>r.RemoveTagsFrom(t,U),t.matchesTagsQuery=U=>r.MatchesQuery(t,U)}static DisableFor(t){delete t._tags,delete t.hasTags,delete t.addTags,delete t.removeTags,delete t.matchesTagsQuery}static HasTags(t){if(!t._tags)return!1;const U=t._tags;for(const y in U)if(Object.prototype.hasOwnProperty.call(U,y))return!0;return!1}static GetTags(t){let U=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t._tags)return null;if(U){const U=[];for(const y in t._tags)Object.prototype.hasOwnProperty.call(t._tags,y)&&!0===t._tags[y]&&U.push(y);return U.join(" ")}return t._tags}static AddTagsTo(t,U){if(!U)return;if("string"!==typeof U)return;const y=U.split(" ");for(const I of y)r._AddTagTo(t,I)}static _AddTagTo(t,U){""!==(U=U.trim())&&"true"!==U&&"false"!==U&&(U.match(/[\s]/)||U.match(/^([!]|([|]|[&]){2})/)||(r.EnableFor(t),t._tags[U]=!0))}static RemoveTagsFrom(t,U){if(!r.HasTags(t))return;const y=U.split(" ");for(const I in y)r._RemoveTagFrom(t,y[I])}static _RemoveTagFrom(t,U){delete t._tags[U]}static MatchesQuery(t,U){return void 0===U||(""===U?r.HasTags(t):I.Eval(U,(U=>r.HasTags(t)&&t._tags[U])))}}},12366:(t,U,y)=>{y.d(U,{b:()=>I});function I(t,U,y,I){var r,Y=arguments.length,mt=Y<3?U:null===I?I=Object.getOwnPropertyDescriptor(U,y):I;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)mt=Reflect.decorate(t,U,y,I);else for(var X=t.length-1;X>=0;X--)(r=t[X])&&(mt=(Y<3?r(mt):Y>3?r(U,y,mt):r(U,y))||mt);return Y>3&&mt&&Object.defineProperty(U,y,mt),mt}Object.create;Object.create}}]);