"use strict";(self.ra6kpa9z1sg=self.ra6kpa9z1sg||[]).push([[13],{12834:(p,b,M)=>{M.d(b,{c:()=>h});let h=!1},12798:(p,b,M)=>{M.d(b,{e:()=>S});var h=M(12757),Q=M(12764),mp=M(12617),y=M(12777),P=M(12652),w=M(12739),t=(M(12655),M(12805));class z{get wrapU(){return this._wrapU}set wrapU(p){this._wrapU=p}get wrapV(){return this._wrapV}set wrapV(p){this._wrapV=p}get coordinatesMode(){return 0}get isCube(){return!!this._texture&&this._texture.isCube}set isCube(p){this._texture&&(this._texture.isCube=p)}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(p){this._texture&&(this._texture.is3D=p)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(p){this._texture&&(this._texture.is2DArray=p)}getClassName(){return"ThinTexture"}static _IsRenderTargetWrapper(p){return void 0!==(null===p||void 0===p?void 0:p.shareDepth)}constructor(p){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=t.d.Zero(),this._cachedBaseSize=t.d.Zero(),this._initialSamplingMode=2,this._texture=z._IsRenderTargetWrapper(p)?p.texture:p,this._texture&&(this._engine=this._texture.getEngine(),this.wrapU=this._texture._cachedWrapU??this.wrapU,this.wrapV=this._texture._cachedWrapV??this.wrapV,this.wrapR=this._texture._cachedWrapR??this.wrapR)}isReady(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady}delayLoad(){}getInternalTexture(){return this._texture}getSize(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize}getBaseSize(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)}get samplingMode(){return this._texture?this._texture.samplingMode:this._initialSamplingMode}updateSamplingMode(p){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(p,this._texture,this._texture.generateMipMaps)}releaseInternalTexture(){this._texture&&(this._texture.dispose(),this._texture=null)}dispose(){this._texture&&(this.releaseInternalTexture(),this._engine=null)}}var x=M(12812);class S extends z{set lb(p){this._hasAlpha!==p&&(this._hasAlpha=p,this._scene&&this._scene.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))))}get lb(){return this._hasAlpha}set getAlphaFromRGB(p){this._getAlphaFromRGB!==p&&(this._getAlphaFromRGB=p,this._scene&&this._scene.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))))}get getAlphaFromRGB(){return this._getAlphaFromRGB}set coordinatesIndex(p){this._coordinatesIndex!==p&&(this._coordinatesIndex=p,this._scene&&this._scene.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))))}get coordinatesIndex(){return this._coordinatesIndex}set coordinatesMode(p){this._coordinatesMode!==p&&(this._coordinatesMode=p,this._scene&&this._scene.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))))}get coordinatesMode(){return this._coordinatesMode}get wrapU(){return this._wrapU}set wrapU(p){this._wrapU=p}get wrapV(){return this._wrapV}set wrapV(p){this._wrapV=p}get isCube(){return this._texture?this._texture.isCube:this._isCube}set isCube(p){this._texture?this._texture.isCube=p:this._isCube=p}get is3D(){return!!this._texture&&this._texture.is3D}set is3D(p){this._texture&&(this._texture.is3D=p)}get is2DArray(){return!!this._texture&&this._texture.is2DArray}set is2DArray(p){this._texture&&(this._texture.is2DArray=p)}get gammaSpace(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace&&!this._texture._useSRGBBuffer):this._gammaSpace}set gammaSpace(p){var b;if(this._texture){if(this._texture._gammaSpace===p)return;this._texture._gammaSpace=p}else{if(this._gammaSpace===p)return;this._gammaSpace=p}null===(b=this.upp())||void 0===b||b.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this)))}get isRGBD(){return null!=this._texture&&this._texture._isRGBD}set isRGBD(p){var b;p!==this.isRGBD&&(this._texture&&(this._texture._isRGBD=p),null===(b=this.upp())||void 0===b||b.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))))}get noMipmap(){return!1}get lodGenerationOffset(){return this._texture?this._texture._lodGenerationOffset:0}set lodGenerationOffset(p){this._texture&&(this._texture._lodGenerationOffset=p)}get lodGenerationScale(){return this._texture?this._texture._lodGenerationScale:0}set lodGenerationScale(p){this._texture&&(this._texture._lodGenerationScale=p)}get linearSpecularLOD(){return!!this._texture&&this._texture._linearSpecularLOD}set linearSpecularLOD(p){this._texture&&(this._texture._linearSpecularLOD=p)}get irradianceTexture(){return this._texture?this._texture._irradianceTexture:null}set irradianceTexture(p){this._texture&&(this._texture._irradianceTexture=p)}get uid(){return this._uid||(this._uid=(0,w.c)()),this._uid}toString(){return this.name}getClassName(){return"BaseTexture"}set onDispose(p){this._onDisposeObserver&&this.Xb.remove(this._onDisposeObserver),this._onDisposeObserver=this.Xb.add(p)}get isBlocking(){return!0}get loadingError(){return this._loadingError}get errorObject(){return this._errorObject}constructor(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(null),this.metadata=null,this.reservedDataStore=null,this._hasAlpha=!1,this._getAlphaFromRGB=!1,this.level=1,this._coordinatesIndex=0,this.optimizeUVAllocation=!0,this._coordinatesMode=0,this.wrapR=1,this.anisotropicFilteringLevel=S.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,this._isCube=!1,this._gammaSpace=!0,this.invertZ=!1,this.lodLevelInAlpha=!1,this._dominantDirection=null,this.isRenderTarget=!1,this._prefiltered=!1,this._forceSerialize=!1,this.animations=[],this.Xb=new mp.d,this._onDisposeObserver=null,this._scene=null,this._uid=null,this._parentContainer=null,this._loadingError=!1,p?S._IsScene(p)?this._scene=p:this._engine=p:this._scene=P.c.LastCreatedScene,this._scene&&(this.uniqueId=this._scene.getUniqueId(),this._scene.addTexture(this),this._engine=this._scene.getEngine()),this._texture=b,this._uid=null}upp(){return this._scene}_getEngine(){return this._engine}getTextureMatrix(){return y.Matrix.IdentityReadOnly}getReflectionTextureMatrix(){return y.Matrix.IdentityReadOnly}getRefractionTextureMatrix(){return this.getReflectionTextureMatrix()}isReadyOrNotBlocking(){return!this.isBlocking||this.isReady()||this.loadingError}scale(p){}get canRescale(){return!1}_getFromCache(p,b,M,h,Q,mp){const y=this._getEngine();if(!y)return null;const P=y._getUseSRGBBuffer(!!Q,b),w=y.getLoadedTexturesCache();for(let t=0;t<w.length;t++){const y=w[t];if((void 0===Q||P===y._useSRGBBuffer)&&(void 0===h||h===y.invertY)&&y.url===p&&y.generateMipMaps===!b&&(!M||M===y.samplingMode)&&(void 0===mp||mp===y.isCube))return y.incrementReferences(),y}return null}_rebuild(){}clone(){return null}get textureType(){return this._texture&&void 0!==this._texture.type?this._texture.type:0}get textureFormat(){return this._texture&&void 0!==this._texture.format?this._texture.format:5}_markAllSubMeshesAsTexturesDirty(){const p=this.upp();p&&p.markAllMaterialsAsDirty(1)}readPixels(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Q=arguments.length>4&&void 0!==arguments[4]&&arguments[4],mp=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_VALUE,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_VALUE;if(!this._texture)return null;const t=this._getEngine();if(!t)return null;const z=this.getSize();let x=z.width,S=z.height;0!==b&&(x/=Math.pow(2,b),S/=Math.pow(2,b),x=Math.round(x),S=Math.round(S)),P=Math.min(x,P),w=Math.min(S,w);try{return this._texture.isCube?t._readTexturePixels(this._texture,P,w,p,b,M,h,Q,mp,y):t._readTexturePixels(this._texture,P,w,-1,b,M,h,Q,mp,y)}catch(X){return null}}_readPixelsSync(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],Q=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this._texture)return null;const mp=this.getSize();let y=mp.width,P=mp.height;const w=this._getEngine();if(!w)return null;0!=b&&(y/=Math.pow(2,b),P/=Math.pow(2,b),y=Math.round(y),P=Math.round(P));try{return this._texture.isCube?w._readTexturePixelsSync(this._texture,y,P,p,b,M,h,Q):w._readTexturePixelsSync(this._texture,y,P,-1,b,M,h,Q)}catch(t){return null}}get _lodTextureHigh(){return this._texture?this._texture._lodTextureHigh:null}get _lodTextureMid(){return this._texture?this._texture._lodTextureMid:null}get _lodTextureLow(){return this._texture?this._texture._lodTextureLow:null}dispose(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene.removePendingData(this);const p=this._scene.textures.indexOf(this);if(p>=0&&this._scene.textures.splice(p,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null,this._parentContainer){const p=this._parentContainer.textures.indexOf(this);p>-1&&this._parentContainer.textures.splice(p,1),this._parentContainer=null}}this.Xb.notifyObservers(this),this.Xb.clear(),this.metadata=null,super.dispose()}serialize(){let p=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.name&&!p)return null;const b=x.e.Serialize(this);return x.e.AppendSerializedAnimations(this,b),b}static WhenAllReady(p,b){let M=p.length;if(0!==M)for(let h=0;h<p.length;h++){const Q=p[h];if(Q.isReady())0===--M&&b();else{const p=Q.onLoadObservable;p?p.addOnce((()=>{0===--M&&b()})):0===--M&&b()}}else b()}static _IsScene(p){return"Scene"===p.getClassName()}}S.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,(0,h.e)([(0,Q.N)()],S.prototype,"uniqueId",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"name",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"displayName",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"metadata",void 0),(0,h.e)([(0,Q.N)("lb")],S.prototype,"_hasAlpha",void 0),(0,h.e)([(0,Q.N)("getAlphaFromRGB")],S.prototype,"_getAlphaFromRGB",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"level",void 0),(0,h.e)([(0,Q.N)("coordinatesIndex")],S.prototype,"_coordinatesIndex",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"optimizeUVAllocation",void 0),(0,h.e)([(0,Q.N)("coordinatesMode")],S.prototype,"_coordinatesMode",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"wrapU",null),(0,h.e)([(0,Q.N)()],S.prototype,"wrapV",null),(0,h.e)([(0,Q.N)()],S.prototype,"wrapR",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"anisotropicFilteringLevel",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"isCube",null),(0,h.e)([(0,Q.N)()],S.prototype,"is3D",null),(0,h.e)([(0,Q.N)()],S.prototype,"is2DArray",null),(0,h.e)([(0,Q.N)()],S.prototype,"gammaSpace",null),(0,h.e)([(0,Q.N)()],S.prototype,"invertZ",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"lodLevelInAlpha",void 0),(0,h.e)([(0,Q.N)()],S.prototype,"lodGenerationOffset",null),(0,h.e)([(0,Q.N)()],S.prototype,"lodGenerationScale",null),(0,h.e)([(0,Q.N)()],S.prototype,"linearSpecularLOD",null),(0,h.e)([(0,Q.E)()],S.prototype,"irradianceTexture",null),(0,h.e)([(0,Q.N)()],S.prototype,"isRenderTarget",void 0)},12753:(p,b,M)=>{M.d(b,{c:()=>a});var h=M(12757),Q=M(12764),mp=M(12617),y=M(12777),P=M(12798),w=M(12730),t=M(12635),z=M(12680),x=M(12728),S=M(12829),X=M(12671);function c(p,b){let M=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const h=b.width,Q=b.height;if(p instanceof Float32Array){let b=p.byteLength/p.BYTES_PER_ELEMENT;const M=new Uint8Array(b);for(;--b>=0;){let h=p[b];h<0?h=0:h>1&&(h=1),M[b]=255*h}p=M}const mp=document.createElement("canvas");mp.width=h,mp.height=Q;const y=mp.getContext("2d");if(!y)return null;const P=y.createImageData(h,Q);if(P.data.set(p),y.putImageData(P,0,0),M){const p=document.createElement("canvas");p.width=h,p.height=Q;const b=p.getContext("2d");return b?(b.translate(0,Q),b.scale(1,-1),b.drawImage(mp,0,0),p.toDataURL("image/png")):null}return mp.toDataURL("image/png")}function J(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const h=p.getInternalTexture();if(!h)return null;const Q=p._readPixelsSync(b,M);return Q?c(Q,p.getSize(),h.invertY):null}async function g(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const h=p.getInternalTexture();if(!h)return null;const Q=await p.readPixels(b,M);return Q?c(Q,p.getSize(),h.invertY):null}var f=M(12834),Y=M(12812);class a extends P.e{static _CreateVideoTexture(p,b,M){arguments.length>5&&void 0!==arguments[5]||a.TRILINEAR_SAMPLINGMODE;throw(0,t.b)("VideoTexture")}get noMipmap(){return this._noMipmap}get mimeType(){return this._mimeType}set isBlocking(p){this._isBlocking=p}get isBlocking(){return this._isBlocking}get invertY(){return this._invertY}constructor(p,b,M,h){let Q,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TRILINEAR_SAMPLINGMODE,P=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,t=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,x=arguments.length>8&&void 0!==arguments[8]&&arguments[8],S=arguments.length>9?arguments[9]:void 0,X=arguments.length>10?arguments[10]:void 0,c=arguments.length>11?arguments[11]:void 0,J=arguments.length>12?arguments[12]:void 0,g=arguments.length>13?arguments[13]:void 0;super(b),this.url=null,this.uOffset=0,this.vOffset=0,this.uScale=1,this.vScale=1,this.uAng=0,this.vAng=0,this.wAng=0,this.uRotationCenter=.5,this.vRotationCenter=.5,this.wRotationCenter=.5,this.homogeneousRotationInUVTransform=!1,this.inspectableCustomProperties=null,this._noMipmap=!1,this._invertY=!1,this._rowGenerationMatrix=null,this._cachedTextureMatrix=null,this._projectionModeMatrix=null,this._t0=null,this._t1=null,this._t2=null,this._cachedUOffset=-1,this._cachedVOffset=-1,this._cachedUScale=0,this._cachedVScale=0,this._cachedUAng=-1,this._cachedVAng=-1,this._cachedWAng=-1,this._cachedReflectionProjectionMatrixId=-1,this._cachedURotationCenter=-1,this._cachedVRotationCenter=-1,this._cachedWRotationCenter=-1,this._cachedHomogeneousRotationInUVTransform=!1,this._cachedIdentity3x2=!0,this._cachedReflectionTextureMatrix=null,this._cachedReflectionUOffset=-1,this._cachedReflectionVOffset=-1,this._cachedReflectionUScale=0,this._cachedReflectionVScale=0,this._cachedReflectionCoordinatesMode=-1,this._buffer=null,this._deleteBuffer=!1,this._format=null,this._delayedOnLoad=null,this._delayedOnError=null,this.onLoadObservable=new mp.d,this._isBlocking=!0,this.name=p||"",this.url=p;let Y=!1,o=null,l=!0;"object"===typeof M&&null!==M?(Q=M.noMipmap??!1,h=M.invertY??!f.c,y=M.samplingMode??a.TRILINEAR_SAMPLINGMODE,P=M.A??null,w=M.onError??null,t=M.buffer??null,x=M.deleteBuffer??!1,S=M.format,X=M.mimeType,c=M.loaderOptions,J=M.creationFlags,Y=M.useSRGBBuffer??!1,o=M.internalTexture??null,l=M.gammaSpace??l,g=M.forcedExtension??g):Q=!!M,this._gammaSpace=l,this._noMipmap=Q,this._invertY=void 0===h?!f.c:h,this._initialSamplingMode=y,this._buffer=t,this._deleteBuffer=x,this._mimeType=X,this._loaderOptions=c,this._creationFlags=J,this._useSRGBBuffer=Y,this._forcedExtension=g,void 0!==S&&(this._format=S);const L=this.upp(),u=this._getEngine();if(!u)return;u.onBeforeTextureInitObservable.notifyObservers(this);const e=()=>{this._texture&&(this._texture._invertVScale&&(this.vScale*=-1,this.vOffset+=1),null!==this._texture._cachedWrapU&&(this.wrapU=this._texture._cachedWrapU,this._texture._cachedWrapU=null),null!==this._texture._cachedWrapV&&(this.wrapV=this._texture._cachedWrapV,this._texture._cachedWrapV=null),null!==this._texture._cachedWrapR&&(this.wrapR=this._texture._cachedWrapR,this._texture._cachedWrapR=null)),this.onLoadObservable.hasObservers()&&this.onLoadObservable.notifyObservers(this),P&&P(),!this.isBlocking&&L&&L.resetCachedMaterial()},d=(p,b)=>{this._loadingError=!0,this._errorObject={message:p,exception:b},w&&w(p,b),a.OnTextureLoadErrorObservable.notifyObservers(this)};if(!this.url&&!o)return this._delayedOnLoad=e,void(this._delayedOnError=d);if(this._texture=o??this._getFromCache(this.url,Q,y,this._invertY,Y,this.isCube),this._texture)if(this._texture.isReady)z.e.SetImmediate((()=>e()));else{const p=this._texture.onLoadedObservable.add(e);this._texture.onErrorObservable.add((b=>{var M;d(b.message,b.exception),null===(M=this._texture)||void 0===M||M.onLoadedObservable.remove(p)}))}else if(L&&L.useDelayedTextureLoading)this.delayLoadState=4,this._delayedOnLoad=e,this._delayedOnError=d;else{try{this._texture=u.createTexture(this.url,Q,this._invertY,L,y,e,d,this._buffer,void 0,this._format,this._forcedExtension,X,c,J,Y)}catch(I){throw d("error loading",I),I}x&&(this._buffer=null)}}updateURL(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,M=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0;this.url&&(this.releaseInternalTexture(),this.upp().markAllMaterialsAsDirty(1,(p=>p.hasTexture(this)))),this.name&&!this.name.startsWith("data:")||(this.name=p),this.url=p,this._buffer=b,this._forcedExtension=h,this.delayLoadState=4,M&&(this._delayedOnLoad=M),this.delayLoad()}delayLoad(){if(4!==this.delayLoadState)return;const p=this.upp();p&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY,this._useSRGBBuffer,this.isCube),this._texture?this._delayedOnLoad&&(this._texture.isReady?z.e.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=p.getEngine().createTexture(this.url,this._noMipmap,this._invertY,p,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,this._forcedExtension,this._mimeType,this._loaderOptions,this._creationFlags,this._useSRGBBuffer),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}_prepareRowForTextureGeneration(p,b,M,h){p*=this._cachedUScale,b*=this._cachedVScale,p-=this.uRotationCenter*this._cachedUScale,b-=this.vRotationCenter*this._cachedVScale,M-=this.wRotationCenter,y.QM.TransformCoordinatesFromFloatsToRef(p,b,M,this._rowGenerationMatrix,h),h.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,h.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,h.z+=this.wRotationCenter}getTextureMatrix(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*p===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*p,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=y.Matrix.Zero(),this._rowGenerationMatrix=new y.Matrix,this._t0=y.QM.Zero(),this._t1=y.QM.Zero(),this._t2=y.QM.Zero()),y.Matrix.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(y.Matrix.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,y.TmpVectors.Matrix[0]),y.Matrix.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,y.TmpVectors.Matrix[1]),y.Matrix.ScalingToRef(this._cachedUScale,this._cachedVScale,0,y.TmpVectors.Matrix[2]),y.Matrix.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,y.TmpVectors.Matrix[3]),y.TmpVectors.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(y.TmpVectors.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.eS(this._t0),this._t2.eS(this._t0),y.Matrix.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));const b=this.upp();if(!b)return this._cachedTextureMatrix;const M=this._cachedIdentity3x2;return this._cachedIdentity3x2=this._cachedTextureMatrix.isIdentityAs3x2(),this.optimizeUVAllocation&&M!==this._cachedIdentity3x2&&b.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))),this._cachedTextureMatrix}getReflectionTextureMatrix(){const p=this.upp();if(!p)return this._cachedReflectionTextureMatrix;if(this.uOffset===this._cachedReflectionUOffset&&this.vOffset===this._cachedReflectionVOffset&&this.uScale===this._cachedReflectionUScale&&this.vScale===this._cachedReflectionVScale&&this.coordinatesMode===this._cachedReflectionCoordinatesMode){if(this.coordinatesMode!==a.PROJECTION_MODE)return this._cachedReflectionTextureMatrix;if(this._cachedReflectionProjectionMatrixId===p.getProjectionMatrix().updateFlag)return this._cachedReflectionTextureMatrix}this._cachedReflectionTextureMatrix||(this._cachedReflectionTextureMatrix=y.Matrix.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=y.Matrix.Zero());const b=this._cachedReflectionCoordinatesMode!==this.coordinatesMode;switch(this._cachedReflectionUOffset=this.uOffset,this._cachedReflectionVOffset=this.vOffset,this._cachedReflectionUScale=this.uScale,this._cachedReflectionVScale=this.vScale,this._cachedReflectionCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case a.PLANAR_MODE:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix),this._cachedReflectionTextureMatrix[0]=this.uScale,this._cachedReflectionTextureMatrix[5]=this.vScale,this._cachedReflectionTextureMatrix[12]=this.uOffset,this._cachedReflectionTextureMatrix[13]=this.vOffset;break;case a.PROJECTION_MODE:{y.Matrix.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);const b=p.getProjectionMatrix();this._cachedReflectionProjectionMatrixId=b.updateFlag,b.multiplyToRef(this._projectionModeMatrix,this._cachedReflectionTextureMatrix);break}default:y.Matrix.IdentityToRef(this._cachedReflectionTextureMatrix)}return b&&p.markAllMaterialsAsDirty(1,(p=>p.hasTexture(this))),this._cachedReflectionTextureMatrix}clone(){const p={noMipmap:this._noMipmap,invertY:this._invertY,samplingMode:this.samplingMode,A:void 0,onError:void 0,buffer:this._texture?this._texture._buffer:void 0,deleteBuffer:this._deleteBuffer,format:this.textureFormat,mimeType:this.mimeType,loaderOptions:this._loaderOptions,creationFlags:this._creationFlags,useSRGBBuffer:this._useSRGBBuffer};return Y.e.Clone((()=>new a(this._texture?this._texture.url:null,this.upp(),p)),this)}serialize(){var p;const b=this.name;a.SerializeBuffers||this.name.startsWith("data:")&&(this.name=""),this.name.startsWith("data:")&&this.url===this.name&&(this.url="");const M=super.serialize(a._SerializeInternalTextureUniqueId);if(!M)return null;if(a.SerializeBuffers||a.ForceSerializeBuffers)if("string"===typeof this._buffer&&this._buffer.startsWith("data:"))M.base64String=this._buffer,M.name=M.name.replace("data:","");else if(this.url&&this.url.startsWith("data:")&&this._buffer instanceof Uint8Array){const p=this.mimeType||"image/png";M.base64String=`data:${p};base64,${(0,X.k)(this._buffer)}`}else(a.ForceSerializeBuffers||this.url&&this.url.startsWith("blob:")||this._forceSerialize)&&(M.base64String=!this._engine||this._engine._features.supportSyncTextureRead?J(this):g(this));var h;(M.invertY=this._invertY,M.samplingMode=this.samplingMode,M._creationFlags=this._creationFlags,M._useSRGBBuffer=this._useSRGBBuffer,a._SerializeInternalTextureUniqueId)&&(M.internalTextureUniqueId=null===(h=this._texture)||void 0===h?void 0:h.uniqueId);return M.internalTextureLabel=null===(p=this._texture)||void 0===p?void 0:p.label,M.noMipmap=this._noMipmap,this.name=b,M}getClassName(){return"Texture"}dispose(){super.dispose(),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null,this._buffer=null}static Parse(p,b,M){if(p.customType){const h=x.b.Instantiate(p.customType).Parse(p,b,M);return p.samplingMode&&h.updateSamplingMode&&h._samplingMode&&h._samplingMode!==p.samplingMode&&h.updateSamplingMode(p.samplingMode),h}if(p.isCube&&!p.isRenderTarget)return a._CubeTextureParser(p,b,M);const h=void 0!==p.internalTextureUniqueId;if(!p.name&&!p.isRenderTarget&&!h)return null;let Q;if(h){const M=b.getEngine().getLoadedTexturesCache();for(const b of M)if(b.uniqueId===p.internalTextureUniqueId){Q=b;break}}const mp=b=>{if(b&&b._texture&&(b._texture._cachedWrapU=null,b._texture._cachedWrapV=null,b._texture._cachedWrapR=null),p.samplingMode){const M=p.samplingMode;b&&b.samplingMode!==M&&b.updateSamplingMode(M)}if(b&&p.animations)for(let M=0;M<p.animations.length;M++){const h=p.animations[M],Q=(0,w.b)("BABYLON.Animation");Q&&b.animations.push(Q.Parse(h))}b&&b._texture&&(h&&!Q&&b._texture._setUniqueId(p.internalTextureUniqueId),b._texture.label=p.internalTextureLabel)};return Y.e.Parse((()=>{let h=!0;if(p.noMipmap&&(h=!1),p.mirrorPlane){const M=a._CreateMirror(p.name,p.renderTargetSize,b,h);return M._waitingRenderList=p.renderList,M.mirrorPlane=S.e.tM(p.mirrorPlane),mp(M),M}if(p.isRenderTarget){let M=null;if(p.isCube){if(b.reflectionProbes)for(let h=0;h<b.reflectionProbes.length;h++){const M=b.reflectionProbes[h];if(M.name===p.name)return M.cubeTexture}}else M=a._CreateRenderTargetTexture(p.name,p.renderTargetSize,b,h,p._creationFlags??0),M._waitingRenderList=p.renderList;return mp(M),M}if(p.isVideo){const Q=a._CreateVideoTexture(M+(p.url||p.name),M+(p.src||p.url),b,h,p.invertY,p.samplingMode,p.settings||{});return mp(Q),Q}{let y;if(p.base64String&&!Q)y=a.CreateFromBase64String(p.base64String,p.base64String,b,!h,p.invertY,p.samplingMode,(()=>{mp(y)}),p._creationFlags??0,p._useSRGBBuffer??!1),y.name=p.name;else{let P;P=p.name&&(p.name.indexOf("://")>0||p.name.startsWith("data:"))?p.name:M+p.name,p.url&&(p.url.startsWith("data:")||a.UseSerializedUrlIfAny)&&(P=p.url);const w={noMipmap:!h,invertY:p.invertY,samplingMode:p.samplingMode,A:()=>{mp(y)},internalTexture:Q};y=new a(P,b,w)}return y}}),p,b)}static CreateFromBase64String(p,b,M,h,Q){let mp=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.TRILINEAR_SAMPLINGMODE;return new a("data:"+b,M,h,Q,mp,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p,!1,arguments.length>8&&void 0!==arguments[8]?arguments[8]:5,void 0,void 0,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)}static LoadFromDataString(p,b,M){let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Q=arguments.length>4?arguments[4]:void 0,mp=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:a.TRILINEAR_SAMPLINGMODE,P=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,t=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,z=arguments.length>10?arguments[10]:void 0,x=arguments.length>11?arguments[11]:void 0;return"data:"!==p.substring(0,5)&&(p="data:"+p),new a(p,M,Q,mp,y,P,w,b,h,t,void 0,void 0,z,x)}}a.SerializeBuffers=!0,a.ForceSerializeBuffers=!1,a.OnTextureLoadErrorObservable=new mp.d,a._SerializeInternalTextureUniqueId=!1,a._CubeTextureParser=(p,b,M)=>{throw(0,t.b)("CubeTexture")},a._CreateMirror=(p,b,M,h)=>{throw(0,t.b)("MirrorTexture")},a._CreateRenderTargetTexture=(p,b,M,h,Q)=>{throw(0,t.b)("RenderTargetTexture")},a.NEAREST_SAMPLINGMODE=1,a.NEAREST_NEAREST_MIPLINEAR=8,a.BILINEAR_SAMPLINGMODE=2,a.LINEAR_LINEAR_MIPNEAREST=11,a.TRILINEAR_SAMPLINGMODE=3,a.LINEAR_LINEAR_MIPLINEAR=3,a.NEAREST_NEAREST_MIPNEAREST=4,a.NEAREST_LINEAR_MIPNEAREST=5,a.NEAREST_LINEAR_MIPLINEAR=6,a.NEAREST_LINEAR=7,a.NEAREST_NEAREST=1,a.LINEAR_NEAREST_MIPNEAREST=9,a.LINEAR_NEAREST_MIPLINEAR=10,a.LINEAR_LINEAR=2,a.LINEAR_NEAREST=12,a.EXPLICIT_MODE=0,a.SPHERICAL_MODE=1,a.PLANAR_MODE=2,a.CUBIC_MODE=3,a.PROJECTION_MODE=4,a.SKYBOX_MODE=5,a.INVCUBIC_MODE=6,a.EQUIRECTANGULAR_MODE=7,a.FIXED_EQUIRECTANGULAR_MODE=8,a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,a.CLAMP_ADDRESSMODE=0,a.WRAP_ADDRESSMODE=1,a.MIRROR_ADDRESSMODE=2,a.UseSerializedUrlIfAny=!1,(0,h.e)([(0,Q.N)()],a.prototype,"url",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"uOffset",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"vOffset",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"uScale",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"vScale",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"uAng",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"vAng",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"wAng",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"uRotationCenter",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"vRotationCenter",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"wRotationCenter",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"homogeneousRotationInUVTransform",void 0),(0,h.e)([(0,Q.N)()],a.prototype,"isBlocking",null),(0,w.c)("BABYLON.Texture",a),Y.e._TextureParser=a.Parse},12829:(p,b,M)=>{M.d(b,{e:()=>Q});var h=M(12777);class Q{constructor(p,b,M,Q){this.normal=new h.QM(p,b,M),this.d=Q}ub(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new Q(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return"Plane"}getHashCode(){let p=this.normal.getHashCode();return p=397*p^this.d,p}normalize(){const p=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let b=0;return 0!==p&&(b=1/p),this.normal.x*=b,this.normal.y*=b,this.normal.z*=b,this.d*=b,this}transform(p){const b=Q._TmpMatrix;p.invertToRef(b);const M=b.m,h=this.normal.x,mp=this.normal.y,y=this.normal.z,P=this.d,w=h*M[0]+mp*M[1]+y*M[2]+P*M[3],t=h*M[4]+mp*M[5]+y*M[6]+P*M[7],z=h*M[8]+mp*M[9]+y*M[10]+P*M[11],x=h*M[12]+mp*M[13]+y*M[14]+P*M[15];return new Q(w,t,z,x)}dotCoordinate(p){return this.normal.x*p.x+this.normal.y*p.y+this.normal.z*p.z+this.d}copyFromPoints(p,b,M){const h=b.x-p.x,Q=b.y-p.y,mp=b.z-p.z,y=M.x-p.x,P=M.y-p.y,w=M.z-p.z,t=Q*w-mp*P,z=mp*y-h*w,x=h*P-Q*y,S=Math.sqrt(t*t+z*z+x*x);let X;return X=0!==S?1/S:0,this.normal.x=t*X,this.normal.y=z*X,this.normal.z=x*X,this.d=-(this.normal.x*p.x+this.normal.y*p.y+this.normal.z*p.z),this}isFrontFacingTo(p,b){return h.QM.Dot(this.normal,p)<=b}signedDistanceTo(p){return h.QM.Dot(p,this.normal)+this.d}static tM(p){return new Q(p[0],p[1],p[2],p[3])}static FromPoints(p,b,M){const h=new Q(0,0,0,0);return h.copyFromPoints(p,b,M),h}static FromPositionAndNormal(p,b){const M=new Q(0,0,0,0);return this.FromPositionAndNormalToRef(p,b,M)}static FromPositionAndNormalToRef(p,b,M){return M.normal.mp(b),M.normal.normalize(),M.d=-p.dot(M.normal),M}static SignedDistanceToPlaneFromPositionAndNormal(p,b,M){const Q=-(b.x*p.x+b.y*p.y+b.z*p.z);return h.QM.Dot(M,b)+Q}}Q._TmpMatrix=h.Matrix.Identity()},12805:(p,b,M)=>{M.d(b,{d:()=>h});class h{constructor(p,b){this.width=p,this.height=b}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return"Size"}getHashCode(){let p=0|this.width;return p=397*p^this.height,p}mp(p){this.width=p.width,this.height=p.height}sb(p,b){return this.width=p,this.height=b,this}set(p,b){return this.sb(p,b)}multiplyByFloats(p,b){return new h(this.width*p,this.height*b)}clone(){return new h(this.width,this.height)}equals(p){return!!p&&(this.width===p.width&&this.height===p.height)}get surface(){return this.width*this.height}static Zero(){return new h(0,0)}add(p){return new h(this.width+p.width,this.height+p.height)}mh(p){return new h(this.width-p.width,this.height-p.height)}scale(p){return new h(this.width*p,this.height*p)}static Lerp(p,b,M){const Q=p.width+(b.width-p.width)*M,mp=p.height+(b.height-p.height)*M;return new h(Q,mp)}}},12768:(p,b,M)=>{M.d(b,{e:()=>mp,g:()=>y});const h={},Q={};function mp(p){const b=p.getClassName();return Q[b]||(Q[b]={}),Q[b]}function y(p){const b=p.getClassName();if(h[b])return h[b];h[b]={};const M=h[b];let mp=p,y=b;for(;y;){const p=Q[y];for(const Q in p)M[Q]=p[Q];let b,h=!1;do{if(b=Object.getPrototypeOf(mp),!b.getClassName){h=!0;break}if(b.getClassName()!==y)break;mp=b}while(b);if(h)break;y=b.getClassName(),mp=b}return M}},12764:(p,b,M)=>{M.d(b,{A:()=>S,D:()=>g,E:()=>P,H:()=>z,J:()=>x,N:()=>y,d:()=>mp,f:()=>Y,j:()=>X,k:()=>w,n:()=>c,q:()=>t,t:()=>J,x:()=>f});var h=M(12768);function Q(p,b){return(M,Q)=>{const mp=(0,h.e)(M);mp[Q]||(mp[Q]={type:p,sourceName:b})}}function mp(p){return function(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(M,h)=>{const Q=b||"_"+h;Object.defineProperty(M,h,{get:function(){return this[Q]},set:function(b){var h;"function"===typeof(null===(h=this[Q])||void 0===h?void 0:h.equals)&&this[Q].equals(b)||this[Q]!==b&&(this[Q]=b,M[p].apply(this))},enumerable:!0,configurable:!0})}}(p,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}function y(p){return Q(0,p)}function P(p){return Q(1,p)}function w(p){return Q(2,p)}function t(p){return Q(3,p)}function z(p){return Q(4,p)}function x(p){return Q(5,p)}function S(p){return Q(6,p)}function X(p){return Q(7,p)}function c(p){return Q(8,p)}function J(p){return Q(9,p)}function g(p){return Q(10,p)}function f(p){return Q(12,p)}function Y(p,b,M,h){const Q=M.value;M.value=function(){let M=Q;if("undefined"!==typeof _native&&_native[b]){const p=_native[b];M=h?function(){return h(...arguments)?p(...arguments):Q(...arguments)}:p}return p[b]=M,M(...arguments)}}Y.filter=function(p){return(b,M,h)=>Y(b,M,h,p)}},12812:(p,b,M)=>{M.d(b,{e:()=>t});var h=M(12635),Q=M(12815),mp=M(12820),y=M(12777),P=M(12768);const w=function(p,b,M){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const mp=p();Q.b&&Q.b.HasTags(b)&&Q.b.AddTagsTo(mp,Q.b.GetTags(b,!0));const y=(0,P.g)(mp),w={};for(const Q in y){const p=y[Q],P=b[Q],z=p.type;if(void 0!==P&&null!==P&&("uniqueId"!==Q||t.AllowLoadingUniqueId))switch(z){case 0:case 6:case 9:case 11:mp[Q]=P;break;case 1:h.cloneTexturesOnlyOnce&&w[P.uniqueId]?mp[Q]=w[P.uniqueId]:(mp[Q]=M||P.isRenderTarget?P:P.clone(),w[P.uniqueId]=mp[Q]);break;case 2:case 3:case 4:case 5:case 7:case 8:case 10:case 12:mp[Q]=M?P:P.clone()}}return mp};class t{static AppendSerializedAnimations(p,b){if(p.animations){b.animations=[];for(let M=0;M<p.animations.length;M++){const h=p.animations[M];b.animations.push(h.serialize())}}}static Serialize(p,b){b||(b={}),Q.b&&(b.tags=Q.b.GetTags(p));const M=(0,P.g)(p);for(const h in M){const Q=M[h],mp=Q.sourceName||h,y=Q.type,P=p[h];if(void 0!==P&&null!==P&&("uniqueId"!==h||t.AllowLoadingUniqueId))switch(y){case 0:b[mp]=P;break;case 1:case 3:case 7:case 9:b[mp]=P.serialize();break;case 2:case 4:case 5:case 8:case 10:case 12:b[mp]=P.ub();break;case 6:case 11:b[mp]=P.id}}return b}static ParseProperties(p,b,M,h){h||(h="");const Q=(0,P.g)(b);for(const P in Q){const w=Q[P],z=p[w.sourceName||P],x=w.type;if(void 0!==z&&null!==z&&("uniqueId"!==P||t.AllowLoadingUniqueId)){const p=b;switch(x){case 0:p[P]=z;break;case 1:M&&(p[P]=t._TextureParser(z,M,h));break;case 2:p[P]=mp.wM.tM(z);break;case 3:p[P]=t._FresnelParametersParser(z);break;case 4:p[P]=y.Vector2.tM(z);break;case 5:p[P]=y.QM.tM(z);break;case 6:M&&(p[P]=M.getLastMeshById(z));break;case 7:p[P]=t._ColorCurvesParser(z);break;case 8:p[P]=mp.Hb.tM(z);break;case 9:p[P]=t._ImageProcessingConfigurationParser(z);break;case 10:p[P]=y.Quaternion.tM(z);break;case 11:M&&(p[P]=M.getCameraById(z));break;case 12:p[P]=y.Matrix.tM(z)}}}}static Parse(p,b,M){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const mp=p();return Q.b&&Q.b.AddTagsTo(mp,b.tags),t.ParseProperties(b,mp,M,h),mp}static Clone(p,b){return w(p,b,!1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}static Instanciate(p,b){return w(p,b,!0)}}t.AllowLoadingUniqueId=!1,t._ImageProcessingConfigurationParser=p=>{throw(0,h.b)("ImageProcessingConfiguration")},t._FresnelParametersParser=p=>{throw(0,h.b)("FresnelParameters")},t._ColorCurvesParser=p=>{throw(0,h.b)("ColorCurves")},t._TextureParser=(p,b,M)=>{throw(0,h.b)("Texture")}},12815:(p,b,M)=>{M.d(b,{b:()=>Q});class h{static Eval(p,b){return"true"===(p=p.match(/\([^()]*\)/g)?p.replace(/\([^()]*\)/g,(p=>(p=p.slice(1,p.length-1),h._HandleParenthesisContent(p,b)))):h._HandleParenthesisContent(p,b))||"false"!==p&&h.Eval(p,b)}static _HandleParenthesisContent(p,b){let M;b=b||(p=>"true"===p);const Q=p.split("||");for(const mp in Q)if(Object.prototype.hasOwnProperty.call(Q,mp)){let p=h._SimplifyNegation(Q[mp].trim());const y=p.split("&&");if(y.length>1)for(let Q=0;Q<y.length;++Q){const mp=h._SimplifyNegation(y[Q].trim());if(M="true"!==mp&&"false"!==mp?"!"===mp[0]?!b(mp.substring(1)):b(mp):"true"===mp,!M){p="false";break}}if(M||"true"===p){M=!0;break}M="true"!==p&&"false"!==p?"!"===p[0]?!b(p.substring(1)):b(p):"true"===p}return M?"true":"false"}static _SimplifyNegation(p){return"!true"===(p=(p=p.replace(/^[\s!]+/,(p=>(p=p.replace(/[\s]/g,(()=>""))).length%2?"!":""))).trim())?p="false":"!false"===p&&(p="true"),p}}class Q{static EnableFor(p){p._tags=p._tags||{},p.hasTags=()=>Q.HasTags(p),p.addTags=b=>Q.AddTagsTo(p,b),p.removeTags=b=>Q.RemoveTagsFrom(p,b),p.matchesTagsQuery=b=>Q.MatchesQuery(p,b)}static DisableFor(p){delete p._tags,delete p.hasTags,delete p.addTags,delete p.removeTags,delete p.matchesTagsQuery}static HasTags(p){if(!p._tags)return!1;const b=p._tags;for(const M in b)if(Object.prototype.hasOwnProperty.call(b,M))return!0;return!1}static GetTags(p){let b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!p._tags)return null;if(b){const b=[];for(const M in p._tags)Object.prototype.hasOwnProperty.call(p._tags,M)&&!0===p._tags[M]&&b.push(M);return b.join(" ")}return p._tags}static AddTagsTo(p,b){if(!b)return;if("string"!==typeof b)return;const M=b.split(" ");for(const h of M)Q._AddTagTo(p,h)}static _AddTagTo(p,b){""!==(b=b.trim())&&"true"!==b&&"false"!==b&&(b.match(/[\s]/)||b.match(/^([!]|([|]|[&]){2})/)||(Q.EnableFor(p),p._tags[b]=!0))}static RemoveTagsFrom(p,b){if(!Q.HasTags(p))return;const M=b.split(" ");for(const h in M)Q._RemoveTagFrom(p,M[h])}static _RemoveTagFrom(p,b){delete p._tags[b]}static MatchesQuery(p,b){return void 0===b||(""===b?Q.HasTags(p):h.Eval(b,(b=>Q.HasTags(p)&&p._tags[b])))}}},12757:(p,b,M)=>{M.d(b,{e:()=>h});function h(p,b,M,h){var Q,mp=arguments.length,y=mp<3?b:null===h?h=Object.getOwnPropertyDescriptor(b,M):h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)y=Reflect.decorate(p,b,M,h);else for(var P=p.length-1;P>=0;P--)(Q=p[P])&&(y=(mp<3?Q(y):mp>3?Q(b,M,y):Q(b,M))||y);return mp>3&&y&&Object.defineProperty(b,M,y),y}Object.create;Object.create}}]);