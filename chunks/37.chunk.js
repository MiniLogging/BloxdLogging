/*! For license information please see aji8a.37.6f901987.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11140:(d,m,g)=>{g.d(m,{$:()=>O,A:()=>Y,D:()=>X,F:()=>Q,I:()=>I,L:()=>i,P:()=>L,R:()=>F,U:()=>R,W:()=>J,Y:()=>C,bb:()=>K,c:()=>B,cb:()=>y,e:()=>T,gb:()=>c,i:()=>H,l:()=>A,p:()=>z,t:()=>j,u:()=>b,v:()=>P,x:()=>p,z:()=>n});const V=function(d){const m=[];let g=0;for(let V=0;V<d.length;V++){let u=d.charCodeAt(V);u<128?m[g++]=u:u<2048?(m[g++]=u>>6|192,m[g++]=63&u|128):55296===(64512&u)&&V+1<d.length&&56320===(64512&d.charCodeAt(V+1))?(u=65536+((1023&u)<<10)+(1023&d.charCodeAt(++V)),m[g++]=u>>18|240,m[g++]=u>>12&63|128,m[g++]=u>>6&63|128,m[g++]=63&u|128):(m[g++]=u>>12|224,m[g++]=u>>6&63|128,m[g++]=63&u|128)}return m},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(d,m){if(!Array.isArray(d))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=m?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let u=0;u<d.length;u+=3){const m=d[u],D=u+1<d.length,j=D?d[u+1]:0,z=u+2<d.length,s=z?d[u+2]:0,U=m>>2,X=(3&m)<<4|j>>4;let Y=(15&j)<<2|s>>6,Q=63&s;z||(Q=64,D||(Y=64)),V.push(g[U],g[X],g[Y],g[Q])}return V.join("")},encodeString(d,m){return this.HAS_NATIVE_SUPPORT&&!m?btoa(d):this.encodeByteArray(V(d),m)},decodeString(d,m){return this.HAS_NATIVE_SUPPORT&&!m?atob(d):function(d){const m=[];let g=0,V=0;for(;g<d.length;){const u=d[g++];if(u<128)m[V++]=String.fromCharCode(u);else if(u>191&&u<224){const D=d[g++];m[V++]=String.fromCharCode((31&u)<<6|63&D)}else if(u>239&&u<365){const D=((7&u)<<18|(63&d[g++])<<12|(63&d[g++])<<6|63&d[g++])-65536;m[V++]=String.fromCharCode(55296+(D>>10)),m[V++]=String.fromCharCode(56320+(1023&D))}else{const D=d[g++],j=d[g++];m[V++]=String.fromCharCode((15&u)<<12|(63&D)<<6|63&j)}}return m.join("")}(this.decodeStringToByteArray(d,m))},decodeStringToByteArray(d,m){this.init_();const g=m?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let u=0;u<d.length;){const m=g[d.charAt(u++)],j=u<d.length?g[d.charAt(u)]:0;++u;const z=u<d.length?g[d.charAt(u)]:64;++u;const s=u<d.length?g[d.charAt(u)]:64;if(++u,null==m||null==j||null==z||null==s)throw new D;const U=m<<2|j>>4;if(V.push(U),64!==z){const d=j<<4&240|z>>2;if(V.push(d),64!==s){const d=z<<6&192|s;V.push(d)}}}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let d=0;d<this.ENCODED_VALS.length;d++)this.byteToCharMap_[d]=this.ENCODED_VALS.charAt(d),this.charToByteMap_[this.byteToCharMap_[d]]=d,this.byteToCharMapWebSafe_[d]=this.ENCODED_VALS_WEBSAFE.charAt(d),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[d]]=d,d>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(d)]=d,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(d)]=d)}}};class D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j=function(d){return function(d){const m=V(d);return u.encodeByteArray(m,!0)}(d).replace(/\./g,"")},z=function(d){try{return u.decodeString(d,!0)}catch(m){console.error("base64Decode failed: ",m)}return null};const s=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof g.g)return g.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,U=()=>{try{return s()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let d;try{d=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(g){return}const m=d&&z(d[1]);return m&&JSON.parse(m)})()}catch(d){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${d}`)}},X=d=>{var m,g;return null===(g=null===(m=U())||void 0===m?void 0:m.emulatorHosts)||void 0===g?void 0:g[d]},Y=()=>{var d;return null===(d=U())||void 0===d?void 0:d.config},Q=d=>{var m;return null===(m=U())||void 0===m?void 0:m[`_${d}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((d,m)=>{this.resolve=d,this.reject=m}))}wrapCallback(d){return(m,g)=>{m?this.reject(m):this.resolve(g),"function"===typeof d&&(this.promise.catch((()=>{})),1===d.length?d(m):d(m,g))}}}function i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(i())}function L(){const d="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof d&&void 0!==d.id}function O(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function R(){const d=i();return d.indexOf("MSIE ")>=0||d.indexOf("Trident/")>=0}function J(){try{return"object"===typeof indexedDB}catch(d){return!1}}function c(){return new Promise(((d,m)=>{try{let g=!0;const V="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(V);u.onsuccess=()=>{u.result.close(),g||self.indexedDB.deleteDatabase(V),d(!0)},u.onupgradeneeded=()=>{g=!1},u.onerror=()=>{var d;m((null===(d=u.error)||void 0===d?void 0:d.message)||"")}}catch(g){m(g)}}))}function A(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class H extends Error{constructor(d,m,g){super(m),this.code=d,this.customData=g,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(d,m,g){this.service=d,this.serviceName=m,this.errors=g}create(d){const m=(arguments.length<=1?void 0:arguments[1])||{},g=`${this.service}/${d}`,V=this.errors[d],u=V?function(d,m){return d.replace(N,((d,g)=>{const V=m[g];return null!=V?String(V):`<${g}?>`}))}(V,m):"Error",D=`${this.serviceName}: ${u} (${g}).`;return new H(g,D,m)}}const N=/\{\$([^}]+)}/g;function F(d){for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m))return!1;return!0}function p(d,m){if(d===m)return!0;const g=Object.keys(d),V=Object.keys(m);for(const u of g){if(!V.includes(u))return!1;const g=d[u],D=m[u];if(l(g)&&l(D)){if(!p(g,D))return!1}else if(g!==D)return!1}for(const u of V)if(!g.includes(u))return!1;return!0}function l(d){return null!==d&&"object"===typeof d}function y(d){const m=[];for(const[g,V]of Object.entries(d))Array.isArray(V)?V.forEach((d=>{m.push(encodeURIComponent(g)+"="+encodeURIComponent(d))})):m.push(encodeURIComponent(g)+"="+encodeURIComponent(V));return m.length?"&"+m.join("&"):""}function K(d){const m={};return d.replace(/^\?/,"").split("&").forEach((d=>{if(d){const[g,V]=d.split("=");m[decodeURIComponent(g)]=decodeURIComponent(V)}})),m}function n(d){const m=d.indexOf("?");if(!m)return"";const g=d.indexOf("#",m);return d.substring(m,g>0?g:void 0)}function P(d,m){const g=new w(d,m);return g.subscribe.bind(g)}class w{constructor(d,m){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=m,this.task.then((()=>{d(this)})).catch((d=>{this.error(d)}))}next(d){this.forEachObserver((m=>{m.next(d)}))}error(d){this.forEachObserver((m=>{m.error(d)})),this.close(d)}complete(){this.forEachObserver((d=>{d.complete()})),this.close()}subscribe(d,m,g){let V;if(void 0===d&&void 0===m&&void 0===g)throw new Error("Missing Observer.");V=function(d,m){if("object"!==typeof d||null===d)return!1;for(const g of m)if(g in d&&"function"===typeof d[g])return!0;return!1}(d,["next","error","complete"])?d:{next:d,error:m,complete:g},void 0===V.next&&(V.next=E),void 0===V.error&&(V.error=E),void 0===V.complete&&(V.complete=E);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(d){}})),this.observers.push(V),u}unsubscribeOne(d){void 0!==this.observers&&void 0!==this.observers[d]&&(delete this.observers[d],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(d){if(!this.finalized)for(let m=0;m<this.observers.length;m++)this.sendOne(m,d)}sendOne(d,m){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[d])try{m(this.observers[d])}catch(g){"undefined"!==typeof console&&console.error&&console.error(g)}}))}close(d){this.finalized||(this.finalized=!0,void 0!==d&&(this.finalError=d),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}const t=1e3,x=2,S=144e5,o=.5;function b(d){let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)*Math.pow(m,d),V=Math.round(o*g*(Math.random()-.5)*2);return Math.min(S,g+V)}function I(d){return d&&d._delegate?d._delegate:d}},11123:(d,m,g)=>{g.d(m,{c:()=>D.i,d:()=>Yd,h:()=>v,k:()=>gd,l:()=>Vd,p:()=>dd,q:()=>zd,u:()=>md,v:()=>Dd,x:()=>ud,y:()=>jd,B:()=>Cd,F:()=>Bd,C:()=>id,G:()=>Qd,J:()=>Od,K:()=>Ld,O:()=>Rd});var V=g(11131),u=g(11145),D=g(11140);let j,z;const s=new WeakMap,U=new WeakMap,X=new WeakMap,Y=new WeakMap,Q=new WeakMap;let B={get(d,m,g){if(d instanceof IDBTransaction){if("done"===m)return U.get(d);if("objectStoreNames"===m)return d.objectStoreNames||X.get(d);if("store"===m)return g.objectStoreNames[1]?void 0:g.objectStore(g.objectStoreNames[0])}return L(d[m])},set:(d,m,g)=>(d[m]=g,!0),has:(d,m)=>d instanceof IDBTransaction&&("done"===m||"store"===m)||m in d};function i(d){return d!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(d)?function(){for(var m=arguments.length,g=new Array(m),V=0;V<m;V++)g[V]=arguments[V];return d.apply(O(this),g),L(s.get(this))}:function(){for(var m=arguments.length,g=new Array(m),V=0;V<m;V++)g[V]=arguments[V];return L(d.apply(O(this),g))}:function(m){for(var g=arguments.length,V=new Array(g>1?g-1:0),u=1;u<g;u++)V[u-1]=arguments[u];const D=d.call(O(this),m,...V);return X.set(D,m.sort?m.sort():[m]),L(D)}}function C(d){return"function"===typeof d?i(d):(d instanceof IDBTransaction&&function(d){if(U.has(d))return;const m=new Promise(((m,g)=>{const V=()=>{d.removeEventListener("complete",u),d.removeEventListener("error",D),d.removeEventListener("abort",D)},u=()=>{m(),V()},D=()=>{g(d.error||new DOMException("AbortError","AbortError")),V()};d.addEventListener("complete",u),d.addEventListener("error",D),d.addEventListener("abort",D)}));U.set(d,m)}(d),m=d,(j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((d=>m instanceof d))?new Proxy(d,B):d);var m}function L(d){if(d instanceof IDBRequest)return function(d){const m=new Promise(((m,g)=>{const V=()=>{d.removeEventListener("success",u),d.removeEventListener("error",D)},u=()=>{m(L(d.result)),V()},D=()=>{g(d.error),V()};d.addEventListener("success",u),d.addEventListener("error",D)}));return m.then((m=>{m instanceof IDBCursor&&s.set(m,d)})).catch((()=>{})),Q.set(m,d),m}(d);if(Y.has(d))return Y.get(d);const m=C(d);return m!==d&&(Y.set(d,m),Q.set(m,d)),m}const O=d=>Q.get(d);const R=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],c=new Map;function A(d,m){if(!(d instanceof IDBDatabase)||m in d||"string"!==typeof m)return;if(c.get(m))return c.get(m);const g=m.replace(/FromIndex$/,""),V=m!==g,u=J.includes(g);if(!(g in(V?IDBIndex:IDBObjectStore).prototype)||!u&&!R.includes(g))return;const D=async function(d){const m=this.transaction(d,u?"readwrite":"readonly");let D=m.store;for(var j=arguments.length,z=new Array(j>1?j-1:0),s=1;s<j;s++)z[s-1]=arguments[s];return V&&(D=D.index(z.shift())),(await Promise.all([D[g](...z),u&&m.done]))[0]};return c.set(m,D),D}B=(d=>({...d,get:(m,g,V)=>A(m,g)||d.get(m,g,V),has:(m,g)=>!!A(m,g)||d.has(m,g)}))(B);class H{constructor(d){this.container=d}getPlatformInfoString(){return this.container.getProviders().map((d=>{if(function(d){const m=d.getComponent();return"VERSION"===(null===m||void 0===m?void 0:m.type)}(d)){const m=d.getImmediate();return`${m.library}/${m.version}`}return null})).filter((d=>d)).join(" ")}}const T="@firebase/app",N="0.9.13",F=new u.f("@firebase/app"),p="@firebase/app-compat",l="@firebase/analytics-compat",y="@firebase/analytics",K="@firebase/app-check-compat",n="@firebase/app-check",P="@firebase/auth",w="@firebase/auth-compat",E="@firebase/database",t="@firebase/database-compat",x="@firebase/functions",S="@firebase/functions-compat",o="@firebase/installations",b="@firebase/installations-compat",I="@firebase/messaging",k="@firebase/messaging-compat",r="@firebase/performance",M="@firebase/performance-compat",h="@firebase/remote-config",Z="@firebase/remote-config-compat",a="@firebase/storage",W="@firebase/storage-compat",G="@firebase/firestore",q="@firebase/firestore-compat",f="firebase",v="[DEFAULT]",e={[T]:"fire-core",[p]:"fire-core-compat",[y]:"fire-analytics",[l]:"fire-analytics-compat",[n]:"fire-app-check",[K]:"fire-app-check-compat",[P]:"fire-auth",[w]:"fire-auth-compat",[E]:"fire-rtdb",[t]:"fire-rtdb-compat",[x]:"fire-fn",[S]:"fire-fn-compat",[o]:"fire-iid",[b]:"fire-iid-compat",[I]:"fire-fcm",[k]:"fire-fcm-compat",[r]:"fire-perf",[M]:"fire-perf-compat",[h]:"fire-rc",[Z]:"fire-rc-compat",[a]:"fire-gcs",[W]:"fire-gcs-compat",[G]:"fire-fst",[q]:"fire-fst-compat","fire-js":"fire-js",[f]:"fire-js-all"},dd=new Map,md=new Map;function gd(d,m){try{d.container.uf(m)}catch(g){F.debug(`Component ${m.name} failed to register with FirebaseApp ${d.name}`,g)}}function Vd(d,m){d.container.addOrOverwriteComponent(m)}function ud(d){const m=d.name;if(md.has(m))return F.debug(`There were multiple attempts to register component ${m}.`),!1;md.set(m,d);for(const g of dd.values())gd(g,d);return!0}function Dd(d,m){const g=d.container.getProvider("heartbeat").getImmediate({optional:!0});return g&&g.triggerHeartbeat(),d.container.getProvider(m)}function jd(d,m){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;Dd(d,m).clearInstance(g)}function zd(){md.clear()}const sd={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ud=new D.e("app","Firebase",sd);class Xd{constructor(d,m,g){this._isDeleted=!1,this._options=Object.assign({},d),this._config=Object.assign({},m),this._name=m.name,this._automaticDataCollectionEnabled=m.automaticDataCollectionEnabled,this._container=g,this.container.uf(new V.c("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(d){this.checkDestroyed(),this._automaticDataCollectionEnabled=d}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(d){this._isDeleted=d}checkDestroyed(){if(this.isDeleted)throw Ud.create("app-deleted",{appName:this._name})}}const Yd="9.23.0";function Qd(d){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=d;if("object"!==typeof m){m={name:m}}const u=Object.assign({name:v,automaticDataCollectionEnabled:!1},m),j=u.name;if("string"!==typeof j||!j)throw Ud.create("bad-app-name",{appName:String(j)});if(g||(g=(0,D.A)()),!g)throw Ud.create("no-options");const z=dd.get(j);if(z){if((0,D.x)(g,z.options)&&(0,D.x)(u,z.config))return z;throw Ud.create("duplicate-app",{appName:j})}const s=new V.b(j);for(const V of md.values())s.uf(V);const U=new Xd(g,u,s);return dd.set(j,U),U}function Bd(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;const m=dd.get(d);if(!m&&d===v&&(0,D.A)())return Qd();if(!m)throw Ud.create("no-app",{appName:d});return m}function id(){return Array.from(dd.values())}async function Cd(d){const m=d.name;dd.has(m)&&(dd.delete(m),await Promise.all(d.container.getProviders().map((d=>d.delete()))),d.isDeleted=!0)}function Ld(d,m,g){var u;let D=null!==(u=e[d])&&void 0!==u?u:d;g&&(D+=`-${g}`);const j=D.match(/\s|\//),z=m.match(/\s|\//);if(j||z){const d=[`Unable to register library "${D}" with version "${m}":`];return j&&d.push(`library name "${D}" contains illegal characters (whitespace or "/")`),j&&z&&d.push("and"),z&&d.push(`version name "${m}" contains illegal characters (whitespace or "/")`),void F.warn(d.join(" "))}ud(new V.c(`${D}-version`,(()=>({library:D,version:m})),"VERSION"))}function Od(d,m){if(null!==d&&"function"!==typeof d)throw Ud.create("invalid-log-argument");(0,u.i)(d,m)}function Rd(d){(0,u.h)(d)}const Jd="firebase-heartbeat-store";let cd=null;function Ad(){return cd||(cd=function(d,m){let{blocked:g,upgrade:V,blocking:u,terminated:D}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const j=indexedDB.open(d,m),z=L(j);return V&&j.addEventListener("upgradeneeded",(d=>{V(L(j.result),d.oldVersion,d.newVersion,L(j.transaction),d)})),g&&j.addEventListener("blocked",(d=>g(d.oldVersion,d.newVersion,d))),z.then((d=>{D&&d.addEventListener("close",(()=>D())),u&&d.addEventListener("versionchange",(d=>u(d.oldVersion,d.newVersion,d)))})).catch((()=>{})),z}("firebase-heartbeat-database",1,{upgrade:(d,m)=>{if(0===m)d.createObjectStore(Jd)}}).catch((d=>{throw Ud.create("idb-open",{originalErrorMessage:d.message})}))),cd}async function Hd(d,m){try{const g=(await Ad()).transaction(Jd,"readwrite"),V=g.objectStore(Jd);await V.put(m,Td(d)),await g.done}catch(g){if(g instanceof D.i)F.warn(g.message);else{const d=Ud.create("idb-set",{originalErrorMessage:null===g||void 0===g?void 0:g.message});F.warn(d.message)}}}function Td(d){return`${d.name}!${d.options.appId}`}class Nd{constructor(d){this.container=d,this._heartbeatsCache=null;const m=this.container.getProvider("app").getImmediate();this.Si=new pd(m),this._heartbeatsCachePromise=this.Si.read().then((d=>(this._heartbeatsCache=d,d)))}async triggerHeartbeat(){const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),m=Fd();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==m&&!this._heartbeatsCache.heartbeats.some((d=>d.date===m)))return this._heartbeatsCache.heartbeats.push({date:m,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=2592e6})),this.Si.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const d=Fd(),{heartbeatsToSend:m,unsentEntries:g}=function(d){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const g=[];let V=d.slice();for(const u of d){const d=g.find((d=>d.agent===u.agent));if(d){if(d.dates.push(u.date),ld(g)>m){d.dates.pop();break}}else if(g.push({agent:u.agent,dates:[u.date]}),ld(g)>m){g.pop();break}V=V.slice(1)}return{heartbeatsToSend:g,unsentEntries:V}}(this._heartbeatsCache.heartbeats),V=(0,D.t)(JSON.stringify({version:2,heartbeats:m}));return this._heartbeatsCache.lastSentHeartbeatDate=d,g.length>0?(this._heartbeatsCache.heartbeats=g,await this.Si.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Si.overwrite(this._heartbeatsCache)),V}}function Fd(){return(new Date).toISOString().substring(0,10)}class pd{constructor(d){this.app=d,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,D.W)()&&(0,D.gb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(d){try{const m=await Ad();return await m.transaction(Jd).objectStore(Jd).get(Td(d))}catch(m){if(m instanceof D.i)F.warn(m.message);else{const d=Ud.create("idb-get",{originalErrorMessage:null===m||void 0===m?void 0:m.message});F.warn(d.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(d){var m;if(await this._canUseIndexedDBPromise){const g=await this.read();return Hd(this.app,{lastSentHeartbeatDate:null!==(m=d.lastSentHeartbeatDate)&&void 0!==m?m:g.lastSentHeartbeatDate,heartbeats:d.heartbeats})}}async add(d){var m;if(await this._canUseIndexedDBPromise){const g=await this.read();return Hd(this.app,{lastSentHeartbeatDate:null!==(m=d.lastSentHeartbeatDate)&&void 0!==m?m:g.lastSentHeartbeatDate,heartbeats:[...g.heartbeats,...d.heartbeats]})}}}function ld(d){return(0,D.t)(JSON.stringify({version:2,heartbeats:d})).length}var yd;yd="",ud(new V.c("platform-logger",(d=>new H(d)),"PRIVATE")),ud(new V.c("heartbeat",(d=>new Nd(d)),"PRIVATE")),Ld(T,N,yd),Ld(T,N,"esm2017"),Ld("fire-js","")},11131:(d,m,g)=>{g.d(m,{b:()=>z,c:()=>u});var V=g(11140);class u{constructor(d,m,g){this.name=d,this.instanceFactory=m,this.type=g,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(d){return this.instantiationMode=d,this}setMultipleInstances(d){return this.multipleInstances=d,this}setServiceProps(d){return this.serviceProps=d,this}setInstanceCreatedCallback(d){return this.onInstanceCreated=d,this}}const D="[DEFAULT]";class j{constructor(d,m){this.name=d,this.container=m,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(d){const m=this.normalizeInstanceIdentifier(d);if(!this.instancesDeferred.has(m)){const d=new V.c;if(this.instancesDeferred.set(m,d),this.isInitialized(m)||this.shouldAutoInitialize())try{const g=this.getOrInitializeService({instanceIdentifier:m});g&&d.resolve(g)}catch(g){}}return this.instancesDeferred.get(m).promise}getImmediate(d){var m;const g=this.normalizeInstanceIdentifier(null===d||void 0===d?void 0:d.identifier),V=null!==(m=null===d||void 0===d?void 0:d.optional)&&void 0!==m&&m;if(!this.isInitialized(g)&&!this.shouldAutoInitialize()){if(V)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:g})}catch(u){if(V)return null;throw u}}getComponent(){return this.component}setComponent(d){if(d.name!==this.name)throw Error(`Mismatching Component ${d.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=d,this.shouldAutoInitialize()){if(function(d){return"EAGER"===d.instantiationMode}(d))try{this.getOrInitializeService({instanceIdentifier:D})}catch(m){}for(const[d,g]of this.instancesDeferred.entries()){const V=this.normalizeInstanceIdentifier(d);try{const d=this.getOrInitializeService({instanceIdentifier:V});g.resolve(d)}catch(m){}}}}clearInstance(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;this.instancesDeferred.delete(d),this.instancesOptions.delete(d),this.instances.delete(d)}async delete(){const d=Array.from(this.instances.values());await Promise.all([...d.filter((d=>"INTERNAL"in d)).map((d=>d.INTERNAL.delete())),...d.filter((d=>"_delete"in d)).map((d=>d._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instances.has(d)}getOptions(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.instancesOptions.get(d)||{}}initialize(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:m={}}=d,g=this.normalizeInstanceIdentifier(d.instanceIdentifier);if(this.isInitialized(g))throw Error(`${this.name}(${g}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const V=this.getOrInitializeService({instanceIdentifier:g,options:m});for(const[u,D]of this.instancesDeferred.entries()){g===this.normalizeInstanceIdentifier(u)&&D.resolve(V)}return V}zi(d,m){var g;const V=this.normalizeInstanceIdentifier(m),u=null!==(g=this.onInitCallbacks.get(V))&&void 0!==g?g:new Set;u.add(d),this.onInitCallbacks.set(V,u);const D=this.instances.get(V);return D&&d(D,V),()=>{u.delete(d)}}invokeOnInitCallbacks(d,m){const g=this.onInitCallbacks.get(m);if(g)for(const u of g)try{u(d,m)}catch(V){}}getOrInitializeService(d){let{instanceIdentifier:m,options:g={}}=d,V=this.instances.get(m);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(u=m,u===D?void 0:u),options:g}),this.instances.set(m,V),this.instancesOptions.set(m,g),this.invokeOnInitCallbacks(V,m),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,m,V)}catch(j){}var u;return V||null}normalizeInstanceIdentifier(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;return this.component?this.component.multipleInstances?d:D:d}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(d){this.name=d,this.providers=new Map}uf(d){const m=this.getProvider(d.name);if(m.isComponentSet())throw new Error(`Component ${d.name} has already been registered with ${this.name}`);m.setComponent(d)}addOrOverwriteComponent(d){this.getProvider(d.name).isComponentSet()&&this.providers.delete(d.name),this.uf(d)}getProvider(d){if(this.providers.has(d))return this.providers.get(d);const m=new j(d,this);return this.providers.set(d,m),m}getProviders(){return Array.from(this.providers.values())}}},11145:(d,m,g)=>{g.d(m,{e:()=>u,f:()=>U,h:()=>X,i:()=>Y});const V=[];var u;!function(d){d[d.DEBUG=0]="DEBUG",d[d.VERBOSE=1]="VERBOSE",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.SILENT=5]="SILENT"}(u||(u={}));const D={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},j=u.INFO,z={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},s=function(d,m){if(m<d.logLevel)return;const g=(new Date).toISOString(),V=z[m];if(!V)throw new Error(`Attempted to log a message with an invalid logType (value: ${m})`);for(var u=arguments.length,D=new Array(u>2?u-2:0),j=2;j<u;j++)D[j-2]=arguments[j];console[V](`[${g}]  ${d.name}:`,...D)};class U{constructor(d){this.name=d,this._logLevel=j,this._logHandler=s,this._userLogHandler=null,V.push(this)}get logLevel(){return this._logLevel}set logLevel(d){if(!(d in u))throw new TypeError(`Invalid value "${d}" assigned to \`logLevel\``);this._logLevel=d}setLogLevel(d){this._logLevel="string"===typeof d?D[d]:d}get logHandler(){return this._logHandler}set logHandler(d){if("function"!==typeof d)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=d}get userLogHandler(){return this._userLogHandler}set userLogHandler(d){this._userLogHandler=d}debug(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...m),this._logHandler(this,u.DEBUG,...m)}log(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...m),this._logHandler(this,u.VERBOSE,...m)}info(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,u.INFO,...m),this._logHandler(this,u.INFO,...m)}warn(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,u.WARN,...m),this._logHandler(this,u.WARN,...m)}error(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];this._userLogHandler&&this._userLogHandler(this,u.ERROR,...m),this._logHandler(this,u.ERROR,...m)}}function X(d){V.forEach((m=>{m.setLogLevel(d)}))}function Y(d,m){for(const g of V){let V=null;m&&m.level&&(V=D[m.level]),g.userLogHandler=null===d?null:function(m,g){for(var D=arguments.length,j=new Array(D>2?D-2:0),z=2;z<D;z++)j[z-2]=arguments[z];const s=j.map((d=>{if(null==d)return null;if("string"===typeof d)return d;if("number"===typeof d||"boolean"===typeof d)return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch(m){return null}})).filter((d=>d)).join(" ");g>=(null!==V&&void 0!==V?V:m.logLevel)&&d({level:u[g].toLowerCase(),message:s,args:j,type:m.name})}}}}}]);