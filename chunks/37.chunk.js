/*! For license information please see fsb4h.37.59cd4faf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11638:(F,e,a)=>{a.d(e,{C:()=>Y,F:()=>L,H:()=>y,L:()=>s,M:()=>T,N:()=>A,R:()=>I,T:()=>B,W:()=>u,Z:()=>r,ab:()=>w,e:()=>Z,eb:()=>b,gb:()=>d,hb:()=>G,i:()=>Q,jb:()=>O,k:()=>V,l:()=>j,m:()=>t,p:()=>x,t:()=>K,v:()=>m,y:()=>P});const k=function(F){const e=[];let a=0;for(let k=0;k<F.length;k++){let h=F.charCodeAt(k);h<128?e[a++]=h:h<2048?(e[a++]=h>>6|192,e[a++]=63&h|128):55296===(64512&h)&&k+1<F.length&&56320===(64512&F.charCodeAt(k+1))?(h=65536+((1023&h)<<10)+(1023&F.charCodeAt(++k)),e[a++]=h>>18|240,e[a++]=h>>12&63|128,e[a++]=h>>6&63|128,e[a++]=63&h|128):(e[a++]=h>>12|224,e[a++]=h>>6&63|128,e[a++]=63&h|128)}return e},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(F,e){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let h=0;h<F.length;h+=3){const e=F[h],z=h+1<F.length,x=z?F[h+1]:0,t=h+2<F.length,H=t?F[h+2]:0,p=e>>2,y=(3&e)<<4|x>>4;let L=(15&x)<<2|H>>6,s=63&H;t||(s=64,z||(L=64)),k.push(a[p],a[y],a[L],a[s])}return k.join("")},encodeString(F,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(F):this.encodeByteArray(k(F),e)},decodeString(F,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(F):function(F){const e=[];let a=0,k=0;for(;a<F.length;){const h=F[a++];if(h<128)e[k++]=String.fromCharCode(h);else if(h>191&&h<224){const z=F[a++];e[k++]=String.fromCharCode((31&h)<<6|63&z)}else if(h>239&&h<365){const z=((7&h)<<18|(63&F[a++])<<12|(63&F[a++])<<6|63&F[a++])-65536;e[k++]=String.fromCharCode(55296+(z>>10)),e[k++]=String.fromCharCode(56320+(1023&z))}else{const z=F[a++],x=F[a++];e[k++]=String.fromCharCode((15&h)<<12|(63&z)<<6|63&x)}}return e.join("")}(this.decodeStringToByteArray(F,e))},decodeStringToByteArray(F,e){this.init_();const a=e?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let h=0;h<F.length;){const e=a[F.charAt(h++)],x=h<F.length?a[F.charAt(h)]:0;++h;const t=h<F.length?a[F.charAt(h)]:64;++h;const H=h<F.length?a[F.charAt(h)]:64;if(++h,null==e||null==x||null==t||null==H)throw new z;const p=e<<2|x>>4;if(k.push(p),64!==t){const F=x<<4&240|t>>2;if(k.push(F),64!==H){const F=t<<6&192|H;k.push(F)}}}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x=function(F){return function(F){const e=k(F);return h.encodeByteArray(e,!0)}(F).replace(/\./g,"")},t=function(F){try{return h.decodeString(F,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const H=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof a.g)return a.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,p=()=>{try{return H()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}const e=F&&t(F[1]);return e&&JSON.parse(e)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},y=F=>{var e,a;return null===(a=null===(e=p())||void 0===e?void 0:e.emulatorHosts)||void 0===a?void 0:a[F]},L=()=>{var F;return null===(F=p())||void 0===F?void 0:F.config},s=F=>{var e;return null===(e=p())||void 0===e?void 0:e[`_${F}`]};class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((F,e)=>{this.resolve=F,this.reject=e}))}wrapCallback(F){return(e,a)=>{e?this.reject(e):this.resolve(a),"function"===typeof F&&(this.promise.catch((()=>{})),1===F.length?F(e):F(e,a))}}}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function w(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function I(){const F="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof F&&void 0!==F.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function u(){const F=A();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function r(){try{return"object"===typeof indexedDB}catch(F){return!1}}function O(){return new Promise(((F,e)=>{try{let a=!0;const k="validate-browser-context-for-indexeddb-analytics-module",h=self.indexedDB.open(k);h.onsuccess=()=>{h.result.close(),a||self.indexedDB.deleteDatabase(k),F(!0)},h.onupgradeneeded=()=>{a=!1},h.onerror=()=>{var F;e((null===(F=h.error)||void 0===F?void 0:F.message)||"")}}catch(a){e(a)}}))}function j(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class V extends Error{constructor(F,e,a){super(e),this.code=F,this.customData=a,this.name="FirebaseError",Object.setPrototypeOf(this,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(F,e,a){this.service=F,this.serviceName=e,this.errors=a}create(F){const e=(arguments.length<=1?void 0:arguments[1])||{},a=`${this.service}/${F}`,k=this.errors[F],h=k?function(F,e){return F.replace(q,((F,a)=>{const k=e[a];return null!=k?String(k):`<${a}?>`}))}(k,e):"Error",z=`${this.serviceName}: ${h} (${a}).`;return new V(a,z,e)}}const q=/\{\$([^}]+)}/g;function B(F){for(const e in F)if(Object.prototype.hasOwnProperty.call(F,e))return!1;return!0}function P(F,e){if(F===e)return!0;const a=Object.keys(F),k=Object.keys(e);for(const h of a){if(!k.includes(h))return!1;const a=F[h],z=e[h];if(E(a)&&E(z)){if(!P(a,z))return!1}else if(a!==z)return!1}for(const h of k)if(!a.includes(h))return!1;return!0}function E(F){return null!==F&&"object"===typeof F}function G(F){const e=[];for(const[a,k]of Object.entries(F))Array.isArray(k)?k.forEach((F=>{e.push(encodeURIComponent(a)+"="+encodeURIComponent(F))})):e.push(encodeURIComponent(a)+"="+encodeURIComponent(k));return e.length?"&"+e.join("&"):""}function d(F){const e={};return F.replace(/^\?/,"").split("&").forEach((F=>{if(F){const[a,k]=F.split("=");e[decodeURIComponent(a)]=decodeURIComponent(k)}})),e}function Y(F){const e=F.indexOf("?");if(!e)return"";const a=F.indexOf("#",e);return F.substring(e,a>0?a:void 0)}function m(F,e){const a=new R(F,e);return a.subscribe.bind(a)}class R{constructor(F,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{F(this)})).catch((F=>{this.error(F)}))}next(F){this.forEachObserver((e=>{e.next(F)}))}error(F){this.forEachObserver((e=>{e.error(F)})),this.close(F)}complete(){this.forEachObserver((F=>{F.complete()})),this.close()}subscribe(F,e,a){let k;if(void 0===F&&void 0===e&&void 0===a)throw new Error("Missing Observer.");k=function(F,e){if("object"!==typeof F||null===F)return!1;for(const a of e)if(a in F&&"function"===typeof F[a])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:e,complete:a},void 0===k.next&&(k.next=N),void 0===k.error&&(k.error=N),void 0===k.complete&&(k.complete=N);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch(F){}})),this.observers.push(k),h}unsubscribeOne(F){void 0!==this.observers&&void 0!==this.observers[F]&&(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,F)}sendOne(F,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{e(this.observers[F])}catch(a){"undefined"!==typeof console&&console.error&&console.error(a)}}))}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}const n=1e3,g=2,i=144e5,c=.5;function K(F){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n)*Math.pow(e,F),k=Math.round(c*a*(Math.random()-.5)*2);return Math.min(i,a+k)}function T(F){return F&&F._delegate?F._delegate:F}},11631:(F,e,a)=>{a.d(e,{e:()=>z.k,f:()=>LF,i:()=>W,j:()=>aF,l:()=>kF,p:()=>FF,s:()=>tF,v:()=>eF,w:()=>zF,A:()=>hF,C:()=>xF,G:()=>wF,J:()=>ZF,I:()=>AF,N:()=>sF,P:()=>bF,Q:()=>IF,S:()=>uF});var k=a(11635),h=a(11643),z=a(11638);let x,t;const H=new WeakMap,p=new WeakMap,y=new WeakMap,L=new WeakMap,s=new WeakMap;let Z={get(F,e,a){if(F instanceof IDBTransaction){if("done"===e)return p.get(F);if("objectStoreNames"===e)return F.objectStoreNames||y.get(F);if("store"===e)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return I(F[e])},set:(F,e,a)=>(F[e]=a,!0),has:(F,e)=>F instanceof IDBTransaction&&("done"===e||"store"===e)||e in F};function A(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(F)?function(){for(var e=arguments.length,a=new Array(e),k=0;k<e;k++)a[k]=arguments[k];return F.apply(b(this),a),I(H.get(this))}:function(){for(var e=arguments.length,a=new Array(e),k=0;k<e;k++)a[k]=arguments[k];return I(F.apply(b(this),a))}:function(e){for(var a=arguments.length,k=new Array(a>1?a-1:0),h=1;h<a;h++)k[h-1]=arguments[h];const z=F.call(b(this),e,...k);return y.set(z,e.sort?e.sort():[e]),I(z)}}function w(F){return"function"===typeof F?A(F):(F instanceof IDBTransaction&&function(F){if(p.has(F))return;const e=new Promise(((e,a)=>{const k=()=>{F.removeEventListener("complete",h),F.removeEventListener("error",z),F.removeEventListener("abort",z)},h=()=>{e(),k()},z=()=>{a(F.error||new DOMException("AbortError","AbortError")),k()};F.addEventListener("complete",h),F.addEventListener("error",z),F.addEventListener("abort",z)}));p.set(F,e)}(F),e=F,(x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((F=>e instanceof F))?new Proxy(F,Z):F);var e}function I(F){if(F instanceof IDBRequest)return function(F){const e=new Promise(((e,a)=>{const k=()=>{F.removeEventListener("success",h),F.removeEventListener("error",z)},h=()=>{e(I(F.result)),k()},z=()=>{a(F.error),k()};F.addEventListener("success",h),F.addEventListener("error",z)}));return e.then((e=>{e instanceof IDBCursor&&H.set(e,F)})).catch((()=>{})),s.set(e,F),e}(F);if(L.has(F))return L.get(F);const e=w(F);return e!==F&&(L.set(F,e),s.set(e,F)),e}const b=F=>s.get(F);const u=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],O=new Map;function j(F,e){if(!(F instanceof IDBDatabase)||e in F||"string"!==typeof e)return;if(O.get(e))return O.get(e);const a=e.replace(/FromIndex$/,""),k=e!==a,h=r.includes(a);if(!(a in(k?IDBIndex:IDBObjectStore).prototype)||!h&&!u.includes(a))return;const z=async function(F){const e=this.transaction(F,h?"readwrite":"readonly");let z=e.store;for(var x=arguments.length,t=new Array(x>1?x-1:0),H=1;H<x;H++)t[H-1]=arguments[H];return k&&(z=z.index(t.shift())),(await Promise.all([z[a](...t),h&&e.done]))[0]};return O.set(e,z),z}Z=(F=>({...F,get:(e,a,k)=>j(e,a)||F.get(e,a,k),has:(e,a)=>!!j(e,a)||F.has(e,a)}))(Z);class V{constructor(F){this.container=F}getPlatformInfoString(){return this.container.getProviders().map((F=>{if(function(F){const e=F.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(F)){const e=F.getImmediate();return`${e.library}/${e.version}`}return null})).filter((F=>F)).join(" ")}}const Q="@firebase/app",q="0.9.13",B=new h.e("@firebase/app"),P="@firebase/app-compat",E="@firebase/analytics-compat",G="@firebase/analytics",d="@firebase/app-check-compat",Y="@firebase/app-check",m="@firebase/auth",R="@firebase/auth-compat",N="@firebase/database",n="@firebase/database-compat",g="@firebase/functions",i="@firebase/functions-compat",c="@firebase/installations",K="@firebase/installations-compat",T="@firebase/messaging",D="@firebase/messaging-compat",U="@firebase/performance",S="@firebase/performance-compat",v="@firebase/remote-config",C="@firebase/remote-config-compat",M="@firebase/storage",X="@firebase/storage-compat",l="@firebase/firestore",J="@firebase/firestore-compat",f="firebase",W="[DEFAULT]",o={[Q]:"fire-core",[P]:"fire-core-compat",[G]:"fire-analytics",[E]:"fire-analytics-compat",[Y]:"fire-app-check",[d]:"fire-app-check-compat",[m]:"fire-auth",[R]:"fire-auth-compat",[N]:"fire-rtdb",[n]:"fire-rtdb-compat",[g]:"fire-fn",[i]:"fire-fn-compat",[c]:"fire-iid",[K]:"fire-iid-compat",[T]:"fire-fcm",[D]:"fire-fcm-compat",[U]:"fire-perf",[S]:"fire-perf-compat",[v]:"fire-rc",[C]:"fire-rc-compat",[M]:"fire-gcs",[X]:"fire-gcs-compat",[l]:"fire-fst",[J]:"fire-fst-compat","fire-js":"fire-js",[f]:"fire-js-all"},FF=new Map,eF=new Map;function aF(F,e){try{F.container.Af(e)}catch(a){B.debug(`Component ${e.name} failed to register with FirebaseApp ${F.name}`,a)}}function kF(F,e){F.container.addOrOverwriteComponent(e)}function hF(F){const e=F.name;if(eF.has(e))return B.debug(`There were multiple attempts to register component ${e}.`),!1;eF.set(e,F);for(const a of FF.values())aF(a,F);return!0}function zF(F,e){const a=F.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),F.container.getProvider(e)}function xF(F,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;zF(F,e).clearInstance(a)}function tF(){eF.clear()}const HF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pF=new z.i("app","Firebase",HF);class yF{constructor(F,e,a){this._isDeleted=!1,this._options=Object.assign({},F),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.Af(new k.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(F){this.checkDestroyed(),this._automaticDataCollectionEnabled=F}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(F){this._isDeleted=F}checkDestroyed(){if(this.isDeleted)throw pF.create("app-deleted",{appName:this._name})}}const LF="9.23.0";function sF(F){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=F;if("object"!==typeof e){e={name:e}}const h=Object.assign({name:W,automaticDataCollectionEnabled:!1},e),x=h.name;if("string"!==typeof x||!x)throw pF.create("bad-app-name",{appName:String(x)});if(a||(a=(0,z.F)()),!a)throw pF.create("no-options");const t=FF.get(x);if(t){if((0,z.y)(a,t.options)&&(0,z.y)(h,t.config))return t;throw pF.create("duplicate-app",{appName:x})}const H=new k.d(x);for(const k of eF.values())H.Af(k);const p=new yF(a,h,H);return FF.set(x,p),p}function ZF(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;const e=FF.get(F);if(!e&&F===W&&(0,z.F)())return sF();if(!e)throw pF.create("no-app",{appName:F});return e}function AF(){return Array.from(FF.values())}async function wF(F){const e=F.name;FF.has(e)&&(FF.delete(e),await Promise.all(F.container.getProviders().map((F=>F.delete()))),F.isDeleted=!0)}function IF(F,e,a){var h;let z=null!==(h=o[F])&&void 0!==h?h:F;a&&(z+=`-${a}`);const x=z.match(/\s|\//),t=e.match(/\s|\//);if(x||t){const F=[`Unable to register library "${z}" with version "${e}":`];return x&&F.push(`library name "${z}" contains illegal characters (whitespace or "/")`),x&&t&&F.push("and"),t&&F.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void B.warn(F.join(" "))}hF(new k.f(`${z}-version`,(()=>({library:z,version:e})),"VERSION"))}function bF(F,e){if(null!==F&&"function"!==typeof F)throw pF.create("invalid-log-argument");(0,h.j)(F,e)}function uF(F){(0,h.h)(F)}const rF="firebase-heartbeat-store";let OF=null;function jF(){return OF||(OF=function(F,e){let{blocked:a,upgrade:k,blocking:h,terminated:z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const x=indexedDB.open(F,e),t=I(x);return k&&x.addEventListener("upgradeneeded",(F=>{k(I(x.result),F.oldVersion,F.newVersion,I(x.transaction),F)})),a&&x.addEventListener("blocked",(F=>a(F.oldVersion,F.newVersion,F))),t.then((F=>{z&&F.addEventListener("close",(()=>z())),h&&F.addEventListener("versionchange",(F=>h(F.oldVersion,F.newVersion,F)))})).catch((()=>{})),t}("firebase-heartbeat-database",1,{upgrade:(F,e)=>{if(0===e)F.createObjectStore(rF)}}).catch((F=>{throw pF.create("idb-open",{originalErrorMessage:F.message})}))),OF}async function VF(F,e){try{const a=(await jF()).transaction(rF,"readwrite"),k=a.objectStore(rF);await k.put(e,QF(F)),await a.done}catch(a){if(a instanceof z.k)B.warn(a.message);else{const F=pF.create("idb-set",{originalErrorMessage:null===a||void 0===a?void 0:a.message});B.warn(F.message)}}}function QF(F){return`${F.name}!${F.options.appId}`}class qF{constructor(F){this.container=F,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this.Yi=new PF(e),this._heartbeatsCachePromise=this.Yi.read().then((F=>(this._heartbeatsCache=F,F)))}async triggerHeartbeat(){const F=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=BF();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((F=>F.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:F}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((F=>{const e=new Date(F.date).valueOf();return Date.now()-e<=2592e6})),this.Yi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const F=BF(),{heartbeatsToSend:e,unsentEntries:a}=function(F){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const a=[];let k=F.slice();for(const h of F){const F=a.find((F=>F.agent===h.agent));if(F){if(F.dates.push(h.date),EF(a)>e){F.dates.pop();break}}else if(a.push({agent:h.agent,dates:[h.date]}),EF(a)>e){a.pop();break}k=k.slice(1)}return{heartbeatsToSend:a,unsentEntries:k}}(this._heartbeatsCache.heartbeats),k=(0,z.p)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=F,a.length>0?(this._heartbeatsCache.heartbeats=a,await this.Yi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Yi.overwrite(this._heartbeatsCache)),k}}function BF(){return(new Date).toISOString().substring(0,10)}class PF{constructor(F){this.app=F,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,z.Z)()&&(0,z.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(F){try{const e=await jF();return await e.transaction(rF).objectStore(rF).get(QF(F))}catch(e){if(e instanceof z.k)B.warn(e.message);else{const F=pF.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});B.warn(F.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(F){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return VF(this.app,{lastSentHeartbeatDate:null!==(e=F.lastSentHeartbeatDate)&&void 0!==e?e:a.lastSentHeartbeatDate,heartbeats:F.heartbeats})}}async add(F){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return VF(this.app,{lastSentHeartbeatDate:null!==(e=F.lastSentHeartbeatDate)&&void 0!==e?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...F.heartbeats]})}}}function EF(F){return(0,z.p)(JSON.stringify({version:2,heartbeats:F})).length}var GF;GF="",hF(new k.f("platform-logger",(F=>new V(F)),"PRIVATE")),hF(new k.f("heartbeat",(F=>new qF(F)),"PRIVATE")),IF(Q,q,GF),IF(Q,q,"esm2017"),IF("fire-js","")},11635:(F,e,a)=>{a.d(e,{d:()=>t,f:()=>h});var k=a(11638);class h{constructor(F,e,a){this.name=F,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const z="[DEFAULT]";class x{constructor(F,e){this.name=F,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const e=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(e)){const F=new k.e;if(this.instancesDeferred.set(e,F),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&F.resolve(a)}catch(a){}}return this.instancesDeferred.get(e).promise}getImmediate(F){var e;const a=this.normalizeInstanceIdentifier(null===F||void 0===F?void 0:F.identifier),k=null!==(e=null===F||void 0===F?void 0:F.optional)&&void 0!==e&&e;if(!this.isInitialized(a)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(k)return null;throw h}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function(F){return"EAGER"===F.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:z})}catch(e){}for(const[F,a]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(F);try{const F=this.getOrInitializeService({instanceIdentifier:k});a.resolve(F)}catch(e){}}}}clearInstance(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}async delete(){const F=Array.from(this.instances.values());await Promise.all([...F.filter((F=>"INTERNAL"in F)).map((F=>F.INTERNAL.delete())),...F.filter((F=>"_delete"in F)).map((F=>F._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(F)}getOptions(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(F)||{}}initialize(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=F,a=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[h,z]of this.instancesDeferred.entries()){a===this.normalizeInstanceIdentifier(h)&&z.resolve(k)}return k}Fi(F,e){var a;const k=this.normalizeInstanceIdentifier(e),h=null!==(a=this.onInitCallbacks.get(k))&&void 0!==a?a:new Set;h.add(F),this.onInitCallbacks.set(k,h);const z=this.instances.get(k);return z&&F(z,k),()=>{h.delete(F)}}invokeOnInitCallbacks(F,e){const a=this.onInitCallbacks.get(e);if(a)for(const h of a)try{h(F,e)}catch(k){}}getOrInitializeService(F){let{instanceIdentifier:e,options:a={}}=F,k=this.instances.get(e);if(!k&&this.component&&(k=this.component.instanceFactory(this.container,{instanceIdentifier:(h=e,h===z?void 0:h),options:a}),this.instances.set(e,k),this.instancesOptions.set(e,a),this.invokeOnInitCallbacks(k,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,k)}catch(x){}var h;return k||null}normalizeInstanceIdentifier(){let F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?F:z:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class t{constructor(F){this.name=F,this.providers=new Map}Af(F){const e=this.getProvider(F.name);if(e.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);e.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.Af(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const e=new x(F,this);return this.providers.set(F,e),e}getProviders(){return Array.from(this.providers.values())}}},11643:(F,e,a)=>{a.d(e,{b:()=>h,e:()=>p,h:()=>y,j:()=>L});const k=[];var h;!function(F){F[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT"}(h||(h={}));const z={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},x=h.INFO,t={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},H=function(F,e){if(e<F.logLevel)return;const a=(new Date).toISOString(),k=t[e];if(!k)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var h=arguments.length,z=new Array(h>2?h-2:0),x=2;x<h;x++)z[x-2]=arguments[x];console[k](`[${a}]  ${F.name}:`,...z)};class p{constructor(F){this.name=F,this._logLevel=x,this._logHandler=H,this._userLogHandler=null,k.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in h))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"===typeof F?z[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!==typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(){for(var F=arguments.length,e=new Array(F),a=0;a<F;a++)e[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(){for(var F=arguments.length,e=new Array(F),a=0;a<F;a++)e[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(){for(var F=arguments.length,e=new Array(F),a=0;a<F;a++)e[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(){for(var F=arguments.length,e=new Array(F),a=0;a<F;a++)e[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(){for(var F=arguments.length,e=new Array(F),a=0;a<F;a++)e[a]=arguments[a];this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}function y(F){k.forEach((e=>{e.setLogLevel(F)}))}function L(F,e){for(const a of k){let k=null;e&&e.level&&(k=z[e.level]),a.userLogHandler=null===F?null:function(e,a){for(var z=arguments.length,x=new Array(z>2?z-2:0),t=2;t<z;t++)x[t-2]=arguments[t];const H=x.map((F=>{if(null==F)return null;if("string"===typeof F)return F;if("number"===typeof F||"boolean"===typeof F)return F.toString();if(F instanceof Error)return F.message;try{return JSON.stringify(F)}catch(e){return null}})).filter((F=>F)).join(" ");a>=(null!==k&&void 0!==k?k:e.logLevel)&&F({level:h[a].toLowerCase(),message:H,args:x,type:e.name})}}}}}]);