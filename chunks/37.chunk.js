/*! For license information please see wa30x.37.2a0a423e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{10860:(I,k,i)=>{i.d(k,{A:()=>a,B:()=>P,D:()=>g,E:()=>J,H:()=>p,K:()=>s,L:()=>Z,N:()=>V,O:()=>B,R:()=>b,U:()=>h,Y:()=>n,Z:()=>t,ab:()=>Q,bb:()=>o,d:()=>L,e:()=>W,f:()=>T,h:()=>F,k:()=>x,m:()=>Y,q:()=>X,u:()=>v,x:()=>w});const d=function(I){const k=[];let i=0;for(let d=0;d<I.length;d++){let u=I.charCodeAt(d);u<128?k[i++]=u:u<2048?(k[i++]=u>>6|192,k[i++]=63&u|128):55296===(64512&u)&&d+1<I.length&&56320===(64512&I.charCodeAt(d+1))?(u=65536+((1023&u)<<10)+(1023&I.charCodeAt(++d)),k[i++]=u>>18|240,k[i++]=u>>12&63|128,k[i++]=u>>6&63|128,k[i++]=63&u|128):(k[i++]=u>>12|224,k[i++]=u>>6&63|128,k[i++]=63&u|128)}return k},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(I,k){if(!Array.isArray(I))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let u=0;u<I.length;u+=3){const k=I[u],H=u+1<I.length,Y=H?I[u+1]:0,x=u+2<I.length,j=x?I[u+2]:0,l=k>>2,g=(3&k)<<4|Y>>4;let P=(15&Y)<<2|j>>6,J=63&j;x||(J=64,H||(P=64)),d.push(i[l],i[g],i[P],i[J])}return d.join("")},encodeString(I,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(I):this.encodeByteArray(d(I),k)},decodeString(I,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(I):function(I){const k=[];let i=0,d=0;for(;i<I.length;){const u=I[i++];if(u<128)k[d++]=String.fromCharCode(u);else if(u>191&&u<224){const H=I[i++];k[d++]=String.fromCharCode((31&u)<<6|63&H)}else if(u>239&&u<365){const H=((7&u)<<18|(63&I[i++])<<12|(63&I[i++])<<6|63&I[i++])-65536;k[d++]=String.fromCharCode(55296+(H>>10)),k[d++]=String.fromCharCode(56320+(1023&H))}else{const H=I[i++],Y=I[i++];k[d++]=String.fromCharCode((15&u)<<12|(63&H)<<6|63&Y)}}return k.join("")}(this.decodeStringToByteArray(I,k))},decodeStringToByteArray(I,k){this.init_();const i=k?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let u=0;u<I.length;){const k=i[I.charAt(u++)],Y=u<I.length?i[I.charAt(u)]:0;++u;const x=u<I.length?i[I.charAt(u)]:64;++u;const j=u<I.length?i[I.charAt(u)]:64;if(++u,null==k||null==Y||null==x||null==j)throw new H;const l=k<<2|Y>>4;if(d.push(l),64!==x){const I=Y<<4&240|x>>2;if(d.push(I),64!==j){const I=x<<6&192|j;d.push(I)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let I=0;I<this.ENCODED_VALS.length;I++)this.byteToCharMap_[I]=this.ENCODED_VALS.charAt(I),this.charToByteMap_[this.byteToCharMap_[I]]=I,this.byteToCharMapWebSafe_[I]=this.ENCODED_VALS_WEBSAFE.charAt(I),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[I]]=I,I>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(I)]=I,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(I)]=I)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(I){return function(I){const k=d(I);return u.encodeByteArray(k,!0)}(I).replace(/\./g,"")},x=function(I){try{return u.decodeString(I,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};const j=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof i.g)return i.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,l=()=>{try{return j()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let I;try{I=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const k=I&&x(I[1]);return k&&JSON.parse(k)})()}catch(I){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${I}`)}},g=I=>{var k,i;return null===(i=null===(k=l())||void 0===k?void 0:k.emulatorHosts)||void 0===i?void 0:i[I]},P=()=>{var I;return null===(I=l())||void 0===I?void 0:I.config},J=I=>{var k;return null===(k=l())||void 0===k?void 0:k[`_${I}`]};class L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((I,k)=>{this.resolve=I,this.reject=k}))}wrapCallback(I){return(k,i)=>{k?this.reject(k):this.resolve(i),"function"===typeof I&&(this.promise.catch((()=>{})),1===I.length?I(k):I(k,i))}}}function s(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function Z(){const I="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof I&&void 0!==I.id}function n(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function B(){const I=s();return I.indexOf("MSIE ")>=0||I.indexOf("Trident/")>=0}function b(){try{return"object"===typeof indexedDB}catch(I){return!1}}function o(){return new Promise(((I,k)=>{try{let i=!0;const d="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(d);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(d),I(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var I;k((null===(I=u.error)||void 0===I?void 0:I.message)||"")}}catch(i){k(i)}}))}function F(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class T extends Error{constructor(I,k,i){super(k),this.code=I,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(I,k,i){this.service=I,this.serviceName=k,this.errors=i}create(I){const k=(arguments.length<=1?void 0:arguments[1])||{},i=`${this.service}/${I}`,d=this.errors[I],u=d?function(I,k){return I.replace(G,((I,i)=>{const d=k[i];return null!=d?String(d):`<${i}?>`}))}(d,k):"Error",H=`${this.serviceName}: ${u} (${i}).`;return new T(i,H,k)}}const G=/\{\$([^}]+)}/g;function V(I){for(const k in I)if(Object.prototype.hasOwnProperty.call(I,k))return!1;return!0}function w(I,k){if(I===k)return!0;const i=Object.keys(I),d=Object.keys(k);for(const u of i){if(!d.includes(u))return!1;const i=I[u],H=k[u];if(r(i)&&r(H)){if(!w(i,H))return!1}else if(i!==H)return!1}for(const u of d)if(!i.includes(u))return!1;return!0}function r(I){return null!==I&&"object"===typeof I}function Q(I){const k=[];for(const[i,d]of Object.entries(I))Array.isArray(d)?d.forEach((I=>{k.push(encodeURIComponent(i)+"="+encodeURIComponent(I))})):k.push(encodeURIComponent(i)+"="+encodeURIComponent(d));return k.length?"&"+k.join("&"):""}function t(I){const k={};return I.replace(/^\?/,"").split("&").forEach((I=>{if(I){const[i,d]=I.split("=");k[decodeURIComponent(i)]=decodeURIComponent(d)}})),k}function a(I){const k=I.indexOf("?");if(!k)return"";const i=I.indexOf("#",k);return I.substring(k,i>0?i:void 0)}function v(I,k){const i=new R(I,k);return i.subscribe.bind(i)}class R{constructor(I,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then((()=>{I(this)})).catch((I=>{this.error(I)}))}next(I){this.forEachObserver((k=>{k.next(I)}))}error(I){this.forEachObserver((k=>{k.error(I)})),this.close(I)}complete(){this.forEachObserver((I=>{I.complete()})),this.close()}subscribe(I,k,i){let d;if(void 0===I&&void 0===k&&void 0===i)throw new Error("Missing Observer.");d=function(I,k){if("object"!==typeof I||null===I)return!1;for(const i of k)if(i in I&&"function"===typeof I[i])return!0;return!1}(I,["next","error","complete"])?I:{next:I,error:k,complete:i},void 0===d.next&&(d.next=E),void 0===d.error&&(d.error=E),void 0===d.complete&&(d.complete=E);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch(I){}})),this.observers.push(d),u}unsubscribeOne(I){void 0!==this.observers&&void 0!==this.observers[I]&&(delete this.observers[I],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(I){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,I)}sendOne(I,k){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[I])try{k(this.observers[I])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}}))}close(I){this.finalized||(this.finalized=!0,void 0!==I&&(this.finalError=I),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}const O=1e3,f=2,C=144e5,e=.5;function X(I){let k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;const i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:O)*Math.pow(k,I),d=Math.round(e*i*(Math.random()-.5)*2);return Math.min(C,i+d)}function p(I){return I&&I._delegate?I._delegate:I}},10850:(I,k,i)=>{i.d(k,{b:()=>H.f,f:()=>PI,g:()=>y,h:()=>iI,l:()=>dI,n:()=>II,r:()=>xI,s:()=>kI,v:()=>HI,y:()=>uI,B:()=>YI,E:()=>hI,L:()=>LI,H:()=>sI,M:()=>JI,N:()=>nI,P:()=>ZI,Q:()=>BI});var d=i(10854),u=i(10868),H=i(10860);let Y,x;const j=new WeakMap,l=new WeakMap,g=new WeakMap,P=new WeakMap,J=new WeakMap;let L={get(I,k,i){if(I instanceof IDBTransaction){if("done"===k)return l.get(I);if("objectStoreNames"===k)return I.objectStoreNames||g.get(I);if("store"===k)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Z(I[k])},set:(I,k,i)=>(I[k]=i,!0),has:(I,k)=>I instanceof IDBTransaction&&("done"===k||"store"===k)||k in I};function s(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(I)?function(){for(var k=arguments.length,i=new Array(k),d=0;d<k;d++)i[d]=arguments[d];return I.apply(n(this),i),Z(j.get(this))}:function(){for(var k=arguments.length,i=new Array(k),d=0;d<k;d++)i[d]=arguments[d];return Z(I.apply(n(this),i))}:function(k){for(var i=arguments.length,d=new Array(i>1?i-1:0),u=1;u<i;u++)d[u-1]=arguments[u];const H=I.call(n(this),k,...d);return g.set(H,k.sort?k.sort():[k]),Z(H)}}function h(I){return"function"===typeof I?s(I):(I instanceof IDBTransaction&&function(I){if(l.has(I))return;const k=new Promise(((k,i)=>{const d=()=>{I.removeEventListener("complete",u),I.removeEventListener("error",H),I.removeEventListener("abort",H)},u=()=>{k(),d()},H=()=>{i(I.error||new DOMException("AbortError","AbortError")),d()};I.addEventListener("complete",u),I.addEventListener("error",H),I.addEventListener("abort",H)}));l.set(I,k)}(I),k=I,(Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((I=>k instanceof I))?new Proxy(I,L):I);var k}function Z(I){if(I instanceof IDBRequest)return function(I){const k=new Promise(((k,i)=>{const d=()=>{I.removeEventListener("success",u),I.removeEventListener("error",H)},u=()=>{k(Z(I.result)),d()},H=()=>{i(I.error),d()};I.addEventListener("success",u),I.addEventListener("error",H)}));return k.then((k=>{k instanceof IDBCursor&&j.set(k,I)})).catch((()=>{})),J.set(k,I),k}(I);if(P.has(I))return P.get(I);const k=h(I);return k!==I&&(P.set(I,k),J.set(k,I)),k}const n=I=>J.get(I);const B=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],o=new Map;function F(I,k){if(!(I instanceof IDBDatabase)||k in I||"string"!==typeof k)return;if(o.get(k))return o.get(k);const i=k.replace(/FromIndex$/,""),d=k!==i,u=b.includes(i);if(!(i in(d?IDBIndex:IDBObjectStore).prototype)||!u&&!B.includes(i))return;const H=async function(I){const k=this.transaction(I,u?"readwrite":"readonly");let H=k.store;for(var Y=arguments.length,x=new Array(Y>1?Y-1:0),j=1;j<Y;j++)x[j-1]=arguments[j];return d&&(H=H.index(x.shift())),(await Promise.all([H[i](...x),u&&k.done]))[0]};return o.set(k,H),H}L=(I=>({...I,get:(k,i,d)=>F(k,i)||I.get(k,i,d),has:(k,i)=>!!F(k,i)||I.has(k,i)}))(L);class T{constructor(I){this.container=I}getPlatformInfoString(){return this.container.getProviders().map((I=>{if(function(I){const k=I.getComponent();return"VERSION"===(null===k||void 0===k?void 0:k.type)}(I)){const k=I.getImmediate();return`${k.library}/${k.version}`}return null})).filter((I=>I)).join(" ")}}const W="@firebase/app",G="0.9.13",V=new u.g("@firebase/app"),w="@firebase/app-compat",r="@firebase/analytics-compat",Q="@firebase/analytics",t="@firebase/app-check-compat",a="@firebase/app-check",v="@firebase/auth",R="@firebase/auth-compat",E="@firebase/database",O="@firebase/database-compat",f="@firebase/functions",C="@firebase/functions-compat",e="@firebase/installations",X="@firebase/installations-compat",p="@firebase/messaging",D="@firebase/messaging-compat",A="@firebase/performance",c="@firebase/performance-compat",S="@firebase/remote-config",z="@firebase/remote-config-compat",m="@firebase/storage",K="@firebase/storage-compat",U="@firebase/firestore",q="@firebase/firestore-compat",N="firebase",y="[DEFAULT]",M={[W]:"fire-core",[w]:"fire-core-compat",[Q]:"fire-analytics",[r]:"fire-analytics-compat",[a]:"fire-app-check",[t]:"fire-app-check-compat",[v]:"fire-auth",[R]:"fire-auth-compat",[E]:"fire-rtdb",[O]:"fire-rtdb-compat",[f]:"fire-fn",[C]:"fire-fn-compat",[e]:"fire-iid",[X]:"fire-iid-compat",[p]:"fire-fcm",[D]:"fire-fcm-compat",[A]:"fire-perf",[c]:"fire-perf-compat",[S]:"fire-rc",[z]:"fire-rc-compat",[m]:"fire-gcs",[K]:"fire-gcs-compat",[U]:"fire-fst",[q]:"fire-fst-compat","fire-js":"fire-js",[N]:"fire-js-all"},II=new Map,kI=new Map;function iI(I,k){try{I.container.Ef(k)}catch(i){V.debug(`Component ${k.name} failed to register with FirebaseApp ${I.name}`,i)}}function dI(I,k){I.container.addOrOverwriteComponent(k)}function uI(I){const k=I.name;if(kI.has(k))return V.debug(`There were multiple attempts to register component ${k}.`),!1;kI.set(k,I);for(const i of II.values())iI(i,I);return!0}function HI(I,k){const i=I.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),I.container.getProvider(k)}function YI(I,k){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;HI(I,k).clearInstance(i)}function xI(){kI.clear()}const jI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},lI=new H.e("app","Firebase",jI);class gI{constructor(I,k,i){this._isDeleted=!1,this._options=Object.assign({},I),this._config=Object.assign({},k),this._name=k.name,this._automaticDataCollectionEnabled=k.automaticDataCollectionEnabled,this._container=i,this.container.Ef(new d.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(I){this.checkDestroyed(),this._automaticDataCollectionEnabled=I}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(I){this._isDeleted=I}checkDestroyed(){if(this.isDeleted)throw lI.create("app-deleted",{appName:this._name})}}const PI="9.23.0";function JI(I){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=I;if("object"!==typeof k){k={name:k}}const u=Object.assign({name:y,automaticDataCollectionEnabled:!1},k),Y=u.name;if("string"!==typeof Y||!Y)throw lI.create("bad-app-name",{appName:String(Y)});if(i||(i=(0,H.B)()),!i)throw lI.create("no-options");const x=II.get(Y);if(x){if((0,H.x)(i,x.options)&&(0,H.x)(u,x.config))return x;throw lI.create("duplicate-app",{appName:Y})}const j=new d.b(Y);for(const d of kI.values())j.Ef(d);const l=new gI(i,u,j);return II.set(Y,l),l}function LI(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;const k=II.get(I);if(!k&&I===y&&(0,H.B)())return JI();if(!k)throw lI.create("no-app",{appName:I});return k}function sI(){return Array.from(II.values())}async function hI(I){const k=I.name;II.has(k)&&(II.delete(k),await Promise.all(I.container.getProviders().map((I=>I.delete()))),I.isDeleted=!0)}function ZI(I,k,i){var u;let H=null!==(u=M[I])&&void 0!==u?u:I;i&&(H+=`-${i}`);const Y=H.match(/\s|\//),x=k.match(/\s|\//);if(Y||x){const I=[`Unable to register library "${H}" with version "${k}":`];return Y&&I.push(`library name "${H}" contains illegal characters (whitespace or "/")`),Y&&x&&I.push("and"),x&&I.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void V.warn(I.join(" "))}uI(new d.d(`${H}-version`,(()=>({library:H,version:k})),"VERSION"))}function nI(I,k){if(null!==I&&"function"!==typeof I)throw lI.create("invalid-log-argument");(0,u.l)(I,k)}function BI(I){(0,u.h)(I)}const bI="firebase-heartbeat-store";let oI=null;function FI(){return oI||(oI=function(I,k){let{blocked:i,upgrade:d,blocking:u,terminated:H}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const Y=indexedDB.open(I,k),x=Z(Y);return d&&Y.addEventListener("upgradeneeded",(I=>{d(Z(Y.result),I.oldVersion,I.newVersion,Z(Y.transaction),I)})),i&&Y.addEventListener("blocked",(I=>i(I.oldVersion,I.newVersion,I))),x.then((I=>{H&&I.addEventListener("close",(()=>H())),u&&I.addEventListener("versionchange",(I=>u(I.oldVersion,I.newVersion,I)))})).catch((()=>{})),x}("firebase-heartbeat-database",1,{upgrade:(I,k)=>{if(0===k)I.createObjectStore(bI)}}).catch((I=>{throw lI.create("idb-open",{originalErrorMessage:I.message})}))),oI}async function TI(I,k){try{const i=(await FI()).transaction(bI,"readwrite"),d=i.objectStore(bI);await d.put(k,WI(I)),await i.done}catch(i){if(i instanceof H.f)V.warn(i.message);else{const I=lI.create("idb-set",{originalErrorMessage:null===i||void 0===i?void 0:i.message});V.warn(I.message)}}}function WI(I){return`${I.name}!${I.options.appId}`}class GI{constructor(I){this.container=I,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this.Qi=new wI(k),this._heartbeatsCachePromise=this.Qi.read().then((I=>(this._heartbeatsCache=I,I)))}async triggerHeartbeat(){const I=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),k=VI();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==k&&!this._heartbeatsCache.heartbeats.some((I=>I.date===k)))return this._heartbeatsCache.heartbeats.push({date:k,agent:I}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((I=>{const k=new Date(I.date).valueOf();return Date.now()-k<=2592e6})),this.Qi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const I=VI(),{heartbeatsToSend:k,unsentEntries:i}=function(I){let k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const i=[];let d=I.slice();for(const u of I){const I=i.find((I=>I.agent===u.agent));if(I){if(I.dates.push(u.date),rI(i)>k){I.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),rI(i)>k){i.pop();break}d=d.slice(1)}return{heartbeatsToSend:i,unsentEntries:d}}(this._heartbeatsCache.heartbeats),d=(0,H.m)(JSON.stringify({version:2,heartbeats:k}));return this._heartbeatsCache.lastSentHeartbeatDate=I,i.length>0?(this._heartbeatsCache.heartbeats=i,await this.Qi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Qi.overwrite(this._heartbeatsCache)),d}}function VI(){return(new Date).toISOString().substring(0,10)}class wI{constructor(I){this.app=I,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,H.R)()&&(0,H.bb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(I){try{const k=await FI();return await k.transaction(bI).objectStore(bI).get(WI(I))}catch(k){if(k instanceof H.f)V.warn(k.message);else{const I=lI.create("idb-get",{originalErrorMessage:null===k||void 0===k?void 0:k.message});V.warn(I.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(I){var k;if(await this._canUseIndexedDBPromise){const i=await this.read();return TI(this.app,{lastSentHeartbeatDate:null!==(k=I.lastSentHeartbeatDate)&&void 0!==k?k:i.lastSentHeartbeatDate,heartbeats:I.heartbeats})}}async add(I){var k;if(await this._canUseIndexedDBPromise){const i=await this.read();return TI(this.app,{lastSentHeartbeatDate:null!==(k=I.lastSentHeartbeatDate)&&void 0!==k?k:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...I.heartbeats]})}}}function rI(I){return(0,H.m)(JSON.stringify({version:2,heartbeats:I})).length}var QI;QI="",uI(new d.d("platform-logger",(I=>new T(I)),"PRIVATE")),uI(new d.d("heartbeat",(I=>new GI(I)),"PRIVATE")),ZI(W,G,QI),ZI(W,G,"esm2017"),ZI("fire-js","")},10854:(I,k,i)=>{i.d(k,{b:()=>x,d:()=>u});var d=i(10860);class u{constructor(I,k,i){this.name=I,this.instanceFactory=k,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(I){return this.instantiationMode=I,this}setMultipleInstances(I){return this.multipleInstances=I,this}setServiceProps(I){return this.serviceProps=I,this}setInstanceCreatedCallback(I){return this.onInstanceCreated=I,this}}const H="[DEFAULT]";class Y{constructor(I,k){this.name=I,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(I){const k=this.normalizeInstanceIdentifier(I);if(!this.instancesDeferred.has(k)){const I=new d.d;if(this.instancesDeferred.set(k,I),this.isInitialized(k)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:k});i&&I.resolve(i)}catch(i){}}return this.instancesDeferred.get(k).promise}getImmediate(I){var k;const i=this.normalizeInstanceIdentifier(null===I||void 0===I?void 0:I.identifier),d=null!==(k=null===I||void 0===I?void 0:I.optional)&&void 0!==k&&k;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(d)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(d)return null;throw u}}getComponent(){return this.component}setComponent(I){if(I.name!==this.name)throw Error(`Mismatching Component ${I.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=I,this.shouldAutoInitialize()){if(function(I){return"EAGER"===I.instantiationMode}(I))try{this.getOrInitializeService({instanceIdentifier:H})}catch(k){}for(const[I,i]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(I);try{const I=this.getOrInitializeService({instanceIdentifier:d});i.resolve(I)}catch(k){}}}}clearInstance(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(I),this.instancesOptions.delete(I),this.instances.delete(I)}async delete(){const I=Array.from(this.instances.values());await Promise.all([...I.filter((I=>"INTERNAL"in I)).map((I=>I.INTERNAL.delete())),...I.filter((I=>"_delete"in I)).map((I=>I._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(I)}getOptions(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(I)||{}}initialize(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:k={}}=I,i=this.normalizeInstanceIdentifier(I.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:i,options:k});for(const[u,H]of this.instancesDeferred.entries()){i===this.normalizeInstanceIdentifier(u)&&H.resolve(d)}return d}xi(I,k){var i;const d=this.normalizeInstanceIdentifier(k),u=null!==(i=this.onInitCallbacks.get(d))&&void 0!==i?i:new Set;u.add(I),this.onInitCallbacks.set(d,u);const H=this.instances.get(d);return H&&I(H,d),()=>{u.delete(I)}}invokeOnInitCallbacks(I,k){const i=this.onInitCallbacks.get(k);if(i)for(const u of i)try{u(I,k)}catch(d){}}getOrInitializeService(I){let{instanceIdentifier:k,options:i={}}=I,d=this.instances.get(k);if(!d&&this.component&&(d=this.component.instanceFactory(this.container,{instanceIdentifier:(u=k,u===H?void 0:u),options:i}),this.instances.set(k,d),this.instancesOptions.set(k,i),this.invokeOnInitCallbacks(d,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,d)}catch(Y){}var u;return d||null}normalizeInstanceIdentifier(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?I:H:I}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class x{constructor(I){this.name=I,this.providers=new Map}Ef(I){const k=this.getProvider(I.name);if(k.isComponentSet())throw new Error(`Component ${I.name} has already been registered with ${this.name}`);k.setComponent(I)}addOrOverwriteComponent(I){this.getProvider(I.name).isComponentSet()&&this.providers.delete(I.name),this.Ef(I)}getProvider(I){if(this.providers.has(I))return this.providers.get(I);const k=new Y(I,this);return this.providers.set(I,k),k}getProviders(){return Array.from(this.providers.values())}}},10868:(I,k,i)=>{i.d(k,{c:()=>u,g:()=>l,h:()=>g,l:()=>P});const d=[];var u;!function(I){I[I.DEBUG=0]="DEBUG",I[I.VERBOSE=1]="VERBOSE",I[I.INFO=2]="INFO",I[I.WARN=3]="WARN",I[I.ERROR=4]="ERROR",I[I.SILENT=5]="SILENT"}(u||(u={}));const H={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Y=u.INFO,x={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},j=function(I,k){if(k<I.logLevel)return;const i=(new Date).toISOString(),d=x[k];if(!d)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);for(var u=arguments.length,H=new Array(u>2?u-2:0),Y=2;Y<u;Y++)H[Y-2]=arguments[Y];console[d](`[${i}]  ${I.name}:`,...H)};class l{constructor(I){this.name=I,this._logLevel=Y,this._logHandler=j,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in u))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"===typeof I?H[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!==typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(){for(var I=arguments.length,k=new Array(I),i=0;i<I;i++)k[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...k),this._logHandler(this,u.DEBUG,...k)}log(){for(var I=arguments.length,k=new Array(I),i=0;i<I;i++)k[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...k),this._logHandler(this,u.VERBOSE,...k)}info(){for(var I=arguments.length,k=new Array(I),i=0;i<I;i++)k[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,u.INFO,...k),this._logHandler(this,u.INFO,...k)}warn(){for(var I=arguments.length,k=new Array(I),i=0;i<I;i++)k[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,u.WARN,...k),this._logHandler(this,u.WARN,...k)}error(){for(var I=arguments.length,k=new Array(I),i=0;i<I;i++)k[i]=arguments[i];this._userLogHandler&&this._userLogHandler(this,u.ERROR,...k),this._logHandler(this,u.ERROR,...k)}}function g(I){d.forEach((k=>{k.setLogLevel(I)}))}function P(I,k){for(const i of d){let d=null;k&&k.level&&(d=H[k.level]),i.userLogHandler=null===I?null:function(k,i){for(var H=arguments.length,Y=new Array(H>2?H-2:0),x=2;x<H;x++)Y[x-2]=arguments[x];const j=Y.map((I=>{if(null==I)return null;if("string"===typeof I)return I;if("number"===typeof I||"boolean"===typeof I)return I.toString();if(I instanceof Error)return I.message;try{return JSON.stringify(I)}catch(k){return null}})).filter((I=>I)).join(" ");i>=(null!==d&&void 0!==d?d:k.logLevel)&&I({level:u[i].toLowerCase(),message:j,args:Y,type:k.name})}}}}}]);