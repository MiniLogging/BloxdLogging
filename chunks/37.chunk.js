/*! For license information please see yycq4v.37.b8a5e99e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{10979:(f,Q,H)=>{H.d(Q,{$:()=>I,A:()=>J,E:()=>N,I:()=>g,K:()=>V,L:()=>v,O:()=>O,Q:()=>s,R:()=>e,T:()=>G,V:()=>Y,W:()=>n,X:()=>c,Y:()=>m,e:()=>z,g:()=>D,h:()=>q,i:()=>l,m:()=>K,p:()=>x,q:()=>a,s:()=>R,v:()=>F,z:()=>W});const X=function(f){const Q=[];let H=0;for(let X=0;X<f.length;X++){let i=f.charCodeAt(X);i<128?Q[H++]=i:i<2048?(Q[H++]=i>>6|192,Q[H++]=63&i|128):55296===(64512&i)&&X+1<f.length&&56320===(64512&f.charCodeAt(X+1))?(i=65536+((1023&i)<<10)+(1023&f.charCodeAt(++X)),Q[H++]=i>>18|240,Q[H++]=i>>12&63|128,Q[H++]=i>>6&63|128,Q[H++]=63&i|128):(Q[H++]=i>>12|224,Q[H++]=i>>6&63|128,Q[H++]=63&i|128)}return Q},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(f,Q){if(!Array.isArray(f))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let i=0;i<f.length;i+=3){const Q=f[i],S=i+1<f.length,x=S?f[i+1]:0,K=i+2<f.length,Z=K?f[i+2]:0,B=Q>>2,N=(3&Q)<<4|x>>4;let J=(15&x)<<2|Z>>6,g=63&Z;K||(g=64,S||(J=64)),X.push(H[B],H[N],H[J],H[g])}return X.join("")},encodeString(f,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(f):this.encodeByteArray(X(f),Q)},decodeString(f,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(f):function(f){const Q=[];let H=0,X=0;for(;H<f.length;){const i=f[H++];if(i<128)Q[X++]=String.fromCharCode(i);else if(i>191&&i<224){const S=f[H++];Q[X++]=String.fromCharCode((31&i)<<6|63&S)}else if(i>239&&i<365){const S=((7&i)<<18|(63&f[H++])<<12|(63&f[H++])<<6|63&f[H++])-65536;Q[X++]=String.fromCharCode(55296+(S>>10)),Q[X++]=String.fromCharCode(56320+(1023&S))}else{const S=f[H++],x=f[H++];Q[X++]=String.fromCharCode((15&i)<<12|(63&S)<<6|63&x)}}return Q.join("")}(this.decodeStringToByteArray(f,Q))},decodeStringToByteArray(f,Q){this.init_();const H=Q?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let i=0;i<f.length;){const Q=H[f.charAt(i++)],x=i<f.length?H[f.charAt(i)]:0;++i;const K=i<f.length?H[f.charAt(i)]:64;++i;const Z=i<f.length?H[f.charAt(i)]:64;if(++i,null==Q||null==x||null==K||null==Z)throw new S;const B=Q<<2|x>>4;if(X.push(B),64!==K){const f=x<<4&240|K>>2;if(X.push(f),64!==Z){const f=K<<6&192|Z;X.push(f)}}}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let f=0;f<this.ENCODED_VALS.length;f++)this.byteToCharMap_[f]=this.ENCODED_VALS.charAt(f),this.charToByteMap_[this.byteToCharMap_[f]]=f,this.byteToCharMapWebSafe_[f]=this.ENCODED_VALS_WEBSAFE.charAt(f),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[f]]=f,f>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(f)]=f,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(f)]=f)}}};class S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x=function(f){return function(f){const Q=X(f);return i.encodeByteArray(Q,!0)}(f).replace(/\./g,"")},K=function(f){try{return i.decodeString(f,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};const Z=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof H.g)return H.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,B=()=>{try{return Z()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let f;try{f=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(H){return}const Q=f&&K(f[1]);return Q&&JSON.parse(Q)})()}catch(f){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${f}`)}},N=f=>{var Q,H;return null===(H=null===(Q=B())||void 0===Q?void 0:Q.emulatorHosts)||void 0===H?void 0:H[f]},J=()=>{var f;return null===(f=B())||void 0===f?void 0:f.config},g=f=>{var Q;return null===(Q=B())||void 0===Q?void 0:Q[`_${f}`]};class z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((f,Q)=>{this.resolve=f,this.reject=Q}))}wrapCallback(f){return(Q,H)=>{Q?this.reject(Q):this.resolve(H),"function"===typeof f&&(this.promise.catch((()=>{})),1===f.length?f(Q):f(Q,H))}}}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function O(){const f="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof f&&void 0!==f.id}function n(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function e(){const f=v();return f.indexOf("MSIE ")>=0||f.indexOf("Trident/")>=0}function G(){try{return"object"===typeof indexedDB}catch(f){return!1}}function I(){return new Promise(((f,Q)=>{try{let H=!0;const X="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(X);i.onsuccess=()=>{i.result.close(),H||self.indexedDB.deleteDatabase(X),f(!0)},i.onupgradeneeded=()=>{H=!1},i.onerror=()=>{var f;Q((null===(f=i.error)||void 0===f?void 0:f.message)||"")}}catch(H){Q(H)}}))}function l(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class q extends Error{constructor(f,Q,H){super(Q),this.code=f,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(f,Q,H){this.service=f,this.serviceName=Q,this.errors=H}create(f){const Q=(arguments.length<=1?void 0:arguments[1])||{},H=`${this.service}/${f}`,X=this.errors[f],i=X?function(f,Q){return f.replace(d,((f,H)=>{const X=Q[H];return null!=X?String(X):`<${H}?>`}))}(X,Q):"Error",S=`${this.serviceName}: ${i} (${H}).`;return new q(H,S,Q)}}const d=/\{\$([^}]+)}/g;function s(f){for(const Q in f)if(Object.prototype.hasOwnProperty.call(f,Q))return!1;return!0}function F(f,Q){if(f===Q)return!0;const H=Object.keys(f),X=Object.keys(Q);for(const i of H){if(!X.includes(i))return!1;const H=f[i],S=Q[i];if(P(H)&&P(S)){if(!F(H,S))return!1}else if(H!==S)return!1}for(const i of X)if(!H.includes(i))return!1;return!0}function P(f){return null!==f&&"object"===typeof f}function m(f){const Q=[];for(const[H,X]of Object.entries(f))Array.isArray(X)?X.forEach((f=>{Q.push(encodeURIComponent(H)+"="+encodeURIComponent(f))})):Q.push(encodeURIComponent(H)+"="+encodeURIComponent(X));return Q.length?"&"+Q.join("&"):""}function c(f){const Q={};return f.replace(/^\?/,"").split("&").forEach((f=>{if(f){const[H,X]=f.split("=");Q[decodeURIComponent(H)]=decodeURIComponent(X)}})),Q}function W(f){const Q=f.indexOf("?");if(!Q)return"";const H=f.indexOf("#",Q);return f.substring(Q,H>0?H:void 0)}function R(f,Q){const H=new U(f,Q);return H.subscribe.bind(H)}class U{constructor(f,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then((()=>{f(this)})).catch((f=>{this.error(f)}))}next(f){this.forEachObserver((Q=>{Q.next(f)}))}error(f){this.forEachObserver((Q=>{Q.error(f)})),this.close(f)}complete(){this.forEachObserver((f=>{f.complete()})),this.close()}subscribe(f,Q,H){let X;if(void 0===f&&void 0===Q&&void 0===H)throw new Error("Missing Observer.");X=function(f,Q){if("object"!==typeof f||null===f)return!1;for(const H of Q)if(H in f&&"function"===typeof f[H])return!0;return!1}(f,["next","error","complete"])?f:{next:f,error:Q,complete:H},void 0===X.next&&(X.next=E),void 0===X.error&&(X.error=E),void 0===X.complete&&(X.complete=E);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(f){}})),this.observers.push(X),i}unsubscribeOne(f){void 0!==this.observers&&void 0!==this.observers[f]&&(delete this.observers[f],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(f){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,f)}sendOne(f,Q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[f])try{Q(this.observers[f])}catch(H){"undefined"!==typeof console&&console.error&&console.error(H)}}))}close(f){this.finalized||(this.finalized=!0,void 0!==f&&(this.finalError=f),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}const t=1e3,u=2,L=144e5,A=.5;function a(f){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const H=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)*Math.pow(Q,f),X=Math.round(A*H*(Math.random()-.5)*2);return Math.min(L,H+X)}function V(f){return f&&f._delegate?f._delegate:f}},10966:(f,Q,H)=>{H.d(Q,{c:()=>S.h,e:()=>gf,i:()=>p,j:()=>Hf,l:()=>Xf,m:()=>ff,n:()=>Zf,o:()=>Qf,r:()=>xf,v:()=>Sf,z:()=>Kf,C:()=>Of,I:()=>vf,F:()=>Yf,J:()=>zf,M:()=>ef,P:()=>nf,T:()=>Gf});var X=H(10973),i=H(10986),S=H(10979);let x,K;const Z=new WeakMap,B=new WeakMap,N=new WeakMap,J=new WeakMap,g=new WeakMap;let z={get(f,Q,H){if(f instanceof IDBTransaction){if("done"===Q)return B.get(f);if("objectStoreNames"===Q)return f.objectStoreNames||N.get(f);if("store"===Q)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return O(f[Q])},set:(f,Q,H)=>(f[Q]=H,!0),has:(f,Q)=>f instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in f};function v(f){return f!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(f)?function(){for(var Q=arguments.length,H=new Array(Q),X=0;X<Q;X++)H[X]=arguments[X];return f.apply(n(this),H),O(Z.get(this))}:function(){for(var Q=arguments.length,H=new Array(Q),X=0;X<Q;X++)H[X]=arguments[X];return O(f.apply(n(this),H))}:function(Q){for(var H=arguments.length,X=new Array(H>1?H-1:0),i=1;i<H;i++)X[i-1]=arguments[i];const S=f.call(n(this),Q,...X);return N.set(S,Q.sort?Q.sort():[Q]),O(S)}}function Y(f){return"function"===typeof f?v(f):(f instanceof IDBTransaction&&function(f){if(B.has(f))return;const Q=new Promise(((Q,H)=>{const X=()=>{f.removeEventListener("complete",i),f.removeEventListener("error",S),f.removeEventListener("abort",S)},i=()=>{Q(),X()},S=()=>{H(f.error||new DOMException("AbortError","AbortError")),X()};f.addEventListener("complete",i),f.addEventListener("error",S),f.addEventListener("abort",S)}));B.set(f,Q)}(f),Q=f,(x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((f=>Q instanceof f))?new Proxy(f,z):f);var Q}function O(f){if(f instanceof IDBRequest)return function(f){const Q=new Promise(((Q,H)=>{const X=()=>{f.removeEventListener("success",i),f.removeEventListener("error",S)},i=()=>{Q(O(f.result)),X()},S=()=>{H(f.error),X()};f.addEventListener("success",i),f.addEventListener("error",S)}));return Q.then((Q=>{Q instanceof IDBCursor&&Z.set(Q,f)})).catch((()=>{})),g.set(Q,f),Q}(f);if(J.has(f))return J.get(f);const Q=Y(f);return Q!==f&&(J.set(f,Q),g.set(Q,f)),Q}const n=f=>g.get(f);const e=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],I=new Map;function l(f,Q){if(!(f instanceof IDBDatabase)||Q in f||"string"!==typeof Q)return;if(I.get(Q))return I.get(Q);const H=Q.replace(/FromIndex$/,""),X=Q!==H,i=G.includes(H);if(!(H in(X?IDBIndex:IDBObjectStore).prototype)||!i&&!e.includes(H))return;const S=async function(f){const Q=this.transaction(f,i?"readwrite":"readonly");let S=Q.store;for(var x=arguments.length,K=new Array(x>1?x-1:0),Z=1;Z<x;Z++)K[Z-1]=arguments[Z];return X&&(S=S.index(K.shift())),(await Promise.all([S[H](...K),i&&Q.done]))[0]};return I.set(Q,S),S}z=(f=>({...f,get:(Q,H,X)=>l(Q,H)||f.get(Q,H,X),has:(Q,H)=>!!l(Q,H)||f.has(Q,H)}))(z);class q{constructor(f){this.container=f}getPlatformInfoString(){return this.container.getProviders().map((f=>{if(function(f){const Q=f.getComponent();return"VERSION"===(null===Q||void 0===Q?void 0:Q.type)}(f)){const Q=f.getImmediate();return`${Q.library}/${Q.version}`}return null})).filter((f=>f)).join(" ")}}const D="@firebase/app",d="0.9.13",s=new i.f("@firebase/app"),F="@firebase/app-compat",P="@firebase/analytics-compat",m="@firebase/analytics",c="@firebase/app-check-compat",W="@firebase/app-check",R="@firebase/auth",U="@firebase/auth-compat",E="@firebase/database",t="@firebase/database-compat",u="@firebase/functions",L="@firebase/functions-compat",A="@firebase/installations",a="@firebase/installations-compat",V="@firebase/messaging",M="@firebase/messaging-compat",r="@firebase/performance",j="@firebase/performance-compat",T="@firebase/remote-config",k="@firebase/remote-config-compat",y="@firebase/storage",h="@firebase/storage-compat",w="@firebase/firestore",b="@firebase/firestore-compat",o="firebase",p="[DEFAULT]",C={[D]:"fire-core",[F]:"fire-core-compat",[m]:"fire-analytics",[P]:"fire-analytics-compat",[W]:"fire-app-check",[c]:"fire-app-check-compat",[R]:"fire-auth",[U]:"fire-auth-compat",[E]:"fire-rtdb",[t]:"fire-rtdb-compat",[u]:"fire-fn",[L]:"fire-fn-compat",[A]:"fire-iid",[a]:"fire-iid-compat",[V]:"fire-fcm",[M]:"fire-fcm-compat",[r]:"fire-perf",[j]:"fire-perf-compat",[T]:"fire-rc",[k]:"fire-rc-compat",[y]:"fire-gcs",[h]:"fire-gcs-compat",[w]:"fire-fst",[b]:"fire-fst-compat","fire-js":"fire-js",[o]:"fire-js-all"},ff=new Map,Qf=new Map;function Hf(f,Q){try{f.container.yf(Q)}catch(H){s.debug(`Component ${Q.name} failed to register with FirebaseApp ${f.name}`,H)}}function Xf(f,Q){f.container.addOrOverwriteComponent(Q)}function Sf(f){const Q=f.name;if(Qf.has(Q))return s.debug(`There were multiple attempts to register component ${Q}.`),!1;Qf.set(Q,f);for(const H of ff.values())Hf(H,f);return!0}function xf(f,Q){const H=f.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),f.container.getProvider(Q)}function Kf(f,Q){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;xf(f,Q).clearInstance(H)}function Zf(){Qf.clear()}const Bf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nf=new S.g("app","Firebase",Bf);class Jf{constructor(f,Q,H){this._isDeleted=!1,this._options=Object.assign({},f),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=H,this.container.yf(new X.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(f){this.checkDestroyed(),this._automaticDataCollectionEnabled=f}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(f){this._isDeleted=f}checkDestroyed(){if(this.isDeleted)throw Nf.create("app-deleted",{appName:this._name})}}const gf="9.23.0";function zf(f){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=f;if("object"!==typeof Q){Q={name:Q}}const i=Object.assign({name:p,automaticDataCollectionEnabled:!1},Q),x=i.name;if("string"!==typeof x||!x)throw Nf.create("bad-app-name",{appName:String(x)});if(H||(H=(0,S.A)()),!H)throw Nf.create("no-options");const K=ff.get(x);if(K){if((0,S.v)(H,K.options)&&(0,S.v)(i,K.config))return K;throw Nf.create("duplicate-app",{appName:x})}const Z=new X.d(x);for(const X of Qf.values())Z.yf(X);const B=new Jf(H,i,Z);return ff.set(x,B),B}function vf(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const Q=ff.get(f);if(!Q&&f===p&&(0,S.A)())return zf();if(!Q)throw Nf.create("no-app",{appName:f});return Q}function Yf(){return Array.from(ff.values())}async function Of(f){const Q=f.name;ff.has(Q)&&(ff.delete(Q),await Promise.all(f.container.getProviders().map((f=>f.delete()))),f.isDeleted=!0)}function nf(f,Q,H){var i;let S=null!==(i=C[f])&&void 0!==i?i:f;H&&(S+=`-${H}`);const x=S.match(/\s|\//),K=Q.match(/\s|\//);if(x||K){const f=[`Unable to register library "${S}" with version "${Q}":`];return x&&f.push(`library name "${S}" contains illegal characters (whitespace or "/")`),x&&K&&f.push("and"),K&&f.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void s.warn(f.join(" "))}Sf(new X.g(`${S}-version`,(()=>({library:S,version:Q})),"VERSION"))}function ef(f,Q){if(null!==f&&"function"!==typeof f)throw Nf.create("invalid-log-argument");(0,i.i)(f,Q)}function Gf(f){(0,i.h)(f)}const If="firebase-heartbeat-store";let lf=null;function qf(){return lf||(lf=function(f,Q){let{blocked:H,upgrade:X,blocking:i,terminated:S}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const x=indexedDB.open(f,Q),K=O(x);return X&&x.addEventListener("upgradeneeded",(f=>{X(O(x.result),f.oldVersion,f.newVersion,O(x.transaction),f)})),H&&x.addEventListener("blocked",(f=>H(f.oldVersion,f.newVersion,f))),K.then((f=>{S&&f.addEventListener("close",(()=>S())),i&&f.addEventListener("versionchange",(f=>i(f.oldVersion,f.newVersion,f)))})).catch((()=>{})),K}("firebase-heartbeat-database",1,{upgrade:(f,Q)=>{if(0===Q)f.createObjectStore(If)}}).catch((f=>{throw Nf.create("idb-open",{originalErrorMessage:f.message})}))),lf}async function Df(f,Q){try{const H=(await qf()).transaction(If,"readwrite"),X=H.objectStore(If);await X.put(Q,df(f)),await H.done}catch(H){if(H instanceof S.h)s.warn(H.message);else{const f=Nf.create("idb-set",{originalErrorMessage:null===H||void 0===H?void 0:H.message});s.warn(f.message)}}}function df(f){return`${f.name}!${f.options.appId}`}class sf{constructor(f){this.container=f,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this.Zi=new Pf(Q),this._heartbeatsCachePromise=this.Zi.read().then((f=>(this._heartbeatsCache=f,f)))}async triggerHeartbeat(){const f=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Q=Ff();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Q&&!this._heartbeatsCache.heartbeats.some((f=>f.date===Q)))return this._heartbeatsCache.heartbeats.push({date:Q,agent:f}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((f=>{const Q=new Date(f.date).valueOf();return Date.now()-Q<=2592e6})),this.Zi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const f=Ff(),{heartbeatsToSend:Q,unsentEntries:H}=function(f){let Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const H=[];let X=f.slice();for(const i of f){const f=H.find((f=>f.agent===i.agent));if(f){if(f.dates.push(i.date),mf(H)>Q){f.dates.pop();break}}else if(H.push({agent:i.agent,dates:[i.date]}),mf(H)>Q){H.pop();break}X=X.slice(1)}return{heartbeatsToSend:H,unsentEntries:X}}(this._heartbeatsCache.heartbeats),X=(0,S.p)(JSON.stringify({version:2,heartbeats:Q}));return this._heartbeatsCache.lastSentHeartbeatDate=f,H.length>0?(this._heartbeatsCache.heartbeats=H,await this.Zi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Zi.overwrite(this._heartbeatsCache)),X}}function Ff(){return(new Date).toISOString().substring(0,10)}class Pf{constructor(f){this.app=f,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,S.T)()&&(0,S.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(f){try{const Q=await qf();return await Q.transaction(If).objectStore(If).get(df(f))}catch(Q){if(Q instanceof S.h)s.warn(Q.message);else{const f=Nf.create("idb-get",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});s.warn(f.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(f){var Q;if(await this._canUseIndexedDBPromise){const H=await this.read();return Df(this.app,{lastSentHeartbeatDate:null!==(Q=f.lastSentHeartbeatDate)&&void 0!==Q?Q:H.lastSentHeartbeatDate,heartbeats:f.heartbeats})}}async add(f){var Q;if(await this._canUseIndexedDBPromise){const H=await this.read();return Df(this.app,{lastSentHeartbeatDate:null!==(Q=f.lastSentHeartbeatDate)&&void 0!==Q?Q:H.lastSentHeartbeatDate,heartbeats:[...H.heartbeats,...f.heartbeats]})}}}function mf(f){return(0,S.p)(JSON.stringify({version:2,heartbeats:f})).length}var cf;cf="",Sf(new X.g("platform-logger",(f=>new q(f)),"PRIVATE")),Sf(new X.g("heartbeat",(f=>new sf(f)),"PRIVATE")),nf(D,d,cf),nf(D,d,"esm2017"),nf("fire-js","")},10973:(f,Q,H)=>{H.d(Q,{d:()=>K,g:()=>i});var X=H(10979);class i{constructor(f,Q,H){this.name=f,this.instanceFactory=Q,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const S="[DEFAULT]";class x{constructor(f,Q){this.name=f,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const Q=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(Q)){const f=new X.e;if(this.instancesDeferred.set(Q,f),this.isInitialized(Q)||this.shouldAutoInitialize())try{const H=this.getOrInitializeService({instanceIdentifier:Q});H&&f.resolve(H)}catch(H){}}return this.instancesDeferred.get(Q).promise}getImmediate(f){var Q;const H=this.normalizeInstanceIdentifier(null===f||void 0===f?void 0:f.identifier),X=null!==(Q=null===f||void 0===f?void 0:f.optional)&&void 0!==Q&&Q;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(X)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(i){if(X)return null;throw i}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function(f){return"EAGER"===f.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:S})}catch(Q){}for(const[f,H]of this.instancesDeferred.entries()){const X=this.normalizeInstanceIdentifier(f);try{const f=this.getOrInitializeService({instanceIdentifier:X});H.resolve(f)}catch(Q){}}}}clearInstance(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}async delete(){const f=Array.from(this.instances.values());await Promise.all([...f.filter((f=>"INTERNAL"in f)).map((f=>f.INTERNAL.delete())),...f.filter((f=>"_delete"in f)).map((f=>f._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.instances.has(f)}getOptions(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.instancesOptions.get(f)||{}}initialize(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Q={}}=f,H=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const X=this.getOrInitializeService({instanceIdentifier:H,options:Q});for(const[i,S]of this.instancesDeferred.entries()){H===this.normalizeInstanceIdentifier(i)&&S.resolve(X)}return X}Gi(f,Q){var H;const X=this.normalizeInstanceIdentifier(Q),i=null!==(H=this.onInitCallbacks.get(X))&&void 0!==H?H:new Set;i.add(f),this.onInitCallbacks.set(X,i);const S=this.instances.get(X);return S&&f(S,X),()=>{i.delete(f)}}invokeOnInitCallbacks(f,Q){const H=this.onInitCallbacks.get(Q);if(H)for(const i of H)try{i(f,Q)}catch(X){}}getOrInitializeService(f){let{instanceIdentifier:Q,options:H={}}=f,X=this.instances.get(Q);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(i=Q,i===S?void 0:i),options:H}),this.instances.set(Q,X),this.instancesOptions.set(Q,H),this.invokeOnInitCallbacks(X,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,X)}catch(x){}var i;return X||null}normalizeInstanceIdentifier(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return this.component?this.component.multipleInstances?f:S:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(f){this.name=f,this.providers=new Map}yf(f){const Q=this.getProvider(f.name);if(Q.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);Q.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.yf(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const Q=new x(f,this);return this.providers.set(f,Q),Q}getProviders(){return Array.from(this.providers.values())}}},10986:(f,Q,H)=>{H.d(Q,{b:()=>i,f:()=>B,h:()=>N,i:()=>J});const X=[];var i;!function(f){f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT"}(i||(i={}));const S={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},x=i.INFO,K={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},Z=function(f,Q){if(Q<f.logLevel)return;const H=(new Date).toISOString(),X=K[Q];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);for(var i=arguments.length,S=new Array(i>2?i-2:0),x=2;x<i;x++)S[x-2]=arguments[x];console[X](`[${H}]  ${f.name}:`,...S)};class B{constructor(f){this.name=f,this._logLevel=x,this._logHandler=Z,this._userLogHandler=null,X.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in i))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"===typeof f?S[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!==typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(){for(var f=arguments.length,Q=new Array(f),H=0;H<f;H++)Q[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...Q),this._logHandler(this,i.DEBUG,...Q)}log(){for(var f=arguments.length,Q=new Array(f),H=0;H<f;H++)Q[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...Q),this._logHandler(this,i.VERBOSE,...Q)}info(){for(var f=arguments.length,Q=new Array(f),H=0;H<f;H++)Q[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,i.INFO,...Q),this._logHandler(this,i.INFO,...Q)}warn(){for(var f=arguments.length,Q=new Array(f),H=0;H<f;H++)Q[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,i.WARN,...Q),this._logHandler(this,i.WARN,...Q)}error(){for(var f=arguments.length,Q=new Array(f),H=0;H<f;H++)Q[H]=arguments[H];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...Q),this._logHandler(this,i.ERROR,...Q)}}function N(f){X.forEach((Q=>{Q.setLogLevel(f)}))}function J(f,Q){for(const H of X){let X=null;Q&&Q.level&&(X=S[Q.level]),H.userLogHandler=null===f?null:function(Q,H){for(var S=arguments.length,x=new Array(S>2?S-2:0),K=2;K<S;K++)x[K-2]=arguments[K];const Z=x.map((f=>{if(null==f)return null;if("string"===typeof f)return f;if("number"===typeof f||"boolean"===typeof f)return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch(Q){return null}})).filter((f=>f)).join(" ");H>=(null!==X&&void 0!==X?X:Q.logLevel)&&f({level:i[H].toLowerCase(),message:Z,args:x,type:Q.name})}}}}}]);