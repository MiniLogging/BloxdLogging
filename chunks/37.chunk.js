/*! For license information please see z4fuz.37.da9e1752.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11461:(V,n,O)=>{O.d(n,{$:()=>S,A:()=>P,E:()=>E,F:()=>p,G:()=>M,I:()=>j,L:()=>o,N:()=>A,Q:()=>B,R:()=>K,U:()=>a,Y:()=>q,ab:()=>X,d:()=>i,eb:()=>Y,f:()=>Z,fb:()=>r,i:()=>v,ib:()=>G,l:()=>W,o:()=>c,q:()=>x,u:()=>N,x:()=>s});const H=function(V){const n=[];let O=0;for(let H=0;H<V.length;H++){let g=V.charCodeAt(H);g<128?n[O++]=g:g<2048?(n[O++]=g>>6|192,n[O++]=63&g|128):55296===(64512&g)&&H+1<V.length&&56320===(64512&V.charCodeAt(H+1))?(g=65536+((1023&g)<<10)+(1023&V.charCodeAt(++H)),n[O++]=g>>18|240,n[O++]=g>>12&63|128,n[O++]=g>>6&63|128,n[O++]=63&g|128):(n[O++]=g>>12|224,n[O++]=g>>6&63|128,n[O++]=63&g|128)}return n},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(V,n){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let g=0;g<V.length;g+=3){const n=V[g],f=g+1<V.length,x=f?V[g+1]:0,c=g+2<V.length,e=c?V[g+2]:0,U=n>>2,M=(3&n)<<4|x>>4;let p=(15&x)<<2|e>>6,j=63&e;c||(j=64,f||(p=64)),H.push(O[U],O[M],O[p],O[j])}return H.join("")},encodeString(V,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(V):this.encodeByteArray(H(V),n)},decodeString(V,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(V):function(V){const n=[];let O=0,H=0;for(;O<V.length;){const g=V[O++];if(g<128)n[H++]=String.fromCharCode(g);else if(g>191&&g<224){const f=V[O++];n[H++]=String.fromCharCode((31&g)<<6|63&f)}else if(g>239&&g<365){const f=((7&g)<<18|(63&V[O++])<<12|(63&V[O++])<<6|63&V[O++])-65536;n[H++]=String.fromCharCode(55296+(f>>10)),n[H++]=String.fromCharCode(56320+(1023&f))}else{const f=V[O++],x=V[O++];n[H++]=String.fromCharCode((15&g)<<12|(63&f)<<6|63&x)}}return n.join("")}(this.decodeStringToByteArray(V,n))},decodeStringToByteArray(V,n){this.init_();const O=n?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let g=0;g<V.length;){const n=O[V.charAt(g++)],x=g<V.length?O[V.charAt(g)]:0;++g;const c=g<V.length?O[V.charAt(g)]:64;++g;const e=g<V.length?O[V.charAt(g)]:64;if(++g,null==n||null==x||null==c||null==e)throw new f;const U=n<<2|x>>4;if(H.push(U),64!==c){const V=x<<4&240|c>>2;if(H.push(V),64!==e){const V=c<<6&192|e;H.push(V)}}}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class f extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x=function(V){return function(V){const n=H(V);return g.encodeByteArray(n,!0)}(V).replace(/\./g,"")},c=function(V){try{return g.decodeString(V,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};const e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof O.g)return O.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,U=()=>{try{return e()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(O){return}const n=V&&c(V[1]);return n&&JSON.parse(n)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},M=V=>{var n,O;return null===(O=null===(n=U())||void 0===n?void 0:n.emulatorHosts)||void 0===O?void 0:O[V]},p=()=>{var V;return null===(V=U())||void 0===V?void 0:V.config},j=V=>{var n;return null===(n=U())||void 0===n?void 0:n[`_${V}`]};class i{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((V,n)=>{this.resolve=V,this.reject=n}))}wrapCallback(V){return(n,O)=>{n?this.reject(n):this.resolve(O),"function"===typeof V&&(this.promise.catch((()=>{})),1===V.length?V(n):V(n,O))}}}function A(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function B(){const V="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof V&&void 0!==V.id}function X(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function a(){const V=A();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(V){return!1}}function G(){return new Promise(((V,n)=>{try{let O=!0;const H="validate-browser-context-for-indexeddb-analytics-module",g=self.indexedDB.open(H);g.onsuccess=()=>{g.result.close(),O||self.indexedDB.deleteDatabase(H),V(!0)},g.onupgradeneeded=()=>{O=!1},g.onerror=()=>{var V;n((null===(V=g.error)||void 0===V?void 0:V.message)||"")}}catch(O){n(O)}}))}function W(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class v extends Error{constructor(V,n,O){super(n),this.code=V,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,v.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(V,n,O){this.service=V,this.serviceName=n,this.errors=O}create(V){const n=(arguments.length<=1?void 0:arguments[1])||{},O=`${this.service}/${V}`,H=this.errors[V],g=H?function(V,n){return V.replace(T,((V,O)=>{const H=n[O];return null!=H?String(H):`<${O}?>`}))}(H,n):"Error",f=`${this.serviceName}: ${g} (${O}).`;return new v(O,f,n)}}const T=/\{\$([^}]+)}/g;function K(V){for(const n in V)if(Object.prototype.hasOwnProperty.call(V,n))return!1;return!0}function P(V,n){if(V===n)return!0;const O=Object.keys(V),H=Object.keys(n);for(const g of O){if(!H.includes(g))return!1;const O=V[g],f=n[g];if(w(O)&&w(f)){if(!P(O,f))return!1}else if(O!==f)return!1}for(const g of H)if(!O.includes(g))return!1;return!0}function w(V){return null!==V&&"object"===typeof V}function r(V){const n=[];for(const[O,H]of Object.entries(V))Array.isArray(H)?H.forEach((V=>{n.push(encodeURIComponent(O)+"="+encodeURIComponent(V))})):n.push(encodeURIComponent(O)+"="+encodeURIComponent(H));return n.length?"&"+n.join("&"):""}function Y(V){const n={};return V.replace(/^\?/,"").split("&").forEach((V=>{if(V){const[O,H]=V.split("=");n[decodeURIComponent(O)]=decodeURIComponent(H)}})),n}function E(V){const n=V.indexOf("?");if(!n)return"";const O=V.indexOf("#",n);return V.substring(n,O>0?O:void 0)}function s(V,n){const O=new l(V,n);return O.subscribe.bind(O)}class l{constructor(V,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((()=>{V(this)})).catch((V=>{this.error(V)}))}next(V){this.forEachObserver((n=>{n.next(V)}))}error(V){this.forEachObserver((n=>{n.error(V)})),this.close(V)}complete(){this.forEachObserver((V=>{V.complete()})),this.close()}subscribe(V,n,O){let H;if(void 0===V&&void 0===n&&void 0===O)throw new Error("Missing Observer.");H=function(V,n){if("object"!==typeof V||null===V)return!1;for(const O of n)if(O in V&&"function"===typeof V[O])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:n,complete:O},void 0===H.next&&(H.next=t),void 0===H.error&&(H.error=t),void 0===H.complete&&(H.complete=t);const g=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(V){}})),this.observers.push(H),g}unsubscribeOne(V){void 0!==this.observers&&void 0!==this.observers[V]&&(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,V)}sendOne(V,n){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{n(this.observers[V])}catch(O){"undefined"!==typeof console&&console.error&&console.error(O)}}))}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function t(){}const k=1e3,R=2,z=144e5,Q=.5;function N(V){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;const O=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:k)*Math.pow(n,V),H=Math.round(Q*O*(Math.random()-.5)*2);return Math.min(z,O+H)}function o(V){return V&&V._delegate?V._delegate:V}},11447:(V,n,O)=>{O.d(n,{d:()=>f.i,h:()=>pV,i:()=>L,m:()=>OV,o:()=>HV,q:()=>VV,r:()=>cV,v:()=>nV,y:()=>fV,z:()=>gV,D:()=>xV,G:()=>SV,N:()=>iV,J:()=>AV,Q:()=>jV,R:()=>XV,V:()=>BV,Y:()=>aV});var H=O(11453),g=O(11465),f=O(11461);let x,c;const e=new WeakMap,U=new WeakMap,M=new WeakMap,p=new WeakMap,j=new WeakMap;let i={get(V,n,O){if(V instanceof IDBTransaction){if("done"===n)return U.get(V);if("objectStoreNames"===n)return V.objectStoreNames||M.get(V);if("store"===n)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return B(V[n])},set:(V,n,O)=>(V[n]=O,!0),has:(V,n)=>V instanceof IDBTransaction&&("done"===n||"store"===n)||n in V};function A(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(V)?function(){for(var n=arguments.length,O=new Array(n),H=0;H<n;H++)O[H]=arguments[H];return V.apply(X(this),O),B(e.get(this))}:function(){for(var n=arguments.length,O=new Array(n),H=0;H<n;H++)O[H]=arguments[H];return B(V.apply(X(this),O))}:function(n){for(var O=arguments.length,H=new Array(O>1?O-1:0),g=1;g<O;g++)H[g-1]=arguments[g];const f=V.call(X(this),n,...H);return M.set(f,n.sort?n.sort():[n]),B(f)}}function S(V){return"function"===typeof V?A(V):(V instanceof IDBTransaction&&function(V){if(U.has(V))return;const n=new Promise(((n,O)=>{const H=()=>{V.removeEventListener("complete",g),V.removeEventListener("error",f),V.removeEventListener("abort",f)},g=()=>{n(),H()},f=()=>{O(V.error||new DOMException("AbortError","AbortError")),H()};V.addEventListener("complete",g),V.addEventListener("error",f),V.addEventListener("abort",f)}));U.set(V,n)}(V),n=V,(x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((V=>n instanceof V))?new Proxy(V,i):V);var n}function B(V){if(V instanceof IDBRequest)return function(V){const n=new Promise(((n,O)=>{const H=()=>{V.removeEventListener("success",g),V.removeEventListener("error",f)},g=()=>{n(B(V.result)),H()},f=()=>{O(V.error),H()};V.addEventListener("success",g),V.addEventListener("error",f)}));return n.then((n=>{n instanceof IDBCursor&&e.set(n,V)})).catch((()=>{})),j.set(n,V),n}(V);if(p.has(V))return p.get(V);const n=S(V);return n!==V&&(p.set(V,n),j.set(n,V)),n}const X=V=>j.get(V);const a=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],G=new Map;function W(V,n){if(!(V instanceof IDBDatabase)||n in V||"string"!==typeof n)return;if(G.get(n))return G.get(n);const O=n.replace(/FromIndex$/,""),H=n!==O,g=q.includes(O);if(!(O in(H?IDBIndex:IDBObjectStore).prototype)||!g&&!a.includes(O))return;const f=async function(V){const n=this.transaction(V,g?"readwrite":"readonly");let f=n.store;for(var x=arguments.length,c=new Array(x>1?x-1:0),e=1;e<x;e++)c[e-1]=arguments[e];return H&&(f=f.index(c.shift())),(await Promise.all([f[O](...c),g&&n.done]))[0]};return G.set(n,f),f}i=(V=>({...V,get:(n,O,H)=>W(n,O)||V.get(n,O,H),has:(n,O)=>!!W(n,O)||V.has(n,O)}))(i);class v{constructor(V){this.container=V}getPlatformInfoString(){return this.container.getProviders().map((V=>{if(function(V){const n=V.getComponent();return"VERSION"===(null===n||void 0===n?void 0:n.type)}(V)){const n=V.getImmediate();return`${n.library}/${n.version}`}return null})).filter((V=>V)).join(" ")}}const Z="@firebase/app",T="0.9.13",K=new g.d("@firebase/app"),P="@firebase/app-compat",w="@firebase/analytics-compat",r="@firebase/analytics",Y="@firebase/app-check-compat",E="@firebase/app-check",s="@firebase/auth",l="@firebase/auth-compat",t="@firebase/database",k="@firebase/database-compat",R="@firebase/functions",z="@firebase/functions-compat",Q="@firebase/installations",N="@firebase/installations-compat",o="@firebase/messaging",D="@firebase/messaging-compat",J="@firebase/performance",m="@firebase/performance-compat",b="@firebase/remote-config",C="@firebase/remote-config-compat",u="@firebase/storage",h="@firebase/storage-compat",y="@firebase/firestore",F="@firebase/firestore-compat",d="firebase",L="[DEFAULT]",I={[Z]:"fire-core",[P]:"fire-core-compat",[r]:"fire-analytics",[w]:"fire-analytics-compat",[E]:"fire-app-check",[Y]:"fire-app-check-compat",[s]:"fire-auth",[l]:"fire-auth-compat",[t]:"fire-rtdb",[k]:"fire-rtdb-compat",[R]:"fire-fn",[z]:"fire-fn-compat",[Q]:"fire-iid",[N]:"fire-iid-compat",[o]:"fire-fcm",[D]:"fire-fcm-compat",[J]:"fire-perf",[m]:"fire-perf-compat",[b]:"fire-rc",[C]:"fire-rc-compat",[u]:"fire-gcs",[h]:"fire-gcs-compat",[y]:"fire-fst",[F]:"fire-fst-compat","fire-js":"fire-js",[d]:"fire-js-all"},VV=new Map,nV=new Map;function OV(V,n){try{V.container.He(n)}catch(O){K.debug(`Component ${n.name} failed to register with FirebaseApp ${V.name}`,O)}}function HV(V,n){V.container.addOrOverwriteComponent(n)}function gV(V){const n=V.name;if(nV.has(n))return K.debug(`There were multiple attempts to register component ${n}.`),!1;nV.set(n,V);for(const O of VV.values())OV(O,V);return!0}function fV(V,n){const O=V.container.getProvider("heartbeat").getImmediate({optional:!0});return O&&O.triggerHeartbeat(),V.container.getProvider(n)}function xV(V,n){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;fV(V,n).clearInstance(O)}function cV(){nV.clear()}const eV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},UV=new f.f("app","Firebase",eV);class MV{constructor(V,n,O){this._isDeleted=!1,this._options=Object.assign({},V),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=O,this.container.He(new H.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this.checkDestroyed(),this._automaticDataCollectionEnabled=V}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(V){this._isDeleted=V}checkDestroyed(){if(this.isDeleted)throw UV.create("app-deleted",{appName:this._name})}}const pV="9.23.0";function jV(V){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=V;if("object"!==typeof n){n={name:n}}const g=Object.assign({name:L,automaticDataCollectionEnabled:!1},n),x=g.name;if("string"!==typeof x||!x)throw UV.create("bad-app-name",{appName:String(x)});if(O||(O=(0,f.F)()),!O)throw UV.create("no-options");const c=VV.get(x);if(c){if((0,f.A)(O,c.options)&&(0,f.A)(g,c.config))return c;throw UV.create("duplicate-app",{appName:x})}const e=new H.c(x);for(const H of nV.values())e.He(H);const U=new MV(O,g,e);return VV.set(x,U),U}function iV(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;const n=VV.get(V);if(!n&&V===L&&(0,f.F)())return jV();if(!n)throw UV.create("no-app",{appName:V});return n}function AV(){return Array.from(VV.values())}async function SV(V){const n=V.name;VV.has(n)&&(VV.delete(n),await Promise.all(V.container.getProviders().map((V=>V.delete()))),V.isDeleted=!0)}function BV(V,n,O){var g;let f=null!==(g=I[V])&&void 0!==g?g:V;O&&(f+=`-${O}`);const x=f.match(/\s|\//),c=n.match(/\s|\//);if(x||c){const V=[`Unable to register library "${f}" with version "${n}":`];return x&&V.push(`library name "${f}" contains illegal characters (whitespace or "/")`),x&&c&&V.push("and"),c&&V.push(`version name "${n}" contains illegal characters (whitespace or "/")`),void K.warn(V.join(" "))}gV(new H.d(`${f}-version`,(()=>({library:f,version:n})),"VERSION"))}function XV(V,n){if(null!==V&&"function"!==typeof V)throw UV.create("invalid-log-argument");(0,g.i)(V,n)}function aV(V){(0,g.e)(V)}const qV="firebase-heartbeat-store";let GV=null;function WV(){return GV||(GV=function(V,n){let{blocked:O,upgrade:H,blocking:g,terminated:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const x=indexedDB.open(V,n),c=B(x);return H&&x.addEventListener("upgradeneeded",(V=>{H(B(x.result),V.oldVersion,V.newVersion,B(x.transaction),V)})),O&&x.addEventListener("blocked",(V=>O(V.oldVersion,V.newVersion,V))),c.then((V=>{f&&V.addEventListener("close",(()=>f())),g&&V.addEventListener("versionchange",(V=>g(V.oldVersion,V.newVersion,V)))})).catch((()=>{})),c}("firebase-heartbeat-database",1,{upgrade:(V,n)=>{if(0===n)V.createObjectStore(qV)}}).catch((V=>{throw UV.create("idb-open",{originalErrorMessage:V.message})}))),GV}async function vV(V,n){try{const O=(await WV()).transaction(qV,"readwrite"),H=O.objectStore(qV);await H.put(n,ZV(V)),await O.done}catch(O){if(O instanceof f.i)K.warn(O.message);else{const V=UV.create("idb-set",{originalErrorMessage:null===O||void 0===O?void 0:O.message});K.warn(V.message)}}}function ZV(V){return`${V.name}!${V.options.appId}`}class TV{constructor(V){this.container=V,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this.Qi=new PV(n),this._heartbeatsCachePromise=this.Qi.read().then((V=>(this._heartbeatsCache=V,V)))}async triggerHeartbeat(){const V=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=KV();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((V=>V.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:V}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((V=>{const n=new Date(V.date).valueOf();return Date.now()-n<=2592e6})),this.Qi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const V=KV(),{heartbeatsToSend:n,unsentEntries:O}=function(V){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const O=[];let H=V.slice();for(const g of V){const V=O.find((V=>V.agent===g.agent));if(V){if(V.dates.push(g.date),wV(O)>n){V.dates.pop();break}}else if(O.push({agent:g.agent,dates:[g.date]}),wV(O)>n){O.pop();break}H=H.slice(1)}return{heartbeatsToSend:O,unsentEntries:H}}(this._heartbeatsCache.heartbeats),H=(0,f.q)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=V,O.length>0?(this._heartbeatsCache.heartbeats=O,await this.Qi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Qi.overwrite(this._heartbeatsCache)),H}}function KV(){return(new Date).toISOString().substring(0,10)}class PV{constructor(V){this.app=V,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,f.Y)()&&(0,f.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(V){try{const n=await WV();return await n.transaction(qV).objectStore(qV).get(ZV(V))}catch(n){if(n instanceof f.i)K.warn(n.message);else{const V=UV.create("idb-get",{originalErrorMessage:null===n||void 0===n?void 0:n.message});K.warn(V.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(V){var n;if(await this._canUseIndexedDBPromise){const O=await this.read();return vV(this.app,{lastSentHeartbeatDate:null!==(n=V.lastSentHeartbeatDate)&&void 0!==n?n:O.lastSentHeartbeatDate,heartbeats:V.heartbeats})}}async add(V){var n;if(await this._canUseIndexedDBPromise){const O=await this.read();return vV(this.app,{lastSentHeartbeatDate:null!==(n=V.lastSentHeartbeatDate)&&void 0!==n?n:O.lastSentHeartbeatDate,heartbeats:[...O.heartbeats,...V.heartbeats]})}}}function wV(V){return(0,f.q)(JSON.stringify({version:2,heartbeats:V})).length}var rV;rV="",gV(new H.d("platform-logger",(V=>new v(V)),"PRIVATE")),gV(new H.d("heartbeat",(V=>new TV(V)),"PRIVATE")),BV(Z,T,rV),BV(Z,T,"esm2017"),BV("fire-js","")},11453:(V,n,O)=>{O.d(n,{c:()=>c,d:()=>g});var H=O(11461);class g{constructor(V,n,O){this.name=V,this.instanceFactory=n,this.type=O,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const f="[DEFAULT]";class x{constructor(V,n){this.name=V,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const n=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(n)){const V=new H.d;if(this.instancesDeferred.set(n,V),this.isInitialized(n)||this.shouldAutoInitialize())try{const O=this.getOrInitializeService({instanceIdentifier:n});O&&V.resolve(O)}catch(O){}}return this.instancesDeferred.get(n).promise}getImmediate(V){var n;const O=this.normalizeInstanceIdentifier(null===V||void 0===V?void 0:V.identifier),H=null!==(n=null===V||void 0===V?void 0:V.optional)&&void 0!==n&&n;if(!this.isInitialized(O)&&!this.shouldAutoInitialize()){if(H)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:O})}catch(g){if(H)return null;throw g}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function(V){return"EAGER"===V.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:f})}catch(n){}for(const[V,O]of this.instancesDeferred.entries()){const H=this.normalizeInstanceIdentifier(V);try{const V=this.getOrInitializeService({instanceIdentifier:H});O.resolve(V)}catch(n){}}}}clearInstance(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}async delete(){const V=Array.from(this.instances.values());await Promise.all([...V.filter((V=>"INTERNAL"in V)).map((V=>V.INTERNAL.delete())),...V.filter((V=>"_delete"in V)).map((V=>V._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instances.has(V)}getOptions(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.instancesOptions.get(V)||{}}initialize(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:n={}}=V,O=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(O))throw Error(`${this.name}(${O}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const H=this.getOrInitializeService({instanceIdentifier:O,options:n});for(const[g,f]of this.instancesDeferred.entries()){O===this.normalizeInstanceIdentifier(g)&&f.resolve(H)}return H}xi(V,n){var O;const H=this.normalizeInstanceIdentifier(n),g=null!==(O=this.onInitCallbacks.get(H))&&void 0!==O?O:new Set;g.add(V),this.onInitCallbacks.set(H,g);const f=this.instances.get(H);return f&&V(f,H),()=>{g.delete(V)}}invokeOnInitCallbacks(V,n){const O=this.onInitCallbacks.get(n);if(O)for(const g of O)try{g(V,n)}catch(H){}}getOrInitializeService(V){let{instanceIdentifier:n,options:O={}}=V,H=this.instances.get(n);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(g=n,g===f?void 0:g),options:O}),this.instances.set(n,H),this.instancesOptions.set(n,O),this.invokeOnInitCallbacks(H,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,H)}catch(x){}var g;return H||null}normalizeInstanceIdentifier(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return this.component?this.component.multipleInstances?V:f:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(V){this.name=V,this.providers=new Map}He(V){const n=this.getProvider(V.name);if(n.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);n.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.He(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const n=new x(V,this);return this.providers.set(V,n),n}getProviders(){return Array.from(this.providers.values())}}},11465:(V,n,O)=>{O.d(n,{b:()=>g,d:()=>U,e:()=>M,i:()=>p});const H=[];var g;!function(V){V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT"}(g||(g={}));const f={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},x=g.INFO,c={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},e=function(V,n){if(n<V.logLevel)return;const O=(new Date).toISOString(),H=c[n];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`);for(var g=arguments.length,f=new Array(g>2?g-2:0),x=2;x<g;x++)f[x-2]=arguments[x];console[H](`[${O}]  ${V.name}:`,...f)};class U{constructor(V){this.name=V,this._logLevel=x,this._logHandler=e,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in g))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"===typeof V?f[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!==typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(){for(var V=arguments.length,n=new Array(V),O=0;O<V;O++)n[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...n),this._logHandler(this,g.DEBUG,...n)}log(){for(var V=arguments.length,n=new Array(V),O=0;O<V;O++)n[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...n),this._logHandler(this,g.VERBOSE,...n)}info(){for(var V=arguments.length,n=new Array(V),O=0;O<V;O++)n[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,g.INFO,...n),this._logHandler(this,g.INFO,...n)}warn(){for(var V=arguments.length,n=new Array(V),O=0;O<V;O++)n[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,g.WARN,...n),this._logHandler(this,g.WARN,...n)}error(){for(var V=arguments.length,n=new Array(V),O=0;O<V;O++)n[O]=arguments[O];this._userLogHandler&&this._userLogHandler(this,g.ERROR,...n),this._logHandler(this,g.ERROR,...n)}}function M(V){H.forEach((n=>{n.setLogLevel(V)}))}function p(V,n){for(const O of H){let H=null;n&&n.level&&(H=f[n.level]),O.userLogHandler=null===V?null:function(n,O){for(var f=arguments.length,x=new Array(f>2?f-2:0),c=2;c<f;c++)x[c-2]=arguments[c];const e=x.map((V=>{if(null==V)return null;if("string"===typeof V)return V;if("number"===typeof V||"boolean"===typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch(n){return null}})).filter((V=>V)).join(" ");O>=(null!==H&&void 0!==H?H:n.logLevel)&&V({level:g[O].toLowerCase(),message:e,args:x,type:n.name})}}}}}]);