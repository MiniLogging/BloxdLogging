/*! For license information please see fiig4a.37.e4cee884.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11432:(O,q,s)=>{s.d(q,{B:()=>r,E:()=>z,I:()=>f,L:()=>c,M:()=>x,P:()=>m,Q:()=>g,S:()=>u,V:()=>W,Y:()=>e,Z:()=>H,ab:()=>R,b:()=>j,d:()=>U,e:()=>L,h:()=>N,k:()=>y,l:()=>P,m:()=>v,p:()=>C,q:()=>M,t:()=>A,v:()=>n,z:()=>h});const Z=function(O){const q=[];let s=0;for(let Z=0;Z<O.length;Z++){let D=O.charCodeAt(Z);D<128?q[s++]=D:D<2048?(q[s++]=D>>6|192,q[s++]=63&D|128):55296===(64512&D)&&Z+1<O.length&&56320===(64512&O.charCodeAt(Z+1))?(D=65536+((1023&D)<<10)+(1023&O.charCodeAt(++Z)),q[s++]=D>>18|240,q[s++]=D>>12&63|128,q[s++]=D>>6&63|128,q[s++]=63&D|128):(q[s++]=D>>12|224,q[s++]=D>>6&63|128,q[s++]=63&D|128)}return q},D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(O,q){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Z=[];for(let D=0;D<O.length;D+=3){const q=O[D],B=D+1<O.length,P=B?O[D+1]:0,y=D+2<O.length,o=y?O[D+2]:0,w=q>>2,h=(3&q)<<4|P>>4;let n=(15&P)<<2|o>>6,r=63&o;y||(r=64,B||(n=64)),Z.push(s[w],s[h],s[n],s[r])}return Z.join("")},encodeString(O,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(O):this.encodeByteArray(Z(O),q)},decodeString(O,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(O):function(O){const q=[];let s=0,Z=0;for(;s<O.length;){const D=O[s++];if(D<128)q[Z++]=String.fromCharCode(D);else if(D>191&&D<224){const B=O[s++];q[Z++]=String.fromCharCode((31&D)<<6|63&B)}else if(D>239&&D<365){const B=((7&D)<<18|(63&O[s++])<<12|(63&O[s++])<<6|63&O[s++])-65536;q[Z++]=String.fromCharCode(55296+(B>>10)),q[Z++]=String.fromCharCode(56320+(1023&B))}else{const B=O[s++],P=O[s++];q[Z++]=String.fromCharCode((15&D)<<12|(63&B)<<6|63&P)}}return q.join("")}(this.decodeStringToByteArray(O,q))},decodeStringToByteArray(O,q){this.init_();const s=q?this.charToByteMapWebSafe_:this.charToByteMap_,Z=[];for(let D=0;D<O.length;){const q=s[O.charAt(D++)],P=D<O.length?s[O.charAt(D)]:0;++D;const y=D<O.length?s[O.charAt(D)]:64;++D;const o=D<O.length?s[O.charAt(D)]:64;if(++D,null==q||null==P||null==y||null==o)throw new B;const w=q<<2|P>>4;if(Z.push(w),64!==y){const O=P<<4&240|y>>2;if(Z.push(O),64!==o){const O=y<<6&192|o;Z.push(O)}}}return Z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class B extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P=function(O){return function(O){const q=Z(O);return D.encodeByteArray(q,!0)}(O).replace(/\./g,"")},y=function(O){try{return D.decodeString(O,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};const o=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof s.g)return s.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return o()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const q=O&&y(O[1]);return q&&JSON.parse(q)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},h=O=>{var q,s;return null===(s=null===(q=w())||void 0===q?void 0:q.emulatorHosts)||void 0===s?void 0:s[O]},n=()=>{var O;return null===(O=w())||void 0===O?void 0:O.config},r=O=>{var q;return null===(q=w())||void 0===q?void 0:q[`_${O}`]};class j{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((O,q)=>{this.resolve=O,this.reject=q}))}wrapCallback(O){return(q,s)=>{q?this.reject(q):this.resolve(s),"function"===typeof O&&(this.promise.catch((()=>{})),1===O.length?O(q):O(q,s))}}}function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function c(){const O="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof O&&void 0!==O.id}function W(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function m(){const O=f();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function g(){try{return"object"===typeof indexedDB}catch(O){return!1}}function R(){return new Promise(((O,q)=>{try{let s=!0;const Z="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(Z);D.onsuccess=()=>{D.result.close(),s||self.indexedDB.deleteDatabase(Z),O(!0)},D.onupgradeneeded=()=>{s=!1},D.onerror=()=>{var O;q((null===(O=D.error)||void 0===O?void 0:O.message)||"")}}catch(s){q(s)}}))}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class L extends Error{constructor(O,q,s){super(q),this.code=O,this.customData=s,this.name="FirebaseError",Object.setPrototypeOf(this,L.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(O,q,s){this.service=O,this.serviceName=q,this.errors=s}create(O){const q=(arguments.length<=1?void 0:arguments[1])||{},s=`${this.service}/${O}`,Z=this.errors[O],D=Z?function(O,q){return O.replace(k,((O,s)=>{const Z=q[s];return null!=Z?String(Z):`<${s}?>`}))}(Z,q):"Error",B=`${this.serviceName}: ${D} (${s}).`;return new L(s,B,q)}}const k=/\{\$([^}]+)}/g;function x(O){for(const q in O)if(Object.prototype.hasOwnProperty.call(O,q))return!1;return!0}function M(O,q){if(O===q)return!0;const s=Object.keys(O),Z=Object.keys(q);for(const D of s){if(!Z.includes(D))return!1;const s=O[D],B=q[D];if(V(s)&&V(B)){if(!M(s,B))return!1}else if(s!==B)return!1}for(const D of Z)if(!s.includes(D))return!1;return!0}function V(O){return null!==O&&"object"===typeof O}function H(O){const q=[];for(const[s,Z]of Object.entries(O))Array.isArray(Z)?Z.forEach((O=>{q.push(encodeURIComponent(s)+"="+encodeURIComponent(O))})):q.push(encodeURIComponent(s)+"="+encodeURIComponent(Z));return q.length?"&"+q.join("&"):""}function e(O){const q={};return O.replace(/^\?/,"").split("&").forEach((O=>{if(O){const[s,Z]=O.split("=");q[decodeURIComponent(s)]=decodeURIComponent(Z)}})),q}function A(O){const q=O.indexOf("?");if(!q)return"";const s=O.indexOf("#",q);return O.substring(q,s>0?s:void 0)}function C(O,q){const s=new K(O,q);return s.subscribe.bind(s)}class K{constructor(O,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then((()=>{O(this)})).catch((O=>{this.error(O)}))}next(O){this.forEachObserver((q=>{q.next(O)}))}error(O){this.forEachObserver((q=>{q.error(O)})),this.close(O)}complete(){this.forEachObserver((O=>{O.complete()})),this.close()}subscribe(O,q,s){let Z;if(void 0===O&&void 0===q&&void 0===s)throw new Error("Missing Observer.");Z=function(O,q){if("object"!==typeof O||null===O)return!1;for(const s of q)if(s in O&&"function"===typeof O[s])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:q,complete:s},void 0===Z.next&&(Z.next=l),void 0===Z.error&&(Z.error=l),void 0===Z.complete&&(Z.complete=l);const D=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(O){}})),this.observers.push(Z),D}unsubscribeOne(O){void 0!==this.observers&&void 0!==this.observers[O]&&(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,O)}sendOne(O,q){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{q(this.observers[O])}catch(s){"undefined"!==typeof console&&console.error&&console.error(s)}}))}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function l(){}const T=1e3,a=2,p=144e5,d=.5;function v(O){let q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const s=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:T)*Math.pow(q,O),Z=Math.round(d*s*(Math.random()-.5)*2);return Math.min(p,s+Z)}function z(O){return O&&O._delegate?O._delegate:O}},11421:(O,q,s)=>{s.d(q,{d:()=>B.e,h:()=>nO,k:()=>I,l:()=>sO,o:()=>ZO,q:()=>OO,u:()=>yO,w:()=>qO,z:()=>BO,B:()=>DO,E:()=>PO,I:()=>uO,L:()=>jO,K:()=>fO,P:()=>rO,Q:()=>WO,S:()=>cO,U:()=>mO});var Z=s(11425),D=s(11440),B=s(11432);let P,y;const o=new WeakMap,w=new WeakMap,h=new WeakMap,n=new WeakMap,r=new WeakMap;let j={get(O,q,s){if(O instanceof IDBTransaction){if("done"===q)return w.get(O);if("objectStoreNames"===q)return O.objectStoreNames||h.get(O);if("store"===q)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return c(O[q])},set:(O,q,s)=>(O[q]=s,!0),has:(O,q)=>O instanceof IDBTransaction&&("done"===q||"store"===q)||q in O};function f(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y||(y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(O)?function(){for(var q=arguments.length,s=new Array(q),Z=0;Z<q;Z++)s[Z]=arguments[Z];return O.apply(W(this),s),c(o.get(this))}:function(){for(var q=arguments.length,s=new Array(q),Z=0;Z<q;Z++)s[Z]=arguments[Z];return c(O.apply(W(this),s))}:function(q){for(var s=arguments.length,Z=new Array(s>1?s-1:0),D=1;D<s;D++)Z[D-1]=arguments[D];const B=O.call(W(this),q,...Z);return h.set(B,q.sort?q.sort():[q]),c(B)}}function u(O){return"function"===typeof O?f(O):(O instanceof IDBTransaction&&function(O){if(w.has(O))return;const q=new Promise(((q,s)=>{const Z=()=>{O.removeEventListener("complete",D),O.removeEventListener("error",B),O.removeEventListener("abort",B)},D=()=>{q(),Z()},B=()=>{s(O.error||new DOMException("AbortError","AbortError")),Z()};O.addEventListener("complete",D),O.addEventListener("error",B),O.addEventListener("abort",B)}));w.set(O,q)}(O),q=O,(P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((O=>q instanceof O))?new Proxy(O,j):O);var q}function c(O){if(O instanceof IDBRequest)return function(O){const q=new Promise(((q,s)=>{const Z=()=>{O.removeEventListener("success",D),O.removeEventListener("error",B)},D=()=>{q(c(O.result)),Z()},B=()=>{s(O.error),Z()};O.addEventListener("success",D),O.addEventListener("error",B)}));return q.then((q=>{q instanceof IDBCursor&&o.set(q,O)})).catch((()=>{})),r.set(q,O),q}(O);if(n.has(O))return n.get(O);const q=u(O);return q!==O&&(n.set(O,q),r.set(q,O)),q}const W=O=>r.get(O);const m=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],R=new Map;function N(O,q){if(!(O instanceof IDBDatabase)||q in O||"string"!==typeof q)return;if(R.get(q))return R.get(q);const s=q.replace(/FromIndex$/,""),Z=q!==s,D=g.includes(s);if(!(s in(Z?IDBIndex:IDBObjectStore).prototype)||!D&&!m.includes(s))return;const B=async function(O){const q=this.transaction(O,D?"readwrite":"readonly");let B=q.store;for(var P=arguments.length,y=new Array(P>1?P-1:0),o=1;o<P;o++)y[o-1]=arguments[o];return Z&&(B=B.index(y.shift())),(await Promise.all([B[s](...y),D&&q.done]))[0]};return R.set(q,B),B}j=(O=>({...O,get:(q,s,Z)=>N(q,s)||O.get(q,s,Z),has:(q,s)=>!!N(q,s)||O.has(q,s)}))(j);class L{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map((O=>{if(function(O){const q=O.getComponent();return"VERSION"===(null===q||void 0===q?void 0:q.type)}(O)){const q=O.getImmediate();return`${q.library}/${q.version}`}return null})).filter((O=>O)).join(" ")}}const U="@firebase/app",k="0.9.13",x=new D.c("@firebase/app"),M="@firebase/app-compat",V="@firebase/analytics-compat",H="@firebase/analytics",e="@firebase/app-check-compat",A="@firebase/app-check",C="@firebase/auth",K="@firebase/auth-compat",l="@firebase/database",T="@firebase/database-compat",a="@firebase/functions",p="@firebase/functions-compat",d="@firebase/installations",v="@firebase/installations-compat",z="@firebase/messaging",G="@firebase/messaging-compat",Y="@firebase/performance",X="@firebase/performance-compat",b="@firebase/remote-config",t="@firebase/remote-config-compat",S="@firebase/storage",F="@firebase/storage-compat",Q="@firebase/firestore",J="@firebase/firestore-compat",E="firebase",I="[DEFAULT]",i={[U]:"fire-core",[M]:"fire-core-compat",[H]:"fire-analytics",[V]:"fire-analytics-compat",[A]:"fire-app-check",[e]:"fire-app-check-compat",[C]:"fire-auth",[K]:"fire-auth-compat",[l]:"fire-rtdb",[T]:"fire-rtdb-compat",[a]:"fire-fn",[p]:"fire-fn-compat",[d]:"fire-iid",[v]:"fire-iid-compat",[z]:"fire-fcm",[G]:"fire-fcm-compat",[Y]:"fire-perf",[X]:"fire-perf-compat",[b]:"fire-rc",[t]:"fire-rc-compat",[S]:"fire-gcs",[F]:"fire-gcs-compat",[Q]:"fire-fst",[J]:"fire-fst-compat","fire-js":"fire-js",[E]:"fire-js-all"},OO=new Map,qO=new Map;function sO(O,q){try{O.container.uf(q)}catch(s){x.debug(`Component ${q.name} failed to register with FirebaseApp ${O.name}`,s)}}function ZO(O,q){O.container.addOrOverwriteComponent(q)}function DO(O){const q=O.name;if(qO.has(q))return x.debug(`There were multiple attempts to register component ${q}.`),!1;qO.set(q,O);for(const s of OO.values())sO(s,O);return!0}function BO(O,q){const s=O.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),O.container.getProvider(q)}function PO(O,q){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;BO(O,q).clearInstance(s)}function yO(){qO.clear()}const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wO=new B.d("app","Firebase",oO);class hO{constructor(O,q,s){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=s,this.container.uf(new Z.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw wO.create("app-deleted",{appName:this._name})}}const nO="9.23.0";function rO(O){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=O;if("object"!==typeof q){q={name:q}}const D=Object.assign({name:I,automaticDataCollectionEnabled:!1},q),P=D.name;if("string"!==typeof P||!P)throw wO.create("bad-app-name",{appName:String(P)});if(s||(s=(0,B.v)()),!s)throw wO.create("no-options");const y=OO.get(P);if(y){if((0,B.q)(s,y.options)&&(0,B.q)(D,y.config))return y;throw wO.create("duplicate-app",{appName:P})}const o=new Z.b(P);for(const Z of qO.values())o.uf(Z);const w=new hO(s,D,o);return OO.set(P,w),w}function jO(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const q=OO.get(O);if(!q&&O===I&&(0,B.v)())return rO();if(!q)throw wO.create("no-app",{appName:O});return q}function fO(){return Array.from(OO.values())}async function uO(O){const q=O.name;OO.has(q)&&(OO.delete(q),await Promise.all(O.container.getProviders().map((O=>O.delete()))),O.isDeleted=!0)}function cO(O,q,s){var D;let B=null!==(D=i[O])&&void 0!==D?D:O;s&&(B+=`-${s}`);const P=B.match(/\s|\//),y=q.match(/\s|\//);if(P||y){const O=[`Unable to register library "${B}" with version "${q}":`];return P&&O.push(`library name "${B}" contains illegal characters (whitespace or "/")`),P&&y&&O.push("and"),y&&O.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void x.warn(O.join(" "))}DO(new Z.d(`${B}-version`,(()=>({library:B,version:q})),"VERSION"))}function WO(O,q){if(null!==O&&"function"!==typeof O)throw wO.create("invalid-log-argument");(0,D.i)(O,q)}function mO(O){(0,D.g)(O)}const gO="firebase-heartbeat-store";let RO=null;function NO(){return RO||(RO=function(O,q){let{blocked:s,upgrade:Z,blocking:D,terminated:B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const P=indexedDB.open(O,q),y=c(P);return Z&&P.addEventListener("upgradeneeded",(O=>{Z(c(P.result),O.oldVersion,O.newVersion,c(P.transaction),O)})),s&&P.addEventListener("blocked",(O=>s(O.oldVersion,O.newVersion,O))),y.then((O=>{B&&O.addEventListener("close",(()=>B())),D&&O.addEventListener("versionchange",(O=>D(O.oldVersion,O.newVersion,O)))})).catch((()=>{})),y}("firebase-heartbeat-database",1,{upgrade:(O,q)=>{if(0===q)O.createObjectStore(gO)}}).catch((O=>{throw wO.create("idb-open",{originalErrorMessage:O.message})}))),RO}async function LO(O,q){try{const s=(await NO()).transaction(gO,"readwrite"),Z=s.objectStore(gO);await Z.put(q,UO(O)),await s.done}catch(s){if(s instanceof B.e)x.warn(s.message);else{const O=wO.create("idb-set",{originalErrorMessage:null===s||void 0===s?void 0:s.message});x.warn(O.message)}}}function UO(O){return`${O.name}!${O.options.appId}`}class kO{constructor(O){this.container=O,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this.Qi=new MO(q),this._heartbeatsCachePromise=this.Qi.read().then((O=>(this._heartbeatsCache=O,O)))}async triggerHeartbeat(){const O=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=xO();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==q&&!this._heartbeatsCache.heartbeats.some((O=>O.date===q)))return this._heartbeatsCache.heartbeats.push({date:q,agent:O}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((O=>{const q=new Date(O.date).valueOf();return Date.now()-q<=2592e6})),this.Qi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const O=xO(),{heartbeatsToSend:q,unsentEntries:s}=function(O){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const s=[];let Z=O.slice();for(const D of O){const O=s.find((O=>O.agent===D.agent));if(O){if(O.dates.push(D.date),VO(s)>q){O.dates.pop();break}}else if(s.push({agent:D.agent,dates:[D.date]}),VO(s)>q){s.pop();break}Z=Z.slice(1)}return{heartbeatsToSend:s,unsentEntries:Z}}(this._heartbeatsCache.heartbeats),Z=(0,B.l)(JSON.stringify({version:2,heartbeats:q}));return this._heartbeatsCache.lastSentHeartbeatDate=O,s.length>0?(this._heartbeatsCache.heartbeats=s,await this.Qi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Qi.overwrite(this._heartbeatsCache)),Z}}function xO(){return(new Date).toISOString().substring(0,10)}class MO{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,B.Q)()&&(0,B.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(O){try{const q=await NO();return await q.transaction(gO).objectStore(gO).get(UO(O))}catch(q){if(q instanceof B.e)x.warn(q.message);else{const O=wO.create("idb-get",{originalErrorMessage:null===q||void 0===q?void 0:q.message});x.warn(O.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(O){var q;if(await this._canUseIndexedDBPromise){const s=await this.read();return LO(this.app,{lastSentHeartbeatDate:null!==(q=O.lastSentHeartbeatDate)&&void 0!==q?q:s.lastSentHeartbeatDate,heartbeats:O.heartbeats})}}async add(O){var q;if(await this._canUseIndexedDBPromise){const s=await this.read();return LO(this.app,{lastSentHeartbeatDate:null!==(q=O.lastSentHeartbeatDate)&&void 0!==q?q:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...O.heartbeats]})}}}function VO(O){return(0,B.l)(JSON.stringify({version:2,heartbeats:O})).length}var HO;HO="",DO(new Z.d("platform-logger",(O=>new L(O)),"PRIVATE")),DO(new Z.d("heartbeat",(O=>new kO(O)),"PRIVATE")),cO(U,k,HO),cO(U,k,"esm2017"),cO("fire-js","")},11425:(O,q,s)=>{s.d(q,{b:()=>y,d:()=>D});var Z=s(11432);class D{constructor(O,q,s){this.name=O,this.instanceFactory=q,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(O){return this.instantiationMode=O,this}setMultipleInstances(O){return this.multipleInstances=O,this}setServiceProps(O){return this.serviceProps=O,this}setInstanceCreatedCallback(O){return this.onInstanceCreated=O,this}}const B="[DEFAULT]";class P{constructor(O,q){this.name=O,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(O){const q=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(q)){const O=new Z.b;if(this.instancesDeferred.set(q,O),this.isInitialized(q)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:q});s&&O.resolve(s)}catch(s){}}return this.instancesDeferred.get(q).promise}getImmediate(O){var q;const s=this.normalizeInstanceIdentifier(null===O||void 0===O?void 0:O.identifier),Z=null!==(q=null===O||void 0===O?void 0:O.optional)&&void 0!==q&&q;if(!this.isInitialized(s)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:s})}catch(D){if(Z)return null;throw D}}getComponent(){return this.component}setComponent(O){if(O.name!==this.name)throw Error(`Mismatching Component ${O.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=O,this.shouldAutoInitialize()){if(function(O){return"EAGER"===O.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:B})}catch(q){}for(const[O,s]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(O);try{const O=this.getOrInitializeService({instanceIdentifier:Z});s.resolve(O)}catch(q){}}}}clearInstance(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)}async delete(){const O=Array.from(this.instances.values());await Promise.all([...O.filter((O=>"INTERNAL"in O)).map((O=>O.INTERNAL.delete())),...O.filter((O=>"_delete"in O)).map((O=>O._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(O)}getOptions(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(O)||{}}initialize(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:q={}}=O,s=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:s,options:q});for(const[D,B]of this.instancesDeferred.entries()){s===this.normalizeInstanceIdentifier(D)&&B.resolve(Z)}return Z}xi(O,q){var s;const Z=this.normalizeInstanceIdentifier(q),D=null!==(s=this.onInitCallbacks.get(Z))&&void 0!==s?s:new Set;D.add(O),this.onInitCallbacks.set(Z,D);const B=this.instances.get(Z);return B&&O(B,Z),()=>{D.delete(O)}}invokeOnInitCallbacks(O,q){const s=this.onInitCallbacks.get(q);if(s)for(const D of s)try{D(O,q)}catch(Z){}}getOrInitializeService(O){let{instanceIdentifier:q,options:s={}}=O,Z=this.instances.get(q);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(D=q,D===B?void 0:D),options:s}),this.instances.set(q,Z),this.instancesOptions.set(q,s),this.invokeOnInitCallbacks(Z,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Z)}catch(P){}var D;return Z||null}normalizeInstanceIdentifier(){let O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?O:B:O}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y{constructor(O){this.name=O,this.providers=new Map}uf(O){const q=this.getProvider(O.name);if(q.isComponentSet())throw new Error(`Component ${O.name} has already been registered with ${this.name}`);q.setComponent(O)}addOrOverwriteComponent(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.uf(O)}getProvider(O){if(this.providers.has(O))return this.providers.get(O);const q=new P(O,this);return this.providers.set(O,q),q}getProviders(){return Array.from(this.providers.values())}}},11440:(O,q,s)=>{s.d(q,{b:()=>D,c:()=>w,g:()=>h,i:()=>n});const Z=[];var D;!function(O){O[O.DEBUG=0]="DEBUG",O[O.VERBOSE=1]="VERBOSE",O[O.INFO=2]="INFO",O[O.WARN=3]="WARN",O[O.ERROR=4]="ERROR",O[O.SILENT=5]="SILENT"}(D||(D={}));const B={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},P=D.INFO,y={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},o=function(O,q){if(q<O.logLevel)return;const s=(new Date).toISOString(),Z=y[q];if(!Z)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);for(var D=arguments.length,B=new Array(D>2?D-2:0),P=2;P<D;P++)B[P-2]=arguments[P];console[Z](`[${s}]  ${O.name}:`,...B)};class w{constructor(O){this.name=O,this._logLevel=P,this._logHandler=o,this._userLogHandler=null,Z.push(this)}get logLevel(){return this._logLevel}set logLevel(O){if(!(O in D))throw new TypeError(`Invalid value "${O}" assigned to \`logLevel\``);this._logLevel=O}setLogLevel(O){this._logLevel="string"===typeof O?B[O]:O}get logHandler(){return this._logHandler}set logHandler(O){if("function"!==typeof O)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=O}get userLogHandler(){return this._userLogHandler}set userLogHandler(O){this._userLogHandler=O}debug(){for(var O=arguments.length,q=new Array(O),s=0;s<O;s++)q[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...q),this._logHandler(this,D.DEBUG,...q)}log(){for(var O=arguments.length,q=new Array(O),s=0;s<O;s++)q[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...q),this._logHandler(this,D.VERBOSE,...q)}info(){for(var O=arguments.length,q=new Array(O),s=0;s<O;s++)q[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,D.INFO,...q),this._logHandler(this,D.INFO,...q)}warn(){for(var O=arguments.length,q=new Array(O),s=0;s<O;s++)q[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,D.WARN,...q),this._logHandler(this,D.WARN,...q)}error(){for(var O=arguments.length,q=new Array(O),s=0;s<O;s++)q[s]=arguments[s];this._userLogHandler&&this._userLogHandler(this,D.ERROR,...q),this._logHandler(this,D.ERROR,...q)}}function h(O){Z.forEach((q=>{q.setLogLevel(O)}))}function n(O,q){for(const s of Z){let Z=null;q&&q.level&&(Z=B[q.level]),s.userLogHandler=null===O?null:function(q,s){for(var B=arguments.length,P=new Array(B>2?B-2:0),y=2;y<B;y++)P[y-2]=arguments[y];const o=P.map((O=>{if(null==O)return null;if("string"===typeof O)return O;if("number"===typeof O||"boolean"===typeof O)return O.toString();if(O instanceof Error)return O.message;try{return JSON.stringify(O)}catch(q){return null}})).filter((O=>O)).join(" ");s>=(null!==Z&&void 0!==Z?Z:q.logLevel)&&O({level:D[s].toLowerCase(),message:o,args:P,type:q.name})}}}}}]);