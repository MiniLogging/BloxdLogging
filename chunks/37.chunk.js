/*! For license information please see jpr0cc.37.852613d2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{10813:(a,i,K)=>{K.d(i,{A:()=>m,C:()=>V,F:()=>o,H:()=>f,L:()=>U,O:()=>k,P:()=>u,T:()=>s,V:()=>S,Y:()=>h,Z:()=>p,ab:()=>g,b:()=>q,cb:()=>B,f:()=>R,gb:()=>M,j:()=>z,kb:()=>X,l:()=>G,mb:()=>T,p:()=>e,t:()=>v,w:()=>l,z:()=>w});const j=function(a){const i=[];let K=0;for(let j=0;j<a.length;j++){let N=a.charCodeAt(j);N<128?i[K++]=N:N<2048?(i[K++]=N>>6|192,i[K++]=63&N|128):55296===(64512&N)&&j+1<a.length&&56320===(64512&a.charCodeAt(j+1))?(N=65536+((1023&N)<<10)+(1023&a.charCodeAt(++j)),i[K++]=N>>18|240,i[K++]=N>>12&63|128,i[K++]=N>>6&63|128,i[K++]=63&N|128):(i[K++]=N>>12|224,i[K++]=N>>6&63|128,i[K++]=63&N|128)}return i},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(a,i){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let N=0;N<a.length;N+=3){const i=a[N],E=N+1<a.length,v=E?a[N+1]:0,e=N+2<a.length,Y=e?a[N+2]:0,H=i>>2,f=(3&i)<<4|v>>4;let o=(15&v)<<2|Y>>6,U=63&Y;e||(U=64,E||(o=64)),j.push(K[H],K[f],K[o],K[U])}return j.join("")},encodeString(a,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(a):this.encodeByteArray(j(a),i)},decodeString(a,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(a):function(a){const i=[];let K=0,j=0;for(;K<a.length;){const N=a[K++];if(N<128)i[j++]=String.fromCharCode(N);else if(N>191&&N<224){const E=a[K++];i[j++]=String.fromCharCode((31&N)<<6|63&E)}else if(N>239&&N<365){const E=((7&N)<<18|(63&a[K++])<<12|(63&a[K++])<<6|63&a[K++])-65536;i[j++]=String.fromCharCode(55296+(E>>10)),i[j++]=String.fromCharCode(56320+(1023&E))}else{const E=a[K++],v=a[K++];i[j++]=String.fromCharCode((15&N)<<12|(63&E)<<6|63&v)}}return i.join("")}(this.decodeStringToByteArray(a,i))},decodeStringToByteArray(a,i){this.init_();const K=i?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let N=0;N<a.length;){const i=K[a.charAt(N++)],v=N<a.length?K[a.charAt(N)]:0;++N;const e=N<a.length?K[a.charAt(N)]:64;++N;const Y=N<a.length?K[a.charAt(N)]:64;if(++N,null==i||null==v||null==e||null==Y)throw new E;const H=i<<2|v>>4;if(j.push(H),64!==e){const a=v<<4&240|e>>2;if(j.push(a),64!==Y){const a=e<<6&192|Y;j.push(a)}}}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v=function(a){return function(a){const i=j(a);return N.encodeByteArray(i,!0)}(a).replace(/\./g,"")},e=function(a){try{return N.decodeString(a,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};const Y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof K.g)return K.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,H=()=>{try{return Y()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(K){return}const i=a&&e(a[1]);return i&&JSON.parse(i)})()}catch(a){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`)}},f=a=>{var i,K;return null===(K=null===(i=H())||void 0===i?void 0:i.emulatorHosts)||void 0===K?void 0:K[a]},o=()=>{var a;return null===(a=H())||void 0===a?void 0:a.config},U=a=>{var i;return null===(i=H())||void 0===i?void 0:i[`_${a}`]};class q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((a,i)=>{this.resolve=a,this.reject=i}))}wrapCallback(a){return(i,K)=>{i?this.reject(i):this.resolve(K),"function"===typeof a&&(this.promise.catch((()=>{})),1===a.length?a(i):a(i,K))}}}function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function s(){const a="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof a&&void 0!==a.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){const a=u();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function p(){try{return"object"===typeof indexedDB}catch(a){return!1}}function T(){return new Promise(((a,i)=>{try{let K=!0;const j="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(j);N.onsuccess=()=>{N.result.close(),K||self.indexedDB.deleteDatabase(j),a(!0)},N.onupgradeneeded=()=>{K=!1},N.onerror=()=>{var a;i((null===(a=N.error)||void 0===a?void 0:a.message)||"")}}catch(K){i(K)}}))}function G(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class z extends Error{constructor(a,i,K){super(i),this.code=a,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(a,i,K){this.service=a,this.serviceName=i,this.errors=K}create(a){const i=(arguments.length<=1?void 0:arguments[1])||{},K=`${this.service}/${a}`,j=this.errors[a],N=j?function(a,i){return a.replace(P,((a,K)=>{const j=i[K];return null!=j?String(j):`<${K}?>`}))}(j,i):"Error",E=`${this.serviceName}: ${N} (${K}).`;return new z(K,E,i)}}const P=/\{\$([^}]+)}/g;function S(a){for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i))return!1;return!0}function m(a,i){if(a===i)return!0;const K=Object.keys(a),j=Object.keys(i);for(const N of K){if(!j.includes(N))return!1;const K=a[N],E=i[N];if(d(K)&&d(E)){if(!m(K,E))return!1}else if(K!==E)return!1}for(const N of j)if(!K.includes(N))return!1;return!0}function d(a){return null!==a&&"object"===typeof a}function X(a){const i=[];for(const[K,j]of Object.entries(a))Array.isArray(j)?j.forEach((a=>{i.push(encodeURIComponent(K)+"="+encodeURIComponent(a))})):i.push(encodeURIComponent(K)+"="+encodeURIComponent(j));return i.length?"&"+i.join("&"):""}function M(a){const i={};return a.replace(/^\?/,"").split("&").forEach((a=>{if(a){const[K,j]=a.split("=");i[decodeURIComponent(K)]=decodeURIComponent(j)}})),i}function V(a){const i=a.indexOf("?");if(!i)return"";const K=a.indexOf("#",i);return a.substring(i,K>0?K:void 0)}function w(a,i){const K=new y(a,i);return K.subscribe.bind(K)}class y{constructor(a,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then((()=>{a(this)})).catch((a=>{this.error(a)}))}next(a){this.forEachObserver((i=>{i.next(a)}))}error(a){this.forEachObserver((i=>{i.error(a)})),this.close(a)}complete(){this.forEachObserver((a=>{a.complete()})),this.close()}subscribe(a,i,K){let j;if(void 0===a&&void 0===i&&void 0===K)throw new Error("Missing Observer.");j=function(a,i){if("object"!==typeof a||null===a)return!1;for(const K of i)if(K in a&&"function"===typeof a[K])return!0;return!1}(a,["next","error","complete"])?a:{next:a,error:i,complete:K},void 0===j.next&&(j.next=O),void 0===j.error&&(j.error=O),void 0===j.complete&&(j.complete=O);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(a){}})),this.observers.push(j),N}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,a)}sendOne(a,i){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{i(this.observers[a])}catch(K){"undefined"!==typeof console&&console.error&&console.error(K)}}))}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function O(){}const c=1e3,x=2,r=144e5,J=.5;function l(a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const K=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)*Math.pow(i,a),j=Math.round(J*K*(Math.random()-.5)*2);return Math.min(r,K+j)}function k(a){return a&&a._delegate?a._delegate:a}},10802:(a,i,K)=>{K.d(i,{b:()=>E.j,d:()=>oa,g:()=>L,k:()=>Ka,o:()=>ja,s:()=>aa,u:()=>ea,y:()=>ia,A:()=>Ea,C:()=>Na,E:()=>va,I:()=>ga,N:()=>qa,L:()=>ua,Q:()=>Ua,T:()=>Ba,W:()=>sa,Y:()=>ha});var j=K(10808),N=K(10816),E=K(10813);let v,e;const Y=new WeakMap,H=new WeakMap,f=new WeakMap,o=new WeakMap,U=new WeakMap;let q={get(a,i,K){if(a instanceof IDBTransaction){if("done"===i)return H.get(a);if("objectStoreNames"===i)return a.objectStoreNames||f.get(a);if("store"===i)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return s(a[i])},set:(a,i,K)=>(a[i]=K,!0),has:(a,i)=>a instanceof IDBTransaction&&("done"===i||"store"===i)||i in a};function u(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(e||(e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(a)?function(){for(var i=arguments.length,K=new Array(i),j=0;j<i;j++)K[j]=arguments[j];return a.apply(B(this),K),s(Y.get(this))}:function(){for(var i=arguments.length,K=new Array(i),j=0;j<i;j++)K[j]=arguments[j];return s(a.apply(B(this),K))}:function(i){for(var K=arguments.length,j=new Array(K>1?K-1:0),N=1;N<K;N++)j[N-1]=arguments[N];const E=a.call(B(this),i,...j);return f.set(E,i.sort?i.sort():[i]),s(E)}}function g(a){return"function"===typeof a?u(a):(a instanceof IDBTransaction&&function(a){if(H.has(a))return;const i=new Promise(((i,K)=>{const j=()=>{a.removeEventListener("complete",N),a.removeEventListener("error",E),a.removeEventListener("abort",E)},N=()=>{i(),j()},E=()=>{K(a.error||new DOMException("AbortError","AbortError")),j()};a.addEventListener("complete",N),a.addEventListener("error",E),a.addEventListener("abort",E)}));H.set(a,i)}(a),i=a,(v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((a=>i instanceof a))?new Proxy(a,q):a);var i}function s(a){if(a instanceof IDBRequest)return function(a){const i=new Promise(((i,K)=>{const j=()=>{a.removeEventListener("success",N),a.removeEventListener("error",E)},N=()=>{i(s(a.result)),j()},E=()=>{K(a.error),j()};a.addEventListener("success",N),a.addEventListener("error",E)}));return i.then((i=>{i instanceof IDBCursor&&Y.set(i,a)})).catch((()=>{})),U.set(i,a),i}(a);if(o.has(a))return o.get(a);const i=g(a);return i!==a&&(o.set(a,i),U.set(i,a)),i}const B=a=>U.get(a);const h=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],T=new Map;function G(a,i){if(!(a instanceof IDBDatabase)||i in a||"string"!==typeof i)return;if(T.get(i))return T.get(i);const K=i.replace(/FromIndex$/,""),j=i!==K,N=p.includes(K);if(!(K in(j?IDBIndex:IDBObjectStore).prototype)||!N&&!h.includes(K))return;const E=async function(a){const i=this.transaction(a,N?"readwrite":"readonly");let E=i.store;for(var v=arguments.length,e=new Array(v>1?v-1:0),Y=1;Y<v;Y++)e[Y-1]=arguments[Y];return j&&(E=E.index(e.shift())),(await Promise.all([E[K](...e),N&&i.done]))[0]};return T.set(i,E),E}q=(a=>({...a,get:(i,K,j)=>G(i,K)||a.get(i,K,j),has:(i,K)=>!!G(i,K)||a.has(i,K)}))(q);class z{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map((a=>{if(function(a){const i=a.getComponent();return"VERSION"===(null===i||void 0===i?void 0:i.type)}(a)){const i=a.getImmediate();return`${i.library}/${i.version}`}return null})).filter((a=>a)).join(" ")}}const R="@firebase/app",P="0.9.13",S=new N.g("@firebase/app"),m="@firebase/app-compat",d="@firebase/analytics-compat",X="@firebase/analytics",M="@firebase/app-check-compat",V="@firebase/app-check",w="@firebase/auth",y="@firebase/auth-compat",O="@firebase/database",c="@firebase/database-compat",x="@firebase/functions",r="@firebase/functions-compat",J="@firebase/installations",l="@firebase/installations-compat",k="@firebase/messaging",W="@firebase/messaging-compat",I="@firebase/performance",C="@firebase/performance-compat",Q="@firebase/remote-config",b="@firebase/remote-config-compat",Z="@firebase/storage",D="@firebase/storage-compat",t="@firebase/firestore",n="@firebase/firestore-compat",F="firebase",L="[DEFAULT]",A={[R]:"fire-core",[m]:"fire-core-compat",[X]:"fire-analytics",[d]:"fire-analytics-compat",[V]:"fire-app-check",[M]:"fire-app-check-compat",[w]:"fire-auth",[y]:"fire-auth-compat",[O]:"fire-rtdb",[c]:"fire-rtdb-compat",[x]:"fire-fn",[r]:"fire-fn-compat",[J]:"fire-iid",[l]:"fire-iid-compat",[k]:"fire-fcm",[W]:"fire-fcm-compat",[I]:"fire-perf",[C]:"fire-perf-compat",[Q]:"fire-rc",[b]:"fire-rc-compat",[Z]:"fire-gcs",[D]:"fire-gcs-compat",[t]:"fire-fst",[n]:"fire-fst-compat","fire-js":"fire-js",[F]:"fire-js-all"},aa=new Map,ia=new Map;function Ka(a,i){try{a.container.Af(i)}catch(K){S.debug(`Component ${i.name} failed to register with FirebaseApp ${a.name}`,K)}}function ja(a,i){a.container.addOrOverwriteComponent(i)}function Na(a){const i=a.name;if(ia.has(i))return S.debug(`There were multiple attempts to register component ${i}.`),!1;ia.set(i,a);for(const K of aa.values())Ka(K,a);return!0}function Ea(a,i){const K=a.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),a.container.getProvider(i)}function va(a,i){let K=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;Ea(a,i).clearInstance(K)}function ea(){ia.clear()}const Ya={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ha=new E.f("app","Firebase",Ya);class fa{constructor(a,i,K){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=K,this.container.Af(new j.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}const oa="9.23.0";function Ua(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},K=a;if("object"!==typeof i){i={name:i}}const N=Object.assign({name:L,automaticDataCollectionEnabled:!1},i),v=N.name;if("string"!==typeof v||!v)throw Ha.create("bad-app-name",{appName:String(v)});if(K||(K=(0,E.F)()),!K)throw Ha.create("no-options");const e=aa.get(v);if(e){if((0,E.A)(K,e.options)&&(0,E.A)(N,e.config))return e;throw Ha.create("duplicate-app",{appName:v})}const Y=new j.c(v);for(const j of ia.values())Y.Af(j);const H=new fa(K,N,Y);return aa.set(v,H),H}function qa(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;const i=aa.get(a);if(!i&&a===L&&(0,E.F)())return Ua();if(!i)throw Ha.create("no-app",{appName:a});return i}function ua(){return Array.from(aa.values())}async function ga(a){const i=a.name;aa.has(i)&&(aa.delete(i),await Promise.all(a.container.getProviders().map((a=>a.delete()))),a.isDeleted=!0)}function sa(a,i,K){var N;let E=null!==(N=A[a])&&void 0!==N?N:a;K&&(E+=`-${K}`);const v=E.match(/\s|\//),e=i.match(/\s|\//);if(v||e){const a=[`Unable to register library "${E}" with version "${i}":`];return v&&a.push(`library name "${E}" contains illegal characters (whitespace or "/")`),v&&e&&a.push("and"),e&&a.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void S.warn(a.join(" "))}Na(new j.d(`${E}-version`,(()=>({library:E,version:i})),"VERSION"))}function Ba(a,i){if(null!==a&&"function"!==typeof a)throw Ha.create("invalid-log-argument");(0,N.l)(a,i)}function ha(a){(0,N.i)(a)}const pa="firebase-heartbeat-store";let Ta=null;function Ga(){return Ta||(Ta=function(a,i){let{blocked:K,upgrade:j,blocking:N,terminated:E}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const v=indexedDB.open(a,i),e=s(v);return j&&v.addEventListener("upgradeneeded",(a=>{j(s(v.result),a.oldVersion,a.newVersion,s(v.transaction),a)})),K&&v.addEventListener("blocked",(a=>K(a.oldVersion,a.newVersion,a))),e.then((a=>{E&&a.addEventListener("close",(()=>E())),N&&a.addEventListener("versionchange",(a=>N(a.oldVersion,a.newVersion,a)))})).catch((()=>{})),e}("firebase-heartbeat-database",1,{upgrade:(a,i)=>{if(0===i)a.createObjectStore(pa)}}).catch((a=>{throw Ha.create("idb-open",{originalErrorMessage:a.message})}))),Ta}async function za(a,i){try{const K=(await Ga()).transaction(pa,"readwrite"),j=K.objectStore(pa);await j.put(i,Ra(a)),await K.done}catch(K){if(K instanceof E.j)S.warn(K.message);else{const a=Ha.create("idb-set",{originalErrorMessage:null===K||void 0===K?void 0:K.message});S.warn(a.message)}}}function Ra(a){return`${a.name}!${a.options.appId}`}class Pa{constructor(a){this.container=a,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this.Ni=new ma(i),this._heartbeatsCachePromise=this.Ni.read().then((a=>(this._heartbeatsCache=a,a)))}async triggerHeartbeat(){const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sa();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((a=>{const i=new Date(a.date).valueOf();return Date.now()-i<=2592e6})),this.Ni.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const a=Sa(),{heartbeatsToSend:i,unsentEntries:K}=function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const K=[];let j=a.slice();for(const N of a){const a=K.find((a=>a.agent===N.agent));if(a){if(a.dates.push(N.date),da(K)>i){a.dates.pop();break}}else if(K.push({agent:N.agent,dates:[N.date]}),da(K)>i){K.pop();break}j=j.slice(1)}return{heartbeatsToSend:K,unsentEntries:j}}(this._heartbeatsCache.heartbeats),j=(0,E.t)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=a,K.length>0?(this._heartbeatsCache.heartbeats=K,await this.Ni.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ni.overwrite(this._heartbeatsCache)),j}}function Sa(){return(new Date).toISOString().substring(0,10)}class ma{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,E.Z)()&&(0,E.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(a){try{const i=await Ga();return await i.transaction(pa).objectStore(pa).get(Ra(a))}catch(i){if(i instanceof E.j)S.warn(i.message);else{const a=Ha.create("idb-get",{originalErrorMessage:null===i||void 0===i?void 0:i.message});S.warn(a.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(a){var i;if(await this._canUseIndexedDBPromise){const K=await this.read();return za(this.app,{lastSentHeartbeatDate:null!==(i=a.lastSentHeartbeatDate)&&void 0!==i?i:K.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){var i;if(await this._canUseIndexedDBPromise){const K=await this.read();return za(this.app,{lastSentHeartbeatDate:null!==(i=a.lastSentHeartbeatDate)&&void 0!==i?i:K.lastSentHeartbeatDate,heartbeats:[...K.heartbeats,...a.heartbeats]})}}}function da(a){return(0,E.t)(JSON.stringify({version:2,heartbeats:a})).length}var Xa;Xa="",Na(new j.d("platform-logger",(a=>new z(a)),"PRIVATE")),Na(new j.d("heartbeat",(a=>new Pa(a)),"PRIVATE")),sa(R,P,Xa),sa(R,P,"esm2017"),sa("fire-js","")},10808:(a,i,K)=>{K.d(i,{c:()=>e,d:()=>N});var j=K(10813);class N{constructor(a,i,K){this.name=a,this.instanceFactory=i,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}const E="[DEFAULT]";class v{constructor(a,i){this.name=a,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const i=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(i)){const a=new j.b;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const K=this.getOrInitializeService({instanceIdentifier:i});K&&a.resolve(K)}catch(K){}}return this.instancesDeferred.get(i).promise}getImmediate(a){var i;const K=this.normalizeInstanceIdentifier(null===a||void 0===a?void 0:a.identifier),j=null!==(i=null===a||void 0===a?void 0:a.optional)&&void 0!==i&&i;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(N){if(j)return null;throw N}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(function(a){return"EAGER"===a.instantiationMode}(a))try{this.getOrInitializeService({instanceIdentifier:E})}catch(i){}for(const[a,K]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(a);try{const a=this.getOrInitializeService({instanceIdentifier:j});K.resolve(a)}catch(i){}}}}clearInstance(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter((a=>"INTERNAL"in a)).map((a=>a.INTERNAL.delete())),...a.filter((a=>"_delete"in a)).map((a=>a._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instances.has(a)}getOptions(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.instancesOptions.get(a)||{}}initialize(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:i={}}=a,K=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:K,options:i});for(const[N,E]of this.instancesDeferred.entries()){K===this.normalizeInstanceIdentifier(N)&&E.resolve(j)}return j}ti(a,i){var K;const j=this.normalizeInstanceIdentifier(i),N=null!==(K=this.onInitCallbacks.get(j))&&void 0!==K?K:new Set;N.add(a),this.onInitCallbacks.set(j,N);const E=this.instances.get(j);return E&&a(E,j),()=>{N.delete(a)}}invokeOnInitCallbacks(a,i){const K=this.onInitCallbacks.get(i);if(K)for(const N of K)try{N(a,i)}catch(j){}}getOrInitializeService(a){let{instanceIdentifier:i,options:K={}}=a,j=this.instances.get(i);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(N=i,N===E?void 0:N),options:K}),this.instances.set(i,j),this.instancesOptions.set(i,K),this.invokeOnInitCallbacks(j,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,j)}catch(v){}var N;return j||null}normalizeInstanceIdentifier(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return this.component?this.component.multipleInstances?a:E:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e{constructor(a){this.name=a,this.providers=new Map}Af(a){const i=this.getProvider(a.name);if(i.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);i.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.Af(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const i=new v(a,this);return this.providers.set(a,i),i}getProviders(){return Array.from(this.providers.values())}}},10816:(a,i,K)=>{K.d(i,{c:()=>N,g:()=>H,i:()=>f,l:()=>o});const j=[];var N;!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(N||(N={}));const E={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},v=N.INFO,e={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},Y=function(a,i){if(i<a.logLevel)return;const K=(new Date).toISOString(),j=e[i];if(!j)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);for(var N=arguments.length,E=new Array(N>2?N-2:0),v=2;v<N;v++)E[v-2]=arguments[v];console[j](`[${K}]  ${a.name}:`,...E)};class H{constructor(a){this.name=a,this._logLevel=v,this._logHandler=Y,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in N))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"===typeof a?E[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!==typeof a)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(){for(var a=arguments.length,i=new Array(a),K=0;K<a;K++)i[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...i),this._logHandler(this,N.DEBUG,...i)}log(){for(var a=arguments.length,i=new Array(a),K=0;K<a;K++)i[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...i),this._logHandler(this,N.VERBOSE,...i)}info(){for(var a=arguments.length,i=new Array(a),K=0;K<a;K++)i[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,N.INFO,...i),this._logHandler(this,N.INFO,...i)}warn(){for(var a=arguments.length,i=new Array(a),K=0;K<a;K++)i[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,N.WARN,...i),this._logHandler(this,N.WARN,...i)}error(){for(var a=arguments.length,i=new Array(a),K=0;K<a;K++)i[K]=arguments[K];this._userLogHandler&&this._userLogHandler(this,N.ERROR,...i),this._logHandler(this,N.ERROR,...i)}}function f(a){j.forEach((i=>{i.setLogLevel(a)}))}function o(a,i){for(const K of j){let j=null;i&&i.level&&(j=E[i.level]),K.userLogHandler=null===a?null:function(i,K){for(var E=arguments.length,v=new Array(E>2?E-2:0),e=2;e<E;e++)v[e-2]=arguments[e];const Y=v.map((a=>{if(null==a)return null;if("string"===typeof a)return a;if("number"===typeof a||"boolean"===typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(i){return null}})).filter((a=>a)).join(" ");K>=(null!==j&&void 0!==j?j:i.logLevel)&&a({level:N[K].toLowerCase(),message:Y,args:v,type:i.name})}}}}}]);