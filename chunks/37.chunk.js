/*! For license information please see dz0gws.37.b7f2367c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{10971:(q,X,Q)=>{Q.d(X,{B:()=>L,C:()=>R,G:()=>f,K:()=>p,N:()=>j,P:()=>d,R:()=>Z,S:()=>i,T:()=>A,W:()=>I,_:()=>e,b:()=>k,cb:()=>P,f:()=>W,gb:()=>g,j:()=>V,jb:()=>B,m:()=>w,n:()=>b,q:()=>H,r:()=>c,s:()=>l,w:()=>U,z:()=>F});const y=function(q){const X=[];let Q=0;for(let y=0;y<q.length;y++){let x=q.charCodeAt(y);x<128?X[Q++]=x:x<2048?(X[Q++]=x>>6|192,X[Q++]=63&x|128):55296===(64512&x)&&y+1<q.length&&56320===(64512&q.charCodeAt(y+1))?(x=65536+((1023&x)<<10)+(1023&q.charCodeAt(++y)),X[Q++]=x>>18|240,X[Q++]=x>>12&63|128,X[Q++]=x>>6&63|128,X[Q++]=63&x|128):(X[Q++]=x>>12|224,X[Q++]=x>>6&63|128,X[Q++]=63&x|128)}return X},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(q,X){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,y=[];for(let x=0;x<q.length;x+=3){const X=q[x],u=x+1<q.length,H=u?q[x+1]:0,b=x+2<q.length,D=b?q[x+2]:0,a=X>>2,R=(3&X)<<4|H>>4;let L=(15&H)<<2|D>>6,f=63&D;b||(f=64,u||(L=64)),y.push(Q[a],Q[R],Q[L],Q[f])}return y.join("")},encodeString(q,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(q):this.encodeByteArray(y(q),X)},decodeString(q,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(q):function(q){const X=[];let Q=0,y=0;for(;Q<q.length;){const x=q[Q++];if(x<128)X[y++]=String.fromCharCode(x);else if(x>191&&x<224){const u=q[Q++];X[y++]=String.fromCharCode((31&x)<<6|63&u)}else if(x>239&&x<365){const u=((7&x)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;X[y++]=String.fromCharCode(55296+(u>>10)),X[y++]=String.fromCharCode(56320+(1023&u))}else{const u=q[Q++],H=q[Q++];X[y++]=String.fromCharCode((15&x)<<12|(63&u)<<6|63&H)}}return X.join("")}(this.decodeStringToByteArray(q,X))},decodeStringToByteArray(q,X){this.init_();const Q=X?this.charToByteMapWebSafe_:this.charToByteMap_,y=[];for(let x=0;x<q.length;){const X=Q[q.charAt(x++)],H=x<q.length?Q[q.charAt(x)]:0;++x;const b=x<q.length?Q[q.charAt(x)]:64;++x;const D=x<q.length?Q[q.charAt(x)]:64;if(++x,null==X||null==H||null==b||null==D)throw new u;const a=X<<2|H>>4;if(y.push(a),64!==b){const q=H<<4&240|b>>2;if(y.push(q),64!==D){const q=b<<6&192|D;y.push(q)}}}return y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H=function(q){return function(q){const X=y(q);return x.encodeByteArray(X,!0)}(q).replace(/\./g,"")},b=function(q){try{return x.decodeString(q,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};const D=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,a=()=>{try{return D()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const X=q&&b(q[1]);return X&&JSON.parse(X)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},R=q=>{var X,Q;return null===(Q=null===(X=a())||void 0===X?void 0:X.emulatorHosts)||void 0===Q?void 0:Q[q]},L=()=>{var q;return null===(q=a())||void 0===q?void 0:q.config},f=q=>{var X;return null===(X=a())||void 0===X?void 0:X[`_${q}`]};class k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((q,X)=>{this.resolve=q,this.reject=X}))}wrapCallback(q){return(X,Q)=>{X?this.reject(X):this.resolve(Q),"function"===typeof q&&(this.promise.catch((()=>{})),1===q.length?q(X):q(X,Q))}}}function j(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function I(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j())}function d(){const q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof q&&void 0!==q.id}function e(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function i(){const q=j();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function A(){try{return"object"===typeof indexedDB}catch(q){return!1}}function B(){return new Promise(((q,X)=>{try{let Q=!0;const y="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(y);x.onsuccess=()=>{x.result.close(),Q||self.indexedDB.deleteDatabase(y),q(!0)},x.onupgradeneeded=()=>{Q=!1},x.onerror=()=>{var q;X((null===(q=x.error)||void 0===q?void 0:q.message)||"")}}catch(Q){X(Q)}}))}function w(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class V extends Error{constructor(q,X,Q){super(X),this.code=q,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W.prototype.create)}}class W{constructor(q,X,Q){this.service=q,this.serviceName=X,this.errors=Q}create(q){const X=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${q}`,y=this.errors[q],x=y?function(q,X){return q.replace(v,((q,Q)=>{const y=X[Q];return null!=y?String(y):`<${Q}?>`}))}(y,X):"Error",u=`${this.serviceName}: ${x} (${Q}).`;return new V(Q,u,X)}}const v=/\{\$([^}]+)}/g;function Z(q){for(const X in q)if(Object.prototype.hasOwnProperty.call(q,X))return!1;return!0}function U(q,X){if(q===X)return!0;const Q=Object.keys(q),y=Object.keys(X);for(const x of Q){if(!y.includes(x))return!1;const Q=q[x],u=X[x];if(O(Q)&&O(u)){if(!U(Q,u))return!1}else if(Q!==u)return!1}for(const x of y)if(!Q.includes(x))return!1;return!0}function O(q){return null!==q&&"object"===typeof q}function g(q){const X=[];for(const[Q,y]of Object.entries(q))Array.isArray(y)?y.forEach((q=>{X.push(encodeURIComponent(Q)+"="+encodeURIComponent(q))})):X.push(encodeURIComponent(Q)+"="+encodeURIComponent(y));return X.length?"&"+X.join("&"):""}function P(q){const X={};return q.replace(/^\?/,"").split("&").forEach((q=>{if(q){const[Q,y]=q.split("=");X[decodeURIComponent(Q)]=decodeURIComponent(y)}})),X}function F(q){const X=q.indexOf("?");if(!X)return"";const Q=q.indexOf("#",X);return q.substring(X,Q>0?Q:void 0)}function l(q,X){const Q=new m(q,X);return Q.subscribe.bind(Q)}class m{constructor(q,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then((()=>{q(this)})).catch((q=>{this.error(q)}))}next(q){this.forEachObserver((X=>{X.next(q)}))}error(q){this.forEachObserver((X=>{X.error(q)})),this.close(q)}complete(){this.forEachObserver((q=>{q.complete()})),this.close()}subscribe(q,X,Q){let y;if(void 0===q&&void 0===X&&void 0===Q)throw new Error("Missing Observer.");y=function(q,X){if("object"!==typeof q||null===q)return!1;for(const Q of X)if(Q in q&&"function"===typeof q[Q])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:X,complete:Q},void 0===y.next&&(y.next=M),void 0===y.error&&(y.error=M),void 0===y.complete&&(y.complete=M);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?y.error(this.finalError):y.complete()}catch(q){}})),this.observers.push(y),x}unsubscribeOne(q){void 0!==this.observers&&void 0!==this.observers[q]&&(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,q)}sendOne(q,X){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{X(this.observers[q])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function M(){}const o=1e3,Y=2,N=144e5,S=.5;function c(q){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)*Math.pow(X,q),y=Math.round(S*Q*(Math.random()-.5)*2);return Math.min(N,Q+y)}function p(q){return q&&q._delegate?q._delegate:q}},10959:(q,X,Q)=>{Q.d(X,{c:()=>u.j,d:()=>Lq,e:()=>s,i:()=>Qq,m:()=>yq,n:()=>qq,q:()=>bq,r:()=>Xq,t:()=>uq,u:()=>xq,x:()=>Hq,A:()=>Iq,F:()=>kq,B:()=>jq,I:()=>fq,L:()=>eq,N:()=>dq,P:()=>iq});var y=Q(10965),x=Q(10976),u=Q(10971);let H,b;const D=new WeakMap,a=new WeakMap,R=new WeakMap,L=new WeakMap,f=new WeakMap;let k={get(q,X,Q){if(q instanceof IDBTransaction){if("done"===X)return a.get(q);if("objectStoreNames"===X)return q.objectStoreNames||R.get(q);if("store"===X)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return d(q[X])},set:(q,X,Q)=>(q[X]=Q,!0),has:(q,X)=>q instanceof IDBTransaction&&("done"===X||"store"===X)||X in q};function j(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(b||(b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(q)?function(){for(var X=arguments.length,Q=new Array(X),y=0;y<X;y++)Q[y]=arguments[y];return q.apply(e(this),Q),d(D.get(this))}:function(){for(var X=arguments.length,Q=new Array(X),y=0;y<X;y++)Q[y]=arguments[y];return d(q.apply(e(this),Q))}:function(X){for(var Q=arguments.length,y=new Array(Q>1?Q-1:0),x=1;x<Q;x++)y[x-1]=arguments[x];const u=q.call(e(this),X,...y);return R.set(u,X.sort?X.sort():[X]),d(u)}}function I(q){return"function"===typeof q?j(q):(q instanceof IDBTransaction&&function(q){if(a.has(q))return;const X=new Promise(((X,Q)=>{const y=()=>{q.removeEventListener("complete",x),q.removeEventListener("error",u),q.removeEventListener("abort",u)},x=()=>{X(),y()},u=()=>{Q(q.error||new DOMException("AbortError","AbortError")),y()};q.addEventListener("complete",x),q.addEventListener("error",u),q.addEventListener("abort",u)}));a.set(q,X)}(q),X=q,(H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((q=>X instanceof q))?new Proxy(q,k):q);var X}function d(q){if(q instanceof IDBRequest)return function(q){const X=new Promise(((X,Q)=>{const y=()=>{q.removeEventListener("success",x),q.removeEventListener("error",u)},x=()=>{X(d(q.result)),y()},u=()=>{Q(q.error),y()};q.addEventListener("success",x),q.addEventListener("error",u)}));return X.then((X=>{X instanceof IDBCursor&&D.set(X,q)})).catch((()=>{})),f.set(X,q),X}(q);if(L.has(q))return L.get(q);const X=I(q);return X!==q&&(L.set(q,X),f.set(X,q)),X}const e=q=>f.get(q);const i=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],B=new Map;function w(q,X){if(!(q instanceof IDBDatabase)||X in q||"string"!==typeof X)return;if(B.get(X))return B.get(X);const Q=X.replace(/FromIndex$/,""),y=X!==Q,x=A.includes(Q);if(!(Q in(y?IDBIndex:IDBObjectStore).prototype)||!x&&!i.includes(Q))return;const u=async function(q){const X=this.transaction(q,x?"readwrite":"readonly");let u=X.store;for(var H=arguments.length,b=new Array(H>1?H-1:0),D=1;D<H;D++)b[D-1]=arguments[D];return y&&(u=u.index(b.shift())),(await Promise.all([u[Q](...b),x&&X.done]))[0]};return B.set(X,u),u}k=(q=>({...q,get:(X,Q,y)=>w(X,Q)||q.get(X,Q,y),has:(X,Q)=>!!w(X,Q)||q.has(X,Q)}))(k);class V{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map((q=>{if(function(q){const X=q.getComponent();return"VERSION"===(null===X||void 0===X?void 0:X.type)}(q)){const X=q.getImmediate();return`${X.library}/${X.version}`}return null})).filter((q=>q)).join(" ")}}const W="@firebase/app",v="0.9.13",Z=new x.e("@firebase/app"),U="@firebase/app-compat",O="@firebase/analytics-compat",g="@firebase/analytics",P="@firebase/app-check-compat",F="@firebase/app-check",l="@firebase/auth",m="@firebase/auth-compat",M="@firebase/database",o="@firebase/database-compat",Y="@firebase/functions",N="@firebase/functions-compat",S="@firebase/installations",c="@firebase/installations-compat",p="@firebase/messaging",t="@firebase/messaging-compat",z="@firebase/performance",K="@firebase/performance-compat",h="@firebase/remote-config",G="@firebase/remote-config-compat",C="@firebase/storage",E="@firebase/storage-compat",J="@firebase/firestore",n="@firebase/firestore-compat",r="firebase",s="[DEFAULT]",T={[W]:"fire-core",[U]:"fire-core-compat",[g]:"fire-analytics",[O]:"fire-analytics-compat",[F]:"fire-app-check",[P]:"fire-app-check-compat",[l]:"fire-auth",[m]:"fire-auth-compat",[M]:"fire-rtdb",[o]:"fire-rtdb-compat",[Y]:"fire-fn",[N]:"fire-fn-compat",[S]:"fire-iid",[c]:"fire-iid-compat",[p]:"fire-fcm",[t]:"fire-fcm-compat",[z]:"fire-perf",[K]:"fire-perf-compat",[h]:"fire-rc",[G]:"fire-rc-compat",[C]:"fire-gcs",[E]:"fire-gcs-compat",[J]:"fire-fst",[n]:"fire-fst-compat","fire-js":"fire-js",[r]:"fire-js-all"},qq=new Map,Xq=new Map;function Qq(q,X){try{q.container.pf(X)}catch(Q){Z.debug(`Component ${X.name} failed to register with FirebaseApp ${q.name}`,Q)}}function yq(q,X){q.container.addOrOverwriteComponent(X)}function xq(q){const X=q.name;if(Xq.has(X))return Z.debug(`There were multiple attempts to register component ${X}.`),!1;Xq.set(X,q);for(const Q of qq.values())Qq(Q,q);return!0}function uq(q,X){const Q=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),q.container.getProvider(X)}function Hq(q,X){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;uq(q,X).clearInstance(Q)}function bq(){Xq.clear()}const Dq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},aq=new u.f("app","Firebase",Dq);class Rq{constructor(q,X,Q){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},X),this._name=X.name,this._automaticDataCollectionEnabled=X.automaticDataCollectionEnabled,this._container=Q,this.container.pf(new y.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw aq.create("app-deleted",{appName:this._name})}}const Lq="9.23.0";function fq(q){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=q;if("object"!==typeof X){X={name:X}}const x=Object.assign({name:s,automaticDataCollectionEnabled:!1},X),H=x.name;if("string"!==typeof H||!H)throw aq.create("bad-app-name",{appName:String(H)});if(Q||(Q=(0,u.B)()),!Q)throw aq.create("no-options");const b=qq.get(H);if(b){if((0,u.w)(Q,b.options)&&(0,u.w)(x,b.config))return b;throw aq.create("duplicate-app",{appName:H})}const D=new y.c(H);for(const y of Xq.values())D.pf(y);const a=new Rq(Q,x,D);return qq.set(H,a),a}function kq(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;const X=qq.get(q);if(!X&&q===s&&(0,u.B)())return fq();if(!X)throw aq.create("no-app",{appName:q});return X}function jq(){return Array.from(qq.values())}async function Iq(q){const X=q.name;qq.has(X)&&(qq.delete(X),await Promise.all(q.container.getProviders().map((q=>q.delete()))),q.isDeleted=!0)}function dq(q,X,Q){var x;let u=null!==(x=T[q])&&void 0!==x?x:q;Q&&(u+=`-${Q}`);const H=u.match(/\s|\//),b=X.match(/\s|\//);if(H||b){const q=[`Unable to register library "${u}" with version "${X}":`];return H&&q.push(`library name "${u}" contains illegal characters (whitespace or "/")`),H&&b&&q.push("and"),b&&q.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Z.warn(q.join(" "))}xq(new y.g(`${u}-version`,(()=>({library:u,version:X})),"VERSION"))}function eq(q,X){if(null!==q&&"function"!==typeof q)throw aq.create("invalid-log-argument");(0,x.l)(q,X)}function iq(q){(0,x.h)(q)}const Aq="firebase-heartbeat-store";let Bq=null;function wq(){return Bq||(Bq=function(q,X){let{blocked:Q,upgrade:y,blocking:x,terminated:u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const H=indexedDB.open(q,X),b=d(H);return y&&H.addEventListener("upgradeneeded",(q=>{y(d(H.result),q.oldVersion,q.newVersion,d(H.transaction),q)})),Q&&H.addEventListener("blocked",(q=>Q(q.oldVersion,q.newVersion,q))),b.then((q=>{u&&q.addEventListener("close",(()=>u())),x&&q.addEventListener("versionchange",(q=>x(q.oldVersion,q.newVersion,q)))})).catch((()=>{})),b}("firebase-heartbeat-database",1,{upgrade:(q,X)=>{if(0===X)q.createObjectStore(Aq)}}).catch((q=>{throw aq.create("idb-open",{originalErrorMessage:q.message})}))),Bq}async function Vq(q,X){try{const Q=(await wq()).transaction(Aq,"readwrite"),y=Q.objectStore(Aq);await y.put(X,Wq(q)),await Q.done}catch(Q){if(Q instanceof u.j)Z.warn(Q.message);else{const q=aq.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});Z.warn(q.message)}}}function Wq(q){return`${q.name}!${q.options.appId}`}class vq{constructor(q){this.container=q,this._heartbeatsCache=null;const X=this.container.getProvider("app").getImmediate();this.Li=new Uq(X),this._heartbeatsCachePromise=this.Li.read().then((q=>(this._heartbeatsCache=q,q)))}async triggerHeartbeat(){const q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),X=Zq();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==X&&!this._heartbeatsCache.heartbeats.some((q=>q.date===X)))return this._heartbeatsCache.heartbeats.push({date:X,agent:q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((q=>{const X=new Date(q.date).valueOf();return Date.now()-X<=2592e6})),this.Li.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const q=Zq(),{heartbeatsToSend:X,unsentEntries:Q}=function(q){let X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let y=q.slice();for(const x of q){const q=Q.find((q=>q.agent===x.agent));if(q){if(q.dates.push(x.date),Oq(Q)>X){q.dates.pop();break}}else if(Q.push({agent:x.agent,dates:[x.date]}),Oq(Q)>X){Q.pop();break}y=y.slice(1)}return{heartbeatsToSend:Q,unsentEntries:y}}(this._heartbeatsCache.heartbeats),y=(0,u.q)(JSON.stringify({version:2,heartbeats:X}));return this._heartbeatsCache.lastSentHeartbeatDate=q,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.Li.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Li.overwrite(this._heartbeatsCache)),y}}function Zq(){return(new Date).toISOString().substring(0,10)}class Uq{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,u.T)()&&(0,u.jb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(q){try{const X=await wq();return await X.transaction(Aq).objectStore(Aq).get(Wq(q))}catch(X){if(X instanceof u.j)Z.warn(X.message);else{const q=aq.create("idb-get",{originalErrorMessage:null===X||void 0===X?void 0:X.message});Z.warn(q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(q){var X;if(await this._canUseIndexedDBPromise){const Q=await this.read();return Vq(this.app,{lastSentHeartbeatDate:null!==(X=q.lastSentHeartbeatDate)&&void 0!==X?X:Q.lastSentHeartbeatDate,heartbeats:q.heartbeats})}}async add(q){var X;if(await this._canUseIndexedDBPromise){const Q=await this.read();return Vq(this.app,{lastSentHeartbeatDate:null!==(X=q.lastSentHeartbeatDate)&&void 0!==X?X:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...q.heartbeats]})}}}function Oq(q){return(0,u.q)(JSON.stringify({version:2,heartbeats:q})).length}var gq;gq="",xq(new y.g("platform-logger",(q=>new V(q)),"PRIVATE")),xq(new y.g("heartbeat",(q=>new vq(q)),"PRIVATE")),dq(W,v,gq),dq(W,v,"esm2017"),dq("fire-js","")},10965:(q,X,Q)=>{Q.d(X,{c:()=>b,g:()=>x});var y=Q(10971);class x{constructor(q,X,Q){this.name=q,this.instanceFactory=X,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const u="[DEFAULT]";class H{constructor(q,X){this.name=q,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const X=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(X)){const q=new y.b;if(this.instancesDeferred.set(X,q),this.isInitialized(X)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:X});Q&&q.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(X).promise}getImmediate(q){var X;const Q=this.normalizeInstanceIdentifier(null===q||void 0===q?void 0:q.identifier),y=null!==(X=null===q||void 0===q?void 0:q.optional)&&void 0!==X&&X;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(y)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(x){if(y)return null;throw x}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:u})}catch(X){}for(const[q,Q]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(q);try{const q=this.getOrInitializeService({instanceIdentifier:y});Q.resolve(q)}catch(X){}}}}clearInstance(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}async delete(){const q=Array.from(this.instances.values());await Promise.all([...q.filter((q=>"INTERNAL"in q)).map((q=>q.INTERNAL.delete())),...q.filter((q=>"_delete"in q)).map((q=>q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instances.has(q)}getOptions(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instancesOptions.get(q)||{}}initialize(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:X={}}=q,Q=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const y=this.getOrInitializeService({instanceIdentifier:Q,options:X});for(const[x,u]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(x)&&u.resolve(y)}return y}ri(q,X){var Q;const y=this.normalizeInstanceIdentifier(X),x=null!==(Q=this.onInitCallbacks.get(y))&&void 0!==Q?Q:new Set;x.add(q),this.onInitCallbacks.set(y,x);const u=this.instances.get(y);return u&&q(u,y),()=>{x.delete(q)}}invokeOnInitCallbacks(q,X){const Q=this.onInitCallbacks.get(X);if(Q)for(const x of Q)try{x(q,X)}catch(y){}}getOrInitializeService(q){let{instanceIdentifier:X,options:Q={}}=q,y=this.instances.get(X);if(!y&&this.component&&(y=this.component.instanceFactory(this.container,{instanceIdentifier:(x=X,x===u?void 0:x),options:Q}),this.instances.set(X,y),this.instancesOptions.set(X,Q),this.invokeOnInitCallbacks(y,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,y)}catch(H){}var x;return y||null}normalizeInstanceIdentifier(){let q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.component?this.component.multipleInstances?q:u:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class b{constructor(q){this.name=q,this.providers=new Map}pf(q){const X=this.getProvider(q.name);if(X.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);X.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.pf(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const X=new H(q,this);return this.providers.set(q,X),X}getProviders(){return Array.from(this.providers.values())}}},10976:(q,X,Q)=>{Q.d(X,{b:()=>x,e:()=>a,h:()=>R,l:()=>L});const y=[];var x;!function(q){q[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT"}(x||(x={}));const u={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},H=x.INFO,b={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},D=function(q,X){if(X<q.logLevel)return;const Q=(new Date).toISOString(),y=b[X];if(!y)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);for(var x=arguments.length,u=new Array(x>2?x-2:0),H=2;H<x;H++)u[H-2]=arguments[H];console[y](`[${Q}]  ${q.name}:`,...u)};class a{constructor(q){this.name=q,this._logLevel=H,this._logHandler=D,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in x))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"===typeof q?u[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!==typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(){for(var q=arguments.length,X=new Array(q),Q=0;Q<q;Q++)X[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...X),this._logHandler(this,x.DEBUG,...X)}log(){for(var q=arguments.length,X=new Array(q),Q=0;Q<q;Q++)X[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...X),this._logHandler(this,x.VERBOSE,...X)}info(){for(var q=arguments.length,X=new Array(q),Q=0;Q<q;Q++)X[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,x.INFO,...X),this._logHandler(this,x.INFO,...X)}warn(){for(var q=arguments.length,X=new Array(q),Q=0;Q<q;Q++)X[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,x.WARN,...X),this._logHandler(this,x.WARN,...X)}error(){for(var q=arguments.length,X=new Array(q),Q=0;Q<q;Q++)X[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,x.ERROR,...X),this._logHandler(this,x.ERROR,...X)}}function R(q){y.forEach((X=>{X.setLogLevel(q)}))}function L(q,X){for(const Q of y){let y=null;X&&X.level&&(y=u[X.level]),Q.userLogHandler=null===q?null:function(X,Q){for(var u=arguments.length,H=new Array(u>2?u-2:0),b=2;b<u;b++)H[b-2]=arguments[b];const D=H.map((q=>{if(null==q)return null;if("string"===typeof q)return q;if("number"===typeof q||"boolean"===typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch(X){return null}})).filter((q=>q)).join(" ");Q>=(null!==y&&void 0!==y?y:X.logLevel)&&q({level:x[Q].toLowerCase(),message:D,args:H,type:X.name})}}}}}]);