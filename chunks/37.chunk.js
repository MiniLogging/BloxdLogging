/*! For license information please see 7ih27q.37.9da56e6d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11689:(o,i,p)=>{p.d(i,{A:()=>a,C:()=>O,D:()=>f,H:()=>l,I:()=>E,K:()=>x,M:()=>e,Q:()=>W,U:()=>R,X:()=>F,Y:()=>t,ab:()=>S,c:()=>C,cb:()=>M,e:()=>U,g:()=>N,h:()=>T,i:()=>z,k:()=>j,m:()=>A,n:()=>Z,r:()=>c,v:()=>w,x:()=>G});const b=function(o){const i=[];let p=0;for(let b=0;b<o.length;b++){let k=o.charCodeAt(b);k<128?i[p++]=k:k<2048?(i[p++]=k>>6|192,i[p++]=63&k|128):55296===(64512&k)&&b+1<o.length&&56320===(64512&o.charCodeAt(b+1))?(k=65536+((1023&k)<<10)+(1023&o.charCodeAt(++b)),i[p++]=k>>18|240,i[p++]=k>>12&63|128,i[p++]=k>>6&63|128,i[p++]=63&k|128):(i[p++]=k>>12|224,i[p++]=k>>6&63|128,i[p++]=63&k|128)}return i},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(o,i){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let k=0;k<o.length;k+=3){const i=o[k],u=k+1<o.length,j=u?o[k+1]:0,z=k+2<o.length,g=z?o[k+2]:0,J=i>>2,a=(3&i)<<4|j>>4;let G=(15&j)<<2|g>>6,O=63&g;z||(O=64,u||(G=64)),b.push(p[J],p[a],p[G],p[O])}return b.join("")},encodeString(o,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(o):this.encodeByteArray(b(o),i)},decodeString(o,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(o):function(o){const i=[];let p=0,b=0;for(;p<o.length;){const k=o[p++];if(k<128)i[b++]=String.fromCharCode(k);else if(k>191&&k<224){const u=o[p++];i[b++]=String.fromCharCode((31&k)<<6|63&u)}else if(k>239&&k<365){const u=((7&k)<<18|(63&o[p++])<<12|(63&o[p++])<<6|63&o[p++])-65536;i[b++]=String.fromCharCode(55296+(u>>10)),i[b++]=String.fromCharCode(56320+(1023&u))}else{const u=o[p++],j=o[p++];i[b++]=String.fromCharCode((15&k)<<12|(63&u)<<6|63&j)}}return i.join("")}(this.decodeStringToByteArray(o,i))},decodeStringToByteArray(o,i){this.init_();const p=i?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let k=0;k<o.length;){const i=p[o.charAt(k++)],j=k<o.length?p[o.charAt(k)]:0;++k;const z=k<o.length?p[o.charAt(k)]:64;++k;const g=k<o.length?p[o.charAt(k)]:64;if(++k,null==i||null==j||null==z||null==g)throw new u;const J=i<<2|j>>4;if(b.push(J),64!==z){const o=j<<4&240|z>>2;if(b.push(o),64!==g){const o=z<<6&192|g;b.push(o)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j=function(o){return function(o){const i=b(o);return k.encodeByteArray(i,!0)}(o).replace(/\./g,"")},z=function(o){try{return k.decodeString(o,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};const g=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof p.g)return p.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return g()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(p){return}const i=o&&z(o[1]);return i&&JSON.parse(i)})()}catch(o){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`)}},a=o=>{var i,p;return null===(p=null===(i=J())||void 0===i?void 0:i.emulatorHosts)||void 0===p?void 0:p[o]},G=()=>{var o;return null===(o=J())||void 0===o?void 0:o.config},O=o=>{var i;return null===(i=J())||void 0===i?void 0:i[`_${o}`]};class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((o,i)=>{this.resolve=o,this.reject=i}))}wrapCallback(o){return(i,p)=>{i?this.reject(i):this.resolve(p),"function"===typeof o&&(this.promise.catch((()=>{})),1===o.length?o(i):o(i,p))}}}function l(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function R(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function E(){const o="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof o&&void 0!==o.id}function F(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function e(){const o=l();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(o){return!1}}function M(){return new Promise(((o,i)=>{try{let p=!0;const b="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(b);k.onsuccess=()=>{k.result.close(),p||self.indexedDB.deleteDatabase(b),o(!0)},k.onupgradeneeded=()=>{p=!1},k.onerror=()=>{var o;i((null===(o=k.error)||void 0===o?void 0:o.message)||"")}}catch(p){i(p)}}))}function T(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class N extends Error{constructor(o,i,p){super(i),this.code=o,this.customData=p,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(o,i,p){this.service=o,this.serviceName=i,this.errors=p}create(o){const i=(arguments.length<=1?void 0:arguments[1])||{},p=`${this.service}/${o}`,b=this.errors[o],k=b?function(o,i){return o.replace(v,((o,p)=>{const b=i[p];return null!=b?String(b):`<${p}?>`}))}(b,i):"Error",u=`${this.serviceName}: ${k} (${p}).`;return new N(p,u,i)}}const v=/\{\$([^}]+)}/g;function x(o){for(const i in o)if(Object.prototype.hasOwnProperty.call(o,i))return!1;return!0}function c(o,i){if(o===i)return!0;const p=Object.keys(o),b=Object.keys(i);for(const k of p){if(!b.includes(k))return!1;const p=o[k],u=i[k];if(y(p)&&y(u)){if(!c(p,u))return!1}else if(p!==u)return!1}for(const k of b)if(!p.includes(k))return!1;return!0}function y(o){return null!==o&&"object"===typeof o}function S(o){const i=[];for(const[p,b]of Object.entries(o))Array.isArray(b)?b.forEach((o=>{i.push(encodeURIComponent(p)+"="+encodeURIComponent(o))})):i.push(encodeURIComponent(p)+"="+encodeURIComponent(b));return i.length?"&"+i.join("&"):""}function t(o){const i={};return o.replace(/^\?/,"").split("&").forEach((o=>{if(o){const[p,b]=o.split("=");i[decodeURIComponent(p)]=decodeURIComponent(b)}})),i}function w(o){const i=o.indexOf("?");if(!i)return"";const p=o.indexOf("#",i);return o.substring(i,p>0?p:void 0)}function Z(o,i){const p=new I(o,i);return p.subscribe.bind(p)}class I{constructor(o,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then((()=>{o(this)})).catch((o=>{this.error(o)}))}next(o){this.forEachObserver((i=>{i.next(o)}))}error(o){this.forEachObserver((i=>{i.error(o)})),this.close(o)}complete(){this.forEachObserver((o=>{o.complete()})),this.close()}subscribe(o,i,p){let b;if(void 0===o&&void 0===i&&void 0===p)throw new Error("Missing Observer.");b=function(o,i){if("object"!==typeof o||null===o)return!1;for(const p of i)if(p in o&&"function"===typeof o[p])return!0;return!1}(o,["next","error","complete"])?o:{next:o,error:i,complete:p},void 0===b.next&&(b.next=Q),void 0===b.error&&(b.error=Q),void 0===b.complete&&(b.complete=Q);const k=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch(o){}})),this.observers.push(b),k}unsubscribeOne(o){void 0!==this.observers&&void 0!==this.observers[o]&&(delete this.observers[o],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(o){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,o)}sendOne(o,i){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[o])try{i(this.observers[o])}catch(p){"undefined"!==typeof console&&console.error&&console.error(p)}}))}close(o){this.finalized||(this.finalized=!0,void 0!==o&&(this.finalError=o),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Q(){}const K=1e3,D=2,X=144e5,h=.5;function A(o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;const p=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:K)*Math.pow(i,o),b=Math.round(h*p*(Math.random()-.5)*2);return Math.min(X,p+b)}function f(o){return o&&o._delegate?o._delegate:o}},11679:(o,i,p)=>{p.d(i,{d:()=>u.g,e:()=>Go,f:()=>Y,i:()=>po,m:()=>bo,n:()=>oo,r:()=>zo,t:()=>io,x:()=>uo,B:()=>ko,C:()=>jo,D:()=>Ro,K:()=>Co,H:()=>lo,O:()=>Oo,P:()=>Fo,T:()=>Eo,X:()=>eo});var b=p(11687),k=p(11692),u=p(11689);let j,z;const g=new WeakMap,J=new WeakMap,a=new WeakMap,G=new WeakMap,O=new WeakMap;let C={get(o,i,p){if(o instanceof IDBTransaction){if("done"===i)return J.get(o);if("objectStoreNames"===i)return o.objectStoreNames||a.get(o);if("store"===i)return p.objectStoreNames[1]?void 0:p.objectStore(p.objectStoreNames[0])}return E(o[i])},set:(o,i,p)=>(o[i]=p,!0),has:(o,i)=>o instanceof IDBTransaction&&("done"===i||"store"===i)||i in o};function l(o){return o!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(o)?function(){for(var i=arguments.length,p=new Array(i),b=0;b<i;b++)p[b]=arguments[b];return o.apply(F(this),p),E(g.get(this))}:function(){for(var i=arguments.length,p=new Array(i),b=0;b<i;b++)p[b]=arguments[b];return E(o.apply(F(this),p))}:function(i){for(var p=arguments.length,b=new Array(p>1?p-1:0),k=1;k<p;k++)b[k-1]=arguments[k];const u=o.call(F(this),i,...b);return a.set(u,i.sort?i.sort():[i]),E(u)}}function R(o){return"function"===typeof o?l(o):(o instanceof IDBTransaction&&function(o){if(J.has(o))return;const i=new Promise(((i,p)=>{const b=()=>{o.removeEventListener("complete",k),o.removeEventListener("error",u),o.removeEventListener("abort",u)},k=()=>{i(),b()},u=()=>{p(o.error||new DOMException("AbortError","AbortError")),b()};o.addEventListener("complete",k),o.addEventListener("error",u),o.addEventListener("abort",u)}));J.set(o,i)}(o),i=o,(j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((o=>i instanceof o))?new Proxy(o,C):o);var i}function E(o){if(o instanceof IDBRequest)return function(o){const i=new Promise(((i,p)=>{const b=()=>{o.removeEventListener("success",k),o.removeEventListener("error",u)},k=()=>{i(E(o.result)),b()},u=()=>{p(o.error),b()};o.addEventListener("success",k),o.addEventListener("error",u)}));return i.then((i=>{i instanceof IDBCursor&&g.set(i,o)})).catch((()=>{})),O.set(i,o),i}(o);if(G.has(o))return G.get(o);const i=R(o);return i!==o&&(G.set(o,i),O.set(i,o)),i}const F=o=>O.get(o);const e=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],M=new Map;function T(o,i){if(!(o instanceof IDBDatabase)||i in o||"string"!==typeof i)return;if(M.get(i))return M.get(i);const p=i.replace(/FromIndex$/,""),b=i!==p,k=W.includes(p);if(!(p in(b?IDBIndex:IDBObjectStore).prototype)||!k&&!e.includes(p))return;const u=async function(o){const i=this.transaction(o,k?"readwrite":"readonly");let u=i.store;for(var j=arguments.length,z=new Array(j>1?j-1:0),g=1;g<j;g++)z[g-1]=arguments[g];return b&&(u=u.index(z.shift())),(await Promise.all([u[p](...z),k&&i.done]))[0]};return M.set(i,u),u}C=(o=>({...o,get:(i,p,b)=>T(i,p)||o.get(i,p,b),has:(i,p)=>!!T(i,p)||o.has(i,p)}))(C);class N{constructor(o){this.container=o}getPlatformInfoString(){return this.container.getProviders().map((o=>{if(function(o){const i=o.getComponent();return"VERSION"===(null===i||void 0===i?void 0:i.type)}(o)){const i=o.getImmediate();return`${i.library}/${i.version}`}return null})).filter((o=>o)).join(" ")}}const U="@firebase/app",v="0.9.13",x=new k.f("@firebase/app"),c="@firebase/app-compat",y="@firebase/analytics-compat",S="@firebase/analytics",t="@firebase/app-check-compat",w="@firebase/app-check",Z="@firebase/auth",I="@firebase/auth-compat",Q="@firebase/database",K="@firebase/database-compat",D="@firebase/functions",X="@firebase/functions-compat",h="@firebase/installations",A="@firebase/installations-compat",f="@firebase/messaging",r="@firebase/messaging-compat",V="@firebase/performance",P="@firebase/performance-compat",d="@firebase/remote-config",q="@firebase/remote-config-compat",B="@firebase/storage",L="@firebase/storage-compat",H="@firebase/firestore",n="@firebase/firestore-compat",s="firebase",Y="[DEFAULT]",m={[U]:"fire-core",[c]:"fire-core-compat",[S]:"fire-analytics",[y]:"fire-analytics-compat",[w]:"fire-app-check",[t]:"fire-app-check-compat",[Z]:"fire-auth",[I]:"fire-auth-compat",[Q]:"fire-rtdb",[K]:"fire-rtdb-compat",[D]:"fire-fn",[X]:"fire-fn-compat",[h]:"fire-iid",[A]:"fire-iid-compat",[f]:"fire-fcm",[r]:"fire-fcm-compat",[V]:"fire-perf",[P]:"fire-perf-compat",[d]:"fire-rc",[q]:"fire-rc-compat",[B]:"fire-gcs",[L]:"fire-gcs-compat",[H]:"fire-fst",[n]:"fire-fst-compat","fire-js":"fire-js",[s]:"fire-js-all"},oo=new Map,io=new Map;function po(o,i){try{o.container.Gf(i)}catch(p){x.debug(`Component ${i.name} failed to register with FirebaseApp ${o.name}`,p)}}function bo(o,i){o.container.addOrOverwriteComponent(i)}function ko(o){const i=o.name;if(io.has(i))return x.debug(`There were multiple attempts to register component ${i}.`),!1;io.set(i,o);for(const p of oo.values())po(p,o);return!0}function uo(o,i){const p=o.container.getProvider("heartbeat").getImmediate({optional:!0});return p&&p.triggerHeartbeat(),o.container.getProvider(i)}function jo(o,i){let p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;uo(o,i).clearInstance(p)}function zo(){io.clear()}const go={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jo=new u.e("app","Firebase",go);class ao{constructor(o,i,p){this._isDeleted=!1,this._options=Object.assign({},o),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=p,this.container.Gf(new b.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(o){this.checkDestroyed(),this._automaticDataCollectionEnabled=o}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(o){this._isDeleted=o}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}const Go="9.23.0";function Oo(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=o;if("object"!==typeof i){i={name:i}}const k=Object.assign({name:Y,automaticDataCollectionEnabled:!1},i),j=k.name;if("string"!==typeof j||!j)throw Jo.create("bad-app-name",{appName:String(j)});if(p||(p=(0,u.x)()),!p)throw Jo.create("no-options");const z=oo.get(j);if(z){if((0,u.r)(p,z.options)&&(0,u.r)(k,z.config))return z;throw Jo.create("duplicate-app",{appName:j})}const g=new b.b(j);for(const b of io.values())g.Gf(b);const J=new ao(p,k,g);return oo.set(j,J),J}function Co(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const i=oo.get(o);if(!i&&o===Y&&(0,u.x)())return Oo();if(!i)throw Jo.create("no-app",{appName:o});return i}function lo(){return Array.from(oo.values())}async function Ro(o){const i=o.name;oo.has(i)&&(oo.delete(i),await Promise.all(o.container.getProviders().map((o=>o.delete()))),o.isDeleted=!0)}function Eo(o,i,p){var k;let u=null!==(k=m[o])&&void 0!==k?k:o;p&&(u+=`-${p}`);const j=u.match(/\s|\//),z=i.match(/\s|\//);if(j||z){const o=[`Unable to register library "${u}" with version "${i}":`];return j&&o.push(`library name "${u}" contains illegal characters (whitespace or "/")`),j&&z&&o.push("and"),z&&o.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void x.warn(o.join(" "))}ko(new b.f(`${u}-version`,(()=>({library:u,version:i})),"VERSION"))}function Fo(o,i){if(null!==o&&"function"!==typeof o)throw Jo.create("invalid-log-argument");(0,k.m)(o,i)}function eo(o){(0,k.j)(o)}const Wo="firebase-heartbeat-store";let Mo=null;function To(){return Mo||(Mo=function(o,i){let{blocked:p,upgrade:b,blocking:k,terminated:u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const j=indexedDB.open(o,i),z=E(j);return b&&j.addEventListener("upgradeneeded",(o=>{b(E(j.result),o.oldVersion,o.newVersion,E(j.transaction),o)})),p&&j.addEventListener("blocked",(o=>p(o.oldVersion,o.newVersion,o))),z.then((o=>{u&&o.addEventListener("close",(()=>u())),k&&o.addEventListener("versionchange",(o=>k(o.oldVersion,o.newVersion,o)))})).catch((()=>{})),z}("firebase-heartbeat-database",1,{upgrade:(o,i)=>{if(0===i)o.createObjectStore(Wo)}}).catch((o=>{throw Jo.create("idb-open",{originalErrorMessage:o.message})}))),Mo}async function No(o,i){try{const p=(await To()).transaction(Wo,"readwrite"),b=p.objectStore(Wo);await b.put(i,Uo(o)),await p.done}catch(p){if(p instanceof u.g)x.warn(p.message);else{const o=Jo.create("idb-set",{originalErrorMessage:null===p||void 0===p?void 0:p.message});x.warn(o.message)}}}function Uo(o){return`${o.name}!${o.options.appId}`}class vo{constructor(o){this.container=o,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this.Pi=new co(i),this._heartbeatsCachePromise=this.Pi.read().then((o=>(this._heartbeatsCache=o,o)))}async triggerHeartbeat(){const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xo();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=2592e6})),this.Pi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const o=xo(),{heartbeatsToSend:i,unsentEntries:p}=function(o){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const p=[];let b=o.slice();for(const k of o){const o=p.find((o=>o.agent===k.agent));if(o){if(o.dates.push(k.date),yo(p)>i){o.dates.pop();break}}else if(p.push({agent:k.agent,dates:[k.date]}),yo(p)>i){p.pop();break}b=b.slice(1)}return{heartbeatsToSend:p,unsentEntries:b}}(this._heartbeatsCache.heartbeats),b=(0,u.k)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=o,p.length>0?(this._heartbeatsCache.heartbeats=p,await this.Pi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Pi.overwrite(this._heartbeatsCache)),b}}function xo(){return(new Date).toISOString().substring(0,10)}class co{constructor(o){this.app=o,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,u.Q)()&&(0,u.cb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(o){try{const i=await To();return await i.transaction(Wo).objectStore(Wo).get(Uo(o))}catch(i){if(i instanceof u.g)x.warn(i.message);else{const o=Jo.create("idb-get",{originalErrorMessage:null===i||void 0===i?void 0:i.message});x.warn(o.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(o){var i;if(await this._canUseIndexedDBPromise){const p=await this.read();return No(this.app,{lastSentHeartbeatDate:null!==(i=o.lastSentHeartbeatDate)&&void 0!==i?i:p.lastSentHeartbeatDate,heartbeats:o.heartbeats})}}async add(o){var i;if(await this._canUseIndexedDBPromise){const p=await this.read();return No(this.app,{lastSentHeartbeatDate:null!==(i=o.lastSentHeartbeatDate)&&void 0!==i?i:p.lastSentHeartbeatDate,heartbeats:[...p.heartbeats,...o.heartbeats]})}}}function yo(o){return(0,u.k)(JSON.stringify({version:2,heartbeats:o})).length}var So;So="",ko(new b.f("platform-logger",(o=>new N(o)),"PRIVATE")),ko(new b.f("heartbeat",(o=>new vo(o)),"PRIVATE")),Eo(U,v,So),Eo(U,v,"esm2017"),Eo("fire-js","")},11687:(o,i,p)=>{p.d(i,{b:()=>z,f:()=>k});var b=p(11689);class k{constructor(o,i,p){this.name=o,this.instanceFactory=i,this.type=p,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(o){return this.instantiationMode=o,this}setMultipleInstances(o){return this.multipleInstances=o,this}setServiceProps(o){return this.serviceProps=o,this}setInstanceCreatedCallback(o){return this.onInstanceCreated=o,this}}const u="[DEFAULT]";class j{constructor(o,i){this.name=o,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(o){const i=this.normalizeInstanceIdentifier(o);if(!this.instancesDeferred.has(i)){const o=new b.c;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const p=this.getOrInitializeService({instanceIdentifier:i});p&&o.resolve(p)}catch(p){}}return this.instancesDeferred.get(i).promise}getImmediate(o){var i;const p=this.normalizeInstanceIdentifier(null===o||void 0===o?void 0:o.identifier),b=null!==(i=null===o||void 0===o?void 0:o.optional)&&void 0!==i&&i;if(!this.isInitialized(p)&&!this.shouldAutoInitialize()){if(b)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:p})}catch(k){if(b)return null;throw k}}getComponent(){return this.component}setComponent(o){if(o.name!==this.name)throw Error(`Mismatching Component ${o.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=o,this.shouldAutoInitialize()){if(function(o){return"EAGER"===o.instantiationMode}(o))try{this.getOrInitializeService({instanceIdentifier:u})}catch(i){}for(const[o,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(o);try{const o=this.getOrInitializeService({instanceIdentifier:b});p.resolve(o)}catch(i){}}}}clearInstance(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;this.instancesDeferred.delete(o),this.instancesOptions.delete(o),this.instances.delete(o)}async delete(){const o=Array.from(this.instances.values());await Promise.all([...o.filter((o=>"INTERNAL"in o)).map((o=>o.INTERNAL.delete())),...o.filter((o=>"_delete"in o)).map((o=>o._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instances.has(o)}getOptions(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.instancesOptions.get(o)||{}}initialize(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:i={}}=o,p=this.normalizeInstanceIdentifier(o.instanceIdentifier);if(this.isInitialized(p))throw Error(`${this.name}(${p}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const b=this.getOrInitializeService({instanceIdentifier:p,options:i});for(const[k,u]of this.instancesDeferred.entries()){p===this.normalizeInstanceIdentifier(k)&&u.resolve(b)}return b}wi(o,i){var p;const b=this.normalizeInstanceIdentifier(i),k=null!==(p=this.onInitCallbacks.get(b))&&void 0!==p?p:new Set;k.add(o),this.onInitCallbacks.set(b,k);const u=this.instances.get(b);return u&&o(u,b),()=>{k.delete(o)}}invokeOnInitCallbacks(o,i){const p=this.onInitCallbacks.get(i);if(p)for(const k of p)try{k(o,i)}catch(b){}}getOrInitializeService(o){let{instanceIdentifier:i,options:p={}}=o,b=this.instances.get(i);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:(k=i,k===u?void 0:k),options:p}),this.instances.set(i,b),this.instancesOptions.set(i,p),this.invokeOnInitCallbacks(b,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,b)}catch(j){}var k;return b||null}normalizeInstanceIdentifier(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return this.component?this.component.multipleInstances?o:u:o}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(o){this.name=o,this.providers=new Map}Gf(o){const i=this.getProvider(o.name);if(i.isComponentSet())throw new Error(`Component ${o.name} has already been registered with ${this.name}`);i.setComponent(o)}addOrOverwriteComponent(o){this.getProvider(o.name).isComponentSet()&&this.providers.delete(o.name),this.Gf(o)}getProvider(o){if(this.providers.has(o))return this.providers.get(o);const i=new j(o,this);return this.providers.set(o,i),i}getProviders(){return Array.from(this.providers.values())}}},11692:(o,i,p)=>{p.d(i,{d:()=>k,f:()=>J,j:()=>a,m:()=>G});const b=[];var k;!function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"}(k||(k={}));const u={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},j=k.INFO,z={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},g=function(o,i){if(i<o.logLevel)return;const p=(new Date).toISOString(),b=z[i];if(!b)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);for(var k=arguments.length,u=new Array(k>2?k-2:0),j=2;j<k;j++)u[j-2]=arguments[j];console[b](`[${p}]  ${o.name}:`,...u)};class J{constructor(o){this.name=o,this._logLevel=j,this._logHandler=g,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(o){if(!(o in k))throw new TypeError(`Invalid value "${o}" assigned to \`logLevel\``);this._logLevel=o}setLogLevel(o){this._logLevel="string"===typeof o?u[o]:o}get logHandler(){return this._logHandler}set logHandler(o){if("function"!==typeof o)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=o}get userLogHandler(){return this._userLogHandler}set userLogHandler(o){this._userLogHandler=o}debug(){for(var o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...i),this._logHandler(this,k.DEBUG,...i)}log(){for(var o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...i),this._logHandler(this,k.VERBOSE,...i)}info(){for(var o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,k.INFO,...i),this._logHandler(this,k.INFO,...i)}warn(){for(var o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,k.WARN,...i),this._logHandler(this,k.WARN,...i)}error(){for(var o=arguments.length,i=new Array(o),p=0;p<o;p++)i[p]=arguments[p];this._userLogHandler&&this._userLogHandler(this,k.ERROR,...i),this._logHandler(this,k.ERROR,...i)}}function a(o){b.forEach((i=>{i.setLogLevel(o)}))}function G(o,i){for(const p of b){let b=null;i&&i.level&&(b=u[i.level]),p.userLogHandler=null===o?null:function(i,p){for(var u=arguments.length,j=new Array(u>2?u-2:0),z=2;z<u;z++)j[z-2]=arguments[z];const g=j.map((o=>{if(null==o)return null;if("string"===typeof o)return o;if("number"===typeof o||"boolean"===typeof o)return o.toString();if(o instanceof Error)return o.message;try{return JSON.stringify(o)}catch(i){return null}})).filter((o=>o)).join(" ");p>=(null!==b&&void 0!==b?b:i.logLevel)&&o({level:k[p].toLowerCase(),message:g,args:j,type:i.name})}}}}}]);