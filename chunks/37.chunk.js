/*! For license information please see q880f5.37.ff988fbf.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11656:(T,z,X)=>{X.d(z,{C:()=>k,G:()=>D,K:()=>Y,N:()=>p,R:()=>U,V:()=>V,W:()=>x,_:()=>K,c:()=>c,cb:()=>H,e:()=>a,eb:()=>s,f:()=>l,g:()=>N,gb:()=>Z,k:()=>y,kb:()=>j,lb:()=>d,o:()=>u,r:()=>R,t:()=>S,x:()=>C,y:()=>m,z:()=>L});const b=function(T){const z=[];let X=0;for(let b=0;b<T.length;b++){let F=T.charCodeAt(b);F<128?z[X++]=F:F<2048?(z[X++]=F>>6|192,z[X++]=63&F|128):55296===(64512&F)&&b+1<T.length&&56320===(64512&T.charCodeAt(b+1))?(F=65536+((1023&F)<<10)+(1023&T.charCodeAt(++b)),z[X++]=F>>18|240,z[X++]=F>>12&63|128,z[X++]=F>>6&63|128,z[X++]=63&F|128):(z[X++]=F>>12|224,z[X++]=F>>6&63|128,z[X++]=63&F|128)}return z},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(T,z){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let F=0;F<T.length;F+=3){const z=T[F],A=F+1<T.length,u=A?T[F+1]:0,y=F+2<T.length,E=y?T[F+2]:0,v=z>>2,k=(3&z)<<4|u>>4;let L=(15&u)<<2|E>>6,D=63&E;y||(D=64,A||(L=64)),b.push(X[v],X[k],X[L],X[D])}return b.join("")},encodeString(T,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(T):this.encodeByteArray(b(T),z)},decodeString(T,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(T):function(T){const z=[];let X=0,b=0;for(;X<T.length;){const F=T[X++];if(F<128)z[b++]=String.fromCharCode(F);else if(F>191&&F<224){const A=T[X++];z[b++]=String.fromCharCode((31&F)<<6|63&A)}else if(F>239&&F<365){const A=((7&F)<<18|(63&T[X++])<<12|(63&T[X++])<<6|63&T[X++])-65536;z[b++]=String.fromCharCode(55296+(A>>10)),z[b++]=String.fromCharCode(56320+(1023&A))}else{const A=T[X++],u=T[X++];z[b++]=String.fromCharCode((15&F)<<12|(63&A)<<6|63&u)}}return z.join("")}(this.decodeStringToByteArray(T,z))},decodeStringToByteArray(T,z){this.init_();const X=z?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let F=0;F<T.length;){const z=X[T.charAt(F++)],u=F<T.length?X[T.charAt(F)]:0;++F;const y=F<T.length?X[T.charAt(F)]:64;++F;const E=F<T.length?X[T.charAt(F)]:64;if(++F,null==z||null==u||null==y||null==E)throw new A;const v=z<<2|u>>4;if(b.push(v),64!==y){const T=u<<4&240|y>>2;if(b.push(T),64!==E){const T=y<<6&192|E;b.push(T)}}}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(T){return function(T){const z=b(T);return F.encodeByteArray(z,!0)}(T).replace(/\./g,"")},y=function(T){try{return F.decodeString(T,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};const E=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof X.g)return X.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,v=()=>{try{return E()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(X){return}const z=T&&y(T[1]);return z&&JSON.parse(z)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},k=T=>{var z,X;return null===(X=null===(z=v())||void 0===z?void 0:z.emulatorHosts)||void 0===X?void 0:X[T]},L=()=>{var T;return null===(T=v())||void 0===T?void 0:T.config},D=T=>{var z;return null===(z=v())||void 0===z?void 0:z[`_${T}`]};class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((T,z)=>{this.resolve=T,this.reject=z}))}wrapCallback(T){return(z,X)=>{z?this.reject(z):this.resolve(X),"function"===typeof T&&(this.promise.catch((()=>{})),1===T.length?T(z):T(z,X))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function H(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function U(){const T="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof T&&void 0!==T.id}function s(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){const T=p();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function K(){try{return"object"===typeof indexedDB}catch(T){return!1}}function d(){return new Promise(((T,z)=>{try{let X=!0;const b="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(b);F.onsuccess=()=>{F.result.close(),X||self.indexedDB.deleteDatabase(b),T(!0)},F.onupgradeneeded=()=>{X=!1},F.onerror=()=>{var T;z((null===(T=F.error)||void 0===T?void 0:T.message)||"")}}catch(X){z(X)}}))}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class l extends Error{constructor(T,z,X){super(z),this.code=T,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a.prototype.create)}}class a{constructor(T,z,X){this.service=T,this.serviceName=z,this.errors=X}create(T){const z=(arguments.length<=1?void 0:arguments[1])||{},X=`${this.service}/${T}`,b=this.errors[T],F=b?function(T,z){return T.replace(q,((T,X)=>{const b=z[X];return null!=b?String(b):`<${X}?>`}))}(b,z):"Error",A=`${this.serviceName}: ${F} (${X}).`;return new l(X,A,z)}}const q=/\{\$([^}]+)}/g;function V(T){for(const z in T)if(Object.prototype.hasOwnProperty.call(T,z))return!1;return!0}function C(T,z){if(T===z)return!0;const X=Object.keys(T),b=Object.keys(z);for(const F of X){if(!b.includes(F))return!1;const X=T[F],A=z[F];if(G(X)&&G(A)){if(!C(X,A))return!1}else if(X!==A)return!1}for(const F of b)if(!X.includes(F))return!1;return!0}function G(T){return null!==T&&"object"===typeof T}function j(T){const z=[];for(const[X,b]of Object.entries(T))Array.isArray(b)?b.forEach((T=>{z.push(encodeURIComponent(X)+"="+encodeURIComponent(T))})):z.push(encodeURIComponent(X)+"="+encodeURIComponent(b));return z.length?"&"+z.join("&"):""}function Z(T){const z={};return T.replace(/^\?/,"").split("&").forEach((T=>{if(T){const[X,b]=T.split("=");z[decodeURIComponent(X)]=decodeURIComponent(b)}})),z}function m(T){const z=T.indexOf("?");if(!z)return"";const X=T.indexOf("#",z);return T.substring(z,X>0?X:void 0)}function S(T,z){const X=new n(T,z);return X.subscribe.bind(X)}class n{constructor(T,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then((()=>{T(this)})).catch((T=>{this.error(T)}))}next(T){this.forEachObserver((z=>{z.next(T)}))}error(T){this.forEachObserver((z=>{z.error(T)})),this.close(T)}complete(){this.forEachObserver((T=>{T.complete()})),this.close()}subscribe(T,z,X){let b;if(void 0===T&&void 0===z&&void 0===X)throw new Error("Missing Observer.");b=function(T,z){if("object"!==typeof T||null===T)return!1;for(const X of z)if(X in T&&"function"===typeof T[X])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:z,complete:X},void 0===b.next&&(b.next=O),void 0===b.error&&(b.error=O),void 0===b.complete&&(b.complete=O);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch(T){}})),this.observers.push(b),F}unsubscribeOne(T){void 0!==this.observers&&void 0!==this.observers[T]&&(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,T)}sendOne(T,z){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{z(this.observers[T])}catch(X){"undefined"!==typeof console&&console.error&&console.error(X)}}))}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function O(){}const P=1e3,W=2,B=144e5,e=.5;function R(T){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;const X=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:P)*Math.pow(z,T),b=Math.round(e*X*(Math.random()-.5)*2);return Math.min(B,X+b)}function Y(T){return T&&T._delegate?T._delegate:T}},11650:(T,z,X)=>{X.d(z,{e:()=>A.f,f:()=>LT,h:()=>J,l:()=>XT,n:()=>bT,q:()=>TT,r:()=>yT,t:()=>zT,v:()=>AT,x:()=>FT,A:()=>uT,D:()=>HT,H:()=>cT,F:()=>pT,J:()=>DT,L:()=>sT,N:()=>UT,R:()=>xT});var b=X(11653),F=X(11662),A=X(11656);let u,y;const E=new WeakMap,v=new WeakMap,k=new WeakMap,L=new WeakMap,D=new WeakMap;let c={get(T,z,X){if(T instanceof IDBTransaction){if("done"===z)return v.get(T);if("objectStoreNames"===z)return T.objectStoreNames||k.get(T);if("store"===z)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return U(T[z])},set:(T,z,X)=>(T[z]=X,!0),has:(T,z)=>T instanceof IDBTransaction&&("done"===z||"store"===z)||z in T};function p(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y||(y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(T)?function(){for(var z=arguments.length,X=new Array(z),b=0;b<z;b++)X[b]=arguments[b];return T.apply(s(this),X),U(E.get(this))}:function(){for(var z=arguments.length,X=new Array(z),b=0;b<z;b++)X[b]=arguments[b];return U(T.apply(s(this),X))}:function(z){for(var X=arguments.length,b=new Array(X>1?X-1:0),F=1;F<X;F++)b[F-1]=arguments[F];const A=T.call(s(this),z,...b);return k.set(A,z.sort?z.sort():[z]),U(A)}}function H(T){return"function"===typeof T?p(T):(T instanceof IDBTransaction&&function(T){if(v.has(T))return;const z=new Promise(((z,X)=>{const b=()=>{T.removeEventListener("complete",F),T.removeEventListener("error",A),T.removeEventListener("abort",A)},F=()=>{z(),b()},A=()=>{X(T.error||new DOMException("AbortError","AbortError")),b()};T.addEventListener("complete",F),T.addEventListener("error",A),T.addEventListener("abort",A)}));v.set(T,z)}(T),z=T,(u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((T=>z instanceof T))?new Proxy(T,c):T);var z}function U(T){if(T instanceof IDBRequest)return function(T){const z=new Promise(((z,X)=>{const b=()=>{T.removeEventListener("success",F),T.removeEventListener("error",A)},F=()=>{z(U(T.result)),b()},A=()=>{X(T.error),b()};T.addEventListener("success",F),T.addEventListener("error",A)}));return z.then((z=>{z instanceof IDBCursor&&E.set(z,T)})).catch((()=>{})),D.set(z,T),z}(T);if(L.has(T))return L.get(T);const z=H(T);return z!==T&&(L.set(T,z),D.set(z,T)),z}const s=T=>D.get(T);const x=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],d=new Map;function N(T,z){if(!(T instanceof IDBDatabase)||z in T||"string"!==typeof z)return;if(d.get(z))return d.get(z);const X=z.replace(/FromIndex$/,""),b=z!==X,F=K.includes(X);if(!(X in(b?IDBIndex:IDBObjectStore).prototype)||!F&&!x.includes(X))return;const A=async function(T){const z=this.transaction(T,F?"readwrite":"readonly");let A=z.store;for(var u=arguments.length,y=new Array(u>1?u-1:0),E=1;E<u;E++)y[E-1]=arguments[E];return b&&(A=A.index(y.shift())),(await Promise.all([A[X](...y),F&&z.done]))[0]};return d.set(z,A),A}c=(T=>({...T,get:(z,X,b)=>N(z,X)||T.get(z,X,b),has:(z,X)=>!!N(z,X)||T.has(z,X)}))(c);class l{constructor(T){this.container=T}getPlatformInfoString(){return this.container.getProviders().map((T=>{if(function(T){const z=T.getComponent();return"VERSION"===(null===z||void 0===z?void 0:z.type)}(T)){const z=T.getImmediate();return`${z.library}/${z.version}`}return null})).filter((T=>T)).join(" ")}}const a="@firebase/app",q="0.9.13",V=new F.e("@firebase/app"),C="@firebase/app-compat",G="@firebase/analytics-compat",j="@firebase/analytics",Z="@firebase/app-check-compat",m="@firebase/app-check",S="@firebase/auth",n="@firebase/auth-compat",O="@firebase/database",P="@firebase/database-compat",W="@firebase/functions",B="@firebase/functions-compat",e="@firebase/installations",R="@firebase/installations-compat",Y="@firebase/messaging",i="@firebase/messaging-compat",t="@firebase/performance",g="@firebase/performance-compat",M="@firebase/remote-config",r="@firebase/remote-config-compat",o="@firebase/storage",f="@firebase/storage-compat",h="@firebase/firestore",Q="@firebase/firestore-compat",w="firebase",J="[DEFAULT]",I={[a]:"fire-core",[C]:"fire-core-compat",[j]:"fire-analytics",[G]:"fire-analytics-compat",[m]:"fire-app-check",[Z]:"fire-app-check-compat",[S]:"fire-auth",[n]:"fire-auth-compat",[O]:"fire-rtdb",[P]:"fire-rtdb-compat",[W]:"fire-fn",[B]:"fire-fn-compat",[e]:"fire-iid",[R]:"fire-iid-compat",[Y]:"fire-fcm",[i]:"fire-fcm-compat",[t]:"fire-perf",[g]:"fire-perf-compat",[M]:"fire-rc",[r]:"fire-rc-compat",[o]:"fire-gcs",[f]:"fire-gcs-compat",[h]:"fire-fst",[Q]:"fire-fst-compat","fire-js":"fire-js",[w]:"fire-js-all"},TT=new Map,zT=new Map;function XT(T,z){try{T.container.Ff(z)}catch(X){V.debug(`Component ${z.name} failed to register with FirebaseApp ${T.name}`,X)}}function bT(T,z){T.container.addOrOverwriteComponent(z)}function FT(T){const z=T.name;if(zT.has(z))return V.debug(`There were multiple attempts to register component ${z}.`),!1;zT.set(z,T);for(const X of TT.values())XT(X,T);return!0}function AT(T,z){const X=T.container.getProvider("heartbeat").getImmediate({optional:!0});return X&&X.triggerHeartbeat(),T.container.getProvider(z)}function uT(T,z){let X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;AT(T,z).clearInstance(X)}function yT(){zT.clear()}const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vT=new A.e("app","Firebase",ET);class kT{constructor(T,z,X){this._isDeleted=!1,this._options=Object.assign({},T),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=X,this.container.Ff(new b.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(T){this.checkDestroyed(),this._automaticDataCollectionEnabled=T}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(T){this._isDeleted=T}checkDestroyed(){if(this.isDeleted)throw vT.create("app-deleted",{appName:this._name})}}const LT="9.23.0";function DT(T){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},X=T;if("object"!==typeof z){z={name:z}}const F=Object.assign({name:J,automaticDataCollectionEnabled:!1},z),u=F.name;if("string"!==typeof u||!u)throw vT.create("bad-app-name",{appName:String(u)});if(X||(X=(0,A.z)()),!X)throw vT.create("no-options");const y=TT.get(u);if(y){if((0,A.x)(X,y.options)&&(0,A.x)(F,y.config))return y;throw vT.create("duplicate-app",{appName:u})}const E=new b.b(u);for(const b of zT.values())E.Ff(b);const v=new kT(X,F,E);return TT.set(u,v),v}function cT(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;const z=TT.get(T);if(!z&&T===J&&(0,A.z)())return DT();if(!z)throw vT.create("no-app",{appName:T});return z}function pT(){return Array.from(TT.values())}async function HT(T){const z=T.name;TT.has(z)&&(TT.delete(z),await Promise.all(T.container.getProviders().map((T=>T.delete()))),T.isDeleted=!0)}function UT(T,z,X){var F;let A=null!==(F=I[T])&&void 0!==F?F:T;X&&(A+=`-${X}`);const u=A.match(/\s|\//),y=z.match(/\s|\//);if(u||y){const T=[`Unable to register library "${A}" with version "${z}":`];return u&&T.push(`library name "${A}" contains illegal characters (whitespace or "/")`),u&&y&&T.push("and"),y&&T.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void V.warn(T.join(" "))}FT(new b.f(`${A}-version`,(()=>({library:A,version:z})),"VERSION"))}function sT(T,z){if(null!==T&&"function"!==typeof T)throw vT.create("invalid-log-argument");(0,F.i)(T,z)}function xT(T){(0,F.g)(T)}const KT="firebase-heartbeat-store";let dT=null;function NT(){return dT||(dT=function(T,z){let{blocked:X,upgrade:b,blocking:F,terminated:A}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=indexedDB.open(T,z),y=U(u);return b&&u.addEventListener("upgradeneeded",(T=>{b(U(u.result),T.oldVersion,T.newVersion,U(u.transaction),T)})),X&&u.addEventListener("blocked",(T=>X(T.oldVersion,T.newVersion,T))),y.then((T=>{A&&T.addEventListener("close",(()=>A())),F&&T.addEventListener("versionchange",(T=>F(T.oldVersion,T.newVersion,T)))})).catch((()=>{})),y}("firebase-heartbeat-database",1,{upgrade:(T,z)=>{if(0===z)T.createObjectStore(KT)}}).catch((T=>{throw vT.create("idb-open",{originalErrorMessage:T.message})}))),dT}async function lT(T,z){try{const X=(await NT()).transaction(KT,"readwrite"),b=X.objectStore(KT);await b.put(z,aT(T)),await X.done}catch(X){if(X instanceof A.f)V.warn(X.message);else{const T=vT.create("idb-set",{originalErrorMessage:null===X||void 0===X?void 0:X.message});V.warn(T.message)}}}function aT(T){return`${T.name}!${T.options.appId}`}class qT{constructor(T){this.container=T,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._i=new CT(z),this._heartbeatsCachePromise=this._i.read().then((T=>(this._heartbeatsCache=T,T)))}async triggerHeartbeat(){const T=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),z=VT();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==z&&!this._heartbeatsCache.heartbeats.some((T=>T.date===z)))return this._heartbeatsCache.heartbeats.push({date:z,agent:T}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((T=>{const z=new Date(T.date).valueOf();return Date.now()-z<=2592e6})),this._i.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const T=VT(),{heartbeatsToSend:z,unsentEntries:X}=function(T){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const X=[];let b=T.slice();for(const F of T){const T=X.find((T=>T.agent===F.agent));if(T){if(T.dates.push(F.date),GT(X)>z){T.dates.pop();break}}else if(X.push({agent:F.agent,dates:[F.date]}),GT(X)>z){X.pop();break}b=b.slice(1)}return{heartbeatsToSend:X,unsentEntries:b}}(this._heartbeatsCache.heartbeats),b=(0,A.o)(JSON.stringify({version:2,heartbeats:z}));return this._heartbeatsCache.lastSentHeartbeatDate=T,X.length>0?(this._heartbeatsCache.heartbeats=X,await this._i.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._i.overwrite(this._heartbeatsCache)),b}}function VT(){return(new Date).toISOString().substring(0,10)}class CT{constructor(T){this.app=T,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,A._)()&&(0,A.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(T){try{const z=await NT();return await z.transaction(KT).objectStore(KT).get(aT(T))}catch(z){if(z instanceof A.f)V.warn(z.message);else{const T=vT.create("idb-get",{originalErrorMessage:null===z||void 0===z?void 0:z.message});V.warn(T.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(T){var z;if(await this._canUseIndexedDBPromise){const X=await this.read();return lT(this.app,{lastSentHeartbeatDate:null!==(z=T.lastSentHeartbeatDate)&&void 0!==z?z:X.lastSentHeartbeatDate,heartbeats:T.heartbeats})}}async add(T){var z;if(await this._canUseIndexedDBPromise){const X=await this.read();return lT(this.app,{lastSentHeartbeatDate:null!==(z=T.lastSentHeartbeatDate)&&void 0!==z?z:X.lastSentHeartbeatDate,heartbeats:[...X.heartbeats,...T.heartbeats]})}}}function GT(T){return(0,A.o)(JSON.stringify({version:2,heartbeats:T})).length}var jT;jT="",FT(new b.f("platform-logger",(T=>new l(T)),"PRIVATE")),FT(new b.f("heartbeat",(T=>new qT(T)),"PRIVATE")),UT(a,q,jT),UT(a,q,"esm2017"),UT("fire-js","")},11653:(T,z,X)=>{X.d(z,{b:()=>y,f:()=>F});var b=X(11656);class F{constructor(T,z,X){this.name=T,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(T){return this.instantiationMode=T,this}setMultipleInstances(T){return this.multipleInstances=T,this}setServiceProps(T){return this.serviceProps=T,this}setInstanceCreatedCallback(T){return this.onInstanceCreated=T,this}}const A="[DEFAULT]";class u{constructor(T,z){this.name=T,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(T){const z=this.normalizeInstanceIdentifier(T);if(!this.instancesDeferred.has(z)){const T=new b.c;if(this.instancesDeferred.set(z,T),this.isInitialized(z)||this.shouldAutoInitialize())try{const X=this.getOrInitializeService({instanceIdentifier:z});X&&T.resolve(X)}catch(X){}}return this.instancesDeferred.get(z).promise}getImmediate(T){var z;const X=this.normalizeInstanceIdentifier(null===T||void 0===T?void 0:T.identifier),b=null!==(z=null===T||void 0===T?void 0:T.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(b)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(F){if(b)return null;throw F}}getComponent(){return this.component}setComponent(T){if(T.name!==this.name)throw Error(`Mismatching Component ${T.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=T,this.shouldAutoInitialize()){if(function(T){return"EAGER"===T.instantiationMode}(T))try{this.getOrInitializeService({instanceIdentifier:A})}catch(z){}for(const[T,X]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(T);try{const T=this.getOrInitializeService({instanceIdentifier:b});X.resolve(T)}catch(z){}}}}clearInstance(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;this.instancesDeferred.delete(T),this.instancesOptions.delete(T),this.instances.delete(T)}async delete(){const T=Array.from(this.instances.values());await Promise.all([...T.filter((T=>"INTERNAL"in T)).map((T=>T.INTERNAL.delete())),...T.filter((T=>"_delete"in T)).map((T=>T._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instances.has(T)}getOptions(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.instancesOptions.get(T)||{}}initialize(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:z={}}=T,X=this.normalizeInstanceIdentifier(T.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const b=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[F,A]of this.instancesDeferred.entries()){X===this.normalizeInstanceIdentifier(F)&&A.resolve(b)}return b}Ii(T,z){var X;const b=this.normalizeInstanceIdentifier(z),F=null!==(X=this.onInitCallbacks.get(b))&&void 0!==X?X:new Set;F.add(T),this.onInitCallbacks.set(b,F);const A=this.instances.get(b);return A&&T(A,b),()=>{F.delete(T)}}invokeOnInitCallbacks(T,z){const X=this.onInitCallbacks.get(z);if(X)for(const F of X)try{F(T,z)}catch(b){}}getOrInitializeService(T){let{instanceIdentifier:z,options:X={}}=T,b=this.instances.get(z);if(!b&&this.component&&(b=this.component.instanceFactory(this.container,{instanceIdentifier:(F=z,F===A?void 0:F),options:X}),this.instances.set(z,b),this.instancesOptions.set(z,X),this.invokeOnInitCallbacks(b,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,b)}catch(u){}var F;return b||null}normalizeInstanceIdentifier(){let T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return this.component?this.component.multipleInstances?T:A:T}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y{constructor(T){this.name=T,this.providers=new Map}Ff(T){const z=this.getProvider(T.name);if(z.isComponentSet())throw new Error(`Component ${T.name} has already been registered with ${this.name}`);z.setComponent(T)}addOrOverwriteComponent(T){this.getProvider(T.name).isComponentSet()&&this.providers.delete(T.name),this.Ff(T)}getProvider(T){if(this.providers.has(T))return this.providers.get(T);const z=new u(T,this);return this.providers.set(T,z),z}getProviders(){return Array.from(this.providers.values())}}},11662:(T,z,X)=>{X.d(z,{d:()=>F,e:()=>v,g:()=>k,i:()=>L});const b=[];var F;!function(T){T[T.DEBUG=0]="DEBUG",T[T.VERBOSE=1]="VERBOSE",T[T.INFO=2]="INFO",T[T.WARN=3]="WARN",T[T.ERROR=4]="ERROR",T[T.SILENT=5]="SILENT"}(F||(F={}));const A={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},u=F.INFO,y={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},E=function(T,z){if(z<T.logLevel)return;const X=(new Date).toISOString(),b=y[z];if(!b)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);for(var F=arguments.length,A=new Array(F>2?F-2:0),u=2;u<F;u++)A[u-2]=arguments[u];console[b](`[${X}]  ${T.name}:`,...A)};class v{constructor(T){this.name=T,this._logLevel=u,this._logHandler=E,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(T){if(!(T in F))throw new TypeError(`Invalid value "${T}" assigned to \`logLevel\``);this._logLevel=T}setLogLevel(T){this._logLevel="string"===typeof T?A[T]:T}get logHandler(){return this._logHandler}set logHandler(T){if("function"!==typeof T)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=T}get userLogHandler(){return this._userLogHandler}set userLogHandler(T){this._userLogHandler=T}debug(){for(var T=arguments.length,z=new Array(T),X=0;X<T;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...z),this._logHandler(this,F.DEBUG,...z)}log(){for(var T=arguments.length,z=new Array(T),X=0;X<T;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...z),this._logHandler(this,F.VERBOSE,...z)}info(){for(var T=arguments.length,z=new Array(T),X=0;X<T;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler(this,F.INFO,...z),this._logHandler(this,F.INFO,...z)}warn(){for(var T=arguments.length,z=new Array(T),X=0;X<T;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler(this,F.WARN,...z),this._logHandler(this,F.WARN,...z)}error(){for(var T=arguments.length,z=new Array(T),X=0;X<T;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...z),this._logHandler(this,F.ERROR,...z)}}function k(T){b.forEach((z=>{z.setLogLevel(T)}))}function L(T,z){for(const X of b){let b=null;z&&z.level&&(b=A[z.level]),X.userLogHandler=null===T?null:function(z,X){for(var A=arguments.length,u=new Array(A>2?A-2:0),y=2;y<A;y++)u[y-2]=arguments[y];const E=u.map((T=>{if(null==T)return null;if("string"===typeof T)return T;if("number"===typeof T||"boolean"===typeof T)return T.toString();if(T instanceof Error)return T.message;try{return JSON.stringify(T)}catch(z){return null}})).filter((T=>T)).join(" ");X>=(null!==b&&void 0!==b?b:z.logLevel)&&T({level:F[X].toLowerCase(),message:E,args:u,type:z.name})}}}}}]);