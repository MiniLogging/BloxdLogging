/*! For license information please see ayyxj.37.96db88c9.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11822:(f,H,Q)=>{Q.d(H,{B:()=>w,D:()=>E,F:()=>Y,H:()=>u,L:()=>k,O:()=>B,P:()=>F,S:()=>v,U:()=>h,W:()=>M,_:()=>q,ab:()=>r,d:()=>X,db:()=>S,fb:()=>R,g:()=>G,hb:()=>P,k:()=>p,l:()=>I,lb:()=>z,n:()=>e,r:()=>n,v:()=>L,x:()=>g});const a=function(f){const H=[];let Q=0;for(let a=0;a<f.length;a++){let d=f.charCodeAt(a);d<128?H[Q++]=d:d<2048?(H[Q++]=d>>6|192,H[Q++]=63&d|128):55296===(64512&d)&&a+1<f.length&&56320===(64512&f.charCodeAt(a+1))?(d=65536+((1023&d)<<10)+(1023&f.charCodeAt(++a)),H[Q++]=d>>18|240,H[Q++]=d>>12&63|128,H[Q++]=d>>6&63|128,H[Q++]=63&d|128):(H[Q++]=d>>12|224,H[Q++]=d>>6&63|128,H[Q++]=63&d|128)}return H},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(f,H){if(!Array.isArray(f))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let d=0;d<f.length;d+=3){const H=f[d],s=d+1<f.length,n=s?f[d+1]:0,e=d+2<f.length,c=e?f[d+2]:0,J=H>>2,u=(3&H)<<4|n>>4;let Y=(15&n)<<2|c>>6,k=63&c;e||(k=64,s||(Y=64)),a.push(Q[J],Q[u],Q[Y],Q[k])}return a.join("")},encodeString(f,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(f):this.encodeByteArray(a(f),H)},decodeString(f,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(f):function(f){const H=[];let Q=0,a=0;for(;Q<f.length;){const d=f[Q++];if(d<128)H[a++]=String.fromCharCode(d);else if(d>191&&d<224){const s=f[Q++];H[a++]=String.fromCharCode((31&d)<<6|63&s)}else if(d>239&&d<365){const s=((7&d)<<18|(63&f[Q++])<<12|(63&f[Q++])<<6|63&f[Q++])-65536;H[a++]=String.fromCharCode(55296+(s>>10)),H[a++]=String.fromCharCode(56320+(1023&s))}else{const s=f[Q++],n=f[Q++];H[a++]=String.fromCharCode((15&d)<<12|(63&s)<<6|63&n)}}return H.join("")}(this.decodeStringToByteArray(f,H))},decodeStringToByteArray(f,H){this.init_();const Q=H?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let d=0;d<f.length;){const H=Q[f.charAt(d++)],n=d<f.length?Q[f.charAt(d)]:0;++d;const e=d<f.length?Q[f.charAt(d)]:64;++d;const c=d<f.length?Q[f.charAt(d)]:64;if(++d,null==H||null==n||null==e||null==c)throw new s;const J=H<<2|n>>4;if(a.push(J),64!==e){const f=n<<4&240|e>>2;if(a.push(f),64!==c){const f=e<<6&192|c;a.push(f)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let f=0;f<this.ENCODED_VALS.length;f++)this.byteToCharMap_[f]=this.ENCODED_VALS.charAt(f),this.charToByteMap_[this.byteToCharMap_[f]]=f,this.byteToCharMapWebSafe_[f]=this.ENCODED_VALS_WEBSAFE.charAt(f),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[f]]=f,f>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(f)]=f,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(f)]=f)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n=function(f){return function(f){const H=a(f);return d.encodeByteArray(H,!0)}(f).replace(/\./g,"")},e=function(f){try{return d.decodeString(f,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Q.g)return Q.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,J=()=>{try{return c()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let f;try{f=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const H=f&&e(f[1]);return H&&JSON.parse(H)})()}catch(f){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${f}`)}},u=f=>{var H,Q;return null===(Q=null===(H=J())||void 0===H?void 0:H.emulatorHosts)||void 0===Q?void 0:Q[f]},Y=()=>{var f;return null===(f=J())||void 0===f?void 0:f.config},k=f=>{var H;return null===(H=J())||void 0===H?void 0:H[`_${f}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((f,H)=>{this.resolve=f,this.reject=H}))}wrapCallback(f){return(H,Q)=>{H?this.reject(H):this.resolve(Q),"function"===typeof f&&(this.promise.catch((()=>{})),1===f.length?f(H):f(H,Q))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function r(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function v(){const f="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof f&&void 0!==f.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function M(){const f=F();return f.indexOf("MSIE ")>=0||f.indexOf("Trident/")>=0}function q(){try{return"object"===typeof indexedDB}catch(f){return!1}}function z(){return new Promise(((f,H)=>{try{let Q=!0;const a="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(a);d.onsuccess=()=>{d.result.close(),Q||self.indexedDB.deleteDatabase(a),f(!0)},d.onupgradeneeded=()=>{Q=!1},d.onerror=()=>{var f;H((null===(f=d.error)||void 0===f?void 0:f.message)||"")}}catch(Q){H(Q)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class p extends Error{constructor(f,H,Q){super(H),this.code=f,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(f,H,Q){this.service=f,this.serviceName=H,this.errors=Q}create(f){const H=(arguments.length<=1?void 0:arguments[1])||{},Q=`${this.service}/${f}`,a=this.errors[f],d=a?function(f,H){return f.replace(D,((f,Q)=>{const a=H[Q];return null!=a?String(a):`<${Q}?>`}))}(a,H):"Error",s=`${this.serviceName}: ${d} (${Q}).`;return new p(Q,s,H)}}const D=/\{\$([^}]+)}/g;function h(f){for(const H in f)if(Object.prototype.hasOwnProperty.call(f,H))return!1;return!0}function w(f,H){if(f===H)return!0;const Q=Object.keys(f),a=Object.keys(H);for(const d of Q){if(!a.includes(d))return!1;const Q=f[d],s=H[d];if(y(Q)&&y(s)){if(!w(Q,s))return!1}else if(Q!==s)return!1}for(const d of a)if(!Q.includes(d))return!1;return!0}function y(f){return null!==f&&"object"===typeof f}function P(f){const H=[];for(const[Q,a]of Object.entries(f))Array.isArray(a)?a.forEach((f=>{H.push(encodeURIComponent(Q)+"="+encodeURIComponent(f))})):H.push(encodeURIComponent(Q)+"="+encodeURIComponent(a));return H.length?"&"+H.join("&"):""}function R(f){const H={};return f.replace(/^\?/,"").split("&").forEach((f=>{if(f){const[Q,a]=f.split("=");H[decodeURIComponent(Q)]=decodeURIComponent(a)}})),H}function E(f){const H=f.indexOf("?");if(!H)return"";const Q=f.indexOf("#",H);return f.substring(H,Q>0?Q:void 0)}function g(f,H){const Q=new K(f,H);return Q.subscribe.bind(Q)}class K{constructor(f,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then((()=>{f(this)})).catch((f=>{this.error(f)}))}next(f){this.forEachObserver((H=>{H.next(f)}))}error(f){this.forEachObserver((H=>{H.error(f)})),this.close(f)}complete(){this.forEachObserver((f=>{f.complete()})),this.close()}subscribe(f,H,Q){let a;if(void 0===f&&void 0===H&&void 0===Q)throw new Error("Missing Observer.");a=function(f,H){if("object"!==typeof f||null===f)return!1;for(const Q of H)if(Q in f&&"function"===typeof f[Q])return!0;return!1}(f,["next","error","complete"])?f:{next:f,error:H,complete:Q},void 0===a.next&&(a.next=b),void 0===a.error&&(a.error=b),void 0===a.complete&&(a.complete=b);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch(f){}})),this.observers.push(a),d}unsubscribeOne(f){void 0!==this.observers&&void 0!==this.observers[f]&&(delete this.observers[f],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(f){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,f)}sendOne(f,H){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[f])try{H(this.observers[f])}catch(Q){"undefined"!==typeof console&&console.error&&console.error(Q)}}))}close(f){this.finalized||(this.finalized=!0,void 0!==f&&(this.finalError=f),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function b(){}const l=1e3,V=2,C=144e5,m=.5;function L(f){let H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;const Q=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)*Math.pow(H,f),a=Math.round(m*Q*(Math.random()-.5)*2);return Math.min(C,Q+a)}function B(f){return f&&f._delegate?f._delegate:f}},11808:(f,H,Q)=>{Q.d(H,{b:()=>s.k,e:()=>Yf,i:()=>j,m:()=>Qf,o:()=>af,s:()=>ff,v:()=>ef,x:()=>Hf,z:()=>sf,D:()=>df,G:()=>nf,I:()=>rf,O:()=>Xf,L:()=>Ff,Q:()=>kf,R:()=>Sf,U:()=>vf,X:()=>Mf});var a=Q(11815),d=Q(11831),s=Q(11822);let n,e;const c=new WeakMap,J=new WeakMap,u=new WeakMap,Y=new WeakMap,k=new WeakMap;let X={get(f,H,Q){if(f instanceof IDBTransaction){if("done"===H)return J.get(f);if("objectStoreNames"===H)return f.objectStoreNames||u.get(f);if("store"===H)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return v(f[H])},set:(f,H,Q)=>(f[H]=Q,!0),has:(f,H)=>f instanceof IDBTransaction&&("done"===H||"store"===H)||H in f};function F(f){return f!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(e||(e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(f)?function(){for(var H=arguments.length,Q=new Array(H),a=0;a<H;a++)Q[a]=arguments[a];return f.apply(S(this),Q),v(c.get(this))}:function(){for(var H=arguments.length,Q=new Array(H),a=0;a<H;a++)Q[a]=arguments[a];return v(f.apply(S(this),Q))}:function(H){for(var Q=arguments.length,a=new Array(Q>1?Q-1:0),d=1;d<Q;d++)a[d-1]=arguments[d];const s=f.call(S(this),H,...a);return u.set(s,H.sort?H.sort():[H]),v(s)}}function r(f){return"function"===typeof f?F(f):(f instanceof IDBTransaction&&function(f){if(J.has(f))return;const H=new Promise(((H,Q)=>{const a=()=>{f.removeEventListener("complete",d),f.removeEventListener("error",s),f.removeEventListener("abort",s)},d=()=>{H(),a()},s=()=>{Q(f.error||new DOMException("AbortError","AbortError")),a()};f.addEventListener("complete",d),f.addEventListener("error",s),f.addEventListener("abort",s)}));J.set(f,H)}(f),H=f,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((f=>H instanceof f))?new Proxy(f,X):f);var H}function v(f){if(f instanceof IDBRequest)return function(f){const H=new Promise(((H,Q)=>{const a=()=>{f.removeEventListener("success",d),f.removeEventListener("error",s)},d=()=>{H(v(f.result)),a()},s=()=>{Q(f.error),a()};f.addEventListener("success",d),f.addEventListener("error",s)}));return H.then((H=>{H instanceof IDBCursor&&c.set(H,f)})).catch((()=>{})),k.set(H,f),H}(f);if(Y.has(f))return Y.get(f);const H=r(f);return H!==f&&(Y.set(f,H),k.set(H,f)),H}const S=f=>k.get(f);const M=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],z=new Map;function I(f,H){if(!(f instanceof IDBDatabase)||H in f||"string"!==typeof H)return;if(z.get(H))return z.get(H);const Q=H.replace(/FromIndex$/,""),a=H!==Q,d=q.includes(Q);if(!(Q in(a?IDBIndex:IDBObjectStore).prototype)||!d&&!M.includes(Q))return;const s=async function(f){const H=this.transaction(f,d?"readwrite":"readonly");let s=H.store;for(var n=arguments.length,e=new Array(n>1?n-1:0),c=1;c<n;c++)e[c-1]=arguments[c];return a&&(s=s.index(e.shift())),(await Promise.all([s[Q](...e),d&&H.done]))[0]};return z.set(H,s),s}X=(f=>({...f,get:(H,Q,a)=>I(H,Q)||f.get(H,Q,a),has:(H,Q)=>!!I(H,Q)||f.has(H,Q)}))(X);class p{constructor(f){this.container=f}getPlatformInfoString(){return this.container.getProviders().map((f=>{if(function(f){const H=f.getComponent();return"VERSION"===(null===H||void 0===H?void 0:H.type)}(f)){const H=f.getImmediate();return`${H.library}/${H.version}`}return null})).filter((f=>f)).join(" ")}}const G="@firebase/app",D="0.9.13",h=new d.e("@firebase/app"),w="@firebase/app-compat",y="@firebase/analytics-compat",P="@firebase/analytics",R="@firebase/app-check-compat",E="@firebase/app-check",g="@firebase/auth",K="@firebase/auth-compat",b="@firebase/database",l="@firebase/database-compat",V="@firebase/functions",C="@firebase/functions-compat",m="@firebase/installations",L="@firebase/installations-compat",B="@firebase/messaging",O="@firebase/messaging-compat",t="@firebase/performance",Z="@firebase/performance-compat",A="@firebase/remote-config",T="@firebase/remote-config-compat",U="@firebase/storage",i="@firebase/storage-compat",W="@firebase/firestore",o="@firebase/firestore-compat",x="firebase",j="[DEFAULT]",N={[G]:"fire-core",[w]:"fire-core-compat",[P]:"fire-analytics",[y]:"fire-analytics-compat",[E]:"fire-app-check",[R]:"fire-app-check-compat",[g]:"fire-auth",[K]:"fire-auth-compat",[b]:"fire-rtdb",[l]:"fire-rtdb-compat",[V]:"fire-fn",[C]:"fire-fn-compat",[m]:"fire-iid",[L]:"fire-iid-compat",[B]:"fire-fcm",[O]:"fire-fcm-compat",[t]:"fire-perf",[Z]:"fire-perf-compat",[A]:"fire-rc",[T]:"fire-rc-compat",[U]:"fire-gcs",[i]:"fire-gcs-compat",[W]:"fire-fst",[o]:"fire-fst-compat","fire-js":"fire-js",[x]:"fire-js-all"},ff=new Map,Hf=new Map;function Qf(f,H){try{f.container.If(H)}catch(Q){h.debug(`Component ${H.name} failed to register with FirebaseApp ${f.name}`,Q)}}function af(f,H){f.container.addOrOverwriteComponent(H)}function df(f){const H=f.name;if(Hf.has(H))return h.debug(`There were multiple attempts to register component ${H}.`),!1;Hf.set(H,f);for(const Q of ff.values())Qf(Q,f);return!0}function sf(f,H){const Q=f.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),f.container.getProvider(H)}function nf(f,H){let Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;sf(f,H).clearInstance(Q)}function ef(){Hf.clear()}const cf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jf=new s.g("app","Firebase",cf);class uf{constructor(f,H,Q){this._isDeleted=!1,this._options=Object.assign({},f),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=Q,this.container.If(new a.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(f){this.checkDestroyed(),this._automaticDataCollectionEnabled=f}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(f){this._isDeleted=f}checkDestroyed(){if(this.isDeleted)throw Jf.create("app-deleted",{appName:this._name})}}const Yf="9.23.0";function kf(f){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Q=f;if("object"!==typeof H){H={name:H}}const d=Object.assign({name:j,automaticDataCollectionEnabled:!1},H),n=d.name;if("string"!==typeof n||!n)throw Jf.create("bad-app-name",{appName:String(n)});if(Q||(Q=(0,s.F)()),!Q)throw Jf.create("no-options");const e=ff.get(n);if(e){if((0,s.B)(Q,e.options)&&(0,s.B)(d,e.config))return e;throw Jf.create("duplicate-app",{appName:n})}const c=new a.d(n);for(const a of Hf.values())c.If(a);const J=new uf(Q,d,c);return ff.set(n,J),J}function Xf(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;const H=ff.get(f);if(!H&&f===j&&(0,s.F)())return kf();if(!H)throw Jf.create("no-app",{appName:f});return H}function Ff(){return Array.from(ff.values())}async function rf(f){const H=f.name;ff.has(H)&&(ff.delete(H),await Promise.all(f.container.getProviders().map((f=>f.delete()))),f.isDeleted=!0)}function vf(f,H,Q){var d;let s=null!==(d=N[f])&&void 0!==d?d:f;Q&&(s+=`-${Q}`);const n=s.match(/\s|\//),e=H.match(/\s|\//);if(n||e){const f=[`Unable to register library "${s}" with version "${H}":`];return n&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),n&&e&&f.push("and"),e&&f.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void h.warn(f.join(" "))}df(new a.h(`${s}-version`,(()=>({library:s,version:H})),"VERSION"))}function Sf(f,H){if(null!==f&&"function"!==typeof f)throw Jf.create("invalid-log-argument");(0,d.m)(f,H)}function Mf(f){(0,d.i)(f)}const qf="firebase-heartbeat-store";let zf=null;function If(){return zf||(zf=function(f,H){let{blocked:Q,upgrade:a,blocking:d,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=indexedDB.open(f,H),e=v(n);return a&&n.addEventListener("upgradeneeded",(f=>{a(v(n.result),f.oldVersion,f.newVersion,v(n.transaction),f)})),Q&&n.addEventListener("blocked",(f=>Q(f.oldVersion,f.newVersion,f))),e.then((f=>{s&&f.addEventListener("close",(()=>s())),d&&f.addEventListener("versionchange",(f=>d(f.oldVersion,f.newVersion,f)))})).catch((()=>{})),e}("firebase-heartbeat-database",1,{upgrade:(f,H)=>{if(0===H)f.createObjectStore(qf)}}).catch((f=>{throw Jf.create("idb-open",{originalErrorMessage:f.message})}))),zf}async function pf(f,H){try{const Q=(await If()).transaction(qf,"readwrite"),a=Q.objectStore(qf);await a.put(H,Gf(f)),await Q.done}catch(Q){if(Q instanceof s.k)h.warn(Q.message);else{const f=Jf.create("idb-set",{originalErrorMessage:null===Q||void 0===Q?void 0:Q.message});h.warn(f.message)}}}function Gf(f){return`${f.name}!${f.options.appId}`}class Df{constructor(f){this.container=f,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this.Ti=new wf(H),this._heartbeatsCachePromise=this.Ti.read().then((f=>(this._heartbeatsCache=f,f)))}async triggerHeartbeat(){const f=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),H=hf();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==H&&!this._heartbeatsCache.heartbeats.some((f=>f.date===H)))return this._heartbeatsCache.heartbeats.push({date:H,agent:f}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((f=>{const H=new Date(f.date).valueOf();return Date.now()-H<=2592e6})),this.Ti.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const f=hf(),{heartbeatsToSend:H,unsentEntries:Q}=function(f){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Q=[];let a=f.slice();for(const d of f){const f=Q.find((f=>f.agent===d.agent));if(f){if(f.dates.push(d.date),yf(Q)>H){f.dates.pop();break}}else if(Q.push({agent:d.agent,dates:[d.date]}),yf(Q)>H){Q.pop();break}a=a.slice(1)}return{heartbeatsToSend:Q,unsentEntries:a}}(this._heartbeatsCache.heartbeats),a=(0,s.r)(JSON.stringify({version:2,heartbeats:H}));return this._heartbeatsCache.lastSentHeartbeatDate=f,Q.length>0?(this._heartbeatsCache.heartbeats=Q,await this.Ti.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ti.overwrite(this._heartbeatsCache)),a}}function hf(){return(new Date).toISOString().substring(0,10)}class wf{constructor(f){this.app=f,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s._)()&&(0,s.lb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(f){try{const H=await If();return await H.transaction(qf).objectStore(qf).get(Gf(f))}catch(H){if(H instanceof s.k)h.warn(H.message);else{const f=Jf.create("idb-get",{originalErrorMessage:null===H||void 0===H?void 0:H.message});h.warn(f.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(f){var H;if(await this._canUseIndexedDBPromise){const Q=await this.read();return pf(this.app,{lastSentHeartbeatDate:null!==(H=f.lastSentHeartbeatDate)&&void 0!==H?H:Q.lastSentHeartbeatDate,heartbeats:f.heartbeats})}}async add(f){var H;if(await this._canUseIndexedDBPromise){const Q=await this.read();return pf(this.app,{lastSentHeartbeatDate:null!==(H=f.lastSentHeartbeatDate)&&void 0!==H?H:Q.lastSentHeartbeatDate,heartbeats:[...Q.heartbeats,...f.heartbeats]})}}}function yf(f){return(0,s.r)(JSON.stringify({version:2,heartbeats:f})).length}var Pf;Pf="",df(new a.h("platform-logger",(f=>new p(f)),"PRIVATE")),df(new a.h("heartbeat",(f=>new Df(f)),"PRIVATE")),vf(G,D,Pf),vf(G,D,"esm2017"),vf("fire-js","")},11815:(f,H,Q)=>{Q.d(H,{d:()=>e,h:()=>d});var a=Q(11822);class d{constructor(f,H,Q){this.name=f,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(f){return this.instantiationMode=f,this}setMultipleInstances(f){return this.multipleInstances=f,this}setServiceProps(f){return this.serviceProps=f,this}setInstanceCreatedCallback(f){return this.onInstanceCreated=f,this}}const s="[DEFAULT]";class n{constructor(f,H){this.name=f,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(f){const H=this.normalizeInstanceIdentifier(f);if(!this.instancesDeferred.has(H)){const f=new a.d;if(this.instancesDeferred.set(H,f),this.isInitialized(H)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:H});Q&&f.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(H).promise}getImmediate(f){var H;const Q=this.normalizeInstanceIdentifier(null===f||void 0===f?void 0:f.identifier),a=null!==(H=null===f||void 0===f?void 0:f.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(a)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(d){if(a)return null;throw d}}getComponent(){return this.component}setComponent(f){if(f.name!==this.name)throw Error(`Mismatching Component ${f.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=f,this.shouldAutoInitialize()){if(function(f){return"EAGER"===f.instantiationMode}(f))try{this.getOrInitializeService({instanceIdentifier:s})}catch(H){}for(const[f,Q]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(f);try{const f=this.getOrInitializeService({instanceIdentifier:a});Q.resolve(f)}catch(H){}}}}clearInstance(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(f),this.instancesOptions.delete(f),this.instances.delete(f)}async delete(){const f=Array.from(this.instances.values());await Promise.all([...f.filter((f=>"INTERNAL"in f)).map((f=>f.INTERNAL.delete())),...f.filter((f=>"_delete"in f)).map((f=>f._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(f)}getOptions(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(f)||{}}initialize(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:H={}}=f,Q=this.normalizeInstanceIdentifier(f.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[d,s]of this.instancesDeferred.entries()){Q===this.normalizeInstanceIdentifier(d)&&s.resolve(a)}return a}Ai(f,H){var Q;const a=this.normalizeInstanceIdentifier(H),d=null!==(Q=this.onInitCallbacks.get(a))&&void 0!==Q?Q:new Set;d.add(f),this.onInitCallbacks.set(a,d);const s=this.instances.get(a);return s&&f(s,a),()=>{d.delete(f)}}invokeOnInitCallbacks(f,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const d of Q)try{d(f,H)}catch(a){}}getOrInitializeService(f){let{instanceIdentifier:H,options:Q={}}=f,a=this.instances.get(H);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(d=H,d===s?void 0:d),options:Q}),this.instances.set(H,a),this.instancesOptions.set(H,Q),this.invokeOnInitCallbacks(a,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,a)}catch(n){}var d;return a||null}normalizeInstanceIdentifier(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?f:s:f}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e{constructor(f){this.name=f,this.providers=new Map}If(f){const H=this.getProvider(f.name);if(H.isComponentSet())throw new Error(`Component ${f.name} has already been registered with ${this.name}`);H.setComponent(f)}addOrOverwriteComponent(f){this.getProvider(f.name).isComponentSet()&&this.providers.delete(f.name),this.If(f)}getProvider(f){if(this.providers.has(f))return this.providers.get(f);const H=new n(f,this);return this.providers.set(f,H),H}getProviders(){return Array.from(this.providers.values())}}},11831:(f,H,Q)=>{Q.d(H,{d:()=>d,e:()=>J,i:()=>u,m:()=>Y});const a=[];var d;!function(f){f[f.DEBUG=0]="DEBUG",f[f.VERBOSE=1]="VERBOSE",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.SILENT=5]="SILENT"}(d||(d={}));const s={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},n=d.INFO,e={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},c=function(f,H){if(H<f.logLevel)return;const Q=(new Date).toISOString(),a=e[H];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);for(var d=arguments.length,s=new Array(d>2?d-2:0),n=2;n<d;n++)s[n-2]=arguments[n];console[a](`[${Q}]  ${f.name}:`,...s)};class J{constructor(f){this.name=f,this._logLevel=n,this._logHandler=c,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(f){if(!(f in d))throw new TypeError(`Invalid value "${f}" assigned to \`logLevel\``);this._logLevel=f}setLogLevel(f){this._logLevel="string"===typeof f?s[f]:f}get logHandler(){return this._logHandler}set logHandler(f){if("function"!==typeof f)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=f}get userLogHandler(){return this._userLogHandler}set userLogHandler(f){this._userLogHandler=f}debug(){for(var f=arguments.length,H=new Array(f),Q=0;Q<f;Q++)H[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...H),this._logHandler(this,d.DEBUG,...H)}log(){for(var f=arguments.length,H=new Array(f),Q=0;Q<f;Q++)H[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...H),this._logHandler(this,d.VERBOSE,...H)}info(){for(var f=arguments.length,H=new Array(f),Q=0;Q<f;Q++)H[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,d.INFO,...H),this._logHandler(this,d.INFO,...H)}warn(){for(var f=arguments.length,H=new Array(f),Q=0;Q<f;Q++)H[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,d.WARN,...H),this._logHandler(this,d.WARN,...H)}error(){for(var f=arguments.length,H=new Array(f),Q=0;Q<f;Q++)H[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler(this,d.ERROR,...H),this._logHandler(this,d.ERROR,...H)}}function u(f){a.forEach((H=>{H.setLogLevel(f)}))}function Y(f,H){for(const Q of a){let a=null;H&&H.level&&(a=s[H.level]),Q.userLogHandler=null===f?null:function(H,Q){for(var s=arguments.length,n=new Array(s>2?s-2:0),e=2;e<s;e++)n[e-2]=arguments[e];const c=n.map((f=>{if(null==f)return null;if("string"===typeof f)return f;if("number"===typeof f||"boolean"===typeof f)return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch(H){return null}})).filter((f=>f)).join(" ");Q>=(null!==a&&void 0!==a?a:H.logLevel)&&f({level:d[Q].toLowerCase(),message:c,args:n,type:H.name})}}}}}]);