/*! For license information please see seq7h8.37.fcad7e89.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11047:(G,D,N)=>{N.d(D,{$:()=>z,A:()=>J,D:()=>q,H:()=>v,J:()=>g,L:()=>Q,N:()=>W,O:()=>Y,P:()=>S,Q:()=>h,T:()=>m,U:()=>j,W:()=>y,Y:()=>i,ab:()=>R,c:()=>X,g:()=>B,h:()=>w,j:()=>L,n:()=>C,q:()=>n,s:()=>O,u:()=>p,w:()=>V});const T=function(G){const D=[];let N=0;for(let T=0;T<G.length;T++){let o=G.charCodeAt(T);o<128?D[N++]=o:o<2048?(D[N++]=o>>6|192,D[N++]=63&o|128):55296===(64512&o)&&T+1<G.length&&56320===(64512&G.charCodeAt(T+1))?(o=65536+((1023&o)<<10)+(1023&G.charCodeAt(++T)),D[N++]=o>>18|240,D[N++]=o>>12&63|128,D[N++]=o>>6&63|128,D[N++]=63&o|128):(D[N++]=o>>12|224,D[N++]=o>>6&63|128,D[N++]=63&o|128)}return D},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(G,D){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,T=[];for(let o=0;o<G.length;o+=3){const D=G[o],Z=o+1<G.length,n=Z?G[o+1]:0,C=o+2<G.length,P=C?G[o+2]:0,r=D>>2,v=(3&D)<<4|n>>4;let q=(15&n)<<2|P>>6,g=63&P;C||(g=64,Z||(q=64)),T.push(N[r],N[v],N[q],N[g])}return T.join("")},encodeString(G,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(G):this.encodeByteArray(T(G),D)},decodeString(G,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(G):function(G){const D=[];let N=0,T=0;for(;N<G.length;){const o=G[N++];if(o<128)D[T++]=String.fromCharCode(o);else if(o>191&&o<224){const Z=G[N++];D[T++]=String.fromCharCode((31&o)<<6|63&Z)}else if(o>239&&o<365){const Z=((7&o)<<18|(63&G[N++])<<12|(63&G[N++])<<6|63&G[N++])-65536;D[T++]=String.fromCharCode(55296+(Z>>10)),D[T++]=String.fromCharCode(56320+(1023&Z))}else{const Z=G[N++],n=G[N++];D[T++]=String.fromCharCode((15&o)<<12|(63&Z)<<6|63&n)}}return D.join("")}(this.decodeStringToByteArray(G,D))},decodeStringToByteArray(G,D){this.init_();const N=D?this.charToByteMapWebSafe_:this.charToByteMap_,T=[];for(let o=0;o<G.length;){const D=N[G.charAt(o++)],n=o<G.length?N[G.charAt(o)]:0;++o;const C=o<G.length?N[G.charAt(o)]:64;++o;const P=o<G.length?N[G.charAt(o)]:64;if(++o,null==D||null==n||null==C||null==P)throw new Z;const r=D<<2|n>>4;if(T.push(r),64!==C){const G=n<<4&240|C>>2;if(T.push(G),64!==P){const G=C<<6&192|P;T.push(G)}}}return T},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n=function(G){return function(G){const D=T(G);return o.encodeByteArray(D,!0)}(G).replace(/\./g,"")},C=function(G){try{return o.decodeString(G,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};const P=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof N.g)return N.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,r=()=>{try{return P()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(N){return}const D=G&&C(G[1]);return D&&JSON.parse(D)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},v=G=>{var D,N;return null===(N=null===(D=r())||void 0===D?void 0:D.emulatorHosts)||void 0===N?void 0:N[G]},q=()=>{var G;return null===(G=r())||void 0===G?void 0:G.config},g=G=>{var D;return null===(D=r())||void 0===D?void 0:D[`_${G}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((G,D)=>{this.resolve=G,this.reject=D}))}wrapCallback(G){return(D,N)=>{D?this.reject(D):this.resolve(N),"function"===typeof G&&(this.promise.catch((()=>{})),1===G.length?G(D):G(D,N))}}}function W(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function j(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function Y(){const G="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof G&&void 0!==G.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function h(){const G=W();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function m(){try{return"object"===typeof indexedDB}catch(G){return!1}}function R(){return new Promise(((G,D)=>{try{let N=!0;const T="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(T);o.onsuccess=()=>{o.result.close(),N||self.indexedDB.deleteDatabase(T),G(!0)},o.onupgradeneeded=()=>{N=!1},o.onerror=()=>{var G;D((null===(G=o.error)||void 0===G?void 0:G.message)||"")}}catch(N){D(N)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class w extends Error{constructor(G,D,N){super(D),this.code=G,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B.prototype.create)}}class B{constructor(G,D,N){this.service=G,this.serviceName=D,this.errors=N}create(G){const D=(arguments.length<=1?void 0:arguments[1])||{},N=`${this.service}/${G}`,T=this.errors[G],o=T?function(G,D){return G.replace(F,((G,N)=>{const T=D[N];return null!=T?String(T):`<${N}?>`}))}(T,D):"Error",Z=`${this.serviceName}: ${o} (${N}).`;return new w(N,Z,D)}}const F=/\{\$([^}]+)}/g;function S(G){for(const D in G)if(Object.prototype.hasOwnProperty.call(G,D))return!1;return!0}function V(G,D){if(G===D)return!0;const N=Object.keys(G),T=Object.keys(D);for(const o of N){if(!T.includes(o))return!1;const N=G[o],Z=D[o];if(U(N)&&U(Z)){if(!V(N,Z))return!1}else if(N!==Z)return!1}for(const o of T)if(!N.includes(o))return!1;return!0}function U(G){return null!==G&&"object"===typeof G}function z(G){const D=[];for(const[N,T]of Object.entries(G))Array.isArray(T)?T.forEach((G=>{D.push(encodeURIComponent(N)+"="+encodeURIComponent(G))})):D.push(encodeURIComponent(N)+"="+encodeURIComponent(T));return D.length?"&"+D.join("&"):""}function i(G){const D={};return G.replace(/^\?/,"").split("&").forEach((G=>{if(G){const[N,T]=G.split("=");D[decodeURIComponent(N)]=decodeURIComponent(T)}})),D}function J(G){const D=G.indexOf("?");if(!D)return"";const N=G.indexOf("#",D);return G.substring(D,N>0?N:void 0)}function p(G,D){const N=new t(G,D);return N.subscribe.bind(N)}class t{constructor(G,D){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=D,this.task.then((()=>{G(this)})).catch((G=>{this.error(G)}))}next(G){this.forEachObserver((D=>{D.next(G)}))}error(G){this.forEachObserver((D=>{D.error(G)})),this.close(G)}complete(){this.forEachObserver((G=>{G.complete()})),this.close()}subscribe(G,D,N){let T;if(void 0===G&&void 0===D&&void 0===N)throw new Error("Missing Observer.");T=function(G,D){if("object"!==typeof G||null===G)return!1;for(const N of D)if(N in G&&"function"===typeof G[N])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:D,complete:N},void 0===T.next&&(T.next=H),void 0===T.error&&(T.error=H),void 0===T.complete&&(T.complete=H);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch(G){}})),this.observers.push(T),o}unsubscribeOne(G){void 0!==this.observers&&void 0!==this.observers[G]&&(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let D=0;D<this.observers.length;D++)this.sendOne(D,G)}sendOne(G,D){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{D(this.observers[G])}catch(N){"undefined"!==typeof console&&console.error&&console.error(N)}}))}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function H(){}const s=1e3,c=2,K=144e5,b=.5;function O(G){let D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const N=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)*Math.pow(D,G),T=Math.round(b*N*(Math.random()-.5)*2);return Math.min(K,N+T)}function Q(G){return G&&G._delegate?G._delegate:G}},11039:(G,D,N)=>{N.d(D,{e:()=>Z.h,h:()=>qG,j:()=>e,m:()=>NG,o:()=>TG,r:()=>GG,u:()=>CG,x:()=>DG,z:()=>ZG,B:()=>oG,D:()=>nG,G:()=>jG,N:()=>XG,K:()=>WG,R:()=>gG,S:()=>yG,V:()=>YG,Y:()=>hG});var T=N(11041),o=N(11050),Z=N(11047);let n,C;const P=new WeakMap,r=new WeakMap,v=new WeakMap,q=new WeakMap,g=new WeakMap;let X={get(G,D,N){if(G instanceof IDBTransaction){if("done"===D)return r.get(G);if("objectStoreNames"===D)return G.objectStoreNames||v.get(G);if("store"===D)return N.objectStoreNames[1]?void 0:N.objectStore(N.objectStoreNames[0])}return Y(G[D])},set:(G,D,N)=>(G[D]=N,!0),has:(G,D)=>G instanceof IDBTransaction&&("done"===D||"store"===D)||D in G};function W(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(G)?function(){for(var D=arguments.length,N=new Array(D),T=0;T<D;T++)N[T]=arguments[T];return G.apply(y(this),N),Y(P.get(this))}:function(){for(var D=arguments.length,N=new Array(D),T=0;T<D;T++)N[T]=arguments[T];return Y(G.apply(y(this),N))}:function(D){for(var N=arguments.length,T=new Array(N>1?N-1:0),o=1;o<N;o++)T[o-1]=arguments[o];const Z=G.call(y(this),D,...T);return v.set(Z,D.sort?D.sort():[D]),Y(Z)}}function j(G){return"function"===typeof G?W(G):(G instanceof IDBTransaction&&function(G){if(r.has(G))return;const D=new Promise(((D,N)=>{const T=()=>{G.removeEventListener("complete",o),G.removeEventListener("error",Z),G.removeEventListener("abort",Z)},o=()=>{D(),T()},Z=()=>{N(G.error||new DOMException("AbortError","AbortError")),T()};G.addEventListener("complete",o),G.addEventListener("error",Z),G.addEventListener("abort",Z)}));r.set(G,D)}(G),D=G,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((G=>D instanceof G))?new Proxy(G,X):G);var D}function Y(G){if(G instanceof IDBRequest)return function(G){const D=new Promise(((D,N)=>{const T=()=>{G.removeEventListener("success",o),G.removeEventListener("error",Z)},o=()=>{D(Y(G.result)),T()},Z=()=>{N(G.error),T()};G.addEventListener("success",o),G.addEventListener("error",Z)}));return D.then((D=>{D instanceof IDBCursor&&P.set(D,G)})).catch((()=>{})),g.set(D,G),D}(G);if(q.has(G))return q.get(G);const D=j(G);return D!==G&&(q.set(G,D),g.set(D,G)),D}const y=G=>g.get(G);const h=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],R=new Map;function L(G,D){if(!(G instanceof IDBDatabase)||D in G||"string"!==typeof D)return;if(R.get(D))return R.get(D);const N=D.replace(/FromIndex$/,""),T=D!==N,o=m.includes(N);if(!(N in(T?IDBIndex:IDBObjectStore).prototype)||!o&&!h.includes(N))return;const Z=async function(G){const D=this.transaction(G,o?"readwrite":"readonly");let Z=D.store;for(var n=arguments.length,C=new Array(n>1?n-1:0),P=1;P<n;P++)C[P-1]=arguments[P];return T&&(Z=Z.index(C.shift())),(await Promise.all([Z[N](...C),o&&D.done]))[0]};return R.set(D,Z),Z}X=(G=>({...G,get:(D,N,T)=>L(D,N)||G.get(D,N,T),has:(D,N)=>!!L(D,N)||G.has(D,N)}))(X);class w{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map((G=>{if(function(G){const D=G.getComponent();return"VERSION"===(null===D||void 0===D?void 0:D.type)}(G)){const D=G.getImmediate();return`${D.library}/${D.version}`}return null})).filter((G=>G)).join(" ")}}const B="@firebase/app",F="0.9.13",S=new o.h("@firebase/app"),V="@firebase/app-compat",U="@firebase/analytics-compat",z="@firebase/analytics",i="@firebase/app-check-compat",J="@firebase/app-check",p="@firebase/auth",t="@firebase/auth-compat",H="@firebase/database",s="@firebase/database-compat",c="@firebase/functions",K="@firebase/functions-compat",b="@firebase/installations",O="@firebase/installations-compat",Q="@firebase/messaging",A="@firebase/messaging-compat",I="@firebase/performance",d="@firebase/performance-compat",u="@firebase/remote-config",l="@firebase/remote-config-compat",x="@firebase/storage",k="@firebase/storage-compat",a="@firebase/firestore",E="@firebase/firestore-compat",M="firebase",e="[DEFAULT]",f={[B]:"fire-core",[V]:"fire-core-compat",[z]:"fire-analytics",[U]:"fire-analytics-compat",[J]:"fire-app-check",[i]:"fire-app-check-compat",[p]:"fire-auth",[t]:"fire-auth-compat",[H]:"fire-rtdb",[s]:"fire-rtdb-compat",[c]:"fire-fn",[K]:"fire-fn-compat",[b]:"fire-iid",[O]:"fire-iid-compat",[Q]:"fire-fcm",[A]:"fire-fcm-compat",[I]:"fire-perf",[d]:"fire-perf-compat",[u]:"fire-rc",[l]:"fire-rc-compat",[x]:"fire-gcs",[k]:"fire-gcs-compat",[a]:"fire-fst",[E]:"fire-fst-compat","fire-js":"fire-js",[M]:"fire-js-all"},GG=new Map,DG=new Map;function NG(G,D){try{G.container.Cf(D)}catch(N){S.debug(`Component ${D.name} failed to register with FirebaseApp ${G.name}`,N)}}function TG(G,D){G.container.addOrOverwriteComponent(D)}function oG(G){const D=G.name;if(DG.has(D))return S.debug(`There were multiple attempts to register component ${D}.`),!1;DG.set(D,G);for(const N of GG.values())NG(N,G);return!0}function ZG(G,D){const N=G.container.getProvider("heartbeat").getImmediate({optional:!0});return N&&N.triggerHeartbeat(),G.container.getProvider(D)}function nG(G,D){let N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;ZG(G,D).clearInstance(N)}function CG(){DG.clear()}const PG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rG=new Z.g("app","Firebase",PG);class vG{constructor(G,D,N){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},D),this._name=D.name,this._automaticDataCollectionEnabled=D.automaticDataCollectionEnabled,this._container=N,this.container.Cf(new T.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw rG.create("app-deleted",{appName:this._name})}}const qG="9.23.0";function gG(G){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=G;if("object"!==typeof D){D={name:D}}const o=Object.assign({name:e,automaticDataCollectionEnabled:!1},D),n=o.name;if("string"!==typeof n||!n)throw rG.create("bad-app-name",{appName:String(n)});if(N||(N=(0,Z.D)()),!N)throw rG.create("no-options");const C=GG.get(n);if(C){if((0,Z.w)(N,C.options)&&(0,Z.w)(o,C.config))return C;throw rG.create("duplicate-app",{appName:n})}const P=new T.d(n);for(const T of DG.values())P.Cf(T);const r=new vG(N,o,P);return GG.set(n,r),r}function XG(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;const D=GG.get(G);if(!D&&G===e&&(0,Z.D)())return gG();if(!D)throw rG.create("no-app",{appName:G});return D}function WG(){return Array.from(GG.values())}async function jG(G){const D=G.name;GG.has(D)&&(GG.delete(D),await Promise.all(G.container.getProviders().map((G=>G.delete()))),G.isDeleted=!0)}function YG(G,D,N){var o;let Z=null!==(o=f[G])&&void 0!==o?o:G;N&&(Z+=`-${N}`);const n=Z.match(/\s|\//),C=D.match(/\s|\//);if(n||C){const G=[`Unable to register library "${Z}" with version "${D}":`];return n&&G.push(`library name "${Z}" contains illegal characters (whitespace or "/")`),n&&C&&G.push("and"),C&&G.push(`version name "${D}" contains illegal characters (whitespace or "/")`),void S.warn(G.join(" "))}oG(new T.f(`${Z}-version`,(()=>({library:Z,version:D})),"VERSION"))}function yG(G,D){if(null!==G&&"function"!==typeof G)throw rG.create("invalid-log-argument");(0,o.o)(G,D)}function hG(G){(0,o.l)(G)}const mG="firebase-heartbeat-store";let RG=null;function LG(){return RG||(RG=function(G,D){let{blocked:N,upgrade:T,blocking:o,terminated:Z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=indexedDB.open(G,D),C=Y(n);return T&&n.addEventListener("upgradeneeded",(G=>{T(Y(n.result),G.oldVersion,G.newVersion,Y(n.transaction),G)})),N&&n.addEventListener("blocked",(G=>N(G.oldVersion,G.newVersion,G))),C.then((G=>{Z&&G.addEventListener("close",(()=>Z())),o&&G.addEventListener("versionchange",(G=>o(G.oldVersion,G.newVersion,G)))})).catch((()=>{})),C}("firebase-heartbeat-database",1,{upgrade:(G,D)=>{if(0===D)G.createObjectStore(mG)}}).catch((G=>{throw rG.create("idb-open",{originalErrorMessage:G.message})}))),RG}async function wG(G,D){try{const N=(await LG()).transaction(mG,"readwrite"),T=N.objectStore(mG);await T.put(D,BG(G)),await N.done}catch(N){if(N instanceof Z.h)S.warn(N.message);else{const G=rG.create("idb-set",{originalErrorMessage:null===N||void 0===N?void 0:N.message});S.warn(G.message)}}}function BG(G){return`${G.name}!${G.options.appId}`}class FG{constructor(G){this.container=G,this._heartbeatsCache=null;const D=this.container.getProvider("app").getImmediate();this.Ri=new VG(D),this._heartbeatsCachePromise=this.Ri.read().then((G=>(this._heartbeatsCache=G,G)))}async triggerHeartbeat(){const G=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),D=SG();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==D&&!this._heartbeatsCache.heartbeats.some((G=>G.date===D)))return this._heartbeatsCache.heartbeats.push({date:D,agent:G}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((G=>{const D=new Date(G.date).valueOf();return Date.now()-D<=2592e6})),this.Ri.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const G=SG(),{heartbeatsToSend:D,unsentEntries:N}=function(G){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const N=[];let T=G.slice();for(const o of G){const G=N.find((G=>G.agent===o.agent));if(G){if(G.dates.push(o.date),UG(N)>D){G.dates.pop();break}}else if(N.push({agent:o.agent,dates:[o.date]}),UG(N)>D){N.pop();break}T=T.slice(1)}return{heartbeatsToSend:N,unsentEntries:T}}(this._heartbeatsCache.heartbeats),T=(0,Z.q)(JSON.stringify({version:2,heartbeats:D}));return this._heartbeatsCache.lastSentHeartbeatDate=G,N.length>0?(this._heartbeatsCache.heartbeats=N,await this.Ri.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ri.overwrite(this._heartbeatsCache)),T}}function SG(){return(new Date).toISOString().substring(0,10)}class VG{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,Z.T)()&&(0,Z.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(G){try{const D=await LG();return await D.transaction(mG).objectStore(mG).get(BG(G))}catch(D){if(D instanceof Z.h)S.warn(D.message);else{const G=rG.create("idb-get",{originalErrorMessage:null===D||void 0===D?void 0:D.message});S.warn(G.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(G){var D;if(await this._canUseIndexedDBPromise){const N=await this.read();return wG(this.app,{lastSentHeartbeatDate:null!==(D=G.lastSentHeartbeatDate)&&void 0!==D?D:N.lastSentHeartbeatDate,heartbeats:G.heartbeats})}}async add(G){var D;if(await this._canUseIndexedDBPromise){const N=await this.read();return wG(this.app,{lastSentHeartbeatDate:null!==(D=G.lastSentHeartbeatDate)&&void 0!==D?D:N.lastSentHeartbeatDate,heartbeats:[...N.heartbeats,...G.heartbeats]})}}}function UG(G){return(0,Z.q)(JSON.stringify({version:2,heartbeats:G})).length}var zG;zG="",oG(new T.f("platform-logger",(G=>new w(G)),"PRIVATE")),oG(new T.f("heartbeat",(G=>new FG(G)),"PRIVATE")),YG(B,F,zG),YG(B,F,"esm2017"),YG("fire-js","")},11041:(G,D,N)=>{N.d(D,{d:()=>C,f:()=>o});var T=N(11047);class o{constructor(G,D,N){this.name=G,this.instanceFactory=D,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const Z="[DEFAULT]";class n{constructor(G,D){this.name=G,this.container=D,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const D=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(D)){const G=new T.c;if(this.instancesDeferred.set(D,G),this.isInitialized(D)||this.shouldAutoInitialize())try{const N=this.getOrInitializeService({instanceIdentifier:D});N&&G.resolve(N)}catch(N){}}return this.instancesDeferred.get(D).promise}getImmediate(G){var D;const N=this.normalizeInstanceIdentifier(null===G||void 0===G?void 0:G.identifier),T=null!==(D=null===G||void 0===G?void 0:G.optional)&&void 0!==D&&D;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(T)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:N})}catch(o){if(T)return null;throw o}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:Z})}catch(D){}for(const[G,N]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(G);try{const G=this.getOrInitializeService({instanceIdentifier:T});N.resolve(G)}catch(D){}}}}clearInstance(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}async delete(){const G=Array.from(this.instances.values());await Promise.all([...G.filter((G=>"INTERNAL"in G)).map((G=>G.INTERNAL.delete())),...G.filter((G=>"_delete"in G)).map((G=>G._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instances.has(G)}getOptions(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.instancesOptions.get(G)||{}}initialize(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:D={}}=G,N=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const T=this.getOrInitializeService({instanceIdentifier:N,options:D});for(const[o,Z]of this.instancesDeferred.entries()){N===this.normalizeInstanceIdentifier(o)&&Z.resolve(T)}return T}yi(G,D){var N;const T=this.normalizeInstanceIdentifier(D),o=null!==(N=this.onInitCallbacks.get(T))&&void 0!==N?N:new Set;o.add(G),this.onInitCallbacks.set(T,o);const Z=this.instances.get(T);return Z&&G(Z,T),()=>{o.delete(G)}}invokeOnInitCallbacks(G,D){const N=this.onInitCallbacks.get(D);if(N)for(const o of N)try{o(G,D)}catch(T){}}getOrInitializeService(G){let{instanceIdentifier:D,options:N={}}=G,T=this.instances.get(D);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(o=D,o===Z?void 0:o),options:N}),this.instances.set(D,T),this.instancesOptions.set(D,N),this.invokeOnInitCallbacks(T,D),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,D,T)}catch(n){}var o;return T||null}normalizeInstanceIdentifier(){let G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return this.component?this.component.multipleInstances?G:Z:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class C{constructor(G){this.name=G,this.providers=new Map}Cf(G){const D=this.getProvider(G.name);if(D.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);D.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.Cf(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const D=new n(G,this);return this.providers.set(G,D),D}getProviders(){return Array.from(this.providers.values())}}},11050:(G,D,N)=>{N.d(D,{e:()=>o,h:()=>r,l:()=>v,o:()=>q});const T=[];var o;!function(G){G[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT"}(o||(o={}));const Z={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},n=o.INFO,C={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},P=function(G,D){if(D<G.logLevel)return;const N=(new Date).toISOString(),T=C[D];if(!T)throw new Error(`Attempted to log a message with an invalid logType (value: ${D})`);for(var o=arguments.length,Z=new Array(o>2?o-2:0),n=2;n<o;n++)Z[n-2]=arguments[n];console[T](`[${N}]  ${G.name}:`,...Z)};class r{constructor(G){this.name=G,this._logLevel=n,this._logHandler=P,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in o))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"===typeof G?Z[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!==typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(){for(var G=arguments.length,D=new Array(G),N=0;N<G;N++)D[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...D),this._logHandler(this,o.DEBUG,...D)}log(){for(var G=arguments.length,D=new Array(G),N=0;N<G;N++)D[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...D),this._logHandler(this,o.VERBOSE,...D)}info(){for(var G=arguments.length,D=new Array(G),N=0;N<G;N++)D[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,o.INFO,...D),this._logHandler(this,o.INFO,...D)}warn(){for(var G=arguments.length,D=new Array(G),N=0;N<G;N++)D[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,o.WARN,...D),this._logHandler(this,o.WARN,...D)}error(){for(var G=arguments.length,D=new Array(G),N=0;N<G;N++)D[N]=arguments[N];this._userLogHandler&&this._userLogHandler(this,o.ERROR,...D),this._logHandler(this,o.ERROR,...D)}}function v(G){T.forEach((D=>{D.setLogLevel(G)}))}function q(G,D){for(const N of T){let T=null;D&&D.level&&(T=Z[D.level]),N.userLogHandler=null===G?null:function(D,N){for(var Z=arguments.length,n=new Array(Z>2?Z-2:0),C=2;C<Z;C++)n[C-2]=arguments[C];const P=n.map((G=>{if(null==G)return null;if("string"===typeof G)return G;if("number"===typeof G||"boolean"===typeof G)return G.toString();if(G instanceof Error)return G.message;try{return JSON.stringify(G)}catch(D){return null}})).filter((G=>G)).join(" ");N>=(null!==T&&void 0!==T?T:D.logLevel)&&G({level:o[N].toLowerCase(),message:P,args:n,type:D.name})}}}}}]);