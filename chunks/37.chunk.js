/*! For license information please see hs4cjh.37.6d90e0a4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11426:(t,b,Y)=>{Y.d(b,{$:()=>K,B:()=>p,D:()=>c,E:()=>T,G:()=>v,J:()=>g,K:()=>J,M:()=>m,P:()=>y,Q:()=>B,T:()=>n,X:()=>f,c:()=>W,f:()=>S,g:()=>z,i:()=>L,l:()=>R,m:()=>r,n:()=>w,q:()=>Q,t:()=>D,u:()=>X,v:()=>C,y:()=>U});const o=function(t){const b=[];let Y=0;for(let o=0;o<t.length;o++){let x=t.charCodeAt(o);x<128?b[Y++]=x:x<2048?(b[Y++]=x>>6|192,b[Y++]=63&x|128):55296===(64512&x)&&o+1<t.length&&56320===(64512&t.charCodeAt(o+1))?(x=65536+((1023&x)<<10)+(1023&t.charCodeAt(++o)),b[Y++]=x>>18|240,b[Y++]=x>>12&63|128,b[Y++]=x>>6&63|128,b[Y++]=63&x|128):(b[Y++]=x>>12|224,b[Y++]=x>>6&63|128,b[Y++]=63&x|128)}return b},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,b){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let x=0;x<t.length;x+=3){const b=t[x],F=x+1<t.length,r=F?t[x+1]:0,R=x+2<t.length,d=R?t[x+2]:0,E=b>>2,U=(3&b)<<4|r>>4;let C=(15&r)<<2|d>>6,p=63&d;R||(p=64,F||(C=64)),o.push(Y[E],Y[U],Y[C],Y[p])}return o.join("")},encodeString(t,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(t):this.encodeByteArray(o(t),b)},decodeString(t,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(t):function(t){const b=[];let Y=0,o=0;for(;Y<t.length;){const x=t[Y++];if(x<128)b[o++]=String.fromCharCode(x);else if(x>191&&x<224){const F=t[Y++];b[o++]=String.fromCharCode((31&x)<<6|63&F)}else if(x>239&&x<365){const F=((7&x)<<18|(63&t[Y++])<<12|(63&t[Y++])<<6|63&t[Y++])-65536;b[o++]=String.fromCharCode(55296+(F>>10)),b[o++]=String.fromCharCode(56320+(1023&F))}else{const F=t[Y++],r=t[Y++];b[o++]=String.fromCharCode((15&x)<<12|(63&F)<<6|63&r)}}return b.join("")}(this.decodeStringToByteArray(t,b))},decodeStringToByteArray(t,b){this.init_();const Y=b?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let x=0;x<t.length;){const b=Y[t.charAt(x++)],r=x<t.length?Y[t.charAt(x)]:0;++x;const R=x<t.length?Y[t.charAt(x)]:64;++x;const d=x<t.length?Y[t.charAt(x)]:64;if(++x,null==b||null==r||null==R||null==d)throw new F;const E=b<<2|r>>4;if(o.push(E),64!==R){const t=r<<4&240|R>>2;if(o.push(t),64!==d){const t=R<<6&192|d;o.push(t)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r=function(t){return function(t){const b=o(t);return x.encodeByteArray(b,!0)}(t).replace(/\./g,"")},R=function(t){try{return x.decodeString(t,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const d=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof Y.g)return Y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,E=()=>{try{return d()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Y){return}const b=t&&R(t[1]);return b&&JSON.parse(b)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},U=t=>{var b,Y;return null===(Y=null===(b=E())||void 0===b?void 0:b.emulatorHosts)||void 0===Y?void 0:Y[t]},C=()=>{var t;return null===(t=E())||void 0===t?void 0:t.config},p=t=>{var b;return null===(b=E())||void 0===b?void 0:b[`_${t}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,b)=>{this.resolve=t,this.reject=b}))}wrapCallback(t){return(b,Y)=>{b?this.reject(b):this.resolve(Y),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(b):t(b,Y))}}}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function v(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function B(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function J(){const t=T();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){try{return"object"===typeof indexedDB}catch(t){return!1}}function K(){return new Promise(((t,b)=>{try{let Y=!0;const o="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(o);x.onsuccess=()=>{x.result.close(),Y||self.indexedDB.deleteDatabase(o),t(!0)},x.onupgradeneeded=()=>{Y=!1},x.onerror=()=>{var t;b((null===(t=x.error)||void 0===t?void 0:t.message)||"")}}catch(Y){b(Y)}}))}function L(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class z extends Error{constructor(t,b,Y){super(b),this.code=t,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,z.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,b,Y){this.service=t,this.serviceName=b,this.errors=Y}create(t){const b=(arguments.length<=1?void 0:arguments[1])||{},Y=`${this.service}/${t}`,o=this.errors[t],x=o?function(t,b){return t.replace(e,((t,Y)=>{const o=b[Y];return null!=o?String(o):`<${Y}?>`}))}(o,b):"Error",F=`${this.serviceName}: ${x} (${Y}).`;return new z(Y,F,b)}}const e=/\{\$([^}]+)}/g;function g(t){for(const b in t)if(Object.prototype.hasOwnProperty.call(t,b))return!1;return!0}function D(t,b){if(t===b)return!0;const Y=Object.keys(t),o=Object.keys(b);for(const x of Y){if(!o.includes(x))return!1;const Y=t[x],F=b[x];if(H(Y)&&H(F)){if(!D(Y,F))return!1}else if(Y!==F)return!1}for(const x of o)if(!Y.includes(x))return!1;return!0}function H(t){return null!==t&&"object"===typeof t}function f(t){const b=[];for(const[Y,o]of Object.entries(t))Array.isArray(o)?o.forEach((t=>{b.push(encodeURIComponent(Y)+"="+encodeURIComponent(t))})):b.push(encodeURIComponent(Y)+"="+encodeURIComponent(o));return b.length?"&"+b.join("&"):""}function n(t){const b={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[Y,o]=t.split("=");b[decodeURIComponent(Y)]=decodeURIComponent(o)}})),b}function X(t){const b=t.indexOf("?");if(!b)return"";const Y=t.indexOf("#",b);return t.substring(b,Y>0?Y:void 0)}function Q(t,b){const Y=new N(t,b);return Y.subscribe.bind(Y)}class N{constructor(t,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((b=>{b.next(t)}))}error(t){this.forEachObserver((b=>{b.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,b,Y){let o;if(void 0===t&&void 0===b&&void 0===Y)throw new Error("Missing Observer.");o=function(t,b){if("object"!==typeof t||null===t)return!1;for(const Y of b)if(Y in t&&"function"===typeof t[Y])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:b,complete:Y},void 0===o.next&&(o.next=u),void 0===o.error&&(o.error=u),void 0===o.complete&&(o.complete=u);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(t){}})),this.observers.push(o),x}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,t)}sendOne(t,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{b(this.observers[t])}catch(Y){"undefined"!==typeof console&&console.error&&console.error(Y)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function u(){}const Z=1e3,a=2,A=144e5,M=.5;function w(t){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const Y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z)*Math.pow(b,t),o=Math.round(M*Y*(Math.random()-.5)*2);return Math.min(A,Y+o)}function c(t){return t&&t._delegate?t._delegate:t}},11410:(t,b,Y)=>{Y.d(b,{d:()=>F.g,f:()=>Ct,j:()=>G,l:()=>Yt,m:()=>ot,n:()=>tt,p:()=>Rt,r:()=>bt,v:()=>Ft,x:()=>xt,A:()=>rt,E:()=>yt,I:()=>Wt,G:()=>Tt,M:()=>pt,O:()=>Bt,R:()=>vt,U:()=>Jt});var o=Y(11417),x=Y(11435),F=Y(11426);let r,R;const d=new WeakMap,E=new WeakMap,U=new WeakMap,C=new WeakMap,p=new WeakMap;let W={get(t,b,Y){if(t instanceof IDBTransaction){if("done"===b)return E.get(t);if("objectStoreNames"===b)return t.objectStoreNames||U.get(t);if("store"===b)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return v(t[b])},set:(t,b,Y)=>(t[b]=Y,!0),has:(t,b)=>t instanceof IDBTransaction&&("done"===b||"store"===b)||b in t};function T(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var b=arguments.length,Y=new Array(b),o=0;o<b;o++)Y[o]=arguments[o];return t.apply(B(this),Y),v(d.get(this))}:function(){for(var b=arguments.length,Y=new Array(b),o=0;o<b;o++)Y[o]=arguments[o];return v(t.apply(B(this),Y))}:function(b){for(var Y=arguments.length,o=new Array(Y>1?Y-1:0),x=1;x<Y;x++)o[x-1]=arguments[x];const F=t.call(B(this),b,...o);return U.set(F,b.sort?b.sort():[b]),v(F)}}function y(t){return"function"===typeof t?T(t):(t instanceof IDBTransaction&&function(t){if(E.has(t))return;const b=new Promise(((b,Y)=>{const o=()=>{t.removeEventListener("complete",x),t.removeEventListener("error",F),t.removeEventListener("abort",F)},x=()=>{b(),o()},F=()=>{Y(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",x),t.addEventListener("error",F),t.addEventListener("abort",F)}));E.set(t,b)}(t),b=t,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>b instanceof t))?new Proxy(t,W):t);var b}function v(t){if(t instanceof IDBRequest)return function(t){const b=new Promise(((b,Y)=>{const o=()=>{t.removeEventListener("success",x),t.removeEventListener("error",F)},x=()=>{b(v(t.result)),o()},F=()=>{Y(t.error),o()};t.addEventListener("success",x),t.addEventListener("error",F)}));return b.then((b=>{b instanceof IDBCursor&&d.set(b,t)})).catch((()=>{})),p.set(b,t),b}(t);if(C.has(t))return C.get(t);const b=y(t);return b!==t&&(C.set(t,b),p.set(b,t)),b}const B=t=>p.get(t);const J=["get","getKey","getAll","getAllKeys","count"],m=["put","add","delete","clear"],K=new Map;function L(t,b){if(!(t instanceof IDBDatabase)||b in t||"string"!==typeof b)return;if(K.get(b))return K.get(b);const Y=b.replace(/FromIndex$/,""),o=b!==Y,x=m.includes(Y);if(!(Y in(o?IDBIndex:IDBObjectStore).prototype)||!x&&!J.includes(Y))return;const F=async function(t){const b=this.transaction(t,x?"readwrite":"readonly");let F=b.store;for(var r=arguments.length,R=new Array(r>1?r-1:0),d=1;d<r;d++)R[d-1]=arguments[d];return o&&(F=F.index(R.shift())),(await Promise.all([F[Y](...R),x&&b.done]))[0]};return K.set(b,F),F}W=(t=>({...t,get:(b,Y,o)=>L(b,Y)||t.get(b,Y,o),has:(b,Y)=>!!L(b,Y)||t.has(b,Y)}))(W);class z{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const b=t.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(t)){const b=t.getImmediate();return`${b.library}/${b.version}`}return null})).filter((t=>t)).join(" ")}}const S="@firebase/app",e="0.9.13",g=new x.h("@firebase/app"),D="@firebase/app-compat",H="@firebase/analytics-compat",f="@firebase/analytics",n="@firebase/app-check-compat",X="@firebase/app-check",Q="@firebase/auth",N="@firebase/auth-compat",u="@firebase/database",Z="@firebase/database-compat",a="@firebase/functions",A="@firebase/functions-compat",M="@firebase/installations",w="@firebase/installations-compat",c="@firebase/messaging",I="@firebase/messaging-compat",s="@firebase/performance",l="@firebase/performance-compat",i="@firebase/remote-config",V="@firebase/remote-config-compat",P="@firebase/storage",k="@firebase/storage-compat",q="@firebase/firestore",O="@firebase/firestore-compat",j="firebase",G="[DEFAULT]",h={[S]:"fire-core",[D]:"fire-core-compat",[f]:"fire-analytics",[H]:"fire-analytics-compat",[X]:"fire-app-check",[n]:"fire-app-check-compat",[Q]:"fire-auth",[N]:"fire-auth-compat",[u]:"fire-rtdb",[Z]:"fire-rtdb-compat",[a]:"fire-fn",[A]:"fire-fn-compat",[M]:"fire-iid",[w]:"fire-iid-compat",[c]:"fire-fcm",[I]:"fire-fcm-compat",[s]:"fire-perf",[l]:"fire-perf-compat",[i]:"fire-rc",[V]:"fire-rc-compat",[P]:"fire-gcs",[k]:"fire-gcs-compat",[q]:"fire-fst",[O]:"fire-fst-compat","fire-js":"fire-js",[j]:"fire-js-all"},tt=new Map,bt=new Map;function Yt(t,b){try{t.container.zf(b)}catch(Y){g.debug(`Component ${b.name} failed to register with FirebaseApp ${t.name}`,Y)}}function ot(t,b){t.container.addOrOverwriteComponent(b)}function xt(t){const b=t.name;if(bt.has(b))return g.debug(`There were multiple attempts to register component ${b}.`),!1;bt.set(b,t);for(const Y of tt.values())Yt(Y,t);return!0}function Ft(t,b){const Y=t.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),t.container.getProvider(b)}function rt(t,b){let Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;Ft(t,b).clearInstance(Y)}function Rt(){bt.clear()}const dt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Et=new F.f("app","Firebase",dt);class Ut{constructor(t,b,Y){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=Y,this.container.zf(new o.d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}const Ct="9.23.0";function pt(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Y=t;if("object"!==typeof b){b={name:b}}const x=Object.assign({name:G,automaticDataCollectionEnabled:!1},b),r=x.name;if("string"!==typeof r||!r)throw Et.create("bad-app-name",{appName:String(r)});if(Y||(Y=(0,F.v)()),!Y)throw Et.create("no-options");const R=tt.get(r);if(R){if((0,F.t)(Y,R.options)&&(0,F.t)(x,R.config))return R;throw Et.create("duplicate-app",{appName:r})}const d=new o.c(r);for(const o of bt.values())d.zf(o);const E=new Ut(Y,x,d);return tt.set(r,E),E}function Wt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;const b=tt.get(t);if(!b&&t===G&&(0,F.v)())return pt();if(!b)throw Et.create("no-app",{appName:t});return b}function Tt(){return Array.from(tt.values())}async function yt(t){const b=t.name;tt.has(b)&&(tt.delete(b),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function vt(t,b,Y){var x;let F=null!==(x=h[t])&&void 0!==x?x:t;Y&&(F+=`-${Y}`);const r=F.match(/\s|\//),R=b.match(/\s|\//);if(r||R){const t=[`Unable to register library "${F}" with version "${b}":`];return r&&t.push(`library name "${F}" contains illegal characters (whitespace or "/")`),r&&R&&t.push("and"),R&&t.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void g.warn(t.join(" "))}xt(new o.d(`${F}-version`,(()=>({library:F,version:b})),"VERSION"))}function Bt(t,b){if(null!==t&&"function"!==typeof t)throw Et.create("invalid-log-argument");(0,x.o)(t,b)}function Jt(t){(0,x.l)(t)}const mt="firebase-heartbeat-store";let Kt=null;function Lt(){return Kt||(Kt=function(t,b){let{blocked:Y,upgrade:o,blocking:x,terminated:F}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=indexedDB.open(t,b),R=v(r);return o&&r.addEventListener("upgradeneeded",(t=>{o(v(r.result),t.oldVersion,t.newVersion,v(r.transaction),t)})),Y&&r.addEventListener("blocked",(t=>Y(t.oldVersion,t.newVersion,t))),R.then((t=>{F&&t.addEventListener("close",(()=>F())),x&&t.addEventListener("versionchange",(t=>x(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),R}("firebase-heartbeat-database",1,{upgrade:(t,b)=>{if(0===b)t.createObjectStore(mt)}}).catch((t=>{throw Et.create("idb-open",{originalErrorMessage:t.message})}))),Kt}async function zt(t,b){try{const Y=(await Lt()).transaction(mt,"readwrite"),o=Y.objectStore(mt);await o.put(b,St(t)),await Y.done}catch(Y){if(Y instanceof F.g)g.warn(Y.message);else{const t=Et.create("idb-set",{originalErrorMessage:null===Y||void 0===Y?void 0:Y.message});g.warn(t.message)}}}function St(t){return`${t.name}!${t.options.appId}`}class et{constructor(t){this.container=t,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.Li=new Dt(b),this._heartbeatsCachePromise=this.Li.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((t=>t.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const b=new Date(t.date).valueOf();return Date.now()-b<=2592e6})),this.Li.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=gt(),{heartbeatsToSend:b,unsentEntries:Y}=function(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const Y=[];let o=t.slice();for(const x of t){const t=Y.find((t=>t.agent===x.agent));if(t){if(t.dates.push(x.date),Ht(Y)>b){t.dates.pop();break}}else if(Y.push({agent:x.agent,dates:[x.date]}),Ht(Y)>b){Y.pop();break}o=o.slice(1)}return{heartbeatsToSend:Y,unsentEntries:o}}(this._heartbeatsCache.heartbeats),o=(0,F.m)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=t,Y.length>0?(this._heartbeatsCache.heartbeats=Y,await this.Li.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Li.overwrite(this._heartbeatsCache)),o}}function gt(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,F.M)()&&(0,F.$)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(t){try{const b=await Lt();return await b.transaction(mt).objectStore(mt).get(St(t))}catch(b){if(b instanceof F.g)g.warn(b.message);else{const t=Et.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});g.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var b;if(await this._canUseIndexedDBPromise){const Y=await this.read();return zt(this.app,{lastSentHeartbeatDate:null!==(b=t.lastSentHeartbeatDate)&&void 0!==b?b:Y.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var b;if(await this._canUseIndexedDBPromise){const Y=await this.read();return zt(this.app,{lastSentHeartbeatDate:null!==(b=t.lastSentHeartbeatDate)&&void 0!==b?b:Y.lastSentHeartbeatDate,heartbeats:[...Y.heartbeats,...t.heartbeats]})}}}function Ht(t){return(0,F.m)(JSON.stringify({version:2,heartbeats:t})).length}var ft;ft="",xt(new o.d("platform-logger",(t=>new z(t)),"PRIVATE")),xt(new o.d("heartbeat",(t=>new et(t)),"PRIVATE")),vt(S,e,ft),vt(S,e,"esm2017"),vt("fire-js","")},11417:(t,b,Y)=>{Y.d(b,{c:()=>R,d:()=>x});var o=Y(11426);class x{constructor(t,b,Y){this.name=t,this.instanceFactory=b,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const F="[DEFAULT]";class r{constructor(t,b){this.name=t,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const b=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(b)){const t=new o.c;if(this.instancesDeferred.set(b,t),this.isInitialized(b)||this.shouldAutoInitialize())try{const Y=this.getOrInitializeService({instanceIdentifier:b});Y&&t.resolve(Y)}catch(Y){}}return this.instancesDeferred.get(b).promise}getImmediate(t){var b;const Y=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),o=null!==(b=null===t||void 0===t?void 0:t.optional)&&void 0!==b&&b;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(x){if(o)return null;throw x}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:F})}catch(b){}for(const[t,Y]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:o});Y.resolve(t)}catch(b){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=t,Y=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:Y,options:b});for(const[x,F]of this.instancesDeferred.entries()){Y===this.normalizeInstanceIdentifier(x)&&F.resolve(o)}return o}ri(t,b){var Y;const o=this.normalizeInstanceIdentifier(b),x=null!==(Y=this.onInitCallbacks.get(o))&&void 0!==Y?Y:new Set;x.add(t),this.onInitCallbacks.set(o,x);const F=this.instances.get(o);return F&&t(F,o),()=>{x.delete(t)}}invokeOnInitCallbacks(t,b){const Y=this.onInitCallbacks.get(b);if(Y)for(const x of Y)try{x(t,b)}catch(o){}}getOrInitializeService(t){let{instanceIdentifier:b,options:Y={}}=t,o=this.instances.get(b);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(x=b,x===F?void 0:x),options:Y}),this.instances.set(b,o),this.instancesOptions.set(b,Y),this.invokeOnInitCallbacks(o,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,o)}catch(r){}var x;return o||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.component?this.component.multipleInstances?t:F:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R{constructor(t){this.name=t,this.providers=new Map}zf(t){const b=this.getProvider(t.name);if(b.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);b.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.zf(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const b=new r(t,this);return this.providers.set(t,b),b}getProviders(){return Array.from(this.providers.values())}}},11435:(t,b,Y)=>{Y.d(b,{d:()=>x,h:()=>E,l:()=>U,o:()=>C});const o=[];var x;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(x||(x={}));const F={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},r=x.INFO,R={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},d=function(t,b){if(b<t.logLevel)return;const Y=(new Date).toISOString(),o=R[b];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var x=arguments.length,F=new Array(x>2?x-2:0),r=2;r<x;r++)F[r-2]=arguments[r];console[o](`[${Y}]  ${t.name}:`,...F)};class E{constructor(t){this.name=t,this._logLevel=r,this._logHandler=d,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in x))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?F[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,b=new Array(t),Y=0;Y<t;Y++)b[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...b),this._logHandler(this,x.DEBUG,...b)}log(){for(var t=arguments.length,b=new Array(t),Y=0;Y<t;Y++)b[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...b),this._logHandler(this,x.VERBOSE,...b)}info(){for(var t=arguments.length,b=new Array(t),Y=0;Y<t;Y++)b[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,x.INFO,...b),this._logHandler(this,x.INFO,...b)}warn(){for(var t=arguments.length,b=new Array(t),Y=0;Y<t;Y++)b[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,x.WARN,...b),this._logHandler(this,x.WARN,...b)}error(){for(var t=arguments.length,b=new Array(t),Y=0;Y<t;Y++)b[Y]=arguments[Y];this._userLogHandler&&this._userLogHandler(this,x.ERROR,...b),this._logHandler(this,x.ERROR,...b)}}function U(t){o.forEach((b=>{b.setLogLevel(t)}))}function C(t,b){for(const Y of o){let o=null;b&&b.level&&(o=F[b.level]),Y.userLogHandler=null===t?null:function(b,Y){for(var F=arguments.length,r=new Array(F>2?F-2:0),R=2;R<F;R++)r[R-2]=arguments[R];const d=r.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(b){return null}})).filter((t=>t)).join(" ");Y>=(null!==o&&void 0!==o?o:b.logLevel)&&t({level:x[Y].toLowerCase(),message:d,args:r,type:b.name})}}}}}]);