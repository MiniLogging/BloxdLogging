/*! For license information please see cibjki.37.3b84f0ae.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11062:(r,L,M)=>{M.d(L,{A:()=>t,C:()=>A,G:()=>h,H:()=>G,K:()=>a,L:()=>l,O:()=>e,S:()=>U,V:()=>W,X:()=>X,Y:()=>Z,ab:()=>w,b:()=>o,d:()=>F,h:()=>I,i:()=>j,j:()=>s,m:()=>y,p:()=>Q,r:()=>m,t:()=>c,u:()=>p,v:()=>f,x:()=>J});const S=function(r){const L=[];let M=0;for(let S=0;S<r.length;S++){let T=r.charCodeAt(S);T<128?L[M++]=T:T<2048?(L[M++]=T>>6|192,L[M++]=63&T|128):55296===(64512&T)&&S+1<r.length&&56320===(64512&r.charCodeAt(S+1))?(T=65536+((1023&T)<<10)+(1023&r.charCodeAt(++S)),L[M++]=T>>18|240,L[M++]=T>>12&63|128,L[M++]=T>>6&63|128,L[M++]=63&T|128):(L[M++]=T>>12|224,L[M++]=T>>6&63|128,L[M++]=63&T|128)}return L},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(r,L){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const M=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,S=[];for(let T=0;T<r.length;T+=3){const L=r[T],C=T+1<r.length,y=C?r[T+1]:0,s=T+2<r.length,v=s?r[T+2]:0,u=L>>2,J=(3&L)<<4|y>>4;let f=(15&y)<<2|v>>6,t=63&v;s||(t=64,C||(f=64)),S.push(M[u],M[J],M[f],M[t])}return S.join("")},encodeString(r,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(r):this.encodeByteArray(S(r),L)},decodeString(r,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(r):function(r){const L=[];let M=0,S=0;for(;M<r.length;){const T=r[M++];if(T<128)L[S++]=String.fromCharCode(T);else if(T>191&&T<224){const C=r[M++];L[S++]=String.fromCharCode((31&T)<<6|63&C)}else if(T>239&&T<365){const C=((7&T)<<18|(63&r[M++])<<12|(63&r[M++])<<6|63&r[M++])-65536;L[S++]=String.fromCharCode(55296+(C>>10)),L[S++]=String.fromCharCode(56320+(1023&C))}else{const C=r[M++],y=r[M++];L[S++]=String.fromCharCode((15&T)<<12|(63&C)<<6|63&y)}}return L.join("")}(this.decodeStringToByteArray(r,L))},decodeStringToByteArray(r,L){this.init_();const M=L?this.charToByteMapWebSafe_:this.charToByteMap_,S=[];for(let T=0;T<r.length;){const L=M[r.charAt(T++)],y=T<r.length?M[r.charAt(T)]:0;++T;const s=T<r.length?M[r.charAt(T)]:64;++T;const v=T<r.length?M[r.charAt(T)]:64;if(++T,null==L||null==y||null==s||null==v)throw new C;const u=L<<2|y>>4;if(S.push(u),64!==s){const r=y<<4&240|s>>2;if(S.push(r),64!==v){const r=s<<6&192|v;S.push(r)}}}return S},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y=function(r){return function(r){const L=S(r);return T.encodeByteArray(L,!0)}(r).replace(/\./g,"")},s=function(r){try{return T.decodeString(r,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};const v=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof M.g)return M.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return v()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(M){return}const L=r&&s(r[1]);return L&&JSON.parse(L)})()}catch(r){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`)}},J=r=>{var L,M;return null===(M=null===(L=u())||void 0===L?void 0:L.emulatorHosts)||void 0===M?void 0:M[r]},f=()=>{var r;return null===(r=u())||void 0===r?void 0:r.config},t=r=>{var L;return null===(L=u())||void 0===L?void 0:L[`_${r}`]};class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((r,L)=>{this.resolve=r,this.reject=L}))}wrapCallback(r){return(L,M)=>{L?this.reject(L):this.resolve(M),"function"===typeof r&&(this.promise.catch((()=>{})),1===r.length?r(L):r(L,M))}}}function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function U(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function G(){const r="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof r&&void 0!==r.id}function W(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function l(){const r=h();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function e(){try{return"object"===typeof indexedDB}catch(r){return!1}}function w(){return new Promise(((r,L)=>{try{let M=!0;const S="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(S);T.onsuccess=()=>{T.result.close(),M||self.indexedDB.deleteDatabase(S),r(!0)},T.onupgradeneeded=()=>{M=!1},T.onerror=()=>{var r;L((null===(r=T.error)||void 0===r?void 0:r.message)||"")}}catch(M){L(M)}}))}function j(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class I extends Error{constructor(r,L,M){super(L),this.code=r,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F.prototype.create)}}class F{constructor(r,L,M){this.service=r,this.serviceName=L,this.errors=M}create(r){const L=(arguments.length<=1?void 0:arguments[1])||{},M=`${this.service}/${r}`,S=this.errors[r],T=S?function(r,L){return r.replace(n,((r,M)=>{const S=L[M];return null!=S?String(S):`<${M}?>`}))}(S,L):"Error",C=`${this.serviceName}: ${T} (${M}).`;return new I(M,C,L)}}const n=/\{\$([^}]+)}/g;function a(r){for(const L in r)if(Object.prototype.hasOwnProperty.call(r,L))return!1;return!0}function c(r,L){if(r===L)return!0;const M=Object.keys(r),S=Object.keys(L);for(const T of M){if(!S.includes(T))return!1;const M=r[T],C=L[T];if(P(M)&&P(C)){if(!c(M,C))return!1}else if(M!==C)return!1}for(const T of S)if(!M.includes(T))return!1;return!0}function P(r){return null!==r&&"object"===typeof r}function Z(r){const L=[];for(const[M,S]of Object.entries(r))Array.isArray(S)?S.forEach((r=>{L.push(encodeURIComponent(M)+"="+encodeURIComponent(r))})):L.push(encodeURIComponent(M)+"="+encodeURIComponent(S));return L.length?"&"+L.join("&"):""}function X(r){const L={};return r.replace(/^\?/,"").split("&").forEach((r=>{if(r){const[M,S]=r.split("=");L[decodeURIComponent(M)]=decodeURIComponent(S)}})),L}function p(r){const L=r.indexOf("?");if(!L)return"";const M=r.indexOf("#",L);return r.substring(L,M>0?M:void 0)}function m(r,L){const M=new d(r,L);return M.subscribe.bind(M)}class d{constructor(r,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then((()=>{r(this)})).catch((r=>{this.error(r)}))}next(r){this.forEachObserver((L=>{L.next(r)}))}error(r){this.forEachObserver((L=>{L.error(r)})),this.close(r)}complete(){this.forEachObserver((r=>{r.complete()})),this.close()}subscribe(r,L,M){let S;if(void 0===r&&void 0===L&&void 0===M)throw new Error("Missing Observer.");S=function(r,L){if("object"!==typeof r||null===r)return!1;for(const M of L)if(M in r&&"function"===typeof r[M])return!0;return!1}(r,["next","error","complete"])?r:{next:r,error:L,complete:M},void 0===S.next&&(S.next=q),void 0===S.error&&(S.error=q),void 0===S.complete&&(S.complete=q);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?S.error(this.finalError):S.complete()}catch(r){}})),this.observers.push(S),T}unsubscribeOne(r){void 0!==this.observers&&void 0!==this.observers[r]&&(delete this.observers[r],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,r)}sendOne(r,L){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[r])try{L(this.observers[r])}catch(M){"undefined"!==typeof console&&console.error&&console.error(M)}}))}close(r){this.finalized||(this.finalized=!0,void 0!==r&&(this.finalError=r),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}const x=1e3,N=2,K=144e5,V=.5;function Q(r){let L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;const M=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:x)*Math.pow(L,r),S=Math.round(V*M*(Math.random()-.5)*2);return Math.min(K,M+S)}function A(r){return r&&r._delegate?r._delegate:r}},11048:(r,L,M)=>{M.d(L,{b:()=>C.h,d:()=>fr,g:()=>i,k:()=>Mr,l:()=>Sr,p:()=>rr,q:()=>sr,t:()=>Lr,w:()=>Cr,x:()=>Tr,B:()=>yr,C:()=>Ur,G:()=>or,F:()=>hr,I:()=>tr,K:()=>Wr,N:()=>Gr,R:()=>lr});var S=M(11056),T=M(11067),C=M(11062);let y,s;const v=new WeakMap,u=new WeakMap,J=new WeakMap,f=new WeakMap,t=new WeakMap;let o={get(r,L,M){if(r instanceof IDBTransaction){if("done"===L)return u.get(r);if("objectStoreNames"===L)return r.objectStoreNames||J.get(r);if("store"===L)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return G(r[L])},set:(r,L,M)=>(r[L]=M,!0),has:(r,L)=>r instanceof IDBTransaction&&("done"===L||"store"===L)||L in r};function h(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(){for(var L=arguments.length,M=new Array(L),S=0;S<L;S++)M[S]=arguments[S];return r.apply(W(this),M),G(v.get(this))}:function(){for(var L=arguments.length,M=new Array(L),S=0;S<L;S++)M[S]=arguments[S];return G(r.apply(W(this),M))}:function(L){for(var M=arguments.length,S=new Array(M>1?M-1:0),T=1;T<M;T++)S[T-1]=arguments[T];const C=r.call(W(this),L,...S);return J.set(C,L.sort?L.sort():[L]),G(C)}}function U(r){return"function"===typeof r?h(r):(r instanceof IDBTransaction&&function(r){if(u.has(r))return;const L=new Promise(((L,M)=>{const S=()=>{r.removeEventListener("complete",T),r.removeEventListener("error",C),r.removeEventListener("abort",C)},T=()=>{L(),S()},C=()=>{M(r.error||new DOMException("AbortError","AbortError")),S()};r.addEventListener("complete",T),r.addEventListener("error",C),r.addEventListener("abort",C)}));u.set(r,L)}(r),L=r,(y||(y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((r=>L instanceof r))?new Proxy(r,o):r);var L}function G(r){if(r instanceof IDBRequest)return function(r){const L=new Promise(((L,M)=>{const S=()=>{r.removeEventListener("success",T),r.removeEventListener("error",C)},T=()=>{L(G(r.result)),S()},C=()=>{M(r.error),S()};r.addEventListener("success",T),r.addEventListener("error",C)}));return L.then((L=>{L instanceof IDBCursor&&v.set(L,r)})).catch((()=>{})),t.set(L,r),L}(r);if(f.has(r))return f.get(r);const L=U(r);return L!==r&&(f.set(r,L),t.set(L,r)),L}const W=r=>t.get(r);const l=["get","getKey","getAll","getAllKeys","count"],e=["put","add","delete","clear"],w=new Map;function j(r,L){if(!(r instanceof IDBDatabase)||L in r||"string"!==typeof L)return;if(w.get(L))return w.get(L);const M=L.replace(/FromIndex$/,""),S=L!==M,T=e.includes(M);if(!(M in(S?IDBIndex:IDBObjectStore).prototype)||!T&&!l.includes(M))return;const C=async function(r){const L=this.transaction(r,T?"readwrite":"readonly");let C=L.store;for(var y=arguments.length,s=new Array(y>1?y-1:0),v=1;v<y;v++)s[v-1]=arguments[v];return S&&(C=C.index(s.shift())),(await Promise.all([C[M](...s),T&&L.done]))[0]};return w.set(L,C),C}o=(r=>({...r,get:(L,M,S)=>j(L,M)||r.get(L,M,S),has:(L,M)=>!!j(L,M)||r.has(L,M)}))(o);class I{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map((r=>{if(function(r){const L=r.getComponent();return"VERSION"===(null===L||void 0===L?void 0:L.type)}(r)){const L=r.getImmediate();return`${L.library}/${L.version}`}return null})).filter((r=>r)).join(" ")}}const F="@firebase/app",n="0.9.13",a=new T.g("@firebase/app"),c="@firebase/app-compat",P="@firebase/analytics-compat",Z="@firebase/analytics",X="@firebase/app-check-compat",p="@firebase/app-check",m="@firebase/auth",d="@firebase/auth-compat",q="@firebase/database",x="@firebase/database-compat",N="@firebase/functions",K="@firebase/functions-compat",V="@firebase/installations",Q="@firebase/installations-compat",A="@firebase/messaging",H="@firebase/messaging-compat",O="@firebase/performance",R="@firebase/performance-compat",z="@firebase/remote-config",g="@firebase/remote-config-compat",E="@firebase/storage",D="@firebase/storage-compat",k="@firebase/firestore",Y="@firebase/firestore-compat",b="firebase",i="[DEFAULT]",B={[F]:"fire-core",[c]:"fire-core-compat",[Z]:"fire-analytics",[P]:"fire-analytics-compat",[p]:"fire-app-check",[X]:"fire-app-check-compat",[m]:"fire-auth",[d]:"fire-auth-compat",[q]:"fire-rtdb",[x]:"fire-rtdb-compat",[N]:"fire-fn",[K]:"fire-fn-compat",[V]:"fire-iid",[Q]:"fire-iid-compat",[A]:"fire-fcm",[H]:"fire-fcm-compat",[O]:"fire-perf",[R]:"fire-perf-compat",[z]:"fire-rc",[g]:"fire-rc-compat",[E]:"fire-gcs",[D]:"fire-gcs-compat",[k]:"fire-fst",[Y]:"fire-fst-compat","fire-js":"fire-js",[b]:"fire-js-all"},rr=new Map,Lr=new Map;function Mr(r,L){try{r.container.nf(L)}catch(M){a.debug(`Component ${L.name} failed to register with FirebaseApp ${r.name}`,M)}}function Sr(r,L){r.container.addOrOverwriteComponent(L)}function Tr(r){const L=r.name;if(Lr.has(L))return a.debug(`There were multiple attempts to register component ${L}.`),!1;Lr.set(L,r);for(const M of rr.values())Mr(M,r);return!0}function Cr(r,L){const M=r.container.getProvider("heartbeat").getImmediate({optional:!0});return M&&M.triggerHeartbeat(),r.container.getProvider(L)}function yr(r,L){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;Cr(r,L).clearInstance(M)}function sr(){Lr.clear()}const vr={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new C.d("app","Firebase",vr);class Jr{constructor(r,L,M){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},L),this._name=L.name,this._automaticDataCollectionEnabled=L.automaticDataCollectionEnabled,this._container=M,this.container.nf(new S.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const fr="9.23.0";function tr(r){let L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=r;if("object"!==typeof L){L={name:L}}const T=Object.assign({name:i,automaticDataCollectionEnabled:!1},L),y=T.name;if("string"!==typeof y||!y)throw ur.create("bad-app-name",{appName:String(y)});if(M||(M=(0,C.v)()),!M)throw ur.create("no-options");const s=rr.get(y);if(s){if((0,C.t)(M,s.options)&&(0,C.t)(T,s.config))return s;throw ur.create("duplicate-app",{appName:y})}const v=new S.d(y);for(const S of Lr.values())v.nf(S);const u=new Jr(M,T,v);return rr.set(y,u),u}function or(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;const L=rr.get(r);if(!L&&r===i&&(0,C.v)())return tr();if(!L)throw ur.create("no-app",{appName:r});return L}function hr(){return Array.from(rr.values())}async function Ur(r){const L=r.name;rr.has(L)&&(rr.delete(L),await Promise.all(r.container.getProviders().map((r=>r.delete()))),r.isDeleted=!0)}function Gr(r,L,M){var T;let C=null!==(T=B[r])&&void 0!==T?T:r;M&&(C+=`-${M}`);const y=C.match(/\s|\//),s=L.match(/\s|\//);if(y||s){const r=[`Unable to register library "${C}" with version "${L}":`];return y&&r.push(`library name "${C}" contains illegal characters (whitespace or "/")`),y&&s&&r.push("and"),s&&r.push(`version name "${L}" contains illegal characters (whitespace or "/")`),void a.warn(r.join(" "))}Tr(new S.h(`${C}-version`,(()=>({library:C,version:L})),"VERSION"))}function Wr(r,L){if(null!==r&&"function"!==typeof r)throw ur.create("invalid-log-argument");(0,T.l)(r,L)}function lr(r){(0,T.i)(r)}const er="firebase-heartbeat-store";let wr=null;function jr(){return wr||(wr=function(r,L){let{blocked:M,upgrade:S,blocking:T,terminated:C}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const y=indexedDB.open(r,L),s=G(y);return S&&y.addEventListener("upgradeneeded",(r=>{S(G(y.result),r.oldVersion,r.newVersion,G(y.transaction),r)})),M&&y.addEventListener("blocked",(r=>M(r.oldVersion,r.newVersion,r))),s.then((r=>{C&&r.addEventListener("close",(()=>C())),T&&r.addEventListener("versionchange",(r=>T(r.oldVersion,r.newVersion,r)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(r,L)=>{if(0===L)r.createObjectStore(er)}}).catch((r=>{throw ur.create("idb-open",{originalErrorMessage:r.message})}))),wr}async function Ir(r,L){try{const M=(await jr()).transaction(er,"readwrite"),S=M.objectStore(er);await S.put(L,Fr(r)),await M.done}catch(M){if(M instanceof C.h)a.warn(M.message);else{const r=ur.create("idb-set",{originalErrorMessage:null===M||void 0===M?void 0:M.message});a.warn(r.message)}}}function Fr(r){return`${r.name}!${r.options.appId}`}class nr{constructor(r){this.container=r,this._heartbeatsCache=null;const L=this.container.getProvider("app").getImmediate();this.Mi=new cr(L),this._heartbeatsCachePromise=this.Mi.read().then((r=>(this._heartbeatsCache=r,r)))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),L=ar();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==L&&!this._heartbeatsCache.heartbeats.some((r=>r.date===L)))return this._heartbeatsCache.heartbeats.push({date:L,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((r=>{const L=new Date(r.date).valueOf();return Date.now()-L<=2592e6})),this.Mi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const r=ar(),{heartbeatsToSend:L,unsentEntries:M}=function(r){let L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const M=[];let S=r.slice();for(const T of r){const r=M.find((r=>r.agent===T.agent));if(r){if(r.dates.push(T.date),Pr(M)>L){r.dates.pop();break}}else if(M.push({agent:T.agent,dates:[T.date]}),Pr(M)>L){M.pop();break}S=S.slice(1)}return{heartbeatsToSend:M,unsentEntries:S}}(this._heartbeatsCache.heartbeats),S=(0,C.m)(JSON.stringify({version:2,heartbeats:L}));return this._heartbeatsCache.lastSentHeartbeatDate=r,M.length>0?(this._heartbeatsCache.heartbeats=M,await this.Mi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Mi.overwrite(this._heartbeatsCache)),S}}function ar(){return(new Date).toISOString().substring(0,10)}class cr{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,C.O)()&&(0,C.ab)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(r){try{const L=await jr();return await L.transaction(er).objectStore(er).get(Fr(r))}catch(L){if(L instanceof C.h)a.warn(L.message);else{const r=ur.create("idb-get",{originalErrorMessage:null===L||void 0===L?void 0:L.message});a.warn(r.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(r){var L;if(await this._canUseIndexedDBPromise){const M=await this.read();return Ir(this.app,{lastSentHeartbeatDate:null!==(L=r.lastSentHeartbeatDate)&&void 0!==L?L:M.lastSentHeartbeatDate,heartbeats:r.heartbeats})}}async add(r){var L;if(await this._canUseIndexedDBPromise){const M=await this.read();return Ir(this.app,{lastSentHeartbeatDate:null!==(L=r.lastSentHeartbeatDate)&&void 0!==L?L:M.lastSentHeartbeatDate,heartbeats:[...M.heartbeats,...r.heartbeats]})}}}function Pr(r){return(0,C.m)(JSON.stringify({version:2,heartbeats:r})).length}var Zr;Zr="",Tr(new S.h("platform-logger",(r=>new I(r)),"PRIVATE")),Tr(new S.h("heartbeat",(r=>new nr(r)),"PRIVATE")),Gr(F,n,Zr),Gr(F,n,"esm2017"),Gr("fire-js","")},11056:(r,L,M)=>{M.d(L,{d:()=>s,h:()=>T});var S=M(11062);class T{constructor(r,L,M){this.name=r,this.instanceFactory=L,this.type=M,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}const C="[DEFAULT]";class y{constructor(r,L){this.name=r,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const L=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(L)){const r=new S.b;if(this.instancesDeferred.set(L,r),this.isInitialized(L)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:L});M&&r.resolve(M)}catch(M){}}return this.instancesDeferred.get(L).promise}getImmediate(r){var L;const M=this.normalizeInstanceIdentifier(null===r||void 0===r?void 0:r.identifier),S=null!==(L=null===r||void 0===r?void 0:r.optional)&&void 0!==L&&L;if(!this.isInitialized(M)&&!this.shouldAutoInitialize()){if(S)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:M})}catch(T){if(S)return null;throw T}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,this.shouldAutoInitialize()){if(function(r){return"EAGER"===r.instantiationMode}(r))try{this.getOrInitializeService({instanceIdentifier:C})}catch(L){}for(const[r,M]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(r);try{const r=this.getOrInitializeService({instanceIdentifier:S});M.resolve(r)}catch(L){}}}}clearInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter((r=>"INTERNAL"in r)).map((r=>r.INTERNAL.delete())),...r.filter((r=>"_delete"in r)).map((r=>r._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instances.has(r)}getOptions(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.instancesOptions.get(r)||{}}initialize(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:L={}}=r,M=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(M))throw Error(`${this.name}(${M}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const S=this.getOrInitializeService({instanceIdentifier:M,options:L});for(const[T,C]of this.instancesDeferred.entries()){M===this.normalizeInstanceIdentifier(T)&&C.resolve(S)}return S}si(r,L){var M;const S=this.normalizeInstanceIdentifier(L),T=null!==(M=this.onInitCallbacks.get(S))&&void 0!==M?M:new Set;T.add(r),this.onInitCallbacks.set(S,T);const C=this.instances.get(S);return C&&r(C,S),()=>{T.delete(r)}}invokeOnInitCallbacks(r,L){const M=this.onInitCallbacks.get(L);if(M)for(const T of M)try{T(r,L)}catch(S){}}getOrInitializeService(r){let{instanceIdentifier:L,options:M={}}=r,S=this.instances.get(L);if(!S&&this.component&&(S=this.component.instanceFactory(this.container,{instanceIdentifier:(T=L,T===C?void 0:T),options:M}),this.instances.set(L,S),this.instancesOptions.set(L,M),this.invokeOnInitCallbacks(S,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,S)}catch(y){}var T;return S||null}normalizeInstanceIdentifier(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return this.component?this.component.multipleInstances?r:C:r}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(r){this.name=r,this.providers=new Map}nf(r){const L=this.getProvider(r.name);if(L.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);L.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.nf(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const L=new y(r,this);return this.providers.set(r,L),L}getProviders(){return Array.from(this.providers.values())}}},11067:(r,L,M)=>{M.d(L,{d:()=>T,g:()=>u,i:()=>J,l:()=>f});const S=[];var T;!function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"}(T||(T={}));const C={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},y=T.INFO,s={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},v=function(r,L){if(L<r.logLevel)return;const M=(new Date).toISOString(),S=s[L];if(!S)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);for(var T=arguments.length,C=new Array(T>2?T-2:0),y=2;y<T;y++)C[y-2]=arguments[y];console[S](`[${M}]  ${r.name}:`,...C)};class u{constructor(r){this.name=r,this._logLevel=y,this._logHandler=v,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in T))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel="string"===typeof r?C[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if("function"!==typeof r)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(){for(var r=arguments.length,L=new Array(r),M=0;M<r;M++)L[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...L),this._logHandler(this,T.DEBUG,...L)}log(){for(var r=arguments.length,L=new Array(r),M=0;M<r;M++)L[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...L),this._logHandler(this,T.VERBOSE,...L)}info(){for(var r=arguments.length,L=new Array(r),M=0;M<r;M++)L[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,T.INFO,...L),this._logHandler(this,T.INFO,...L)}warn(){for(var r=arguments.length,L=new Array(r),M=0;M<r;M++)L[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,T.WARN,...L),this._logHandler(this,T.WARN,...L)}error(){for(var r=arguments.length,L=new Array(r),M=0;M<r;M++)L[M]=arguments[M];this._userLogHandler&&this._userLogHandler(this,T.ERROR,...L),this._logHandler(this,T.ERROR,...L)}}function J(r){S.forEach((L=>{L.setLogLevel(r)}))}function f(r,L){for(const M of S){let S=null;L&&L.level&&(S=C[L.level]),M.userLogHandler=null===r?null:function(L,M){for(var C=arguments.length,y=new Array(C>2?C-2:0),s=2;s<C;s++)y[s-2]=arguments[s];const v=y.map((r=>{if(null==r)return null;if("string"===typeof r)return r;if("number"===typeof r||"boolean"===typeof r)return r.toString();if(r instanceof Error)return r.message;try{return JSON.stringify(r)}catch(L){return null}})).filter((r=>r)).join(" ");M>=(null!==S&&void 0!==S?S:L.logLevel)&&r({level:T[M].toLowerCase(),message:v,args:y,type:L.name})}}}}}]);