/*! For license information please see oa0udh.37.0d342f7d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11396:(C,M,x)=>{x.d(M,{$:()=>B,C:()=>V,E:()=>U,H:()=>a,I:()=>d,L:()=>o,M:()=>I,O:()=>t,R:()=>A,S:()=>D,V:()=>L,Z:()=>F,cb:()=>H,e:()=>O,f:()=>R,g:()=>b,j:()=>j,m:()=>S,o:()=>s,s:()=>G,u:()=>h,w:()=>X,x:()=>P,y:()=>y});const f=function(C){const M=[];let x=0;for(let f=0;f<C.length;f++){let T=C.charCodeAt(f);T<128?M[x++]=T:T<2048?(M[x++]=T>>6|192,M[x++]=63&T|128):55296===(64512&T)&&f+1<C.length&&56320===(64512&C.charCodeAt(f+1))?(T=65536+((1023&T)<<10)+(1023&C.charCodeAt(++f)),M[x++]=T>>18|240,M[x++]=T>>12&63|128,M[x++]=T>>6&63|128,M[x++]=63&T|128):(M[x++]=T>>12|224,M[x++]=T>>6&63|128,M[x++]=63&T|128)}return M},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(C,M){if(!Array.isArray(C))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let T=0;T<C.length;T+=3){const M=C[T],z=T+1<C.length,s=z?C[T+1]:0,S=T+2<C.length,m=S?C[T+2]:0,Q=M>>2,V=(3&M)<<4|s>>4;let y=(15&s)<<2|m>>6,U=63&m;S||(U=64,z||(y=64)),f.push(x[Q],x[V],x[y],x[U])}return f.join("")},encodeString(C,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(C):this.encodeByteArray(f(C),M)},decodeString(C,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(C):function(C){const M=[];let x=0,f=0;for(;x<C.length;){const T=C[x++];if(T<128)M[f++]=String.fromCharCode(T);else if(T>191&&T<224){const z=C[x++];M[f++]=String.fromCharCode((31&T)<<6|63&z)}else if(T>239&&T<365){const z=((7&T)<<18|(63&C[x++])<<12|(63&C[x++])<<6|63&C[x++])-65536;M[f++]=String.fromCharCode(55296+(z>>10)),M[f++]=String.fromCharCode(56320+(1023&z))}else{const z=C[x++],s=C[x++];M[f++]=String.fromCharCode((15&T)<<12|(63&z)<<6|63&s)}}return M.join("")}(this.decodeStringToByteArray(C,M))},decodeStringToByteArray(C,M){this.init_();const x=M?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let T=0;T<C.length;){const M=x[C.charAt(T++)],s=T<C.length?x[C.charAt(T)]:0;++T;const S=T<C.length?x[C.charAt(T)]:64;++T;const m=T<C.length?x[C.charAt(T)]:64;if(++T,null==M||null==s||null==S||null==m)throw new z;const Q=M<<2|s>>4;if(f.push(Q),64!==S){const C=s<<4&240|S>>2;if(f.push(C),64!==m){const C=S<<6&192|m;f.push(C)}}}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let C=0;C<this.ENCODED_VALS.length;C++)this.byteToCharMap_[C]=this.ENCODED_VALS.charAt(C),this.charToByteMap_[this.byteToCharMap_[C]]=C,this.byteToCharMapWebSafe_[C]=this.ENCODED_VALS_WEBSAFE.charAt(C),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[C]]=C,C>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(C)]=C,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(C)]=C)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(C){return function(C){const M=f(C);return T.encodeByteArray(M,!0)}(C).replace(/\./g,"")},S=function(C){try{return T.decodeString(C,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof x.g)return x.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Q=()=>{try{return m()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let C;try{C=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(x){return}const M=C&&S(C[1]);return M&&JSON.parse(M)})()}catch(C){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${C}`)}},V=C=>{var M,x;return null===(x=null===(M=Q())||void 0===M?void 0:M.emulatorHosts)||void 0===x?void 0:x[C]},y=()=>{var C;return null===(C=Q())||void 0===C?void 0:C.config},U=C=>{var M;return null===(M=Q())||void 0===M?void 0:M[`_${C}`]};class O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((C,M)=>{this.resolve=C,this.reject=M}))}wrapCallback(C){return(M,x)=>{M?this.reject(M):this.resolve(x),"function"===typeof C&&(this.promise.catch((()=>{})),1===C.length?C(M):C(M,x))}}}function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function D(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function o(){const C="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof C&&void 0!==C.id}function L(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const C=d();return C.indexOf("MSIE ")>=0||C.indexOf("Trident/")>=0}function A(){try{return"object"===typeof indexedDB}catch(C){return!1}}function H(){return new Promise(((C,M)=>{try{let x=!0;const f="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(f);T.onsuccess=()=>{T.result.close(),x||self.indexedDB.deleteDatabase(f),C(!0)},T.onupgradeneeded=()=>{x=!1},T.onerror=()=>{var C;M((null===(C=T.error)||void 0===C?void 0:C.message)||"")}}catch(x){M(x)}}))}function j(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class b extends Error{constructor(C,M,x){super(M),this.code=C,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(C,M,x){this.service=C,this.serviceName=M,this.errors=x}create(C){const M=(arguments.length<=1?void 0:arguments[1])||{},x=`${this.service}/${C}`,f=this.errors[C],T=f?function(C,M){return C.replace(n,((C,x)=>{const f=M[x];return null!=f?String(f):`<${x}?>`}))}(f,M):"Error",z=`${this.serviceName}: ${T} (${x}).`;return new b(x,z,M)}}const n=/\{\$([^}]+)}/g;function I(C){for(const M in C)if(Object.prototype.hasOwnProperty.call(C,M))return!1;return!0}function X(C,M){if(C===M)return!0;const x=Object.keys(C),f=Object.keys(M);for(const T of x){if(!f.includes(T))return!1;const x=C[T],z=M[T];if(g(x)&&g(z)){if(!X(x,z))return!1}else if(x!==z)return!1}for(const T of f)if(!x.includes(T))return!1;return!0}function g(C){return null!==C&&"object"===typeof C}function B(C){const M=[];for(const[x,f]of Object.entries(C))Array.isArray(f)?f.forEach((C=>{M.push(encodeURIComponent(x)+"="+encodeURIComponent(C))})):M.push(encodeURIComponent(x)+"="+encodeURIComponent(f));return M.length?"&"+M.join("&"):""}function F(C){const M={};return C.replace(/^\?/,"").split("&").forEach((C=>{if(C){const[x,f]=C.split("=");M[decodeURIComponent(x)]=decodeURIComponent(f)}})),M}function P(C){const M=C.indexOf("?");if(!M)return"";const x=C.indexOf("#",M);return C.substring(M,x>0?x:void 0)}function h(C,M){const x=new c(C,M);return x.subscribe.bind(x)}class c{constructor(C,M){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=M,this.task.then((()=>{C(this)})).catch((C=>{this.error(C)}))}next(C){this.forEachObserver((M=>{M.next(C)}))}error(C){this.forEachObserver((M=>{M.error(C)})),this.close(C)}complete(){this.forEachObserver((C=>{C.complete()})),this.close()}subscribe(C,M,x){let f;if(void 0===C&&void 0===M&&void 0===x)throw new Error("Missing Observer.");f=function(C,M){if("object"!==typeof C||null===C)return!1;for(const x of M)if(x in C&&"function"===typeof C[x])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:M,complete:x},void 0===f.next&&(f.next=q),void 0===f.error&&(f.error=q),void 0===f.complete&&(f.complete=q);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?f.error(this.finalError):f.complete()}catch(C){}})),this.observers.push(f),T}unsubscribeOne(C){void 0!==this.observers&&void 0!==this.observers[C]&&(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let M=0;M<this.observers.length;M++)this.sendOne(M,C)}sendOne(C,M){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{M(this.observers[C])}catch(x){"undefined"!==typeof console&&console.error&&console.error(x)}}))}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function q(){}const i=1e3,Z=2,E=144e5,K=.5;function G(C){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z;const x=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i)*Math.pow(M,C),f=Math.round(K*x*(Math.random()-.5)*2);return Math.min(E,x+f)}function a(C){return C&&C._delegate?C._delegate:C}},11386:(C,M,x)=>{x.d(M,{c:()=>z.g,d:()=>yC,g:()=>w,k:()=>xC,l:()=>fC,n:()=>CC,r:()=>SC,u:()=>MC,v:()=>zC,y:()=>TC,z:()=>sC,A:()=>DC,G:()=>OC,C:()=>dC,K:()=>UC,M:()=>LC,O:()=>oC,P:()=>tC});var f=x(11391),T=x(11402),z=x(11396);let s,S;const m=new WeakMap,Q=new WeakMap,V=new WeakMap,y=new WeakMap,U=new WeakMap;let O={get(C,M,x){if(C instanceof IDBTransaction){if("done"===M)return Q.get(C);if("objectStoreNames"===M)return C.objectStoreNames||V.get(C);if("store"===M)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return o(C[M])},set:(C,M,x)=>(C[M]=x,!0),has:(C,M)=>C instanceof IDBTransaction&&("done"===M||"store"===M)||M in C};function d(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(S||(S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(C)?function(){for(var M=arguments.length,x=new Array(M),f=0;f<M;f++)x[f]=arguments[f];return C.apply(L(this),x),o(m.get(this))}:function(){for(var M=arguments.length,x=new Array(M),f=0;f<M;f++)x[f]=arguments[f];return o(C.apply(L(this),x))}:function(M){for(var x=arguments.length,f=new Array(x>1?x-1:0),T=1;T<x;T++)f[T-1]=arguments[T];const z=C.call(L(this),M,...f);return V.set(z,M.sort?M.sort():[M]),o(z)}}function D(C){return"function"===typeof C?d(C):(C instanceof IDBTransaction&&function(C){if(Q.has(C))return;const M=new Promise(((M,x)=>{const f=()=>{C.removeEventListener("complete",T),C.removeEventListener("error",z),C.removeEventListener("abort",z)},T=()=>{M(),f()},z=()=>{x(C.error||new DOMException("AbortError","AbortError")),f()};C.addEventListener("complete",T),C.addEventListener("error",z),C.addEventListener("abort",z)}));Q.set(C,M)}(C),M=C,(s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((C=>M instanceof C))?new Proxy(C,O):C);var M}function o(C){if(C instanceof IDBRequest)return function(C){const M=new Promise(((M,x)=>{const f=()=>{C.removeEventListener("success",T),C.removeEventListener("error",z)},T=()=>{M(o(C.result)),f()},z=()=>{x(C.error),f()};C.addEventListener("success",T),C.addEventListener("error",z)}));return M.then((M=>{M instanceof IDBCursor&&m.set(M,C)})).catch((()=>{})),U.set(M,C),M}(C);if(y.has(C))return y.get(C);const M=D(C);return M!==C&&(y.set(C,M),U.set(M,C)),M}const L=C=>U.get(C);const t=["get","getKey","getAll","getAllKeys","count"],A=["put","add","delete","clear"],H=new Map;function j(C,M){if(!(C instanceof IDBDatabase)||M in C||"string"!==typeof M)return;if(H.get(M))return H.get(M);const x=M.replace(/FromIndex$/,""),f=M!==x,T=A.includes(x);if(!(x in(f?IDBIndex:IDBObjectStore).prototype)||!T&&!t.includes(x))return;const z=async function(C){const M=this.transaction(C,T?"readwrite":"readonly");let z=M.store;for(var s=arguments.length,S=new Array(s>1?s-1:0),m=1;m<s;m++)S[m-1]=arguments[m];return f&&(z=z.index(S.shift())),(await Promise.all([z[x](...S),T&&M.done]))[0]};return H.set(M,z),z}O=(C=>({...C,get:(M,x,f)=>j(M,x)||C.get(M,x,f),has:(M,x)=>!!j(M,x)||C.has(M,x)}))(O);class b{constructor(C){this.container=C}getPlatformInfoString(){return this.container.getProviders().map((C=>{if(function(C){const M=C.getComponent();return"VERSION"===(null===M||void 0===M?void 0:M.type)}(C)){const M=C.getImmediate();return`${M.library}/${M.version}`}return null})).filter((C=>C)).join(" ")}}const R="@firebase/app",n="0.9.13",I=new T.e("@firebase/app"),X="@firebase/app-compat",g="@firebase/analytics-compat",B="@firebase/analytics",F="@firebase/app-check-compat",P="@firebase/app-check",h="@firebase/auth",c="@firebase/auth-compat",q="@firebase/database",i="@firebase/database-compat",Z="@firebase/functions",E="@firebase/functions-compat",K="@firebase/installations",G="@firebase/installations-compat",a="@firebase/messaging",J="@firebase/messaging-compat",N="@firebase/performance",k="@firebase/performance-compat",v="@firebase/remote-config",p="@firebase/remote-config-compat",u="@firebase/storage",Y="@firebase/storage-compat",W="@firebase/firestore",e="@firebase/firestore-compat",r="firebase",w="[DEFAULT]",l={[R]:"fire-core",[X]:"fire-core-compat",[B]:"fire-analytics",[g]:"fire-analytics-compat",[P]:"fire-app-check",[F]:"fire-app-check-compat",[h]:"fire-auth",[c]:"fire-auth-compat",[q]:"fire-rtdb",[i]:"fire-rtdb-compat",[Z]:"fire-fn",[E]:"fire-fn-compat",[K]:"fire-iid",[G]:"fire-iid-compat",[a]:"fire-fcm",[J]:"fire-fcm-compat",[N]:"fire-perf",[k]:"fire-perf-compat",[v]:"fire-rc",[p]:"fire-rc-compat",[u]:"fire-gcs",[Y]:"fire-gcs-compat",[W]:"fire-fst",[e]:"fire-fst-compat","fire-js":"fire-js",[r]:"fire-js-all"},CC=new Map,MC=new Map;function xC(C,M){try{C.container.Of(M)}catch(x){I.debug(`Component ${M.name} failed to register with FirebaseApp ${C.name}`,x)}}function fC(C,M){C.container.addOrOverwriteComponent(M)}function TC(C){const M=C.name;if(MC.has(M))return I.debug(`There were multiple attempts to register component ${M}.`),!1;MC.set(M,C);for(const x of CC.values())xC(x,C);return!0}function zC(C,M){const x=C.container.getProvider("heartbeat").getImmediate({optional:!0});return x&&x.triggerHeartbeat(),C.container.getProvider(M)}function sC(C,M){let x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;zC(C,M).clearInstance(x)}function SC(){MC.clear()}const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},QC=new z.f("app","Firebase",mC);class VC{constructor(C,M,x){this._isDeleted=!1,this._options=Object.assign({},C),this._config=Object.assign({},M),this._name=M.name,this._automaticDataCollectionEnabled=M.automaticDataCollectionEnabled,this._container=x,this.container.Of(new f.h("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(C){this.checkDestroyed(),this._automaticDataCollectionEnabled=C}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(C){this._isDeleted=C}checkDestroyed(){if(this.isDeleted)throw QC.create("app-deleted",{appName:this._name})}}const yC="9.23.0";function UC(C){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=C;if("object"!==typeof M){M={name:M}}const T=Object.assign({name:w,automaticDataCollectionEnabled:!1},M),s=T.name;if("string"!==typeof s||!s)throw QC.create("bad-app-name",{appName:String(s)});if(x||(x=(0,z.y)()),!x)throw QC.create("no-options");const S=CC.get(s);if(S){if((0,z.w)(x,S.options)&&(0,z.w)(T,S.config))return S;throw QC.create("duplicate-app",{appName:s})}const m=new f.d(s);for(const f of MC.values())m.Of(f);const Q=new VC(x,T,m);return CC.set(s,Q),Q}function OC(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;const M=CC.get(C);if(!M&&C===w&&(0,z.y)())return UC();if(!M)throw QC.create("no-app",{appName:C});return M}function dC(){return Array.from(CC.values())}async function DC(C){const M=C.name;CC.has(M)&&(CC.delete(M),await Promise.all(C.container.getProviders().map((C=>C.delete()))),C.isDeleted=!0)}function oC(C,M,x){var T;let z=null!==(T=l[C])&&void 0!==T?T:C;x&&(z+=`-${x}`);const s=z.match(/\s|\//),S=M.match(/\s|\//);if(s||S){const C=[`Unable to register library "${z}" with version "${M}":`];return s&&C.push(`library name "${z}" contains illegal characters (whitespace or "/")`),s&&S&&C.push("and"),S&&C.push(`version name "${M}" contains illegal characters (whitespace or "/")`),void I.warn(C.join(" "))}TC(new f.h(`${z}-version`,(()=>({library:z,version:M})),"VERSION"))}function LC(C,M){if(null!==C&&"function"!==typeof C)throw QC.create("invalid-log-argument");(0,T.k)(C,M)}function tC(C){(0,T.h)(C)}const AC="firebase-heartbeat-store";let HC=null;function jC(){return HC||(HC=function(C,M){let{blocked:x,upgrade:f,blocking:T,terminated:z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(C,M),S=o(s);return f&&s.addEventListener("upgradeneeded",(C=>{f(o(s.result),C.oldVersion,C.newVersion,o(s.transaction),C)})),x&&s.addEventListener("blocked",(C=>x(C.oldVersion,C.newVersion,C))),S.then((C=>{z&&C.addEventListener("close",(()=>z())),T&&C.addEventListener("versionchange",(C=>T(C.oldVersion,C.newVersion,C)))})).catch((()=>{})),S}("firebase-heartbeat-database",1,{upgrade:(C,M)=>{if(0===M)C.createObjectStore(AC)}}).catch((C=>{throw QC.create("idb-open",{originalErrorMessage:C.message})}))),HC}async function bC(C,M){try{const x=(await jC()).transaction(AC,"readwrite"),f=x.objectStore(AC);await f.put(M,RC(C)),await x.done}catch(x){if(x instanceof z.g)I.warn(x.message);else{const C=QC.create("idb-set",{originalErrorMessage:null===x||void 0===x?void 0:x.message});I.warn(C.message)}}}function RC(C){return`${C.name}!${C.options.appId}`}class nC{constructor(C){this.container=C,this._heartbeatsCache=null;const M=this.container.getProvider("app").getImmediate();this.Xi=new XC(M),this._heartbeatsCachePromise=this.Xi.read().then((C=>(this._heartbeatsCache=C,C)))}async triggerHeartbeat(){const C=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),M=IC();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==M&&!this._heartbeatsCache.heartbeats.some((C=>C.date===M)))return this._heartbeatsCache.heartbeats.push({date:M,agent:C}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((C=>{const M=new Date(C.date).valueOf();return Date.now()-M<=2592e6})),this.Xi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const C=IC(),{heartbeatsToSend:M,unsentEntries:x}=function(C){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const x=[];let f=C.slice();for(const T of C){const C=x.find((C=>C.agent===T.agent));if(C){if(C.dates.push(T.date),gC(x)>M){C.dates.pop();break}}else if(x.push({agent:T.agent,dates:[T.date]}),gC(x)>M){x.pop();break}f=f.slice(1)}return{heartbeatsToSend:x,unsentEntries:f}}(this._heartbeatsCache.heartbeats),f=(0,z.o)(JSON.stringify({version:2,heartbeats:M}));return this._heartbeatsCache.lastSentHeartbeatDate=C,x.length>0?(this._heartbeatsCache.heartbeats=x,await this.Xi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Xi.overwrite(this._heartbeatsCache)),f}}function IC(){return(new Date).toISOString().substring(0,10)}class XC{constructor(C){this.app=C,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,z.R)()&&(0,z.cb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(C){try{const M=await jC();return await M.transaction(AC).objectStore(AC).get(RC(C))}catch(M){if(M instanceof z.g)I.warn(M.message);else{const C=QC.create("idb-get",{originalErrorMessage:null===M||void 0===M?void 0:M.message});I.warn(C.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(C){var M;if(await this._canUseIndexedDBPromise){const x=await this.read();return bC(this.app,{lastSentHeartbeatDate:null!==(M=C.lastSentHeartbeatDate)&&void 0!==M?M:x.lastSentHeartbeatDate,heartbeats:C.heartbeats})}}async add(C){var M;if(await this._canUseIndexedDBPromise){const x=await this.read();return bC(this.app,{lastSentHeartbeatDate:null!==(M=C.lastSentHeartbeatDate)&&void 0!==M?M:x.lastSentHeartbeatDate,heartbeats:[...x.heartbeats,...C.heartbeats]})}}}function gC(C){return(0,z.o)(JSON.stringify({version:2,heartbeats:C})).length}var BC;BC="",TC(new f.h("platform-logger",(C=>new b(C)),"PRIVATE")),TC(new f.h("heartbeat",(C=>new nC(C)),"PRIVATE")),oC(R,n,BC),oC(R,n,"esm2017"),oC("fire-js","")},11391:(C,M,x)=>{x.d(M,{d:()=>S,h:()=>T});var f=x(11396);class T{constructor(C,M,x){this.name=C,this.instanceFactory=M,this.type=x,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const z="[DEFAULT]";class s{constructor(C,M){this.name=C,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const M=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(M)){const C=new f.e;if(this.instancesDeferred.set(M,C),this.isInitialized(M)||this.shouldAutoInitialize())try{const x=this.getOrInitializeService({instanceIdentifier:M});x&&C.resolve(x)}catch(x){}}return this.instancesDeferred.get(M).promise}getImmediate(C){var M;const x=this.normalizeInstanceIdentifier(null===C||void 0===C?void 0:C.identifier),f=null!==(M=null===C||void 0===C?void 0:C.optional)&&void 0!==M&&M;if(!this.isInitialized(x)&&!this.shouldAutoInitialize()){if(f)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:x})}catch(T){if(f)return null;throw T}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function(C){return"EAGER"===C.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:z})}catch(M){}for(const[C,x]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(C);try{const C=this.getOrInitializeService({instanceIdentifier:f});x.resolve(C)}catch(M){}}}}clearInstance(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}async delete(){const C=Array.from(this.instances.values());await Promise.all([...C.filter((C=>"INTERNAL"in C)).map((C=>C.INTERNAL.delete())),...C.filter((C=>"_delete"in C)).map((C=>C._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(C)}getOptions(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(C)||{}}initialize(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:M={}}=C,x=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(x))throw Error(`${this.name}(${x}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:x,options:M});for(const[T,z]of this.instancesDeferred.entries()){x===this.normalizeInstanceIdentifier(T)&&z.resolve(f)}return f}Ei(C,M){var x;const f=this.normalizeInstanceIdentifier(M),T=null!==(x=this.onInitCallbacks.get(f))&&void 0!==x?x:new Set;T.add(C),this.onInitCallbacks.set(f,T);const z=this.instances.get(f);return z&&C(z,f),()=>{T.delete(C)}}invokeOnInitCallbacks(C,M){const x=this.onInitCallbacks.get(M);if(x)for(const T of x)try{T(C,M)}catch(f){}}getOrInitializeService(C){let{instanceIdentifier:M,options:x={}}=C,f=this.instances.get(M);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(T=M,T===z?void 0:T),options:x}),this.instances.set(M,f),this.instancesOptions.set(M,x),this.invokeOnInitCallbacks(f,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,f)}catch(s){}var T;return f||null}normalizeInstanceIdentifier(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?C:z:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class S{constructor(C){this.name=C,this.providers=new Map}Of(C){const M=this.getProvider(C.name);if(M.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);M.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.Of(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const M=new s(C,this);return this.providers.set(C,M),M}getProviders(){return Array.from(this.providers.values())}}},11402:(C,M,x)=>{x.d(M,{b:()=>T,e:()=>Q,h:()=>V,k:()=>y});const f=[];var T;!function(C){C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT"}(T||(T={}));const z={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},s=T.INFO,S={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},m=function(C,M){if(M<C.logLevel)return;const x=(new Date).toISOString(),f=S[M];if(!f)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);for(var T=arguments.length,z=new Array(T>2?T-2:0),s=2;s<T;s++)z[s-2]=arguments[s];console[f](`[${x}]  ${C.name}:`,...z)};class Q{constructor(C){this.name=C,this._logLevel=s,this._logHandler=m,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(C){if(!(C in T))throw new TypeError(`Invalid value "${C}" assigned to \`logLevel\``);this._logLevel=C}setLogLevel(C){this._logLevel="string"===typeof C?z[C]:C}get logHandler(){return this._logHandler}set logHandler(C){if("function"!==typeof C)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=C}get userLogHandler(){return this._userLogHandler}set userLogHandler(C){this._userLogHandler=C}debug(){for(var C=arguments.length,M=new Array(C),x=0;x<C;x++)M[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...M),this._logHandler(this,T.DEBUG,...M)}log(){for(var C=arguments.length,M=new Array(C),x=0;x<C;x++)M[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...M),this._logHandler(this,T.VERBOSE,...M)}info(){for(var C=arguments.length,M=new Array(C),x=0;x<C;x++)M[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,T.INFO,...M),this._logHandler(this,T.INFO,...M)}warn(){for(var C=arguments.length,M=new Array(C),x=0;x<C;x++)M[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,T.WARN,...M),this._logHandler(this,T.WARN,...M)}error(){for(var C=arguments.length,M=new Array(C),x=0;x<C;x++)M[x]=arguments[x];this._userLogHandler&&this._userLogHandler(this,T.ERROR,...M),this._logHandler(this,T.ERROR,...M)}}function V(C){f.forEach((M=>{M.setLogLevel(C)}))}function y(C,M){for(const x of f){let f=null;M&&M.level&&(f=z[M.level]),x.userLogHandler=null===C?null:function(M,x){for(var z=arguments.length,s=new Array(z>2?z-2:0),S=2;S<z;S++)s[S-2]=arguments[S];const m=s.map((C=>{if(null==C)return null;if("string"===typeof C)return C;if("number"===typeof C||"boolean"===typeof C)return C.toString();if(C instanceof Error)return C.message;try{return JSON.stringify(C)}catch(M){return null}})).filter((C=>C)).join(" ");x>=(null!==f&&void 0!==f?f:M.logLevel)&&C({level:T[x].toLowerCase(),message:m,args:s,type:M.name})}}}}}]);