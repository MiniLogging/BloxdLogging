/*! For license information please see 26kuv.37.1ffd887c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11954:(x,Z,l)=>{l.d(Z,{$:()=>k,B:()=>V,D:()=>c,H:()=>O,I:()=>I,J:()=>n,N:()=>J,R:()=>X,S:()=>W,W:()=>u,Y:()=>v,Z:()=>G,b:()=>a,d:()=>H,db:()=>f,h:()=>T,k:()=>S,m:()=>P,p:()=>A,q:()=>M,r:()=>N,s:()=>U,v:()=>p,y:()=>Q});const t=function(x){const Z=[];let l=0;for(let t=0;t<x.length;t++){let L=x.charCodeAt(t);L<128?Z[l++]=L:L<2048?(Z[l++]=L>>6|192,Z[l++]=63&L|128):55296===(64512&L)&&t+1<x.length&&56320===(64512&x.charCodeAt(t+1))?(L=65536+((1023&L)<<10)+(1023&x.charCodeAt(++t)),Z[l++]=L>>18|240,Z[l++]=L>>12&63|128,Z[l++]=L>>6&63|128,Z[l++]=63&L|128):(Z[l++]=L>>12|224,Z[l++]=L>>6&63|128,Z[l++]=63&L|128)}return Z},L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(x,Z){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,t=[];for(let L=0;L<x.length;L+=3){const Z=x[L],z=L+1<x.length,A=z?x[L+1]:0,P=L+2<x.length,C=P?x[L+2]:0,j=Z>>2,V=(3&Z)<<4|A>>4;let Q=(15&A)<<2|C>>6,c=63&C;P||(c=64,z||(Q=64)),t.push(l[j],l[V],l[Q],l[c])}return t.join("")},encodeString(x,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(x):this.encodeByteArray(t(x),Z)},decodeString(x,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(x):function(x){const Z=[];let l=0,t=0;for(;l<x.length;){const L=x[l++];if(L<128)Z[t++]=String.fromCharCode(L);else if(L>191&&L<224){const z=x[l++];Z[t++]=String.fromCharCode((31&L)<<6|63&z)}else if(L>239&&L<365){const z=((7&L)<<18|(63&x[l++])<<12|(63&x[l++])<<6|63&x[l++])-65536;Z[t++]=String.fromCharCode(55296+(z>>10)),Z[t++]=String.fromCharCode(56320+(1023&z))}else{const z=x[l++],A=x[l++];Z[t++]=String.fromCharCode((15&L)<<12|(63&z)<<6|63&A)}}return Z.join("")}(this.decodeStringToByteArray(x,Z))},decodeStringToByteArray(x,Z){this.init_();const l=Z?this.charToByteMapWebSafe_:this.charToByteMap_,t=[];for(let L=0;L<x.length;){const Z=l[x.charAt(L++)],A=L<x.length?l[x.charAt(L)]:0;++L;const P=L<x.length?l[x.charAt(L)]:64;++L;const C=L<x.length?l[x.charAt(L)]:64;if(++L,null==Z||null==A||null==P||null==C)throw new z;const j=Z<<2|A>>4;if(t.push(j),64!==P){const x=A<<4&240|P>>2;if(t.push(x),64!==C){const x=P<<6&192|C;t.push(x)}}}return t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(x){return function(x){const Z=t(x);return L.encodeByteArray(Z,!0)}(x).replace(/\./g,"")},P=function(x){try{return L.decodeString(x,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};const C=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof l.g)return l.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,j=()=>{try{return C()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(l){return}const Z=x&&P(x[1]);return Z&&JSON.parse(Z)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},V=x=>{var Z,l;return null===(l=null===(Z=j())||void 0===Z?void 0:Z.emulatorHosts)||void 0===l?void 0:l[x]},Q=()=>{var x;return null===(x=j())||void 0===x?void 0:x.config},c=x=>{var Z;return null===(Z=j())||void 0===Z?void 0:Z[`_${x}`]};class a{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((x,Z)=>{this.resolve=x,this.reject=Z}))}wrapCallback(x){return(Z,l)=>{Z?this.reject(Z):this.resolve(l),"function"===typeof x&&(this.promise.catch((()=>{})),1===x.length?x(Z):x(Z,l))}}}function I(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())}function n(){const x="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof x&&void 0!==x.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function X(){const x=I();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function W(){try{return"object"===typeof indexedDB}catch(x){return!1}}function f(){return new Promise(((x,Z)=>{try{let l=!0;const t="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(t);L.onsuccess=()=>{L.result.close(),l||self.indexedDB.deleteDatabase(t),x(!0)},L.onupgradeneeded=()=>{l=!1},L.onerror=()=>{var x;Z((null===(x=L.error)||void 0===x?void 0:x.message)||"")}}catch(l){Z(l)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class T extends Error{constructor(x,Z,l){super(Z),this.code=x,this.customData=l,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(x,Z,l){this.service=x,this.serviceName=Z,this.errors=l}create(x){const Z=(arguments.length<=1?void 0:arguments[1])||{},l=`${this.service}/${x}`,t=this.errors[x],L=t?function(x,Z){return x.replace(R,((x,l)=>{const t=Z[l];return null!=t?String(t):`<${l}?>`}))}(t,Z):"Error",z=`${this.serviceName}: ${L} (${l}).`;return new T(l,z,Z)}}const R=/\{\$([^}]+)}/g;function J(x){for(const Z in x)if(Object.prototype.hasOwnProperty.call(x,Z))return!1;return!0}function U(x,Z){if(x===Z)return!0;const l=Object.keys(x),t=Object.keys(Z);for(const L of l){if(!t.includes(L))return!1;const l=x[L],z=Z[L];if(d(l)&&d(z)){if(!U(l,z))return!1}else if(l!==z)return!1}for(const L of t)if(!l.includes(L))return!1;return!0}function d(x){return null!==x&&"object"===typeof x}function k(x){const Z=[];for(const[l,t]of Object.entries(x))Array.isArray(t)?t.forEach((x=>{Z.push(encodeURIComponent(l)+"="+encodeURIComponent(x))})):Z.push(encodeURIComponent(l)+"="+encodeURIComponent(t));return Z.length?"&"+Z.join("&"):""}function G(x){const Z={};return x.replace(/^\?/,"").split("&").forEach((x=>{if(x){const[l,t]=x.split("=");Z[decodeURIComponent(l)]=decodeURIComponent(t)}})),Z}function p(x){const Z=x.indexOf("?");if(!Z)return"";const l=x.indexOf("#",Z);return x.substring(Z,l>0?l:void 0)}function N(x,Z){const l=new B(x,Z);return l.subscribe.bind(l)}class B{constructor(x,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then((()=>{x(this)})).catch((x=>{this.error(x)}))}next(x){this.forEachObserver((Z=>{Z.next(x)}))}error(x){this.forEachObserver((Z=>{Z.error(x)})),this.close(x)}complete(){this.forEachObserver((x=>{x.complete()})),this.close()}subscribe(x,Z,l){let t;if(void 0===x&&void 0===Z&&void 0===l)throw new Error("Missing Observer.");t=function(x,Z){if("object"!==typeof x||null===x)return!1;for(const l of Z)if(l in x&&"function"===typeof x[l])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:Z,complete:l},void 0===t.next&&(t.next=m),void 0===t.error&&(t.error=m),void 0===t.complete&&(t.complete=m);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?t.error(this.finalError):t.complete()}catch(x){}})),this.observers.push(t),L}unsubscribeOne(x){void 0!==this.observers&&void 0!==this.observers[x]&&(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,x)}sendOne(x,Z){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{Z(this.observers[x])}catch(l){"undefined"!==typeof console&&console.error&&console.error(l)}}))}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function m(){}const h=1e3,s=2,o=144e5,r=.5;function M(x){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;const l=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h)*Math.pow(Z,x),t=Math.round(r*l*(Math.random()-.5)*2);return Math.min(o,l+t)}function O(x){return x&&x._delegate?x._delegate:x}},11945:(x,Z,l)=>{l.d(Z,{e:()=>z.h,h:()=>Qx,l:()=>Y,o:()=>lx,q:()=>tx,t:()=>xx,u:()=>Px,w:()=>Zx,x:()=>zx,y:()=>Lx,C:()=>Ax,D:()=>ux,J:()=>ax,F:()=>Ix,K:()=>cx,M:()=>vx,Q:()=>nx,S:()=>Xx});var t=l(11949),L=l(11963),z=l(11954);let A,P;const C=new WeakMap,j=new WeakMap,V=new WeakMap,Q=new WeakMap,c=new WeakMap;let a={get(x,Z,l){if(x instanceof IDBTransaction){if("done"===Z)return j.get(x);if("objectStoreNames"===Z)return x.objectStoreNames||V.get(x);if("store"===Z)return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return n(x[Z])},set:(x,Z,l)=>(x[Z]=l,!0),has:(x,Z)=>x instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in x};function I(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(x)?function(){for(var Z=arguments.length,l=new Array(Z),t=0;t<Z;t++)l[t]=arguments[t];return x.apply(v(this),l),n(C.get(this))}:function(){for(var Z=arguments.length,l=new Array(Z),t=0;t<Z;t++)l[t]=arguments[t];return n(x.apply(v(this),l))}:function(Z){for(var l=arguments.length,t=new Array(l>1?l-1:0),L=1;L<l;L++)t[L-1]=arguments[L];const z=x.call(v(this),Z,...t);return V.set(z,Z.sort?Z.sort():[Z]),n(z)}}function u(x){return"function"===typeof x?I(x):(x instanceof IDBTransaction&&function(x){if(j.has(x))return;const Z=new Promise(((Z,l)=>{const t=()=>{x.removeEventListener("complete",L),x.removeEventListener("error",z),x.removeEventListener("abort",z)},L=()=>{Z(),t()},z=()=>{l(x.error||new DOMException("AbortError","AbortError")),t()};x.addEventListener("complete",L),x.addEventListener("error",z),x.addEventListener("abort",z)}));j.set(x,Z)}(x),Z=x,(A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((x=>Z instanceof x))?new Proxy(x,a):x);var Z}function n(x){if(x instanceof IDBRequest)return function(x){const Z=new Promise(((Z,l)=>{const t=()=>{x.removeEventListener("success",L),x.removeEventListener("error",z)},L=()=>{Z(n(x.result)),t()},z=()=>{l(x.error),t()};x.addEventListener("success",L),x.addEventListener("error",z)}));return Z.then((Z=>{Z instanceof IDBCursor&&C.set(Z,x)})).catch((()=>{})),c.set(Z,x),Z}(x);if(Q.has(x))return Q.get(x);const Z=u(x);return Z!==x&&(Q.set(x,Z),c.set(Z,x)),Z}const v=x=>c.get(x);const X=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],f=new Map;function S(x,Z){if(!(x instanceof IDBDatabase)||Z in x||"string"!==typeof Z)return;if(f.get(Z))return f.get(Z);const l=Z.replace(/FromIndex$/,""),t=Z!==l,L=W.includes(l);if(!(l in(t?IDBIndex:IDBObjectStore).prototype)||!L&&!X.includes(l))return;const z=async function(x){const Z=this.transaction(x,L?"readwrite":"readonly");let z=Z.store;for(var A=arguments.length,P=new Array(A>1?A-1:0),C=1;C<A;C++)P[C-1]=arguments[C];return t&&(z=z.index(P.shift())),(await Promise.all([z[l](...P),L&&Z.done]))[0]};return f.set(Z,z),z}a=(x=>({...x,get:(Z,l,t)=>S(Z,l)||x.get(Z,l,t),has:(Z,l)=>!!S(Z,l)||x.has(Z,l)}))(a);class T{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map((x=>{if(function(x){const Z=x.getComponent();return"VERSION"===(null===Z||void 0===Z?void 0:Z.type)}(x)){const Z=x.getImmediate();return`${Z.library}/${Z.version}`}return null})).filter((x=>x)).join(" ")}}const H="@firebase/app",R="0.9.13",J=new L.f("@firebase/app"),U="@firebase/app-compat",d="@firebase/analytics-compat",k="@firebase/analytics",G="@firebase/app-check-compat",p="@firebase/app-check",N="@firebase/auth",B="@firebase/auth-compat",m="@firebase/database",h="@firebase/database-compat",s="@firebase/functions",o="@firebase/functions-compat",r="@firebase/installations",M="@firebase/installations-compat",O="@firebase/messaging",E="@firebase/messaging-compat",D="@firebase/performance",e="@firebase/performance-compat",i="@firebase/remote-config",g="@firebase/remote-config-compat",F="@firebase/storage",K="@firebase/storage-compat",q="@firebase/firestore",w="@firebase/firestore-compat",b="firebase",Y="[DEFAULT]",y={[H]:"fire-core",[U]:"fire-core-compat",[k]:"fire-analytics",[d]:"fire-analytics-compat",[p]:"fire-app-check",[G]:"fire-app-check-compat",[N]:"fire-auth",[B]:"fire-auth-compat",[m]:"fire-rtdb",[h]:"fire-rtdb-compat",[s]:"fire-fn",[o]:"fire-fn-compat",[r]:"fire-iid",[M]:"fire-iid-compat",[O]:"fire-fcm",[E]:"fire-fcm-compat",[D]:"fire-perf",[e]:"fire-perf-compat",[i]:"fire-rc",[g]:"fire-rc-compat",[F]:"fire-gcs",[K]:"fire-gcs-compat",[q]:"fire-fst",[w]:"fire-fst-compat","fire-js":"fire-js",[b]:"fire-js-all"},xx=new Map,Zx=new Map;function lx(x,Z){try{x.container.Gf(Z)}catch(l){J.debug(`Component ${Z.name} failed to register with FirebaseApp ${x.name}`,l)}}function tx(x,Z){x.container.addOrOverwriteComponent(Z)}function Lx(x){const Z=x.name;if(Zx.has(Z))return J.debug(`There were multiple attempts to register component ${Z}.`),!1;Zx.set(Z,x);for(const l of xx.values())lx(l,x);return!0}function zx(x,Z){const l=x.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),x.container.getProvider(Z)}function Ax(x,Z){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;zx(x,Z).clearInstance(l)}function Px(){Zx.clear()}const Cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jx=new z.d("app","Firebase",Cx);class Vx{constructor(x,Z,l){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=l,this.container.Gf(new t.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw jx.create("app-deleted",{appName:this._name})}}const Qx="9.23.0";function cx(x){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=x;if("object"!==typeof Z){Z={name:Z}}const L=Object.assign({name:Y,automaticDataCollectionEnabled:!1},Z),A=L.name;if("string"!==typeof A||!A)throw jx.create("bad-app-name",{appName:String(A)});if(l||(l=(0,z.y)()),!l)throw jx.create("no-options");const P=xx.get(A);if(P){if((0,z.s)(l,P.options)&&(0,z.s)(L,P.config))return P;throw jx.create("duplicate-app",{appName:A})}const C=new t.e(A);for(const t of Zx.values())C.Gf(t);const j=new Vx(l,L,C);return xx.set(A,j),j}function ax(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;const Z=xx.get(x);if(!Z&&x===Y&&(0,z.y)())return cx();if(!Z)throw jx.create("no-app",{appName:x});return Z}function Ix(){return Array.from(xx.values())}async function ux(x){const Z=x.name;xx.has(Z)&&(xx.delete(Z),await Promise.all(x.container.getProviders().map((x=>x.delete()))),x.isDeleted=!0)}function nx(x,Z,l){var L;let z=null!==(L=y[x])&&void 0!==L?L:x;l&&(z+=`-${l}`);const A=z.match(/\s|\//),P=Z.match(/\s|\//);if(A||P){const x=[`Unable to register library "${z}" with version "${Z}":`];return A&&x.push(`library name "${z}" contains illegal characters (whitespace or "/")`),A&&P&&x.push("and"),P&&x.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void J.warn(x.join(" "))}Lx(new t.g(`${z}-version`,(()=>({library:z,version:Z})),"VERSION"))}function vx(x,Z){if(null!==x&&"function"!==typeof x)throw jx.create("invalid-log-argument");(0,L.k)(x,Z)}function Xx(x){(0,L.i)(x)}const Wx="firebase-heartbeat-store";let fx=null;function Sx(){return fx||(fx=function(x,Z){let{blocked:l,upgrade:t,blocking:L,terminated:z}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=indexedDB.open(x,Z),P=n(A);return t&&A.addEventListener("upgradeneeded",(x=>{t(n(A.result),x.oldVersion,x.newVersion,n(A.transaction),x)})),l&&A.addEventListener("blocked",(x=>l(x.oldVersion,x.newVersion,x))),P.then((x=>{z&&x.addEventListener("close",(()=>z())),L&&x.addEventListener("versionchange",(x=>L(x.oldVersion,x.newVersion,x)))})).catch((()=>{})),P}("firebase-heartbeat-database",1,{upgrade:(x,Z)=>{if(0===Z)x.createObjectStore(Wx)}}).catch((x=>{throw jx.create("idb-open",{originalErrorMessage:x.message})}))),fx}async function Tx(x,Z){try{const l=(await Sx()).transaction(Wx,"readwrite"),t=l.objectStore(Wx);await t.put(Z,Hx(x)),await l.done}catch(l){if(l instanceof z.h)J.warn(l.message);else{const x=jx.create("idb-set",{originalErrorMessage:null===l||void 0===l?void 0:l.message});J.warn(x.message)}}}function Hx(x){return`${x.name}!${x.options.appId}`}class Rx{constructor(x){this.container=x,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this.ej=new Ux(Z),this._heartbeatsCachePromise=this.ej.read().then((x=>(this._heartbeatsCache=x,x)))}async triggerHeartbeat(){const x=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Z=Jx();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Z&&!this._heartbeatsCache.heartbeats.some((x=>x.date===Z)))return this._heartbeatsCache.heartbeats.push({date:Z,agent:x}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((x=>{const Z=new Date(x.date).valueOf();return Date.now()-Z<=2592e6})),this.ej.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const x=Jx(),{heartbeatsToSend:Z,unsentEntries:l}=function(x){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const l=[];let t=x.slice();for(const L of x){const x=l.find((x=>x.agent===L.agent));if(x){if(x.dates.push(L.date),dx(l)>Z){x.dates.pop();break}}else if(l.push({agent:L.agent,dates:[L.date]}),dx(l)>Z){l.pop();break}t=t.slice(1)}return{heartbeatsToSend:l,unsentEntries:t}}(this._heartbeatsCache.heartbeats),t=(0,z.p)(JSON.stringify({version:2,heartbeats:Z}));return this._heartbeatsCache.lastSentHeartbeatDate=x,l.length>0?(this._heartbeatsCache.heartbeats=l,await this.ej.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.ej.overwrite(this._heartbeatsCache)),t}}function Jx(){return(new Date).toISOString().substring(0,10)}class Ux{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,z.S)()&&(0,z.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(x){try{const Z=await Sx();return await Z.transaction(Wx).objectStore(Wx).get(Hx(x))}catch(Z){if(Z instanceof z.h)J.warn(Z.message);else{const x=jx.create("idb-get",{originalErrorMessage:null===Z||void 0===Z?void 0:Z.message});J.warn(x.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(x){var Z;if(await this._canUseIndexedDBPromise){const l=await this.read();return Tx(this.app,{lastSentHeartbeatDate:null!==(Z=x.lastSentHeartbeatDate)&&void 0!==Z?Z:l.lastSentHeartbeatDate,heartbeats:x.heartbeats})}}async add(x){var Z;if(await this._canUseIndexedDBPromise){const l=await this.read();return Tx(this.app,{lastSentHeartbeatDate:null!==(Z=x.lastSentHeartbeatDate)&&void 0!==Z?Z:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...x.heartbeats]})}}}function dx(x){return(0,z.p)(JSON.stringify({version:2,heartbeats:x})).length}var kx;kx="",Lx(new t.g("platform-logger",(x=>new T(x)),"PRIVATE")),Lx(new t.g("heartbeat",(x=>new Rx(x)),"PRIVATE")),nx(H,R,kx),nx(H,R,"esm2017"),nx("fire-js","")},11949:(x,Z,l)=>{l.d(Z,{e:()=>P,g:()=>L});var t=l(11954);class L{constructor(x,Z,l){this.name=x,this.instanceFactory=Z,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const z="[DEFAULT]";class A{constructor(x,Z){this.name=x,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const Z=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(Z)){const x=new t.b;if(this.instancesDeferred.set(Z,x),this.isInitialized(Z)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:Z});l&&x.resolve(l)}catch(l){}}return this.instancesDeferred.get(Z).promise}getImmediate(x){var Z;const l=this.normalizeInstanceIdentifier(null===x||void 0===x?void 0:x.identifier),t=null!==(Z=null===x||void 0===x?void 0:x.optional)&&void 0!==Z&&Z;if(!this.isInitialized(l)&&!this.shouldAutoInitialize()){if(t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:l})}catch(L){if(t)return null;throw L}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function(x){return"EAGER"===x.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:z})}catch(Z){}for(const[x,l]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(x);try{const x=this.getOrInitializeService({instanceIdentifier:t});l.resolve(x)}catch(Z){}}}}clearInstance(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}async delete(){const x=Array.from(this.instances.values());await Promise.all([...x.filter((x=>"INTERNAL"in x)).map((x=>x.INTERNAL.delete())),...x.filter((x=>"_delete"in x)).map((x=>x._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instances.has(x)}getOptions(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.instancesOptions.get(x)||{}}initialize(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Z={}}=x,l=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const t=this.getOrInitializeService({instanceIdentifier:l,options:Z});for(const[L,z]of this.instancesDeferred.entries()){l===this.normalizeInstanceIdentifier(L)&&z.resolve(t)}return t}Ni(x,Z){var l;const t=this.normalizeInstanceIdentifier(Z),L=null!==(l=this.onInitCallbacks.get(t))&&void 0!==l?l:new Set;L.add(x),this.onInitCallbacks.set(t,L);const z=this.instances.get(t);return z&&x(z,t),()=>{L.delete(x)}}invokeOnInitCallbacks(x,Z){const l=this.onInitCallbacks.get(Z);if(l)for(const L of l)try{L(x,Z)}catch(t){}}getOrInitializeService(x){let{instanceIdentifier:Z,options:l={}}=x,t=this.instances.get(Z);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(L=Z,L===z?void 0:L),options:l}),this.instances.set(Z,t),this.instancesOptions.set(Z,l),this.invokeOnInitCallbacks(t,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,t)}catch(A){}var L;return t||null}normalizeInstanceIdentifier(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return this.component?this.component.multipleInstances?x:z:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P{constructor(x){this.name=x,this.providers=new Map}Gf(x){const Z=this.getProvider(x.name);if(Z.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);Z.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.Gf(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const Z=new A(x,this);return this.providers.set(x,Z),Z}getProviders(){return Array.from(this.providers.values())}}},11963:(x,Z,l)=>{l.d(Z,{b:()=>L,f:()=>j,i:()=>V,k:()=>Q});const t=[];var L;!function(x){x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT"}(L||(L={}));const z={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},A=L.INFO,P={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},C=function(x,Z){if(Z<x.logLevel)return;const l=(new Date).toISOString(),t=P[Z];if(!t)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);for(var L=arguments.length,z=new Array(L>2?L-2:0),A=2;A<L;A++)z[A-2]=arguments[A];console[t](`[${l}]  ${x.name}:`,...z)};class j{constructor(x){this.name=x,this._logLevel=A,this._logHandler=C,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(x){if(!(x in L))throw new TypeError(`Invalid value "${x}" assigned to \`logLevel\``);this._logLevel=x}setLogLevel(x){this._logLevel="string"===typeof x?z[x]:x}get logHandler(){return this._logHandler}set logHandler(x){if("function"!==typeof x)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=x}get userLogHandler(){return this._userLogHandler}set userLogHandler(x){this._userLogHandler=x}debug(){for(var x=arguments.length,Z=new Array(x),l=0;l<x;l++)Z[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Z),this._logHandler(this,L.DEBUG,...Z)}log(){for(var x=arguments.length,Z=new Array(x),l=0;l<x;l++)Z[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Z),this._logHandler(this,L.VERBOSE,...Z)}info(){for(var x=arguments.length,Z=new Array(x),l=0;l<x;l++)Z[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,L.INFO,...Z),this._logHandler(this,L.INFO,...Z)}warn(){for(var x=arguments.length,Z=new Array(x),l=0;l<x;l++)Z[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,L.WARN,...Z),this._logHandler(this,L.WARN,...Z)}error(){for(var x=arguments.length,Z=new Array(x),l=0;l<x;l++)Z[l]=arguments[l];this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Z),this._logHandler(this,L.ERROR,...Z)}}function V(x){t.forEach((Z=>{Z.setLogLevel(x)}))}function Q(x,Z){for(const l of t){let t=null;Z&&Z.level&&(t=z[Z.level]),l.userLogHandler=null===x?null:function(Z,l){for(var z=arguments.length,A=new Array(z>2?z-2:0),P=2;P<z;P++)A[P-2]=arguments[P];const C=A.map((x=>{if(null==x)return null;if("string"===typeof x)return x;if("number"===typeof x||"boolean"===typeof x)return x.toString();if(x instanceof Error)return x.message;try{return JSON.stringify(x)}catch(Z){return null}})).filter((x=>x)).join(" ");l>=(null!==t&&void 0!==t?t:Z.logLevel)&&x({level:L[l].toLowerCase(),message:C,args:A,type:Z.name})}}}}}]);