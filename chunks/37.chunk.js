/*! For license information please see o09hnv.37.a364fedc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{10984:(N,Z,d)=>{d.d(Z,{$:()=>U,D:()=>j,H:()=>D,I:()=>s,M:()=>T,N:()=>h,P:()=>V,T:()=>C,X:()=>M,_:()=>k,b:()=>v,c:()=>g,db:()=>P,f:()=>n,gb:()=>r,i:()=>A,ib:()=>Q,k:()=>w,m:()=>z,o:()=>Y,r:()=>b,t:()=>O,x:()=>W,z:()=>B});const X=function(N){const Z=[];let d=0;for(let X=0;X<N.length;X++){let I=N.charCodeAt(X);I<128?Z[d++]=I:I<2048?(Z[d++]=I>>6|192,Z[d++]=63&I|128):55296===(64512&I)&&X+1<N.length&&56320===(64512&N.charCodeAt(X+1))?(I=65536+((1023&I)<<10)+(1023&N.charCodeAt(++X)),Z[d++]=I>>18|240,Z[d++]=I>>12&63|128,Z[d++]=I>>6&63|128,Z[d++]=63&I|128):(Z[d++]=I>>12|224,Z[d++]=I>>6&63|128,Z[d++]=63&I|128)}return Z},I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(N,Z){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const d=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let I=0;I<N.length;I+=3){const Z=N[I],m=I+1<N.length,z=m?N[I+1]:0,w=I+2<N.length,S=w?N[I+2]:0,e=Z>>2,j=(3&Z)<<4|z>>4;let B=(15&z)<<2|S>>6,D=63&S;w||(D=64,m||(B=64)),X.push(d[e],d[j],d[B],d[D])}return X.join("")},encodeString(N,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(N):this.encodeByteArray(X(N),Z)},decodeString(N,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(N):function(N){const Z=[];let d=0,X=0;for(;d<N.length;){const I=N[d++];if(I<128)Z[X++]=String.fromCharCode(I);else if(I>191&&I<224){const m=N[d++];Z[X++]=String.fromCharCode((31&I)<<6|63&m)}else if(I>239&&I<365){const m=((7&I)<<18|(63&N[d++])<<12|(63&N[d++])<<6|63&N[d++])-65536;Z[X++]=String.fromCharCode(55296+(m>>10)),Z[X++]=String.fromCharCode(56320+(1023&m))}else{const m=N[d++],z=N[d++];Z[X++]=String.fromCharCode((15&I)<<12|(63&m)<<6|63&z)}}return Z.join("")}(this.decodeStringToByteArray(N,Z))},decodeStringToByteArray(N,Z){this.init_();const d=Z?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let I=0;I<N.length;){const Z=d[N.charAt(I++)],z=I<N.length?d[N.charAt(I)]:0;++I;const w=I<N.length?d[N.charAt(I)]:64;++I;const S=I<N.length?d[N.charAt(I)]:64;if(++I,null==Z||null==z||null==w||null==S)throw new m;const e=Z<<2|z>>4;if(X.push(e),64!==w){const N=z<<4&240|w>>2;if(X.push(N),64!==S){const N=w<<6&192|S;X.push(N)}}}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class m extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z=function(N){return function(N){const Z=X(N);return I.encodeByteArray(Z,!0)}(N).replace(/\./g,"")},w=function(N){try{return I.decodeString(N,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};const S=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof d.g)return d.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,e=()=>{try{return S()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(d){return}const Z=N&&w(N[1]);return Z&&JSON.parse(Z)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},j=N=>{var Z,d;return null===(d=null===(Z=e())||void 0===Z?void 0:Z.emulatorHosts)||void 0===d?void 0:d[N]},B=()=>{var N;return null===(N=e())||void 0===N?void 0:N.config},D=N=>{var Z;return null===(Z=e())||void 0===Z?void 0:Z[`_${N}`]};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((N,Z)=>{this.resolve=N,this.reject=Z}))}wrapCallback(N){return(Z,d)=>{Z?this.reject(Z):this.resolve(d),"function"===typeof N&&(this.promise.catch((()=>{})),1===N.length?N(Z):N(Z,d))}}}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())}function h(){const N="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof N&&void 0!==N.id}function U(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const N=T();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function M(){try{return"object"===typeof indexedDB}catch(N){return!1}}function Q(){return new Promise(((N,Z)=>{try{let d=!0;const X="validate-browser-context-for-indexeddb-analytics-module",I=self.indexedDB.open(X);I.onsuccess=()=>{I.result.close(),d||self.indexedDB.deleteDatabase(X),N(!0)},I.onupgradeneeded=()=>{d=!1},I.onerror=()=>{var N;Z((null===(N=I.error)||void 0===N?void 0:N.message)||"")}}catch(d){Z(d)}}))}function A(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class n extends Error{constructor(N,Z,d){super(Z),this.code=N,this.customData=d,this.name="FirebaseError",Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g.prototype.create)}}class g{constructor(N,Z,d){this.service=N,this.serviceName=Z,this.errors=d}create(N){const Z=(arguments.length<=1?void 0:arguments[1])||{},d=`${this.service}/${N}`,X=this.errors[N],I=X?function(N,Z){return N.replace(E,((N,d)=>{const X=Z[d];return null!=X?String(X):`<${d}?>`}))}(X,Z):"Error",m=`${this.serviceName}: ${I} (${d}).`;return new n(d,m,Z)}}const E=/\{\$([^}]+)}/g;function V(N){for(const Z in N)if(Object.prototype.hasOwnProperty.call(N,Z))return!1;return!0}function O(N,Z){if(N===Z)return!0;const d=Object.keys(N),X=Object.keys(Z);for(const I of d){if(!X.includes(I))return!1;const d=N[I],m=Z[I];if(K(d)&&K(m)){if(!O(d,m))return!1}else if(d!==m)return!1}for(const I of X)if(!d.includes(I))return!1;return!0}function K(N){return null!==N&&"object"===typeof N}function r(N){const Z=[];for(const[d,X]of Object.entries(N))Array.isArray(X)?X.forEach((N=>{Z.push(encodeURIComponent(d)+"="+encodeURIComponent(N))})):Z.push(encodeURIComponent(d)+"="+encodeURIComponent(X));return Z.length?"&"+Z.join("&"):""}function P(N){const Z={};return N.replace(/^\?/,"").split("&").forEach((N=>{if(N){const[d,X]=N.split("=");Z[decodeURIComponent(d)]=decodeURIComponent(X)}})),Z}function W(N){const Z=N.indexOf("?");if(!Z)return"";const d=N.indexOf("#",Z);return N.substring(Z,d>0?d:void 0)}function b(N,Z){const d=new J(N,Z);return d.subscribe.bind(d)}class J{constructor(N,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then((()=>{N(this)})).catch((N=>{this.error(N)}))}next(N){this.forEachObserver((Z=>{Z.next(N)}))}error(N){this.forEachObserver((Z=>{Z.error(N)})),this.close(N)}complete(){this.forEachObserver((N=>{N.complete()})),this.close()}subscribe(N,Z,d){let X;if(void 0===N&&void 0===Z&&void 0===d)throw new Error("Missing Observer.");X=function(N,Z){if("object"!==typeof N||null===N)return!1;for(const d of Z)if(d in N&&"function"===typeof N[d])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:Z,complete:d},void 0===X.next&&(X.next=F),void 0===X.error&&(X.error=F),void 0===X.complete&&(X.complete=F);const I=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(N){}})),this.observers.push(X),I}unsubscribeOne(N){void 0!==this.observers&&void 0!==this.observers[N]&&(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,N)}sendOne(N,Z){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{Z(this.observers[N])}catch(d){"undefined"!==typeof console&&console.error&&console.error(d)}}))}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}const G=1e3,x=2,t=144e5,q=.5;function Y(N){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const d=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:G)*Math.pow(Z,N),X=Math.round(q*d*(Math.random()-.5)*2);return Math.min(t,d+X)}function s(N){return N&&N._delegate?N._delegate:N}},10970:(N,Z,d)=>{d.d(Z,{c:()=>m.f,e:()=>BN,f:()=>f,i:()=>dN,l:()=>XN,m:()=>NN,p:()=>wN,q:()=>ZN,r:()=>mN,s:()=>IN,u:()=>zN,x:()=>kN,C:()=>vN,z:()=>TN,E:()=>DN,I:()=>UN,M:()=>hN,N:()=>CN});var X=d(10977),I=d(10991),m=d(10984);let z,w;const S=new WeakMap,e=new WeakMap,j=new WeakMap,B=new WeakMap,D=new WeakMap;let v={get(N,Z,d){if(N instanceof IDBTransaction){if("done"===Z)return e.get(N);if("objectStoreNames"===Z)return N.objectStoreNames||j.get(N);if("store"===Z)return d.objectStoreNames[1]?void 0:d.objectStore(d.objectStoreNames[0])}return h(N[Z])},set:(N,Z,d)=>(N[Z]=d,!0),has:(N,Z)=>N instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in N};function T(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(N)?function(){for(var Z=arguments.length,d=new Array(Z),X=0;X<Z;X++)d[X]=arguments[X];return N.apply(U(this),d),h(S.get(this))}:function(){for(var Z=arguments.length,d=new Array(Z),X=0;X<Z;X++)d[X]=arguments[X];return h(N.apply(U(this),d))}:function(Z){for(var d=arguments.length,X=new Array(d>1?d-1:0),I=1;I<d;I++)X[I-1]=arguments[I];const m=N.call(U(this),Z,...X);return j.set(m,Z.sort?Z.sort():[Z]),h(m)}}function k(N){return"function"===typeof N?T(N):(N instanceof IDBTransaction&&function(N){if(e.has(N))return;const Z=new Promise(((Z,d)=>{const X=()=>{N.removeEventListener("complete",I),N.removeEventListener("error",m),N.removeEventListener("abort",m)},I=()=>{Z(),X()},m=()=>{d(N.error||new DOMException("AbortError","AbortError")),X()};N.addEventListener("complete",I),N.addEventListener("error",m),N.addEventListener("abort",m)}));e.set(N,Z)}(N),Z=N,(z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((N=>Z instanceof N))?new Proxy(N,v):N);var Z}function h(N){if(N instanceof IDBRequest)return function(N){const Z=new Promise(((Z,d)=>{const X=()=>{N.removeEventListener("success",I),N.removeEventListener("error",m)},I=()=>{Z(h(N.result)),X()},m=()=>{d(N.error),X()};N.addEventListener("success",I),N.addEventListener("error",m)}));return Z.then((Z=>{Z instanceof IDBCursor&&S.set(Z,N)})).catch((()=>{})),D.set(Z,N),Z}(N);if(B.has(N))return B.get(N);const Z=k(N);return Z!==N&&(B.set(N,Z),D.set(Z,N)),Z}const U=N=>D.get(N);const C=["get","getKey","getAll","getAllKeys","count"],M=["put","add","delete","clear"],Q=new Map;function A(N,Z){if(!(N instanceof IDBDatabase)||Z in N||"string"!==typeof Z)return;if(Q.get(Z))return Q.get(Z);const d=Z.replace(/FromIndex$/,""),X=Z!==d,I=M.includes(d);if(!(d in(X?IDBIndex:IDBObjectStore).prototype)||!I&&!C.includes(d))return;const m=async function(N){const Z=this.transaction(N,I?"readwrite":"readonly");let m=Z.store;for(var z=arguments.length,w=new Array(z>1?z-1:0),S=1;S<z;S++)w[S-1]=arguments[S];return X&&(m=m.index(w.shift())),(await Promise.all([m[d](...w),I&&Z.done]))[0]};return Q.set(Z,m),m}v=(N=>({...N,get:(Z,d,X)=>A(Z,d)||N.get(Z,d,X),has:(Z,d)=>!!A(Z,d)||N.has(Z,d)}))(v);class n{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map((N=>{if(function(N){const Z=N.getComponent();return"VERSION"===(null===Z||void 0===Z?void 0:Z.type)}(N)){const Z=N.getImmediate();return`${Z.library}/${Z.version}`}return null})).filter((N=>N)).join(" ")}}const g="@firebase/app",E="0.9.13",V=new I.i("@firebase/app"),O="@firebase/app-compat",K="@firebase/analytics-compat",r="@firebase/analytics",P="@firebase/app-check-compat",W="@firebase/app-check",b="@firebase/auth",J="@firebase/auth-compat",F="@firebase/database",G="@firebase/database-compat",x="@firebase/functions",t="@firebase/functions-compat",q="@firebase/installations",Y="@firebase/installations-compat",s="@firebase/messaging",L="@firebase/messaging-compat",H="@firebase/performance",i="@firebase/performance-compat",p="@firebase/remote-config",y="@firebase/remote-config-compat",l="@firebase/storage",u="@firebase/storage-compat",a="@firebase/firestore",c="@firebase/firestore-compat",R="firebase",f="[DEFAULT]",o={[g]:"fire-core",[O]:"fire-core-compat",[r]:"fire-analytics",[K]:"fire-analytics-compat",[W]:"fire-app-check",[P]:"fire-app-check-compat",[b]:"fire-auth",[J]:"fire-auth-compat",[F]:"fire-rtdb",[G]:"fire-rtdb-compat",[x]:"fire-fn",[t]:"fire-fn-compat",[q]:"fire-iid",[Y]:"fire-iid-compat",[s]:"fire-fcm",[L]:"fire-fcm-compat",[H]:"fire-perf",[i]:"fire-perf-compat",[p]:"fire-rc",[y]:"fire-rc-compat",[l]:"fire-gcs",[u]:"fire-gcs-compat",[a]:"fire-fst",[c]:"fire-fst-compat","fire-js":"fire-js",[R]:"fire-js-all"},NN=new Map,ZN=new Map;function dN(N,Z){try{N.container.qf(Z)}catch(d){V.debug(`Component ${Z.name} failed to register with FirebaseApp ${N.name}`,d)}}function XN(N,Z){N.container.addOrOverwriteComponent(Z)}function IN(N){const Z=N.name;if(ZN.has(Z))return V.debug(`There were multiple attempts to register component ${Z}.`),!1;ZN.set(Z,N);for(const d of NN.values())dN(d,N);return!0}function mN(N,Z){const d=N.container.getProvider("heartbeat").getImmediate({optional:!0});return d&&d.triggerHeartbeat(),N.container.getProvider(Z)}function zN(N,Z){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;mN(N,Z).clearInstance(d)}function wN(){ZN.clear()}const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},eN=new m.c("app","Firebase",SN);class jN{constructor(N,Z,d){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},Z),this._name=Z.name,this._automaticDataCollectionEnabled=Z.automaticDataCollectionEnabled,this._container=d,this.container.qf(new X.e("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw eN.create("app-deleted",{appName:this._name})}}const BN="9.23.0";function DN(N){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=N;if("object"!==typeof Z){Z={name:Z}}const I=Object.assign({name:f,automaticDataCollectionEnabled:!1},Z),z=I.name;if("string"!==typeof z||!z)throw eN.create("bad-app-name",{appName:String(z)});if(d||(d=(0,m.z)()),!d)throw eN.create("no-options");const w=NN.get(z);if(w){if((0,m.t)(d,w.options)&&(0,m.t)(I,w.config))return w;throw eN.create("duplicate-app",{appName:z})}const S=new X.b(z);for(const X of ZN.values())S.qf(X);const e=new jN(d,I,S);return NN.set(z,e),e}function vN(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const Z=NN.get(N);if(!Z&&N===f&&(0,m.z)())return DN();if(!Z)throw eN.create("no-app",{appName:N});return Z}function TN(){return Array.from(NN.values())}async function kN(N){const Z=N.name;NN.has(Z)&&(NN.delete(Z),await Promise.all(N.container.getProviders().map((N=>N.delete()))),N.isDeleted=!0)}function hN(N,Z,d){var I;let m=null!==(I=o[N])&&void 0!==I?I:N;d&&(m+=`-${d}`);const z=m.match(/\s|\//),w=Z.match(/\s|\//);if(z||w){const N=[`Unable to register library "${m}" with version "${Z}":`];return z&&N.push(`library name "${m}" contains illegal characters (whitespace or "/")`),z&&w&&N.push("and"),w&&N.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void V.warn(N.join(" "))}IN(new X.e(`${m}-version`,(()=>({library:m,version:Z})),"VERSION"))}function UN(N,Z){if(null!==N&&"function"!==typeof N)throw eN.create("invalid-log-argument");(0,I.n)(N,Z)}function CN(N){(0,I.l)(N)}const MN="firebase-heartbeat-store";let QN=null;function AN(){return QN||(QN=function(N,Z){let{blocked:d,upgrade:X,blocking:I,terminated:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const z=indexedDB.open(N,Z),w=h(z);return X&&z.addEventListener("upgradeneeded",(N=>{X(h(z.result),N.oldVersion,N.newVersion,h(z.transaction),N)})),d&&z.addEventListener("blocked",(N=>d(N.oldVersion,N.newVersion,N))),w.then((N=>{m&&N.addEventListener("close",(()=>m())),I&&N.addEventListener("versionchange",(N=>I(N.oldVersion,N.newVersion,N)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(N,Z)=>{if(0===Z)N.createObjectStore(MN)}}).catch((N=>{throw eN.create("idb-open",{originalErrorMessage:N.message})}))),QN}async function nN(N,Z){try{const d=(await AN()).transaction(MN,"readwrite"),X=d.objectStore(MN);await X.put(Z,gN(N)),await d.done}catch(d){if(d instanceof m.f)V.warn(d.message);else{const N=eN.create("idb-set",{originalErrorMessage:null===d||void 0===d?void 0:d.message});V.warn(N.message)}}}function gN(N){return`${N.name}!${N.options.appId}`}class EN{constructor(N){this.container=N,this._heartbeatsCache=null;const Z=this.container.getProvider("app").getImmediate();this.Si=new ON(Z),this._heartbeatsCachePromise=this.Si.read().then((N=>(this._heartbeatsCache=N,N)))}async triggerHeartbeat(){const N=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Z=VN();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==Z&&!this._heartbeatsCache.heartbeats.some((N=>N.date===Z)))return this._heartbeatsCache.heartbeats.push({date:Z,agent:N}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((N=>{const Z=new Date(N.date).valueOf();return Date.now()-Z<=2592e6})),this.Si.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const N=VN(),{heartbeatsToSend:Z,unsentEntries:d}=function(N){let Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const d=[];let X=N.slice();for(const I of N){const N=d.find((N=>N.agent===I.agent));if(N){if(N.dates.push(I.date),KN(d)>Z){N.dates.pop();break}}else if(d.push({agent:I.agent,dates:[I.date]}),KN(d)>Z){d.pop();break}X=X.slice(1)}return{heartbeatsToSend:d,unsentEntries:X}}(this._heartbeatsCache.heartbeats),X=(0,m.m)(JSON.stringify({version:2,heartbeats:Z}));return this._heartbeatsCache.lastSentHeartbeatDate=N,d.length>0?(this._heartbeatsCache.heartbeats=d,await this.Si.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Si.overwrite(this._heartbeatsCache)),X}}function VN(){return(new Date).toISOString().substring(0,10)}class ON{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,m.X)()&&(0,m.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(N){try{const Z=await AN();return await Z.transaction(MN).objectStore(MN).get(gN(N))}catch(Z){if(Z instanceof m.f)V.warn(Z.message);else{const N=eN.create("idb-get",{originalErrorMessage:null===Z||void 0===Z?void 0:Z.message});V.warn(N.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(N){var Z;if(await this._canUseIndexedDBPromise){const d=await this.read();return nN(this.app,{lastSentHeartbeatDate:null!==(Z=N.lastSentHeartbeatDate)&&void 0!==Z?Z:d.lastSentHeartbeatDate,heartbeats:N.heartbeats})}}async add(N){var Z;if(await this._canUseIndexedDBPromise){const d=await this.read();return nN(this.app,{lastSentHeartbeatDate:null!==(Z=N.lastSentHeartbeatDate)&&void 0!==Z?Z:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...N.heartbeats]})}}}function KN(N){return(0,m.m)(JSON.stringify({version:2,heartbeats:N})).length}var rN;rN="",IN(new X.e("platform-logger",(N=>new n(N)),"PRIVATE")),IN(new X.e("heartbeat",(N=>new EN(N)),"PRIVATE")),hN(g,E,rN),hN(g,E,"esm2017"),hN("fire-js","")},10977:(N,Z,d)=>{d.d(Z,{b:()=>w,e:()=>I});var X=d(10984);class I{constructor(N,Z,d){this.name=N,this.instanceFactory=Z,this.type=d,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const m="[DEFAULT]";class z{constructor(N,Z){this.name=N,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const Z=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(Z)){const N=new X.b;if(this.instancesDeferred.set(Z,N),this.isInitialized(Z)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:Z});d&&N.resolve(d)}catch(d){}}return this.instancesDeferred.get(Z).promise}getImmediate(N){var Z;const d=this.normalizeInstanceIdentifier(null===N||void 0===N?void 0:N.identifier),X=null!==(Z=null===N||void 0===N?void 0:N.optional)&&void 0!==Z&&Z;if(!this.isInitialized(d)&&!this.shouldAutoInitialize()){if(X)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:d})}catch(I){if(X)return null;throw I}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function(N){return"EAGER"===N.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:m})}catch(Z){}for(const[N,d]of this.instancesDeferred.entries()){const X=this.normalizeInstanceIdentifier(N);try{const N=this.getOrInitializeService({instanceIdentifier:X});d.resolve(N)}catch(Z){}}}}clearInstance(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}async delete(){const N=Array.from(this.instances.values());await Promise.all([...N.filter((N=>"INTERNAL"in N)).map((N=>N.INTERNAL.delete())),...N.filter((N=>"_delete"in N)).map((N=>N._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instances.has(N)}getOptions(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instancesOptions.get(N)||{}}initialize(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:Z={}}=N,d=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(d))throw Error(`${this.name}(${d}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const X=this.getOrInitializeService({instanceIdentifier:d,options:Z});for(const[I,m]of this.instancesDeferred.entries()){d===this.normalizeInstanceIdentifier(I)&&m.resolve(X)}return X}zi(N,Z){var d;const X=this.normalizeInstanceIdentifier(Z),I=null!==(d=this.onInitCallbacks.get(X))&&void 0!==d?d:new Set;I.add(N),this.onInitCallbacks.set(X,I);const m=this.instances.get(X);return m&&N(m,X),()=>{I.delete(N)}}invokeOnInitCallbacks(N,Z){const d=this.onInitCallbacks.get(Z);if(d)for(const I of d)try{I(N,Z)}catch(X){}}getOrInitializeService(N){let{instanceIdentifier:Z,options:d={}}=N,X=this.instances.get(Z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(I=Z,I===m?void 0:I),options:d}),this.instances.set(Z,X),this.instancesOptions.set(Z,d),this.invokeOnInitCallbacks(X,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,X)}catch(z){}var I;return X||null}normalizeInstanceIdentifier(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.component?this.component.multipleInstances?N:m:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(N){this.name=N,this.providers=new Map}qf(N){const Z=this.getProvider(N.name);if(Z.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);Z.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.qf(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const Z=new z(N,this);return this.providers.set(N,Z),Z}getProviders(){return Array.from(this.providers.values())}}},10991:(N,Z,d)=>{d.d(Z,{e:()=>I,i:()=>e,l:()=>j,n:()=>B});const X=[];var I;!function(N){N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT"}(I||(I={}));const m={debug:I.DEBUG,verbose:I.VERBOSE,info:I.INFO,warn:I.WARN,error:I.ERROR,silent:I.SILENT},z=I.INFO,w={[I.DEBUG]:"log",[I.VERBOSE]:"log",[I.INFO]:"info",[I.WARN]:"warn",[I.ERROR]:"error"},S=function(N,Z){if(Z<N.logLevel)return;const d=(new Date).toISOString(),X=w[Z];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);for(var I=arguments.length,m=new Array(I>2?I-2:0),z=2;z<I;z++)m[z-2]=arguments[z];console[X](`[${d}]  ${N.name}:`,...m)};class e{constructor(N){this.name=N,this._logLevel=z,this._logHandler=S,this._userLogHandler=null,X.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in I))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"===typeof N?m[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!==typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(){for(var N=arguments.length,Z=new Array(N),d=0;d<N;d++)Z[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,I.DEBUG,...Z),this._logHandler(this,I.DEBUG,...Z)}log(){for(var N=arguments.length,Z=new Array(N),d=0;d<N;d++)Z[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,I.VERBOSE,...Z),this._logHandler(this,I.VERBOSE,...Z)}info(){for(var N=arguments.length,Z=new Array(N),d=0;d<N;d++)Z[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,I.INFO,...Z),this._logHandler(this,I.INFO,...Z)}warn(){for(var N=arguments.length,Z=new Array(N),d=0;d<N;d++)Z[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,I.WARN,...Z),this._logHandler(this,I.WARN,...Z)}error(){for(var N=arguments.length,Z=new Array(N),d=0;d<N;d++)Z[d]=arguments[d];this._userLogHandler&&this._userLogHandler(this,I.ERROR,...Z),this._logHandler(this,I.ERROR,...Z)}}function j(N){X.forEach((Z=>{Z.setLogLevel(N)}))}function B(N,Z){for(const d of X){let X=null;Z&&Z.level&&(X=m[Z.level]),d.userLogHandler=null===N?null:function(Z,d){for(var m=arguments.length,z=new Array(m>2?m-2:0),w=2;w<m;w++)z[w-2]=arguments[w];const S=z.map((N=>{if(null==N)return null;if("string"===typeof N)return N;if("number"===typeof N||"boolean"===typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch(Z){return null}})).filter((N=>N)).join(" ");d>=(null!==X&&void 0!==X?X:Z.logLevel)&&N({level:I[d].toLowerCase(),message:S,args:z,type:Z.name})}}}}}]);