/*! For license information please see ax6aj.37.3a6bf58c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11301:(p,O,E)=>{E.d(O,{A:()=>s,B:()=>Z,D:()=>l,G:()=>h,J:()=>A,N:()=>S,Q:()=>t,R:()=>r,T:()=>T,X:()=>H,_:()=>M,c:()=>m,cb:()=>d,db:()=>Q,f:()=>g,i:()=>V,j:()=>W,k:()=>a,o:()=>q,q:()=>C,r:()=>c,t:()=>L,v:()=>j,x:()=>D});const e=function(p){const O=[];let E=0;for(let e=0;e<p.length;e++){let x=p.charCodeAt(e);x<128?O[E++]=x:x<2048?(O[E++]=x>>6|192,O[E++]=63&x|128):55296===(64512&x)&&e+1<p.length&&56320===(64512&p.charCodeAt(e+1))?(x=65536+((1023&x)<<10)+(1023&p.charCodeAt(++e)),O[E++]=x>>18|240,O[E++]=x>>12&63|128,O[E++]=x>>6&63|128,O[E++]=63&x|128):(O[E++]=x>>12|224,O[E++]=x>>6&63|128,O[E++]=63&x|128)}return O},x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(p,O){if(!Array.isArray(p))throw Error("encodeByteArray takes an array as a parameter");this.init_();const E=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,e=[];for(let x=0;x<p.length;x+=3){const O=p[x],F=x+1<p.length,q=F?p[x+1]:0,a=x+2<p.length,Y=a?p[x+2]:0,B=O>>2,s=(3&O)<<4|q>>4;let D=(15&q)<<2|Y>>6,Z=63&Y;a||(Z=64,F||(D=64)),e.push(E[B],E[s],E[D],E[Z])}return e.join("")},encodeString(p,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(p):this.encodeByteArray(e(p),O)},decodeString(p,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(p):function(p){const O=[];let E=0,e=0;for(;E<p.length;){const x=p[E++];if(x<128)O[e++]=String.fromCharCode(x);else if(x>191&&x<224){const F=p[E++];O[e++]=String.fromCharCode((31&x)<<6|63&F)}else if(x>239&&x<365){const F=((7&x)<<18|(63&p[E++])<<12|(63&p[E++])<<6|63&p[E++])-65536;O[e++]=String.fromCharCode(55296+(F>>10)),O[e++]=String.fromCharCode(56320+(1023&F))}else{const F=p[E++],q=p[E++];O[e++]=String.fromCharCode((15&x)<<12|(63&F)<<6|63&q)}}return O.join("")}(this.decodeStringToByteArray(p,O))},decodeStringToByteArray(p,O){this.init_();const E=O?this.charToByteMapWebSafe_:this.charToByteMap_,e=[];for(let x=0;x<p.length;){const O=E[p.charAt(x++)],q=x<p.length?E[p.charAt(x)]:0;++x;const a=x<p.length?E[p.charAt(x)]:64;++x;const Y=x<p.length?E[p.charAt(x)]:64;if(++x,null==O||null==q||null==a||null==Y)throw new F;const B=O<<2|q>>4;if(e.push(B),64!==a){const p=q<<4&240|a>>2;if(e.push(p),64!==Y){const p=a<<6&192|Y;e.push(p)}}}return e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let p=0;p<this.ENCODED_VALS.length;p++)this.byteToCharMap_[p]=this.ENCODED_VALS.charAt(p),this.charToByteMap_[this.byteToCharMap_[p]]=p,this.byteToCharMapWebSafe_[p]=this.ENCODED_VALS_WEBSAFE.charAt(p),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[p]]=p,p>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(p)]=p,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(p)]=p)}}};class F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(p){return function(p){const O=e(p);return x.encodeByteArray(O,!0)}(p).replace(/\./g,"")},a=function(p){try{return x.decodeString(p,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};const Y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof E.g)return E.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,B=()=>{try{return Y()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let p;try{p=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(E){return}const O=p&&a(p[1]);return O&&JSON.parse(O)})()}catch(p){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${p}`)}},s=p=>{var O,E;return null===(E=null===(O=B())||void 0===O?void 0:O.emulatorHosts)||void 0===E?void 0:E[p]},D=()=>{var p;return null===(p=B())||void 0===p?void 0:p.config},Z=p=>{var O;return null===(O=B())||void 0===O?void 0:O[`_${p}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((p,O)=>{this.resolve=p,this.reject=O}))}wrapCallback(p){return(O,E)=>{O?this.reject(O):this.resolve(E),"function"===typeof p&&(this.promise.catch((()=>{})),1===p.length?p(O):p(O,E))}}}function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function T(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function A(){const p="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof p&&void 0!==p.id}function H(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const p=h();return p.indexOf("MSIE ")>=0||p.indexOf("Trident/")>=0}function r(){try{return"object"===typeof indexedDB}catch(p){return!1}}function Q(){return new Promise(((p,O)=>{try{let E=!0;const e="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(e);x.onsuccess=()=>{x.result.close(),E||self.indexedDB.deleteDatabase(e),p(!0)},x.onupgradeneeded=()=>{E=!1},x.onerror=()=>{var p;O((null===(p=x.error)||void 0===p?void 0:p.message)||"")}}catch(E){O(E)}}))}function W(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class V extends Error{constructor(p,O,E){super(O),this.code=p,this.customData=E,this.name="FirebaseError",Object.setPrototypeOf(this,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g.prototype.create)}}class g{constructor(p,O,E){this.service=p,this.serviceName=O,this.errors=E}create(p){const O=(arguments.length<=1?void 0:arguments[1])||{},E=`${this.service}/${p}`,e=this.errors[p],x=e?function(p,O){return p.replace(b,((p,E)=>{const e=O[E];return null!=e?String(e):`<${E}?>`}))}(e,O):"Error",F=`${this.serviceName}: ${x} (${E}).`;return new V(E,F,O)}}const b=/\{\$([^}]+)}/g;function S(p){for(const O in p)if(Object.prototype.hasOwnProperty.call(p,O))return!1;return!0}function L(p,O){if(p===O)return!0;const E=Object.keys(p),e=Object.keys(O);for(const x of E){if(!e.includes(x))return!1;const E=p[x],F=O[x];if(P(E)&&P(F)){if(!L(E,F))return!1}else if(E!==F)return!1}for(const x of e)if(!E.includes(x))return!1;return!0}function P(p){return null!==p&&"object"===typeof p}function d(p){const O=[];for(const[E,e]of Object.entries(p))Array.isArray(e)?e.forEach((p=>{O.push(encodeURIComponent(E)+"="+encodeURIComponent(p))})):O.push(encodeURIComponent(E)+"="+encodeURIComponent(e));return O.length?"&"+O.join("&"):""}function M(p){const O={};return p.replace(/^\?/,"").split("&").forEach((p=>{if(p){const[E,e]=p.split("=");O[decodeURIComponent(E)]=decodeURIComponent(e)}})),O}function j(p){const O=p.indexOf("?");if(!O)return"";const E=p.indexOf("#",O);return p.substring(O,E>0?E:void 0)}function c(p,O){const E=new G(p,O);return E.subscribe.bind(E)}class G{constructor(p,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then((()=>{p(this)})).catch((p=>{this.error(p)}))}next(p){this.forEachObserver((O=>{O.next(p)}))}error(p){this.forEachObserver((O=>{O.error(p)})),this.close(p)}complete(){this.forEachObserver((p=>{p.complete()})),this.close()}subscribe(p,O,E){let e;if(void 0===p&&void 0===O&&void 0===E)throw new Error("Missing Observer.");e=function(p,O){if("object"!==typeof p||null===p)return!1;for(const E of O)if(E in p&&"function"===typeof p[E])return!0;return!1}(p,["next","error","complete"])?p:{next:p,error:O,complete:E},void 0===e.next&&(e.next=w),void 0===e.error&&(e.error=w),void 0===e.complete&&(e.complete=w);const x=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?e.error(this.finalError):e.complete()}catch(p){}})),this.observers.push(e),x}unsubscribeOne(p){void 0!==this.observers&&void 0!==this.observers[p]&&(delete this.observers[p],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(p){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,p)}sendOne(p,O){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[p])try{O(this.observers[p])}catch(E){"undefined"!==typeof console&&console.error&&console.error(E)}}))}close(p){this.finalized||(this.finalized=!0,void 0!==p&&(this.finalError=p),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function w(){}const N=1e3,f=2,o=144e5,K=.5;function C(p){let O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;const E=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:N)*Math.pow(O,p),e=Math.round(K*E*(Math.random()-.5)*2);return Math.min(o,E+e)}function l(p){return p&&p._delegate?p._delegate:p}},11294:(p,O,E)=>{E.d(O,{c:()=>F.i,f:()=>Dp,j:()=>u,m:()=>Ep,n:()=>ep,o:()=>pp,s:()=>ap,u:()=>Op,v:()=>Fp,z:()=>xp,D:()=>qp,F:()=>Tp,H:()=>mp,G:()=>hp,K:()=>Zp,M:()=>Hp,N:()=>Ap,O:()=>tp});var e=E(11296),x=E(11310),F=E(11301);let q,a;const Y=new WeakMap,B=new WeakMap,s=new WeakMap,D=new WeakMap,Z=new WeakMap;let m={get(p,O,E){if(p instanceof IDBTransaction){if("done"===O)return B.get(p);if("objectStoreNames"===O)return p.objectStoreNames||s.get(p);if("store"===O)return E.objectStoreNames[1]?void 0:E.objectStore(E.objectStoreNames[0])}return A(p[O])},set:(p,O,E)=>(p[O]=E,!0),has:(p,O)=>p instanceof IDBTransaction&&("done"===O||"store"===O)||O in p};function h(p){return p!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(p)?function(){for(var O=arguments.length,E=new Array(O),e=0;e<O;e++)E[e]=arguments[e];return p.apply(H(this),E),A(Y.get(this))}:function(){for(var O=arguments.length,E=new Array(O),e=0;e<O;e++)E[e]=arguments[e];return A(p.apply(H(this),E))}:function(O){for(var E=arguments.length,e=new Array(E>1?E-1:0),x=1;x<E;x++)e[x-1]=arguments[x];const F=p.call(H(this),O,...e);return s.set(F,O.sort?O.sort():[O]),A(F)}}function T(p){return"function"===typeof p?h(p):(p instanceof IDBTransaction&&function(p){if(B.has(p))return;const O=new Promise(((O,E)=>{const e=()=>{p.removeEventListener("complete",x),p.removeEventListener("error",F),p.removeEventListener("abort",F)},x=()=>{O(),e()},F=()=>{E(p.error||new DOMException("AbortError","AbortError")),e()};p.addEventListener("complete",x),p.addEventListener("error",F),p.addEventListener("abort",F)}));B.set(p,O)}(p),O=p,(q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((p=>O instanceof p))?new Proxy(p,m):p);var O}function A(p){if(p instanceof IDBRequest)return function(p){const O=new Promise(((O,E)=>{const e=()=>{p.removeEventListener("success",x),p.removeEventListener("error",F)},x=()=>{O(A(p.result)),e()},F=()=>{E(p.error),e()};p.addEventListener("success",x),p.addEventListener("error",F)}));return O.then((O=>{O instanceof IDBCursor&&Y.set(O,p)})).catch((()=>{})),Z.set(O,p),O}(p);if(D.has(p))return D.get(p);const O=T(p);return O!==p&&(D.set(p,O),Z.set(O,p)),O}const H=p=>Z.get(p);const t=["get","getKey","getAll","getAllKeys","count"],r=["put","add","delete","clear"],Q=new Map;function W(p,O){if(!(p instanceof IDBDatabase)||O in p||"string"!==typeof O)return;if(Q.get(O))return Q.get(O);const E=O.replace(/FromIndex$/,""),e=O!==E,x=r.includes(E);if(!(E in(e?IDBIndex:IDBObjectStore).prototype)||!x&&!t.includes(E))return;const F=async function(p){const O=this.transaction(p,x?"readwrite":"readonly");let F=O.store;for(var q=arguments.length,a=new Array(q>1?q-1:0),Y=1;Y<q;Y++)a[Y-1]=arguments[Y];return e&&(F=F.index(a.shift())),(await Promise.all([F[E](...a),x&&O.done]))[0]};return Q.set(O,F),F}m=(p=>({...p,get:(O,E,e)=>W(O,E)||p.get(O,E,e),has:(O,E)=>!!W(O,E)||p.has(O,E)}))(m);class V{constructor(p){this.container=p}getPlatformInfoString(){return this.container.getProviders().map((p=>{if(function(p){const O=p.getComponent();return"VERSION"===(null===O||void 0===O?void 0:O.type)}(p)){const O=p.getImmediate();return`${O.library}/${O.version}`}return null})).filter((p=>p)).join(" ")}}const g="@firebase/app",b="0.9.13",S=new x.g("@firebase/app"),L="@firebase/app-compat",P="@firebase/analytics-compat",d="@firebase/analytics",M="@firebase/app-check-compat",j="@firebase/app-check",c="@firebase/auth",G="@firebase/auth-compat",w="@firebase/database",N="@firebase/database-compat",f="@firebase/functions",o="@firebase/functions-compat",K="@firebase/installations",C="@firebase/installations-compat",l="@firebase/messaging",k="@firebase/messaging-compat",J="@firebase/performance",y="@firebase/performance-compat",I="@firebase/remote-config",X="@firebase/remote-config-compat",z="@firebase/storage",U="@firebase/storage-compat",R="@firebase/firestore",n="@firebase/firestore-compat",i="firebase",u="[DEFAULT]",v={[g]:"fire-core",[L]:"fire-core-compat",[d]:"fire-analytics",[P]:"fire-analytics-compat",[j]:"fire-app-check",[M]:"fire-app-check-compat",[c]:"fire-auth",[G]:"fire-auth-compat",[w]:"fire-rtdb",[N]:"fire-rtdb-compat",[f]:"fire-fn",[o]:"fire-fn-compat",[K]:"fire-iid",[C]:"fire-iid-compat",[l]:"fire-fcm",[k]:"fire-fcm-compat",[J]:"fire-perf",[y]:"fire-perf-compat",[I]:"fire-rc",[X]:"fire-rc-compat",[z]:"fire-gcs",[U]:"fire-gcs-compat",[R]:"fire-fst",[n]:"fire-fst-compat","fire-js":"fire-js",[i]:"fire-js-all"},pp=new Map,Op=new Map;function Ep(p,O){try{p.container.Jf(O)}catch(E){S.debug(`Component ${O.name} failed to register with FirebaseApp ${p.name}`,E)}}function ep(p,O){p.container.addOrOverwriteComponent(O)}function xp(p){const O=p.name;if(Op.has(O))return S.debug(`There were multiple attempts to register component ${O}.`),!1;Op.set(O,p);for(const E of pp.values())Ep(E,p);return!0}function Fp(p,O){const E=p.container.getProvider("heartbeat").getImmediate({optional:!0});return E&&E.triggerHeartbeat(),p.container.getProvider(O)}function qp(p,O){let E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;Fp(p,O).clearInstance(E)}function ap(){Op.clear()}const Yp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bp=new F.f("app","Firebase",Yp);class sp{constructor(p,O,E){this._isDeleted=!1,this._options=Object.assign({},p),this._config=Object.assign({},O),this._name=O.name,this._automaticDataCollectionEnabled=O.automaticDataCollectionEnabled,this._container=E,this.container.Jf(new e.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(p){this.checkDestroyed(),this._automaticDataCollectionEnabled=p}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(p){this._isDeleted=p}checkDestroyed(){if(this.isDeleted)throw Bp.create("app-deleted",{appName:this._name})}}const Dp="9.23.0";function Zp(p){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=p;if("object"!==typeof O){O={name:O}}const x=Object.assign({name:u,automaticDataCollectionEnabled:!1},O),q=x.name;if("string"!==typeof q||!q)throw Bp.create("bad-app-name",{appName:String(q)});if(E||(E=(0,F.x)()),!E)throw Bp.create("no-options");const a=pp.get(q);if(a){if((0,F.t)(E,a.options)&&(0,F.t)(x,a.config))return a;throw Bp.create("duplicate-app",{appName:q})}const Y=new e.e(q);for(const e of Op.values())Y.Jf(e);const B=new sp(E,x,Y);return pp.set(q,B),B}function mp(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const O=pp.get(p);if(!O&&p===u&&(0,F.x)())return Zp();if(!O)throw Bp.create("no-app",{appName:p});return O}function hp(){return Array.from(pp.values())}async function Tp(p){const O=p.name;pp.has(O)&&(pp.delete(O),await Promise.all(p.container.getProviders().map((p=>p.delete()))),p.isDeleted=!0)}function Ap(p,O,E){var x;let F=null!==(x=v[p])&&void 0!==x?x:p;E&&(F+=`-${E}`);const q=F.match(/\s|\//),a=O.match(/\s|\//);if(q||a){const p=[`Unable to register library "${F}" with version "${O}":`];return q&&p.push(`library name "${F}" contains illegal characters (whitespace or "/")`),q&&a&&p.push("and"),a&&p.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void S.warn(p.join(" "))}xp(new e.f(`${F}-version`,(()=>({library:F,version:O})),"VERSION"))}function Hp(p,O){if(null!==p&&"function"!==typeof p)throw Bp.create("invalid-log-argument");(0,x.k)(p,O)}function tp(p){(0,x.h)(p)}const rp="firebase-heartbeat-store";let Qp=null;function Wp(){return Qp||(Qp=function(p,O){let{blocked:E,upgrade:e,blocking:x,terminated:F}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const q=indexedDB.open(p,O),a=A(q);return e&&q.addEventListener("upgradeneeded",(p=>{e(A(q.result),p.oldVersion,p.newVersion,A(q.transaction),p)})),E&&q.addEventListener("blocked",(p=>E(p.oldVersion,p.newVersion,p))),a.then((p=>{F&&p.addEventListener("close",(()=>F())),x&&p.addEventListener("versionchange",(p=>x(p.oldVersion,p.newVersion,p)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(p,O)=>{if(0===O)p.createObjectStore(rp)}}).catch((p=>{throw Bp.create("idb-open",{originalErrorMessage:p.message})}))),Qp}async function Vp(p,O){try{const E=(await Wp()).transaction(rp,"readwrite"),e=E.objectStore(rp);await e.put(O,gp(p)),await E.done}catch(E){if(E instanceof F.i)S.warn(E.message);else{const p=Bp.create("idb-set",{originalErrorMessage:null===E||void 0===E?void 0:E.message});S.warn(p.message)}}}function gp(p){return`${p.name}!${p.options.appId}`}class bp{constructor(p){this.container=p,this._heartbeatsCache=null;const O=this.container.getProvider("app").getImmediate();this.Ui=new Lp(O),this._heartbeatsCachePromise=this.Ui.read().then((p=>(this._heartbeatsCache=p,p)))}async triggerHeartbeat(){const p=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=Sp();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==O&&!this._heartbeatsCache.heartbeats.some((p=>p.date===O)))return this._heartbeatsCache.heartbeats.push({date:O,agent:p}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((p=>{const O=new Date(p.date).valueOf();return Date.now()-O<=2592e6})),this.Ui.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const p=Sp(),{heartbeatsToSend:O,unsentEntries:E}=function(p){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const E=[];let e=p.slice();for(const x of p){const p=E.find((p=>p.agent===x.agent));if(p){if(p.dates.push(x.date),Pp(E)>O){p.dates.pop();break}}else if(E.push({agent:x.agent,dates:[x.date]}),Pp(E)>O){E.pop();break}e=e.slice(1)}return{heartbeatsToSend:E,unsentEntries:e}}(this._heartbeatsCache.heartbeats),e=(0,F.o)(JSON.stringify({version:2,heartbeats:O}));return this._heartbeatsCache.lastSentHeartbeatDate=p,E.length>0?(this._heartbeatsCache.heartbeats=E,await this.Ui.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ui.overwrite(this._heartbeatsCache)),e}}function Sp(){return(new Date).toISOString().substring(0,10)}class Lp{constructor(p){this.app=p,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,F.R)()&&(0,F.db)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(p){try{const O=await Wp();return await O.transaction(rp).objectStore(rp).get(gp(p))}catch(O){if(O instanceof F.i)S.warn(O.message);else{const p=Bp.create("idb-get",{originalErrorMessage:null===O||void 0===O?void 0:O.message});S.warn(p.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(p){var O;if(await this._canUseIndexedDBPromise){const E=await this.read();return Vp(this.app,{lastSentHeartbeatDate:null!==(O=p.lastSentHeartbeatDate)&&void 0!==O?O:E.lastSentHeartbeatDate,heartbeats:p.heartbeats})}}async add(p){var O;if(await this._canUseIndexedDBPromise){const E=await this.read();return Vp(this.app,{lastSentHeartbeatDate:null!==(O=p.lastSentHeartbeatDate)&&void 0!==O?O:E.lastSentHeartbeatDate,heartbeats:[...E.heartbeats,...p.heartbeats]})}}}function Pp(p){return(0,F.o)(JSON.stringify({version:2,heartbeats:p})).length}var dp;dp="",xp(new e.f("platform-logger",(p=>new V(p)),"PRIVATE")),xp(new e.f("heartbeat",(p=>new bp(p)),"PRIVATE")),Ap(g,b,dp),Ap(g,b,"esm2017"),Ap("fire-js","")},11296:(p,O,E)=>{E.d(O,{e:()=>a,f:()=>x});var e=E(11301);class x{constructor(p,O,E){this.name=p,this.instanceFactory=O,this.type=E,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(p){return this.instantiationMode=p,this}setMultipleInstances(p){return this.multipleInstances=p,this}setServiceProps(p){return this.serviceProps=p,this}setInstanceCreatedCallback(p){return this.onInstanceCreated=p,this}}const F="[DEFAULT]";class q{constructor(p,O){this.name=p,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(p){const O=this.normalizeInstanceIdentifier(p);if(!this.instancesDeferred.has(O)){const p=new e.c;if(this.instancesDeferred.set(O,p),this.isInitialized(O)||this.shouldAutoInitialize())try{const E=this.getOrInitializeService({instanceIdentifier:O});E&&p.resolve(E)}catch(E){}}return this.instancesDeferred.get(O).promise}getImmediate(p){var O;const E=this.normalizeInstanceIdentifier(null===p||void 0===p?void 0:p.identifier),e=null!==(O=null===p||void 0===p?void 0:p.optional)&&void 0!==O&&O;if(!this.isInitialized(E)&&!this.shouldAutoInitialize()){if(e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:E})}catch(x){if(e)return null;throw x}}getComponent(){return this.component}setComponent(p){if(p.name!==this.name)throw Error(`Mismatching Component ${p.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=p,this.shouldAutoInitialize()){if(function(p){return"EAGER"===p.instantiationMode}(p))try{this.getOrInitializeService({instanceIdentifier:F})}catch(O){}for(const[p,E]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(p);try{const p=this.getOrInitializeService({instanceIdentifier:e});E.resolve(p)}catch(O){}}}}clearInstance(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;this.instancesDeferred.delete(p),this.instancesOptions.delete(p),this.instances.delete(p)}async delete(){const p=Array.from(this.instances.values());await Promise.all([...p.filter((p=>"INTERNAL"in p)).map((p=>p.INTERNAL.delete())),...p.filter((p=>"_delete"in p)).map((p=>p._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instances.has(p)}getOptions(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.instancesOptions.get(p)||{}}initialize(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:O={}}=p,E=this.normalizeInstanceIdentifier(p.instanceIdentifier);if(this.isInitialized(E))throw Error(`${this.name}(${E}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const e=this.getOrInitializeService({instanceIdentifier:E,options:O});for(const[x,F]of this.instancesDeferred.entries()){E===this.normalizeInstanceIdentifier(x)&&F.resolve(e)}return e}Bi(p,O){var E;const e=this.normalizeInstanceIdentifier(O),x=null!==(E=this.onInitCallbacks.get(e))&&void 0!==E?E:new Set;x.add(p),this.onInitCallbacks.set(e,x);const F=this.instances.get(e);return F&&p(F,e),()=>{x.delete(p)}}invokeOnInitCallbacks(p,O){const E=this.onInitCallbacks.get(O);if(E)for(const x of E)try{x(p,O)}catch(e){}}getOrInitializeService(p){let{instanceIdentifier:O,options:E={}}=p,e=this.instances.get(O);if(!e&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(x=O,x===F?void 0:x),options:E}),this.instances.set(O,e),this.instancesOptions.set(O,E),this.invokeOnInitCallbacks(e,O),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,O,e)}catch(q){}var x;return e||null}normalizeInstanceIdentifier(){let p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return this.component?this.component.multipleInstances?p:F:p}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(p){this.name=p,this.providers=new Map}Jf(p){const O=this.getProvider(p.name);if(O.isComponentSet())throw new Error(`Component ${p.name} has already been registered with ${this.name}`);O.setComponent(p)}addOrOverwriteComponent(p){this.getProvider(p.name).isComponentSet()&&this.providers.delete(p.name),this.Jf(p)}getProvider(p){if(this.providers.has(p))return this.providers.get(p);const O=new q(p,this);return this.providers.set(p,O),O}getProviders(){return Array.from(this.providers.values())}}},11310:(p,O,E)=>{E.d(O,{e:()=>x,g:()=>B,h:()=>s,k:()=>D});const e=[];var x;!function(p){p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"}(x||(x={}));const F={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},q=x.INFO,a={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},Y=function(p,O){if(O<p.logLevel)return;const E=(new Date).toISOString(),e=a[O];if(!e)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);for(var x=arguments.length,F=new Array(x>2?x-2:0),q=2;q<x;q++)F[q-2]=arguments[q];console[e](`[${E}]  ${p.name}:`,...F)};class B{constructor(p){this.name=p,this._logLevel=q,this._logHandler=Y,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(p){if(!(p in x))throw new TypeError(`Invalid value "${p}" assigned to \`logLevel\``);this._logLevel=p}setLogLevel(p){this._logLevel="string"===typeof p?F[p]:p}get logHandler(){return this._logHandler}set logHandler(p){if("function"!==typeof p)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=p}get userLogHandler(){return this._userLogHandler}set userLogHandler(p){this._userLogHandler=p}debug(){for(var p=arguments.length,O=new Array(p),E=0;E<p;E++)O[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...O),this._logHandler(this,x.DEBUG,...O)}log(){for(var p=arguments.length,O=new Array(p),E=0;E<p;E++)O[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...O),this._logHandler(this,x.VERBOSE,...O)}info(){for(var p=arguments.length,O=new Array(p),E=0;E<p;E++)O[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.INFO,...O),this._logHandler(this,x.INFO,...O)}warn(){for(var p=arguments.length,O=new Array(p),E=0;E<p;E++)O[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.WARN,...O),this._logHandler(this,x.WARN,...O)}error(){for(var p=arguments.length,O=new Array(p),E=0;E<p;E++)O[E]=arguments[E];this._userLogHandler&&this._userLogHandler(this,x.ERROR,...O),this._logHandler(this,x.ERROR,...O)}}function s(p){e.forEach((O=>{O.setLogLevel(p)}))}function D(p,O){for(const E of e){let e=null;O&&O.level&&(e=F[O.level]),E.userLogHandler=null===p?null:function(O,E){for(var F=arguments.length,q=new Array(F>2?F-2:0),a=2;a<F;a++)q[a-2]=arguments[a];const Y=q.map((p=>{if(null==p)return null;if("string"===typeof p)return p;if("number"===typeof p||"boolean"===typeof p)return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch(O){return null}})).filter((p=>p)).join(" ");E>=(null!==e&&void 0!==e?e:O.logLevel)&&p({level:x[E].toLowerCase(),message:Y,args:q,type:O.name})}}}}}]);