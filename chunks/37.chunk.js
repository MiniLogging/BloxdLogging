/*! For license information please see 22oqgd.37.db2ad4e5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11175:(U,b,e)=>{e.d(b,{A:()=>W,D:()=>r,F:()=>f,H:()=>C,L:()=>P,P:()=>E,S:()=>g,V:()=>Y,Z:()=>V,b:()=>l,bb:()=>G,c:()=>I,db:()=>A,e:()=>J,fb:()=>F,gb:()=>X,h:()=>Z,ib:()=>M,j:()=>D,l:()=>i,p:()=>L,s:()=>H,w:()=>B,z:()=>s});const K=function(U){const b=[];let e=0;for(let K=0;K<U.length;K++){let p=U.charCodeAt(K);p<128?b[e++]=p:p<2048?(b[e++]=p>>6|192,b[e++]=63&p|128):55296===(64512&p)&&K+1<U.length&&56320===(64512&U.charCodeAt(K+1))?(p=65536+((1023&p)<<10)+(1023&U.charCodeAt(++K)),b[e++]=p>>18|240,b[e++]=p>>12&63|128,b[e++]=p>>6&63|128,b[e++]=63&p|128):(b[e++]=p>>12|224,b[e++]=p>>6&63|128,b[e++]=63&p|128)}return b},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(U,b){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let p=0;p<U.length;p+=3){const b=U[p],m=p+1<U.length,i=m?U[p+1]:0,D=p+2<U.length,S=D?U[p+2]:0,u=b>>2,r=(3&b)<<4|i>>4;let W=(15&i)<<2|S>>6,f=63&S;D||(f=64,m||(W=64)),K.push(e[u],e[r],e[W],e[f])}return K.join("")},encodeString(U,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(U):this.encodeByteArray(K(U),b)},decodeString(U,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(U):function(U){const b=[];let e=0,K=0;for(;e<U.length;){const p=U[e++];if(p<128)b[K++]=String.fromCharCode(p);else if(p>191&&p<224){const m=U[e++];b[K++]=String.fromCharCode((31&p)<<6|63&m)}else if(p>239&&p<365){const m=((7&p)<<18|(63&U[e++])<<12|(63&U[e++])<<6|63&U[e++])-65536;b[K++]=String.fromCharCode(55296+(m>>10)),b[K++]=String.fromCharCode(56320+(1023&m))}else{const m=U[e++],i=U[e++];b[K++]=String.fromCharCode((15&p)<<12|(63&m)<<6|63&i)}}return b.join("")}(this.decodeStringToByteArray(U,b))},decodeStringToByteArray(U,b){this.init_();const e=b?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let p=0;p<U.length;){const b=e[U.charAt(p++)],i=p<U.length?e[U.charAt(p)]:0;++p;const D=p<U.length?e[U.charAt(p)]:64;++p;const S=p<U.length?e[U.charAt(p)]:64;if(++p,null==b||null==i||null==D||null==S)throw new m;const u=b<<2|i>>4;if(K.push(u),64!==D){const U=i<<4&240|D>>2;if(K.push(U),64!==S){const U=D<<6&192|S;K.push(U)}}}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class m extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(U){return function(U){const b=K(U);return p.encodeByteArray(b,!0)}(U).replace(/\./g,"")},D=function(U){try{return p.decodeString(U,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};const S=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e.g)return e.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return S()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const b=U&&D(U[1]);return b&&JSON.parse(b)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},r=U=>{var b,e;return null===(e=null===(b=u())||void 0===b?void 0:b.emulatorHosts)||void 0===e?void 0:e[U]},W=()=>{var U;return null===(U=u())||void 0===U?void 0:U.config},f=U=>{var b;return null===(b=u())||void 0===b?void 0:b[`_${U}`]};class l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((U,b)=>{this.resolve=U,this.reject=b}))}wrapCallback(U){return(b,e)=>{b?this.reject(b):this.resolve(e),"function"===typeof U&&(this.promise.catch((()=>{})),1===U.length?U(b):U(b,e))}}}function P(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function G(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P())}function E(){const U="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof U&&void 0!==U.id}function A(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Y(){const U=P();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function V(){try{return"object"===typeof indexedDB}catch(U){return!1}}function M(){return new Promise(((U,b)=>{try{let e=!0;const K="validate-browser-context-for-indexeddb-analytics-module",p=self.indexedDB.open(K);p.onsuccess=()=>{p.result.close(),e||self.indexedDB.deleteDatabase(K),U(!0)},p.onupgradeneeded=()=>{e=!1},p.onerror=()=>{var U;b((null===(U=p.error)||void 0===U?void 0:U.message)||"")}}catch(e){b(e)}}))}function Z(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class J extends Error{constructor(U,b,e){super(b),this.code=U,this.customData=e,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(U,b,e){this.service=U,this.serviceName=b,this.errors=e}create(U){const b=(arguments.length<=1?void 0:arguments[1])||{},e=`${this.service}/${U}`,K=this.errors[U],p=K?function(U,b){return U.replace(c,((U,e)=>{const K=b[e];return null!=K?String(K):`<${e}?>`}))}(K,b):"Error",m=`${this.serviceName}: ${p} (${e}).`;return new J(e,m,b)}}const c=/\{\$([^}]+)}/g;function g(U){for(const b in U)if(Object.prototype.hasOwnProperty.call(U,b))return!1;return!0}function B(U,b){if(U===b)return!0;const e=Object.keys(U),K=Object.keys(b);for(const p of e){if(!K.includes(p))return!1;const e=U[p],m=b[p];if(t(e)&&t(m)){if(!B(e,m))return!1}else if(e!==m)return!1}for(const p of K)if(!e.includes(p))return!1;return!0}function t(U){return null!==U&&"object"===typeof U}function X(U){const b=[];for(const[e,K]of Object.entries(U))Array.isArray(K)?K.forEach((U=>{b.push(encodeURIComponent(e)+"="+encodeURIComponent(U))})):b.push(encodeURIComponent(e)+"="+encodeURIComponent(K));return b.length?"&"+b.join("&"):""}function F(U){const b={};return U.replace(/^\?/,"").split("&").forEach((U=>{if(U){const[e,K]=U.split("=");b[decodeURIComponent(e)]=decodeURIComponent(K)}})),b}function s(U){const b=U.indexOf("?");if(!b)return"";const e=U.indexOf("#",b);return U.substring(b,e>0?e:void 0)}function H(U,b){const e=new O(U,b);return e.subscribe.bind(e)}class O{constructor(U,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then((()=>{U(this)})).catch((U=>{this.error(U)}))}next(U){this.forEachObserver((b=>{b.next(U)}))}error(U){this.forEachObserver((b=>{b.error(U)})),this.close(U)}complete(){this.forEachObserver((U=>{U.complete()})),this.close()}subscribe(U,b,e){let K;if(void 0===U&&void 0===b&&void 0===e)throw new Error("Missing Observer.");K=function(U,b){if("object"!==typeof U||null===U)return!1;for(const e of b)if(e in U&&"function"===typeof U[e])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:b,complete:e},void 0===K.next&&(K.next=h),void 0===K.error&&(K.error=h),void 0===K.complete&&(K.complete=h);const p=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(U){}})),this.observers.push(K),p}unsubscribeOne(U){void 0!==this.observers&&void 0!==this.observers[U]&&(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,U)}sendOne(U,b){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{b(this.observers[U])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}}))}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function h(){}const q=1e3,w=2,T=144e5,j=.5;function L(U){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:q)*Math.pow(b,U),K=Math.round(j*e*(Math.random()-.5)*2);return Math.min(T,e+K)}function C(U){return U&&U._delegate?U._delegate:U}},11162:(U,b,e)=>{e.d(b,{d:()=>m.e,e:()=>WU,h:()=>Q,i:()=>eU,k:()=>KU,n:()=>UU,r:()=>DU,v:()=>bU,y:()=>mU,A:()=>pU,B:()=>iU,E:()=>GU,J:()=>lU,G:()=>PU,M:()=>fU,O:()=>AU,S:()=>EU,V:()=>YU});var K=e(11166),p=e(11181),m=e(11175);let i,D;const S=new WeakMap,u=new WeakMap,r=new WeakMap,W=new WeakMap,f=new WeakMap;let l={get(U,b,e){if(U instanceof IDBTransaction){if("done"===b)return u.get(U);if("objectStoreNames"===b)return U.objectStoreNames||r.get(U);if("store"===b)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return E(U[b])},set:(U,b,e)=>(U[b]=e,!0),has:(U,b)=>U instanceof IDBTransaction&&("done"===b||"store"===b)||b in U};function P(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(D||(D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(U)?function(){for(var b=arguments.length,e=new Array(b),K=0;K<b;K++)e[K]=arguments[K];return U.apply(A(this),e),E(S.get(this))}:function(){for(var b=arguments.length,e=new Array(b),K=0;K<b;K++)e[K]=arguments[K];return E(U.apply(A(this),e))}:function(b){for(var e=arguments.length,K=new Array(e>1?e-1:0),p=1;p<e;p++)K[p-1]=arguments[p];const m=U.call(A(this),b,...K);return r.set(m,b.sort?b.sort():[b]),E(m)}}function G(U){return"function"===typeof U?P(U):(U instanceof IDBTransaction&&function(U){if(u.has(U))return;const b=new Promise(((b,e)=>{const K=()=>{U.removeEventListener("complete",p),U.removeEventListener("error",m),U.removeEventListener("abort",m)},p=()=>{b(),K()},m=()=>{e(U.error||new DOMException("AbortError","AbortError")),K()};U.addEventListener("complete",p),U.addEventListener("error",m),U.addEventListener("abort",m)}));u.set(U,b)}(U),b=U,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((U=>b instanceof U))?new Proxy(U,l):U);var b}function E(U){if(U instanceof IDBRequest)return function(U){const b=new Promise(((b,e)=>{const K=()=>{U.removeEventListener("success",p),U.removeEventListener("error",m)},p=()=>{b(E(U.result)),K()},m=()=>{e(U.error),K()};U.addEventListener("success",p),U.addEventListener("error",m)}));return b.then((b=>{b instanceof IDBCursor&&S.set(b,U)})).catch((()=>{})),f.set(b,U),b}(U);if(W.has(U))return W.get(U);const b=G(U);return b!==U&&(W.set(U,b),f.set(b,U)),b}const A=U=>f.get(U);const Y=["get","getKey","getAll","getAllKeys","count"],V=["put","add","delete","clear"],M=new Map;function Z(U,b){if(!(U instanceof IDBDatabase)||b in U||"string"!==typeof b)return;if(M.get(b))return M.get(b);const e=b.replace(/FromIndex$/,""),K=b!==e,p=V.includes(e);if(!(e in(K?IDBIndex:IDBObjectStore).prototype)||!p&&!Y.includes(e))return;const m=async function(U){const b=this.transaction(U,p?"readwrite":"readonly");let m=b.store;for(var i=arguments.length,D=new Array(i>1?i-1:0),S=1;S<i;S++)D[S-1]=arguments[S];return K&&(m=m.index(D.shift())),(await Promise.all([m[e](...D),p&&b.done]))[0]};return M.set(b,m),m}l=(U=>({...U,get:(b,e,K)=>Z(b,e)||U.get(b,e,K),has:(b,e)=>!!Z(b,e)||U.has(b,e)}))(l);class J{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map((U=>{if(function(U){const b=U.getComponent();return"VERSION"===(null===b||void 0===b?void 0:b.type)}(U)){const b=U.getImmediate();return`${b.library}/${b.version}`}return null})).filter((U=>U)).join(" ")}}const I="@firebase/app",c="0.9.13",g=new p.e("@firebase/app"),B="@firebase/app-compat",t="@firebase/analytics-compat",X="@firebase/analytics",F="@firebase/app-check-compat",s="@firebase/app-check",H="@firebase/auth",O="@firebase/auth-compat",h="@firebase/database",q="@firebase/database-compat",w="@firebase/functions",T="@firebase/functions-compat",j="@firebase/installations",L="@firebase/installations-compat",C="@firebase/messaging",y="@firebase/messaging-compat",z="@firebase/performance",o="@firebase/performance-compat",R="@firebase/remote-config",d="@firebase/remote-config-compat",a="@firebase/storage",k="@firebase/storage-compat",v="@firebase/firestore",x="@firebase/firestore-compat",N="firebase",Q="[DEFAULT]",n={[I]:"fire-core",[B]:"fire-core-compat",[X]:"fire-analytics",[t]:"fire-analytics-compat",[s]:"fire-app-check",[F]:"fire-app-check-compat",[H]:"fire-auth",[O]:"fire-auth-compat",[h]:"fire-rtdb",[q]:"fire-rtdb-compat",[w]:"fire-fn",[T]:"fire-fn-compat",[j]:"fire-iid",[L]:"fire-iid-compat",[C]:"fire-fcm",[y]:"fire-fcm-compat",[z]:"fire-perf",[o]:"fire-perf-compat",[R]:"fire-rc",[d]:"fire-rc-compat",[a]:"fire-gcs",[k]:"fire-gcs-compat",[v]:"fire-fst",[x]:"fire-fst-compat","fire-js":"fire-js",[N]:"fire-js-all"},UU=new Map,bU=new Map;function eU(U,b){try{U.container.rf(b)}catch(e){g.debug(`Component ${b.name} failed to register with FirebaseApp ${U.name}`,e)}}function KU(U,b){U.container.addOrOverwriteComponent(b)}function pU(U){const b=U.name;if(bU.has(b))return g.debug(`There were multiple attempts to register component ${b}.`),!1;bU.set(b,U);for(const e of UU.values())eU(e,U);return!0}function mU(U,b){const e=U.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),U.container.getProvider(b)}function iU(U,b){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q;mU(U,b).clearInstance(e)}function DU(){bU.clear()}const SU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},uU=new m.c("app","Firebase",SU);class rU{constructor(U,b,e){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},b),this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=e,this.container.rf(new K.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw uU.create("app-deleted",{appName:this._name})}}const WU="9.23.0";function fU(U){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=U;if("object"!==typeof b){b={name:b}}const p=Object.assign({name:Q,automaticDataCollectionEnabled:!1},b),i=p.name;if("string"!==typeof i||!i)throw uU.create("bad-app-name",{appName:String(i)});if(e||(e=(0,m.A)()),!e)throw uU.create("no-options");const D=UU.get(i);if(D){if((0,m.w)(e,D.options)&&(0,m.w)(p,D.config))return D;throw uU.create("duplicate-app",{appName:i})}const S=new K.c(i);for(const K of bU.values())S.rf(K);const u=new rU(e,p,S);return UU.set(i,u),u}function lU(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const b=UU.get(U);if(!b&&U===Q&&(0,m.A)())return fU();if(!b)throw uU.create("no-app",{appName:U});return b}function PU(){return Array.from(UU.values())}async function GU(U){const b=U.name;UU.has(b)&&(UU.delete(b),await Promise.all(U.container.getProviders().map((U=>U.delete()))),U.isDeleted=!0)}function EU(U,b,e){var p;let m=null!==(p=n[U])&&void 0!==p?p:U;e&&(m+=`-${e}`);const i=m.match(/\s|\//),D=b.match(/\s|\//);if(i||D){const U=[`Unable to register library "${m}" with version "${b}":`];return i&&U.push(`library name "${m}" contains illegal characters (whitespace or "/")`),i&&D&&U.push("and"),D&&U.push(`version name "${b}" contains illegal characters (whitespace or "/")`),void g.warn(U.join(" "))}pU(new K.g(`${m}-version`,(()=>({library:m,version:b})),"VERSION"))}function AU(U,b){if(null!==U&&"function"!==typeof U)throw uU.create("invalid-log-argument");(0,p.k)(U,b)}function YU(U){(0,p.h)(U)}const VU="firebase-heartbeat-store";let MU=null;function ZU(){return MU||(MU=function(U,b){let{blocked:e,upgrade:K,blocking:p,terminated:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(U,b),D=E(i);return K&&i.addEventListener("upgradeneeded",(U=>{K(E(i.result),U.oldVersion,U.newVersion,E(i.transaction),U)})),e&&i.addEventListener("blocked",(U=>e(U.oldVersion,U.newVersion,U))),D.then((U=>{m&&U.addEventListener("close",(()=>m())),p&&U.addEventListener("versionchange",(U=>p(U.oldVersion,U.newVersion,U)))})).catch((()=>{})),D}("firebase-heartbeat-database",1,{upgrade:(U,b)=>{if(0===b)U.createObjectStore(VU)}}).catch((U=>{throw uU.create("idb-open",{originalErrorMessage:U.message})}))),MU}async function JU(U,b){try{const e=(await ZU()).transaction(VU,"readwrite"),K=e.objectStore(VU);await K.put(b,IU(U)),await e.done}catch(e){if(e instanceof m.e)g.warn(e.message);else{const U=uU.create("idb-set",{originalErrorMessage:null===e||void 0===e?void 0:e.message});g.warn(U.message)}}}function IU(U){return`${U.name}!${U.options.appId}`}class cU{constructor(U){this.container=U,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this.Ki=new BU(b),this._heartbeatsCachePromise=this.Ki.read().then((U=>(this._heartbeatsCache=U,U)))}async triggerHeartbeat(){const U=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=gU();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==b&&!this._heartbeatsCache.heartbeats.some((U=>U.date===b)))return this._heartbeatsCache.heartbeats.push({date:b,agent:U}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((U=>{const b=new Date(U.date).valueOf();return Date.now()-b<=2592e6})),this.Ki.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const U=gU(),{heartbeatsToSend:b,unsentEntries:e}=function(U){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const e=[];let K=U.slice();for(const p of U){const U=e.find((U=>U.agent===p.agent));if(U){if(U.dates.push(p.date),tU(e)>b){U.dates.pop();break}}else if(e.push({agent:p.agent,dates:[p.date]}),tU(e)>b){e.pop();break}K=K.slice(1)}return{heartbeatsToSend:e,unsentEntries:K}}(this._heartbeatsCache.heartbeats),K=(0,m.l)(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=U,e.length>0?(this._heartbeatsCache.heartbeats=e,await this.Ki.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Ki.overwrite(this._heartbeatsCache)),K}}function gU(){return(new Date).toISOString().substring(0,10)}class BU{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,m.Z)()&&(0,m.ib)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(U){try{const b=await ZU();return await b.transaction(VU).objectStore(VU).get(IU(U))}catch(b){if(b instanceof m.e)g.warn(b.message);else{const U=uU.create("idb-get",{originalErrorMessage:null===b||void 0===b?void 0:b.message});g.warn(U.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(U){var b;if(await this._canUseIndexedDBPromise){const e=await this.read();return JU(this.app,{lastSentHeartbeatDate:null!==(b=U.lastSentHeartbeatDate)&&void 0!==b?b:e.lastSentHeartbeatDate,heartbeats:U.heartbeats})}}async add(U){var b;if(await this._canUseIndexedDBPromise){const e=await this.read();return JU(this.app,{lastSentHeartbeatDate:null!==(b=U.lastSentHeartbeatDate)&&void 0!==b?b:e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...U.heartbeats]})}}}function tU(U){return(0,m.l)(JSON.stringify({version:2,heartbeats:U})).length}var XU;XU="",pU(new K.g("platform-logger",(U=>new J(U)),"PRIVATE")),pU(new K.g("heartbeat",(U=>new cU(U)),"PRIVATE")),EU(I,c,XU),EU(I,c,"esm2017"),EU("fire-js","")},11166:(U,b,e)=>{e.d(b,{c:()=>D,g:()=>p});var K=e(11175);class p{constructor(U,b,e){this.name=U,this.instanceFactory=b,this.type=e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const m="[DEFAULT]";class i{constructor(U,b){this.name=U,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const b=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(b)){const U=new K.b;if(this.instancesDeferred.set(b,U),this.isInitialized(b)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:b});e&&U.resolve(e)}catch(e){}}return this.instancesDeferred.get(b).promise}getImmediate(U){var b;const e=this.normalizeInstanceIdentifier(null===U||void 0===U?void 0:U.identifier),K=null!==(b=null===U||void 0===U?void 0:U.optional)&&void 0!==b&&b;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(K)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(p){if(K)return null;throw p}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function(U){return"EAGER"===U.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:m})}catch(b){}for(const[U,e]of this.instancesDeferred.entries()){const K=this.normalizeInstanceIdentifier(U);try{const U=this.getOrInitializeService({instanceIdentifier:K});e.resolve(U)}catch(b){}}}}clearInstance(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}async delete(){const U=Array.from(this.instances.values());await Promise.all([...U.filter((U=>"INTERNAL"in U)).map((U=>U.INTERNAL.delete())),...U.filter((U=>"_delete"in U)).map((U=>U._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instances.has(U)}getOptions(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.instancesOptions.get(U)||{}}initialize(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:b={}}=U,e=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(e))throw Error(`${this.name}(${e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const K=this.getOrInitializeService({instanceIdentifier:e,options:b});for(const[p,m]of this.instancesDeferred.entries()){e===this.normalizeInstanceIdentifier(p)&&m.resolve(K)}return K}qi(U,b){var e;const K=this.normalizeInstanceIdentifier(b),p=null!==(e=this.onInitCallbacks.get(K))&&void 0!==e?e:new Set;p.add(U),this.onInitCallbacks.set(K,p);const m=this.instances.get(K);return m&&U(m,K),()=>{p.delete(U)}}invokeOnInitCallbacks(U,b){const e=this.onInitCallbacks.get(b);if(e)for(const p of e)try{p(U,b)}catch(K){}}getOrInitializeService(U){let{instanceIdentifier:b,options:e={}}=U,K=this.instances.get(b);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(p=b,p===m?void 0:p),options:e}),this.instances.set(b,K),this.instancesOptions.set(b,e),this.invokeOnInitCallbacks(K,b),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,b,K)}catch(i){}var p;return K||null}normalizeInstanceIdentifier(){let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return this.component?this.component.multipleInstances?U:m:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(U){this.name=U,this.providers=new Map}rf(U){const b=this.getProvider(U.name);if(b.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);b.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.rf(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const b=new i(U,this);return this.providers.set(U,b),b}getProviders(){return Array.from(this.providers.values())}}},11181:(U,b,e)=>{e.d(b,{c:()=>p,e:()=>u,h:()=>r,k:()=>W});const K=[];var p;!function(U){U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT"}(p||(p={}));const m={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},i=p.INFO,D={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},S=function(U,b){if(b<U.logLevel)return;const e=(new Date).toISOString(),K=D[b];if(!K)throw new Error(`Attempted to log a message with an invalid logType (value: ${b})`);for(var p=arguments.length,m=new Array(p>2?p-2:0),i=2;i<p;i++)m[i-2]=arguments[i];console[K](`[${e}]  ${U.name}:`,...m)};class u{constructor(U){this.name=U,this._logLevel=i,this._logHandler=S,this._userLogHandler=null,K.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in p))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"===typeof U?m[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!==typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(){for(var U=arguments.length,b=new Array(U),e=0;e<U;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...b),this._logHandler(this,p.DEBUG,...b)}log(){for(var U=arguments.length,b=new Array(U),e=0;e<U;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...b),this._logHandler(this,p.VERBOSE,...b)}info(){for(var U=arguments.length,b=new Array(U),e=0;e<U;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,p.INFO,...b),this._logHandler(this,p.INFO,...b)}warn(){for(var U=arguments.length,b=new Array(U),e=0;e<U;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,p.WARN,...b),this._logHandler(this,p.WARN,...b)}error(){for(var U=arguments.length,b=new Array(U),e=0;e<U;e++)b[e]=arguments[e];this._userLogHandler&&this._userLogHandler(this,p.ERROR,...b),this._logHandler(this,p.ERROR,...b)}}function r(U){K.forEach((b=>{b.setLogLevel(U)}))}function W(U,b){for(const e of K){let K=null;b&&b.level&&(K=m[b.level]),e.userLogHandler=null===U?null:function(b,e){for(var m=arguments.length,i=new Array(m>2?m-2:0),D=2;D<m;D++)i[D-2]=arguments[D];const S=i.map((U=>{if(null==U)return null;if("string"===typeof U)return U;if("number"===typeof U||"boolean"===typeof U)return U.toString();if(U instanceof Error)return U.message;try{return JSON.stringify(U)}catch(b){return null}})).filter((U=>U)).join(" ");e>=(null!==K&&void 0!==K?K:b.logLevel)&&U({level:p[e].toLowerCase(),message:S,args:i,type:b.name})}}}}}]);