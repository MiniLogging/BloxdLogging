/*! For license information please see j8y2s8.37.aa87fd7e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11552:(Q,z,I)=>{I.d(z,{A:()=>D,C:()=>j,F:()=>k,J:()=>S,N:()=>J,O:()=>X,R:()=>M,U:()=>d,W:()=>K,Y:()=>l,ab:()=>n,c:()=>s,eb:()=>o,fb:()=>i,g:()=>H,h:()=>c,hb:()=>N,i:()=>q,m:()=>e,n:()=>A,r:()=>y,t:()=>G,v:()=>h,z:()=>O});const P=function(Q){const z=[];let I=0;for(let P=0;P<Q.length;P++){let w=Q.charCodeAt(P);w<128?z[I++]=w:w<2048?(z[I++]=w>>6|192,z[I++]=63&w|128):55296===(64512&w)&&P+1<Q.length&&56320===(64512&Q.charCodeAt(P+1))?(w=65536+((1023&w)<<10)+(1023&Q.charCodeAt(++P)),z[I++]=w>>18|240,z[I++]=w>>12&63|128,z[I++]=w>>6&63|128,z[I++]=63&w|128):(z[I++]=w>>12|224,z[I++]=w>>6&63|128,z[I++]=63&w|128)}return z},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(Q,z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let w=0;w<Q.length;w+=3){const z=Q[w],T=w+1<Q.length,A=T?Q[w+1]:0,e=w+2<Q.length,m=e?Q[w+2]:0,f=z>>2,j=(3&z)<<4|A>>4;let D=(15&A)<<2|m>>6,k=63&m;e||(k=64,T||(D=64)),P.push(I[f],I[j],I[D],I[k])}return P.join("")},encodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Q):this.encodeByteArray(P(Q),z)},decodeString(Q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Q):function(Q){const z=[];let I=0,P=0;for(;I<Q.length;){const w=Q[I++];if(w<128)z[P++]=String.fromCharCode(w);else if(w>191&&w<224){const T=Q[I++];z[P++]=String.fromCharCode((31&w)<<6|63&T)}else if(w>239&&w<365){const T=((7&w)<<18|(63&Q[I++])<<12|(63&Q[I++])<<6|63&Q[I++])-65536;z[P++]=String.fromCharCode(55296+(T>>10)),z[P++]=String.fromCharCode(56320+(1023&T))}else{const T=Q[I++],A=Q[I++];z[P++]=String.fromCharCode((15&w)<<12|(63&T)<<6|63&A)}}return z.join("")}(this.decodeStringToByteArray(Q,z))},decodeStringToByteArray(Q,z){this.init_();const I=z?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let w=0;w<Q.length;){const z=I[Q.charAt(w++)],A=w<Q.length?I[Q.charAt(w)]:0;++w;const e=w<Q.length?I[Q.charAt(w)]:64;++w;const m=w<Q.length?I[Q.charAt(w)]:64;if(++w,null==z||null==A||null==e||null==m)throw new T;const f=z<<2|A>>4;if(P.push(f),64!==e){const Q=A<<4&240|e>>2;if(P.push(Q),64!==m){const Q=e<<6&192|m;P.push(Q)}}}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(Q){return function(Q){const z=P(Q);return w.encodeByteArray(z,!0)}(Q).replace(/\./g,"")},e=function(Q){try{return w.decodeString(Q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof I.g)return I.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,f=()=>{try{return m()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(I){return}const z=Q&&e(Q[1]);return z&&JSON.parse(z)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},j=Q=>{var z,I;return null===(I=null===(z=f())||void 0===z?void 0:z.emulatorHosts)||void 0===I?void 0:I[Q]},D=()=>{var Q;return null===(Q=f())||void 0===Q?void 0:Q.config},k=Q=>{var z;return null===(z=f())||void 0===z?void 0:z[`_${Q}`]};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((Q,z)=>{this.resolve=Q,this.reject=z}))}wrapCallback(Q){return(z,I)=>{z?this.reject(z):this.resolve(I),"function"===typeof Q&&(this.promise.catch((()=>{})),1===Q.length?Q(z):Q(z,I))}}}function J(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function X(){const Q="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof Q&&void 0!==Q.id}function n(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function d(){const Q=J();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function K(){try{return"object"===typeof indexedDB}catch(Q){return!1}}function N(){return new Promise(((Q,z)=>{try{let I=!0;const P="validate-browser-context-for-indexeddb-analytics-module",w=self.indexedDB.open(P);w.onsuccess=()=>{w.result.close(),I||self.indexedDB.deleteDatabase(P),Q(!0)},w.onupgradeneeded=()=>{I=!1},w.onerror=()=>{var Q;z((null===(Q=w.error)||void 0===Q?void 0:Q.message)||"")}}catch(I){z(I)}}))}function q(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class c extends Error{constructor(Q,z,I){super(z),this.code=Q,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(Q,z,I){this.service=Q,this.serviceName=z,this.errors=I}create(Q){const z=(arguments.length<=1?void 0:arguments[1])||{},I=`${this.service}/${Q}`,P=this.errors[Q],w=P?function(Q,z){return Q.replace(V,((Q,I)=>{const P=z[I];return null!=P?String(P):`<${I}?>`}))}(P,z):"Error",T=`${this.serviceName}: ${w} (${I}).`;return new c(I,T,z)}}const V=/\{\$([^}]+)}/g;function M(Q){for(const z in Q)if(Object.prototype.hasOwnProperty.call(Q,z))return!1;return!0}function h(Q,z){if(Q===z)return!0;const I=Object.keys(Q),P=Object.keys(z);for(const w of I){if(!P.includes(w))return!1;const I=Q[w],T=z[w];if(C(I)&&C(T)){if(!h(I,T))return!1}else if(I!==T)return!1}for(const w of P)if(!I.includes(w))return!1;return!0}function C(Q){return null!==Q&&"object"===typeof Q}function i(Q){const z=[];for(const[I,P]of Object.entries(Q))Array.isArray(P)?P.forEach((Q=>{z.push(encodeURIComponent(I)+"="+encodeURIComponent(Q))})):z.push(encodeURIComponent(I)+"="+encodeURIComponent(P));return z.length?"&"+z.join("&"):""}function o(Q){const z={};return Q.replace(/^\?/,"").split("&").forEach((Q=>{if(Q){const[I,P]=Q.split("=");z[decodeURIComponent(I)]=decodeURIComponent(P)}})),z}function O(Q){const z=Q.indexOf("?");if(!z)return"";const I=Q.indexOf("#",z);return Q.substring(z,I>0?I:void 0)}function G(Q,z){const I=new R(Q,z);return I.subscribe.bind(I)}class R{constructor(Q,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then((()=>{Q(this)})).catch((Q=>{this.error(Q)}))}next(Q){this.forEachObserver((z=>{z.next(Q)}))}error(Q){this.forEachObserver((z=>{z.error(Q)})),this.close(Q)}complete(){this.forEachObserver((Q=>{Q.complete()})),this.close()}subscribe(Q,z,I){let P;if(void 0===Q&&void 0===z&&void 0===I)throw new Error("Missing Observer.");P=function(Q,z){if("object"!==typeof Q||null===Q)return!1;for(const I of z)if(I in Q&&"function"===typeof Q[I])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:z,complete:I},void 0===P.next&&(P.next=r),void 0===P.error&&(P.error=r),void 0===P.complete&&(P.complete=r);const w=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch(Q){}})),this.observers.push(P),w}unsubscribeOne(Q){void 0!==this.observers&&void 0!==this.observers[Q]&&(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,Q)}sendOne(Q,z){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{z(this.observers[Q])}catch(I){"undefined"!==typeof console&&console.error&&console.error(I)}}))}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function r(){}const t=1e3,W=2,E=144e5,p=.5;function y(Q){let z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;const I=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)*Math.pow(z,Q),P=Math.round(p*I*(Math.random()-.5)*2);return Math.min(E,I+P)}function S(Q){return Q&&Q._delegate?Q._delegate:Q}},11541:(Q,z,I)=>{I.d(z,{d:()=>T.h,h:()=>DQ,i:()=>F,l:()=>IQ,m:()=>PQ,q:()=>QQ,s:()=>eQ,u:()=>zQ,y:()=>TQ,z:()=>wQ,B:()=>AQ,F:()=>lQ,M:()=>sQ,J:()=>JQ,Q:()=>kQ,T:()=>nQ,X:()=>XQ,$:()=>dQ});var P=I(11544),w=I(11557),T=I(11552);let A,e;const m=new WeakMap,f=new WeakMap,j=new WeakMap,D=new WeakMap,k=new WeakMap;let s={get(Q,z,I){if(Q instanceof IDBTransaction){if("done"===z)return f.get(Q);if("objectStoreNames"===z)return Q.objectStoreNames||j.get(Q);if("store"===z)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return X(Q[z])},set:(Q,z,I)=>(Q[z]=I,!0),has:(Q,z)=>Q instanceof IDBTransaction&&("done"===z||"store"===z)||z in Q};function J(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(e||(e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Q)?function(){for(var z=arguments.length,I=new Array(z),P=0;P<z;P++)I[P]=arguments[P];return Q.apply(n(this),I),X(m.get(this))}:function(){for(var z=arguments.length,I=new Array(z),P=0;P<z;P++)I[P]=arguments[P];return X(Q.apply(n(this),I))}:function(z){for(var I=arguments.length,P=new Array(I>1?I-1:0),w=1;w<I;w++)P[w-1]=arguments[w];const T=Q.call(n(this),z,...P);return j.set(T,z.sort?z.sort():[z]),X(T)}}function l(Q){return"function"===typeof Q?J(Q):(Q instanceof IDBTransaction&&function(Q){if(f.has(Q))return;const z=new Promise(((z,I)=>{const P=()=>{Q.removeEventListener("complete",w),Q.removeEventListener("error",T),Q.removeEventListener("abort",T)},w=()=>{z(),P()},T=()=>{I(Q.error||new DOMException("AbortError","AbortError")),P()};Q.addEventListener("complete",w),Q.addEventListener("error",T),Q.addEventListener("abort",T)}));f.set(Q,z)}(Q),z=Q,(A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((Q=>z instanceof Q))?new Proxy(Q,s):Q);var z}function X(Q){if(Q instanceof IDBRequest)return function(Q){const z=new Promise(((z,I)=>{const P=()=>{Q.removeEventListener("success",w),Q.removeEventListener("error",T)},w=()=>{z(X(Q.result)),P()},T=()=>{I(Q.error),P()};Q.addEventListener("success",w),Q.addEventListener("error",T)}));return z.then((z=>{z instanceof IDBCursor&&m.set(z,Q)})).catch((()=>{})),k.set(z,Q),z}(Q);if(D.has(Q))return D.get(Q);const z=l(Q);return z!==Q&&(D.set(Q,z),k.set(z,Q)),z}const n=Q=>k.get(Q);const d=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],N=new Map;function q(Q,z){if(!(Q instanceof IDBDatabase)||z in Q||"string"!==typeof z)return;if(N.get(z))return N.get(z);const I=z.replace(/FromIndex$/,""),P=z!==I,w=K.includes(I);if(!(I in(P?IDBIndex:IDBObjectStore).prototype)||!w&&!d.includes(I))return;const T=async function(Q){const z=this.transaction(Q,w?"readwrite":"readonly");let T=z.store;for(var A=arguments.length,e=new Array(A>1?A-1:0),m=1;m<A;m++)e[m-1]=arguments[m];return P&&(T=T.index(e.shift())),(await Promise.all([T[I](...e),w&&z.done]))[0]};return N.set(z,T),T}s=(Q=>({...Q,get:(z,I,P)=>q(z,I)||Q.get(z,I,P),has:(z,I)=>!!q(z,I)||Q.has(z,I)}))(s);class c{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map((Q=>{if(function(Q){const z=Q.getComponent();return"VERSION"===(null===z||void 0===z?void 0:z.type)}(Q)){const z=Q.getImmediate();return`${z.library}/${z.version}`}return null})).filter((Q=>Q)).join(" ")}}const H="@firebase/app",V="0.9.13",M=new w.e("@firebase/app"),h="@firebase/app-compat",C="@firebase/analytics-compat",i="@firebase/analytics",o="@firebase/app-check-compat",O="@firebase/app-check",G="@firebase/auth",R="@firebase/auth-compat",r="@firebase/database",t="@firebase/database-compat",W="@firebase/functions",E="@firebase/functions-compat",p="@firebase/installations",y="@firebase/installations-compat",S="@firebase/messaging",a="@firebase/messaging-compat",Z="@firebase/performance",U="@firebase/performance-compat",v="@firebase/remote-config",u="@firebase/remote-config-compat",Y="@firebase/storage",L="@firebase/storage-compat",g="@firebase/firestore",b="@firebase/firestore-compat",B="firebase",F="[DEFAULT]",x={[H]:"fire-core",[h]:"fire-core-compat",[i]:"fire-analytics",[C]:"fire-analytics-compat",[O]:"fire-app-check",[o]:"fire-app-check-compat",[G]:"fire-auth",[R]:"fire-auth-compat",[r]:"fire-rtdb",[t]:"fire-rtdb-compat",[W]:"fire-fn",[E]:"fire-fn-compat",[p]:"fire-iid",[y]:"fire-iid-compat",[S]:"fire-fcm",[a]:"fire-fcm-compat",[Z]:"fire-perf",[U]:"fire-perf-compat",[v]:"fire-rc",[u]:"fire-rc-compat",[Y]:"fire-gcs",[L]:"fire-gcs-compat",[g]:"fire-fst",[b]:"fire-fst-compat","fire-js":"fire-js",[B]:"fire-js-all"},QQ=new Map,zQ=new Map;function IQ(Q,z){try{Q.container.zf(z)}catch(I){M.debug(`Component ${z.name} failed to register with FirebaseApp ${Q.name}`,I)}}function PQ(Q,z){Q.container.addOrOverwriteComponent(z)}function wQ(Q){const z=Q.name;if(zQ.has(z))return M.debug(`There were multiple attempts to register component ${z}.`),!1;zQ.set(z,Q);for(const I of QQ.values())IQ(I,Q);return!0}function TQ(Q,z){const I=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return I&&I.triggerHeartbeat(),Q.container.getProvider(z)}function AQ(Q,z){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;TQ(Q,z).clearInstance(I)}function eQ(){zQ.clear()}const mQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fQ=new T.g("app","Firebase",mQ);class jQ{constructor(Q,z,I){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=I,this.container.zf(new P.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw fQ.create("app-deleted",{appName:this._name})}}const DQ="9.23.0";function kQ(Q){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},I=Q;if("object"!==typeof z){z={name:z}}const w=Object.assign({name:F,automaticDataCollectionEnabled:!1},z),A=w.name;if("string"!==typeof A||!A)throw fQ.create("bad-app-name",{appName:String(A)});if(I||(I=(0,T.A)()),!I)throw fQ.create("no-options");const e=QQ.get(A);if(e){if((0,T.v)(I,e.options)&&(0,T.v)(w,e.config))return e;throw fQ.create("duplicate-app",{appName:A})}const m=new P.d(A);for(const P of zQ.values())m.zf(P);const f=new jQ(I,w,m);return QQ.set(A,f),f}function sQ(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const z=QQ.get(Q);if(!z&&Q===F&&(0,T.A)())return kQ();if(!z)throw fQ.create("no-app",{appName:Q});return z}function JQ(){return Array.from(QQ.values())}async function lQ(Q){const z=Q.name;QQ.has(z)&&(QQ.delete(z),await Promise.all(Q.container.getProviders().map((Q=>Q.delete()))),Q.isDeleted=!0)}function XQ(Q,z,I){var w;let T=null!==(w=x[Q])&&void 0!==w?w:Q;I&&(T+=`-${I}`);const A=T.match(/\s|\//),e=z.match(/\s|\//);if(A||e){const Q=[`Unable to register library "${T}" with version "${z}":`];return A&&Q.push(`library name "${T}" contains illegal characters (whitespace or "/")`),A&&e&&Q.push("and"),e&&Q.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void M.warn(Q.join(" "))}wQ(new P.g(`${T}-version`,(()=>({library:T,version:z})),"VERSION"))}function nQ(Q,z){if(null!==Q&&"function"!==typeof Q)throw fQ.create("invalid-log-argument");(0,w.j)(Q,z)}function dQ(Q){(0,w.h)(Q)}const KQ="firebase-heartbeat-store";let NQ=null;function qQ(){return NQ||(NQ=function(Q,z){let{blocked:I,upgrade:P,blocking:w,terminated:T}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const A=indexedDB.open(Q,z),e=X(A);return P&&A.addEventListener("upgradeneeded",(Q=>{P(X(A.result),Q.oldVersion,Q.newVersion,X(A.transaction),Q)})),I&&A.addEventListener("blocked",(Q=>I(Q.oldVersion,Q.newVersion,Q))),e.then((Q=>{T&&Q.addEventListener("close",(()=>T())),w&&Q.addEventListener("versionchange",(Q=>w(Q.oldVersion,Q.newVersion,Q)))})).catch((()=>{})),e}("firebase-heartbeat-database",1,{upgrade:(Q,z)=>{if(0===z)Q.createObjectStore(KQ)}}).catch((Q=>{throw fQ.create("idb-open",{originalErrorMessage:Q.message})}))),NQ}async function cQ(Q,z){try{const I=(await qQ()).transaction(KQ,"readwrite"),P=I.objectStore(KQ);await P.put(z,HQ(Q)),await I.done}catch(I){if(I instanceof T.h)M.warn(I.message);else{const Q=fQ.create("idb-set",{originalErrorMessage:null===I||void 0===I?void 0:I.message});M.warn(Q.message)}}}function HQ(Q){return`${Q.name}!${Q.options.appId}`}class VQ{constructor(Q){this.container=Q,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this.Vi=new hQ(z),this._heartbeatsCachePromise=this.Vi.read().then((Q=>(this._heartbeatsCache=Q,Q)))}async triggerHeartbeat(){const Q=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),z=MQ();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==z&&!this._heartbeatsCache.heartbeats.some((Q=>Q.date===z)))return this._heartbeatsCache.heartbeats.push({date:z,agent:Q}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((Q=>{const z=new Date(Q.date).valueOf();return Date.now()-z<=2592e6})),this.Vi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const Q=MQ(),{heartbeatsToSend:z,unsentEntries:I}=function(Q){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const I=[];let P=Q.slice();for(const w of Q){const Q=I.find((Q=>Q.agent===w.agent));if(Q){if(Q.dates.push(w.date),CQ(I)>z){Q.dates.pop();break}}else if(I.push({agent:w.agent,dates:[w.date]}),CQ(I)>z){I.pop();break}P=P.slice(1)}return{heartbeatsToSend:I,unsentEntries:P}}(this._heartbeatsCache.heartbeats),P=(0,T.n)(JSON.stringify({version:2,heartbeats:z}));return this._heartbeatsCache.lastSentHeartbeatDate=Q,I.length>0?(this._heartbeatsCache.heartbeats=I,await this.Vi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Vi.overwrite(this._heartbeatsCache)),P}}function MQ(){return(new Date).toISOString().substring(0,10)}class hQ{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,T.W)()&&(0,T.hb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(Q){try{const z=await qQ();return await z.transaction(KQ).objectStore(KQ).get(HQ(Q))}catch(z){if(z instanceof T.h)M.warn(z.message);else{const Q=fQ.create("idb-get",{originalErrorMessage:null===z||void 0===z?void 0:z.message});M.warn(Q.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(Q){var z;if(await this._canUseIndexedDBPromise){const I=await this.read();return cQ(this.app,{lastSentHeartbeatDate:null!==(z=Q.lastSentHeartbeatDate)&&void 0!==z?z:I.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}}async add(Q){var z;if(await this._canUseIndexedDBPromise){const I=await this.read();return cQ(this.app,{lastSentHeartbeatDate:null!==(z=Q.lastSentHeartbeatDate)&&void 0!==z?z:I.lastSentHeartbeatDate,heartbeats:[...I.heartbeats,...Q.heartbeats]})}}}function CQ(Q){return(0,T.n)(JSON.stringify({version:2,heartbeats:Q})).length}var iQ;iQ="",wQ(new P.g("platform-logger",(Q=>new c(Q)),"PRIVATE")),wQ(new P.g("heartbeat",(Q=>new VQ(Q)),"PRIVATE")),XQ(H,V,iQ),XQ(H,V,"esm2017"),XQ("fire-js","")},11544:(Q,z,I)=>{I.d(z,{d:()=>e,g:()=>w});var P=I(11552);class w{constructor(Q,z,I){this.name=Q,this.instanceFactory=z,this.type=I,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const T="[DEFAULT]";class A{constructor(Q,z){this.name=Q,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const z=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(z)){const Q=new P.c;if(this.instancesDeferred.set(z,Q),this.isInitialized(z)||this.shouldAutoInitialize())try{const I=this.getOrInitializeService({instanceIdentifier:z});I&&Q.resolve(I)}catch(I){}}return this.instancesDeferred.get(z).promise}getImmediate(Q){var z;const I=this.normalizeInstanceIdentifier(null===Q||void 0===Q?void 0:Q.identifier),P=null!==(z=null===Q||void 0===Q?void 0:Q.optional)&&void 0!==z&&z;if(!this.isInitialized(I)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:I})}catch(w){if(P)return null;throw w}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function(Q){return"EAGER"===Q.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:T})}catch(z){}for(const[Q,I]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(Q);try{const Q=this.getOrInitializeService({instanceIdentifier:P});I.resolve(Q)}catch(z){}}}}clearInstance(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}async delete(){const Q=Array.from(this.instances.values());await Promise.all([...Q.filter((Q=>"INTERNAL"in Q)).map((Q=>Q.INTERNAL.delete())),...Q.filter((Q=>"_delete"in Q)).map((Q=>Q._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return this.instances.has(Q)}getOptions(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return this.instancesOptions.get(Q)||{}}initialize(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:z={}}=Q,I=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(I))throw Error(`${this.name}(${I}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:I,options:z});for(const[w,T]of this.instancesDeferred.entries()){I===this.normalizeInstanceIdentifier(w)&&T.resolve(P)}return P}Ci(Q,z){var I;const P=this.normalizeInstanceIdentifier(z),w=null!==(I=this.onInitCallbacks.get(P))&&void 0!==I?I:new Set;w.add(Q),this.onInitCallbacks.set(P,w);const T=this.instances.get(P);return T&&Q(T,P),()=>{w.delete(Q)}}invokeOnInitCallbacks(Q,z){const I=this.onInitCallbacks.get(z);if(I)for(const w of I)try{w(Q,z)}catch(P){}}getOrInitializeService(Q){let{instanceIdentifier:z,options:I={}}=Q,P=this.instances.get(z);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:(w=z,w===T?void 0:w),options:I}),this.instances.set(z,P),this.instancesOptions.set(z,I),this.invokeOnInitCallbacks(P,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,P)}catch(A){}var w;return P||null}normalizeInstanceIdentifier(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return this.component?this.component.multipleInstances?Q:T:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e{constructor(Q){this.name=Q,this.providers=new Map}zf(Q){const z=this.getProvider(Q.name);if(z.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);z.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.zf(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const z=new A(Q,this);return this.providers.set(Q,z),z}getProviders(){return Array.from(this.providers.values())}}},11557:(Q,z,I)=>{I.d(z,{d:()=>w,e:()=>f,h:()=>j,j:()=>D});const P=[];var w;!function(Q){Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT"}(w||(w={}));const T={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},A=w.INFO,e={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},m=function(Q,z){if(z<Q.logLevel)return;const I=(new Date).toISOString(),P=e[z];if(!P)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);for(var w=arguments.length,T=new Array(w>2?w-2:0),A=2;A<w;A++)T[A-2]=arguments[A];console[P](`[${I}]  ${Q.name}:`,...T)};class f{constructor(Q){this.name=Q,this._logLevel=A,this._logHandler=m,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in w))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"===typeof Q?T[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!==typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(){for(var Q=arguments.length,z=new Array(Q),I=0;I<Q;I++)z[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...z),this._logHandler(this,w.DEBUG,...z)}log(){for(var Q=arguments.length,z=new Array(Q),I=0;I<Q;I++)z[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...z),this._logHandler(this,w.VERBOSE,...z)}info(){for(var Q=arguments.length,z=new Array(Q),I=0;I<Q;I++)z[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,w.INFO,...z),this._logHandler(this,w.INFO,...z)}warn(){for(var Q=arguments.length,z=new Array(Q),I=0;I<Q;I++)z[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,w.WARN,...z),this._logHandler(this,w.WARN,...z)}error(){for(var Q=arguments.length,z=new Array(Q),I=0;I<Q;I++)z[I]=arguments[I];this._userLogHandler&&this._userLogHandler(this,w.ERROR,...z),this._logHandler(this,w.ERROR,...z)}}function j(Q){P.forEach((z=>{z.setLogLevel(Q)}))}function D(Q,z){for(const I of P){let P=null;z&&z.level&&(P=T[z.level]),I.userLogHandler=null===Q?null:function(z,I){for(var T=arguments.length,A=new Array(T>2?T-2:0),e=2;e<T;e++)A[e-2]=arguments[e];const m=A.map((Q=>{if(null==Q)return null;if("string"===typeof Q)return Q;if("number"===typeof Q||"boolean"===typeof Q)return Q.toString();if(Q instanceof Error)return Q.message;try{return JSON.stringify(Q)}catch(z){return null}})).filter((Q=>Q)).join(" ");I>=(null!==P&&void 0!==P?P:z.logLevel)&&Q({level:w[I].toLowerCase(),message:m,args:A,type:z.name})}}}}}]);