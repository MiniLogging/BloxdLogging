/*! For license information please see 4ldmwa.37.958c3344.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11878:(L,i,P)=>{P.d(i,{$:()=>B,A:()=>Z,E:()=>I,G:()=>T,J:()=>C,M:()=>c,O:()=>l,P:()=>F,R:()=>q,U:()=>g,X:()=>j,cb:()=>S,d:()=>r,e:()=>X,gb:()=>H,hb:()=>K,i:()=>m,ib:()=>n,l:()=>p,mb:()=>u,n:()=>w,r:()=>a,v:()=>R,y:()=>s});const D=function(L){const i=[];let P=0;for(let D=0;D<L.length;D++){let V=L.charCodeAt(D);V<128?i[P++]=V:V<2048?(i[P++]=V>>6|192,i[P++]=63&V|128):55296===(64512&V)&&D+1<L.length&&56320===(64512&L.charCodeAt(D+1))?(V=65536+((1023&V)<<10)+(1023&L.charCodeAt(++D)),i[P++]=V>>18|240,i[P++]=V>>12&63|128,i[P++]=V>>6&63|128,i[P++]=63&V|128):(i[P++]=V>>12|224,i[P++]=V>>6&63|128,i[P++]=63&V|128)}return i},V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(L,i){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,D=[];for(let V=0;V<L.length;V+=3){const i=L[V],M=V+1<L.length,a=M?L[V+1]:0,w=V+2<L.length,O=w?L[V+2]:0,U=i>>2,C=(3&i)<<4|a>>4;let T=(15&a)<<2|O>>6,c=63&O;w||(c=64,M||(T=64)),D.push(P[U],P[C],P[T],P[c])}return D.join("")},encodeString(L,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(L):this.encodeByteArray(D(L),i)},decodeString(L,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(L):function(L){const i=[];let P=0,D=0;for(;P<L.length;){const V=L[P++];if(V<128)i[D++]=String.fromCharCode(V);else if(V>191&&V<224){const M=L[P++];i[D++]=String.fromCharCode((31&V)<<6|63&M)}else if(V>239&&V<365){const M=((7&V)<<18|(63&L[P++])<<12|(63&L[P++])<<6|63&L[P++])-65536;i[D++]=String.fromCharCode(55296+(M>>10)),i[D++]=String.fromCharCode(56320+(1023&M))}else{const M=L[P++],a=L[P++];i[D++]=String.fromCharCode((15&V)<<12|(63&M)<<6|63&a)}}return i.join("")}(this.decodeStringToByteArray(L,i))},decodeStringToByteArray(L,i){this.init_();const P=i?this.charToByteMapWebSafe_:this.charToByteMap_,D=[];for(let V=0;V<L.length;){const i=P[L.charAt(V++)],a=V<L.length?P[L.charAt(V)]:0;++V;const w=V<L.length?P[L.charAt(V)]:64;++V;const O=V<L.length?P[L.charAt(V)]:64;if(++V,null==i||null==a||null==w||null==O)throw new M;const U=i<<2|a>>4;if(D.push(U),64!==w){const L=a<<4&240|w>>2;if(D.push(L),64!==O){const L=w<<6&192|O;D.push(L)}}}return D},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(L){return function(L){const i=D(L);return V.encodeByteArray(i,!0)}(L).replace(/\./g,"")},w=function(L){try{return V.decodeString(L,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};const O=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof P.g)return P.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,U=()=>{try{return O()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(P){return}const i=L&&w(L[1]);return i&&JSON.parse(i)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},C=L=>{var i,P;return null===(P=null===(i=U())||void 0===i?void 0:i.emulatorHosts)||void 0===P?void 0:P[L]},T=()=>{var L;return null===(L=U())||void 0===L?void 0:L.config},c=L=>{var i;return null===(i=U())||void 0===i?void 0:i[`_${L}`]};class r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((L,i)=>{this.resolve=L,this.reject=i}))}wrapCallback(L){return(i,P)=>{i?this.reject(i):this.resolve(P),"function"===typeof L&&(this.promise.catch((()=>{})),1===L.length?L(i):L(i,P))}}}function F(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F())}function q(){const L="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof L&&void 0!==L.id}function H(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function j(){const L=F();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function B(){try{return"object"===typeof indexedDB}catch(L){return!1}}function u(){return new Promise(((L,i)=>{try{let P=!0;const D="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(D);V.onsuccess=()=>{V.result.close(),P||self.indexedDB.deleteDatabase(D),L(!0)},V.onupgradeneeded=()=>{P=!1},V.onerror=()=>{var L;i((null===(L=V.error)||void 0===L?void 0:L.message)||"")}}catch(P){i(P)}}))}function p(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class m extends Error{constructor(L,i,P){super(i),this.code=L,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(L,i,P){this.service=L,this.serviceName=i,this.errors=P}create(L){const i=(arguments.length<=1?void 0:arguments[1])||{},P=`${this.service}/${L}`,D=this.errors[L],V=D?function(L,i){return L.replace(o,((L,P)=>{const D=i[P];return null!=D?String(D):`<${P}?>`}))}(D,i):"Error",M=`${this.serviceName}: ${V} (${P}).`;return new m(P,M,i)}}const o=/\{\$([^}]+)}/g;function g(L){for(const i in L)if(Object.prototype.hasOwnProperty.call(L,i))return!1;return!0}function Z(L,i){if(L===i)return!0;const P=Object.keys(L),D=Object.keys(i);for(const V of P){if(!D.includes(V))return!1;const P=L[V],M=i[V];if(G(P)&&G(M)){if(!Z(P,M))return!1}else if(P!==M)return!1}for(const V of D)if(!P.includes(V))return!1;return!0}function G(L){return null!==L&&"object"===typeof L}function n(L){const i=[];for(const[P,D]of Object.entries(L))Array.isArray(D)?D.forEach((L=>{i.push(encodeURIComponent(P)+"="+encodeURIComponent(L))})):i.push(encodeURIComponent(P)+"="+encodeURIComponent(D));return i.length?"&"+i.join("&"):""}function K(L){const i={};return L.replace(/^\?/,"").split("&").forEach((L=>{if(L){const[P,D]=L.split("=");i[decodeURIComponent(P)]=decodeURIComponent(D)}})),i}function I(L){const i=L.indexOf("?");if(!i)return"";const P=L.indexOf("#",i);return L.substring(i,P>0?P:void 0)}function s(L,i){const P=new A(L,i);return P.subscribe.bind(P)}class A{constructor(L,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then((()=>{L(this)})).catch((L=>{this.error(L)}))}next(L){this.forEachObserver((i=>{i.next(L)}))}error(L){this.forEachObserver((i=>{i.error(L)})),this.close(L)}complete(){this.forEachObserver((L=>{L.complete()})),this.close()}subscribe(L,i,P){let D;if(void 0===L&&void 0===i&&void 0===P)throw new Error("Missing Observer.");D=function(L,i){if("object"!==typeof L||null===L)return!1;for(const P of i)if(P in L&&"function"===typeof L[P])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:i,complete:P},void 0===D.next&&(D.next=e),void 0===D.error&&(D.error=e),void 0===D.complete&&(D.complete=e);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch(L){}})),this.observers.push(D),V}unsubscribeOne(L){void 0!==this.observers&&void 0!==this.observers[L]&&(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,L)}sendOne(L,i){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{i(this.observers[L])}catch(P){"undefined"!==typeof console&&console.error&&console.error(P)}}))}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function e(){}const v=1e3,z=2,d=144e5,h=.5;function R(L){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;const P=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:v)*Math.pow(i,L),D=Math.round(h*P*(Math.random()-.5)*2);return Math.min(d,P+D)}function l(L){return L&&L._delegate?L._delegate:L}},11865:(L,i,P)=>{P.d(i,{d:()=>M.i,h:()=>TL,l:()=>k,o:()=>PL,s:()=>DL,v:()=>LL,y:()=>wL,A:()=>iL,C:()=>ML,G:()=>VL,H:()=>aL,L:()=>SL,T:()=>rL,P:()=>FL,X:()=>cL,_:()=>HL,bb:()=>qL,db:()=>jL});var D=P(11871),V=P(11887),M=P(11878);let a,w;const O=new WeakMap,U=new WeakMap,C=new WeakMap,T=new WeakMap,c=new WeakMap;let r={get(L,i,P){if(L instanceof IDBTransaction){if("done"===i)return U.get(L);if("objectStoreNames"===i)return L.objectStoreNames||C.get(L);if("store"===i)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return q(L[i])},set:(L,i,P)=>(L[i]=P,!0),has:(L,i)=>L instanceof IDBTransaction&&("done"===i||"store"===i)||i in L};function F(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(L)?function(){for(var i=arguments.length,P=new Array(i),D=0;D<i;D++)P[D]=arguments[D];return L.apply(H(this),P),q(O.get(this))}:function(){for(var i=arguments.length,P=new Array(i),D=0;D<i;D++)P[D]=arguments[D];return q(L.apply(H(this),P))}:function(i){for(var P=arguments.length,D=new Array(P>1?P-1:0),V=1;V<P;V++)D[V-1]=arguments[V];const M=L.call(H(this),i,...D);return C.set(M,i.sort?i.sort():[i]),q(M)}}function S(L){return"function"===typeof L?F(L):(L instanceof IDBTransaction&&function(L){if(U.has(L))return;const i=new Promise(((i,P)=>{const D=()=>{L.removeEventListener("complete",V),L.removeEventListener("error",M),L.removeEventListener("abort",M)},V=()=>{i(),D()},M=()=>{P(L.error||new DOMException("AbortError","AbortError")),D()};L.addEventListener("complete",V),L.addEventListener("error",M),L.addEventListener("abort",M)}));U.set(L,i)}(L),i=L,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((L=>i instanceof L))?new Proxy(L,r):L);var i}function q(L){if(L instanceof IDBRequest)return function(L){const i=new Promise(((i,P)=>{const D=()=>{L.removeEventListener("success",V),L.removeEventListener("error",M)},V=()=>{i(q(L.result)),D()},M=()=>{P(L.error),D()};L.addEventListener("success",V),L.addEventListener("error",M)}));return i.then((i=>{i instanceof IDBCursor&&O.set(i,L)})).catch((()=>{})),c.set(i,L),i}(L);if(T.has(L))return T.get(L);const i=S(L);return i!==L&&(T.set(L,i),c.set(i,L)),i}const H=L=>c.get(L);const j=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],u=new Map;function p(L,i){if(!(L instanceof IDBDatabase)||i in L||"string"!==typeof i)return;if(u.get(i))return u.get(i);const P=i.replace(/FromIndex$/,""),D=i!==P,V=B.includes(P);if(!(P in(D?IDBIndex:IDBObjectStore).prototype)||!V&&!j.includes(P))return;const M=async function(L){const i=this.transaction(L,V?"readwrite":"readonly");let M=i.store;for(var a=arguments.length,w=new Array(a>1?a-1:0),O=1;O<a;O++)w[O-1]=arguments[O];return D&&(M=M.index(w.shift())),(await Promise.all([M[P](...w),V&&i.done]))[0]};return u.set(i,M),M}r=(L=>({...L,get:(i,P,D)=>p(i,P)||L.get(i,P,D),has:(i,P)=>!!p(i,P)||L.has(i,P)}))(r);class m{constructor(L){this.container=L}getPlatformInfoString(){return this.container.getProviders().map((L=>{if(function(L){const i=L.getComponent();return"VERSION"===(null===i||void 0===i?void 0:i.type)}(L)){const i=L.getImmediate();return`${i.library}/${i.version}`}return null})).filter((L=>L)).join(" ")}}const X="@firebase/app",o="0.9.13",g=new V.g("@firebase/app"),Z="@firebase/app-compat",G="@firebase/analytics-compat",n="@firebase/analytics",K="@firebase/app-check-compat",I="@firebase/app-check",s="@firebase/auth",A="@firebase/auth-compat",e="@firebase/database",v="@firebase/database-compat",z="@firebase/functions",d="@firebase/functions-compat",h="@firebase/installations",R="@firebase/installations-compat",l="@firebase/messaging",b="@firebase/messaging-compat",x="@firebase/performance",t="@firebase/performance-compat",f="@firebase/remote-config",N="@firebase/remote-config-compat",Y="@firebase/storage",E="@firebase/storage-compat",J="@firebase/firestore",W="@firebase/firestore-compat",Q="firebase",k="[DEFAULT]",y={[X]:"fire-core",[Z]:"fire-core-compat",[n]:"fire-analytics",[G]:"fire-analytics-compat",[I]:"fire-app-check",[K]:"fire-app-check-compat",[s]:"fire-auth",[A]:"fire-auth-compat",[e]:"fire-rtdb",[v]:"fire-rtdb-compat",[z]:"fire-fn",[d]:"fire-fn-compat",[h]:"fire-iid",[R]:"fire-iid-compat",[l]:"fire-fcm",[b]:"fire-fcm-compat",[x]:"fire-perf",[t]:"fire-perf-compat",[f]:"fire-rc",[N]:"fire-rc-compat",[Y]:"fire-gcs",[E]:"fire-gcs-compat",[J]:"fire-fst",[W]:"fire-fst-compat","fire-js":"fire-js",[Q]:"fire-js-all"},LL=new Map,iL=new Map;function PL(L,i){try{L.container.Df(i)}catch(P){g.debug(`Component ${i.name} failed to register with FirebaseApp ${L.name}`,P)}}function DL(L,i){L.container.addOrOverwriteComponent(i)}function VL(L){const i=L.name;if(iL.has(i))return g.debug(`There were multiple attempts to register component ${i}.`),!1;iL.set(i,L);for(const P of LL.values())PL(P,L);return!0}function ML(L,i){const P=L.container.getProvider("heartbeat").getImmediate({optional:!0});return P&&P.triggerHeartbeat(),L.container.getProvider(i)}function aL(L,i){let P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;ML(L,i).clearInstance(P)}function wL(){iL.clear()}const OL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},UL=new M.e("app","Firebase",OL);class CL{constructor(L,i,P){this._isDeleted=!1,this._options=Object.assign({},L),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=P,this.container.Df(new D.f("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(L){this.checkDestroyed(),this._automaticDataCollectionEnabled=L}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(L){this._isDeleted=L}checkDestroyed(){if(this.isDeleted)throw UL.create("app-deleted",{appName:this._name})}}const TL="9.23.0";function cL(L){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=L;if("object"!==typeof i){i={name:i}}const V=Object.assign({name:k,automaticDataCollectionEnabled:!1},i),a=V.name;if("string"!==typeof a||!a)throw UL.create("bad-app-name",{appName:String(a)});if(P||(P=(0,M.G)()),!P)throw UL.create("no-options");const w=LL.get(a);if(w){if((0,M.A)(P,w.options)&&(0,M.A)(V,w.config))return w;throw UL.create("duplicate-app",{appName:a})}const O=new D.b(a);for(const D of iL.values())O.Df(D);const U=new CL(P,V,O);return LL.set(a,U),U}function rL(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;const i=LL.get(L);if(!i&&L===k&&(0,M.G)())return cL();if(!i)throw UL.create("no-app",{appName:L});return i}function FL(){return Array.from(LL.values())}async function SL(L){const i=L.name;LL.has(i)&&(LL.delete(i),await Promise.all(L.container.getProviders().map((L=>L.delete()))),L.isDeleted=!0)}function qL(L,i,P){var V;let M=null!==(V=y[L])&&void 0!==V?V:L;P&&(M+=`-${P}`);const a=M.match(/\s|\//),w=i.match(/\s|\//);if(a||w){const L=[`Unable to register library "${M}" with version "${i}":`];return a&&L.push(`library name "${M}" contains illegal characters (whitespace or "/")`),a&&w&&L.push("and"),w&&L.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void g.warn(L.join(" "))}VL(new D.f(`${M}-version`,(()=>({library:M,version:i})),"VERSION"))}function HL(L,i){if(null!==L&&"function"!==typeof L)throw UL.create("invalid-log-argument");(0,V.l)(L,i)}function jL(L){(0,V.j)(L)}const BL="firebase-heartbeat-store";let uL=null;function pL(){return uL||(uL=function(L,i){let{blocked:P,upgrade:D,blocking:V,terminated:M}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(L,i),w=q(a);return D&&a.addEventListener("upgradeneeded",(L=>{D(q(a.result),L.oldVersion,L.newVersion,q(a.transaction),L)})),P&&a.addEventListener("blocked",(L=>P(L.oldVersion,L.newVersion,L))),w.then((L=>{M&&L.addEventListener("close",(()=>M())),V&&L.addEventListener("versionchange",(L=>V(L.oldVersion,L.newVersion,L)))})).catch((()=>{})),w}("firebase-heartbeat-database",1,{upgrade:(L,i)=>{if(0===i)L.createObjectStore(BL)}}).catch((L=>{throw UL.create("idb-open",{originalErrorMessage:L.message})}))),uL}async function mL(L,i){try{const P=(await pL()).transaction(BL,"readwrite"),D=P.objectStore(BL);await D.put(i,XL(L)),await P.done}catch(P){if(P instanceof M.i)g.warn(P.message);else{const L=UL.create("idb-set",{originalErrorMessage:null===P||void 0===P?void 0:P.message});g.warn(L.message)}}}function XL(L){return`${L.name}!${L.options.appId}`}class oL{constructor(L){this.container=L,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this.Yi=new ZL(i),this._heartbeatsCachePromise=this.Yi.read().then((L=>(this._heartbeatsCache=L,L)))}async triggerHeartbeat(){const L=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gL();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((L=>L.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:L}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((L=>{const i=new Date(L.date).valueOf();return Date.now()-i<=2592e6})),this.Yi.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const L=gL(),{heartbeatsToSend:i,unsentEntries:P}=function(L){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const P=[];let D=L.slice();for(const V of L){const L=P.find((L=>L.agent===V.agent));if(L){if(L.dates.push(V.date),GL(P)>i){L.dates.pop();break}}else if(P.push({agent:V.agent,dates:[V.date]}),GL(P)>i){P.pop();break}D=D.slice(1)}return{heartbeatsToSend:P,unsentEntries:D}}(this._heartbeatsCache.heartbeats),D=(0,M.r)(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=L,P.length>0?(this._heartbeatsCache.heartbeats=P,await this.Yi.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Yi.overwrite(this._heartbeatsCache)),D}}function gL(){return(new Date).toISOString().substring(0,10)}class ZL{constructor(L){this.app=L,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,M.$)()&&(0,M.mb)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(L){try{const i=await pL();return await i.transaction(BL).objectStore(BL).get(XL(L))}catch(i){if(i instanceof M.i)g.warn(i.message);else{const L=UL.create("idb-get",{originalErrorMessage:null===i||void 0===i?void 0:i.message});g.warn(L.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(L){var i;if(await this._canUseIndexedDBPromise){const P=await this.read();return mL(this.app,{lastSentHeartbeatDate:null!==(i=L.lastSentHeartbeatDate)&&void 0!==i?i:P.lastSentHeartbeatDate,heartbeats:L.heartbeats})}}async add(L){var i;if(await this._canUseIndexedDBPromise){const P=await this.read();return mL(this.app,{lastSentHeartbeatDate:null!==(i=L.lastSentHeartbeatDate)&&void 0!==i?i:P.lastSentHeartbeatDate,heartbeats:[...P.heartbeats,...L.heartbeats]})}}}function GL(L){return(0,M.r)(JSON.stringify({version:2,heartbeats:L})).length}var nL;nL="",VL(new D.f("platform-logger",(L=>new m(L)),"PRIVATE")),VL(new D.f("heartbeat",(L=>new oL(L)),"PRIVATE")),qL(X,o,nL),qL(X,o,"esm2017"),qL("fire-js","")},11871:(L,i,P)=>{P.d(i,{b:()=>w,f:()=>V});var D=P(11878);class V{constructor(L,i,P){this.name=L,this.instanceFactory=i,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const M="[DEFAULT]";class a{constructor(L,i){this.name=L,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const i=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(i)){const L=new D.d;if(this.instancesDeferred.set(i,L),this.isInitialized(i)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:i});P&&L.resolve(P)}catch(P){}}return this.instancesDeferred.get(i).promise}getImmediate(L){var i;const P=this.normalizeInstanceIdentifier(null===L||void 0===L?void 0:L.identifier),D=null!==(i=null===L||void 0===L?void 0:L.optional)&&void 0!==i&&i;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(D)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(V){if(D)return null;throw V}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function(L){return"EAGER"===L.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:M})}catch(i){}for(const[L,P]of this.instancesDeferred.entries()){const D=this.normalizeInstanceIdentifier(L);try{const L=this.getOrInitializeService({instanceIdentifier:D});P.resolve(L)}catch(i){}}}}clearInstance(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}async delete(){const L=Array.from(this.instances.values());await Promise.all([...L.filter((L=>"INTERNAL"in L)).map((L=>L.INTERNAL.delete())),...L.filter((L=>"_delete"in L)).map((L=>L._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instances.has(L)}getOptions(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instancesOptions.get(L)||{}}initialize(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:i={}}=L,P=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const D=this.getOrInitializeService({instanceIdentifier:P,options:i});for(const[V,M]of this.instancesDeferred.entries()){P===this.normalizeInstanceIdentifier(V)&&M.resolve(D)}return D}Fi(L,i){var P;const D=this.normalizeInstanceIdentifier(i),V=null!==(P=this.onInitCallbacks.get(D))&&void 0!==P?P:new Set;V.add(L),this.onInitCallbacks.set(D,V);const M=this.instances.get(D);return M&&L(M,D),()=>{V.delete(L)}}invokeOnInitCallbacks(L,i){const P=this.onInitCallbacks.get(i);if(P)for(const V of P)try{V(L,i)}catch(D){}}getOrInitializeService(L){let{instanceIdentifier:i,options:P={}}=L,D=this.instances.get(i);if(!D&&this.component&&(D=this.component.instanceFactory(this.container,{instanceIdentifier:(V=i,V===M?void 0:V),options:P}),this.instances.set(i,D),this.instancesOptions.set(i,P),this.invokeOnInitCallbacks(D,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,D)}catch(a){}var V;return D||null}normalizeInstanceIdentifier(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.component?this.component.multipleInstances?L:M:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(L){this.name=L,this.providers=new Map}Df(L){const i=this.getProvider(L.name);if(i.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);i.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.Df(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const i=new a(L,this);return this.providers.set(L,i),i}getProviders(){return Array.from(this.providers.values())}}},11887:(L,i,P)=>{P.d(i,{c:()=>V,g:()=>U,j:()=>C,l:()=>T});const D=[];var V;!function(L){L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT"}(V||(V={}));const M={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},a=V.INFO,w={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},O=function(L,i){if(i<L.logLevel)return;const P=(new Date).toISOString(),D=w[i];if(!D)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);for(var V=arguments.length,M=new Array(V>2?V-2:0),a=2;a<V;a++)M[a-2]=arguments[a];console[D](`[${P}]  ${L.name}:`,...M)};class U{constructor(L){this.name=L,this._logLevel=a,this._logHandler=O,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in V))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"===typeof L?M[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!==typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(){for(var L=arguments.length,i=new Array(L),P=0;P<L;P++)i[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...i),this._logHandler(this,V.DEBUG,...i)}log(){for(var L=arguments.length,i=new Array(L),P=0;P<L;P++)i[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...i),this._logHandler(this,V.VERBOSE,...i)}info(){for(var L=arguments.length,i=new Array(L),P=0;P<L;P++)i[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,V.INFO,...i),this._logHandler(this,V.INFO,...i)}warn(){for(var L=arguments.length,i=new Array(L),P=0;P<L;P++)i[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,V.WARN,...i),this._logHandler(this,V.WARN,...i)}error(){for(var L=arguments.length,i=new Array(L),P=0;P<L;P++)i[P]=arguments[P];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...i),this._logHandler(this,V.ERROR,...i)}}function C(L){D.forEach((i=>{i.setLogLevel(L)}))}function T(L,i){for(const P of D){let D=null;i&&i.level&&(D=M[i.level]),P.userLogHandler=null===L?null:function(i,P){for(var M=arguments.length,a=new Array(M>2?M-2:0),w=2;w<M;w++)a[w-2]=arguments[w];const O=a.map((L=>{if(null==L)return null;if("string"===typeof L)return L;if("number"===typeof L||"boolean"===typeof L)return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch(i){return null}})).filter((L=>L)).join(" ");P>=(null!==D&&void 0!==D?D:i.logLevel)&&L({level:V[P].toLowerCase(),message:O,args:a,type:i.name})}}}}}]);