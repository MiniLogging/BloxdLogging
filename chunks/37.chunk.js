/*! For license information please see kb8bs5h.37.e0ae33e5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[37],{11091:(A,I,y)=>{y.d(I,{B:()=>E,C:()=>l,D:()=>K,F:()=>j,G:()=>t,H:()=>N,I:()=>u,M:()=>x,N:()=>S,O:()=>G,P:()=>R,c:()=>z,e:()=>Q,f:()=>b,g:()=>Z,h:()=>d,j:()=>g,n:()=>H,o:()=>L,s:()=>v,t:()=>n,u:()=>P,x:()=>U,z:()=>f});const X=function(A){const I=[];let y=0;for(let X=0;X<A.length;X++){let F=A.charCodeAt(X);F<128?I[y++]=F:F<2048?(I[y++]=F>>6|192,I[y++]=63&F|128):55296===(64512&F)&&X+1<A.length&&56320===(64512&A.charCodeAt(X+1))?(F=65536+((1023&F)<<10)+(1023&A.charCodeAt(++X)),I[y++]=F>>18|240,I[y++]=F>>12&63|128,I[y++]=F>>6&63|128,I[y++]=63&F|128):(I[y++]=F>>12|224,I[y++]=F>>6&63|128,I[y++]=63&F|128)}return I},F={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(A,I){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=I?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let F=0;F<A.length;F+=3){const I=A[F],M=F+1<A.length,g=M?A[F+1]:0,d=F+2<A.length,V=d?A[F+2]:0,k=I>>2,U=(3&I)<<4|g>>4;let P=(15&g)<<2|V>>6,f=63&V;d||(f=64,M||(P=64)),X.push(y[k],y[U],y[P],y[f])}return X.join("")},encodeString(A,I){return this.HAS_NATIVE_SUPPORT&&!I?btoa(A):this.encodeByteArray(X(A),I)},decodeString(A,I){return this.HAS_NATIVE_SUPPORT&&!I?atob(A):function(A){const I=[];let y=0,X=0;for(;y<A.length;){const F=A[y++];if(F<128)I[X++]=String.fromCharCode(F);else if(F>191&&F<224){const M=A[y++];I[X++]=String.fromCharCode((31&F)<<6|63&M)}else if(F>239&&F<365){const M=((7&F)<<18|(63&A[y++])<<12|(63&A[y++])<<6|63&A[y++])-65536;I[X++]=String.fromCharCode(55296+(M>>10)),I[X++]=String.fromCharCode(56320+(1023&M))}else{const M=A[y++],g=A[y++];I[X++]=String.fromCharCode((15&F)<<12|(63&M)<<6|63&g)}}return I.join("")}(this.decodeStringToByteArray(A,I))},decodeStringToByteArray(A,I){this.init_();const y=I?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let F=0;F<A.length;){const I=y[A.charAt(F++)],g=F<A.length?y[A.charAt(F)]:0;++F;const d=F<A.length?y[A.charAt(F)]:64;++F;const V=F<A.length?y[A.charAt(F)]:64;if(++F,null==I||null==g||null==d||null==V)throw new M;const k=I<<2|g>>4;if(X.push(k),64!==d){const A=g<<4&240|d>>2;if(X.push(A),64!==V){const A=d<<6&192|V;X.push(A)}}}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g=function(A){return function(A){const I=X(A);return F.encodeByteArray(I,!0)}(A).replace(/\./g,"")},d=function(A){try{return F.decodeString(A,!0)}catch(I){console.error("base64Decode failed: ",I)}return null};const V=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof y.g)return y.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,k=()=>{try{return V()||(()=>{if("undefined"===typeof process)return})()||(()=>{if("undefined"===typeof document)return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(y){return}const I=A&&d(A[1]);return I&&JSON.parse(I)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},U=A=>{var I,y;return null===(y=null===(I=k())||void 0===I?void 0:I.emulatorHosts)||void 0===y?void 0:y[A]},P=()=>{var A;return null===(A=k())||void 0===A?void 0:A.config},f=A=>{var I;return null===(I=k())||void 0===I?void 0:I[`_${A}`]};class z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((A,I)=>{this.resolve=A,this.reject=I}))}wrapCallback(A){return(I,y)=>{I?this.reject(I):this.resolve(y),"function"===typeof A&&(this.promise.catch((()=>{})),1===A.length?A(I):A(I,y))}}}function l(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function K(){const A="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof A&&void 0!==A.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function t(){const A=l();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function N(){try{return"object"===typeof indexedDB}catch(A){return!1}}function R(){return new Promise(((A,I)=>{try{let y=!0;const X="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(X);F.onsuccess=()=>{F.result.close(),y||self.indexedDB.deleteDatabase(X),A(!0)},F.onupgradeneeded=()=>{y=!1},F.onerror=()=>{var A;I((null===(A=F.error)||void 0===A?void 0:A.message)||"")}}catch(y){I(y)}}))}function Z(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class b extends Error{constructor(A,I,y){super(I),this.code=A,this.customData=y,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q.prototype.create)}}class Q{constructor(A,I,y){this.service=A,this.serviceName=I,this.errors=y}create(A){const I=(arguments.length<=1?void 0:arguments[1])||{},y=`${this.service}/${A}`,X=this.errors[A],F=X?function(A,I){return A.replace(D,((A,y)=>{const X=I[y];return null!=X?String(X):`<${y}?>`}))}(X,I):"Error",M=`${this.serviceName}: ${F} (${y}).`;return new b(y,M,I)}}const D=/\{\$([^}]+)}/g;function j(A){for(const I in A)if(Object.prototype.hasOwnProperty.call(A,I))return!1;return!0}function v(A,I){if(A===I)return!0;const y=Object.keys(A),X=Object.keys(I);for(const F of y){if(!X.includes(F))return!1;const y=A[F],M=I[F];if(T(y)&&T(M)){if(!v(y,M))return!1}else if(y!==M)return!1}for(const F of X)if(!y.includes(F))return!1;return!0}function T(A){return null!==A&&"object"===typeof A}function G(A){const I=[];for(const[y,X]of Object.entries(A))Array.isArray(X)?X.forEach((A=>{I.push(encodeURIComponent(y)+"="+encodeURIComponent(A))})):I.push(encodeURIComponent(y)+"="+encodeURIComponent(X));return I.length?"&"+I.join("&"):""}function S(A){const I={};return A.replace(/^\?/,"").split("&").forEach((A=>{if(A){const[y,X]=A.split("=");I[decodeURIComponent(y)]=decodeURIComponent(X)}})),I}function n(A){const I=A.indexOf("?");if(!I)return"";const y=A.indexOf("#",I);return A.substring(I,y>0?y:void 0)}function L(A,I){const y=new J(A,I);return y.subscribe.bind(y)}class J{constructor(A,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then((()=>{A(this)})).catch((A=>{this.error(A)}))}next(A){this.forEachObserver((I=>{I.next(A)}))}error(A){this.forEachObserver((I=>{I.error(A)})),this.close(A)}complete(){this.forEachObserver((A=>{A.complete()})),this.close()}subscribe(A,I,y){let X;if(void 0===A&&void 0===I&&void 0===y)throw new Error("Missing Observer.");X=function(A,I){if("object"!==typeof A||null===A)return!1;for(const y of I)if(y in A&&"function"===typeof A[y])return!0;return!1}(A,["next","error","complete"])?A:{next:A,error:I,complete:y},void 0===X.next&&(X.next=s),void 0===X.error&&(X.error=s),void 0===X.complete&&(X.complete=s);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(A){}})),this.observers.push(X),F}unsubscribeOne(A){void 0!==this.observers&&void 0!==this.observers[A]&&(delete this.observers[A],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(A){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,A)}sendOne(A,I){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[A])try{I(this.observers[A])}catch(y){"undefined"!==typeof console&&console.error&&console.error(y)}}))}close(A){this.finalized||(this.finalized=!0,void 0!==A&&(this.finalError=A),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function s(){}const p=1e3,W=2,w=144e5,e=.5;function H(A){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W;const y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p)*Math.pow(I,A),X=Math.round(e*y*(Math.random()-.5)*2);return Math.min(w,y+X)}function E(A){return A&&A._delegate?A._delegate:A}},11081:(A,I,y)=>{y.d(I,{d:()=>M.f,f:()=>PA,g:()=>m,j:()=>yA,m:()=>XA,q:()=>AA,s:()=>dA,v:()=>IA,y:()=>MA,B:()=>FA,E:()=>gA,I:()=>uA,N:()=>zA,K:()=>lA,O:()=>fA,R:()=>xA,U:()=>KA,X:()=>tA});var X=y(11083),F=y(11096),M=y(11091);let g,d;const V=new WeakMap,k=new WeakMap,U=new WeakMap,P=new WeakMap,f=new WeakMap;let z={get(A,I,y){if(A instanceof IDBTransaction){if("done"===I)return k.get(A);if("objectStoreNames"===I)return A.objectStoreNames||U.get(A);if("store"===I)return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return K(A[I])},set:(A,I,y)=>(A[I]=y,!0),has:(A,I)=>A instanceof IDBTransaction&&("done"===I||"store"===I)||I in A};function l(A){return A!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(d||(d=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(A)?function(){for(var I=arguments.length,y=new Array(I),X=0;X<I;X++)y[X]=arguments[X];return A.apply(x(this),y),K(V.get(this))}:function(){for(var I=arguments.length,y=new Array(I),X=0;X<I;X++)y[X]=arguments[X];return K(A.apply(x(this),y))}:function(I){for(var y=arguments.length,X=new Array(y>1?y-1:0),F=1;F<y;F++)X[F-1]=arguments[F];const M=A.call(x(this),I,...X);return U.set(M,I.sort?I.sort():[I]),K(M)}}function u(A){return"function"===typeof A?l(A):(A instanceof IDBTransaction&&function(A){if(k.has(A))return;const I=new Promise(((I,y)=>{const X=()=>{A.removeEventListener("complete",F),A.removeEventListener("error",M),A.removeEventListener("abort",M)},F=()=>{I(),X()},M=()=>{y(A.error||new DOMException("AbortError","AbortError")),X()};A.addEventListener("complete",F),A.addEventListener("error",M),A.addEventListener("abort",M)}));k.set(A,I)}(A),I=A,(g||(g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((A=>I instanceof A))?new Proxy(A,z):A);var I}function K(A){if(A instanceof IDBRequest)return function(A){const I=new Promise(((I,y)=>{const X=()=>{A.removeEventListener("success",F),A.removeEventListener("error",M)},F=()=>{I(K(A.result)),X()},M=()=>{y(A.error),X()};A.addEventListener("success",F),A.addEventListener("error",M)}));return I.then((I=>{I instanceof IDBCursor&&V.set(I,A)})).catch((()=>{})),f.set(I,A),I}(A);if(P.has(A))return P.get(A);const I=u(A);return I!==A&&(P.set(A,I),f.set(I,A)),I}const x=A=>f.get(A);const t=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],R=new Map;function Z(A,I){if(!(A instanceof IDBDatabase)||I in A||"string"!==typeof I)return;if(R.get(I))return R.get(I);const y=I.replace(/FromIndex$/,""),X=I!==y,F=N.includes(y);if(!(y in(X?IDBIndex:IDBObjectStore).prototype)||!F&&!t.includes(y))return;const M=async function(A){const I=this.transaction(A,F?"readwrite":"readonly");let M=I.store;for(var g=arguments.length,d=new Array(g>1?g-1:0),V=1;V<g;V++)d[V-1]=arguments[V];return X&&(M=M.index(d.shift())),(await Promise.all([M[y](...d),F&&I.done]))[0]};return R.set(I,M),M}z=(A=>({...A,get:(I,y,X)=>Z(I,y)||A.get(I,y,X),has:(I,y)=>!!Z(I,y)||A.has(I,y)}))(z);class b{constructor(A){this.container=A}getPlatformInfoString(){return this.container.getProviders().map((A=>{if(function(A){const I=A.getComponent();return"VERSION"===(null===I||void 0===I?void 0:I.type)}(A)){const I=A.getImmediate();return`${I.library}/${I.version}`}return null})).filter((A=>A)).join(" ")}}const Q="@firebase/app",D="0.9.13",j=new F.g("@firebase/app"),v="@firebase/app-compat",T="@firebase/analytics-compat",G="@firebase/analytics",S="@firebase/app-check-compat",n="@firebase/app-check",L="@firebase/auth",J="@firebase/auth-compat",s="@firebase/database",p="@firebase/database-compat",W="@firebase/functions",w="@firebase/functions-compat",e="@firebase/installations",H="@firebase/installations-compat",E="@firebase/messaging",i="@firebase/messaging-compat",o="@firebase/performance",C="@firebase/performance-compat",c="@firebase/remote-config",h="@firebase/remote-config-compat",Y="@firebase/storage",O="@firebase/storage-compat",r="@firebase/firestore",a="@firebase/firestore-compat",B="firebase",m="[DEFAULT]",q={[Q]:"fire-core",[v]:"fire-core-compat",[G]:"fire-analytics",[T]:"fire-analytics-compat",[n]:"fire-app-check",[S]:"fire-app-check-compat",[L]:"fire-auth",[J]:"fire-auth-compat",[s]:"fire-rtdb",[p]:"fire-rtdb-compat",[W]:"fire-fn",[w]:"fire-fn-compat",[e]:"fire-iid",[H]:"fire-iid-compat",[E]:"fire-fcm",[i]:"fire-fcm-compat",[o]:"fire-perf",[C]:"fire-perf-compat",[c]:"fire-rc",[h]:"fire-rc-compat",[Y]:"fire-gcs",[O]:"fire-gcs-compat",[r]:"fire-fst",[a]:"fire-fst-compat","fire-js":"fire-js",[B]:"fire-js-all"},AA=new Map,IA=new Map;function yA(A,I){try{A.container.Af(I)}catch(y){j.debug(`Component ${I.name} failed to register with FirebaseApp ${A.name}`,y)}}function XA(A,I){A.container.addOrOverwriteComponent(I)}function FA(A){const I=A.name;if(IA.has(I))return j.debug(`There were multiple attempts to register component ${I}.`),!1;IA.set(I,A);for(const y of AA.values())yA(y,A);return!0}function MA(A,I){const y=A.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),A.container.getProvider(I)}function gA(A,I){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;MA(A,I).clearInstance(y)}function dA(){IA.clear()}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kA=new M.e("app","Firebase",VA);class UA{constructor(A,I,y){this._isDeleted=!1,this._options=Object.assign({},A),this._config=Object.assign({},I),this._name=I.name,this._automaticDataCollectionEnabled=I.automaticDataCollectionEnabled,this._container=y,this.container.Af(new X.g("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(A){this.checkDestroyed(),this._automaticDataCollectionEnabled=A}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(A){this._isDeleted=A}checkDestroyed(){if(this.isDeleted)throw kA.create("app-deleted",{appName:this._name})}}const PA="9.23.0";function fA(A){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=A;if("object"!==typeof I){I={name:I}}const F=Object.assign({name:m,automaticDataCollectionEnabled:!1},I),g=F.name;if("string"!==typeof g||!g)throw kA.create("bad-app-name",{appName:String(g)});if(y||(y=(0,M.u)()),!y)throw kA.create("no-options");const d=AA.get(g);if(d){if((0,M.s)(y,d.options)&&(0,M.s)(F,d.config))return d;throw kA.create("duplicate-app",{appName:g})}const V=new X.e(g);for(const X of IA.values())V.Af(X);const k=new UA(y,F,V);return AA.set(g,k),k}function zA(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;const I=AA.get(A);if(!I&&A===m&&(0,M.u)())return fA();if(!I)throw kA.create("no-app",{appName:A});return I}function lA(){return Array.from(AA.values())}async function uA(A){const I=A.name;AA.has(I)&&(AA.delete(I),await Promise.all(A.container.getProviders().map((A=>A.delete()))),A.isDeleted=!0)}function KA(A,I,y){var F;let M=null!==(F=q[A])&&void 0!==F?F:A;y&&(M+=`-${y}`);const g=M.match(/\s|\//),d=I.match(/\s|\//);if(g||d){const A=[`Unable to register library "${M}" with version "${I}":`];return g&&A.push(`library name "${M}" contains illegal characters (whitespace or "/")`),g&&d&&A.push("and"),d&&A.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void j.warn(A.join(" "))}FA(new X.g(`${M}-version`,(()=>({library:M,version:I})),"VERSION"))}function xA(A,I){if(null!==A&&"function"!==typeof A)throw kA.create("invalid-log-argument");(0,F.m)(A,I)}function tA(A){(0,F.j)(A)}const NA="firebase-heartbeat-store";let RA=null;function ZA(){return RA||(RA=function(A,I){let{blocked:y,upgrade:X,blocking:F,terminated:M}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const g=indexedDB.open(A,I),d=K(g);return X&&g.addEventListener("upgradeneeded",(A=>{X(K(g.result),A.oldVersion,A.newVersion,K(g.transaction),A)})),y&&g.addEventListener("blocked",(A=>y(A.oldVersion,A.newVersion,A))),d.then((A=>{M&&A.addEventListener("close",(()=>M())),F&&A.addEventListener("versionchange",(A=>F(A.oldVersion,A.newVersion,A)))})).catch((()=>{})),d}("firebase-heartbeat-database",1,{upgrade:(A,I)=>{if(0===I)A.createObjectStore(NA)}}).catch((A=>{throw kA.create("idb-open",{originalErrorMessage:A.message})}))),RA}async function bA(A,I){try{const y=(await ZA()).transaction(NA,"readwrite"),X=y.objectStore(NA);await X.put(I,QA(A)),await y.done}catch(y){if(y instanceof M.f)j.warn(y.message);else{const A=kA.create("idb-set",{originalErrorMessage:null===y||void 0===y?void 0:y.message});j.warn(A.message)}}}function QA(A){return`${A.name}!${A.options.appId}`}class DA{constructor(A){this.container=A,this._heartbeatsCache=null;const I=this.container.getProvider("app").getImmediate();this.Si=new vA(I),this._heartbeatsCachePromise=this.Si.read().then((A=>(this._heartbeatsCache=A,A)))}async triggerHeartbeat(){const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I=jA();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==I&&!this._heartbeatsCache.heartbeats.some((A=>A.date===I)))return this._heartbeatsCache.heartbeats.push({date:I,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((A=>{const I=new Date(A.date).valueOf();return Date.now()-I<=2592e6})),this.Si.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const A=jA(),{heartbeatsToSend:I,unsentEntries:y}=function(A){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const y=[];let X=A.slice();for(const F of A){const A=y.find((A=>A.agent===F.agent));if(A){if(A.dates.push(F.date),TA(y)>I){A.dates.pop();break}}else if(y.push({agent:F.agent,dates:[F.date]}),TA(y)>I){y.pop();break}X=X.slice(1)}return{heartbeatsToSend:y,unsentEntries:X}}(this._heartbeatsCache.heartbeats),X=(0,M.j)(JSON.stringify({version:2,heartbeats:I}));return this._heartbeatsCache.lastSentHeartbeatDate=A,y.length>0?(this._heartbeatsCache.heartbeats=y,await this.Si.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this.Si.overwrite(this._heartbeatsCache)),X}}function jA(){return(new Date).toISOString().substring(0,10)}class vA{constructor(A){this.app=A,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,M.H)()&&(0,M.P)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){return await async function(A){try{const I=await ZA();return await I.transaction(NA).objectStore(NA).get(QA(A))}catch(I){if(I instanceof M.f)j.warn(I.message);else{const A=kA.create("idb-get",{originalErrorMessage:null===I||void 0===I?void 0:I.message});j.warn(A.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(A){var I;if(await this._canUseIndexedDBPromise){const y=await this.read();return bA(this.app,{lastSentHeartbeatDate:null!==(I=A.lastSentHeartbeatDate)&&void 0!==I?I:y.lastSentHeartbeatDate,heartbeats:A.heartbeats})}}async add(A){var I;if(await this._canUseIndexedDBPromise){const y=await this.read();return bA(this.app,{lastSentHeartbeatDate:null!==(I=A.lastSentHeartbeatDate)&&void 0!==I?I:y.lastSentHeartbeatDate,heartbeats:[...y.heartbeats,...A.heartbeats]})}}}function TA(A){return(0,M.j)(JSON.stringify({version:2,heartbeats:A})).length}var GA;GA="",FA(new X.g("platform-logger",(A=>new b(A)),"PRIVATE")),FA(new X.g("heartbeat",(A=>new DA(A)),"PRIVATE")),KA(Q,D,GA),KA(Q,D,"esm2017"),KA("fire-js","")},11083:(A,I,y)=>{y.d(I,{e:()=>d,g:()=>F});var X=y(11091);class F{constructor(A,I,y){this.name=A,this.instanceFactory=I,this.type=y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(A){return this.instantiationMode=A,this}setMultipleInstances(A){return this.multipleInstances=A,this}setServiceProps(A){return this.serviceProps=A,this}setInstanceCreatedCallback(A){return this.onInstanceCreated=A,this}}const M="[DEFAULT]";class g{constructor(A,I){this.name=A,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(A){const I=this.normalizeInstanceIdentifier(A);if(!this.instancesDeferred.has(I)){const A=new X.c;if(this.instancesDeferred.set(I,A),this.isInitialized(I)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:I});y&&A.resolve(y)}catch(y){}}return this.instancesDeferred.get(I).promise}getImmediate(A){var I;const y=this.normalizeInstanceIdentifier(null===A||void 0===A?void 0:A.identifier),X=null!==(I=null===A||void 0===A?void 0:A.optional)&&void 0!==I&&I;if(!this.isInitialized(y)&&!this.shouldAutoInitialize()){if(X)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:y})}catch(F){if(X)return null;throw F}}getComponent(){return this.component}setComponent(A){if(A.name!==this.name)throw Error(`Mismatching Component ${A.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=A,this.shouldAutoInitialize()){if(function(A){return"EAGER"===A.instantiationMode}(A))try{this.getOrInitializeService({instanceIdentifier:M})}catch(I){}for(const[A,y]of this.instancesDeferred.entries()){const X=this.normalizeInstanceIdentifier(A);try{const A=this.getOrInitializeService({instanceIdentifier:X});y.resolve(A)}catch(I){}}}}clearInstance(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;this.instancesDeferred.delete(A),this.instancesOptions.delete(A),this.instances.delete(A)}async delete(){const A=Array.from(this.instances.values());await Promise.all([...A.filter((A=>"INTERNAL"in A)).map((A=>A.INTERNAL.delete())),...A.filter((A=>"_delete"in A)).map((A=>A._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instances.has(A)}getOptions(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.instancesOptions.get(A)||{}}initialize(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:I={}}=A,y=this.normalizeInstanceIdentifier(A.instanceIdentifier);if(this.isInitialized(y))throw Error(`${this.name}(${y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const X=this.getOrInitializeService({instanceIdentifier:y,options:I});for(const[F,M]of this.instancesDeferred.entries()){y===this.normalizeInstanceIdentifier(F)&&M.resolve(X)}return X}zi(A,I){var y;const X=this.normalizeInstanceIdentifier(I),F=null!==(y=this.onInitCallbacks.get(X))&&void 0!==y?y:new Set;F.add(A),this.onInitCallbacks.set(X,F);const M=this.instances.get(X);return M&&A(M,X),()=>{F.delete(A)}}invokeOnInitCallbacks(A,I){const y=this.onInitCallbacks.get(I);if(y)for(const F of y)try{F(A,I)}catch(X){}}getOrInitializeService(A){let{instanceIdentifier:I,options:y={}}=A,X=this.instances.get(I);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(F=I,F===M?void 0:F),options:y}),this.instances.set(I,X),this.instancesOptions.set(I,y),this.invokeOnInitCallbacks(X,I),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,I,X)}catch(g){}var F;return X||null}normalizeInstanceIdentifier(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return this.component?this.component.multipleInstances?A:M:A}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d{constructor(A){this.name=A,this.providers=new Map}Af(A){const I=this.getProvider(A.name);if(I.isComponentSet())throw new Error(`Component ${A.name} has already been registered with ${this.name}`);I.setComponent(A)}addOrOverwriteComponent(A){this.getProvider(A.name).isComponentSet()&&this.providers.delete(A.name),this.Af(A)}getProvider(A){if(this.providers.has(A))return this.providers.get(A);const I=new g(A,this);return this.providers.set(A,I),I}getProviders(){return Array.from(this.providers.values())}}},11096:(A,I,y)=>{y.d(I,{c:()=>F,g:()=>k,j:()=>U,m:()=>P});const X=[];var F;!function(A){A[A.DEBUG=0]="DEBUG",A[A.VERBOSE=1]="VERBOSE",A[A.INFO=2]="INFO",A[A.WARN=3]="WARN",A[A.ERROR=4]="ERROR",A[A.SILENT=5]="SILENT"}(F||(F={}));const M={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},g=F.INFO,d={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},V=function(A,I){if(I<A.logLevel)return;const y=(new Date).toISOString(),X=d[I];if(!X)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);for(var F=arguments.length,M=new Array(F>2?F-2:0),g=2;g<F;g++)M[g-2]=arguments[g];console[X](`[${y}]  ${A.name}:`,...M)};class k{constructor(A){this.name=A,this._logLevel=g,this._logHandler=V,this._userLogHandler=null,X.push(this)}get logLevel(){return this._logLevel}set logLevel(A){if(!(A in F))throw new TypeError(`Invalid value "${A}" assigned to \`logLevel\``);this._logLevel=A}setLogLevel(A){this._logLevel="string"===typeof A?M[A]:A}get logHandler(){return this._logHandler}set logHandler(A){if("function"!==typeof A)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=A}get userLogHandler(){return this._userLogHandler}set userLogHandler(A){this._userLogHandler=A}debug(){for(var A=arguments.length,I=new Array(A),y=0;y<A;y++)I[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...I),this._logHandler(this,F.DEBUG,...I)}log(){for(var A=arguments.length,I=new Array(A),y=0;y<A;y++)I[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...I),this._logHandler(this,F.VERBOSE,...I)}info(){for(var A=arguments.length,I=new Array(A),y=0;y<A;y++)I[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.INFO,...I),this._logHandler(this,F.INFO,...I)}warn(){for(var A=arguments.length,I=new Array(A),y=0;y<A;y++)I[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.WARN,...I),this._logHandler(this,F.WARN,...I)}error(){for(var A=arguments.length,I=new Array(A),y=0;y<A;y++)I[y]=arguments[y];this._userLogHandler&&this._userLogHandler(this,F.ERROR,...I),this._logHandler(this,F.ERROR,...I)}}function U(A){X.forEach((I=>{I.setLogLevel(A)}))}function P(A,I){for(const y of X){let X=null;I&&I.level&&(X=M[I.level]),y.userLogHandler=null===A?null:function(I,y){for(var M=arguments.length,g=new Array(M>2?M-2:0),d=2;d<M;d++)g[d-2]=arguments[d];const V=g.map((A=>{if(null==A)return null;if("string"===typeof A)return A;if("number"===typeof A||"boolean"===typeof A)return A.toString();if(A instanceof Error)return A.message;try{return JSON.stringify(A)}catch(I){return null}})).filter((A=>A)).join(" ");y>=(null!==X&&void 0!==X?X:I.logLevel)&&A({level:F[y].toLowerCase(),message:V,args:g,type:I.name})}}}}}]);