"use strict";(self.bbj0x35f849=self.bbj0x35f849||[]).push([[82],{14287:(N,q,C)=>{C.r(q),C.d(q,{FlowGraphInterpolationBlock:()=>F});var d=C(12856),U=C(12831),W=C(11645),a=C(11076);class F extends d.d{constructor(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(N),this.keyFrames=[];const q="string"===typeof(null===N||void 0===N?void 0:N.animationType)?(0,U.O)(N.animationType):(0,U.L)((null===N||void 0===N?void 0:N.animationType)??0),C=(null===N||void 0===N?void 0:N.keyFramesCount)??1,d=this.registerDataInput("duration_0",U.r,0),W=this.registerDataInput("value_0",q);this.keyFrames.push({duration:d,value:W});for(let a=1;a<C+1;a++){const d=this.registerDataInput(`duration_${a}`,U.r,a===C?N.duration:void 0),W=this.registerDataInput(`value_${a}`,q);this.keyFrames.push({duration:d,value:W})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[C].value,this.easingFunction=this.registerDataInput("easingFunction",U.b),this.animation=this.registerDataOutput("animation",U.b),this.propertyName=this.registerDataInput("propertyName",U.b,null===N||void 0===N?void 0:N.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",U.b)}_updateOutputs(N){const q=N._getGlobalContextVariable("interpolationAnimations",[]),C=this.propertyName.getValue(N),d=this.easingFunction.getValue(N),U=this._createAnimation(N,C,d);if(this.animation.setValue(U,N),Array.isArray(U))for(const W of U)q.push(W.uniqueId);else q.push(U.uniqueId);N._setGlobalContextVariable("interpolationAnimations",q)}_createAnimation(N,q,C){var d;const U=this.initialValue.richType,a=[],F=this.initialValue.getValue(N)||U.defaultValue;a.push({frame:0,value:F});const w=(null===(d=this.config)||void 0===d?void 0:d.numberOfKeyFrames)??1;for(let W=1;W<w+1;W++){var A,n;const q=null===(A=this.keyFrames[W].duration)||void 0===A?void 0:A.getValue(N);let C=null===(n=this.keyFrames[W].value)||void 0===n?void 0:n.getValue(N);W===w-1&&(C=C||U.defaultValue),void 0!==q&&C&&a.push({frame:60*q,value:C})}const t=this.customBuildAnimation.getValue(N);if(t)return t(null,null,N)(a,60,U.animationType,C);if("string"===typeof q){const N=W.d.CreateAnimation(q,U.animationType,60,C);return N.setKeys(a),[N]}return q.map((N=>{const q=W.d.CreateAnimation(N,U.animationType,60,C);return q.setKeys(a),q}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,a.h)("FlowGraphInterpolationBlock",F)}}]);