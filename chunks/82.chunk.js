"use strict";(self.kdlk57exiqh=self.kdlk57exiqh||[]).push([[82],{15333:(i,x,e)=>{e.r(x),e.d(x,{FlowGraphInterpolationBlock:()=>J});var j=e(13900),E=e(13874),a=e(12753),Y=e(12204);class J extends j.e{constructor(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(i),this.keyFrames=[];const x="string"===typeof(null===i||void 0===i?void 0:i.animationType)?(0,E.N)(i.animationType):(0,E.L)((null===i||void 0===i?void 0:i.animationType)??0),e=(null===i||void 0===i?void 0:i.keyFramesCount)??1,j=this.registerDataInput("duration_0",E.q,0),a=this.registerDataInput("value_0",x);this.keyFrames.push({duration:j,value:a});for(let Y=1;Y<e+1;Y++){const j=this.registerDataInput(`duration_${Y}`,E.q,Y===e?i.duration:void 0),a=this.registerDataInput(`value_${Y}`,x);this.keyFrames.push({duration:j,value:a})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[e].value,this.easingFunction=this.registerDataInput("easingFunction",E.c),this.animation=this.registerDataOutput("animation",E.c),this.propertyName=this.registerDataInput("propertyName",E.c,null===i||void 0===i?void 0:i.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",E.c)}_updateOutputs(i){const x=i._getGlobalContextVariable("interpolationAnimations",[]),e=this.propertyName.getValue(i),j=this.easingFunction.getValue(i),E=this._createAnimation(i,e,j);if(this.animation.setValue(E,i),Array.isArray(E))for(const a of E)x.push(a.uniqueId);else x.push(E.uniqueId);i._setGlobalContextVariable("interpolationAnimations",x)}_createAnimation(i,x,e){var j;const E=this.initialValue.richType,Y=[],J=this.initialValue.getValue(i)||E.defaultValue;Y.push({frame:0,value:J});const u=(null===(j=this.config)||void 0===j?void 0:j.numberOfKeyFrames)??1;for(let a=1;a<u+1;a++){var b,g;const x=null===(b=this.keyFrames[a].duration)||void 0===b?void 0:b.getValue(i);let e=null===(g=this.keyFrames[a].value)||void 0===g?void 0:g.getValue(i);a===u-1&&(e=e||E.defaultValue),void 0!==x&&e&&Y.push({frame:60*x,value:e})}const A=this.customBuildAnimation.getValue(i);if(A)return A(null,null,i)(Y,60,E.animationType,e);if("string"===typeof x){const i=a.c.CreateAnimation(x,E.animationType,60,e);return i.setKeys(Y),[i]}return x.map((i=>{const x=a.c.CreateAnimation(i,E.animationType,60,e);return x.setKeys(Y),x}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,Y.f)("FlowGraphInterpolationBlock",J)}}]);