"use strict";(self.nyfa010khv=self.nyfa010khv||[]).push([[82],{15288:(L,r,p)=>{p.r(r),p.d(r,{FlowGraphInterpolationBlock:()=>z});var J=p(13882),i=p(13868),n=p(12642),j=p(12087);class z extends J.b{constructor(){let L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(L),this.keyFrames=[];const r="string"===typeof(null===L||void 0===L?void 0:L.animationType)?(0,i.R)(L.animationType):(0,i.N)((null===L||void 0===L?void 0:L.animationType)??0),p=(null===L||void 0===L?void 0:L.keyFramesCount)??1,J=this.registerDataInput("duration_0",i.v,0),n=this.registerDataInput("value_0",r);this.keyFrames.push({duration:J,value:n});for(let j=1;j<p+1;j++){const J=this.registerDataInput(`duration_${j}`,i.v,j===p?L.duration:void 0),n=this.registerDataInput(`value_${j}`,r);this.keyFrames.push({duration:J,value:n})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[p].value,this.easingFunction=this.registerDataInput("easingFunction",i.d),this.animation=this.registerDataOutput("animation",i.d),this.propertyName=this.registerDataInput("propertyName",i.d,null===L||void 0===L?void 0:L.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",i.d)}_updateOutputs(L){const r=L._getGlobalContextVariable("interpolationAnimations",[]),p=this.propertyName.getValue(L),J=this.easingFunction.getValue(L),i=this._createAnimation(L,p,J);if(this.animation.setValue(i,L),Array.isArray(i))for(const n of i)r.push(n.uniqueId);else r.push(i.uniqueId);L._setGlobalContextVariable("interpolationAnimations",r)}_createAnimation(L,r,p){var J;const i=this.initialValue.richType,j=[],z=this.initialValue.getValue(L)||i.defaultValue;j.push({frame:0,value:z});const G=(null===(J=this.config)||void 0===J?void 0:J.numberOfKeyFrames)??1;for(let n=1;n<G+1;n++){var C,t;const r=null===(C=this.keyFrames[n].duration)||void 0===C?void 0:C.getValue(L);let p=null===(t=this.keyFrames[n].value)||void 0===t?void 0:t.getValue(L);n===G-1&&(p=p||i.defaultValue),void 0!==r&&p&&j.push({frame:60*r,value:p})}const E=this.customBuildAnimation.getValue(L);if(E)return E(null,null,L)(j,60,i.animationType,p);if("string"===typeof r){const L=n.c.CreateAnimation(r,i.animationType,60,p);return L.setKeys(j),[L]}return r.map((L=>{const r=n.c.CreateAnimation(L,i.animationType,60,p);return r.setKeys(j),r}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,j.e)("FlowGraphInterpolationBlock",z)}}]);