"use strict";(self.wj3aziuz228=self.wj3aziuz228||[]).push([[82],{15645:(u,R,I)=>{I.r(R),I.d(R,{FlowGraphInterpolationBlock:()=>D});var B=I(14181),U=I(14160),K=I(12982),C=I(12433);class D extends B.d{constructor(){let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(u),this.keyFrames=[];const R="string"===typeof(null===u||void 0===u?void 0:u.animationType)?(0,U.N)(u.animationType):(0,U.J)((null===u||void 0===u?void 0:u.animationType)??0),I=(null===u||void 0===u?void 0:u.keyFramesCount)??1,B=this.registerDataInput("duration_0",U.u,0),K=this.registerDataInput("value_0",R);this.keyFrames.push({duration:B,value:K});for(let C=1;C<I+1;C++){const B=this.registerDataInput(`duration_${C}`,U.u,C===I?u.duration:void 0),K=this.registerDataInput(`value_${C}`,R);this.keyFrames.push({duration:B,value:K})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[I].value,this.easingFunction=this.registerDataInput("easingFunction",U.c),this.animation=this.registerDataOutput("animation",U.c),this.propertyName=this.registerDataInput("propertyName",U.c,null===u||void 0===u?void 0:u.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",U.c)}_updateOutputs(u){const R=u._getGlobalContextVariable("interpolationAnimations",[]),I=this.propertyName.getValue(u),B=this.easingFunction.getValue(u),U=this._createAnimation(u,I,B);if(this.animation.setValue(U,u),Array.isArray(U))for(const K of U)R.push(K.uniqueId);else R.push(U.uniqueId);u._setGlobalContextVariable("interpolationAnimations",R)}_createAnimation(u,R,I){var B;const U=this.initialValue.richType,C=[],D=this.initialValue.getValue(u)||U.defaultValue;C.push({frame:0,value:D});const s=(null===(B=this.config)||void 0===B?void 0:B.numberOfKeyFrames)??1;for(let K=1;K<s+1;K++){var t,G;const R=null===(t=this.keyFrames[K].duration)||void 0===t?void 0:t.getValue(u);let I=null===(G=this.keyFrames[K].value)||void 0===G?void 0:G.getValue(u);K===s-1&&(I=I||U.defaultValue),void 0!==R&&I&&C.push({frame:60*R,value:I})}const S=this.customBuildAnimation.getValue(u);if(S)return S(null,null,u)(C,60,U.animationType,I);if("string"===typeof R){const u=K.d.CreateAnimation(R,U.animationType,60,I);return u.setKeys(C),[u]}return R.map((u=>{const R=K.d.CreateAnimation(u,U.animationType,60,I);return R.setKeys(C),R}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,C.e)("FlowGraphInterpolationBlock",D)}}]);