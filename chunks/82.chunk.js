"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[82],{15042:(b,n,i)=>{i.r(n),i.d(n,{FlowGraphInterpolationBlock:()=>Y});var e=i(13547),V=i(13522),Q=i(12301),U=i(11734);class Y extends e.c{constructor(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(b),this.keyFrames=[];const n="string"===typeof(null===b||void 0===b?void 0:b.animationType)?(0,V.M)(b.animationType):(0,V.K)((null===b||void 0===b?void 0:b.animationType)??0),i=(null===b||void 0===b?void 0:b.keyFramesCount)??1,e=this.registerDataInput("duration_0",V.q,0),Q=this.registerDataInput("value_0",n);this.keyFrames.push({duration:e,value:Q});for(let U=1;U<i+1;U++){const e=this.registerDataInput(`duration_${U}`,V.q,U===i?b.duration:void 0),Q=this.registerDataInput(`value_${U}`,n);this.keyFrames.push({duration:e,value:Q})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[i].value,this.easingFunction=this.registerDataInput("easingFunction",V.c),this.animation=this.registerDataOutput("animation",V.c),this.propertyName=this.registerDataInput("propertyName",V.c,null===b||void 0===b?void 0:b.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",V.c)}_updateOutputs(b){const n=b._getGlobalContextVariable("interpolationAnimations",[]),i=this.propertyName.getValue(b),e=this.easingFunction.getValue(b),V=this._createAnimation(b,i,e);if(this.animation.setValue(V,b),Array.isArray(V))for(const Q of V)n.push(Q.uniqueId);else n.push(V.uniqueId);b._setGlobalContextVariable("interpolationAnimations",n)}_createAnimation(b,n,i){var e;const V=this.initialValue.richType,U=[],Y=this.initialValue.getValue(b)||V.defaultValue;U.push({frame:0,value:Y});const L=(null===(e=this.config)||void 0===e?void 0:e.numberOfKeyFrames)??1;for(let Q=1;Q<L+1;Q++){var B,mb;const n=null===(B=this.keyFrames[Q].duration)||void 0===B?void 0:B.getValue(b);let i=null===(mb=this.keyFrames[Q].value)||void 0===mb?void 0:mb.getValue(b);Q===L-1&&(i=i||V.defaultValue),void 0!==n&&i&&U.push({frame:60*n,value:i})}const N=this.customBuildAnimation.getValue(b);if(N)return N(null,null,b)(U,60,V.animationType,i);if("string"===typeof n){const b=Q.c.CreateAnimation(n,V.animationType,60,i);return b.setKeys(U),[b]}return n.map((b=>{const n=Q.c.CreateAnimation(b,V.animationType,60,i);return n.setKeys(U),n}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,U.i)("FlowGraphInterpolationBlock",Y)}}]);