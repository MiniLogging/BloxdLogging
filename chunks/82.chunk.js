"use strict";(self.wy695la1oic=self.wy695la1oic||[]).push([[82],{14598:(S,v,D)=>{D.r(v),D.d(v,{FlowGraphInterpolationBlock:()=>B});var z=D(13123),e=D(13108),N=D(11884),m=D(11329);class B extends z.d{constructor(){let S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(S),this.keyFrames=[];const v="string"===typeof(null===S||void 0===S?void 0:S.animationType)?(0,e.L)(S.animationType):(0,e.K)((null===S||void 0===S?void 0:S.animationType)??0),D=(null===S||void 0===S?void 0:S.keyFramesCount)??1,z=this.registerDataInput("duration_0",e.q,0),N=this.registerDataInput("value_0",v);this.keyFrames.push({duration:z,value:N});for(let m=1;m<D+1;m++){const z=this.registerDataInput(`duration_${m}`,e.q,m===D?S.duration:void 0),N=this.registerDataInput(`value_${m}`,v);this.keyFrames.push({duration:z,value:N})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[D].value,this.easingFunction=this.registerDataInput("easingFunction",e.d),this.animation=this.registerDataOutput("animation",e.d),this.propertyName=this.registerDataInput("propertyName",e.d,null===S||void 0===S?void 0:S.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",e.d)}_updateOutputs(S){const v=S._getGlobalContextVariable("interpolationAnimations",[]),D=this.propertyName.getValue(S),z=this.easingFunction.getValue(S),e=this._createAnimation(S,D,z);if(this.animation.setValue(e,S),Array.isArray(e))for(const N of e)v.push(N.uniqueId);else v.push(e.uniqueId);S._setGlobalContextVariable("interpolationAnimations",v)}_createAnimation(S,v,D){var z;const e=this.initialValue.richType,m=[],B=this.initialValue.getValue(S)||e.defaultValue;m.push({frame:0,value:B});const g=(null===(z=this.config)||void 0===z?void 0:z.numberOfKeyFrames)??1;for(let N=1;N<g+1;N++){var E,h;const v=null===(E=this.keyFrames[N].duration)||void 0===E?void 0:E.getValue(S);let D=null===(h=this.keyFrames[N].value)||void 0===h?void 0:h.getValue(S);N===g-1&&(D=D||e.defaultValue),void 0!==v&&D&&m.push({frame:60*v,value:D})}const A=this.customBuildAnimation.getValue(S);if(A)return A(null,null,S)(m,60,e.animationType,D);if("string"===typeof v){const S=N.b.CreateAnimation(v,e.animationType,60,D);return S.setKeys(m),[S]}return v.map((S=>{const v=N.b.CreateAnimation(S,e.animationType,60,D);return v.setKeys(m),v}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,m.f)("FlowGraphInterpolationBlock",B)}}]);