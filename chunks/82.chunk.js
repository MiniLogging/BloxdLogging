"use strict";(self.ozi0exxand9=self.ozi0exxand9||[]).push([[82],{14531:(f,v,Z)=>{Z.r(v),Z.d(v,{FlowGraphInterpolationBlock:()=>e});var V=Z(13149),h=Z(13123),J=Z(11921),l=Z(11372);class e extends V.c{constructor(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(f),this.keyFrames=[];const v="string"===typeof(null===f||void 0===f?void 0:f.animationType)?(0,h.S)(f.animationType):(0,h.R)((null===f||void 0===f?void 0:f.animationType)??0),Z=(null===f||void 0===f?void 0:f.keyFramesCount)??1,V=this.registerDataInput("duration_0",h.v,0),J=this.registerDataInput("value_0",v);this.keyFrames.push({duration:V,value:J});for(let l=1;l<Z+1;l++){const V=this.registerDataInput(`duration_${l}`,h.v,l===Z?f.duration:void 0),J=this.registerDataInput(`value_${l}`,v);this.keyFrames.push({duration:V,value:J})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[Z].value,this.easingFunction=this.registerDataInput("easingFunction",h.d),this.animation=this.registerDataOutput("animation",h.d),this.propertyName=this.registerDataInput("propertyName",h.d,null===f||void 0===f?void 0:f.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",h.d)}_updateOutputs(f){const v=f._getGlobalContextVariable("interpolationAnimations",[]),Z=this.propertyName.getValue(f),V=this.easingFunction.getValue(f),h=this._createAnimation(f,Z,V);if(this.animation.setValue(h,f),Array.isArray(h))for(const J of h)v.push(J.uniqueId);else v.push(h.uniqueId);f._setGlobalContextVariable("interpolationAnimations",v)}_createAnimation(f,v,Z){var V;const h=this.initialValue.richType,l=[],e=this.initialValue.getValue(f)||h.defaultValue;l.push({frame:0,value:e});const C=(null===(V=this.config)||void 0===V?void 0:V.numberOfKeyFrames)??1;for(let J=1;J<C+1;J++){var H,O;const v=null===(H=this.keyFrames[J].duration)||void 0===H?void 0:H.getValue(f);let Z=null===(O=this.keyFrames[J].value)||void 0===O?void 0:O.getValue(f);J===C-1&&(Z=Z||h.defaultValue),void 0!==v&&Z&&l.push({frame:60*v,value:Z})}const u=this.customBuildAnimation.getValue(f);if(u)return u(null,null,f)(l,60,h.animationType,Z);if("string"===typeof v){const f=J.b.CreateAnimation(v,h.animationType,60,Z);return f.setKeys(l),[f]}return v.map((f=>{const v=J.b.CreateAnimation(f,h.animationType,60,Z);return v.setKeys(l),v}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,l.h)("FlowGraphInterpolationBlock",e)}}]);