"use strict";(self.hmihoa2fs98=self.hmihoa2fs98||[]).push([[82],{14849:(b,d,P)=>{P.r(d),P.d(d,{FlowGraphInterpolationBlock:()=>C});var G=P(13386),W=P(13365),i=P(12201),q=P(11639);class C extends G.b{constructor(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(b),this.keyFrames=[];const d="string"===typeof(null===b||void 0===b?void 0:b.animationType)?(0,W.F)(b.animationType):(0,W.E)((null===b||void 0===b?void 0:b.animationType)??0),P=(null===b||void 0===b?void 0:b.keyFramesCount)??1,G=this.registerDataInput("duration_0",W.p,0),i=this.registerDataInput("value_0",d);this.keyFrames.push({duration:G,value:i});for(let q=1;q<P+1;q++){const G=this.registerDataInput(`duration_${q}`,W.p,q===P?b.duration:void 0),i=this.registerDataInput(`value_${q}`,d);this.keyFrames.push({duration:G,value:i})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[P].value,this.easingFunction=this.registerDataInput("easingFunction",W.b),this.animation=this.registerDataOutput("animation",W.b),this.propertyName=this.registerDataInput("propertyName",W.b,null===b||void 0===b?void 0:b.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",W.b)}_updateOutputs(b){const d=b._getGlobalContextVariable("interpolationAnimations",[]),P=this.propertyName.getValue(b),G=this.easingFunction.getValue(b),W=this._createAnimation(b,P,G);if(this.animation.setValue(W,b),Array.isArray(W))for(const i of W)d.push(i.uniqueId);else d.push(W.uniqueId);b._setGlobalContextVariable("interpolationAnimations",d)}_createAnimation(b,d,P){var G;const W=this.initialValue.richType,q=[],C=this.initialValue.getValue(b)||W.defaultValue;q.push({frame:0,value:C});const J=(null===(G=this.config)||void 0===G?void 0:G.numberOfKeyFrames)??1;for(let i=1;i<J+1;i++){var L,x;const d=null===(L=this.keyFrames[i].duration)||void 0===L?void 0:L.getValue(b);let P=null===(x=this.keyFrames[i].value)||void 0===x?void 0:x.getValue(b);i===J-1&&(P=P||W.defaultValue),void 0!==d&&P&&q.push({frame:60*d,value:P})}const Y=this.customBuildAnimation.getValue(b);if(Y)return Y(null,null,b)(q,60,W.animationType,P);if("string"===typeof d){const b=i.b.CreateAnimation(d,W.animationType,60,P);return b.setKeys(q),[b]}return d.map((b=>{const d=i.b.CreateAnimation(b,W.animationType,60,P);return d.setKeys(q),d}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,q.f)("FlowGraphInterpolationBlock",C)}}]);