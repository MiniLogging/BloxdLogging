"use strict";(self.hwpa2z1pqte=self.hwpa2z1pqte||[]).push([[82],{16120:(h,R,l)=>{l.r(R),l.d(R,{FlowGraphInterpolationBlock:()=>F});var j=l(14620),a=l(14597),D=l(13399),U=l(12852);class F extends j.e{constructor(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(h),this.keyFrames=[];const R="string"===typeof(null===h||void 0===h?void 0:h.animationType)?(0,a.L)(h.animationType):(0,a.I)((null===h||void 0===h?void 0:h.animationType)??0),l=(null===h||void 0===h?void 0:h.keyFramesCount)??1,j=this.registerDataInput("duration_0",a.r,0),D=this.registerDataInput("value_0",R);this.keyFrames.push({duration:j,value:D});for(let U=1;U<l+1;U++){const j=this.registerDataInput(`duration_${U}`,a.r,U===l?h.duration:void 0),D=this.registerDataInput(`value_${U}`,R);this.keyFrames.push({duration:j,value:D})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[l].value,this.easingFunction=this.registerDataInput("easingFunction",a.c),this.animation=this.registerDataOutput("animation",a.c),this.propertyName=this.registerDataInput("propertyName",a.c,null===h||void 0===h?void 0:h.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",a.c)}_updateOutputs(h){const R=h._getGlobalContextVariable("interpolationAnimations",[]),l=this.propertyName.getValue(h),j=this.easingFunction.getValue(h),a=this._createAnimation(h,l,j);if(this.animation.setValue(a,h),Array.isArray(a))for(const D of a)R.push(D.uniqueId);else R.push(a.uniqueId);h._setGlobalContextVariable("interpolationAnimations",R)}_createAnimation(h,R,l){var j;const a=this.initialValue.richType,U=[],F=this.initialValue.getValue(h)||a.defaultValue;U.push({frame:0,value:F});const w=(null===(j=this.config)||void 0===j?void 0:j.numberOfKeyFrames)??1;for(let D=1;D<w+1;D++){var mh,u;const R=null===(mh=this.keyFrames[D].duration)||void 0===mh?void 0:mh.getValue(h);let l=null===(u=this.keyFrames[D].value)||void 0===u?void 0:u.getValue(h);D===w-1&&(l=l||a.defaultValue),void 0!==R&&l&&U.push({frame:60*R,value:l})}const c=this.customBuildAnimation.getValue(h);if(c)return c(null,null,h)(U,60,a.animationType,l);if("string"===typeof R){const h=D.b.CreateAnimation(R,a.animationType,60,l);return h.setKeys(U),[h]}return R.map((h=>{const R=D.b.CreateAnimation(h,a.animationType,60,l);return R.setKeys(U),R}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,U.f)("FlowGraphInterpolationBlock",F)}}]);