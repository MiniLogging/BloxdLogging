"use strict";(self["7c63p8lin4r"]=self["7c63p8lin4r"]||[]).push([[82],{15676:(z,u,U)=>{U.r(u),U.d(u,{FlowGraphInterpolationBlock:()=>w});var J=U(14218),v=U(14196),f=U(13406),g=U(12875);class w extends J.b{constructor(){var z,u;let U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(U),this.keyFrames=[];const J="string"===typeof(null===U||void 0===U?void 0:U.animationType)?(0,v.R)(U.animationType):(0,v.P)(null!==(z=null===U||void 0===U?void 0:U.animationType)&&void 0!==z?z:0),f=null!==(u=null===U||void 0===U?void 0:U.keyFramesCount)&&void 0!==u?u:1,g=this.registerDataInput("duration_0",v.x,0),w=this.registerDataInput("value_0",J);this.keyFrames.push({duration:g,value:w});for(let P=1;P<f+1;P++){const z=this.registerDataInput("duration_".concat(P),v.x,P===f?U.duration:void 0),u=this.registerDataInput("value_".concat(P),J);this.keyFrames.push({duration:z,value:u})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[f].value,this.easingFunction=this.registerDataInput("easingFunction",v.e),this.animation=this.registerDataOutput("animation",v.e),this.propertyName=this.registerDataInput("propertyName",v.e,null===U||void 0===U?void 0:U.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",v.e)}_updateOutputs(z){const u=z._getGlobalContextVariable("interpolationAnimations",[]),U=this.propertyName.getValue(z),J=this.easingFunction.getValue(z),v=this._createAnimation(z,U,J);if(this.animation.setValue(v,z),Array.isArray(v))for(const f of v)u.push(f.uniqueId);else u.push(v.uniqueId);z._setGlobalContextVariable("interpolationAnimations",u)}_createAnimation(z,u,U){var J,v;const g=this.initialValue.richType,w=[],P=this.initialValue.getValue(z)||g.defaultValue;w.push({frame:0,value:P});const R=null!==(J=null===(v=this.config)||void 0===v?void 0:v.numberOfKeyFrames)&&void 0!==J?J:1;for(let f=1;f<R+1;f++){var S,d;const u=null===(S=this.keyFrames[f].duration)||void 0===S?void 0:S.getValue(z);let U=null===(d=this.keyFrames[f].value)||void 0===d?void 0:d.getValue(z);f===R-1&&(U=U||g.defaultValue),void 0!==u&&U&&w.push({frame:60*u,value:U})}const mz=this.customBuildAnimation.getValue(z);if(mz)return mz(null,null,z)(w,60,g.animationType,U);if("string"===typeof u){const z=f.b.CreateAnimation(u,g.animationType,60,U);return z.setKeys(w),[z]}return u.map((z=>{const u=f.b.CreateAnimation(z,g.animationType,60,U);return u.setKeys(w),u}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,g.f)("FlowGraphInterpolationBlock",w)}}]);