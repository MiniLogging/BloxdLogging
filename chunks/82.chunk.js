"use strict";(self.c2c3ycupenc=self.c2c3ycupenc||[]).push([[82],{14897:(c,r,D)=>{D.r(r),D.d(r,{FlowGraphInterpolationBlock:()=>a});var W=D(13408),B=D(13392),t=D(12202),u=D(11637);class a extends W.d{constructor(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(c),this.keyFrames=[];const r="string"===typeof(null===c||void 0===c?void 0:c.animationType)?(0,B.O)(c.animationType):(0,B.M)((null===c||void 0===c?void 0:c.animationType)??0),D=(null===c||void 0===c?void 0:c.keyFramesCount)??1,W=this.registerDataInput("duration_0",B.u,0),t=this.registerDataInput("value_0",r);this.keyFrames.push({duration:W,value:t});for(let u=1;u<D+1;u++){const W=this.registerDataInput(`duration_${u}`,B.u,u===D?c.duration:void 0),t=this.registerDataInput(`value_${u}`,r);this.keyFrames.push({duration:W,value:t})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[D].value,this.easingFunction=this.registerDataInput("easingFunction",B.c),this.animation=this.registerDataOutput("animation",B.c),this.propertyName=this.registerDataInput("propertyName",B.c,null===c||void 0===c?void 0:c.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",B.c)}_updateOutputs(c){const r=c._getGlobalContextVariable("interpolationAnimations",[]),D=this.propertyName.getValue(c),W=this.easingFunction.getValue(c),B=this._createAnimation(c,D,W);if(this.animation.setValue(B,c),Array.isArray(B))for(const t of B)r.push(t.uniqueId);else r.push(B.uniqueId);c._setGlobalContextVariable("interpolationAnimations",r)}_createAnimation(c,r,D){var W;const B=this.initialValue.richType,u=[],a=this.initialValue.getValue(c)||B.defaultValue;u.push({frame:0,value:a});const H=(null===(W=this.config)||void 0===W?void 0:W.numberOfKeyFrames)??1;for(let t=1;t<H+1;t++){var x,M;const r=null===(x=this.keyFrames[t].duration)||void 0===x?void 0:x.getValue(c);let D=null===(M=this.keyFrames[t].value)||void 0===M?void 0:M.getValue(c);t===H-1&&(D=D||B.defaultValue),void 0!==r&&D&&u.push({frame:60*r,value:D})}const E=this.customBuildAnimation.getValue(c);if(E)return E(null,null,c)(u,60,B.animationType,D);if("string"===typeof r){const c=t.b.CreateAnimation(r,B.animationType,60,D);return c.setKeys(u),[c]}return r.map((c=>{const r=t.b.CreateAnimation(c,B.animationType,60,D);return r.setKeys(u),r}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,u.e)("FlowGraphInterpolationBlock",a)}}]);