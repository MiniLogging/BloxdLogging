"use strict";(self["1xyrlsr8vb9"]=self["1xyrlsr8vb9"]||[]).push([[82],{15319:(I,O,C)=>{C.r(O),C.d(O,{FlowGraphInterpolationBlock:()=>S});var j=C(13906),K=C(13886),i=C(12759),y=C(12226);class S extends j.d{constructor(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(I),this.keyFrames=[];const O="string"===typeof(null===I||void 0===I?void 0:I.animationType)?(0,K.O)(I.animationType):(0,K.N)((null===I||void 0===I?void 0:I.animationType)??0),C=(null===I||void 0===I?void 0:I.keyFramesCount)??1,j=this.registerDataInput("duration_0",K.u,0),i=this.registerDataInput("value_0",O);this.keyFrames.push({duration:j,value:i});for(let y=1;y<C+1;y++){const j=this.registerDataInput(`duration_${y}`,K.u,y===C?I.duration:void 0),i=this.registerDataInput(`value_${y}`,O);this.keyFrames.push({duration:j,value:i})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[C].value,this.easingFunction=this.registerDataInput("easingFunction",K.d),this.animation=this.registerDataOutput("animation",K.d),this.propertyName=this.registerDataInput("propertyName",K.d,null===I||void 0===I?void 0:I.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",K.d)}_updateOutputs(I){const O=I._getGlobalContextVariable("interpolationAnimations",[]),C=this.propertyName.getValue(I),j=this.easingFunction.getValue(I),K=this._createAnimation(I,C,j);if(this.animation.setValue(K,I),Array.isArray(K))for(const i of K)O.push(i.uniqueId);else O.push(K.uniqueId);I._setGlobalContextVariable("interpolationAnimations",O)}_createAnimation(I,O,C){var j;const K=this.initialValue.richType,y=[],S=this.initialValue.getValue(I)||K.defaultValue;y.push({frame:0,value:S});const U=(null===(j=this.config)||void 0===j?void 0:j.numberOfKeyFrames)??1;for(let i=1;i<U+1;i++){var p,N;const O=null===(p=this.keyFrames[i].duration)||void 0===p?void 0:p.getValue(I);let C=null===(N=this.keyFrames[i].value)||void 0===N?void 0:N.getValue(I);i===U-1&&(C=C||K.defaultValue),void 0!==O&&C&&y.push({frame:60*O,value:C})}const Q=this.customBuildAnimation.getValue(I);if(Q)return Q(null,null,I)(y,60,K.animationType,C);if("string"===typeof O){const I=i.d.CreateAnimation(O,K.animationType,60,C);return I.setKeys(y),[I]}return O.map((I=>{const O=i.d.CreateAnimation(I,K.animationType,60,C);return O.setKeys(y),O}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,y.e)("FlowGraphInterpolationBlock",S)}}]);