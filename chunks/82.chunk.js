"use strict";(self.agop5zpabxv=self.agop5zpabxv||[]).push([[82],{15467:(H,u,J)=>{J.r(u),J.d(u,{FlowGraphInterpolationBlock:()=>g});var O=J(14041),U=J(14018),h=J(12852),w=J(12304);class g extends O.b{constructor(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(H),this.keyFrames=[];const u="string"===typeof(null===H||void 0===H?void 0:H.animationType)?(0,U.X)(H.animationType):(0,U.U)((null===H||void 0===H?void 0:H.animationType)??0),J=(null===H||void 0===H?void 0:H.keyFramesCount)??1,O=this.registerDataInput("duration_0",U.z,0),h=this.registerDataInput("value_0",u);this.keyFrames.push({duration:O,value:h});for(let w=1;w<J+1;w++){const O=this.registerDataInput(`duration_${w}`,U.z,w===J?H.duration:void 0),h=this.registerDataInput(`value_${w}`,u);this.keyFrames.push({duration:O,value:h})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[J].value,this.easingFunction=this.registerDataInput("easingFunction",U.d),this.animation=this.registerDataOutput("animation",U.d),this.propertyName=this.registerDataInput("propertyName",U.d,null===H||void 0===H?void 0:H.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",U.d)}_updateOutputs(H){const u=H._getGlobalContextVariable("interpolationAnimations",[]),J=this.propertyName.getValue(H),O=this.easingFunction.getValue(H),U=this._createAnimation(H,J,O);if(this.animation.setValue(U,H),Array.isArray(U))for(const h of U)u.push(h.uniqueId);else u.push(U.uniqueId);H._setGlobalContextVariable("interpolationAnimations",u)}_createAnimation(H,u,J){var O;const U=this.initialValue.richType,w=[],g=this.initialValue.getValue(H)||U.defaultValue;w.push({frame:0,value:g});const B=(null===(O=this.config)||void 0===O?void 0:O.numberOfKeyFrames)??1;for(let h=1;h<B+1;h++){var b,d;const u=null===(b=this.keyFrames[h].duration)||void 0===b?void 0:b.getValue(H);let J=null===(d=this.keyFrames[h].value)||void 0===d?void 0:d.getValue(H);h===B-1&&(J=J||U.defaultValue),void 0!==u&&J&&w.push({frame:60*u,value:J})}const G=this.customBuildAnimation.getValue(H);if(G)return G(null,null,H)(w,60,U.animationType,J);if("string"===typeof u){const H=h.e.CreateAnimation(u,U.animationType,60,J);return H.setKeys(w),[H]}return u.map((H=>{const u=h.e.CreateAnimation(H,U.animationType,60,J);return u.setKeys(w),u}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,w.f)("FlowGraphInterpolationBlock",g)}}]);