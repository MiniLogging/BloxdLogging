"use strict";(self.h66iwo8dvgq=self.h66iwo8dvgq||[]).push([[82],{15152:(b,X,P)=>{P.r(X),P.d(X,{FlowGraphInterpolationBlock:()=>a});var Q=P(13647),S=P(13631),d=P(12386),N=P(11802);class a extends Q.c{constructor(){let b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(b),this.keyFrames=[];const X="string"===typeof(null===b||void 0===b?void 0:b.animationType)?(0,S.H)(b.animationType):(0,S.G)((null===b||void 0===b?void 0:b.animationType)??0),P=(null===b||void 0===b?void 0:b.keyFramesCount)??1,Q=this.registerDataInput("duration_0",S.t,0),d=this.registerDataInput("value_0",X);this.keyFrames.push({duration:Q,value:d});for(let N=1;N<P+1;N++){const Q=this.registerDataInput(`duration_${N}`,S.t,N===P?b.duration:void 0),d=this.registerDataInput(`value_${N}`,X);this.keyFrames.push({duration:Q,value:d})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[P].value,this.easingFunction=this.registerDataInput("easingFunction",S.e),this.animation=this.registerDataOutput("animation",S.e),this.propertyName=this.registerDataInput("propertyName",S.e,null===b||void 0===b?void 0:b.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",S.e)}_updateOutputs(b){const X=b._getGlobalContextVariable("interpolationAnimations",[]),P=this.propertyName.getValue(b),Q=this.easingFunction.getValue(b),S=this._createAnimation(b,P,Q);if(this.animation.setValue(S,b),Array.isArray(S))for(const d of S)X.push(d.uniqueId);else X.push(S.uniqueId);b._setGlobalContextVariable("interpolationAnimations",X)}_createAnimation(b,X,P){var Q;const S=this.initialValue.richType,N=[],a=this.initialValue.getValue(b)||S.defaultValue;N.push({frame:0,value:a});const u=(null===(Q=this.config)||void 0===Q?void 0:Q.numberOfKeyFrames)??1;for(let d=1;d<u+1;d++){var w,f;const X=null===(w=this.keyFrames[d].duration)||void 0===w?void 0:w.getValue(b);let P=null===(f=this.keyFrames[d].value)||void 0===f?void 0:f.getValue(b);d===u-1&&(P=P||S.defaultValue),void 0!==X&&P&&N.push({frame:60*X,value:P})}const O=this.customBuildAnimation.getValue(b);if(O)return O(null,null,b)(N,60,S.animationType,P);if("string"===typeof X){const b=d.c.CreateAnimation(X,S.animationType,60,P);return b.setKeys(N),[b]}return X.map((b=>{const X=d.c.CreateAnimation(b,S.animationType,60,P);return X.setKeys(N),X}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,N.h)("FlowGraphInterpolationBlock",a)}}]);