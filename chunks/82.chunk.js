"use strict";(self.fyqbdzs5tyo=self.fyqbdzs5tyo||[]).push([[82],{14327:(V,I,A)=>{A.r(I),A.d(I,{FlowGraphInterpolationBlock:()=>H});var B=A(12979),F=A(12954),E=A(11790),Y=A(11189);class H extends B.d{constructor(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(V),this.keyFrames=[];const I="string"===typeof(null===V||void 0===V?void 0:V.animationType)?(0,F.P)(V.animationType):(0,F.O)((null===V||void 0===V?void 0:V.animationType)??0),A=(null===V||void 0===V?void 0:V.keyFramesCount)??1,B=this.registerDataInput("duration_0",F.v,0),E=this.registerDataInput("value_0",I);this.keyFrames.push({duration:B,value:E});for(let Y=1;Y<A+1;Y++){const B=this.registerDataInput(`duration_${Y}`,F.v,Y===A?V.duration:void 0),E=this.registerDataInput(`value_${Y}`,I);this.keyFrames.push({duration:B,value:E})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[A].value,this.easingFunction=this.registerDataInput("easingFunction",F.e),this.animation=this.registerDataOutput("animation",F.e),this.propertyName=this.registerDataInput("propertyName",F.e,null===V||void 0===V?void 0:V.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",F.e)}_updateOutputs(V){const I=V._getGlobalContextVariable("interpolationAnimations",[]),A=this.propertyName.getValue(V),B=this.easingFunction.getValue(V),F=this._createAnimation(V,A,B);if(this.animation.setValue(F,V),Array.isArray(F))for(const E of F)I.push(E.uniqueId);else I.push(F.uniqueId);V._setGlobalContextVariable("interpolationAnimations",I)}_createAnimation(V,I,A){var B;const F=this.initialValue.richType,Y=[],H=this.initialValue.getValue(V)||F.defaultValue;Y.push({frame:0,value:H});const c=(null===(B=this.config)||void 0===B?void 0:B.numberOfKeyFrames)??1;for(let E=1;E<c+1;E++){var b,X;const I=null===(b=this.keyFrames[E].duration)||void 0===b?void 0:b.getValue(V);let A=null===(X=this.keyFrames[E].value)||void 0===X?void 0:X.getValue(V);E===c-1&&(A=A||F.defaultValue),void 0!==I&&A&&Y.push({frame:60*I,value:A})}const P=this.customBuildAnimation.getValue(V);if(P)return P(null,null,V)(Y,60,F.animationType,A);if("string"===typeof I){const V=E.d.CreateAnimation(I,F.animationType,60,A);return V.setKeys(Y),[V]}return I.map((V=>{const I=E.d.CreateAnimation(V,F.animationType,60,A);return I.setKeys(Y),I}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,Y.e)("FlowGraphInterpolationBlock",H)}}]);