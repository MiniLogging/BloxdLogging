"use strict";(self["9s4i8ue3jq"]=self["9s4i8ue3jq"]||[]).push([[82],{15969:(a,c,o)=>{o.r(c),o.d(c,{FlowGraphInterpolationBlock:()=>p});var s=o(14423),q=o(14394),t=o(13322),i=o(12776);class p extends s.e{constructor(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(a),this.keyFrames=[];const c="string"===typeof(null===a||void 0===a?void 0:a.animationType)?(0,q.G)(a.animationType):(0,q.E)((null===a||void 0===a?void 0:a.animationType)??0),o=(null===a||void 0===a?void 0:a.keyFramesCount)??1,s=this.registerDataInput("duration_0",q.o,0),t=this.registerDataInput("value_0",c);this.keyFrames.push({duration:s,value:t});for(let i=1;i<o+1;i++){const s=this.registerDataInput(`duration_${i}`,q.o,i===o?a.duration:void 0),t=this.registerDataInput(`value_${i}`,c);this.keyFrames.push({duration:s,value:t})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[o].value,this.easingFunction=this.registerDataInput("easingFunction",q.c),this.animation=this.registerDataOutput("animation",q.c),this.propertyName=this.registerDataInput("propertyName",q.c,null===a||void 0===a?void 0:a.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",q.c)}_updateOutputs(a){const c=a._getGlobalContextVariable("interpolationAnimations",[]),o=this.propertyName.getValue(a),s=this.easingFunction.getValue(a),q=this._createAnimation(a,o,s);if(this.animation.setValue(q,a),Array.isArray(q))for(const t of q)c.push(t.uniqueId);else c.push(q.uniqueId);a._setGlobalContextVariable("interpolationAnimations",c)}_createAnimation(a,c,o){var s;const q=this.initialValue.richType,i=[],p=this.initialValue.getValue(a)||q.defaultValue;i.push({frame:0,value:p});const G=(null===(s=this.config)||void 0===s?void 0:s.numberOfKeyFrames)??1;for(let t=1;t<G+1;t++){var T,C;const c=null===(T=this.keyFrames[t].duration)||void 0===T?void 0:T.getValue(a);let o=null===(C=this.keyFrames[t].value)||void 0===C?void 0:C.getValue(a);t===G-1&&(o=o||q.defaultValue),void 0!==c&&o&&i.push({frame:60*c,value:o})}const j=this.customBuildAnimation.getValue(a);if(j)return j(null,null,a)(i,60,q.animationType,o);if("string"===typeof c){const a=t.b.CreateAnimation(c,q.animationType,60,o);return a.setKeys(i),[a]}return c.map((a=>{const c=t.b.CreateAnimation(a,q.animationType,60,o);return c.setKeys(i),c}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,i.d)("FlowGraphInterpolationBlock",p)}}]);