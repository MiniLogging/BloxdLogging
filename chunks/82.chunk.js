"use strict";(self.fjf2z1c8il8=self.fjf2z1c8il8||[]).push([[82],{15726:(g,i,a)=>{a.r(i),a.d(i,{FlowGraphInterpolationBlock:()=>k});var n=a(14234),L=a(14214),d=a(12994),b=a(12415);class k extends n.c{constructor(){let g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(g),this.keyFrames=[];const i="string"===typeof(null===g||void 0===g?void 0:g.animationType)?(0,L.I)(g.animationType):(0,L.G)((null===g||void 0===g?void 0:g.animationType)??0),a=(null===g||void 0===g?void 0:g.keyFramesCount)??1,n=this.registerDataInput("duration_0",L.q,0),d=this.registerDataInput("value_0",i);this.keyFrames.push({duration:n,value:d});for(let b=1;b<a+1;b++){const n=this.registerDataInput(`duration_${b}`,L.q,b===a?g.duration:void 0),d=this.registerDataInput(`value_${b}`,i);this.keyFrames.push({duration:n,value:d})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[a].value,this.easingFunction=this.registerDataInput("easingFunction",L.d),this.animation=this.registerDataOutput("animation",L.d),this.propertyName=this.registerDataInput("propertyName",L.d,null===g||void 0===g?void 0:g.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",L.d)}_updateOutputs(g){const i=g._getGlobalContextVariable("interpolationAnimations",[]),a=this.propertyName.getValue(g),n=this.easingFunction.getValue(g),L=this._createAnimation(g,a,n);if(this.animation.setValue(L,g),Array.isArray(L))for(const d of L)i.push(d.uniqueId);else i.push(L.uniqueId);g._setGlobalContextVariable("interpolationAnimations",i)}_createAnimation(g,i,a){var n;const L=this.initialValue.richType,b=[],k=this.initialValue.getValue(g)||L.defaultValue;b.push({frame:0,value:k});const e=(null===(n=this.config)||void 0===n?void 0:n.numberOfKeyFrames)??1;for(let d=1;d<e+1;d++){var N,F;const i=null===(N=this.keyFrames[d].duration)||void 0===N?void 0:N.getValue(g);let a=null===(F=this.keyFrames[d].value)||void 0===F?void 0:F.getValue(g);d===e-1&&(a=a||L.defaultValue),void 0!==i&&a&&b.push({frame:60*i,value:a})}const I=this.customBuildAnimation.getValue(g);if(I)return I(null,null,g)(b,60,L.animationType,a);if("string"===typeof i){const g=d.b.CreateAnimation(i,L.animationType,60,a);return g.setKeys(b),[g]}return i.map((g=>{const i=d.b.CreateAnimation(g,L.animationType,60,a);return i.setKeys(b),i}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,b.e)("FlowGraphInterpolationBlock",k)}}]);