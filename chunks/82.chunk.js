"use strict";(self.zy41qorie9=self.zy41qorie9||[]).push([[82],{15327:(Z,l,C)=>{C.r(l),C.d(l,{FlowGraphInterpolationBlock:()=>f});var B=C(13853),x=C(13830),b=C(12942),K=C(12400);class f extends B.d{constructor(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(Z),this.keyFrames=[];const l="string"===typeof(null===Z||void 0===Z?void 0:Z.animationType)?(0,x.I)(Z.animationType):(0,x.G)((null===Z||void 0===Z?void 0:Z.animationType)??0),C=(null===Z||void 0===Z?void 0:Z.keyFramesCount)??1,B=this.registerDataInput("duration_0",x.o,0),b=this.registerDataInput("value_0",l);this.keyFrames.push({duration:B,value:b});for(let K=1;K<C+1;K++){const B=this.registerDataInput(`duration_${K}`,x.o,K===C?Z.duration:void 0),b=this.registerDataInput(`value_${K}`,l);this.keyFrames.push({duration:B,value:b})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[C].value,this.easingFunction=this.registerDataInput("easingFunction",x.c),this.animation=this.registerDataOutput("animation",x.c),this.propertyName=this.registerDataInput("propertyName",x.c,null===Z||void 0===Z?void 0:Z.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",x.c)}_updateOutputs(Z){const l=Z._getGlobalContextVariable("interpolationAnimations",[]),C=this.propertyName.getValue(Z),B=this.easingFunction.getValue(Z),x=this._createAnimation(Z,C,B);if(this.animation.setValue(x,Z),Array.isArray(x))for(const b of x)l.push(b.uniqueId);else l.push(x.uniqueId);Z._setGlobalContextVariable("interpolationAnimations",l)}_createAnimation(Z,l,C){var B;const x=this.initialValue.richType,K=[],f=this.initialValue.getValue(Z)||x.defaultValue;K.push({frame:0,value:f});const W=(null===(B=this.config)||void 0===B?void 0:B.numberOfKeyFrames)??1;for(let b=1;b<W+1;b++){var J,d;const l=null===(J=this.keyFrames[b].duration)||void 0===J?void 0:J.getValue(Z);let C=null===(d=this.keyFrames[b].value)||void 0===d?void 0:d.getValue(Z);b===W-1&&(C=C||x.defaultValue),void 0!==l&&C&&K.push({frame:60*l,value:C})}const E=this.customBuildAnimation.getValue(Z);if(E)return E(null,null,Z)(K,60,x.animationType,C);if("string"===typeof l){const Z=b.b.CreateAnimation(l,x.animationType,60,C);return Z.setKeys(K),[Z]}return l.map((Z=>{const l=b.b.CreateAnimation(Z,x.animationType,60,C);return l.setKeys(K),l}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,K.c)("FlowGraphInterpolationBlock",f)}}]);