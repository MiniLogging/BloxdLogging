"use strict";(self.r00gjvkwa6=self.r00gjvkwa6||[]).push([[82],{14471:(H,O,S)=>{S.r(O),S.d(O,{FlowGraphInterpolationBlock:()=>U});var t=S(13063),q=S(13035),p=S(11831),G=S(11262);class U extends t.c{constructor(){let H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(H),this.keyFrames=[];const O="string"===typeof(null===H||void 0===H?void 0:H.animationType)?(0,q.Q)(H.animationType):(0,q.O)((null===H||void 0===H?void 0:H.animationType)??0),S=(null===H||void 0===H?void 0:H.keyFramesCount)??1,t=this.registerDataInput("duration_0",q.t,0),p=this.registerDataInput("value_0",O);this.keyFrames.push({duration:t,value:p});for(let G=1;G<S+1;G++){const t=this.registerDataInput(`duration_${G}`,q.t,G===S?H.duration:void 0),p=this.registerDataInput(`value_${G}`,O);this.keyFrames.push({duration:t,value:p})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[S].value,this.easingFunction=this.registerDataInput("easingFunction",q.e),this.animation=this.registerDataOutput("animation",q.e),this.propertyName=this.registerDataInput("propertyName",q.e,null===H||void 0===H?void 0:H.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",q.e)}_updateOutputs(H){const O=H._getGlobalContextVariable("interpolationAnimations",[]),S=this.propertyName.getValue(H),t=this.easingFunction.getValue(H),q=this._createAnimation(H,S,t);if(this.animation.setValue(q,H),Array.isArray(q))for(const p of q)O.push(p.uniqueId);else O.push(q.uniqueId);H._setGlobalContextVariable("interpolationAnimations",O)}_createAnimation(H,O,S){var t;const q=this.initialValue.richType,G=[],U=this.initialValue.getValue(H)||q.defaultValue;G.push({frame:0,value:U});const V=(null===(t=this.config)||void 0===t?void 0:t.numberOfKeyFrames)??1;for(let p=1;p<V+1;p++){var w,o;const O=null===(w=this.keyFrames[p].duration)||void 0===w?void 0:w.getValue(H);let S=null===(o=this.keyFrames[p].value)||void 0===o?void 0:o.getValue(H);p===V-1&&(S=S||q.defaultValue),void 0!==O&&S&&G.push({frame:60*O,value:S})}const h=this.customBuildAnimation.getValue(H);if(h)return h(null,null,H)(G,60,q.animationType,S);if("string"===typeof O){const H=p.d.CreateAnimation(O,q.animationType,60,S);return H.setKeys(G),[H]}return O.map((H=>{const O=p.d.CreateAnimation(H,q.animationType,60,S);return O.setKeys(G),O}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,G.g)("FlowGraphInterpolationBlock",U)}}]);