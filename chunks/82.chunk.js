"use strict";(self.mo7o6813fhb=self.mo7o6813fhb||[]).push([[82],{15343:(t,U,y)=>{y.r(U),y.d(U,{FlowGraphInterpolationBlock:()=>X});var I=y(13865),r=y(13845),Y=y(12956),mt=y(12338);class X extends I.c{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.keyFrames=[];const U="string"===typeof(null===t||void 0===t?void 0:t.animationType)?(0,r.S)(t.animationType):(0,r.Q)((null===t||void 0===t?void 0:t.animationType)??0),y=(null===t||void 0===t?void 0:t.keyFramesCount)??1,I=this.registerDataInput("duration_0",r.w,0),Y=this.registerDataInput("value_0",U);this.keyFrames.push({duration:I,value:Y});for(let mt=1;mt<y+1;mt++){const I=this.registerDataInput(`duration_${mt}`,r.w,mt===y?t.duration:void 0),Y=this.registerDataInput(`value_${mt}`,U);this.keyFrames.push({duration:I,value:Y})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[y].value,this.easingFunction=this.registerDataInput("easingFunction",r.e),this.animation=this.registerDataOutput("animation",r.e),this.propertyName=this.registerDataInput("propertyName",r.e,null===t||void 0===t?void 0:t.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",r.e)}_updateOutputs(t){const U=t._getGlobalContextVariable("interpolationAnimations",[]),y=this.propertyName.getValue(t),I=this.easingFunction.getValue(t),r=this._createAnimation(t,y,I);if(this.animation.setValue(r,t),Array.isArray(r))for(const Y of r)U.push(Y.uniqueId);else U.push(r.uniqueId);t._setGlobalContextVariable("interpolationAnimations",U)}_createAnimation(t,U,y){var I;const r=this.initialValue.richType,mt=[],X=this.initialValue.getValue(t)||r.defaultValue;mt.push({frame:0,value:X});const P=(null===(I=this.config)||void 0===I?void 0:I.numberOfKeyFrames)??1;for(let Y=1;Y<P+1;Y++){var G,M;const U=null===(G=this.keyFrames[Y].duration)||void 0===G?void 0:G.getValue(t);let y=null===(M=this.keyFrames[Y].value)||void 0===M?void 0:M.getValue(t);Y===P-1&&(y=y||r.defaultValue),void 0!==U&&y&&mt.push({frame:60*U,value:y})}const L=this.customBuildAnimation.getValue(t);if(L)return L(null,null,t)(mt,60,r.animationType,y);if("string"===typeof U){const t=Y.e.CreateAnimation(U,r.animationType,60,y);return t.setKeys(mt),[t]}return U.map((t=>{const U=Y.e.CreateAnimation(t,r.animationType,60,y);return U.setKeys(mt),U}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,mt.f)("FlowGraphInterpolationBlock",X)}}]);