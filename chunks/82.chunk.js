"use strict";(self.zcqpiao938m=self.zcqpiao938m||[]).push([[82],{14958:(C,U,K)=>{K.r(U),K.d(U,{FlowGraphInterpolationBlock:()=>e});var m=K(13539),O=K(13514),X=K(12357),A=K(11789);class e extends m.e{constructor(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(C),this.keyFrames=[];const U="string"===typeof(null===C||void 0===C?void 0:C.animationType)?(0,O.M)(C.animationType):(0,O.K)((null===C||void 0===C?void 0:C.animationType)??0),K=(null===C||void 0===C?void 0:C.keyFramesCount)??1,m=this.registerDataInput("duration_0",O.w,0),X=this.registerDataInput("value_0",U);this.keyFrames.push({duration:m,value:X});for(let A=1;A<K+1;A++){const m=this.registerDataInput(`duration_${A}`,O.w,A===K?C.duration:void 0),X=this.registerDataInput(`value_${A}`,U);this.keyFrames.push({duration:m,value:X})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[K].value,this.easingFunction=this.registerDataInput("easingFunction",O.c),this.animation=this.registerDataOutput("animation",O.c),this.propertyName=this.registerDataInput("propertyName",O.c,null===C||void 0===C?void 0:C.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",O.c)}_updateOutputs(C){const U=C._getGlobalContextVariable("interpolationAnimations",[]),K=this.propertyName.getValue(C),m=this.easingFunction.getValue(C),O=this._createAnimation(C,K,m);if(this.animation.setValue(O,C),Array.isArray(O))for(const X of O)U.push(X.uniqueId);else U.push(O.uniqueId);C._setGlobalContextVariable("interpolationAnimations",U)}_createAnimation(C,U,K){var m;const O=this.initialValue.richType,A=[],e=this.initialValue.getValue(C)||O.defaultValue;A.push({frame:0,value:e});const t=(null===(m=this.config)||void 0===m?void 0:m.numberOfKeyFrames)??1;for(let X=1;X<t+1;X++){var z,j;const U=null===(z=this.keyFrames[X].duration)||void 0===z?void 0:z.getValue(C);let K=null===(j=this.keyFrames[X].value)||void 0===j?void 0:j.getValue(C);X===t-1&&(K=K||O.defaultValue),void 0!==U&&K&&A.push({frame:60*U,value:K})}const p=this.customBuildAnimation.getValue(C);if(p)return p(null,null,C)(A,60,O.animationType,K);if("string"===typeof U){const C=X.c.CreateAnimation(U,O.animationType,60,K);return C.setKeys(A),[C]}return U.map((C=>{const U=X.c.CreateAnimation(C,O.animationType,60,K);return U.setKeys(A),U}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,A.h)("FlowGraphInterpolationBlock",e)}}]);