"use strict";(self["80dd64vgxnn"]=self["80dd64vgxnn"]||[]).push([[82],{15767:(mm,o,u)=>{u.r(o),u.d(o,{FlowGraphInterpolationBlock:()=>w});var f=u(14280),B=u(14257),O=u(13233),r=u(12702);class w extends f.e{constructor(){let mm=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(mm),this.keyFrames=[];const o="string"===typeof(null===mm||void 0===mm?void 0:mm.animationType)?(0,B.O)(mm.animationType):(0,B.K)((null===mm||void 0===mm?void 0:mm.animationType)??0),u=(null===mm||void 0===mm?void 0:mm.keyFramesCount)??1,f=this.registerDataInput("duration_0",B.r,0),O=this.registerDataInput("value_0",o);this.keyFrames.push({duration:f,value:O});for(let r=1;r<u+1;r++){const f=this.registerDataInput(`duration_${r}`,B.r,r===u?mm.duration:void 0),O=this.registerDataInput(`value_${r}`,o);this.keyFrames.push({duration:f,value:O})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[u].value,this.easingFunction=this.registerDataInput("easingFunction",B.b),this.animation=this.registerDataOutput("animation",B.b),this.propertyName=this.registerDataInput("propertyName",B.b,null===mm||void 0===mm?void 0:mm.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",B.b)}_updateOutputs(mm){const o=mm._getGlobalContextVariable("interpolationAnimations",[]),u=this.propertyName.getValue(mm),f=this.easingFunction.getValue(mm),B=this._createAnimation(mm,u,f);if(this.animation.setValue(B,mm),Array.isArray(B))for(const O of B)o.push(O.uniqueId);else o.push(B.uniqueId);mm._setGlobalContextVariable("interpolationAnimations",o)}_createAnimation(mm,o,u){var f;const B=this.initialValue.richType,r=[],w=this.initialValue.getValue(mm)||B.defaultValue;r.push({frame:0,value:w});const p=(null===(f=this.config)||void 0===f?void 0:f.numberOfKeyFrames)??1;for(let O=1;O<p+1;O++){var K,z;const o=null===(K=this.keyFrames[O].duration)||void 0===K?void 0:K.getValue(mm);let u=null===(z=this.keyFrames[O].value)||void 0===z?void 0:z.getValue(mm);O===p-1&&(u=u||B.defaultValue),void 0!==o&&u&&r.push({frame:60*o,value:u})}const Y=this.customBuildAnimation.getValue(mm);if(Y)return Y(null,null,mm)(r,60,B.animationType,u);if("string"===typeof o){const mm=O.d.CreateAnimation(o,B.animationType,60,u);return mm.setKeys(r),[mm]}return o.map((mm=>{const o=O.d.CreateAnimation(mm,B.animationType,60,u);return o.setKeys(r),o}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,r.c)("FlowGraphInterpolationBlock",w)}}]);