"use strict";(self.ynu1yiqvs98=self.ynu1yiqvs98||[]).push([[82],{14307:(I,E,j)=>{j.r(E),j.d(E,{FlowGraphInterpolationBlock:()=>t});var e=j(12834),w=j(12819),z=j(11637),h=j(11073);class t extends e.e{constructor(){let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(I),this.keyFrames=[];const E="string"===typeof(null===I||void 0===I?void 0:I.animationType)?(0,w.N)(I.animationType):(0,w.L)((null===I||void 0===I?void 0:I.animationType)??0),j=(null===I||void 0===I?void 0:I.keyFramesCount)??1,e=this.registerDataInput("duration_0",w.t,0),z=this.registerDataInput("value_0",E);this.keyFrames.push({duration:e,value:z});for(let h=1;h<j+1;h++){const e=this.registerDataInput(`duration_${h}`,w.t,h===j?I.duration:void 0),z=this.registerDataInput(`value_${h}`,E);this.keyFrames.push({duration:e,value:z})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[j].value,this.easingFunction=this.registerDataInput("easingFunction",w.e),this.animation=this.registerDataOutput("animation",w.e),this.propertyName=this.registerDataInput("propertyName",w.e,null===I||void 0===I?void 0:I.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",w.e)}_updateOutputs(I){const E=I._getGlobalContextVariable("interpolationAnimations",[]),j=this.propertyName.getValue(I),e=this.easingFunction.getValue(I),w=this._createAnimation(I,j,e);if(this.animation.setValue(w,I),Array.isArray(w))for(const z of w)E.push(z.uniqueId);else E.push(w.uniqueId);I._setGlobalContextVariable("interpolationAnimations",E)}_createAnimation(I,E,j){var e;const w=this.initialValue.richType,h=[],t=this.initialValue.getValue(I)||w.defaultValue;h.push({frame:0,value:t});const U=(null===(e=this.config)||void 0===e?void 0:e.numberOfKeyFrames)??1;for(let z=1;z<U+1;z++){var R,P;const E=null===(R=this.keyFrames[z].duration)||void 0===R?void 0:R.getValue(I);let j=null===(P=this.keyFrames[z].value)||void 0===P?void 0:P.getValue(I);z===U-1&&(j=j||w.defaultValue),void 0!==E&&j&&h.push({frame:60*E,value:j})}const o=this.customBuildAnimation.getValue(I);if(o)return o(null,null,I)(h,60,w.animationType,j);if("string"===typeof E){const I=z.c.CreateAnimation(E,w.animationType,60,j);return I.setKeys(h),[I]}return E.map((I=>{const E=z.c.CreateAnimation(I,w.animationType,60,j);return E.setKeys(h),E}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,h.h)("FlowGraphInterpolationBlock",t)}}]);