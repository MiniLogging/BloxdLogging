"use strict";(self.vfdo5lmva5i=self.vfdo5lmva5i||[]).push([[82],{15e3:(w,o,H)=>{H.r(o),H.d(o,{FlowGraphInterpolationBlock:()=>t});var h=H(13475),E=H(13455),e=H(12247),D=H(11666);class t extends h.c{constructor(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(w),this.keyFrames=[];const o="string"===typeof(null===w||void 0===w?void 0:w.animationType)?(0,E.F)(w.animationType):(0,E.E)((null===w||void 0===w?void 0:w.animationType)??0),H=(null===w||void 0===w?void 0:w.keyFramesCount)??1,h=this.registerDataInput("duration_0",E.p,0),e=this.registerDataInput("value_0",o);this.keyFrames.push({duration:h,value:e});for(let D=1;D<H+1;D++){const h=this.registerDataInput(`duration_${D}`,E.p,D===H?w.duration:void 0),e=this.registerDataInput(`value_${D}`,o);this.keyFrames.push({duration:h,value:e})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[H].value,this.easingFunction=this.registerDataInput("easingFunction",E.e),this.animation=this.registerDataOutput("animation",E.e),this.propertyName=this.registerDataInput("propertyName",E.e,null===w||void 0===w?void 0:w.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",E.e)}_updateOutputs(w){const o=w._getGlobalContextVariable("interpolationAnimations",[]),H=this.propertyName.getValue(w),h=this.easingFunction.getValue(w),E=this._createAnimation(w,H,h);if(this.animation.setValue(E,w),Array.isArray(E))for(const e of E)o.push(e.uniqueId);else o.push(E.uniqueId);w._setGlobalContextVariable("interpolationAnimations",o)}_createAnimation(w,o,H){var h;const E=this.initialValue.richType,D=[],t=this.initialValue.getValue(w)||E.defaultValue;D.push({frame:0,value:t});const X=(null===(h=this.config)||void 0===h?void 0:h.numberOfKeyFrames)??1;for(let e=1;e<X+1;e++){var L,A;const o=null===(L=this.keyFrames[e].duration)||void 0===L?void 0:L.getValue(w);let H=null===(A=this.keyFrames[e].value)||void 0===A?void 0:A.getValue(w);e===X-1&&(H=H||E.defaultValue),void 0!==o&&H&&D.push({frame:60*o,value:H})}const y=this.customBuildAnimation.getValue(w);if(y)return y(null,null,w)(D,60,E.animationType,H);if("string"===typeof o){const w=e.b.CreateAnimation(o,E.animationType,60,H);return w.setKeys(D),[w]}return o.map((w=>{const o=e.b.CreateAnimation(w,E.animationType,60,H);return o.setKeys(D),o}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,D.g)("FlowGraphInterpolationBlock",t)}}]);