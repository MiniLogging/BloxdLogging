"use strict";(self.rsqbdnwe5e=self.rsqbdnwe5e||[]).push([[82],{15502:(N,p,T)=>{T.r(p),T.d(p,{FlowGraphInterpolationBlock:()=>X});var A=T(14108),a=T(14082),C=T(12912),U=T(12331);class X extends A.c{constructor(){let N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(N),this.keyFrames=[];const p="string"===typeof(null===N||void 0===N?void 0:N.animationType)?(0,a.K)(N.animationType):(0,a.J)((null===N||void 0===N?void 0:N.animationType)??0),T=(null===N||void 0===N?void 0:N.keyFramesCount)??1,A=this.registerDataInput("duration_0",a.r,0),C=this.registerDataInput("value_0",p);this.keyFrames.push({duration:A,value:C});for(let U=1;U<T+1;U++){const A=this.registerDataInput(`duration_${U}`,a.r,U===T?N.duration:void 0),C=this.registerDataInput(`value_${U}`,p);this.keyFrames.push({duration:A,value:C})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[T].value,this.easingFunction=this.registerDataInput("easingFunction",a.d),this.animation=this.registerDataOutput("animation",a.d),this.propertyName=this.registerDataInput("propertyName",a.d,null===N||void 0===N?void 0:N.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",a.d)}_updateOutputs(N){const p=N._getGlobalContextVariable("interpolationAnimations",[]),T=this.propertyName.getValue(N),A=this.easingFunction.getValue(N),a=this._createAnimation(N,T,A);if(this.animation.setValue(a,N),Array.isArray(a))for(const C of a)p.push(C.uniqueId);else p.push(a.uniqueId);N._setGlobalContextVariable("interpolationAnimations",p)}_createAnimation(N,p,T){var A;const a=this.initialValue.richType,U=[],X=this.initialValue.getValue(N)||a.defaultValue;U.push({frame:0,value:X});const y=(null===(A=this.config)||void 0===A?void 0:A.numberOfKeyFrames)??1;for(let C=1;C<y+1;C++){var e,H;const p=null===(e=this.keyFrames[C].duration)||void 0===e?void 0:e.getValue(N);let T=null===(H=this.keyFrames[C].value)||void 0===H?void 0:H.getValue(N);C===y-1&&(T=T||a.defaultValue),void 0!==p&&T&&U.push({frame:60*p,value:T})}const M=this.customBuildAnimation.getValue(N);if(M)return M(null,null,N)(U,60,a.animationType,T);if("string"===typeof p){const N=C.b.CreateAnimation(p,a.animationType,60,T);return N.setKeys(U),[N]}return p.map((N=>{const p=C.b.CreateAnimation(N,a.animationType,60,T);return p.setKeys(U),p}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,U.d)("FlowGraphInterpolationBlock",X)}}]);