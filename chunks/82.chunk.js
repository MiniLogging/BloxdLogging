"use strict";(self["1kjc9ee3uyt"]=self["1kjc9ee3uyt"]||[]).push([[82],{14729:(w,E,G)=>{G.r(E),G.d(E,{FlowGraphInterpolationBlock:()=>x});var P=G(13298),h=G(13281),B=G(12181),y=G(11646);class x extends P.d{constructor(){let w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(w),this.keyFrames=[];const E="string"===typeof(null===w||void 0===w?void 0:w.animationType)?(0,h.K)(w.animationType):(0,h.I)((null===w||void 0===w?void 0:w.animationType)??0),G=(null===w||void 0===w?void 0:w.keyFramesCount)??1,P=this.registerDataInput("duration_0",h.r,0),B=this.registerDataInput("value_0",E);this.keyFrames.push({duration:P,value:B});for(let y=1;y<G+1;y++){const P=this.registerDataInput(`duration_${y}`,h.r,y===G?w.duration:void 0),B=this.registerDataInput(`value_${y}`,E);this.keyFrames.push({duration:P,value:B})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[G].value,this.easingFunction=this.registerDataInput("easingFunction",h.c),this.animation=this.registerDataOutput("animation",h.c),this.propertyName=this.registerDataInput("propertyName",h.c,null===w||void 0===w?void 0:w.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",h.c)}_updateOutputs(w){const E=w._getGlobalContextVariable("interpolationAnimations",[]),G=this.propertyName.getValue(w),P=this.easingFunction.getValue(w),h=this._createAnimation(w,G,P);if(this.animation.setValue(h,w),Array.isArray(h))for(const B of h)E.push(B.uniqueId);else E.push(h.uniqueId);w._setGlobalContextVariable("interpolationAnimations",E)}_createAnimation(w,E,G){var P;const h=this.initialValue.richType,y=[],x=this.initialValue.getValue(w)||h.defaultValue;y.push({frame:0,value:x});const U=(null===(P=this.config)||void 0===P?void 0:P.numberOfKeyFrames)??1;for(let B=1;B<U+1;B++){var l,i;const E=null===(l=this.keyFrames[B].duration)||void 0===l?void 0:l.getValue(w);let G=null===(i=this.keyFrames[B].value)||void 0===i?void 0:i.getValue(w);B===U-1&&(G=G||h.defaultValue),void 0!==E&&G&&y.push({frame:60*E,value:G})}const O=this.customBuildAnimation.getValue(w);if(O)return O(null,null,w)(y,60,h.animationType,G);if("string"===typeof E){const w=B.e.CreateAnimation(E,h.animationType,60,G);return w.setKeys(y),[w]}return E.map((w=>{const E=B.e.CreateAnimation(w,h.animationType,60,G);return E.setKeys(y),E}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,y.g)("FlowGraphInterpolationBlock",x)}}]);