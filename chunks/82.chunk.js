"use strict";(self.g111kvdsqxc=self.g111kvdsqxc||[]).push([[82],{14447:(K,H,M)=>{M.r(H),M.d(H,{FlowGraphInterpolationBlock:()=>h});var q=M(13021),w=M(13004),u=M(11811),y=M(11242);class h extends q.b{constructor(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(K),this.keyFrames=[];const H="string"===typeof(null===K||void 0===K?void 0:K.animationType)?(0,w.L)(K.animationType):(0,w.K)((null===K||void 0===K?void 0:K.animationType)??0),M=(null===K||void 0===K?void 0:K.keyFramesCount)??1,q=this.registerDataInput("duration_0",w.x,0),u=this.registerDataInput("value_0",H);this.keyFrames.push({duration:q,value:u});for(let y=1;y<M+1;y++){const q=this.registerDataInput(`duration_${y}`,w.x,y===M?K.duration:void 0),u=this.registerDataInput(`value_${y}`,H);this.keyFrames.push({duration:q,value:u})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[M].value,this.easingFunction=this.registerDataInput("easingFunction",w.d),this.animation=this.registerDataOutput("animation",w.d),this.propertyName=this.registerDataInput("propertyName",w.d,null===K||void 0===K?void 0:K.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",w.d)}_updateOutputs(K){const H=K._getGlobalContextVariable("interpolationAnimations",[]),M=this.propertyName.getValue(K),q=this.easingFunction.getValue(K),w=this._createAnimation(K,M,q);if(this.animation.setValue(w,K),Array.isArray(w))for(const u of w)H.push(u.uniqueId);else H.push(w.uniqueId);K._setGlobalContextVariable("interpolationAnimations",H)}_createAnimation(K,H,M){var q;const w=this.initialValue.richType,y=[],h=this.initialValue.getValue(K)||w.defaultValue;y.push({frame:0,value:h});const W=(null===(q=this.config)||void 0===q?void 0:q.numberOfKeyFrames)??1;for(let u=1;u<W+1;u++){var I,f;const H=null===(I=this.keyFrames[u].duration)||void 0===I?void 0:I.getValue(K);let M=null===(f=this.keyFrames[u].value)||void 0===f?void 0:f.getValue(K);u===W-1&&(M=M||w.defaultValue),void 0!==H&&M&&y.push({frame:60*H,value:M})}const z=this.customBuildAnimation.getValue(K);if(z)return z(null,null,K)(y,60,w.animationType,M);if("string"===typeof H){const K=u.d.CreateAnimation(H,w.animationType,60,M);return K.setKeys(y),[K]}return H.map((K=>{const H=u.d.CreateAnimation(K,w.animationType,60,M);return H.setKeys(y),H}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,y.f)("FlowGraphInterpolationBlock",h)}}]);