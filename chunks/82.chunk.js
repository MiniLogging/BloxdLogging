"use strict";(self["5dou0t7wntc"]=self["5dou0t7wntc"]||[]).push([[82],{14920:(K,O,F)=>{F.r(O),F.d(O,{FlowGraphInterpolationBlock:()=>J});var f=F(13471),r=F(13441),l=F(12266),q=F(11661);class J extends f.e{constructor(){let K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(K),this.keyFrames=[];const O="string"===typeof(null===K||void 0===K?void 0:K.animationType)?(0,r.J)(K.animationType):(0,r.H)((null===K||void 0===K?void 0:K.animationType)??0),F=(null===K||void 0===K?void 0:K.keyFramesCount)??1,f=this.registerDataInput("duration_0",r.s,0),l=this.registerDataInput("value_0",O);this.keyFrames.push({duration:f,value:l});for(let q=1;q<F+1;q++){const f=this.registerDataInput(`duration_${q}`,r.s,q===F?K.duration:void 0),l=this.registerDataInput(`value_${q}`,O);this.keyFrames.push({duration:f,value:l})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[F].value,this.easingFunction=this.registerDataInput("easingFunction",r.d),this.animation=this.registerDataOutput("animation",r.d),this.propertyName=this.registerDataInput("propertyName",r.d,null===K||void 0===K?void 0:K.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",r.d)}_updateOutputs(K){const O=K._getGlobalContextVariable("interpolationAnimations",[]),F=this.propertyName.getValue(K),f=this.easingFunction.getValue(K),r=this._createAnimation(K,F,f);if(this.animation.setValue(r,K),Array.isArray(r))for(const l of r)O.push(l.uniqueId);else O.push(r.uniqueId);K._setGlobalContextVariable("interpolationAnimations",O)}_createAnimation(K,O,F){var f;const r=this.initialValue.richType,q=[],J=this.initialValue.getValue(K)||r.defaultValue;q.push({frame:0,value:J});const c=(null===(f=this.config)||void 0===f?void 0:f.numberOfKeyFrames)??1;for(let l=1;l<c+1;l++){var E,M;const O=null===(E=this.keyFrames[l].duration)||void 0===E?void 0:E.getValue(K);let F=null===(M=this.keyFrames[l].value)||void 0===M?void 0:M.getValue(K);l===c-1&&(F=F||r.defaultValue),void 0!==O&&F&&q.push({frame:60*O,value:F})}const t=this.customBuildAnimation.getValue(K);if(t)return t(null,null,K)(q,60,r.animationType,F);if("string"===typeof O){const K=l.d.CreateAnimation(O,r.animationType,60,F);return K.setKeys(q),[K]}return O.map((K=>{const O=l.d.CreateAnimation(K,r.animationType,60,F);return O.setKeys(q),O}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,q.g)("FlowGraphInterpolationBlock",J)}}]);