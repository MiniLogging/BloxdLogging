"use strict";(self.zjjkhojdx1=self.zjjkhojdx1||[]).push([[82],{14378:(k,h,o)=>{o.r(h),o.d(h,{FlowGraphInterpolationBlock:()=>J});var x=o(12961),I=o(12936),q=o(11783),Y=o(11199);class J extends x.b{constructor(){let k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(k),this.keyFrames=[];const h="string"===typeof(null===k||void 0===k?void 0:k.animationType)?(0,I.D)(k.animationType):(0,I.z)((null===k||void 0===k?void 0:k.animationType)??0),o=(null===k||void 0===k?void 0:k.keyFramesCount)??1,x=this.registerDataInput("duration_0",I.o,0),q=this.registerDataInput("value_0",h);this.keyFrames.push({duration:x,value:q});for(let Y=1;Y<o+1;Y++){const x=this.registerDataInput(`duration_${Y}`,I.o,Y===o?k.duration:void 0),q=this.registerDataInput(`value_${Y}`,h);this.keyFrames.push({duration:x,value:q})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[o].value,this.easingFunction=this.registerDataInput("easingFunction",I.d),this.animation=this.registerDataOutput("animation",I.d),this.propertyName=this.registerDataInput("propertyName",I.d,null===k||void 0===k?void 0:k.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",I.d)}_updateOutputs(k){const h=k._getGlobalContextVariable("interpolationAnimations",[]),o=this.propertyName.getValue(k),x=this.easingFunction.getValue(k),I=this._createAnimation(k,o,x);if(this.animation.setValue(I,k),Array.isArray(I))for(const q of I)h.push(q.uniqueId);else h.push(I.uniqueId);k._setGlobalContextVariable("interpolationAnimations",h)}_createAnimation(k,h,o){var x;const I=this.initialValue.richType,Y=[],J=this.initialValue.getValue(k)||I.defaultValue;Y.push({frame:0,value:J});const G=(null===(x=this.config)||void 0===x?void 0:x.numberOfKeyFrames)??1;for(let q=1;q<G+1;q++){var l,A;const h=null===(l=this.keyFrames[q].duration)||void 0===l?void 0:l.getValue(k);let o=null===(A=this.keyFrames[q].value)||void 0===A?void 0:A.getValue(k);q===G-1&&(o=o||I.defaultValue),void 0!==h&&o&&Y.push({frame:60*h,value:o})}const K=this.customBuildAnimation.getValue(k);if(K)return K(null,null,k)(Y,60,I.animationType,o);if("string"===typeof h){const k=q.c.CreateAnimation(h,I.animationType,60,o);return k.setKeys(Y),[k]}return h.map((k=>{const h=q.c.CreateAnimation(k,I.animationType,60,o);return h.setKeys(Y),h}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,Y.g)("FlowGraphInterpolationBlock",J)}}]);