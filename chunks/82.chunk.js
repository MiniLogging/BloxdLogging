"use strict";(self["9jl1vn4ei5r"]=self["9jl1vn4ei5r"]||[]).push([[82],{14943:(M,p,b)=>{b.r(p),b.d(p,{FlowGraphInterpolationBlock:()=>u});var Q=b(13492),q=b(13477),B=b(12342),k=b(11757);class u extends Q.b{constructor(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(M),this.keyFrames=[];const p="string"===typeof(null===M||void 0===M?void 0:M.animationType)?(0,q.P)(M.animationType):(0,q.M)((null===M||void 0===M?void 0:M.animationType)??0),b=(null===M||void 0===M?void 0:M.keyFramesCount)??1,Q=this.registerDataInput("duration_0",q.q,0),B=this.registerDataInput("value_0",p);this.keyFrames.push({duration:Q,value:B});for(let k=1;k<b+1;k++){const Q=this.registerDataInput(`duration_${k}`,q.q,k===b?M.duration:void 0),B=this.registerDataInput(`value_${k}`,p);this.keyFrames.push({duration:Q,value:B})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[b].value,this.easingFunction=this.registerDataInput("easingFunction",q.c),this.animation=this.registerDataOutput("animation",q.c),this.propertyName=this.registerDataInput("propertyName",q.c,null===M||void 0===M?void 0:M.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",q.c)}_updateOutputs(M){const p=M._getGlobalContextVariable("interpolationAnimations",[]),b=this.propertyName.getValue(M),Q=this.easingFunction.getValue(M),q=this._createAnimation(M,b,Q);if(this.animation.setValue(q,M),Array.isArray(q))for(const B of q)p.push(B.uniqueId);else p.push(q.uniqueId);M._setGlobalContextVariable("interpolationAnimations",p)}_createAnimation(M,p,b){var Q;const q=this.initialValue.richType,k=[],u=this.initialValue.getValue(M)||q.defaultValue;k.push({frame:0,value:u});const T=(null===(Q=this.config)||void 0===Q?void 0:Q.numberOfKeyFrames)??1;for(let B=1;B<T+1;B++){var O,H;const p=null===(O=this.keyFrames[B].duration)||void 0===O?void 0:O.getValue(M);let b=null===(H=this.keyFrames[B].value)||void 0===H?void 0:H.getValue(M);B===T-1&&(b=b||q.defaultValue),void 0!==p&&b&&k.push({frame:60*p,value:b})}const F=this.customBuildAnimation.getValue(M);if(F)return F(null,null,M)(k,60,q.animationType,b);if("string"===typeof p){const M=B.c.CreateAnimation(p,q.animationType,60,b);return M.setKeys(k),[M]}return p.map((M=>{const p=B.c.CreateAnimation(M,q.animationType,60,b);return p.setKeys(k),p}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,k.g)("FlowGraphInterpolationBlock",u)}}]);