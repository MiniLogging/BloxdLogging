"use strict";(self["2fwzcez286e"]=self["2fwzcez286e"]||[]).push([[82],{16200:(B,u,F)=>{F.r(u),F.d(u,{FlowGraphInterpolationBlock:()=>R});var Z=F(14720),V=F(14701),p=F(13488),G=F(12949);class R extends Z.e{constructor(){let B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(B),this.keyFrames=[];const u="string"===typeof(null===B||void 0===B?void 0:B.animationType)?(0,V.M)(B.animationType):(0,V.L)((null===B||void 0===B?void 0:B.animationType)??0),F=(null===B||void 0===B?void 0:B.keyFramesCount)??1,Z=this.registerDataInput("duration_0",V.u,0),p=this.registerDataInput("value_0",u);this.keyFrames.push({duration:Z,value:p});for(let G=1;G<F+1;G++){const Z=this.registerDataInput(`duration_${G}`,V.u,G===F?B.duration:void 0),p=this.registerDataInput(`value_${G}`,u);this.keyFrames.push({duration:Z,value:p})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[F].value,this.easingFunction=this.registerDataInput("easingFunction",V.c),this.animation=this.registerDataOutput("animation",V.c),this.propertyName=this.registerDataInput("propertyName",V.c,null===B||void 0===B?void 0:B.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",V.c)}_updateOutputs(B){const u=B._getGlobalContextVariable("interpolationAnimations",[]),F=this.propertyName.getValue(B),Z=this.easingFunction.getValue(B),V=this._createAnimation(B,F,Z);if(this.animation.setValue(V,B),Array.isArray(V))for(const p of V)u.push(p.uniqueId);else u.push(V.uniqueId);B._setGlobalContextVariable("interpolationAnimations",u)}_createAnimation(B,u,F){var Z;const V=this.initialValue.richType,G=[],R=this.initialValue.getValue(B)||V.defaultValue;G.push({frame:0,value:R});const e=(null===(Z=this.config)||void 0===Z?void 0:Z.numberOfKeyFrames)??1;for(let p=1;p<e+1;p++){var s,Y;const u=null===(s=this.keyFrames[p].duration)||void 0===s?void 0:s.getValue(B);let F=null===(Y=this.keyFrames[p].value)||void 0===Y?void 0:Y.getValue(B);p===e-1&&(F=F||V.defaultValue),void 0!==u&&F&&G.push({frame:60*u,value:F})}const Q=this.customBuildAnimation.getValue(B);if(Q)return Q(null,null,B)(G,60,V.animationType,F);if("string"===typeof u){const B=p.e.CreateAnimation(u,V.animationType,60,F);return B.setKeys(G),[B]}return u.map((B=>{const u=p.e.CreateAnimation(B,V.animationType,60,F);return u.setKeys(G),u}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,G.f)("FlowGraphInterpolationBlock",R)}}]);