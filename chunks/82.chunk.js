"use strict";(self.uji65st81d=self.uji65st81d||[]).push([[82],{15559:(V,h,mV)=>{mV.r(h),mV.d(h,{FlowGraphInterpolationBlock:()=>k});var t=mV(14123),L=mV(14109),N=mV(12918),A=mV(12388);class k extends t.e{constructor(){let V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(V),this.keyFrames=[];const h="string"===typeof(null===V||void 0===V?void 0:V.animationType)?(0,L.I)(V.animationType):(0,L.F)((null===V||void 0===V?void 0:V.animationType)??0),mV=(null===V||void 0===V?void 0:V.keyFramesCount)??1,t=this.registerDataInput("duration_0",L.r,0),N=this.registerDataInput("value_0",h);this.keyFrames.push({duration:t,value:N});for(let A=1;A<mV+1;A++){const t=this.registerDataInput(`duration_${A}`,L.r,A===mV?V.duration:void 0),N=this.registerDataInput(`value_${A}`,h);this.keyFrames.push({duration:t,value:N})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[mV].value,this.easingFunction=this.registerDataInput("easingFunction",L.e),this.animation=this.registerDataOutput("animation",L.e),this.propertyName=this.registerDataInput("propertyName",L.e,null===V||void 0===V?void 0:V.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",L.e)}_updateOutputs(V){const h=V._getGlobalContextVariable("interpolationAnimations",[]),mV=this.propertyName.getValue(V),t=this.easingFunction.getValue(V),L=this._createAnimation(V,mV,t);if(this.animation.setValue(L,V),Array.isArray(L))for(const N of L)h.push(N.uniqueId);else h.push(L.uniqueId);V._setGlobalContextVariable("interpolationAnimations",h)}_createAnimation(V,h,mV){var t;const L=this.initialValue.richType,A=[],k=this.initialValue.getValue(V)||L.defaultValue;A.push({frame:0,value:k});const C=(null===(t=this.config)||void 0===t?void 0:t.numberOfKeyFrames)??1;for(let N=1;N<C+1;N++){var K,o;const h=null===(K=this.keyFrames[N].duration)||void 0===K?void 0:K.getValue(V);let mV=null===(o=this.keyFrames[N].value)||void 0===o?void 0:o.getValue(V);N===C-1&&(mV=mV||L.defaultValue),void 0!==h&&mV&&A.push({frame:60*h,value:mV})}const n=this.customBuildAnimation.getValue(V);if(n)return n(null,null,V)(A,60,L.animationType,mV);if("string"===typeof h){const V=N.d.CreateAnimation(h,L.animationType,60,mV);return V.setKeys(A),[V]}return h.map((V=>{const h=N.d.CreateAnimation(V,L.animationType,60,mV);return h.setKeys(A),h}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,A.i)("FlowGraphInterpolationBlock",k)}}]);