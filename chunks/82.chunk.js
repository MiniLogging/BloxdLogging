"use strict";(self["3b8bnhi4gzj"]=self["3b8bnhi4gzj"]||[]).push([[82],{14961:(Z,h,V)=>{V.r(h),V.d(h,{FlowGraphInterpolationBlock:()=>d});var v=V(13480),A=V(13459),H=V(12268),K=V(11691);class d extends v.d{constructor(){let Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(Z),this.keyFrames=[];const h="string"===typeof(null===Z||void 0===Z?void 0:Z.animationType)?(0,A.S)(Z.animationType):(0,A.R)((null===Z||void 0===Z?void 0:Z.animationType)??0),V=(null===Z||void 0===Z?void 0:Z.keyFramesCount)??1,v=this.registerDataInput("duration_0",A.t,0),H=this.registerDataInput("value_0",h);this.keyFrames.push({duration:v,value:H});for(let K=1;K<V+1;K++){const v=this.registerDataInput(`duration_${K}`,A.t,K===V?Z.duration:void 0),H=this.registerDataInput(`value_${K}`,h);this.keyFrames.push({duration:v,value:H})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[V].value,this.easingFunction=this.registerDataInput("easingFunction",A.c),this.animation=this.registerDataOutput("animation",A.c),this.propertyName=this.registerDataInput("propertyName",A.c,null===Z||void 0===Z?void 0:Z.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",A.c)}_updateOutputs(Z){const h=Z._getGlobalContextVariable("interpolationAnimations",[]),V=this.propertyName.getValue(Z),v=this.easingFunction.getValue(Z),A=this._createAnimation(Z,V,v);if(this.animation.setValue(A,Z),Array.isArray(A))for(const H of A)h.push(H.uniqueId);else h.push(A.uniqueId);Z._setGlobalContextVariable("interpolationAnimations",h)}_createAnimation(Z,h,V){var v;const A=this.initialValue.richType,K=[],d=this.initialValue.getValue(Z)||A.defaultValue;K.push({frame:0,value:d});const a=(null===(v=this.config)||void 0===v?void 0:v.numberOfKeyFrames)??1;for(let H=1;H<a+1;H++){var n,x;const h=null===(n=this.keyFrames[H].duration)||void 0===n?void 0:n.getValue(Z);let V=null===(x=this.keyFrames[H].value)||void 0===x?void 0:x.getValue(Z);H===a-1&&(V=V||A.defaultValue),void 0!==h&&V&&K.push({frame:60*h,value:V})}const N=this.customBuildAnimation.getValue(Z);if(N)return N(null,null,Z)(K,60,A.animationType,V);if("string"===typeof h){const Z=H.c.CreateAnimation(h,A.animationType,60,V);return Z.setKeys(K),[Z]}return h.map((Z=>{const h=H.c.CreateAnimation(Z,A.animationType,60,V);return h.setKeys(K),h}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,K.i)("FlowGraphInterpolationBlock",d)}}]);