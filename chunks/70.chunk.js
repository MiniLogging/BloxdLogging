"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[70],{14282:(s,Z,o)=>{o.r(Z),o.d(Z,{FlowGraphDeterminantBlock:()=>B,FlowGraphInvertMatrixBlock:()=>Q,FlowGraphMatrixComposeBlock:()=>Y,FlowGraphMatrixDecomposeBlock:()=>z,FlowGraphMatrixMultiplicationBlock:()=>D,FlowGraphTransposeBlock:()=>G});var t=o(12802),j=o(12775),S=o(10900),a=o(10916),O=o(14273),v=o(14265);class G extends O.b{constructor(s){super((0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(s=>s.transpose?s.transpose():S.b.Transpose(s)),"FlowGraphTransposeBlock",s)}}(0,a.f)("FlowGraphTransposeBlock",G);class B extends O.b{constructor(s){super((0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),j.w,(s=>s.determinant()),"FlowGraphDeterminantBlock",s)}}(0,a.f)("FlowGraphDeterminantBlock",B);class Q extends O.b{constructor(s){super((0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(s=>s.inverse?s.inverse():S.b.Invert(s)),"FlowGraphInvertMatrixBlock",s)}}(0,a.f)("FlowGraphInvertMatrixBlock",Q);class D extends v.e{constructor(s){super((0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),(0,j.U)((null===s||void 0===s?void 0:s.matrixType)||"Matrix"),((s,Z)=>Z.multiply(s)),"FlowGraphMatrixMultiplicationBlock",s)}}(0,a.f)("FlowGraphMatrixMultiplicationBlock",D);class z extends t.e{constructor(s){super(s),this.input=this.registerDataInput("input",j.n),this.position=this.registerDataOutput("position",j.H),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",j.x),this.ZO=this.registerDataOutput("ZO",j.H),this.isValid=this.registerDataOutput("isValid",j.g,!1)}_updateOutputs(s){const Z=s._getExecutionVariable(this,"executionId",-1),o=s._getExecutionVariable(this,"cachedPosition",null),t=s._getExecutionVariable(this,"cachedRotation",null),j=s._getExecutionVariable(this,"cachedScaling",null);if(Z===s.executionId&&o&&t&&j)this.position.setValue(o,s),this.rotationQuaternion.setValue(t,s),this.ZO.setValue(j,s);else{const Z=this.input.getValue(s),a=o||new S.n,O=t||new S.e,v=j||new S.n,G=Math.round(1e4*Z.m[3])/1e4,B=Math.round(1e4*Z.m[7])/1e4,Q=Math.round(1e4*Z.m[11])/1e4,D=Math.round(1e4*Z.m[15])/1e4;if(0!==G||0!==B||0!==Q||1!==D)return this.isValid.setValue(!1,s),this.position.setValue(S.n.Zero(),s),this.rotationQuaternion.setValue(S.e.Identity(),s),void this.ZO.setValue(S.n.One(),s);const z=Z.decompose(v,O,a);this.isValid.setValue(z,s),this.position.setValue(a,s),this.rotationQuaternion.setValue(O,s),this.ZO.setValue(v,s),s._setExecutionVariable(this,"cachedPosition",a),s._setExecutionVariable(this,"cachedRotation",O),s._setExecutionVariable(this,"cachedScaling",v),s._setExecutionVariable(this,"executionId",s.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,a.f)("FlowGraphMatrixDecompose",z);class Y extends t.e{constructor(s){super(s),this.position=this.registerDataInput("position",j.H),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",j.x),this.ZO=this.registerDataInput("ZO",j.H),this.value=this.registerDataOutput("value",j.n)}_updateOutputs(s){const Z=s._getExecutionVariable(this,"executionId",-1),o=s._getExecutionVariable(this,"cachedMatrix",null);if(Z===s.executionId&&o)this.value.setValue(o,s);else{const Z=S.b.Compose(this.ZO.getValue(s),this.rotationQuaternion.getValue(s),this.position.getValue(s));this.value.setValue(Z,s),s._setExecutionVariable(this,"cachedMatrix",Z),s._setExecutionVariable(this,"executionId",s.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,a.f)("FlowGraphMatrixCompose",Y)},14265:(s,Z,o)=>{o.d(Z,{e:()=>j});var t=o(14271);class j extends t.e{constructor(s,Z,o,t,j,S){super(o,S),this._operation=t,this._className=j,this.a=this.registerDataInput("a",s),this.b=this.registerDataInput("b",Z)}_doOperation(s){const Z=this.a.getValue(s),o=this.b.getValue(s);return this._operation(Z,o)}getClassName(){return this._className}}},14271:(s,Z,o)=>{o.d(Z,{e:()=>O});var t=o(12802),j=o(12775);const S="cachedOperationValue",a="cachedExecutionId";class O extends t.e{constructor(s,Z){super(Z),this.value=this.registerDataOutput("value",s),this.isValid=this.registerDataOutput("isValid",j.g)}_updateOutputs(s){const Z=s._getExecutionVariable(this,a,-1),o=s._getExecutionVariable(this,S,null);if(void 0!==o&&null!==o&&Z===s.executionId)this.isValid.setValue(!0,s),this.value.setValue(o,s);else try{const Z=this._doOperation(s);if(void 0===Z||null===Z)return void this.isValid.setValue(!1,s);s._setExecutionVariable(this,S,Z),s._setExecutionVariable(this,a,s.executionId),this.value.setValue(Z,s),this.isValid.setValue(!0,s)}catch(t){this.isValid.setValue(!1,s)}}}},14273:(s,Z,o)=>{o.d(Z,{b:()=>j});var t=o(14271);class j extends t.e{constructor(s,Z,o,t,j){super(Z,j),this._operation=o,this._className=t,this.a=this.registerDataInput("a",s)}_doOperation(s){return this._operation(this.a.getValue(s))}getClassName(){return this._className}}}}]);