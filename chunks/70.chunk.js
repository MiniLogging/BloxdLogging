"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[70],{14007:(z,u,Y)=>{Y.r(u),Y.d(u,{FlowGraphDeterminantBlock:()=>D,FlowGraphInvertMatrixBlock:()=>g,FlowGraphMatrixComposeBlock:()=>C,FlowGraphMatrixDecomposeBlock:()=>q,FlowGraphMatrixMultiplicationBlock:()=>M,FlowGraphTransposeBlock:()=>L});var H=Y(12549),E=Y(12531),J=Y(10903),l=Y(10918),T=Y(13992),b=Y(13977);class L extends T.e{constructor(z){super((0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(z=>z.transpose?z.transpose():J.b.Transpose(z)),"FlowGraphTransposeBlock",z)}}(0,l.d)("FlowGraphTransposeBlock",L);class D extends T.e{constructor(z){super((0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),E.p,(z=>z.determinant()),"FlowGraphDeterminantBlock",z)}}(0,l.d)("FlowGraphDeterminantBlock",D);class g extends T.e{constructor(z){super((0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(z=>z.inverse?z.inverse():J.b.Invert(z)),"FlowGraphInvertMatrixBlock",z)}}(0,l.d)("FlowGraphInvertMatrixBlock",g);class M extends b.e{constructor(z){super((0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),(0,E.K)((null===z||void 0===z?void 0:z.matrixType)||"Matrix"),((z,u)=>u.multiply(z)),"FlowGraphMatrixMultiplicationBlock",z)}}(0,l.d)("FlowGraphMatrixMultiplicationBlock",M);class q extends H.b{constructor(z){super(z),this.input=this.registerDataInput("input",E.i),this.position=this.registerDataOutput("position",E.x),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",E.r),this.el=this.registerDataOutput("el",E.x),this.isValid=this.registerDataOutput("isValid",E.f,!1)}_updateOutputs(z){const u=z._getExecutionVariable(this,"executionId",-1),Y=z._getExecutionVariable(this,"cachedPosition",null),H=z._getExecutionVariable(this,"cachedRotation",null),E=z._getExecutionVariable(this,"cachedScaling",null);if(u===z.executionId&&Y&&H&&E)this.position.setValue(Y,z),this.rotationQuaternion.setValue(H,z),this.el.setValue(E,z);else{const u=this.input.getValue(z),l=Y||new J.p,T=H||new J.f,b=E||new J.p,L=Math.round(1e4*u.m[3])/1e4,D=Math.round(1e4*u.m[7])/1e4,g=Math.round(1e4*u.m[11])/1e4,M=Math.round(1e4*u.m[15])/1e4;if(0!==L||0!==D||0!==g||1!==M)return this.isValid.setValue(!1,z),this.position.setValue(J.p.Zero(),z),this.rotationQuaternion.setValue(J.f.Identity(),z),void this.el.setValue(J.p.One(),z);const q=u.decompose(b,T,l);this.isValid.setValue(q,z),this.position.setValue(l,z),this.rotationQuaternion.setValue(T,z),this.el.setValue(b,z),z._setExecutionVariable(this,"cachedPosition",l),z._setExecutionVariable(this,"cachedRotation",T),z._setExecutionVariable(this,"cachedScaling",b),z._setExecutionVariable(this,"executionId",z.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,l.d)("FlowGraphMatrixDecompose",q);class C extends H.b{constructor(z){super(z),this.position=this.registerDataInput("position",E.x),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",E.r),this.el=this.registerDataInput("el",E.x),this.value=this.registerDataOutput("value",E.i)}_updateOutputs(z){const u=z._getExecutionVariable(this,"executionId",-1),Y=z._getExecutionVariable(this,"cachedMatrix",null);if(u===z.executionId&&Y)this.value.setValue(Y,z);else{const u=J.b.Compose(this.el.getValue(z),this.rotationQuaternion.getValue(z),this.position.getValue(z));this.value.setValue(u,z),z._setExecutionVariable(this,"cachedMatrix",u),z._setExecutionVariable(this,"executionId",z.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,l.d)("FlowGraphMatrixCompose",C)},13977:(z,u,Y)=>{Y.d(u,{e:()=>E});var H=Y(13983);class E extends H.e{constructor(z,u,Y,H,E,J){super(Y,J),this._operation=H,this._className=E,this.a=this.registerDataInput("a",z),this.b=this.registerDataInput("b",u)}_doOperation(z){const u=this.a.getValue(z),Y=this.b.getValue(z);return this._operation(u,Y)}getClassName(){return this._className}}},13983:(z,u,Y)=>{Y.d(u,{e:()=>T});var H=Y(12549),E=Y(12531);const J="cachedOperationValue",l="cachedExecutionId";class T extends H.b{constructor(z,u){super(u),this.value=this.registerDataOutput("value",z),this.isValid=this.registerDataOutput("isValid",E.f)}_updateOutputs(z){const u=z._getExecutionVariable(this,l,-1),Y=z._getExecutionVariable(this,J,null);if(void 0!==Y&&null!==Y&&u===z.executionId)this.isValid.setValue(!0,z),this.value.setValue(Y,z);else try{const u=this._doOperation(z);if(void 0===u||null===u)return void this.isValid.setValue(!1,z);z._setExecutionVariable(this,J,u),z._setExecutionVariable(this,l,z.executionId),this.value.setValue(u,z),this.isValid.setValue(!0,z)}catch(H){this.isValid.setValue(!1,z)}}}},13992:(z,u,Y)=>{Y.d(u,{e:()=>E});var H=Y(13983);class E extends H.e{constructor(z,u,Y,H,E){super(u,E),this._operation=Y,this._className=H,this.a=this.registerDataInput("a",z)}_doOperation(z){return this._operation(this.a.getValue(z))}getClassName(){return this._className}}}}]);