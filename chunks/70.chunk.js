"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[70],{14189:(q,f,j)=>{j.r(f),j.d(f,{FlowGraphDeterminantBlock:()=>u,FlowGraphInvertMatrixBlock:()=>X,FlowGraphMatrixComposeBlock:()=>D,FlowGraphMatrixDecomposeBlock:()=>B,FlowGraphMatrixMultiplicationBlock:()=>z,FlowGraphTransposeBlock:()=>r});var d=j(12726),g=j(12709),h=j(10941),L=j(10965),Q=j(14179),H=j(14165);class r extends Q.c{constructor(q){super((0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(q=>q.transpose?q.transpose():h.b.Transpose(q)),"FlowGraphTransposeBlock",q)}}(0,L.f)("FlowGraphTransposeBlock",r);class u extends Q.c{constructor(q){super((0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),g.o,(q=>q.determinant()),"FlowGraphDeterminantBlock",q)}}(0,L.f)("FlowGraphDeterminantBlock",u);class X extends Q.c{constructor(q){super((0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(q=>q.inverse?q.inverse():h.b.Invert(q)),"FlowGraphInvertMatrixBlock",q)}}(0,L.f)("FlowGraphInvertMatrixBlock",X);class z extends H.b{constructor(q){super((0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),(0,g.D)((null===q||void 0===q?void 0:q.matrixType)||"Matrix"),((q,f)=>f.multiply(q)),"FlowGraphMatrixMultiplicationBlock",q)}}(0,L.f)("FlowGraphMatrixMultiplicationBlock",z);class B extends d.e{constructor(q){super(q),this.input=this.registerDataInput("input",g.g),this.position=this.registerDataOutput("position",g.u),this.rotationQuaternion=this.registerDataOutput("rotationQuaternion",g.p),this.Vf=this.registerDataOutput("Vf",g.u),this.isValid=this.registerDataOutput("isValid",g.d,!1)}_updateOutputs(q){const f=q._getExecutionVariable(this,"executionId",-1),j=q._getExecutionVariable(this,"cachedPosition",null),d=q._getExecutionVariable(this,"cachedRotation",null),g=q._getExecutionVariable(this,"cachedScaling",null);if(f===q.executionId&&j&&d&&g)this.position.setValue(j,q),this.rotationQuaternion.setValue(d,q),this.Vf.setValue(g,q);else{const f=this.input.getValue(q),L=j||new h.j,Q=d||new h.e,H=g||new h.j,r=Math.round(1e4*f.m[3])/1e4,u=Math.round(1e4*f.m[7])/1e4,X=Math.round(1e4*f.m[11])/1e4,z=Math.round(1e4*f.m[15])/1e4;if(0!==r||0!==u||0!==X||1!==z)return this.isValid.setValue(!1,q),this.position.setValue(h.j.Zero(),q),this.rotationQuaternion.setValue(h.e.Identity(),q),void this.Vf.setValue(h.j.One(),q);const B=f.decompose(H,Q,L);this.isValid.setValue(B,q),this.position.setValue(L,q),this.rotationQuaternion.setValue(Q,q),this.Vf.setValue(H,q),q._setExecutionVariable(this,"cachedPosition",L),q._setExecutionVariable(this,"cachedRotation",Q),q._setExecutionVariable(this,"cachedScaling",H),q._setExecutionVariable(this,"executionId",q.executionId)}}getClassName(){return"FlowGraphMatrixDecompose"}}(0,L.f)("FlowGraphMatrixDecompose",B);class D extends d.e{constructor(q){super(q),this.position=this.registerDataInput("position",g.u),this.rotationQuaternion=this.registerDataInput("rotationQuaternion",g.p),this.Vf=this.registerDataInput("Vf",g.u),this.value=this.registerDataOutput("value",g.g)}_updateOutputs(q){const f=q._getExecutionVariable(this,"executionId",-1),j=q._getExecutionVariable(this,"cachedMatrix",null);if(f===q.executionId&&j)this.value.setValue(j,q);else{const f=h.b.Compose(this.Vf.getValue(q),this.rotationQuaternion.getValue(q),this.position.getValue(q));this.value.setValue(f,q),q._setExecutionVariable(this,"cachedMatrix",f),q._setExecutionVariable(this,"executionId",q.executionId)}}getClassName(){return"FlowGraphMatrixCompose"}}(0,L.f)("FlowGraphMatrixCompose",D)},14165:(q,f,j)=>{j.d(f,{b:()=>g});var d=j(14173);class g extends d.d{constructor(q,f,j,d,g,h){super(j,h),this._operation=d,this._className=g,this.a=this.registerDataInput("a",q),this.b=this.registerDataInput("b",f)}_doOperation(q){const f=this.a.getValue(q),j=this.b.getValue(q);return this._operation(f,j)}getClassName(){return this._className}}},14173:(q,f,j)=>{j.d(f,{d:()=>Q});var d=j(12726),g=j(12709);const h="cachedOperationValue",L="cachedExecutionId";class Q extends d.e{constructor(q,f){super(f),this.value=this.registerDataOutput("value",q),this.isValid=this.registerDataOutput("isValid",g.d)}_updateOutputs(q){const f=q._getExecutionVariable(this,L,-1),j=q._getExecutionVariable(this,h,null);if(void 0!==j&&null!==j&&f===q.executionId)this.isValid.setValue(!0,q),this.value.setValue(j,q);else try{const f=this._doOperation(q);if(void 0===f||null===f)return void this.isValid.setValue(!1,q);q._setExecutionVariable(this,h,f),q._setExecutionVariable(this,L,q.executionId),this.value.setValue(f,q),this.isValid.setValue(!0,q)}catch(d){this.isValid.setValue(!1,q)}}}},14179:(q,f,j)=>{j.d(f,{c:()=>g});var d=j(14173);class g extends d.d{constructor(q,f,j,d,g){super(f,g),this._operation=j,this._className=d,this.a=this.registerDataInput("a",q)}_doOperation(q){return this._operation(this.a.getValue(q))}getClassName(){return this._className}}}}]);