"use strict";(self["3nlrbof8msu"]=self["3nlrbof8msu"]||[]).push([[16],{15198:(t,b,Z)=>{Z.r(b),Z.d(b,{ReadExrDataAsync:()=>It,_ExrTextureLoader:()=>gt});var J=Z(12557),S=Z(12745);const P=4,v=4,h=1,C=2,Y=8,g=65536,I=g>>3,r=14,M=65537,T=1<<r,a=T-1,k=59,u=63,l=2+u-k;var U,E;!function(t){t[t.NO_COMPRESSION=0]="NO_COMPRESSION",t[t.RLE_COMPRESSION=1]="RLE_COMPRESSION",t[t.ZIPS_COMPRESSION=2]="ZIPS_COMPRESSION",t[t.ZIP_COMPRESSION=3]="ZIP_COMPRESSION",t[t.PIZ_COMPRESSION=4]="PIZ_COMPRESSION",t[t.PXR24_COMPRESSION=5]="PXR24_COMPRESSION"}(U||(U={})),function(t){t[t.INCREASING_Y=0]="INCREASING_Y",t[t.DECREASING_Y=1]="DECREASING_Y"}(E||(E={}));const c=function(){const t=new ArrayBuffer(4),b=new Float32Array(t),Z=new Uint32Array(t),J=new Uint32Array(512),S=new Uint32Array(512);for(let C=0;C<256;++C){const t=C-127;t<-27?(J[C]=0,J[256|C]=32768,S[C]=24,S[256|C]=24):t<-14?(J[C]=1024>>-t-14,J[256|C]=1024>>-t-14|32768,S[C]=-t-1,S[256|C]=-t-1):t<=15?(J[C]=t+15<<10,J[256|C]=t+15<<10|32768,S[C]=13,S[256|C]=13):t<128?(J[C]=31744,J[256|C]=64512,S[C]=24,S[256|C]=24):(J[C]=31744,J[256|C]=64512,S[C]=13,S[256|C]=13)}const P=new Uint32Array(2048),v=new Uint32Array(64),h=new Uint32Array(64);for(let C=1;C<1024;++C){let t=C<<13,b=0;for(;0===(8388608&t);)t<<=1,b-=8388608;t&=-8388609,b+=947912704,P[C]=t|b}for(let C=1024;C<2048;++C)P[C]=939524096+(C-1024<<13);for(let C=1;C<31;++C)v[C]=C<<23;v[31]=1199570944,v[32]=2147483648;for(let C=33;C<63;++C)v[C]=2147483648+(C-32<<23);v[63]=3347054592;for(let C=1;C<64;++C)32!==C&&(h[C]=1024);return{floatView:b,uint32View:Z,baseTable:J,shiftTable:S,mantissaTable:P,exponentTable:v,offsetTable:h}}();function H(t,b){const Z=new Uint8Array(t);let J=0;for(;0!=Z[b.value+J];)J+=1;const S=(new TextDecoder).decode(Z.slice(b.value,b.value+J));return b.value=b.value+J+1,S}function o(t,b){const Z=t.getInt32(b.value,!0);return b.value+=P,Z}function O(t,b){const Z=t.getUint32(b.value,!0);return b.value+=P,Z}function p(t,b){const Z=t.getUint8(b.value);return b.value+=h,Z}function e(t,b){const Z=t.getUint16(b.value,!0);return b.value+=C,Z}function W(t,b){const Z=t[b.value];return b.value+=h,Z}function j(t,b){let Z;return Z="getBigInt64"in DataView.prototype?Number(t.getBigInt64(b.value,!0)):t.getUint32(b.value+4,!0)+Number(t.getUint32(b.value,!0)<<32),b.value+=Y,Z}function V(t,b){const Z=t.getFloat32(b.value,!0);return b.value+=v,Z}function n(t,b){return function(t){const b=(31744&t)>>10,Z=1023&t;return(t>>15?-1:1)*(b?31===b?Z?NaN:1/0:Math.pow(2,b-15)*(1+Z/1024):Z/1024*6103515625e-14)}(e(t,b))}function y(t,b){return function(t){if(Math.abs(t)>65504)throw new Error("Value out of range.Consider using float instead of half-float.");t=(0,S.Clamp)(t,-65504,65504),c.floatView[0]=t;const b=c.uint32View[0],Z=b>>23&511;return c.baseTable[Z]+((8388607&b)>>c.shiftTable[Z])}(V(t,b))}function d(t,b,Z,J){switch(Z){case"string":case"stringvector":case"iccProfile":return function(t,b,Z){const J=(new TextDecoder).decode(new Uint8Array(t).slice(b.value,b.value+Z));return b.value=b.value+Z,J}(t.buffer,b,J);case"chlist":return function(t,b,Z){const J=b.value,S=[];for(;b.value<J+Z-1;){const Z=H(t.buffer,b),J=o(t,b),P=p(t,b);b.value+=3;const v=o(t,b),h=o(t,b);S.push({name:Z,pixelType:J,pLinear:P,xSampling:v,ySampling:h})}return b.value+=1,S}(t,b,J);case"chromaticities":return function(t,b){return{redX:V(t,b),redY:V(t,b),greenX:V(t,b),greenY:V(t,b),blueX:V(t,b),blueY:V(t,b),whiteX:V(t,b),whiteY:V(t,b)}}(t,b);case"compression":return function(t,b){return p(t,b)}(t,b);case"box2i":return function(t,b){return{xMin:o(t,b),yMin:o(t,b),xMax:o(t,b),yMax:o(t,b)}}(t,b);case"lineOrder":return function(t,b){const Z=p(t,b);return E[Z]}(t,b);case"float":return V(t,b);case"v2f":return function(t,b){return[V(t,b),V(t,b)]}(t,b);case"v3f":return function(t,b){return[V(t,b),V(t,b),V(t,b)]}(t,b);case"int":return o(t,b);case"rational":return function(t,b){return[o(t,b),O(t,b)]}(t,b);case"timecode":return function(t,b){return[O(t,b),O(t,b)]}(t,b);case"preview":return b.value+=J,"skipped";default:return void(b.value+=J)}}function s(t){for(let b=1;b<t.length;b++){const Z=t[b-1]+t[b]-128;t[b]=Z}}function q(t,b){let Z=0,J=Math.floor((t.length+1)/2),S=0;const P=t.length-1;for(;!(S>P)&&(b[S++]=t[Z++],!(S>P));)b[S++]=t[J++]}const Q=20000630;function N(t,b){if(t.getUint32(0,!0)!=Q)throw new Error("Incorrect OpenEXR format");const Z=t.getUint8(4),S=t.getUint8(5),P={singleTile:!!(2&S),longName:!!(4&S),deepFormat:!!(8&S),multiPart:!!(16&S)};b.value=8;const v={};let h=!0;for(;h;){const Z=H(t.buffer,b);if(Z){const S=H(t.buffer,b),P=d(t,b,S,O(t,b));void 0===P?J.c.Warn(`Unknown header attribute type ${S}'.`):v[Z]=P}else h=!1}if(0!=(-5&S))throw new Error("Unsupported file format");return{version:Z,spec:P,...v}}const A=32768,K=65535;function L(t,b,Z,J,S){for(;Z<t;)b=b<<8|W(J,S),Z+=8;return{l:b>>(Z-=t)&(1<<t)-1,c:b,lc:Z}}function F(t,b,Z,J){return{c:t=t<<8|W(Z,J),lc:b+=8}}function B(t,b,Z,J,S,P,v,h,C){if(t==b){if(J<8){const t=F(Z,J,S,P);Z=t.c,J=t.lc}let t=Z>>(J-=8);if(t=new Uint8Array([t])[0],h.value+t>C)return null;const b=v[h.value-1];for(;t-- >0;)v[h.value++]=b}else{if(!(h.value<C))return null;v[h.value++]=t}return{c:Z,lc:J}}const X=new Array(59);function x(t,b,Z,J,S,P){const v=b;let h=0,C=0;for(;J<=S;J++){if(v.value-b.value>Z)return;let Y=L(6,h,C,t,v);const g=Y.l;if(h=Y.c,C=Y.lc,P[J]=g,g==u){if(v.value-b.value>Z)throw new Error("Error in HufUnpackEncTable");Y=L(8,h,C,t,v);let g=Y.l+l;if(h=Y.c,C=Y.lc,J+g>S+1)throw new Error("Error in HufUnpackEncTable");for(;g--;)P[J++]=0;J--}else if(g>=k){let t=g-k+2;if(J+t>S+1)throw new Error("Error in HufUnpackEncTable");for(;t--;)P[J++]=0;J--}}!function(t){for(let Z=0;Z<=58;++Z)X[Z]=0;for(let Z=0;Z<M;++Z)X[t[Z]]+=1;let b=0;for(let Z=58;Z>0;--Z){const t=b+X[Z]>>1;X[Z]=b,b=t}for(let Z=0;Z<M;++Z){const b=t[Z];b>0&&(t[Z]=b|X[b]++<<6)}}(P)}function i(t){return 63&t}function z(t){return t>>6}function D(t,b,Z,J,S,P){const v=Z.value,h=O(b,Z),C=O(b,Z);Z.value+=4;const Y=O(b,Z);if(Z.value+=4,h<0||h>=M||C<0||C>=M)throw new Error("Wrong HUF_ENCSIZE");const g=new Array(M),I=new Array(T);!function(t){for(let b=0;b<T;b++)t[b]={},t[b].len=0,t[b].lit=0,t[b].p=null}(I);if(x(t,Z,J-(Z.value-v),h,C,g),Y>8*(J-(Z.value-v)))throw new Error("Wrong hufUncompress");!function(t,b,Z,J){for(;b<=Z;b++){const Z=z(t[b]),S=i(t[b]);if(Z>>S)throw new Error("Invalid table entry");if(S>r){const t=J[Z>>S-r];if(t.len)throw new Error("Invalid table entry");if(t.lit++,t.p){const b=t.p;t.p=new Array(t.lit);for(let Z=0;Z<t.lit-1;++Z)t.p[Z]=b[Z]}else t.p=new Array(1);t.p[t.lit-1]=b}else if(S){let t=0;for(let P=1<<r-S;P>0;P--){const P=J[(Z<<r-S)+t];if(P.len||P.p)throw new Error("Invalid table entry");P.len=S,P.lit=b,t++}}}}(g,h,C,I),function(t,b,Z,J,S,P,v,h,C){let Y=0,g=0;const I=v,M=Math.trunc(J.value+(S+7)/8);for(;J.value<M;){let S=F(Y,g,Z,J);for(Y=S.c,g=S.lc;g>=r;){const v=b[Y>>g-r&a];if(v.len){g-=v.len;const t=B(v.lit,P,Y,g,Z,J,h,C,I);t&&(Y=t.c,g=t.lc)}else{if(!v.p)throw new Error("hufDecode issues");let b;for(b=0;b<v.lit;b++){const r=i(t[v.p[b]]);for(;g<r&&J.value<M;)S=F(Y,g,Z,J),Y=S.c,g=S.lc;if(g>=r&&z(t[v.p[b]])==(Y>>g-r&(1<<r)-1)){g-=r;const t=B(v.p[b],P,Y,g,Z,J,h,C,I);t&&(Y=t.c,g=t.lc);break}}if(b==v.lit)throw new Error("HufDecode issues")}}}const T=8-S&7;for(Y>>=T,g-=T;g>0;){const t=b[Y<<r-g&a];if(!t.len)throw new Error("HufDecode issues");{g-=t.len;const b=B(t.lit,P,Y,g,Z,J,h,C,I);b&&(Y=b.c,g=b.lc)}}}(g,I,t,Z,Y,C,P,S,{value:0})}function f(t){return 65535&t}function mt(t){const b=f(t);return b>32767?b-65536:b}function R(t,b){const Z=mt(t),J=mt(b),S=Z+(1&J)+(J>>1);return{a:S,b:S-J}}function w(t,b){const Z=f(t),J=f(b),S=Z-(J>>1)&K;return{a:J+S-A&K,b:S}}function G(t,b,Z,J,S,P,v){const h=v<16384,C=Z>S?S:Z;let Y,g,I=1;for(;I<=C;)I<<=1;for(I>>=1,Y=I,I>>=1;I>=1;){g=0;const v=g+P*(S-Y),C=P*I,r=P*Y,M=J*I,T=J*Y;let a,k,u,l;for(;g<=v;g+=r){let S=g;const P=g+J*(Z-Y);for(;S<=P;S+=T){const Z=S+M,J=S+C,P=J+M;if(h){let v=R(t[S+b],t[J+b]);a=v.a,u=v.b,v=R(t[Z+b],t[P+b]),k=v.a,l=v.b,v=R(a,k),t[S+b]=v.a,t[Z+b]=v.b,v=R(u,l),t[J+b]=v.a,t[P+b]=v.b}else{let v=w(t[S+b],t[J+b]);a=v.a,u=v.b,v=w(t[Z+b],t[P+b]),k=v.a,l=v.b,v=w(a,k),t[S+b]=v.a,t[Z+b]=v.b,v=w(u,l),t[J+b]=v.a,t[P+b]=v.b}}if(Z&I){const Z=S+C;let J;J=h?R(t[S+b],t[Z+b]):w(t[S+b],t[Z+b]),a=J.a,t[Z+b]=J.b,t[S+b]=a}}if(S&I){let S=g;const P=g+J*(Z-Y);for(;S<=P;S+=T){const Z=S+M;let J;J=h?R(t[S+b],t[Z+b]):w(t[S+b],t[Z+b]),a=J.a,t[Z+b]=J.b,t[S+b]=a}}Y=I,I>>=1}return g}function tt(t){return new DataView(t.array.buffer,t.offset.value,t.size)}function bt(t){const b=t.viewer.buffer.slice(t.offset.value,t.offset.value+t.size),Z=new Uint8Array(function(t){let b=t.byteLength;const Z=[];let J=0;const S=new DataView(t);for(;b>0;){const t=S.getInt8(J++);if(t<0){const P=-t;b-=P+1;for(let t=0;t<P;t++)Z.push(S.getUint8(J++))}else{const P=t;b-=2;const v=S.getUint8(J++);for(let t=0;t<P+1;t++)Z.push(v)}}return Z}(b)),J=new Uint8Array(Z.length);return s(Z),q(Z,J),new DataView(J.buffer)}function Zt(t){const b=t.array.slice(t.offset.value,t.offset.value+t.size),Z=fflate.unzlibSync(b),J=new Uint8Array(Z.length);return s(Z),q(Z,J),new DataView(J.buffer)}function Jt(t){const b=t.array.slice(t.offset.value,t.offset.value+t.size),Z=fflate.unzlibSync(b),J=t.lines*t.channels*t.width,S=1==t.type?new Uint16Array(J):new Uint32Array(J);let P=0,v=0;const h=new Array(4);for(let C=0;C<t.lines;C++)for(let b=0;b<t.channels;b++){let b=0;switch(t.type){case 1:h[0]=P,h[1]=h[0]+t.width,P=h[1]+t.width;for(let J=0;J<t.width;++J){b+=Z[h[0]++]<<8|Z[h[1]++],S[v]=b,v++}break;case 2:h[0]=P,h[1]=h[0]+t.width,h[2]=h[1]+t.width,P=h[2]+t.width;for(let J=0;J<t.width;++J){b+=Z[h[0]++]<<24|Z[h[1]++]<<16|Z[h[2]++]<<8,S[v]=b,v++}}}return new DataView(S.buffer)}function St(t){const b=t.viewer,Z={value:t.offset.value},J=new Uint16Array(t.width*t.scanlineBlockSize*(t.channels*t.type)),S=new Uint8Array(I);let P=0;const v=new Array(t.channels);for(let C=0;C<t.channels;C++)v[C]={},v[C].start=P,v[C].end=v[C].start,v[C].nx=t.width,v[C].ny=t.lines,v[C].size=t.type,P+=v[C].nx*v[C].ny*v[C].size;const h=e(b,Z),Y=e(b,Z);if(Y>=I)throw new Error("Wrong PIZ_COMPRESSION BITMAP_SIZE");if(h<=Y)for(let C=0;C<Y-h+1;C++)S[C+h]=p(b,Z);const r=new Uint16Array(g),M=function(t,b){let Z=0;for(let S=0;S<g;++S)(0==S||t[S>>3]&1<<(7&S))&&(b[Z++]=S);const J=Z-1;for(;Z<g;)b[Z++]=0;return J}(S,r),T=O(b,Z);D(t.array,b,Z,T,J,P);for(let C=0;C<t.channels;++C){const t=v[C];for(let b=0;b<v[C].size;++b)G(J,t.start+b,t.nx,t.size,t.ny,t.nx*t.size,M)}!function(t,b,Z){for(let J=0;J<Z;++J)b[J]=t[b[J]]}(r,J,P);let a=0;const k=new Uint8Array(J.buffer.byteLength);for(let g=0;g<t.lines;g++)for(let b=0;b<t.channels;b++){const t=v[b],Z=t.nx*t.size,S=new Uint8Array(J.buffer,t.end*C,Z*C);k.set(S,a),a+=Z*C,t.end+=Z}return new DataView(k.buffer)}var Pt,vt=Z(12549);!function(t){t[t.Float=0]="Float",t[t.HalfFloat=1]="HalfFloat"}(Pt||(Pt={}));class ht{}async function Ct(t,b,Z,J){const S={size:0,viewer:b,array:new Uint8Array(b.buffer),offset:Z,width:t.dataWindow.xMax-t.dataWindow.xMin+1,height:t.dataWindow.yMax-t.dataWindow.yMin+1,channels:t.channels.length,channelLineOffsets:{},scanOrder:()=>0,bytesPerLine:0,outLineWidth:0,lines:0,scanlineBlockSize:0,inputSize:null,type:0,uncompress:null,getter:()=>0,format:5,outputChannels:0,decodeChannels:{},blockCount:null,byteArray:null,linearSpace:!1,textureType:0};switch(t.compression){case U.NO_COMPRESSION:S.lines=1,S.uncompress=tt;break;case U.RLE_COMPRESSION:S.lines=1,S.uncompress=bt;break;case U.ZIPS_COMPRESSION:S.lines=1,S.uncompress=Zt,await vt.Tools.LoadScriptAsync(ht.FFLATEUrl);break;case U.ZIP_COMPRESSION:S.lines=16,S.uncompress=Zt,await vt.Tools.LoadScriptAsync(ht.FFLATEUrl);break;case U.PIZ_COMPRESSION:S.lines=32,S.uncompress=St;break;case U.PXR24_COMPRESSION:S.lines=16,S.uncompress=Jt,await vt.Tools.LoadScriptAsync(ht.FFLATEUrl);break;default:throw new Error(U[t.compression]+" is unsupported")}S.scanlineBlockSize=S.lines;const P={};for(const v of t.channels)switch(v.name){case"R":case"G":case"B":case"A":case"Y":P[v.name]=!0,S.type=v.pixelType}let h=!1;if(P.R&&P.G&&P.B&&P.A)S.outputChannels=4,S.decodeChannels={R:0,G:1,B:2,A:3};else if(P.R&&P.G&&P.B)h=!0,S.outputChannels=4,S.decodeChannels={R:0,G:1,B:2,A:3};else if(P.R&&P.G)S.outputChannels=2,S.decodeChannels={R:0,G:1};else if(P.R)S.outputChannels=1,S.decodeChannels={R:0};else{if(!P.Y)throw new Error("EXRLoader.parse: file contains unsupported data channels.");S.outputChannels=1,S.decodeChannels={Y:0}}if(1===S.type)switch(J){case Pt.Float:S.getter=n,S.inputSize=C;break;case Pt.HalfFloat:S.getter=e,S.inputSize=C}else{if(2!==S.type)throw new Error("Unsupported pixelType "+S.type+" for "+t.compression);switch(J){case Pt.Float:S.getter=V,S.inputSize=v;break;case Pt.HalfFloat:S.getter=y,S.inputSize=v}}S.blockCount=S.height/S.scanlineBlockSize;for(let v=0;v<S.blockCount;v++)j(b,Z);const Y=S.width*S.height*S.outputChannels;switch(J){case Pt.Float:S.byteArray=new Float32Array(Y),S.textureType=1,h&&S.byteArray.fill(1,0,Y);break;case Pt.HalfFloat:S.byteArray=new Uint16Array(Y),S.textureType=2,h&&S.byteArray.fill(15360,0,Y);break;default:throw new Error("Unsupported type: "+J)}let g=0;for(const v of t.channels)void 0!==S.decodeChannels[v.name]&&(S.channelLineOffsets[v.name]=g*S.width),g+=2*v.pixelType;return S.bytesPerLine=S.width*g,S.outLineWidth=S.width*S.outputChannels,"INCREASING_Y"===t.lineOrder?S.scanOrder=t=>t:S.scanOrder=t=>S.height-1-t,4==S.outputChannels?(S.format=5,S.linearSpace=!0):(S.format=6,S.linearSpace=!1),S}function Yt(t,b,Z,J){const S={value:0};for(let P=0;P<t.height/t.scanlineBlockSize;P++){const v=o(Z,J)-b.dataWindow.yMin;t.size=O(Z,J),t.lines=v+t.scanlineBlockSize>t.height?t.height-v:t.scanlineBlockSize;const h=t.size<t.lines*t.bytesPerLine&&t.uncompress?t.uncompress(t):tt(t);J.value+=t.size;for(let Z=0;Z<t.scanlineBlockSize;Z++){const J=P*t.scanlineBlockSize,v=Z+t.scanOrder(J);if(v>=t.height)continue;const C=Z*t.bytesPerLine,Y=(t.height-1-v)*t.outLineWidth;for(let Z=0;Z<t.channels;Z++){const J=b.channels[Z].name,P=t.channelLineOffsets[J],v=t.decodeChannels[J];if(void 0!==v){S.value=C+P;for(let b=0;b<t.width;b++){const Z=Y+b*t.outputChannels+v;t.byteArray&&(t.byteArray[Z]=t.getter(h,S))}}}}}}ht.DefaultOutputType=Pt.HalfFloat,ht.FFLATEUrl="https://unpkg.com/fflate@0.8.2";class gt{constructor(){this.supportCascades=!1}loadCubeData(t,b,Z,J,S){throw".exr not supported in Cube."}loadData(t,b,Z){const S=new DataView(t.buffer),P={value:0},v=N(S,P);Ct(v,S,P,ht.DefaultOutputType).then((t=>{Yt(t,v,S,P);const J=v.dataWindow.xMax-v.dataWindow.xMin+1,h=v.dataWindow.yMax-v.dataWindow.yMin+1;Z(J,h,b.generateMipMaps,!1,(()=>{const Z=b.getEngine();b.format=v.format,b.type=t.textureType,b.invertY=!1,b._gammaSpace=!v.linearSpace,t.byteArray&&Z._uploadDataToTextureDirectly(b,t.byteArray,0,0,void 0,!0)}))})).catch((t=>{J.c.Error("Failed to load EXR texture: ",t)}))}}async function It(t){const b=new DataView(t),Z={value:0},S=N(b,Z);try{const t=await Ct(S,b,Z,Pt.Float);return Yt(t,S,b,Z),t.byteArray?{width:S.dataWindow.xMax-S.dataWindow.xMin+1,height:S.dataWindow.yMax-S.dataWindow.yMin+1,data:new Float32Array(t.byteArray)}:(J.c.Error("Failed to decode EXR data: No byte array available."),{width:0,height:0,data:null})}catch(P){J.c.Error("Failed to load EXR data: ",P)}return{width:0,height:0,data:null}}},12745:(t,b,Z)=>{function J(t){return parseInt(t.toString().replace(/\W/g,""))}function S(t,b){let Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(t-b)<=Z}function P(t,b,Z){let J=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return t<b-J||t>Z+J}function v(t,b){return t===b?t:Math.random()*(b-t)+t}function h(t,b,Z){return t+(b-t)*Z}function C(t,b,Z){let J=k(b-t,360);return J>180&&(J-=360),t+J*r(Z)}function Y(t,b,Z){let J=0;return J=t!=b?r((Z-t)/(b-t)):0,J}function g(t,b,Z,J,S){const P=S*S,v=S*P;return t*(2*v-3*P+1)+Z*(-2*v+3*P)+b*(v-2*P+S)+J*(v-P)}function I(t,b,Z,J,S){const P=S*S;return 6*(P-S)*t+(3*P-4*S+1)*b+6*(-P+S)*Z+(3*P-2*S)*J}function r(t){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Z,Math.max(b,t))}function M(t){return t-=2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function T(t){const b=t.toString(16);return t<=15?("0"+b).toUpperCase():b.toUpperCase()}function a(t){if(Math.log2)return Math.floor(Math.log2(t));if(t<0)return NaN;if(0===t)return-1/0;let b=0;if(t<1){for(;t<1;)b++,t*=2;b=-b}else if(t>1)for(;t>1;)b++,t=Math.floor(t/2);return b}function k(t,b){return t-Math.floor(t/b)*b}function u(t,b,Z){return(t-b)/(Z-b)}function l(t,b,Z){return t*(Z-b)+b}function U(t,b){let Z=k(b-t,360);return Z>180&&(Z-=360),Z}function E(t,b){const Z=k(t,2*b);return b-Math.abs(Z-b)}function c(t,b,Z){let J=r(Z);return J=-2*J*J*J+3*J*J,b*J+t*(1-J)}function H(t,b,Z){let J=0;return J=Math.abs(b-t)<=Z?b:t+Math.sign(b-t)*Z,J}function o(t,b,Z){const J=U(t,b);let S=0;return S=-Z<J&&J<Z?b:H(t,b=t+J,Z),S}function O(t,b,Z){return(t-b)/(Z-b)}function p(t,b,Z){return(Z-b)*t+b}function e(t,b){const Z=t%b;return 0===Z?b:e(b,Z)}Z.r(b),Z.d(b,{Clamp:()=>r,DeltaAngle:()=>U,Denormalize:()=>l,ExtractAsInt:()=>J,Hermite:()=>g,Hermite1stDerivative:()=>I,HighestCommonFactor:()=>e,ILog2:()=>a,InverseLerp:()=>Y,Lerp:()=>h,LerpAngle:()=>C,MoveTowards:()=>H,MoveTowardsAngle:()=>o,Normalize:()=>u,NormalizeRadians:()=>M,OutsideRange:()=>P,PercentToRange:()=>p,PingPong:()=>E,RandomRange:()=>v,RangeToPercent:()=>O,Repeat:()=>k,SmoothStep:()=>c,ToHex:()=>T,WithinEpsilon:()=>S})}}]);