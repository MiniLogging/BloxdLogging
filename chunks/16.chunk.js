"use strict";(self.ra6kpa9z1sg=self.ra6kpa9z1sg||[]).push([[16],{15250:(p,b,M)=>{M.r(b),M.d(b,{ReadExrDataAsync:()=>xp,_ExrTextureLoader:()=>zp});var h=M(12622),Q=M(12789);const mp=4,y=4,P=1,w=2,t=8,z=65536,x=z>>3,S=14,X=65537,c=1<<S,J=c-1,g=59,f=63,Y=2+f-g;var a,o;!function(p){p[p.NO_COMPRESSION=0]="NO_COMPRESSION",p[p.RLE_COMPRESSION=1]="RLE_COMPRESSION",p[p.ZIPS_COMPRESSION=2]="ZIPS_COMPRESSION",p[p.ZIP_COMPRESSION=3]="ZIP_COMPRESSION",p[p.PIZ_COMPRESSION=4]="PIZ_COMPRESSION",p[p.PXR24_COMPRESSION=5]="PXR24_COMPRESSION"}(a||(a={})),function(p){p[p.INCREASING_Y=0]="INCREASING_Y",p[p.DECREASING_Y=1]="DECREASING_Y"}(o||(o={}));const l=function(){const p=new ArrayBuffer(4),b=new Float32Array(p),M=new Uint32Array(p),h=new Uint32Array(512),Q=new Uint32Array(512);for(let w=0;w<256;++w){const p=w-127;p<-27?(h[w]=0,h[256|w]=32768,Q[w]=24,Q[256|w]=24):p<-14?(h[w]=1024>>-p-14,h[256|w]=1024>>-p-14|32768,Q[w]=-p-1,Q[256|w]=-p-1):p<=15?(h[w]=p+15<<10,h[256|w]=p+15<<10|32768,Q[w]=13,Q[256|w]=13):p<128?(h[w]=31744,h[256|w]=64512,Q[w]=24,Q[256|w]=24):(h[w]=31744,h[256|w]=64512,Q[w]=13,Q[256|w]=13)}const mp=new Uint32Array(2048),y=new Uint32Array(64),P=new Uint32Array(64);for(let w=1;w<1024;++w){let p=w<<13,b=0;for(;0===(8388608&p);)p<<=1,b-=8388608;p&=-8388609,b+=947912704,mp[w]=p|b}for(let w=1024;w<2048;++w)mp[w]=939524096+(w-1024<<13);for(let w=1;w<31;++w)y[w]=w<<23;y[31]=1199570944,y[32]=2147483648;for(let w=33;w<63;++w)y[w]=2147483648+(w-32<<23);y[63]=3347054592;for(let w=1;w<64;++w)32!==w&&(P[w]=1024);return{floatView:b,uint32View:M,baseTable:h,shiftTable:Q,mantissaTable:mp,exponentTable:y,offsetTable:P}}();function L(p,b){const M=new Uint8Array(p);let h=0;for(;0!=M[b.value+h];)h+=1;const Q=(new TextDecoder).decode(M.slice(b.value,b.value+h));return b.value=b.value+h+1,Q}function u(p,b){const M=p.getInt32(b.value,!0);return b.value+=mp,M}function e(p,b){const M=p.getUint32(b.value,!0);return b.value+=mp,M}function d(p,b){const M=p.getUint8(b.value);return b.value+=P,M}function I(p,b){const M=p.getUint16(b.value,!0);return b.value+=w,M}function G(p,b){const M=p[b.value];return b.value+=P,M}function v(p,b){let M;return M="getBigInt64"in DataView.prototype?Number(p.getBigInt64(b.value,!0)):p.getUint32(b.value+4,!0)+Number(p.getUint32(b.value,!0)<<32),b.value+=t,M}function Z(p,b){const M=p.getFloat32(b.value,!0);return b.value+=y,M}function U(p,b){return function(p){const b=(31744&p)>>10,M=1023&p;return(p>>15?-1:1)*(b?31===b?M?NaN:1/0:Math.pow(2,b-15)*(1+M/1024):M/1024*6103515625e-14)}(I(p,b))}function q(p,b){return function(p){if(Math.abs(p)>65504)throw new Error("Value out of range.Consider using float instead of half-float.");p=(0,Q.Clamp)(p,-65504,65504),l.floatView[0]=p;const b=l.uint32View[0],M=b>>23&511;return l.baseTable[M]+((8388607&b)>>l.shiftTable[M])}(Z(p,b))}function B(p,b,M,h){switch(M){case"string":case"stringvector":case"iccProfile":return function(p,b,M){const h=(new TextDecoder).decode(new Uint8Array(p).slice(b.value,b.value+M));return b.value=b.value+M,h}(p.buffer,b,h);case"chlist":return function(p,b,M){const h=b.value,Q=[];for(;b.value<h+M-1;){const M=L(p.buffer,b),h=u(p,b),mp=d(p,b);b.value+=3;const y=u(p,b),P=u(p,b);Q.push({name:M,pixelType:h,pLinear:mp,xSampling:y,ySampling:P})}return b.value+=1,Q}(p,b,h);case"chromaticities":return function(p,b){return{redX:Z(p,b),redY:Z(p,b),greenX:Z(p,b),greenY:Z(p,b),blueX:Z(p,b),blueY:Z(p,b),whiteX:Z(p,b),whiteY:Z(p,b)}}(p,b);case"compression":return function(p,b){return d(p,b)}(p,b);case"box2i":return function(p,b){return{xMin:u(p,b),yMin:u(p,b),xMax:u(p,b),yMax:u(p,b)}}(p,b);case"lineOrder":return function(p,b){const M=d(p,b);return o[M]}(p,b);case"float":return Z(p,b);case"v2f":return function(p,b){return[Z(p,b),Z(p,b)]}(p,b);case"v3f":return function(p,b){return[Z(p,b),Z(p,b),Z(p,b)]}(p,b);case"int":return u(p,b);case"rational":return function(p,b){return[u(p,b),e(p,b)]}(p,b);case"timecode":return function(p,b){return[e(p,b),e(p,b)]}(p,b);case"preview":return b.value+=h,"skipped";default:return void(b.value+=h)}}function s(p){for(let b=1;b<p.length;b++){const M=p[b-1]+p[b]-128;p[b]=M}}function i(p,b){let M=0,h=Math.floor((p.length+1)/2),Q=0;const mp=p.length-1;for(;!(Q>mp)&&(b[Q++]=p[M++],!(Q>mp));)b[Q++]=p[h++]}const T=20000630;function W(p,b){if(p.getUint32(0,!0)!=T)throw new Error("Incorrect OpenEXR format");const M=p.getUint8(4),Q=p.getUint8(5),mp={singleTile:!!(2&Q),longName:!!(4&Q),deepFormat:!!(8&Q),multiPart:!!(16&Q)};b.value=8;const y={};let P=!0;for(;P;){const M=L(p.buffer,b);if(M){const Q=L(p.buffer,b),mp=B(p,b,Q,e(p,b));void 0===mp?h.d.Warn(`Unknown header attribute type ${Q}'.`):y[M]=mp}else P=!1}if(0!=(-5&Q))throw new Error("Unsupported file format");return{version:M,spec:mp,...y}}const H=32768,E=65535;function j(p,b,M,h,Q){for(;M<p;)b=b<<8|G(h,Q),M+=8;return{l:b>>(M-=p)&(1<<p)-1,c:b,lc:M}}function V(p,b,M,h){return{c:p=p<<8|G(M,h),lc:b+=8}}function D(p,b,M,h,Q,mp,y,P,w){if(p==b){if(h<8){const p=V(M,h,Q,mp);M=p.c,h=p.lc}let p=M>>(h-=8);if(p=new Uint8Array([p])[0],P.value+p>w)return null;const b=y[P.value-1];for(;p-- >0;)y[P.value++]=b}else{if(!(P.value<w))return null;y[P.value++]=p}return{c:M,lc:h}}const N=new Array(59);function O(p,b,M,h,Q,mp){const y=b;let P=0,w=0;for(;h<=Q;h++){if(y.value-b.value>M)return;let t=j(6,P,w,p,y);const z=t.l;if(P=t.c,w=t.lc,mp[h]=z,z==f){if(y.value-b.value>M)throw new Error("Error in HufUnpackEncTable");t=j(8,P,w,p,y);let z=t.l+Y;if(P=t.c,w=t.lc,h+z>Q+1)throw new Error("Error in HufUnpackEncTable");for(;z--;)mp[h++]=0;h--}else if(z>=g){let p=z-g+2;if(h+p>Q+1)throw new Error("Error in HufUnpackEncTable");for(;p--;)mp[h++]=0;h--}}!function(p){for(let M=0;M<=58;++M)N[M]=0;for(let M=0;M<X;++M)N[p[M]]+=1;let b=0;for(let M=58;M>0;--M){const p=b+N[M]>>1;N[M]=b,b=p}for(let M=0;M<X;++M){const b=p[M];b>0&&(p[M]=b|N[b]++<<6)}}(mp)}function R(p){return 63&p}function K(p){return p>>6}function r(p,b,M,h,Q,mp){const y=M.value,P=e(b,M),w=e(b,M);M.value+=4;const t=e(b,M);if(M.value+=4,P<0||P>=X||w<0||w>=X)throw new Error("Wrong HUF_ENCSIZE");const z=new Array(X),x=new Array(c);!function(p){for(let b=0;b<c;b++)p[b]={},p[b].len=0,p[b].lit=0,p[b].p=null}(x);if(O(p,M,h-(M.value-y),P,w,z),t>8*(h-(M.value-y)))throw new Error("Wrong hufUncompress");!function(p,b,M,h){for(;b<=M;b++){const M=K(p[b]),Q=R(p[b]);if(M>>Q)throw new Error("Invalid table entry");if(Q>S){const p=h[M>>Q-S];if(p.len)throw new Error("Invalid table entry");if(p.lit++,p.p){const b=p.p;p.p=new Array(p.lit);for(let M=0;M<p.lit-1;++M)p.p[M]=b[M]}else p.p=new Array(1);p.p[p.lit-1]=b}else if(Q){let p=0;for(let mp=1<<S-Q;mp>0;mp--){const mp=h[(M<<S-Q)+p];if(mp.len||mp.p)throw new Error("Invalid table entry");mp.len=Q,mp.lit=b,p++}}}}(z,P,w,x),function(p,b,M,h,Q,mp,y,P,w){let t=0,z=0;const x=y,X=Math.trunc(h.value+(Q+7)/8);for(;h.value<X;){let Q=V(t,z,M,h);for(t=Q.c,z=Q.lc;z>=S;){const y=b[t>>z-S&J];if(y.len){z-=y.len;const p=D(y.lit,mp,t,z,M,h,P,w,x);p&&(t=p.c,z=p.lc)}else{if(!y.p)throw new Error("hufDecode issues");let b;for(b=0;b<y.lit;b++){const S=R(p[y.p[b]]);for(;z<S&&h.value<X;)Q=V(t,z,M,h),t=Q.c,z=Q.lc;if(z>=S&&K(p[y.p[b]])==(t>>z-S&(1<<S)-1)){z-=S;const p=D(y.p[b],mp,t,z,M,h,P,w,x);p&&(t=p.c,z=p.lc);break}}if(b==y.lit)throw new Error("HufDecode issues")}}}const c=8-Q&7;for(t>>=c,z-=c;z>0;){const p=b[t<<S-z&J];if(!p.len)throw new Error("HufDecode issues");{z-=p.len;const b=D(p.lit,mp,t,z,M,h,P,w,x);b&&(t=b.c,z=b.lc)}}}(z,x,p,M,t,w,mp,Q,{value:0})}function k(p){return 65535&p}function A(p){const b=k(p);return b>32767?b-65536:b}function n(p,b){const M=A(p),h=A(b),Q=M+(1&h)+(h>>1);return{a:Q,b:Q-h}}function C(p,b){const M=k(p),h=k(b),Q=M-(h>>1)&E;return{a:h+Q-H&E,b:Q}}function F(p,b,M,h,Q,mp,y){const P=y<16384,w=M>Q?Q:M;let t,z,x=1;for(;x<=w;)x<<=1;for(x>>=1,t=x,x>>=1;x>=1;){z=0;const y=z+mp*(Q-t),w=mp*x,S=mp*t,X=h*x,c=h*t;let J,g,f,Y;for(;z<=y;z+=S){let Q=z;const mp=z+h*(M-t);for(;Q<=mp;Q+=c){const M=Q+X,h=Q+w,mp=h+X;if(P){let y=n(p[Q+b],p[h+b]);J=y.a,f=y.b,y=n(p[M+b],p[mp+b]),g=y.a,Y=y.b,y=n(J,g),p[Q+b]=y.a,p[M+b]=y.b,y=n(f,Y),p[h+b]=y.a,p[mp+b]=y.b}else{let y=C(p[Q+b],p[h+b]);J=y.a,f=y.b,y=C(p[M+b],p[mp+b]),g=y.a,Y=y.b,y=C(J,g),p[Q+b]=y.a,p[M+b]=y.b,y=C(f,Y),p[h+b]=y.a,p[mp+b]=y.b}}if(M&x){const M=Q+w;let h;h=P?n(p[Q+b],p[M+b]):C(p[Q+b],p[M+b]),J=h.a,p[M+b]=h.b,p[Q+b]=J}}if(Q&x){let Q=z;const mp=z+h*(M-t);for(;Q<=mp;Q+=c){const M=Q+X;let h;h=P?n(p[Q+b],p[M+b]):C(p[Q+b],p[M+b]),J=h.a,p[M+b]=h.b,p[Q+b]=J}}t=x,x>>=1}return z}function pp(p){return new DataView(p.array.buffer,p.offset.value,p.size)}function bp(p){const b=p.viewer.buffer.slice(p.offset.value,p.offset.value+p.size),M=new Uint8Array(function(p){let b=p.byteLength;const M=[];let h=0;const Q=new DataView(p);for(;b>0;){const p=Q.getInt8(h++);if(p<0){const mp=-p;b-=mp+1;for(let p=0;p<mp;p++)M.push(Q.getUint8(h++))}else{const mp=p;b-=2;const y=Q.getUint8(h++);for(let p=0;p<mp+1;p++)M.push(y)}}return M}(b)),h=new Uint8Array(M.length);return s(M),i(M,h),new DataView(h.buffer)}function Mp(p){const b=p.array.slice(p.offset.value,p.offset.value+p.size),M=fflate.unzlibSync(b),h=new Uint8Array(M.length);return s(M),i(M,h),new DataView(h.buffer)}function hp(p){const b=p.array.slice(p.offset.value,p.offset.value+p.size),M=fflate.unzlibSync(b),h=p.lines*p.channels*p.width,Q=1==p.type?new Uint16Array(h):new Uint32Array(h);let mp=0,y=0;const P=new Array(4);for(let w=0;w<p.lines;w++)for(let b=0;b<p.channels;b++){let b=0;switch(p.type){case 1:P[0]=mp,P[1]=P[0]+p.width,mp=P[1]+p.width;for(let h=0;h<p.width;++h){b+=M[P[0]++]<<8|M[P[1]++],Q[y]=b,y++}break;case 2:P[0]=mp,P[1]=P[0]+p.width,P[2]=P[1]+p.width,mp=P[2]+p.width;for(let h=0;h<p.width;++h){b+=M[P[0]++]<<24|M[P[1]++]<<16|M[P[2]++]<<8,Q[y]=b,y++}}}return new DataView(Q.buffer)}function Qp(p){const b=p.viewer,M={value:p.offset.value},h=new Uint16Array(p.width*p.scanlineBlockSize*(p.channels*p.type)),Q=new Uint8Array(x);let mp=0;const y=new Array(p.channels);for(let w=0;w<p.channels;w++)y[w]={},y[w].start=mp,y[w].end=y[w].start,y[w].nx=p.width,y[w].ny=p.lines,y[w].size=p.type,mp+=y[w].nx*y[w].ny*y[w].size;const P=I(b,M),t=I(b,M);if(t>=x)throw new Error("Wrong PIZ_COMPRESSION BITMAP_SIZE");if(P<=t)for(let w=0;w<t-P+1;w++)Q[w+P]=d(b,M);const S=new Uint16Array(z),X=function(p,b){let M=0;for(let Q=0;Q<z;++Q)(0==Q||p[Q>>3]&1<<(7&Q))&&(b[M++]=Q);const h=M-1;for(;M<z;)b[M++]=0;return h}(Q,S),c=e(b,M);r(p.array,b,M,c,h,mp);for(let w=0;w<p.channels;++w){const p=y[w];for(let b=0;b<y[w].size;++b)F(h,p.start+b,p.nx,p.size,p.ny,p.nx*p.size,X)}!function(p,b,M){for(let h=0;h<M;++h)b[h]=p[b[h]]}(S,h,mp);let J=0;const g=new Uint8Array(h.buffer.byteLength);for(let z=0;z<p.lines;z++)for(let b=0;b<p.channels;b++){const p=y[b],M=p.nx*p.size,Q=new Uint8Array(h.buffer,p.end*w,M*w);g.set(Q,J),J+=M*w,p.end+=M}return new DataView(g.buffer)}var mb,yp=M(12608);!function(p){p[p.Float=0]="Float",p[p.HalfFloat=1]="HalfFloat"}(mb||(mb={}));class Pp{}async function wp(p,b,M,h){const Q={size:0,viewer:b,array:new Uint8Array(b.buffer),offset:M,width:p.dataWindow.xMax-p.dataWindow.xMin+1,height:p.dataWindow.yMax-p.dataWindow.yMin+1,channels:p.channels.length,channelLineOffsets:{},scanOrder:()=>0,bytesPerLine:0,outLineWidth:0,lines:0,scanlineBlockSize:0,inputSize:null,type:0,uncompress:null,getter:()=>0,format:5,outputChannels:0,decodeChannels:{},blockCount:null,byteArray:null,linearSpace:!1,textureType:0};switch(p.compression){case a.NO_COMPRESSION:Q.lines=1,Q.uncompress=pp;break;case a.RLE_COMPRESSION:Q.lines=1,Q.uncompress=bp;break;case a.ZIPS_COMPRESSION:Q.lines=1,Q.uncompress=Mp,await yp.Tools.LoadScriptAsync(Pp.FFLATEUrl);break;case a.ZIP_COMPRESSION:Q.lines=16,Q.uncompress=Mp,await yp.Tools.LoadScriptAsync(Pp.FFLATEUrl);break;case a.PIZ_COMPRESSION:Q.lines=32,Q.uncompress=Qp;break;case a.PXR24_COMPRESSION:Q.lines=16,Q.uncompress=hp,await yp.Tools.LoadScriptAsync(Pp.FFLATEUrl);break;default:throw new Error(a[p.compression]+" is unsupported")}Q.scanlineBlockSize=Q.lines;const mp={};for(const y of p.channels)switch(y.name){case"R":case"G":case"B":case"A":case"Y":mp[y.name]=!0,Q.type=y.pixelType}let P=!1;if(mp.R&&mp.G&&mp.B&&mp.A)Q.outputChannels=4,Q.decodeChannels={R:0,G:1,B:2,A:3};else if(mp.R&&mp.G&&mp.B)P=!0,Q.outputChannels=4,Q.decodeChannels={R:0,G:1,B:2,A:3};else if(mp.R&&mp.G)Q.outputChannels=2,Q.decodeChannels={R:0,G:1};else if(mp.R)Q.outputChannels=1,Q.decodeChannels={R:0};else{if(!mp.Y)throw new Error("EXRLoader.parse: file contains unsupported data channels.");Q.outputChannels=1,Q.decodeChannels={Y:0}}if(1===Q.type)switch(h){case mb.Float:Q.getter=U,Q.inputSize=w;break;case mb.HalfFloat:Q.getter=I,Q.inputSize=w}else{if(2!==Q.type)throw new Error("Unsupported pixelType "+Q.type+" for "+p.compression);switch(h){case mb.Float:Q.getter=Z,Q.inputSize=y;break;case mb.HalfFloat:Q.getter=q,Q.inputSize=y}}Q.blockCount=Q.height/Q.scanlineBlockSize;for(let y=0;y<Q.blockCount;y++)v(b,M);const t=Q.width*Q.height*Q.outputChannels;switch(h){case mb.Float:Q.byteArray=new Float32Array(t),Q.textureType=1,P&&Q.byteArray.fill(1,0,t);break;case mb.HalfFloat:Q.byteArray=new Uint16Array(t),Q.textureType=2,P&&Q.byteArray.fill(15360,0,t);break;default:throw new Error("Unsupported type: "+h)}let z=0;for(const y of p.channels)void 0!==Q.decodeChannels[y.name]&&(Q.channelLineOffsets[y.name]=z*Q.width),z+=2*y.pixelType;return Q.bytesPerLine=Q.width*z,Q.outLineWidth=Q.width*Q.outputChannels,"INCREASING_Y"===p.lineOrder?Q.scanOrder=p=>p:Q.scanOrder=p=>Q.height-1-p,4==Q.outputChannels?(Q.format=5,Q.linearSpace=!0):(Q.format=6,Q.linearSpace=!1),Q}function tp(p,b,M,h){const Q={value:0};for(let mp=0;mp<p.height/p.scanlineBlockSize;mp++){const y=u(M,h)-b.dataWindow.yMin;p.size=e(M,h),p.lines=y+p.scanlineBlockSize>p.height?p.height-y:p.scanlineBlockSize;const P=p.size<p.lines*p.bytesPerLine&&p.uncompress?p.uncompress(p):pp(p);h.value+=p.size;for(let M=0;M<p.scanlineBlockSize;M++){const h=mp*p.scanlineBlockSize,y=M+p.scanOrder(h);if(y>=p.height)continue;const w=M*p.bytesPerLine,t=(p.height-1-y)*p.outLineWidth;for(let M=0;M<p.channels;M++){const h=b.channels[M].name,mp=p.channelLineOffsets[h],y=p.decodeChannels[h];if(void 0!==y){Q.value=w+mp;for(let b=0;b<p.width;b++){const M=t+b*p.outputChannels+y;p.byteArray&&(p.byteArray[M]=p.getter(P,Q))}}}}}}Pp.DefaultOutputType=mb.HalfFloat,Pp.FFLATEUrl="https://unpkg.com/fflate@0.8.2";class zp{constructor(){this.supportCascades=!1}loadCubeData(p,b,M,h,Q){throw".exr not supported in Cube."}loadData(p,b,M){const Q=new DataView(p.buffer),mp={value:0},y=W(Q,mp);wp(y,Q,mp,Pp.DefaultOutputType).then((p=>{tp(p,y,Q,mp);const h=y.dataWindow.xMax-y.dataWindow.xMin+1,P=y.dataWindow.yMax-y.dataWindow.yMin+1;M(h,P,b.generateMipMaps,!1,(()=>{const M=b.getEngine();b.format=y.format,b.type=p.textureType,b.invertY=!1,b._gammaSpace=!y.linearSpace,p.byteArray&&M._uploadDataToTextureDirectly(b,p.byteArray,0,0,void 0,!0)}))})).catch((p=>{h.d.Error("Failed to load EXR texture: ",p)}))}}async function xp(p){const b=new DataView(p),M={value:0},Q=W(b,M);try{const p=await wp(Q,b,M,mb.Float);return tp(p,Q,b,M),p.byteArray?{width:Q.dataWindow.xMax-Q.dataWindow.xMin+1,height:Q.dataWindow.yMax-Q.dataWindow.yMin+1,data:new Float32Array(p.byteArray)}:(h.d.Error("Failed to decode EXR data: No byte array available."),{width:0,height:0,data:null})}catch(mp){h.d.Error("Failed to load EXR data: ",mp)}return{width:0,height:0,data:null}}},12789:(p,b,M)=>{function h(p){return parseInt(p.toString().replace(/\W/g,""))}function Q(p,b){let M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1401298e-51;return Math.abs(p-b)<=M}function mp(p,b,M){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1401298e-51;return p<b-h||p>M+h}function y(p,b){return p===b?p:Math.random()*(b-p)+p}function P(p,b,M){return p+(b-p)*M}function w(p,b,M){let h=g(b-p,360);return h>180&&(h-=360),p+h*S(M)}function t(p,b,M){let h=0;return h=p!=b?S((M-p)/(b-p)):0,h}function z(p,b,M,h,Q){const mp=Q*Q,y=Q*mp;return p*(2*y-3*mp+1)+M*(-2*y+3*mp)+b*(y-2*mp+Q)+h*(y-mp)}function x(p,b,M,h,Q){const mp=Q*Q;return 6*(mp-Q)*p+(3*mp-4*Q+1)*b+6*(-mp+Q)*M+(3*mp-2*Q)*h}function S(p){let b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(M,Math.max(b,p))}function X(p){return p-=2*Math.PI*Math.floor((p+Math.PI)/(2*Math.PI))}function c(p){const b=p.toString(16);return p<=15?("0"+b).toUpperCase():b.toUpperCase()}function J(p){if(Math.log2)return Math.floor(Math.log2(p));if(p<0)return NaN;if(0===p)return-1/0;let b=0;if(p<1){for(;p<1;)b++,p*=2;b=-b}else if(p>1)for(;p>1;)b++,p=Math.floor(p/2);return b}function g(p,b){return p-Math.floor(p/b)*b}function f(p,b,M){return(p-b)/(M-b)}function Y(p,b,M){return p*(M-b)+b}function a(p,b){let M=g(b-p,360);return M>180&&(M-=360),M}function o(p,b){const M=g(p,2*b);return b-Math.abs(M-b)}function l(p,b,M){let h=S(M);return h=-2*h*h*h+3*h*h,b*h+p*(1-h)}function L(p,b,M){let h=0;return h=Math.abs(b-p)<=M?b:p+Math.sign(b-p)*M,h}function u(p,b,M){const h=a(p,b);let Q=0;return Q=-M<h&&h<M?b:L(p,b=p+h,M),Q}function e(p,b,M){return(p-b)/(M-b)}function d(p,b,M){return(M-b)*p+b}function I(p,b){const M=p%b;return 0===M?b:I(b,M)}M.r(b),M.d(b,{Clamp:()=>S,DeltaAngle:()=>a,Denormalize:()=>Y,ExtractAsInt:()=>h,Hermite:()=>z,Hermite1stDerivative:()=>x,HighestCommonFactor:()=>I,ILog2:()=>J,InverseLerp:()=>t,Lerp:()=>P,LerpAngle:()=>w,MoveTowards:()=>L,MoveTowardsAngle:()=>u,Normalize:()=>f,NormalizeRadians:()=>X,OutsideRange:()=>mp,PercentToRange:()=>d,PingPong:()=>o,RandomRange:()=>y,RangeToPercent:()=>e,Repeat:()=>g,SmoothStep:()=>l,ToHex:()=>c,WithinEpsilon:()=>Q})}}]);