"use strict";(self.webpackChunkbloxd=self.webpackChunkbloxd||[]).push([[62],{13936:(z,u,Y)=>{Y.r(u),Y.d(u,{FlowGraphInterpolationBlock:()=>T});var H=Y(12549),E=Y(12531),J=Y(11619),l=Y(10918);class T extends H.b{constructor(){let z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(z),this.keyFrames=[];const u="string"===typeof(null===z||void 0===z?void 0:z.animationType)?(0,E.K)(z.animationType):(0,E.G)((null===z||void 0===z?void 0:z.animationType)??0),Y=(null===z||void 0===z?void 0:z.keyFramesCount)??1,H=this.registerDataInput("duration_0",E.p,0),J=this.registerDataInput("value_0",u);this.keyFrames.push({duration:H,value:J});for(let l=1;l<Y+1;l++){const H=this.registerDataInput(`duration_${l}`,E.p,l===Y?z.duration:void 0),J=this.registerDataInput(`value_${l}`,u);this.keyFrames.push({duration:H,value:J})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[Y].value,this.easingFunction=this.registerDataInput("easingFunction",E.e),this.animation=this.registerDataOutput("animation",E.e),this.propertyName=this.registerDataInput("propertyName",E.e,null===z||void 0===z?void 0:z.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",E.e)}_updateOutputs(z){const u=z._getGlobalContextVariable("interpolationAnimations",[]),Y=this.propertyName.getValue(z),H=this.easingFunction.getValue(z),E=this._createAnimation(z,Y,H);if(this.animation.setValue(E,z),Array.isArray(E))for(const J of E)u.push(J.uniqueId);else u.push(E.uniqueId);z._setGlobalContextVariable("interpolationAnimations",u)}_createAnimation(z,u,Y){var H;const E=this.initialValue.richType,l=[],T=this.initialValue.getValue(z)||E.defaultValue;l.push({frame:0,value:T});const b=(null===(H=this.config)||void 0===H?void 0:H.numberOfKeyFrames)??1;for(let J=1;J<b+1;J++){var L,D;const u=null===(L=this.keyFrames[J].duration)||void 0===L?void 0:L.getValue(z);let Y=null===(D=this.keyFrames[J].value)||void 0===D?void 0:D.getValue(z);J===b-1&&(Y=Y||E.defaultValue),void 0!==u&&Y&&l.push({frame:60*u,value:Y})}const g=this.customBuildAnimation.getValue(z);if(g)return g(null,null,z)(l,60,E.animationType,Y);if("string"===typeof u){const z=J.e.CreateAnimation(u,E.animationType,60,Y);return z.setKeys(l),[z]}return u.map((z=>{const u=J.e.CreateAnimation(z,E.animationType,60,Y);return u.setKeys(l),u}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,l.d)("FlowGraphInterpolationBlock",T)}}]);