"use strict";(self.h6ljd275xwr=self.h6ljd275xwr||[]).push([[116],{14726:(n,y,H)=>{H.r(y),H.d(y,{FlowGraphSetVariableBlock:()=>k});var o=H(11248),G=H(13162),h=H(13117);class k extends G.b{constructor(n){if(super(n),!n.variable&&!n.variables)throw new Error("FlowGraphSetVariableBlock: variable/variables is not defined");if(n.variables&&n.variable)throw new Error("FlowGraphSetVariableBlock: variable and variables are both defined");if(n.variables)for(const y of n.variables)this.registerDataInput(y,h.c);else this.registerDataInput("value",h.c)}_execute(n,y){var H,o;if(null!==(H=this.config)&&void 0!==H&&H.variables)for(const G of this.config.variables)this._saveVariable(n,G);else this._saveVariable(n,null===(o=this.config)||void 0===o?void 0:o.variable,"value");this.out._activateSignal(n)}_saveVariable(n,y,H){var o;const G=n._getGlobalContextVariable("currentlyRunningAnimationGroups",[]);for(const k of G){const H=n.assetsContext.animationGroups.find((n=>n.uniqueId==k));if(H)for(const o of H.targetedAnimations)if(o.target===n&&o.animation.targetProperty===y){H.stop();const y=G.indexOf(k);y>-1&&G.splice(y,1),n._setGlobalContextVariable("currentlyRunningAnimationGroups",G);break}}const h=null===(o=this.getDataInput(H||y))||void 0===o?void 0:o.getValue(n);n.setVariable(y,h)}getClassName(){return"FlowGraphSetVariableBlock"}serialize(n){var y;super.serialize(n),n.config.variable=null===(y=this.config)||void 0===y?void 0:y.variable}}(0,o.h)("FlowGraphSetVariableBlock",k)}}]);