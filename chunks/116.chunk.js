"use strict";(self.ozi0exxand9=self.ozi0exxand9||[]).push([[116],{14694:(f,v,Z)=>{Z.r(v),Z.d(v,{FlowGraphSetVariableBlock:()=>l});var V=Z(11372),h=Z(13173),J=Z(13123);class l extends h.c{constructor(f){if(super(f),!f.variable&&!f.variables)throw new Error("FlowGraphSetVariableBlock: variable/variables is not defined");if(f.variables&&f.variable)throw new Error("FlowGraphSetVariableBlock: variable and variables are both defined");if(f.variables)for(const v of f.variables)this.registerDataInput(v,J.d);else this.registerDataInput("value",J.d)}_execute(f,v){var Z,V;if(null!==(Z=this.config)&&void 0!==Z&&Z.variables)for(const h of this.config.variables)this._saveVariable(f,h);else this._saveVariable(f,null===(V=this.config)||void 0===V?void 0:V.variable,"value");this.out._activateSignal(f)}_saveVariable(f,v,Z){var V;const h=f._getGlobalContextVariable("currentlyRunningAnimationGroups",[]);for(const l of h){const Z=f.assetsContext.animationGroups.find((f=>f.uniqueId==l));if(Z)for(const V of Z.targetedAnimations)if(V.target===f&&V.animation.targetProperty===v){Z.stop();const v=h.indexOf(l);v>-1&&h.splice(v,1),f._setGlobalContextVariable("currentlyRunningAnimationGroups",h);break}}const J=null===(V=this.getDataInput(Z||v))||void 0===V?void 0:V.getValue(f);f.setVariable(v,J)}getClassName(){return"FlowGraphSetVariableBlock"}serialize(f){var v;super.serialize(f),f.config.variable=null===(v=this.config)||void 0===v?void 0:v.variable}}(0,V.h)("FlowGraphSetVariableBlock",l)}}]);