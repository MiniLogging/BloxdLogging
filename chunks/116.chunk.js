"use strict";(self.vfdo5lmva5i=self.vfdo5lmva5i||[]).push([[116],{15214:(w,o,H)=>{H.r(o),H.d(o,{FlowGraphSetVariableBlock:()=>D});var h=H(11666),E=H(13507),e=H(13455);class D extends E.e{constructor(w){if(super(w),!w.variable&&!w.variables)throw new Error("FlowGraphSetVariableBlock: variable/variables is not defined");if(w.variables&&w.variable)throw new Error("FlowGraphSetVariableBlock: variable and variables are both defined");if(w.variables)for(const o of w.variables)this.registerDataInput(o,e.e);else this.registerDataInput("value",e.e)}_execute(w,o){var H,h;if(null!==(H=this.config)&&void 0!==H&&H.variables)for(const E of this.config.variables)this._saveVariable(w,E);else this._saveVariable(w,null===(h=this.config)||void 0===h?void 0:h.variable,"value");this.out._activateSignal(w)}_saveVariable(w,o,H){var h;const E=w._getGlobalContextVariable("currentlyRunningAnimationGroups",[]);for(const D of E){const H=w.assetsContext.animationGroups.find((w=>w.uniqueId==D));if(H)for(const h of H.targetedAnimations)if(h.target===w&&h.animation.targetProperty===o){H.stop();const o=E.indexOf(D);o>-1&&E.splice(o,1),w._setGlobalContextVariable("currentlyRunningAnimationGroups",E);break}}const e=null===(h=this.getDataInput(H||o))||void 0===h?void 0:h.getValue(w);w.setVariable(o,e)}getClassName(){return"FlowGraphSetVariableBlock"}serialize(w){var o;super.serialize(w),w.config.variable=null===(o=this.config)||void 0===o?void 0:o.variable}}(0,h.g)("FlowGraphSetVariableBlock",D)}}]);