"use strict";(self.i6szn8jgzh=self.i6szn8jgzh||[]).push([[116],{15246:(b,n,i)=>{i.r(n),i.d(n,{FlowGraphSetVariableBlock:()=>U});var e=i(11734),V=i(13582),Q=i(13522);class U extends V.d{constructor(b){if(super(b),!b.variable&&!b.variables)throw new Error("FlowGraphSetVariableBlock: variable/variables is not defined");if(b.variables&&b.variable)throw new Error("FlowGraphSetVariableBlock: variable and variables are both defined");if(b.variables)for(const n of b.variables)this.registerDataInput(n,Q.c);else this.registerDataInput("value",Q.c)}_execute(b,n){var i,e;if(null!==(i=this.config)&&void 0!==i&&i.variables)for(const V of this.config.variables)this._saveVariable(b,V);else this._saveVariable(b,null===(e=this.config)||void 0===e?void 0:e.variable,"value");this.out._activateSignal(b)}_saveVariable(b,n,i){var e;const V=b._getGlobalContextVariable("currentlyRunningAnimationGroups",[]);for(const U of V){const i=b.assetsContext.animationGroups.find((b=>b.uniqueId==U));if(i)for(const e of i.targetedAnimations)if(e.target===b&&e.animation.targetProperty===n){i.stop();const n=V.indexOf(U);n>-1&&V.splice(n,1),b._setGlobalContextVariable("currentlyRunningAnimationGroups",V);break}}const Q=null===(e=this.getDataInput(i||n))||void 0===e?void 0:e.getValue(b);b.setVariable(n,Q)}getClassName(){return"FlowGraphSetVariableBlock"}serialize(b){var n;super.serialize(b),b.config.variable=null===(n=this.config)||void 0===n?void 0:n.variable}}(0,e.i)("FlowGraphSetVariableBlock",U)}}]);